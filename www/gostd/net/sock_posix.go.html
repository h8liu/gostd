<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html" class="current">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3360832">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3360888">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3360942">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3360993">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;nacl&nbsp;netbsd&nbsp;openbsd&nbsp;solaris&nbsp;windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3361071">package</span>&nbsp;<span class="ident" id="3361079">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3361084">import</span>&nbsp;<span class="op" id="3361091">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3361094">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3361100">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3361111">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3361118">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3361121">//&nbsp;A&nbsp;sockaddr&nbsp;represents&nbsp;a&nbsp;TCP,&nbsp;UDP,&nbsp;IP&nbsp;or&nbsp;Unix&nbsp;network&nbsp;endpoint</span><br>
<span class="lineno"></span><span class="comment" id="3361186">//&nbsp;address&nbsp;that&nbsp;can&nbsp;be&nbsp;converted&nbsp;into&nbsp;a&nbsp;syscall.Sockaddr.</span><br>
<span class="lineno"></span><span class="keyword" id="3361244">type</span>&nbsp;<span class="ident" id="3361249">sockaddr</span>&nbsp;<span class="keyword" id="3361258">interface</span>&nbsp;<span class="op" id="3361268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3361271"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3361278"><a href="/gostd/net/ipsock.go.html#3310146">netaddr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361288">//&nbsp;family&nbsp;returns&nbsp;the&nbsp;platform-dependent&nbsp;address&nbsp;family</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361345">//&nbsp;identifier.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3361361">family</span><span class="op" id="3361367">(</span><span class="op" id="3361368">)</span>&nbsp;<span class="builtintype" id="3361370">int</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361376">//&nbsp;isWildcard&nbsp;reports&nbsp;whether&nbsp;the&nbsp;address&nbsp;is&nbsp;a&nbsp;wildcard</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361433">//&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3361446">isWildcard</span><span class="op" id="3361456">(</span><span class="op" id="3361457">)</span>&nbsp;<span class="builtintype" id="3361459">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361466">//&nbsp;sockaddr&nbsp;returns&nbsp;the&nbsp;address&nbsp;converted&nbsp;into&nbsp;a&nbsp;syscall</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361524">//&nbsp;sockaddr&nbsp;type&nbsp;that&nbsp;implements&nbsp;syscall.Sockaddr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361575">//&nbsp;interface.&nbsp;It&nbsp;returns&nbsp;a&nbsp;nil&nbsp;interface&nbsp;when&nbsp;the&nbsp;address&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361637">//&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3361646">sockaddr</span><span class="op" id="3361654">(</span><span class="ident" id="3361655">family</span>&nbsp;<span class="builtintype" id="3361662">int</span><span class="op" id="3361665">)</span>&nbsp;<span class="op" id="3361667">(</span><span class="ident" id="3361668"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3361675">.</span><span class="ident" id="3361676"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="3361684">,</span>&nbsp;<span class="builtintype" id="3361686">error</span><span class="op" id="3361691">)</span><br>
<span class="lineno">35</span><span class="op" id="3361693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3361696">//&nbsp;socket&nbsp;returns&nbsp;a&nbsp;network&nbsp;file&nbsp;descriptor&nbsp;that&nbsp;is&nbsp;ready&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="3361758">//&nbsp;asynchronous&nbsp;I/O&nbsp;using&nbsp;the&nbsp;network&nbsp;poller.</span><br>
<span class="lineno"></span><span class="keyword" id="3361804">func</span>&nbsp;<span class="ident" id="3361809">socket</span><span class="op" id="3361815">(</span><span class="ident" id="3361816">net</span>&nbsp;<span class="builtintype" id="3361820">string</span><span class="op" id="3361826">,</span>&nbsp;<span class="ident" id="3361828">family</span><span class="op" id="3361834">,</span>&nbsp;<span class="ident" id="3361836">sotype</span><span class="op" id="3361842">,</span>&nbsp;<span class="ident" id="3361844">proto</span>&nbsp;<span class="builtintype" id="3361850">int</span><span class="op" id="3361853">,</span>&nbsp;<span class="ident" id="3361855">ipv6only</span>&nbsp;<span class="builtintype" id="3361864">bool</span><span class="op" id="3361868">,</span>&nbsp;<span class="ident" id="3361870">laddr</span><span class="op" id="3361875">,</span>&nbsp;<span class="ident" id="3361877">raddr</span>&nbsp;<span class="ident" id="3361883"><a href="/gostd/net/sock_posix.go.html#3361249">sockaddr</a></span><span class="op" id="3361891">,</span>&nbsp;<span class="ident" id="3361893">deadline</span>&nbsp;<span class="ident" id="3361902"><a href="/gostd/net/sock_posix.go.html#3361111">time</a></span><span class="op" id="3361906">.</span><span class="ident" id="3361907"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3361911">)</span>&nbsp;<span class="op" id="3361913">(</span><span class="ident" id="3361914">fd</span>&nbsp;<span class="op" id="3361917">*</span><span class="ident" id="3361918"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3361923">,</span>&nbsp;<span class="ident" id="3361925">err</span>&nbsp;<span class="builtintype" id="3361929">error</span><span class="op" id="3361934">)</span>&nbsp;<span class="op" id="3361936">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3361939">s</span><span class="op" id="3361940">,</span>&nbsp;<span class="ident" id="3361942"><a href="/gostd/net/sock_posix.go.html#3361925">err</a></span>&nbsp;<span class="op" id="3361946">:=</span>&nbsp;<span class="ident" id="3361949"><a href="/gostd/net/sock_cloexec.go.html#3357951">sysSocket</a></span><span class="op" id="3361958">(</span><span class="ident" id="3361959"><a href="/gostd/net/sock_posix.go.html#3361828">family</a></span><span class="op" id="3361965">,</span>&nbsp;<span class="ident" id="3361967"><a href="/gostd/net/sock_posix.go.html#3361836">sotype</a></span><span class="op" id="3361973">,</span>&nbsp;<span class="ident" id="3361975"><a href="/gostd/net/sock_posix.go.html#3361844">proto</a></span><span class="op" id="3361980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3361983">if</span>&nbsp;<span class="ident" id="3361986"><a href="/gostd/net/sock_posix.go.html#3361925">err</a></span>&nbsp;<span class="op" id="3361990">!=</span>&nbsp;<span class="builtintype" id="3361993">nil</span>&nbsp;<span class="op" id="3361997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3362001">return</span>&nbsp;<span class="builtintype" id="3362008">nil</span><span class="op" id="3362011">,</span>&nbsp;<span class="ident" id="3362013"><a href="/gostd/net/sock_posix.go.html#3361925">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3362018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3362021">if</span>&nbsp;<span class="ident" id="3362024"><a href="/gostd/net/sock_posix.go.html#3361925">err</a></span>&nbsp;<span class="op" id="3362028">=</span>&nbsp;<span class="ident" id="3362030"><a href="/gostd/net/sockopt_linux.go.html#3366892">setDefaultSockopts</a></span><span class="op" id="3362048">(</span><span class="ident" id="3362049"><a href="/gostd/net/sock_posix.go.html#3361939">s</a></span><span class="op" id="3362050">,</span>&nbsp;<span class="ident" id="3362052"><a href="/gostd/net/sock_posix.go.html#3361828">family</a></span><span class="op" id="3362058">,</span>&nbsp;<span class="ident" id="3362060"><a href="/gostd/net/sock_posix.go.html#3361836">sotype</a></span><span class="op" id="3362066">,</span>&nbsp;<span class="ident" id="3362068"><a href="/gostd/net/sock_posix.go.html#3361855">ipv6only</a></span><span class="op" id="3362076">)</span><span class="op" id="3362077">;</span>&nbsp;<span class="ident" id="3362079"><a href="/gostd/net/sock_posix.go.html#3361925">err</a></span>&nbsp;<span class="op" id="3362083">!=</span>&nbsp;<span class="builtintype" id="3362086">nil</span>&nbsp;<span class="op" id="3362090">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3362094"><a href="/gostd/net/fd_unix.go.html#3269191">closesocket</a></span><span class="op" id="3362105">(</span><span class="ident" id="3362106"><a href="/gostd/net/sock_posix.go.html#3361939">s</a></span><span class="op" id="3362107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3362111">return</span>&nbsp;<span class="builtintype" id="3362118">nil</span><span class="op" id="3362121">,</span>&nbsp;<span class="ident" id="3362123"><a href="/gostd/net/sock_posix.go.html#3361925">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3362128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3362131">if</span>&nbsp;<span class="ident" id="3362134"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3362136">,</span>&nbsp;<span class="ident" id="3362138"><a href="/gostd/net/sock_posix.go.html#3361925">err</a></span>&nbsp;<span class="op" id="3362142">=</span>&nbsp;<span class="ident" id="3362144"><a href="/gostd/net/fd_unix.go.html#3257812">newFD</a></span><span class="op" id="3362149">(</span><span class="ident" id="3362150"><a href="/gostd/net/sock_posix.go.html#3361939">s</a></span><span class="op" id="3362151">,</span>&nbsp;<span class="ident" id="3362153"><a href="/gostd/net/sock_posix.go.html#3361828">family</a></span><span class="op" id="3362159">,</span>&nbsp;<span class="ident" id="3362161"><a href="/gostd/net/sock_posix.go.html#3361836">sotype</a></span><span class="op" id="3362167">,</span>&nbsp;<span class="ident" id="3362169"><a href="/gostd/net/sock_posix.go.html#3361816">net</a></span><span class="op" id="3362172">)</span><span class="op" id="3362173">;</span>&nbsp;<span class="ident" id="3362175"><a href="/gostd/net/sock_posix.go.html#3361925">err</a></span>&nbsp;<span class="op" id="3362179">!=</span>&nbsp;<span class="builtintype" id="3362182">nil</span>&nbsp;<span class="op" id="3362186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3362190"><a href="/gostd/net/fd_unix.go.html#3269191">closesocket</a></span><span class="op" id="3362201">(</span><span class="ident" id="3362202"><a href="/gostd/net/sock_posix.go.html#3361939">s</a></span><span class="op" id="3362203">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3362207">return</span>&nbsp;<span class="builtintype" id="3362214">nil</span><span class="op" id="3362217">,</span>&nbsp;<span class="ident" id="3362219"><a href="/gostd/net/sock_posix.go.html#3361925">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3362224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362228">//&nbsp;This&nbsp;function&nbsp;makes&nbsp;a&nbsp;network&nbsp;file&nbsp;descriptor&nbsp;for&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362286">//&nbsp;following&nbsp;applications:</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362314">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362318">//&nbsp;-&nbsp;An&nbsp;endpoint&nbsp;holder&nbsp;that&nbsp;opens&nbsp;a&nbsp;passive&nbsp;stream</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362371">//&nbsp;&nbsp;&nbsp;connenction,&nbsp;known&nbsp;as&nbsp;a&nbsp;stream&nbsp;listener</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362417">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362421">//&nbsp;-&nbsp;An&nbsp;endpoint&nbsp;holder&nbsp;that&nbsp;opens&nbsp;a&nbsp;destination-unspecific</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362482">//&nbsp;&nbsp;&nbsp;datagram&nbsp;connection,&nbsp;known&nbsp;as&nbsp;a&nbsp;datagram&nbsp;listener</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362538">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362542">//&nbsp;-&nbsp;An&nbsp;endpoint&nbsp;holder&nbsp;that&nbsp;opens&nbsp;an&nbsp;active&nbsp;stream&nbsp;or&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362600">//&nbsp;&nbsp;&nbsp;destination-specific&nbsp;datagram&nbsp;connection,&nbsp;known&nbsp;as&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362659">//&nbsp;&nbsp;&nbsp;dialer</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362672">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362676">//&nbsp;-&nbsp;An&nbsp;endpoint&nbsp;holder&nbsp;that&nbsp;opens&nbsp;the&nbsp;other&nbsp;connection,&nbsp;such</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362739">//&nbsp;&nbsp;&nbsp;as&nbsp;talking&nbsp;to&nbsp;the&nbsp;protocol&nbsp;stack&nbsp;inside&nbsp;the&nbsp;kernel</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362796">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362800">//&nbsp;For&nbsp;stream&nbsp;and&nbsp;datagram&nbsp;listeners,&nbsp;they&nbsp;will&nbsp;only&nbsp;require</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362862">//&nbsp;named&nbsp;sockets,&nbsp;so&nbsp;we&nbsp;can&nbsp;assume&nbsp;that&nbsp;it&#39;s&nbsp;just&nbsp;a&nbsp;request</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362923">//&nbsp;from&nbsp;stream&nbsp;or&nbsp;datagram&nbsp;listeners&nbsp;when&nbsp;laddr&nbsp;is&nbsp;not&nbsp;nil&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362987">//&nbsp;raddr&nbsp;is&nbsp;nil.&nbsp;Otherwise&nbsp;we&nbsp;assume&nbsp;it&#39;s&nbsp;just&nbsp;for&nbsp;dialers&nbsp;or</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363050">//&nbsp;the&nbsp;other&nbsp;connection&nbsp;holders.</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363085">if</span>&nbsp;<span class="ident" id="3363088"><a href="/gostd/net/sock_posix.go.html#3361870">laddr</a></span>&nbsp;<span class="op" id="3363094">!=</span>&nbsp;<span class="builtintype" id="3363097">nil</span>&nbsp;<span class="op" id="3363101">&amp;&amp;</span>&nbsp;<span class="ident" id="3363104"><a href="/gostd/net/sock_posix.go.html#3361877">raddr</a></span>&nbsp;<span class="op" id="3363110">==</span>&nbsp;<span class="builtintype" id="3363113">nil</span>&nbsp;<span class="op" id="3363117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363121">switch</span>&nbsp;<span class="ident" id="3363128"><a href="/gostd/net/sock_posix.go.html#3361836">sotype</a></span>&nbsp;<span class="op" id="3363135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363139">case</span>&nbsp;<span class="ident" id="3363144"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363151">.</span><span class="ident" id="3363152"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592030">SOCK_STREAM</a></span><span class="op" id="3363163">,</span>&nbsp;<span class="ident" id="3363165"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363172">.</span><span class="ident" id="3363173"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591990">SOCK_SEQPACKET</a></span><span class="op" id="3363187">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363192">if</span>&nbsp;<span class="ident" id="3363195">err</span>&nbsp;<span class="op" id="3363199">:=</span>&nbsp;<span class="ident" id="3363202"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3363204">.</span><span class="ident" id="3363205"><a href="/gostd/net/sock_posix.go.html#3364997">listenStream</a></span><span class="op" id="3363217">(</span><span class="ident" id="3363218"><a href="/gostd/net/sock_posix.go.html#3361870">laddr</a></span><span class="op" id="3363223">,</span>&nbsp;<span class="ident" id="3363225"><a href="/gostd/net/net.go.html#3340508">listenerBacklog</a></span><span class="op" id="3363240">)</span><span class="op" id="3363241">;</span>&nbsp;<span class="ident" id="3363243"><a href="/gostd/net/sock_posix.go.html#3363195">err</a></span>&nbsp;<span class="op" id="3363247">!=</span>&nbsp;<span class="builtintype" id="3363250">nil</span>&nbsp;<span class="op" id="3363254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363260"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3363262">.</span><span class="ident" id="3363263"><a href="/gostd/net/fd_unix.go.html#3261468">Close</a></span><span class="op" id="3363268">(</span><span class="op" id="3363269">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363275">return</span>&nbsp;<span class="builtintype" id="3363282">nil</span><span class="op" id="3363285">,</span>&nbsp;<span class="ident" id="3363287"><a href="/gostd/net/sock_posix.go.html#3363195">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3363294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363299">return</span>&nbsp;<span class="ident" id="3363306"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3363308">,</span>&nbsp;<span class="builtintype" id="3363310">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363316">case</span>&nbsp;<span class="ident" id="3363321"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363328">.</span><span class="ident" id="3363329"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591788">SOCK_DGRAM</a></span><span class="op" id="3363339">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363344">if</span>&nbsp;<span class="ident" id="3363347">err</span>&nbsp;<span class="op" id="3363351">:=</span>&nbsp;<span class="ident" id="3363354"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3363356">.</span><span class="ident" id="3363357"><a href="/gostd/net/sock_posix.go.html#3365587">listenDatagram</a></span><span class="op" id="3363371">(</span><span class="ident" id="3363372"><a href="/gostd/net/sock_posix.go.html#3361870">laddr</a></span><span class="op" id="3363377">)</span><span class="op" id="3363378">;</span>&nbsp;<span class="ident" id="3363380"><a href="/gostd/net/sock_posix.go.html#3363347">err</a></span>&nbsp;<span class="op" id="3363384">!=</span>&nbsp;<span class="builtintype" id="3363387">nil</span>&nbsp;<span class="op" id="3363391">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363397"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3363399">.</span><span class="ident" id="3363400"><a href="/gostd/net/fd_unix.go.html#3261468">Close</a></span><span class="op" id="3363405">(</span><span class="op" id="3363406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363412">return</span>&nbsp;<span class="builtintype" id="3363419">nil</span><span class="op" id="3363422">,</span>&nbsp;<span class="ident" id="3363424"><a href="/gostd/net/sock_posix.go.html#3363347">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3363431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363436">return</span>&nbsp;<span class="ident" id="3363443"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3363445">,</span>&nbsp;<span class="builtintype" id="3363447">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3363453">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3363456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363459">if</span>&nbsp;<span class="ident" id="3363462">err</span>&nbsp;<span class="op" id="3363466">:=</span>&nbsp;<span class="ident" id="3363469"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3363471">.</span><span class="ident" id="3363472"><a href="/gostd/net/sock_posix.go.html#3364156">dial</a></span><span class="op" id="3363476">(</span><span class="ident" id="3363477"><a href="/gostd/net/sock_posix.go.html#3361870">laddr</a></span><span class="op" id="3363482">,</span>&nbsp;<span class="ident" id="3363484"><a href="/gostd/net/sock_posix.go.html#3361877">raddr</a></span><span class="op" id="3363489">,</span>&nbsp;<span class="ident" id="3363491"><a href="/gostd/net/sock_posix.go.html#3361893">deadline</a></span><span class="op" id="3363499">)</span><span class="op" id="3363500">;</span>&nbsp;<span class="ident" id="3363502"><a href="/gostd/net/sock_posix.go.html#3363462">err</a></span>&nbsp;<span class="op" id="3363506">!=</span>&nbsp;<span class="builtintype" id="3363509">nil</span>&nbsp;<span class="op" id="3363513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363517"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3363519">.</span><span class="ident" id="3363520"><a href="/gostd/net/fd_unix.go.html#3261468">Close</a></span><span class="op" id="3363525">(</span><span class="op" id="3363526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363530">return</span>&nbsp;<span class="builtintype" id="3363537">nil</span><span class="op" id="3363540">,</span>&nbsp;<span class="ident" id="3363542"><a href="/gostd/net/sock_posix.go.html#3363462">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3363547">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363550">return</span>&nbsp;<span class="ident" id="3363557"><a href="/gostd/net/sock_posix.go.html#3361914">fd</a></span><span class="op" id="3363559">,</span>&nbsp;<span class="builtintype" id="3363561">nil</span><br>
<span class="lineno"></span><span class="op" id="3363565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3363568">func</span>&nbsp;<span class="op" id="3363573">(</span><span class="ident" id="3363574">fd</span>&nbsp;<span class="op" id="3363577">*</span><span class="ident" id="3363578"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3363583">)</span>&nbsp;<span class="ident" id="3363585">addrFunc</span><span class="op" id="3363593">(</span><span class="op" id="3363594">)</span>&nbsp;<span class="keyword" id="3363596">func</span><span class="op" id="3363600">(</span><span class="ident" id="3363601"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363608">.</span><span class="ident" id="3363609"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="3363617">)</span>&nbsp;<span class="ident" id="3363619"><a href="/gostd/net/net.go.html#3334179">Addr</a></span>&nbsp;<span class="op" id="3363624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363627">switch</span>&nbsp;<span class="ident" id="3363634"><a href="/gostd/net/sock_posix.go.html#3363574">fd</a></span><span class="op" id="3363636">.</span><span class="ident" id="3363637"><a href="/gostd/net/fd_unix.go.html#3257510">family</a></span>&nbsp;<span class="op" id="3363644">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363647">case</span>&nbsp;<span class="ident" id="3363652"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363659">.</span><span class="ident" id="3363660"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2551244">AF_INET</a></span><span class="op" id="3363667">,</span>&nbsp;<span class="ident" id="3363669"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363676">.</span><span class="ident" id="3363677"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2551284">AF_INET6</a></span><span class="op" id="3363685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363689">switch</span>&nbsp;<span class="ident" id="3363696"><a href="/gostd/net/sock_posix.go.html#3363574">fd</a></span><span class="op" id="3363698">.</span><span class="ident" id="3363699"><a href="/gostd/net/fd_unix.go.html#3257527">sotype</a></span>&nbsp;<span class="op" id="3363706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363710">case</span>&nbsp;<span class="ident" id="3363715"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363722">.</span><span class="ident" id="3363723"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592030">SOCK_STREAM</a></span><span class="op" id="3363734">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363739">return</span>&nbsp;<span class="ident" id="3363746"><a href="/gostd/net/tcpsock_posix.go.html#3375274">sockaddrToTCP</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363762">case</span>&nbsp;<span class="ident" id="3363767"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363774">.</span><span class="ident" id="3363775"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591788">SOCK_DGRAM</a></span><span class="op" id="3363785">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363790">return</span>&nbsp;<span class="ident" id="3363797"><a href="/gostd/net/udpsock_posix.go.html#3387332">sockaddrToUDP</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363813">case</span>&nbsp;<span class="ident" id="3363818"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363825">.</span><span class="ident" id="3363826"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591910">SOCK_RAW</a></span><span class="op" id="3363834">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363839">return</span>&nbsp;<span class="ident" id="3363846"><a href="/gostd/net/iprawsock_posix.go.html#3302998">sockaddrToIP</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3363861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363864">case</span>&nbsp;<span class="ident" id="3363869"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363876">.</span><span class="ident" id="3363877"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2552178">AF_UNIX</a></span><span class="op" id="3363884">:</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363888">switch</span>&nbsp;<span class="ident" id="3363895"><a href="/gostd/net/sock_posix.go.html#3363574">fd</a></span><span class="op" id="3363897">.</span><span class="ident" id="3363898"><a href="/gostd/net/fd_unix.go.html#3257527">sotype</a></span>&nbsp;<span class="op" id="3363905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363909">case</span>&nbsp;<span class="ident" id="3363914"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363921">.</span><span class="ident" id="3363922"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592030">SOCK_STREAM</a></span><span class="op" id="3363933">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363938">return</span>&nbsp;<span class="ident" id="3363945"><a href="/gostd/net/unixsock_posix.go.html#3397332">sockaddrToUnix</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363962">case</span>&nbsp;<span class="ident" id="3363967"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3363974">.</span><span class="ident" id="3363975"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591788">SOCK_DGRAM</a></span><span class="op" id="3363985">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3363990">return</span>&nbsp;<span class="ident" id="3363997"><a href="/gostd/net/unixsock_posix.go.html#3397490">sockaddrToUnixgram</a></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364018">case</span>&nbsp;<span class="ident" id="3364023"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3364030">.</span><span class="ident" id="3364031"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591990">SOCK_SEQPACKET</a></span><span class="op" id="3364045">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364050">return</span>&nbsp;<span class="ident" id="3364057"><a href="/gostd/net/unixsock_posix.go.html#3397656">sockaddrToUnixpacket</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364086">return</span>&nbsp;<span class="keyword" id="3364093">func</span><span class="op" id="3364097">(</span><span class="ident" id="3364098"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3364105">.</span><span class="ident" id="3364106"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="3364114">)</span>&nbsp;<span class="ident" id="3364116"><a href="/gostd/net/net.go.html#3334179">Addr</a></span>&nbsp;<span class="op" id="3364121">{</span>&nbsp;<span class="keyword" id="3364123">return</span>&nbsp;<span class="builtintype" id="3364130">nil</span>&nbsp;<span class="op" id="3364134">}</span><br>
<span class="lineno">120</span><span class="op" id="3364136">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3364139">func</span>&nbsp;<span class="op" id="3364144">(</span><span class="ident" id="3364145">fd</span>&nbsp;<span class="op" id="3364148">*</span><span class="ident" id="3364149"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3364154">)</span>&nbsp;<span class="ident" id="3364156">dial</span><span class="op" id="3364160">(</span><span class="ident" id="3364161">laddr</span><span class="op" id="3364166">,</span>&nbsp;<span class="ident" id="3364168">raddr</span>&nbsp;<span class="ident" id="3364174"><a href="/gostd/net/sock_posix.go.html#3361249">sockaddr</a></span><span class="op" id="3364182">,</span>&nbsp;<span class="ident" id="3364184">deadline</span>&nbsp;<span class="ident" id="3364193"><a href="/gostd/net/sock_posix.go.html#3361111">time</a></span><span class="op" id="3364197">.</span><span class="ident" id="3364198"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3364202">)</span>&nbsp;<span class="builtintype" id="3364204">error</span>&nbsp;<span class="op" id="3364210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364213">var</span>&nbsp;<span class="ident" id="3364217">err</span>&nbsp;<span class="builtintype" id="3364221">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364228">var</span>&nbsp;<span class="ident" id="3364232">lsa</span>&nbsp;<span class="ident" id="3364236"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3364243">.</span><span class="ident" id="3364244"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364254">if</span>&nbsp;<span class="ident" id="3364257"><a href="/gostd/net/sock_posix.go.html#3364161">laddr</a></span>&nbsp;<span class="op" id="3364263">!=</span>&nbsp;<span class="builtintype" id="3364266">nil</span>&nbsp;<span class="op" id="3364270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364274">if</span>&nbsp;<span class="ident" id="3364277"><a href="/gostd/net/sock_posix.go.html#3364232">lsa</a></span><span class="op" id="3364280">,</span>&nbsp;<span class="ident" id="3364282"><a href="/gostd/net/sock_posix.go.html#3364217">err</a></span>&nbsp;<span class="op" id="3364286">=</span>&nbsp;<span class="ident" id="3364288"><a href="/gostd/net/sock_posix.go.html#3364161">laddr</a></span><span class="op" id="3364293">.</span><span class="ident" id="3364294"><a href="/gostd/net/sock_posix.go.html#3361646">sockaddr</a></span><span class="op" id="3364302">(</span><span class="ident" id="3364303"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364305">.</span><span class="ident" id="3364306"><a href="/gostd/net/fd_unix.go.html#3257510">family</a></span><span class="op" id="3364312">)</span><span class="op" id="3364313">;</span>&nbsp;<span class="ident" id="3364315"><a href="/gostd/net/sock_posix.go.html#3364217">err</a></span>&nbsp;<span class="op" id="3364319">!=</span>&nbsp;<span class="builtintype" id="3364322">nil</span>&nbsp;<span class="op" id="3364326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364331">return</span>&nbsp;<span class="ident" id="3364338"><a href="/gostd/net/sock_posix.go.html#3364217">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364344">}</span>&nbsp;<span class="keyword" id="3364346">else</span>&nbsp;<span class="keyword" id="3364351">if</span>&nbsp;<span class="ident" id="3364354"><a href="/gostd/net/sock_posix.go.html#3364232">lsa</a></span>&nbsp;<span class="op" id="3364358">!=</span>&nbsp;<span class="builtintype" id="3364361">nil</span>&nbsp;<span class="op" id="3364365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364370">if</span>&nbsp;<span class="ident" id="3364373">err</span>&nbsp;<span class="op" id="3364377">:=</span>&nbsp;<span class="ident" id="3364380"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3364387">.</span><span class="ident" id="3364388"><a href="/gostd/syscall/syscall_unix.go.html#2547448">Bind</a></span><span class="op" id="3364392">(</span><span class="ident" id="3364393"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364395">.</span><span class="ident" id="3364396"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3364401">,</span>&nbsp;<span class="ident" id="3364403"><a href="/gostd/net/sock_posix.go.html#3364232">lsa</a></span><span class="op" id="3364406">)</span><span class="op" id="3364407">;</span>&nbsp;<span class="ident" id="3364409"><a href="/gostd/net/sock_posix.go.html#3364373">err</a></span>&nbsp;<span class="op" id="3364413">!=</span>&nbsp;<span class="builtintype" id="3364416">nil</span>&nbsp;<span class="op" id="3364420">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364426">return</span>&nbsp;<span class="ident" id="3364433"><a href="/gostd/net/sock_posix.go.html#3361094">os</a></span><span class="op" id="3364435">.</span><span class="ident" id="3364436"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3364451">(</span><span class="string" id="3364452">&#34;bind&#34;</span><span class="op" id="3364458">,</span>&nbsp;<span class="ident" id="3364460"><a href="/gostd/net/sock_posix.go.html#3364373">err</a></span><span class="op" id="3364463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364478">var</span>&nbsp;<span class="ident" id="3364482">rsa</span>&nbsp;<span class="ident" id="3364486"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3364493">.</span><span class="ident" id="3364494"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364504">if</span>&nbsp;<span class="ident" id="3364507"><a href="/gostd/net/sock_posix.go.html#3364168">raddr</a></span>&nbsp;<span class="op" id="3364513">!=</span>&nbsp;<span class="builtintype" id="3364516">nil</span>&nbsp;<span class="op" id="3364520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364524">if</span>&nbsp;<span class="ident" id="3364527"><a href="/gostd/net/sock_posix.go.html#3364482">rsa</a></span><span class="op" id="3364530">,</span>&nbsp;<span class="ident" id="3364532"><a href="/gostd/net/sock_posix.go.html#3364217">err</a></span>&nbsp;<span class="op" id="3364536">=</span>&nbsp;<span class="ident" id="3364538"><a href="/gostd/net/sock_posix.go.html#3364168">raddr</a></span><span class="op" id="3364543">.</span><span class="ident" id="3364544"><a href="/gostd/net/sock_posix.go.html#3361646">sockaddr</a></span><span class="op" id="3364552">(</span><span class="ident" id="3364553"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364555">.</span><span class="ident" id="3364556"><a href="/gostd/net/fd_unix.go.html#3257510">family</a></span><span class="op" id="3364562">)</span><span class="op" id="3364563">;</span>&nbsp;<span class="ident" id="3364565"><a href="/gostd/net/sock_posix.go.html#3364217">err</a></span>&nbsp;<span class="op" id="3364569">!=</span>&nbsp;<span class="builtintype" id="3364572">nil</span>&nbsp;<span class="op" id="3364576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364581">return</span>&nbsp;<span class="ident" id="3364588"><a href="/gostd/net/sock_posix.go.html#3364217">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364598">if</span>&nbsp;<span class="ident" id="3364601">err</span>&nbsp;<span class="op" id="3364605">:=</span>&nbsp;<span class="ident" id="3364608"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364610">.</span><span class="ident" id="3364611"><a href="/gostd/net/fd_unix.go.html#3258394">connect</a></span><span class="op" id="3364618">(</span><span class="ident" id="3364619"><a href="/gostd/net/sock_posix.go.html#3364232">lsa</a></span><span class="op" id="3364622">,</span>&nbsp;<span class="ident" id="3364624"><a href="/gostd/net/sock_posix.go.html#3364482">rsa</a></span><span class="op" id="3364627">,</span>&nbsp;<span class="ident" id="3364629"><a href="/gostd/net/sock_posix.go.html#3364184">deadline</a></span><span class="op" id="3364637">)</span><span class="op" id="3364638">;</span>&nbsp;<span class="ident" id="3364640"><a href="/gostd/net/sock_posix.go.html#3364601">err</a></span>&nbsp;<span class="op" id="3364644">!=</span>&nbsp;<span class="builtintype" id="3364647">nil</span>&nbsp;<span class="op" id="3364651">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364656">return</span>&nbsp;<span class="ident" id="3364663"><a href="/gostd/net/sock_posix.go.html#3364601">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364673"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364675">.</span><span class="ident" id="3364676"><a href="/gostd/net/fd_unix.go.html#3257544">isConnected</a></span>&nbsp;<span class="op" id="3364688">=</span>&nbsp;<span class="builtintype" id="3364690">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364696">}</span>&nbsp;<span class="keyword" id="3364698">else</span>&nbsp;<span class="op" id="3364703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364707">if</span>&nbsp;<span class="ident" id="3364710">err</span>&nbsp;<span class="op" id="3364714">:=</span>&nbsp;<span class="ident" id="3364717"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364719">.</span><span class="ident" id="3364720"><a href="/gostd/net/fd_unix.go.html#3257971">init</a></span><span class="op" id="3364724">(</span><span class="op" id="3364725">)</span><span class="op" id="3364726">;</span>&nbsp;<span class="ident" id="3364728"><a href="/gostd/net/sock_posix.go.html#3364710">err</a></span>&nbsp;<span class="op" id="3364732">!=</span>&nbsp;<span class="builtintype" id="3364735">nil</span>&nbsp;<span class="op" id="3364739">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364744">return</span>&nbsp;<span class="ident" id="3364751"><a href="/gostd/net/sock_posix.go.html#3364710">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364763"><a href="/gostd/net/sock_posix.go.html#3364232">lsa</a></span><span class="op" id="3364766">,</span>&nbsp;<span class="ident" id="3364768">_</span>&nbsp;<span class="op" id="3364770">=</span>&nbsp;<span class="ident" id="3364772"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3364779">.</span><span class="ident" id="3364780"><a href="/gostd/syscall/syscall_linux.go.html#2522263">Getsockname</a></span><span class="op" id="3364791">(</span><span class="ident" id="3364792"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364794">.</span><span class="ident" id="3364795"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3364800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364803">if</span>&nbsp;<span class="ident" id="3364806"><a href="/gostd/net/sock_posix.go.html#3364482">rsa</a></span><span class="op" id="3364809">,</span>&nbsp;<span class="ident" id="3364811">_</span>&nbsp;<span class="op" id="3364813">=</span>&nbsp;<span class="ident" id="3364815"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3364822">.</span><span class="ident" id="3364823"><a href="/gostd/syscall/syscall_unix.go.html#2547726">Getpeername</a></span><span class="op" id="3364834">(</span><span class="ident" id="3364835"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364837">.</span><span class="ident" id="3364838"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3364843">)</span><span class="op" id="3364844">;</span>&nbsp;<span class="ident" id="3364846"><a href="/gostd/net/sock_posix.go.html#3364482">rsa</a></span>&nbsp;<span class="op" id="3364850">!=</span>&nbsp;<span class="builtintype" id="3364853">nil</span>&nbsp;<span class="op" id="3364857">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364861"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364863">.</span><span class="ident" id="3364864"><a href="/gostd/net/fd_unix.go.html#3258074">setAddr</a></span><span class="op" id="3364871">(</span><span class="ident" id="3364872"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364874">.</span><span class="ident" id="3364875"><a href="/gostd/net/sock_posix.go.html#3363585">addrFunc</a></span><span class="op" id="3364883">(</span><span class="op" id="3364884">)</span><span class="op" id="3364885">(</span><span class="ident" id="3364886"><a href="/gostd/net/sock_posix.go.html#3364232">lsa</a></span><span class="op" id="3364889">)</span><span class="op" id="3364890">,</span>&nbsp;<span class="ident" id="3364892"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364894">.</span><span class="ident" id="3364895"><a href="/gostd/net/sock_posix.go.html#3363585">addrFunc</a></span><span class="op" id="3364903">(</span><span class="op" id="3364904">)</span><span class="op" id="3364905">(</span><span class="ident" id="3364906"><a href="/gostd/net/sock_posix.go.html#3364482">rsa</a></span><span class="op" id="3364909">)</span><span class="op" id="3364910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364913">}</span>&nbsp;<span class="keyword" id="3364915">else</span>&nbsp;<span class="op" id="3364920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364924"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364926">.</span><span class="ident" id="3364927"><a href="/gostd/net/fd_unix.go.html#3258074">setAddr</a></span><span class="op" id="3364934">(</span><span class="ident" id="3364935"><a href="/gostd/net/sock_posix.go.html#3364145">fd</a></span><span class="op" id="3364937">.</span><span class="ident" id="3364938"><a href="/gostd/net/sock_posix.go.html#3363585">addrFunc</a></span><span class="op" id="3364946">(</span><span class="op" id="3364947">)</span><span class="op" id="3364948">(</span><span class="ident" id="3364949"><a href="/gostd/net/sock_posix.go.html#3364232">lsa</a></span><span class="op" id="3364952">)</span><span class="op" id="3364953">,</span>&nbsp;<span class="ident" id="3364955"><a href="/gostd/net/sock_posix.go.html#3364168">raddr</a></span><span class="op" id="3364960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364966">return</span>&nbsp;<span class="builtintype" id="3364973">nil</span><br>
<span class="lineno">155</span><span class="op" id="3364977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3364980">func</span>&nbsp;<span class="op" id="3364985">(</span><span class="ident" id="3364986">fd</span>&nbsp;<span class="op" id="3364989">*</span><span class="ident" id="3364990"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3364995">)</span>&nbsp;<span class="ident" id="3364997">listenStream</span><span class="op" id="3365009">(</span><span class="ident" id="3365010">laddr</span>&nbsp;<span class="ident" id="3365016"><a href="/gostd/net/sock_posix.go.html#3361249">sockaddr</a></span><span class="op" id="3365024">,</span>&nbsp;<span class="ident" id="3365026">backlog</span>&nbsp;<span class="builtintype" id="3365034">int</span><span class="op" id="3365037">)</span>&nbsp;<span class="builtintype" id="3365039">error</span>&nbsp;<span class="op" id="3365045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365048">if</span>&nbsp;<span class="ident" id="3365051">err</span>&nbsp;<span class="op" id="3365055">:=</span>&nbsp;<span class="ident" id="3365058"><a href="/gostd/net/sockopt_linux.go.html#3367387">setDefaultListenerSockopts</a></span><span class="op" id="3365084">(</span><span class="ident" id="3365085"><a href="/gostd/net/sock_posix.go.html#3364986">fd</a></span><span class="op" id="3365087">.</span><span class="ident" id="3365088"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3365093">)</span><span class="op" id="3365094">;</span>&nbsp;<span class="ident" id="3365096"><a href="/gostd/net/sock_posix.go.html#3365051">err</a></span>&nbsp;<span class="op" id="3365100">!=</span>&nbsp;<span class="builtintype" id="3365103">nil</span>&nbsp;<span class="op" id="3365107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365111">return</span>&nbsp;<span class="ident" id="3365118"><a href="/gostd/net/sock_posix.go.html#3365051">err</a></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365126">if</span>&nbsp;<span class="ident" id="3365129">lsa</span><span class="op" id="3365132">,</span>&nbsp;<span class="ident" id="3365134">err</span>&nbsp;<span class="op" id="3365138">:=</span>&nbsp;<span class="ident" id="3365141"><a href="/gostd/net/sock_posix.go.html#3365010">laddr</a></span><span class="op" id="3365146">.</span><span class="ident" id="3365147"><a href="/gostd/net/sock_posix.go.html#3361646">sockaddr</a></span><span class="op" id="3365155">(</span><span class="ident" id="3365156"><a href="/gostd/net/sock_posix.go.html#3364986">fd</a></span><span class="op" id="3365158">.</span><span class="ident" id="3365159"><a href="/gostd/net/fd_unix.go.html#3257510">family</a></span><span class="op" id="3365165">)</span><span class="op" id="3365166">;</span>&nbsp;<span class="ident" id="3365168"><a href="/gostd/net/sock_posix.go.html#3365134">err</a></span>&nbsp;<span class="op" id="3365172">!=</span>&nbsp;<span class="builtintype" id="3365175">nil</span>&nbsp;<span class="op" id="3365179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365183">return</span>&nbsp;<span class="ident" id="3365190"><a href="/gostd/net/sock_posix.go.html#3365134">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365195">}</span>&nbsp;<span class="keyword" id="3365197">else</span>&nbsp;<span class="keyword" id="3365202">if</span>&nbsp;<span class="ident" id="3365205"><a href="/gostd/net/sock_posix.go.html#3365129">lsa</a></span>&nbsp;<span class="op" id="3365209">!=</span>&nbsp;<span class="builtintype" id="3365212">nil</span>&nbsp;<span class="op" id="3365216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365220">if</span>&nbsp;<span class="ident" id="3365223">err</span>&nbsp;<span class="op" id="3365227">:=</span>&nbsp;<span class="ident" id="3365230"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3365237">.</span><span class="ident" id="3365238"><a href="/gostd/syscall/syscall_unix.go.html#2547448">Bind</a></span><span class="op" id="3365242">(</span><span class="ident" id="3365243"><a href="/gostd/net/sock_posix.go.html#3364986">fd</a></span><span class="op" id="3365245">.</span><span class="ident" id="3365246"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3365251">,</span>&nbsp;<span class="ident" id="3365253"><a href="/gostd/net/sock_posix.go.html#3365129">lsa</a></span><span class="op" id="3365256">)</span><span class="op" id="3365257">;</span>&nbsp;<span class="ident" id="3365259"><a href="/gostd/net/sock_posix.go.html#3365223">err</a></span>&nbsp;<span class="op" id="3365263">!=</span>&nbsp;<span class="builtintype" id="3365266">nil</span>&nbsp;<span class="op" id="3365270">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365275">return</span>&nbsp;<span class="ident" id="3365282"><a href="/gostd/net/sock_posix.go.html#3361094">os</a></span><span class="op" id="3365284">.</span><span class="ident" id="3365285"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3365300">(</span><span class="string" id="3365301">&#34;bind&#34;</span><span class="op" id="3365307">,</span>&nbsp;<span class="ident" id="3365309"><a href="/gostd/net/sock_posix.go.html#3365223">err</a></span><span class="op" id="3365312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365322">if</span>&nbsp;<span class="ident" id="3365325">err</span>&nbsp;<span class="op" id="3365329">:=</span>&nbsp;<span class="ident" id="3365332"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3365339">.</span><span class="ident" id="3365340"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2644693">Listen</a></span><span class="op" id="3365346">(</span><span class="ident" id="3365347"><a href="/gostd/net/sock_posix.go.html#3364986">fd</a></span><span class="op" id="3365349">.</span><span class="ident" id="3365350"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3365355">,</span>&nbsp;<span class="ident" id="3365357"><a href="/gostd/net/sock_posix.go.html#3365026">backlog</a></span><span class="op" id="3365364">)</span><span class="op" id="3365365">;</span>&nbsp;<span class="ident" id="3365367"><a href="/gostd/net/sock_posix.go.html#3365325">err</a></span>&nbsp;<span class="op" id="3365371">!=</span>&nbsp;<span class="builtintype" id="3365374">nil</span>&nbsp;<span class="op" id="3365378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365382">return</span>&nbsp;<span class="ident" id="3365389"><a href="/gostd/net/sock_posix.go.html#3361094">os</a></span><span class="op" id="3365391">.</span><span class="ident" id="3365392"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3365407">(</span><span class="string" id="3365408">&#34;listen&#34;</span><span class="op" id="3365416">,</span>&nbsp;<span class="ident" id="3365418"><a href="/gostd/net/sock_posix.go.html#3365325">err</a></span><span class="op" id="3365421">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365427">if</span>&nbsp;<span class="ident" id="3365430">err</span>&nbsp;<span class="op" id="3365434">:=</span>&nbsp;<span class="ident" id="3365437"><a href="/gostd/net/sock_posix.go.html#3364986">fd</a></span><span class="op" id="3365439">.</span><span class="ident" id="3365440"><a href="/gostd/net/fd_unix.go.html#3257971">init</a></span><span class="op" id="3365444">(</span><span class="op" id="3365445">)</span><span class="op" id="3365446">;</span>&nbsp;<span class="ident" id="3365448"><a href="/gostd/net/sock_posix.go.html#3365430">err</a></span>&nbsp;<span class="op" id="3365452">!=</span>&nbsp;<span class="builtintype" id="3365455">nil</span>&nbsp;<span class="op" id="3365459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365463">return</span>&nbsp;<span class="ident" id="3365470"><a href="/gostd/net/sock_posix.go.html#3365430">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365478">lsa</span><span class="op" id="3365481">,</span>&nbsp;<span class="ident" id="3365483">_</span>&nbsp;<span class="op" id="3365485">:=</span>&nbsp;<span class="ident" id="3365488"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3365495">.</span><span class="ident" id="3365496"><a href="/gostd/syscall/syscall_linux.go.html#2522263">Getsockname</a></span><span class="op" id="3365507">(</span><span class="ident" id="3365508"><a href="/gostd/net/sock_posix.go.html#3364986">fd</a></span><span class="op" id="3365510">.</span><span class="ident" id="3365511"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3365516">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365519"><a href="/gostd/net/sock_posix.go.html#3364986">fd</a></span><span class="op" id="3365521">.</span><span class="ident" id="3365522"><a href="/gostd/net/fd_unix.go.html#3258074">setAddr</a></span><span class="op" id="3365529">(</span><span class="ident" id="3365530"><a href="/gostd/net/sock_posix.go.html#3364986">fd</a></span><span class="op" id="3365532">.</span><span class="ident" id="3365533"><a href="/gostd/net/sock_posix.go.html#3363585">addrFunc</a></span><span class="op" id="3365541">(</span><span class="op" id="3365542">)</span><span class="op" id="3365543">(</span><span class="ident" id="3365544"><a href="/gostd/net/sock_posix.go.html#3365478">lsa</a></span><span class="op" id="3365547">)</span><span class="op" id="3365548">,</span>&nbsp;<span class="builtintype" id="3365550">nil</span><span class="op" id="3365553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365556">return</span>&nbsp;<span class="builtintype" id="3365563">nil</span><br>
<span class="lineno"></span><span class="op" id="3365567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3365570">func</span>&nbsp;<span class="op" id="3365575">(</span><span class="ident" id="3365576">fd</span>&nbsp;<span class="op" id="3365579">*</span><span class="ident" id="3365580"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3365585">)</span>&nbsp;<span class="ident" id="3365587">listenDatagram</span><span class="op" id="3365601">(</span><span class="ident" id="3365602">laddr</span>&nbsp;<span class="ident" id="3365608"><a href="/gostd/net/sock_posix.go.html#3361249">sockaddr</a></span><span class="op" id="3365616">)</span>&nbsp;<span class="builtintype" id="3365618">error</span>&nbsp;<span class="op" id="3365624">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365627">switch</span>&nbsp;<span class="ident" id="3365634">addr</span>&nbsp;<span class="op" id="3365639">:=</span>&nbsp;<span class="ident" id="3365642"><a href="/gostd/net/sock_posix.go.html#3365602">laddr</a></span><span class="op" id="3365647">.</span><span class="op" id="3365648">(</span><span class="keyword" id="3365649">type</span><span class="op" id="3365653">)</span>&nbsp;<span class="op" id="3365655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365658">case</span>&nbsp;<span class="op" id="3365663">*</span><span class="ident" id="3365664"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3365671">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3365675">//&nbsp;We&nbsp;provide&nbsp;a&nbsp;socket&nbsp;that&nbsp;listens&nbsp;to&nbsp;a&nbsp;wildcard</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3365727">//&nbsp;address&nbsp;with&nbsp;reusable&nbsp;UDP&nbsp;port&nbsp;when&nbsp;the&nbsp;given&nbsp;laddr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3365784">//&nbsp;is&nbsp;an&nbsp;appropriate&nbsp;UDP&nbsp;multicast&nbsp;address&nbsp;prefix.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3365837">//&nbsp;This&nbsp;makes&nbsp;it&nbsp;possible&nbsp;for&nbsp;a&nbsp;single&nbsp;UDP&nbsp;listener&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3365894">//&nbsp;join&nbsp;multiple&nbsp;different&nbsp;group&nbsp;addresses,&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3365944">//&nbsp;multiple&nbsp;UDP&nbsp;listeners&nbsp;that&nbsp;listen&nbsp;on&nbsp;the&nbsp;same&nbsp;UDP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3366000">//&nbsp;port&nbsp;to&nbsp;join&nbsp;the&nbsp;same&nbsp;group&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366042">if</span>&nbsp;<span class="ident" id="3366045"><a href="/gostd/net/sock_posix.go.html#3365634">addr</a></span><span class="op" id="3366049">.</span><span class="ident" id="3366050"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span>&nbsp;<span class="op" id="3366053">!=</span>&nbsp;<span class="builtintype" id="3366056">nil</span>&nbsp;<span class="op" id="3366060">&amp;&amp;</span>&nbsp;<span class="ident" id="3366063"><a href="/gostd/net/sock_posix.go.html#3365634">addr</a></span><span class="op" id="3366067">.</span><span class="ident" id="3366068"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3366070">.</span><span class="ident" id="3366071"><a href="/gostd/net/ip.go.html#3288714">IsMulticast</a></span><span class="op" id="3366082">(</span><span class="op" id="3366083">)</span>&nbsp;<span class="op" id="3366085">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366090">if</span>&nbsp;<span class="ident" id="3366093">err</span>&nbsp;<span class="op" id="3366097">:=</span>&nbsp;<span class="ident" id="3366100"><a href="/gostd/net/sockopt_linux.go.html#3367593">setDefaultMulticastSockopts</a></span><span class="op" id="3366127">(</span><span class="ident" id="3366128"><a href="/gostd/net/sock_posix.go.html#3365576">fd</a></span><span class="op" id="3366130">.</span><span class="ident" id="3366131"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3366136">)</span><span class="op" id="3366137">;</span>&nbsp;<span class="ident" id="3366139"><a href="/gostd/net/sock_posix.go.html#3366093">err</a></span>&nbsp;<span class="op" id="3366143">!=</span>&nbsp;<span class="builtintype" id="3366146">nil</span>&nbsp;<span class="op" id="3366150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366156">return</span>&nbsp;<span class="ident" id="3366163"><a href="/gostd/net/sock_posix.go.html#3366093">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3366170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3366175">addr</span>&nbsp;<span class="op" id="3366180">:=</span>&nbsp;<span class="op" id="3366183">*</span><span class="ident" id="3366184"><a href="/gostd/net/sock_posix.go.html#3365634">addr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366192">switch</span>&nbsp;<span class="ident" id="3366199"><a href="/gostd/net/sock_posix.go.html#3365576">fd</a></span><span class="op" id="3366201">.</span><span class="ident" id="3366202"><a href="/gostd/net/fd_unix.go.html#3257510">family</a></span>&nbsp;<span class="op" id="3366209">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366214">case</span>&nbsp;<span class="ident" id="3366219"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3366226">.</span><span class="ident" id="3366227"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2551244">AF_INET</a></span><span class="op" id="3366234">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3366240"><a href="/gostd/net/sock_posix.go.html#3366175">addr</a></span><span class="op" id="3366244">.</span><span class="ident" id="3366245"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span>&nbsp;<span class="op" id="3366248">=</span>&nbsp;<span class="ident" id="3366250"><a href="/gostd/net/ip.go.html#3287657">IPv4zero</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366262">case</span>&nbsp;<span class="ident" id="3366267"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3366274">.</span><span class="ident" id="3366275"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2551284">AF_INET6</a></span><span class="op" id="3366283">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3366289"><a href="/gostd/net/sock_posix.go.html#3366175">addr</a></span><span class="op" id="3366293">.</span><span class="ident" id="3366294"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span>&nbsp;<span class="op" id="3366297">=</span>&nbsp;<span class="ident" id="3366299"><a href="/gostd/net/ip.go.html#3287831">IPv6unspecified</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3366318">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3366323"><a href="/gostd/net/sock_posix.go.html#3365602">laddr</a></span>&nbsp;<span class="op" id="3366329">=</span>&nbsp;<span class="op" id="3366331">&amp;</span><span class="ident" id="3366332"><a href="/gostd/net/sock_posix.go.html#3366175">addr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3366339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3366342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366345">if</span>&nbsp;<span class="ident" id="3366348">lsa</span><span class="op" id="3366351">,</span>&nbsp;<span class="ident" id="3366353">err</span>&nbsp;<span class="op" id="3366357">:=</span>&nbsp;<span class="ident" id="3366360"><a href="/gostd/net/sock_posix.go.html#3365602">laddr</a></span><span class="op" id="3366365">.</span><span class="ident" id="3366366"><a href="/gostd/net/sock_posix.go.html#3361646">sockaddr</a></span><span class="op" id="3366374">(</span><span class="ident" id="3366375"><a href="/gostd/net/sock_posix.go.html#3365576">fd</a></span><span class="op" id="3366377">.</span><span class="ident" id="3366378"><a href="/gostd/net/fd_unix.go.html#3257510">family</a></span><span class="op" id="3366384">)</span><span class="op" id="3366385">;</span>&nbsp;<span class="ident" id="3366387"><a href="/gostd/net/sock_posix.go.html#3366353">err</a></span>&nbsp;<span class="op" id="3366391">!=</span>&nbsp;<span class="builtintype" id="3366394">nil</span>&nbsp;<span class="op" id="3366398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366402">return</span>&nbsp;<span class="ident" id="3366409"><a href="/gostd/net/sock_posix.go.html#3366353">err</a></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3366414">}</span>&nbsp;<span class="keyword" id="3366416">else</span>&nbsp;<span class="keyword" id="3366421">if</span>&nbsp;<span class="ident" id="3366424"><a href="/gostd/net/sock_posix.go.html#3366348">lsa</a></span>&nbsp;<span class="op" id="3366428">!=</span>&nbsp;<span class="builtintype" id="3366431">nil</span>&nbsp;<span class="op" id="3366435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366439">if</span>&nbsp;<span class="ident" id="3366442">err</span>&nbsp;<span class="op" id="3366446">:=</span>&nbsp;<span class="ident" id="3366449"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3366456">.</span><span class="ident" id="3366457"><a href="/gostd/syscall/syscall_unix.go.html#2547448">Bind</a></span><span class="op" id="3366461">(</span><span class="ident" id="3366462"><a href="/gostd/net/sock_posix.go.html#3365576">fd</a></span><span class="op" id="3366464">.</span><span class="ident" id="3366465"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3366470">,</span>&nbsp;<span class="ident" id="3366472"><a href="/gostd/net/sock_posix.go.html#3366348">lsa</a></span><span class="op" id="3366475">)</span><span class="op" id="3366476">;</span>&nbsp;<span class="ident" id="3366478"><a href="/gostd/net/sock_posix.go.html#3366442">err</a></span>&nbsp;<span class="op" id="3366482">!=</span>&nbsp;<span class="builtintype" id="3366485">nil</span>&nbsp;<span class="op" id="3366489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366494">return</span>&nbsp;<span class="ident" id="3366501"><a href="/gostd/net/sock_posix.go.html#3361094">os</a></span><span class="op" id="3366503">.</span><span class="ident" id="3366504"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3366519">(</span><span class="string" id="3366520">&#34;bind&#34;</span><span class="op" id="3366526">,</span>&nbsp;<span class="ident" id="3366528"><a href="/gostd/net/sock_posix.go.html#3366442">err</a></span><span class="op" id="3366531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3366535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3366538">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366541">if</span>&nbsp;<span class="ident" id="3366544">err</span>&nbsp;<span class="op" id="3366548">:=</span>&nbsp;<span class="ident" id="3366551"><a href="/gostd/net/sock_posix.go.html#3365576">fd</a></span><span class="op" id="3366553">.</span><span class="ident" id="3366554"><a href="/gostd/net/fd_unix.go.html#3257971">init</a></span><span class="op" id="3366558">(</span><span class="op" id="3366559">)</span><span class="op" id="3366560">;</span>&nbsp;<span class="ident" id="3366562"><a href="/gostd/net/sock_posix.go.html#3366544">err</a></span>&nbsp;<span class="op" id="3366566">!=</span>&nbsp;<span class="builtintype" id="3366569">nil</span>&nbsp;<span class="op" id="3366573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366577">return</span>&nbsp;<span class="ident" id="3366584"><a href="/gostd/net/sock_posix.go.html#3366544">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3366589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3366592">lsa</span><span class="op" id="3366595">,</span>&nbsp;<span class="ident" id="3366597">_</span>&nbsp;<span class="op" id="3366599">:=</span>&nbsp;<span class="ident" id="3366602"><a href="/gostd/net/sock_posix.go.html#3361100">syscall</a></span><span class="op" id="3366609">.</span><span class="ident" id="3366610"><a href="/gostd/syscall/syscall_linux.go.html#2522263">Getsockname</a></span><span class="op" id="3366621">(</span><span class="ident" id="3366622"><a href="/gostd/net/sock_posix.go.html#3365576">fd</a></span><span class="op" id="3366624">.</span><span class="ident" id="3366625"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3366630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3366633"><a href="/gostd/net/sock_posix.go.html#3365576">fd</a></span><span class="op" id="3366635">.</span><span class="ident" id="3366636"><a href="/gostd/net/fd_unix.go.html#3258074">setAddr</a></span><span class="op" id="3366643">(</span><span class="ident" id="3366644"><a href="/gostd/net/sock_posix.go.html#3365576">fd</a></span><span class="op" id="3366646">.</span><span class="ident" id="3366647"><a href="/gostd/net/sock_posix.go.html#3363585">addrFunc</a></span><span class="op" id="3366655">(</span><span class="op" id="3366656">)</span><span class="op" id="3366657">(</span><span class="ident" id="3366658"><a href="/gostd/net/sock_posix.go.html#3366592">lsa</a></span><span class="op" id="3366661">)</span><span class="op" id="3366662">,</span>&nbsp;<span class="builtintype" id="3366664">nil</span><span class="op" id="3366667">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366670">return</span>&nbsp;<span class="builtintype" id="3366677">nil</span><br>
<span class="lineno"></span><span class="op" id="3366681">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
