<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html" class="current">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5592250">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5592305">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5592359">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5592410">//&nbsp;Package&nbsp;scanner&nbsp;provides&nbsp;a&nbsp;scanner&nbsp;and&nbsp;tokenizer&nbsp;for&nbsp;UTF-8-encoded&nbsp;text.</span><br>
<span class="lineno"></span><span class="comment" id="5592486">//&nbsp;It&nbsp;takes&nbsp;an&nbsp;io.Reader&nbsp;providing&nbsp;the&nbsp;source,&nbsp;which&nbsp;then&nbsp;can&nbsp;be&nbsp;tokenized</span><br>
<span class="lineno"></span><span class="comment" id="5592561">//&nbsp;through&nbsp;repeated&nbsp;calls&nbsp;to&nbsp;the&nbsp;Scan&nbsp;function.&nbsp;&nbsp;For&nbsp;compatibility&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5592633">//&nbsp;existing&nbsp;tools,&nbsp;the&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed.&nbsp;If&nbsp;the&nbsp;first&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="5592709">//&nbsp;in&nbsp;the&nbsp;source&nbsp;is&nbsp;a&nbsp;UTF-8&nbsp;encoded&nbsp;byte&nbsp;order&nbsp;mark&nbsp;(BOM),&nbsp;it&nbsp;is&nbsp;discarded.</span><br>
<span class="lineno">10</span><span class="comment" id="5592785">//</span><br>
<span class="lineno"></span><span class="comment" id="5592788">//&nbsp;By&nbsp;default,&nbsp;a&nbsp;Scanner&nbsp;skips&nbsp;white&nbsp;space&nbsp;and&nbsp;Go&nbsp;comments&nbsp;and&nbsp;recognizes&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="5592866">//&nbsp;literals&nbsp;as&nbsp;defined&nbsp;by&nbsp;the&nbsp;Go&nbsp;language&nbsp;specification.&nbsp;&nbsp;It&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="5592934">//&nbsp;customized&nbsp;to&nbsp;recognize&nbsp;only&nbsp;a&nbsp;subset&nbsp;of&nbsp;those&nbsp;literals&nbsp;and&nbsp;to&nbsp;recognize</span><br>
<span class="lineno"></span><span class="comment" id="5593010">//&nbsp;different&nbsp;identifier&nbsp;and&nbsp;white&nbsp;space&nbsp;characters.</span><br>
<span class="lineno">15</span><span class="comment" id="5593062">//</span><br>
<span class="lineno"></span><span class="comment" id="5593065">//&nbsp;Basic&nbsp;usage&nbsp;pattern:</span><br>
<span class="lineno"></span><span class="comment" id="5593089">//</span><br>
<span class="lineno"></span><span class="comment" id="5593092">//&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;s&nbsp;scanner.Scanner</span><br>
<span class="lineno"></span><span class="comment" id="5593117">//&nbsp;&nbsp;&nbsp;&nbsp;s.Init(src)</span><br>
<span class="lineno">20</span><span class="comment" id="5593132">//&nbsp;&nbsp;&nbsp;&nbsp;tok&nbsp;:=&nbsp;s.Scan()</span><br>
<span class="lineno"></span><span class="comment" id="5593151">//&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;tok&nbsp;!=&nbsp;scanner.EOF&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="5593179">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;do&nbsp;something&nbsp;with&nbsp;tok</span><br>
<span class="lineno"></span><span class="comment" id="5593208">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tok&nbsp;=&nbsp;s.Scan()</span><br>
<span class="lineno"></span><span class="comment" id="5593227">//&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="lineno">25</span><span class="comment" id="5593232">//</span><br>
<span class="lineno"></span><span class="keyword" id="5593235">package</span>&nbsp;<span class="ident" id="5593243">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5593252">import</span>&nbsp;<span class="op" id="5593259">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5593262">&#34;bytes&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5593271">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5593278">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5593284">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5593290">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5593301">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">35</span><span class="op" id="5593316">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5593319">//&nbsp;A&nbsp;source&nbsp;position&nbsp;is&nbsp;represented&nbsp;by&nbsp;a&nbsp;Position&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5593376">//&nbsp;A&nbsp;position&nbsp;is&nbsp;valid&nbsp;if&nbsp;Line&nbsp;&gt;&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="5593412">type</span>&nbsp;<span class="ident" id="5593417">Position</span>&nbsp;<span class="keyword" id="5593426">struct</span>&nbsp;<span class="op" id="5593433">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5593436">Filename</span>&nbsp;<span class="builtintype" id="5593445">string</span>&nbsp;<span class="comment" id="5593452">//&nbsp;filename,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5593473">Offset</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5593482">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5593489">//&nbsp;byte&nbsp;offset,&nbsp;starting&nbsp;at&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5593520">Line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5593529">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5593536">//&nbsp;line&nbsp;number,&nbsp;starting&nbsp;at&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5593567">Column</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5593576">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5593583">//&nbsp;column&nbsp;number,&nbsp;starting&nbsp;at&nbsp;1&nbsp;(character&nbsp;count&nbsp;per&nbsp;line)</span><br>
<span class="lineno"></span><span class="op" id="5593642">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="5593645">//&nbsp;IsValid&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;position&nbsp;is&nbsp;valid.</span><br>
<span class="lineno"></span><span class="keyword" id="5593695">func</span>&nbsp;<span class="op" id="5593700">(</span><span class="ident" id="5593701">pos</span>&nbsp;<span class="op" id="5593705">*</span><span class="ident" id="5593706"><a href="/gostd/text/scanner/scanner.go.html#5593417">Position</a></span><span class="op" id="5593714">)</span>&nbsp;<span class="ident" id="5593716">IsValid</span><span class="op" id="5593723">(</span><span class="op" id="5593724">)</span>&nbsp;<span class="builtintype" id="5593726">bool</span>&nbsp;<span class="op" id="5593731">{</span>&nbsp;<span class="keyword" id="5593733">return</span>&nbsp;<span class="ident" id="5593740"><a href="/gostd/text/scanner/scanner.go.html#5593701">pos</a></span><span class="op" id="5593743">.</span><span class="ident" id="5593744"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span>&nbsp;<span class="op" id="5593749">&gt;</span>&nbsp;<span class="num" id="5593751">0</span>&nbsp;<span class="op" id="5593753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5593756">func</span>&nbsp;<span class="op" id="5593761">(</span><span class="ident" id="5593762">pos</span>&nbsp;<span class="ident" id="5593766"><a href="/gostd/text/scanner/scanner.go.html#5593417">Position</a></span><span class="op" id="5593774">)</span>&nbsp;<span class="ident" id="5593776">String</span><span class="op" id="5593782">(</span><span class="op" id="5593783">)</span>&nbsp;<span class="builtintype" id="5593785">string</span>&nbsp;<span class="op" id="5593792">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5593795">s</span>&nbsp;<span class="op" id="5593797">:=</span>&nbsp;<span class="ident" id="5593800"><a href="/gostd/text/scanner/scanner.go.html#5593762">pos</a></span><span class="op" id="5593803">.</span><span class="ident" id="5593804"><a href="/gostd/text/scanner/scanner.go.html#5593436">Filename</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5593814">if</span>&nbsp;<span class="ident" id="5593817"><a href="/gostd/text/scanner/scanner.go.html#5593762">pos</a></span><span class="op" id="5593820">.</span><span class="ident" id="5593821"><a href="/gostd/text/scanner/scanner.go.html#5593716">IsValid</a></span><span class="op" id="5593828">(</span><span class="op" id="5593829">)</span>&nbsp;<span class="op" id="5593831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5593835">if</span>&nbsp;<span class="ident" id="5593838"><a href="/gostd/text/scanner/scanner.go.html#5593795">s</a></span>&nbsp;<span class="op" id="5593840">!=</span>&nbsp;<span class="string" id="5593843">&#34;&#34;</span>&nbsp;<span class="op" id="5593846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5593851"><a href="/gostd/text/scanner/scanner.go.html#5593795">s</a></span>&nbsp;<span class="op" id="5593853">+=</span>&nbsp;<span class="string" id="5593856">&#34;:&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5593862">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5593866"><a href="/gostd/text/scanner/scanner.go.html#5593795">s</a></span>&nbsp;<span class="op" id="5593868">+=</span>&nbsp;<span class="ident" id="5593871"><a href="/gostd/text/scanner/scanner.go.html#5593271">fmt</a></span><span class="op" id="5593874">.</span><span class="ident" id="5593875"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="5593882">(</span><span class="string" id="5593883">&#34;%d:%d&#34;</span><span class="op" id="5593890">,</span>&nbsp;<span class="ident" id="5593892"><a href="/gostd/text/scanner/scanner.go.html#5593762">pos</a></span><span class="op" id="5593895">.</span><span class="ident" id="5593896"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span><span class="op" id="5593900">,</span>&nbsp;<span class="ident" id="5593902"><a href="/gostd/text/scanner/scanner.go.html#5593762">pos</a></span><span class="op" id="5593905">.</span><span class="ident" id="5593906"><a href="/gostd/text/scanner/scanner.go.html#5593567">Column</a></span><span class="op" id="5593912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5593915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5593918">if</span>&nbsp;<span class="ident" id="5593921"><a href="/gostd/text/scanner/scanner.go.html#5593795">s</a></span>&nbsp;<span class="op" id="5593923">==</span>&nbsp;<span class="string" id="5593926">&#34;&#34;</span>&nbsp;<span class="op" id="5593929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5593933"><a href="/gostd/text/scanner/scanner.go.html#5593795">s</a></span>&nbsp;<span class="op" id="5593935">=</span>&nbsp;<span class="string" id="5593937">&#34;???&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5593944">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5593947">return</span>&nbsp;<span class="ident" id="5593954"><a href="/gostd/text/scanner/scanner.go.html#5593795">s</a></span><br>
<span class="lineno"></span><span class="op" id="5593956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5593959">//&nbsp;Predefined&nbsp;mode&nbsp;bits&nbsp;to&nbsp;control&nbsp;recognition&nbsp;of&nbsp;tokens.&nbsp;For&nbsp;instance,</span><br>
<span class="lineno"></span><span class="comment" id="5594031">//&nbsp;to&nbsp;configure&nbsp;a&nbsp;Scanner&nbsp;such&nbsp;that&nbsp;it&nbsp;only&nbsp;recognizes&nbsp;(Go)&nbsp;identifiers,</span><br>
<span class="lineno">65</span><span class="comment" id="5594104">//&nbsp;integers,&nbsp;and&nbsp;skips&nbsp;comments,&nbsp;set&nbsp;the&nbsp;Scanner&#39;s&nbsp;Mode&nbsp;field&nbsp;to:</span><br>
<span class="lineno"></span><span class="comment" id="5594170">//</span><br>
<span class="lineno"></span><span class="comment" id="5594173">//&nbsp;&nbsp;&nbsp;&nbsp;ScanIdents&nbsp;|&nbsp;ScanInts&nbsp;|&nbsp;SkipComments</span><br>
<span class="lineno"></span><span class="comment" id="5594213">//</span><br>
<span class="lineno"></span><span class="comment" id="5594216">//&nbsp;With&nbsp;the&nbsp;exceptions&nbsp;of&nbsp;comments,&nbsp;which&nbsp;are&nbsp;skipped&nbsp;if&nbsp;SkipComments&nbsp;is</span><br>
<span class="lineno">70</span><span class="comment" id="5594289">//&nbsp;set,&nbsp;unrecognized&nbsp;tokens&nbsp;are&nbsp;not&nbsp;ignored.&nbsp;Instead,&nbsp;the&nbsp;scanner&nbsp;simply</span><br>
<span class="lineno"></span><span class="comment" id="5594362">//&nbsp;returns&nbsp;the&nbsp;respective&nbsp;individual&nbsp;characters&nbsp;(or&nbsp;possibly&nbsp;sub-tokens).</span><br>
<span class="lineno"></span><span class="comment" id="5594436">//&nbsp;For&nbsp;instance,&nbsp;if&nbsp;the&nbsp;mode&nbsp;is&nbsp;ScanIdents&nbsp;(not&nbsp;ScanStrings),&nbsp;the&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="5594509">//&nbsp;&#34;foo&#34;&nbsp;is&nbsp;scanned&nbsp;as&nbsp;the&nbsp;token&nbsp;sequence&nbsp;&#39;&#34;&#39;&nbsp;Ident&nbsp;&#39;&#34;&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="5594566">//</span><br>
<span class="lineno">75</span><span class="keyword" id="5594569">const</span>&nbsp;<span class="op" id="5594575">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5594578">ScanIdents</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5594593">=</span>&nbsp;<span class="num" id="5594595">1</span>&nbsp;<span class="op" id="5594597">&lt;&lt;</span>&nbsp;<span class="op" id="5594600">-</span><span class="ident" id="5594601"><a href="/gostd/text/scanner/scanner.go.html#5595124">Ident</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5594608">ScanInts</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5594623">=</span>&nbsp;<span class="num" id="5594625">1</span>&nbsp;<span class="op" id="5594627">&lt;&lt;</span>&nbsp;<span class="op" id="5594630">-</span><span class="ident" id="5594631"><a href="/gostd/text/scanner/scanner.go.html#5595131">Int</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5594636">ScanFloats</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5594651">=</span>&nbsp;<span class="num" id="5594653">1</span>&nbsp;<span class="op" id="5594655">&lt;&lt;</span>&nbsp;<span class="op" id="5594658">-</span><span class="ident" id="5594659"><a href="/gostd/text/scanner/scanner.go.html#5595136">Float</a></span>&nbsp;<span class="comment" id="5594665">//&nbsp;includes&nbsp;Ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5594683">ScanChars</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5594698">=</span>&nbsp;<span class="num" id="5594700">1</span>&nbsp;<span class="op" id="5594702">&lt;&lt;</span>&nbsp;<span class="op" id="5594705">-</span><span class="ident" id="5594706"><a href="/gostd/text/scanner/scanner.go.html#5595143">Char</a></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5594712">ScanStrings</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5594727">=</span>&nbsp;<span class="num" id="5594729">1</span>&nbsp;<span class="op" id="5594731">&lt;&lt;</span>&nbsp;<span class="op" id="5594734">-</span><span class="ident" id="5594735"><a href="/gostd/text/scanner/scanner.go.html#5595149">String</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5594743">ScanRawStrings</span>&nbsp;<span class="op" id="5594758">=</span>&nbsp;<span class="num" id="5594760">1</span>&nbsp;<span class="op" id="5594762">&lt;&lt;</span>&nbsp;<span class="op" id="5594765">-</span><span class="ident" id="5594766"><a href="/gostd/text/scanner/scanner.go.html#5595157">RawString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5594777">ScanComments</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5594792">=</span>&nbsp;<span class="num" id="5594794">1</span>&nbsp;<span class="op" id="5594796">&lt;&lt;</span>&nbsp;<span class="op" id="5594799">-</span><span class="ident" id="5594800"><a href="/gostd/text/scanner/scanner.go.html#5595168">Comment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5594809">SkipComments</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5594824">=</span>&nbsp;<span class="num" id="5594826">1</span>&nbsp;<span class="op" id="5594828">&lt;&lt;</span>&nbsp;<span class="op" id="5594831">-</span><span class="ident" id="5594832"><a href="/gostd/text/scanner/scanner.go.html#5595177">skipComment</a></span>&nbsp;<span class="comment" id="5594844">//&nbsp;if&nbsp;set&nbsp;with&nbsp;ScanComments,&nbsp;comments&nbsp;become&nbsp;white&nbsp;space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5594902">GoTokens</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5594917">=</span>&nbsp;<span class="ident" id="5594919"><a href="/gostd/text/scanner/scanner.go.html#5594578">ScanIdents</a></span>&nbsp;<span class="op" id="5594930">|</span>&nbsp;<span class="ident" id="5594932"><a href="/gostd/text/scanner/scanner.go.html#5594636">ScanFloats</a></span>&nbsp;<span class="op" id="5594943">|</span>&nbsp;<span class="ident" id="5594945"><a href="/gostd/text/scanner/scanner.go.html#5594683">ScanChars</a></span>&nbsp;<span class="op" id="5594955">|</span>&nbsp;<span class="ident" id="5594957"><a href="/gostd/text/scanner/scanner.go.html#5594712">ScanStrings</a></span>&nbsp;<span class="op" id="5594969">|</span>&nbsp;<span class="ident" id="5594971"><a href="/gostd/text/scanner/scanner.go.html#5594743">ScanRawStrings</a></span>&nbsp;<span class="op" id="5594986">|</span>&nbsp;<span class="ident" id="5594988"><a href="/gostd/text/scanner/scanner.go.html#5594777">ScanComments</a></span>&nbsp;<span class="op" id="5595001">|</span>&nbsp;<span class="ident" id="5595003"><a href="/gostd/text/scanner/scanner.go.html#5594809">SkipComments</a></span><br>
<span class="lineno">85</span><span class="op" id="5595016">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5595019">//&nbsp;The&nbsp;result&nbsp;of&nbsp;Scan&nbsp;is&nbsp;one&nbsp;of&nbsp;the&nbsp;following&nbsp;tokens&nbsp;or&nbsp;a&nbsp;Unicode&nbsp;character.</span><br>
<span class="lineno"></span><span class="keyword" id="5595096">const</span>&nbsp;<span class="op" id="5595102">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595105">EOF</span>&nbsp;<span class="op" id="5595109">=</span>&nbsp;<span class="op" id="5595111">-</span><span class="op" id="5595112">(</span><span class="ident" id="5595113">iota</span>&nbsp;<span class="op" id="5595118">+</span>&nbsp;<span class="num" id="5595120">1</span><span class="op" id="5595121">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595124">Ident</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595131">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595136">Float</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595143">Char</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595149">String</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595157">RawString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595168">Comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595177">skipComment</span><br>
<span class="lineno"></span><span class="op" id="5595189">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="5595192">var</span>&nbsp;<span class="ident" id="5595196">tokenString</span>&nbsp;<span class="op" id="5595208">=</span>&nbsp;<span class="keyword" id="5595210">map</span><span class="op" id="5595213">[</span><span class="builtintype" id="5595214">rune</span><span class="op" id="5595218">]</span><span class="builtintype" id="5595219">string</span><span class="op" id="5595225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595228"><a href="/gostd/text/scanner/scanner.go.html#5595105">EOF</a></span><span class="op" id="5595231">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5595239">&#34;EOF&#34;</span><span class="op" id="5595244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595247"><a href="/gostd/text/scanner/scanner.go.html#5595124">Ident</a></span><span class="op" id="5595252">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5595258">&#34;Ident&#34;</span><span class="op" id="5595265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595268"><a href="/gostd/text/scanner/scanner.go.html#5595131">Int</a></span><span class="op" id="5595271">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5595279">&#34;Int&#34;</span><span class="op" id="5595284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595287"><a href="/gostd/text/scanner/scanner.go.html#5595136">Float</a></span><span class="op" id="5595292">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5595298">&#34;Float&#34;</span><span class="op" id="5595305">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595308"><a href="/gostd/text/scanner/scanner.go.html#5595143">Char</a></span><span class="op" id="5595312">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5595319">&#34;Char&#34;</span><span class="op" id="5595325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595328"><a href="/gostd/text/scanner/scanner.go.html#5595149">String</a></span><span class="op" id="5595334">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5595339">&#34;String&#34;</span><span class="op" id="5595347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595350"><a href="/gostd/text/scanner/scanner.go.html#5595157">RawString</a></span><span class="op" id="5595359">:</span>&nbsp;<span class="string" id="5595361">&#34;RawString&#34;</span><span class="op" id="5595372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595375"><a href="/gostd/text/scanner/scanner.go.html#5595168">Comment</a></span><span class="op" id="5595382">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="5595386">&#34;Comment&#34;</span><span class="op" id="5595395">,</span><br>
<span class="lineno"></span><span class="op" id="5595397">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="5595400">//&nbsp;TokenString&nbsp;returns&nbsp;a&nbsp;printable&nbsp;string&nbsp;for&nbsp;a&nbsp;token&nbsp;or&nbsp;Unicode&nbsp;character.</span><br>
<span class="lineno"></span><span class="keyword" id="5595476">func</span>&nbsp;<span class="ident" id="5595481">TokenString</span><span class="op" id="5595492">(</span><span class="ident" id="5595493">tok</span>&nbsp;<span class="builtintype" id="5595497">rune</span><span class="op" id="5595501">)</span>&nbsp;<span class="builtintype" id="5595503">string</span>&nbsp;<span class="op" id="5595510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5595513">if</span>&nbsp;<span class="ident" id="5595516">s</span><span class="op" id="5595517">,</span>&nbsp;<span class="ident" id="5595519">found</span>&nbsp;<span class="op" id="5595525">:=</span>&nbsp;<span class="ident" id="5595528"><a href="/gostd/text/scanner/scanner.go.html#5595196">tokenString</a></span><span class="op" id="5595539">[</span><span class="ident" id="5595540"><a href="/gostd/text/scanner/scanner.go.html#5595493">tok</a></span><span class="op" id="5595543">]</span><span class="op" id="5595544">;</span>&nbsp;<span class="ident" id="5595546"><a href="/gostd/text/scanner/scanner.go.html#5595519">found</a></span>&nbsp;<span class="op" id="5595552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5595556">return</span>&nbsp;<span class="ident" id="5595563"><a href="/gostd/text/scanner/scanner.go.html#5595516">s</a></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5595566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5595569">return</span>&nbsp;<span class="ident" id="5595576"><a href="/gostd/text/scanner/scanner.go.html#5593271">fmt</a></span><span class="op" id="5595579">.</span><span class="ident" id="5595580"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="5595587">(</span><span class="string" id="5595588">&#34;%q&#34;</span><span class="op" id="5595592">,</span>&nbsp;<span class="builtintype" id="5595594">string</span><span class="op" id="5595600">(</span><span class="ident" id="5595601"><a href="/gostd/text/scanner/scanner.go.html#5595493">tok</a></span><span class="op" id="5595604">)</span><span class="op" id="5595605">)</span><br>
<span class="lineno"></span><span class="op" id="5595607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5595610">//&nbsp;GoWhitespace&nbsp;is&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;the&nbsp;Scanner&#39;s&nbsp;Whitespace&nbsp;field.</span><br>
<span class="lineno">120</span><span class="comment" id="5595683">//&nbsp;Its&nbsp;value&nbsp;selects&nbsp;Go&#39;s&nbsp;white&nbsp;space&nbsp;characters.</span><br>
<span class="lineno"></span><span class="keyword" id="5595733">const</span>&nbsp;<span class="ident" id="5595739">GoWhitespace</span>&nbsp;<span class="op" id="5595752">=</span>&nbsp;<span class="num" id="5595754">1</span><span class="op" id="5595755">&lt;&lt;</span><span class="string" id="5595757">&#39;\t&#39;</span>&nbsp;<span class="op" id="5595762">|</span>&nbsp;<span class="num" id="5595764">1</span><span class="op" id="5595765">&lt;&lt;</span><span class="string" id="5595767">&#39;\n&#39;</span>&nbsp;<span class="op" id="5595772">|</span>&nbsp;<span class="num" id="5595774">1</span><span class="op" id="5595775">&lt;&lt;</span><span class="string" id="5595777">&#39;\r&#39;</span>&nbsp;<span class="op" id="5595782">|</span>&nbsp;<span class="num" id="5595784">1</span><span class="op" id="5595785">&lt;&lt;</span><span class="string" id="5595787">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5595792">const</span>&nbsp;<span class="ident" id="5595798">bufLen</span>&nbsp;<span class="op" id="5595805">=</span>&nbsp;<span class="num" id="5595807">1024</span>&nbsp;<span class="comment" id="5595812">//&nbsp;at&nbsp;least&nbsp;utf8.UTFMax</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="5595837">//&nbsp;A&nbsp;Scanner&nbsp;implements&nbsp;reading&nbsp;of&nbsp;Unicode&nbsp;characters&nbsp;and&nbsp;tokens&nbsp;from&nbsp;an&nbsp;io.Reader.</span><br>
<span class="lineno"></span><span class="keyword" id="5595921">type</span>&nbsp;<span class="ident" id="5595926">Scanner</span>&nbsp;<span class="keyword" id="5595934">struct</span>&nbsp;<span class="op" id="5595941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5595944">//&nbsp;Input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595954">src</span>&nbsp;<span class="ident" id="5595958"><a href="/gostd/text/scanner/scanner.go.html#5593278">io</a></span><span class="op" id="5595960">.</span><span class="ident" id="5595961"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5595970">//&nbsp;Source&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5595988">srcBuf</span>&nbsp;<span class="op" id="5595995">[</span><span class="ident" id="5595996"><a href="/gostd/text/scanner/scanner.go.html#5595798">bufLen</a></span>&nbsp;<span class="op" id="5596003">+</span>&nbsp;<span class="num" id="5596005">1</span><span class="op" id="5596006">]</span><span class="builtintype" id="5596007">byte</span>&nbsp;<span class="comment" id="5596012">//&nbsp;+1&nbsp;for&nbsp;sentinel&nbsp;for&nbsp;common&nbsp;case&nbsp;of&nbsp;s.next()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596060">srcPos</span>&nbsp;<span class="builtintype" id="5596067">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596084">//&nbsp;reading&nbsp;position&nbsp;(srcBuf&nbsp;index)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596120">srcEnd</span>&nbsp;<span class="builtintype" id="5596127">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596144">//&nbsp;source&nbsp;end&nbsp;(srcBuf&nbsp;index)</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596175">//&nbsp;Source&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596195">srcBufOffset</span>&nbsp;<span class="builtintype" id="5596208">int</span>&nbsp;<span class="comment" id="5596212">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;srcBuf[0]&nbsp;in&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596251">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5596264">int</span>&nbsp;<span class="comment" id="5596268">//&nbsp;line&nbsp;count</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596283">column</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5596296">int</span>&nbsp;<span class="comment" id="5596300">//&nbsp;character&nbsp;count</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596320">lastLineLen</span>&nbsp;&nbsp;<span class="builtintype" id="5596333">int</span>&nbsp;<span class="comment" id="5596337">//&nbsp;length&nbsp;of&nbsp;last&nbsp;line&nbsp;in&nbsp;characters&nbsp;(for&nbsp;correct&nbsp;column&nbsp;reporting)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596406">lastCharLen</span>&nbsp;&nbsp;<span class="builtintype" id="5596419">int</span>&nbsp;<span class="comment" id="5596423">//&nbsp;length&nbsp;of&nbsp;last&nbsp;character&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596462">//&nbsp;Token&nbsp;text&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596484">//&nbsp;Typically,&nbsp;token&nbsp;text&nbsp;is&nbsp;stored&nbsp;completely&nbsp;in&nbsp;srcBuf,&nbsp;but&nbsp;in&nbsp;general</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596557">//&nbsp;the&nbsp;token&nbsp;text&#39;s&nbsp;head&nbsp;may&nbsp;be&nbsp;buffered&nbsp;in&nbsp;tokBuf&nbsp;while&nbsp;the&nbsp;token&nbsp;text&#39;s</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596632">//&nbsp;tail&nbsp;is&nbsp;stored&nbsp;in&nbsp;srcBuf.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596662">tokBuf</span>&nbsp;<span class="ident" id="5596669"><a href="/gostd/text/scanner/scanner.go.html#5593262">bytes</a></span><span class="op" id="5596674">.</span><span class="ident" id="5596675"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span>&nbsp;<span class="comment" id="5596682">//&nbsp;token&nbsp;text&nbsp;head&nbsp;that&nbsp;is&nbsp;not&nbsp;in&nbsp;srcBuf&nbsp;anymore</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596732">tokPos</span>&nbsp;<span class="builtintype" id="5596739">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596752">//&nbsp;token&nbsp;text&nbsp;tail&nbsp;position&nbsp;(srcBuf&nbsp;index);&nbsp;valid&nbsp;if&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596811">tokEnd</span>&nbsp;<span class="builtintype" id="5596818">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596831">//&nbsp;token&nbsp;text&nbsp;tail&nbsp;end&nbsp;(srcBuf&nbsp;index)</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596871">//&nbsp;One&nbsp;character&nbsp;look-ahead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5596900">ch</span>&nbsp;<span class="builtintype" id="5596903">rune</span>&nbsp;<span class="comment" id="5596908">//&nbsp;character&nbsp;before&nbsp;current&nbsp;srcPos</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5596945">//&nbsp;Error&nbsp;is&nbsp;called&nbsp;for&nbsp;each&nbsp;error&nbsp;encountered.&nbsp;If&nbsp;no&nbsp;Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597005">//&nbsp;function&nbsp;is&nbsp;set,&nbsp;the&nbsp;error&nbsp;is&nbsp;reported&nbsp;to&nbsp;os.Stderr.</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5597062">Error</span>&nbsp;<span class="keyword" id="5597068">func</span><span class="op" id="5597072">(</span><span class="ident" id="5597073">s</span>&nbsp;<span class="op" id="5597075">*</span><span class="ident" id="5597076"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5597083">,</span>&nbsp;<span class="ident" id="5597085">msg</span>&nbsp;<span class="builtintype" id="5597089">string</span><span class="op" id="5597095">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597099">//&nbsp;ErrorCount&nbsp;is&nbsp;incremented&nbsp;by&nbsp;one&nbsp;for&nbsp;each&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5597164">ErrorCount</span>&nbsp;<span class="builtintype" id="5597175">int</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597181">//&nbsp;The&nbsp;Mode&nbsp;field&nbsp;controls&nbsp;which&nbsp;tokens&nbsp;are&nbsp;recognized.&nbsp;For&nbsp;instance,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597252">//&nbsp;to&nbsp;recognize&nbsp;Ints,&nbsp;set&nbsp;the&nbsp;ScanInts&nbsp;bit&nbsp;in&nbsp;Mode.&nbsp;The&nbsp;field&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597322">//&nbsp;changed&nbsp;at&nbsp;any&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5597347">Mode</span>&nbsp;<span class="builtintype" id="5597352">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597359">//&nbsp;The&nbsp;Whitespace&nbsp;field&nbsp;controls&nbsp;which&nbsp;characters&nbsp;are&nbsp;recognized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597425">//&nbsp;as&nbsp;white&nbsp;space.&nbsp;To&nbsp;recognize&nbsp;a&nbsp;character&nbsp;ch&nbsp;&lt;=&nbsp;&#39;&nbsp;&#39;&nbsp;as&nbsp;white&nbsp;space,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597496">//&nbsp;set&nbsp;the&nbsp;ch&#39;th&nbsp;bit&nbsp;in&nbsp;Whitespace&nbsp;(the&nbsp;Scanner&#39;s&nbsp;behavior&nbsp;is&nbsp;undefined</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597569">//&nbsp;for&nbsp;values&nbsp;ch&nbsp;&gt;&nbsp;&#39;&nbsp;&#39;).&nbsp;The&nbsp;field&nbsp;may&nbsp;be&nbsp;changed&nbsp;at&nbsp;any&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5597633">Whitespace</span>&nbsp;<span class="builtintype" id="5597644">uint64</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597653">//&nbsp;IsIdentRune&nbsp;is&nbsp;a&nbsp;predicate&nbsp;controlling&nbsp;the&nbsp;characters&nbsp;accepted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597720">//&nbsp;as&nbsp;the&nbsp;ith&nbsp;rune&nbsp;in&nbsp;an&nbsp;identifier.&nbsp;The&nbsp;set&nbsp;of&nbsp;valid&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597786">//&nbsp;must&nbsp;not&nbsp;intersect&nbsp;with&nbsp;the&nbsp;set&nbsp;of&nbsp;white&nbsp;space&nbsp;characters.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597849">//&nbsp;If&nbsp;no&nbsp;IsIdentRune&nbsp;function&nbsp;is&nbsp;set,&nbsp;regular&nbsp;Go&nbsp;identifiers&nbsp;are</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5597915">//&nbsp;accepted&nbsp;instead.&nbsp;The&nbsp;field&nbsp;may&nbsp;be&nbsp;changed&nbsp;at&nbsp;any&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5597975">IsIdentRune</span>&nbsp;<span class="keyword" id="5597987">func</span><span class="op" id="5597991">(</span><span class="ident" id="5597992">ch</span>&nbsp;<span class="builtintype" id="5597995">rune</span><span class="op" id="5597999">,</span>&nbsp;<span class="ident" id="5598001">i</span>&nbsp;<span class="builtintype" id="5598003">int</span><span class="op" id="5598006">)</span>&nbsp;<span class="builtintype" id="5598008">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598015">//&nbsp;Start&nbsp;position&nbsp;of&nbsp;most&nbsp;recently&nbsp;scanned&nbsp;token;&nbsp;set&nbsp;by&nbsp;Scan.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598079">//&nbsp;Calling&nbsp;Init&nbsp;or&nbsp;Next&nbsp;invalidates&nbsp;the&nbsp;position&nbsp;(Line&nbsp;==&nbsp;0).</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598142">//&nbsp;The&nbsp;Filename&nbsp;field&nbsp;is&nbsp;always&nbsp;left&nbsp;untouched&nbsp;by&nbsp;the&nbsp;Scanner.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598206">//&nbsp;If&nbsp;an&nbsp;error&nbsp;is&nbsp;reported&nbsp;(via&nbsp;Error)&nbsp;and&nbsp;Position&nbsp;is&nbsp;invalid,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598271">//&nbsp;the&nbsp;scanner&nbsp;is&nbsp;not&nbsp;inside&nbsp;a&nbsp;token.&nbsp;Call&nbsp;Pos&nbsp;to&nbsp;obtain&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598338">//&nbsp;position&nbsp;in&nbsp;that&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598365"><a href="/gostd/text/scanner/scanner.go.html#5593417">Position</a></span><br>
<span class="lineno">185</span><span class="op" id="5598374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5598377">//&nbsp;Init&nbsp;initializes&nbsp;a&nbsp;Scanner&nbsp;with&nbsp;a&nbsp;new&nbsp;source&nbsp;and&nbsp;returns&nbsp;s.</span><br>
<span class="lineno"></span><span class="comment" id="5598440">//&nbsp;Error&nbsp;is&nbsp;set&nbsp;to&nbsp;nil,&nbsp;ErrorCount&nbsp;is&nbsp;set&nbsp;to&nbsp;0,&nbsp;Mode&nbsp;is&nbsp;set&nbsp;to&nbsp;GoTokens,</span><br>
<span class="lineno"></span><span class="comment" id="5598513">//&nbsp;and&nbsp;Whitespace&nbsp;is&nbsp;set&nbsp;to&nbsp;GoWhitespace.</span><br>
<span class="lineno">190</span><span class="keyword" id="5598555">func</span>&nbsp;<span class="op" id="5598560">(</span><span class="ident" id="5598561">s</span>&nbsp;<span class="op" id="5598563">*</span><span class="ident" id="5598564"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5598571">)</span>&nbsp;<span class="ident" id="5598573">Init</span><span class="op" id="5598577">(</span><span class="ident" id="5598578">src</span>&nbsp;<span class="ident" id="5598582"><a href="/gostd/text/scanner/scanner.go.html#5593278">io</a></span><span class="op" id="5598584">.</span><span class="ident" id="5598585"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="5598591">)</span>&nbsp;<span class="op" id="5598593">*</span><span class="ident" id="5598594"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span>&nbsp;<span class="op" id="5598602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598605"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598606">.</span><span class="ident" id="5598607"><a href="/gostd/text/scanner/scanner.go.html#5595954">src</a></span>&nbsp;<span class="op" id="5598611">=</span>&nbsp;<span class="ident" id="5598613"><a href="/gostd/text/scanner/scanner.go.html#5598578">src</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598619">//&nbsp;initialize&nbsp;source&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598648">//&nbsp;(the&nbsp;first&nbsp;call&nbsp;to&nbsp;next()&nbsp;will&nbsp;fill&nbsp;it&nbsp;by&nbsp;calling&nbsp;src.Read)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598712"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598713">.</span><span class="ident" id="5598714"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5598720">[</span><span class="num" id="5598721">0</span><span class="op" id="5598722">]</span>&nbsp;<span class="op" id="5598724">=</span>&nbsp;<span class="ident" id="5598726"><a href="/gostd/text/scanner/scanner.go.html#5593301">utf8</a></span><span class="op" id="5598730">.</span><span class="ident" id="5598731"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="comment" id="5598740">//&nbsp;sentinel</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598753"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598754">.</span><span class="ident" id="5598755"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span>&nbsp;<span class="op" id="5598762">=</span>&nbsp;<span class="num" id="5598764">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598767"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598768">.</span><span class="ident" id="5598769"><a href="/gostd/text/scanner/scanner.go.html#5596120">srcEnd</a></span>&nbsp;<span class="op" id="5598776">=</span>&nbsp;<span class="num" id="5598778">0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598782">//&nbsp;initialize&nbsp;source&nbsp;position</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598813"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598814">.</span><span class="ident" id="5598815"><a href="/gostd/text/scanner/scanner.go.html#5596195">srcBufOffset</a></span>&nbsp;<span class="op" id="5598828">=</span>&nbsp;<span class="num" id="5598830">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598833"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598834">.</span><span class="ident" id="5598835"><a href="/gostd/text/scanner/scanner.go.html#5596251">line</a></span>&nbsp;<span class="op" id="5598840">=</span>&nbsp;<span class="num" id="5598842">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598845"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598846">.</span><span class="ident" id="5598847"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span>&nbsp;<span class="op" id="5598854">=</span>&nbsp;<span class="num" id="5598856">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598859"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598860">.</span><span class="ident" id="5598861"><a href="/gostd/text/scanner/scanner.go.html#5596320">lastLineLen</a></span>&nbsp;<span class="op" id="5598873">=</span>&nbsp;<span class="num" id="5598875">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598878"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598879">.</span><span class="ident" id="5598880"><a href="/gostd/text/scanner/scanner.go.html#5596406">lastCharLen</a></span>&nbsp;<span class="op" id="5598892">=</span>&nbsp;<span class="num" id="5598894">0</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598898">//&nbsp;initialize&nbsp;token&nbsp;text&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598931">//&nbsp;(required&nbsp;for&nbsp;first&nbsp;call&nbsp;to&nbsp;next()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5598972"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5598973">.</span><span class="ident" id="5598974"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span>&nbsp;<span class="op" id="5598981">=</span>&nbsp;<span class="op" id="5598983">-</span><span class="num" id="5598984">1</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5598988">//&nbsp;initialize&nbsp;one&nbsp;character&nbsp;look-ahead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5599028"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5599029">.</span><span class="ident" id="5599030"><a href="/gostd/text/scanner/scanner.go.html#5596900">ch</a></span>&nbsp;<span class="op" id="5599033">=</span>&nbsp;<span class="op" id="5599035">-</span><span class="num" id="5599036">1</span>&nbsp;<span class="comment" id="5599038">//&nbsp;no&nbsp;char&nbsp;read&nbsp;yet</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5599060">//&nbsp;initialize&nbsp;public&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5599089"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5599090">.</span><span class="ident" id="5599091"><a href="/gostd/text/scanner/scanner.go.html#5597062">Error</a></span>&nbsp;<span class="op" id="5599097">=</span>&nbsp;<span class="builtintype" id="5599099">nil</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5599104"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5599105">.</span><span class="ident" id="5599106"><a href="/gostd/text/scanner/scanner.go.html#5597164">ErrorCount</a></span>&nbsp;<span class="op" id="5599117">=</span>&nbsp;<span class="num" id="5599119">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5599122"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5599123">.</span><span class="ident" id="5599124"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span>&nbsp;<span class="op" id="5599129">=</span>&nbsp;<span class="ident" id="5599131"><a href="/gostd/text/scanner/scanner.go.html#5594902">GoTokens</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5599141"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5599142">.</span><span class="ident" id="5599143"><a href="/gostd/text/scanner/scanner.go.html#5597633">Whitespace</a></span>&nbsp;<span class="op" id="5599154">=</span>&nbsp;<span class="ident" id="5599156"><a href="/gostd/text/scanner/scanner.go.html#5595739">GoWhitespace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5599170"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><span class="op" id="5599171">.</span><span class="ident" id="5599172"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span>&nbsp;<span class="op" id="5599177">=</span>&nbsp;<span class="num" id="5599179">0</span>&nbsp;<span class="comment" id="5599181">//&nbsp;invalidate&nbsp;token&nbsp;position</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5599212">return</span>&nbsp;<span class="ident" id="5599219"><a href="/gostd/text/scanner/scanner.go.html#5598561">s</a></span><br>
<span class="lineno"></span><span class="op" id="5599221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5599224">//&nbsp;next&nbsp;reads&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;Unicode&nbsp;character.&nbsp;It&nbsp;is&nbsp;designed&nbsp;such</span><br>
<span class="lineno"></span><span class="comment" id="5599298">//&nbsp;that&nbsp;only&nbsp;a&nbsp;minimal&nbsp;amount&nbsp;of&nbsp;work&nbsp;needs&nbsp;to&nbsp;be&nbsp;done&nbsp;in&nbsp;the&nbsp;common&nbsp;ASCII</span><br>
<span class="lineno">225</span><span class="comment" id="5599373">//&nbsp;case&nbsp;(one&nbsp;test&nbsp;to&nbsp;check&nbsp;for&nbsp;both&nbsp;ASCII&nbsp;and&nbsp;end-of-buffer,&nbsp;and&nbsp;one&nbsp;test</span><br>
<span class="lineno"></span><span class="comment" id="5599447">//&nbsp;to&nbsp;check&nbsp;for&nbsp;newlines).</span><br>
<span class="lineno"></span><span class="keyword" id="5599474">func</span>&nbsp;<span class="op" id="5599479">(</span><span class="ident" id="5599480">s</span>&nbsp;<span class="op" id="5599482">*</span><span class="ident" id="5599483"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5599490">)</span>&nbsp;<span class="ident" id="5599492">next</span><span class="op" id="5599496">(</span><span class="op" id="5599497">)</span>&nbsp;<span class="builtintype" id="5599499">rune</span>&nbsp;<span class="op" id="5599504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5599507">ch</span><span class="op" id="5599509">,</span>&nbsp;<span class="ident" id="5599511">width</span>&nbsp;<span class="op" id="5599517">:=</span>&nbsp;<span class="builtintype" id="5599520">rune</span><span class="op" id="5599524">(</span><span class="ident" id="5599525"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599526">.</span><span class="ident" id="5599527"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5599533">[</span><span class="ident" id="5599534"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599535">.</span><span class="ident" id="5599536"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span><span class="op" id="5599542">]</span><span class="op" id="5599543">)</span><span class="op" id="5599544">,</span>&nbsp;<span class="num" id="5599546">1</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5599550">if</span>&nbsp;<span class="ident" id="5599553"><a href="/gostd/text/scanner/scanner.go.html#5599507">ch</a></span>&nbsp;<span class="op" id="5599556">&gt;=</span>&nbsp;<span class="ident" id="5599559"><a href="/gostd/text/scanner/scanner.go.html#5593301">utf8</a></span><span class="op" id="5599563">.</span><span class="ident" id="5599564"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="5599573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5599577">//&nbsp;uncommon&nbsp;case:&nbsp;not&nbsp;ASCII&nbsp;or&nbsp;not&nbsp;enough&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5599627">for</span>&nbsp;<span class="ident" id="5599631"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599632">.</span><span class="ident" id="5599633"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span><span class="op" id="5599639">+</span><span class="ident" id="5599640"><a href="/gostd/text/scanner/scanner.go.html#5593301">utf8</a></span><span class="op" id="5599644">.</span><span class="ident" id="5599645"><a href="/gostd/unicode/utf8/utf8.go.html#1805617">UTFMax</a></span>&nbsp;<span class="op" id="5599652">&gt;</span>&nbsp;<span class="ident" id="5599654"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599655">.</span><span class="ident" id="5599656"><a href="/gostd/text/scanner/scanner.go.html#5596120">srcEnd</a></span>&nbsp;<span class="op" id="5599663">&amp;&amp;</span>&nbsp;<span class="op" id="5599666">!</span><span class="ident" id="5599667"><a href="/gostd/text/scanner/scanner.go.html#5593301">utf8</a></span><span class="op" id="5599671">.</span><span class="ident" id="5599672"><a href="/gostd/unicode/utf8/utf8.go.html#1809204">FullRune</a></span><span class="op" id="5599680">(</span><span class="ident" id="5599681"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599682">.</span><span class="ident" id="5599683"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5599689">[</span><span class="ident" id="5599690"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599691">.</span><span class="ident" id="5599692"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span><span class="op" id="5599698">:</span><span class="ident" id="5599699"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599700">.</span><span class="ident" id="5599701"><a href="/gostd/text/scanner/scanner.go.html#5596120">srcEnd</a></span><span class="op" id="5599707">]</span><span class="op" id="5599708">)</span>&nbsp;<span class="op" id="5599710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5599715">//&nbsp;not&nbsp;enough&nbsp;bytes:&nbsp;read&nbsp;some&nbsp;more,&nbsp;but&nbsp;first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5599765">//&nbsp;save&nbsp;away&nbsp;token&nbsp;text&nbsp;if&nbsp;any</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5599799">if</span>&nbsp;<span class="ident" id="5599802"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599803">.</span><span class="ident" id="5599804"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span>&nbsp;<span class="op" id="5599811">&gt;=</span>&nbsp;<span class="num" id="5599814">0</span>&nbsp;<span class="op" id="5599816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5599822"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599823">.</span><span class="ident" id="5599824"><a href="/gostd/text/scanner/scanner.go.html#5596662">tokBuf</a></span><span class="op" id="5599830">.</span><span class="ident" id="5599831"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="5599836">(</span><span class="ident" id="5599837"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599838">.</span><span class="ident" id="5599839"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5599845">[</span><span class="ident" id="5599846"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599847">.</span><span class="ident" id="5599848"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span><span class="op" id="5599854">:</span><span class="ident" id="5599855"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599856">.</span><span class="ident" id="5599857"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span><span class="op" id="5599863">]</span><span class="op" id="5599864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5599870"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599871">.</span><span class="ident" id="5599872"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span>&nbsp;<span class="op" id="5599879">=</span>&nbsp;<span class="num" id="5599881">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5599887">//&nbsp;s.tokEnd&nbsp;is&nbsp;set&nbsp;by&nbsp;Scan()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5599919">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5599924">//&nbsp;move&nbsp;unread&nbsp;bytes&nbsp;to&nbsp;beginning&nbsp;of&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5599971">copy</span><span class="op" id="5599975">(</span><span class="ident" id="5599976"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599977">.</span><span class="ident" id="5599978"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5599984">[</span><span class="num" id="5599985">0</span><span class="op" id="5599986">:</span><span class="op" id="5599987">]</span><span class="op" id="5599988">,</span>&nbsp;<span class="ident" id="5599990"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5599991">.</span><span class="ident" id="5599992"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5599998">[</span><span class="ident" id="5599999"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600000">.</span><span class="ident" id="5600001"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span><span class="op" id="5600007">:</span><span class="ident" id="5600008"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600009">.</span><span class="ident" id="5600010"><a href="/gostd/text/scanner/scanner.go.html#5596120">srcEnd</a></span><span class="op" id="5600016">]</span><span class="op" id="5600017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600022"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600023">.</span><span class="ident" id="5600024"><a href="/gostd/text/scanner/scanner.go.html#5596195">srcBufOffset</a></span>&nbsp;<span class="op" id="5600037">+=</span>&nbsp;<span class="ident" id="5600040"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600041">.</span><span class="ident" id="5600042"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600052">//&nbsp;read&nbsp;more&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600074">//&nbsp;(an&nbsp;io.Reader&nbsp;must&nbsp;return&nbsp;io.EOF&nbsp;when&nbsp;it&nbsp;reaches</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600129">//&nbsp;the&nbsp;end&nbsp;of&nbsp;what&nbsp;it&nbsp;is&nbsp;reading&nbsp;-&nbsp;simply&nbsp;returning</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600184">//&nbsp;n&nbsp;==&nbsp;0&nbsp;will&nbsp;make&nbsp;this&nbsp;loop&nbsp;retry&nbsp;forever;&nbsp;but&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600240">//&nbsp;error&nbsp;is&nbsp;in&nbsp;the&nbsp;reader&nbsp;implementation&nbsp;in&nbsp;that&nbsp;case)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600298">i</span>&nbsp;<span class="op" id="5600300">:=</span>&nbsp;<span class="ident" id="5600303"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600304">.</span><span class="ident" id="5600305"><a href="/gostd/text/scanner/scanner.go.html#5596120">srcEnd</a></span>&nbsp;<span class="op" id="5600312">-</span>&nbsp;<span class="ident" id="5600314"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600315">.</span><span class="ident" id="5600316"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600326">n</span><span class="op" id="5600327">,</span>&nbsp;<span class="ident" id="5600329">err</span>&nbsp;<span class="op" id="5600333">:=</span>&nbsp;<span class="ident" id="5600336"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600337">.</span><span class="ident" id="5600338"><a href="/gostd/text/scanner/scanner.go.html#5595954">src</a></span><span class="op" id="5600341">.</span><span class="ident" id="5600342"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="5600346">(</span><span class="ident" id="5600347"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600348">.</span><span class="ident" id="5600349"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5600355">[</span><span class="ident" id="5600356"><a href="/gostd/text/scanner/scanner.go.html#5600298">i</a></span><span class="op" id="5600357">:</span><span class="ident" id="5600358"><a href="/gostd/text/scanner/scanner.go.html#5595798">bufLen</a></span><span class="op" id="5600364">]</span><span class="op" id="5600365">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600370"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600371">.</span><span class="ident" id="5600372"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span>&nbsp;<span class="op" id="5600379">=</span>&nbsp;<span class="num" id="5600381">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600386"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600387">.</span><span class="ident" id="5600388"><a href="/gostd/text/scanner/scanner.go.html#5596120">srcEnd</a></span>&nbsp;<span class="op" id="5600395">=</span>&nbsp;<span class="ident" id="5600397"><a href="/gostd/text/scanner/scanner.go.html#5600298">i</a></span>&nbsp;<span class="op" id="5600399">+</span>&nbsp;<span class="ident" id="5600401"><a href="/gostd/text/scanner/scanner.go.html#5600326">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600406"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600407">.</span><span class="ident" id="5600408"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5600414">[</span><span class="ident" id="5600415"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600416">.</span><span class="ident" id="5600417"><a href="/gostd/text/scanner/scanner.go.html#5596120">srcEnd</a></span><span class="op" id="5600423">]</span>&nbsp;<span class="op" id="5600425">=</span>&nbsp;<span class="ident" id="5600427"><a href="/gostd/text/scanner/scanner.go.html#5593301">utf8</a></span><span class="op" id="5600431">.</span><span class="ident" id="5600432"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="comment" id="5600441">//&nbsp;sentinel</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5600456">if</span>&nbsp;<span class="ident" id="5600459"><a href="/gostd/text/scanner/scanner.go.html#5600329">err</a></span>&nbsp;<span class="op" id="5600463">!=</span>&nbsp;<span class="builtintype" id="5600466">nil</span>&nbsp;<span class="op" id="5600470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5600476">if</span>&nbsp;<span class="ident" id="5600479"><a href="/gostd/text/scanner/scanner.go.html#5600329">err</a></span>&nbsp;<span class="op" id="5600483">!=</span>&nbsp;<span class="ident" id="5600486"><a href="/gostd/text/scanner/scanner.go.html#5593278">io</a></span><span class="op" id="5600488">.</span><span class="ident" id="5600489"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="5600493">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600500"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600501">.</span><span class="builtintype" id="5600502"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5600507">(</span><span class="ident" id="5600508"><a href="/gostd/text/scanner/scanner.go.html#5600329">err</a></span><span class="op" id="5600511">.</span><span class="ident" id="5600512">Error</span><span class="op" id="5600517">(</span><span class="op" id="5600518">)</span><span class="op" id="5600519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5600525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5600531">if</span>&nbsp;<span class="ident" id="5600534"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600535">.</span><span class="ident" id="5600536"><a href="/gostd/text/scanner/scanner.go.html#5596120">srcEnd</a></span>&nbsp;<span class="op" id="5600543">==</span>&nbsp;<span class="num" id="5600546">0</span>&nbsp;<span class="op" id="5600548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5600555">if</span>&nbsp;<span class="ident" id="5600558"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600559">.</span><span class="ident" id="5600560"><a href="/gostd/text/scanner/scanner.go.html#5596406">lastCharLen</a></span>&nbsp;<span class="op" id="5600572">&gt;</span>&nbsp;<span class="num" id="5600574">0</span>&nbsp;<span class="op" id="5600576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600584">//&nbsp;previous&nbsp;character&nbsp;was&nbsp;not&nbsp;EOF</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600624"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600625">.</span><span class="ident" id="5600626"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span><span class="op" id="5600632">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5600640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600647"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600648">.</span><span class="ident" id="5600649"><a href="/gostd/text/scanner/scanner.go.html#5596406">lastCharLen</a></span>&nbsp;<span class="op" id="5600661">=</span>&nbsp;<span class="num" id="5600663">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5600670">return</span>&nbsp;<span class="ident" id="5600677"><a href="/gostd/text/scanner/scanner.go.html#5595105">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5600685">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600691">//&nbsp;If&nbsp;err&nbsp;==&nbsp;EOF,&nbsp;we&nbsp;won&#39;t&nbsp;be&nbsp;getting&nbsp;more</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600738">//&nbsp;bytes;&nbsp;break&nbsp;to&nbsp;avoid&nbsp;infinite&nbsp;loop.&nbsp;If</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600785">//&nbsp;err&nbsp;is&nbsp;something&nbsp;else,&nbsp;we&nbsp;don&#39;t&nbsp;know&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600832">//&nbsp;we&nbsp;can&nbsp;get&nbsp;more&nbsp;bytes;&nbsp;thus&nbsp;also&nbsp;break.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5600879">break</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5600888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5600892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600896">//&nbsp;at&nbsp;least&nbsp;one&nbsp;byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5600919"><a href="/gostd/text/scanner/scanner.go.html#5599507">ch</a></span>&nbsp;<span class="op" id="5600922">=</span>&nbsp;<span class="builtintype" id="5600924">rune</span><span class="op" id="5600928">(</span><span class="ident" id="5600929"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600930">.</span><span class="ident" id="5600931"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5600937">[</span><span class="ident" id="5600938"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5600939">.</span><span class="ident" id="5600940"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span><span class="op" id="5600946">]</span><span class="op" id="5600947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5600951">if</span>&nbsp;<span class="ident" id="5600954"><a href="/gostd/text/scanner/scanner.go.html#5599507">ch</a></span>&nbsp;<span class="op" id="5600957">&gt;=</span>&nbsp;<span class="ident" id="5600960"><a href="/gostd/text/scanner/scanner.go.html#5593301">utf8</a></span><span class="op" id="5600964">.</span><span class="ident" id="5600965"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="5600974">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5600979">//&nbsp;uncommon&nbsp;case:&nbsp;not&nbsp;ASCII</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601010"><a href="/gostd/text/scanner/scanner.go.html#5599507">ch</a></span><span class="op" id="5601012">,</span>&nbsp;<span class="ident" id="5601014"><a href="/gostd/text/scanner/scanner.go.html#5599511">width</a></span>&nbsp;<span class="op" id="5601020">=</span>&nbsp;<span class="ident" id="5601022"><a href="/gostd/text/scanner/scanner.go.html#5593301">utf8</a></span><span class="op" id="5601026">.</span><span class="ident" id="5601027"><a href="/gostd/unicode/utf8/utf8.go.html#1809912">DecodeRune</a></span><span class="op" id="5601037">(</span><span class="ident" id="5601038"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601039">.</span><span class="ident" id="5601040"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5601046">[</span><span class="ident" id="5601047"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601048">.</span><span class="ident" id="5601049"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span><span class="op" id="5601055">:</span><span class="ident" id="5601056"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601057">.</span><span class="ident" id="5601058"><a href="/gostd/text/scanner/scanner.go.html#5596120">srcEnd</a></span><span class="op" id="5601064">]</span><span class="op" id="5601065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5601070">if</span>&nbsp;<span class="ident" id="5601073"><a href="/gostd/text/scanner/scanner.go.html#5599507">ch</a></span>&nbsp;<span class="op" id="5601076">==</span>&nbsp;<span class="ident" id="5601079"><a href="/gostd/text/scanner/scanner.go.html#5593301">utf8</a></span><span class="op" id="5601083">.</span><span class="ident" id="5601084"><a href="/gostd/unicode/utf8/utf8.go.html#1805370">RuneError</a></span>&nbsp;<span class="op" id="5601094">&amp;&amp;</span>&nbsp;<span class="ident" id="5601097"><a href="/gostd/text/scanner/scanner.go.html#5599511">width</a></span>&nbsp;<span class="op" id="5601103">==</span>&nbsp;<span class="num" id="5601106">1</span>&nbsp;<span class="op" id="5601108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5601114">//&nbsp;advance&nbsp;for&nbsp;correct&nbsp;error&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601156"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601157">.</span><span class="ident" id="5601158"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span>&nbsp;<span class="op" id="5601165">+=</span>&nbsp;<span class="ident" id="5601168"><a href="/gostd/text/scanner/scanner.go.html#5599511">width</a></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601178"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601179">.</span><span class="ident" id="5601180"><a href="/gostd/text/scanner/scanner.go.html#5596406">lastCharLen</a></span>&nbsp;<span class="op" id="5601192">=</span>&nbsp;<span class="ident" id="5601194"><a href="/gostd/text/scanner/scanner.go.html#5599511">width</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601204"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601205">.</span><span class="ident" id="5601206"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span><span class="op" id="5601212">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601219"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601220">.</span><span class="builtintype" id="5601221"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5601226">(</span><span class="string" id="5601227">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="5601251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5601257">return</span>&nbsp;<span class="ident" id="5601264"><a href="/gostd/text/scanner/scanner.go.html#5599507">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5601270">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5601274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5601277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5601281">//&nbsp;advance</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601293"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601294">.</span><span class="ident" id="5601295"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span>&nbsp;<span class="op" id="5601302">+=</span>&nbsp;<span class="ident" id="5601305"><a href="/gostd/text/scanner/scanner.go.html#5599511">width</a></span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601312"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601313">.</span><span class="ident" id="5601314"><a href="/gostd/text/scanner/scanner.go.html#5596406">lastCharLen</a></span>&nbsp;<span class="op" id="5601326">=</span>&nbsp;<span class="ident" id="5601328"><a href="/gostd/text/scanner/scanner.go.html#5599511">width</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601335"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601336">.</span><span class="ident" id="5601337"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span><span class="op" id="5601343">++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5601348">//&nbsp;special&nbsp;situations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5601371">switch</span>&nbsp;<span class="ident" id="5601378"><a href="/gostd/text/scanner/scanner.go.html#5599507">ch</a></span>&nbsp;<span class="op" id="5601381">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5601384">case</span>&nbsp;<span class="num" id="5601389">0</span><span class="op" id="5601390">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5601394">//&nbsp;for&nbsp;compatibility&nbsp;with&nbsp;other&nbsp;tools</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601434"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601435">.</span><span class="builtintype" id="5601436"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5601441">(</span><span class="string" id="5601442">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="5601465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5601468">case</span>&nbsp;<span class="string" id="5601473">&#39;\n&#39;</span><span class="op" id="5601477">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601481"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601482">.</span><span class="ident" id="5601483"><a href="/gostd/text/scanner/scanner.go.html#5596251">line</a></span><span class="op" id="5601487">++</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601492"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601493">.</span><span class="ident" id="5601494"><a href="/gostd/text/scanner/scanner.go.html#5596320">lastLineLen</a></span>&nbsp;<span class="op" id="5601506">=</span>&nbsp;<span class="ident" id="5601508"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601509">.</span><span class="ident" id="5601510"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601519"><a href="/gostd/text/scanner/scanner.go.html#5599480">s</a></span><span class="op" id="5601520">.</span><span class="ident" id="5601521"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span>&nbsp;<span class="op" id="5601528">=</span>&nbsp;<span class="num" id="5601530">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5601533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5601537">return</span>&nbsp;<span class="ident" id="5601544"><a href="/gostd/text/scanner/scanner.go.html#5599507">ch</a></span><br>
<span class="lineno">305</span><span class="op" id="5601547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5601550">//&nbsp;Next&nbsp;reads&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;Unicode&nbsp;character.</span><br>
<span class="lineno"></span><span class="comment" id="5601604">//&nbsp;It&nbsp;returns&nbsp;EOF&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;source.&nbsp;It&nbsp;reports</span><br>
<span class="lineno"></span><span class="comment" id="5601659">//&nbsp;a&nbsp;read&nbsp;error&nbsp;by&nbsp;calling&nbsp;s.Error,&nbsp;if&nbsp;not&nbsp;nil;&nbsp;otherwise</span><br>
<span class="lineno">310</span><span class="comment" id="5601717">//&nbsp;it&nbsp;prints&nbsp;an&nbsp;error&nbsp;message&nbsp;to&nbsp;os.Stderr.&nbsp;Next&nbsp;does&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="5601775">//&nbsp;update&nbsp;the&nbsp;Scanner&#39;s&nbsp;Position&nbsp;field;&nbsp;use&nbsp;Pos()&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5601828">//&nbsp;get&nbsp;the&nbsp;current&nbsp;position.</span><br>
<span class="lineno"></span><span class="keyword" id="5601857">func</span>&nbsp;<span class="op" id="5601862">(</span><span class="ident" id="5601863">s</span>&nbsp;<span class="op" id="5601865">*</span><span class="ident" id="5601866"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5601873">)</span>&nbsp;<span class="ident" id="5601875">Next</span><span class="op" id="5601879">(</span><span class="op" id="5601880">)</span>&nbsp;<span class="builtintype" id="5601882">rune</span>&nbsp;<span class="op" id="5601887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601890"><a href="/gostd/text/scanner/scanner.go.html#5601863">s</a></span><span class="op" id="5601891">.</span><span class="ident" id="5601892"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span>&nbsp;<span class="op" id="5601899">=</span>&nbsp;<span class="op" id="5601901">-</span><span class="num" id="5601902">1</span>&nbsp;<span class="comment" id="5601904">//&nbsp;don&#39;t&nbsp;collect&nbsp;token&nbsp;text</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601933"><a href="/gostd/text/scanner/scanner.go.html#5601863">s</a></span><span class="op" id="5601934">.</span><span class="ident" id="5601935"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span>&nbsp;<span class="op" id="5601940">=</span>&nbsp;<span class="num" id="5601942">0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5601947">//&nbsp;invalidate&nbsp;token&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601977">ch</span>&nbsp;<span class="op" id="5601980">:=</span>&nbsp;<span class="ident" id="5601983"><a href="/gostd/text/scanner/scanner.go.html#5601863">s</a></span><span class="op" id="5601984">.</span><span class="ident" id="5601985"><a href="/gostd/text/scanner/scanner.go.html#5602216">Peek</a></span><span class="op" id="5601989">(</span><span class="op" id="5601990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5601993"><a href="/gostd/text/scanner/scanner.go.html#5601863">s</a></span><span class="op" id="5601994">.</span><span class="ident" id="5601995"><a href="/gostd/text/scanner/scanner.go.html#5596900">ch</a></span>&nbsp;<span class="op" id="5601998">=</span>&nbsp;<span class="ident" id="5602000"><a href="/gostd/text/scanner/scanner.go.html#5601863">s</a></span><span class="op" id="5602001">.</span><span class="ident" id="5602002"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5602006">(</span><span class="op" id="5602007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602010">return</span>&nbsp;<span class="ident" id="5602017"><a href="/gostd/text/scanner/scanner.go.html#5601977">ch</a></span><br>
<span class="lineno"></span><span class="op" id="5602020">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="comment" id="5602023">//&nbsp;Peek&nbsp;returns&nbsp;the&nbsp;next&nbsp;Unicode&nbsp;character&nbsp;in&nbsp;the&nbsp;source&nbsp;without&nbsp;advancing</span><br>
<span class="lineno"></span><span class="comment" id="5602098">//&nbsp;the&nbsp;scanner.&nbsp;It&nbsp;returns&nbsp;EOF&nbsp;if&nbsp;the&nbsp;scanner&#39;s&nbsp;position&nbsp;is&nbsp;at&nbsp;the&nbsp;last</span><br>
<span class="lineno"></span><span class="comment" id="5602170">//&nbsp;character&nbsp;of&nbsp;the&nbsp;source.</span><br>
<span class="lineno"></span><span class="keyword" id="5602198">func</span>&nbsp;<span class="op" id="5602203">(</span><span class="ident" id="5602204">s</span>&nbsp;<span class="op" id="5602206">*</span><span class="ident" id="5602207"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5602214">)</span>&nbsp;<span class="ident" id="5602216">Peek</span><span class="op" id="5602220">(</span><span class="op" id="5602221">)</span>&nbsp;<span class="builtintype" id="5602223">rune</span>&nbsp;<span class="op" id="5602228">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602231">if</span>&nbsp;<span class="ident" id="5602234"><a href="/gostd/text/scanner/scanner.go.html#5602204">s</a></span><span class="op" id="5602235">.</span><span class="ident" id="5602236"><a href="/gostd/text/scanner/scanner.go.html#5596900">ch</a></span>&nbsp;<span class="op" id="5602239">&lt;</span>&nbsp;<span class="num" id="5602241">0</span>&nbsp;<span class="op" id="5602243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5602247">//&nbsp;this&nbsp;code&nbsp;is&nbsp;only&nbsp;run&nbsp;for&nbsp;the&nbsp;very&nbsp;first&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5602303"><a href="/gostd/text/scanner/scanner.go.html#5602204">s</a></span><span class="op" id="5602304">.</span><span class="ident" id="5602305"><a href="/gostd/text/scanner/scanner.go.html#5596900">ch</a></span>&nbsp;<span class="op" id="5602308">=</span>&nbsp;<span class="ident" id="5602310"><a href="/gostd/text/scanner/scanner.go.html#5602204">s</a></span><span class="op" id="5602311">.</span><span class="ident" id="5602312"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5602316">(</span><span class="op" id="5602317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602321">if</span>&nbsp;<span class="ident" id="5602324"><a href="/gostd/text/scanner/scanner.go.html#5602204">s</a></span><span class="op" id="5602325">.</span><span class="ident" id="5602326"><a href="/gostd/text/scanner/scanner.go.html#5596900">ch</a></span>&nbsp;<span class="op" id="5602329">==</span>&nbsp;<span class="string" id="5602332">&#39;\uFEFF&#39;</span>&nbsp;<span class="op" id="5602341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5602346"><a href="/gostd/text/scanner/scanner.go.html#5602204">s</a></span><span class="op" id="5602347">.</span><span class="ident" id="5602348"><a href="/gostd/text/scanner/scanner.go.html#5596900">ch</a></span>&nbsp;<span class="op" id="5602351">=</span>&nbsp;<span class="ident" id="5602353"><a href="/gostd/text/scanner/scanner.go.html#5602204">s</a></span><span class="op" id="5602354">.</span><span class="ident" id="5602355"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5602359">(</span><span class="op" id="5602360">)</span>&nbsp;<span class="comment" id="5602362">//&nbsp;ignore&nbsp;BOM</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5602378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5602381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602384">return</span>&nbsp;<span class="ident" id="5602391"><a href="/gostd/text/scanner/scanner.go.html#5602204">s</a></span><span class="op" id="5602392">.</span><span class="ident" id="5602393"><a href="/gostd/text/scanner/scanner.go.html#5596900">ch</a></span><br>
<span class="lineno"></span><span class="op" id="5602396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span><span class="keyword" id="5602399">func</span>&nbsp;<span class="op" id="5602404">(</span><span class="ident" id="5602405">s</span>&nbsp;<span class="op" id="5602407">*</span><span class="ident" id="5602408"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5602415">)</span>&nbsp;<span class="builtintype" id="5602417">error</span><span class="op" id="5602422">(</span><span class="ident" id="5602423">msg</span>&nbsp;<span class="builtintype" id="5602427">string</span><span class="op" id="5602433">)</span>&nbsp;<span class="op" id="5602435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5602438"><a href="/gostd/text/scanner/scanner.go.html#5602405">s</a></span><span class="op" id="5602439">.</span><span class="ident" id="5602440"><a href="/gostd/text/scanner/scanner.go.html#5597164">ErrorCount</a></span><span class="op" id="5602450">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602454">if</span>&nbsp;<span class="ident" id="5602457"><a href="/gostd/text/scanner/scanner.go.html#5602405">s</a></span><span class="op" id="5602458">.</span><span class="ident" id="5602459"><a href="/gostd/text/scanner/scanner.go.html#5597062">Error</a></span>&nbsp;<span class="op" id="5602465">!=</span>&nbsp;<span class="builtintype" id="5602468">nil</span>&nbsp;<span class="op" id="5602472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5602476"><a href="/gostd/text/scanner/scanner.go.html#5602405">s</a></span><span class="op" id="5602477">.</span><span class="ident" id="5602478"><a href="/gostd/text/scanner/scanner.go.html#5597062">Error</a></span><span class="op" id="5602483">(</span><span class="ident" id="5602484"><a href="/gostd/text/scanner/scanner.go.html#5602405">s</a></span><span class="op" id="5602485">,</span>&nbsp;<span class="ident" id="5602487"><a href="/gostd/text/scanner/scanner.go.html#5602423">msg</a></span><span class="op" id="5602490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602494">return</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5602502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5602505">pos</span>&nbsp;<span class="op" id="5602509">:=</span>&nbsp;<span class="ident" id="5602512"><a href="/gostd/text/scanner/scanner.go.html#5602405">s</a></span><span class="op" id="5602513">.</span><span class="ident" id="5602514"><a href="/gostd/text/scanner/scanner.go.html#5598365">Position</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602524">if</span>&nbsp;<span class="op" id="5602527">!</span><span class="ident" id="5602528"><a href="/gostd/text/scanner/scanner.go.html#5602505">pos</a></span><span class="op" id="5602531">.</span><span class="ident" id="5602532"><a href="/gostd/text/scanner/scanner.go.html#5593716">IsValid</a></span><span class="op" id="5602539">(</span><span class="op" id="5602540">)</span>&nbsp;<span class="op" id="5602542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5602546"><a href="/gostd/text/scanner/scanner.go.html#5602505">pos</a></span>&nbsp;<span class="op" id="5602550">=</span>&nbsp;<span class="ident" id="5602552"><a href="/gostd/text/scanner/scanner.go.html#5602405">s</a></span><span class="op" id="5602553">.</span><span class="ident" id="5602554"><a href="/gostd/text/scanner/scanner.go.html#5608786">Pos</a></span><span class="op" id="5602557">(</span><span class="op" id="5602558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5602561">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5602564"><a href="/gostd/text/scanner/scanner.go.html#5593271">fmt</a></span><span class="op" id="5602567">.</span><span class="ident" id="5602568"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="5602575">(</span><span class="ident" id="5602576"><a href="/gostd/text/scanner/scanner.go.html#5593284">os</a></span><span class="op" id="5602578">.</span><span class="ident" id="5602579"><a href="/gostd/os/file.go.html#2441872">Stderr</a></span><span class="op" id="5602585">,</span>&nbsp;<span class="string" id="5602587">&#34;%s:&nbsp;%s\n&#34;</span><span class="op" id="5602597">,</span>&nbsp;<span class="ident" id="5602599"><a href="/gostd/text/scanner/scanner.go.html#5602505">pos</a></span><span class="op" id="5602602">,</span>&nbsp;<span class="ident" id="5602604"><a href="/gostd/text/scanner/scanner.go.html#5602423">msg</a></span><span class="op" id="5602607">)</span><br>
<span class="lineno"></span><span class="op" id="5602609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5602612">func</span>&nbsp;<span class="op" id="5602617">(</span><span class="ident" id="5602618">s</span>&nbsp;<span class="op" id="5602620">*</span><span class="ident" id="5602621"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5602628">)</span>&nbsp;<span class="ident" id="5602630">isIdentRune</span><span class="op" id="5602641">(</span><span class="ident" id="5602642">ch</span>&nbsp;<span class="builtintype" id="5602645">rune</span><span class="op" id="5602649">,</span>&nbsp;<span class="ident" id="5602651">i</span>&nbsp;<span class="builtintype" id="5602653">int</span><span class="op" id="5602656">)</span>&nbsp;<span class="builtintype" id="5602658">bool</span>&nbsp;<span class="op" id="5602663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602666">if</span>&nbsp;<span class="ident" id="5602669"><a href="/gostd/text/scanner/scanner.go.html#5602618">s</a></span><span class="op" id="5602670">.</span><span class="ident" id="5602671"><a href="/gostd/text/scanner/scanner.go.html#5597975">IsIdentRune</a></span>&nbsp;<span class="op" id="5602683">!=</span>&nbsp;<span class="builtintype" id="5602686">nil</span>&nbsp;<span class="op" id="5602690">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602694">return</span>&nbsp;<span class="ident" id="5602701"><a href="/gostd/text/scanner/scanner.go.html#5602618">s</a></span><span class="op" id="5602702">.</span><span class="ident" id="5602703"><a href="/gostd/text/scanner/scanner.go.html#5597975">IsIdentRune</a></span><span class="op" id="5602714">(</span><span class="ident" id="5602715"><a href="/gostd/text/scanner/scanner.go.html#5602642">ch</a></span><span class="op" id="5602717">,</span>&nbsp;<span class="ident" id="5602719"><a href="/gostd/text/scanner/scanner.go.html#5602651">i</a></span><span class="op" id="5602720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5602723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602726">return</span>&nbsp;<span class="ident" id="5602733"><a href="/gostd/text/scanner/scanner.go.html#5602642">ch</a></span>&nbsp;<span class="op" id="5602736">==</span>&nbsp;<span class="string" id="5602739">&#39;_&#39;</span>&nbsp;<span class="op" id="5602743">||</span>&nbsp;<span class="ident" id="5602746"><a href="/gostd/text/scanner/scanner.go.html#5593290">unicode</a></span><span class="op" id="5602753">.</span><span class="ident" id="5602754"><a href="/gostd/unicode/graphic.go.html#1819623">IsLetter</a></span><span class="op" id="5602762">(</span><span class="ident" id="5602763"><a href="/gostd/text/scanner/scanner.go.html#5602642">ch</a></span><span class="op" id="5602765">)</span>&nbsp;<span class="op" id="5602767">||</span>&nbsp;<span class="ident" id="5602770"><a href="/gostd/text/scanner/scanner.go.html#5593290">unicode</a></span><span class="op" id="5602777">.</span><span class="ident" id="5602778"><a href="/gostd/unicode/digit.go.html#1816545">IsDigit</a></span><span class="op" id="5602785">(</span><span class="ident" id="5602786"><a href="/gostd/text/scanner/scanner.go.html#5602642">ch</a></span><span class="op" id="5602788">)</span>&nbsp;<span class="op" id="5602790">&amp;&amp;</span>&nbsp;<span class="ident" id="5602793"><a href="/gostd/text/scanner/scanner.go.html#5602651">i</a></span>&nbsp;<span class="op" id="5602795">&gt;</span>&nbsp;<span class="num" id="5602797">0</span><br>
<span class="lineno"></span><span class="op" id="5602799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span><span class="keyword" id="5602802">func</span>&nbsp;<span class="op" id="5602807">(</span><span class="ident" id="5602808">s</span>&nbsp;<span class="op" id="5602810">*</span><span class="ident" id="5602811"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5602818">)</span>&nbsp;<span class="ident" id="5602820">scanIdentifier</span><span class="op" id="5602834">(</span><span class="op" id="5602835">)</span>&nbsp;<span class="builtintype" id="5602837">rune</span>&nbsp;<span class="op" id="5602842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5602845">//&nbsp;we&nbsp;know&nbsp;the&nbsp;zero&#39;th&nbsp;rune&nbsp;is&nbsp;OK;&nbsp;start&nbsp;scanning&nbsp;at&nbsp;the&nbsp;next&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5602912">ch</span>&nbsp;<span class="op" id="5602915">:=</span>&nbsp;<span class="ident" id="5602918"><a href="/gostd/text/scanner/scanner.go.html#5602808">s</a></span><span class="op" id="5602919">.</span><span class="ident" id="5602920"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5602924">(</span><span class="op" id="5602925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602928">for</span>&nbsp;<span class="ident" id="5602932">i</span>&nbsp;<span class="op" id="5602934">:=</span>&nbsp;<span class="num" id="5602937">1</span><span class="op" id="5602938">;</span>&nbsp;<span class="ident" id="5602940"><a href="/gostd/text/scanner/scanner.go.html#5602808">s</a></span><span class="op" id="5602941">.</span><span class="ident" id="5602942"><a href="/gostd/text/scanner/scanner.go.html#5602630">isIdentRune</a></span><span class="op" id="5602953">(</span><span class="ident" id="5602954"><a href="/gostd/text/scanner/scanner.go.html#5602912">ch</a></span><span class="op" id="5602956">,</span>&nbsp;<span class="ident" id="5602958"><a href="/gostd/text/scanner/scanner.go.html#5602932">i</a></span><span class="op" id="5602959">)</span><span class="op" id="5602960">;</span>&nbsp;<span class="ident" id="5602962"><a href="/gostd/text/scanner/scanner.go.html#5602932">i</a></span><span class="op" id="5602963">++</span>&nbsp;<span class="op" id="5602966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5602970"><a href="/gostd/text/scanner/scanner.go.html#5602912">ch</a></span>&nbsp;<span class="op" id="5602973">=</span>&nbsp;<span class="ident" id="5602975"><a href="/gostd/text/scanner/scanner.go.html#5602808">s</a></span><span class="op" id="5602976">.</span><span class="ident" id="5602977"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5602981">(</span><span class="op" id="5602982">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5602985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5602988">return</span>&nbsp;<span class="ident" id="5602995"><a href="/gostd/text/scanner/scanner.go.html#5602912">ch</a></span><br>
<span class="lineno"></span><span class="op" id="5602998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5603001">func</span>&nbsp;<span class="ident" id="5603006">digitVal</span><span class="op" id="5603014">(</span><span class="ident" id="5603015">ch</span>&nbsp;<span class="builtintype" id="5603018">rune</span><span class="op" id="5603022">)</span>&nbsp;<span class="builtintype" id="5603024">int</span>&nbsp;<span class="op" id="5603028">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603031">switch</span>&nbsp;<span class="op" id="5603038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603041">case</span>&nbsp;<span class="string" id="5603046">&#39;0&#39;</span>&nbsp;<span class="op" id="5603050">&lt;=</span>&nbsp;<span class="ident" id="5603053"><a href="/gostd/text/scanner/scanner.go.html#5603015">ch</a></span>&nbsp;<span class="op" id="5603056">&amp;&amp;</span>&nbsp;<span class="ident" id="5603059"><a href="/gostd/text/scanner/scanner.go.html#5603015">ch</a></span>&nbsp;<span class="op" id="5603062">&lt;=</span>&nbsp;<span class="string" id="5603065">&#39;9&#39;</span><span class="op" id="5603068">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603072">return</span>&nbsp;<span class="builtintype" id="5603079">int</span><span class="op" id="5603082">(</span><span class="ident" id="5603083"><a href="/gostd/text/scanner/scanner.go.html#5603015">ch</a></span>&nbsp;<span class="op" id="5603086">-</span>&nbsp;<span class="string" id="5603088">&#39;0&#39;</span><span class="op" id="5603091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603094">case</span>&nbsp;<span class="string" id="5603099">&#39;a&#39;</span>&nbsp;<span class="op" id="5603103">&lt;=</span>&nbsp;<span class="ident" id="5603106"><a href="/gostd/text/scanner/scanner.go.html#5603015">ch</a></span>&nbsp;<span class="op" id="5603109">&amp;&amp;</span>&nbsp;<span class="ident" id="5603112"><a href="/gostd/text/scanner/scanner.go.html#5603015">ch</a></span>&nbsp;<span class="op" id="5603115">&lt;=</span>&nbsp;<span class="string" id="5603118">&#39;f&#39;</span><span class="op" id="5603121">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603125">return</span>&nbsp;<span class="builtintype" id="5603132">int</span><span class="op" id="5603135">(</span><span class="ident" id="5603136"><a href="/gostd/text/scanner/scanner.go.html#5603015">ch</a></span>&nbsp;<span class="op" id="5603139">-</span>&nbsp;<span class="string" id="5603141">&#39;a&#39;</span>&nbsp;<span class="op" id="5603145">+</span>&nbsp;<span class="num" id="5603147">10</span><span class="op" id="5603149">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603152">case</span>&nbsp;<span class="string" id="5603157">&#39;A&#39;</span>&nbsp;<span class="op" id="5603161">&lt;=</span>&nbsp;<span class="ident" id="5603164"><a href="/gostd/text/scanner/scanner.go.html#5603015">ch</a></span>&nbsp;<span class="op" id="5603167">&amp;&amp;</span>&nbsp;<span class="ident" id="5603170"><a href="/gostd/text/scanner/scanner.go.html#5603015">ch</a></span>&nbsp;<span class="op" id="5603173">&lt;=</span>&nbsp;<span class="string" id="5603176">&#39;F&#39;</span><span class="op" id="5603179">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603183">return</span>&nbsp;<span class="builtintype" id="5603190">int</span><span class="op" id="5603193">(</span><span class="ident" id="5603194"><a href="/gostd/text/scanner/scanner.go.html#5603015">ch</a></span>&nbsp;<span class="op" id="5603197">-</span>&nbsp;<span class="string" id="5603199">&#39;A&#39;</span>&nbsp;<span class="op" id="5603203">+</span>&nbsp;<span class="num" id="5603205">10</span><span class="op" id="5603207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5603210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603213">return</span>&nbsp;<span class="num" id="5603220">16</span>&nbsp;<span class="comment" id="5603223">//&nbsp;larger&nbsp;than&nbsp;any&nbsp;legal&nbsp;digit&nbsp;val</span><br>
<span class="lineno"></span><span class="op" id="5603258">}</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span><span class="keyword" id="5603261">func</span>&nbsp;<span class="ident" id="5603266">isDecimal</span><span class="op" id="5603275">(</span><span class="ident" id="5603276">ch</span>&nbsp;<span class="builtintype" id="5603279">rune</span><span class="op" id="5603283">)</span>&nbsp;<span class="builtintype" id="5603285">bool</span>&nbsp;<span class="op" id="5603290">{</span>&nbsp;<span class="keyword" id="5603292">return</span>&nbsp;<span class="string" id="5603299">&#39;0&#39;</span>&nbsp;<span class="op" id="5603303">&lt;=</span>&nbsp;<span class="ident" id="5603306"><a href="/gostd/text/scanner/scanner.go.html#5603276">ch</a></span>&nbsp;<span class="op" id="5603309">&amp;&amp;</span>&nbsp;<span class="ident" id="5603312"><a href="/gostd/text/scanner/scanner.go.html#5603276">ch</a></span>&nbsp;<span class="op" id="5603315">&lt;=</span>&nbsp;<span class="string" id="5603318">&#39;9&#39;</span>&nbsp;<span class="op" id="5603322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5603325">func</span>&nbsp;<span class="op" id="5603330">(</span><span class="ident" id="5603331">s</span>&nbsp;<span class="op" id="5603333">*</span><span class="ident" id="5603334"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5603341">)</span>&nbsp;<span class="ident" id="5603343">scanMantissa</span><span class="op" id="5603355">(</span><span class="ident" id="5603356">ch</span>&nbsp;<span class="builtintype" id="5603359">rune</span><span class="op" id="5603363">)</span>&nbsp;<span class="builtintype" id="5603365">rune</span>&nbsp;<span class="op" id="5603370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603373">for</span>&nbsp;<span class="ident" id="5603377"><a href="/gostd/text/scanner/scanner.go.html#5603266">isDecimal</a></span><span class="op" id="5603386">(</span><span class="ident" id="5603387"><a href="/gostd/text/scanner/scanner.go.html#5603356">ch</a></span><span class="op" id="5603389">)</span>&nbsp;<span class="op" id="5603391">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603395"><a href="/gostd/text/scanner/scanner.go.html#5603356">ch</a></span>&nbsp;<span class="op" id="5603398">=</span>&nbsp;<span class="ident" id="5603400"><a href="/gostd/text/scanner/scanner.go.html#5603331">s</a></span><span class="op" id="5603401">.</span><span class="ident" id="5603402"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5603406">(</span><span class="op" id="5603407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5603410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603413">return</span>&nbsp;<span class="ident" id="5603420"><a href="/gostd/text/scanner/scanner.go.html#5603356">ch</a></span><br>
<span class="lineno"></span><span class="op" id="5603423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span><span class="keyword" id="5603426">func</span>&nbsp;<span class="op" id="5603431">(</span><span class="ident" id="5603432">s</span>&nbsp;<span class="op" id="5603434">*</span><span class="ident" id="5603435"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5603442">)</span>&nbsp;<span class="ident" id="5603444">scanFraction</span><span class="op" id="5603456">(</span><span class="ident" id="5603457">ch</span>&nbsp;<span class="builtintype" id="5603460">rune</span><span class="op" id="5603464">)</span>&nbsp;<span class="builtintype" id="5603466">rune</span>&nbsp;<span class="op" id="5603471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603474">if</span>&nbsp;<span class="ident" id="5603477"><a href="/gostd/text/scanner/scanner.go.html#5603457">ch</a></span>&nbsp;<span class="op" id="5603480">==</span>&nbsp;<span class="string" id="5603483">&#39;.&#39;</span>&nbsp;<span class="op" id="5603487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603491"><a href="/gostd/text/scanner/scanner.go.html#5603457">ch</a></span>&nbsp;<span class="op" id="5603494">=</span>&nbsp;<span class="ident" id="5603496"><a href="/gostd/text/scanner/scanner.go.html#5603432">s</a></span><span class="op" id="5603497">.</span><span class="ident" id="5603498"><a href="/gostd/text/scanner/scanner.go.html#5603343">scanMantissa</a></span><span class="op" id="5603510">(</span><span class="ident" id="5603511"><a href="/gostd/text/scanner/scanner.go.html#5603432">s</a></span><span class="op" id="5603512">.</span><span class="ident" id="5603513"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5603517">(</span><span class="op" id="5603518">)</span><span class="op" id="5603519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5603522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603525">return</span>&nbsp;<span class="ident" id="5603532"><a href="/gostd/text/scanner/scanner.go.html#5603457">ch</a></span><br>
<span class="lineno">390</span><span class="op" id="5603535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5603538">func</span>&nbsp;<span class="op" id="5603543">(</span><span class="ident" id="5603544">s</span>&nbsp;<span class="op" id="5603546">*</span><span class="ident" id="5603547"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5603554">)</span>&nbsp;<span class="ident" id="5603556">scanExponent</span><span class="op" id="5603568">(</span><span class="ident" id="5603569">ch</span>&nbsp;<span class="builtintype" id="5603572">rune</span><span class="op" id="5603576">)</span>&nbsp;<span class="builtintype" id="5603578">rune</span>&nbsp;<span class="op" id="5603583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603586">if</span>&nbsp;<span class="ident" id="5603589"><a href="/gostd/text/scanner/scanner.go.html#5603569">ch</a></span>&nbsp;<span class="op" id="5603592">==</span>&nbsp;<span class="string" id="5603595">&#39;e&#39;</span>&nbsp;<span class="op" id="5603599">||</span>&nbsp;<span class="ident" id="5603602"><a href="/gostd/text/scanner/scanner.go.html#5603569">ch</a></span>&nbsp;<span class="op" id="5603605">==</span>&nbsp;<span class="string" id="5603608">&#39;E&#39;</span>&nbsp;<span class="op" id="5603612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603616"><a href="/gostd/text/scanner/scanner.go.html#5603569">ch</a></span>&nbsp;<span class="op" id="5603619">=</span>&nbsp;<span class="ident" id="5603621"><a href="/gostd/text/scanner/scanner.go.html#5603544">s</a></span><span class="op" id="5603622">.</span><span class="ident" id="5603623"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5603627">(</span><span class="op" id="5603628">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603632">if</span>&nbsp;<span class="ident" id="5603635"><a href="/gostd/text/scanner/scanner.go.html#5603569">ch</a></span>&nbsp;<span class="op" id="5603638">==</span>&nbsp;<span class="string" id="5603641">&#39;-&#39;</span>&nbsp;<span class="op" id="5603645">||</span>&nbsp;<span class="ident" id="5603648"><a href="/gostd/text/scanner/scanner.go.html#5603569">ch</a></span>&nbsp;<span class="op" id="5603651">==</span>&nbsp;<span class="string" id="5603654">&#39;+&#39;</span>&nbsp;<span class="op" id="5603658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603663"><a href="/gostd/text/scanner/scanner.go.html#5603569">ch</a></span>&nbsp;<span class="op" id="5603666">=</span>&nbsp;<span class="ident" id="5603668"><a href="/gostd/text/scanner/scanner.go.html#5603544">s</a></span><span class="op" id="5603669">.</span><span class="ident" id="5603670"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5603674">(</span><span class="op" id="5603675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5603679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603683"><a href="/gostd/text/scanner/scanner.go.html#5603569">ch</a></span>&nbsp;<span class="op" id="5603686">=</span>&nbsp;<span class="ident" id="5603688"><a href="/gostd/text/scanner/scanner.go.html#5603544">s</a></span><span class="op" id="5603689">.</span><span class="ident" id="5603690"><a href="/gostd/text/scanner/scanner.go.html#5603343">scanMantissa</a></span><span class="op" id="5603702">(</span><span class="ident" id="5603703"><a href="/gostd/text/scanner/scanner.go.html#5603569">ch</a></span><span class="op" id="5603705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5603708">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603711">return</span>&nbsp;<span class="ident" id="5603718"><a href="/gostd/text/scanner/scanner.go.html#5603569">ch</a></span><br>
<span class="lineno"></span><span class="op" id="5603721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5603724">func</span>&nbsp;<span class="op" id="5603729">(</span><span class="ident" id="5603730">s</span>&nbsp;<span class="op" id="5603732">*</span><span class="ident" id="5603733"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5603740">)</span>&nbsp;<span class="ident" id="5603742">scanNumber</span><span class="op" id="5603752">(</span><span class="ident" id="5603753">ch</span>&nbsp;<span class="builtintype" id="5603756">rune</span><span class="op" id="5603760">)</span>&nbsp;<span class="op" id="5603762">(</span><span class="builtintype" id="5603763">rune</span><span class="op" id="5603767">,</span>&nbsp;<span class="builtintype" id="5603769">rune</span><span class="op" id="5603773">)</span>&nbsp;<span class="op" id="5603775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5603778">//&nbsp;isDecimal(ch)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603796">if</span>&nbsp;<span class="ident" id="5603799"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5603802">==</span>&nbsp;<span class="string" id="5603805">&#39;0&#39;</span>&nbsp;<span class="op" id="5603809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5603813">//&nbsp;int&nbsp;or&nbsp;float</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603831"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5603834">=</span>&nbsp;<span class="ident" id="5603836"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5603837">.</span><span class="ident" id="5603838"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5603842">(</span><span class="op" id="5603843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603847">if</span>&nbsp;<span class="ident" id="5603850"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5603853">==</span>&nbsp;<span class="string" id="5603856">&#39;x&#39;</span>&nbsp;<span class="op" id="5603860">||</span>&nbsp;<span class="ident" id="5603863"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5603866">==</span>&nbsp;<span class="string" id="5603869">&#39;X&#39;</span>&nbsp;<span class="op" id="5603873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5603878">//&nbsp;hexadecimal&nbsp;int</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603900"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5603903">=</span>&nbsp;<span class="ident" id="5603905"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5603906">.</span><span class="ident" id="5603907"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5603911">(</span><span class="op" id="5603912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603917">hasMantissa</span>&nbsp;<span class="op" id="5603929">:=</span>&nbsp;<span class="builtintype" id="5603932">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5603941">for</span>&nbsp;<span class="ident" id="5603945"><a href="/gostd/text/scanner/scanner.go.html#5603006">digitVal</a></span><span class="op" id="5603953">(</span><span class="ident" id="5603954"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><span class="op" id="5603956">)</span>&nbsp;<span class="op" id="5603958">&lt;</span>&nbsp;<span class="num" id="5603960">16</span>&nbsp;<span class="op" id="5603963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603969"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5603972">=</span>&nbsp;<span class="ident" id="5603974"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5603975">.</span><span class="ident" id="5603976"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5603980">(</span><span class="op" id="5603981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5603987"><a href="/gostd/text/scanner/scanner.go.html#5603917">hasMantissa</a></span>&nbsp;<span class="op" id="5603999">=</span>&nbsp;<span class="builtintype" id="5604001">true</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604014">if</span>&nbsp;<span class="op" id="5604017">!</span><span class="ident" id="5604018"><a href="/gostd/text/scanner/scanner.go.html#5603917">hasMantissa</a></span>&nbsp;<span class="op" id="5604030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604036"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604037">.</span><span class="builtintype" id="5604038"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5604043">(</span><span class="string" id="5604044">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="5604072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604081">}</span>&nbsp;<span class="keyword" id="5604083">else</span>&nbsp;<span class="op" id="5604088">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5604093">//&nbsp;octal&nbsp;int&nbsp;or&nbsp;float</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604118">has8or9</span>&nbsp;<span class="op" id="5604126">:=</span>&nbsp;<span class="builtintype" id="5604129">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604138">for</span>&nbsp;<span class="ident" id="5604142"><a href="/gostd/text/scanner/scanner.go.html#5603266">isDecimal</a></span><span class="op" id="5604151">(</span><span class="ident" id="5604152"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><span class="op" id="5604154">)</span>&nbsp;<span class="op" id="5604156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604162">if</span>&nbsp;<span class="ident" id="5604165"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604168">&gt;</span>&nbsp;<span class="string" id="5604170">&#39;7&#39;</span>&nbsp;<span class="op" id="5604174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604181"><a href="/gostd/text/scanner/scanner.go.html#5604118">has8or9</a></span>&nbsp;<span class="op" id="5604189">=</span>&nbsp;<span class="builtintype" id="5604191">true</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604206"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604209">=</span>&nbsp;<span class="ident" id="5604211"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604212">.</span><span class="ident" id="5604213"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5604217">(</span><span class="op" id="5604218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604228">if</span>&nbsp;<span class="ident" id="5604231"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604232">.</span><span class="ident" id="5604233"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5604237">&amp;</span><span class="ident" id="5604238"><a href="/gostd/text/scanner/scanner.go.html#5594636">ScanFloats</a></span>&nbsp;<span class="op" id="5604249">!=</span>&nbsp;<span class="num" id="5604252">0</span>&nbsp;<span class="op" id="5604254">&amp;&amp;</span>&nbsp;<span class="op" id="5604257">(</span><span class="ident" id="5604258"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604261">==</span>&nbsp;<span class="string" id="5604264">&#39;.&#39;</span>&nbsp;<span class="op" id="5604268">||</span>&nbsp;<span class="ident" id="5604271"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604274">==</span>&nbsp;<span class="string" id="5604277">&#39;e&#39;</span>&nbsp;<span class="op" id="5604281">||</span>&nbsp;<span class="ident" id="5604284"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604287">==</span>&nbsp;<span class="string" id="5604290">&#39;E&#39;</span><span class="op" id="5604293">)</span>&nbsp;<span class="op" id="5604295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5604301">//&nbsp;float</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604314"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604317">=</span>&nbsp;<span class="ident" id="5604319"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604320">.</span><span class="ident" id="5604321"><a href="/gostd/text/scanner/scanner.go.html#5603444">scanFraction</a></span><span class="op" id="5604333">(</span><span class="ident" id="5604334"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><span class="op" id="5604336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604342"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604345">=</span>&nbsp;<span class="ident" id="5604347"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604348">.</span><span class="ident" id="5604349"><a href="/gostd/text/scanner/scanner.go.html#5603556">scanExponent</a></span><span class="op" id="5604361">(</span><span class="ident" id="5604362"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><span class="op" id="5604364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604370">return</span>&nbsp;<span class="ident" id="5604377"><a href="/gostd/text/scanner/scanner.go.html#5595136">Float</a></span><span class="op" id="5604382">,</span>&nbsp;<span class="ident" id="5604384"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5604395">//&nbsp;octal&nbsp;int</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604411">if</span>&nbsp;<span class="ident" id="5604414"><a href="/gostd/text/scanner/scanner.go.html#5604118">has8or9</a></span>&nbsp;<span class="op" id="5604422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604428"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604429">.</span><span class="builtintype" id="5604430"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5604435">(</span><span class="string" id="5604436">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="5604458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604471">return</span>&nbsp;<span class="ident" id="5604478"><a href="/gostd/text/scanner/scanner.go.html#5595131">Int</a></span><span class="op" id="5604481">,</span>&nbsp;<span class="ident" id="5604483"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5604490">//&nbsp;decimal&nbsp;int&nbsp;or&nbsp;float</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604515"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604518">=</span>&nbsp;<span class="ident" id="5604520"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604521">.</span><span class="ident" id="5604522"><a href="/gostd/text/scanner/scanner.go.html#5603343">scanMantissa</a></span><span class="op" id="5604534">(</span><span class="ident" id="5604535"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><span class="op" id="5604537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604540">if</span>&nbsp;<span class="ident" id="5604543"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604544">.</span><span class="ident" id="5604545"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5604549">&amp;</span><span class="ident" id="5604550"><a href="/gostd/text/scanner/scanner.go.html#5594636">ScanFloats</a></span>&nbsp;<span class="op" id="5604561">!=</span>&nbsp;<span class="num" id="5604564">0</span>&nbsp;<span class="op" id="5604566">&amp;&amp;</span>&nbsp;<span class="op" id="5604569">(</span><span class="ident" id="5604570"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604573">==</span>&nbsp;<span class="string" id="5604576">&#39;.&#39;</span>&nbsp;<span class="op" id="5604580">||</span>&nbsp;<span class="ident" id="5604583"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604586">==</span>&nbsp;<span class="string" id="5604589">&#39;e&#39;</span>&nbsp;<span class="op" id="5604593">||</span>&nbsp;<span class="ident" id="5604596"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604599">==</span>&nbsp;<span class="string" id="5604602">&#39;E&#39;</span><span class="op" id="5604605">)</span>&nbsp;<span class="op" id="5604607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5604611">//&nbsp;float</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604622"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604625">=</span>&nbsp;<span class="ident" id="5604627"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604628">.</span><span class="ident" id="5604629"><a href="/gostd/text/scanner/scanner.go.html#5603444">scanFraction</a></span><span class="op" id="5604641">(</span><span class="ident" id="5604642"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><span class="op" id="5604644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604648"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span>&nbsp;<span class="op" id="5604651">=</span>&nbsp;<span class="ident" id="5604653"><a href="/gostd/text/scanner/scanner.go.html#5603730">s</a></span><span class="op" id="5604654">.</span><span class="ident" id="5604655"><a href="/gostd/text/scanner/scanner.go.html#5603556">scanExponent</a></span><span class="op" id="5604667">(</span><span class="ident" id="5604668"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><span class="op" id="5604670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604674">return</span>&nbsp;<span class="ident" id="5604681"><a href="/gostd/text/scanner/scanner.go.html#5595136">Float</a></span><span class="op" id="5604686">,</span>&nbsp;<span class="ident" id="5604688"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604695">return</span>&nbsp;<span class="ident" id="5604702"><a href="/gostd/text/scanner/scanner.go.html#5595131">Int</a></span><span class="op" id="5604705">,</span>&nbsp;<span class="ident" id="5604707"><a href="/gostd/text/scanner/scanner.go.html#5603753">ch</a></span><br>
<span class="lineno">450</span><span class="op" id="5604710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5604713">func</span>&nbsp;<span class="op" id="5604718">(</span><span class="ident" id="5604719">s</span>&nbsp;<span class="op" id="5604721">*</span><span class="ident" id="5604722"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5604729">)</span>&nbsp;<span class="ident" id="5604731">scanDigits</span><span class="op" id="5604741">(</span><span class="ident" id="5604742">ch</span>&nbsp;<span class="builtintype" id="5604745">rune</span><span class="op" id="5604749">,</span>&nbsp;<span class="ident" id="5604751">base</span><span class="op" id="5604755">,</span>&nbsp;<span class="ident" id="5604757">n</span>&nbsp;<span class="builtintype" id="5604759">int</span><span class="op" id="5604762">)</span>&nbsp;<span class="builtintype" id="5604764">rune</span>&nbsp;<span class="op" id="5604769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604772">for</span>&nbsp;<span class="ident" id="5604776"><a href="/gostd/text/scanner/scanner.go.html#5604757">n</a></span>&nbsp;<span class="op" id="5604778">&gt;</span>&nbsp;<span class="num" id="5604780">0</span>&nbsp;<span class="op" id="5604782">&amp;&amp;</span>&nbsp;<span class="ident" id="5604785"><a href="/gostd/text/scanner/scanner.go.html#5603006">digitVal</a></span><span class="op" id="5604793">(</span><span class="ident" id="5604794"><a href="/gostd/text/scanner/scanner.go.html#5604742">ch</a></span><span class="op" id="5604796">)</span>&nbsp;<span class="op" id="5604798">&lt;</span>&nbsp;<span class="ident" id="5604800"><a href="/gostd/text/scanner/scanner.go.html#5604751">base</a></span>&nbsp;<span class="op" id="5604805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604809"><a href="/gostd/text/scanner/scanner.go.html#5604742">ch</a></span>&nbsp;<span class="op" id="5604812">=</span>&nbsp;<span class="ident" id="5604814"><a href="/gostd/text/scanner/scanner.go.html#5604719">s</a></span><span class="op" id="5604815">.</span><span class="ident" id="5604816"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5604820">(</span><span class="op" id="5604821">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604825"><a href="/gostd/text/scanner/scanner.go.html#5604757">n</a></span><span class="op" id="5604826">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604833">if</span>&nbsp;<span class="ident" id="5604836"><a href="/gostd/text/scanner/scanner.go.html#5604757">n</a></span>&nbsp;<span class="op" id="5604838">&gt;</span>&nbsp;<span class="num" id="5604840">0</span>&nbsp;<span class="op" id="5604842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604846"><a href="/gostd/text/scanner/scanner.go.html#5604719">s</a></span><span class="op" id="5604847">.</span><span class="builtintype" id="5604848"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5604853">(</span><span class="string" id="5604854">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="5604875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5604878">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604881">return</span>&nbsp;<span class="ident" id="5604888"><a href="/gostd/text/scanner/scanner.go.html#5604742">ch</a></span><br>
<span class="lineno"></span><span class="op" id="5604891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5604894">func</span>&nbsp;<span class="op" id="5604899">(</span><span class="ident" id="5604900">s</span>&nbsp;<span class="op" id="5604902">*</span><span class="ident" id="5604903"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5604910">)</span>&nbsp;<span class="ident" id="5604912">scanEscape</span><span class="op" id="5604922">(</span><span class="ident" id="5604923">quote</span>&nbsp;<span class="builtintype" id="5604929">rune</span><span class="op" id="5604933">)</span>&nbsp;<span class="builtintype" id="5604935">rune</span>&nbsp;<span class="op" id="5604940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5604943">ch</span>&nbsp;<span class="op" id="5604946">:=</span>&nbsp;<span class="ident" id="5604949"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5604950">.</span><span class="ident" id="5604951"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5604955">(</span><span class="op" id="5604956">)</span>&nbsp;<span class="comment" id="5604958">//&nbsp;read&nbsp;character&nbsp;after&nbsp;&#39;/&#39;</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5604987">switch</span>&nbsp;<span class="ident" id="5604994"><a href="/gostd/text/scanner/scanner.go.html#5604943">ch</a></span>&nbsp;<span class="op" id="5604997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605000">case</span>&nbsp;<span class="string" id="5605005">&#39;a&#39;</span><span class="op" id="5605008">,</span>&nbsp;<span class="string" id="5605010">&#39;b&#39;</span><span class="op" id="5605013">,</span>&nbsp;<span class="string" id="5605015">&#39;f&#39;</span><span class="op" id="5605018">,</span>&nbsp;<span class="string" id="5605020">&#39;n&#39;</span><span class="op" id="5605023">,</span>&nbsp;<span class="string" id="5605025">&#39;r&#39;</span><span class="op" id="5605028">,</span>&nbsp;<span class="string" id="5605030">&#39;t&#39;</span><span class="op" id="5605033">,</span>&nbsp;<span class="string" id="5605035">&#39;v&#39;</span><span class="op" id="5605038">,</span>&nbsp;<span class="string" id="5605040">&#39;\\&#39;</span><span class="op" id="5605044">,</span>&nbsp;<span class="ident" id="5605046"><a href="/gostd/text/scanner/scanner.go.html#5604923">quote</a></span><span class="op" id="5605051">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5605055">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605074"><a href="/gostd/text/scanner/scanner.go.html#5604943">ch</a></span>&nbsp;<span class="op" id="5605077">=</span>&nbsp;<span class="ident" id="5605079"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5605080">.</span><span class="ident" id="5605081"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5605085">(</span><span class="op" id="5605086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605089">case</span>&nbsp;<span class="string" id="5605094">&#39;0&#39;</span><span class="op" id="5605097">,</span>&nbsp;<span class="string" id="5605099">&#39;1&#39;</span><span class="op" id="5605102">,</span>&nbsp;<span class="string" id="5605104">&#39;2&#39;</span><span class="op" id="5605107">,</span>&nbsp;<span class="string" id="5605109">&#39;3&#39;</span><span class="op" id="5605112">,</span>&nbsp;<span class="string" id="5605114">&#39;4&#39;</span><span class="op" id="5605117">,</span>&nbsp;<span class="string" id="5605119">&#39;5&#39;</span><span class="op" id="5605122">,</span>&nbsp;<span class="string" id="5605124">&#39;6&#39;</span><span class="op" id="5605127">,</span>&nbsp;<span class="string" id="5605129">&#39;7&#39;</span><span class="op" id="5605132">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605136"><a href="/gostd/text/scanner/scanner.go.html#5604943">ch</a></span>&nbsp;<span class="op" id="5605139">=</span>&nbsp;<span class="ident" id="5605141"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5605142">.</span><span class="ident" id="5605143"><a href="/gostd/text/scanner/scanner.go.html#5604731">scanDigits</a></span><span class="op" id="5605153">(</span><span class="ident" id="5605154"><a href="/gostd/text/scanner/scanner.go.html#5604943">ch</a></span><span class="op" id="5605156">,</span>&nbsp;<span class="num" id="5605158">8</span><span class="op" id="5605159">,</span>&nbsp;<span class="num" id="5605161">3</span><span class="op" id="5605162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605165">case</span>&nbsp;<span class="string" id="5605170">&#39;x&#39;</span><span class="op" id="5605173">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605177"><a href="/gostd/text/scanner/scanner.go.html#5604943">ch</a></span>&nbsp;<span class="op" id="5605180">=</span>&nbsp;<span class="ident" id="5605182"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5605183">.</span><span class="ident" id="5605184"><a href="/gostd/text/scanner/scanner.go.html#5604731">scanDigits</a></span><span class="op" id="5605194">(</span><span class="ident" id="5605195"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5605196">.</span><span class="ident" id="5605197"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5605201">(</span><span class="op" id="5605202">)</span><span class="op" id="5605203">,</span>&nbsp;<span class="num" id="5605205">16</span><span class="op" id="5605207">,</span>&nbsp;<span class="num" id="5605209">2</span><span class="op" id="5605210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605213">case</span>&nbsp;<span class="string" id="5605218">&#39;u&#39;</span><span class="op" id="5605221">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605225"><a href="/gostd/text/scanner/scanner.go.html#5604943">ch</a></span>&nbsp;<span class="op" id="5605228">=</span>&nbsp;<span class="ident" id="5605230"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5605231">.</span><span class="ident" id="5605232"><a href="/gostd/text/scanner/scanner.go.html#5604731">scanDigits</a></span><span class="op" id="5605242">(</span><span class="ident" id="5605243"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5605244">.</span><span class="ident" id="5605245"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5605249">(</span><span class="op" id="5605250">)</span><span class="op" id="5605251">,</span>&nbsp;<span class="num" id="5605253">16</span><span class="op" id="5605255">,</span>&nbsp;<span class="num" id="5605257">4</span><span class="op" id="5605258">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605261">case</span>&nbsp;<span class="string" id="5605266">&#39;U&#39;</span><span class="op" id="5605269">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605273"><a href="/gostd/text/scanner/scanner.go.html#5604943">ch</a></span>&nbsp;<span class="op" id="5605276">=</span>&nbsp;<span class="ident" id="5605278"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5605279">.</span><span class="ident" id="5605280"><a href="/gostd/text/scanner/scanner.go.html#5604731">scanDigits</a></span><span class="op" id="5605290">(</span><span class="ident" id="5605291"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5605292">.</span><span class="ident" id="5605293"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5605297">(</span><span class="op" id="5605298">)</span><span class="op" id="5605299">,</span>&nbsp;<span class="num" id="5605301">16</span><span class="op" id="5605303">,</span>&nbsp;<span class="num" id="5605305">8</span><span class="op" id="5605306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605309">default</span><span class="op" id="5605316">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605320"><a href="/gostd/text/scanner/scanner.go.html#5604900">s</a></span><span class="op" id="5605321">.</span><span class="builtintype" id="5605322"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5605327">(</span><span class="string" id="5605328">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="5605349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5605352">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605355">return</span>&nbsp;<span class="ident" id="5605362"><a href="/gostd/text/scanner/scanner.go.html#5604943">ch</a></span><br>
<span class="lineno"></span><span class="op" id="5605365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5605368">func</span>&nbsp;<span class="op" id="5605373">(</span><span class="ident" id="5605374">s</span>&nbsp;<span class="op" id="5605376">*</span><span class="ident" id="5605377"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5605384">)</span>&nbsp;<span class="ident" id="5605386">scanString</span><span class="op" id="5605396">(</span><span class="ident" id="5605397">quote</span>&nbsp;<span class="builtintype" id="5605403">rune</span><span class="op" id="5605407">)</span>&nbsp;<span class="op" id="5605409">(</span><span class="ident" id="5605410">n</span>&nbsp;<span class="builtintype" id="5605412">int</span><span class="op" id="5605415">)</span>&nbsp;<span class="op" id="5605417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605420">ch</span>&nbsp;<span class="op" id="5605423">:=</span>&nbsp;<span class="ident" id="5605426"><a href="/gostd/text/scanner/scanner.go.html#5605374">s</a></span><span class="op" id="5605427">.</span><span class="ident" id="5605428"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5605432">(</span><span class="op" id="5605433">)</span>&nbsp;<span class="comment" id="5605435">//&nbsp;read&nbsp;character&nbsp;after&nbsp;quote</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605466">for</span>&nbsp;<span class="ident" id="5605470"><a href="/gostd/text/scanner/scanner.go.html#5605420">ch</a></span>&nbsp;<span class="op" id="5605473">!=</span>&nbsp;<span class="ident" id="5605476"><a href="/gostd/text/scanner/scanner.go.html#5605397">quote</a></span>&nbsp;<span class="op" id="5605482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605486">if</span>&nbsp;<span class="ident" id="5605489"><a href="/gostd/text/scanner/scanner.go.html#5605420">ch</a></span>&nbsp;<span class="op" id="5605492">==</span>&nbsp;<span class="string" id="5605495">&#39;\n&#39;</span>&nbsp;<span class="op" id="5605500">||</span>&nbsp;<span class="ident" id="5605503"><a href="/gostd/text/scanner/scanner.go.html#5605420">ch</a></span>&nbsp;<span class="op" id="5605506">&lt;</span>&nbsp;<span class="num" id="5605508">0</span>&nbsp;<span class="op" id="5605510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605515"><a href="/gostd/text/scanner/scanner.go.html#5605374">s</a></span><span class="op" id="5605516">.</span><span class="builtintype" id="5605517"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5605522">(</span><span class="string" id="5605523">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="5605547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605552">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5605561">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605565">if</span>&nbsp;<span class="ident" id="5605568"><a href="/gostd/text/scanner/scanner.go.html#5605420">ch</a></span>&nbsp;<span class="op" id="5605571">==</span>&nbsp;<span class="string" id="5605574">&#39;\\&#39;</span>&nbsp;<span class="op" id="5605579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605584"><a href="/gostd/text/scanner/scanner.go.html#5605420">ch</a></span>&nbsp;<span class="op" id="5605587">=</span>&nbsp;<span class="ident" id="5605589"><a href="/gostd/text/scanner/scanner.go.html#5605374">s</a></span><span class="op" id="5605590">.</span><span class="ident" id="5605591"><a href="/gostd/text/scanner/scanner.go.html#5604912">scanEscape</a></span><span class="op" id="5605601">(</span><span class="ident" id="5605602"><a href="/gostd/text/scanner/scanner.go.html#5605397">quote</a></span><span class="op" id="5605607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5605611">}</span>&nbsp;<span class="keyword" id="5605613">else</span>&nbsp;<span class="op" id="5605618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605623"><a href="/gostd/text/scanner/scanner.go.html#5605420">ch</a></span>&nbsp;<span class="op" id="5605626">=</span>&nbsp;<span class="ident" id="5605628"><a href="/gostd/text/scanner/scanner.go.html#5605374">s</a></span><span class="op" id="5605629">.</span><span class="ident" id="5605630"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5605634">(</span><span class="op" id="5605635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5605639">}</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605643"><a href="/gostd/text/scanner/scanner.go.html#5605410">n</a></span><span class="op" id="5605644">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5605648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605651">return</span><br>
<span class="lineno"></span><span class="op" id="5605658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="5605661">func</span>&nbsp;<span class="op" id="5605666">(</span><span class="ident" id="5605667">s</span>&nbsp;<span class="op" id="5605669">*</span><span class="ident" id="5605670"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5605677">)</span>&nbsp;<span class="ident" id="5605679">scanRawString</span><span class="op" id="5605692">(</span><span class="op" id="5605693">)</span>&nbsp;<span class="op" id="5605695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605698">ch</span>&nbsp;<span class="op" id="5605701">:=</span>&nbsp;<span class="ident" id="5605704"><a href="/gostd/text/scanner/scanner.go.html#5605667">s</a></span><span class="op" id="5605705">.</span><span class="ident" id="5605706"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5605710">(</span><span class="op" id="5605711">)</span>&nbsp;<span class="comment" id="5605713">//&nbsp;read&nbsp;character&nbsp;after&nbsp;&#39;`&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605742">for</span>&nbsp;<span class="ident" id="5605746"><a href="/gostd/text/scanner/scanner.go.html#5605698">ch</a></span>&nbsp;<span class="op" id="5605749">!=</span>&nbsp;<span class="string" id="5605752">&#39;`&#39;</span>&nbsp;<span class="op" id="5605756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605760">if</span>&nbsp;<span class="ident" id="5605763"><a href="/gostd/text/scanner/scanner.go.html#5605698">ch</a></span>&nbsp;<span class="op" id="5605766">&lt;</span>&nbsp;<span class="num" id="5605768">0</span>&nbsp;<span class="op" id="5605770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605775"><a href="/gostd/text/scanner/scanner.go.html#5605667">s</a></span><span class="op" id="5605776">.</span><span class="builtintype" id="5605777"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5605782">(</span><span class="string" id="5605783">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="5605807">)</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605812">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5605821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605825"><a href="/gostd/text/scanner/scanner.go.html#5605698">ch</a></span>&nbsp;<span class="op" id="5605828">=</span>&nbsp;<span class="ident" id="5605830"><a href="/gostd/text/scanner/scanner.go.html#5605667">s</a></span><span class="op" id="5605831">.</span><span class="ident" id="5605832"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5605836">(</span><span class="op" id="5605837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5605840">}</span><br>
<span class="lineno"></span><span class="op" id="5605842">}</span><br>
<span class="lineno">510</span><br>
<span class="lineno"></span><span class="keyword" id="5605845">func</span>&nbsp;<span class="op" id="5605850">(</span><span class="ident" id="5605851">s</span>&nbsp;<span class="op" id="5605853">*</span><span class="ident" id="5605854"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5605861">)</span>&nbsp;<span class="ident" id="5605863">scanChar</span><span class="op" id="5605871">(</span><span class="op" id="5605872">)</span>&nbsp;<span class="op" id="5605874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5605877">if</span>&nbsp;<span class="ident" id="5605880"><a href="/gostd/text/scanner/scanner.go.html#5605851">s</a></span><span class="op" id="5605881">.</span><span class="ident" id="5605882"><a href="/gostd/text/scanner/scanner.go.html#5605386">scanString</a></span><span class="op" id="5605892">(</span><span class="string" id="5605893">&#39;\&#39;&#39;</span><span class="op" id="5605897">)</span>&nbsp;<span class="op" id="5605899">!=</span>&nbsp;<span class="num" id="5605902">1</span>&nbsp;<span class="op" id="5605904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5605908"><a href="/gostd/text/scanner/scanner.go.html#5605851">s</a></span><span class="op" id="5605909">.</span><span class="builtintype" id="5605910"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5605915">(</span><span class="string" id="5605916">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="5605938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5605941">}</span><br>
<span class="lineno">515</span><span class="op" id="5605943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5605946">func</span>&nbsp;<span class="op" id="5605951">(</span><span class="ident" id="5605952">s</span>&nbsp;<span class="op" id="5605954">*</span><span class="ident" id="5605955"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5605962">)</span>&nbsp;<span class="ident" id="5605964">scanComment</span><span class="op" id="5605975">(</span><span class="ident" id="5605976">ch</span>&nbsp;<span class="builtintype" id="5605979">rune</span><span class="op" id="5605983">)</span>&nbsp;<span class="builtintype" id="5605985">rune</span>&nbsp;<span class="op" id="5605990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5605993">//&nbsp;ch&nbsp;==&nbsp;&#39;/&#39;&nbsp;||&nbsp;ch&nbsp;==&nbsp;&#39;*&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606020">if</span>&nbsp;<span class="ident" id="5606023"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606026">==</span>&nbsp;<span class="string" id="5606029">&#39;/&#39;</span>&nbsp;<span class="op" id="5606033">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5606037">//&nbsp;line&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606055"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606058">=</span>&nbsp;<span class="ident" id="5606060"><a href="/gostd/text/scanner/scanner.go.html#5605952">s</a></span><span class="op" id="5606061">.</span><span class="ident" id="5606062"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5606066">(</span><span class="op" id="5606067">)</span>&nbsp;<span class="comment" id="5606069">//&nbsp;read&nbsp;character&nbsp;after&nbsp;&#34;//&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606100">for</span>&nbsp;<span class="ident" id="5606104"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606107">!=</span>&nbsp;<span class="string" id="5606110">&#39;\n&#39;</span>&nbsp;<span class="op" id="5606115">&amp;&amp;</span>&nbsp;<span class="ident" id="5606118"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606121">&gt;=</span>&nbsp;<span class="num" id="5606124">0</span>&nbsp;<span class="op" id="5606126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606131"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606134">=</span>&nbsp;<span class="ident" id="5606136"><a href="/gostd/text/scanner/scanner.go.html#5605952">s</a></span><span class="op" id="5606137">.</span><span class="ident" id="5606138"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5606142">(</span><span class="op" id="5606143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5606147">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606151">return</span>&nbsp;<span class="ident" id="5606158"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5606162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5606166">//&nbsp;general&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606186"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606189">=</span>&nbsp;<span class="ident" id="5606191"><a href="/gostd/text/scanner/scanner.go.html#5605952">s</a></span><span class="op" id="5606192">.</span><span class="ident" id="5606193"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5606197">(</span><span class="op" id="5606198">)</span>&nbsp;<span class="comment" id="5606200">//&nbsp;read&nbsp;character&nbsp;after&nbsp;&#34;/*&#34;</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606230">for</span>&nbsp;<span class="op" id="5606234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606238">if</span>&nbsp;<span class="ident" id="5606241"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606244">&lt;</span>&nbsp;<span class="num" id="5606246">0</span>&nbsp;<span class="op" id="5606248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606253"><a href="/gostd/text/scanner/scanner.go.html#5605952">s</a></span><span class="op" id="5606254">.</span><span class="builtintype" id="5606255"><a href="/gostd/text/scanner/scanner.go.html#5602417">error</a></span><span class="op" id="5606260">(</span><span class="string" id="5606261">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="5606285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606290">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5606298">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606302">ch0</span>&nbsp;<span class="op" id="5606306">:=</span>&nbsp;<span class="ident" id="5606309"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606314"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606317">=</span>&nbsp;<span class="ident" id="5606319"><a href="/gostd/text/scanner/scanner.go.html#5605952">s</a></span><span class="op" id="5606320">.</span><span class="ident" id="5606321"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5606325">(</span><span class="op" id="5606326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606330">if</span>&nbsp;<span class="ident" id="5606333"><a href="/gostd/text/scanner/scanner.go.html#5606302">ch0</a></span>&nbsp;<span class="op" id="5606337">==</span>&nbsp;<span class="string" id="5606340">&#39;*&#39;</span>&nbsp;<span class="op" id="5606344">&amp;&amp;</span>&nbsp;<span class="ident" id="5606347"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606350">==</span>&nbsp;<span class="string" id="5606353">&#39;/&#39;</span>&nbsp;<span class="op" id="5606357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606362"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span>&nbsp;<span class="op" id="5606365">=</span>&nbsp;<span class="ident" id="5606367"><a href="/gostd/text/scanner/scanner.go.html#5605952">s</a></span><span class="op" id="5606368">.</span><span class="ident" id="5606369"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5606373">(</span><span class="op" id="5606374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606379">break</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5606387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5606390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606393">return</span>&nbsp;<span class="ident" id="5606400"><a href="/gostd/text/scanner/scanner.go.html#5605976">ch</a></span><br>
<span class="lineno"></span><span class="op" id="5606403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span><span class="comment" id="5606406">//&nbsp;Scan&nbsp;reads&nbsp;the&nbsp;next&nbsp;token&nbsp;or&nbsp;Unicode&nbsp;character&nbsp;from&nbsp;source&nbsp;and&nbsp;returns&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="5606484">//&nbsp;It&nbsp;only&nbsp;recognizes&nbsp;tokens&nbsp;t&nbsp;for&nbsp;which&nbsp;the&nbsp;respective&nbsp;Mode&nbsp;bit&nbsp;(1&lt;&lt;-t)&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span><span class="comment" id="5606565">//&nbsp;It&nbsp;returns&nbsp;EOF&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;source.&nbsp;It&nbsp;reports&nbsp;scanner&nbsp;errors&nbsp;(read&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5606645">//&nbsp;token&nbsp;errors)&nbsp;by&nbsp;calling&nbsp;s.Error,&nbsp;if&nbsp;not&nbsp;nil;&nbsp;otherwise&nbsp;it&nbsp;prints&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="5606723">//&nbsp;message&nbsp;to&nbsp;os.Stderr.</span><br>
<span class="lineno">550</span><span class="keyword" id="5606748">func</span>&nbsp;<span class="op" id="5606753">(</span><span class="ident" id="5606754">s</span>&nbsp;<span class="op" id="5606756">*</span><span class="ident" id="5606757"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5606764">)</span>&nbsp;<span class="ident" id="5606766">Scan</span><span class="op" id="5606770">(</span><span class="op" id="5606771">)</span>&nbsp;<span class="builtintype" id="5606773">rune</span>&nbsp;<span class="op" id="5606778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606781">ch</span>&nbsp;<span class="op" id="5606784">:=</span>&nbsp;<span class="ident" id="5606787"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5606788">.</span><span class="ident" id="5606789"><a href="/gostd/text/scanner/scanner.go.html#5602216">Peek</a></span><span class="op" id="5606793">(</span><span class="op" id="5606794">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5606798">//&nbsp;reset&nbsp;token&nbsp;text&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606828"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5606829">.</span><span class="ident" id="5606830"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span>&nbsp;<span class="op" id="5606837">=</span>&nbsp;<span class="op" id="5606839">-</span><span class="num" id="5606840">1</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606843"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5606844">.</span><span class="ident" id="5606845"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span>&nbsp;<span class="op" id="5606850">=</span>&nbsp;<span class="num" id="5606852">0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="5606855">redo</span><span class="op" id="5606859">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5606862">//&nbsp;skip&nbsp;white&nbsp;space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5606883">for</span>&nbsp;<span class="ident" id="5606887"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5606888">.</span><span class="ident" id="5606889"><a href="/gostd/text/scanner/scanner.go.html#5597633">Whitespace</a></span><span class="op" id="5606899">&amp;</span><span class="op" id="5606900">(</span><span class="num" id="5606901">1</span><span class="op" id="5606902">&lt;&lt;</span><span class="builtintype" id="5606904">uint</span><span class="op" id="5606908">(</span><span class="ident" id="5606909"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><span class="op" id="5606911">)</span><span class="op" id="5606912">)</span>&nbsp;<span class="op" id="5606914">!=</span>&nbsp;<span class="num" id="5606917">0</span>&nbsp;<span class="op" id="5606919">{</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606923"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5606926">=</span>&nbsp;<span class="ident" id="5606928"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5606929">.</span><span class="ident" id="5606930"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5606934">(</span><span class="op" id="5606935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5606938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5606942">//&nbsp;start&nbsp;collecting&nbsp;token&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606974"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5606975">.</span><span class="ident" id="5606976"><a href="/gostd/text/scanner/scanner.go.html#5596662">tokBuf</a></span><span class="op" id="5606982">.</span><span class="ident" id="5606983"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="5606988">(</span><span class="op" id="5606989">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5606992"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5606993">.</span><span class="ident" id="5606994"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span>&nbsp;<span class="op" id="5607001">=</span>&nbsp;<span class="ident" id="5607003"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607004">.</span><span class="ident" id="5607005"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span>&nbsp;<span class="op" id="5607012">-</span>&nbsp;<span class="ident" id="5607014"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607015">.</span><span class="ident" id="5607016"><a href="/gostd/text/scanner/scanner.go.html#5596406">lastCharLen</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5607030">//&nbsp;set&nbsp;token&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5607053">//&nbsp;(this&nbsp;is&nbsp;a&nbsp;slightly&nbsp;optimized&nbsp;version&nbsp;of&nbsp;the&nbsp;code&nbsp;in&nbsp;Pos())</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607117"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607118">.</span><span class="ident" id="5607119"><a href="/gostd/text/scanner/scanner.go.html#5593473">Offset</a></span>&nbsp;<span class="op" id="5607126">=</span>&nbsp;<span class="ident" id="5607128"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607129">.</span><span class="ident" id="5607130"><a href="/gostd/text/scanner/scanner.go.html#5596195">srcBufOffset</a></span>&nbsp;<span class="op" id="5607143">+</span>&nbsp;<span class="ident" id="5607145"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607146">.</span><span class="ident" id="5607147"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607155">if</span>&nbsp;<span class="ident" id="5607158"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607159">.</span><span class="ident" id="5607160"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span>&nbsp;<span class="op" id="5607167">&gt;</span>&nbsp;<span class="num" id="5607169">0</span>&nbsp;<span class="op" id="5607171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5607175">//&nbsp;common&nbsp;case:&nbsp;last&nbsp;character&nbsp;was&nbsp;not&nbsp;a&nbsp;&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607223"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607224">.</span><span class="ident" id="5607225"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span>&nbsp;<span class="op" id="5607230">=</span>&nbsp;<span class="ident" id="5607232"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607233">.</span><span class="ident" id="5607234"><a href="/gostd/text/scanner/scanner.go.html#5596251">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607241"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607242">.</span><span class="ident" id="5607243"><a href="/gostd/text/scanner/scanner.go.html#5593567">Column</a></span>&nbsp;<span class="op" id="5607250">=</span>&nbsp;<span class="ident" id="5607252"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607253">.</span><span class="ident" id="5607254"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5607262">}</span>&nbsp;<span class="keyword" id="5607264">else</span>&nbsp;<span class="op" id="5607269">{</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5607273">//&nbsp;last&nbsp;character&nbsp;was&nbsp;a&nbsp;&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5607304">//&nbsp;(we&nbsp;cannot&nbsp;be&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5607354">//&nbsp;since&nbsp;we&nbsp;have&nbsp;called&nbsp;next()&nbsp;at&nbsp;least&nbsp;once)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607402"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607403">.</span><span class="ident" id="5607404"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span>&nbsp;<span class="op" id="5607409">=</span>&nbsp;<span class="ident" id="5607411"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607412">.</span><span class="ident" id="5607413"><a href="/gostd/text/scanner/scanner.go.html#5596251">line</a></span>&nbsp;<span class="op" id="5607418">-</span>&nbsp;<span class="num" id="5607420">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607424"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607425">.</span><span class="ident" id="5607426"><a href="/gostd/text/scanner/scanner.go.html#5593567">Column</a></span>&nbsp;<span class="op" id="5607433">=</span>&nbsp;<span class="ident" id="5607435"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607436">.</span><span class="ident" id="5607437"><a href="/gostd/text/scanner/scanner.go.html#5596320">lastLineLen</a></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5607450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5607454">//&nbsp;determine&nbsp;token&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607480">tok</span>&nbsp;<span class="op" id="5607484">:=</span>&nbsp;<span class="ident" id="5607487"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607491">switch</span>&nbsp;<span class="op" id="5607498">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607501">case</span>&nbsp;<span class="ident" id="5607506"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607507">.</span><span class="ident" id="5607508"><a href="/gostd/text/scanner/scanner.go.html#5602630">isIdentRune</a></span><span class="op" id="5607519">(</span><span class="ident" id="5607520"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><span class="op" id="5607522">,</span>&nbsp;<span class="num" id="5607524">0</span><span class="op" id="5607525">)</span><span class="op" id="5607526">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607530">if</span>&nbsp;<span class="ident" id="5607533"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607534">.</span><span class="ident" id="5607535"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5607539">&amp;</span><span class="ident" id="5607540"><a href="/gostd/text/scanner/scanner.go.html#5594578">ScanIdents</a></span>&nbsp;<span class="op" id="5607551">!=</span>&nbsp;<span class="num" id="5607554">0</span>&nbsp;<span class="op" id="5607556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607561"><a href="/gostd/text/scanner/scanner.go.html#5607480">tok</a></span>&nbsp;<span class="op" id="5607565">=</span>&nbsp;<span class="ident" id="5607567"><a href="/gostd/text/scanner/scanner.go.html#5595124">Ident</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607576"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5607579">=</span>&nbsp;<span class="ident" id="5607581"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607582">.</span><span class="ident" id="5607583"><a href="/gostd/text/scanner/scanner.go.html#5602820">scanIdentifier</a></span><span class="op" id="5607597">(</span><span class="op" id="5607598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5607602">}</span>&nbsp;<span class="keyword" id="5607604">else</span>&nbsp;<span class="op" id="5607609">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607614"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5607617">=</span>&nbsp;<span class="ident" id="5607619"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607620">.</span><span class="ident" id="5607621"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5607625">(</span><span class="op" id="5607626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5607630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607633">case</span>&nbsp;<span class="ident" id="5607638"><a href="/gostd/text/scanner/scanner.go.html#5603266">isDecimal</a></span><span class="op" id="5607647">(</span><span class="ident" id="5607648"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><span class="op" id="5607650">)</span><span class="op" id="5607651">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607655">if</span>&nbsp;<span class="ident" id="5607658"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607659">.</span><span class="ident" id="5607660"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5607664">&amp;</span><span class="op" id="5607665">(</span><span class="ident" id="5607666"><a href="/gostd/text/scanner/scanner.go.html#5594608">ScanInts</a></span><span class="op" id="5607674">|</span><span class="ident" id="5607675"><a href="/gostd/text/scanner/scanner.go.html#5594636">ScanFloats</a></span><span class="op" id="5607685">)</span>&nbsp;<span class="op" id="5607687">!=</span>&nbsp;<span class="num" id="5607690">0</span>&nbsp;<span class="op" id="5607692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607697"><a href="/gostd/text/scanner/scanner.go.html#5607480">tok</a></span><span class="op" id="5607700">,</span>&nbsp;<span class="ident" id="5607702"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5607705">=</span>&nbsp;<span class="ident" id="5607707"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607708">.</span><span class="ident" id="5607709"><a href="/gostd/text/scanner/scanner.go.html#5603742">scanNumber</a></span><span class="op" id="5607719">(</span><span class="ident" id="5607720"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><span class="op" id="5607722">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5607726">}</span>&nbsp;<span class="keyword" id="5607728">else</span>&nbsp;<span class="op" id="5607733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607738"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5607741">=</span>&nbsp;<span class="ident" id="5607743"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607744">.</span><span class="ident" id="5607745"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5607749">(</span><span class="op" id="5607750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5607754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607757">default</span><span class="op" id="5607764">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607768">switch</span>&nbsp;<span class="ident" id="5607775"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5607778">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607782">case</span>&nbsp;<span class="string" id="5607787">&#39;&#34;&#39;</span><span class="op" id="5607790">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607795">if</span>&nbsp;<span class="ident" id="5607798"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607799">.</span><span class="ident" id="5607800"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5607804">&amp;</span><span class="ident" id="5607805"><a href="/gostd/text/scanner/scanner.go.html#5594712">ScanStrings</a></span>&nbsp;<span class="op" id="5607817">!=</span>&nbsp;<span class="num" id="5607820">0</span>&nbsp;<span class="op" id="5607822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607828"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607829">.</span><span class="ident" id="5607830"><a href="/gostd/text/scanner/scanner.go.html#5605386">scanString</a></span><span class="op" id="5607840">(</span><span class="string" id="5607841">&#39;&#34;&#39;</span><span class="op" id="5607844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607850"><a href="/gostd/text/scanner/scanner.go.html#5607480">tok</a></span>&nbsp;<span class="op" id="5607854">=</span>&nbsp;<span class="ident" id="5607856"><a href="/gostd/text/scanner/scanner.go.html#5595149">String</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5607866">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607871"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5607874">=</span>&nbsp;<span class="ident" id="5607876"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607877">.</span><span class="ident" id="5607878"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5607882">(</span><span class="op" id="5607883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607887">case</span>&nbsp;<span class="string" id="5607892">&#39;\&#39;&#39;</span><span class="op" id="5607896">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607901">if</span>&nbsp;<span class="ident" id="5607904"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607905">.</span><span class="ident" id="5607906"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5607910">&amp;</span><span class="ident" id="5607911"><a href="/gostd/text/scanner/scanner.go.html#5594683">ScanChars</a></span>&nbsp;<span class="op" id="5607921">!=</span>&nbsp;<span class="num" id="5607924">0</span>&nbsp;<span class="op" id="5607926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607932"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607933">.</span><span class="ident" id="5607934"><a href="/gostd/text/scanner/scanner.go.html#5605863">scanChar</a></span><span class="op" id="5607942">(</span><span class="op" id="5607943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607949"><a href="/gostd/text/scanner/scanner.go.html#5607480">tok</a></span>&nbsp;<span class="op" id="5607953">=</span>&nbsp;<span class="ident" id="5607955"><a href="/gostd/text/scanner/scanner.go.html#5595143">Char</a></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5607963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607968"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5607971">=</span>&nbsp;<span class="ident" id="5607973"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5607974">.</span><span class="ident" id="5607975"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5607979">(</span><span class="op" id="5607980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5607984">case</span>&nbsp;<span class="string" id="5607989">&#39;.&#39;</span><span class="op" id="5607992">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5607997"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608000">=</span>&nbsp;<span class="ident" id="5608002"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608003">.</span><span class="ident" id="5608004"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5608008">(</span><span class="op" id="5608009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608014">if</span>&nbsp;<span class="ident" id="5608017"><a href="/gostd/text/scanner/scanner.go.html#5603266">isDecimal</a></span><span class="op" id="5608026">(</span><span class="ident" id="5608027"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><span class="op" id="5608029">)</span>&nbsp;<span class="op" id="5608031">&amp;&amp;</span>&nbsp;<span class="ident" id="5608034"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608035">.</span><span class="ident" id="5608036"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5608040">&amp;</span><span class="ident" id="5608041"><a href="/gostd/text/scanner/scanner.go.html#5594636">ScanFloats</a></span>&nbsp;<span class="op" id="5608052">!=</span>&nbsp;<span class="num" id="5608055">0</span>&nbsp;<span class="op" id="5608057">{</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608063"><a href="/gostd/text/scanner/scanner.go.html#5607480">tok</a></span>&nbsp;<span class="op" id="5608067">=</span>&nbsp;<span class="ident" id="5608069"><a href="/gostd/text/scanner/scanner.go.html#5595136">Float</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608079"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608082">=</span>&nbsp;<span class="ident" id="5608084"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608085">.</span><span class="ident" id="5608086"><a href="/gostd/text/scanner/scanner.go.html#5603343">scanMantissa</a></span><span class="op" id="5608098">(</span><span class="ident" id="5608099"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><span class="op" id="5608101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608107"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608110">=</span>&nbsp;<span class="ident" id="5608112"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608113">.</span><span class="ident" id="5608114"><a href="/gostd/text/scanner/scanner.go.html#5603556">scanExponent</a></span><span class="op" id="5608126">(</span><span class="ident" id="5608127"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><span class="op" id="5608129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5608134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608138">case</span>&nbsp;<span class="string" id="5608143">&#39;/&#39;</span><span class="op" id="5608146">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608151"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608154">=</span>&nbsp;<span class="ident" id="5608156"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608157">.</span><span class="ident" id="5608158"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5608162">(</span><span class="op" id="5608163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608168">if</span>&nbsp;<span class="op" id="5608171">(</span><span class="ident" id="5608172"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608175">==</span>&nbsp;<span class="string" id="5608178">&#39;/&#39;</span>&nbsp;<span class="op" id="5608182">||</span>&nbsp;<span class="ident" id="5608185"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608188">==</span>&nbsp;<span class="string" id="5608191">&#39;*&#39;</span><span class="op" id="5608194">)</span>&nbsp;<span class="op" id="5608196">&amp;&amp;</span>&nbsp;<span class="ident" id="5608199"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608200">.</span><span class="ident" id="5608201"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5608205">&amp;</span><span class="ident" id="5608206"><a href="/gostd/text/scanner/scanner.go.html#5594777">ScanComments</a></span>&nbsp;<span class="op" id="5608219">!=</span>&nbsp;<span class="num" id="5608222">0</span>&nbsp;<span class="op" id="5608224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608230">if</span>&nbsp;<span class="ident" id="5608233"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608234">.</span><span class="ident" id="5608235"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5608239">&amp;</span><span class="ident" id="5608240"><a href="/gostd/text/scanner/scanner.go.html#5594809">SkipComments</a></span>&nbsp;<span class="op" id="5608253">!=</span>&nbsp;<span class="num" id="5608256">0</span>&nbsp;<span class="op" id="5608258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608265"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608266">.</span><span class="ident" id="5608267"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span>&nbsp;<span class="op" id="5608274">=</span>&nbsp;<span class="op" id="5608276">-</span><span class="num" id="5608277">1</span>&nbsp;<span class="comment" id="5608279">//&nbsp;don&#39;t&nbsp;collect&nbsp;token&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608312"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608315">=</span>&nbsp;<span class="ident" id="5608317"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608318">.</span><span class="ident" id="5608319"><a href="/gostd/text/scanner/scanner.go.html#5605964">scanComment</a></span><span class="op" id="5608330">(</span><span class="ident" id="5608331"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><span class="op" id="5608333">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608340">goto</span>&nbsp;<span class="ident" id="5608345"><a href="/gostd/text/scanner/scanner.go.html#5606855">redo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5608354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608360"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608363">=</span>&nbsp;<span class="ident" id="5608365"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608366">.</span><span class="ident" id="5608367"><a href="/gostd/text/scanner/scanner.go.html#5605964">scanComment</a></span><span class="op" id="5608378">(</span><span class="ident" id="5608379"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><span class="op" id="5608381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608387"><a href="/gostd/text/scanner/scanner.go.html#5607480">tok</a></span>&nbsp;<span class="op" id="5608391">=</span>&nbsp;<span class="ident" id="5608393"><a href="/gostd/text/scanner/scanner.go.html#5595168">Comment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5608404">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608408">case</span>&nbsp;<span class="string" id="5608413">&#39;`&#39;</span><span class="op" id="5608416">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608421">if</span>&nbsp;<span class="ident" id="5608424"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608425">.</span><span class="ident" id="5608426"><a href="/gostd/text/scanner/scanner.go.html#5597347">Mode</a></span><span class="op" id="5608430">&amp;</span><span class="ident" id="5608431"><a href="/gostd/text/scanner/scanner.go.html#5594743">ScanRawStrings</a></span>&nbsp;<span class="op" id="5608446">!=</span>&nbsp;<span class="num" id="5608449">0</span>&nbsp;<span class="op" id="5608451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608457"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608458">.</span><span class="ident" id="5608459"><a href="/gostd/text/scanner/scanner.go.html#5605679">scanRawString</a></span><span class="op" id="5608472">(</span><span class="op" id="5608473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608479"><a href="/gostd/text/scanner/scanner.go.html#5607480">tok</a></span>&nbsp;<span class="op" id="5608483">=</span>&nbsp;<span class="ident" id="5608485"><a href="/gostd/text/scanner/scanner.go.html#5595149">String</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5608495">}</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608500"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608503">=</span>&nbsp;<span class="ident" id="5608505"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608506">.</span><span class="ident" id="5608507"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5608511">(</span><span class="op" id="5608512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608516">default</span><span class="op" id="5608523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608528"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span>&nbsp;<span class="op" id="5608531">=</span>&nbsp;<span class="ident" id="5608533"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608534">.</span><span class="ident" id="5608535"><a href="/gostd/text/scanner/scanner.go.html#5599492">next</a></span><span class="op" id="5608539">(</span><span class="op" id="5608540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5608544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5608547">}</span><br>
<span class="lineno">640</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5608551">//&nbsp;end&nbsp;of&nbsp;token&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608573"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608574">.</span><span class="ident" id="5608575"><a href="/gostd/text/scanner/scanner.go.html#5596811">tokEnd</a></span>&nbsp;<span class="op" id="5608582">=</span>&nbsp;<span class="ident" id="5608584"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608585">.</span><span class="ident" id="5608586"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span>&nbsp;<span class="op" id="5608593">-</span>&nbsp;<span class="ident" id="5608595"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608596">.</span><span class="ident" id="5608597"><a href="/gostd/text/scanner/scanner.go.html#5596406">lastCharLen</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608611"><a href="/gostd/text/scanner/scanner.go.html#5606754">s</a></span><span class="op" id="5608612">.</span><span class="ident" id="5608613"><a href="/gostd/text/scanner/scanner.go.html#5596900">ch</a></span>&nbsp;<span class="op" id="5608616">=</span>&nbsp;<span class="ident" id="5608618"><a href="/gostd/text/scanner/scanner.go.html#5606781">ch</a></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608622">return</span>&nbsp;<span class="ident" id="5608629"><a href="/gostd/text/scanner/scanner.go.html#5607480">tok</a></span><br>
<span class="lineno"></span><span class="op" id="5608633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5608636">//&nbsp;Pos&nbsp;returns&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;character&nbsp;immediately&nbsp;after</span><br>
<span class="lineno"></span><span class="comment" id="5608699">//&nbsp;the&nbsp;character&nbsp;or&nbsp;token&nbsp;returned&nbsp;by&nbsp;the&nbsp;last&nbsp;call&nbsp;to&nbsp;Next&nbsp;or&nbsp;Scan.</span><br>
<span class="lineno">650</span><span class="keyword" id="5608768">func</span>&nbsp;<span class="op" id="5608773">(</span><span class="ident" id="5608774">s</span>&nbsp;<span class="op" id="5608776">*</span><span class="ident" id="5608777"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5608784">)</span>&nbsp;<span class="ident" id="5608786">Pos</span><span class="op" id="5608789">(</span><span class="op" id="5608790">)</span>&nbsp;<span class="op" id="5608792">(</span><span class="ident" id="5608793">pos</span>&nbsp;<span class="ident" id="5608797"><a href="/gostd/text/scanner/scanner.go.html#5593417">Position</a></span><span class="op" id="5608805">)</span>&nbsp;<span class="op" id="5608807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608810"><a href="/gostd/text/scanner/scanner.go.html#5608793">pos</a></span><span class="op" id="5608813">.</span><span class="ident" id="5608814"><a href="/gostd/text/scanner/scanner.go.html#5593436">Filename</a></span>&nbsp;<span class="op" id="5608823">=</span>&nbsp;<span class="ident" id="5608825"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5608826">.</span><span class="ident" id="5608827"><a href="/gostd/text/scanner/scanner.go.html#5593436">Filename</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608837"><a href="/gostd/text/scanner/scanner.go.html#5608793">pos</a></span><span class="op" id="5608840">.</span><span class="ident" id="5608841"><a href="/gostd/text/scanner/scanner.go.html#5593473">Offset</a></span>&nbsp;<span class="op" id="5608848">=</span>&nbsp;<span class="ident" id="5608850"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5608851">.</span><span class="ident" id="5608852"><a href="/gostd/text/scanner/scanner.go.html#5596195">srcBufOffset</a></span>&nbsp;<span class="op" id="5608865">+</span>&nbsp;<span class="ident" id="5608867"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5608868">.</span><span class="ident" id="5608869"><a href="/gostd/text/scanner/scanner.go.html#5596060">srcPos</a></span>&nbsp;<span class="op" id="5608876">-</span>&nbsp;<span class="ident" id="5608878"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5608879">.</span><span class="ident" id="5608880"><a href="/gostd/text/scanner/scanner.go.html#5596406">lastCharLen</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608893">switch</span>&nbsp;<span class="op" id="5608900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5608903">case</span>&nbsp;<span class="ident" id="5608908"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5608909">.</span><span class="ident" id="5608910"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span>&nbsp;<span class="op" id="5608917">&gt;</span>&nbsp;<span class="num" id="5608919">0</span><span class="op" id="5608920">:</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5608924">//&nbsp;common&nbsp;case:&nbsp;last&nbsp;character&nbsp;was&nbsp;not&nbsp;a&nbsp;&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608972"><a href="/gostd/text/scanner/scanner.go.html#5608793">pos</a></span><span class="op" id="5608975">.</span><span class="ident" id="5608976"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span>&nbsp;<span class="op" id="5608981">=</span>&nbsp;<span class="ident" id="5608983"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5608984">.</span><span class="ident" id="5608985"><a href="/gostd/text/scanner/scanner.go.html#5596251">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5608992"><a href="/gostd/text/scanner/scanner.go.html#5608793">pos</a></span><span class="op" id="5608995">.</span><span class="ident" id="5608996"><a href="/gostd/text/scanner/scanner.go.html#5593567">Column</a></span>&nbsp;<span class="op" id="5609003">=</span>&nbsp;<span class="ident" id="5609005"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5609006">.</span><span class="ident" id="5609007"><a href="/gostd/text/scanner/scanner.go.html#5596283">column</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5609015">case</span>&nbsp;<span class="ident" id="5609020"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5609021">.</span><span class="ident" id="5609022"><a href="/gostd/text/scanner/scanner.go.html#5596320">lastLineLen</a></span>&nbsp;<span class="op" id="5609034">&gt;</span>&nbsp;<span class="num" id="5609036">0</span><span class="op" id="5609037">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5609041">//&nbsp;last&nbsp;character&nbsp;was&nbsp;a&nbsp;&#39;\n&#39;</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5609072"><a href="/gostd/text/scanner/scanner.go.html#5608793">pos</a></span><span class="op" id="5609075">.</span><span class="ident" id="5609076"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span>&nbsp;<span class="op" id="5609081">=</span>&nbsp;<span class="ident" id="5609083"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5609084">.</span><span class="ident" id="5609085"><a href="/gostd/text/scanner/scanner.go.html#5596251">line</a></span>&nbsp;<span class="op" id="5609090">-</span>&nbsp;<span class="num" id="5609092">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5609096"><a href="/gostd/text/scanner/scanner.go.html#5608793">pos</a></span><span class="op" id="5609099">.</span><span class="ident" id="5609100"><a href="/gostd/text/scanner/scanner.go.html#5593567">Column</a></span>&nbsp;<span class="op" id="5609107">=</span>&nbsp;<span class="ident" id="5609109"><a href="/gostd/text/scanner/scanner.go.html#5608774">s</a></span><span class="op" id="5609110">.</span><span class="ident" id="5609111"><a href="/gostd/text/scanner/scanner.go.html#5596320">lastLineLen</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5609124">default</span><span class="op" id="5609131">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5609135">//&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5609171"><a href="/gostd/text/scanner/scanner.go.html#5608793">pos</a></span><span class="op" id="5609174">.</span><span class="ident" id="5609175"><a href="/gostd/text/scanner/scanner.go.html#5593520">Line</a></span>&nbsp;<span class="op" id="5609180">=</span>&nbsp;<span class="num" id="5609182">1</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5609186"><a href="/gostd/text/scanner/scanner.go.html#5608793">pos</a></span><span class="op" id="5609189">.</span><span class="ident" id="5609190"><a href="/gostd/text/scanner/scanner.go.html#5593567">Column</a></span>&nbsp;<span class="op" id="5609197">=</span>&nbsp;<span class="num" id="5609199">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5609202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5609205">return</span><br>
<span class="lineno"></span><span class="op" id="5609212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">670</span><span class="comment" id="5609215">//&nbsp;TokenText&nbsp;returns&nbsp;the&nbsp;string&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;most&nbsp;recently&nbsp;scanned&nbsp;token.</span><br>
<span class="lineno"></span><span class="comment" id="5609297">//&nbsp;Valid&nbsp;after&nbsp;calling&nbsp;Scan().</span><br>
<span class="lineno"></span><span class="keyword" id="5609328">func</span>&nbsp;<span class="op" id="5609333">(</span><span class="ident" id="5609334">s</span>&nbsp;<span class="op" id="5609336">*</span><span class="ident" id="5609337"><a href="/gostd/text/scanner/scanner.go.html#5595926">Scanner</a></span><span class="op" id="5609344">)</span>&nbsp;<span class="ident" id="5609346">TokenText</span><span class="op" id="5609355">(</span><span class="op" id="5609356">)</span>&nbsp;<span class="builtintype" id="5609358">string</span>&nbsp;<span class="op" id="5609365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5609368">if</span>&nbsp;<span class="ident" id="5609371"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609372">.</span><span class="ident" id="5609373"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span>&nbsp;<span class="op" id="5609380">&lt;</span>&nbsp;<span class="num" id="5609382">0</span>&nbsp;<span class="op" id="5609384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5609388">//&nbsp;no&nbsp;token&nbsp;text</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5609407">return</span>&nbsp;<span class="string" id="5609414">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5609418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5609422">if</span>&nbsp;<span class="ident" id="5609425"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609426">.</span><span class="ident" id="5609427"><a href="/gostd/text/scanner/scanner.go.html#5596811">tokEnd</a></span>&nbsp;<span class="op" id="5609434">&lt;</span>&nbsp;<span class="num" id="5609436">0</span>&nbsp;<span class="op" id="5609438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5609442">//&nbsp;if&nbsp;EOF&nbsp;was&nbsp;reached,&nbsp;s.tokEnd&nbsp;is&nbsp;set&nbsp;to&nbsp;-1&nbsp;(s.srcPos&nbsp;==&nbsp;0)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5609505"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609506">.</span><span class="ident" id="5609507"><a href="/gostd/text/scanner/scanner.go.html#5596811">tokEnd</a></span>&nbsp;<span class="op" id="5609514">=</span>&nbsp;<span class="ident" id="5609516"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609517">.</span><span class="ident" id="5609518"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5609526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5609530">if</span>&nbsp;<span class="ident" id="5609533"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609534">.</span><span class="ident" id="5609535"><a href="/gostd/text/scanner/scanner.go.html#5596662">tokBuf</a></span><span class="op" id="5609541">.</span><span class="ident" id="5609542"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="5609545">(</span><span class="op" id="5609546">)</span>&nbsp;<span class="op" id="5609548">==</span>&nbsp;<span class="num" id="5609551">0</span>&nbsp;<span class="op" id="5609553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5609557">//&nbsp;common&nbsp;case:&nbsp;the&nbsp;entire&nbsp;token&nbsp;text&nbsp;is&nbsp;still&nbsp;in&nbsp;srcBuf</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5609616">return</span>&nbsp;<span class="builtintype" id="5609623">string</span><span class="op" id="5609629">(</span><span class="ident" id="5609630"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609631">.</span><span class="ident" id="5609632"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5609638">[</span><span class="ident" id="5609639"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609640">.</span><span class="ident" id="5609641"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span><span class="op" id="5609647">:</span><span class="ident" id="5609648"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609649">.</span><span class="ident" id="5609650"><a href="/gostd/text/scanner/scanner.go.html#5596811">tokEnd</a></span><span class="op" id="5609656">]</span><span class="op" id="5609657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5609660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5609664">//&nbsp;part&nbsp;of&nbsp;the&nbsp;token&nbsp;text&nbsp;was&nbsp;saved&nbsp;in&nbsp;tokBuf:&nbsp;save&nbsp;the&nbsp;rest&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5609729">//&nbsp;tokBuf&nbsp;as&nbsp;well&nbsp;and&nbsp;return&nbsp;its&nbsp;content</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5609771"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609772">.</span><span class="ident" id="5609773"><a href="/gostd/text/scanner/scanner.go.html#5596662">tokBuf</a></span><span class="op" id="5609779">.</span><span class="ident" id="5609780"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="5609785">(</span><span class="ident" id="5609786"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609787">.</span><span class="ident" id="5609788"><a href="/gostd/text/scanner/scanner.go.html#5595988">srcBuf</a></span><span class="op" id="5609794">[</span><span class="ident" id="5609795"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609796">.</span><span class="ident" id="5609797"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span><span class="op" id="5609803">:</span><span class="ident" id="5609804"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609805">.</span><span class="ident" id="5609806"><a href="/gostd/text/scanner/scanner.go.html#5596811">tokEnd</a></span><span class="op" id="5609812">]</span><span class="op" id="5609813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5609816"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609817">.</span><span class="ident" id="5609818"><a href="/gostd/text/scanner/scanner.go.html#5596732">tokPos</a></span>&nbsp;<span class="op" id="5609825">=</span>&nbsp;<span class="ident" id="5609827"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609828">.</span><span class="ident" id="5609829"><a href="/gostd/text/scanner/scanner.go.html#5596811">tokEnd</a></span>&nbsp;<span class="comment" id="5609836">//&nbsp;ensure&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5609879">return</span>&nbsp;<span class="ident" id="5609886"><a href="/gostd/text/scanner/scanner.go.html#5609334">s</a></span><span class="op" id="5609887">.</span><span class="ident" id="5609888"><a href="/gostd/text/scanner/scanner.go.html#5596662">tokBuf</a></span><span class="op" id="5609894">.</span><span class="ident" id="5609895"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="5609901">(</span><span class="op" id="5609902">)</span><br>
<span class="lineno"></span><span class="op" id="5609904">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
