<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4982787">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4982843">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4982897">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4982948">package</span>&nbsp;<span class="ident" id="4982956">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4982963">import</span>&nbsp;<span class="op" id="4982970">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4982973">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4982980">&#34;strconv&#34;</span><br>
<span class="lineno">10</span><span class="op" id="4982990">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4982993">//&nbsp;Parse&nbsp;the&nbsp;type&nbsp;units&nbsp;stored&nbsp;in&nbsp;a&nbsp;DWARF4&nbsp;.debug_types&nbsp;section.&nbsp;&nbsp;Each</span><br>
<span class="lineno"></span><span class="comment" id="4983064">//&nbsp;type&nbsp;unit&nbsp;defines&nbsp;a&nbsp;single&nbsp;primary&nbsp;type&nbsp;and&nbsp;an&nbsp;8-byte&nbsp;signature.</span><br>
<span class="lineno"></span><span class="comment" id="4983132">//&nbsp;Other&nbsp;sections&nbsp;may&nbsp;then&nbsp;use&nbsp;formRefSig8&nbsp;to&nbsp;refer&nbsp;to&nbsp;the&nbsp;type.</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="4983198">//&nbsp;The&nbsp;typeUnit&nbsp;format&nbsp;is&nbsp;a&nbsp;single&nbsp;type&nbsp;with&nbsp;a&nbsp;signature.&nbsp;&nbsp;It&nbsp;holds</span><br>
<span class="lineno"></span><span class="comment" id="4983266">//&nbsp;the&nbsp;same&nbsp;data&nbsp;as&nbsp;a&nbsp;compilation&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="4983306">type</span>&nbsp;<span class="ident" id="4983311">typeUnit</span>&nbsp;<span class="keyword" id="4983320">struct</span>&nbsp;<span class="op" id="4983327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983330"><a href="/debug/dwarf/unit.go.html#4986895">unit</a></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983336">toff</span>&nbsp;&nbsp;<span class="ident" id="4983342"><a href="/debug/dwarf/entry.go.html#4956816">Offset</a></span>&nbsp;<span class="comment" id="4983349">//&nbsp;Offset&nbsp;to&nbsp;signature&nbsp;type&nbsp;within&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983391">name</span>&nbsp;&nbsp;<span class="builtintype" id="4983397">string</span>&nbsp;<span class="comment" id="4983404">//&nbsp;Name&nbsp;of&nbsp;.debug_type&nbsp;section.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983437">cache</span>&nbsp;<span class="ident" id="4983443"><a href="/debug/dwarf/type.go.html#4966516">Type</a></span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4983450">//&nbsp;Cache&nbsp;the&nbsp;type,&nbsp;nil&nbsp;to&nbsp;start.</span><br>
<span class="lineno"></span><span class="op" id="4983483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="4983486">//&nbsp;Parse&nbsp;a&nbsp;.debug_types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4983519">func</span>&nbsp;<span class="op" id="4983524">(</span><span class="ident" id="4983525">d</span>&nbsp;<span class="op" id="4983527">*</span><span class="ident" id="4983528"><a href="/debug/dwarf/open.go.html#4963899">Data</a></span><span class="op" id="4983532">)</span>&nbsp;<span class="ident" id="4983534">parseTypes</span><span class="op" id="4983544">(</span><span class="ident" id="4983545">name</span>&nbsp;<span class="builtintype" id="4983550">string</span><span class="op" id="4983556">,</span>&nbsp;<span class="ident" id="4983558">types</span>&nbsp;<span class="op" id="4983564">[</span><span class="op" id="4983565">]</span><span class="builtintype" id="4983566">byte</span><span class="op" id="4983570">)</span>&nbsp;<span class="builtintype" id="4983572">error</span>&nbsp;<span class="op" id="4983578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983581">b</span>&nbsp;<span class="op" id="4983583">:=</span>&nbsp;<span class="ident" id="4983586"><a href="/debug/dwarf/buf.go.html#4937069">makeBuf</a></span><span class="op" id="4983593">(</span><span class="ident" id="4983594"><a href="/debug/dwarf/typeunit.go.html#4983525">d</a></span><span class="op" id="4983595">,</span>&nbsp;<span class="ident" id="4983597"><a href="/debug/dwarf/buf.go.html#4936863">unknownFormat</a></span><span class="op" id="4983610">{</span><span class="op" id="4983611">}</span><span class="op" id="4983612">,</span>&nbsp;<span class="ident" id="4983614"><a href="/debug/dwarf/typeunit.go.html#4983545">name</a></span><span class="op" id="4983618">,</span>&nbsp;<span class="num" id="4983620">0</span><span class="op" id="4983621">,</span>&nbsp;<span class="ident" id="4983623"><a href="/debug/dwarf/typeunit.go.html#4983558">types</a></span><span class="op" id="4983628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4983631">for</span>&nbsp;<span class="builtinfunc" id="4983635">len</span><span class="op" id="4983638">(</span><span class="ident" id="4983639"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4983640">.</span><span class="ident" id="4983641">data</span><span class="op" id="4983645">)</span>&nbsp;<span class="op" id="4983647">&gt;</span>&nbsp;<span class="num" id="4983649">0</span>&nbsp;<span class="op" id="4983651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983655">base</span>&nbsp;<span class="op" id="4983660">:=</span>&nbsp;<span class="ident" id="4983663"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4983664">.</span><span class="ident" id="4983665">off</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983671">dwarf64</span>&nbsp;<span class="op" id="4983679">:=</span>&nbsp;<span class="ident" id="4983682">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983690">n</span>&nbsp;<span class="op" id="4983692">:=</span>&nbsp;<span class="ident" id="4983695"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4983696">.</span><span class="builtintype" id="4983697">uint32</span><span class="op" id="4983703">(</span><span class="op" id="4983704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4983708">if</span>&nbsp;<span class="ident" id="4983711"><a href="/debug/dwarf/typeunit.go.html#4983690">n</a></span>&nbsp;<span class="op" id="4983713">==</span>&nbsp;<span class="num" id="4983716">0xffffffff</span>&nbsp;<span class="op" id="4983727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983732">n64</span>&nbsp;<span class="op" id="4983736">:=</span>&nbsp;<span class="ident" id="4983739"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4983740">.</span><span class="ident" id="4983741">uint64</span><span class="op" id="4983747">(</span><span class="op" id="4983748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4983753">if</span>&nbsp;<span class="ident" id="4983756"><a href="/debug/dwarf/typeunit.go.html#4983732">n64</a></span>&nbsp;<span class="op" id="4983760">!=</span>&nbsp;<span class="ident" id="4983763">uint64</span><span class="op" id="4983769">(</span><span class="builtintype" id="4983770">uint32</span><span class="op" id="4983776">(</span><span class="ident" id="4983777"><a href="/debug/dwarf/typeunit.go.html#4983732">n64</a></span><span class="op" id="4983780">)</span><span class="op" id="4983781">)</span>&nbsp;<span class="op" id="4983783">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983789"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4983790">.</span><span class="builtintype" id="4983791">error</span><span class="op" id="4983796">(</span><span class="string" id="4983797">&#34;type&nbsp;unit&nbsp;length&nbsp;overflow&#34;</span><span class="op" id="4983824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4983830">return</span>&nbsp;<span class="ident" id="4983837"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4983838">.</span><span class="ident" id="4983839">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4983846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983851"><a href="/debug/dwarf/typeunit.go.html#4983690">n</a></span>&nbsp;<span class="op" id="4983853">=</span>&nbsp;<span class="builtintype" id="4983855">uint32</span><span class="op" id="4983861">(</span><span class="ident" id="4983862"><a href="/debug/dwarf/typeunit.go.html#4983732">n64</a></span><span class="op" id="4983865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983870"><a href="/debug/dwarf/typeunit.go.html#4983671">dwarf64</a></span>&nbsp;<span class="op" id="4983878">=</span>&nbsp;<span class="ident" id="4983880">true</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4983887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983891">hdroff</span>&nbsp;<span class="op" id="4983898">:=</span>&nbsp;<span class="ident" id="4983901"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4983902">.</span><span class="ident" id="4983903">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983909">vers</span>&nbsp;<span class="op" id="4983914">:=</span>&nbsp;<span class="ident" id="4983917"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4983918">.</span><span class="builtintype" id="4983919">uint16</span><span class="op" id="4983925">(</span><span class="op" id="4983926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4983930">if</span>&nbsp;<span class="ident" id="4983933"><a href="/debug/dwarf/typeunit.go.html#4983909">vers</a></span>&nbsp;<span class="op" id="4983938">!=</span>&nbsp;<span class="num" id="4983941">4</span>&nbsp;<span class="op" id="4983943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4983948"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4983949">.</span><span class="builtintype" id="4983950">error</span><span class="op" id="4983955">(</span><span class="string" id="4983956">&#34;unsupported&nbsp;DWARF&nbsp;version&nbsp;&#34;</span>&nbsp;<span class="op" id="4983985">+</span>&nbsp;<span class="ident" id="4983987"><a href="/debug/dwarf/typeunit.go.html#4982980">strconv</a></span><span class="op" id="4983994">.</span><span class="ident" id="4983995">Itoa</span><span class="op" id="4983999">(</span><span class="builtintype" id="4984000">int</span><span class="op" id="4984003">(</span><span class="ident" id="4984004"><a href="/debug/dwarf/typeunit.go.html#4983909">vers</a></span><span class="op" id="4984008">)</span><span class="op" id="4984009">)</span><span class="op" id="4984010">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984015">return</span>&nbsp;<span class="ident" id="4984022"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984023">.</span><span class="ident" id="4984024">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984034">var</span>&nbsp;<span class="ident" id="4984038">ao</span>&nbsp;<span class="builtintype" id="4984041">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984050">if</span>&nbsp;<span class="op" id="4984053">!</span><span class="ident" id="4984054"><a href="/debug/dwarf/typeunit.go.html#4983671">dwarf64</a></span>&nbsp;<span class="op" id="4984062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984067"><a href="/debug/dwarf/typeunit.go.html#4984038">ao</a></span>&nbsp;<span class="op" id="4984070">=</span>&nbsp;<span class="ident" id="4984072"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984073">.</span><span class="builtintype" id="4984074">uint32</span><span class="op" id="4984080">(</span><span class="op" id="4984081">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984085">}</span>&nbsp;<span class="keyword" id="4984087">else</span>&nbsp;<span class="op" id="4984092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984097">ao64</span>&nbsp;<span class="op" id="4984102">:=</span>&nbsp;<span class="ident" id="4984105"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984106">.</span><span class="ident" id="4984107">uint64</span><span class="op" id="4984113">(</span><span class="op" id="4984114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984119">if</span>&nbsp;<span class="ident" id="4984122"><a href="/debug/dwarf/typeunit.go.html#4984097">ao64</a></span>&nbsp;<span class="op" id="4984127">!=</span>&nbsp;<span class="ident" id="4984130">uint64</span><span class="op" id="4984136">(</span><span class="builtintype" id="4984137">uint32</span><span class="op" id="4984143">(</span><span class="ident" id="4984144"><a href="/debug/dwarf/typeunit.go.html#4984097">ao64</a></span><span class="op" id="4984148">)</span><span class="op" id="4984149">)</span>&nbsp;<span class="op" id="4984151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984157"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984158">.</span><span class="builtintype" id="4984159">error</span><span class="op" id="4984164">(</span><span class="string" id="4984165">&#34;type&nbsp;unit&nbsp;abbrev&nbsp;offset&nbsp;overflow&#34;</span><span class="op" id="4984199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984205">return</span>&nbsp;<span class="ident" id="4984212"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984213">.</span><span class="ident" id="4984214">err</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984226"><a href="/debug/dwarf/typeunit.go.html#4984038">ao</a></span>&nbsp;<span class="op" id="4984229">=</span>&nbsp;<span class="builtintype" id="4984231">uint32</span><span class="op" id="4984237">(</span><span class="ident" id="4984238"><a href="/debug/dwarf/typeunit.go.html#4984097">ao64</a></span><span class="op" id="4984242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984250">atable</span><span class="op" id="4984256">,</span>&nbsp;<span class="ident" id="4984258">err</span>&nbsp;<span class="op" id="4984262">:=</span>&nbsp;<span class="ident" id="4984265"><a href="/debug/dwarf/typeunit.go.html#4983525">d</a></span><span class="op" id="4984266">.</span><span class="ident" id="4984267">parseAbbrev</span><span class="op" id="4984278">(</span><span class="ident" id="4984279"><a href="/debug/dwarf/typeunit.go.html#4984038">ao</a></span><span class="op" id="4984281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984285">if</span>&nbsp;<span class="ident" id="4984288"><a href="/debug/dwarf/typeunit.go.html#4984258">err</a></span>&nbsp;<span class="op" id="4984292">!=</span>&nbsp;<span class="ident" id="4984295">nil</span>&nbsp;<span class="op" id="4984299">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984304">return</span>&nbsp;<span class="ident" id="4984311"><a href="/debug/dwarf/typeunit.go.html#4984258">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984321">asize</span>&nbsp;<span class="op" id="4984327">:=</span>&nbsp;<span class="ident" id="4984330"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984331">.</span><span class="builtintype" id="4984332">uint8</span><span class="op" id="4984337">(</span><span class="op" id="4984338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984342">sig</span>&nbsp;<span class="op" id="4984346">:=</span>&nbsp;<span class="ident" id="4984349"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984350">.</span><span class="ident" id="4984351">uint64</span><span class="op" id="4984357">(</span><span class="op" id="4984358">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984363">var</span>&nbsp;<span class="ident" id="4984367">toff</span>&nbsp;<span class="builtintype" id="4984372">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984381">if</span>&nbsp;<span class="op" id="4984384">!</span><span class="ident" id="4984385"><a href="/debug/dwarf/typeunit.go.html#4983671">dwarf64</a></span>&nbsp;<span class="op" id="4984393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984398"><a href="/debug/dwarf/typeunit.go.html#4984367">toff</a></span>&nbsp;<span class="op" id="4984403">=</span>&nbsp;<span class="ident" id="4984405"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984406">.</span><span class="builtintype" id="4984407">uint32</span><span class="op" id="4984413">(</span><span class="op" id="4984414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984418">}</span>&nbsp;<span class="keyword" id="4984420">else</span>&nbsp;<span class="op" id="4984425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984430">to64</span>&nbsp;<span class="op" id="4984435">:=</span>&nbsp;<span class="ident" id="4984438"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984439">.</span><span class="ident" id="4984440">uint64</span><span class="op" id="4984446">(</span><span class="op" id="4984447">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984452">if</span>&nbsp;<span class="ident" id="4984455"><a href="/debug/dwarf/typeunit.go.html#4984430">to64</a></span>&nbsp;<span class="op" id="4984460">!=</span>&nbsp;<span class="ident" id="4984463">uint64</span><span class="op" id="4984469">(</span><span class="builtintype" id="4984470">uint32</span><span class="op" id="4984476">(</span><span class="ident" id="4984477"><a href="/debug/dwarf/typeunit.go.html#4984430">to64</a></span><span class="op" id="4984481">)</span><span class="op" id="4984482">)</span>&nbsp;<span class="op" id="4984484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984490"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984491">.</span><span class="builtintype" id="4984492">error</span><span class="op" id="4984497">(</span><span class="string" id="4984498">&#34;type&nbsp;unit&nbsp;type&nbsp;offset&nbsp;overflow&#34;</span><span class="op" id="4984530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984536">return</span>&nbsp;<span class="ident" id="4984543"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984544">.</span><span class="ident" id="4984545">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984557"><a href="/debug/dwarf/typeunit.go.html#4984367">toff</a></span>&nbsp;<span class="op" id="4984562">=</span>&nbsp;<span class="builtintype" id="4984564">uint32</span><span class="op" id="4984570">(</span><span class="ident" id="4984571"><a href="/debug/dwarf/typeunit.go.html#4984430">to64</a></span><span class="op" id="4984575">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984584">boff</span>&nbsp;<span class="op" id="4984589">:=</span>&nbsp;<span class="ident" id="4984592"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984593">.</span><span class="ident" id="4984594">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984600"><a href="/debug/dwarf/typeunit.go.html#4983525">d</a></span><span class="op" id="4984601">.</span><span class="ident" id="4984602">typeSigs</span><span class="op" id="4984610">[</span><span class="ident" id="4984611"><a href="/debug/dwarf/typeunit.go.html#4984342">sig</a></span><span class="op" id="4984614">]</span>&nbsp;<span class="op" id="4984616">=</span>&nbsp;<span class="op" id="4984618">&amp;</span><span class="ident" id="4984619"><a href="/debug/dwarf/typeunit.go.html#4983311">typeUnit</a></span><span class="op" id="4984627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984632">unit</span><span class="op" id="4984636">:</span>&nbsp;<span class="ident" id="4984638"><a href="/debug/dwarf/unit.go.html#4986895">unit</a></span><span class="op" id="4984642">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984648">base</span><span class="op" id="4984652">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4984656"><a href="/debug/dwarf/typeunit.go.html#4983655">base</a></span><span class="op" id="4984660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984666">off</span><span class="op" id="4984669">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984674"><a href="/debug/dwarf/typeunit.go.html#4984584">boff</a></span><span class="op" id="4984678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984684">data</span><span class="op" id="4984688">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4984692"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984693">.</span><span class="ident" id="4984694">bytes</span><span class="op" id="4984699">(</span><span class="builtintype" id="4984700">int</span><span class="op" id="4984703">(</span><span class="ident" id="4984704"><a href="/debug/dwarf/entry.go.html#4956816">Offset</a></span><span class="op" id="4984710">(</span><span class="ident" id="4984711"><a href="/debug/dwarf/typeunit.go.html#4983690">n</a></span><span class="op" id="4984712">)</span>&nbsp;<span class="op" id="4984714">-</span>&nbsp;<span class="op" id="4984716">(</span><span class="ident" id="4984717"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984718">.</span><span class="ident" id="4984719">off</span>&nbsp;<span class="op" id="4984723">-</span>&nbsp;<span class="ident" id="4984725"><a href="/debug/dwarf/typeunit.go.html#4983891">hdroff</a></span><span class="op" id="4984731">)</span><span class="op" id="4984732">)</span><span class="op" id="4984733">)</span><span class="op" id="4984734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984740">atable</span><span class="op" id="4984746">:</span>&nbsp;<span class="ident" id="4984748"><a href="/debug/dwarf/typeunit.go.html#4984250">atable</a></span><span class="op" id="4984754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984760">asize</span><span class="op" id="4984765">:</span>&nbsp;&nbsp;<span class="builtintype" id="4984768">int</span><span class="op" id="4984771">(</span><span class="ident" id="4984772"><a href="/debug/dwarf/typeunit.go.html#4984321">asize</a></span><span class="op" id="4984777">)</span><span class="op" id="4984778">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984784">vers</span><span class="op" id="4984788">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4984792">int</span><span class="op" id="4984795">(</span><span class="ident" id="4984796"><a href="/debug/dwarf/typeunit.go.html#4983909">vers</a></span><span class="op" id="4984800">)</span><span class="op" id="4984801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984807">is64</span><span class="op" id="4984811">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4984815"><a href="/debug/dwarf/typeunit.go.html#4983671">dwarf64</a></span><span class="op" id="4984822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984827">}</span><span class="op" id="4984828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984833">toff</span><span class="op" id="4984837">:</span>&nbsp;<span class="ident" id="4984839"><a href="/debug/dwarf/entry.go.html#4956816">Offset</a></span><span class="op" id="4984845">(</span><span class="ident" id="4984846"><a href="/debug/dwarf/typeunit.go.html#4984367">toff</a></span><span class="op" id="4984850">)</span><span class="op" id="4984851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984856">name</span><span class="op" id="4984860">:</span>&nbsp;<span class="ident" id="4984862"><a href="/debug/dwarf/typeunit.go.html#4983545">name</a></span><span class="op" id="4984866">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984874">if</span>&nbsp;<span class="ident" id="4984877"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984878">.</span><span class="ident" id="4984879">err</span>&nbsp;<span class="op" id="4984883">!=</span>&nbsp;<span class="ident" id="4984886">nil</span>&nbsp;<span class="op" id="4984890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984895">return</span>&nbsp;<span class="ident" id="4984902"><a href="/debug/dwarf/typeunit.go.html#4983581">b</a></span><span class="op" id="4984903">.</span><span class="ident" id="4984904">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984913">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4984916">return</span>&nbsp;<span class="ident" id="4984923">nil</span><br>
<span class="lineno"></span><span class="op" id="4984927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4984930">//&nbsp;Return&nbsp;the&nbsp;type&nbsp;for&nbsp;a&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span><span class="keyword" id="4984971">func</span>&nbsp;<span class="op" id="4984976">(</span><span class="ident" id="4984977">d</span>&nbsp;<span class="op" id="4984979">*</span><span class="ident" id="4984980"><a href="/debug/dwarf/open.go.html#4963899">Data</a></span><span class="op" id="4984984">)</span>&nbsp;<span class="ident" id="4984986">sigToType</span><span class="op" id="4984995">(</span><span class="ident" id="4984996">sig</span>&nbsp;<span class="ident" id="4985000">uint64</span><span class="op" id="4985006">)</span>&nbsp;<span class="op" id="4985008">(</span><span class="ident" id="4985009"><a href="/debug/dwarf/type.go.html#4966516">Type</a></span><span class="op" id="4985013">,</span>&nbsp;<span class="builtintype" id="4985015">error</span><span class="op" id="4985020">)</span>&nbsp;<span class="op" id="4985022">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985025">tu</span>&nbsp;<span class="op" id="4985028">:=</span>&nbsp;<span class="ident" id="4985031"><a href="/debug/dwarf/typeunit.go.html#4984977">d</a></span><span class="op" id="4985032">.</span><span class="ident" id="4985033">typeSigs</span><span class="op" id="4985041">[</span><span class="ident" id="4985042"><a href="/debug/dwarf/typeunit.go.html#4984996">sig</a></span><span class="op" id="4985045">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985048">if</span>&nbsp;<span class="ident" id="4985051"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span>&nbsp;<span class="op" id="4985054">==</span>&nbsp;<span class="ident" id="4985057">nil</span>&nbsp;<span class="op" id="4985061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985065">return</span>&nbsp;<span class="ident" id="4985072">nil</span><span class="op" id="4985075">,</span>&nbsp;<span class="ident" id="4985077"><a href="/debug/dwarf/typeunit.go.html#4982973">fmt</a></span><span class="op" id="4985080">.</span><span class="ident" id="4985081">Errorf</span><span class="op" id="4985087">(</span><span class="string" id="4985088">&#34;no&nbsp;type&nbsp;unit&nbsp;with&nbsp;signature&nbsp;%v&#34;</span><span class="op" id="4985120">,</span>&nbsp;<span class="ident" id="4985122"><a href="/debug/dwarf/typeunit.go.html#4984996">sig</a></span><span class="op" id="4985125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4985128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985131">if</span>&nbsp;<span class="ident" id="4985134"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985136">.</span><span class="ident" id="4985137">cache</span>&nbsp;<span class="op" id="4985143">!=</span>&nbsp;<span class="ident" id="4985146">nil</span>&nbsp;<span class="op" id="4985150">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985154">return</span>&nbsp;<span class="ident" id="4985161"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985163">.</span><span class="ident" id="4985164">cache</span><span class="op" id="4985169">,</span>&nbsp;<span class="ident" id="4985171">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4985176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985180">b</span>&nbsp;<span class="op" id="4985182">:=</span>&nbsp;<span class="ident" id="4985185"><a href="/debug/dwarf/buf.go.html#4937069">makeBuf</a></span><span class="op" id="4985192">(</span><span class="ident" id="4985193"><a href="/debug/dwarf/typeunit.go.html#4984977">d</a></span><span class="op" id="4985194">,</span>&nbsp;<span class="ident" id="4985196"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985198">,</span>&nbsp;<span class="ident" id="4985200"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985202">.</span><span class="ident" id="4985203">name</span><span class="op" id="4985207">,</span>&nbsp;<span class="ident" id="4985209"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985211">.</span><span class="ident" id="4985212">off</span><span class="op" id="4985215">,</span>&nbsp;<span class="ident" id="4985217"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985219">.</span><span class="ident" id="4985220">data</span><span class="op" id="4985224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985227">r</span>&nbsp;<span class="op" id="4985229">:=</span>&nbsp;<span class="op" id="4985232">&amp;</span><span class="ident" id="4985233"><a href="/debug/dwarf/typeunit.go.html#4985471">typeUnitReader</a></span><span class="op" id="4985247">{</span><span class="ident" id="4985248">d</span><span class="op" id="4985249">:</span>&nbsp;<span class="ident" id="4985251"><a href="/debug/dwarf/typeunit.go.html#4984977">d</a></span><span class="op" id="4985252">,</span>&nbsp;<span class="ident" id="4985254">tu</span><span class="op" id="4985256">:</span>&nbsp;<span class="ident" id="4985258"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985260">,</span>&nbsp;<span class="ident" id="4985262">b</span><span class="op" id="4985263">:</span>&nbsp;<span class="ident" id="4985265"><a href="/debug/dwarf/typeunit.go.html#4985180">b</a></span><span class="op" id="4985266">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985269">t</span><span class="op" id="4985270">,</span>&nbsp;<span class="ident" id="4985272">err</span>&nbsp;<span class="op" id="4985276">:=</span>&nbsp;<span class="ident" id="4985279"><a href="/debug/dwarf/typeunit.go.html#4984977">d</a></span><span class="op" id="4985280">.</span><span class="ident" id="4985281">readType</span><span class="op" id="4985289">(</span><span class="ident" id="4985290"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985292">.</span><span class="ident" id="4985293">name</span><span class="op" id="4985297">,</span>&nbsp;<span class="ident" id="4985299"><a href="/debug/dwarf/typeunit.go.html#4985227">r</a></span><span class="op" id="4985300">,</span>&nbsp;<span class="ident" id="4985302"><a href="/debug/dwarf/entry.go.html#4956816">Offset</a></span><span class="op" id="4985308">(</span><span class="ident" id="4985309"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985311">.</span><span class="ident" id="4985312">toff</span><span class="op" id="4985316">)</span><span class="op" id="4985317">,</span>&nbsp;<span class="builtinfunc" id="4985319">make</span><span class="op" id="4985323">(</span><span class="keyword" id="4985324">map</span><span class="op" id="4985327">[</span><span class="ident" id="4985328"><a href="/debug/dwarf/entry.go.html#4956816">Offset</a></span><span class="op" id="4985334">]</span><span class="ident" id="4985335"><a href="/debug/dwarf/type.go.html#4966516">Type</a></span><span class="op" id="4985339">)</span><span class="op" id="4985340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985343">if</span>&nbsp;<span class="ident" id="4985346"><a href="/debug/dwarf/typeunit.go.html#4985272">err</a></span>&nbsp;<span class="op" id="4985350">!=</span>&nbsp;<span class="ident" id="4985353">nil</span>&nbsp;<span class="op" id="4985357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985361">return</span>&nbsp;<span class="ident" id="4985368">nil</span><span class="op" id="4985371">,</span>&nbsp;<span class="ident" id="4985373"><a href="/debug/dwarf/typeunit.go.html#4985272">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4985378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985382"><a href="/debug/dwarf/typeunit.go.html#4985025">tu</a></span><span class="op" id="4985384">.</span><span class="ident" id="4985385">cache</span>&nbsp;<span class="op" id="4985391">=</span>&nbsp;<span class="ident" id="4985393"><a href="/debug/dwarf/typeunit.go.html#4985269">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985396">return</span>&nbsp;<span class="ident" id="4985403"><a href="/debug/dwarf/typeunit.go.html#4985269">t</a></span><span class="op" id="4985404">,</span>&nbsp;<span class="ident" id="4985406">nil</span><br>
<span class="lineno"></span><span class="op" id="4985410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4985413">//&nbsp;typeUnitReader&nbsp;is&nbsp;a&nbsp;typeReader&nbsp;for&nbsp;a&nbsp;tagTypeUnit.</span><br>
<span class="lineno">120</span><span class="keyword" id="4985466">type</span>&nbsp;<span class="ident" id="4985471">typeUnitReader</span>&nbsp;<span class="keyword" id="4985486">struct</span>&nbsp;<span class="op" id="4985493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985496">d</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4985500">*</span><span class="ident" id="4985501"><a href="/debug/dwarf/open.go.html#4963899">Data</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985507">tu</span>&nbsp;&nbsp;<span class="op" id="4985511">*</span><span class="ident" id="4985512"><a href="/debug/dwarf/typeunit.go.html#4983311">typeUnit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985522">b</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4985526"><a href="/debug/dwarf/buf.go.html#4936340">buf</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985531">err</span>&nbsp;<span class="builtintype" id="4985535">error</span><br>
<span class="lineno">125</span><span class="op" id="4985541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4985544">//&nbsp;Seek&nbsp;to&nbsp;a&nbsp;new&nbsp;position&nbsp;in&nbsp;the&nbsp;type&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="4985588">func</span>&nbsp;<span class="op" id="4985593">(</span><span class="ident" id="4985594">tur</span>&nbsp;<span class="op" id="4985598">*</span><span class="ident" id="4985599"><a href="/debug/dwarf/typeunit.go.html#4985471">typeUnitReader</a></span><span class="op" id="4985613">)</span>&nbsp;<span class="ident" id="4985615">Seek</span><span class="op" id="4985619">(</span><span class="ident" id="4985620">off</span>&nbsp;<span class="ident" id="4985624"><a href="/debug/dwarf/entry.go.html#4956816">Offset</a></span><span class="op" id="4985630">)</span>&nbsp;<span class="op" id="4985632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985635"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985638">.</span><span class="ident" id="4985639">err</span>&nbsp;<span class="op" id="4985643">=</span>&nbsp;<span class="ident" id="4985645">nil</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985650">doff</span>&nbsp;<span class="op" id="4985655">:=</span>&nbsp;<span class="ident" id="4985658"><a href="/debug/dwarf/typeunit.go.html#4985620">off</a></span>&nbsp;<span class="op" id="4985662">-</span>&nbsp;<span class="ident" id="4985664"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985667">.</span><span class="ident" id="4985668">tu</span><span class="op" id="4985670">.</span><span class="ident" id="4985671">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985676">if</span>&nbsp;<span class="ident" id="4985679"><a href="/debug/dwarf/typeunit.go.html#4985650">doff</a></span>&nbsp;<span class="op" id="4985684">&lt;</span>&nbsp;<span class="num" id="4985686">0</span>&nbsp;<span class="op" id="4985688">||</span>&nbsp;<span class="ident" id="4985691"><a href="/debug/dwarf/typeunit.go.html#4985650">doff</a></span>&nbsp;<span class="op" id="4985696">&gt;=</span>&nbsp;<span class="ident" id="4985699"><a href="/debug/dwarf/entry.go.html#4956816">Offset</a></span><span class="op" id="4985705">(</span><span class="builtinfunc" id="4985706">len</span><span class="op" id="4985709">(</span><span class="ident" id="4985710"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985713">.</span><span class="ident" id="4985714">tu</span><span class="op" id="4985716">.</span><span class="ident" id="4985717">data</span><span class="op" id="4985721">)</span><span class="op" id="4985722">)</span>&nbsp;<span class="op" id="4985724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985728"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985731">.</span><span class="ident" id="4985732">err</span>&nbsp;<span class="op" id="4985736">=</span>&nbsp;<span class="ident" id="4985738"><a href="/debug/dwarf/typeunit.go.html#4982973">fmt</a></span><span class="op" id="4985741">.</span><span class="ident" id="4985742">Errorf</span><span class="op" id="4985748">(</span><span class="string" id="4985749">&#34;%s:&nbsp;offset&nbsp;%d&nbsp;out&nbsp;of&nbsp;range;&nbsp;max&nbsp;%d&#34;</span><span class="op" id="4985785">,</span>&nbsp;<span class="ident" id="4985787"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985790">.</span><span class="ident" id="4985791">tu</span><span class="op" id="4985793">.</span><span class="ident" id="4985794">name</span><span class="op" id="4985798">,</span>&nbsp;<span class="ident" id="4985800"><a href="/debug/dwarf/typeunit.go.html#4985650">doff</a></span><span class="op" id="4985804">,</span>&nbsp;<span class="builtinfunc" id="4985806">len</span><span class="op" id="4985809">(</span><span class="ident" id="4985810"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985813">.</span><span class="ident" id="4985814">tu</span><span class="op" id="4985816">.</span><span class="ident" id="4985817">data</span><span class="op" id="4985821">)</span><span class="op" id="4985822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985826">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4985834">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985837"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985840">.</span><span class="ident" id="4985841">b</span>&nbsp;<span class="op" id="4985843">=</span>&nbsp;<span class="ident" id="4985845"><a href="/debug/dwarf/buf.go.html#4937069">makeBuf</a></span><span class="op" id="4985852">(</span><span class="ident" id="4985853"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985856">.</span><span class="ident" id="4985857">d</span><span class="op" id="4985858">,</span>&nbsp;<span class="ident" id="4985860"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985863">.</span><span class="ident" id="4985864">tu</span><span class="op" id="4985866">,</span>&nbsp;<span class="ident" id="4985868"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985871">.</span><span class="ident" id="4985872">tu</span><span class="op" id="4985874">.</span><span class="ident" id="4985875">name</span><span class="op" id="4985879">,</span>&nbsp;<span class="ident" id="4985881"><a href="/debug/dwarf/typeunit.go.html#4985620">off</a></span><span class="op" id="4985884">,</span>&nbsp;<span class="ident" id="4985886"><a href="/debug/dwarf/typeunit.go.html#4985594">tur</a></span><span class="op" id="4985889">.</span><span class="ident" id="4985890">tu</span><span class="op" id="4985892">.</span><span class="ident" id="4985893">data</span><span class="op" id="4985897">[</span><span class="ident" id="4985898"><a href="/debug/dwarf/typeunit.go.html#4985650">doff</a></span><span class="op" id="4985902">:</span><span class="op" id="4985903">]</span><span class="op" id="4985904">)</span><br>
<span class="lineno"></span><span class="op" id="4985906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4985909">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;Entry&nbsp;from&nbsp;the&nbsp;type&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="4985958">func</span>&nbsp;<span class="op" id="4985963">(</span><span class="ident" id="4985964">tur</span>&nbsp;<span class="op" id="4985968">*</span><span class="ident" id="4985969"><a href="/debug/dwarf/typeunit.go.html#4985471">typeUnitReader</a></span><span class="op" id="4985983">)</span>&nbsp;<span class="ident" id="4985985">Next</span><span class="op" id="4985989">(</span><span class="op" id="4985990">)</span>&nbsp;<span class="op" id="4985992">(</span><span class="op" id="4985993">*</span><span class="ident" id="4985994"><a href="/debug/dwarf/entry.go.html#4956017">Entry</a></span><span class="op" id="4985999">,</span>&nbsp;<span class="builtintype" id="4986001">error</span><span class="op" id="4986006">)</span>&nbsp;<span class="op" id="4986008">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986011">if</span>&nbsp;<span class="ident" id="4986014"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986017">.</span><span class="ident" id="4986018">err</span>&nbsp;<span class="op" id="4986022">!=</span>&nbsp;<span class="ident" id="4986025">nil</span>&nbsp;<span class="op" id="4986029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986033">return</span>&nbsp;<span class="ident" id="4986040">nil</span><span class="op" id="4986043">,</span>&nbsp;<span class="ident" id="4986045"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986048">.</span><span class="ident" id="4986049">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986057">if</span>&nbsp;<span class="builtinfunc" id="4986060">len</span><span class="op" id="4986063">(</span><span class="ident" id="4986064"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986067">.</span><span class="ident" id="4986068">tu</span><span class="op" id="4986070">.</span><span class="ident" id="4986071">data</span><span class="op" id="4986075">)</span>&nbsp;<span class="op" id="4986077">==</span>&nbsp;<span class="num" id="4986080">0</span>&nbsp;<span class="op" id="4986082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986086">return</span>&nbsp;<span class="ident" id="4986093">nil</span><span class="op" id="4986096">,</span>&nbsp;<span class="ident" id="4986098">nil</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4986106">e</span>&nbsp;<span class="op" id="4986108">:=</span>&nbsp;<span class="ident" id="4986111"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986114">.</span><span class="ident" id="4986115">b</span><span class="op" id="4986116">.</span><span class="ident" id="4986117">entry</span><span class="op" id="4986122">(</span><span class="ident" id="4986123"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986126">.</span><span class="ident" id="4986127">tu</span><span class="op" id="4986129">.</span><span class="ident" id="4986130">atable</span><span class="op" id="4986136">,</span>&nbsp;<span class="ident" id="4986138"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986141">.</span><span class="ident" id="4986142">tu</span><span class="op" id="4986144">.</span><span class="ident" id="4986145">base</span><span class="op" id="4986149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986152">if</span>&nbsp;<span class="ident" id="4986155"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986158">.</span><span class="ident" id="4986159">b</span><span class="op" id="4986160">.</span><span class="ident" id="4986161">err</span>&nbsp;<span class="op" id="4986165">!=</span>&nbsp;<span class="ident" id="4986168">nil</span>&nbsp;<span class="op" id="4986172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4986176"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986179">.</span><span class="ident" id="4986180">err</span>&nbsp;<span class="op" id="4986184">=</span>&nbsp;<span class="ident" id="4986186"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986189">.</span><span class="ident" id="4986190">b</span><span class="op" id="4986191">.</span><span class="ident" id="4986192">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986198">return</span>&nbsp;<span class="ident" id="4986205">nil</span><span class="op" id="4986208">,</span>&nbsp;<span class="ident" id="4986210"><a href="/debug/dwarf/typeunit.go.html#4985964">tur</a></span><span class="op" id="4986213">.</span><span class="ident" id="4986214">err</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986222">return</span>&nbsp;<span class="ident" id="4986229"><a href="/debug/dwarf/typeunit.go.html#4986106">e</a></span><span class="op" id="4986230">,</span>&nbsp;<span class="ident" id="4986232">nil</span><br>
<span class="lineno"></span><span class="op" id="4986236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4986239">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;new&nbsp;reader&nbsp;for&nbsp;the&nbsp;type&nbsp;unit.</span><br>
<span class="lineno">155</span><span class="keyword" id="4986288">func</span>&nbsp;<span class="op" id="4986293">(</span><span class="ident" id="4986294">tur</span>&nbsp;<span class="op" id="4986298">*</span><span class="ident" id="4986299"><a href="/debug/dwarf/typeunit.go.html#4985471">typeUnitReader</a></span><span class="op" id="4986313">)</span>&nbsp;<span class="ident" id="4986315">clone</span><span class="op" id="4986320">(</span><span class="op" id="4986321">)</span>&nbsp;<span class="ident" id="4986323"><a href="/debug/dwarf/type.go.html#4971701">typeReader</a></span>&nbsp;<span class="op" id="4986334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986337">return</span>&nbsp;<span class="op" id="4986344">&amp;</span><span class="ident" id="4986345"><a href="/debug/dwarf/typeunit.go.html#4985471">typeUnitReader</a></span><span class="op" id="4986359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4986363">d</span><span class="op" id="4986364">:</span>&nbsp;&nbsp;<span class="ident" id="4986367"><a href="/debug/dwarf/typeunit.go.html#4986294">tur</a></span><span class="op" id="4986370">.</span><span class="ident" id="4986371">d</span><span class="op" id="4986372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4986376">tu</span><span class="op" id="4986378">:</span>&nbsp;<span class="ident" id="4986380"><a href="/debug/dwarf/typeunit.go.html#4986294">tur</a></span><span class="op" id="4986383">.</span><span class="ident" id="4986384">tu</span><span class="op" id="4986386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4986390">b</span><span class="op" id="4986391">:</span>&nbsp;&nbsp;<span class="ident" id="4986394"><a href="/debug/dwarf/buf.go.html#4937069">makeBuf</a></span><span class="op" id="4986401">(</span><span class="ident" id="4986402"><a href="/debug/dwarf/typeunit.go.html#4986294">tur</a></span><span class="op" id="4986405">.</span><span class="ident" id="4986406">d</span><span class="op" id="4986407">,</span>&nbsp;<span class="ident" id="4986409"><a href="/debug/dwarf/typeunit.go.html#4986294">tur</a></span><span class="op" id="4986412">.</span><span class="ident" id="4986413">tu</span><span class="op" id="4986415">,</span>&nbsp;<span class="ident" id="4986417"><a href="/debug/dwarf/typeunit.go.html#4986294">tur</a></span><span class="op" id="4986420">.</span><span class="ident" id="4986421">tu</span><span class="op" id="4986423">.</span><span class="ident" id="4986424">name</span><span class="op" id="4986428">,</span>&nbsp;<span class="ident" id="4986430"><a href="/debug/dwarf/typeunit.go.html#4986294">tur</a></span><span class="op" id="4986433">.</span><span class="ident" id="4986434">tu</span><span class="op" id="4986436">.</span><span class="ident" id="4986437">off</span><span class="op" id="4986440">,</span>&nbsp;<span class="ident" id="4986442"><a href="/debug/dwarf/typeunit.go.html#4986294">tur</a></span><span class="op" id="4986445">.</span><span class="ident" id="4986446">tu</span><span class="op" id="4986448">.</span><span class="ident" id="4986449">data</span><span class="op" id="4986453">)</span><span class="op" id="4986454">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986457">}</span><br>
<span class="lineno"></span><span class="op" id="4986459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4986462">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;offset.</span><br>
<span class="lineno"></span><span class="keyword" id="4986500">func</span>&nbsp;<span class="op" id="4986505">(</span><span class="ident" id="4986506">tur</span>&nbsp;<span class="op" id="4986510">*</span><span class="ident" id="4986511"><a href="/debug/dwarf/typeunit.go.html#4985471">typeUnitReader</a></span><span class="op" id="4986525">)</span>&nbsp;<span class="ident" id="4986527">offset</span><span class="op" id="4986533">(</span><span class="op" id="4986534">)</span>&nbsp;<span class="ident" id="4986536"><a href="/debug/dwarf/entry.go.html#4956816">Offset</a></span>&nbsp;<span class="op" id="4986543">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986546">return</span>&nbsp;<span class="ident" id="4986553"><a href="/debug/dwarf/typeunit.go.html#4986506">tur</a></span><span class="op" id="4986556">.</span><span class="ident" id="4986557">b</span><span class="op" id="4986558">.</span><span class="ident" id="4986559">off</span><br>
<span class="lineno"></span><span class="op" id="4986563">}</span>
</div>
</body>
</html>
