<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/color</h2>
<ul>
<li><a href="/gostd/image/color/color.go.html">color.go</a></li>
<li><a href="/gostd/image/color/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/color/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7359912">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7359967">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7360021">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7360072">package</span>&nbsp;<span class="ident" id="7360080">color</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7360087">import</span>&nbsp;<span class="op" id="7360094">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7360097">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7360107">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7360110">func</span>&nbsp;<span class="ident" id="7360115">delta</span><span class="op" id="7360120">(</span><span class="ident" id="7360121">x</span><span class="op" id="7360122">,</span>&nbsp;<span class="ident" id="7360124">y</span>&nbsp;<span class="builtintype" id="7360126">uint8</span><span class="op" id="7360131">)</span>&nbsp;<span class="builtintype" id="7360133">uint8</span>&nbsp;<span class="op" id="7360139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360142">if</span>&nbsp;<span class="ident" id="7360145">x</span>&nbsp;<span class="op" id="7360147">&gt;=</span>&nbsp;<span class="ident" id="7360150">y</span>&nbsp;<span class="op" id="7360152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360156">return</span>&nbsp;<span class="ident" id="7360163">x</span>&nbsp;<span class="op" id="7360165">-</span>&nbsp;<span class="ident" id="7360167">y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360170">}</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360173">return</span>&nbsp;<span class="ident" id="7360180">y</span>&nbsp;<span class="op" id="7360182">-</span>&nbsp;<span class="ident" id="7360184">x</span><br>
<span class="lineno"></span><span class="op" id="7360186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7360189">//&nbsp;Test&nbsp;that&nbsp;a&nbsp;subset&nbsp;of&nbsp;RGB&nbsp;space&nbsp;can&nbsp;be&nbsp;converted&nbsp;to&nbsp;YCbCr&nbsp;and&nbsp;back&nbsp;to&nbsp;within</span><br>
<span class="lineno"></span><span class="comment" id="7360269">//&nbsp;1/256&nbsp;tolerance.</span><br>
<span class="lineno">20</span><span class="keyword" id="7360289">func</span>&nbsp;<span class="ident" id="7360294">TestRoundtrip</span><span class="op" id="7360307">(</span><span class="ident" id="7360308">t</span>&nbsp;<span class="op" id="7360310">*</span><span class="ident" id="7360311">testing</span><span class="op" id="7360318">.</span><span class="ident" id="7360319">T</span><span class="op" id="7360320">)</span>&nbsp;<span class="op" id="7360322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360325">for</span>&nbsp;<span class="ident" id="7360329">r</span>&nbsp;<span class="op" id="7360331">:=</span>&nbsp;<span class="num" id="7360334">0</span><span class="op" id="7360335">;</span>&nbsp;<span class="ident" id="7360337">r</span>&nbsp;<span class="op" id="7360339">&lt;</span>&nbsp;<span class="num" id="7360341">255</span><span class="op" id="7360344">;</span>&nbsp;<span class="ident" id="7360346">r</span>&nbsp;<span class="op" id="7360348">+=</span>&nbsp;<span class="num" id="7360351">7</span>&nbsp;<span class="op" id="7360353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360357">for</span>&nbsp;<span class="ident" id="7360361">g</span>&nbsp;<span class="op" id="7360363">:=</span>&nbsp;<span class="num" id="7360366">0</span><span class="op" id="7360367">;</span>&nbsp;<span class="ident" id="7360369">g</span>&nbsp;<span class="op" id="7360371">&lt;</span>&nbsp;<span class="num" id="7360373">255</span><span class="op" id="7360376">;</span>&nbsp;<span class="ident" id="7360378">g</span>&nbsp;<span class="op" id="7360380">+=</span>&nbsp;<span class="num" id="7360383">5</span>&nbsp;<span class="op" id="7360385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360390">for</span>&nbsp;<span class="ident" id="7360394">b</span>&nbsp;<span class="op" id="7360396">:=</span>&nbsp;<span class="num" id="7360399">0</span><span class="op" id="7360400">;</span>&nbsp;<span class="ident" id="7360402">b</span>&nbsp;<span class="op" id="7360404">&lt;</span>&nbsp;<span class="num" id="7360406">255</span><span class="op" id="7360409">;</span>&nbsp;<span class="ident" id="7360411">b</span>&nbsp;<span class="op" id="7360413">+=</span>&nbsp;<span class="num" id="7360416">3</span>&nbsp;<span class="op" id="7360418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360424">r0</span><span class="op" id="7360426">,</span>&nbsp;<span class="ident" id="7360428">g0</span><span class="op" id="7360430">,</span>&nbsp;<span class="ident" id="7360432">b0</span>&nbsp;<span class="op" id="7360435">:=</span>&nbsp;<span class="builtintype" id="7360438">uint8</span><span class="op" id="7360443">(</span><span class="ident" id="7360444">r</span><span class="op" id="7360445">)</span><span class="op" id="7360446">,</span>&nbsp;<span class="builtintype" id="7360448">uint8</span><span class="op" id="7360453">(</span><span class="ident" id="7360454">g</span><span class="op" id="7360455">)</span><span class="op" id="7360456">,</span>&nbsp;<span class="builtintype" id="7360458">uint8</span><span class="op" id="7360463">(</span><span class="ident" id="7360464">b</span><span class="op" id="7360465">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360471">y</span><span class="op" id="7360472">,</span>&nbsp;<span class="ident" id="7360474">cb</span><span class="op" id="7360476">,</span>&nbsp;<span class="ident" id="7360478">cr</span>&nbsp;<span class="op" id="7360481">:=</span>&nbsp;<span class="ident" id="7360484">RGBToYCbCr</span><span class="op" id="7360494">(</span><span class="ident" id="7360495">r0</span><span class="op" id="7360497">,</span>&nbsp;<span class="ident" id="7360499">g0</span><span class="op" id="7360501">,</span>&nbsp;<span class="ident" id="7360503">b0</span><span class="op" id="7360505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360511">r1</span><span class="op" id="7360513">,</span>&nbsp;<span class="ident" id="7360515">g1</span><span class="op" id="7360517">,</span>&nbsp;<span class="ident" id="7360519">b1</span>&nbsp;<span class="op" id="7360522">:=</span>&nbsp;<span class="ident" id="7360525">YCbCrToRGB</span><span class="op" id="7360535">(</span><span class="ident" id="7360536">y</span><span class="op" id="7360537">,</span>&nbsp;<span class="ident" id="7360539">cb</span><span class="op" id="7360541">,</span>&nbsp;<span class="ident" id="7360543">cr</span><span class="op" id="7360545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360551">if</span>&nbsp;<span class="ident" id="7360554">delta</span><span class="op" id="7360559">(</span><span class="ident" id="7360560">r0</span><span class="op" id="7360562">,</span>&nbsp;<span class="ident" id="7360564">r1</span><span class="op" id="7360566">)</span>&nbsp;<span class="op" id="7360568">&gt;</span>&nbsp;<span class="num" id="7360570">1</span>&nbsp;<span class="op" id="7360572">||</span>&nbsp;<span class="ident" id="7360575">delta</span><span class="op" id="7360580">(</span><span class="ident" id="7360581">g0</span><span class="op" id="7360583">,</span>&nbsp;<span class="ident" id="7360585">g1</span><span class="op" id="7360587">)</span>&nbsp;<span class="op" id="7360589">&gt;</span>&nbsp;<span class="num" id="7360591">1</span>&nbsp;<span class="op" id="7360593">||</span>&nbsp;<span class="ident" id="7360596">delta</span><span class="op" id="7360601">(</span><span class="ident" id="7360602">b0</span><span class="op" id="7360604">,</span>&nbsp;<span class="ident" id="7360606">b1</span><span class="op" id="7360608">)</span>&nbsp;<span class="op" id="7360610">&gt;</span>&nbsp;<span class="num" id="7360612">1</span>&nbsp;<span class="op" id="7360614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360621">t</span><span class="op" id="7360622">.</span><span class="ident" id="7360623">Fatalf</span><span class="op" id="7360629">(</span><span class="string" id="7360630">&#34;r0,&nbsp;g0,&nbsp;b0&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&nbsp;&nbsp;&nbsp;r1,&nbsp;g1,&nbsp;b1&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="7360681">,</span>&nbsp;<span class="ident" id="7360683">r0</span><span class="op" id="7360685">,</span>&nbsp;<span class="ident" id="7360687">g0</span><span class="op" id="7360689">,</span>&nbsp;<span class="ident" id="7360691">b0</span><span class="op" id="7360693">,</span>&nbsp;<span class="ident" id="7360695">r1</span><span class="op" id="7360697">,</span>&nbsp;<span class="ident" id="7360699">g1</span><span class="op" id="7360701">,</span>&nbsp;<span class="ident" id="7360703">b1</span><span class="op" id="7360705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360711">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360723">}</span><br>
<span class="lineno"></span><span class="op" id="7360725">}</span>
</div>
</body>
</html>
