<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html" class="current">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2361970">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2362025">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2362079">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2362130">package</span>&nbsp;<span class="ident" id="2362138">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2362142">import</span>&nbsp;<span class="op" id="2362149">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2362152">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2362163">&#34;time&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2362170">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2362173">//&nbsp;Getpagesize&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;system&#39;s&nbsp;memory&nbsp;page&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="2362238">func</span>&nbsp;<span class="ident" id="2362243">Getpagesize</span><span class="op" id="2362254">(</span><span class="op" id="2362255">)</span>&nbsp;<span class="builtintype" id="2362257">int</span>&nbsp;<span class="op" id="2362261">{</span>&nbsp;<span class="keyword" id="2362263">return</span>&nbsp;<span class="ident" id="2362270">syscall</span><span class="op" id="2362277">.</span><span class="ident" id="2362278">Getpagesize</span><span class="op" id="2362289">(</span><span class="op" id="2362290">)</span>&nbsp;<span class="op" id="2362292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2362295">//&nbsp;A&nbsp;FileInfo&nbsp;describes&nbsp;a&nbsp;file&nbsp;and&nbsp;is&nbsp;returned&nbsp;by&nbsp;Stat&nbsp;and&nbsp;Lstat.</span><br>
<span class="lineno"></span><span class="keyword" id="2362361">type</span>&nbsp;<span class="ident" id="2362366">FileInfo</span>&nbsp;<span class="keyword" id="2362375">interface</span>&nbsp;<span class="op" id="2362385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2362388">Name</span><span class="op" id="2362392">(</span><span class="op" id="2362393">)</span>&nbsp;<span class="builtintype" id="2362395">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2362408">//&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2362434">Size</span><span class="op" id="2362438">(</span><span class="op" id="2362439">)</span>&nbsp;<span class="ident" id="2362441">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2362454">//&nbsp;length&nbsp;in&nbsp;bytes&nbsp;for&nbsp;regular&nbsp;files;&nbsp;system-dependent&nbsp;for&nbsp;others</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2362521">Mode</span><span class="op" id="2362525">(</span><span class="op" id="2362526">)</span>&nbsp;<span class="ident" id="2362528">FileMode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2362541">//&nbsp;file&nbsp;mode&nbsp;bits</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2362560">ModTime</span><span class="op" id="2362567">(</span><span class="op" id="2362568">)</span>&nbsp;<span class="ident" id="2362570">time</span><span class="op" id="2362574">.</span><span class="ident" id="2362575">Time</span>&nbsp;<span class="comment" id="2362580">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2362602">IsDir</span><span class="op" id="2362607">(</span><span class="op" id="2362608">)</span>&nbsp;<span class="builtintype" id="2362610">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2362622">//&nbsp;abbreviation&nbsp;for&nbsp;Mode().IsDir()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2362658">Sys</span><span class="op" id="2362661">(</span><span class="op" id="2362662">)</span>&nbsp;<span class="keyword" id="2362664">interface</span><span class="op" id="2362673">{</span><span class="op" id="2362674">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2362678">//&nbsp;underlying&nbsp;data&nbsp;source&nbsp;(can&nbsp;return&nbsp;nil)</span><br>
<span class="lineno"></span><span class="op" id="2362721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2362724">//&nbsp;A&nbsp;FileMode&nbsp;represents&nbsp;a&nbsp;file&#39;s&nbsp;mode&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2362784">//&nbsp;The&nbsp;bits&nbsp;have&nbsp;the&nbsp;same&nbsp;definition&nbsp;on&nbsp;all&nbsp;systems,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2362845">//&nbsp;information&nbsp;about&nbsp;files&nbsp;can&nbsp;be&nbsp;moved&nbsp;from&nbsp;one&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2362901">//&nbsp;to&nbsp;another&nbsp;portably.&nbsp;&nbsp;Not&nbsp;all&nbsp;bits&nbsp;apply&nbsp;to&nbsp;all&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2362961">//&nbsp;The&nbsp;only&nbsp;required&nbsp;bit&nbsp;is&nbsp;ModeDir&nbsp;for&nbsp;directories.</span><br>
<span class="lineno">30</span><span class="keyword" id="2363014">type</span>&nbsp;<span class="ident" id="2363019">FileMode</span>&nbsp;<span class="builtintype" id="2363028">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2363036">//&nbsp;The&nbsp;defined&nbsp;file&nbsp;mode&nbsp;bits&nbsp;are&nbsp;the&nbsp;most&nbsp;significant&nbsp;bits&nbsp;of&nbsp;the&nbsp;FileMode.</span><br>
<span class="lineno"></span><span class="comment" id="2363113">//&nbsp;The&nbsp;nine&nbsp;least-significant&nbsp;bits&nbsp;are&nbsp;the&nbsp;standard&nbsp;Unix&nbsp;rwxrwxrwx&nbsp;permissions.</span><br>
<span class="lineno"></span><span class="comment" id="2363193">//&nbsp;The&nbsp;values&nbsp;of&nbsp;these&nbsp;bits&nbsp;should&nbsp;be&nbsp;considered&nbsp;part&nbsp;of&nbsp;the&nbsp;public&nbsp;API&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="2363269">//&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;wire&nbsp;protocols&nbsp;or&nbsp;disk&nbsp;representations:&nbsp;they&nbsp;must&nbsp;not&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2363344">//&nbsp;changed,&nbsp;although&nbsp;new&nbsp;bits&nbsp;might&nbsp;be&nbsp;added.</span><br>
<span class="lineno"></span><span class="keyword" id="2363390">const</span>&nbsp;<span class="op" id="2363396">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2363399">//&nbsp;The&nbsp;single&nbsp;letters&nbsp;are&nbsp;the&nbsp;abbreviations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2363444">//&nbsp;used&nbsp;by&nbsp;the&nbsp;String&nbsp;method&#39;s&nbsp;formatting.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2363488">ModeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363503">FileMode</span>&nbsp;<span class="op" id="2363512">=</span>&nbsp;<span class="num" id="2363514">1</span>&nbsp;<span class="op" id="2363516">&lt;&lt;</span>&nbsp;<span class="op" id="2363519">(</span><span class="num" id="2363520">32</span>&nbsp;<span class="op" id="2363523">-</span>&nbsp;<span class="num" id="2363525">1</span>&nbsp;<span class="op" id="2363527">-</span>&nbsp;<span class="ident" id="2363529">iota</span><span class="op" id="2363533">)</span>&nbsp;<span class="comment" id="2363535">//&nbsp;d:&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2363557">ModeAppend</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2363604">//&nbsp;a:&nbsp;append-only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2363623">ModeExclusive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2363670">//&nbsp;l:&nbsp;exclusive&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2363691">ModeTemporary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2363738">//&nbsp;T:&nbsp;temporary&nbsp;file&nbsp;(not&nbsp;backed&nbsp;up)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2363776">ModeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2363823">//&nbsp;L:&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2363844">ModeDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2363891">//&nbsp;D:&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2363910">ModeNamedPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2363957">//&nbsp;p:&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2363982">ModeSocket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2364029">//&nbsp;S:&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364055">ModeSetuid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2364102">//&nbsp;u:&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364116">ModeSetgid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2364163">//&nbsp;g:&nbsp;setgid</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364177">ModeCharDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2364224">//&nbsp;c:&nbsp;Unix&nbsp;character&nbsp;device,&nbsp;when&nbsp;ModeDevice&nbsp;is&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364277">ModeSticky</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2364324">//&nbsp;t:&nbsp;sticky</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2364339">//&nbsp;Mask&nbsp;for&nbsp;the&nbsp;type&nbsp;bits.&nbsp;For&nbsp;regular&nbsp;files,&nbsp;none&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364404">ModeType</span>&nbsp;<span class="op" id="2364413">=</span>&nbsp;<span class="ident" id="2364415">ModeDir</span>&nbsp;<span class="op" id="2364423">|</span>&nbsp;<span class="ident" id="2364425">ModeSymlink</span>&nbsp;<span class="op" id="2364437">|</span>&nbsp;<span class="ident" id="2364439">ModeNamedPipe</span>&nbsp;<span class="op" id="2364453">|</span>&nbsp;<span class="ident" id="2364455">ModeSocket</span>&nbsp;<span class="op" id="2364466">|</span>&nbsp;<span class="ident" id="2364468">ModeDevice</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364481">ModePerm</span>&nbsp;<span class="ident" id="2364490">FileMode</span>&nbsp;<span class="op" id="2364499">=</span>&nbsp;<span class="num" id="2364501">0777</span>&nbsp;<span class="comment" id="2364506">//&nbsp;permission&nbsp;bits</span><br>
<span class="lineno"></span><span class="op" id="2364525">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2364528">func</span>&nbsp;<span class="op" id="2364533">(</span><span class="ident" id="2364534">m</span>&nbsp;<span class="ident" id="2364536">FileMode</span><span class="op" id="2364544">)</span>&nbsp;<span class="ident" id="2364546">String</span><span class="op" id="2364552">(</span><span class="op" id="2364553">)</span>&nbsp;<span class="builtintype" id="2364555">string</span>&nbsp;<span class="op" id="2364562">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2364565">const</span>&nbsp;<span class="ident" id="2364571">str</span>&nbsp;<span class="op" id="2364575">=</span>&nbsp;<span class="string" id="2364577">&#34;dalTLDpSugct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2364593">var</span>&nbsp;<span class="ident" id="2364597">buf</span>&nbsp;<span class="op" id="2364601">[</span><span class="num" id="2364602">32</span><span class="op" id="2364604">]</span><span class="builtintype" id="2364605">byte</span>&nbsp;<span class="comment" id="2364610">//&nbsp;Mode&nbsp;is&nbsp;uint32.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364630">w</span>&nbsp;<span class="op" id="2364632">:=</span>&nbsp;<span class="num" id="2364635">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2364638">for</span>&nbsp;<span class="ident" id="2364642">i</span><span class="op" id="2364643">,</span>&nbsp;<span class="ident" id="2364645">c</span>&nbsp;<span class="op" id="2364647">:=</span>&nbsp;<span class="keyword" id="2364650">range</span>&nbsp;<span class="ident" id="2364656">str</span>&nbsp;<span class="op" id="2364660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2364664">if</span>&nbsp;<span class="ident" id="2364667">m</span><span class="op" id="2364668">&amp;</span><span class="op" id="2364669">(</span><span class="num" id="2364670">1</span><span class="op" id="2364671">&lt;&lt;</span><span class="builtintype" id="2364673">uint</span><span class="op" id="2364677">(</span><span class="num" id="2364678">32</span><span class="op" id="2364680">-</span><span class="num" id="2364681">1</span><span class="op" id="2364682">-</span><span class="ident" id="2364683">i</span><span class="op" id="2364684">)</span><span class="op" id="2364685">)</span>&nbsp;<span class="op" id="2364687">!=</span>&nbsp;<span class="num" id="2364690">0</span>&nbsp;<span class="op" id="2364692">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364697">buf</span><span class="op" id="2364700">[</span><span class="ident" id="2364701">w</span><span class="op" id="2364702">]</span>&nbsp;<span class="op" id="2364704">=</span>&nbsp;<span class="builtintype" id="2364706">byte</span><span class="op" id="2364710">(</span><span class="ident" id="2364711">c</span><span class="op" id="2364712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364717">w</span><span class="op" id="2364718">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2364723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2364726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2364729">if</span>&nbsp;<span class="ident" id="2364732">w</span>&nbsp;<span class="op" id="2364734">==</span>&nbsp;<span class="num" id="2364737">0</span>&nbsp;<span class="op" id="2364739">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364743">buf</span><span class="op" id="2364746">[</span><span class="ident" id="2364747">w</span><span class="op" id="2364748">]</span>&nbsp;<span class="op" id="2364750">=</span>&nbsp;<span class="string" id="2364752">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364758">w</span><span class="op" id="2364759">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2364763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2364766">const</span>&nbsp;<span class="ident" id="2364772">rwx</span>&nbsp;<span class="op" id="2364776">=</span>&nbsp;<span class="string" id="2364778">&#34;rwxrwxrwx&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2364791">for</span>&nbsp;<span class="ident" id="2364795">i</span><span class="op" id="2364796">,</span>&nbsp;<span class="ident" id="2364798">c</span>&nbsp;<span class="op" id="2364800">:=</span>&nbsp;<span class="keyword" id="2364803">range</span>&nbsp;<span class="ident" id="2364809">rwx</span>&nbsp;<span class="op" id="2364813">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2364817">if</span>&nbsp;<span class="ident" id="2364820">m</span><span class="op" id="2364821">&amp;</span><span class="op" id="2364822">(</span><span class="num" id="2364823">1</span><span class="op" id="2364824">&lt;&lt;</span><span class="builtintype" id="2364826">uint</span><span class="op" id="2364830">(</span><span class="num" id="2364831">9</span><span class="op" id="2364832">-</span><span class="num" id="2364833">1</span><span class="op" id="2364834">-</span><span class="ident" id="2364835">i</span><span class="op" id="2364836">)</span><span class="op" id="2364837">)</span>&nbsp;<span class="op" id="2364839">!=</span>&nbsp;<span class="num" id="2364842">0</span>&nbsp;<span class="op" id="2364844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364849">buf</span><span class="op" id="2364852">[</span><span class="ident" id="2364853">w</span><span class="op" id="2364854">]</span>&nbsp;<span class="op" id="2364856">=</span>&nbsp;<span class="builtintype" id="2364858">byte</span><span class="op" id="2364862">(</span><span class="ident" id="2364863">c</span><span class="op" id="2364864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2364868">}</span>&nbsp;<span class="keyword" id="2364870">else</span>&nbsp;<span class="op" id="2364875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364880">buf</span><span class="op" id="2364883">[</span><span class="ident" id="2364884">w</span><span class="op" id="2364885">]</span>&nbsp;<span class="op" id="2364887">=</span>&nbsp;<span class="string" id="2364889">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2364895">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2364899">w</span><span class="op" id="2364900">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2364904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2364907">return</span>&nbsp;<span class="builtintype" id="2364914">string</span><span class="op" id="2364920">(</span><span class="ident" id="2364921">buf</span><span class="op" id="2364924">[</span><span class="op" id="2364925">:</span><span class="ident" id="2364926">w</span><span class="op" id="2364927">]</span><span class="op" id="2364928">)</span><br>
<span class="lineno"></span><span class="op" id="2364930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="2364933">//&nbsp;IsDir&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2364983">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;for&nbsp;the&nbsp;ModeDir&nbsp;bit&nbsp;being&nbsp;set&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2365040">func</span>&nbsp;<span class="op" id="2365045">(</span><span class="ident" id="2365046">m</span>&nbsp;<span class="ident" id="2365048">FileMode</span><span class="op" id="2365056">)</span>&nbsp;<span class="ident" id="2365058">IsDir</span><span class="op" id="2365063">(</span><span class="op" id="2365064">)</span>&nbsp;<span class="builtintype" id="2365066">bool</span>&nbsp;<span class="op" id="2365071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2365074">return</span>&nbsp;<span class="ident" id="2365081">m</span><span class="op" id="2365082">&amp;</span><span class="ident" id="2365083">ModeDir</span>&nbsp;<span class="op" id="2365091">!=</span>&nbsp;<span class="num" id="2365094">0</span><br>
<span class="lineno"></span><span class="op" id="2365096">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2365099">//&nbsp;IsRegular&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;regular&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2365156">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;that&nbsp;no&nbsp;mode&nbsp;type&nbsp;bits&nbsp;are&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2365209">func</span>&nbsp;<span class="op" id="2365214">(</span><span class="ident" id="2365215">m</span>&nbsp;<span class="ident" id="2365217">FileMode</span><span class="op" id="2365225">)</span>&nbsp;<span class="ident" id="2365227">IsRegular</span><span class="op" id="2365236">(</span><span class="op" id="2365237">)</span>&nbsp;<span class="builtintype" id="2365239">bool</span>&nbsp;<span class="op" id="2365244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2365247">return</span>&nbsp;<span class="ident" id="2365254">m</span><span class="op" id="2365255">&amp;</span><span class="ident" id="2365256">ModeType</span>&nbsp;<span class="op" id="2365265">==</span>&nbsp;<span class="num" id="2365268">0</span><br>
<span class="lineno">95</span><span class="op" id="2365270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2365273">//&nbsp;Perm&nbsp;returns&nbsp;the&nbsp;Unix&nbsp;permission&nbsp;bits&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2365320">func</span>&nbsp;<span class="op" id="2365325">(</span><span class="ident" id="2365326">m</span>&nbsp;<span class="ident" id="2365328">FileMode</span><span class="op" id="2365336">)</span>&nbsp;<span class="ident" id="2365338">Perm</span><span class="op" id="2365342">(</span><span class="op" id="2365343">)</span>&nbsp;<span class="ident" id="2365345">FileMode</span>&nbsp;<span class="op" id="2365354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2365357">return</span>&nbsp;<span class="ident" id="2365364">m</span>&nbsp;<span class="op" id="2365366">&amp;</span>&nbsp;<span class="ident" id="2365368">ModePerm</span><br>
<span class="lineno">100</span><span class="op" id="2365377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2365380">func</span>&nbsp;<span class="op" id="2365385">(</span><span class="ident" id="2365386">fs</span>&nbsp;<span class="op" id="2365389">*</span><span class="ident" id="2365390">fileStat</span><span class="op" id="2365398">)</span>&nbsp;<span class="ident" id="2365400">Name</span><span class="op" id="2365404">(</span><span class="op" id="2365405">)</span>&nbsp;<span class="builtintype" id="2365407">string</span>&nbsp;<span class="op" id="2365414">{</span>&nbsp;<span class="keyword" id="2365416">return</span>&nbsp;<span class="ident" id="2365423">fs</span><span class="op" id="2365425">.</span><span class="ident" id="2365426">name</span>&nbsp;<span class="op" id="2365431">}</span><br>
<span class="lineno"></span><span class="keyword" id="2365433">func</span>&nbsp;<span class="op" id="2365438">(</span><span class="ident" id="2365439">fs</span>&nbsp;<span class="op" id="2365442">*</span><span class="ident" id="2365443">fileStat</span><span class="op" id="2365451">)</span>&nbsp;<span class="ident" id="2365453">IsDir</span><span class="op" id="2365458">(</span><span class="op" id="2365459">)</span>&nbsp;<span class="builtintype" id="2365461">bool</span>&nbsp;&nbsp;<span class="op" id="2365467">{</span>&nbsp;<span class="keyword" id="2365469">return</span>&nbsp;<span class="ident" id="2365476">fs</span><span class="op" id="2365478">.</span><span class="ident" id="2365479">Mode</span><span class="op" id="2365483">(</span><span class="op" id="2365484">)</span><span class="op" id="2365485">.</span><span class="ident" id="2365486">IsDir</span><span class="op" id="2365491">(</span><span class="op" id="2365492">)</span>&nbsp;<span class="op" id="2365494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="2365497">//&nbsp;SameFile&nbsp;reports&nbsp;whether&nbsp;fi1&nbsp;and&nbsp;fi2&nbsp;describe&nbsp;the&nbsp;same&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2365561">//&nbsp;For&nbsp;example,&nbsp;on&nbsp;Unix&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;device&nbsp;and&nbsp;inode&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="2365629">//&nbsp;of&nbsp;the&nbsp;two&nbsp;underlying&nbsp;structures&nbsp;are&nbsp;identical;&nbsp;on&nbsp;other&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2365697">//&nbsp;the&nbsp;decision&nbsp;may&nbsp;be&nbsp;based&nbsp;on&nbsp;the&nbsp;path&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="2365745">//&nbsp;SameFile&nbsp;only&nbsp;applies&nbsp;to&nbsp;results&nbsp;returned&nbsp;by&nbsp;this&nbsp;package&#39;s&nbsp;Stat.</span><br>
<span class="lineno">110</span><span class="comment" id="2365814">//&nbsp;It&nbsp;returns&nbsp;false&nbsp;in&nbsp;other&nbsp;cases.</span><br>
<span class="lineno"></span><span class="keyword" id="2365850">func</span>&nbsp;<span class="ident" id="2365855">SameFile</span><span class="op" id="2365863">(</span><span class="ident" id="2365864">fi1</span><span class="op" id="2365867">,</span>&nbsp;<span class="ident" id="2365869">fi2</span>&nbsp;<span class="ident" id="2365873">FileInfo</span><span class="op" id="2365881">)</span>&nbsp;<span class="builtintype" id="2365883">bool</span>&nbsp;<span class="op" id="2365888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2365891">fs1</span><span class="op" id="2365894">,</span>&nbsp;<span class="ident" id="2365896">ok1</span>&nbsp;<span class="op" id="2365900">:=</span>&nbsp;<span class="ident" id="2365903">fi1</span><span class="op" id="2365906">.</span><span class="op" id="2365907">(</span><span class="op" id="2365908">*</span><span class="ident" id="2365909">fileStat</span><span class="op" id="2365917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2365920">fs2</span><span class="op" id="2365923">,</span>&nbsp;<span class="ident" id="2365925">ok2</span>&nbsp;<span class="op" id="2365929">:=</span>&nbsp;<span class="ident" id="2365932">fi2</span><span class="op" id="2365935">.</span><span class="op" id="2365936">(</span><span class="op" id="2365937">*</span><span class="ident" id="2365938">fileStat</span><span class="op" id="2365946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2365949">if</span>&nbsp;<span class="op" id="2365952">!</span><span class="ident" id="2365953">ok1</span>&nbsp;<span class="op" id="2365957">||</span>&nbsp;<span class="op" id="2365960">!</span><span class="ident" id="2365961">ok2</span>&nbsp;<span class="op" id="2365965">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2365969">return</span>&nbsp;<span class="builtintype" id="2365976">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2365983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2365986">return</span>&nbsp;<span class="ident" id="2365993">sameFile</span><span class="op" id="2366001">(</span><span class="ident" id="2366002">fs1</span><span class="op" id="2366005">,</span>&nbsp;<span class="ident" id="2366007">fs2</span><span class="op" id="2366010">)</span><br>
<span class="lineno"></span><span class="op" id="2366012">}</span>
</div>
</body>
</html>
