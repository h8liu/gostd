<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5354282">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5354338">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5354392">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5354443">package</span>&nbsp;<span class="ident" id="5354451">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5354459">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="5354484">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5354552">import</span>&nbsp;<span class="op" id="5354559">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5354562">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5354571">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5354582">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5354593">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5354603">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5354606">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="5354665">type</span>&nbsp;<span class="ident" id="5354670">Regexp</span>&nbsp;<span class="keyword" id="5354677">struct</span>&nbsp;<span class="op" id="5354684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5354687">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5354696">Op</span>&nbsp;<span class="comment" id="5354699">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5354712">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5354721">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5354728">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5354737">[</span><span class="op" id="5354738">]</span><span class="op" id="5354739">*</span><span class="ident" id="5354740">Regexp</span>&nbsp;&nbsp;<span class="comment" id="5354748">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5354775">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5354784">[</span><span class="num" id="5354785">1</span><span class="op" id="5354786">]</span><span class="op" id="5354787">*</span><span class="ident" id="5354788">Regexp</span>&nbsp;<span class="comment" id="5354795">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5354821">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5354830">[</span><span class="op" id="5354831">]</span><span class="builtintype" id="5354832">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5354841">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5354887">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5354896">[</span><span class="num" id="5354897">2</span><span class="op" id="5354898">]</span><span class="builtintype" id="5354899">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5354907">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5354934">Min</span><span class="op" id="5354937">,</span>&nbsp;<span class="ident" id="5354939">Max</span>&nbsp;<span class="builtintype" id="5354943">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5354954">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5354980">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5354989">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355000">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355035">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5355044">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355055">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="5355088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5355091">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="5355141">type</span>&nbsp;<span class="ident" id="5355146">Op</span>&nbsp;<span class="builtintype" id="5355149">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5355156">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="5355230">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="5355295">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5355352">const</span>&nbsp;<span class="op" id="5355358">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355361">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5355378">Op</span>&nbsp;<span class="op" id="5355381">=</span>&nbsp;<span class="num" id="5355383">1</span>&nbsp;<span class="op" id="5355385">+</span>&nbsp;<span class="ident" id="5355387">iota</span>&nbsp;<span class="comment" id="5355392">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355415">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355446">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355471">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355502">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355529">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355560">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355609">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355640">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355681">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355712">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355738">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355769">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355815">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355846">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355886">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355917">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5355963">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5355994">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5356034">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5356065">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5356096">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5356127">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5356162">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5356193">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5356256">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5356287">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5356325">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5356356">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5356393">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5356424">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5356461">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5356492">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5356567">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5356598">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5356632">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5356663">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="5356694">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5356697">const</span>&nbsp;<span class="ident" id="5356703">opPseudo</span>&nbsp;<span class="ident" id="5356712">Op</span>&nbsp;<span class="op" id="5356715">=</span>&nbsp;<span class="num" id="5356717">128</span>&nbsp;<span class="comment" id="5356721">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5356748">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="5356807">func</span>&nbsp;<span class="op" id="5356812">(</span><span class="ident" id="5356813">x</span>&nbsp;<span class="op" id="5356815">*</span><span class="ident" id="5356816">Regexp</span><span class="op" id="5356822">)</span>&nbsp;<span class="ident" id="5356824">Equal</span><span class="op" id="5356829">(</span><span class="ident" id="5356830">y</span>&nbsp;<span class="op" id="5356832">*</span><span class="ident" id="5356833">Regexp</span><span class="op" id="5356839">)</span>&nbsp;<span class="builtintype" id="5356841">bool</span>&nbsp;<span class="op" id="5356846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5356849">if</span>&nbsp;<span class="ident" id="5356852">x</span>&nbsp;<span class="op" id="5356854">==</span>&nbsp;<span class="ident" id="5356857">nil</span>&nbsp;<span class="op" id="5356861">||</span>&nbsp;<span class="ident" id="5356864">y</span>&nbsp;<span class="op" id="5356866">==</span>&nbsp;<span class="ident" id="5356869">nil</span>&nbsp;<span class="op" id="5356873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5356877">return</span>&nbsp;<span class="ident" id="5356884">x</span>&nbsp;<span class="op" id="5356886">==</span>&nbsp;<span class="ident" id="5356889">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5356892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5356895">if</span>&nbsp;<span class="ident" id="5356898">x</span><span class="op" id="5356899">.</span><span class="ident" id="5356900">Op</span>&nbsp;<span class="op" id="5356903">!=</span>&nbsp;<span class="ident" id="5356906">y</span><span class="op" id="5356907">.</span><span class="ident" id="5356908">Op</span>&nbsp;<span class="op" id="5356911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5356915">return</span>&nbsp;<span class="builtintype" id="5356922">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5356929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5356932">switch</span>&nbsp;<span class="ident" id="5356939">x</span><span class="op" id="5356940">.</span><span class="ident" id="5356941">Op</span>&nbsp;<span class="op" id="5356944">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5356947">case</span>&nbsp;<span class="ident" id="5356952">OpEndText</span><span class="op" id="5356961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5356965">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357021">if</span>&nbsp;<span class="ident" id="5357024">x</span><span class="op" id="5357025">.</span><span class="ident" id="5357026">Flags</span><span class="op" id="5357031">&amp;</span><span class="ident" id="5357032">WasDollar</span>&nbsp;<span class="op" id="5357042">!=</span>&nbsp;<span class="ident" id="5357045">y</span><span class="op" id="5357046">.</span><span class="ident" id="5357047">Flags</span><span class="op" id="5357052">&amp;</span><span class="ident" id="5357053">WasDollar</span>&nbsp;<span class="op" id="5357063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357068">return</span>&nbsp;<span class="builtintype" id="5357075">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357083">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357087">case</span>&nbsp;<span class="ident" id="5357092">OpLiteral</span><span class="op" id="5357101">,</span>&nbsp;<span class="ident" id="5357103">OpCharClass</span><span class="op" id="5357114">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357118">if</span>&nbsp;<span class="builtinfunc" id="5357121">len</span><span class="op" id="5357124">(</span><span class="ident" id="5357125">x</span><span class="op" id="5357126">.</span><span class="ident" id="5357127">Rune</span><span class="op" id="5357131">)</span>&nbsp;<span class="op" id="5357133">!=</span>&nbsp;<span class="builtinfunc" id="5357136">len</span><span class="op" id="5357139">(</span><span class="ident" id="5357140">y</span><span class="op" id="5357141">.</span><span class="ident" id="5357142">Rune</span><span class="op" id="5357146">)</span>&nbsp;<span class="op" id="5357148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357153">return</span>&nbsp;<span class="builtintype" id="5357160">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357168">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357172">for</span>&nbsp;<span class="ident" id="5357176">i</span><span class="op" id="5357177">,</span>&nbsp;<span class="ident" id="5357179">r</span>&nbsp;<span class="op" id="5357181">:=</span>&nbsp;<span class="keyword" id="5357184">range</span>&nbsp;<span class="ident" id="5357190">x</span><span class="op" id="5357191">.</span><span class="ident" id="5357192">Rune</span>&nbsp;<span class="op" id="5357197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357202">if</span>&nbsp;<span class="ident" id="5357205">r</span>&nbsp;<span class="op" id="5357207">!=</span>&nbsp;<span class="ident" id="5357210">y</span><span class="op" id="5357211">.</span><span class="ident" id="5357212">Rune</span><span class="op" id="5357216">[</span><span class="ident" id="5357217">i</span><span class="op" id="5357218">]</span>&nbsp;<span class="op" id="5357220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357226">return</span>&nbsp;<span class="builtintype" id="5357233">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357246">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357250">case</span>&nbsp;<span class="ident" id="5357255">OpAlternate</span><span class="op" id="5357266">,</span>&nbsp;<span class="ident" id="5357268">OpConcat</span><span class="op" id="5357276">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357280">if</span>&nbsp;<span class="builtinfunc" id="5357283">len</span><span class="op" id="5357286">(</span><span class="ident" id="5357287">x</span><span class="op" id="5357288">.</span><span class="ident" id="5357289">Sub</span><span class="op" id="5357292">)</span>&nbsp;<span class="op" id="5357294">!=</span>&nbsp;<span class="builtinfunc" id="5357297">len</span><span class="op" id="5357300">(</span><span class="ident" id="5357301">y</span><span class="op" id="5357302">.</span><span class="ident" id="5357303">Sub</span><span class="op" id="5357306">)</span>&nbsp;<span class="op" id="5357308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357313">return</span>&nbsp;<span class="builtintype" id="5357320">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357328">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357332">for</span>&nbsp;<span class="ident" id="5357336">i</span><span class="op" id="5357337">,</span>&nbsp;<span class="ident" id="5357339">sub</span>&nbsp;<span class="op" id="5357343">:=</span>&nbsp;<span class="keyword" id="5357346">range</span>&nbsp;<span class="ident" id="5357352">x</span><span class="op" id="5357353">.</span><span class="ident" id="5357354">Sub</span>&nbsp;<span class="op" id="5357358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357363">if</span>&nbsp;<span class="op" id="5357366">!</span><span class="ident" id="5357367">sub</span><span class="op" id="5357370">.</span><span class="ident" id="5357371">Equal</span><span class="op" id="5357376">(</span><span class="ident" id="5357377">y</span><span class="op" id="5357378">.</span><span class="ident" id="5357379">Sub</span><span class="op" id="5357382">[</span><span class="ident" id="5357383">i</span><span class="op" id="5357384">]</span><span class="op" id="5357385">)</span>&nbsp;<span class="op" id="5357387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357393">return</span>&nbsp;<span class="builtintype" id="5357400">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357413">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357417">case</span>&nbsp;<span class="ident" id="5357422">OpStar</span><span class="op" id="5357428">,</span>&nbsp;<span class="ident" id="5357430">OpPlus</span><span class="op" id="5357436">,</span>&nbsp;<span class="ident" id="5357438">OpQuest</span><span class="op" id="5357445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357449">if</span>&nbsp;<span class="ident" id="5357452">x</span><span class="op" id="5357453">.</span><span class="ident" id="5357454">Flags</span><span class="op" id="5357459">&amp;</span><span class="ident" id="5357460">NonGreedy</span>&nbsp;<span class="op" id="5357470">!=</span>&nbsp;<span class="ident" id="5357473">y</span><span class="op" id="5357474">.</span><span class="ident" id="5357475">Flags</span><span class="op" id="5357480">&amp;</span><span class="ident" id="5357481">NonGreedy</span>&nbsp;<span class="op" id="5357491">||</span>&nbsp;<span class="op" id="5357494">!</span><span class="ident" id="5357495">x</span><span class="op" id="5357496">.</span><span class="ident" id="5357497">Sub</span><span class="op" id="5357500">[</span><span class="num" id="5357501">0</span><span class="op" id="5357502">]</span><span class="op" id="5357503">.</span><span class="ident" id="5357504">Equal</span><span class="op" id="5357509">(</span><span class="ident" id="5357510">y</span><span class="op" id="5357511">.</span><span class="ident" id="5357512">Sub</span><span class="op" id="5357515">[</span><span class="num" id="5357516">0</span><span class="op" id="5357517">]</span><span class="op" id="5357518">)</span>&nbsp;<span class="op" id="5357520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357525">return</span>&nbsp;<span class="builtintype" id="5357532">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357540">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357544">case</span>&nbsp;<span class="ident" id="5357549">OpRepeat</span><span class="op" id="5357557">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357561">if</span>&nbsp;<span class="ident" id="5357564">x</span><span class="op" id="5357565">.</span><span class="ident" id="5357566">Flags</span><span class="op" id="5357571">&amp;</span><span class="ident" id="5357572">NonGreedy</span>&nbsp;<span class="op" id="5357582">!=</span>&nbsp;<span class="ident" id="5357585">y</span><span class="op" id="5357586">.</span><span class="ident" id="5357587">Flags</span><span class="op" id="5357592">&amp;</span><span class="ident" id="5357593">NonGreedy</span>&nbsp;<span class="op" id="5357603">||</span>&nbsp;<span class="ident" id="5357606">x</span><span class="op" id="5357607">.</span><span class="ident" id="5357608">Min</span>&nbsp;<span class="op" id="5357612">!=</span>&nbsp;<span class="ident" id="5357615">y</span><span class="op" id="5357616">.</span><span class="ident" id="5357617">Min</span>&nbsp;<span class="op" id="5357621">||</span>&nbsp;<span class="ident" id="5357624">x</span><span class="op" id="5357625">.</span><span class="ident" id="5357626">Max</span>&nbsp;<span class="op" id="5357630">!=</span>&nbsp;<span class="ident" id="5357633">y</span><span class="op" id="5357634">.</span><span class="ident" id="5357635">Max</span>&nbsp;<span class="op" id="5357639">||</span>&nbsp;<span class="op" id="5357642">!</span><span class="ident" id="5357643">x</span><span class="op" id="5357644">.</span><span class="ident" id="5357645">Sub</span><span class="op" id="5357648">[</span><span class="num" id="5357649">0</span><span class="op" id="5357650">]</span><span class="op" id="5357651">.</span><span class="ident" id="5357652">Equal</span><span class="op" id="5357657">(</span><span class="ident" id="5357658">y</span><span class="op" id="5357659">.</span><span class="ident" id="5357660">Sub</span><span class="op" id="5357663">[</span><span class="num" id="5357664">0</span><span class="op" id="5357665">]</span><span class="op" id="5357666">)</span>&nbsp;<span class="op" id="5357668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357673">return</span>&nbsp;<span class="builtintype" id="5357680">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357688">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357692">case</span>&nbsp;<span class="ident" id="5357697">OpCapture</span><span class="op" id="5357706">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357710">if</span>&nbsp;<span class="ident" id="5357713">x</span><span class="op" id="5357714">.</span><span class="ident" id="5357715">Cap</span>&nbsp;<span class="op" id="5357719">!=</span>&nbsp;<span class="ident" id="5357722">y</span><span class="op" id="5357723">.</span><span class="ident" id="5357724">Cap</span>&nbsp;<span class="op" id="5357728">||</span>&nbsp;<span class="ident" id="5357731">x</span><span class="op" id="5357732">.</span><span class="ident" id="5357733">Name</span>&nbsp;<span class="op" id="5357738">!=</span>&nbsp;<span class="ident" id="5357741">y</span><span class="op" id="5357742">.</span><span class="ident" id="5357743">Name</span>&nbsp;<span class="op" id="5357748">||</span>&nbsp;<span class="op" id="5357751">!</span><span class="ident" id="5357752">x</span><span class="op" id="5357753">.</span><span class="ident" id="5357754">Sub</span><span class="op" id="5357757">[</span><span class="num" id="5357758">0</span><span class="op" id="5357759">]</span><span class="op" id="5357760">.</span><span class="ident" id="5357761">Equal</span><span class="op" id="5357766">(</span><span class="ident" id="5357767">y</span><span class="op" id="5357768">.</span><span class="ident" id="5357769">Sub</span><span class="op" id="5357772">[</span><span class="num" id="5357773">0</span><span class="op" id="5357774">]</span><span class="op" id="5357775">)</span>&nbsp;<span class="op" id="5357777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357782">return</span>&nbsp;<span class="builtintype" id="5357789">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357797">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5357800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357803">return</span>&nbsp;<span class="builtintype" id="5357810">true</span><br>
<span class="lineno"></span><span class="op" id="5357815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5357818">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="5357892">func</span>&nbsp;<span class="ident" id="5357897">writeRegexp</span><span class="op" id="5357908">(</span><span class="ident" id="5357909">b</span>&nbsp;<span class="op" id="5357911">*</span><span class="ident" id="5357912">bytes</span><span class="op" id="5357917">.</span><span class="ident" id="5357918">Buffer</span><span class="op" id="5357924">,</span>&nbsp;<span class="ident" id="5357926">re</span>&nbsp;<span class="op" id="5357929">*</span><span class="ident" id="5357930">Regexp</span><span class="op" id="5357936">)</span>&nbsp;<span class="op" id="5357938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357941">switch</span>&nbsp;<span class="ident" id="5357948">re</span><span class="op" id="5357950">.</span><span class="ident" id="5357951">Op</span>&nbsp;<span class="op" id="5357954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5357957">default</span><span class="op" id="5357964">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5357968">b</span><span class="op" id="5357969">.</span><span class="ident" id="5357970">WriteString</span><span class="op" id="5357981">(</span><span class="string" id="5357982">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="5357996">+</span>&nbsp;<span class="ident" id="5357998">strconv</span><span class="op" id="5358005">.</span><span class="ident" id="5358006">Itoa</span><span class="op" id="5358010">(</span><span class="builtintype" id="5358011">int</span><span class="op" id="5358014">(</span><span class="ident" id="5358015">re</span><span class="op" id="5358017">.</span><span class="ident" id="5358018">Op</span><span class="op" id="5358020">)</span><span class="op" id="5358021">)</span>&nbsp;<span class="op" id="5358023">+</span>&nbsp;<span class="string" id="5358025">&#34;&gt;&#34;</span><span class="op" id="5358028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358031">case</span>&nbsp;<span class="ident" id="5358036">OpNoMatch</span><span class="op" id="5358045">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358049">b</span><span class="op" id="5358050">.</span><span class="ident" id="5358051">WriteString</span><span class="op" id="5358062">(</span><span class="string" id="5358063">`[^\x00-\x{10FFFF}]`</span><span class="op" id="5358083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358086">case</span>&nbsp;<span class="ident" id="5358091">OpEmptyMatch</span><span class="op" id="5358103">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358107">b</span><span class="op" id="5358108">.</span><span class="ident" id="5358109">WriteString</span><span class="op" id="5358120">(</span><span class="string" id="5358121">`(?:)`</span><span class="op" id="5358127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358130">case</span>&nbsp;<span class="ident" id="5358135">OpLiteral</span><span class="op" id="5358144">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358148">if</span>&nbsp;<span class="ident" id="5358151">re</span><span class="op" id="5358153">.</span><span class="ident" id="5358154">Flags</span><span class="op" id="5358159">&amp;</span><span class="ident" id="5358160">FoldCase</span>&nbsp;<span class="op" id="5358169">!=</span>&nbsp;<span class="num" id="5358172">0</span>&nbsp;<span class="op" id="5358174">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358179">b</span><span class="op" id="5358180">.</span><span class="ident" id="5358181">WriteString</span><span class="op" id="5358192">(</span><span class="string" id="5358193">`(?i:`</span><span class="op" id="5358199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358207">for</span>&nbsp;<span class="ident" id="5358211">_</span><span class="op" id="5358212">,</span>&nbsp;<span class="ident" id="5358214">r</span>&nbsp;<span class="op" id="5358216">:=</span>&nbsp;<span class="keyword" id="5358219">range</span>&nbsp;<span class="ident" id="5358225">re</span><span class="op" id="5358227">.</span><span class="ident" id="5358228">Rune</span>&nbsp;<span class="op" id="5358233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358238">escape</span><span class="op" id="5358244">(</span><span class="ident" id="5358245">b</span><span class="op" id="5358246">,</span>&nbsp;<span class="ident" id="5358248">r</span><span class="op" id="5358249">,</span>&nbsp;<span class="builtintype" id="5358251">false</span><span class="op" id="5358256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358260">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358264">if</span>&nbsp;<span class="ident" id="5358267">re</span><span class="op" id="5358269">.</span><span class="ident" id="5358270">Flags</span><span class="op" id="5358275">&amp;</span><span class="ident" id="5358276">FoldCase</span>&nbsp;<span class="op" id="5358285">!=</span>&nbsp;<span class="num" id="5358288">0</span>&nbsp;<span class="op" id="5358290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358295">b</span><span class="op" id="5358296">.</span><span class="ident" id="5358297">WriteString</span><span class="op" id="5358308">(</span><span class="string" id="5358309">`)`</span><span class="op" id="5358312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358319">case</span>&nbsp;<span class="ident" id="5358324">OpCharClass</span><span class="op" id="5358335">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358339">if</span>&nbsp;<span class="builtinfunc" id="5358342">len</span><span class="op" id="5358345">(</span><span class="ident" id="5358346">re</span><span class="op" id="5358348">.</span><span class="ident" id="5358349">Rune</span><span class="op" id="5358353">)</span><span class="op" id="5358354">%</span><span class="num" id="5358355">2</span>&nbsp;<span class="op" id="5358357">!=</span>&nbsp;<span class="num" id="5358360">0</span>&nbsp;<span class="op" id="5358362">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358367">b</span><span class="op" id="5358368">.</span><span class="ident" id="5358369">WriteString</span><span class="op" id="5358380">(</span><span class="string" id="5358381">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="5358403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358408">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358420">b</span><span class="op" id="5358421">.</span><span class="ident" id="5358422">WriteRune</span><span class="op" id="5358431">(</span><span class="string" id="5358432">&#39;[&#39;</span><span class="op" id="5358435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358439">if</span>&nbsp;<span class="builtinfunc" id="5358442">len</span><span class="op" id="5358445">(</span><span class="ident" id="5358446">re</span><span class="op" id="5358448">.</span><span class="ident" id="5358449">Rune</span><span class="op" id="5358453">)</span>&nbsp;<span class="op" id="5358455">==</span>&nbsp;<span class="num" id="5358458">0</span>&nbsp;<span class="op" id="5358460">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358465">b</span><span class="op" id="5358466">.</span><span class="ident" id="5358467">WriteString</span><span class="op" id="5358478">(</span><span class="string" id="5358479">`^\x00-\x{10FFFF}`</span><span class="op" id="5358497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358501">}</span>&nbsp;<span class="keyword" id="5358503">else</span>&nbsp;<span class="keyword" id="5358508">if</span>&nbsp;<span class="ident" id="5358511">re</span><span class="op" id="5358513">.</span><span class="ident" id="5358514">Rune</span><span class="op" id="5358518">[</span><span class="num" id="5358519">0</span><span class="op" id="5358520">]</span>&nbsp;<span class="op" id="5358522">==</span>&nbsp;<span class="num" id="5358525">0</span>&nbsp;<span class="op" id="5358527">&amp;&amp;</span>&nbsp;<span class="ident" id="5358530">re</span><span class="op" id="5358532">.</span><span class="ident" id="5358533">Rune</span><span class="op" id="5358537">[</span><span class="builtinfunc" id="5358538">len</span><span class="op" id="5358541">(</span><span class="ident" id="5358542">re</span><span class="op" id="5358544">.</span><span class="ident" id="5358545">Rune</span><span class="op" id="5358549">)</span><span class="op" id="5358550">-</span><span class="num" id="5358551">1</span><span class="op" id="5358552">]</span>&nbsp;<span class="op" id="5358554">==</span>&nbsp;<span class="ident" id="5358557">unicode</span><span class="op" id="5358564">.</span><span class="ident" id="5358565">MaxRune</span>&nbsp;<span class="op" id="5358573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5358578">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5358635">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358657">b</span><span class="op" id="5358658">.</span><span class="ident" id="5358659">WriteRune</span><span class="op" id="5358668">(</span><span class="string" id="5358669">&#39;^&#39;</span><span class="op" id="5358672">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358677">for</span>&nbsp;<span class="ident" id="5358681">i</span>&nbsp;<span class="op" id="5358683">:=</span>&nbsp;<span class="num" id="5358686">1</span><span class="op" id="5358687">;</span>&nbsp;<span class="ident" id="5358689">i</span>&nbsp;<span class="op" id="5358691">&lt;</span>&nbsp;<span class="builtinfunc" id="5358693">len</span><span class="op" id="5358696">(</span><span class="ident" id="5358697">re</span><span class="op" id="5358699">.</span><span class="ident" id="5358700">Rune</span><span class="op" id="5358704">)</span><span class="op" id="5358705">-</span><span class="num" id="5358706">1</span><span class="op" id="5358707">;</span>&nbsp;<span class="ident" id="5358709">i</span>&nbsp;<span class="op" id="5358711">+=</span>&nbsp;<span class="num" id="5358714">2</span>&nbsp;<span class="op" id="5358716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358722">lo</span><span class="op" id="5358724">,</span>&nbsp;<span class="ident" id="5358726">hi</span>&nbsp;<span class="op" id="5358729">:=</span>&nbsp;<span class="ident" id="5358732">re</span><span class="op" id="5358734">.</span><span class="ident" id="5358735">Rune</span><span class="op" id="5358739">[</span><span class="ident" id="5358740">i</span><span class="op" id="5358741">]</span><span class="op" id="5358742">+</span><span class="num" id="5358743">1</span><span class="op" id="5358744">,</span>&nbsp;<span class="ident" id="5358746">re</span><span class="op" id="5358748">.</span><span class="ident" id="5358749">Rune</span><span class="op" id="5358753">[</span><span class="ident" id="5358754">i</span><span class="op" id="5358755">+</span><span class="num" id="5358756">1</span><span class="op" id="5358757">]</span><span class="op" id="5358758">-</span><span class="num" id="5358759">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358765">escape</span><span class="op" id="5358771">(</span><span class="ident" id="5358772">b</span><span class="op" id="5358773">,</span>&nbsp;<span class="ident" id="5358775">lo</span><span class="op" id="5358777">,</span>&nbsp;<span class="ident" id="5358779">lo</span>&nbsp;<span class="op" id="5358782">==</span>&nbsp;<span class="string" id="5358785">&#39;-&#39;</span><span class="op" id="5358788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358794">if</span>&nbsp;<span class="ident" id="5358797">lo</span>&nbsp;<span class="op" id="5358800">!=</span>&nbsp;<span class="ident" id="5358803">hi</span>&nbsp;<span class="op" id="5358806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358813">b</span><span class="op" id="5358814">.</span><span class="ident" id="5358815">WriteRune</span><span class="op" id="5358824">(</span><span class="string" id="5358825">&#39;-&#39;</span><span class="op" id="5358828">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358835">escape</span><span class="op" id="5358841">(</span><span class="ident" id="5358842">b</span><span class="op" id="5358843">,</span>&nbsp;<span class="ident" id="5358845">hi</span><span class="op" id="5358847">,</span>&nbsp;<span class="ident" id="5358849">hi</span>&nbsp;<span class="op" id="5358852">==</span>&nbsp;<span class="string" id="5358855">&#39;-&#39;</span><span class="op" id="5358858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358873">}</span>&nbsp;<span class="keyword" id="5358875">else</span>&nbsp;<span class="op" id="5358880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358885">for</span>&nbsp;<span class="ident" id="5358889">i</span>&nbsp;<span class="op" id="5358891">:=</span>&nbsp;<span class="num" id="5358894">0</span><span class="op" id="5358895">;</span>&nbsp;<span class="ident" id="5358897">i</span>&nbsp;<span class="op" id="5358899">&lt;</span>&nbsp;<span class="builtinfunc" id="5358901">len</span><span class="op" id="5358904">(</span><span class="ident" id="5358905">re</span><span class="op" id="5358907">.</span><span class="ident" id="5358908">Rune</span><span class="op" id="5358912">)</span><span class="op" id="5358913">;</span>&nbsp;<span class="ident" id="5358915">i</span>&nbsp;<span class="op" id="5358917">+=</span>&nbsp;<span class="num" id="5358920">2</span>&nbsp;<span class="op" id="5358922">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358928">lo</span><span class="op" id="5358930">,</span>&nbsp;<span class="ident" id="5358932">hi</span>&nbsp;<span class="op" id="5358935">:=</span>&nbsp;<span class="ident" id="5358938">re</span><span class="op" id="5358940">.</span><span class="ident" id="5358941">Rune</span><span class="op" id="5358945">[</span><span class="ident" id="5358946">i</span><span class="op" id="5358947">]</span><span class="op" id="5358948">,</span>&nbsp;<span class="ident" id="5358950">re</span><span class="op" id="5358952">.</span><span class="ident" id="5358953">Rune</span><span class="op" id="5358957">[</span><span class="ident" id="5358958">i</span><span class="op" id="5358959">+</span><span class="num" id="5358960">1</span><span class="op" id="5358961">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358967">escape</span><span class="op" id="5358973">(</span><span class="ident" id="5358974">b</span><span class="op" id="5358975">,</span>&nbsp;<span class="ident" id="5358977">lo</span><span class="op" id="5358979">,</span>&nbsp;<span class="ident" id="5358981">lo</span>&nbsp;<span class="op" id="5358984">==</span>&nbsp;<span class="string" id="5358987">&#39;-&#39;</span><span class="op" id="5358990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358996">if</span>&nbsp;<span class="ident" id="5358999">lo</span>&nbsp;<span class="op" id="5359002">!=</span>&nbsp;<span class="ident" id="5359005">hi</span>&nbsp;<span class="op" id="5359008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359015">b</span><span class="op" id="5359016">.</span><span class="ident" id="5359017">WriteRune</span><span class="op" id="5359026">(</span><span class="string" id="5359027">&#39;-&#39;</span><span class="op" id="5359030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359037">escape</span><span class="op" id="5359043">(</span><span class="ident" id="5359044">b</span><span class="op" id="5359045">,</span>&nbsp;<span class="ident" id="5359047">hi</span><span class="op" id="5359049">,</span>&nbsp;<span class="ident" id="5359051">hi</span>&nbsp;<span class="op" id="5359054">==</span>&nbsp;<span class="string" id="5359057">&#39;-&#39;</span><span class="op" id="5359060">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359079">b</span><span class="op" id="5359080">.</span><span class="ident" id="5359081">WriteRune</span><span class="op" id="5359090">(</span><span class="string" id="5359091">&#39;]&#39;</span><span class="op" id="5359094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359097">case</span>&nbsp;<span class="ident" id="5359102">OpAnyCharNotNL</span><span class="op" id="5359116">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359120">b</span><span class="op" id="5359121">.</span><span class="ident" id="5359122">WriteString</span><span class="op" id="5359133">(</span><span class="string" id="5359134">`(?-s:.)`</span><span class="op" id="5359143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359146">case</span>&nbsp;<span class="ident" id="5359151">OpAnyChar</span><span class="op" id="5359160">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359164">b</span><span class="op" id="5359165">.</span><span class="ident" id="5359166">WriteString</span><span class="op" id="5359177">(</span><span class="string" id="5359178">`(?s:.)`</span><span class="op" id="5359186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359189">case</span>&nbsp;<span class="ident" id="5359194">OpBeginLine</span><span class="op" id="5359205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359209">b</span><span class="op" id="5359210">.</span><span class="ident" id="5359211">WriteRune</span><span class="op" id="5359220">(</span><span class="string" id="5359221">&#39;^&#39;</span><span class="op" id="5359224">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359227">case</span>&nbsp;<span class="ident" id="5359232">OpEndLine</span><span class="op" id="5359241">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359245">b</span><span class="op" id="5359246">.</span><span class="ident" id="5359247">WriteRune</span><span class="op" id="5359256">(</span><span class="string" id="5359257">&#39;$&#39;</span><span class="op" id="5359260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359263">case</span>&nbsp;<span class="ident" id="5359268">OpBeginText</span><span class="op" id="5359279">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359283">b</span><span class="op" id="5359284">.</span><span class="ident" id="5359285">WriteString</span><span class="op" id="5359296">(</span><span class="string" id="5359297">`\A`</span><span class="op" id="5359301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359304">case</span>&nbsp;<span class="ident" id="5359309">OpEndText</span><span class="op" id="5359318">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359322">if</span>&nbsp;<span class="ident" id="5359325">re</span><span class="op" id="5359327">.</span><span class="ident" id="5359328">Flags</span><span class="op" id="5359333">&amp;</span><span class="ident" id="5359334">WasDollar</span>&nbsp;<span class="op" id="5359344">!=</span>&nbsp;<span class="num" id="5359347">0</span>&nbsp;<span class="op" id="5359349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359354">b</span><span class="op" id="5359355">.</span><span class="ident" id="5359356">WriteString</span><span class="op" id="5359367">(</span><span class="string" id="5359368">`(?-m:$)`</span><span class="op" id="5359377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359381">}</span>&nbsp;<span class="keyword" id="5359383">else</span>&nbsp;<span class="op" id="5359388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359393">b</span><span class="op" id="5359394">.</span><span class="ident" id="5359395">WriteString</span><span class="op" id="5359406">(</span><span class="string" id="5359407">`\z`</span><span class="op" id="5359411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359415">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359418">case</span>&nbsp;<span class="ident" id="5359423">OpWordBoundary</span><span class="op" id="5359437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359441">b</span><span class="op" id="5359442">.</span><span class="ident" id="5359443">WriteString</span><span class="op" id="5359454">(</span><span class="string" id="5359455">`\b`</span><span class="op" id="5359459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359462">case</span>&nbsp;<span class="ident" id="5359467">OpNoWordBoundary</span><span class="op" id="5359483">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359487">b</span><span class="op" id="5359488">.</span><span class="ident" id="5359489">WriteString</span><span class="op" id="5359500">(</span><span class="string" id="5359501">`\B`</span><span class="op" id="5359505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359508">case</span>&nbsp;<span class="ident" id="5359513">OpCapture</span><span class="op" id="5359522">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359526">if</span>&nbsp;<span class="ident" id="5359529">re</span><span class="op" id="5359531">.</span><span class="ident" id="5359532">Name</span>&nbsp;<span class="op" id="5359537">!=</span>&nbsp;<span class="string" id="5359540">&#34;&#34;</span>&nbsp;<span class="op" id="5359543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359548">b</span><span class="op" id="5359549">.</span><span class="ident" id="5359550">WriteString</span><span class="op" id="5359561">(</span><span class="string" id="5359562">`(?P&lt;`</span><span class="op" id="5359568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359573">b</span><span class="op" id="5359574">.</span><span class="ident" id="5359575">WriteString</span><span class="op" id="5359586">(</span><span class="ident" id="5359587">re</span><span class="op" id="5359589">.</span><span class="ident" id="5359590">Name</span><span class="op" id="5359594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359599">b</span><span class="op" id="5359600">.</span><span class="ident" id="5359601">WriteRune</span><span class="op" id="5359610">(</span><span class="string" id="5359611">&#39;&gt;&#39;</span><span class="op" id="5359614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359618">}</span>&nbsp;<span class="keyword" id="5359620">else</span>&nbsp;<span class="op" id="5359625">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359630">b</span><span class="op" id="5359631">.</span><span class="ident" id="5359632">WriteRune</span><span class="op" id="5359641">(</span><span class="string" id="5359642">&#39;(&#39;</span><span class="op" id="5359645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359653">if</span>&nbsp;<span class="ident" id="5359656">re</span><span class="op" id="5359658">.</span><span class="ident" id="5359659">Sub</span><span class="op" id="5359662">[</span><span class="num" id="5359663">0</span><span class="op" id="5359664">]</span><span class="op" id="5359665">.</span><span class="ident" id="5359666">Op</span>&nbsp;<span class="op" id="5359669">!=</span>&nbsp;<span class="ident" id="5359672">OpEmptyMatch</span>&nbsp;<span class="op" id="5359685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359690">writeRegexp</span><span class="op" id="5359701">(</span><span class="ident" id="5359702">b</span><span class="op" id="5359703">,</span>&nbsp;<span class="ident" id="5359705">re</span><span class="op" id="5359707">.</span><span class="ident" id="5359708">Sub</span><span class="op" id="5359711">[</span><span class="num" id="5359712">0</span><span class="op" id="5359713">]</span><span class="op" id="5359714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359718">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359722">b</span><span class="op" id="5359723">.</span><span class="ident" id="5359724">WriteRune</span><span class="op" id="5359733">(</span><span class="string" id="5359734">&#39;)&#39;</span><span class="op" id="5359737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359740">case</span>&nbsp;<span class="ident" id="5359745">OpStar</span><span class="op" id="5359751">,</span>&nbsp;<span class="ident" id="5359753">OpPlus</span><span class="op" id="5359759">,</span>&nbsp;<span class="ident" id="5359761">OpQuest</span><span class="op" id="5359768">,</span>&nbsp;<span class="ident" id="5359770">OpRepeat</span><span class="op" id="5359778">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359782">if</span>&nbsp;<span class="ident" id="5359785">sub</span>&nbsp;<span class="op" id="5359789">:=</span>&nbsp;<span class="ident" id="5359792">re</span><span class="op" id="5359794">.</span><span class="ident" id="5359795">Sub</span><span class="op" id="5359798">[</span><span class="num" id="5359799">0</span><span class="op" id="5359800">]</span><span class="op" id="5359801">;</span>&nbsp;<span class="ident" id="5359803">sub</span><span class="op" id="5359806">.</span><span class="ident" id="5359807">Op</span>&nbsp;<span class="op" id="5359810">&gt;</span>&nbsp;<span class="ident" id="5359812">OpCapture</span>&nbsp;<span class="op" id="5359822">||</span>&nbsp;<span class="ident" id="5359825">sub</span><span class="op" id="5359828">.</span><span class="ident" id="5359829">Op</span>&nbsp;<span class="op" id="5359832">==</span>&nbsp;<span class="ident" id="5359835">OpLiteral</span>&nbsp;<span class="op" id="5359845">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5359848">len</span><span class="op" id="5359851">(</span><span class="ident" id="5359852">sub</span><span class="op" id="5359855">.</span><span class="ident" id="5359856">Rune</span><span class="op" id="5359860">)</span>&nbsp;<span class="op" id="5359862">&gt;</span>&nbsp;<span class="num" id="5359864">1</span>&nbsp;<span class="op" id="5359866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359871">b</span><span class="op" id="5359872">.</span><span class="ident" id="5359873">WriteString</span><span class="op" id="5359884">(</span><span class="string" id="5359885">`(?:`</span><span class="op" id="5359890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359895">writeRegexp</span><span class="op" id="5359906">(</span><span class="ident" id="5359907">b</span><span class="op" id="5359908">,</span>&nbsp;<span class="ident" id="5359910">sub</span><span class="op" id="5359913">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359918">b</span><span class="op" id="5359919">.</span><span class="ident" id="5359920">WriteString</span><span class="op" id="5359931">(</span><span class="string" id="5359932">`)`</span><span class="op" id="5359935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359939">}</span>&nbsp;<span class="keyword" id="5359941">else</span>&nbsp;<span class="op" id="5359946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5359951">writeRegexp</span><span class="op" id="5359962">(</span><span class="ident" id="5359963">b</span><span class="op" id="5359964">,</span>&nbsp;<span class="ident" id="5359966">sub</span><span class="op" id="5359969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5359973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359977">switch</span>&nbsp;<span class="ident" id="5359984">re</span><span class="op" id="5359986">.</span><span class="ident" id="5359987">Op</span>&nbsp;<span class="op" id="5359990">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5359994">case</span>&nbsp;<span class="ident" id="5359999">OpStar</span><span class="op" id="5360005">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360010">b</span><span class="op" id="5360011">.</span><span class="ident" id="5360012">WriteRune</span><span class="op" id="5360021">(</span><span class="string" id="5360022">&#39;*&#39;</span><span class="op" id="5360025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360029">case</span>&nbsp;<span class="ident" id="5360034">OpPlus</span><span class="op" id="5360040">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360045">b</span><span class="op" id="5360046">.</span><span class="ident" id="5360047">WriteRune</span><span class="op" id="5360056">(</span><span class="string" id="5360057">&#39;+&#39;</span><span class="op" id="5360060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360064">case</span>&nbsp;<span class="ident" id="5360069">OpQuest</span><span class="op" id="5360076">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360081">b</span><span class="op" id="5360082">.</span><span class="ident" id="5360083">WriteRune</span><span class="op" id="5360092">(</span><span class="string" id="5360093">&#39;?&#39;</span><span class="op" id="5360096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360100">case</span>&nbsp;<span class="ident" id="5360105">OpRepeat</span><span class="op" id="5360113">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360118">b</span><span class="op" id="5360119">.</span><span class="ident" id="5360120">WriteRune</span><span class="op" id="5360129">(</span><span class="string" id="5360130">&#39;{&#39;</span><span class="op" id="5360133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360138">b</span><span class="op" id="5360139">.</span><span class="ident" id="5360140">WriteString</span><span class="op" id="5360151">(</span><span class="ident" id="5360152">strconv</span><span class="op" id="5360159">.</span><span class="ident" id="5360160">Itoa</span><span class="op" id="5360164">(</span><span class="ident" id="5360165">re</span><span class="op" id="5360167">.</span><span class="ident" id="5360168">Min</span><span class="op" id="5360171">)</span><span class="op" id="5360172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360177">if</span>&nbsp;<span class="ident" id="5360180">re</span><span class="op" id="5360182">.</span><span class="ident" id="5360183">Max</span>&nbsp;<span class="op" id="5360187">!=</span>&nbsp;<span class="ident" id="5360190">re</span><span class="op" id="5360192">.</span><span class="ident" id="5360193">Min</span>&nbsp;<span class="op" id="5360197">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360203">b</span><span class="op" id="5360204">.</span><span class="ident" id="5360205">WriteRune</span><span class="op" id="5360214">(</span><span class="string" id="5360215">&#39;,&#39;</span><span class="op" id="5360218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360224">if</span>&nbsp;<span class="ident" id="5360227">re</span><span class="op" id="5360229">.</span><span class="ident" id="5360230">Max</span>&nbsp;<span class="op" id="5360234">&gt;=</span>&nbsp;<span class="num" id="5360237">0</span>&nbsp;<span class="op" id="5360239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360246">b</span><span class="op" id="5360247">.</span><span class="ident" id="5360248">WriteString</span><span class="op" id="5360259">(</span><span class="ident" id="5360260">strconv</span><span class="op" id="5360267">.</span><span class="ident" id="5360268">Itoa</span><span class="op" id="5360272">(</span><span class="ident" id="5360273">re</span><span class="op" id="5360275">.</span><span class="ident" id="5360276">Max</span><span class="op" id="5360279">)</span><span class="op" id="5360280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360291">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360296">b</span><span class="op" id="5360297">.</span><span class="ident" id="5360298">WriteRune</span><span class="op" id="5360307">(</span><span class="string" id="5360308">&#39;}&#39;</span><span class="op" id="5360311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360319">if</span>&nbsp;<span class="ident" id="5360322">re</span><span class="op" id="5360324">.</span><span class="ident" id="5360325">Flags</span><span class="op" id="5360330">&amp;</span><span class="ident" id="5360331">NonGreedy</span>&nbsp;<span class="op" id="5360341">!=</span>&nbsp;<span class="num" id="5360344">0</span>&nbsp;<span class="op" id="5360346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360351">b</span><span class="op" id="5360352">.</span><span class="ident" id="5360353">WriteRune</span><span class="op" id="5360362">(</span><span class="string" id="5360363">&#39;?&#39;</span><span class="op" id="5360366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360370">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360373">case</span>&nbsp;<span class="ident" id="5360378">OpConcat</span><span class="op" id="5360386">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360390">for</span>&nbsp;<span class="ident" id="5360394">_</span><span class="op" id="5360395">,</span>&nbsp;<span class="ident" id="5360397">sub</span>&nbsp;<span class="op" id="5360401">:=</span>&nbsp;<span class="keyword" id="5360404">range</span>&nbsp;<span class="ident" id="5360410">re</span><span class="op" id="5360412">.</span><span class="ident" id="5360413">Sub</span>&nbsp;<span class="op" id="5360417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360422">if</span>&nbsp;<span class="ident" id="5360425">sub</span><span class="op" id="5360428">.</span><span class="ident" id="5360429">Op</span>&nbsp;<span class="op" id="5360432">==</span>&nbsp;<span class="ident" id="5360435">OpAlternate</span>&nbsp;<span class="op" id="5360447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360453">b</span><span class="op" id="5360454">.</span><span class="ident" id="5360455">WriteString</span><span class="op" id="5360466">(</span><span class="string" id="5360467">`(?:`</span><span class="op" id="5360472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360478">writeRegexp</span><span class="op" id="5360489">(</span><span class="ident" id="5360490">b</span><span class="op" id="5360491">,</span>&nbsp;<span class="ident" id="5360493">sub</span><span class="op" id="5360496">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360502">b</span><span class="op" id="5360503">.</span><span class="ident" id="5360504">WriteString</span><span class="op" id="5360515">(</span><span class="string" id="5360516">`)`</span><span class="op" id="5360519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360524">}</span>&nbsp;<span class="keyword" id="5360526">else</span>&nbsp;<span class="op" id="5360531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360537">writeRegexp</span><span class="op" id="5360548">(</span><span class="ident" id="5360549">b</span><span class="op" id="5360550">,</span>&nbsp;<span class="ident" id="5360552">sub</span><span class="op" id="5360555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360564">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360567">case</span>&nbsp;<span class="ident" id="5360572">OpAlternate</span><span class="op" id="5360583">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360587">for</span>&nbsp;<span class="ident" id="5360591">i</span><span class="op" id="5360592">,</span>&nbsp;<span class="ident" id="5360594">sub</span>&nbsp;<span class="op" id="5360598">:=</span>&nbsp;<span class="keyword" id="5360601">range</span>&nbsp;<span class="ident" id="5360607">re</span><span class="op" id="5360609">.</span><span class="ident" id="5360610">Sub</span>&nbsp;<span class="op" id="5360614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360619">if</span>&nbsp;<span class="ident" id="5360622">i</span>&nbsp;<span class="op" id="5360624">&gt;</span>&nbsp;<span class="num" id="5360626">0</span>&nbsp;<span class="op" id="5360628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360634">b</span><span class="op" id="5360635">.</span><span class="ident" id="5360636">WriteRune</span><span class="op" id="5360645">(</span><span class="string" id="5360646">&#39;|&#39;</span><span class="op" id="5360649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360654">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360659">writeRegexp</span><span class="op" id="5360670">(</span><span class="ident" id="5360671">b</span><span class="op" id="5360672">,</span>&nbsp;<span class="ident" id="5360674">sub</span><span class="op" id="5360677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360684">}</span><br>
<span class="lineno"></span><span class="op" id="5360686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="5360689">func</span>&nbsp;<span class="op" id="5360694">(</span><span class="ident" id="5360695">re</span>&nbsp;<span class="op" id="5360698">*</span><span class="ident" id="5360699">Regexp</span><span class="op" id="5360705">)</span>&nbsp;<span class="ident" id="5360707">String</span><span class="op" id="5360713">(</span><span class="op" id="5360714">)</span>&nbsp;<span class="builtintype" id="5360716">string</span>&nbsp;<span class="op" id="5360723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360726">var</span>&nbsp;<span class="ident" id="5360730">b</span>&nbsp;<span class="ident" id="5360732">bytes</span><span class="op" id="5360737">.</span><span class="ident" id="5360738">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360746">writeRegexp</span><span class="op" id="5360757">(</span><span class="op" id="5360758">&amp;</span><span class="ident" id="5360759">b</span><span class="op" id="5360760">,</span>&nbsp;<span class="ident" id="5360762">re</span><span class="op" id="5360764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360767">return</span>&nbsp;<span class="ident" id="5360774">b</span><span class="op" id="5360775">.</span><span class="ident" id="5360776">String</span><span class="op" id="5360782">(</span><span class="op" id="5360783">)</span><br>
<span class="lineno"></span><span class="op" id="5360785">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="5360788">const</span>&nbsp;<span class="ident" id="5360794">meta</span>&nbsp;<span class="op" id="5360799">=</span>&nbsp;<span class="string" id="5360801">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5360819">func</span>&nbsp;<span class="ident" id="5360824">escape</span><span class="op" id="5360830">(</span><span class="ident" id="5360831">b</span>&nbsp;<span class="op" id="5360833">*</span><span class="ident" id="5360834">bytes</span><span class="op" id="5360839">.</span><span class="ident" id="5360840">Buffer</span><span class="op" id="5360846">,</span>&nbsp;<span class="ident" id="5360848">r</span>&nbsp;<span class="builtintype" id="5360850">rune</span><span class="op" id="5360854">,</span>&nbsp;<span class="ident" id="5360856">force</span>&nbsp;<span class="builtintype" id="5360862">bool</span><span class="op" id="5360866">)</span>&nbsp;<span class="op" id="5360868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360871">if</span>&nbsp;<span class="ident" id="5360874">unicode</span><span class="op" id="5360881">.</span><span class="ident" id="5360882">IsPrint</span><span class="op" id="5360889">(</span><span class="ident" id="5360890">r</span><span class="op" id="5360891">)</span>&nbsp;<span class="op" id="5360893">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360897">if</span>&nbsp;<span class="ident" id="5360900">strings</span><span class="op" id="5360907">.</span><span class="ident" id="5360908">IndexRune</span><span class="op" id="5360917">(</span><span class="ident" id="5360918">meta</span><span class="op" id="5360922">,</span>&nbsp;<span class="ident" id="5360924">r</span><span class="op" id="5360925">)</span>&nbsp;<span class="op" id="5360927">&gt;=</span>&nbsp;<span class="num" id="5360930">0</span>&nbsp;<span class="op" id="5360932">||</span>&nbsp;<span class="ident" id="5360935">force</span>&nbsp;<span class="op" id="5360941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360946">b</span><span class="op" id="5360947">.</span><span class="ident" id="5360948">WriteRune</span><span class="op" id="5360957">(</span><span class="string" id="5360958">&#39;\\&#39;</span><span class="op" id="5360962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5360970">b</span><span class="op" id="5360971">.</span><span class="ident" id="5360972">WriteRune</span><span class="op" id="5360981">(</span><span class="ident" id="5360982">r</span><span class="op" id="5360983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360987">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5360995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5360999">switch</span>&nbsp;<span class="ident" id="5361006">r</span>&nbsp;<span class="op" id="5361008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361011">case</span>&nbsp;<span class="string" id="5361016">&#39;\a&#39;</span><span class="op" id="5361020">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361024">b</span><span class="op" id="5361025">.</span><span class="ident" id="5361026">WriteString</span><span class="op" id="5361037">(</span><span class="string" id="5361038">`\a`</span><span class="op" id="5361042">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361045">case</span>&nbsp;<span class="string" id="5361050">&#39;\f&#39;</span><span class="op" id="5361054">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361058">b</span><span class="op" id="5361059">.</span><span class="ident" id="5361060">WriteString</span><span class="op" id="5361071">(</span><span class="string" id="5361072">`\f`</span><span class="op" id="5361076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361079">case</span>&nbsp;<span class="string" id="5361084">&#39;\n&#39;</span><span class="op" id="5361088">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361092">b</span><span class="op" id="5361093">.</span><span class="ident" id="5361094">WriteString</span><span class="op" id="5361105">(</span><span class="string" id="5361106">`\n`</span><span class="op" id="5361110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361113">case</span>&nbsp;<span class="string" id="5361118">&#39;\r&#39;</span><span class="op" id="5361122">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361126">b</span><span class="op" id="5361127">.</span><span class="ident" id="5361128">WriteString</span><span class="op" id="5361139">(</span><span class="string" id="5361140">`\r`</span><span class="op" id="5361144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361147">case</span>&nbsp;<span class="string" id="5361152">&#39;\t&#39;</span><span class="op" id="5361156">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361160">b</span><span class="op" id="5361161">.</span><span class="ident" id="5361162">WriteString</span><span class="op" id="5361173">(</span><span class="string" id="5361174">`\t`</span><span class="op" id="5361178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361181">case</span>&nbsp;<span class="string" id="5361186">&#39;\v&#39;</span><span class="op" id="5361190">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361194">b</span><span class="op" id="5361195">.</span><span class="ident" id="5361196">WriteString</span><span class="op" id="5361207">(</span><span class="string" id="5361208">`\v`</span><span class="op" id="5361212">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361215">default</span><span class="op" id="5361222">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361226">if</span>&nbsp;<span class="ident" id="5361229">r</span>&nbsp;<span class="op" id="5361231">&lt;</span>&nbsp;<span class="num" id="5361233">0x100</span>&nbsp;<span class="op" id="5361239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361244">b</span><span class="op" id="5361245">.</span><span class="ident" id="5361246">WriteString</span><span class="op" id="5361257">(</span><span class="string" id="5361258">`\x`</span><span class="op" id="5361262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361267">s</span>&nbsp;<span class="op" id="5361269">:=</span>&nbsp;<span class="ident" id="5361272">strconv</span><span class="op" id="5361279">.</span><span class="ident" id="5361280">FormatInt</span><span class="op" id="5361289">(</span><span class="ident" id="5361290">int64</span><span class="op" id="5361295">(</span><span class="ident" id="5361296">r</span><span class="op" id="5361297">)</span><span class="op" id="5361298">,</span>&nbsp;<span class="num" id="5361300">16</span><span class="op" id="5361302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361307">if</span>&nbsp;<span class="builtinfunc" id="5361310">len</span><span class="op" id="5361313">(</span><span class="ident" id="5361314">s</span><span class="op" id="5361315">)</span>&nbsp;<span class="op" id="5361317">==</span>&nbsp;<span class="num" id="5361320">1</span>&nbsp;<span class="op" id="5361322">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361328">b</span><span class="op" id="5361329">.</span><span class="ident" id="5361330">WriteRune</span><span class="op" id="5361339">(</span><span class="string" id="5361340">&#39;0&#39;</span><span class="op" id="5361343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5361348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361353">b</span><span class="op" id="5361354">.</span><span class="ident" id="5361355">WriteString</span><span class="op" id="5361366">(</span><span class="ident" id="5361367">s</span><span class="op" id="5361368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361373">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5361381">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361385">b</span><span class="op" id="5361386">.</span><span class="ident" id="5361387">WriteString</span><span class="op" id="5361398">(</span><span class="string" id="5361399">`\x{`</span><span class="op" id="5361404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361408">b</span><span class="op" id="5361409">.</span><span class="ident" id="5361410">WriteString</span><span class="op" id="5361421">(</span><span class="ident" id="5361422">strconv</span><span class="op" id="5361429">.</span><span class="ident" id="5361430">FormatInt</span><span class="op" id="5361439">(</span><span class="ident" id="5361440">int64</span><span class="op" id="5361445">(</span><span class="ident" id="5361446">r</span><span class="op" id="5361447">)</span><span class="op" id="5361448">,</span>&nbsp;<span class="num" id="5361450">16</span><span class="op" id="5361452">)</span><span class="op" id="5361453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361457">b</span><span class="op" id="5361458">.</span><span class="ident" id="5361459">WriteString</span><span class="op" id="5361470">(</span><span class="string" id="5361471">`}`</span><span class="op" id="5361474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5361477">}</span><br>
<span class="lineno"></span><span class="op" id="5361479">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5361482">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="5361544">func</span>&nbsp;<span class="op" id="5361549">(</span><span class="ident" id="5361550">re</span>&nbsp;<span class="op" id="5361553">*</span><span class="ident" id="5361554">Regexp</span><span class="op" id="5361560">)</span>&nbsp;<span class="ident" id="5361562">MaxCap</span><span class="op" id="5361568">(</span><span class="op" id="5361569">)</span>&nbsp;<span class="builtintype" id="5361571">int</span>&nbsp;<span class="op" id="5361575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361578">m</span>&nbsp;<span class="op" id="5361580">:=</span>&nbsp;<span class="num" id="5361583">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361586">if</span>&nbsp;<span class="ident" id="5361589">re</span><span class="op" id="5361591">.</span><span class="ident" id="5361592">Op</span>&nbsp;<span class="op" id="5361595">==</span>&nbsp;<span class="ident" id="5361598">OpCapture</span>&nbsp;<span class="op" id="5361608">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361612">m</span>&nbsp;<span class="op" id="5361614">=</span>&nbsp;<span class="ident" id="5361616">re</span><span class="op" id="5361618">.</span><span class="ident" id="5361619">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5361624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361627">for</span>&nbsp;<span class="ident" id="5361631">_</span><span class="op" id="5361632">,</span>&nbsp;<span class="ident" id="5361634">sub</span>&nbsp;<span class="op" id="5361638">:=</span>&nbsp;<span class="keyword" id="5361641">range</span>&nbsp;<span class="ident" id="5361647">re</span><span class="op" id="5361649">.</span><span class="ident" id="5361650">Sub</span>&nbsp;<span class="op" id="5361654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361658">if</span>&nbsp;<span class="ident" id="5361661">n</span>&nbsp;<span class="op" id="5361663">:=</span>&nbsp;<span class="ident" id="5361666">sub</span><span class="op" id="5361669">.</span><span class="ident" id="5361670">MaxCap</span><span class="op" id="5361676">(</span><span class="op" id="5361677">)</span><span class="op" id="5361678">;</span>&nbsp;<span class="ident" id="5361680">m</span>&nbsp;<span class="op" id="5361682">&lt;</span>&nbsp;<span class="ident" id="5361684">n</span>&nbsp;<span class="op" id="5361686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361691">m</span>&nbsp;<span class="op" id="5361693">=</span>&nbsp;<span class="ident" id="5361695">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5361699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5361702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361705">return</span>&nbsp;<span class="ident" id="5361712">m</span><br>
<span class="lineno"></span><span class="op" id="5361714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="5361717">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="5361785">func</span>&nbsp;<span class="op" id="5361790">(</span><span class="ident" id="5361791">re</span>&nbsp;<span class="op" id="5361794">*</span><span class="ident" id="5361795">Regexp</span><span class="op" id="5361801">)</span>&nbsp;<span class="ident" id="5361803">CapNames</span><span class="op" id="5361811">(</span><span class="op" id="5361812">)</span>&nbsp;<span class="op" id="5361814">[</span><span class="op" id="5361815">]</span><span class="builtintype" id="5361816">string</span>&nbsp;<span class="op" id="5361823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361826">names</span>&nbsp;<span class="op" id="5361832">:=</span>&nbsp;<span class="builtinfunc" id="5361835">make</span><span class="op" id="5361839">(</span><span class="op" id="5361840">[</span><span class="op" id="5361841">]</span><span class="builtintype" id="5361842">string</span><span class="op" id="5361848">,</span>&nbsp;<span class="ident" id="5361850">re</span><span class="op" id="5361852">.</span><span class="ident" id="5361853">MaxCap</span><span class="op" id="5361859">(</span><span class="op" id="5361860">)</span><span class="op" id="5361861">+</span><span class="num" id="5361862">1</span><span class="op" id="5361863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361866">re</span><span class="op" id="5361868">.</span><span class="ident" id="5361869">capNames</span><span class="op" id="5361877">(</span><span class="ident" id="5361878">names</span><span class="op" id="5361883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361886">return</span>&nbsp;<span class="ident" id="5361893">names</span><br>
<span class="lineno">310</span><span class="op" id="5361899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5361902">func</span>&nbsp;<span class="op" id="5361907">(</span><span class="ident" id="5361908">re</span>&nbsp;<span class="op" id="5361911">*</span><span class="ident" id="5361912">Regexp</span><span class="op" id="5361918">)</span>&nbsp;<span class="ident" id="5361920">capNames</span><span class="op" id="5361928">(</span><span class="ident" id="5361929">names</span>&nbsp;<span class="op" id="5361935">[</span><span class="op" id="5361936">]</span><span class="builtintype" id="5361937">string</span><span class="op" id="5361943">)</span>&nbsp;<span class="op" id="5361945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5361948">if</span>&nbsp;<span class="ident" id="5361951">re</span><span class="op" id="5361953">.</span><span class="ident" id="5361954">Op</span>&nbsp;<span class="op" id="5361957">==</span>&nbsp;<span class="ident" id="5361960">OpCapture</span>&nbsp;<span class="op" id="5361970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5361974">names</span><span class="op" id="5361979">[</span><span class="ident" id="5361980">re</span><span class="op" id="5361982">.</span><span class="ident" id="5361983">Cap</span><span class="op" id="5361986">]</span>&nbsp;<span class="op" id="5361988">=</span>&nbsp;<span class="ident" id="5361990">re</span><span class="op" id="5361992">.</span><span class="ident" id="5361993">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5361999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5362002">for</span>&nbsp;<span class="ident" id="5362006">_</span><span class="op" id="5362007">,</span>&nbsp;<span class="ident" id="5362009">sub</span>&nbsp;<span class="op" id="5362013">:=</span>&nbsp;<span class="keyword" id="5362016">range</span>&nbsp;<span class="ident" id="5362022">re</span><span class="op" id="5362024">.</span><span class="ident" id="5362025">Sub</span>&nbsp;<span class="op" id="5362029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5362033">sub</span><span class="op" id="5362036">.</span><span class="ident" id="5362037">capNames</span><span class="op" id="5362045">(</span><span class="ident" id="5362046">names</span><span class="op" id="5362051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5362054">}</span><br>
<span class="lineno"></span><span class="op" id="5362056">}</span>
</div>
</body>
</html>
