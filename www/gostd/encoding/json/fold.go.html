<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html" class="current">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3408320">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3408375">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3408429">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3408480">package</span>&nbsp;<span class="ident" id="3408488">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3408494">import</span>&nbsp;<span class="op" id="3408501">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3408504">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3408513">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3408528">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3408531">const</span>&nbsp;<span class="op" id="3408537">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3408540">caseMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3408553">=</span>&nbsp;<span class="op" id="3408555">^</span><span class="builtintype" id="3408556">byte</span><span class="op" id="3408560">(</span><span class="num" id="3408561">0x20</span><span class="op" id="3408565">)</span>&nbsp;<span class="comment" id="3408567">//&nbsp;Mask&nbsp;to&nbsp;ignore&nbsp;case&nbsp;in&nbsp;ASCII.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3408601">kelvin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3408614">=</span>&nbsp;<span class="string" id="3408616">&#39;\u212a&#39;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3408626">smallLongEss</span>&nbsp;<span class="op" id="3408639">=</span>&nbsp;<span class="string" id="3408641">&#39;\u017f&#39;</span><br>
<span class="lineno"></span><span class="op" id="3408650">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3408653">//&nbsp;foldFunc&nbsp;returns&nbsp;one&nbsp;of&nbsp;four&nbsp;different&nbsp;case&nbsp;folding&nbsp;equivalence</span><br>
<span class="lineno"></span><span class="comment" id="3408720">//&nbsp;functions,&nbsp;from&nbsp;most&nbsp;general&nbsp;(and&nbsp;slow)&nbsp;to&nbsp;fastest:</span><br>
<span class="lineno">20</span><span class="comment" id="3408775">//</span><br>
<span class="lineno"></span><span class="comment" id="3408778">//&nbsp;1)&nbsp;bytes.EqualFold,&nbsp;if&nbsp;the&nbsp;key&nbsp;s&nbsp;contains&nbsp;any&nbsp;non-ASCII&nbsp;UTF-8</span><br>
<span class="lineno"></span><span class="comment" id="3408843">//&nbsp;2)&nbsp;equalFoldRight,&nbsp;if&nbsp;s&nbsp;contains&nbsp;special&nbsp;folding&nbsp;ASCII&nbsp;(&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;&#39;S&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="3408922">//&nbsp;3)&nbsp;asciiEqualFold,&nbsp;no&nbsp;special,&nbsp;but&nbsp;includes&nbsp;non-letters&nbsp;(including&nbsp;_)</span><br>
<span class="lineno"></span><span class="comment" id="3408995">//&nbsp;4)&nbsp;simpleLetterEqualFold,&nbsp;no&nbsp;specials,&nbsp;no&nbsp;non-letters.</span><br>
<span class="lineno">25</span><span class="comment" id="3409053">//</span><br>
<span class="lineno"></span><span class="comment" id="3409056">//&nbsp;The&nbsp;letters&nbsp;S&nbsp;and&nbsp;K&nbsp;are&nbsp;special&nbsp;because&nbsp;they&nbsp;map&nbsp;to&nbsp;3&nbsp;runes,&nbsp;not&nbsp;just&nbsp;2:</span><br>
<span class="lineno"></span><span class="comment" id="3409132">//&nbsp;&nbsp;*&nbsp;S&nbsp;maps&nbsp;to&nbsp;s&nbsp;and&nbsp;to&nbsp;U+017F&nbsp;&#39;ſ&#39;&nbsp;Latin&nbsp;small&nbsp;letter&nbsp;long&nbsp;s</span><br>
<span class="lineno"></span><span class="comment" id="3409195">//&nbsp;&nbsp;*&nbsp;k&nbsp;maps&nbsp;to&nbsp;K&nbsp;and&nbsp;to&nbsp;U+212A&nbsp;&#39;K&#39;&nbsp;Kelvin&nbsp;sign</span><br>
<span class="lineno"></span><span class="comment" id="3409245">//&nbsp;See&nbsp;http://play.golang.org/p/tTxjOc0OGo</span><br>
<span class="lineno">30</span><span class="comment" id="3409288">//</span><br>
<span class="lineno"></span><span class="comment" id="3409291">//&nbsp;The&nbsp;returned&nbsp;function&nbsp;is&nbsp;specialized&nbsp;for&nbsp;matching&nbsp;against&nbsp;s&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3409358">//&nbsp;should&nbsp;only&nbsp;be&nbsp;given&nbsp;s.&nbsp;It&#39;s&nbsp;not&nbsp;curried&nbsp;for&nbsp;performance&nbsp;reasons.</span><br>
<span class="lineno"></span><span class="keyword" id="3409427">func</span>&nbsp;<span class="ident" id="3409432">foldFunc</span><span class="op" id="3409440">(</span><span class="ident" id="3409441">s</span>&nbsp;<span class="op" id="3409443">[</span><span class="op" id="3409444">]</span><span class="builtintype" id="3409445">byte</span><span class="op" id="3409449">)</span>&nbsp;<span class="keyword" id="3409451">func</span><span class="op" id="3409455">(</span><span class="ident" id="3409456">s</span><span class="op" id="3409457">,</span>&nbsp;<span class="ident" id="3409459">t</span>&nbsp;<span class="op" id="3409461">[</span><span class="op" id="3409462">]</span><span class="builtintype" id="3409463">byte</span><span class="op" id="3409467">)</span>&nbsp;<span class="builtintype" id="3409469">bool</span>&nbsp;<span class="op" id="3409474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3409477">nonLetter</span>&nbsp;<span class="op" id="3409487">:=</span>&nbsp;<span class="builtintype" id="3409490">false</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3409497">special</span>&nbsp;<span class="op" id="3409505">:=</span>&nbsp;<span class="builtintype" id="3409508">false</span>&nbsp;<span class="comment" id="3409514">//&nbsp;special&nbsp;letter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3409533">for</span>&nbsp;<span class="ident" id="3409537">_</span><span class="op" id="3409538">,</span>&nbsp;<span class="ident" id="3409540">b</span>&nbsp;<span class="op" id="3409542">:=</span>&nbsp;<span class="keyword" id="3409545">range</span>&nbsp;<span class="ident" id="3409551">s</span>&nbsp;<span class="op" id="3409553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3409557">if</span>&nbsp;<span class="ident" id="3409560">b</span>&nbsp;<span class="op" id="3409562">&gt;=</span>&nbsp;<span class="ident" id="3409565">utf8</span><span class="op" id="3409569">.</span><span class="ident" id="3409570">RuneSelf</span>&nbsp;<span class="op" id="3409579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3409584">return</span>&nbsp;<span class="ident" id="3409591">bytes</span><span class="op" id="3409596">.</span><span class="ident" id="3409597">EqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3409609">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3409613">upper</span>&nbsp;<span class="op" id="3409619">:=</span>&nbsp;<span class="ident" id="3409622">b</span>&nbsp;<span class="op" id="3409624">&amp;</span>&nbsp;<span class="ident" id="3409626">caseMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3409637">if</span>&nbsp;<span class="ident" id="3409640">upper</span>&nbsp;<span class="op" id="3409646">&lt;</span>&nbsp;<span class="string" id="3409648">&#39;A&#39;</span>&nbsp;<span class="op" id="3409652">||</span>&nbsp;<span class="ident" id="3409655">upper</span>&nbsp;<span class="op" id="3409661">&gt;</span>&nbsp;<span class="string" id="3409663">&#39;Z&#39;</span>&nbsp;<span class="op" id="3409667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3409672">nonLetter</span>&nbsp;<span class="op" id="3409682">=</span>&nbsp;<span class="builtintype" id="3409684">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3409691">}</span>&nbsp;<span class="keyword" id="3409693">else</span>&nbsp;<span class="keyword" id="3409698">if</span>&nbsp;<span class="ident" id="3409701">upper</span>&nbsp;<span class="op" id="3409707">==</span>&nbsp;<span class="string" id="3409710">&#39;K&#39;</span>&nbsp;<span class="op" id="3409714">||</span>&nbsp;<span class="ident" id="3409717">upper</span>&nbsp;<span class="op" id="3409723">==</span>&nbsp;<span class="string" id="3409726">&#39;S&#39;</span>&nbsp;<span class="op" id="3409730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3409735">//&nbsp;See&nbsp;above&nbsp;for&nbsp;why&nbsp;these&nbsp;letters&nbsp;are&nbsp;special.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3409786">special</span>&nbsp;<span class="op" id="3409794">=</span>&nbsp;<span class="builtintype" id="3409796">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3409803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3409806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3409809">if</span>&nbsp;<span class="ident" id="3409812">special</span>&nbsp;<span class="op" id="3409820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3409824">return</span>&nbsp;<span class="ident" id="3409831">equalFoldRight</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3409847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3409850">if</span>&nbsp;<span class="ident" id="3409853">nonLetter</span>&nbsp;<span class="op" id="3409863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3409867">return</span>&nbsp;<span class="ident" id="3409874">asciiEqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3409890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3409893">return</span>&nbsp;<span class="ident" id="3409900">simpleLetterEqualFold</span><br>
<span class="lineno">55</span><span class="op" id="3409922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3409925">//&nbsp;equalFoldRight&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;when&nbsp;s&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3409992">//&nbsp;known&nbsp;to&nbsp;be&nbsp;all&nbsp;ASCII&nbsp;(including&nbsp;punctuation),&nbsp;but&nbsp;contains&nbsp;an&nbsp;&#39;s&#39;,</span><br>
<span class="lineno"></span><span class="comment" id="3410063">//&nbsp;&#39;S&#39;,&nbsp;&#39;k&#39;,&nbsp;or&nbsp;&#39;K&#39;,&nbsp;requiring&nbsp;a&nbsp;Unicode&nbsp;fold&nbsp;on&nbsp;the&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno">60</span><span class="comment" id="3410128">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="3410157">func</span>&nbsp;<span class="ident" id="3410162">equalFoldRight</span><span class="op" id="3410176">(</span><span class="ident" id="3410177">s</span><span class="op" id="3410178">,</span>&nbsp;<span class="ident" id="3410180">t</span>&nbsp;<span class="op" id="3410182">[</span><span class="op" id="3410183">]</span><span class="builtintype" id="3410184">byte</span><span class="op" id="3410188">)</span>&nbsp;<span class="builtintype" id="3410190">bool</span>&nbsp;<span class="op" id="3410195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410198">for</span>&nbsp;<span class="ident" id="3410202">_</span><span class="op" id="3410203">,</span>&nbsp;<span class="ident" id="3410205">sb</span>&nbsp;<span class="op" id="3410208">:=</span>&nbsp;<span class="keyword" id="3410211">range</span>&nbsp;<span class="ident" id="3410217">s</span>&nbsp;<span class="op" id="3410219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410223">if</span>&nbsp;<span class="builtinfunc" id="3410226">len</span><span class="op" id="3410229">(</span><span class="ident" id="3410230">t</span><span class="op" id="3410231">)</span>&nbsp;<span class="op" id="3410233">==</span>&nbsp;<span class="num" id="3410236">0</span>&nbsp;<span class="op" id="3410238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410243">return</span>&nbsp;<span class="builtintype" id="3410250">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3410262">tb</span>&nbsp;<span class="op" id="3410265">:=</span>&nbsp;<span class="ident" id="3410268">t</span><span class="op" id="3410269">[</span><span class="num" id="3410270">0</span><span class="op" id="3410271">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410275">if</span>&nbsp;<span class="ident" id="3410278">tb</span>&nbsp;<span class="op" id="3410281">&lt;</span>&nbsp;<span class="ident" id="3410283">utf8</span><span class="op" id="3410287">.</span><span class="ident" id="3410288">RuneSelf</span>&nbsp;<span class="op" id="3410297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410302">if</span>&nbsp;<span class="ident" id="3410305">sb</span>&nbsp;<span class="op" id="3410308">!=</span>&nbsp;<span class="ident" id="3410311">tb</span>&nbsp;<span class="op" id="3410314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3410320">sbUpper</span>&nbsp;<span class="op" id="3410328">:=</span>&nbsp;<span class="ident" id="3410331">sb</span>&nbsp;<span class="op" id="3410334">&amp;</span>&nbsp;<span class="ident" id="3410336">caseMask</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410349">if</span>&nbsp;<span class="string" id="3410352">&#39;A&#39;</span>&nbsp;<span class="op" id="3410356">&lt;=</span>&nbsp;<span class="ident" id="3410359">sbUpper</span>&nbsp;<span class="op" id="3410367">&amp;&amp;</span>&nbsp;<span class="ident" id="3410370">sbUpper</span>&nbsp;<span class="op" id="3410378">&lt;=</span>&nbsp;<span class="string" id="3410381">&#39;Z&#39;</span>&nbsp;<span class="op" id="3410385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410392">if</span>&nbsp;<span class="ident" id="3410395">sbUpper</span>&nbsp;<span class="op" id="3410403">!=</span>&nbsp;<span class="ident" id="3410406">tb</span><span class="op" id="3410408">&amp;</span><span class="ident" id="3410409">caseMask</span>&nbsp;<span class="op" id="3410418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410426">return</span>&nbsp;<span class="builtintype" id="3410433">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410450">}</span>&nbsp;<span class="keyword" id="3410452">else</span>&nbsp;<span class="op" id="3410457">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410464">return</span>&nbsp;<span class="builtintype" id="3410471">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3410491">t</span>&nbsp;<span class="op" id="3410493">=</span>&nbsp;<span class="ident" id="3410495">t</span><span class="op" id="3410496">[</span><span class="num" id="3410497">1</span><span class="op" id="3410498">:</span><span class="op" id="3410499">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410504">continue</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3410519">//&nbsp;sb&nbsp;is&nbsp;ASCII&nbsp;and&nbsp;t&nbsp;is&nbsp;not.&nbsp;t&nbsp;must&nbsp;be&nbsp;either&nbsp;kelvin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3410574">//&nbsp;sign&nbsp;or&nbsp;long&nbsp;s;&nbsp;sb&nbsp;must&nbsp;be&nbsp;s,&nbsp;S,&nbsp;k,&nbsp;or&nbsp;K.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3410621">tr</span><span class="op" id="3410623">,</span>&nbsp;<span class="ident" id="3410625">size</span>&nbsp;<span class="op" id="3410630">:=</span>&nbsp;<span class="ident" id="3410633">utf8</span><span class="op" id="3410637">.</span><span class="ident" id="3410638">DecodeRune</span><span class="op" id="3410648">(</span><span class="ident" id="3410649">t</span><span class="op" id="3410650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410654">switch</span>&nbsp;<span class="ident" id="3410661">sb</span>&nbsp;<span class="op" id="3410664">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410668">case</span>&nbsp;<span class="string" id="3410673">&#39;s&#39;</span><span class="op" id="3410676">,</span>&nbsp;<span class="string" id="3410678">&#39;S&#39;</span><span class="op" id="3410681">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410686">if</span>&nbsp;<span class="ident" id="3410689">tr</span>&nbsp;<span class="op" id="3410692">!=</span>&nbsp;<span class="ident" id="3410695">smallLongEss</span>&nbsp;<span class="op" id="3410708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410714">return</span>&nbsp;<span class="builtintype" id="3410721">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410734">case</span>&nbsp;<span class="string" id="3410739">&#39;k&#39;</span><span class="op" id="3410742">,</span>&nbsp;<span class="string" id="3410744">&#39;K&#39;</span><span class="op" id="3410747">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410752">if</span>&nbsp;<span class="ident" id="3410755">tr</span>&nbsp;<span class="op" id="3410758">!=</span>&nbsp;<span class="ident" id="3410761">kelvin</span>&nbsp;<span class="op" id="3410768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410774">return</span>&nbsp;<span class="builtintype" id="3410781">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410794">default</span><span class="op" id="3410801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410806">return</span>&nbsp;<span class="builtintype" id="3410813">false</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3410825">t</span>&nbsp;<span class="op" id="3410827">=</span>&nbsp;<span class="ident" id="3410829">t</span><span class="op" id="3410830">[</span><span class="ident" id="3410831">size</span><span class="op" id="3410835">:</span><span class="op" id="3410836">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410843">if</span>&nbsp;<span class="builtinfunc" id="3410846">len</span><span class="op" id="3410849">(</span><span class="ident" id="3410850">t</span><span class="op" id="3410851">)</span>&nbsp;<span class="op" id="3410853">&gt;</span>&nbsp;<span class="num" id="3410855">0</span>&nbsp;<span class="op" id="3410857">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410861">return</span>&nbsp;<span class="builtintype" id="3410868">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3410875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3410878">return</span>&nbsp;<span class="builtintype" id="3410885">true</span><br>
<span class="lineno"></span><span class="op" id="3410890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3410893">//&nbsp;asciiEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for&nbsp;use&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="3410963">//&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;(but&nbsp;may&nbsp;contain&nbsp;non-letters)&nbsp;and&nbsp;contains&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="3411027">//&nbsp;special-folding&nbsp;letters.</span><br>
<span class="lineno"></span><span class="comment" id="3411055">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="3411084">func</span>&nbsp;<span class="ident" id="3411089">asciiEqualFold</span><span class="op" id="3411103">(</span><span class="ident" id="3411104">s</span><span class="op" id="3411105">,</span>&nbsp;<span class="ident" id="3411107">t</span>&nbsp;<span class="op" id="3411109">[</span><span class="op" id="3411110">]</span><span class="builtintype" id="3411111">byte</span><span class="op" id="3411115">)</span>&nbsp;<span class="builtintype" id="3411117">bool</span>&nbsp;<span class="op" id="3411122">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411125">if</span>&nbsp;<span class="builtinfunc" id="3411128">len</span><span class="op" id="3411131">(</span><span class="ident" id="3411132">s</span><span class="op" id="3411133">)</span>&nbsp;<span class="op" id="3411135">!=</span>&nbsp;<span class="builtinfunc" id="3411138">len</span><span class="op" id="3411141">(</span><span class="ident" id="3411142">t</span><span class="op" id="3411143">)</span>&nbsp;<span class="op" id="3411145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411149">return</span>&nbsp;<span class="builtintype" id="3411156">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3411163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411166">for</span>&nbsp;<span class="ident" id="3411170">i</span><span class="op" id="3411171">,</span>&nbsp;<span class="ident" id="3411173">sb</span>&nbsp;<span class="op" id="3411176">:=</span>&nbsp;<span class="keyword" id="3411179">range</span>&nbsp;<span class="ident" id="3411185">s</span>&nbsp;<span class="op" id="3411187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3411191">tb</span>&nbsp;<span class="op" id="3411194">:=</span>&nbsp;<span class="ident" id="3411197">t</span><span class="op" id="3411198">[</span><span class="ident" id="3411199">i</span><span class="op" id="3411200">]</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411204">if</span>&nbsp;<span class="ident" id="3411207">sb</span>&nbsp;<span class="op" id="3411210">==</span>&nbsp;<span class="ident" id="3411213">tb</span>&nbsp;<span class="op" id="3411216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411221">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3411232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411236">if</span>&nbsp;<span class="op" id="3411239">(</span><span class="string" id="3411240">&#39;a&#39;</span>&nbsp;<span class="op" id="3411244">&lt;=</span>&nbsp;<span class="ident" id="3411247">sb</span>&nbsp;<span class="op" id="3411250">&amp;&amp;</span>&nbsp;<span class="ident" id="3411253">sb</span>&nbsp;<span class="op" id="3411256">&lt;=</span>&nbsp;<span class="string" id="3411259">&#39;z&#39;</span><span class="op" id="3411262">)</span>&nbsp;<span class="op" id="3411264">||</span>&nbsp;<span class="op" id="3411267">(</span><span class="string" id="3411268">&#39;A&#39;</span>&nbsp;<span class="op" id="3411272">&lt;=</span>&nbsp;<span class="ident" id="3411275">sb</span>&nbsp;<span class="op" id="3411278">&amp;&amp;</span>&nbsp;<span class="ident" id="3411281">sb</span>&nbsp;<span class="op" id="3411284">&lt;=</span>&nbsp;<span class="string" id="3411287">&#39;Z&#39;</span><span class="op" id="3411290">)</span>&nbsp;<span class="op" id="3411292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411297">if</span>&nbsp;<span class="ident" id="3411300">sb</span><span class="op" id="3411302">&amp;</span><span class="ident" id="3411303">caseMask</span>&nbsp;<span class="op" id="3411312">!=</span>&nbsp;<span class="ident" id="3411315">tb</span><span class="op" id="3411317">&amp;</span><span class="ident" id="3411318">caseMask</span>&nbsp;<span class="op" id="3411327">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411333">return</span>&nbsp;<span class="builtintype" id="3411340">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3411349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3411353">}</span>&nbsp;<span class="keyword" id="3411355">else</span>&nbsp;<span class="op" id="3411360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411365">return</span>&nbsp;<span class="builtintype" id="3411372">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3411380">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3411383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411386">return</span>&nbsp;<span class="builtintype" id="3411393">true</span><br>
<span class="lineno"></span><span class="op" id="3411398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3411401">//&nbsp;simpleLetterEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for</span><br>
<span class="lineno">130</span><span class="comment" id="3411469">//&nbsp;use&nbsp;when&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;letters&nbsp;(no&nbsp;underscores,&nbsp;etc)&nbsp;and&nbsp;also</span><br>
<span class="lineno"></span><span class="comment" id="3411535">//&nbsp;doesn&#39;t&nbsp;contain&nbsp;&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;or&nbsp;&#39;S&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="3411577">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="3411606">func</span>&nbsp;<span class="ident" id="3411611">simpleLetterEqualFold</span><span class="op" id="3411632">(</span><span class="ident" id="3411633">s</span><span class="op" id="3411634">,</span>&nbsp;<span class="ident" id="3411636">t</span>&nbsp;<span class="op" id="3411638">[</span><span class="op" id="3411639">]</span><span class="builtintype" id="3411640">byte</span><span class="op" id="3411644">)</span>&nbsp;<span class="builtintype" id="3411646">bool</span>&nbsp;<span class="op" id="3411651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411654">if</span>&nbsp;<span class="builtinfunc" id="3411657">len</span><span class="op" id="3411660">(</span><span class="ident" id="3411661">s</span><span class="op" id="3411662">)</span>&nbsp;<span class="op" id="3411664">!=</span>&nbsp;<span class="builtinfunc" id="3411667">len</span><span class="op" id="3411670">(</span><span class="ident" id="3411671">t</span><span class="op" id="3411672">)</span>&nbsp;<span class="op" id="3411674">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411678">return</span>&nbsp;<span class="builtintype" id="3411685">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3411692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411695">for</span>&nbsp;<span class="ident" id="3411699">i</span><span class="op" id="3411700">,</span>&nbsp;<span class="ident" id="3411702">b</span>&nbsp;<span class="op" id="3411704">:=</span>&nbsp;<span class="keyword" id="3411707">range</span>&nbsp;<span class="ident" id="3411713">s</span>&nbsp;<span class="op" id="3411715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411719">if</span>&nbsp;<span class="ident" id="3411722">b</span><span class="op" id="3411723">&amp;</span><span class="ident" id="3411724">caseMask</span>&nbsp;<span class="op" id="3411733">!=</span>&nbsp;<span class="ident" id="3411736">t</span><span class="op" id="3411737">[</span><span class="ident" id="3411738">i</span><span class="op" id="3411739">]</span><span class="op" id="3411740">&amp;</span><span class="ident" id="3411741">caseMask</span>&nbsp;<span class="op" id="3411750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411755">return</span>&nbsp;<span class="builtintype" id="3411762">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3411770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3411773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3411776">return</span>&nbsp;<span class="builtintype" id="3411783">true</span><br>
<span class="lineno"></span><span class="op" id="3411788">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
