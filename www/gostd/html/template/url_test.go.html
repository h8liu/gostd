<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html" class="current">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6972313">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6972368">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6972422">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6972473">package</span>&nbsp;<span class="ident" id="6972481">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6972491">import</span>&nbsp;<span class="op" id="6972498">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6972501">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6972511">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6972514">func</span>&nbsp;<span class="ident" id="6972519">TestURLNormalizer</span><span class="op" id="6972536">(</span><span class="ident" id="6972537">t</span>&nbsp;<span class="op" id="6972539">*</span><span class="ident" id="6972540"><a href="/gostd/html/template/url_test.go.html#6972501">testing</a></span><span class="op" id="6972547">.</span><span class="ident" id="6972548"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6972549">)</span>&nbsp;<span class="op" id="6972551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6972554">tests</span>&nbsp;<span class="op" id="6972560">:=</span>&nbsp;<span class="op" id="6972563">[</span><span class="op" id="6972564">]</span><span class="keyword" id="6972565">struct</span>&nbsp;<span class="op" id="6972572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6972576">url</span><span class="op" id="6972579">,</span>&nbsp;<span class="ident" id="6972581">want</span>&nbsp;<span class="builtintype" id="6972586">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972594">}</span><span class="op" id="6972595">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972599">{</span><span class="string" id="6972600">&#34;&#34;</span><span class="op" id="6972602">,</span>&nbsp;<span class="string" id="6972604">&#34;&#34;</span><span class="op" id="6972606">}</span><span class="op" id="6972607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6972616">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="6972669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6972674">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="6972727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972731">}</span><span class="op" id="6972732">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972736">{</span><span class="string" id="6972737">&#34;&nbsp;&#34;</span><span class="op" id="6972740">,</span>&nbsp;<span class="string" id="6972742">&#34;%20&#34;</span><span class="op" id="6972747">}</span><span class="op" id="6972748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972752">{</span><span class="string" id="6972753">&#34;%7c&#34;</span><span class="op" id="6972758">,</span>&nbsp;<span class="string" id="6972760">&#34;%7c&#34;</span><span class="op" id="6972765">}</span><span class="op" id="6972766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972770">{</span><span class="string" id="6972771">&#34;%7C&#34;</span><span class="op" id="6972776">,</span>&nbsp;<span class="string" id="6972778">&#34;%7C&#34;</span><span class="op" id="6972783">}</span><span class="op" id="6972784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972788">{</span><span class="string" id="6972789">&#34;%2&#34;</span><span class="op" id="6972793">,</span>&nbsp;<span class="string" id="6972795">&#34;%252&#34;</span><span class="op" id="6972801">}</span><span class="op" id="6972802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972806">{</span><span class="string" id="6972807">&#34;%&#34;</span><span class="op" id="6972810">,</span>&nbsp;<span class="string" id="6972812">&#34;%25&#34;</span><span class="op" id="6972817">}</span><span class="op" id="6972818">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972822">{</span><span class="string" id="6972823">&#34;%z&#34;</span><span class="op" id="6972827">,</span>&nbsp;<span class="string" id="6972829">&#34;%25z&#34;</span><span class="op" id="6972835">}</span><span class="op" id="6972836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972840">{</span><span class="string" id="6972841">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="6972861">,</span>&nbsp;<span class="string" id="6972863">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="6972888">}</span><span class="op" id="6972889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6972892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6972895">for</span>&nbsp;<span class="ident" id="6972899">_</span><span class="op" id="6972900">,</span>&nbsp;<span class="ident" id="6972902">test</span>&nbsp;<span class="op" id="6972907">:=</span>&nbsp;<span class="keyword" id="6972910">range</span>&nbsp;<span class="ident" id="6972916"><a href="/gostd/html/template/url_test.go.html#6972554">tests</a></span>&nbsp;<span class="op" id="6972922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6972926">if</span>&nbsp;<span class="ident" id="6972929">got</span>&nbsp;<span class="op" id="6972933">:=</span>&nbsp;<span class="ident" id="6972936"><a href="/gostd/html/template/url.go.html#4974513">urlNormalizer</a></span><span class="op" id="6972949">(</span><span class="ident" id="6972950"><a href="/gostd/html/template/url_test.go.html#6972902">test</a></span><span class="op" id="6972954">.</span><span class="ident" id="6972955"><a href="/gostd/html/template/url_test.go.html#6972576">url</a></span><span class="op" id="6972958">)</span><span class="op" id="6972959">;</span>&nbsp;<span class="ident" id="6972961"><a href="/gostd/html/template/url_test.go.html#6972902">test</a></span><span class="op" id="6972965">.</span><span class="ident" id="6972966"><a href="/gostd/html/template/url_test.go.html#6972581">want</a></span>&nbsp;<span class="op" id="6972971">!=</span>&nbsp;<span class="ident" id="6972974"><a href="/gostd/html/template/url_test.go.html#6972929">got</a></span>&nbsp;<span class="op" id="6972978">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6972983"><a href="/gostd/html/template/url_test.go.html#6972537">t</a></span><span class="op" id="6972984">.</span><span class="ident" id="6972985"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6972991">(</span><span class="string" id="6972992">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="6973023">,</span>&nbsp;<span class="ident" id="6973025"><a href="/gostd/html/template/url_test.go.html#6972902">test</a></span><span class="op" id="6973029">.</span><span class="ident" id="6973030"><a href="/gostd/html/template/url_test.go.html#6972576">url</a></span><span class="op" id="6973033">,</span>&nbsp;<span class="ident" id="6973035"><a href="/gostd/html/template/url_test.go.html#6972902">test</a></span><span class="op" id="6973039">.</span><span class="ident" id="6973040"><a href="/gostd/html/template/url_test.go.html#6972581">want</a></span><span class="op" id="6973044">,</span>&nbsp;<span class="ident" id="6973046"><a href="/gostd/html/template/url_test.go.html#6972929">got</a></span><span class="op" id="6973049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6973053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6973057">if</span>&nbsp;<span class="ident" id="6973060"><a href="/gostd/html/template/url_test.go.html#6972902">test</a></span><span class="op" id="6973064">.</span><span class="ident" id="6973065"><a href="/gostd/html/template/url_test.go.html#6972581">want</a></span>&nbsp;<span class="op" id="6973070">!=</span>&nbsp;<span class="ident" id="6973073"><a href="/gostd/html/template/url.go.html#4974513">urlNormalizer</a></span><span class="op" id="6973086">(</span><span class="ident" id="6973087"><a href="/gostd/html/template/url_test.go.html#6972902">test</a></span><span class="op" id="6973091">.</span><span class="ident" id="6973092"><a href="/gostd/html/template/url_test.go.html#6972581">want</a></span><span class="op" id="6973096">)</span>&nbsp;<span class="op" id="6973098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6973103"><a href="/gostd/html/template/url_test.go.html#6972537">t</a></span><span class="op" id="6973104">.</span><span class="ident" id="6973105"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6973111">(</span><span class="string" id="6973112">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="6973132">,</span>&nbsp;<span class="ident" id="6973134"><a href="/gostd/html/template/url_test.go.html#6972902">test</a></span><span class="op" id="6973138">.</span><span class="ident" id="6973139"><a href="/gostd/html/template/url_test.go.html#6972581">want</a></span><span class="op" id="6973143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6973147">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6973150">}</span><br>
<span class="lineno"></span><span class="op" id="6973152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6973155">func</span>&nbsp;<span class="ident" id="6973160">TestURLFilters</span><span class="op" id="6973174">(</span><span class="ident" id="6973175">t</span>&nbsp;<span class="op" id="6973177">*</span><span class="ident" id="6973178"><a href="/gostd/html/template/url_test.go.html#6972501">testing</a></span><span class="op" id="6973185">.</span><span class="ident" id="6973186"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6973187">)</span>&nbsp;<span class="op" id="6973189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6973192">input</span>&nbsp;<span class="op" id="6973198">:=</span>&nbsp;<span class="op" id="6973201">(</span><span class="string" id="6973202">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="6973263">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973267">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="6973334">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973338">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="6973357">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973361">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="6973380">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973384">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="6973403">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973407">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="6973426">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973430">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="6973449">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973453">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="6973475">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973479">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="6973521">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6973525">tests</span>&nbsp;<span class="op" id="6973531">:=</span>&nbsp;<span class="op" id="6973534">[</span><span class="op" id="6973535">]</span><span class="keyword" id="6973536">struct</span>&nbsp;<span class="op" id="6973543">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6973547">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6973555">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6973564">escaper</span>&nbsp;<span class="keyword" id="6973572">func</span><span class="op" id="6973576">(</span><span class="op" id="6973577">...</span><span class="keyword" id="6973580">interface</span><span class="op" id="6973589">{</span><span class="op" id="6973590">}</span><span class="op" id="6973591">)</span>&nbsp;<span class="builtintype" id="6973593">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6973602">escaped</span>&nbsp;<span class="builtintype" id="6973610">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6973618">}</span><span class="op" id="6973619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6973623">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973628">&#34;urlEscaper&#34;</span><span class="op" id="6973640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6973645"><a href="/gostd/html/template/url.go.html#4974127">urlEscaper</a></span><span class="op" id="6973655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973660">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="6973711">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973717">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="6973768">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973774">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="6973821">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973827">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="6973858">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973864">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="6973885">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973891">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="6973918">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973924">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="6973945">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973951">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="6973978">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6973984">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="6974037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6974041">}</span><span class="op" id="6974042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6974046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974051">&#34;urlNormalizer&#34;</span><span class="op" id="6974066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6974071"><a href="/gostd/html/template/url.go.html#4974513">urlNormalizer</a></span><span class="op" id="6974084">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974089">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="6974140">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974146">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="6974197">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974203">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="6974234">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974240">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="6974263">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974269">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="6974288">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974294">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="6974317">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974323">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="6974344">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974350">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="6974377">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6974383">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="6974436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6974440">}</span><span class="op" id="6974441">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6974444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6974448">for</span>&nbsp;<span class="ident" id="6974452">_</span><span class="op" id="6974453">,</span>&nbsp;<span class="ident" id="6974455">test</span>&nbsp;<span class="op" id="6974460">:=</span>&nbsp;<span class="keyword" id="6974463">range</span>&nbsp;<span class="ident" id="6974469"><a href="/gostd/html/template/url_test.go.html#6973525">tests</a></span>&nbsp;<span class="op" id="6974475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6974479">if</span>&nbsp;<span class="ident" id="6974482">s</span>&nbsp;<span class="op" id="6974484">:=</span>&nbsp;<span class="ident" id="6974487"><a href="/gostd/html/template/url_test.go.html#6974455">test</a></span><span class="op" id="6974491">.</span><span class="ident" id="6974492"><a href="/gostd/html/template/url_test.go.html#6973564">escaper</a></span><span class="op" id="6974499">(</span><span class="ident" id="6974500"><a href="/gostd/html/template/url_test.go.html#6973192">input</a></span><span class="op" id="6974505">)</span><span class="op" id="6974506">;</span>&nbsp;<span class="ident" id="6974508"><a href="/gostd/html/template/url_test.go.html#6974482">s</a></span>&nbsp;<span class="op" id="6974510">!=</span>&nbsp;<span class="ident" id="6974513"><a href="/gostd/html/template/url_test.go.html#6974455">test</a></span><span class="op" id="6974517">.</span><span class="ident" id="6974518"><a href="/gostd/html/template/url_test.go.html#6973602">escaped</a></span>&nbsp;<span class="op" id="6974526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6974531"><a href="/gostd/html/template/url_test.go.html#6973175">t</a></span><span class="op" id="6974532">.</span><span class="ident" id="6974533"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6974539">(</span><span class="string" id="6974540">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="6974567">,</span>&nbsp;<span class="ident" id="6974569"><a href="/gostd/html/template/url_test.go.html#6974455">test</a></span><span class="op" id="6974573">.</span><span class="ident" id="6974574"><a href="/gostd/html/template/url_test.go.html#6973547">name</a></span><span class="op" id="6974578">,</span>&nbsp;<span class="ident" id="6974580"><a href="/gostd/html/template/url_test.go.html#6974455">test</a></span><span class="op" id="6974584">.</span><span class="ident" id="6974585"><a href="/gostd/html/template/url_test.go.html#6973602">escaped</a></span><span class="op" id="6974592">,</span>&nbsp;<span class="ident" id="6974594"><a href="/gostd/html/template/url_test.go.html#6974482">s</a></span><span class="op" id="6974595">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6974600">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6974611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6974614">}</span><br>
<span class="lineno"></span><span class="op" id="6974616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6974619">func</span>&nbsp;<span class="ident" id="6974624">BenchmarkURLEscaper</span><span class="op" id="6974643">(</span><span class="ident" id="6974644">b</span>&nbsp;<span class="op" id="6974646">*</span><span class="ident" id="6974647"><a href="/gostd/html/template/url_test.go.html#6972501">testing</a></span><span class="op" id="6974654">.</span><span class="ident" id="6974655"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="6974656">)</span>&nbsp;<span class="op" id="6974658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6974661">for</span>&nbsp;<span class="ident" id="6974665">i</span>&nbsp;<span class="op" id="6974667">:=</span>&nbsp;<span class="num" id="6974670">0</span><span class="op" id="6974671">;</span>&nbsp;<span class="ident" id="6974673"><a href="/gostd/html/template/url_test.go.html#6974665">i</a></span>&nbsp;<span class="op" id="6974675">&lt;</span>&nbsp;<span class="ident" id="6974677"><a href="/gostd/html/template/url_test.go.html#6974644">b</a></span><span class="op" id="6974678">.</span><span class="ident" id="6974679"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="6974680">;</span>&nbsp;<span class="ident" id="6974682"><a href="/gostd/html/template/url_test.go.html#6974665">i</a></span><span class="op" id="6974683">++</span>&nbsp;<span class="op" id="6974686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6974690"><a href="/gostd/html/template/url.go.html#4974127">urlEscaper</a></span><span class="op" id="6974700">(</span><span class="string" id="6974701">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="6974750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6974753">}</span><br>
<span class="lineno"></span><span class="op" id="6974755">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="6974758">func</span>&nbsp;<span class="ident" id="6974763">BenchmarkURLEscaperNoSpecials</span><span class="op" id="6974792">(</span><span class="ident" id="6974793">b</span>&nbsp;<span class="op" id="6974795">*</span><span class="ident" id="6974796"><a href="/gostd/html/template/url_test.go.html#6972501">testing</a></span><span class="op" id="6974803">.</span><span class="ident" id="6974804"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="6974805">)</span>&nbsp;<span class="op" id="6974807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6974810">for</span>&nbsp;<span class="ident" id="6974814">i</span>&nbsp;<span class="op" id="6974816">:=</span>&nbsp;<span class="num" id="6974819">0</span><span class="op" id="6974820">;</span>&nbsp;<span class="ident" id="6974822"><a href="/gostd/html/template/url_test.go.html#6974814">i</a></span>&nbsp;<span class="op" id="6974824">&lt;</span>&nbsp;<span class="ident" id="6974826"><a href="/gostd/html/template/url_test.go.html#6974793">b</a></span><span class="op" id="6974827">.</span><span class="ident" id="6974828"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="6974829">;</span>&nbsp;<span class="ident" id="6974831"><a href="/gostd/html/template/url_test.go.html#6974814">i</a></span><span class="op" id="6974832">++</span>&nbsp;<span class="op" id="6974835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6974839"><a href="/gostd/html/template/url.go.html#4974127">urlEscaper</a></span><span class="op" id="6974849">(</span><span class="string" id="6974850">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="6974888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6974891">}</span><br>
<span class="lineno">100</span><span class="op" id="6974893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6974896">func</span>&nbsp;<span class="ident" id="6974901">BenchmarkURLNormalizer</span><span class="op" id="6974923">(</span><span class="ident" id="6974924">b</span>&nbsp;<span class="op" id="6974926">*</span><span class="ident" id="6974927"><a href="/gostd/html/template/url_test.go.html#6972501">testing</a></span><span class="op" id="6974934">.</span><span class="ident" id="6974935"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="6974936">)</span>&nbsp;<span class="op" id="6974938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6974941">for</span>&nbsp;<span class="ident" id="6974945">i</span>&nbsp;<span class="op" id="6974947">:=</span>&nbsp;<span class="num" id="6974950">0</span><span class="op" id="6974951">;</span>&nbsp;<span class="ident" id="6974953"><a href="/gostd/html/template/url_test.go.html#6974945">i</a></span>&nbsp;<span class="op" id="6974955">&lt;</span>&nbsp;<span class="ident" id="6974957"><a href="/gostd/html/template/url_test.go.html#6974924">b</a></span><span class="op" id="6974958">.</span><span class="ident" id="6974959"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="6974960">;</span>&nbsp;<span class="ident" id="6974962"><a href="/gostd/html/template/url_test.go.html#6974945">i</a></span><span class="op" id="6974963">++</span>&nbsp;<span class="op" id="6974966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6974970"><a href="/gostd/html/template/url.go.html#4974513">urlNormalizer</a></span><span class="op" id="6974983">(</span><span class="string" id="6974984">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="6975032">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6975035">}</span><br>
<span class="lineno"></span><span class="op" id="6975037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6975040">func</span>&nbsp;<span class="ident" id="6975045">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="6975077">(</span><span class="ident" id="6975078">b</span>&nbsp;<span class="op" id="6975080">*</span><span class="ident" id="6975081"><a href="/gostd/html/template/url_test.go.html#6972501">testing</a></span><span class="op" id="6975088">.</span><span class="ident" id="6975089"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="6975090">)</span>&nbsp;<span class="op" id="6975092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6975095">for</span>&nbsp;<span class="ident" id="6975099">i</span>&nbsp;<span class="op" id="6975101">:=</span>&nbsp;<span class="num" id="6975104">0</span><span class="op" id="6975105">;</span>&nbsp;<span class="ident" id="6975107"><a href="/gostd/html/template/url_test.go.html#6975099">i</a></span>&nbsp;<span class="op" id="6975109">&lt;</span>&nbsp;<span class="ident" id="6975111"><a href="/gostd/html/template/url_test.go.html#6975078">b</a></span><span class="op" id="6975112">.</span><span class="ident" id="6975113"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="6975114">;</span>&nbsp;<span class="ident" id="6975116"><a href="/gostd/html/template/url_test.go.html#6975099">i</a></span><span class="op" id="6975117">++</span>&nbsp;<span class="op" id="6975120">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6975124"><a href="/gostd/html/template/url.go.html#4974513">urlNormalizer</a></span><span class="op" id="6975137">(</span><span class="string" id="6975138">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="6975187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6975190">}</span><br>
<span class="lineno"></span><span class="op" id="6975192">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
