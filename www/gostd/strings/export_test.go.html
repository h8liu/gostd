<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strings</h2>
<ul>
<li><a href="/gostd/strings/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/strings/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/strings/reader.go.html">reader.go</a></li>
<li><a href="/gostd/strings/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/strings/replace.go.html">replace.go</a></li>
<li><a href="/gostd/strings/replace_test.go.html">replace_test.go</a></li>
<li><a href="/gostd/strings/search.go.html">search.go</a></li>
<li><a href="/gostd/strings/search_test.go.html">search_test.go</a></li>
<li><a href="/gostd/strings/strings.go.html">strings.go</a></li>
<li><a href="/gostd/strings/strings_decl.go.html">strings_decl.go</a></li>
<li><a href="/gostd/strings/strings_test.go.html">strings_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7935937">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7935992">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7936046">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7936097">package</span>&nbsp;<span class="ident" id="7936105">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7936114">func</span>&nbsp;<span class="op" id="7936119">(</span><span class="ident" id="7936120">r</span>&nbsp;<span class="op" id="7936122">*</span><span class="ident" id="7936123">Replacer</span><span class="op" id="7936131">)</span>&nbsp;<span class="ident" id="7936133">Replacer</span><span class="op" id="7936141">(</span><span class="op" id="7936142">)</span>&nbsp;<span class="keyword" id="7936144">interface</span><span class="op" id="7936153">{</span><span class="op" id="7936154">}</span>&nbsp;<span class="op" id="7936156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7936159">return</span>&nbsp;<span class="ident" id="7936166">r</span><span class="op" id="7936167">.</span><span class="ident" id="7936168">r</span><br>
<span class="lineno"></span><span class="op" id="7936170">}</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7936173">func</span>&nbsp;<span class="op" id="7936178">(</span><span class="ident" id="7936179">r</span>&nbsp;<span class="op" id="7936181">*</span><span class="ident" id="7936182">Replacer</span><span class="op" id="7936190">)</span>&nbsp;<span class="ident" id="7936192">PrintTrie</span><span class="op" id="7936201">(</span><span class="op" id="7936202">)</span>&nbsp;<span class="builtintype" id="7936204">string</span>&nbsp;<span class="op" id="7936211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7936214">gen</span>&nbsp;<span class="op" id="7936218">:=</span>&nbsp;<span class="ident" id="7936221">r</span><span class="op" id="7936222">.</span><span class="ident" id="7936223">r</span><span class="op" id="7936224">.</span><span class="op" id="7936225">(</span><span class="op" id="7936226">*</span><span class="ident" id="7936227">genericReplacer</span><span class="op" id="7936242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7936245">return</span>&nbsp;<span class="ident" id="7936252">gen</span><span class="op" id="7936255">.</span><span class="ident" id="7936256">printNode</span><span class="op" id="7936265">(</span><span class="op" id="7936266">&amp;</span><span class="ident" id="7936267">gen</span><span class="op" id="7936270">.</span><span class="ident" id="7936271">root</span><span class="op" id="7936275">,</span>&nbsp;<span class="num" id="7936277">0</span><span class="op" id="7936278">)</span><br>
<span class="lineno"></span><span class="op" id="7936280">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7936283">func</span>&nbsp;<span class="op" id="7936288">(</span><span class="ident" id="7936289">r</span>&nbsp;<span class="op" id="7936291">*</span><span class="ident" id="7936292">genericReplacer</span><span class="op" id="7936307">)</span>&nbsp;<span class="ident" id="7936309">printNode</span><span class="op" id="7936318">(</span><span class="ident" id="7936319">t</span>&nbsp;<span class="op" id="7936321">*</span><span class="ident" id="7936322">trieNode</span><span class="op" id="7936330">,</span>&nbsp;<span class="ident" id="7936332">depth</span>&nbsp;<span class="builtintype" id="7936338">int</span><span class="op" id="7936341">)</span>&nbsp;<span class="op" id="7936343">(</span><span class="ident" id="7936344">s</span>&nbsp;<span class="builtintype" id="7936346">string</span><span class="op" id="7936352">)</span>&nbsp;<span class="op" id="7936354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7936357">if</span>&nbsp;<span class="ident" id="7936360">t</span><span class="op" id="7936361">.</span><span class="ident" id="7936362">priority</span>&nbsp;<span class="op" id="7936371">&gt;</span>&nbsp;<span class="num" id="7936373">0</span>&nbsp;<span class="op" id="7936375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7936379">s</span>&nbsp;<span class="op" id="7936381">+=</span>&nbsp;<span class="string" id="7936384">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7936389">}</span>&nbsp;<span class="keyword" id="7936391">else</span>&nbsp;<span class="op" id="7936396">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7936400">s</span>&nbsp;<span class="op" id="7936402">+=</span>&nbsp;<span class="string" id="7936405">&#34;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7936410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7936413">s</span>&nbsp;<span class="op" id="7936415">+=</span>&nbsp;<span class="string" id="7936418">&#34;\n&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7936425">if</span>&nbsp;<span class="ident" id="7936428">t</span><span class="op" id="7936429">.</span><span class="ident" id="7936430">prefix</span>&nbsp;<span class="op" id="7936437">!=</span>&nbsp;<span class="string" id="7936440">&#34;&#34;</span>&nbsp;<span class="op" id="7936443">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7936447">s</span>&nbsp;<span class="op" id="7936449">+=</span>&nbsp;<span class="ident" id="7936452">Repeat</span><span class="op" id="7936458">(</span><span class="string" id="7936459">&#34;.&#34;</span><span class="op" id="7936462">,</span>&nbsp;<span class="ident" id="7936464">depth</span><span class="op" id="7936469">)</span>&nbsp;<span class="op" id="7936471">+</span>&nbsp;<span class="ident" id="7936473">t</span><span class="op" id="7936474">.</span><span class="ident" id="7936475">prefix</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7936484">s</span>&nbsp;<span class="op" id="7936486">+=</span>&nbsp;<span class="ident" id="7936489">r</span><span class="op" id="7936490">.</span><span class="ident" id="7936491">printNode</span><span class="op" id="7936500">(</span><span class="ident" id="7936501">t</span><span class="op" id="7936502">.</span><span class="ident" id="7936503">next</span><span class="op" id="7936507">,</span>&nbsp;<span class="ident" id="7936509">depth</span><span class="op" id="7936514">+</span><span class="builtinfunc" id="7936515">len</span><span class="op" id="7936518">(</span><span class="ident" id="7936519">t</span><span class="op" id="7936520">.</span><span class="ident" id="7936521">prefix</span><span class="op" id="7936527">)</span><span class="op" id="7936528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7936531">}</span>&nbsp;<span class="keyword" id="7936533">else</span>&nbsp;<span class="keyword" id="7936538">if</span>&nbsp;<span class="ident" id="7936541">t</span><span class="op" id="7936542">.</span><span class="ident" id="7936543">table</span>&nbsp;<span class="op" id="7936549">!=</span>&nbsp;<span class="builtintype" id="7936552">nil</span>&nbsp;<span class="op" id="7936556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7936560">for</span>&nbsp;<span class="ident" id="7936564">b</span><span class="op" id="7936565">,</span>&nbsp;<span class="ident" id="7936567">m</span>&nbsp;<span class="op" id="7936569">:=</span>&nbsp;<span class="keyword" id="7936572">range</span>&nbsp;<span class="ident" id="7936578">r</span><span class="op" id="7936579">.</span><span class="ident" id="7936580">mapping</span>&nbsp;<span class="op" id="7936588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7936593">if</span>&nbsp;<span class="builtintype" id="7936596">int</span><span class="op" id="7936599">(</span><span class="ident" id="7936600">m</span><span class="op" id="7936601">)</span>&nbsp;<span class="op" id="7936603">!=</span>&nbsp;<span class="ident" id="7936606">r</span><span class="op" id="7936607">.</span><span class="ident" id="7936608">tableSize</span>&nbsp;<span class="op" id="7936618">&amp;&amp;</span>&nbsp;<span class="ident" id="7936621">t</span><span class="op" id="7936622">.</span><span class="ident" id="7936623">table</span><span class="op" id="7936628">[</span><span class="ident" id="7936629">m</span><span class="op" id="7936630">]</span>&nbsp;<span class="op" id="7936632">!=</span>&nbsp;<span class="builtintype" id="7936635">nil</span>&nbsp;<span class="op" id="7936639">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7936645">s</span>&nbsp;<span class="op" id="7936647">+=</span>&nbsp;<span class="ident" id="7936650">Repeat</span><span class="op" id="7936656">(</span><span class="string" id="7936657">&#34;.&#34;</span><span class="op" id="7936660">,</span>&nbsp;<span class="ident" id="7936662">depth</span><span class="op" id="7936667">)</span>&nbsp;<span class="op" id="7936669">+</span>&nbsp;<span class="builtintype" id="7936671">string</span><span class="op" id="7936677">(</span><span class="op" id="7936678">[</span><span class="op" id="7936679">]</span><span class="builtintype" id="7936680">byte</span><span class="op" id="7936684">{</span><span class="builtintype" id="7936685">byte</span><span class="op" id="7936689">(</span><span class="ident" id="7936690">b</span><span class="op" id="7936691">)</span><span class="op" id="7936692">}</span><span class="op" id="7936693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7936699">s</span>&nbsp;<span class="op" id="7936701">+=</span>&nbsp;<span class="ident" id="7936704">r</span><span class="op" id="7936705">.</span><span class="ident" id="7936706">printNode</span><span class="op" id="7936715">(</span><span class="ident" id="7936716">t</span><span class="op" id="7936717">.</span><span class="ident" id="7936718">table</span><span class="op" id="7936723">[</span><span class="ident" id="7936724">m</span><span class="op" id="7936725">]</span><span class="op" id="7936726">,</span>&nbsp;<span class="ident" id="7936728">depth</span><span class="op" id="7936733">+</span><span class="num" id="7936734">1</span><span class="op" id="7936735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7936740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7936744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7936747">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7936750">return</span><br>
<span class="lineno"></span><span class="op" id="7936757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7936760">func</span>&nbsp;<span class="ident" id="7936765">StringFind</span><span class="op" id="7936775">(</span><span class="ident" id="7936776">pattern</span><span class="op" id="7936783">,</span>&nbsp;<span class="ident" id="7936785">text</span>&nbsp;<span class="builtintype" id="7936790">string</span><span class="op" id="7936796">)</span>&nbsp;<span class="builtintype" id="7936798">int</span>&nbsp;<span class="op" id="7936802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7936805">return</span>&nbsp;<span class="ident" id="7936812">makeStringFinder</span><span class="op" id="7936828">(</span><span class="ident" id="7936829">pattern</span><span class="op" id="7936836">)</span><span class="op" id="7936837">.</span><span class="ident" id="7936838">next</span><span class="op" id="7936842">(</span><span class="ident" id="7936843">text</span><span class="op" id="7936847">)</span><br>
<span class="lineno">40</span><span class="op" id="7936849">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7936852">func</span>&nbsp;<span class="ident" id="7936857">DumpTables</span><span class="op" id="7936867">(</span><span class="ident" id="7936868">pattern</span>&nbsp;<span class="builtintype" id="7936876">string</span><span class="op" id="7936882">)</span>&nbsp;<span class="op" id="7936884">(</span><span class="op" id="7936885">[</span><span class="op" id="7936886">]</span><span class="builtintype" id="7936887">int</span><span class="op" id="7936890">,</span>&nbsp;<span class="op" id="7936892">[</span><span class="op" id="7936893">]</span><span class="builtintype" id="7936894">int</span><span class="op" id="7936897">)</span>&nbsp;<span class="op" id="7936899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7936902">finder</span>&nbsp;<span class="op" id="7936909">:=</span>&nbsp;<span class="ident" id="7936912">makeStringFinder</span><span class="op" id="7936928">(</span><span class="ident" id="7936929">pattern</span><span class="op" id="7936936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7936939">return</span>&nbsp;<span class="ident" id="7936946">finder</span><span class="op" id="7936952">.</span><span class="ident" id="7936953">badCharSkip</span><span class="op" id="7936964">[</span><span class="op" id="7936965">:</span><span class="op" id="7936966">]</span><span class="op" id="7936967">,</span>&nbsp;<span class="ident" id="7936969">finder</span><span class="op" id="7936975">.</span><span class="ident" id="7936976">goodSuffixSkip</span><br>
<span class="lineno">45</span><span class="op" id="7936991">}</span>
</div>
</body>
</html>
