<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2072948">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2073003">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2073057">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2073108">package</span>&nbsp;<span class="ident" id="2073116">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2073122">//&nbsp;Nextafter32&nbsp;returns&nbsp;the&nbsp;next&nbsp;representable&nbsp;float32&nbsp;value&nbsp;after&nbsp;x&nbsp;towards&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="2073201">//&nbsp;Special&nbsp;cases:</span><br>
<span class="lineno"></span><span class="comment" id="2073219">//&nbsp;&nbsp;&nbsp;&nbspNextafter32(x,&nbsp;x)&nbsp;&nbsp;&nbsp;=&nbsp;x</span><br>
<span class="lineno">10</span><span class="comment" id="2073246">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter32(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2073280">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter32(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="2073314">func</span>&nbsp;<span class="ident" id="2073319">Nextafter32</span><span class="op" id="2073330">(</span><span class="ident" id="2073331">x</span><span class="op" id="2073332">,</span>&nbsp;<span class="ident" id="2073334">y</span>&nbsp;<span class="builtintype" id="2073336">float32</span><span class="op" id="2073343">)</span>&nbsp;<span class="op" id="2073345">(</span><span class="ident" id="2073346">r</span>&nbsp;<span class="builtintype" id="2073348">float32</span><span class="op" id="2073355">)</span>&nbsp;<span class="op" id="2073357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073360">switch</span>&nbsp;<span class="op" id="2073367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073370">case</span>&nbsp;<span class="ident" id="2073375">IsNaN</span><span class="op" id="2073380">(</span><span class="builtintype" id="2073381">float64</span><span class="op" id="2073388">(</span><span class="ident" id="2073389">x</span><span class="op" id="2073390">)</span><span class="op" id="2073391">)</span>&nbsp;<span class="op" id="2073393">||</span>&nbsp;<span class="ident" id="2073396">IsNaN</span><span class="op" id="2073401">(</span><span class="builtintype" id="2073402">float64</span><span class="op" id="2073409">(</span><span class="ident" id="2073410">y</span><span class="op" id="2073411">)</span><span class="op" id="2073412">)</span><span class="op" id="2073413">:</span>&nbsp;<span class="comment" id="2073415">//&nbsp;special&nbsp;case</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2073433">r</span>&nbsp;<span class="op" id="2073435">=</span>&nbsp;<span class="builtintype" id="2073437">float32</span><span class="op" id="2073444">(</span><span class="ident" id="2073445">NaN</span><span class="op" id="2073448">(</span><span class="op" id="2073449">)</span><span class="op" id="2073450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073453">case</span>&nbsp;<span class="ident" id="2073458">x</span>&nbsp;<span class="op" id="2073460">==</span>&nbsp;<span class="ident" id="2073463">y</span><span class="op" id="2073464">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2073468">r</span>&nbsp;<span class="op" id="2073470">=</span>&nbsp;<span class="ident" id="2073472">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073475">case</span>&nbsp;<span class="ident" id="2073480">x</span>&nbsp;<span class="op" id="2073482">==</span>&nbsp;<span class="num" id="2073485">0</span><span class="op" id="2073486">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2073490">r</span>&nbsp;<span class="op" id="2073492">=</span>&nbsp;<span class="builtintype" id="2073494">float32</span><span class="op" id="2073501">(</span><span class="ident" id="2073502">Copysign</span><span class="op" id="2073510">(</span><span class="builtintype" id="2073511">float64</span><span class="op" id="2073518">(</span><span class="ident" id="2073519">Float32frombits</span><span class="op" id="2073534">(</span><span class="num" id="2073535">1</span><span class="op" id="2073536">)</span><span class="op" id="2073537">)</span><span class="op" id="2073538">,</span>&nbsp;<span class="builtintype" id="2073540">float64</span><span class="op" id="2073547">(</span><span class="ident" id="2073548">y</span><span class="op" id="2073549">)</span><span class="op" id="2073550">)</span><span class="op" id="2073551">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073554">case</span>&nbsp;<span class="op" id="2073559">(</span><span class="ident" id="2073560">y</span>&nbsp;<span class="op" id="2073562">&gt;</span>&nbsp;<span class="ident" id="2073564">x</span><span class="op" id="2073565">)</span>&nbsp;<span class="op" id="2073567">==</span>&nbsp;<span class="op" id="2073570">(</span><span class="ident" id="2073571">x</span>&nbsp;<span class="op" id="2073573">&gt;</span>&nbsp;<span class="num" id="2073575">0</span><span class="op" id="2073576">)</span><span class="op" id="2073577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2073581">r</span>&nbsp;<span class="op" id="2073583">=</span>&nbsp;<span class="ident" id="2073585">Float32frombits</span><span class="op" id="2073600">(</span><span class="ident" id="2073601">Float32bits</span><span class="op" id="2073612">(</span><span class="ident" id="2073613">x</span><span class="op" id="2073614">)</span>&nbsp;<span class="op" id="2073616">+</span>&nbsp;<span class="num" id="2073618">1</span><span class="op" id="2073619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073622">default</span><span class="op" id="2073629">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2073633">r</span>&nbsp;<span class="op" id="2073635">=</span>&nbsp;<span class="ident" id="2073637">Float32frombits</span><span class="op" id="2073652">(</span><span class="ident" id="2073653">Float32bits</span><span class="op" id="2073664">(</span><span class="ident" id="2073665">x</span><span class="op" id="2073666">)</span>&nbsp;<span class="op" id="2073668">-</span>&nbsp;<span class="num" id="2073670">1</span><span class="op" id="2073671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2073674">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073677">return</span><br>
<span class="lineno"></span><span class="op" id="2073684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2073687">//&nbsp;Nextafter&nbsp;returns&nbsp;the&nbsp;next&nbsp;representable&nbsp;float64&nbsp;value&nbsp;after&nbsp;x&nbsp;towards&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="2073764">//&nbsp;Special&nbsp;cases:</span><br>
<span class="lineno">30</span><span class="comment" id="2073782">//&nbsp;&nbsp;&nbsp;&nbspNextafter64(x,&nbsp;x)&nbsp;&nbsp;&nbsp;=&nbsp;x</span><br>
<span class="lineno"></span><span class="comment" id="2073809">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter64(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2073843">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter64(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="2073877">func</span>&nbsp;<span class="ident" id="2073882">Nextafter</span><span class="op" id="2073891">(</span><span class="ident" id="2073892">x</span><span class="op" id="2073893">,</span>&nbsp;<span class="ident" id="2073895">y</span>&nbsp;<span class="builtintype" id="2073897">float64</span><span class="op" id="2073904">)</span>&nbsp;<span class="op" id="2073906">(</span><span class="ident" id="2073907">r</span>&nbsp;<span class="builtintype" id="2073909">float64</span><span class="op" id="2073916">)</span>&nbsp;<span class="op" id="2073918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073921">switch</span>&nbsp;<span class="op" id="2073928">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073931">case</span>&nbsp;<span class="ident" id="2073936">IsNaN</span><span class="op" id="2073941">(</span><span class="ident" id="2073942">x</span><span class="op" id="2073943">)</span>&nbsp;<span class="op" id="2073945">||</span>&nbsp;<span class="ident" id="2073948">IsNaN</span><span class="op" id="2073953">(</span><span class="ident" id="2073954">y</span><span class="op" id="2073955">)</span><span class="op" id="2073956">:</span>&nbsp;<span class="comment" id="2073958">//&nbsp;special&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2073976">r</span>&nbsp;<span class="op" id="2073978">=</span>&nbsp;<span class="ident" id="2073980">NaN</span><span class="op" id="2073983">(</span><span class="op" id="2073984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2073987">case</span>&nbsp;<span class="ident" id="2073992">x</span>&nbsp;<span class="op" id="2073994">==</span>&nbsp;<span class="ident" id="2073997">y</span><span class="op" id="2073998">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2074002">r</span>&nbsp;<span class="op" id="2074004">=</span>&nbsp;<span class="ident" id="2074006">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2074009">case</span>&nbsp;<span class="ident" id="2074014">x</span>&nbsp;<span class="op" id="2074016">==</span>&nbsp;<span class="num" id="2074019">0</span><span class="op" id="2074020">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2074024">r</span>&nbsp;<span class="op" id="2074026">=</span>&nbsp;<span class="ident" id="2074028">Copysign</span><span class="op" id="2074036">(</span><span class="ident" id="2074037">Float64frombits</span><span class="op" id="2074052">(</span><span class="num" id="2074053">1</span><span class="op" id="2074054">)</span><span class="op" id="2074055">,</span>&nbsp;<span class="ident" id="2074057">y</span><span class="op" id="2074058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2074061">case</span>&nbsp;<span class="op" id="2074066">(</span><span class="ident" id="2074067">y</span>&nbsp;<span class="op" id="2074069">&gt;</span>&nbsp;<span class="ident" id="2074071">x</span><span class="op" id="2074072">)</span>&nbsp;<span class="op" id="2074074">==</span>&nbsp;<span class="op" id="2074077">(</span><span class="ident" id="2074078">x</span>&nbsp;<span class="op" id="2074080">&gt;</span>&nbsp;<span class="num" id="2074082">0</span><span class="op" id="2074083">)</span><span class="op" id="2074084">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2074088">r</span>&nbsp;<span class="op" id="2074090">=</span>&nbsp;<span class="ident" id="2074092">Float64frombits</span><span class="op" id="2074107">(</span><span class="ident" id="2074108">Float64bits</span><span class="op" id="2074119">(</span><span class="ident" id="2074120">x</span><span class="op" id="2074121">)</span>&nbsp;<span class="op" id="2074123">+</span>&nbsp;<span class="num" id="2074125">1</span><span class="op" id="2074126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2074129">default</span><span class="op" id="2074136">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2074140">r</span>&nbsp;<span class="op" id="2074142">=</span>&nbsp;<span class="ident" id="2074144">Float64frombits</span><span class="op" id="2074159">(</span><span class="ident" id="2074160">Float64bits</span><span class="op" id="2074171">(</span><span class="ident" id="2074172">x</span><span class="op" id="2074173">)</span>&nbsp;<span class="op" id="2074175">-</span>&nbsp;<span class="num" id="2074177">1</span><span class="op" id="2074178">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2074181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2074184">return</span><br>
<span class="lineno"></span><span class="op" id="2074191">}</span>
</div>
</body>
</html>
