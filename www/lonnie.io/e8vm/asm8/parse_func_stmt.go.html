<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6054312">package</span>&nbsp;<span class="ident" id="6054320">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6054326">import</span>&nbsp;<span class="op" id="6054333">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6054336">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="6054358">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6054361">func</span>&nbsp;<span class="ident" id="6054366">parseOps</span><span class="op" id="6054374">(</span><span class="ident" id="6054375">p</span>&nbsp;<span class="op" id="6054377">*</span><span class="ident" id="6054378"><a href="/lonnie.io/e8vm/asm8/parser.go.html#6059818">parser</a></span><span class="op" id="6054384">)</span>&nbsp;<span class="op" id="6054386">(</span><span class="ident" id="6054387">ops</span>&nbsp;<span class="op" id="6054391">[</span><span class="op" id="6054392">]</span><span class="op" id="6054393">*</span><span class="ident" id="6054394"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054336">lex8</a></span><span class="op" id="6054398">.</span><span class="ident" id="6054399">Token</span><span class="op" id="6054404">)</span>&nbsp;<span class="op" id="6054406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054409">for</span>&nbsp;<span class="op" id="6054413">!</span><span class="ident" id="6054414"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054375">p</a></span><span class="op" id="6054415">.</span><span class="ident" id="6054416">acceptType</span><span class="op" id="6054426">(</span><span class="ident" id="6054427"><a href="/lonnie.io/e8vm/asm8/token.go.html#6066860">Semi</a></span><span class="op" id="6054431">)</span>&nbsp;<span class="op" id="6054433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6054437">t</span>&nbsp;<span class="op" id="6054439">:=</span>&nbsp;<span class="ident" id="6054442"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054375">p</a></span><span class="op" id="6054443">.</span><span class="ident" id="6054444">expect</span><span class="op" id="6054450">(</span><span class="ident" id="6054451"><a href="/lonnie.io/e8vm/asm8/token.go.html#6066821">Operand</a></span><span class="op" id="6054458">)</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054462">if</span>&nbsp;<span class="ident" id="6054465"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054437">t</a></span>&nbsp;<span class="op" id="6054467">!=</span>&nbsp;<span class="ident" id="6054470">nil</span>&nbsp;<span class="op" id="6054474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6054479"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054387">ops</a></span>&nbsp;<span class="op" id="6054483">=</span>&nbsp;<span class="builtinfunc" id="6054485">append</span><span class="op" id="6054491">(</span><span class="ident" id="6054492"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054387">ops</a></span><span class="op" id="6054495">,</span>&nbsp;<span class="ident" id="6054497"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054437">t</a></span><span class="op" id="6054498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6054502">}</span>&nbsp;<span class="keyword" id="6054504">else</span>&nbsp;<span class="op" id="6054509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6054514"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054387">ops</a></span>&nbsp;<span class="op" id="6054518">=</span>&nbsp;<span class="ident" id="6054520">nil</span>&nbsp;<span class="comment" id="6054524">//&nbsp;error&nbsp;now</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054540">if</span>&nbsp;<span class="ident" id="6054543"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054375">p</a></span><span class="op" id="6054544">.</span><span class="ident" id="6054545">see</span><span class="op" id="6054548">(</span><span class="ident" id="6054549"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054336">lex8</a></span><span class="op" id="6054553">.</span><span class="ident" id="6054554">EOF</span><span class="op" id="6054557">)</span>&nbsp;<span class="op" id="6054559">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054565">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6054574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6054579"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054375">p</a></span><span class="op" id="6054580">.</span><span class="ident" id="6054581">next</span><span class="op" id="6054585">(</span><span class="op" id="6054586">)</span>&nbsp;<span class="comment" id="6054588">//&nbsp;proceed&nbsp;anyway&nbsp;for&nbsp;other&nbsp;stuff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6054624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6054627">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6054631"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054375">p</a></span><span class="op" id="6054632">.</span><span class="ident" id="6054633">clearErr</span><span class="op" id="6054641">(</span><span class="op" id="6054642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054645">return</span>&nbsp;<span class="ident" id="6054652"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054387">ops</a></span><br>
<span class="lineno"></span><span class="op" id="6054656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6054659">func</span>&nbsp;<span class="ident" id="6054664">parseFuncStmt</span><span class="op" id="6054677">(</span><span class="ident" id="6054678">p</span>&nbsp;<span class="op" id="6054680">*</span><span class="ident" id="6054681"><a href="/lonnie.io/e8vm/asm8/parser.go.html#6059818">parser</a></span><span class="op" id="6054687">)</span>&nbsp;<span class="op" id="6054689">*</span><span class="ident" id="6054690"><a href="/lonnie.io/e8vm/asm8/func_stmt.go.html#6037088">funcStmt</a></span>&nbsp;<span class="op" id="6054699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6054702">ops</span>&nbsp;<span class="op" id="6054706">:=</span>&nbsp;<span class="ident" id="6054709"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054366">parseOps</a></span><span class="op" id="6054717">(</span><span class="ident" id="6054718"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054678">p</a></span><span class="op" id="6054719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054722">if</span>&nbsp;<span class="builtinfunc" id="6054725">len</span><span class="op" id="6054728">(</span><span class="ident" id="6054729"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054702">ops</a></span><span class="op" id="6054732">)</span>&nbsp;<span class="op" id="6054734">==</span>&nbsp;<span class="num" id="6054737">0</span>&nbsp;<span class="op" id="6054739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054743">return</span>&nbsp;<span class="ident" id="6054750">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6054755">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6054759">op0</span>&nbsp;<span class="op" id="6054763">:=</span>&nbsp;<span class="ident" id="6054766"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054702">ops</a></span><span class="op" id="6054769">[</span><span class="num" id="6054770">0</span><span class="op" id="6054771">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6054774">lead</span>&nbsp;<span class="op" id="6054779">:=</span>&nbsp;<span class="ident" id="6054782"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054759">op0</a></span><span class="op" id="6054785">.</span><span class="ident" id="6054786">Lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054791">if</span>&nbsp;<span class="ident" id="6054794"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054774">lead</a></span>&nbsp;<span class="op" id="6054799">==</span>&nbsp;<span class="string" id="6054802">&#34;&#34;</span>&nbsp;<span class="op" id="6054805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6054809">panic</span><span class="op" id="6054814">(</span><span class="string" id="6054815">&#34;empty&nbsp;operand&#34;</span><span class="op" id="6054830">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6054833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054837">if</span>&nbsp;<span class="ident" id="6054840"><a href="/lonnie.io/e8vm/asm8/parse_label.go.html#6055866">parseLabel</a></span><span class="op" id="6054850">(</span><span class="ident" id="6054851"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054678">p</a></span><span class="op" id="6054852">,</span>&nbsp;<span class="ident" id="6054854"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054759">op0</a></span><span class="op" id="6054857">)</span>&nbsp;<span class="op" id="6054859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054863">if</span>&nbsp;<span class="builtinfunc" id="6054866">len</span><span class="op" id="6054869">(</span><span class="ident" id="6054870"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054702">ops</a></span><span class="op" id="6054873">)</span>&nbsp;<span class="op" id="6054875">&gt;</span>&nbsp;<span class="num" id="6054877">1</span>&nbsp;<span class="op" id="6054879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6054884"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054678">p</a></span><span class="op" id="6054885">.</span><span class="ident" id="6054886">err</span><span class="op" id="6054889">(</span><span class="ident" id="6054890"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054759">op0</a></span><span class="op" id="6054893">.</span><span class="ident" id="6054894">Pos</span><span class="op" id="6054897">,</span>&nbsp;<span class="string" id="6054899">&#34;label&nbsp;should&nbsp;take&nbsp;the&nbsp;entire&nbsp;line&#34;</span><span class="op" id="6054934">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054939">return</span>&nbsp;<span class="ident" id="6054946">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6054952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6054956">return</span>&nbsp;<span class="op" id="6054963">&amp;</span><span class="ident" id="6054964"><a href="/lonnie.io/e8vm/asm8/func_stmt.go.html#6037088">funcStmt</a></span><span class="op" id="6054972">{</span><span class="ident" id="6054973">label</span><span class="op" id="6054978">:</span>&nbsp;<span class="ident" id="6054980"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054774">lead</a></span><span class="op" id="6054984">,</span>&nbsp;<span class="ident" id="6054986">ops</span><span class="op" id="6054989">:</span>&nbsp;<span class="ident" id="6054991"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054702">ops</a></span><span class="op" id="6054994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6054997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6055001">return</span>&nbsp;<span class="op" id="6055008">&amp;</span><span class="ident" id="6055009"><a href="/lonnie.io/e8vm/asm8/func_stmt.go.html#6037088">funcStmt</a></span><span class="op" id="6055017">{</span><span class="ident" id="6055018">inst</span><span class="op" id="6055022">:</span>&nbsp;<span class="ident" id="6055024"><a href="/lonnie.io/e8vm/asm8/inst_all.go.html#6037828">parseInst</a></span><span class="op" id="6055033">(</span><span class="ident" id="6055034"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054678">p</a></span><span class="op" id="6055035">,</span>&nbsp;<span class="ident" id="6055037"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054702">ops</a></span><span class="op" id="6055040">)</span><span class="op" id="6055041">,</span>&nbsp;<span class="ident" id="6055043">ops</span><span class="op" id="6055046">:</span>&nbsp;<span class="ident" id="6055048"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#6054702">ops</a></span><span class="op" id="6055051">}</span><br>
<span class="lineno"></span><span class="op" id="6055053">}</span>
</div>
</body>
</html>
