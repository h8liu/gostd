<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6831200">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6831255">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6831309">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6831360">package</span>&nbsp;<span class="ident" id="6831368">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6831375">import</span>&nbsp;<span class="op" id="6831382">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6831385">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6831393">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6831400">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6831411">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6831421">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6831424">var</span>&nbsp;<span class="ident" id="6831428">debug</span>&nbsp;<span class="op" id="6831434">=</span>&nbsp;<span class="ident" id="6831436">flag</span><span class="op" id="6831440">.</span><span class="ident" id="6831441">Bool</span><span class="op" id="6831445">(</span><span class="string" id="6831446">&#34;debug&#34;</span><span class="op" id="6831453">,</span>&nbsp;<span class="builtintype" id="6831455">false</span><span class="op" id="6831460">,</span>&nbsp;<span class="string" id="6831462">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="6831506">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6831509">type</span>&nbsp;<span class="ident" id="6831514">numberTest</span>&nbsp;<span class="keyword" id="6831525">struct</span>&nbsp;<span class="op" id="6831532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6831535">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6831545">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6831553">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6831563">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6831569">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6831579">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6831585">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6831595">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6831601">isComplex</span>&nbsp;<span class="builtintype" id="6831611">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6831617">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6831624">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6831632">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6831641">complex128</span><br>
<span class="lineno"></span><span class="op" id="6831652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6831655">var</span>&nbsp;<span class="ident" id="6831659">numberTests</span>&nbsp;<span class="op" id="6831671">=</span>&nbsp;<span class="op" id="6831673">[</span><span class="op" id="6831674">]</span><span class="ident" id="6831675">numberTest</span><span class="op" id="6831685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6831688">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6831699">{</span><span class="string" id="6831700">&#34;0&#34;</span><span class="op" id="6831703">,</span>&nbsp;<span class="builtintype" id="6831705">true</span><span class="op" id="6831709">,</span>&nbsp;<span class="builtintype" id="6831711">true</span><span class="op" id="6831715">,</span>&nbsp;<span class="builtintype" id="6831717">true</span><span class="op" id="6831721">,</span>&nbsp;<span class="builtintype" id="6831723">false</span><span class="op" id="6831728">,</span>&nbsp;<span class="num" id="6831730">0</span><span class="op" id="6831731">,</span>&nbsp;<span class="num" id="6831733">0</span><span class="op" id="6831734">,</span>&nbsp;<span class="num" id="6831736">0</span><span class="op" id="6831737">,</span>&nbsp;<span class="num" id="6831739">0</span><span class="op" id="6831740">}</span><span class="op" id="6831741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6831744">{</span><span class="string" id="6831745">&#34;-0&#34;</span><span class="op" id="6831749">,</span>&nbsp;<span class="builtintype" id="6831751">true</span><span class="op" id="6831755">,</span>&nbsp;<span class="builtintype" id="6831757">true</span><span class="op" id="6831761">,</span>&nbsp;<span class="builtintype" id="6831763">true</span><span class="op" id="6831767">,</span>&nbsp;<span class="builtintype" id="6831769">false</span><span class="op" id="6831774">,</span>&nbsp;<span class="num" id="6831776">0</span><span class="op" id="6831777">,</span>&nbsp;<span class="num" id="6831779">0</span><span class="op" id="6831780">,</span>&nbsp;<span class="num" id="6831782">0</span><span class="op" id="6831783">,</span>&nbsp;<span class="num" id="6831785">0</span><span class="op" id="6831786">}</span><span class="op" id="6831787">,</span>&nbsp;<span class="comment" id="6831789">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6831818">{</span><span class="string" id="6831819">&#34;73&#34;</span><span class="op" id="6831823">,</span>&nbsp;<span class="builtintype" id="6831825">true</span><span class="op" id="6831829">,</span>&nbsp;<span class="builtintype" id="6831831">true</span><span class="op" id="6831835">,</span>&nbsp;<span class="builtintype" id="6831837">true</span><span class="op" id="6831841">,</span>&nbsp;<span class="builtintype" id="6831843">false</span><span class="op" id="6831848">,</span>&nbsp;<span class="num" id="6831850">73</span><span class="op" id="6831852">,</span>&nbsp;<span class="num" id="6831854">73</span><span class="op" id="6831856">,</span>&nbsp;<span class="num" id="6831858">73</span><span class="op" id="6831860">,</span>&nbsp;<span class="num" id="6831862">0</span><span class="op" id="6831863">}</span><span class="op" id="6831864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6831867">{</span><span class="string" id="6831868">&#34;073&#34;</span><span class="op" id="6831873">,</span>&nbsp;<span class="builtintype" id="6831875">true</span><span class="op" id="6831879">,</span>&nbsp;<span class="builtintype" id="6831881">true</span><span class="op" id="6831885">,</span>&nbsp;<span class="builtintype" id="6831887">true</span><span class="op" id="6831891">,</span>&nbsp;<span class="builtintype" id="6831893">false</span><span class="op" id="6831898">,</span>&nbsp;<span class="num" id="6831900">073</span><span class="op" id="6831903">,</span>&nbsp;<span class="num" id="6831905">073</span><span class="op" id="6831908">,</span>&nbsp;<span class="num" id="6831910">073</span><span class="op" id="6831913">,</span>&nbsp;<span class="num" id="6831915">0</span><span class="op" id="6831916">}</span><span class="op" id="6831917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6831920">{</span><span class="string" id="6831921">&#34;0x73&#34;</span><span class="op" id="6831927">,</span>&nbsp;<span class="builtintype" id="6831929">true</span><span class="op" id="6831933">,</span>&nbsp;<span class="builtintype" id="6831935">true</span><span class="op" id="6831939">,</span>&nbsp;<span class="builtintype" id="6831941">true</span><span class="op" id="6831945">,</span>&nbsp;<span class="builtintype" id="6831947">false</span><span class="op" id="6831952">,</span>&nbsp;<span class="num" id="6831954">0x73</span><span class="op" id="6831958">,</span>&nbsp;<span class="num" id="6831960">0x73</span><span class="op" id="6831964">,</span>&nbsp;<span class="num" id="6831966">0x73</span><span class="op" id="6831970">,</span>&nbsp;<span class="num" id="6831972">0</span><span class="op" id="6831973">}</span><span class="op" id="6831974">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6831977">{</span><span class="string" id="6831978">&#34;-73&#34;</span><span class="op" id="6831983">,</span>&nbsp;<span class="builtintype" id="6831985">true</span><span class="op" id="6831989">,</span>&nbsp;<span class="builtintype" id="6831991">false</span><span class="op" id="6831996">,</span>&nbsp;<span class="builtintype" id="6831998">true</span><span class="op" id="6832002">,</span>&nbsp;<span class="builtintype" id="6832004">false</span><span class="op" id="6832009">,</span>&nbsp;<span class="op" id="6832011">-</span><span class="num" id="6832012">73</span><span class="op" id="6832014">,</span>&nbsp;<span class="num" id="6832016">0</span><span class="op" id="6832017">,</span>&nbsp;<span class="op" id="6832019">-</span><span class="num" id="6832020">73</span><span class="op" id="6832022">,</span>&nbsp;<span class="num" id="6832024">0</span><span class="op" id="6832025">}</span><span class="op" id="6832026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832029">{</span><span class="string" id="6832030">&#34;+73&#34;</span><span class="op" id="6832035">,</span>&nbsp;<span class="builtintype" id="6832037">true</span><span class="op" id="6832041">,</span>&nbsp;<span class="builtintype" id="6832043">false</span><span class="op" id="6832048">,</span>&nbsp;<span class="builtintype" id="6832050">true</span><span class="op" id="6832054">,</span>&nbsp;<span class="builtintype" id="6832056">false</span><span class="op" id="6832061">,</span>&nbsp;<span class="num" id="6832063">73</span><span class="op" id="6832065">,</span>&nbsp;<span class="num" id="6832067">0</span><span class="op" id="6832068">,</span>&nbsp;<span class="num" id="6832070">73</span><span class="op" id="6832072">,</span>&nbsp;<span class="num" id="6832074">0</span><span class="op" id="6832075">}</span><span class="op" id="6832076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832079">{</span><span class="string" id="6832080">&#34;100&#34;</span><span class="op" id="6832085">,</span>&nbsp;<span class="builtintype" id="6832087">true</span><span class="op" id="6832091">,</span>&nbsp;<span class="builtintype" id="6832093">true</span><span class="op" id="6832097">,</span>&nbsp;<span class="builtintype" id="6832099">true</span><span class="op" id="6832103">,</span>&nbsp;<span class="builtintype" id="6832105">false</span><span class="op" id="6832110">,</span>&nbsp;<span class="num" id="6832112">100</span><span class="op" id="6832115">,</span>&nbsp;<span class="num" id="6832117">100</span><span class="op" id="6832120">,</span>&nbsp;<span class="num" id="6832122">100</span><span class="op" id="6832125">,</span>&nbsp;<span class="num" id="6832127">0</span><span class="op" id="6832128">}</span><span class="op" id="6832129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832132">{</span><span class="string" id="6832133">&#34;1e9&#34;</span><span class="op" id="6832138">,</span>&nbsp;<span class="builtintype" id="6832140">true</span><span class="op" id="6832144">,</span>&nbsp;<span class="builtintype" id="6832146">true</span><span class="op" id="6832150">,</span>&nbsp;<span class="builtintype" id="6832152">true</span><span class="op" id="6832156">,</span>&nbsp;<span class="builtintype" id="6832158">false</span><span class="op" id="6832163">,</span>&nbsp;<span class="num" id="6832165">1e9</span><span class="op" id="6832168">,</span>&nbsp;<span class="num" id="6832170">1e9</span><span class="op" id="6832173">,</span>&nbsp;<span class="num" id="6832175">1e9</span><span class="op" id="6832178">,</span>&nbsp;<span class="num" id="6832180">0</span><span class="op" id="6832181">}</span><span class="op" id="6832182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832185">{</span><span class="string" id="6832186">&#34;-1e9&#34;</span><span class="op" id="6832192">,</span>&nbsp;<span class="builtintype" id="6832194">true</span><span class="op" id="6832198">,</span>&nbsp;<span class="builtintype" id="6832200">false</span><span class="op" id="6832205">,</span>&nbsp;<span class="builtintype" id="6832207">true</span><span class="op" id="6832211">,</span>&nbsp;<span class="builtintype" id="6832213">false</span><span class="op" id="6832218">,</span>&nbsp;<span class="op" id="6832220">-</span><span class="num" id="6832221">1e9</span><span class="op" id="6832224">,</span>&nbsp;<span class="num" id="6832226">0</span><span class="op" id="6832227">,</span>&nbsp;<span class="op" id="6832229">-</span><span class="num" id="6832230">1e9</span><span class="op" id="6832233">,</span>&nbsp;<span class="num" id="6832235">0</span><span class="op" id="6832236">}</span><span class="op" id="6832237">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832240">{</span><span class="string" id="6832241">&#34;-1.2&#34;</span><span class="op" id="6832247">,</span>&nbsp;<span class="builtintype" id="6832249">false</span><span class="op" id="6832254">,</span>&nbsp;<span class="builtintype" id="6832256">false</span><span class="op" id="6832261">,</span>&nbsp;<span class="builtintype" id="6832263">true</span><span class="op" id="6832267">,</span>&nbsp;<span class="builtintype" id="6832269">false</span><span class="op" id="6832274">,</span>&nbsp;<span class="num" id="6832276">0</span><span class="op" id="6832277">,</span>&nbsp;<span class="num" id="6832279">0</span><span class="op" id="6832280">,</span>&nbsp;<span class="op" id="6832282">-</span><span class="num" id="6832283">1.2</span><span class="op" id="6832286">,</span>&nbsp;<span class="num" id="6832288">0</span><span class="op" id="6832289">}</span><span class="op" id="6832290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832293">{</span><span class="string" id="6832294">&#34;1e19&#34;</span><span class="op" id="6832300">,</span>&nbsp;<span class="builtintype" id="6832302">false</span><span class="op" id="6832307">,</span>&nbsp;<span class="builtintype" id="6832309">true</span><span class="op" id="6832313">,</span>&nbsp;<span class="builtintype" id="6832315">true</span><span class="op" id="6832319">,</span>&nbsp;<span class="builtintype" id="6832321">false</span><span class="op" id="6832326">,</span>&nbsp;<span class="num" id="6832328">0</span><span class="op" id="6832329">,</span>&nbsp;<span class="num" id="6832331">1e19</span><span class="op" id="6832335">,</span>&nbsp;<span class="num" id="6832337">1e19</span><span class="op" id="6832341">,</span>&nbsp;<span class="num" id="6832343">0</span><span class="op" id="6832344">}</span><span class="op" id="6832345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832348">{</span><span class="string" id="6832349">&#34;-1e19&#34;</span><span class="op" id="6832356">,</span>&nbsp;<span class="builtintype" id="6832358">false</span><span class="op" id="6832363">,</span>&nbsp;<span class="builtintype" id="6832365">false</span><span class="op" id="6832370">,</span>&nbsp;<span class="builtintype" id="6832372">true</span><span class="op" id="6832376">,</span>&nbsp;<span class="builtintype" id="6832378">false</span><span class="op" id="6832383">,</span>&nbsp;<span class="num" id="6832385">0</span><span class="op" id="6832386">,</span>&nbsp;<span class="num" id="6832388">0</span><span class="op" id="6832389">,</span>&nbsp;<span class="op" id="6832391">-</span><span class="num" id="6832392">1e19</span><span class="op" id="6832396">,</span>&nbsp;<span class="num" id="6832398">0</span><span class="op" id="6832399">}</span><span class="op" id="6832400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832403">{</span><span class="string" id="6832404">&#34;4i&#34;</span><span class="op" id="6832408">,</span>&nbsp;<span class="builtintype" id="6832410">false</span><span class="op" id="6832415">,</span>&nbsp;<span class="builtintype" id="6832417">false</span><span class="op" id="6832422">,</span>&nbsp;<span class="builtintype" id="6832424">false</span><span class="op" id="6832429">,</span>&nbsp;<span class="builtintype" id="6832431">true</span><span class="op" id="6832435">,</span>&nbsp;<span class="num" id="6832437">0</span><span class="op" id="6832438">,</span>&nbsp;<span class="num" id="6832440">0</span><span class="op" id="6832441">,</span>&nbsp;<span class="num" id="6832443">0</span><span class="op" id="6832444">,</span>&nbsp;<span class="num" id="6832446">4i</span><span class="op" id="6832448">}</span><span class="op" id="6832449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832452">{</span><span class="string" id="6832453">&#34;-1.2+4.2i&#34;</span><span class="op" id="6832464">,</span>&nbsp;<span class="builtintype" id="6832466">false</span><span class="op" id="6832471">,</span>&nbsp;<span class="builtintype" id="6832473">false</span><span class="op" id="6832478">,</span>&nbsp;<span class="builtintype" id="6832480">false</span><span class="op" id="6832485">,</span>&nbsp;<span class="builtintype" id="6832487">true</span><span class="op" id="6832491">,</span>&nbsp;<span class="num" id="6832493">0</span><span class="op" id="6832494">,</span>&nbsp;<span class="num" id="6832496">0</span><span class="op" id="6832497">,</span>&nbsp;<span class="num" id="6832499">0</span><span class="op" id="6832500">,</span>&nbsp;<span class="op" id="6832502">-</span><span class="num" id="6832503">1.2</span>&nbsp;<span class="op" id="6832507">+</span>&nbsp;<span class="num" id="6832509">4.2i</span><span class="op" id="6832513">}</span><span class="op" id="6832514">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832517">{</span><span class="string" id="6832518">&#34;073i&#34;</span><span class="op" id="6832524">,</span>&nbsp;<span class="builtintype" id="6832526">false</span><span class="op" id="6832531">,</span>&nbsp;<span class="builtintype" id="6832533">false</span><span class="op" id="6832538">,</span>&nbsp;<span class="builtintype" id="6832540">false</span><span class="op" id="6832545">,</span>&nbsp;<span class="builtintype" id="6832547">true</span><span class="op" id="6832551">,</span>&nbsp;<span class="num" id="6832553">0</span><span class="op" id="6832554">,</span>&nbsp;<span class="num" id="6832556">0</span><span class="op" id="6832557">,</span>&nbsp;<span class="num" id="6832559">0</span><span class="op" id="6832560">,</span>&nbsp;<span class="num" id="6832562">73i</span><span class="op" id="6832565">}</span><span class="op" id="6832566">,</span>&nbsp;<span class="comment" id="6832568">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6832583">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832642">{</span><span class="string" id="6832643">&#34;0i&#34;</span><span class="op" id="6832647">,</span>&nbsp;<span class="builtintype" id="6832649">true</span><span class="op" id="6832653">,</span>&nbsp;<span class="builtintype" id="6832655">true</span><span class="op" id="6832659">,</span>&nbsp;<span class="builtintype" id="6832661">true</span><span class="op" id="6832665">,</span>&nbsp;<span class="builtintype" id="6832667">true</span><span class="op" id="6832671">,</span>&nbsp;<span class="num" id="6832673">0</span><span class="op" id="6832674">,</span>&nbsp;<span class="num" id="6832676">0</span><span class="op" id="6832677">,</span>&nbsp;<span class="num" id="6832679">0</span><span class="op" id="6832680">,</span>&nbsp;<span class="num" id="6832682">0</span><span class="op" id="6832683">}</span><span class="op" id="6832684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832687">{</span><span class="string" id="6832688">&#34;-1.2+0i&#34;</span><span class="op" id="6832697">,</span>&nbsp;<span class="builtintype" id="6832699">false</span><span class="op" id="6832704">,</span>&nbsp;<span class="builtintype" id="6832706">false</span><span class="op" id="6832711">,</span>&nbsp;<span class="builtintype" id="6832713">true</span><span class="op" id="6832717">,</span>&nbsp;<span class="builtintype" id="6832719">true</span><span class="op" id="6832723">,</span>&nbsp;<span class="num" id="6832725">0</span><span class="op" id="6832726">,</span>&nbsp;<span class="num" id="6832728">0</span><span class="op" id="6832729">,</span>&nbsp;<span class="op" id="6832731">-</span><span class="num" id="6832732">1.2</span><span class="op" id="6832735">,</span>&nbsp;<span class="op" id="6832737">-</span><span class="num" id="6832738">1.2</span><span class="op" id="6832741">}</span><span class="op" id="6832742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832745">{</span><span class="string" id="6832746">&#34;-12+0i&#34;</span><span class="op" id="6832754">,</span>&nbsp;<span class="builtintype" id="6832756">true</span><span class="op" id="6832760">,</span>&nbsp;<span class="builtintype" id="6832762">false</span><span class="op" id="6832767">,</span>&nbsp;<span class="builtintype" id="6832769">true</span><span class="op" id="6832773">,</span>&nbsp;<span class="builtintype" id="6832775">true</span><span class="op" id="6832779">,</span>&nbsp;<span class="op" id="6832781">-</span><span class="num" id="6832782">12</span><span class="op" id="6832784">,</span>&nbsp;<span class="num" id="6832786">0</span><span class="op" id="6832787">,</span>&nbsp;<span class="op" id="6832789">-</span><span class="num" id="6832790">12</span><span class="op" id="6832792">,</span>&nbsp;<span class="op" id="6832794">-</span><span class="num" id="6832795">12</span><span class="op" id="6832797">}</span><span class="op" id="6832798">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832801">{</span><span class="string" id="6832802">&#34;13+0i&#34;</span><span class="op" id="6832809">,</span>&nbsp;<span class="builtintype" id="6832811">true</span><span class="op" id="6832815">,</span>&nbsp;<span class="builtintype" id="6832817">true</span><span class="op" id="6832821">,</span>&nbsp;<span class="builtintype" id="6832823">true</span><span class="op" id="6832827">,</span>&nbsp;<span class="builtintype" id="6832829">true</span><span class="op" id="6832833">,</span>&nbsp;<span class="num" id="6832835">13</span><span class="op" id="6832837">,</span>&nbsp;<span class="num" id="6832839">13</span><span class="op" id="6832841">,</span>&nbsp;<span class="num" id="6832843">13</span><span class="op" id="6832845">,</span>&nbsp;<span class="num" id="6832847">13</span><span class="op" id="6832849">}</span><span class="op" id="6832850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6832853">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832869">{</span><span class="string" id="6832870">&#34;0123&#34;</span><span class="op" id="6832876">,</span>&nbsp;<span class="builtintype" id="6832878">true</span><span class="op" id="6832882">,</span>&nbsp;<span class="builtintype" id="6832884">true</span><span class="op" id="6832888">,</span>&nbsp;<span class="builtintype" id="6832890">true</span><span class="op" id="6832894">,</span>&nbsp;<span class="builtintype" id="6832896">false</span><span class="op" id="6832901">,</span>&nbsp;<span class="num" id="6832903">0123</span><span class="op" id="6832907">,</span>&nbsp;<span class="num" id="6832909">0123</span><span class="op" id="6832913">,</span>&nbsp;<span class="num" id="6832915">0123</span><span class="op" id="6832919">,</span>&nbsp;<span class="num" id="6832921">0</span><span class="op" id="6832922">}</span><span class="op" id="6832923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832926">{</span><span class="string" id="6832927">&#34;-0x0&#34;</span><span class="op" id="6832933">,</span>&nbsp;<span class="builtintype" id="6832935">true</span><span class="op" id="6832939">,</span>&nbsp;<span class="builtintype" id="6832941">true</span><span class="op" id="6832945">,</span>&nbsp;<span class="builtintype" id="6832947">true</span><span class="op" id="6832951">,</span>&nbsp;<span class="builtintype" id="6832953">false</span><span class="op" id="6832958">,</span>&nbsp;<span class="num" id="6832960">0</span><span class="op" id="6832961">,</span>&nbsp;<span class="num" id="6832963">0</span><span class="op" id="6832964">,</span>&nbsp;<span class="num" id="6832966">0</span><span class="op" id="6832967">,</span>&nbsp;<span class="num" id="6832969">0</span><span class="op" id="6832970">}</span><span class="op" id="6832971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6832974">{</span><span class="string" id="6832975">&#34;0xdeadbeef&#34;</span><span class="op" id="6832987">,</span>&nbsp;<span class="builtintype" id="6832989">true</span><span class="op" id="6832993">,</span>&nbsp;<span class="builtintype" id="6832995">true</span><span class="op" id="6832999">,</span>&nbsp;<span class="builtintype" id="6833001">true</span><span class="op" id="6833005">,</span>&nbsp;<span class="builtintype" id="6833007">false</span><span class="op" id="6833012">,</span>&nbsp;<span class="num" id="6833014">0xdeadbeef</span><span class="op" id="6833024">,</span>&nbsp;<span class="num" id="6833026">0xdeadbeef</span><span class="op" id="6833036">,</span>&nbsp;<span class="num" id="6833038">0xdeadbeef</span><span class="op" id="6833048">,</span>&nbsp;<span class="num" id="6833050">0</span><span class="op" id="6833051">}</span><span class="op" id="6833052">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6833055">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833079">{</span><span class="string" id="6833080">`&#39;a&#39;`</span><span class="op" id="6833085">,</span>&nbsp;<span class="builtintype" id="6833087">true</span><span class="op" id="6833091">,</span>&nbsp;<span class="builtintype" id="6833093">true</span><span class="op" id="6833097">,</span>&nbsp;<span class="builtintype" id="6833099">true</span><span class="op" id="6833103">,</span>&nbsp;<span class="builtintype" id="6833105">false</span><span class="op" id="6833110">,</span>&nbsp;<span class="string" id="6833112">&#39;a&#39;</span><span class="op" id="6833115">,</span>&nbsp;<span class="string" id="6833117">&#39;a&#39;</span><span class="op" id="6833120">,</span>&nbsp;<span class="string" id="6833122">&#39;a&#39;</span><span class="op" id="6833125">,</span>&nbsp;<span class="num" id="6833127">0</span><span class="op" id="6833128">}</span><span class="op" id="6833129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833132">{</span><span class="string" id="6833133">`&#39;\n&#39;`</span><span class="op" id="6833139">,</span>&nbsp;<span class="builtintype" id="6833141">true</span><span class="op" id="6833145">,</span>&nbsp;<span class="builtintype" id="6833147">true</span><span class="op" id="6833151">,</span>&nbsp;<span class="builtintype" id="6833153">true</span><span class="op" id="6833157">,</span>&nbsp;<span class="builtintype" id="6833159">false</span><span class="op" id="6833164">,</span>&nbsp;<span class="string" id="6833166">&#39;\n&#39;</span><span class="op" id="6833170">,</span>&nbsp;<span class="string" id="6833172">&#39;\n&#39;</span><span class="op" id="6833176">,</span>&nbsp;<span class="string" id="6833178">&#39;\n&#39;</span><span class="op" id="6833182">,</span>&nbsp;<span class="num" id="6833184">0</span><span class="op" id="6833185">}</span><span class="op" id="6833186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833189">{</span><span class="string" id="6833190">`&#39;\\&#39;`</span><span class="op" id="6833196">,</span>&nbsp;<span class="builtintype" id="6833198">true</span><span class="op" id="6833202">,</span>&nbsp;<span class="builtintype" id="6833204">true</span><span class="op" id="6833208">,</span>&nbsp;<span class="builtintype" id="6833210">true</span><span class="op" id="6833214">,</span>&nbsp;<span class="builtintype" id="6833216">false</span><span class="op" id="6833221">,</span>&nbsp;<span class="string" id="6833223">&#39;\\&#39;</span><span class="op" id="6833227">,</span>&nbsp;<span class="string" id="6833229">&#39;\\&#39;</span><span class="op" id="6833233">,</span>&nbsp;<span class="string" id="6833235">&#39;\\&#39;</span><span class="op" id="6833239">,</span>&nbsp;<span class="num" id="6833241">0</span><span class="op" id="6833242">}</span><span class="op" id="6833243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833246">{</span><span class="string" id="6833247">`&#39;\&#39;&#39;`</span><span class="op" id="6833253">,</span>&nbsp;<span class="builtintype" id="6833255">true</span><span class="op" id="6833259">,</span>&nbsp;<span class="builtintype" id="6833261">true</span><span class="op" id="6833265">,</span>&nbsp;<span class="builtintype" id="6833267">true</span><span class="op" id="6833271">,</span>&nbsp;<span class="builtintype" id="6833273">false</span><span class="op" id="6833278">,</span>&nbsp;<span class="string" id="6833280">&#39;\&#39;&#39;</span><span class="op" id="6833284">,</span>&nbsp;<span class="string" id="6833286">&#39;\&#39;&#39;</span><span class="op" id="6833290">,</span>&nbsp;<span class="string" id="6833292">&#39;\&#39;&#39;</span><span class="op" id="6833296">,</span>&nbsp;<span class="num" id="6833298">0</span><span class="op" id="6833299">}</span><span class="op" id="6833300">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833303">{</span><span class="string" id="6833304">`&#39;\xFF&#39;`</span><span class="op" id="6833312">,</span>&nbsp;<span class="builtintype" id="6833314">true</span><span class="op" id="6833318">,</span>&nbsp;<span class="builtintype" id="6833320">true</span><span class="op" id="6833324">,</span>&nbsp;<span class="builtintype" id="6833326">true</span><span class="op" id="6833330">,</span>&nbsp;<span class="builtintype" id="6833332">false</span><span class="op" id="6833337">,</span>&nbsp;<span class="num" id="6833339">0xFF</span><span class="op" id="6833343">,</span>&nbsp;<span class="num" id="6833345">0xFF</span><span class="op" id="6833349">,</span>&nbsp;<span class="num" id="6833351">0xFF</span><span class="op" id="6833355">,</span>&nbsp;<span class="num" id="6833357">0</span><span class="op" id="6833358">}</span><span class="op" id="6833359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833362">{</span><span class="string" id="6833363">`&#39;ãƒ‘&#39;`</span><span class="op" id="6833370">,</span>&nbsp;<span class="builtintype" id="6833372">true</span><span class="op" id="6833376">,</span>&nbsp;<span class="builtintype" id="6833378">true</span><span class="op" id="6833382">,</span>&nbsp;<span class="builtintype" id="6833384">true</span><span class="op" id="6833388">,</span>&nbsp;<span class="builtintype" id="6833390">false</span><span class="op" id="6833395">,</span>&nbsp;<span class="num" id="6833397">0x30d1</span><span class="op" id="6833403">,</span>&nbsp;<span class="num" id="6833405">0x30d1</span><span class="op" id="6833411">,</span>&nbsp;<span class="num" id="6833413">0x30d1</span><span class="op" id="6833419">,</span>&nbsp;<span class="num" id="6833421">0</span><span class="op" id="6833422">}</span><span class="op" id="6833423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833426">{</span><span class="string" id="6833427">`&#39;\u30d1&#39;`</span><span class="op" id="6833437">,</span>&nbsp;<span class="builtintype" id="6833439">true</span><span class="op" id="6833443">,</span>&nbsp;<span class="builtintype" id="6833445">true</span><span class="op" id="6833449">,</span>&nbsp;<span class="builtintype" id="6833451">true</span><span class="op" id="6833455">,</span>&nbsp;<span class="builtintype" id="6833457">false</span><span class="op" id="6833462">,</span>&nbsp;<span class="num" id="6833464">0x30d1</span><span class="op" id="6833470">,</span>&nbsp;<span class="num" id="6833472">0x30d1</span><span class="op" id="6833478">,</span>&nbsp;<span class="num" id="6833480">0x30d1</span><span class="op" id="6833486">,</span>&nbsp;<span class="num" id="6833488">0</span><span class="op" id="6833489">}</span><span class="op" id="6833490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833493">{</span><span class="string" id="6833494">`&#39;\U000030d1&#39;`</span><span class="op" id="6833508">,</span>&nbsp;<span class="builtintype" id="6833510">true</span><span class="op" id="6833514">,</span>&nbsp;<span class="builtintype" id="6833516">true</span><span class="op" id="6833520">,</span>&nbsp;<span class="builtintype" id="6833522">true</span><span class="op" id="6833526">,</span>&nbsp;<span class="builtintype" id="6833528">false</span><span class="op" id="6833533">,</span>&nbsp;<span class="num" id="6833535">0x30d1</span><span class="op" id="6833541">,</span>&nbsp;<span class="num" id="6833543">0x30d1</span><span class="op" id="6833549">,</span>&nbsp;<span class="num" id="6833551">0x30d1</span><span class="op" id="6833557">,</span>&nbsp;<span class="num" id="6833559">0</span><span class="op" id="6833560">}</span><span class="op" id="6833561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6833564">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833587">{</span><span class="ident" id="6833588">text</span><span class="op" id="6833592">:</span>&nbsp;<span class="string" id="6833594">&#34;+-2&#34;</span><span class="op" id="6833599">}</span><span class="op" id="6833600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833603">{</span><span class="ident" id="6833604">text</span><span class="op" id="6833608">:</span>&nbsp;<span class="string" id="6833610">&#34;0x123.&#34;</span><span class="op" id="6833618">}</span><span class="op" id="6833619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833622">{</span><span class="ident" id="6833623">text</span><span class="op" id="6833627">:</span>&nbsp;<span class="string" id="6833629">&#34;1e.&#34;</span><span class="op" id="6833634">}</span><span class="op" id="6833635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833638">{</span><span class="ident" id="6833639">text</span><span class="op" id="6833643">:</span>&nbsp;<span class="string" id="6833645">&#34;0xi.&#34;</span><span class="op" id="6833651">}</span><span class="op" id="6833652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833655">{</span><span class="ident" id="6833656">text</span><span class="op" id="6833660">:</span>&nbsp;<span class="string" id="6833662">&#34;1+2.&#34;</span><span class="op" id="6833668">}</span><span class="op" id="6833669">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833672">{</span><span class="ident" id="6833673">text</span><span class="op" id="6833677">:</span>&nbsp;<span class="string" id="6833679">&#34;&#39;x&#34;</span><span class="op" id="6833683">}</span><span class="op" id="6833684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833687">{</span><span class="ident" id="6833688">text</span><span class="op" id="6833692">:</span>&nbsp;<span class="string" id="6833694">&#34;&#39;xx&#39;&#34;</span><span class="op" id="6833700">}</span><span class="op" id="6833701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6833704">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6833770">{</span><span class="string" id="6833771">&#34;0xef&#34;</span><span class="op" id="6833777">,</span>&nbsp;<span class="builtintype" id="6833779">true</span><span class="op" id="6833783">,</span>&nbsp;<span class="builtintype" id="6833785">true</span><span class="op" id="6833789">,</span>&nbsp;<span class="builtintype" id="6833791">true</span><span class="op" id="6833795">,</span>&nbsp;<span class="builtintype" id="6833797">false</span><span class="op" id="6833802">,</span>&nbsp;<span class="num" id="6833804">0xef</span><span class="op" id="6833808">,</span>&nbsp;<span class="num" id="6833810">0xef</span><span class="op" id="6833814">,</span>&nbsp;<span class="num" id="6833816">0xef</span><span class="op" id="6833820">,</span>&nbsp;<span class="num" id="6833822">0</span><span class="op" id="6833823">}</span><span class="op" id="6833824">,</span><br>
<span class="lineno"></span><span class="op" id="6833826">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="6833829">func</span>&nbsp;<span class="ident" id="6833834">TestNumberParse</span><span class="op" id="6833849">(</span><span class="ident" id="6833850">t</span>&nbsp;<span class="op" id="6833852">*</span><span class="ident" id="6833853">testing</span><span class="op" id="6833860">.</span><span class="ident" id="6833861">T</span><span class="op" id="6833862">)</span>&nbsp;<span class="op" id="6833864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6833867">for</span>&nbsp;<span class="ident" id="6833871">_</span><span class="op" id="6833872">,</span>&nbsp;<span class="ident" id="6833874">test</span>&nbsp;<span class="op" id="6833879">:=</span>&nbsp;<span class="keyword" id="6833882">range</span>&nbsp;<span class="ident" id="6833888">numberTests</span>&nbsp;<span class="op" id="6833900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6833904">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6833984">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834030">var</span>&nbsp;<span class="ident" id="6834034">c</span>&nbsp;<span class="builtintype" id="6834036">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834049">typ</span>&nbsp;<span class="op" id="6834053">:=</span>&nbsp;<span class="ident" id="6834056">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834069">var</span>&nbsp;<span class="ident" id="6834073">tree</span>&nbsp;<span class="op" id="6834078">*</span><span class="ident" id="6834079">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834086">if</span>&nbsp;<span class="ident" id="6834089">test</span><span class="op" id="6834093">.</span><span class="ident" id="6834094">text</span><span class="op" id="6834098">[</span><span class="num" id="6834099">0</span><span class="op" id="6834100">]</span>&nbsp;<span class="op" id="6834102">==</span>&nbsp;<span class="string" id="6834105">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="6834110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834115">typ</span>&nbsp;<span class="op" id="6834119">=</span>&nbsp;<span class="ident" id="6834121">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834140">}</span>&nbsp;<span class="keyword" id="6834142">else</span>&nbsp;<span class="op" id="6834147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834152">_</span><span class="op" id="6834153">,</span>&nbsp;<span class="ident" id="6834155">err</span>&nbsp;<span class="op" id="6834159">:=</span>&nbsp;<span class="ident" id="6834162">fmt</span><span class="op" id="6834165">.</span><span class="ident" id="6834166">Sscan</span><span class="op" id="6834171">(</span><span class="ident" id="6834172">test</span><span class="op" id="6834176">.</span><span class="ident" id="6834177">text</span><span class="op" id="6834181">,</span>&nbsp;<span class="op" id="6834183">&amp;</span><span class="ident" id="6834184">c</span><span class="op" id="6834185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834190">if</span>&nbsp;<span class="ident" id="6834193">err</span>&nbsp;<span class="op" id="6834197">==</span>&nbsp;<span class="ident" id="6834200">nil</span>&nbsp;<span class="op" id="6834204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834210">typ</span>&nbsp;<span class="op" id="6834214">=</span>&nbsp;<span class="ident" id="6834216">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834231">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834239">n</span><span class="op" id="6834240">,</span>&nbsp;<span class="ident" id="6834242">err</span>&nbsp;<span class="op" id="6834246">:=</span>&nbsp;<span class="ident" id="6834249">tree</span><span class="op" id="6834253">.</span><span class="ident" id="6834254">newNumber</span><span class="op" id="6834263">(</span><span class="num" id="6834264">0</span><span class="op" id="6834265">,</span>&nbsp;<span class="ident" id="6834267">test</span><span class="op" id="6834271">.</span><span class="ident" id="6834272">text</span><span class="op" id="6834276">,</span>&nbsp;<span class="ident" id="6834278">typ</span><span class="op" id="6834281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834285">ok</span>&nbsp;<span class="op" id="6834288">:=</span>&nbsp;<span class="ident" id="6834291">test</span><span class="op" id="6834295">.</span><span class="ident" id="6834296">isInt</span>&nbsp;<span class="op" id="6834302">||</span>&nbsp;<span class="ident" id="6834305">test</span><span class="op" id="6834309">.</span><span class="ident" id="6834310">isUint</span>&nbsp;<span class="op" id="6834317">||</span>&nbsp;<span class="ident" id="6834320">test</span><span class="op" id="6834324">.</span><span class="ident" id="6834325">isFloat</span>&nbsp;<span class="op" id="6834333">||</span>&nbsp;<span class="ident" id="6834336">test</span><span class="op" id="6834340">.</span><span class="ident" id="6834341">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834353">if</span>&nbsp;<span class="ident" id="6834356">ok</span>&nbsp;<span class="op" id="6834359">&amp;&amp;</span>&nbsp;<span class="ident" id="6834362">err</span>&nbsp;<span class="op" id="6834366">!=</span>&nbsp;<span class="ident" id="6834369">nil</span>&nbsp;<span class="op" id="6834373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834378">t</span><span class="op" id="6834379">.</span><span class="ident" id="6834380">Errorf</span><span class="op" id="6834386">(</span><span class="string" id="6834387">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6834416">,</span>&nbsp;<span class="ident" id="6834418">test</span><span class="op" id="6834422">.</span><span class="ident" id="6834423">text</span><span class="op" id="6834427">,</span>&nbsp;<span class="ident" id="6834429">err</span><span class="op" id="6834432">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834437">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834452">if</span>&nbsp;<span class="op" id="6834455">!</span><span class="ident" id="6834456">ok</span>&nbsp;<span class="op" id="6834459">&amp;&amp;</span>&nbsp;<span class="ident" id="6834462">err</span>&nbsp;<span class="op" id="6834466">==</span>&nbsp;<span class="ident" id="6834469">nil</span>&nbsp;<span class="op" id="6834473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834478">t</span><span class="op" id="6834479">.</span><span class="ident" id="6834480">Errorf</span><span class="op" id="6834486">(</span><span class="string" id="6834487">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6834510">,</span>&nbsp;<span class="ident" id="6834512">test</span><span class="op" id="6834516">.</span><span class="ident" id="6834517">text</span><span class="op" id="6834521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834526">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834541">if</span>&nbsp;<span class="op" id="6834544">!</span><span class="ident" id="6834545">ok</span>&nbsp;<span class="op" id="6834548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834553">if</span>&nbsp;<span class="op" id="6834556">*</span><span class="ident" id="6834557">debug</span>&nbsp;<span class="op" id="6834563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834569">fmt</span><span class="op" id="6834572">.</span><span class="ident" id="6834573">Printf</span><span class="op" id="6834579">(</span><span class="string" id="6834580">&#34;%s\n\t%s\n&#34;</span><span class="op" id="6834592">,</span>&nbsp;<span class="ident" id="6834594">test</span><span class="op" id="6834598">.</span><span class="ident" id="6834599">text</span><span class="op" id="6834603">,</span>&nbsp;<span class="ident" id="6834605">err</span><span class="op" id="6834608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834613">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834618">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834633">if</span>&nbsp;<span class="ident" id="6834636">n</span><span class="op" id="6834637">.</span><span class="ident" id="6834638">IsComplex</span>&nbsp;<span class="op" id="6834648">!=</span>&nbsp;<span class="ident" id="6834651">test</span><span class="op" id="6834655">.</span><span class="ident" id="6834656">isComplex</span>&nbsp;<span class="op" id="6834666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834671">t</span><span class="op" id="6834672">.</span><span class="ident" id="6834673">Errorf</span><span class="op" id="6834679">(</span><span class="string" id="6834680">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6834720">,</span>&nbsp;<span class="ident" id="6834722">test</span><span class="op" id="6834726">.</span><span class="ident" id="6834727">text</span><span class="op" id="6834731">,</span>&nbsp;<span class="ident" id="6834733">test</span><span class="op" id="6834737">.</span><span class="ident" id="6834738">isComplex</span><span class="op" id="6834747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834751">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834755">if</span>&nbsp;<span class="ident" id="6834758">test</span><span class="op" id="6834762">.</span><span class="ident" id="6834763">isInt</span>&nbsp;<span class="op" id="6834769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834774">if</span>&nbsp;<span class="op" id="6834777">!</span><span class="ident" id="6834778">n</span><span class="op" id="6834779">.</span><span class="ident" id="6834780">IsInt</span>&nbsp;<span class="op" id="6834786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834792">t</span><span class="op" id="6834793">.</span><span class="ident" id="6834794">Errorf</span><span class="op" id="6834800">(</span><span class="string" id="6834801">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6834826">,</span>&nbsp;<span class="ident" id="6834828">test</span><span class="op" id="6834832">.</span><span class="ident" id="6834833">text</span><span class="op" id="6834837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834847">if</span>&nbsp;<span class="ident" id="6834850">n</span><span class="op" id="6834851">.</span><span class="ident" id="6834852">Int64</span>&nbsp;<span class="op" id="6834858">!=</span>&nbsp;<span class="ident" id="6834861">test</span><span class="op" id="6834865">.</span><span class="ident" id="6834866">int64</span>&nbsp;<span class="op" id="6834872">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834878">t</span><span class="op" id="6834879">.</span><span class="ident" id="6834880">Errorf</span><span class="op" id="6834886">(</span><span class="string" id="6834887">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6834920">,</span>&nbsp;<span class="ident" id="6834922">test</span><span class="op" id="6834926">.</span><span class="ident" id="6834927">text</span><span class="op" id="6834931">,</span>&nbsp;<span class="ident" id="6834933">test</span><span class="op" id="6834937">.</span><span class="ident" id="6834938">int64</span><span class="op" id="6834943">,</span>&nbsp;<span class="ident" id="6834945">n</span><span class="op" id="6834946">.</span><span class="ident" id="6834947">Int64</span><span class="op" id="6834952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834961">}</span>&nbsp;<span class="keyword" id="6834963">else</span>&nbsp;<span class="keyword" id="6834968">if</span>&nbsp;<span class="ident" id="6834971">n</span><span class="op" id="6834972">.</span><span class="ident" id="6834973">IsInt</span>&nbsp;<span class="op" id="6834979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834984">t</span><span class="op" id="6834985">.</span><span class="ident" id="6834986">Errorf</span><span class="op" id="6834992">(</span><span class="string" id="6834993">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6835024">,</span>&nbsp;<span class="ident" id="6835026">test</span><span class="op" id="6835030">.</span><span class="ident" id="6835031">text</span><span class="op" id="6835035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835039">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835043">if</span>&nbsp;<span class="ident" id="6835046">test</span><span class="op" id="6835050">.</span><span class="ident" id="6835051">isUint</span>&nbsp;<span class="op" id="6835058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835063">if</span>&nbsp;<span class="op" id="6835066">!</span><span class="ident" id="6835067">n</span><span class="op" id="6835068">.</span><span class="ident" id="6835069">IsUint</span>&nbsp;<span class="op" id="6835076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835082">t</span><span class="op" id="6835083">.</span><span class="ident" id="6835084">Errorf</span><span class="op" id="6835090">(</span><span class="string" id="6835091">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6835125">,</span>&nbsp;<span class="ident" id="6835127">test</span><span class="op" id="6835131">.</span><span class="ident" id="6835132">text</span><span class="op" id="6835136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835146">if</span>&nbsp;<span class="ident" id="6835149">n</span><span class="op" id="6835150">.</span><span class="ident" id="6835151">Uint64</span>&nbsp;<span class="op" id="6835158">!=</span>&nbsp;<span class="ident" id="6835161">test</span><span class="op" id="6835165">.</span><span class="ident" id="6835166">uint64</span>&nbsp;<span class="op" id="6835173">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835179">t</span><span class="op" id="6835180">.</span><span class="ident" id="6835181">Errorf</span><span class="op" id="6835187">(</span><span class="string" id="6835188">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6835222">,</span>&nbsp;<span class="ident" id="6835224">test</span><span class="op" id="6835228">.</span><span class="ident" id="6835229">text</span><span class="op" id="6835233">,</span>&nbsp;<span class="ident" id="6835235">test</span><span class="op" id="6835239">.</span><span class="ident" id="6835240">uint64</span><span class="op" id="6835246">,</span>&nbsp;<span class="ident" id="6835248">n</span><span class="op" id="6835249">.</span><span class="ident" id="6835250">Uint64</span><span class="op" id="6835256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835265">}</span>&nbsp;<span class="keyword" id="6835267">else</span>&nbsp;<span class="keyword" id="6835272">if</span>&nbsp;<span class="ident" id="6835275">n</span><span class="op" id="6835276">.</span><span class="ident" id="6835277">IsUint</span>&nbsp;<span class="op" id="6835284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835289">t</span><span class="op" id="6835290">.</span><span class="ident" id="6835291">Errorf</span><span class="op" id="6835297">(</span><span class="string" id="6835298">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6835338">,</span>&nbsp;<span class="ident" id="6835340">test</span><span class="op" id="6835344">.</span><span class="ident" id="6835345">text</span><span class="op" id="6835349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835353">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835357">if</span>&nbsp;<span class="ident" id="6835360">test</span><span class="op" id="6835364">.</span><span class="ident" id="6835365">isFloat</span>&nbsp;<span class="op" id="6835373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835378">if</span>&nbsp;<span class="op" id="6835381">!</span><span class="ident" id="6835382">n</span><span class="op" id="6835383">.</span><span class="ident" id="6835384">IsFloat</span>&nbsp;<span class="op" id="6835392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835398">t</span><span class="op" id="6835399">.</span><span class="ident" id="6835400">Errorf</span><span class="op" id="6835406">(</span><span class="string" id="6835407">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6835430">,</span>&nbsp;<span class="ident" id="6835432">test</span><span class="op" id="6835436">.</span><span class="ident" id="6835437">text</span><span class="op" id="6835441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835451">if</span>&nbsp;<span class="ident" id="6835454">n</span><span class="op" id="6835455">.</span><span class="ident" id="6835456">Float64</span>&nbsp;<span class="op" id="6835464">!=</span>&nbsp;<span class="ident" id="6835467">test</span><span class="op" id="6835471">.</span><span class="builtintype" id="6835472">float64</span>&nbsp;<span class="op" id="6835480">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835486">t</span><span class="op" id="6835487">.</span><span class="ident" id="6835488">Errorf</span><span class="op" id="6835494">(</span><span class="string" id="6835495">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6835530">,</span>&nbsp;<span class="ident" id="6835532">test</span><span class="op" id="6835536">.</span><span class="ident" id="6835537">text</span><span class="op" id="6835541">,</span>&nbsp;<span class="ident" id="6835543">test</span><span class="op" id="6835547">.</span><span class="builtintype" id="6835548">float64</span><span class="op" id="6835555">,</span>&nbsp;<span class="ident" id="6835557">n</span><span class="op" id="6835558">.</span><span class="ident" id="6835559">Float64</span><span class="op" id="6835566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835575">}</span>&nbsp;<span class="keyword" id="6835577">else</span>&nbsp;<span class="keyword" id="6835582">if</span>&nbsp;<span class="ident" id="6835585">n</span><span class="op" id="6835586">.</span><span class="ident" id="6835587">IsFloat</span>&nbsp;<span class="op" id="6835595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835600">t</span><span class="op" id="6835601">.</span><span class="ident" id="6835602">Errorf</span><span class="op" id="6835608">(</span><span class="string" id="6835609">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6835638">,</span>&nbsp;<span class="ident" id="6835640">test</span><span class="op" id="6835644">.</span><span class="ident" id="6835645">text</span><span class="op" id="6835649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835653">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835657">if</span>&nbsp;<span class="ident" id="6835660">test</span><span class="op" id="6835664">.</span><span class="ident" id="6835665">isComplex</span>&nbsp;<span class="op" id="6835675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835680">if</span>&nbsp;<span class="op" id="6835683">!</span><span class="ident" id="6835684">n</span><span class="op" id="6835685">.</span><span class="ident" id="6835686">IsComplex</span>&nbsp;<span class="op" id="6835696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835702">t</span><span class="op" id="6835703">.</span><span class="ident" id="6835704">Errorf</span><span class="op" id="6835710">(</span><span class="string" id="6835711">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6835736">,</span>&nbsp;<span class="ident" id="6835738">test</span><span class="op" id="6835742">.</span><span class="ident" id="6835743">text</span><span class="op" id="6835747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6835757">if</span>&nbsp;<span class="ident" id="6835760">n</span><span class="op" id="6835761">.</span><span class="ident" id="6835762">Complex128</span>&nbsp;<span class="op" id="6835773">!=</span>&nbsp;<span class="ident" id="6835776">test</span><span class="op" id="6835780">.</span><span class="builtintype" id="6835781">complex128</span>&nbsp;<span class="op" id="6835792">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835798">t</span><span class="op" id="6835799">.</span><span class="ident" id="6835800">Errorf</span><span class="op" id="6835806">(</span><span class="string" id="6835807">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6835845">,</span>&nbsp;<span class="ident" id="6835847">test</span><span class="op" id="6835851">.</span><span class="ident" id="6835852">text</span><span class="op" id="6835856">,</span>&nbsp;<span class="ident" id="6835858">test</span><span class="op" id="6835862">.</span><span class="builtintype" id="6835863">complex128</span><span class="op" id="6835873">,</span>&nbsp;<span class="ident" id="6835875">n</span><span class="op" id="6835876">.</span><span class="ident" id="6835877">Complex128</span><span class="op" id="6835887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835896">}</span>&nbsp;<span class="keyword" id="6835898">else</span>&nbsp;<span class="keyword" id="6835903">if</span>&nbsp;<span class="ident" id="6835906">n</span><span class="op" id="6835907">.</span><span class="ident" id="6835908">IsComplex</span>&nbsp;<span class="op" id="6835918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6835923">t</span><span class="op" id="6835924">.</span><span class="ident" id="6835925">Errorf</span><span class="op" id="6835931">(</span><span class="string" id="6835932">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6835963">,</span>&nbsp;<span class="ident" id="6835965">test</span><span class="op" id="6835969">.</span><span class="ident" id="6835970">text</span><span class="op" id="6835974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835978">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6835981">}</span><br>
<span class="lineno"></span><span class="op" id="6835983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6835986">type</span>&nbsp;<span class="ident" id="6835991">parseTest</span>&nbsp;<span class="keyword" id="6836001">struct</span>&nbsp;<span class="op" id="6836008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836011">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6836018">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836026">input</span>&nbsp;&nbsp;<span class="builtintype" id="6836033">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836041">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6836048">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836054">result</span>&nbsp;<span class="builtintype" id="6836061">string</span>&nbsp;<span class="comment" id="6836068">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="6836116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6836119">const</span>&nbsp;<span class="op" id="6836125">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836128">noError</span>&nbsp;&nbsp;<span class="op" id="6836137">=</span>&nbsp;<span class="builtintype" id="6836139">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6836145">hasError</span>&nbsp;<span class="op" id="6836154">=</span>&nbsp;<span class="builtintype" id="6836156">false</span><br>
<span class="lineno"></span><span class="op" id="6836162">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="6836165">var</span>&nbsp;<span class="ident" id="6836169">parseTests</span>&nbsp;<span class="op" id="6836180">=</span>&nbsp;<span class="op" id="6836182">[</span><span class="op" id="6836183">]</span><span class="ident" id="6836184">parseTest</span><span class="op" id="6836193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836196">{</span><span class="string" id="6836197">&#34;empty&#34;</span><span class="op" id="6836204">,</span>&nbsp;<span class="string" id="6836206">&#34;&#34;</span><span class="op" id="6836208">,</span>&nbsp;<span class="ident" id="6836210">noError</span><span class="op" id="6836217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836221">``</span><span class="op" id="6836223">}</span><span class="op" id="6836224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836227">{</span><span class="string" id="6836228">&#34;comment&#34;</span><span class="op" id="6836237">,</span>&nbsp;<span class="string" id="6836239">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="6836255">,</span>&nbsp;<span class="ident" id="6836257">noError</span><span class="op" id="6836264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836268">``</span><span class="op" id="6836270">}</span><span class="op" id="6836271">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836274">{</span><span class="string" id="6836275">&#34;spaces&#34;</span><span class="op" id="6836283">,</span>&nbsp;<span class="string" id="6836285">&#34;&nbsp;\t\n&#34;</span><span class="op" id="6836292">,</span>&nbsp;<span class="ident" id="6836294">noError</span><span class="op" id="6836301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836305">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="6836314">}</span><span class="op" id="6836315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836318">{</span><span class="string" id="6836319">&#34;text&#34;</span><span class="op" id="6836325">,</span>&nbsp;<span class="string" id="6836327">&#34;some&nbsp;text&#34;</span><span class="op" id="6836338">,</span>&nbsp;<span class="ident" id="6836340">noError</span><span class="op" id="6836347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836351">`&#34;some&nbsp;text&#34;`</span><span class="op" id="6836364">}</span><span class="op" id="6836365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836368">{</span><span class="string" id="6836369">&#34;emptyAction&#34;</span><span class="op" id="6836382">,</span>&nbsp;<span class="string" id="6836384">&#34;{{}}&#34;</span><span class="op" id="6836390">,</span>&nbsp;<span class="ident" id="6836392">hasError</span><span class="op" id="6836400">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836404">`{{}}`</span><span class="op" id="6836410">}</span><span class="op" id="6836411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836414">{</span><span class="string" id="6836415">&#34;field&#34;</span><span class="op" id="6836422">,</span>&nbsp;<span class="string" id="6836424">&#34;{{.X}}&#34;</span><span class="op" id="6836432">,</span>&nbsp;<span class="ident" id="6836434">noError</span><span class="op" id="6836441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836445">`{{.X}}`</span><span class="op" id="6836453">}</span><span class="op" id="6836454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836457">{</span><span class="string" id="6836458">&#34;simple&nbsp;command&#34;</span><span class="op" id="6836474">,</span>&nbsp;<span class="string" id="6836476">&#34;{{printf}}&#34;</span><span class="op" id="6836488">,</span>&nbsp;<span class="ident" id="6836490">noError</span><span class="op" id="6836497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836501">`{{printf}}`</span><span class="op" id="6836513">}</span><span class="op" id="6836514">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836517">{</span><span class="string" id="6836518">&#34;$&nbsp;invocation&#34;</span><span class="op" id="6836532">,</span>&nbsp;<span class="string" id="6836534">&#34;{{$}}&#34;</span><span class="op" id="6836541">,</span>&nbsp;<span class="ident" id="6836543">noError</span><span class="op" id="6836550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836554">&#34;{{$}}&#34;</span><span class="op" id="6836561">}</span><span class="op" id="6836562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836565">{</span><span class="string" id="6836566">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="6836587">,</span>&nbsp;<span class="string" id="6836589">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6836623">,</span>&nbsp;<span class="ident" id="6836625">noError</span><span class="op" id="6836632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836636">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6836670">}</span><span class="op" id="6836671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836674">{</span><span class="string" id="6836675">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="6836697">,</span>&nbsp;<span class="string" id="6836699">&#34;{{$.I}}&#34;</span><span class="op" id="6836708">,</span>&nbsp;<span class="ident" id="6836710">noError</span><span class="op" id="6836717">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836721">&#34;{{$.I}}&#34;</span><span class="op" id="6836730">}</span><span class="op" id="6836731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836734">{</span><span class="string" id="6836735">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="6836755">,</span>&nbsp;<span class="string" id="6836757">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6836777">,</span>&nbsp;<span class="ident" id="6836779">noError</span><span class="op" id="6836786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836790">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6836810">}</span><span class="op" id="6836811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836814">{</span><span class="string" id="6836815">&#34;pipeline&#34;</span><span class="op" id="6836825">,</span>&nbsp;<span class="string" id="6836827">&#34;{{.X|.Y}}&#34;</span><span class="op" id="6836838">,</span>&nbsp;<span class="ident" id="6836840">noError</span><span class="op" id="6836847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836851">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6836864">}</span><span class="op" id="6836865">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836868">{</span><span class="string" id="6836869">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="6836889">,</span>&nbsp;<span class="string" id="6836891">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="6836908">,</span>&nbsp;<span class="ident" id="6836910">noError</span><span class="op" id="6836917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6836921">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6836940">}</span><span class="op" id="6836941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6836944">{</span><span class="string" id="6836945">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="6836962">,</span>&nbsp;<span class="string" id="6836964">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="6836998">,</span>&nbsp;<span class="ident" id="6837000">noError</span><span class="op" id="6837007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6837011">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="6837045">}</span><span class="op" id="6837046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6837049">{</span><span class="string" id="6837050">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6837080">,</span>&nbsp;<span class="string" id="6837082">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="6837101">,</span>&nbsp;<span class="ident" id="6837103">noError</span><span class="op" id="6837110">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6837114">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="6837133">}</span><span class="op" id="6837134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6837137">{</span><span class="string" id="6837138">&#34;simple&nbsp;if&#34;</span><span class="op" id="6837149">,</span>&nbsp;<span class="string" id="6837151">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6837174">,</span>&nbsp;<span class="ident" id="6837176">noError</span><span class="op" id="6837183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6837187">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6837212">}</span><span class="op" id="6837213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6837216">{</span><span class="string" id="6837217">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="6837231">,</span>&nbsp;<span class="string" id="6837233">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6837268">,</span>&nbsp;<span class="ident" id="6837270">noError</span><span class="op" id="6837277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6837281">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6837320">}</span><span class="op" id="6837321">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6837324">{</span><span class="string" id="6837325">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="6837342">,</span>&nbsp;<span class="string" id="6837344">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="6837385">,</span>&nbsp;<span class="ident" id="6837387">noError</span><span class="op" id="6837394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6837398">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="6837453">}</span><span class="op" id="6837454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6837457">{</span><span class="string" id="6837458">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="6837473">,</span>&nbsp;<span class="string" id="6837475">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="6837526">,</span>&nbsp;<span class="ident" id="6837528">noError</span><span class="op" id="6837535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6837539">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="6837620">}</span><span class="op" id="6837621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6837624">{</span><span class="string" id="6837625">&#34;simple&nbsp;range&#34;</span><span class="op" id="6837639">,</span>&nbsp;<span class="string" id="6837641">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6837667">,</span>&nbsp;<span class="ident" id="6837669">noError</span><span class="op" id="6837676">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6837680">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6837708">}</span><span class="op" id="6837709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6837712">{</span><span class="string" id="6837713">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="6837734">,</span>&nbsp;<span class="string" id="6837736">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="6837766">,</span>&nbsp;<span class="ident" id="6837768">noError</span><span class="op" id="6837775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6837779">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="6837811">}</span><span class="op" id="6837812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6837815">{</span><span class="string" id="6837816">&#34;nested&nbsp;range&#34;</span><span class="op" id="6837830">,</span>&nbsp;<span class="string" id="6837832">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="6837884">,</span>&nbsp;<span class="ident" id="6837886">noError</span><span class="op" id="6837893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6837897">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="6837953">}</span><span class="op" id="6837954">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6837957">{</span><span class="string" id="6837958">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="6837975">,</span>&nbsp;<span class="string" id="6837977">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6838015">,</span>&nbsp;<span class="ident" id="6838017">noError</span><span class="op" id="6838024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838028">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6838070">}</span><span class="op" id="6838071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838074">{</span><span class="string" id="6838075">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="6838096">,</span>&nbsp;<span class="string" id="6838098">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="6838139">,</span>&nbsp;<span class="ident" id="6838141">noError</span><span class="op" id="6838148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838152">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6838199">}</span><span class="op" id="6838200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838203">{</span><span class="string" id="6838204">&#34;range&nbsp;[]int&#34;</span><span class="op" id="6838217">,</span>&nbsp;<span class="string" id="6838219">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6838246">,</span>&nbsp;<span class="ident" id="6838248">noError</span><span class="op" id="6838255">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838259">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6838286">}</span><span class="op" id="6838287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838290">{</span><span class="string" id="6838291">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="6838304">,</span>&nbsp;<span class="string" id="6838306">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6838339">,</span>&nbsp;<span class="ident" id="6838341">noError</span><span class="op" id="6838348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838352">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6838385">}</span><span class="op" id="6838386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838389">{</span><span class="string" id="6838390">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="6838404">,</span>&nbsp;<span class="string" id="6838406">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6838443">,</span>&nbsp;<span class="ident" id="6838445">noError</span><span class="op" id="6838452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838456">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6838493">}</span><span class="op" id="6838494">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838497">{</span><span class="string" id="6838498">&#34;constants&#34;</span><span class="op" id="6838509">,</span>&nbsp;<span class="string" id="6838511">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="6838560">,</span>&nbsp;<span class="ident" id="6838562">noError</span><span class="op" id="6838569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838573">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="6838622">}</span><span class="op" id="6838623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838626">{</span><span class="string" id="6838627">&#34;template&#34;</span><span class="op" id="6838637">,</span>&nbsp;<span class="string" id="6838639">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="6838657">,</span>&nbsp;<span class="ident" id="6838659">noError</span><span class="op" id="6838666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838670">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="6838688">}</span><span class="op" id="6838689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838692">{</span><span class="string" id="6838693">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="6838712">,</span>&nbsp;<span class="string" id="6838714">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="6838735">,</span>&nbsp;<span class="ident" id="6838737">noError</span><span class="op" id="6838744">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838748">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="6838769">}</span><span class="op" id="6838770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838773">{</span><span class="string" id="6838774">&#34;with&#34;</span><span class="op" id="6838780">,</span>&nbsp;<span class="string" id="6838782">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6838807">,</span>&nbsp;<span class="ident" id="6838809">noError</span><span class="op" id="6838816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838820">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6838847">}</span><span class="op" id="6838848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838851">{</span><span class="string" id="6838852">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="6838868">,</span>&nbsp;<span class="string" id="6838870">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="6838910">,</span>&nbsp;<span class="ident" id="6838912">noError</span><span class="op" id="6838919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6838923">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="6838967">}</span><span class="op" id="6838968">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6838971">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6838983">{</span><span class="string" id="6838984">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="6839001">,</span>&nbsp;<span class="string" id="6839003">&#34;hello{{range&#34;</span><span class="op" id="6839017">,</span>&nbsp;<span class="ident" id="6839019">hasError</span><span class="op" id="6839027">,</span>&nbsp;<span class="string" id="6839029">&#34;&#34;</span><span class="op" id="6839031">}</span><span class="op" id="6839032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839035">{</span><span class="string" id="6839036">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="6839051">,</span>&nbsp;<span class="string" id="6839053">&#34;{{end}}&#34;</span><span class="op" id="6839062">,</span>&nbsp;<span class="ident" id="6839064">hasError</span><span class="op" id="6839072">,</span>&nbsp;<span class="string" id="6839074">&#34;&#34;</span><span class="op" id="6839076">}</span><span class="op" id="6839077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839080">{</span><span class="string" id="6839081">&#34;missing&nbsp;end&#34;</span><span class="op" id="6839094">,</span>&nbsp;<span class="string" id="6839096">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="6839115">,</span>&nbsp;<span class="ident" id="6839117">hasError</span><span class="op" id="6839125">,</span>&nbsp;<span class="string" id="6839127">&#34;&#34;</span><span class="op" id="6839129">}</span><span class="op" id="6839130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839133">{</span><span class="string" id="6839134">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="6839158">,</span>&nbsp;<span class="string" id="6839160">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="6839187">,</span>&nbsp;<span class="ident" id="6839189">hasError</span><span class="op" id="6839197">,</span>&nbsp;<span class="string" id="6839199">&#34;&#34;</span><span class="op" id="6839201">}</span><span class="op" id="6839202">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839205">{</span><span class="string" id="6839206">&#34;undefined&nbsp;function&#34;</span><span class="op" id="6839226">,</span>&nbsp;<span class="string" id="6839228">&#34;hello{{undefined}}&#34;</span><span class="op" id="6839248">,</span>&nbsp;<span class="ident" id="6839250">hasError</span><span class="op" id="6839258">,</span>&nbsp;<span class="string" id="6839260">&#34;&#34;</span><span class="op" id="6839262">}</span><span class="op" id="6839263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839266">{</span><span class="string" id="6839267">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="6839287">,</span>&nbsp;<span class="string" id="6839289">&#34;{{$x}}&#34;</span><span class="op" id="6839297">,</span>&nbsp;<span class="ident" id="6839299">hasError</span><span class="op" id="6839307">,</span>&nbsp;<span class="string" id="6839309">&#34;&#34;</span><span class="op" id="6839311">}</span><span class="op" id="6839312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839315">{</span><span class="string" id="6839316">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="6839346">,</span>&nbsp;<span class="string" id="6839348">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="6839379">,</span>&nbsp;<span class="ident" id="6839381">hasError</span><span class="op" id="6839389">,</span>&nbsp;<span class="string" id="6839391">&#34;&#34;</span><span class="op" id="6839393">}</span><span class="op" id="6839394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839397">{</span><span class="string" id="6839398">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="6839430">,</span>&nbsp;<span class="string" id="6839432">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6839449">,</span>&nbsp;<span class="ident" id="6839451">hasError</span><span class="op" id="6839459">,</span>&nbsp;<span class="string" id="6839461">&#34;&#34;</span><span class="op" id="6839463">}</span><span class="op" id="6839464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839467">{</span><span class="string" id="6839468">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="6839488">,</span>&nbsp;<span class="string" id="6839490">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="6839517">,</span>&nbsp;<span class="ident" id="6839519">hasError</span><span class="op" id="6839527">,</span>&nbsp;<span class="string" id="6839529">&#34;&#34;</span><span class="op" id="6839531">}</span><span class="op" id="6839532">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839535">{</span><span class="string" id="6839536">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="6839561">,</span>&nbsp;<span class="string" id="6839563">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="6839580">,</span>&nbsp;<span class="ident" id="6839582">hasError</span><span class="op" id="6839590">,</span>&nbsp;<span class="string" id="6839592">&#34;&#34;</span><span class="op" id="6839594">}</span><span class="op" id="6839595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839598">{</span><span class="string" id="6839599">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="6839618">,</span>&nbsp;<span class="string" id="6839620">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6839637">,</span>&nbsp;<span class="ident" id="6839639">hasError</span><span class="op" id="6839647">,</span>&nbsp;<span class="string" id="6839649">&#34;&#34;</span><span class="op" id="6839651">}</span><span class="op" id="6839652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839655">{</span><span class="string" id="6839656">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="6839677">,</span>&nbsp;<span class="string" id="6839679">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="6839696">,</span>&nbsp;<span class="ident" id="6839698">hasError</span><span class="op" id="6839706">,</span>&nbsp;<span class="string" id="6839708">&#34;&#34;</span><span class="op" id="6839710">}</span><span class="op" id="6839711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839714">{</span><span class="string" id="6839715">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="6839740">,</span>&nbsp;<span class="string" id="6839742">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6839771">,</span>&nbsp;<span class="ident" id="6839773">hasError</span><span class="op" id="6839781">,</span>&nbsp;<span class="string" id="6839783">&#34;&#34;</span><span class="op" id="6839785">}</span><span class="op" id="6839786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839789">{</span><span class="string" id="6839790">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="6839815">,</span>&nbsp;<span class="string" id="6839817">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6839851">,</span>&nbsp;<span class="ident" id="6839853">hasError</span><span class="op" id="6839861">,</span>&nbsp;<span class="string" id="6839863">&#34;&#34;</span><span class="op" id="6839865">}</span><span class="op" id="6839866">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839869">{</span><span class="string" id="6839870">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6839898">,</span>&nbsp;<span class="string" id="6839900">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="6839924">,</span>&nbsp;<span class="ident" id="6839926">hasError</span><span class="op" id="6839934">,</span>&nbsp;<span class="string" id="6839936">&#34;&#34;</span><span class="op" id="6839938">}</span><span class="op" id="6839939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839942">{</span><span class="string" id="6839943">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="6839958">,</span>&nbsp;<span class="string" id="6839960">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="6839977">,</span>&nbsp;<span class="ident" id="6839979">hasError</span><span class="op" id="6839987">,</span>&nbsp;<span class="string" id="6839989">&#34;&#34;</span><span class="op" id="6839991">}</span><span class="op" id="6839992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6839995">{</span><span class="string" id="6839996">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="6840018">,</span>&nbsp;<span class="string" id="6840020">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="6840037">,</span>&nbsp;<span class="ident" id="6840039">hasError</span><span class="op" id="6840047">,</span>&nbsp;<span class="string" id="6840049">&#34;&#34;</span><span class="op" id="6840051">}</span><span class="op" id="6840052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840055">{</span><span class="string" id="6840056">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="6840076">,</span>&nbsp;<span class="string" id="6840078">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="6840119">,</span>&nbsp;<span class="ident" id="6840121">hasError</span><span class="op" id="6840129">,</span>&nbsp;<span class="string" id="6840131">&#34;&#34;</span><span class="op" id="6840133">}</span><span class="op" id="6840134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6840137">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840197">{</span><span class="string" id="6840198">&#34;bug0a&#34;</span><span class="op" id="6840205">,</span>&nbsp;<span class="string" id="6840207">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6840226">,</span>&nbsp;<span class="ident" id="6840228">noError</span><span class="op" id="6840235">,</span>&nbsp;<span class="string" id="6840237">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6840256">}</span><span class="op" id="6840257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840260">{</span><span class="string" id="6840261">&#34;bug0b&#34;</span><span class="op" id="6840268">,</span>&nbsp;<span class="string" id="6840270">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="6840288">,</span>&nbsp;<span class="ident" id="6840290">hasError</span><span class="op" id="6840298">,</span>&nbsp;<span class="string" id="6840300">&#34;&#34;</span><span class="op" id="6840302">}</span><span class="op" id="6840303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840306">{</span><span class="string" id="6840307">&#34;bug0c&#34;</span><span class="op" id="6840314">,</span>&nbsp;<span class="string" id="6840316">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="6840334">,</span>&nbsp;<span class="ident" id="6840336">hasError</span><span class="op" id="6840344">,</span>&nbsp;<span class="string" id="6840346">&#34;&#34;</span><span class="op" id="6840348">}</span><span class="op" id="6840349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840352">{</span><span class="string" id="6840353">&#34;bug0d&#34;</span><span class="op" id="6840360">,</span>&nbsp;<span class="string" id="6840362">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="6840380">,</span>&nbsp;<span class="ident" id="6840382">hasError</span><span class="op" id="6840390">,</span>&nbsp;<span class="string" id="6840392">&#34;&#34;</span><span class="op" id="6840394">}</span><span class="op" id="6840395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6840398">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840450">{</span><span class="string" id="6840451">&#34;bug0e&#34;</span><span class="op" id="6840458">,</span>&nbsp;<span class="string" id="6840460">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6840492">,</span>&nbsp;<span class="ident" id="6840494">hasError</span><span class="op" id="6840502">,</span>&nbsp;<span class="string" id="6840504">&#34;&#34;</span><span class="op" id="6840506">}</span><span class="op" id="6840507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6840510">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840576">{</span><span class="string" id="6840577">&#34;bug1a&#34;</span><span class="op" id="6840584">,</span>&nbsp;<span class="string" id="6840586">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="6840605">,</span>&nbsp;<span class="ident" id="6840607">hasError</span><span class="op" id="6840615">,</span>&nbsp;<span class="string" id="6840617">&#34;&#34;</span><span class="op" id="6840619">}</span><span class="op" id="6840620">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6840642">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840670">{</span><span class="string" id="6840671">&#34;bug1b&#34;</span><span class="op" id="6840678">,</span>&nbsp;<span class="string" id="6840680">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="6840699">,</span>&nbsp;<span class="ident" id="6840701">hasError</span><span class="op" id="6840709">,</span>&nbsp;<span class="string" id="6840711">&#34;&#34;</span><span class="op" id="6840713">}</span><span class="op" id="6840714">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6840736">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6840776">{</span><span class="string" id="6840777">&#34;bug1c&#34;</span><span class="op" id="6840784">,</span>&nbsp;<span class="string" id="6840786">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6840806">,</span>&nbsp;<span class="ident" id="6840808">noError</span><span class="op" id="6840815">,</span>&nbsp;<span class="string" id="6840817">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6840839">}</span><span class="op" id="6840840">,</span>&nbsp;<span class="comment" id="6840842">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="6840867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6840870">var</span>&nbsp;<span class="ident" id="6840874">builtins</span>&nbsp;<span class="op" id="6840883">=</span>&nbsp;<span class="keyword" id="6840885">map</span><span class="op" id="6840888">[</span><span class="builtintype" id="6840889">string</span><span class="op" id="6840895">]</span><span class="keyword" id="6840896">interface</span><span class="op" id="6840905">{</span><span class="op" id="6840906">}</span><span class="op" id="6840907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6840910">&#34;printf&#34;</span><span class="op" id="6840918">:</span>&nbsp;<span class="ident" id="6840920">fmt</span><span class="op" id="6840923">.</span><span class="ident" id="6840924">Sprintf</span><span class="op" id="6840931">,</span><br>
<span class="lineno"></span><span class="op" id="6840933">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="6840936">func</span>&nbsp;<span class="ident" id="6840941">testParse</span><span class="op" id="6840950">(</span><span class="ident" id="6840951">doCopy</span>&nbsp;<span class="builtintype" id="6840958">bool</span><span class="op" id="6840962">,</span>&nbsp;<span class="ident" id="6840964">t</span>&nbsp;<span class="op" id="6840966">*</span><span class="ident" id="6840967">testing</span><span class="op" id="6840974">.</span><span class="ident" id="6840975">T</span><span class="op" id="6840976">)</span>&nbsp;<span class="op" id="6840978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6840981">textFormat</span>&nbsp;<span class="op" id="6840992">=</span>&nbsp;<span class="string" id="6840994">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841000">defer</span>&nbsp;<span class="keyword" id="6841006">func</span><span class="op" id="6841010">(</span><span class="op" id="6841011">)</span>&nbsp;<span class="op" id="6841013">{</span>&nbsp;<span class="ident" id="6841015">textFormat</span>&nbsp;<span class="op" id="6841026">=</span>&nbsp;<span class="string" id="6841028">&#34;%s&#34;</span>&nbsp;<span class="op" id="6841033">}</span><span class="op" id="6841034">(</span><span class="op" id="6841035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841038">for</span>&nbsp;<span class="ident" id="6841042">_</span><span class="op" id="6841043">,</span>&nbsp;<span class="ident" id="6841045">test</span>&nbsp;<span class="op" id="6841050">:=</span>&nbsp;<span class="keyword" id="6841053">range</span>&nbsp;<span class="ident" id="6841059">parseTests</span>&nbsp;<span class="op" id="6841070">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841074">tmpl</span><span class="op" id="6841078">,</span>&nbsp;<span class="ident" id="6841080">err</span>&nbsp;<span class="op" id="6841084">:=</span>&nbsp;<span class="ident" id="6841087">New</span><span class="op" id="6841090">(</span><span class="ident" id="6841091">test</span><span class="op" id="6841095">.</span><span class="ident" id="6841096">name</span><span class="op" id="6841100">)</span><span class="op" id="6841101">.</span><span class="ident" id="6841102">Parse</span><span class="op" id="6841107">(</span><span class="ident" id="6841108">test</span><span class="op" id="6841112">.</span><span class="ident" id="6841113">input</span><span class="op" id="6841118">,</span>&nbsp;<span class="string" id="6841120">&#34;&#34;</span><span class="op" id="6841122">,</span>&nbsp;<span class="string" id="6841124">&#34;&#34;</span><span class="op" id="6841126">,</span>&nbsp;<span class="builtinfunc" id="6841128">make</span><span class="op" id="6841132">(</span><span class="keyword" id="6841133">map</span><span class="op" id="6841136">[</span><span class="builtintype" id="6841137">string</span><span class="op" id="6841143">]</span><span class="op" id="6841144">*</span><span class="ident" id="6841145">Tree</span><span class="op" id="6841149">)</span><span class="op" id="6841150">,</span>&nbsp;<span class="ident" id="6841152">builtins</span><span class="op" id="6841160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841164">switch</span>&nbsp;<span class="op" id="6841171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841175">case</span>&nbsp;<span class="ident" id="6841180">err</span>&nbsp;<span class="op" id="6841184">==</span>&nbsp;<span class="ident" id="6841187">nil</span>&nbsp;<span class="op" id="6841191">&amp;&amp;</span>&nbsp;<span class="op" id="6841194">!</span><span class="ident" id="6841195">test</span><span class="op" id="6841199">.</span><span class="ident" id="6841200">ok</span><span class="op" id="6841202">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841207">t</span><span class="op" id="6841208">.</span><span class="ident" id="6841209">Errorf</span><span class="op" id="6841215">(</span><span class="string" id="6841216">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6841246">,</span>&nbsp;<span class="ident" id="6841248">test</span><span class="op" id="6841252">.</span><span class="ident" id="6841253">name</span><span class="op" id="6841257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841262">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841273">case</span>&nbsp;<span class="ident" id="6841278">err</span>&nbsp;<span class="op" id="6841282">!=</span>&nbsp;<span class="ident" id="6841285">nil</span>&nbsp;<span class="op" id="6841289">&amp;&amp;</span>&nbsp;<span class="ident" id="6841292">test</span><span class="op" id="6841296">.</span><span class="ident" id="6841297">ok</span><span class="op" id="6841299">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841304">t</span><span class="op" id="6841305">.</span><span class="ident" id="6841306">Errorf</span><span class="op" id="6841312">(</span><span class="string" id="6841313">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6841339">,</span>&nbsp;<span class="ident" id="6841341">test</span><span class="op" id="6841345">.</span><span class="ident" id="6841346">name</span><span class="op" id="6841350">,</span>&nbsp;<span class="ident" id="6841352">err</span><span class="op" id="6841355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841360">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841371">case</span>&nbsp;<span class="ident" id="6841376">err</span>&nbsp;<span class="op" id="6841380">!=</span>&nbsp;<span class="ident" id="6841383">nil</span>&nbsp;<span class="op" id="6841387">&amp;&amp;</span>&nbsp;<span class="op" id="6841390">!</span><span class="ident" id="6841391">test</span><span class="op" id="6841395">.</span><span class="ident" id="6841396">ok</span><span class="op" id="6841398">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6841403">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841433">if</span>&nbsp;<span class="op" id="6841436">*</span><span class="ident" id="6841437">debug</span>&nbsp;<span class="op" id="6841443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841449">fmt</span><span class="op" id="6841452">.</span><span class="ident" id="6841453">Printf</span><span class="op" id="6841459">(</span><span class="string" id="6841460">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="6841476">,</span>&nbsp;<span class="ident" id="6841478">test</span><span class="op" id="6841482">.</span><span class="ident" id="6841483">name</span><span class="op" id="6841487">,</span>&nbsp;<span class="ident" id="6841489">test</span><span class="op" id="6841493">.</span><span class="ident" id="6841494">input</span><span class="op" id="6841499">,</span>&nbsp;<span class="ident" id="6841501">err</span><span class="op" id="6841504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841514">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841525">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841529">var</span>&nbsp;<span class="ident" id="6841533">result</span>&nbsp;<span class="builtintype" id="6841540">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841549">if</span>&nbsp;<span class="ident" id="6841552">doCopy</span>&nbsp;<span class="op" id="6841559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841564">result</span>&nbsp;<span class="op" id="6841571">=</span>&nbsp;<span class="ident" id="6841573">tmpl</span><span class="op" id="6841577">.</span><span class="ident" id="6841578">Root</span><span class="op" id="6841582">.</span><span class="ident" id="6841583">Copy</span><span class="op" id="6841587">(</span><span class="op" id="6841588">)</span><span class="op" id="6841589">.</span><span class="ident" id="6841590">String</span><span class="op" id="6841596">(</span><span class="op" id="6841597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841601">}</span>&nbsp;<span class="keyword" id="6841603">else</span>&nbsp;<span class="op" id="6841608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841613">result</span>&nbsp;<span class="op" id="6841620">=</span>&nbsp;<span class="ident" id="6841622">tmpl</span><span class="op" id="6841626">.</span><span class="ident" id="6841627">Root</span><span class="op" id="6841631">.</span><span class="ident" id="6841632">String</span><span class="op" id="6841638">(</span><span class="op" id="6841639">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6841647">if</span>&nbsp;<span class="ident" id="6841650">result</span>&nbsp;<span class="op" id="6841657">!=</span>&nbsp;<span class="ident" id="6841660">test</span><span class="op" id="6841664">.</span><span class="ident" id="6841665">result</span>&nbsp;<span class="op" id="6841672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841677">t</span><span class="op" id="6841678">.</span><span class="ident" id="6841679">Errorf</span><span class="op" id="6841685">(</span><span class="string" id="6841686">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="6841722">,</span>&nbsp;<span class="ident" id="6841724">test</span><span class="op" id="6841728">.</span><span class="ident" id="6841729">name</span><span class="op" id="6841733">,</span>&nbsp;<span class="ident" id="6841735">test</span><span class="op" id="6841739">.</span><span class="ident" id="6841740">input</span><span class="op" id="6841745">,</span>&nbsp;<span class="ident" id="6841747">result</span><span class="op" id="6841753">,</span>&nbsp;<span class="ident" id="6841755">test</span><span class="op" id="6841759">.</span><span class="ident" id="6841760">result</span><span class="op" id="6841766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6841773">}</span><br>
<span class="lineno">295</span><span class="op" id="6841775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6841778">func</span>&nbsp;<span class="ident" id="6841783">TestParse</span><span class="op" id="6841792">(</span><span class="ident" id="6841793">t</span>&nbsp;<span class="op" id="6841795">*</span><span class="ident" id="6841796">testing</span><span class="op" id="6841803">.</span><span class="ident" id="6841804">T</span><span class="op" id="6841805">)</span>&nbsp;<span class="op" id="6841807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841810">testParse</span><span class="op" id="6841819">(</span><span class="builtintype" id="6841820">false</span><span class="op" id="6841825">,</span>&nbsp;<span class="ident" id="6841827">t</span><span class="op" id="6841828">)</span><br>
<span class="lineno"></span><span class="op" id="6841830">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="6841833">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="6841882">func</span>&nbsp;<span class="ident" id="6841887">TestParseCopy</span><span class="op" id="6841900">(</span><span class="ident" id="6841901">t</span>&nbsp;<span class="op" id="6841903">*</span><span class="ident" id="6841904">testing</span><span class="op" id="6841911">.</span><span class="ident" id="6841912">T</span><span class="op" id="6841913">)</span>&nbsp;<span class="op" id="6841915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841918">testParse</span><span class="op" id="6841927">(</span><span class="builtintype" id="6841928">true</span><span class="op" id="6841932">,</span>&nbsp;<span class="ident" id="6841934">t</span><span class="op" id="6841935">)</span><br>
<span class="lineno"></span><span class="op" id="6841937">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="6841940">type</span>&nbsp;<span class="ident" id="6841945">isEmptyTest</span>&nbsp;<span class="keyword" id="6841957">struct</span>&nbsp;<span class="op" id="6841964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841967">name</span>&nbsp;&nbsp;<span class="builtintype" id="6841973">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841981">input</span>&nbsp;<span class="builtintype" id="6841987">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6841995">empty</span>&nbsp;<span class="builtintype" id="6842001">bool</span><br>
<span class="lineno">310</span><span class="op" id="6842006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6842009">var</span>&nbsp;<span class="ident" id="6842013">isEmptyTests</span>&nbsp;<span class="op" id="6842026">=</span>&nbsp;<span class="op" id="6842028">[</span><span class="op" id="6842029">]</span><span class="ident" id="6842030">isEmptyTest</span><span class="op" id="6842041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842044">{</span><span class="string" id="6842045">&#34;empty&#34;</span><span class="op" id="6842052">,</span>&nbsp;<span class="string" id="6842054">``</span><span class="op" id="6842056">,</span>&nbsp;<span class="builtintype" id="6842058">true</span><span class="op" id="6842062">}</span><span class="op" id="6842063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842066">{</span><span class="string" id="6842067">&#34;nonempty&#34;</span><span class="op" id="6842077">,</span>&nbsp;<span class="string" id="6842079">`hello`</span><span class="op" id="6842086">,</span>&nbsp;<span class="builtintype" id="6842088">false</span><span class="op" id="6842093">}</span><span class="op" id="6842094">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842097">{</span><span class="string" id="6842098">&#34;spaces&nbsp;only&#34;</span><span class="op" id="6842111">,</span>&nbsp;<span class="string" id="6842113">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="6842125">,</span>&nbsp;<span class="builtintype" id="6842127">true</span><span class="op" id="6842131">}</span><span class="op" id="6842132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842135">{</span><span class="string" id="6842136">&#34;definition&#34;</span><span class="op" id="6842148">,</span>&nbsp;<span class="string" id="6842150">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="6842182">,</span>&nbsp;<span class="builtintype" id="6842184">true</span><span class="op" id="6842188">}</span><span class="op" id="6842189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842192">{</span><span class="string" id="6842193">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="6842216">,</span>&nbsp;<span class="string" id="6842218">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="6842288">,</span>&nbsp;<span class="builtintype" id="6842290">true</span><span class="op" id="6842294">}</span><span class="op" id="6842295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842298">{</span><span class="string" id="6842299">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="6842321">,</span>&nbsp;<span class="string" id="6842323">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="6842395">,</span>&nbsp;<span class="builtintype" id="6842397">false</span><span class="op" id="6842402">}</span><span class="op" id="6842403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842406">{</span><span class="string" id="6842407">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="6842430">,</span>&nbsp;<span class="string" id="6842432">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="6842482">,</span>&nbsp;<span class="builtintype" id="6842484">false</span><span class="op" id="6842489">}</span><span class="op" id="6842490">,</span><br>
<span class="lineno">320</span><span class="op" id="6842492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6842495">func</span>&nbsp;<span class="ident" id="6842500">TestIsEmpty</span><span class="op" id="6842511">(</span><span class="ident" id="6842512">t</span>&nbsp;<span class="op" id="6842514">*</span><span class="ident" id="6842515">testing</span><span class="op" id="6842522">.</span><span class="ident" id="6842523">T</span><span class="op" id="6842524">)</span>&nbsp;<span class="op" id="6842526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6842529">if</span>&nbsp;<span class="op" id="6842532">!</span><span class="ident" id="6842533">IsEmptyTree</span><span class="op" id="6842544">(</span><span class="ident" id="6842545">nil</span><span class="op" id="6842548">)</span>&nbsp;<span class="op" id="6842550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6842554">t</span><span class="op" id="6842555">.</span><span class="ident" id="6842556">Errorf</span><span class="op" id="6842562">(</span><span class="string" id="6842563">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="6842586">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6842592">for</span>&nbsp;<span class="ident" id="6842596">_</span><span class="op" id="6842597">,</span>&nbsp;<span class="ident" id="6842599">test</span>&nbsp;<span class="op" id="6842604">:=</span>&nbsp;<span class="keyword" id="6842607">range</span>&nbsp;<span class="ident" id="6842613">isEmptyTests</span>&nbsp;<span class="op" id="6842626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6842630">tree</span><span class="op" id="6842634">,</span>&nbsp;<span class="ident" id="6842636">err</span>&nbsp;<span class="op" id="6842640">:=</span>&nbsp;<span class="ident" id="6842643">New</span><span class="op" id="6842646">(</span><span class="string" id="6842647">&#34;root&#34;</span><span class="op" id="6842653">)</span><span class="op" id="6842654">.</span><span class="ident" id="6842655">Parse</span><span class="op" id="6842660">(</span><span class="ident" id="6842661">test</span><span class="op" id="6842665">.</span><span class="ident" id="6842666">input</span><span class="op" id="6842671">,</span>&nbsp;<span class="string" id="6842673">&#34;&#34;</span><span class="op" id="6842675">,</span>&nbsp;<span class="string" id="6842677">&#34;&#34;</span><span class="op" id="6842679">,</span>&nbsp;<span class="builtinfunc" id="6842681">make</span><span class="op" id="6842685">(</span><span class="keyword" id="6842686">map</span><span class="op" id="6842689">[</span><span class="builtintype" id="6842690">string</span><span class="op" id="6842696">]</span><span class="op" id="6842697">*</span><span class="ident" id="6842698">Tree</span><span class="op" id="6842702">)</span><span class="op" id="6842703">,</span>&nbsp;<span class="ident" id="6842705">nil</span><span class="op" id="6842708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6842712">if</span>&nbsp;<span class="ident" id="6842715">err</span>&nbsp;<span class="op" id="6842719">!=</span>&nbsp;<span class="ident" id="6842722">nil</span>&nbsp;<span class="op" id="6842726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6842731">t</span><span class="op" id="6842732">.</span><span class="ident" id="6842733">Errorf</span><span class="op" id="6842739">(</span><span class="string" id="6842740">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6842766">,</span>&nbsp;<span class="ident" id="6842768">test</span><span class="op" id="6842772">.</span><span class="ident" id="6842773">name</span><span class="op" id="6842777">,</span>&nbsp;<span class="ident" id="6842779">err</span><span class="op" id="6842782">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6842787">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6842802">if</span>&nbsp;<span class="ident" id="6842805">empty</span>&nbsp;<span class="op" id="6842811">:=</span>&nbsp;<span class="ident" id="6842814">IsEmptyTree</span><span class="op" id="6842825">(</span><span class="ident" id="6842826">tree</span><span class="op" id="6842830">.</span><span class="ident" id="6842831">Root</span><span class="op" id="6842835">)</span><span class="op" id="6842836">;</span>&nbsp;<span class="ident" id="6842838">empty</span>&nbsp;<span class="op" id="6842844">!=</span>&nbsp;<span class="ident" id="6842847">test</span><span class="op" id="6842851">.</span><span class="ident" id="6842852">empty</span>&nbsp;<span class="op" id="6842858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6842863">t</span><span class="op" id="6842864">.</span><span class="ident" id="6842865">Errorf</span><span class="op" id="6842871">(</span><span class="string" id="6842872">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="6842896">,</span>&nbsp;<span class="ident" id="6842898">test</span><span class="op" id="6842902">.</span><span class="ident" id="6842903">name</span><span class="op" id="6842907">,</span>&nbsp;<span class="ident" id="6842909">test</span><span class="op" id="6842913">.</span><span class="ident" id="6842914">empty</span><span class="op" id="6842919">,</span>&nbsp;<span class="ident" id="6842921">empty</span><span class="op" id="6842926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842930">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6842933">}</span><br>
<span class="lineno"></span><span class="op" id="6842935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6842938">func</span>&nbsp;<span class="ident" id="6842943">TestErrorContextWithTreeCopy</span><span class="op" id="6842971">(</span><span class="ident" id="6842972">t</span>&nbsp;<span class="op" id="6842974">*</span><span class="ident" id="6842975">testing</span><span class="op" id="6842982">.</span><span class="ident" id="6842983">T</span><span class="op" id="6842984">)</span>&nbsp;<span class="op" id="6842986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6842989">tree</span><span class="op" id="6842993">,</span>&nbsp;<span class="ident" id="6842995">err</span>&nbsp;<span class="op" id="6842999">:=</span>&nbsp;<span class="ident" id="6843002">New</span><span class="op" id="6843005">(</span><span class="string" id="6843006">&#34;root&#34;</span><span class="op" id="6843012">)</span><span class="op" id="6843013">.</span><span class="ident" id="6843014">Parse</span><span class="op" id="6843019">(</span><span class="string" id="6843020">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="6843040">,</span>&nbsp;<span class="string" id="6843042">&#34;&#34;</span><span class="op" id="6843044">,</span>&nbsp;<span class="string" id="6843046">&#34;&#34;</span><span class="op" id="6843048">,</span>&nbsp;<span class="builtinfunc" id="6843050">make</span><span class="op" id="6843054">(</span><span class="keyword" id="6843055">map</span><span class="op" id="6843058">[</span><span class="builtintype" id="6843059">string</span><span class="op" id="6843065">]</span><span class="op" id="6843066">*</span><span class="ident" id="6843067">Tree</span><span class="op" id="6843071">)</span><span class="op" id="6843072">,</span>&nbsp;<span class="ident" id="6843074">nil</span><span class="op" id="6843077">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843080">if</span>&nbsp;<span class="ident" id="6843083">err</span>&nbsp;<span class="op" id="6843087">!=</span>&nbsp;<span class="ident" id="6843090">nil</span>&nbsp;<span class="op" id="6843094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843098">t</span><span class="op" id="6843099">.</span><span class="ident" id="6843100">Fatalf</span><span class="op" id="6843106">(</span><span class="string" id="6843107">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="6843142">,</span>&nbsp;<span class="ident" id="6843144">err</span><span class="op" id="6843147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843153">treeCopy</span>&nbsp;<span class="op" id="6843162">:=</span>&nbsp;<span class="ident" id="6843165">tree</span><span class="op" id="6843169">.</span><span class="ident" id="6843170">Copy</span><span class="op" id="6843174">(</span><span class="op" id="6843175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843178">wantLocation</span><span class="op" id="6843190">,</span>&nbsp;<span class="ident" id="6843192">wantContext</span>&nbsp;<span class="op" id="6843204">:=</span>&nbsp;<span class="ident" id="6843207">tree</span><span class="op" id="6843211">.</span><span class="ident" id="6843212">ErrorContext</span><span class="op" id="6843224">(</span><span class="ident" id="6843225">tree</span><span class="op" id="6843229">.</span><span class="ident" id="6843230">Root</span><span class="op" id="6843234">.</span><span class="ident" id="6843235">Nodes</span><span class="op" id="6843240">[</span><span class="num" id="6843241">0</span><span class="op" id="6843242">]</span><span class="op" id="6843243">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843246">gotLocation</span><span class="op" id="6843257">,</span>&nbsp;<span class="ident" id="6843259">gotContext</span>&nbsp;<span class="op" id="6843270">:=</span>&nbsp;<span class="ident" id="6843273">treeCopy</span><span class="op" id="6843281">.</span><span class="ident" id="6843282">ErrorContext</span><span class="op" id="6843294">(</span><span class="ident" id="6843295">treeCopy</span><span class="op" id="6843303">.</span><span class="ident" id="6843304">Root</span><span class="op" id="6843308">.</span><span class="ident" id="6843309">Nodes</span><span class="op" id="6843314">[</span><span class="num" id="6843315">0</span><span class="op" id="6843316">]</span><span class="op" id="6843317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843320">if</span>&nbsp;<span class="ident" id="6843323">wantLocation</span>&nbsp;<span class="op" id="6843336">!=</span>&nbsp;<span class="ident" id="6843339">gotLocation</span>&nbsp;<span class="op" id="6843351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843355">t</span><span class="op" id="6843356">.</span><span class="ident" id="6843357">Errorf</span><span class="op" id="6843363">(</span><span class="string" id="6843364">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6843401">,</span>&nbsp;<span class="ident" id="6843403">wantLocation</span><span class="op" id="6843415">,</span>&nbsp;<span class="ident" id="6843417">gotLocation</span><span class="op" id="6843428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843434">if</span>&nbsp;<span class="ident" id="6843437">wantContext</span>&nbsp;<span class="op" id="6843449">!=</span>&nbsp;<span class="ident" id="6843452">gotContext</span>&nbsp;<span class="op" id="6843463">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843467">t</span><span class="op" id="6843468">.</span><span class="ident" id="6843469">Errorf</span><span class="op" id="6843475">(</span><span class="string" id="6843476">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6843513">,</span>&nbsp;<span class="ident" id="6843515">wantContext</span><span class="op" id="6843526">,</span>&nbsp;<span class="ident" id="6843528">gotContext</span><span class="op" id="6843538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843541">}</span><br>
<span class="lineno"></span><span class="op" id="6843543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6843546">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="6843629">var</span>&nbsp;<span class="ident" id="6843633">errorTests</span>&nbsp;<span class="op" id="6843644">=</span>&nbsp;<span class="op" id="6843646">[</span><span class="op" id="6843647">]</span><span class="ident" id="6843648">parseTest</span><span class="op" id="6843657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6843660">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843697">{</span><span class="string" id="6843698">&#34;unclosed1&#34;</span><span class="op" id="6843709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6843713">&#34;line1\n{{&#34;</span><span class="op" id="6843724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843728">hasError</span><span class="op" id="6843736">,</span>&nbsp;<span class="string" id="6843738">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6843790">}</span><span class="op" id="6843791">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843794">{</span><span class="string" id="6843795">&#34;unclosed2&#34;</span><span class="op" id="6843806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6843810">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="6843842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843846">hasError</span><span class="op" id="6843854">,</span>&nbsp;<span class="string" id="6843856">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6843908">}</span><span class="op" id="6843909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6843912">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843933">{</span><span class="string" id="6843934">&#34;function&#34;</span><span class="op" id="6843944">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6843948">&#34;{{foo}}&#34;</span><span class="op" id="6843957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843961">hasError</span><span class="op" id="6843969">,</span>&nbsp;<span class="string" id="6843971">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="6843999">}</span><span class="op" id="6844000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844003">{</span><span class="string" id="6844004">&#34;comment&#34;</span><span class="op" id="6844013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844017">&#34;{{/*}}&#34;</span><span class="op" id="6844025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844029">hasError</span><span class="op" id="6844037">,</span>&nbsp;<span class="string" id="6844039">`unclosed&nbsp;comment`</span><span class="op" id="6844057">}</span><span class="op" id="6844058">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844061">{</span><span class="string" id="6844062">&#34;lparen&#34;</span><span class="op" id="6844070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844074">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="6844089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844093">hasError</span><span class="op" id="6844101">,</span>&nbsp;<span class="string" id="6844103">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="6844124">}</span><span class="op" id="6844125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844128">{</span><span class="string" id="6844129">&#34;rparen&#34;</span><span class="op" id="6844137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844141">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="6844156">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844160">hasError</span><span class="op" id="6844168">,</span>&nbsp;<span class="string" id="6844170">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="6844186">}</span><span class="op" id="6844187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844190">{</span><span class="string" id="6844191">&#34;space&#34;</span><span class="op" id="6844198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844202">&#34;{{`x`3}}&#34;</span><span class="op" id="6844212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844216">hasError</span><span class="op" id="6844224">,</span>&nbsp;<span class="string" id="6844226">`missing&nbsp;space?`</span><span class="op" id="6844242">}</span><span class="op" id="6844243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844246">{</span><span class="string" id="6844247">&#34;idchar&#34;</span><span class="op" id="6844255">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844259">&#34;{{a#}}&#34;</span><span class="op" id="6844267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844271">hasError</span><span class="op" id="6844279">,</span>&nbsp;<span class="string" id="6844281">`&#39;#&#39;`</span><span class="op" id="6844286">}</span><span class="op" id="6844287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844290">{</span><span class="string" id="6844291">&#34;charconst&#34;</span><span class="op" id="6844302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844306">&#34;{{&#39;a}}&#34;</span><span class="op" id="6844314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844318">hasError</span><span class="op" id="6844326">,</span>&nbsp;<span class="string" id="6844328">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="6844361">}</span><span class="op" id="6844362">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844365">{</span><span class="string" id="6844366">&#34;stringconst&#34;</span><span class="op" id="6844379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844383">`{{&#34;a}}`</span><span class="op" id="6844391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844395">hasError</span><span class="op" id="6844403">,</span>&nbsp;<span class="string" id="6844405">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="6844433">}</span><span class="op" id="6844434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844437">{</span><span class="string" id="6844438">&#34;rawstringconst&#34;</span><span class="op" id="6844454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844458">&#34;{{`a}}&#34;</span><span class="op" id="6844466">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844470">hasError</span><span class="op" id="6844478">,</span>&nbsp;<span class="string" id="6844480">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="6844512">}</span><span class="op" id="6844513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844516">{</span><span class="string" id="6844517">&#34;number&#34;</span><span class="op" id="6844525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844529">&#34;{{0xi}}&#34;</span><span class="op" id="6844538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844542">hasError</span><span class="op" id="6844550">,</span>&nbsp;<span class="string" id="6844552">`number&nbsp;syntax`</span><span class="op" id="6844567">}</span><span class="op" id="6844568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844571">{</span><span class="string" id="6844572">&#34;multidefine&#34;</span><span class="op" id="6844585">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844589">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="6844635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844639">hasError</span><span class="op" id="6844647">,</span>&nbsp;<span class="string" id="6844649">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="6844682">}</span><span class="op" id="6844683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844686">{</span><span class="string" id="6844687">&#34;eof&#34;</span><span class="op" id="6844692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844696">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="6844710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844714">hasError</span><span class="op" id="6844722">,</span>&nbsp;<span class="string" id="6844724">`unexpected&nbsp;EOF`</span><span class="op" id="6844740">}</span><span class="op" id="6844741">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844744">{</span><span class="string" id="6844745">&#34;variable&#34;</span><span class="op" id="6844755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6844759">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844858">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6844906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844910">hasError</span><span class="op" id="6844918">,</span>&nbsp;<span class="string" id="6844920">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="6844937">}</span><span class="op" id="6844938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844941">{</span><span class="string" id="6844942">&#34;multidecl&#34;</span><span class="op" id="6844953">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6844957">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="6844977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6844981">hasError</span><span class="op" id="6844989">,</span>&nbsp;<span class="string" id="6844991">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="6845014">}</span><span class="op" id="6845015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845018">{</span><span class="string" id="6845019">&#34;undefvar&#34;</span><span class="op" id="6845029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6845033">&#34;{{$a}}&#34;</span><span class="op" id="6845041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845045">hasError</span><span class="op" id="6845053">,</span>&nbsp;<span class="string" id="6845055">`undefined&nbsp;variable`</span><span class="op" id="6845075">}</span><span class="op" id="6845076">,</span><br>
<span class="lineno">410</span><span class="op" id="6845078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6845081">func</span>&nbsp;<span class="ident" id="6845086">TestErrors</span><span class="op" id="6845096">(</span><span class="ident" id="6845097">t</span>&nbsp;<span class="op" id="6845099">*</span><span class="ident" id="6845100">testing</span><span class="op" id="6845107">.</span><span class="ident" id="6845108">T</span><span class="op" id="6845109">)</span>&nbsp;<span class="op" id="6845111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6845114">for</span>&nbsp;<span class="ident" id="6845118">_</span><span class="op" id="6845119">,</span>&nbsp;<span class="ident" id="6845121">test</span>&nbsp;<span class="op" id="6845126">:=</span>&nbsp;<span class="keyword" id="6845129">range</span>&nbsp;<span class="ident" id="6845135">errorTests</span>&nbsp;<span class="op" id="6845146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845150">_</span><span class="op" id="6845151">,</span>&nbsp;<span class="ident" id="6845153">err</span>&nbsp;<span class="op" id="6845157">:=</span>&nbsp;<span class="ident" id="6845160">New</span><span class="op" id="6845163">(</span><span class="ident" id="6845164">test</span><span class="op" id="6845168">.</span><span class="ident" id="6845169">name</span><span class="op" id="6845173">)</span><span class="op" id="6845174">.</span><span class="ident" id="6845175">Parse</span><span class="op" id="6845180">(</span><span class="ident" id="6845181">test</span><span class="op" id="6845185">.</span><span class="ident" id="6845186">input</span><span class="op" id="6845191">,</span>&nbsp;<span class="string" id="6845193">&#34;&#34;</span><span class="op" id="6845195">,</span>&nbsp;<span class="string" id="6845197">&#34;&#34;</span><span class="op" id="6845199">,</span>&nbsp;<span class="builtinfunc" id="6845201">make</span><span class="op" id="6845205">(</span><span class="keyword" id="6845206">map</span><span class="op" id="6845209">[</span><span class="builtintype" id="6845210">string</span><span class="op" id="6845216">]</span><span class="op" id="6845217">*</span><span class="ident" id="6845218">Tree</span><span class="op" id="6845222">)</span><span class="op" id="6845223">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6845227">if</span>&nbsp;<span class="ident" id="6845230">err</span>&nbsp;<span class="op" id="6845234">==</span>&nbsp;<span class="ident" id="6845237">nil</span>&nbsp;<span class="op" id="6845241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845246">t</span><span class="op" id="6845247">.</span><span class="ident" id="6845248">Errorf</span><span class="op" id="6845254">(</span><span class="string" id="6845255">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="6845275">,</span>&nbsp;<span class="ident" id="6845277">test</span><span class="op" id="6845281">.</span><span class="ident" id="6845282">name</span><span class="op" id="6845286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6845291">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6845306">if</span>&nbsp;<span class="op" id="6845309">!</span><span class="ident" id="6845310">strings</span><span class="op" id="6845317">.</span><span class="ident" id="6845318">Contains</span><span class="op" id="6845326">(</span><span class="ident" id="6845327">err</span><span class="op" id="6845330">.</span><span class="ident" id="6845331">Error</span><span class="op" id="6845336">(</span><span class="op" id="6845337">)</span><span class="op" id="6845338">,</span>&nbsp;<span class="ident" id="6845340">test</span><span class="op" id="6845344">.</span><span class="ident" id="6845345">result</span><span class="op" id="6845351">)</span>&nbsp;<span class="op" id="6845353">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6845358">t</span><span class="op" id="6845359">.</span><span class="ident" id="6845360">Errorf</span><span class="op" id="6845366">(</span><span class="string" id="6845367">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="6845401">,</span>&nbsp;<span class="ident" id="6845403">test</span><span class="op" id="6845407">.</span><span class="ident" id="6845408">name</span><span class="op" id="6845412">,</span>&nbsp;<span class="ident" id="6845414">err</span><span class="op" id="6845417">,</span>&nbsp;<span class="ident" id="6845419">test</span><span class="op" id="6845423">.</span><span class="ident" id="6845424">result</span><span class="op" id="6845430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845437">}</span><br>
<span class="lineno"></span><span class="op" id="6845439">}</span>
</div>
</body>
</html>
