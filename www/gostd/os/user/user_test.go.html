<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/user</h2>
<ul>
<li><a href="/gostd/os/user/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/os/user/lookup_stubs.go.html">lookup_stubs.go</a></li>
<li><a href="/gostd/os/user/user.go.html">user.go</a></li>
<li><a href="/gostd/os/user/user_test.go.html" class="current">user_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8507241">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8507296">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8507350">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8507401">package</span>&nbsp;<span class="ident" id="8507409">user</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8507415">import</span>&nbsp;<span class="op" id="8507422">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8507425">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8507436">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8507446">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8507449">func</span>&nbsp;<span class="ident" id="8507454">check</span><span class="op" id="8507459">(</span><span class="ident" id="8507460">t</span>&nbsp;<span class="op" id="8507462">*</span><span class="ident" id="8507463">testing</span><span class="op" id="8507470">.</span><span class="ident" id="8507471">T</span><span class="op" id="8507472">)</span>&nbsp;<span class="op" id="8507474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507477">if</span>&nbsp;<span class="op" id="8507480">!</span><span class="ident" id="8507481">implemented</span>&nbsp;<span class="op" id="8507493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507497">t</span><span class="op" id="8507498">.</span><span class="ident" id="8507499">Skip</span><span class="op" id="8507503">(</span><span class="string" id="8507504">&#34;user:&nbsp;not&nbsp;implemented;&nbsp;skipping&nbsp;tests&#34;</span><span class="op" id="8507543">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507546">}</span><br>
<span class="lineno"></span><span class="op" id="8507548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8507551">func</span>&nbsp;<span class="ident" id="8507556">TestCurrent</span><span class="op" id="8507567">(</span><span class="ident" id="8507568">t</span>&nbsp;<span class="op" id="8507570">*</span><span class="ident" id="8507571">testing</span><span class="op" id="8507578">.</span><span class="ident" id="8507579">T</span><span class="op" id="8507580">)</span>&nbsp;<span class="op" id="8507582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507585">check</span><span class="op" id="8507590">(</span><span class="ident" id="8507591">t</span><span class="op" id="8507592">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507596">u</span><span class="op" id="8507597">,</span>&nbsp;<span class="ident" id="8507599">err</span>&nbsp;<span class="op" id="8507603">:=</span>&nbsp;<span class="ident" id="8507606">Current</span><span class="op" id="8507613">(</span><span class="op" id="8507614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507617">if</span>&nbsp;<span class="ident" id="8507620">err</span>&nbsp;<span class="op" id="8507624">!=</span>&nbsp;<span class="builtintype" id="8507627">nil</span>&nbsp;<span class="op" id="8507631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507635">t</span><span class="op" id="8507636">.</span><span class="ident" id="8507637">Fatalf</span><span class="op" id="8507643">(</span><span class="string" id="8507644">&#34;Current:&nbsp;%v&#34;</span><span class="op" id="8507657">,</span>&nbsp;<span class="ident" id="8507659">err</span><span class="op" id="8507662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507665">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507668">if</span>&nbsp;<span class="ident" id="8507671">u</span><span class="op" id="8507672">.</span><span class="ident" id="8507673">HomeDir</span>&nbsp;<span class="op" id="8507681">==</span>&nbsp;<span class="string" id="8507684">&#34;&#34;</span>&nbsp;<span class="op" id="8507687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507691">t</span><span class="op" id="8507692">.</span><span class="ident" id="8507693">Errorf</span><span class="op" id="8507699">(</span><span class="string" id="8507700">&#34;didn&#39;t&nbsp;get&nbsp;a&nbsp;HomeDir&#34;</span><span class="op" id="8507722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507728">if</span>&nbsp;<span class="ident" id="8507731">u</span><span class="op" id="8507732">.</span><span class="ident" id="8507733">Username</span>&nbsp;<span class="op" id="8507742">==</span>&nbsp;<span class="string" id="8507745">&#34;&#34;</span>&nbsp;<span class="op" id="8507748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507752">t</span><span class="op" id="8507753">.</span><span class="ident" id="8507754">Errorf</span><span class="op" id="8507760">(</span><span class="string" id="8507761">&#34;didn&#39;t&nbsp;get&nbsp;a&nbsp;username&#34;</span><span class="op" id="8507784">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507787">}</span><br>
<span class="lineno"></span><span class="op" id="8507789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8507792">func</span>&nbsp;<span class="ident" id="8507797">compare</span><span class="op" id="8507804">(</span><span class="ident" id="8507805">t</span>&nbsp;<span class="op" id="8507807">*</span><span class="ident" id="8507808">testing</span><span class="op" id="8507815">.</span><span class="ident" id="8507816">T</span><span class="op" id="8507817">,</span>&nbsp;<span class="ident" id="8507819">want</span><span class="op" id="8507823">,</span>&nbsp;<span class="ident" id="8507825">got</span>&nbsp;<span class="op" id="8507829">*</span><span class="ident" id="8507830">User</span><span class="op" id="8507834">)</span>&nbsp;<span class="op" id="8507836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507839">if</span>&nbsp;<span class="ident" id="8507842">want</span><span class="op" id="8507846">.</span><span class="ident" id="8507847">Uid</span>&nbsp;<span class="op" id="8507851">!=</span>&nbsp;<span class="ident" id="8507854">got</span><span class="op" id="8507857">.</span><span class="ident" id="8507858">Uid</span>&nbsp;<span class="op" id="8507862">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507866">t</span><span class="op" id="8507867">.</span><span class="ident" id="8507868">Errorf</span><span class="op" id="8507874">(</span><span class="string" id="8507875">&#34;got&nbsp;Uid=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8507896">,</span>&nbsp;<span class="ident" id="8507898">got</span><span class="op" id="8507901">.</span><span class="ident" id="8507902">Uid</span><span class="op" id="8507905">,</span>&nbsp;<span class="ident" id="8507907">want</span><span class="op" id="8507911">.</span><span class="ident" id="8507912">Uid</span><span class="op" id="8507915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507921">if</span>&nbsp;<span class="ident" id="8507924">want</span><span class="op" id="8507928">.</span><span class="ident" id="8507929">Username</span>&nbsp;<span class="op" id="8507938">!=</span>&nbsp;<span class="ident" id="8507941">got</span><span class="op" id="8507944">.</span><span class="ident" id="8507945">Username</span>&nbsp;<span class="op" id="8507954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507958">t</span><span class="op" id="8507959">.</span><span class="ident" id="8507960">Errorf</span><span class="op" id="8507966">(</span><span class="string" id="8507967">&#34;got&nbsp;Username=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8507993">,</span>&nbsp;<span class="ident" id="8507995">got</span><span class="op" id="8507998">.</span><span class="ident" id="8507999">Username</span><span class="op" id="8508007">,</span>&nbsp;<span class="ident" id="8508009">want</span><span class="op" id="8508013">.</span><span class="ident" id="8508014">Username</span><span class="op" id="8508022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508025">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508028">if</span>&nbsp;<span class="ident" id="8508031">want</span><span class="op" id="8508035">.</span><span class="ident" id="8508036">Name</span>&nbsp;<span class="op" id="8508041">!=</span>&nbsp;<span class="ident" id="8508044">got</span><span class="op" id="8508047">.</span><span class="ident" id="8508048">Name</span>&nbsp;<span class="op" id="8508053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508057">t</span><span class="op" id="8508058">.</span><span class="ident" id="8508059">Errorf</span><span class="op" id="8508065">(</span><span class="string" id="8508066">&#34;got&nbsp;Name=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8508088">,</span>&nbsp;<span class="ident" id="8508090">got</span><span class="op" id="8508093">.</span><span class="ident" id="8508094">Name</span><span class="op" id="8508098">,</span>&nbsp;<span class="ident" id="8508100">want</span><span class="op" id="8508104">.</span><span class="ident" id="8508105">Name</span><span class="op" id="8508109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8508115">//&nbsp;TODO(brainman):&nbsp;fix&nbsp;it&nbsp;once&nbsp;we&nbsp;know&nbsp;how.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508160">if</span>&nbsp;<span class="ident" id="8508163">runtime</span><span class="op" id="8508170">.</span><span class="ident" id="8508171">GOOS</span>&nbsp;<span class="op" id="8508176">==</span>&nbsp;<span class="string" id="8508179">&#34;windows&#34;</span>&nbsp;<span class="op" id="8508189">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508193">t</span><span class="op" id="8508194">.</span><span class="ident" id="8508195">Skip</span><span class="op" id="8508199">(</span><span class="string" id="8508200">&#34;skipping&nbsp;Gid&nbsp;and&nbsp;HomeDir&nbsp;comparisons&#34;</span><span class="op" id="8508238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508244">if</span>&nbsp;<span class="ident" id="8508247">want</span><span class="op" id="8508251">.</span><span class="ident" id="8508252">Gid</span>&nbsp;<span class="op" id="8508256">!=</span>&nbsp;<span class="ident" id="8508259">got</span><span class="op" id="8508262">.</span><span class="ident" id="8508263">Gid</span>&nbsp;<span class="op" id="8508267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508271">t</span><span class="op" id="8508272">.</span><span class="ident" id="8508273">Errorf</span><span class="op" id="8508279">(</span><span class="string" id="8508280">&#34;got&nbsp;Gid=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8508301">,</span>&nbsp;<span class="ident" id="8508303">got</span><span class="op" id="8508306">.</span><span class="ident" id="8508307">Gid</span><span class="op" id="8508310">,</span>&nbsp;<span class="ident" id="8508312">want</span><span class="op" id="8508316">.</span><span class="ident" id="8508317">Gid</span><span class="op" id="8508320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508323">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508326">if</span>&nbsp;<span class="ident" id="8508329">want</span><span class="op" id="8508333">.</span><span class="ident" id="8508334">HomeDir</span>&nbsp;<span class="op" id="8508342">!=</span>&nbsp;<span class="ident" id="8508345">got</span><span class="op" id="8508348">.</span><span class="ident" id="8508349">HomeDir</span>&nbsp;<span class="op" id="8508357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508361">t</span><span class="op" id="8508362">.</span><span class="ident" id="8508363">Errorf</span><span class="op" id="8508369">(</span><span class="string" id="8508370">&#34;got&nbsp;HomeDir=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8508395">,</span>&nbsp;<span class="ident" id="8508397">got</span><span class="op" id="8508400">.</span><span class="ident" id="8508401">HomeDir</span><span class="op" id="8508408">,</span>&nbsp;<span class="ident" id="8508410">want</span><span class="op" id="8508414">.</span><span class="ident" id="8508415">HomeDir</span><span class="op" id="8508422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508425">}</span><br>
<span class="lineno"></span><span class="op" id="8508427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="8508430">func</span>&nbsp;<span class="ident" id="8508435">TestLookup</span><span class="op" id="8508445">(</span><span class="ident" id="8508446">t</span>&nbsp;<span class="op" id="8508448">*</span><span class="ident" id="8508449">testing</span><span class="op" id="8508456">.</span><span class="ident" id="8508457">T</span><span class="op" id="8508458">)</span>&nbsp;<span class="op" id="8508460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508463">check</span><span class="op" id="8508468">(</span><span class="ident" id="8508469">t</span><span class="op" id="8508470">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508474">if</span>&nbsp;<span class="ident" id="8508477">runtime</span><span class="op" id="8508484">.</span><span class="ident" id="8508485">GOOS</span>&nbsp;<span class="op" id="8508490">==</span>&nbsp;<span class="string" id="8508493">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8508501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508505">t</span><span class="op" id="8508506">.</span><span class="ident" id="8508507">Skipf</span><span class="op" id="8508512">(</span><span class="string" id="8508513">&#34;Lookup&nbsp;not&nbsp;implemented&nbsp;on&nbsp;%q&#34;</span><span class="op" id="8508543">,</span>&nbsp;<span class="ident" id="8508545">runtime</span><span class="op" id="8508552">.</span><span class="ident" id="8508553">GOOS</span><span class="op" id="8508557">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508564">want</span><span class="op" id="8508568">,</span>&nbsp;<span class="ident" id="8508570">err</span>&nbsp;<span class="op" id="8508574">:=</span>&nbsp;<span class="ident" id="8508577">Current</span><span class="op" id="8508584">(</span><span class="op" id="8508585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508588">if</span>&nbsp;<span class="ident" id="8508591">err</span>&nbsp;<span class="op" id="8508595">!=</span>&nbsp;<span class="builtintype" id="8508598">nil</span>&nbsp;<span class="op" id="8508602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508606">t</span><span class="op" id="8508607">.</span><span class="ident" id="8508608">Fatalf</span><span class="op" id="8508614">(</span><span class="string" id="8508615">&#34;Current:&nbsp;%v&#34;</span><span class="op" id="8508628">,</span>&nbsp;<span class="ident" id="8508630">err</span><span class="op" id="8508633">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508639">got</span><span class="op" id="8508642">,</span>&nbsp;<span class="ident" id="8508644">err</span>&nbsp;<span class="op" id="8508648">:=</span>&nbsp;<span class="ident" id="8508651">Lookup</span><span class="op" id="8508657">(</span><span class="ident" id="8508658">want</span><span class="op" id="8508662">.</span><span class="ident" id="8508663">Username</span><span class="op" id="8508671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508674">if</span>&nbsp;<span class="ident" id="8508677">err</span>&nbsp;<span class="op" id="8508681">!=</span>&nbsp;<span class="builtintype" id="8508684">nil</span>&nbsp;<span class="op" id="8508688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508692">t</span><span class="op" id="8508693">.</span><span class="ident" id="8508694">Fatalf</span><span class="op" id="8508700">(</span><span class="string" id="8508701">&#34;Lookup:&nbsp;%v&#34;</span><span class="op" id="8508713">,</span>&nbsp;<span class="ident" id="8508715">err</span><span class="op" id="8508718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508721">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508724">compare</span><span class="op" id="8508731">(</span><span class="ident" id="8508732">t</span><span class="op" id="8508733">,</span>&nbsp;<span class="ident" id="8508735">want</span><span class="op" id="8508739">,</span>&nbsp;<span class="ident" id="8508741">got</span><span class="op" id="8508744">)</span><br>
<span class="lineno"></span><span class="op" id="8508746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8508749">func</span>&nbsp;<span class="ident" id="8508754">TestLookupId</span><span class="op" id="8508766">(</span><span class="ident" id="8508767">t</span>&nbsp;<span class="op" id="8508769">*</span><span class="ident" id="8508770">testing</span><span class="op" id="8508777">.</span><span class="ident" id="8508778">T</span><span class="op" id="8508779">)</span>&nbsp;<span class="op" id="8508781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508784">check</span><span class="op" id="8508789">(</span><span class="ident" id="8508790">t</span><span class="op" id="8508791">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508795">if</span>&nbsp;<span class="ident" id="8508798">runtime</span><span class="op" id="8508805">.</span><span class="ident" id="8508806">GOOS</span>&nbsp;<span class="op" id="8508811">==</span>&nbsp;<span class="string" id="8508814">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8508822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508826">t</span><span class="op" id="8508827">.</span><span class="ident" id="8508828">Skipf</span><span class="op" id="8508833">(</span><span class="string" id="8508834">&#34;LookupId&nbsp;not&nbsp;implemented&nbsp;on&nbsp;%q&#34;</span><span class="op" id="8508866">,</span>&nbsp;<span class="ident" id="8508868">runtime</span><span class="op" id="8508875">.</span><span class="ident" id="8508876">GOOS</span><span class="op" id="8508880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508887">want</span><span class="op" id="8508891">,</span>&nbsp;<span class="ident" id="8508893">err</span>&nbsp;<span class="op" id="8508897">:=</span>&nbsp;<span class="ident" id="8508900">Current</span><span class="op" id="8508907">(</span><span class="op" id="8508908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508911">if</span>&nbsp;<span class="ident" id="8508914">err</span>&nbsp;<span class="op" id="8508918">!=</span>&nbsp;<span class="builtintype" id="8508921">nil</span>&nbsp;<span class="op" id="8508925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508929">t</span><span class="op" id="8508930">.</span><span class="ident" id="8508931">Fatalf</span><span class="op" id="8508937">(</span><span class="string" id="8508938">&#34;Current:&nbsp;%v&#34;</span><span class="op" id="8508951">,</span>&nbsp;<span class="ident" id="8508953">err</span><span class="op" id="8508956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508962">got</span><span class="op" id="8508965">,</span>&nbsp;<span class="ident" id="8508967">err</span>&nbsp;<span class="op" id="8508971">:=</span>&nbsp;<span class="ident" id="8508974">LookupId</span><span class="op" id="8508982">(</span><span class="ident" id="8508983">want</span><span class="op" id="8508987">.</span><span class="ident" id="8508988">Uid</span><span class="op" id="8508991">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508994">if</span>&nbsp;<span class="ident" id="8508997">err</span>&nbsp;<span class="op" id="8509001">!=</span>&nbsp;<span class="builtintype" id="8509004">nil</span>&nbsp;<span class="op" id="8509008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509012">t</span><span class="op" id="8509013">.</span><span class="ident" id="8509014">Fatalf</span><span class="op" id="8509020">(</span><span class="string" id="8509021">&#34;LookupId:&nbsp;%v&#34;</span><span class="op" id="8509035">,</span>&nbsp;<span class="ident" id="8509037">err</span><span class="op" id="8509040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509046">compare</span><span class="op" id="8509053">(</span><span class="ident" id="8509054">t</span><span class="op" id="8509055">,</span>&nbsp;<span class="ident" id="8509057">want</span><span class="op" id="8509061">,</span>&nbsp;<span class="ident" id="8509063">got</span><span class="op" id="8509066">)</span><br>
<span class="lineno"></span><span class="op" id="8509068">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
