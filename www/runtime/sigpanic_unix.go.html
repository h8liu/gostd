<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1694841">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1694897">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1694951">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1695002">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1695067">package</span>&nbsp;<span class="ident" id="1695075">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1695084">func</span>&nbsp;<span class="ident" id="1695089">signame</span><span class="op" id="1695096">(</span><span class="builtintype" id="1695097">int32</span><span class="op" id="1695102">)</span>&nbsp;<span class="op" id="1695104">*</span><span class="builtintype" id="1695105">byte</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1695111">func</span>&nbsp;<span class="ident" id="1695116">sigpanic</span><span class="op" id="1695124">(</span><span class="op" id="1695125">)</span>&nbsp;<span class="op" id="1695127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695130">g</span>&nbsp;<span class="op" id="1695132">:=</span>&nbsp;<span class="ident" id="1695135">getg</span><span class="op" id="1695139">(</span><span class="op" id="1695140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695143">if</span>&nbsp;<span class="op" id="1695146">!</span><span class="ident" id="1695147">canpanic</span><span class="op" id="1695155">(</span><span class="ident" id="1695156">g</span><span class="op" id="1695157">)</span>&nbsp;<span class="op" id="1695159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695163">gothrow</span><span class="op" id="1695170">(</span><span class="string" id="1695171">&#34;unexpected&nbsp;signal&nbsp;during&nbsp;runtime&nbsp;execution&#34;</span><span class="op" id="1695215">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695222">switch</span>&nbsp;<span class="ident" id="1695229">g</span><span class="op" id="1695230">.</span><span class="ident" id="1695231">sig</span>&nbsp;<span class="op" id="1695235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695238">case</span>&nbsp;<span class="ident" id="1695243">_SIGBUS</span><span class="op" id="1695250">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695254">if</span>&nbsp;<span class="ident" id="1695257">g</span><span class="op" id="1695258">.</span><span class="ident" id="1695259">sigcode0</span>&nbsp;<span class="op" id="1695268">==</span>&nbsp;<span class="ident" id="1695271">_BUS_ADRERR</span>&nbsp;<span class="op" id="1695283">&amp;&amp;</span>&nbsp;<span class="ident" id="1695286">g</span><span class="op" id="1695287">.</span><span class="ident" id="1695288">sigcode1</span>&nbsp;<span class="op" id="1695297">&lt;</span>&nbsp;<span class="num" id="1695299">0x1000</span>&nbsp;<span class="op" id="1695306">||</span>&nbsp;<span class="ident" id="1695309">g</span><span class="op" id="1695310">.</span><span class="ident" id="1695311">paniconfault</span>&nbsp;<span class="op" id="1695324">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695329">panicmem</span><span class="op" id="1695337">(</span><span class="op" id="1695338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1695346">print</span><span class="op" id="1695351">(</span><span class="string" id="1695352">&#34;unexpected&nbsp;fault&nbsp;address&nbsp;&#34;</span><span class="op" id="1695379">,</span>&nbsp;<span class="ident" id="1695381">hex</span><span class="op" id="1695384">(</span><span class="ident" id="1695385">g</span><span class="op" id="1695386">.</span><span class="ident" id="1695387">sigcode1</span><span class="op" id="1695395">)</span><span class="op" id="1695396">,</span>&nbsp;<span class="string" id="1695398">&#34;\n&#34;</span><span class="op" id="1695402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695406">gothrow</span><span class="op" id="1695413">(</span><span class="string" id="1695414">&#34;fault&#34;</span><span class="op" id="1695421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695424">case</span>&nbsp;<span class="ident" id="1695429">_SIGSEGV</span><span class="op" id="1695437">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695441">if</span>&nbsp;<span class="op" id="1695444">(</span><span class="ident" id="1695445">g</span><span class="op" id="1695446">.</span><span class="ident" id="1695447">sigcode0</span>&nbsp;<span class="op" id="1695456">==</span>&nbsp;<span class="num" id="1695459">0</span>&nbsp;<span class="op" id="1695461">||</span>&nbsp;<span class="ident" id="1695464">g</span><span class="op" id="1695465">.</span><span class="ident" id="1695466">sigcode0</span>&nbsp;<span class="op" id="1695475">==</span>&nbsp;<span class="ident" id="1695478">_SEGV_MAPERR</span>&nbsp;<span class="op" id="1695491">||</span>&nbsp;<span class="ident" id="1695494">g</span><span class="op" id="1695495">.</span><span class="ident" id="1695496">sigcode0</span>&nbsp;<span class="op" id="1695505">==</span>&nbsp;<span class="ident" id="1695508">_SEGV_ACCERR</span><span class="op" id="1695520">)</span>&nbsp;<span class="op" id="1695522">&amp;&amp;</span>&nbsp;<span class="ident" id="1695525">g</span><span class="op" id="1695526">.</span><span class="ident" id="1695527">sigcode1</span>&nbsp;<span class="op" id="1695536">&lt;</span>&nbsp;<span class="num" id="1695538">0x1000</span>&nbsp;<span class="op" id="1695545">||</span>&nbsp;<span class="ident" id="1695548">g</span><span class="op" id="1695549">.</span><span class="ident" id="1695550">paniconfault</span>&nbsp;<span class="op" id="1695563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695568">panicmem</span><span class="op" id="1695576">(</span><span class="op" id="1695577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1695585">print</span><span class="op" id="1695590">(</span><span class="string" id="1695591">&#34;unexpected&nbsp;fault&nbsp;address&nbsp;&#34;</span><span class="op" id="1695618">,</span>&nbsp;<span class="ident" id="1695620">hex</span><span class="op" id="1695623">(</span><span class="ident" id="1695624">g</span><span class="op" id="1695625">.</span><span class="ident" id="1695626">sigcode1</span><span class="op" id="1695634">)</span><span class="op" id="1695635">,</span>&nbsp;<span class="string" id="1695637">&#34;\n&#34;</span><span class="op" id="1695641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695645">gothrow</span><span class="op" id="1695652">(</span><span class="string" id="1695653">&#34;fault&#34;</span><span class="op" id="1695660">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695663">case</span>&nbsp;<span class="ident" id="1695668">_SIGFPE</span><span class="op" id="1695675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695679">switch</span>&nbsp;<span class="ident" id="1695686">g</span><span class="op" id="1695687">.</span><span class="ident" id="1695688">sigcode0</span>&nbsp;<span class="op" id="1695697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695701">case</span>&nbsp;<span class="ident" id="1695706">_FPE_INTDIV</span><span class="op" id="1695717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695722">panicdivide</span><span class="op" id="1695733">(</span><span class="op" id="1695734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695738">case</span>&nbsp;<span class="ident" id="1695743">_FPE_INTOVF</span><span class="op" id="1695754">:</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695759">panicoverflow</span><span class="op" id="1695772">(</span><span class="op" id="1695773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695781">panicfloat</span><span class="op" id="1695791">(</span><span class="op" id="1695792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1695798">panic</span><span class="op" id="1695803">(</span><span class="ident" id="1695804">errorString</span><span class="op" id="1695815">(</span><span class="ident" id="1695816">gostringnocopy</span><span class="op" id="1695830">(</span><span class="ident" id="1695831">signame</span><span class="op" id="1695838">(</span><span class="ident" id="1695839">g</span><span class="op" id="1695840">.</span><span class="ident" id="1695841">sig</span><span class="op" id="1695844">)</span><span class="op" id="1695845">)</span><span class="op" id="1695846">)</span><span class="op" id="1695847">)</span><br>
<span class="lineno">40</span><span class="op" id="1695849">}</span>
</div>
</body>
</html>
