<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/main.go.html">main.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="5553265">package</span>&nbsp;<span class="ident" id="5553273">main</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5553279">import</span>&nbsp;<span class="op" id="5553286">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5553289">&#34;bytes&#34;</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5553298">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5553306">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5553313">//&nbsp;&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5553329">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5553335">&#34;strings&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5553347">&#34;lonnie.io/e8vm/arch8&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5553371">&#34;lonnie.io/e8vm/asm8&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5553394">&#34;lonnie.io/e8vm/dasm8&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5553418">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5553440">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5553443">var</span>&nbsp;<span class="op" id="5553447">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553450">doDasm</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5553462">=</span>&nbsp;<span class="ident" id="5553464">flag</span><span class="op" id="5553468">.</span><span class="ident" id="5553469">Bool</span><span class="op" id="5553473">(</span><span class="string" id="5553474">&#34;d&#34;</span><span class="op" id="5553477">,</span>&nbsp;<span class="builtintype" id="5553479">false</span><span class="op" id="5553484">,</span>&nbsp;<span class="string" id="5553486">&#34;do&nbsp;dump&#34;</span><span class="op" id="5553495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553498">ncycle</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5553510">=</span>&nbsp;<span class="ident" id="5553512">flag</span><span class="op" id="5553516">.</span><span class="ident" id="5553517">Int</span><span class="op" id="5553520">(</span><span class="string" id="5553521">&#34;n&#34;</span><span class="op" id="5553524">,</span>&nbsp;<span class="num" id="5553526">100000</span><span class="op" id="5553532">,</span>&nbsp;<span class="string" id="5553534">&#34;max&nbsp;cycles&nbsp;to&nbsp;execute&#34;</span><span class="op" id="5553557">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553560">memSize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5553572">=</span>&nbsp;<span class="ident" id="5553574">flag</span><span class="op" id="5553578">.</span><span class="ident" id="5553579">Int</span><span class="op" id="5553582">(</span><span class="string" id="5553583">&#34;m&#34;</span><span class="op" id="5553586">,</span>&nbsp;<span class="num" id="5553588">1</span><span class="op" id="5553589">&lt;&lt;</span><span class="num" id="5553591">30</span><span class="op" id="5553593">,</span>&nbsp;<span class="string" id="5553595">&#34;memory&nbsp;size&#34;</span><span class="op" id="5553608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553611">printStatus</span>&nbsp;<span class="op" id="5553623">=</span>&nbsp;<span class="ident" id="5553625">flag</span><span class="op" id="5553629">.</span><span class="ident" id="5553630">Bool</span><span class="op" id="5553634">(</span><span class="string" id="5553635">&#34;s&#34;</span><span class="op" id="5553638">,</span>&nbsp;<span class="builtintype" id="5553640">false</span><span class="op" id="5553645">,</span>&nbsp;<span class="string" id="5553647">&#34;print&nbsp;status&nbsp;after&nbsp;execution&#34;</span><span class="op" id="5553677">)</span><br>
<span class="lineno"></span><span class="op" id="5553679">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5553682">func</span>&nbsp;<span class="ident" id="5553687">run</span><span class="op" id="5553690">(</span><span class="ident" id="5553691">bs</span>&nbsp;<span class="op" id="5553694">[</span><span class="op" id="5553695">]</span><span class="builtintype" id="5553696">byte</span><span class="op" id="5553700">)</span>&nbsp;<span class="op" id="5553702">(</span><span class="builtintype" id="5553703">int</span><span class="op" id="5553706">,</span>&nbsp;<span class="builtintype" id="5553708">error</span><span class="op" id="5553713">)</span>&nbsp;<span class="op" id="5553715">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553718">r</span>&nbsp;<span class="op" id="5553720">:=</span>&nbsp;<span class="ident" id="5553723">bytes</span><span class="op" id="5553728">.</span><span class="ident" id="5553729">NewBuffer</span><span class="op" id="5553738">(</span><span class="ident" id="5553739">bs</span><span class="op" id="5553741">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5553745">//&nbsp;create&nbsp;a&nbsp;single&nbsp;core&nbsp;machine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553778">m</span>&nbsp;<span class="op" id="5553780">:=</span>&nbsp;<span class="ident" id="5553783">arch8</span><span class="op" id="5553788">.</span><span class="ident" id="5553789">NewMachine</span><span class="op" id="5553799">(</span><span class="builtintype" id="5553800">uint32</span><span class="op" id="5553806">(</span><span class="op" id="5553807">*</span><span class="ident" id="5553808">memSize</span><span class="op" id="5553815">)</span><span class="op" id="5553816">,</span>&nbsp;<span class="num" id="5553818">1</span><span class="op" id="5553819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553822">e</span>&nbsp;<span class="op" id="5553824">:=</span>&nbsp;<span class="ident" id="5553827">m</span><span class="op" id="5553828">.</span><span class="ident" id="5553829">LoadImage</span><span class="op" id="5553838">(</span><span class="ident" id="5553839">r</span><span class="op" id="5553840">,</span>&nbsp;<span class="ident" id="5553842">arch8</span><span class="op" id="5553847">.</span><span class="ident" id="5553848">InitPC</span><span class="op" id="5553854">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5553857">if</span>&nbsp;<span class="ident" id="5553860">e</span>&nbsp;<span class="op" id="5553862">!=</span>&nbsp;<span class="ident" id="5553865">nil</span>&nbsp;<span class="op" id="5553869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5553873">return</span>&nbsp;<span class="num" id="5553880">0</span><span class="op" id="5553881">,</span>&nbsp;<span class="ident" id="5553883">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5553886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553890">ret</span><span class="op" id="5553893">,</span>&nbsp;<span class="ident" id="5553895">exp</span>&nbsp;<span class="op" id="5553899">:=</span>&nbsp;<span class="ident" id="5553902">m</span><span class="op" id="5553903">.</span><span class="ident" id="5553904">Run</span><span class="op" id="5553907">(</span><span class="op" id="5553908">*</span><span class="ident" id="5553909">ncycle</span><span class="op" id="5553915">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5553918">if</span>&nbsp;<span class="op" id="5553921">*</span><span class="ident" id="5553922">printStatus</span>&nbsp;<span class="op" id="5553934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5553938">m</span><span class="op" id="5553939">.</span><span class="ident" id="5553940">PrintCoreStatus</span><span class="op" id="5553955">(</span><span class="op" id="5553956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5553959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5553963">if</span>&nbsp;<span class="ident" id="5553966">exp</span>&nbsp;<span class="op" id="5553970">==</span>&nbsp;<span class="ident" id="5553973">nil</span>&nbsp;<span class="op" id="5553977">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5553981">return</span>&nbsp;<span class="ident" id="5553988">ret</span><span class="op" id="5553991">,</span>&nbsp;<span class="ident" id="5553993">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5553998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554001">return</span>&nbsp;<span class="ident" id="5554008">ret</span><span class="op" id="5554011">,</span>&nbsp;<span class="ident" id="5554013">exp</span><br>
<span class="lineno"></span><span class="op" id="5554017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="5554020">func</span>&nbsp;<span class="ident" id="5554025">main</span><span class="op" id="5554029">(</span><span class="op" id="5554030">)</span>&nbsp;<span class="op" id="5554032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554035">flag</span><span class="op" id="5554039">.</span><span class="ident" id="5554040">Parse</span><span class="op" id="5554045">(</span><span class="op" id="5554046">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554050">args</span>&nbsp;<span class="op" id="5554055">:=</span>&nbsp;<span class="ident" id="5554058">flag</span><span class="op" id="5554062">.</span><span class="ident" id="5554063">Args</span><span class="op" id="5554067">(</span><span class="op" id="5554068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554071">if</span>&nbsp;<span class="builtinfunc" id="5554074">len</span><span class="op" id="5554077">(</span><span class="ident" id="5554078">args</span><span class="op" id="5554082">)</span>&nbsp;<span class="op" id="5554084">!=</span>&nbsp;<span class="num" id="5554087">1</span>&nbsp;<span class="op" id="5554089">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554093">fmt</span><span class="op" id="5554096">.</span><span class="ident" id="5554097">Fprintf</span><span class="op" id="5554104">(</span><span class="ident" id="5554105">os</span><span class="op" id="5554107">.</span><span class="ident" id="5554108">Stderr</span><span class="op" id="5554114">,</span>&nbsp;<span class="string" id="5554116">&#34;need&nbsp;exactly&nbsp;one&nbsp;input&nbsp;file\n&#34;</span><span class="op" id="5554147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554151">os</span><span class="op" id="5554153">.</span><span class="ident" id="5554154">Exit</span><span class="op" id="5554158">(</span><span class="op" id="5554159">-</span><span class="num" id="5554160">1</span><span class="op" id="5554161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554168">fname</span>&nbsp;<span class="op" id="5554174">:=</span>&nbsp;<span class="ident" id="5554177">args</span><span class="op" id="5554181">[</span><span class="num" id="5554182">0</span><span class="op" id="5554183">]</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554186">f</span><span class="op" id="5554187">,</span>&nbsp;<span class="ident" id="5554189">e</span>&nbsp;<span class="op" id="5554191">:=</span>&nbsp;<span class="ident" id="5554194">os</span><span class="op" id="5554196">.</span><span class="ident" id="5554197">Open</span><span class="op" id="5554201">(</span><span class="ident" id="5554202">fname</span><span class="op" id="5554207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554210">if</span>&nbsp;<span class="ident" id="5554213">e</span>&nbsp;<span class="op" id="5554215">!=</span>&nbsp;<span class="ident" id="5554218">nil</span>&nbsp;<span class="op" id="5554222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554226">fmt</span><span class="op" id="5554229">.</span><span class="ident" id="5554230">Fprintf</span><span class="op" id="5554237">(</span><span class="ident" id="5554238">os</span><span class="op" id="5554240">.</span><span class="ident" id="5554241">Stderr</span><span class="op" id="5554247">,</span>&nbsp;<span class="string" id="5554249">&#34;open:&nbsp;%s&#34;</span><span class="op" id="5554259">,</span>&nbsp;<span class="ident" id="5554261">e</span><span class="op" id="5554262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554266">os</span><span class="op" id="5554268">.</span><span class="ident" id="5554269">Exit</span><span class="op" id="5554273">(</span><span class="op" id="5554274">-</span><span class="num" id="5554275">1</span><span class="op" id="5554276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554279">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554283">var</span>&nbsp;<span class="ident" id="5554287">bs</span>&nbsp;<span class="op" id="5554290">[</span><span class="op" id="5554291">]</span><span class="builtintype" id="5554292">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554298">var</span>&nbsp;<span class="ident" id="5554302">es</span>&nbsp;<span class="op" id="5554305">[</span><span class="op" id="5554306">]</span><span class="op" id="5554307">*</span><span class="ident" id="5554308">lex8</span><span class="op" id="5554312">.</span><span class="ident" id="5554313">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554320">if</span>&nbsp;<span class="ident" id="5554323">strings</span><span class="op" id="5554330">.</span><span class="ident" id="5554331">HasSuffix</span><span class="op" id="5554340">(</span><span class="ident" id="5554341">fname</span><span class="op" id="5554346">,</span>&nbsp;<span class="string" id="5554348">&#34;_bare.s&#34;</span><span class="op" id="5554357">)</span>&nbsp;<span class="op" id="5554359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554363">bs</span><span class="op" id="5554365">,</span>&nbsp;<span class="ident" id="5554367">es</span>&nbsp;<span class="op" id="5554370">=</span>&nbsp;<span class="ident" id="5554372">asm8</span><span class="op" id="5554376">.</span><span class="ident" id="5554377">BuildBareFunc</span><span class="op" id="5554390">(</span><span class="ident" id="5554391">fname</span><span class="op" id="5554396">,</span>&nbsp;<span class="ident" id="5554398">f</span><span class="op" id="5554399">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554402">}</span>&nbsp;<span class="keyword" id="5554404">else</span>&nbsp;<span class="op" id="5554409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554413">bs</span><span class="op" id="5554415">,</span>&nbsp;<span class="ident" id="5554417">es</span>&nbsp;<span class="op" id="5554420">=</span>&nbsp;<span class="ident" id="5554422">asm8</span><span class="op" id="5554426">.</span><span class="ident" id="5554427">BuildSingleFile</span><span class="op" id="5554442">(</span><span class="ident" id="5554443">fname</span><span class="op" id="5554448">,</span>&nbsp;<span class="ident" id="5554450">f</span><span class="op" id="5554451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554458">if</span>&nbsp;<span class="builtinfunc" id="5554461">len</span><span class="op" id="5554464">(</span><span class="ident" id="5554465">es</span><span class="op" id="5554467">)</span>&nbsp;<span class="op" id="5554469">&gt;</span>&nbsp;<span class="num" id="5554471">0</span>&nbsp;<span class="op" id="5554473">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554477">for</span>&nbsp;<span class="ident" id="5554481">_</span><span class="op" id="5554482">,</span>&nbsp;<span class="ident" id="5554484">e</span>&nbsp;<span class="op" id="5554486">:=</span>&nbsp;<span class="keyword" id="5554489">range</span>&nbsp;<span class="ident" id="5554495">es</span>&nbsp;<span class="op" id="5554498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554503">fmt</span><span class="op" id="5554506">.</span><span class="ident" id="5554507">Println</span><span class="op" id="5554514">(</span><span class="ident" id="5554515">e</span><span class="op" id="5554516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554523">}</span>&nbsp;<span class="keyword" id="5554525">else</span>&nbsp;<span class="op" id="5554530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554534">if</span>&nbsp;<span class="op" id="5554537">*</span><span class="ident" id="5554538">doDasm</span>&nbsp;<span class="op" id="5554545">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554550">lines</span>&nbsp;<span class="op" id="5554556">:=</span>&nbsp;<span class="ident" id="5554559">dasm8</span><span class="op" id="5554564">.</span><span class="ident" id="5554565">Dasm</span><span class="op" id="5554569">(</span><span class="ident" id="5554570">bs</span><span class="op" id="5554572">,</span>&nbsp;<span class="ident" id="5554574">arch8</span><span class="op" id="5554579">.</span><span class="ident" id="5554580">InitPC</span><span class="op" id="5554586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554591">for</span>&nbsp;<span class="ident" id="5554595">_</span><span class="op" id="5554596">,</span>&nbsp;<span class="ident" id="5554598">line</span>&nbsp;<span class="op" id="5554603">:=</span>&nbsp;<span class="keyword" id="5554606">range</span>&nbsp;<span class="ident" id="5554612">lines</span>&nbsp;<span class="op" id="5554618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554624">fmt</span><span class="op" id="5554627">.</span><span class="ident" id="5554628">Println</span><span class="op" id="5554635">(</span><span class="ident" id="5554636">line</span><span class="op" id="5554640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554649">}</span>&nbsp;<span class="keyword" id="5554651">else</span>&nbsp;<span class="op" id="5554656">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554661">n</span><span class="op" id="5554662">,</span>&nbsp;<span class="ident" id="5554664">e</span>&nbsp;<span class="op" id="5554666">:=</span>&nbsp;<span class="ident" id="5554669">run</span><span class="op" id="5554672">(</span><span class="ident" id="5554673">bs</span><span class="op" id="5554675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554680">fmt</span><span class="op" id="5554683">.</span><span class="ident" id="5554684">Printf</span><span class="op" id="5554690">(</span><span class="string" id="5554691">&#34;(%d&nbsp;cycles)\n&#34;</span><span class="op" id="5554706">,</span>&nbsp;<span class="ident" id="5554708">n</span><span class="op" id="5554709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5554714">if</span>&nbsp;<span class="ident" id="5554717">e</span>&nbsp;<span class="op" id="5554719">!=</span>&nbsp;<span class="ident" id="5554722">nil</span>&nbsp;<span class="op" id="5554726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5554732">fmt</span><span class="op" id="5554735">.</span><span class="ident" id="5554736">Println</span><span class="op" id="5554743">(</span><span class="ident" id="5554744">e</span><span class="op" id="5554745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554750">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5554757">}</span><br>
<span class="lineno"></span><span class="op" id="5554759">}</span>
</div>
</body>
</html>
