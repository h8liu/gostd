<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7947156">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7947212">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7947266">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7947317">package</span>&nbsp;<span class="ident" id="7947325">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7947332">import</span>&nbsp;<span class="op" id="7947339">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947342">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947348">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947359">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7947369">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7947372">const</span>&nbsp;<span class="ident" id="7947378">quote</span>&nbsp;<span class="op" id="7947384">=</span>&nbsp;<span class="string" id="7947386">&#34;`&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7947391">type</span>&nbsp;<span class="ident" id="7947396">readTest</span>&nbsp;<span class="keyword" id="7947405">struct</span>&nbsp;<span class="op" id="7947412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7947415">//&nbsp;Test&nbsp;input&nbsp;contains&nbsp;ℙ&nbsp;where&nbsp;readImports&nbsp;should&nbsp;stop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947474">in</span>&nbsp;&nbsp;<span class="builtintype" id="7947478">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947486">err</span>&nbsp;<span class="builtintype" id="7947490">string</span><br>
<span class="lineno"></span><span class="op" id="7947497">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7947500">var</span>&nbsp;<span class="ident" id="7947504">readImportsTests</span>&nbsp;<span class="op" id="7947521">=</span>&nbsp;<span class="op" id="7947523">[</span><span class="op" id="7947524">]</span><span class="ident" id="7947525">readTest</span><span class="op" id="7947533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947540">`package&nbsp;p`</span><span class="op" id="7947551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947555">&#34;&#34;</span><span class="op" id="7947557">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947560">}</span><span class="op" id="7947561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947568">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7947591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947595">&#34;&#34;</span><span class="op" id="7947597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947600">}</span><span class="op" id="7947601">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947608">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7947633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947637">&#34;&#34;</span><span class="op" id="7947639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947642">}</span><span class="op" id="7947643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947646">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947650">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;;ℙvar&nbsp;x&nbsp;=&nbsp;1`</span><span class="op" id="7947686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947690">&#34;&#34;</span><span class="op" id="7947692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947695">}</span><span class="op" id="7947696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7947703">`package&nbsp;p<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;_&nbsp;&#34;x&#34;<br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;a&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;(<br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;x&#34;&nbsp;/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp_&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspa&nbsp;&#34;x&#34;&nbsp;//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span>&nbsp;<span class="op" id="7947864">+</span>&nbsp;<span class="ident" id="7947866">quote</span>&nbsp;<span class="op" id="7947872">+</span>&nbsp;<span class="string" id="7947874">`x`</span>&nbsp;<span class="op" id="7947878">+</span>&nbsp;<span class="ident" id="7947880">quote</span>&nbsp;<span class="op" id="7947886">+</span>&nbsp;<span class="string" id="7947888">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp_&nbsp;/*comment*/&nbsp;`</span>&nbsp;<span class="op" id="7947909">+</span>&nbsp;<span class="ident" id="7947911">quote</span>&nbsp;<span class="op" id="7947917">+</span>&nbsp;<span class="string" id="7947919">`x`</span>&nbsp;<span class="op" id="7947923">+</span>&nbsp;<span class="ident" id="7947925">quote</span>&nbsp;<span class="op" id="7947931">+</span>&nbsp;<span class="string" id="7947933">`<br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspa&nbsp;`</span>&nbsp;<span class="op" id="7947942">+</span>&nbsp;<span class="ident" id="7947944">quote</span>&nbsp;<span class="op" id="7947950">+</span>&nbsp;<span class="string" id="7947952">`x`</span>&nbsp;<span class="op" id="7947956">+</span>&nbsp;<span class="ident" id="7947958">quote</span>&nbsp;<span class="op" id="7947964">+</span>&nbsp;<span class="string" id="7947966">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;(<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;()<br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport()import()import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport();import();import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspℙvar&nbsp;x&nbsp;=&nbsp;1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span><span class="op" id="7948076">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7948080">&#34;&#34;</span><span class="op" id="7948082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948085">}</span><span class="op" id="7948086">,</span><br>
<span class="lineno"></span><span class="op" id="7948088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7948091">var</span>&nbsp;<span class="ident" id="7948095">readCommentsTests</span>&nbsp;<span class="op" id="7948113">=</span>&nbsp;<span class="op" id="7948115">[</span><span class="op" id="7948116">]</span><span class="ident" id="7948117">readTest</span><span class="op" id="7948125">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7948132">`ℙpackage&nbsp;p`</span><span class="op" id="7948146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7948150">&#34;&#34;</span><span class="op" id="7948152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948155">}</span><span class="op" id="7948156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948159">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7948163">`ℙpackage&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7948189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7948193">&#34;&#34;</span><span class="op" id="7948195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948198">}</span><span class="op" id="7948199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7948206">`ℙpackage&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7948234">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7948238">&#34;&#34;</span><span class="op" id="7948240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948243">}</span><span class="op" id="7948244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7948251">`//&nbsp;foo<br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;bar&nbsp;*/<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;quux&nbsp;*/&nbsp;//&nbsp;baz<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*/&nbsp;zot&nbsp;*/<br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;asdf<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspℙHello,&nbsp;world`</span><span class="op" id="7948338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7948342">&#34;&#34;</span><span class="op" id="7948344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948347">}</span><span class="op" id="7948348">,</span><br>
<span class="lineno">95</span><span class="op" id="7948350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7948353">func</span>&nbsp;<span class="ident" id="7948358">testRead</span><span class="op" id="7948366">(</span><span class="ident" id="7948367">t</span>&nbsp;<span class="op" id="7948369">*</span><span class="ident" id="7948370">testing</span><span class="op" id="7948377">.</span><span class="ident" id="7948378">T</span><span class="op" id="7948379">,</span>&nbsp;<span class="ident" id="7948381">tests</span>&nbsp;<span class="op" id="7948387">[</span><span class="op" id="7948388">]</span><span class="ident" id="7948389">readTest</span><span class="op" id="7948397">,</span>&nbsp;<span class="ident" id="7948399">read</span>&nbsp;<span class="keyword" id="7948404">func</span><span class="op" id="7948408">(</span><span class="ident" id="7948409">io</span><span class="op" id="7948411">.</span><span class="ident" id="7948412">Reader</span><span class="op" id="7948418">)</span>&nbsp;<span class="op" id="7948420">(</span><span class="op" id="7948421">[</span><span class="op" id="7948422">]</span><span class="builtintype" id="7948423">byte</span><span class="op" id="7948427">,</span>&nbsp;<span class="builtintype" id="7948429">error</span><span class="op" id="7948434">)</span><span class="op" id="7948435">)</span>&nbsp;<span class="op" id="7948437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948440">for</span>&nbsp;<span class="ident" id="7948444">i</span><span class="op" id="7948445">,</span>&nbsp;<span class="ident" id="7948447">tt</span>&nbsp;<span class="op" id="7948450">:=</span>&nbsp;<span class="keyword" id="7948453">range</span>&nbsp;<span class="ident" id="7948459">tests</span>&nbsp;<span class="op" id="7948465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948469">var</span>&nbsp;<span class="ident" id="7948473">in</span><span class="op" id="7948475">,</span>&nbsp;<span class="ident" id="7948477">testOut</span>&nbsp;<span class="builtintype" id="7948485">string</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948494">j</span>&nbsp;<span class="op" id="7948496">:=</span>&nbsp;<span class="ident" id="7948499">strings</span><span class="op" id="7948506">.</span><span class="ident" id="7948507">Index</span><span class="op" id="7948512">(</span><span class="ident" id="7948513">tt</span><span class="op" id="7948515">.</span><span class="ident" id="7948516">in</span><span class="op" id="7948518">,</span>&nbsp;<span class="string" id="7948520">&#34;ℙ&#34;</span><span class="op" id="7948525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948529">if</span>&nbsp;<span class="ident" id="7948532">j</span>&nbsp;<span class="op" id="7948534">&lt;</span>&nbsp;<span class="num" id="7948536">0</span>&nbsp;<span class="op" id="7948538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948543">in</span>&nbsp;<span class="op" id="7948546">=</span>&nbsp;<span class="ident" id="7948548">tt</span><span class="op" id="7948550">.</span><span class="ident" id="7948551">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948557">testOut</span>&nbsp;<span class="op" id="7948565">=</span>&nbsp;<span class="ident" id="7948567">tt</span><span class="op" id="7948569">.</span><span class="ident" id="7948570">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948575">}</span>&nbsp;<span class="keyword" id="7948577">else</span>&nbsp;<span class="op" id="7948582">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948587">in</span>&nbsp;<span class="op" id="7948590">=</span>&nbsp;<span class="ident" id="7948592">tt</span><span class="op" id="7948594">.</span><span class="ident" id="7948595">in</span><span class="op" id="7948597">[</span><span class="op" id="7948598">:</span><span class="ident" id="7948599">j</span><span class="op" id="7948600">]</span>&nbsp;<span class="op" id="7948602">+</span>&nbsp;<span class="ident" id="7948604">tt</span><span class="op" id="7948606">.</span><span class="ident" id="7948607">in</span><span class="op" id="7948609">[</span><span class="ident" id="7948610">j</span><span class="op" id="7948611">+</span><span class="builtinfunc" id="7948612">len</span><span class="op" id="7948615">(</span><span class="string" id="7948616">&#34;ℙ&#34;</span><span class="op" id="7948621">)</span><span class="op" id="7948622">:</span><span class="op" id="7948623">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948628">testOut</span>&nbsp;<span class="op" id="7948636">=</span>&nbsp;<span class="ident" id="7948638">tt</span><span class="op" id="7948640">.</span><span class="ident" id="7948641">in</span><span class="op" id="7948643">[</span><span class="op" id="7948644">:</span><span class="ident" id="7948645">j</span><span class="op" id="7948646">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948654">r</span>&nbsp;<span class="op" id="7948656">:=</span>&nbsp;<span class="ident" id="7948659">strings</span><span class="op" id="7948666">.</span><span class="ident" id="7948667">NewReader</span><span class="op" id="7948676">(</span><span class="ident" id="7948677">in</span><span class="op" id="7948679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948683">buf</span><span class="op" id="7948686">,</span>&nbsp;<span class="ident" id="7948688">err</span>&nbsp;<span class="op" id="7948692">:=</span>&nbsp;<span class="ident" id="7948695">read</span><span class="op" id="7948699">(</span><span class="ident" id="7948700">r</span><span class="op" id="7948701">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948705">if</span>&nbsp;<span class="ident" id="7948708">err</span>&nbsp;<span class="op" id="7948712">!=</span>&nbsp;<span class="ident" id="7948715">nil</span>&nbsp;<span class="op" id="7948719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948724">if</span>&nbsp;<span class="ident" id="7948727">tt</span><span class="op" id="7948729">.</span><span class="ident" id="7948730">err</span>&nbsp;<span class="op" id="7948734">==</span>&nbsp;<span class="string" id="7948737">&#34;&#34;</span>&nbsp;<span class="op" id="7948740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948746">t</span><span class="op" id="7948747">.</span><span class="ident" id="7948748">Errorf</span><span class="op" id="7948754">(</span><span class="string" id="7948755">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;success&nbsp;(%q)&#34;</span><span class="op" id="7948791">,</span>&nbsp;<span class="ident" id="7948793">i</span><span class="op" id="7948794">,</span>&nbsp;<span class="ident" id="7948796">err</span><span class="op" id="7948799">,</span>&nbsp;<span class="builtintype" id="7948801">string</span><span class="op" id="7948807">(</span><span class="ident" id="7948808">buf</span><span class="op" id="7948811">)</span><span class="op" id="7948812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948818">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948830">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948835">if</span>&nbsp;<span class="op" id="7948838">!</span><span class="ident" id="7948839">strings</span><span class="op" id="7948846">.</span><span class="ident" id="7948847">Contains</span><span class="op" id="7948855">(</span><span class="ident" id="7948856">err</span><span class="op" id="7948859">.</span><span class="ident" id="7948860">Error</span><span class="op" id="7948865">(</span><span class="op" id="7948866">)</span><span class="op" id="7948867">,</span>&nbsp;<span class="ident" id="7948869">tt</span><span class="op" id="7948871">.</span><span class="ident" id="7948872">err</span><span class="op" id="7948875">)</span>&nbsp;<span class="op" id="7948877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948883">t</span><span class="op" id="7948884">.</span><span class="ident" id="7948885">Errorf</span><span class="op" id="7948891">(</span><span class="string" id="7948892">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7948918">,</span>&nbsp;<span class="ident" id="7948920">i</span><span class="op" id="7948921">,</span>&nbsp;<span class="ident" id="7948923">err</span><span class="op" id="7948926">,</span>&nbsp;<span class="ident" id="7948928">tt</span><span class="op" id="7948930">.</span><span class="ident" id="7948931">err</span><span class="op" id="7948934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948940">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948957">continue</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948972">if</span>&nbsp;<span class="ident" id="7948975">err</span>&nbsp;<span class="op" id="7948979">==</span>&nbsp;<span class="ident" id="7948982">nil</span>&nbsp;<span class="op" id="7948986">&amp;&amp;</span>&nbsp;<span class="ident" id="7948989">tt</span><span class="op" id="7948991">.</span><span class="ident" id="7948992">err</span>&nbsp;<span class="op" id="7948996">!=</span>&nbsp;<span class="string" id="7948999">&#34;&#34;</span>&nbsp;<span class="op" id="7949002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949007">t</span><span class="op" id="7949008">.</span><span class="ident" id="7949009">Errorf</span><span class="op" id="7949015">(</span><span class="string" id="7949016">&#34;#%d:&nbsp;success,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7949043">,</span>&nbsp;<span class="ident" id="7949045">i</span><span class="op" id="7949046">,</span>&nbsp;<span class="ident" id="7949048">tt</span><span class="op" id="7949050">.</span><span class="ident" id="7949051">err</span><span class="op" id="7949054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7949059">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949070">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949075">out</span>&nbsp;<span class="op" id="7949079">:=</span>&nbsp;<span class="builtintype" id="7949082">string</span><span class="op" id="7949088">(</span><span class="ident" id="7949089">buf</span><span class="op" id="7949092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7949096">if</span>&nbsp;<span class="ident" id="7949099">out</span>&nbsp;<span class="op" id="7949103">!=</span>&nbsp;<span class="ident" id="7949106">testOut</span>&nbsp;<span class="op" id="7949114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949119">t</span><span class="op" id="7949120">.</span><span class="ident" id="7949121">Errorf</span><span class="op" id="7949127">(</span><span class="string" id="7949128">&#34;#%d:&nbsp;wrong&nbsp;output:\nhave&nbsp;%q\nwant&nbsp;%q\n&#34;</span><span class="op" id="7949168">,</span>&nbsp;<span class="ident" id="7949170">i</span><span class="op" id="7949171">,</span>&nbsp;<span class="ident" id="7949173">out</span><span class="op" id="7949176">,</span>&nbsp;<span class="ident" id="7949178">testOut</span><span class="op" id="7949185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949189">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949192">}</span><br>
<span class="lineno"></span><span class="op" id="7949194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7949197">func</span>&nbsp;<span class="ident" id="7949202">TestReadImports</span><span class="op" id="7949217">(</span><span class="ident" id="7949218">t</span>&nbsp;<span class="op" id="7949220">*</span><span class="ident" id="7949221">testing</span><span class="op" id="7949228">.</span><span class="ident" id="7949229">T</span><span class="op" id="7949230">)</span>&nbsp;<span class="op" id="7949232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949235">testRead</span><span class="op" id="7949243">(</span><span class="ident" id="7949244">t</span><span class="op" id="7949245">,</span>&nbsp;<span class="ident" id="7949247">readImportsTests</span><span class="op" id="7949263">,</span>&nbsp;<span class="keyword" id="7949265">func</span><span class="op" id="7949269">(</span><span class="ident" id="7949270">r</span>&nbsp;<span class="ident" id="7949272">io</span><span class="op" id="7949274">.</span><span class="ident" id="7949275">Reader</span><span class="op" id="7949281">)</span>&nbsp;<span class="op" id="7949283">(</span><span class="op" id="7949284">[</span><span class="op" id="7949285">]</span><span class="builtintype" id="7949286">byte</span><span class="op" id="7949290">,</span>&nbsp;<span class="builtintype" id="7949292">error</span><span class="op" id="7949297">)</span>&nbsp;<span class="op" id="7949299">{</span>&nbsp;<span class="keyword" id="7949301">return</span>&nbsp;<span class="ident" id="7949308">readImports</span><span class="op" id="7949319">(</span><span class="ident" id="7949320">r</span><span class="op" id="7949321">,</span>&nbsp;<span class="ident" id="7949323">true</span><span class="op" id="7949327">)</span>&nbsp;<span class="op" id="7949329">}</span><span class="op" id="7949330">)</span><br>
<span class="lineno">135</span><span class="op" id="7949332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7949335">func</span>&nbsp;<span class="ident" id="7949340">TestReadComments</span><span class="op" id="7949356">(</span><span class="ident" id="7949357">t</span>&nbsp;<span class="op" id="7949359">*</span><span class="ident" id="7949360">testing</span><span class="op" id="7949367">.</span><span class="ident" id="7949368">T</span><span class="op" id="7949369">)</span>&nbsp;<span class="op" id="7949371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949374">testRead</span><span class="op" id="7949382">(</span><span class="ident" id="7949383">t</span><span class="op" id="7949384">,</span>&nbsp;<span class="ident" id="7949386">readCommentsTests</span><span class="op" id="7949403">,</span>&nbsp;<span class="ident" id="7949405">readComments</span><span class="op" id="7949417">)</span><br>
<span class="lineno"></span><span class="op" id="7949419">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="7949422">var</span>&nbsp;<span class="ident" id="7949426">readFailuresTests</span>&nbsp;<span class="op" id="7949444">=</span>&nbsp;<span class="op" id="7949446">[</span><span class="op" id="7949447">]</span><span class="ident" id="7949448">readTest</span><span class="op" id="7949456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949463">`package`</span><span class="op" id="7949472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949476">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7949490">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949493">}</span><span class="op" id="7949494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949501">&#34;package&nbsp;p\n\x00\nimport&nbsp;`math`\n&#34;</span><span class="op" id="7949535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949539">&#34;unexpected&nbsp;NUL&nbsp;in&nbsp;input&#34;</span><span class="op" id="7949564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949567">}</span><span class="op" id="7949568">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949575">`package&nbsp;p;&nbsp;import`</span><span class="op" id="7949594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949598">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7949612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949615">}</span><span class="op" id="7949616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949619">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949623">`package&nbsp;p;&nbsp;import&nbsp;&#34;`</span><span class="op" id="7949644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949648">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7949662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949665">}</span><span class="op" id="7949666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949673">&#34;package&nbsp;p;&nbsp;import&nbsp;`&nbsp;\n\n&#34;</span><span class="op" id="7949699">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949703">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7949717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949720">}</span><span class="op" id="7949721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949728">`package&nbsp;p;&nbsp;import&nbsp;&#34;x`</span><span class="op" id="7949750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949754">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7949768">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949771">}</span><span class="op" id="7949772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949779">`package&nbsp;p;&nbsp;import&nbsp;_`</span><span class="op" id="7949800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949804">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7949818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949821">}</span><span class="op" id="7949822">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949829">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;`</span><span class="op" id="7949852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949856">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7949870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949873">}</span><span class="op" id="7949874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949877">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949881">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;x`</span><span class="op" id="7949905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949909">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7949923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949926">}</span><span class="op" id="7949927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949934">`package&nbsp;p;&nbsp;import&nbsp;.`</span><span class="op" id="7949955">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949959">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7949973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949976">}</span><span class="op" id="7949977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7949984">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;`</span><span class="op" id="7950007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950011">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7950025">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950028">}</span><span class="op" id="7950029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950036">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x`</span><span class="op" id="7950060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950064">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7950078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950081">}</span><span class="op" id="7950082">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950089">`package&nbsp;p;&nbsp;import&nbsp;(`</span><span class="op" id="7950110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950114">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7950128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950131">}</span><span class="op" id="7950132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950135">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950139">`package&nbsp;p;&nbsp;import&nbsp;(&#34;`</span><span class="op" id="7950161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950165">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7950179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950182">}</span><span class="op" id="7950183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950190">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x`</span><span class="op" id="7950213">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950217">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7950231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950234">}</span><span class="op" id="7950235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950242">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x&#34;`</span><span class="op" id="7950266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7950270">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7950284">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950287">}</span><span class="op" id="7950288">,</span><br>
<span class="lineno"></span><span class="op" id="7950290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7950293">func</span>&nbsp;<span class="ident" id="7950298">TestReadFailures</span><span class="op" id="7950314">(</span><span class="ident" id="7950315">t</span>&nbsp;<span class="op" id="7950317">*</span><span class="ident" id="7950318">testing</span><span class="op" id="7950325">.</span><span class="ident" id="7950326">T</span><span class="op" id="7950327">)</span>&nbsp;<span class="op" id="7950329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7950332">//&nbsp;Errors&nbsp;should&nbsp;be&nbsp;reported&nbsp;(true&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950389">testRead</span><span class="op" id="7950397">(</span><span class="ident" id="7950398">t</span><span class="op" id="7950399">,</span>&nbsp;<span class="ident" id="7950401">readFailuresTests</span><span class="op" id="7950418">,</span>&nbsp;<span class="keyword" id="7950420">func</span><span class="op" id="7950424">(</span><span class="ident" id="7950425">r</span>&nbsp;<span class="ident" id="7950427">io</span><span class="op" id="7950429">.</span><span class="ident" id="7950430">Reader</span><span class="op" id="7950436">)</span>&nbsp;<span class="op" id="7950438">(</span><span class="op" id="7950439">[</span><span class="op" id="7950440">]</span><span class="builtintype" id="7950441">byte</span><span class="op" id="7950445">,</span>&nbsp;<span class="builtintype" id="7950447">error</span><span class="op" id="7950452">)</span>&nbsp;<span class="op" id="7950454">{</span>&nbsp;<span class="keyword" id="7950456">return</span>&nbsp;<span class="ident" id="7950463">readImports</span><span class="op" id="7950474">(</span><span class="ident" id="7950475">r</span><span class="op" id="7950476">,</span>&nbsp;<span class="ident" id="7950478">true</span><span class="op" id="7950482">)</span>&nbsp;<span class="op" id="7950484">}</span><span class="op" id="7950485">)</span><br>
<span class="lineno"></span><span class="op" id="7950487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7950490">func</span>&nbsp;<span class="ident" id="7950495">TestReadFailuresIgnored</span><span class="op" id="7950518">(</span><span class="ident" id="7950519">t</span>&nbsp;<span class="op" id="7950521">*</span><span class="ident" id="7950522">testing</span><span class="op" id="7950529">.</span><span class="ident" id="7950530">T</span><span class="op" id="7950531">)</span>&nbsp;<span class="op" id="7950533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7950536">//&nbsp;Syntax&nbsp;errors&nbsp;should&nbsp;not&nbsp;be&nbsp;reported&nbsp;(false&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7950605">//&nbsp;Instead,&nbsp;entire&nbsp;file&nbsp;should&nbsp;be&nbsp;the&nbsp;output&nbsp;and&nbsp;no&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7950665">//&nbsp;Convert&nbsp;tests&nbsp;not&nbsp;to&nbsp;return&nbsp;syntax&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950712">tests</span>&nbsp;<span class="op" id="7950718">:=</span>&nbsp;<span class="builtinfunc" id="7950721">make</span><span class="op" id="7950725">(</span><span class="op" id="7950726">[</span><span class="op" id="7950727">]</span><span class="ident" id="7950728">readTest</span><span class="op" id="7950736">,</span>&nbsp;<span class="builtinfunc" id="7950738">len</span><span class="op" id="7950741">(</span><span class="ident" id="7950742">readFailuresTests</span><span class="op" id="7950759">)</span><span class="op" id="7950760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7950763">copy</span><span class="op" id="7950767">(</span><span class="ident" id="7950768">tests</span><span class="op" id="7950773">,</span>&nbsp;<span class="ident" id="7950775">readFailuresTests</span><span class="op" id="7950792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7950795">for</span>&nbsp;<span class="ident" id="7950799">i</span>&nbsp;<span class="op" id="7950801">:=</span>&nbsp;<span class="keyword" id="7950804">range</span>&nbsp;<span class="ident" id="7950810">tests</span>&nbsp;<span class="op" id="7950816">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950820">tt</span>&nbsp;<span class="op" id="7950823">:=</span>&nbsp;<span class="op" id="7950826">&amp;</span><span class="ident" id="7950827">tests</span><span class="op" id="7950832">[</span><span class="ident" id="7950833">i</span><span class="op" id="7950834">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7950838">if</span>&nbsp;<span class="op" id="7950841">!</span><span class="ident" id="7950842">strings</span><span class="op" id="7950849">.</span><span class="ident" id="7950850">Contains</span><span class="op" id="7950858">(</span><span class="ident" id="7950859">tt</span><span class="op" id="7950861">.</span><span class="ident" id="7950862">err</span><span class="op" id="7950865">,</span>&nbsp;<span class="string" id="7950867">&#34;NUL&#34;</span><span class="op" id="7950872">)</span>&nbsp;<span class="op" id="7950874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950879">tt</span><span class="op" id="7950881">.</span><span class="ident" id="7950882">err</span>&nbsp;<span class="op" id="7950886">=</span>&nbsp;<span class="string" id="7950888">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7950896">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950899">testRead</span><span class="op" id="7950907">(</span><span class="ident" id="7950908">t</span><span class="op" id="7950909">,</span>&nbsp;<span class="ident" id="7950911">tests</span><span class="op" id="7950916">,</span>&nbsp;<span class="keyword" id="7950918">func</span><span class="op" id="7950922">(</span><span class="ident" id="7950923">r</span>&nbsp;<span class="ident" id="7950925">io</span><span class="op" id="7950927">.</span><span class="ident" id="7950928">Reader</span><span class="op" id="7950934">)</span>&nbsp;<span class="op" id="7950936">(</span><span class="op" id="7950937">[</span><span class="op" id="7950938">]</span><span class="builtintype" id="7950939">byte</span><span class="op" id="7950943">,</span>&nbsp;<span class="builtintype" id="7950945">error</span><span class="op" id="7950950">)</span>&nbsp;<span class="op" id="7950952">{</span>&nbsp;<span class="keyword" id="7950954">return</span>&nbsp;<span class="ident" id="7950961">readImports</span><span class="op" id="7950972">(</span><span class="ident" id="7950973">r</span><span class="op" id="7950974">,</span>&nbsp;<span class="ident" id="7950976">false</span><span class="op" id="7950981">)</span>&nbsp;<span class="op" id="7950983">}</span><span class="op" id="7950984">)</span><br>
<span class="lineno"></span><span class="op" id="7950986">}</span>
</div>
</body>
</html>
