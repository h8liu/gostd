<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7592198">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7592254">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7592308">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7592359">//&nbsp;Large&nbsp;data&nbsp;benchmark.</span><br>
<span class="lineno"></span><span class="comment" id="7592384">//&nbsp;The&nbsp;JSON&nbsp;data&nbsp;is&nbsp;a&nbsp;summary&nbsp;of&nbsp;agl&#39;s&nbsp;changes&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7592438">//&nbsp;go,&nbsp;webkit,&nbsp;and&nbsp;chromium&nbsp;open&nbsp;source&nbsp;projects.</span><br>
<span class="lineno"></span><span class="comment" id="7592488">//&nbsp;We&nbsp;benchmark&nbsp;converting&nbsp;between&nbsp;the&nbsp;JSON&nbsp;form</span><br>
<span class="lineno"></span><span class="comment" id="7592537">//&nbsp;and&nbsp;in-memory&nbsp;data&nbsp;structures.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7592572">package</span>&nbsp;<span class="ident" id="7592580">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7592586">import</span>&nbsp;<span class="op" id="7592593">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7592596">&#34;bytes&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7592605">&#34;compress/gzip&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7592622">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7592635">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7592641">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7592651">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7592654">type</span>&nbsp;<span class="ident" id="7592659">codeResponse</span>&nbsp;<span class="keyword" id="7592672">struct</span>&nbsp;<span class="op" id="7592679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7592682">Tree</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7592691">*</span><span class="ident" id="7592692">codeNode</span>&nbsp;<span class="string" id="7592701">`json:&#34;tree&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7592716">Username</span>&nbsp;<span class="builtintype" id="7592725">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7592735">`json:&#34;username&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7592753">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7592756">type</span>&nbsp;<span class="ident" id="7592761">codeNode</span>&nbsp;<span class="keyword" id="7592770">struct</span>&nbsp;<span class="op" id="7592777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7592780">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7592789">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7592801">`json:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7592816">Kids</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7592825">[</span><span class="op" id="7592826">]</span><span class="op" id="7592827">*</span><span class="ident" id="7592828">codeNode</span>&nbsp;<span class="string" id="7592837">`json:&#34;kids&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7592852">CLWeight</span>&nbsp;<span class="builtintype" id="7592861">float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7592873">`json:&#34;cl_weight&#34;`</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7592893">Touches</span>&nbsp;&nbsp;<span class="builtintype" id="7592902">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7592914">`json:&#34;touches&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7592932">MinT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7592941">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7592953">`json:&#34;min_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7592969">MaxT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7592978">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7592990">`json:&#34;max_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7593006">MeanT</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7593015">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7593027">`json:&#34;mean_t&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7593043">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="7593046">var</span>&nbsp;<span class="ident" id="7593050">codeJSON</span>&nbsp;<span class="op" id="7593059">[</span><span class="op" id="7593060">]</span><span class="builtintype" id="7593061">byte</span><br>
<span class="lineno"></span><span class="keyword" id="7593066">var</span>&nbsp;<span class="ident" id="7593070">codeStruct</span>&nbsp;<span class="ident" id="7593081">codeResponse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7593095">func</span>&nbsp;<span class="ident" id="7593100">codeInit</span><span class="op" id="7593108">(</span><span class="op" id="7593109">)</span>&nbsp;<span class="op" id="7593111">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7593114">f</span><span class="op" id="7593115">,</span>&nbsp;<span class="ident" id="7593117">err</span>&nbsp;<span class="op" id="7593121">:=</span>&nbsp;<span class="ident" id="7593124">os</span><span class="op" id="7593126">.</span><span class="ident" id="7593127">Open</span><span class="op" id="7593131">(</span><span class="string" id="7593132">&#34;testdata/code.json.gz&#34;</span><span class="op" id="7593155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593158">if</span>&nbsp;<span class="ident" id="7593161">err</span>&nbsp;<span class="op" id="7593165">!=</span>&nbsp;<span class="ident" id="7593168">nil</span>&nbsp;<span class="op" id="7593172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593176">panic</span><span class="op" id="7593181">(</span><span class="ident" id="7593182">err</span><span class="op" id="7593185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7593188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593191">defer</span>&nbsp;<span class="ident" id="7593197">f</span><span class="op" id="7593198">.</span><span class="ident" id="7593199">Close</span><span class="op" id="7593204">(</span><span class="op" id="7593205">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7593208">gz</span><span class="op" id="7593210">,</span>&nbsp;<span class="ident" id="7593212">err</span>&nbsp;<span class="op" id="7593216">:=</span>&nbsp;<span class="ident" id="7593219">gzip</span><span class="op" id="7593223">.</span><span class="ident" id="7593224">NewReader</span><span class="op" id="7593233">(</span><span class="ident" id="7593234">f</span><span class="op" id="7593235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593238">if</span>&nbsp;<span class="ident" id="7593241">err</span>&nbsp;<span class="op" id="7593245">!=</span>&nbsp;<span class="ident" id="7593248">nil</span>&nbsp;<span class="op" id="7593252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593256">panic</span><span class="op" id="7593261">(</span><span class="ident" id="7593262">err</span><span class="op" id="7593265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7593268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7593271">data</span><span class="op" id="7593275">,</span>&nbsp;<span class="ident" id="7593277">err</span>&nbsp;<span class="op" id="7593281">:=</span>&nbsp;<span class="ident" id="7593284">ioutil</span><span class="op" id="7593290">.</span><span class="ident" id="7593291">ReadAll</span><span class="op" id="7593298">(</span><span class="ident" id="7593299">gz</span><span class="op" id="7593301">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593304">if</span>&nbsp;<span class="ident" id="7593307">err</span>&nbsp;<span class="op" id="7593311">!=</span>&nbsp;<span class="ident" id="7593314">nil</span>&nbsp;<span class="op" id="7593318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593322">panic</span><span class="op" id="7593327">(</span><span class="ident" id="7593328">err</span><span class="op" id="7593331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7593334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7593338">codeJSON</span>&nbsp;<span class="op" id="7593347">=</span>&nbsp;<span class="ident" id="7593349">data</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593356">if</span>&nbsp;<span class="ident" id="7593359">err</span>&nbsp;<span class="op" id="7593363">:=</span>&nbsp;<span class="ident" id="7593366">Unmarshal</span><span class="op" id="7593375">(</span><span class="ident" id="7593376">codeJSON</span><span class="op" id="7593384">,</span>&nbsp;<span class="op" id="7593386">&amp;</span><span class="ident" id="7593387">codeStruct</span><span class="op" id="7593397">)</span><span class="op" id="7593398">;</span>&nbsp;<span class="ident" id="7593400">err</span>&nbsp;<span class="op" id="7593404">!=</span>&nbsp;<span class="ident" id="7593407">nil</span>&nbsp;<span class="op" id="7593411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593415">panic</span><span class="op" id="7593420">(</span><span class="string" id="7593421">&#34;unmarshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="7593445">+</span>&nbsp;<span class="ident" id="7593447">err</span><span class="op" id="7593450">.</span><span class="ident" id="7593451">Error</span><span class="op" id="7593456">(</span><span class="op" id="7593457">)</span><span class="op" id="7593458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7593461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593465">if</span>&nbsp;<span class="ident" id="7593468">data</span><span class="op" id="7593472">,</span>&nbsp;<span class="ident" id="7593474">err</span>&nbsp;<span class="op" id="7593478">=</span>&nbsp;<span class="ident" id="7593480">Marshal</span><span class="op" id="7593487">(</span><span class="op" id="7593488">&amp;</span><span class="ident" id="7593489">codeStruct</span><span class="op" id="7593499">)</span><span class="op" id="7593500">;</span>&nbsp;<span class="ident" id="7593502">err</span>&nbsp;<span class="op" id="7593506">!=</span>&nbsp;<span class="ident" id="7593509">nil</span>&nbsp;<span class="op" id="7593513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593517">panic</span><span class="op" id="7593522">(</span><span class="string" id="7593523">&#34;marshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="7593545">+</span>&nbsp;<span class="ident" id="7593547">err</span><span class="op" id="7593550">.</span><span class="ident" id="7593551">Error</span><span class="op" id="7593556">(</span><span class="op" id="7593557">)</span><span class="op" id="7593558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7593561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593565">if</span>&nbsp;<span class="op" id="7593568">!</span><span class="ident" id="7593569">bytes</span><span class="op" id="7593574">.</span><span class="ident" id="7593575">Equal</span><span class="op" id="7593580">(</span><span class="ident" id="7593581">data</span><span class="op" id="7593585">,</span>&nbsp;<span class="ident" id="7593587">codeJSON</span><span class="op" id="7593595">)</span>&nbsp;<span class="op" id="7593597">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593601">println</span><span class="op" id="7593608">(</span><span class="string" id="7593609">&#34;different&nbsp;lengths&#34;</span><span class="op" id="7593628">,</span>&nbsp;<span class="builtinfunc" id="7593630">len</span><span class="op" id="7593633">(</span><span class="ident" id="7593634">data</span><span class="op" id="7593638">)</span><span class="op" id="7593639">,</span>&nbsp;<span class="builtinfunc" id="7593641">len</span><span class="op" id="7593644">(</span><span class="ident" id="7593645">codeJSON</span><span class="op" id="7593653">)</span><span class="op" id="7593654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593658">for</span>&nbsp;<span class="ident" id="7593662">i</span>&nbsp;<span class="op" id="7593664">:=</span>&nbsp;<span class="num" id="7593667">0</span><span class="op" id="7593668">;</span>&nbsp;<span class="ident" id="7593670">i</span>&nbsp;<span class="op" id="7593672">&lt;</span>&nbsp;<span class="builtinfunc" id="7593674">len</span><span class="op" id="7593677">(</span><span class="ident" id="7593678">data</span><span class="op" id="7593682">)</span>&nbsp;<span class="op" id="7593684">&amp;&amp;</span>&nbsp;<span class="ident" id="7593687">i</span>&nbsp;<span class="op" id="7593689">&lt;</span>&nbsp;<span class="builtinfunc" id="7593691">len</span><span class="op" id="7593694">(</span><span class="ident" id="7593695">codeJSON</span><span class="op" id="7593703">)</span><span class="op" id="7593704">;</span>&nbsp;<span class="ident" id="7593706">i</span><span class="op" id="7593707">++</span>&nbsp;<span class="op" id="7593710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593715">if</span>&nbsp;<span class="ident" id="7593718">data</span><span class="op" id="7593722">[</span><span class="ident" id="7593723">i</span><span class="op" id="7593724">]</span>&nbsp;<span class="op" id="7593726">!=</span>&nbsp;<span class="ident" id="7593729">codeJSON</span><span class="op" id="7593737">[</span><span class="ident" id="7593738">i</span><span class="op" id="7593739">]</span>&nbsp;<span class="op" id="7593741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593747">println</span><span class="op" id="7593754">(</span><span class="string" id="7593755">&#34;re-marshal:&nbsp;changed&nbsp;at&nbsp;byte&#34;</span><span class="op" id="7593784">,</span>&nbsp;<span class="ident" id="7593786">i</span><span class="op" id="7593787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593793">println</span><span class="op" id="7593800">(</span><span class="string" id="7593801">&#34;orig:&nbsp;&#34;</span><span class="op" id="7593809">,</span>&nbsp;<span class="builtintype" id="7593811">string</span><span class="op" id="7593817">(</span><span class="ident" id="7593818">codeJSON</span><span class="op" id="7593826">[</span><span class="ident" id="7593827">i</span><span class="op" id="7593828">-</span><span class="num" id="7593829">10</span><span class="op" id="7593831">:</span><span class="ident" id="7593832">i</span><span class="op" id="7593833">+</span><span class="num" id="7593834">10</span><span class="op" id="7593836">]</span><span class="op" id="7593837">)</span><span class="op" id="7593838">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593844">println</span><span class="op" id="7593851">(</span><span class="string" id="7593852">&#34;new:&nbsp;&#34;</span><span class="op" id="7593859">,</span>&nbsp;<span class="builtintype" id="7593861">string</span><span class="op" id="7593867">(</span><span class="ident" id="7593868">data</span><span class="op" id="7593872">[</span><span class="ident" id="7593873">i</span><span class="op" id="7593874">-</span><span class="num" id="7593875">10</span><span class="op" id="7593877">:</span><span class="ident" id="7593878">i</span><span class="op" id="7593879">+</span><span class="num" id="7593880">10</span><span class="op" id="7593882">]</span><span class="op" id="7593883">)</span><span class="op" id="7593884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7593890">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7593899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7593903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7593907">panic</span><span class="op" id="7593912">(</span><span class="string" id="7593913">&#34;re-marshal&nbsp;code.json:&nbsp;different&nbsp;result&#34;</span><span class="op" id="7593953">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7593956">}</span><br>
<span class="lineno"></span><span class="op" id="7593958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7593961">func</span>&nbsp;<span class="ident" id="7593966">BenchmarkCodeEncoder</span><span class="op" id="7593986">(</span><span class="ident" id="7593987">b</span>&nbsp;<span class="op" id="7593989">*</span><span class="ident" id="7593990">testing</span><span class="op" id="7593997">.</span><span class="ident" id="7593998">B</span><span class="op" id="7593999">)</span>&nbsp;<span class="op" id="7594001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594004">if</span>&nbsp;<span class="ident" id="7594007">codeJSON</span>&nbsp;<span class="op" id="7594016">==</span>&nbsp;<span class="ident" id="7594019">nil</span>&nbsp;<span class="op" id="7594023">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594027">b</span><span class="op" id="7594028">.</span><span class="ident" id="7594029">StopTimer</span><span class="op" id="7594038">(</span><span class="op" id="7594039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594043">codeInit</span><span class="op" id="7594051">(</span><span class="op" id="7594052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594056">b</span><span class="op" id="7594057">.</span><span class="ident" id="7594058">StartTimer</span><span class="op" id="7594068">(</span><span class="op" id="7594069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7594072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594075">enc</span>&nbsp;<span class="op" id="7594079">:=</span>&nbsp;<span class="ident" id="7594082">NewEncoder</span><span class="op" id="7594092">(</span><span class="ident" id="7594093">ioutil</span><span class="op" id="7594099">.</span><span class="ident" id="7594100">Discard</span><span class="op" id="7594107">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594110">for</span>&nbsp;<span class="ident" id="7594114">i</span>&nbsp;<span class="op" id="7594116">:=</span>&nbsp;<span class="num" id="7594119">0</span><span class="op" id="7594120">;</span>&nbsp;<span class="ident" id="7594122">i</span>&nbsp;<span class="op" id="7594124">&lt;</span>&nbsp;<span class="ident" id="7594126">b</span><span class="op" id="7594127">.</span><span class="ident" id="7594128">N</span><span class="op" id="7594129">;</span>&nbsp;<span class="ident" id="7594131">i</span><span class="op" id="7594132">++</span>&nbsp;<span class="op" id="7594135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594139">if</span>&nbsp;<span class="ident" id="7594142">err</span>&nbsp;<span class="op" id="7594146">:=</span>&nbsp;<span class="ident" id="7594149">enc</span><span class="op" id="7594152">.</span><span class="ident" id="7594153">Encode</span><span class="op" id="7594159">(</span><span class="op" id="7594160">&amp;</span><span class="ident" id="7594161">codeStruct</span><span class="op" id="7594171">)</span><span class="op" id="7594172">;</span>&nbsp;<span class="ident" id="7594174">err</span>&nbsp;<span class="op" id="7594178">!=</span>&nbsp;<span class="ident" id="7594181">nil</span>&nbsp;<span class="op" id="7594185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594190">b</span><span class="op" id="7594191">.</span><span class="ident" id="7594192">Fatal</span><span class="op" id="7594197">(</span><span class="string" id="7594198">&#34;Encode:&#34;</span><span class="op" id="7594207">,</span>&nbsp;<span class="ident" id="7594209">err</span><span class="op" id="7594212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7594216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7594219">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594222">b</span><span class="op" id="7594223">.</span><span class="ident" id="7594224">SetBytes</span><span class="op" id="7594232">(</span><span class="ident" id="7594233">int64</span><span class="op" id="7594238">(</span><span class="builtinfunc" id="7594239">len</span><span class="op" id="7594242">(</span><span class="ident" id="7594243">codeJSON</span><span class="op" id="7594251">)</span><span class="op" id="7594252">)</span><span class="op" id="7594253">)</span><br>
<span class="lineno"></span><span class="op" id="7594255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7594258">func</span>&nbsp;<span class="ident" id="7594263">BenchmarkCodeMarshal</span><span class="op" id="7594283">(</span><span class="ident" id="7594284">b</span>&nbsp;<span class="op" id="7594286">*</span><span class="ident" id="7594287">testing</span><span class="op" id="7594294">.</span><span class="ident" id="7594295">B</span><span class="op" id="7594296">)</span>&nbsp;<span class="op" id="7594298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594301">if</span>&nbsp;<span class="ident" id="7594304">codeJSON</span>&nbsp;<span class="op" id="7594313">==</span>&nbsp;<span class="ident" id="7594316">nil</span>&nbsp;<span class="op" id="7594320">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594324">b</span><span class="op" id="7594325">.</span><span class="ident" id="7594326">StopTimer</span><span class="op" id="7594335">(</span><span class="op" id="7594336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594340">codeInit</span><span class="op" id="7594348">(</span><span class="op" id="7594349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594353">b</span><span class="op" id="7594354">.</span><span class="ident" id="7594355">StartTimer</span><span class="op" id="7594365">(</span><span class="op" id="7594366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7594369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594372">for</span>&nbsp;<span class="ident" id="7594376">i</span>&nbsp;<span class="op" id="7594378">:=</span>&nbsp;<span class="num" id="7594381">0</span><span class="op" id="7594382">;</span>&nbsp;<span class="ident" id="7594384">i</span>&nbsp;<span class="op" id="7594386">&lt;</span>&nbsp;<span class="ident" id="7594388">b</span><span class="op" id="7594389">.</span><span class="ident" id="7594390">N</span><span class="op" id="7594391">;</span>&nbsp;<span class="ident" id="7594393">i</span><span class="op" id="7594394">++</span>&nbsp;<span class="op" id="7594397">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594401">if</span>&nbsp;<span class="ident" id="7594404">_</span><span class="op" id="7594405">,</span>&nbsp;<span class="ident" id="7594407">err</span>&nbsp;<span class="op" id="7594411">:=</span>&nbsp;<span class="ident" id="7594414">Marshal</span><span class="op" id="7594421">(</span><span class="op" id="7594422">&amp;</span><span class="ident" id="7594423">codeStruct</span><span class="op" id="7594433">)</span><span class="op" id="7594434">;</span>&nbsp;<span class="ident" id="7594436">err</span>&nbsp;<span class="op" id="7594440">!=</span>&nbsp;<span class="ident" id="7594443">nil</span>&nbsp;<span class="op" id="7594447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594452">b</span><span class="op" id="7594453">.</span><span class="ident" id="7594454">Fatal</span><span class="op" id="7594459">(</span><span class="string" id="7594460">&#34;Marshal:&#34;</span><span class="op" id="7594470">,</span>&nbsp;<span class="ident" id="7594472">err</span><span class="op" id="7594475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7594479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7594482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594485">b</span><span class="op" id="7594486">.</span><span class="ident" id="7594487">SetBytes</span><span class="op" id="7594495">(</span><span class="ident" id="7594496">int64</span><span class="op" id="7594501">(</span><span class="builtinfunc" id="7594502">len</span><span class="op" id="7594505">(</span><span class="ident" id="7594506">codeJSON</span><span class="op" id="7594514">)</span><span class="op" id="7594515">)</span><span class="op" id="7594516">)</span><br>
<span class="lineno">105</span><span class="op" id="7594518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7594521">func</span>&nbsp;<span class="ident" id="7594526">BenchmarkCodeDecoder</span><span class="op" id="7594546">(</span><span class="ident" id="7594547">b</span>&nbsp;<span class="op" id="7594549">*</span><span class="ident" id="7594550">testing</span><span class="op" id="7594557">.</span><span class="ident" id="7594558">B</span><span class="op" id="7594559">)</span>&nbsp;<span class="op" id="7594561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594564">if</span>&nbsp;<span class="ident" id="7594567">codeJSON</span>&nbsp;<span class="op" id="7594576">==</span>&nbsp;<span class="ident" id="7594579">nil</span>&nbsp;<span class="op" id="7594583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594587">b</span><span class="op" id="7594588">.</span><span class="ident" id="7594589">StopTimer</span><span class="op" id="7594598">(</span><span class="op" id="7594599">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594603">codeInit</span><span class="op" id="7594611">(</span><span class="op" id="7594612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594616">b</span><span class="op" id="7594617">.</span><span class="ident" id="7594618">StartTimer</span><span class="op" id="7594628">(</span><span class="op" id="7594629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7594632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594635">var</span>&nbsp;<span class="ident" id="7594639">buf</span>&nbsp;<span class="ident" id="7594643">bytes</span><span class="op" id="7594648">.</span><span class="ident" id="7594649">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594657">dec</span>&nbsp;<span class="op" id="7594661">:=</span>&nbsp;<span class="ident" id="7594664">NewDecoder</span><span class="op" id="7594674">(</span><span class="op" id="7594675">&amp;</span><span class="ident" id="7594676">buf</span><span class="op" id="7594679">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594682">var</span>&nbsp;<span class="ident" id="7594686">r</span>&nbsp;<span class="ident" id="7594688">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594702">for</span>&nbsp;<span class="ident" id="7594706">i</span>&nbsp;<span class="op" id="7594708">:=</span>&nbsp;<span class="num" id="7594711">0</span><span class="op" id="7594712">;</span>&nbsp;<span class="ident" id="7594714">i</span>&nbsp;<span class="op" id="7594716">&lt;</span>&nbsp;<span class="ident" id="7594718">b</span><span class="op" id="7594719">.</span><span class="ident" id="7594720">N</span><span class="op" id="7594721">;</span>&nbsp;<span class="ident" id="7594723">i</span><span class="op" id="7594724">++</span>&nbsp;<span class="op" id="7594727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594731">buf</span><span class="op" id="7594734">.</span><span class="ident" id="7594735">Write</span><span class="op" id="7594740">(</span><span class="ident" id="7594741">codeJSON</span><span class="op" id="7594749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7594753">//&nbsp;hide&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594767">buf</span><span class="op" id="7594770">.</span><span class="ident" id="7594771">WriteByte</span><span class="op" id="7594780">(</span><span class="string" id="7594781">&#39;\n&#39;</span><span class="op" id="7594785">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594789">buf</span><span class="op" id="7594792">.</span><span class="ident" id="7594793">WriteByte</span><span class="op" id="7594802">(</span><span class="string" id="7594803">&#39;\n&#39;</span><span class="op" id="7594807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594811">buf</span><span class="op" id="7594814">.</span><span class="ident" id="7594815">WriteByte</span><span class="op" id="7594824">(</span><span class="string" id="7594825">&#39;\n&#39;</span><span class="op" id="7594829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594833">if</span>&nbsp;<span class="ident" id="7594836">err</span>&nbsp;<span class="op" id="7594840">:=</span>&nbsp;<span class="ident" id="7594843">dec</span><span class="op" id="7594846">.</span><span class="ident" id="7594847">Decode</span><span class="op" id="7594853">(</span><span class="op" id="7594854">&amp;</span><span class="ident" id="7594855">r</span><span class="op" id="7594856">)</span><span class="op" id="7594857">;</span>&nbsp;<span class="ident" id="7594859">err</span>&nbsp;<span class="op" id="7594863">!=</span>&nbsp;<span class="ident" id="7594866">nil</span>&nbsp;<span class="op" id="7594870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594875">b</span><span class="op" id="7594876">.</span><span class="ident" id="7594877">Fatal</span><span class="op" id="7594882">(</span><span class="string" id="7594883">&#34;Decode:&#34;</span><span class="op" id="7594892">,</span>&nbsp;<span class="ident" id="7594894">err</span><span class="op" id="7594897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7594901">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7594904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594907">b</span><span class="op" id="7594908">.</span><span class="ident" id="7594909">SetBytes</span><span class="op" id="7594917">(</span><span class="ident" id="7594918">int64</span><span class="op" id="7594923">(</span><span class="builtinfunc" id="7594924">len</span><span class="op" id="7594927">(</span><span class="ident" id="7594928">codeJSON</span><span class="op" id="7594936">)</span><span class="op" id="7594937">)</span><span class="op" id="7594938">)</span><br>
<span class="lineno"></span><span class="op" id="7594940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7594943">func</span>&nbsp;<span class="ident" id="7594948">BenchmarkCodeUnmarshal</span><span class="op" id="7594970">(</span><span class="ident" id="7594971">b</span>&nbsp;<span class="op" id="7594973">*</span><span class="ident" id="7594974">testing</span><span class="op" id="7594981">.</span><span class="ident" id="7594982">B</span><span class="op" id="7594983">)</span>&nbsp;<span class="op" id="7594985">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7594988">if</span>&nbsp;<span class="ident" id="7594991">codeJSON</span>&nbsp;<span class="op" id="7595000">==</span>&nbsp;<span class="ident" id="7595003">nil</span>&nbsp;<span class="op" id="7595007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595011">b</span><span class="op" id="7595012">.</span><span class="ident" id="7595013">StopTimer</span><span class="op" id="7595022">(</span><span class="op" id="7595023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595027">codeInit</span><span class="op" id="7595035">(</span><span class="op" id="7595036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595040">b</span><span class="op" id="7595041">.</span><span class="ident" id="7595042">StartTimer</span><span class="op" id="7595052">(</span><span class="op" id="7595053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595056">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595059">for</span>&nbsp;<span class="ident" id="7595063">i</span>&nbsp;<span class="op" id="7595065">:=</span>&nbsp;<span class="num" id="7595068">0</span><span class="op" id="7595069">;</span>&nbsp;<span class="ident" id="7595071">i</span>&nbsp;<span class="op" id="7595073">&lt;</span>&nbsp;<span class="ident" id="7595075">b</span><span class="op" id="7595076">.</span><span class="ident" id="7595077">N</span><span class="op" id="7595078">;</span>&nbsp;<span class="ident" id="7595080">i</span><span class="op" id="7595081">++</span>&nbsp;<span class="op" id="7595084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595088">var</span>&nbsp;<span class="ident" id="7595092">r</span>&nbsp;<span class="ident" id="7595094">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595109">if</span>&nbsp;<span class="ident" id="7595112">err</span>&nbsp;<span class="op" id="7595116">:=</span>&nbsp;<span class="ident" id="7595119">Unmarshal</span><span class="op" id="7595128">(</span><span class="ident" id="7595129">codeJSON</span><span class="op" id="7595137">,</span>&nbsp;<span class="op" id="7595139">&amp;</span><span class="ident" id="7595140">r</span><span class="op" id="7595141">)</span><span class="op" id="7595142">;</span>&nbsp;<span class="ident" id="7595144">err</span>&nbsp;<span class="op" id="7595148">!=</span>&nbsp;<span class="ident" id="7595151">nil</span>&nbsp;<span class="op" id="7595155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595160">b</span><span class="op" id="7595161">.</span><span class="ident" id="7595162">Fatal</span><span class="op" id="7595167">(</span><span class="string" id="7595168">&#34;Unmmarshal:&#34;</span><span class="op" id="7595181">,</span>&nbsp;<span class="ident" id="7595183">err</span><span class="op" id="7595186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595190">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595196">b</span><span class="op" id="7595197">.</span><span class="ident" id="7595198">SetBytes</span><span class="op" id="7595206">(</span><span class="ident" id="7595207">int64</span><span class="op" id="7595212">(</span><span class="builtinfunc" id="7595213">len</span><span class="op" id="7595216">(</span><span class="ident" id="7595217">codeJSON</span><span class="op" id="7595225">)</span><span class="op" id="7595226">)</span><span class="op" id="7595227">)</span><br>
<span class="lineno"></span><span class="op" id="7595229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7595232">func</span>&nbsp;<span class="ident" id="7595237">BenchmarkCodeUnmarshalReuse</span><span class="op" id="7595264">(</span><span class="ident" id="7595265">b</span>&nbsp;<span class="op" id="7595267">*</span><span class="ident" id="7595268">testing</span><span class="op" id="7595275">.</span><span class="ident" id="7595276">B</span><span class="op" id="7595277">)</span>&nbsp;<span class="op" id="7595279">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595282">if</span>&nbsp;<span class="ident" id="7595285">codeJSON</span>&nbsp;<span class="op" id="7595294">==</span>&nbsp;<span class="ident" id="7595297">nil</span>&nbsp;<span class="op" id="7595301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595305">b</span><span class="op" id="7595306">.</span><span class="ident" id="7595307">StopTimer</span><span class="op" id="7595316">(</span><span class="op" id="7595317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595321">codeInit</span><span class="op" id="7595329">(</span><span class="op" id="7595330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595334">b</span><span class="op" id="7595335">.</span><span class="ident" id="7595336">StartTimer</span><span class="op" id="7595346">(</span><span class="op" id="7595347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595350">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595353">var</span>&nbsp;<span class="ident" id="7595357">r</span>&nbsp;<span class="ident" id="7595359">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595373">for</span>&nbsp;<span class="ident" id="7595377">i</span>&nbsp;<span class="op" id="7595379">:=</span>&nbsp;<span class="num" id="7595382">0</span><span class="op" id="7595383">;</span>&nbsp;<span class="ident" id="7595385">i</span>&nbsp;<span class="op" id="7595387">&lt;</span>&nbsp;<span class="ident" id="7595389">b</span><span class="op" id="7595390">.</span><span class="ident" id="7595391">N</span><span class="op" id="7595392">;</span>&nbsp;<span class="ident" id="7595394">i</span><span class="op" id="7595395">++</span>&nbsp;<span class="op" id="7595398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595402">if</span>&nbsp;<span class="ident" id="7595405">err</span>&nbsp;<span class="op" id="7595409">:=</span>&nbsp;<span class="ident" id="7595412">Unmarshal</span><span class="op" id="7595421">(</span><span class="ident" id="7595422">codeJSON</span><span class="op" id="7595430">,</span>&nbsp;<span class="op" id="7595432">&amp;</span><span class="ident" id="7595433">r</span><span class="op" id="7595434">)</span><span class="op" id="7595435">;</span>&nbsp;<span class="ident" id="7595437">err</span>&nbsp;<span class="op" id="7595441">!=</span>&nbsp;<span class="ident" id="7595444">nil</span>&nbsp;<span class="op" id="7595448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595453">b</span><span class="op" id="7595454">.</span><span class="ident" id="7595455">Fatal</span><span class="op" id="7595460">(</span><span class="string" id="7595461">&#34;Unmmarshal:&#34;</span><span class="op" id="7595474">,</span>&nbsp;<span class="ident" id="7595476">err</span><span class="op" id="7595479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595483">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595486">}</span><br>
<span class="lineno"></span><span class="op" id="7595488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7595491">func</span>&nbsp;<span class="ident" id="7595496">BenchmarkUnmarshalString</span><span class="op" id="7595520">(</span><span class="ident" id="7595521">b</span>&nbsp;<span class="op" id="7595523">*</span><span class="ident" id="7595524">testing</span><span class="op" id="7595531">.</span><span class="ident" id="7595532">B</span><span class="op" id="7595533">)</span>&nbsp;<span class="op" id="7595535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595538">data</span>&nbsp;<span class="op" id="7595543">:=</span>&nbsp;<span class="op" id="7595546">[</span><span class="op" id="7595547">]</span><span class="builtintype" id="7595548">byte</span><span class="op" id="7595552">(</span><span class="string" id="7595553">`&#34;hello,&nbsp;world&#34;`</span><span class="op" id="7595569">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595572">var</span>&nbsp;<span class="ident" id="7595576">s</span>&nbsp;<span class="builtintype" id="7595578">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595587">for</span>&nbsp;<span class="ident" id="7595591">i</span>&nbsp;<span class="op" id="7595593">:=</span>&nbsp;<span class="num" id="7595596">0</span><span class="op" id="7595597">;</span>&nbsp;<span class="ident" id="7595599">i</span>&nbsp;<span class="op" id="7595601">&lt;</span>&nbsp;<span class="ident" id="7595603">b</span><span class="op" id="7595604">.</span><span class="ident" id="7595605">N</span><span class="op" id="7595606">;</span>&nbsp;<span class="ident" id="7595608">i</span><span class="op" id="7595609">++</span>&nbsp;<span class="op" id="7595612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595616">if</span>&nbsp;<span class="ident" id="7595619">err</span>&nbsp;<span class="op" id="7595623">:=</span>&nbsp;<span class="ident" id="7595626">Unmarshal</span><span class="op" id="7595635">(</span><span class="ident" id="7595636">data</span><span class="op" id="7595640">,</span>&nbsp;<span class="op" id="7595642">&amp;</span><span class="ident" id="7595643">s</span><span class="op" id="7595644">)</span><span class="op" id="7595645">;</span>&nbsp;<span class="ident" id="7595647">err</span>&nbsp;<span class="op" id="7595651">!=</span>&nbsp;<span class="ident" id="7595654">nil</span>&nbsp;<span class="op" id="7595658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595663">b</span><span class="op" id="7595664">.</span><span class="ident" id="7595665">Fatal</span><span class="op" id="7595670">(</span><span class="string" id="7595671">&#34;Unmarshal:&#34;</span><span class="op" id="7595683">,</span>&nbsp;<span class="ident" id="7595685">err</span><span class="op" id="7595688">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595695">}</span><br>
<span class="lineno"></span><span class="op" id="7595697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7595700">func</span>&nbsp;<span class="ident" id="7595705">BenchmarkUnmarshalFloat64</span><span class="op" id="7595730">(</span><span class="ident" id="7595731">b</span>&nbsp;<span class="op" id="7595733">*</span><span class="ident" id="7595734">testing</span><span class="op" id="7595741">.</span><span class="ident" id="7595742">B</span><span class="op" id="7595743">)</span>&nbsp;<span class="op" id="7595745">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595748">var</span>&nbsp;<span class="ident" id="7595752">f</span>&nbsp;<span class="builtintype" id="7595754">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595763">data</span>&nbsp;<span class="op" id="7595768">:=</span>&nbsp;<span class="op" id="7595771">[</span><span class="op" id="7595772">]</span><span class="builtintype" id="7595773">byte</span><span class="op" id="7595777">(</span><span class="string" id="7595778">`3.14`</span><span class="op" id="7595784">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595788">for</span>&nbsp;<span class="ident" id="7595792">i</span>&nbsp;<span class="op" id="7595794">:=</span>&nbsp;<span class="num" id="7595797">0</span><span class="op" id="7595798">;</span>&nbsp;<span class="ident" id="7595800">i</span>&nbsp;<span class="op" id="7595802">&lt;</span>&nbsp;<span class="ident" id="7595804">b</span><span class="op" id="7595805">.</span><span class="ident" id="7595806">N</span><span class="op" id="7595807">;</span>&nbsp;<span class="ident" id="7595809">i</span><span class="op" id="7595810">++</span>&nbsp;<span class="op" id="7595813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595817">if</span>&nbsp;<span class="ident" id="7595820">err</span>&nbsp;<span class="op" id="7595824">:=</span>&nbsp;<span class="ident" id="7595827">Unmarshal</span><span class="op" id="7595836">(</span><span class="ident" id="7595837">data</span><span class="op" id="7595841">,</span>&nbsp;<span class="op" id="7595843">&amp;</span><span class="ident" id="7595844">f</span><span class="op" id="7595845">)</span><span class="op" id="7595846">;</span>&nbsp;<span class="ident" id="7595848">err</span>&nbsp;<span class="op" id="7595852">!=</span>&nbsp;<span class="ident" id="7595855">nil</span>&nbsp;<span class="op" id="7595859">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595864">b</span><span class="op" id="7595865">.</span><span class="ident" id="7595866">Fatal</span><span class="op" id="7595871">(</span><span class="string" id="7595872">&#34;Unmarshal:&#34;</span><span class="op" id="7595884">,</span>&nbsp;<span class="ident" id="7595886">err</span><span class="op" id="7595889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595896">}</span><br>
<span class="lineno"></span><span class="op" id="7595898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="7595901">func</span>&nbsp;<span class="ident" id="7595906">BenchmarkUnmarshalInt64</span><span class="op" id="7595929">(</span><span class="ident" id="7595930">b</span>&nbsp;<span class="op" id="7595932">*</span><span class="ident" id="7595933">testing</span><span class="op" id="7595940">.</span><span class="ident" id="7595941">B</span><span class="op" id="7595942">)</span>&nbsp;<span class="op" id="7595944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595947">var</span>&nbsp;<span class="ident" id="7595951">x</span>&nbsp;<span class="ident" id="7595953">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595960">data</span>&nbsp;<span class="op" id="7595965">:=</span>&nbsp;<span class="op" id="7595968">[</span><span class="op" id="7595969">]</span><span class="builtintype" id="7595970">byte</span><span class="op" id="7595974">(</span><span class="string" id="7595975">`3`</span><span class="op" id="7595978">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7595982">for</span>&nbsp;<span class="ident" id="7595986">i</span>&nbsp;<span class="op" id="7595988">:=</span>&nbsp;<span class="num" id="7595991">0</span><span class="op" id="7595992">;</span>&nbsp;<span class="ident" id="7595994">i</span>&nbsp;<span class="op" id="7595996">&lt;</span>&nbsp;<span class="ident" id="7595998">b</span><span class="op" id="7595999">.</span><span class="ident" id="7596000">N</span><span class="op" id="7596001">;</span>&nbsp;<span class="ident" id="7596003">i</span><span class="op" id="7596004">++</span>&nbsp;<span class="op" id="7596007">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7596011">if</span>&nbsp;<span class="ident" id="7596014">err</span>&nbsp;<span class="op" id="7596018">:=</span>&nbsp;<span class="ident" id="7596021">Unmarshal</span><span class="op" id="7596030">(</span><span class="ident" id="7596031">data</span><span class="op" id="7596035">,</span>&nbsp;<span class="op" id="7596037">&amp;</span><span class="ident" id="7596038">x</span><span class="op" id="7596039">)</span><span class="op" id="7596040">;</span>&nbsp;<span class="ident" id="7596042">err</span>&nbsp;<span class="op" id="7596046">!=</span>&nbsp;<span class="ident" id="7596049">nil</span>&nbsp;<span class="op" id="7596053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7596058">b</span><span class="op" id="7596059">.</span><span class="ident" id="7596060">Fatal</span><span class="op" id="7596065">(</span><span class="string" id="7596066">&#34;Unmarshal:&#34;</span><span class="op" id="7596078">,</span>&nbsp;<span class="ident" id="7596080">err</span><span class="op" id="7596083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7596087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7596090">}</span><br>
<span class="lineno"></span><span class="op" id="7596092">}</span>
</div>
</body>
</html>
