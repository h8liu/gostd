<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2294005">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2294061">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2294115">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2294166">package</span>&nbsp;<span class="ident" id="2294174">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2294182">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="2294207">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="2294275">import</span>&nbsp;<span class="op" id="2294282">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2294285">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2294294">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2294305">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2294316">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="2294326">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2294329">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="2294388">type</span>&nbsp;<span class="ident" id="2294393">Regexp</span>&nbsp;<span class="keyword" id="2294400">struct</span>&nbsp;<span class="op" id="2294407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2294410">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2294419">Op</span>&nbsp;<span class="comment" id="2294422">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2294435">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2294444">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2294451">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2294460">[</span><span class="op" id="2294461">]</span><span class="op" id="2294462">*</span><span class="ident" id="2294463">Regexp</span>&nbsp;&nbsp;<span class="comment" id="2294471">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2294498">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2294507">[</span><span class="num" id="2294508">1</span><span class="op" id="2294509">]</span><span class="op" id="2294510">*</span><span class="ident" id="2294511">Regexp</span>&nbsp;<span class="comment" id="2294518">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2294544">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2294553">[</span><span class="op" id="2294554">]</span><span class="builtintype" id="2294555">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2294564">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2294610">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2294619">[</span><span class="num" id="2294620">2</span><span class="op" id="2294621">]</span><span class="builtintype" id="2294622">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2294630">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2294657">Min</span><span class="op" id="2294660">,</span>&nbsp;<span class="ident" id="2294662">Max</span>&nbsp;<span class="builtintype" id="2294666">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2294677">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2294703">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2294712">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2294723">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2294758">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2294767">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2294778">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="2294811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="2294814">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="2294864">type</span>&nbsp;<span class="ident" id="2294869">Op</span>&nbsp;<span class="builtintype" id="2294872">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2294879">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="2294953">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="2295018">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2295075">const</span>&nbsp;<span class="op" id="2295081">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295084">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2295101">Op</span>&nbsp;<span class="op" id="2295104">=</span>&nbsp;<span class="num" id="2295106">1</span>&nbsp;<span class="op" id="2295108">+</span>&nbsp;<span class="ident" id="2295110">iota</span>&nbsp;<span class="comment" id="2295115">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295138">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295169">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295194">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295225">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295252">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295283">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295332">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295363">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295404">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295435">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295461">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295492">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295538">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295569">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295609">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295640">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295686">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295717">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295757">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295788">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295819">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295850">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295885">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2295916">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2295979">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2296010">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2296048">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2296079">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2296116">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2296147">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2296184">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2296215">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2296290">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2296321">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2296355">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2296386">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="2296417">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2296420">const</span>&nbsp;<span class="ident" id="2296426">opPseudo</span>&nbsp;<span class="ident" id="2296435">Op</span>&nbsp;<span class="op" id="2296438">=</span>&nbsp;<span class="num" id="2296440">128</span>&nbsp;<span class="comment" id="2296444">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="2296471">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="2296530">func</span>&nbsp;<span class="op" id="2296535">(</span><span class="ident" id="2296536">x</span>&nbsp;<span class="op" id="2296538">*</span><span class="ident" id="2296539">Regexp</span><span class="op" id="2296545">)</span>&nbsp;<span class="ident" id="2296547">Equal</span><span class="op" id="2296552">(</span><span class="ident" id="2296553">y</span>&nbsp;<span class="op" id="2296555">*</span><span class="ident" id="2296556">Regexp</span><span class="op" id="2296562">)</span>&nbsp;<span class="builtintype" id="2296564">bool</span>&nbsp;<span class="op" id="2296569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296572">if</span>&nbsp;<span class="ident" id="2296575">x</span>&nbsp;<span class="op" id="2296577">==</span>&nbsp;<span class="ident" id="2296580">nil</span>&nbsp;<span class="op" id="2296584">||</span>&nbsp;<span class="ident" id="2296587">y</span>&nbsp;<span class="op" id="2296589">==</span>&nbsp;<span class="ident" id="2296592">nil</span>&nbsp;<span class="op" id="2296596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296600">return</span>&nbsp;<span class="ident" id="2296607">x</span>&nbsp;<span class="op" id="2296609">==</span>&nbsp;<span class="ident" id="2296612">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2296615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296618">if</span>&nbsp;<span class="ident" id="2296621">x</span><span class="op" id="2296622">.</span><span class="ident" id="2296623">Op</span>&nbsp;<span class="op" id="2296626">!=</span>&nbsp;<span class="ident" id="2296629">y</span><span class="op" id="2296630">.</span><span class="ident" id="2296631">Op</span>&nbsp;<span class="op" id="2296634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296638">return</span>&nbsp;<span class="builtintype" id="2296645">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2296652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296655">switch</span>&nbsp;<span class="ident" id="2296662">x</span><span class="op" id="2296663">.</span><span class="ident" id="2296664">Op</span>&nbsp;<span class="op" id="2296667">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296670">case</span>&nbsp;<span class="ident" id="2296675">OpEndText</span><span class="op" id="2296684">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2296688">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296744">if</span>&nbsp;<span class="ident" id="2296747">x</span><span class="op" id="2296748">.</span><span class="ident" id="2296749">Flags</span><span class="op" id="2296754">&amp;</span><span class="ident" id="2296755">WasDollar</span>&nbsp;<span class="op" id="2296765">!=</span>&nbsp;<span class="ident" id="2296768">y</span><span class="op" id="2296769">.</span><span class="ident" id="2296770">Flags</span><span class="op" id="2296775">&amp;</span><span class="ident" id="2296776">WasDollar</span>&nbsp;<span class="op" id="2296786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296791">return</span>&nbsp;<span class="builtintype" id="2296798">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2296806">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296810">case</span>&nbsp;<span class="ident" id="2296815">OpLiteral</span><span class="op" id="2296824">,</span>&nbsp;<span class="ident" id="2296826">OpCharClass</span><span class="op" id="2296837">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296841">if</span>&nbsp;<span class="builtinfunc" id="2296844">len</span><span class="op" id="2296847">(</span><span class="ident" id="2296848">x</span><span class="op" id="2296849">.</span><span class="ident" id="2296850">Rune</span><span class="op" id="2296854">)</span>&nbsp;<span class="op" id="2296856">!=</span>&nbsp;<span class="builtinfunc" id="2296859">len</span><span class="op" id="2296862">(</span><span class="ident" id="2296863">y</span><span class="op" id="2296864">.</span><span class="ident" id="2296865">Rune</span><span class="op" id="2296869">)</span>&nbsp;<span class="op" id="2296871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296876">return</span>&nbsp;<span class="builtintype" id="2296883">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2296891">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296895">for</span>&nbsp;<span class="ident" id="2296899">i</span><span class="op" id="2296900">,</span>&nbsp;<span class="ident" id="2296902">r</span>&nbsp;<span class="op" id="2296904">:=</span>&nbsp;<span class="keyword" id="2296907">range</span>&nbsp;<span class="ident" id="2296913">x</span><span class="op" id="2296914">.</span><span class="ident" id="2296915">Rune</span>&nbsp;<span class="op" id="2296920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296925">if</span>&nbsp;<span class="ident" id="2296928">r</span>&nbsp;<span class="op" id="2296930">!=</span>&nbsp;<span class="ident" id="2296933">y</span><span class="op" id="2296934">.</span><span class="ident" id="2296935">Rune</span><span class="op" id="2296939">[</span><span class="ident" id="2296940">i</span><span class="op" id="2296941">]</span>&nbsp;<span class="op" id="2296943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296949">return</span>&nbsp;<span class="builtintype" id="2296956">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2296965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2296969">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2296973">case</span>&nbsp;<span class="ident" id="2296978">OpAlternate</span><span class="op" id="2296989">,</span>&nbsp;<span class="ident" id="2296991">OpConcat</span><span class="op" id="2296999">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297003">if</span>&nbsp;<span class="builtinfunc" id="2297006">len</span><span class="op" id="2297009">(</span><span class="ident" id="2297010">x</span><span class="op" id="2297011">.</span><span class="ident" id="2297012">Sub</span><span class="op" id="2297015">)</span>&nbsp;<span class="op" id="2297017">!=</span>&nbsp;<span class="builtinfunc" id="2297020">len</span><span class="op" id="2297023">(</span><span class="ident" id="2297024">y</span><span class="op" id="2297025">.</span><span class="ident" id="2297026">Sub</span><span class="op" id="2297029">)</span>&nbsp;<span class="op" id="2297031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297036">return</span>&nbsp;<span class="builtintype" id="2297043">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2297051">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297055">for</span>&nbsp;<span class="ident" id="2297059">i</span><span class="op" id="2297060">,</span>&nbsp;<span class="ident" id="2297062">sub</span>&nbsp;<span class="op" id="2297066">:=</span>&nbsp;<span class="keyword" id="2297069">range</span>&nbsp;<span class="ident" id="2297075">x</span><span class="op" id="2297076">.</span><span class="ident" id="2297077">Sub</span>&nbsp;<span class="op" id="2297081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297086">if</span>&nbsp;<span class="op" id="2297089">!</span><span class="ident" id="2297090">sub</span><span class="op" id="2297093">.</span><span class="ident" id="2297094">Equal</span><span class="op" id="2297099">(</span><span class="ident" id="2297100">y</span><span class="op" id="2297101">.</span><span class="ident" id="2297102">Sub</span><span class="op" id="2297105">[</span><span class="ident" id="2297106">i</span><span class="op" id="2297107">]</span><span class="op" id="2297108">)</span>&nbsp;<span class="op" id="2297110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297116">return</span>&nbsp;<span class="builtintype" id="2297123">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2297132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2297136">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297140">case</span>&nbsp;<span class="ident" id="2297145">OpStar</span><span class="op" id="2297151">,</span>&nbsp;<span class="ident" id="2297153">OpPlus</span><span class="op" id="2297159">,</span>&nbsp;<span class="ident" id="2297161">OpQuest</span><span class="op" id="2297168">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297172">if</span>&nbsp;<span class="ident" id="2297175">x</span><span class="op" id="2297176">.</span><span class="ident" id="2297177">Flags</span><span class="op" id="2297182">&amp;</span><span class="ident" id="2297183">NonGreedy</span>&nbsp;<span class="op" id="2297193">!=</span>&nbsp;<span class="ident" id="2297196">y</span><span class="op" id="2297197">.</span><span class="ident" id="2297198">Flags</span><span class="op" id="2297203">&amp;</span><span class="ident" id="2297204">NonGreedy</span>&nbsp;<span class="op" id="2297214">||</span>&nbsp;<span class="op" id="2297217">!</span><span class="ident" id="2297218">x</span><span class="op" id="2297219">.</span><span class="ident" id="2297220">Sub</span><span class="op" id="2297223">[</span><span class="num" id="2297224">0</span><span class="op" id="2297225">]</span><span class="op" id="2297226">.</span><span class="ident" id="2297227">Equal</span><span class="op" id="2297232">(</span><span class="ident" id="2297233">y</span><span class="op" id="2297234">.</span><span class="ident" id="2297235">Sub</span><span class="op" id="2297238">[</span><span class="num" id="2297239">0</span><span class="op" id="2297240">]</span><span class="op" id="2297241">)</span>&nbsp;<span class="op" id="2297243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297248">return</span>&nbsp;<span class="builtintype" id="2297255">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2297263">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297267">case</span>&nbsp;<span class="ident" id="2297272">OpRepeat</span><span class="op" id="2297280">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297284">if</span>&nbsp;<span class="ident" id="2297287">x</span><span class="op" id="2297288">.</span><span class="ident" id="2297289">Flags</span><span class="op" id="2297294">&amp;</span><span class="ident" id="2297295">NonGreedy</span>&nbsp;<span class="op" id="2297305">!=</span>&nbsp;<span class="ident" id="2297308">y</span><span class="op" id="2297309">.</span><span class="ident" id="2297310">Flags</span><span class="op" id="2297315">&amp;</span><span class="ident" id="2297316">NonGreedy</span>&nbsp;<span class="op" id="2297326">||</span>&nbsp;<span class="ident" id="2297329">x</span><span class="op" id="2297330">.</span><span class="ident" id="2297331">Min</span>&nbsp;<span class="op" id="2297335">!=</span>&nbsp;<span class="ident" id="2297338">y</span><span class="op" id="2297339">.</span><span class="ident" id="2297340">Min</span>&nbsp;<span class="op" id="2297344">||</span>&nbsp;<span class="ident" id="2297347">x</span><span class="op" id="2297348">.</span><span class="ident" id="2297349">Max</span>&nbsp;<span class="op" id="2297353">!=</span>&nbsp;<span class="ident" id="2297356">y</span><span class="op" id="2297357">.</span><span class="ident" id="2297358">Max</span>&nbsp;<span class="op" id="2297362">||</span>&nbsp;<span class="op" id="2297365">!</span><span class="ident" id="2297366">x</span><span class="op" id="2297367">.</span><span class="ident" id="2297368">Sub</span><span class="op" id="2297371">[</span><span class="num" id="2297372">0</span><span class="op" id="2297373">]</span><span class="op" id="2297374">.</span><span class="ident" id="2297375">Equal</span><span class="op" id="2297380">(</span><span class="ident" id="2297381">y</span><span class="op" id="2297382">.</span><span class="ident" id="2297383">Sub</span><span class="op" id="2297386">[</span><span class="num" id="2297387">0</span><span class="op" id="2297388">]</span><span class="op" id="2297389">)</span>&nbsp;<span class="op" id="2297391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297396">return</span>&nbsp;<span class="builtintype" id="2297403">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2297411">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297415">case</span>&nbsp;<span class="ident" id="2297420">OpCapture</span><span class="op" id="2297429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297433">if</span>&nbsp;<span class="ident" id="2297436">x</span><span class="op" id="2297437">.</span><span class="ident" id="2297438">Cap</span>&nbsp;<span class="op" id="2297442">!=</span>&nbsp;<span class="ident" id="2297445">y</span><span class="op" id="2297446">.</span><span class="ident" id="2297447">Cap</span>&nbsp;<span class="op" id="2297451">||</span>&nbsp;<span class="ident" id="2297454">x</span><span class="op" id="2297455">.</span><span class="ident" id="2297456">Name</span>&nbsp;<span class="op" id="2297461">!=</span>&nbsp;<span class="ident" id="2297464">y</span><span class="op" id="2297465">.</span><span class="ident" id="2297466">Name</span>&nbsp;<span class="op" id="2297471">||</span>&nbsp;<span class="op" id="2297474">!</span><span class="ident" id="2297475">x</span><span class="op" id="2297476">.</span><span class="ident" id="2297477">Sub</span><span class="op" id="2297480">[</span><span class="num" id="2297481">0</span><span class="op" id="2297482">]</span><span class="op" id="2297483">.</span><span class="ident" id="2297484">Equal</span><span class="op" id="2297489">(</span><span class="ident" id="2297490">y</span><span class="op" id="2297491">.</span><span class="ident" id="2297492">Sub</span><span class="op" id="2297495">[</span><span class="num" id="2297496">0</span><span class="op" id="2297497">]</span><span class="op" id="2297498">)</span>&nbsp;<span class="op" id="2297500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297505">return</span>&nbsp;<span class="builtintype" id="2297512">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2297520">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2297523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297526">return</span>&nbsp;<span class="builtintype" id="2297533">true</span><br>
<span class="lineno"></span><span class="op" id="2297538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2297541">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="2297615">func</span>&nbsp;<span class="ident" id="2297620">writeRegexp</span><span class="op" id="2297631">(</span><span class="ident" id="2297632">b</span>&nbsp;<span class="op" id="2297634">*</span><span class="ident" id="2297635">bytes</span><span class="op" id="2297640">.</span><span class="ident" id="2297641">Buffer</span><span class="op" id="2297647">,</span>&nbsp;<span class="ident" id="2297649">re</span>&nbsp;<span class="op" id="2297652">*</span><span class="ident" id="2297653">Regexp</span><span class="op" id="2297659">)</span>&nbsp;<span class="op" id="2297661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297664">switch</span>&nbsp;<span class="ident" id="2297671">re</span><span class="op" id="2297673">.</span><span class="ident" id="2297674">Op</span>&nbsp;<span class="op" id="2297677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297680">default</span><span class="op" id="2297687">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2297691">b</span><span class="op" id="2297692">.</span><span class="ident" id="2297693">WriteString</span><span class="op" id="2297704">(</span><span class="string" id="2297705">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="2297719">+</span>&nbsp;<span class="ident" id="2297721">strconv</span><span class="op" id="2297728">.</span><span class="ident" id="2297729">Itoa</span><span class="op" id="2297733">(</span><span class="builtintype" id="2297734">int</span><span class="op" id="2297737">(</span><span class="ident" id="2297738">re</span><span class="op" id="2297740">.</span><span class="ident" id="2297741">Op</span><span class="op" id="2297743">)</span><span class="op" id="2297744">)</span>&nbsp;<span class="op" id="2297746">+</span>&nbsp;<span class="string" id="2297748">&#34;&gt;&#34;</span><span class="op" id="2297751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297754">case</span>&nbsp;<span class="ident" id="2297759">OpNoMatch</span><span class="op" id="2297768">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2297772">b</span><span class="op" id="2297773">.</span><span class="ident" id="2297774">WriteString</span><span class="op" id="2297785">(</span><span class="string" id="2297786">`[^\x00-\x{10FFFF}]`</span><span class="op" id="2297806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297809">case</span>&nbsp;<span class="ident" id="2297814">OpEmptyMatch</span><span class="op" id="2297826">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2297830">b</span><span class="op" id="2297831">.</span><span class="ident" id="2297832">WriteString</span><span class="op" id="2297843">(</span><span class="string" id="2297844">`(?:)`</span><span class="op" id="2297850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297853">case</span>&nbsp;<span class="ident" id="2297858">OpLiteral</span><span class="op" id="2297867">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297871">if</span>&nbsp;<span class="ident" id="2297874">re</span><span class="op" id="2297876">.</span><span class="ident" id="2297877">Flags</span><span class="op" id="2297882">&amp;</span><span class="ident" id="2297883">FoldCase</span>&nbsp;<span class="op" id="2297892">!=</span>&nbsp;<span class="num" id="2297895">0</span>&nbsp;<span class="op" id="2297897">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2297902">b</span><span class="op" id="2297903">.</span><span class="ident" id="2297904">WriteString</span><span class="op" id="2297915">(</span><span class="string" id="2297916">`(?i:`</span><span class="op" id="2297922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2297926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297930">for</span>&nbsp;<span class="ident" id="2297934">_</span><span class="op" id="2297935">,</span>&nbsp;<span class="ident" id="2297937">r</span>&nbsp;<span class="op" id="2297939">:=</span>&nbsp;<span class="keyword" id="2297942">range</span>&nbsp;<span class="ident" id="2297948">re</span><span class="op" id="2297950">.</span><span class="ident" id="2297951">Rune</span>&nbsp;<span class="op" id="2297956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2297961">escape</span><span class="op" id="2297967">(</span><span class="ident" id="2297968">b</span><span class="op" id="2297969">,</span>&nbsp;<span class="ident" id="2297971">r</span><span class="op" id="2297972">,</span>&nbsp;<span class="builtintype" id="2297974">false</span><span class="op" id="2297979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2297983">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2297987">if</span>&nbsp;<span class="ident" id="2297990">re</span><span class="op" id="2297992">.</span><span class="ident" id="2297993">Flags</span><span class="op" id="2297998">&amp;</span><span class="ident" id="2297999">FoldCase</span>&nbsp;<span class="op" id="2298008">!=</span>&nbsp;<span class="num" id="2298011">0</span>&nbsp;<span class="op" id="2298013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298018">b</span><span class="op" id="2298019">.</span><span class="ident" id="2298020">WriteString</span><span class="op" id="2298031">(</span><span class="string" id="2298032">`)`</span><span class="op" id="2298035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2298039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298042">case</span>&nbsp;<span class="ident" id="2298047">OpCharClass</span><span class="op" id="2298058">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298062">if</span>&nbsp;<span class="builtinfunc" id="2298065">len</span><span class="op" id="2298068">(</span><span class="ident" id="2298069">re</span><span class="op" id="2298071">.</span><span class="ident" id="2298072">Rune</span><span class="op" id="2298076">)</span><span class="op" id="2298077">%</span><span class="num" id="2298078">2</span>&nbsp;<span class="op" id="2298080">!=</span>&nbsp;<span class="num" id="2298083">0</span>&nbsp;<span class="op" id="2298085">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298090">b</span><span class="op" id="2298091">.</span><span class="ident" id="2298092">WriteString</span><span class="op" id="2298103">(</span><span class="string" id="2298104">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="2298126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298131">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2298139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298143">b</span><span class="op" id="2298144">.</span><span class="ident" id="2298145">WriteRune</span><span class="op" id="2298154">(</span><span class="string" id="2298155">&#39;[&#39;</span><span class="op" id="2298158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298162">if</span>&nbsp;<span class="builtinfunc" id="2298165">len</span><span class="op" id="2298168">(</span><span class="ident" id="2298169">re</span><span class="op" id="2298171">.</span><span class="ident" id="2298172">Rune</span><span class="op" id="2298176">)</span>&nbsp;<span class="op" id="2298178">==</span>&nbsp;<span class="num" id="2298181">0</span>&nbsp;<span class="op" id="2298183">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298188">b</span><span class="op" id="2298189">.</span><span class="ident" id="2298190">WriteString</span><span class="op" id="2298201">(</span><span class="string" id="2298202">`^\x00-\x{10FFFF}`</span><span class="op" id="2298220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2298224">}</span>&nbsp;<span class="keyword" id="2298226">else</span>&nbsp;<span class="keyword" id="2298231">if</span>&nbsp;<span class="ident" id="2298234">re</span><span class="op" id="2298236">.</span><span class="ident" id="2298237">Rune</span><span class="op" id="2298241">[</span><span class="num" id="2298242">0</span><span class="op" id="2298243">]</span>&nbsp;<span class="op" id="2298245">==</span>&nbsp;<span class="num" id="2298248">0</span>&nbsp;<span class="op" id="2298250">&amp;&amp;</span>&nbsp;<span class="ident" id="2298253">re</span><span class="op" id="2298255">.</span><span class="ident" id="2298256">Rune</span><span class="op" id="2298260">[</span><span class="builtinfunc" id="2298261">len</span><span class="op" id="2298264">(</span><span class="ident" id="2298265">re</span><span class="op" id="2298267">.</span><span class="ident" id="2298268">Rune</span><span class="op" id="2298272">)</span><span class="op" id="2298273">-</span><span class="num" id="2298274">1</span><span class="op" id="2298275">]</span>&nbsp;<span class="op" id="2298277">==</span>&nbsp;<span class="ident" id="2298280">unicode</span><span class="op" id="2298287">.</span><span class="ident" id="2298288">MaxRune</span>&nbsp;<span class="op" id="2298296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2298301">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2298358">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298380">b</span><span class="op" id="2298381">.</span><span class="ident" id="2298382">WriteRune</span><span class="op" id="2298391">(</span><span class="string" id="2298392">&#39;^&#39;</span><span class="op" id="2298395">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298400">for</span>&nbsp;<span class="ident" id="2298404">i</span>&nbsp;<span class="op" id="2298406">:=</span>&nbsp;<span class="num" id="2298409">1</span><span class="op" id="2298410">;</span>&nbsp;<span class="ident" id="2298412">i</span>&nbsp;<span class="op" id="2298414">&lt;</span>&nbsp;<span class="builtinfunc" id="2298416">len</span><span class="op" id="2298419">(</span><span class="ident" id="2298420">re</span><span class="op" id="2298422">.</span><span class="ident" id="2298423">Rune</span><span class="op" id="2298427">)</span><span class="op" id="2298428">-</span><span class="num" id="2298429">1</span><span class="op" id="2298430">;</span>&nbsp;<span class="ident" id="2298432">i</span>&nbsp;<span class="op" id="2298434">+=</span>&nbsp;<span class="num" id="2298437">2</span>&nbsp;<span class="op" id="2298439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298445">lo</span><span class="op" id="2298447">,</span>&nbsp;<span class="ident" id="2298449">hi</span>&nbsp;<span class="op" id="2298452">:=</span>&nbsp;<span class="ident" id="2298455">re</span><span class="op" id="2298457">.</span><span class="ident" id="2298458">Rune</span><span class="op" id="2298462">[</span><span class="ident" id="2298463">i</span><span class="op" id="2298464">]</span><span class="op" id="2298465">+</span><span class="num" id="2298466">1</span><span class="op" id="2298467">,</span>&nbsp;<span class="ident" id="2298469">re</span><span class="op" id="2298471">.</span><span class="ident" id="2298472">Rune</span><span class="op" id="2298476">[</span><span class="ident" id="2298477">i</span><span class="op" id="2298478">+</span><span class="num" id="2298479">1</span><span class="op" id="2298480">]</span><span class="op" id="2298481">-</span><span class="num" id="2298482">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298488">escape</span><span class="op" id="2298494">(</span><span class="ident" id="2298495">b</span><span class="op" id="2298496">,</span>&nbsp;<span class="ident" id="2298498">lo</span><span class="op" id="2298500">,</span>&nbsp;<span class="ident" id="2298502">lo</span>&nbsp;<span class="op" id="2298505">==</span>&nbsp;<span class="string" id="2298508">&#39;-&#39;</span><span class="op" id="2298511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298517">if</span>&nbsp;<span class="ident" id="2298520">lo</span>&nbsp;<span class="op" id="2298523">!=</span>&nbsp;<span class="ident" id="2298526">hi</span>&nbsp;<span class="op" id="2298529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298536">b</span><span class="op" id="2298537">.</span><span class="ident" id="2298538">WriteRune</span><span class="op" id="2298547">(</span><span class="string" id="2298548">&#39;-&#39;</span><span class="op" id="2298551">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298558">escape</span><span class="op" id="2298564">(</span><span class="ident" id="2298565">b</span><span class="op" id="2298566">,</span>&nbsp;<span class="ident" id="2298568">hi</span><span class="op" id="2298570">,</span>&nbsp;<span class="ident" id="2298572">hi</span>&nbsp;<span class="op" id="2298575">==</span>&nbsp;<span class="string" id="2298578">&#39;-&#39;</span><span class="op" id="2298581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2298587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2298592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2298596">}</span>&nbsp;<span class="keyword" id="2298598">else</span>&nbsp;<span class="op" id="2298603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298608">for</span>&nbsp;<span class="ident" id="2298612">i</span>&nbsp;<span class="op" id="2298614">:=</span>&nbsp;<span class="num" id="2298617">0</span><span class="op" id="2298618">;</span>&nbsp;<span class="ident" id="2298620">i</span>&nbsp;<span class="op" id="2298622">&lt;</span>&nbsp;<span class="builtinfunc" id="2298624">len</span><span class="op" id="2298627">(</span><span class="ident" id="2298628">re</span><span class="op" id="2298630">.</span><span class="ident" id="2298631">Rune</span><span class="op" id="2298635">)</span><span class="op" id="2298636">;</span>&nbsp;<span class="ident" id="2298638">i</span>&nbsp;<span class="op" id="2298640">+=</span>&nbsp;<span class="num" id="2298643">2</span>&nbsp;<span class="op" id="2298645">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298651">lo</span><span class="op" id="2298653">,</span>&nbsp;<span class="ident" id="2298655">hi</span>&nbsp;<span class="op" id="2298658">:=</span>&nbsp;<span class="ident" id="2298661">re</span><span class="op" id="2298663">.</span><span class="ident" id="2298664">Rune</span><span class="op" id="2298668">[</span><span class="ident" id="2298669">i</span><span class="op" id="2298670">]</span><span class="op" id="2298671">,</span>&nbsp;<span class="ident" id="2298673">re</span><span class="op" id="2298675">.</span><span class="ident" id="2298676">Rune</span><span class="op" id="2298680">[</span><span class="ident" id="2298681">i</span><span class="op" id="2298682">+</span><span class="num" id="2298683">1</span><span class="op" id="2298684">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298690">escape</span><span class="op" id="2298696">(</span><span class="ident" id="2298697">b</span><span class="op" id="2298698">,</span>&nbsp;<span class="ident" id="2298700">lo</span><span class="op" id="2298702">,</span>&nbsp;<span class="ident" id="2298704">lo</span>&nbsp;<span class="op" id="2298707">==</span>&nbsp;<span class="string" id="2298710">&#39;-&#39;</span><span class="op" id="2298713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298719">if</span>&nbsp;<span class="ident" id="2298722">lo</span>&nbsp;<span class="op" id="2298725">!=</span>&nbsp;<span class="ident" id="2298728">hi</span>&nbsp;<span class="op" id="2298731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298738">b</span><span class="op" id="2298739">.</span><span class="ident" id="2298740">WriteRune</span><span class="op" id="2298749">(</span><span class="string" id="2298750">&#39;-&#39;</span><span class="op" id="2298753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298760">escape</span><span class="op" id="2298766">(</span><span class="ident" id="2298767">b</span><span class="op" id="2298768">,</span>&nbsp;<span class="ident" id="2298770">hi</span><span class="op" id="2298772">,</span>&nbsp;<span class="ident" id="2298774">hi</span>&nbsp;<span class="op" id="2298777">==</span>&nbsp;<span class="string" id="2298780">&#39;-&#39;</span><span class="op" id="2298783">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2298789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2298794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2298798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298802">b</span><span class="op" id="2298803">.</span><span class="ident" id="2298804">WriteRune</span><span class="op" id="2298813">(</span><span class="string" id="2298814">&#39;]&#39;</span><span class="op" id="2298817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298820">case</span>&nbsp;<span class="ident" id="2298825">OpAnyCharNotNL</span><span class="op" id="2298839">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298843">b</span><span class="op" id="2298844">.</span><span class="ident" id="2298845">WriteString</span><span class="op" id="2298856">(</span><span class="string" id="2298857">`(?-s:.)`</span><span class="op" id="2298866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298869">case</span>&nbsp;<span class="ident" id="2298874">OpAnyChar</span><span class="op" id="2298883">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298887">b</span><span class="op" id="2298888">.</span><span class="ident" id="2298889">WriteString</span><span class="op" id="2298900">(</span><span class="string" id="2298901">`(?s:.)`</span><span class="op" id="2298909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298912">case</span>&nbsp;<span class="ident" id="2298917">OpBeginLine</span><span class="op" id="2298928">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298932">b</span><span class="op" id="2298933">.</span><span class="ident" id="2298934">WriteRune</span><span class="op" id="2298943">(</span><span class="string" id="2298944">&#39;^&#39;</span><span class="op" id="2298947">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298950">case</span>&nbsp;<span class="ident" id="2298955">OpEndLine</span><span class="op" id="2298964">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2298968">b</span><span class="op" id="2298969">.</span><span class="ident" id="2298970">WriteRune</span><span class="op" id="2298979">(</span><span class="string" id="2298980">&#39;$&#39;</span><span class="op" id="2298983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2298986">case</span>&nbsp;<span class="ident" id="2298991">OpBeginText</span><span class="op" id="2299002">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299006">b</span><span class="op" id="2299007">.</span><span class="ident" id="2299008">WriteString</span><span class="op" id="2299019">(</span><span class="string" id="2299020">`\A`</span><span class="op" id="2299024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299027">case</span>&nbsp;<span class="ident" id="2299032">OpEndText</span><span class="op" id="2299041">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299045">if</span>&nbsp;<span class="ident" id="2299048">re</span><span class="op" id="2299050">.</span><span class="ident" id="2299051">Flags</span><span class="op" id="2299056">&amp;</span><span class="ident" id="2299057">WasDollar</span>&nbsp;<span class="op" id="2299067">!=</span>&nbsp;<span class="num" id="2299070">0</span>&nbsp;<span class="op" id="2299072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299077">b</span><span class="op" id="2299078">.</span><span class="ident" id="2299079">WriteString</span><span class="op" id="2299090">(</span><span class="string" id="2299091">`(?-m:$)`</span><span class="op" id="2299100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2299104">}</span>&nbsp;<span class="keyword" id="2299106">else</span>&nbsp;<span class="op" id="2299111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299116">b</span><span class="op" id="2299117">.</span><span class="ident" id="2299118">WriteString</span><span class="op" id="2299129">(</span><span class="string" id="2299130">`\z`</span><span class="op" id="2299134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2299138">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299141">case</span>&nbsp;<span class="ident" id="2299146">OpWordBoundary</span><span class="op" id="2299160">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299164">b</span><span class="op" id="2299165">.</span><span class="ident" id="2299166">WriteString</span><span class="op" id="2299177">(</span><span class="string" id="2299178">`\b`</span><span class="op" id="2299182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299185">case</span>&nbsp;<span class="ident" id="2299190">OpNoWordBoundary</span><span class="op" id="2299206">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299210">b</span><span class="op" id="2299211">.</span><span class="ident" id="2299212">WriteString</span><span class="op" id="2299223">(</span><span class="string" id="2299224">`\B`</span><span class="op" id="2299228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299231">case</span>&nbsp;<span class="ident" id="2299236">OpCapture</span><span class="op" id="2299245">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299249">if</span>&nbsp;<span class="ident" id="2299252">re</span><span class="op" id="2299254">.</span><span class="ident" id="2299255">Name</span>&nbsp;<span class="op" id="2299260">!=</span>&nbsp;<span class="string" id="2299263">&#34;&#34;</span>&nbsp;<span class="op" id="2299266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299271">b</span><span class="op" id="2299272">.</span><span class="ident" id="2299273">WriteString</span><span class="op" id="2299284">(</span><span class="string" id="2299285">`(?P&lt;`</span><span class="op" id="2299291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299296">b</span><span class="op" id="2299297">.</span><span class="ident" id="2299298">WriteString</span><span class="op" id="2299309">(</span><span class="ident" id="2299310">re</span><span class="op" id="2299312">.</span><span class="ident" id="2299313">Name</span><span class="op" id="2299317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299322">b</span><span class="op" id="2299323">.</span><span class="ident" id="2299324">WriteRune</span><span class="op" id="2299333">(</span><span class="string" id="2299334">&#39;&gt;&#39;</span><span class="op" id="2299337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2299341">}</span>&nbsp;<span class="keyword" id="2299343">else</span>&nbsp;<span class="op" id="2299348">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299353">b</span><span class="op" id="2299354">.</span><span class="ident" id="2299355">WriteRune</span><span class="op" id="2299364">(</span><span class="string" id="2299365">&#39;(&#39;</span><span class="op" id="2299368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2299372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299376">if</span>&nbsp;<span class="ident" id="2299379">re</span><span class="op" id="2299381">.</span><span class="ident" id="2299382">Sub</span><span class="op" id="2299385">[</span><span class="num" id="2299386">0</span><span class="op" id="2299387">]</span><span class="op" id="2299388">.</span><span class="ident" id="2299389">Op</span>&nbsp;<span class="op" id="2299392">!=</span>&nbsp;<span class="ident" id="2299395">OpEmptyMatch</span>&nbsp;<span class="op" id="2299408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299413">writeRegexp</span><span class="op" id="2299424">(</span><span class="ident" id="2299425">b</span><span class="op" id="2299426">,</span>&nbsp;<span class="ident" id="2299428">re</span><span class="op" id="2299430">.</span><span class="ident" id="2299431">Sub</span><span class="op" id="2299434">[</span><span class="num" id="2299435">0</span><span class="op" id="2299436">]</span><span class="op" id="2299437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2299441">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299445">b</span><span class="op" id="2299446">.</span><span class="ident" id="2299447">WriteRune</span><span class="op" id="2299456">(</span><span class="string" id="2299457">&#39;)&#39;</span><span class="op" id="2299460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299463">case</span>&nbsp;<span class="ident" id="2299468">OpStar</span><span class="op" id="2299474">,</span>&nbsp;<span class="ident" id="2299476">OpPlus</span><span class="op" id="2299482">,</span>&nbsp;<span class="ident" id="2299484">OpQuest</span><span class="op" id="2299491">,</span>&nbsp;<span class="ident" id="2299493">OpRepeat</span><span class="op" id="2299501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299505">if</span>&nbsp;<span class="ident" id="2299508">sub</span>&nbsp;<span class="op" id="2299512">:=</span>&nbsp;<span class="ident" id="2299515">re</span><span class="op" id="2299517">.</span><span class="ident" id="2299518">Sub</span><span class="op" id="2299521">[</span><span class="num" id="2299522">0</span><span class="op" id="2299523">]</span><span class="op" id="2299524">;</span>&nbsp;<span class="ident" id="2299526">sub</span><span class="op" id="2299529">.</span><span class="ident" id="2299530">Op</span>&nbsp;<span class="op" id="2299533">&gt;</span>&nbsp;<span class="ident" id="2299535">OpCapture</span>&nbsp;<span class="op" id="2299545">||</span>&nbsp;<span class="ident" id="2299548">sub</span><span class="op" id="2299551">.</span><span class="ident" id="2299552">Op</span>&nbsp;<span class="op" id="2299555">==</span>&nbsp;<span class="ident" id="2299558">OpLiteral</span>&nbsp;<span class="op" id="2299568">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2299571">len</span><span class="op" id="2299574">(</span><span class="ident" id="2299575">sub</span><span class="op" id="2299578">.</span><span class="ident" id="2299579">Rune</span><span class="op" id="2299583">)</span>&nbsp;<span class="op" id="2299585">&gt;</span>&nbsp;<span class="num" id="2299587">1</span>&nbsp;<span class="op" id="2299589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299594">b</span><span class="op" id="2299595">.</span><span class="ident" id="2299596">WriteString</span><span class="op" id="2299607">(</span><span class="string" id="2299608">`(?:`</span><span class="op" id="2299613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299618">writeRegexp</span><span class="op" id="2299629">(</span><span class="ident" id="2299630">b</span><span class="op" id="2299631">,</span>&nbsp;<span class="ident" id="2299633">sub</span><span class="op" id="2299636">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299641">b</span><span class="op" id="2299642">.</span><span class="ident" id="2299643">WriteString</span><span class="op" id="2299654">(</span><span class="string" id="2299655">`)`</span><span class="op" id="2299658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2299662">}</span>&nbsp;<span class="keyword" id="2299664">else</span>&nbsp;<span class="op" id="2299669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299674">writeRegexp</span><span class="op" id="2299685">(</span><span class="ident" id="2299686">b</span><span class="op" id="2299687">,</span>&nbsp;<span class="ident" id="2299689">sub</span><span class="op" id="2299692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2299696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299700">switch</span>&nbsp;<span class="ident" id="2299707">re</span><span class="op" id="2299709">.</span><span class="ident" id="2299710">Op</span>&nbsp;<span class="op" id="2299713">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299717">case</span>&nbsp;<span class="ident" id="2299722">OpStar</span><span class="op" id="2299728">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299733">b</span><span class="op" id="2299734">.</span><span class="ident" id="2299735">WriteRune</span><span class="op" id="2299744">(</span><span class="string" id="2299745">&#39;*&#39;</span><span class="op" id="2299748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299752">case</span>&nbsp;<span class="ident" id="2299757">OpPlus</span><span class="op" id="2299763">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299768">b</span><span class="op" id="2299769">.</span><span class="ident" id="2299770">WriteRune</span><span class="op" id="2299779">(</span><span class="string" id="2299780">&#39;+&#39;</span><span class="op" id="2299783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299787">case</span>&nbsp;<span class="ident" id="2299792">OpQuest</span><span class="op" id="2299799">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299804">b</span><span class="op" id="2299805">.</span><span class="ident" id="2299806">WriteRune</span><span class="op" id="2299815">(</span><span class="string" id="2299816">&#39;?&#39;</span><span class="op" id="2299819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299823">case</span>&nbsp;<span class="ident" id="2299828">OpRepeat</span><span class="op" id="2299836">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299841">b</span><span class="op" id="2299842">.</span><span class="ident" id="2299843">WriteRune</span><span class="op" id="2299852">(</span><span class="string" id="2299853">&#39;{&#39;</span><span class="op" id="2299856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299861">b</span><span class="op" id="2299862">.</span><span class="ident" id="2299863">WriteString</span><span class="op" id="2299874">(</span><span class="ident" id="2299875">strconv</span><span class="op" id="2299882">.</span><span class="ident" id="2299883">Itoa</span><span class="op" id="2299887">(</span><span class="ident" id="2299888">re</span><span class="op" id="2299890">.</span><span class="ident" id="2299891">Min</span><span class="op" id="2299894">)</span><span class="op" id="2299895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299900">if</span>&nbsp;<span class="ident" id="2299903">re</span><span class="op" id="2299905">.</span><span class="ident" id="2299906">Max</span>&nbsp;<span class="op" id="2299910">!=</span>&nbsp;<span class="ident" id="2299913">re</span><span class="op" id="2299915">.</span><span class="ident" id="2299916">Min</span>&nbsp;<span class="op" id="2299920">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299926">b</span><span class="op" id="2299927">.</span><span class="ident" id="2299928">WriteRune</span><span class="op" id="2299937">(</span><span class="string" id="2299938">&#39;,&#39;</span><span class="op" id="2299941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2299947">if</span>&nbsp;<span class="ident" id="2299950">re</span><span class="op" id="2299952">.</span><span class="ident" id="2299953">Max</span>&nbsp;<span class="op" id="2299957">&gt;=</span>&nbsp;<span class="num" id="2299960">0</span>&nbsp;<span class="op" id="2299962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2299969">b</span><span class="op" id="2299970">.</span><span class="ident" id="2299971">WriteString</span><span class="op" id="2299982">(</span><span class="ident" id="2299983">strconv</span><span class="op" id="2299990">.</span><span class="ident" id="2299991">Itoa</span><span class="op" id="2299995">(</span><span class="ident" id="2299996">re</span><span class="op" id="2299998">.</span><span class="ident" id="2299999">Max</span><span class="op" id="2300002">)</span><span class="op" id="2300003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300014">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300019">b</span><span class="op" id="2300020">.</span><span class="ident" id="2300021">WriteRune</span><span class="op" id="2300030">(</span><span class="string" id="2300031">&#39;}&#39;</span><span class="op" id="2300034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300042">if</span>&nbsp;<span class="ident" id="2300045">re</span><span class="op" id="2300047">.</span><span class="ident" id="2300048">Flags</span><span class="op" id="2300053">&amp;</span><span class="ident" id="2300054">NonGreedy</span>&nbsp;<span class="op" id="2300064">!=</span>&nbsp;<span class="num" id="2300067">0</span>&nbsp;<span class="op" id="2300069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300074">b</span><span class="op" id="2300075">.</span><span class="ident" id="2300076">WriteRune</span><span class="op" id="2300085">(</span><span class="string" id="2300086">&#39;?&#39;</span><span class="op" id="2300089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300093">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300096">case</span>&nbsp;<span class="ident" id="2300101">OpConcat</span><span class="op" id="2300109">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300113">for</span>&nbsp;<span class="ident" id="2300117">_</span><span class="op" id="2300118">,</span>&nbsp;<span class="ident" id="2300120">sub</span>&nbsp;<span class="op" id="2300124">:=</span>&nbsp;<span class="keyword" id="2300127">range</span>&nbsp;<span class="ident" id="2300133">re</span><span class="op" id="2300135">.</span><span class="ident" id="2300136">Sub</span>&nbsp;<span class="op" id="2300140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300145">if</span>&nbsp;<span class="ident" id="2300148">sub</span><span class="op" id="2300151">.</span><span class="ident" id="2300152">Op</span>&nbsp;<span class="op" id="2300155">==</span>&nbsp;<span class="ident" id="2300158">OpAlternate</span>&nbsp;<span class="op" id="2300170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300176">b</span><span class="op" id="2300177">.</span><span class="ident" id="2300178">WriteString</span><span class="op" id="2300189">(</span><span class="string" id="2300190">`(?:`</span><span class="op" id="2300195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300201">writeRegexp</span><span class="op" id="2300212">(</span><span class="ident" id="2300213">b</span><span class="op" id="2300214">,</span>&nbsp;<span class="ident" id="2300216">sub</span><span class="op" id="2300219">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300225">b</span><span class="op" id="2300226">.</span><span class="ident" id="2300227">WriteString</span><span class="op" id="2300238">(</span><span class="string" id="2300239">`)`</span><span class="op" id="2300242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300247">}</span>&nbsp;<span class="keyword" id="2300249">else</span>&nbsp;<span class="op" id="2300254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300260">writeRegexp</span><span class="op" id="2300271">(</span><span class="ident" id="2300272">b</span><span class="op" id="2300273">,</span>&nbsp;<span class="ident" id="2300275">sub</span><span class="op" id="2300278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300287">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300290">case</span>&nbsp;<span class="ident" id="2300295">OpAlternate</span><span class="op" id="2300306">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300310">for</span>&nbsp;<span class="ident" id="2300314">i</span><span class="op" id="2300315">,</span>&nbsp;<span class="ident" id="2300317">sub</span>&nbsp;<span class="op" id="2300321">:=</span>&nbsp;<span class="keyword" id="2300324">range</span>&nbsp;<span class="ident" id="2300330">re</span><span class="op" id="2300332">.</span><span class="ident" id="2300333">Sub</span>&nbsp;<span class="op" id="2300337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300342">if</span>&nbsp;<span class="ident" id="2300345">i</span>&nbsp;<span class="op" id="2300347">&gt;</span>&nbsp;<span class="num" id="2300349">0</span>&nbsp;<span class="op" id="2300351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300357">b</span><span class="op" id="2300358">.</span><span class="ident" id="2300359">WriteRune</span><span class="op" id="2300368">(</span><span class="string" id="2300369">&#39;|&#39;</span><span class="op" id="2300372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300377">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300382">writeRegexp</span><span class="op" id="2300393">(</span><span class="ident" id="2300394">b</span><span class="op" id="2300395">,</span>&nbsp;<span class="ident" id="2300397">sub</span><span class="op" id="2300400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300407">}</span><br>
<span class="lineno"></span><span class="op" id="2300409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="2300412">func</span>&nbsp;<span class="op" id="2300417">(</span><span class="ident" id="2300418">re</span>&nbsp;<span class="op" id="2300421">*</span><span class="ident" id="2300422">Regexp</span><span class="op" id="2300428">)</span>&nbsp;<span class="ident" id="2300430">String</span><span class="op" id="2300436">(</span><span class="op" id="2300437">)</span>&nbsp;<span class="builtintype" id="2300439">string</span>&nbsp;<span class="op" id="2300446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300449">var</span>&nbsp;<span class="ident" id="2300453">b</span>&nbsp;<span class="ident" id="2300455">bytes</span><span class="op" id="2300460">.</span><span class="ident" id="2300461">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300469">writeRegexp</span><span class="op" id="2300480">(</span><span class="op" id="2300481">&amp;</span><span class="ident" id="2300482">b</span><span class="op" id="2300483">,</span>&nbsp;<span class="ident" id="2300485">re</span><span class="op" id="2300487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300490">return</span>&nbsp;<span class="ident" id="2300497">b</span><span class="op" id="2300498">.</span><span class="ident" id="2300499">String</span><span class="op" id="2300505">(</span><span class="op" id="2300506">)</span><br>
<span class="lineno"></span><span class="op" id="2300508">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="2300511">const</span>&nbsp;<span class="ident" id="2300517">meta</span>&nbsp;<span class="op" id="2300522">=</span>&nbsp;<span class="string" id="2300524">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2300542">func</span>&nbsp;<span class="ident" id="2300547">escape</span><span class="op" id="2300553">(</span><span class="ident" id="2300554">b</span>&nbsp;<span class="op" id="2300556">*</span><span class="ident" id="2300557">bytes</span><span class="op" id="2300562">.</span><span class="ident" id="2300563">Buffer</span><span class="op" id="2300569">,</span>&nbsp;<span class="ident" id="2300571">r</span>&nbsp;<span class="builtintype" id="2300573">rune</span><span class="op" id="2300577">,</span>&nbsp;<span class="ident" id="2300579">force</span>&nbsp;<span class="builtintype" id="2300585">bool</span><span class="op" id="2300589">)</span>&nbsp;<span class="op" id="2300591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300594">if</span>&nbsp;<span class="ident" id="2300597">unicode</span><span class="op" id="2300604">.</span><span class="ident" id="2300605">IsPrint</span><span class="op" id="2300612">(</span><span class="ident" id="2300613">r</span><span class="op" id="2300614">)</span>&nbsp;<span class="op" id="2300616">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300620">if</span>&nbsp;<span class="ident" id="2300623">strings</span><span class="op" id="2300630">.</span><span class="ident" id="2300631">IndexRune</span><span class="op" id="2300640">(</span><span class="ident" id="2300641">meta</span><span class="op" id="2300645">,</span>&nbsp;<span class="ident" id="2300647">r</span><span class="op" id="2300648">)</span>&nbsp;<span class="op" id="2300650">&gt;=</span>&nbsp;<span class="num" id="2300653">0</span>&nbsp;<span class="op" id="2300655">||</span>&nbsp;<span class="ident" id="2300658">force</span>&nbsp;<span class="op" id="2300664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300669">b</span><span class="op" id="2300670">.</span><span class="ident" id="2300671">WriteRune</span><span class="op" id="2300680">(</span><span class="string" id="2300681">&#39;\\&#39;</span><span class="op" id="2300685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300693">b</span><span class="op" id="2300694">.</span><span class="ident" id="2300695">WriteRune</span><span class="op" id="2300704">(</span><span class="ident" id="2300705">r</span><span class="op" id="2300706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300710">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2300718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300722">switch</span>&nbsp;<span class="ident" id="2300729">r</span>&nbsp;<span class="op" id="2300731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300734">case</span>&nbsp;<span class="string" id="2300739">&#39;\a&#39;</span><span class="op" id="2300743">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300747">b</span><span class="op" id="2300748">.</span><span class="ident" id="2300749">WriteString</span><span class="op" id="2300760">(</span><span class="string" id="2300761">`\a`</span><span class="op" id="2300765">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300768">case</span>&nbsp;<span class="string" id="2300773">&#39;\f&#39;</span><span class="op" id="2300777">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300781">b</span><span class="op" id="2300782">.</span><span class="ident" id="2300783">WriteString</span><span class="op" id="2300794">(</span><span class="string" id="2300795">`\f`</span><span class="op" id="2300799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300802">case</span>&nbsp;<span class="string" id="2300807">&#39;\n&#39;</span><span class="op" id="2300811">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300815">b</span><span class="op" id="2300816">.</span><span class="ident" id="2300817">WriteString</span><span class="op" id="2300828">(</span><span class="string" id="2300829">`\n`</span><span class="op" id="2300833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300836">case</span>&nbsp;<span class="string" id="2300841">&#39;\r&#39;</span><span class="op" id="2300845">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300849">b</span><span class="op" id="2300850">.</span><span class="ident" id="2300851">WriteString</span><span class="op" id="2300862">(</span><span class="string" id="2300863">`\r`</span><span class="op" id="2300867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300870">case</span>&nbsp;<span class="string" id="2300875">&#39;\t&#39;</span><span class="op" id="2300879">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300883">b</span><span class="op" id="2300884">.</span><span class="ident" id="2300885">WriteString</span><span class="op" id="2300896">(</span><span class="string" id="2300897">`\t`</span><span class="op" id="2300901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300904">case</span>&nbsp;<span class="string" id="2300909">&#39;\v&#39;</span><span class="op" id="2300913">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300917">b</span><span class="op" id="2300918">.</span><span class="ident" id="2300919">WriteString</span><span class="op" id="2300930">(</span><span class="string" id="2300931">`\v`</span><span class="op" id="2300935">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300938">default</span><span class="op" id="2300945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2300949">if</span>&nbsp;<span class="ident" id="2300952">r</span>&nbsp;<span class="op" id="2300954">&lt;</span>&nbsp;<span class="num" id="2300956">0x100</span>&nbsp;<span class="op" id="2300962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300967">b</span><span class="op" id="2300968">.</span><span class="ident" id="2300969">WriteString</span><span class="op" id="2300980">(</span><span class="string" id="2300981">`\x`</span><span class="op" id="2300985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2300990">s</span>&nbsp;<span class="op" id="2300992">:=</span>&nbsp;<span class="ident" id="2300995">strconv</span><span class="op" id="2301002">.</span><span class="ident" id="2301003">FormatInt</span><span class="op" id="2301012">(</span><span class="ident" id="2301013">int64</span><span class="op" id="2301018">(</span><span class="ident" id="2301019">r</span><span class="op" id="2301020">)</span><span class="op" id="2301021">,</span>&nbsp;<span class="num" id="2301023">16</span><span class="op" id="2301025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2301030">if</span>&nbsp;<span class="builtinfunc" id="2301033">len</span><span class="op" id="2301036">(</span><span class="ident" id="2301037">s</span><span class="op" id="2301038">)</span>&nbsp;<span class="op" id="2301040">==</span>&nbsp;<span class="num" id="2301043">1</span>&nbsp;<span class="op" id="2301045">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301051">b</span><span class="op" id="2301052">.</span><span class="ident" id="2301053">WriteRune</span><span class="op" id="2301062">(</span><span class="string" id="2301063">&#39;0&#39;</span><span class="op" id="2301066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2301071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301076">b</span><span class="op" id="2301077">.</span><span class="ident" id="2301078">WriteString</span><span class="op" id="2301089">(</span><span class="ident" id="2301090">s</span><span class="op" id="2301091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2301096">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2301104">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301108">b</span><span class="op" id="2301109">.</span><span class="ident" id="2301110">WriteString</span><span class="op" id="2301121">(</span><span class="string" id="2301122">`\x{`</span><span class="op" id="2301127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301131">b</span><span class="op" id="2301132">.</span><span class="ident" id="2301133">WriteString</span><span class="op" id="2301144">(</span><span class="ident" id="2301145">strconv</span><span class="op" id="2301152">.</span><span class="ident" id="2301153">FormatInt</span><span class="op" id="2301162">(</span><span class="ident" id="2301163">int64</span><span class="op" id="2301168">(</span><span class="ident" id="2301169">r</span><span class="op" id="2301170">)</span><span class="op" id="2301171">,</span>&nbsp;<span class="num" id="2301173">16</span><span class="op" id="2301175">)</span><span class="op" id="2301176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301180">b</span><span class="op" id="2301181">.</span><span class="ident" id="2301182">WriteString</span><span class="op" id="2301193">(</span><span class="string" id="2301194">`}`</span><span class="op" id="2301197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2301200">}</span><br>
<span class="lineno"></span><span class="op" id="2301202">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="2301205">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="2301267">func</span>&nbsp;<span class="op" id="2301272">(</span><span class="ident" id="2301273">re</span>&nbsp;<span class="op" id="2301276">*</span><span class="ident" id="2301277">Regexp</span><span class="op" id="2301283">)</span>&nbsp;<span class="ident" id="2301285">MaxCap</span><span class="op" id="2301291">(</span><span class="op" id="2301292">)</span>&nbsp;<span class="builtintype" id="2301294">int</span>&nbsp;<span class="op" id="2301298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301301">m</span>&nbsp;<span class="op" id="2301303">:=</span>&nbsp;<span class="num" id="2301306">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2301309">if</span>&nbsp;<span class="ident" id="2301312">re</span><span class="op" id="2301314">.</span><span class="ident" id="2301315">Op</span>&nbsp;<span class="op" id="2301318">==</span>&nbsp;<span class="ident" id="2301321">OpCapture</span>&nbsp;<span class="op" id="2301331">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301335">m</span>&nbsp;<span class="op" id="2301337">=</span>&nbsp;<span class="ident" id="2301339">re</span><span class="op" id="2301341">.</span><span class="ident" id="2301342">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2301347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2301350">for</span>&nbsp;<span class="ident" id="2301354">_</span><span class="op" id="2301355">,</span>&nbsp;<span class="ident" id="2301357">sub</span>&nbsp;<span class="op" id="2301361">:=</span>&nbsp;<span class="keyword" id="2301364">range</span>&nbsp;<span class="ident" id="2301370">re</span><span class="op" id="2301372">.</span><span class="ident" id="2301373">Sub</span>&nbsp;<span class="op" id="2301377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2301381">if</span>&nbsp;<span class="ident" id="2301384">n</span>&nbsp;<span class="op" id="2301386">:=</span>&nbsp;<span class="ident" id="2301389">sub</span><span class="op" id="2301392">.</span><span class="ident" id="2301393">MaxCap</span><span class="op" id="2301399">(</span><span class="op" id="2301400">)</span><span class="op" id="2301401">;</span>&nbsp;<span class="ident" id="2301403">m</span>&nbsp;<span class="op" id="2301405">&lt;</span>&nbsp;<span class="ident" id="2301407">n</span>&nbsp;<span class="op" id="2301409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301414">m</span>&nbsp;<span class="op" id="2301416">=</span>&nbsp;<span class="ident" id="2301418">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2301422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2301425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2301428">return</span>&nbsp;<span class="ident" id="2301435">m</span><br>
<span class="lineno"></span><span class="op" id="2301437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="2301440">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="2301508">func</span>&nbsp;<span class="op" id="2301513">(</span><span class="ident" id="2301514">re</span>&nbsp;<span class="op" id="2301517">*</span><span class="ident" id="2301518">Regexp</span><span class="op" id="2301524">)</span>&nbsp;<span class="ident" id="2301526">CapNames</span><span class="op" id="2301534">(</span><span class="op" id="2301535">)</span>&nbsp;<span class="op" id="2301537">[</span><span class="op" id="2301538">]</span><span class="builtintype" id="2301539">string</span>&nbsp;<span class="op" id="2301546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301549">names</span>&nbsp;<span class="op" id="2301555">:=</span>&nbsp;<span class="builtinfunc" id="2301558">make</span><span class="op" id="2301562">(</span><span class="op" id="2301563">[</span><span class="op" id="2301564">]</span><span class="builtintype" id="2301565">string</span><span class="op" id="2301571">,</span>&nbsp;<span class="ident" id="2301573">re</span><span class="op" id="2301575">.</span><span class="ident" id="2301576">MaxCap</span><span class="op" id="2301582">(</span><span class="op" id="2301583">)</span><span class="op" id="2301584">+</span><span class="num" id="2301585">1</span><span class="op" id="2301586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301589">re</span><span class="op" id="2301591">.</span><span class="ident" id="2301592">capNames</span><span class="op" id="2301600">(</span><span class="ident" id="2301601">names</span><span class="op" id="2301606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2301609">return</span>&nbsp;<span class="ident" id="2301616">names</span><br>
<span class="lineno">310</span><span class="op" id="2301622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2301625">func</span>&nbsp;<span class="op" id="2301630">(</span><span class="ident" id="2301631">re</span>&nbsp;<span class="op" id="2301634">*</span><span class="ident" id="2301635">Regexp</span><span class="op" id="2301641">)</span>&nbsp;<span class="ident" id="2301643">capNames</span><span class="op" id="2301651">(</span><span class="ident" id="2301652">names</span>&nbsp;<span class="op" id="2301658">[</span><span class="op" id="2301659">]</span><span class="builtintype" id="2301660">string</span><span class="op" id="2301666">)</span>&nbsp;<span class="op" id="2301668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2301671">if</span>&nbsp;<span class="ident" id="2301674">re</span><span class="op" id="2301676">.</span><span class="ident" id="2301677">Op</span>&nbsp;<span class="op" id="2301680">==</span>&nbsp;<span class="ident" id="2301683">OpCapture</span>&nbsp;<span class="op" id="2301693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301697">names</span><span class="op" id="2301702">[</span><span class="ident" id="2301703">re</span><span class="op" id="2301705">.</span><span class="ident" id="2301706">Cap</span><span class="op" id="2301709">]</span>&nbsp;<span class="op" id="2301711">=</span>&nbsp;<span class="ident" id="2301713">re</span><span class="op" id="2301715">.</span><span class="ident" id="2301716">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2301722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2301725">for</span>&nbsp;<span class="ident" id="2301729">_</span><span class="op" id="2301730">,</span>&nbsp;<span class="ident" id="2301732">sub</span>&nbsp;<span class="op" id="2301736">:=</span>&nbsp;<span class="keyword" id="2301739">range</span>&nbsp;<span class="ident" id="2301745">re</span><span class="op" id="2301747">.</span><span class="ident" id="2301748">Sub</span>&nbsp;<span class="op" id="2301752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2301756">sub</span><span class="op" id="2301759">.</span><span class="ident" id="2301760">capNames</span><span class="op" id="2301768">(</span><span class="ident" id="2301769">names</span><span class="op" id="2301774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2301777">}</span><br>
<span class="lineno"></span><span class="op" id="2301779">}</span>
</div>
</body>
</html>
