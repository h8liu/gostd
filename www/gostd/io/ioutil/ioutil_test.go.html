<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6700239">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6700294">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6700348">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6700399">package</span>&nbsp;<span class="ident" id="6700407">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6700415">import</span>&nbsp;<span class="op" id="6700422">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6700425">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6700431">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6700441">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6700444">func</span>&nbsp;<span class="ident" id="6700449">checkSize</span><span class="op" id="6700458">(</span><span class="ident" id="6700459">t</span>&nbsp;<span class="op" id="6700461">*</span><span class="ident" id="6700462">testing</span><span class="op" id="6700469">.</span><span class="ident" id="6700470">T</span><span class="op" id="6700471">,</span>&nbsp;<span class="ident" id="6700473">path</span>&nbsp;<span class="builtintype" id="6700478">string</span><span class="op" id="6700484">,</span>&nbsp;<span class="ident" id="6700486">size</span>&nbsp;<span class="ident" id="6700491">int64</span><span class="op" id="6700496">)</span>&nbsp;<span class="op" id="6700498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700501">dir</span><span class="op" id="6700504">,</span>&nbsp;<span class="ident" id="6700506">err</span>&nbsp;<span class="op" id="6700510">:=</span>&nbsp;<span class="ident" id="6700513">os</span><span class="op" id="6700515">.</span><span class="ident" id="6700516">Stat</span><span class="op" id="6700520">(</span><span class="ident" id="6700521">path</span><span class="op" id="6700525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6700528">if</span>&nbsp;<span class="ident" id="6700531">err</span>&nbsp;<span class="op" id="6700535">!=</span>&nbsp;<span class="ident" id="6700538">nil</span>&nbsp;<span class="op" id="6700542">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700546">t</span><span class="op" id="6700547">.</span><span class="ident" id="6700548">Fatalf</span><span class="op" id="6700554">(</span><span class="string" id="6700555">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="6700590">,</span>&nbsp;<span class="ident" id="6700592">path</span><span class="op" id="6700596">,</span>&nbsp;<span class="ident" id="6700598">size</span><span class="op" id="6700602">,</span>&nbsp;<span class="ident" id="6700604">err</span><span class="op" id="6700607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6700613">if</span>&nbsp;<span class="ident" id="6700616">dir</span><span class="op" id="6700619">.</span><span class="ident" id="6700620">Size</span><span class="op" id="6700624">(</span><span class="op" id="6700625">)</span>&nbsp;<span class="op" id="6700627">!=</span>&nbsp;<span class="ident" id="6700630">size</span>&nbsp;<span class="op" id="6700635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700639">t</span><span class="op" id="6700640">.</span><span class="ident" id="6700641">Errorf</span><span class="op" id="6700647">(</span><span class="string" id="6700648">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6700674">,</span>&nbsp;<span class="ident" id="6700676">path</span><span class="op" id="6700680">,</span>&nbsp;<span class="ident" id="6700682">dir</span><span class="op" id="6700685">.</span><span class="ident" id="6700686">Size</span><span class="op" id="6700690">(</span><span class="op" id="6700691">)</span><span class="op" id="6700692">,</span>&nbsp;<span class="ident" id="6700694">size</span><span class="op" id="6700698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700701">}</span><br>
<span class="lineno">20</span><span class="op" id="6700703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6700706">func</span>&nbsp;<span class="ident" id="6700711">TestReadFile</span><span class="op" id="6700723">(</span><span class="ident" id="6700724">t</span>&nbsp;<span class="op" id="6700726">*</span><span class="ident" id="6700727">testing</span><span class="op" id="6700734">.</span><span class="ident" id="6700735">T</span><span class="op" id="6700736">)</span>&nbsp;<span class="op" id="6700738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700741">filename</span>&nbsp;<span class="op" id="6700750">:=</span>&nbsp;<span class="string" id="6700753">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700772">contents</span><span class="op" id="6700780">,</span>&nbsp;<span class="ident" id="6700782">err</span>&nbsp;<span class="op" id="6700786">:=</span>&nbsp;<span class="ident" id="6700789">ReadFile</span><span class="op" id="6700797">(</span><span class="ident" id="6700798">filename</span><span class="op" id="6700806">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6700809">if</span>&nbsp;<span class="ident" id="6700812">err</span>&nbsp;<span class="op" id="6700816">==</span>&nbsp;<span class="ident" id="6700819">nil</span>&nbsp;<span class="op" id="6700823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700827">t</span><span class="op" id="6700828">.</span><span class="ident" id="6700829">Fatalf</span><span class="op" id="6700835">(</span><span class="string" id="6700836">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="6700877">,</span>&nbsp;<span class="ident" id="6700879">filename</span><span class="op" id="6700887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700894">filename</span>&nbsp;<span class="op" id="6700903">=</span>&nbsp;<span class="string" id="6700905">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700923">contents</span><span class="op" id="6700931">,</span>&nbsp;<span class="ident" id="6700933">err</span>&nbsp;<span class="op" id="6700937">=</span>&nbsp;<span class="ident" id="6700939">ReadFile</span><span class="op" id="6700947">(</span><span class="ident" id="6700948">filename</span><span class="op" id="6700956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6700959">if</span>&nbsp;<span class="ident" id="6700962">err</span>&nbsp;<span class="op" id="6700966">!=</span>&nbsp;<span class="ident" id="6700969">nil</span>&nbsp;<span class="op" id="6700973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700977">t</span><span class="op" id="6700978">.</span><span class="ident" id="6700979">Fatalf</span><span class="op" id="6700985">(</span><span class="string" id="6700986">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6701003">,</span>&nbsp;<span class="ident" id="6701005">filename</span><span class="op" id="6701013">,</span>&nbsp;<span class="ident" id="6701015">err</span><span class="op" id="6701018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701025">checkSize</span><span class="op" id="6701034">(</span><span class="ident" id="6701035">t</span><span class="op" id="6701036">,</span>&nbsp;<span class="ident" id="6701038">filename</span><span class="op" id="6701046">,</span>&nbsp;<span class="ident" id="6701048">int64</span><span class="op" id="6701053">(</span><span class="builtinfunc" id="6701054">len</span><span class="op" id="6701057">(</span><span class="ident" id="6701058">contents</span><span class="op" id="6701066">)</span><span class="op" id="6701067">)</span><span class="op" id="6701068">)</span><br>
<span class="lineno"></span><span class="op" id="6701070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6701073">func</span>&nbsp;<span class="ident" id="6701078">TestWriteFile</span><span class="op" id="6701091">(</span><span class="ident" id="6701092">t</span>&nbsp;<span class="op" id="6701094">*</span><span class="ident" id="6701095">testing</span><span class="op" id="6701102">.</span><span class="ident" id="6701103">T</span><span class="op" id="6701104">)</span>&nbsp;<span class="op" id="6701106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701109">f</span><span class="op" id="6701110">,</span>&nbsp;<span class="ident" id="6701112">err</span>&nbsp;<span class="op" id="6701116">:=</span>&nbsp;<span class="ident" id="6701119">TempFile</span><span class="op" id="6701127">(</span><span class="string" id="6701128">&#34;&#34;</span><span class="op" id="6701130">,</span>&nbsp;<span class="string" id="6701132">&#34;ioutil-test&#34;</span><span class="op" id="6701145">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701148">if</span>&nbsp;<span class="ident" id="6701151">err</span>&nbsp;<span class="op" id="6701155">!=</span>&nbsp;<span class="ident" id="6701158">nil</span>&nbsp;<span class="op" id="6701162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701166">t</span><span class="op" id="6701167">.</span><span class="ident" id="6701168">Fatal</span><span class="op" id="6701173">(</span><span class="ident" id="6701174">err</span><span class="op" id="6701177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701183">filename</span>&nbsp;<span class="op" id="6701192">:=</span>&nbsp;<span class="ident" id="6701195">f</span><span class="op" id="6701196">.</span><span class="ident" id="6701197">Name</span><span class="op" id="6701201">(</span><span class="op" id="6701202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701205">data</span>&nbsp;<span class="op" id="6701210">:=</span>&nbsp;<span class="string" id="6701213">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="6701283">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6701287">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="6701360">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6701364">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701438">if</span>&nbsp;<span class="ident" id="6701441">err</span>&nbsp;<span class="op" id="6701445">:=</span>&nbsp;<span class="ident" id="6701448">WriteFile</span><span class="op" id="6701457">(</span><span class="ident" id="6701458">filename</span><span class="op" id="6701466">,</span>&nbsp;<span class="op" id="6701468">[</span><span class="op" id="6701469">]</span><span class="builtintype" id="6701470">byte</span><span class="op" id="6701474">(</span><span class="ident" id="6701475">data</span><span class="op" id="6701479">)</span><span class="op" id="6701480">,</span>&nbsp;<span class="num" id="6701482">0644</span><span class="op" id="6701486">)</span><span class="op" id="6701487">;</span>&nbsp;<span class="ident" id="6701489">err</span>&nbsp;<span class="op" id="6701493">!=</span>&nbsp;<span class="ident" id="6701496">nil</span>&nbsp;<span class="op" id="6701500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701504">t</span><span class="op" id="6701505">.</span><span class="ident" id="6701506">Fatalf</span><span class="op" id="6701512">(</span><span class="string" id="6701513">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6701531">,</span>&nbsp;<span class="ident" id="6701533">filename</span><span class="op" id="6701541">,</span>&nbsp;<span class="ident" id="6701543">err</span><span class="op" id="6701546">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701553">contents</span><span class="op" id="6701561">,</span>&nbsp;<span class="ident" id="6701563">err</span>&nbsp;<span class="op" id="6701567">:=</span>&nbsp;<span class="ident" id="6701570">ReadFile</span><span class="op" id="6701578">(</span><span class="ident" id="6701579">filename</span><span class="op" id="6701587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701590">if</span>&nbsp;<span class="ident" id="6701593">err</span>&nbsp;<span class="op" id="6701597">!=</span>&nbsp;<span class="ident" id="6701600">nil</span>&nbsp;<span class="op" id="6701604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701608">t</span><span class="op" id="6701609">.</span><span class="ident" id="6701610">Fatalf</span><span class="op" id="6701616">(</span><span class="string" id="6701617">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6701634">,</span>&nbsp;<span class="ident" id="6701636">filename</span><span class="op" id="6701644">,</span>&nbsp;<span class="ident" id="6701646">err</span><span class="op" id="6701649">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701656">if</span>&nbsp;<span class="builtintype" id="6701659">string</span><span class="op" id="6701665">(</span><span class="ident" id="6701666">contents</span><span class="op" id="6701674">)</span>&nbsp;<span class="op" id="6701676">!=</span>&nbsp;<span class="ident" id="6701679">data</span>&nbsp;<span class="op" id="6701684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701688">t</span><span class="op" id="6701689">.</span><span class="ident" id="6701690">Fatalf</span><span class="op" id="6701696">(</span><span class="string" id="6701697">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="6701727">,</span>&nbsp;<span class="builtintype" id="6701729">string</span><span class="op" id="6701735">(</span><span class="ident" id="6701736">contents</span><span class="op" id="6701744">)</span><span class="op" id="6701745">,</span>&nbsp;<span class="ident" id="6701747">data</span><span class="op" id="6701751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701754">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6701758">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701770">f</span><span class="op" id="6701771">.</span><span class="ident" id="6701772">Close</span><span class="op" id="6701777">(</span><span class="op" id="6701778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701781">os</span><span class="op" id="6701783">.</span><span class="ident" id="6701784">Remove</span><span class="op" id="6701790">(</span><span class="ident" id="6701791">filename</span><span class="op" id="6701799">)</span>&nbsp;<span class="comment" id="6701801">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="6701817">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6701820">func</span>&nbsp;<span class="ident" id="6701825">TestReadDir</span><span class="op" id="6701836">(</span><span class="ident" id="6701837">t</span>&nbsp;<span class="op" id="6701839">*</span><span class="ident" id="6701840">testing</span><span class="op" id="6701847">.</span><span class="ident" id="6701848">T</span><span class="op" id="6701849">)</span>&nbsp;<span class="op" id="6701851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701854">dirname</span>&nbsp;<span class="op" id="6701862">:=</span>&nbsp;<span class="string" id="6701865">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701884">_</span><span class="op" id="6701885">,</span>&nbsp;<span class="ident" id="6701887">err</span>&nbsp;<span class="op" id="6701891">:=</span>&nbsp;<span class="ident" id="6701894">ReadDir</span><span class="op" id="6701901">(</span><span class="ident" id="6701902">dirname</span><span class="op" id="6701909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701912">if</span>&nbsp;<span class="ident" id="6701915">err</span>&nbsp;<span class="op" id="6701919">==</span>&nbsp;<span class="ident" id="6701922">nil</span>&nbsp;<span class="op" id="6701926">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701930">t</span><span class="op" id="6701931">.</span><span class="ident" id="6701932">Fatalf</span><span class="op" id="6701938">(</span><span class="string" id="6701939">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="6701979">,</span>&nbsp;<span class="ident" id="6701981">dirname</span><span class="op" id="6701988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701995">dirname</span>&nbsp;<span class="op" id="6702003">=</span>&nbsp;<span class="string" id="6702005">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702011">list</span><span class="op" id="6702015">,</span>&nbsp;<span class="ident" id="6702017">err</span>&nbsp;<span class="op" id="6702021">:=</span>&nbsp;<span class="ident" id="6702024">ReadDir</span><span class="op" id="6702031">(</span><span class="ident" id="6702032">dirname</span><span class="op" id="6702039">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702042">if</span>&nbsp;<span class="ident" id="6702045">err</span>&nbsp;<span class="op" id="6702049">!=</span>&nbsp;<span class="ident" id="6702052">nil</span>&nbsp;<span class="op" id="6702056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702060">t</span><span class="op" id="6702061">.</span><span class="ident" id="6702062">Fatalf</span><span class="op" id="6702068">(</span><span class="string" id="6702069">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6702085">,</span>&nbsp;<span class="ident" id="6702087">dirname</span><span class="op" id="6702094">,</span>&nbsp;<span class="ident" id="6702096">err</span><span class="op" id="6702099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702106">foundFile</span>&nbsp;<span class="op" id="6702116">:=</span>&nbsp;<span class="builtintype" id="6702119">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702126">foundSubDir</span>&nbsp;<span class="op" id="6702138">:=</span>&nbsp;<span class="builtintype" id="6702141">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702148">for</span>&nbsp;<span class="ident" id="6702152">_</span><span class="op" id="6702153">,</span>&nbsp;<span class="ident" id="6702155">dir</span>&nbsp;<span class="op" id="6702159">:=</span>&nbsp;<span class="keyword" id="6702162">range</span>&nbsp;<span class="ident" id="6702168">list</span>&nbsp;<span class="op" id="6702173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702177">switch</span>&nbsp;<span class="op" id="6702184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702188">case</span>&nbsp;<span class="op" id="6702193">!</span><span class="ident" id="6702194">dir</span><span class="op" id="6702197">.</span><span class="ident" id="6702198">IsDir</span><span class="op" id="6702203">(</span><span class="op" id="6702204">)</span>&nbsp;<span class="op" id="6702206">&amp;&amp;</span>&nbsp;<span class="ident" id="6702209">dir</span><span class="op" id="6702212">.</span><span class="ident" id="6702213">Name</span><span class="op" id="6702217">(</span><span class="op" id="6702218">)</span>&nbsp;<span class="op" id="6702220">==</span>&nbsp;<span class="string" id="6702223">&#34;io_test.go&#34;</span><span class="op" id="6702235">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702240">foundFile</span>&nbsp;<span class="op" id="6702250">=</span>&nbsp;<span class="builtintype" id="6702252">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702259">case</span>&nbsp;<span class="ident" id="6702264">dir</span><span class="op" id="6702267">.</span><span class="ident" id="6702268">IsDir</span><span class="op" id="6702273">(</span><span class="op" id="6702274">)</span>&nbsp;<span class="op" id="6702276">&amp;&amp;</span>&nbsp;<span class="ident" id="6702279">dir</span><span class="op" id="6702282">.</span><span class="ident" id="6702283">Name</span><span class="op" id="6702287">(</span><span class="op" id="6702288">)</span>&nbsp;<span class="op" id="6702290">==</span>&nbsp;<span class="string" id="6702293">&#34;ioutil&#34;</span><span class="op" id="6702301">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702306">foundSubDir</span>&nbsp;<span class="op" id="6702318">=</span>&nbsp;<span class="builtintype" id="6702320">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702333">if</span>&nbsp;<span class="op" id="6702336">!</span><span class="ident" id="6702337">foundFile</span>&nbsp;<span class="op" id="6702347">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702351">t</span><span class="op" id="6702352">.</span><span class="ident" id="6702353">Fatalf</span><span class="op" id="6702359">(</span><span class="string" id="6702360">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="6702399">,</span>&nbsp;<span class="ident" id="6702401">dirname</span><span class="op" id="6702408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702414">if</span>&nbsp;<span class="op" id="6702417">!</span><span class="ident" id="6702418">foundSubDir</span>&nbsp;<span class="op" id="6702430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702434">t</span><span class="op" id="6702435">.</span><span class="ident" id="6702436">Fatalf</span><span class="op" id="6702442">(</span><span class="string" id="6702443">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="6702483">,</span>&nbsp;<span class="ident" id="6702485">dirname</span><span class="op" id="6702492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702495">}</span><br>
<span class="lineno">95</span><span class="op" id="6702497">}</span>
</div>
</body>
</html>
