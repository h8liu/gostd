<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6889904">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6889960">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6890014">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6890065">package</span>&nbsp;<span class="ident" id="6890073">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6890082">//&nbsp;MakeRO&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;v&nbsp;with&nbsp;the&nbsp;read-only&nbsp;flag&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="6890141">func</span>&nbsp;<span class="ident" id="6890146">MakeRO</span><span class="op" id="6890152">(</span><span class="ident" id="6890153">v</span>&nbsp;<span class="ident" id="6890155">Value</span><span class="op" id="6890160">)</span>&nbsp;<span class="ident" id="6890162">Value</span>&nbsp;<span class="op" id="6890168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6890171">v</span><span class="op" id="6890172">.</span><span class="ident" id="6890173">flag</span>&nbsp;<span class="op" id="6890178">|=</span>&nbsp;<span class="ident" id="6890181">flagRO</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6890189">return</span>&nbsp;<span class="ident" id="6890196">v</span><br>
<span class="lineno"></span><span class="op" id="6890198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6890201">//&nbsp;IsRO&nbsp;reports&nbsp;whether&nbsp;v&#39;s&nbsp;read-only&nbsp;flag&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="6890252">func</span>&nbsp;<span class="ident" id="6890257">IsRO</span><span class="op" id="6890261">(</span><span class="ident" id="6890262">v</span>&nbsp;<span class="ident" id="6890264">Value</span><span class="op" id="6890269">)</span>&nbsp;<span class="builtintype" id="6890271">bool</span>&nbsp;<span class="op" id="6890276">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6890279">return</span>&nbsp;<span class="ident" id="6890286">v</span><span class="op" id="6890287">.</span><span class="ident" id="6890288">flag</span><span class="op" id="6890292">&amp;</span><span class="ident" id="6890293">flagRO</span>&nbsp;<span class="op" id="6890300">!=</span>&nbsp;<span class="num" id="6890303">0</span><br>
<span class="lineno"></span><span class="op" id="6890305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6890308">var</span>&nbsp;<span class="ident" id="6890312">ArrayOf</span>&nbsp;<span class="op" id="6890320">=</span>&nbsp;<span class="ident" id="6890322">arrayOf</span><br>
<span class="lineno"></span><span class="keyword" id="6890330">var</span>&nbsp;<span class="ident" id="6890334">CallGC</span>&nbsp;<span class="op" id="6890341">=</span>&nbsp;<span class="op" id="6890343">&amp;</span><span class="ident" id="6890344">callGC</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6890352">const</span>&nbsp;<span class="ident" id="6890358">PtrSize</span>&nbsp;<span class="op" id="6890366">=</span>&nbsp;<span class="ident" id="6890368">ptrSize</span><br>
<span class="lineno"></span><span class="keyword" id="6890376">const</span>&nbsp;<span class="ident" id="6890382">BitsPointer</span>&nbsp;<span class="op" id="6890394">=</span>&nbsp;<span class="ident" id="6890396">bitsPointer</span><br>
<span class="lineno"></span><span class="keyword" id="6890408">const</span>&nbsp;<span class="ident" id="6890414">BitsScalar</span>&nbsp;<span class="op" id="6890425">=</span>&nbsp;<span class="ident" id="6890427">bitsScalar</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6890439">func</span>&nbsp;<span class="ident" id="6890444">FuncLayout</span><span class="op" id="6890454">(</span><span class="ident" id="6890455">t</span>&nbsp;<span class="ident" id="6890457">Type</span><span class="op" id="6890461">,</span>&nbsp;<span class="ident" id="6890463">rcvr</span>&nbsp;<span class="ident" id="6890468">Type</span><span class="op" id="6890472">)</span>&nbsp;<span class="op" id="6890474">(</span><span class="ident" id="6890475">frametype</span>&nbsp;<span class="ident" id="6890485">Type</span><span class="op" id="6890489">,</span>&nbsp;<span class="ident" id="6890491">argSize</span><span class="op" id="6890498">,</span>&nbsp;<span class="ident" id="6890500">retOffset</span>&nbsp;<span class="builtintype" id="6890510">uintptr</span><span class="op" id="6890517">,</span>&nbsp;<span class="ident" id="6890519">stack</span>&nbsp;<span class="op" id="6890525">[</span><span class="op" id="6890526">]</span><span class="builtintype" id="6890527">byte</span><span class="op" id="6890531">)</span>&nbsp;<span class="op" id="6890533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6890536">var</span>&nbsp;<span class="ident" id="6890540">ft</span>&nbsp;<span class="op" id="6890543">*</span><span class="ident" id="6890544">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6890551">var</span>&nbsp;<span class="ident" id="6890555">s</span>&nbsp;<span class="op" id="6890557">*</span><span class="ident" id="6890558">bitVector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6890569">if</span>&nbsp;<span class="ident" id="6890572">rcvr</span>&nbsp;<span class="op" id="6890577">!=</span>&nbsp;<span class="ident" id="6890580">nil</span>&nbsp;<span class="op" id="6890584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6890588">ft</span><span class="op" id="6890590">,</span>&nbsp;<span class="ident" id="6890592">argSize</span><span class="op" id="6890599">,</span>&nbsp;<span class="ident" id="6890601">retOffset</span><span class="op" id="6890610">,</span>&nbsp;<span class="ident" id="6890612">s</span>&nbsp;<span class="op" id="6890614">=</span>&nbsp;<span class="ident" id="6890616">funcLayout</span><span class="op" id="6890626">(</span><span class="ident" id="6890627">t</span><span class="op" id="6890628">.</span><span class="op" id="6890629">(</span><span class="op" id="6890630">*</span><span class="ident" id="6890631">rtype</span><span class="op" id="6890636">)</span><span class="op" id="6890637">,</span>&nbsp;<span class="ident" id="6890639">rcvr</span><span class="op" id="6890643">.</span><span class="op" id="6890644">(</span><span class="op" id="6890645">*</span><span class="ident" id="6890646">rtype</span><span class="op" id="6890651">)</span><span class="op" id="6890652">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6890655">}</span>&nbsp;<span class="keyword" id="6890657">else</span>&nbsp;<span class="op" id="6890662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6890666">ft</span><span class="op" id="6890668">,</span>&nbsp;<span class="ident" id="6890670">argSize</span><span class="op" id="6890677">,</span>&nbsp;<span class="ident" id="6890679">retOffset</span><span class="op" id="6890688">,</span>&nbsp;<span class="ident" id="6890690">s</span>&nbsp;<span class="op" id="6890692">=</span>&nbsp;<span class="ident" id="6890694">funcLayout</span><span class="op" id="6890704">(</span><span class="ident" id="6890705">t</span><span class="op" id="6890706">.</span><span class="op" id="6890707">(</span><span class="op" id="6890708">*</span><span class="ident" id="6890709">rtype</span><span class="op" id="6890714">)</span><span class="op" id="6890715">,</span>&nbsp;<span class="ident" id="6890717">nil</span><span class="op" id="6890720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6890723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6890726">frametype</span>&nbsp;<span class="op" id="6890736">=</span>&nbsp;<span class="ident" id="6890738">ft</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6890742">for</span>&nbsp;<span class="ident" id="6890746">i</span>&nbsp;<span class="op" id="6890748">:=</span>&nbsp;<span class="builtintype" id="6890751">uint32</span><span class="op" id="6890757">(</span><span class="num" id="6890758">0</span><span class="op" id="6890759">)</span><span class="op" id="6890760">;</span>&nbsp;<span class="ident" id="6890762">i</span>&nbsp;<span class="op" id="6890764">&lt;</span>&nbsp;<span class="ident" id="6890766">s</span><span class="op" id="6890767">.</span><span class="ident" id="6890768">n</span><span class="op" id="6890769">;</span>&nbsp;<span class="ident" id="6890771">i</span>&nbsp;<span class="op" id="6890773">+=</span>&nbsp;<span class="num" id="6890776">2</span>&nbsp;<span class="op" id="6890778">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6890782">stack</span>&nbsp;<span class="op" id="6890788">=</span>&nbsp;<span class="builtinfunc" id="6890790">append</span><span class="op" id="6890796">(</span><span class="ident" id="6890797">stack</span><span class="op" id="6890802">,</span>&nbsp;<span class="ident" id="6890804">s</span><span class="op" id="6890805">.</span><span class="ident" id="6890806">data</span><span class="op" id="6890810">[</span><span class="ident" id="6890811">i</span><span class="op" id="6890812">/</span><span class="num" id="6890813">8</span><span class="op" id="6890814">]</span><span class="op" id="6890815">&gt;&gt;</span><span class="op" id="6890817">(</span><span class="ident" id="6890818">i</span><span class="op" id="6890819">%</span><span class="num" id="6890820">8</span><span class="op" id="6890821">)</span><span class="op" id="6890822">&amp;</span><span class="num" id="6890823">3</span><span class="op" id="6890824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6890827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6890830">return</span><br>
<span class="lineno"></span><span class="op" id="6890837">}</span>
</div>
</body>
</html>
