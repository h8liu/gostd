<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6065099">package</span>&nbsp;<span class="ident" id="6065107">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6065113">//&nbsp;SymTable&nbsp;save&nbsp;the&nbsp;symbol</span><br>
<span class="lineno"></span><span class="keyword" id="6065141">type</span>&nbsp;<span class="ident" id="6065146">symTabel</span>&nbsp;<span class="keyword" id="6065155">struct</span>&nbsp;<span class="op" id="6065162">{</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065165">m</span>&nbsp;<span class="keyword" id="6065167">map</span><span class="op" id="6065170">[</span><span class="builtintype" id="6065171">string</span><span class="op" id="6065177">]</span><span class="op" id="6065178">*</span><span class="ident" id="6065179"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span><br>
<span class="lineno"></span><span class="op" id="6065186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6065189">//&nbsp;NewSymTable&nbsp;creates&nbsp;an&nbsp;empty&nbsp;symbol&nbsp;table</span><br>
<span class="lineno"></span><span class="keyword" id="6065234">func</span>&nbsp;<span class="ident" id="6065239">newSymTable</span><span class="op" id="6065250">(</span><span class="op" id="6065251">)</span>&nbsp;<span class="op" id="6065253">*</span><span class="ident" id="6065254"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065146">symTabel</a></span>&nbsp;<span class="op" id="6065263">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065266">ret</span>&nbsp;<span class="op" id="6065270">:=</span>&nbsp;<span class="builtinfunc" id="6065273">new</span><span class="op" id="6065276">(</span><span class="ident" id="6065277"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065146">symTabel</a></span><span class="op" id="6065285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065288"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065266">ret</a></span><span class="op" id="6065291">.</span><span class="ident" id="6065292">m</span>&nbsp;<span class="op" id="6065294">=</span>&nbsp;<span class="builtinfunc" id="6065296">make</span><span class="op" id="6065300">(</span><span class="keyword" id="6065301">map</span><span class="op" id="6065304">[</span><span class="builtintype" id="6065305">string</span><span class="op" id="6065311">]</span><span class="op" id="6065312">*</span><span class="ident" id="6065313"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span><span class="op" id="6065319">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6065323">return</span>&nbsp;<span class="ident" id="6065330"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065266">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6065334">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="6065337">//&nbsp;Query&nbsp;searches&nbsp;for&nbsp;a&nbsp;symbol&nbsp;with&nbsp;a&nbsp;particular&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="6065392">func</span>&nbsp;<span class="op" id="6065397">(</span><span class="ident" id="6065398">tab</span>&nbsp;<span class="op" id="6065402">*</span><span class="ident" id="6065403"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065146">symTabel</a></span><span class="op" id="6065411">)</span>&nbsp;<span class="ident" id="6065413">Query</span><span class="op" id="6065418">(</span><span class="ident" id="6065419">n</span>&nbsp;<span class="builtintype" id="6065421">string</span><span class="op" id="6065427">)</span>&nbsp;<span class="op" id="6065429">*</span><span class="ident" id="6065430"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span>&nbsp;<span class="op" id="6065437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065440">s</span>&nbsp;<span class="op" id="6065442">:=</span>&nbsp;<span class="ident" id="6065445"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065398">tab</a></span><span class="op" id="6065448">.</span><span class="ident" id="6065449">m</span><span class="op" id="6065450">[</span><span class="ident" id="6065451"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065419">n</a></span><span class="op" id="6065452">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6065455">if</span>&nbsp;<span class="ident" id="6065458"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065440">s</a></span>&nbsp;<span class="op" id="6065460">==</span>&nbsp;<span class="ident" id="6065463">nil</span>&nbsp;<span class="op" id="6065467">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6065471">return</span>&nbsp;<span class="ident" id="6065478">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6065483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6065487">return</span>&nbsp;<span class="ident" id="6065494"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065440">s</a></span><span class="op" id="6065495">.</span><span class="ident" id="6065496">clone</span><span class="op" id="6065501">(</span><span class="op" id="6065502">)</span><br>
<span class="lineno"></span><span class="op" id="6065504">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="6065507">//&nbsp;Declare&nbsp;adds&nbsp;a&nbsp;symbol&nbsp;into&nbsp;the&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="6065548">//&nbsp;It&nbsp;returns&nbsp;nil&nbsp;on&nbsp;successful,&nbsp;and&nbsp;returns&nbsp;the&nbsp;conflict&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="6065613">//&nbsp;when&nbsp;it&nbsp;is&nbsp;already&nbsp;declared.</span><br>
<span class="lineno"></span><span class="keyword" id="6065645">func</span>&nbsp;<span class="op" id="6065650">(</span><span class="ident" id="6065651">tab</span>&nbsp;<span class="op" id="6065655">*</span><span class="ident" id="6065656"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065146">symTabel</a></span><span class="op" id="6065664">)</span>&nbsp;<span class="ident" id="6065666">Declare</span><span class="op" id="6065673">(</span><span class="ident" id="6065674">s</span>&nbsp;<span class="op" id="6065676">*</span><span class="ident" id="6065677"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span><span class="op" id="6065683">)</span>&nbsp;<span class="op" id="6065685">*</span><span class="ident" id="6065686"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span>&nbsp;<span class="op" id="6065693">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065696">n</span>&nbsp;<span class="op" id="6065698">:=</span>&nbsp;<span class="ident" id="6065701"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065674">s</a></span><span class="op" id="6065702">.</span><span class="ident" id="6065703">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065709">p</span>&nbsp;<span class="op" id="6065711">:=</span>&nbsp;<span class="ident" id="6065714"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065651">tab</a></span><span class="op" id="6065717">.</span><span class="ident" id="6065718">m</span><span class="op" id="6065719">[</span><span class="ident" id="6065720"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065696">n</a></span><span class="op" id="6065721">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6065724">if</span>&nbsp;<span class="ident" id="6065727"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065709">p</a></span>&nbsp;<span class="op" id="6065729">!=</span>&nbsp;<span class="ident" id="6065732">nil</span>&nbsp;<span class="op" id="6065736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6065740">return</span>&nbsp;<span class="ident" id="6065747"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065709">p</a></span><span class="op" id="6065748">.</span><span class="ident" id="6065749">clone</span><span class="op" id="6065754">(</span><span class="op" id="6065755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6065758">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065762"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065651">tab</a></span><span class="op" id="6065765">.</span><span class="ident" id="6065766">m</span><span class="op" id="6065767">[</span><span class="ident" id="6065768"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065696">n</a></span><span class="op" id="6065769">]</span>&nbsp;<span class="op" id="6065771">=</span>&nbsp;<span class="ident" id="6065773"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#6065674">s</a></span><span class="op" id="6065774">.</span><span class="ident" id="6065775">clone</span><span class="op" id="6065780">(</span><span class="op" id="6065781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6065784">return</span>&nbsp;<span class="ident" id="6065791">nil</span><br>
<span class="lineno"></span><span class="op" id="6065795">}</span>
</div>
</body>
</html>
