<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3990799">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3990854">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3990908">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3990959">package</span>&nbsp;<span class="ident" id="3990967">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3990973">import</span>&nbsp;<span class="op" id="3990980">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3990983">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3990992">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3991007">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3991010">const</span>&nbsp;<span class="op" id="3991016">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3991019">caseMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3991032">=</span>&nbsp;<span class="op" id="3991034">^</span><span class="builtintype" id="3991035">byte</span><span class="op" id="3991039">(</span><span class="num" id="3991040">0x20</span><span class="op" id="3991044">)</span>&nbsp;<span class="comment" id="3991046">//&nbsp;Mask&nbsp;to&nbsp;ignore&nbsp;case&nbsp;in&nbsp;ASCII.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3991080">kelvin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3991093">=</span>&nbsp;<span class="string" id="3991095">&#39;\u212a&#39;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3991105">smallLongEss</span>&nbsp;<span class="op" id="3991118">=</span>&nbsp;<span class="string" id="3991120">&#39;\u017f&#39;</span><br>
<span class="lineno"></span><span class="op" id="3991129">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3991132">//&nbsp;foldFunc&nbsp;returns&nbsp;one&nbsp;of&nbsp;four&nbsp;different&nbsp;case&nbsp;folding&nbsp;equivalence</span><br>
<span class="lineno"></span><span class="comment" id="3991199">//&nbsp;functions,&nbsp;from&nbsp;most&nbsp;general&nbsp;(and&nbsp;slow)&nbsp;to&nbsp;fastest:</span><br>
<span class="lineno">20</span><span class="comment" id="3991254">//</span><br>
<span class="lineno"></span><span class="comment" id="3991257">//&nbsp;1)&nbsp;bytes.EqualFold,&nbsp;if&nbsp;the&nbsp;key&nbsp;s&nbsp;contains&nbsp;any&nbsp;non-ASCII&nbsp;UTF-8</span><br>
<span class="lineno"></span><span class="comment" id="3991322">//&nbsp;2)&nbsp;equalFoldRight,&nbsp;if&nbsp;s&nbsp;contains&nbsp;special&nbsp;folding&nbsp;ASCII&nbsp;(&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;&#39;S&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="3991401">//&nbsp;3)&nbsp;asciiEqualFold,&nbsp;no&nbsp;special,&nbsp;but&nbsp;includes&nbsp;non-letters&nbsp;(including&nbsp;_)</span><br>
<span class="lineno"></span><span class="comment" id="3991474">//&nbsp;4)&nbsp;simpleLetterEqualFold,&nbsp;no&nbsp;specials,&nbsp;no&nbsp;non-letters.</span><br>
<span class="lineno">25</span><span class="comment" id="3991532">//</span><br>
<span class="lineno"></span><span class="comment" id="3991535">//&nbsp;The&nbsp;letters&nbsp;S&nbsp;and&nbsp;K&nbsp;are&nbsp;special&nbsp;because&nbsp;they&nbsp;map&nbsp;to&nbsp;3&nbsp;runes,&nbsp;not&nbsp;just&nbsp;2:</span><br>
<span class="lineno"></span><span class="comment" id="3991611">//&nbsp;&nbsp;*&nbsp;S&nbsp;maps&nbsp;to&nbsp;s&nbsp;and&nbsp;to&nbsp;U+017F&nbsp;&#39;ſ&#39;&nbsp;Latin&nbsp;small&nbsp;letter&nbsp;long&nbsp;s</span><br>
<span class="lineno"></span><span class="comment" id="3991674">//&nbsp;&nbsp;*&nbsp;k&nbsp;maps&nbsp;to&nbsp;K&nbsp;and&nbsp;to&nbsp;U+212A&nbsp;&#39;K&#39;&nbsp;Kelvin&nbsp;sign</span><br>
<span class="lineno"></span><span class="comment" id="3991724">//&nbsp;See&nbsp;http://play.golang.org/p/tTxjOc0OGo</span><br>
<span class="lineno">30</span><span class="comment" id="3991767">//</span><br>
<span class="lineno"></span><span class="comment" id="3991770">//&nbsp;The&nbsp;returned&nbsp;function&nbsp;is&nbsp;specialized&nbsp;for&nbsp;matching&nbsp;against&nbsp;s&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3991837">//&nbsp;should&nbsp;only&nbsp;be&nbsp;given&nbsp;s.&nbsp;It&#39;s&nbsp;not&nbsp;curried&nbsp;for&nbsp;performance&nbsp;reasons.</span><br>
<span class="lineno"></span><span class="keyword" id="3991906">func</span>&nbsp;<span class="ident" id="3991911">foldFunc</span><span class="op" id="3991919">(</span><span class="ident" id="3991920">s</span>&nbsp;<span class="op" id="3991922">[</span><span class="op" id="3991923">]</span><span class="builtintype" id="3991924">byte</span><span class="op" id="3991928">)</span>&nbsp;<span class="keyword" id="3991930">func</span><span class="op" id="3991934">(</span><span class="ident" id="3991935">s</span><span class="op" id="3991936">,</span>&nbsp;<span class="ident" id="3991938">t</span>&nbsp;<span class="op" id="3991940">[</span><span class="op" id="3991941">]</span><span class="builtintype" id="3991942">byte</span><span class="op" id="3991946">)</span>&nbsp;<span class="builtintype" id="3991948">bool</span>&nbsp;<span class="op" id="3991953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3991956">nonLetter</span>&nbsp;<span class="op" id="3991966">:=</span>&nbsp;<span class="builtintype" id="3991969">false</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3991976">special</span>&nbsp;<span class="op" id="3991984">:=</span>&nbsp;<span class="builtintype" id="3991987">false</span>&nbsp;<span class="comment" id="3991993">//&nbsp;special&nbsp;letter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992012">for</span>&nbsp;<span class="ident" id="3992016">_</span><span class="op" id="3992017">,</span>&nbsp;<span class="ident" id="3992019">b</span>&nbsp;<span class="op" id="3992021">:=</span>&nbsp;<span class="keyword" id="3992024">range</span>&nbsp;<span class="ident" id="3992030">s</span>&nbsp;<span class="op" id="3992032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992036">if</span>&nbsp;<span class="ident" id="3992039">b</span>&nbsp;<span class="op" id="3992041">&gt;=</span>&nbsp;<span class="ident" id="3992044">utf8</span><span class="op" id="3992048">.</span><span class="ident" id="3992049">RuneSelf</span>&nbsp;<span class="op" id="3992058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992063">return</span>&nbsp;<span class="ident" id="3992070">bytes</span><span class="op" id="3992075">.</span><span class="ident" id="3992076">EqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992088">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3992092">upper</span>&nbsp;<span class="op" id="3992098">:=</span>&nbsp;<span class="ident" id="3992101">b</span>&nbsp;<span class="op" id="3992103">&amp;</span>&nbsp;<span class="ident" id="3992105">caseMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992116">if</span>&nbsp;<span class="ident" id="3992119">upper</span>&nbsp;<span class="op" id="3992125">&lt;</span>&nbsp;<span class="string" id="3992127">&#39;A&#39;</span>&nbsp;<span class="op" id="3992131">||</span>&nbsp;<span class="ident" id="3992134">upper</span>&nbsp;<span class="op" id="3992140">&gt;</span>&nbsp;<span class="string" id="3992142">&#39;Z&#39;</span>&nbsp;<span class="op" id="3992146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3992151">nonLetter</span>&nbsp;<span class="op" id="3992161">=</span>&nbsp;<span class="builtintype" id="3992163">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992170">}</span>&nbsp;<span class="keyword" id="3992172">else</span>&nbsp;<span class="keyword" id="3992177">if</span>&nbsp;<span class="ident" id="3992180">upper</span>&nbsp;<span class="op" id="3992186">==</span>&nbsp;<span class="string" id="3992189">&#39;K&#39;</span>&nbsp;<span class="op" id="3992193">||</span>&nbsp;<span class="ident" id="3992196">upper</span>&nbsp;<span class="op" id="3992202">==</span>&nbsp;<span class="string" id="3992205">&#39;S&#39;</span>&nbsp;<span class="op" id="3992209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3992214">//&nbsp;See&nbsp;above&nbsp;for&nbsp;why&nbsp;these&nbsp;letters&nbsp;are&nbsp;special.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3992265">special</span>&nbsp;<span class="op" id="3992273">=</span>&nbsp;<span class="builtintype" id="3992275">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992288">if</span>&nbsp;<span class="ident" id="3992291">special</span>&nbsp;<span class="op" id="3992299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992303">return</span>&nbsp;<span class="ident" id="3992310">equalFoldRight</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992329">if</span>&nbsp;<span class="ident" id="3992332">nonLetter</span>&nbsp;<span class="op" id="3992342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992346">return</span>&nbsp;<span class="ident" id="3992353">asciiEqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992372">return</span>&nbsp;<span class="ident" id="3992379">simpleLetterEqualFold</span><br>
<span class="lineno">55</span><span class="op" id="3992401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3992404">//&nbsp;equalFoldRight&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;when&nbsp;s&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3992471">//&nbsp;known&nbsp;to&nbsp;be&nbsp;all&nbsp;ASCII&nbsp;(including&nbsp;punctuation),&nbsp;but&nbsp;contains&nbsp;an&nbsp;&#39;s&#39;,</span><br>
<span class="lineno"></span><span class="comment" id="3992542">//&nbsp;&#39;S&#39;,&nbsp;&#39;k&#39;,&nbsp;or&nbsp;&#39;K&#39;,&nbsp;requiring&nbsp;a&nbsp;Unicode&nbsp;fold&nbsp;on&nbsp;the&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno">60</span><span class="comment" id="3992607">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="3992636">func</span>&nbsp;<span class="ident" id="3992641">equalFoldRight</span><span class="op" id="3992655">(</span><span class="ident" id="3992656">s</span><span class="op" id="3992657">,</span>&nbsp;<span class="ident" id="3992659">t</span>&nbsp;<span class="op" id="3992661">[</span><span class="op" id="3992662">]</span><span class="builtintype" id="3992663">byte</span><span class="op" id="3992667">)</span>&nbsp;<span class="builtintype" id="3992669">bool</span>&nbsp;<span class="op" id="3992674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992677">for</span>&nbsp;<span class="ident" id="3992681">_</span><span class="op" id="3992682">,</span>&nbsp;<span class="ident" id="3992684">sb</span>&nbsp;<span class="op" id="3992687">:=</span>&nbsp;<span class="keyword" id="3992690">range</span>&nbsp;<span class="ident" id="3992696">s</span>&nbsp;<span class="op" id="3992698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992702">if</span>&nbsp;<span class="builtinfunc" id="3992705">len</span><span class="op" id="3992708">(</span><span class="ident" id="3992709">t</span><span class="op" id="3992710">)</span>&nbsp;<span class="op" id="3992712">==</span>&nbsp;<span class="num" id="3992715">0</span>&nbsp;<span class="op" id="3992717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992722">return</span>&nbsp;<span class="builtintype" id="3992729">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3992741">tb</span>&nbsp;<span class="op" id="3992744">:=</span>&nbsp;<span class="ident" id="3992747">t</span><span class="op" id="3992748">[</span><span class="num" id="3992749">0</span><span class="op" id="3992750">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992754">if</span>&nbsp;<span class="ident" id="3992757">tb</span>&nbsp;<span class="op" id="3992760">&lt;</span>&nbsp;<span class="ident" id="3992762">utf8</span><span class="op" id="3992766">.</span><span class="ident" id="3992767">RuneSelf</span>&nbsp;<span class="op" id="3992776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992781">if</span>&nbsp;<span class="ident" id="3992784">sb</span>&nbsp;<span class="op" id="3992787">!=</span>&nbsp;<span class="ident" id="3992790">tb</span>&nbsp;<span class="op" id="3992793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3992799">sbUpper</span>&nbsp;<span class="op" id="3992807">:=</span>&nbsp;<span class="ident" id="3992810">sb</span>&nbsp;<span class="op" id="3992813">&amp;</span>&nbsp;<span class="ident" id="3992815">caseMask</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992828">if</span>&nbsp;<span class="string" id="3992831">&#39;A&#39;</span>&nbsp;<span class="op" id="3992835">&lt;=</span>&nbsp;<span class="ident" id="3992838">sbUpper</span>&nbsp;<span class="op" id="3992846">&amp;&amp;</span>&nbsp;<span class="ident" id="3992849">sbUpper</span>&nbsp;<span class="op" id="3992857">&lt;=</span>&nbsp;<span class="string" id="3992860">&#39;Z&#39;</span>&nbsp;<span class="op" id="3992864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992871">if</span>&nbsp;<span class="ident" id="3992874">sbUpper</span>&nbsp;<span class="op" id="3992882">!=</span>&nbsp;<span class="ident" id="3992885">tb</span><span class="op" id="3992887">&amp;</span><span class="ident" id="3992888">caseMask</span>&nbsp;<span class="op" id="3992897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992905">return</span>&nbsp;<span class="builtintype" id="3992912">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992929">}</span>&nbsp;<span class="keyword" id="3992931">else</span>&nbsp;<span class="op" id="3992936">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992943">return</span>&nbsp;<span class="builtintype" id="3992950">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3992970">t</span>&nbsp;<span class="op" id="3992972">=</span>&nbsp;<span class="ident" id="3992974">t</span><span class="op" id="3992975">[</span><span class="num" id="3992976">1</span><span class="op" id="3992977">:</span><span class="op" id="3992978">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3992983">continue</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3992994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3992998">//&nbsp;sb&nbsp;is&nbsp;ASCII&nbsp;and&nbsp;t&nbsp;is&nbsp;not.&nbsp;t&nbsp;must&nbsp;be&nbsp;either&nbsp;kelvin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3993053">//&nbsp;sign&nbsp;or&nbsp;long&nbsp;s;&nbsp;sb&nbsp;must&nbsp;be&nbsp;s,&nbsp;S,&nbsp;k,&nbsp;or&nbsp;K.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3993100">tr</span><span class="op" id="3993102">,</span>&nbsp;<span class="ident" id="3993104">size</span>&nbsp;<span class="op" id="3993109">:=</span>&nbsp;<span class="ident" id="3993112">utf8</span><span class="op" id="3993116">.</span><span class="ident" id="3993117">DecodeRune</span><span class="op" id="3993127">(</span><span class="ident" id="3993128">t</span><span class="op" id="3993129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993133">switch</span>&nbsp;<span class="ident" id="3993140">sb</span>&nbsp;<span class="op" id="3993143">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993147">case</span>&nbsp;<span class="string" id="3993152">&#39;s&#39;</span><span class="op" id="3993155">,</span>&nbsp;<span class="string" id="3993157">&#39;S&#39;</span><span class="op" id="3993160">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993165">if</span>&nbsp;<span class="ident" id="3993168">tr</span>&nbsp;<span class="op" id="3993171">!=</span>&nbsp;<span class="ident" id="3993174">smallLongEss</span>&nbsp;<span class="op" id="3993187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993193">return</span>&nbsp;<span class="builtintype" id="3993200">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993213">case</span>&nbsp;<span class="string" id="3993218">&#39;k&#39;</span><span class="op" id="3993221">,</span>&nbsp;<span class="string" id="3993223">&#39;K&#39;</span><span class="op" id="3993226">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993231">if</span>&nbsp;<span class="ident" id="3993234">tr</span>&nbsp;<span class="op" id="3993237">!=</span>&nbsp;<span class="ident" id="3993240">kelvin</span>&nbsp;<span class="op" id="3993247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993253">return</span>&nbsp;<span class="builtintype" id="3993260">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993273">default</span><span class="op" id="3993280">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993285">return</span>&nbsp;<span class="builtintype" id="3993292">false</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3993304">t</span>&nbsp;<span class="op" id="3993306">=</span>&nbsp;<span class="ident" id="3993308">t</span><span class="op" id="3993309">[</span><span class="ident" id="3993310">size</span><span class="op" id="3993314">:</span><span class="op" id="3993315">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993322">if</span>&nbsp;<span class="builtinfunc" id="3993325">len</span><span class="op" id="3993328">(</span><span class="ident" id="3993329">t</span><span class="op" id="3993330">)</span>&nbsp;<span class="op" id="3993332">&gt;</span>&nbsp;<span class="num" id="3993334">0</span>&nbsp;<span class="op" id="3993336">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993340">return</span>&nbsp;<span class="builtintype" id="3993347">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993357">return</span>&nbsp;<span class="builtintype" id="3993364">true</span><br>
<span class="lineno"></span><span class="op" id="3993369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3993372">//&nbsp;asciiEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for&nbsp;use&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="3993442">//&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;(but&nbsp;may&nbsp;contain&nbsp;non-letters)&nbsp;and&nbsp;contains&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="3993506">//&nbsp;special-folding&nbsp;letters.</span><br>
<span class="lineno"></span><span class="comment" id="3993534">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="3993563">func</span>&nbsp;<span class="ident" id="3993568">asciiEqualFold</span><span class="op" id="3993582">(</span><span class="ident" id="3993583">s</span><span class="op" id="3993584">,</span>&nbsp;<span class="ident" id="3993586">t</span>&nbsp;<span class="op" id="3993588">[</span><span class="op" id="3993589">]</span><span class="builtintype" id="3993590">byte</span><span class="op" id="3993594">)</span>&nbsp;<span class="builtintype" id="3993596">bool</span>&nbsp;<span class="op" id="3993601">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993604">if</span>&nbsp;<span class="builtinfunc" id="3993607">len</span><span class="op" id="3993610">(</span><span class="ident" id="3993611">s</span><span class="op" id="3993612">)</span>&nbsp;<span class="op" id="3993614">!=</span>&nbsp;<span class="builtinfunc" id="3993617">len</span><span class="op" id="3993620">(</span><span class="ident" id="3993621">t</span><span class="op" id="3993622">)</span>&nbsp;<span class="op" id="3993624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993628">return</span>&nbsp;<span class="builtintype" id="3993635">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993645">for</span>&nbsp;<span class="ident" id="3993649">i</span><span class="op" id="3993650">,</span>&nbsp;<span class="ident" id="3993652">sb</span>&nbsp;<span class="op" id="3993655">:=</span>&nbsp;<span class="keyword" id="3993658">range</span>&nbsp;<span class="ident" id="3993664">s</span>&nbsp;<span class="op" id="3993666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3993670">tb</span>&nbsp;<span class="op" id="3993673">:=</span>&nbsp;<span class="ident" id="3993676">t</span><span class="op" id="3993677">[</span><span class="ident" id="3993678">i</span><span class="op" id="3993679">]</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993683">if</span>&nbsp;<span class="ident" id="3993686">sb</span>&nbsp;<span class="op" id="3993689">==</span>&nbsp;<span class="ident" id="3993692">tb</span>&nbsp;<span class="op" id="3993695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993700">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993715">if</span>&nbsp;<span class="op" id="3993718">(</span><span class="string" id="3993719">&#39;a&#39;</span>&nbsp;<span class="op" id="3993723">&lt;=</span>&nbsp;<span class="ident" id="3993726">sb</span>&nbsp;<span class="op" id="3993729">&amp;&amp;</span>&nbsp;<span class="ident" id="3993732">sb</span>&nbsp;<span class="op" id="3993735">&lt;=</span>&nbsp;<span class="string" id="3993738">&#39;z&#39;</span><span class="op" id="3993741">)</span>&nbsp;<span class="op" id="3993743">||</span>&nbsp;<span class="op" id="3993746">(</span><span class="string" id="3993747">&#39;A&#39;</span>&nbsp;<span class="op" id="3993751">&lt;=</span>&nbsp;<span class="ident" id="3993754">sb</span>&nbsp;<span class="op" id="3993757">&amp;&amp;</span>&nbsp;<span class="ident" id="3993760">sb</span>&nbsp;<span class="op" id="3993763">&lt;=</span>&nbsp;<span class="string" id="3993766">&#39;Z&#39;</span><span class="op" id="3993769">)</span>&nbsp;<span class="op" id="3993771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993776">if</span>&nbsp;<span class="ident" id="3993779">sb</span><span class="op" id="3993781">&amp;</span><span class="ident" id="3993782">caseMask</span>&nbsp;<span class="op" id="3993791">!=</span>&nbsp;<span class="ident" id="3993794">tb</span><span class="op" id="3993796">&amp;</span><span class="ident" id="3993797">caseMask</span>&nbsp;<span class="op" id="3993806">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993812">return</span>&nbsp;<span class="builtintype" id="3993819">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993832">}</span>&nbsp;<span class="keyword" id="3993834">else</span>&nbsp;<span class="op" id="3993839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993844">return</span>&nbsp;<span class="builtintype" id="3993851">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993859">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3993862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3993865">return</span>&nbsp;<span class="builtintype" id="3993872">true</span><br>
<span class="lineno"></span><span class="op" id="3993877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3993880">//&nbsp;simpleLetterEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for</span><br>
<span class="lineno">130</span><span class="comment" id="3993948">//&nbsp;use&nbsp;when&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;letters&nbsp;(no&nbsp;underscores,&nbsp;etc)&nbsp;and&nbsp;also</span><br>
<span class="lineno"></span><span class="comment" id="3994014">//&nbsp;doesn&#39;t&nbsp;contain&nbsp;&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;or&nbsp;&#39;S&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="3994056">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="3994085">func</span>&nbsp;<span class="ident" id="3994090">simpleLetterEqualFold</span><span class="op" id="3994111">(</span><span class="ident" id="3994112">s</span><span class="op" id="3994113">,</span>&nbsp;<span class="ident" id="3994115">t</span>&nbsp;<span class="op" id="3994117">[</span><span class="op" id="3994118">]</span><span class="builtintype" id="3994119">byte</span><span class="op" id="3994123">)</span>&nbsp;<span class="builtintype" id="3994125">bool</span>&nbsp;<span class="op" id="3994130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3994133">if</span>&nbsp;<span class="builtinfunc" id="3994136">len</span><span class="op" id="3994139">(</span><span class="ident" id="3994140">s</span><span class="op" id="3994141">)</span>&nbsp;<span class="op" id="3994143">!=</span>&nbsp;<span class="builtinfunc" id="3994146">len</span><span class="op" id="3994149">(</span><span class="ident" id="3994150">t</span><span class="op" id="3994151">)</span>&nbsp;<span class="op" id="3994153">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3994157">return</span>&nbsp;<span class="builtintype" id="3994164">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3994171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3994174">for</span>&nbsp;<span class="ident" id="3994178">i</span><span class="op" id="3994179">,</span>&nbsp;<span class="ident" id="3994181">b</span>&nbsp;<span class="op" id="3994183">:=</span>&nbsp;<span class="keyword" id="3994186">range</span>&nbsp;<span class="ident" id="3994192">s</span>&nbsp;<span class="op" id="3994194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3994198">if</span>&nbsp;<span class="ident" id="3994201">b</span><span class="op" id="3994202">&amp;</span><span class="ident" id="3994203">caseMask</span>&nbsp;<span class="op" id="3994212">!=</span>&nbsp;<span class="ident" id="3994215">t</span><span class="op" id="3994216">[</span><span class="ident" id="3994217">i</span><span class="op" id="3994218">]</span><span class="op" id="3994219">&amp;</span><span class="ident" id="3994220">caseMask</span>&nbsp;<span class="op" id="3994229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3994234">return</span>&nbsp;<span class="builtintype" id="3994241">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3994249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3994252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3994255">return</span>&nbsp;<span class="builtintype" id="3994262">true</span><br>
<span class="lineno"></span><span class="op" id="3994267">}</span>
</div>
</body>
</html>
