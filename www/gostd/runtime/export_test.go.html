<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8554707">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8554763">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8554817">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8554868">//&nbsp;Export&nbsp;guts&nbsp;for&nbsp;testing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8554897">package</span>&nbsp;<span class="ident" id="8554905">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8554914">import</span>&nbsp;<span class="string" id="8554921">&#34;unsafe&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8554931">var</span>&nbsp;<span class="ident" id="8554935">Fadd64</span>&nbsp;<span class="op" id="8554942">=</span>&nbsp;<span class="ident" id="8554944">fadd64</span><br>
<span class="lineno"></span><span class="keyword" id="8554951">var</span>&nbsp;<span class="ident" id="8554955">Fsub64</span>&nbsp;<span class="op" id="8554962">=</span>&nbsp;<span class="ident" id="8554964">fsub64</span><br>
<span class="lineno"></span><span class="keyword" id="8554971">var</span>&nbsp;<span class="ident" id="8554975">Fmul64</span>&nbsp;<span class="op" id="8554982">=</span>&nbsp;<span class="ident" id="8554984">fmul64</span><br>
<span class="lineno"></span><span class="keyword" id="8554991">var</span>&nbsp;<span class="ident" id="8554995">Fdiv64</span>&nbsp;<span class="op" id="8555002">=</span>&nbsp;<span class="ident" id="8555004">fdiv64</span><br>
<span class="lineno">15</span><span class="keyword" id="8555011">var</span>&nbsp;<span class="ident" id="8555015">F64to32</span>&nbsp;<span class="op" id="8555023">=</span>&nbsp;<span class="ident" id="8555025">f64to32</span><br>
<span class="lineno"></span><span class="keyword" id="8555033">var</span>&nbsp;<span class="ident" id="8555037">F32to64</span>&nbsp;<span class="op" id="8555045">=</span>&nbsp;<span class="ident" id="8555047">f32to64</span><br>
<span class="lineno"></span><span class="keyword" id="8555055">var</span>&nbsp;<span class="ident" id="8555059">Fcmp64</span>&nbsp;<span class="op" id="8555066">=</span>&nbsp;<span class="ident" id="8555068">fcmp64</span><br>
<span class="lineno"></span><span class="keyword" id="8555075">var</span>&nbsp;<span class="ident" id="8555079">Fintto64</span>&nbsp;<span class="op" id="8555088">=</span>&nbsp;<span class="ident" id="8555090">fintto64</span><br>
<span class="lineno"></span><span class="keyword" id="8555099">var</span>&nbsp;<span class="ident" id="8555103">F64toint</span>&nbsp;<span class="op" id="8555112">=</span>&nbsp;<span class="ident" id="8555114">f64toint</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8555124">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="8555138">func</span>&nbsp;<span class="ident" id="8555143">stackguard</span><span class="op" id="8555153">(</span><span class="op" id="8555154">)</span>&nbsp;<span class="op" id="8555156">(</span><span class="ident" id="8555157">sp</span><span class="op" id="8555159">,</span>&nbsp;<span class="ident" id="8555161">limit</span>&nbsp;<span class="builtintype" id="8555167">uintptr</span><span class="op" id="8555174">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8555177">var</span>&nbsp;<span class="ident" id="8555181">Entersyscall</span>&nbsp;<span class="op" id="8555194">=</span>&nbsp;<span class="ident" id="8555196">entersyscall</span><br>
<span class="lineno">25</span><span class="keyword" id="8555209">var</span>&nbsp;<span class="ident" id="8555213">Exitsyscall</span>&nbsp;<span class="op" id="8555225">=</span>&nbsp;<span class="ident" id="8555227">exitsyscall</span><br>
<span class="lineno"></span><span class="keyword" id="8555239">var</span>&nbsp;<span class="ident" id="8555243">LockedOSThread</span>&nbsp;<span class="op" id="8555258">=</span>&nbsp;<span class="ident" id="8555260">lockedOSThread</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8555276">type</span>&nbsp;<span class="ident" id="8555281">LFNode</span>&nbsp;<span class="keyword" id="8555288">struct</span>&nbsp;<span class="op" id="8555295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555298">Next</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8555306">*</span><span class="ident" id="8555307">LFNode</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555315">Pushcnt</span>&nbsp;<span class="builtintype" id="8555323">uintptr</span><br>
<span class="lineno"></span><span class="op" id="8555331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8555334">func</span>&nbsp;<span class="ident" id="8555339">lfstackpush_m</span><span class="op" id="8555352">(</span><span class="op" id="8555353">)</span><br>
<span class="lineno"></span><span class="keyword" id="8555355">func</span>&nbsp;<span class="ident" id="8555360">lfstackpop_m</span><span class="op" id="8555372">(</span><span class="op" id="8555373">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="8555376">func</span>&nbsp;<span class="ident" id="8555381">LFStackPush</span><span class="op" id="8555392">(</span><span class="ident" id="8555393">head</span>&nbsp;<span class="op" id="8555398">*</span><span class="ident" id="8555399">uint64</span><span class="op" id="8555405">,</span>&nbsp;<span class="ident" id="8555407">node</span>&nbsp;<span class="op" id="8555412">*</span><span class="ident" id="8555413">LFNode</span><span class="op" id="8555419">)</span>&nbsp;<span class="op" id="8555421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555424">mp</span>&nbsp;<span class="op" id="8555427">:=</span>&nbsp;<span class="ident" id="8555430">acquirem</span><span class="op" id="8555438">(</span><span class="op" id="8555439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555442">mp</span><span class="op" id="8555444">.</span><span class="ident" id="8555445">ptrarg</span><span class="op" id="8555451">[</span><span class="num" id="8555452">0</span><span class="op" id="8555453">]</span>&nbsp;<span class="op" id="8555455">=</span>&nbsp;<span class="ident" id="8555457">unsafe</span><span class="op" id="8555463">.</span><span class="ident" id="8555464">Pointer</span><span class="op" id="8555471">(</span><span class="ident" id="8555472">head</span><span class="op" id="8555476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555479">mp</span><span class="op" id="8555481">.</span><span class="ident" id="8555482">ptrarg</span><span class="op" id="8555488">[</span><span class="num" id="8555489">1</span><span class="op" id="8555490">]</span>&nbsp;<span class="op" id="8555492">=</span>&nbsp;<span class="ident" id="8555494">unsafe</span><span class="op" id="8555500">.</span><span class="ident" id="8555501">Pointer</span><span class="op" id="8555508">(</span><span class="ident" id="8555509">node</span><span class="op" id="8555513">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555516">onM</span><span class="op" id="8555519">(</span><span class="ident" id="8555520">lfstackpush_m</span><span class="op" id="8555533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555536">releasem</span><span class="op" id="8555544">(</span><span class="ident" id="8555545">mp</span><span class="op" id="8555547">)</span><br>
<span class="lineno"></span><span class="op" id="8555549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8555552">func</span>&nbsp;<span class="ident" id="8555557">LFStackPop</span><span class="op" id="8555567">(</span><span class="ident" id="8555568">head</span>&nbsp;<span class="op" id="8555573">*</span><span class="ident" id="8555574">uint64</span><span class="op" id="8555580">)</span>&nbsp;<span class="op" id="8555582">*</span><span class="ident" id="8555583">LFNode</span>&nbsp;<span class="op" id="8555590">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555593">mp</span>&nbsp;<span class="op" id="8555596">:=</span>&nbsp;<span class="ident" id="8555599">acquirem</span><span class="op" id="8555607">(</span><span class="op" id="8555608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555611">mp</span><span class="op" id="8555613">.</span><span class="ident" id="8555614">ptrarg</span><span class="op" id="8555620">[</span><span class="num" id="8555621">0</span><span class="op" id="8555622">]</span>&nbsp;<span class="op" id="8555624">=</span>&nbsp;<span class="ident" id="8555626">unsafe</span><span class="op" id="8555632">.</span><span class="ident" id="8555633">Pointer</span><span class="op" id="8555640">(</span><span class="ident" id="8555641">head</span><span class="op" id="8555645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555648">onM</span><span class="op" id="8555651">(</span><span class="ident" id="8555652">lfstackpop_m</span><span class="op" id="8555664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555667">node</span>&nbsp;<span class="op" id="8555672">:=</span>&nbsp;<span class="op" id="8555675">(</span><span class="op" id="8555676">*</span><span class="ident" id="8555677">LFNode</span><span class="op" id="8555683">)</span><span class="op" id="8555684">(</span><span class="ident" id="8555685">unsafe</span><span class="op" id="8555691">.</span><span class="ident" id="8555692">Pointer</span><span class="op" id="8555699">(</span><span class="ident" id="8555700">mp</span><span class="op" id="8555702">.</span><span class="ident" id="8555703">ptrarg</span><span class="op" id="8555709">[</span><span class="num" id="8555710">0</span><span class="op" id="8555711">]</span><span class="op" id="8555712">)</span><span class="op" id="8555713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555716">mp</span><span class="op" id="8555718">.</span><span class="ident" id="8555719">ptrarg</span><span class="op" id="8555725">[</span><span class="num" id="8555726">0</span><span class="op" id="8555727">]</span>&nbsp;<span class="op" id="8555729">=</span>&nbsp;<span class="ident" id="8555731">nil</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555736">releasem</span><span class="op" id="8555744">(</span><span class="ident" id="8555745">mp</span><span class="op" id="8555747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8555750">return</span>&nbsp;<span class="ident" id="8555757">node</span><br>
<span class="lineno"></span><span class="op" id="8555762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8555765">type</span>&nbsp;<span class="ident" id="8555770">ParFor</span>&nbsp;<span class="keyword" id="8555777">struct</span>&nbsp;<span class="op" id="8555784">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555787">body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8555795">*</span><span class="builtintype" id="8555796">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555802">done</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8555810">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555818">Nthr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8555826">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555834">nthrmax</span>&nbsp;<span class="builtintype" id="8555842">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555850">thrseq</span>&nbsp;&nbsp;<span class="builtintype" id="8555858">uint32</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555866">Cnt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8555874">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555882">Ctx</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8555890">*</span><span class="builtintype" id="8555891">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555897">wait</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8555905">bool</span><br>
<span class="lineno"></span><span class="op" id="8555910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="8555913">func</span>&nbsp;<span class="ident" id="8555918">newparfor_m</span><span class="op" id="8555929">(</span><span class="op" id="8555930">)</span><br>
<span class="lineno"></span><span class="keyword" id="8555932">func</span>&nbsp;<span class="ident" id="8555937">parforsetup_m</span><span class="op" id="8555950">(</span><span class="op" id="8555951">)</span><br>
<span class="lineno"></span><span class="keyword" id="8555953">func</span>&nbsp;<span class="ident" id="8555958">parfordo_m</span><span class="op" id="8555968">(</span><span class="op" id="8555969">)</span><br>
<span class="lineno"></span><span class="keyword" id="8555971">func</span>&nbsp;<span class="ident" id="8555976">parforiters_m</span><span class="op" id="8555989">(</span><span class="op" id="8555990">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="8555993">func</span>&nbsp;<span class="ident" id="8555998">NewParFor</span><span class="op" id="8556007">(</span><span class="ident" id="8556008">nthrmax</span>&nbsp;<span class="builtintype" id="8556016">uint32</span><span class="op" id="8556022">)</span>&nbsp;<span class="op" id="8556024">*</span><span class="ident" id="8556025">ParFor</span>&nbsp;<span class="op" id="8556032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556035">mp</span>&nbsp;<span class="op" id="8556038">:=</span>&nbsp;<span class="ident" id="8556041">acquirem</span><span class="op" id="8556049">(</span><span class="op" id="8556050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556053">mp</span><span class="op" id="8556055">.</span><span class="ident" id="8556056">scalararg</span><span class="op" id="8556065">[</span><span class="num" id="8556066">0</span><span class="op" id="8556067">]</span>&nbsp;<span class="op" id="8556069">=</span>&nbsp;<span class="builtintype" id="8556071">uintptr</span><span class="op" id="8556078">(</span><span class="ident" id="8556079">nthrmax</span><span class="op" id="8556086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556089">onM</span><span class="op" id="8556092">(</span><span class="ident" id="8556093">newparfor_m</span><span class="op" id="8556104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556107">desc</span>&nbsp;<span class="op" id="8556112">:=</span>&nbsp;<span class="op" id="8556115">(</span><span class="op" id="8556116">*</span><span class="ident" id="8556117">ParFor</span><span class="op" id="8556123">)</span><span class="op" id="8556124">(</span><span class="ident" id="8556125">mp</span><span class="op" id="8556127">.</span><span class="ident" id="8556128">ptrarg</span><span class="op" id="8556134">[</span><span class="num" id="8556135">0</span><span class="op" id="8556136">]</span><span class="op" id="8556137">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556140">mp</span><span class="op" id="8556142">.</span><span class="ident" id="8556143">ptrarg</span><span class="op" id="8556149">[</span><span class="num" id="8556150">0</span><span class="op" id="8556151">]</span>&nbsp;<span class="op" id="8556153">=</span>&nbsp;<span class="ident" id="8556155">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556160">releasem</span><span class="op" id="8556168">(</span><span class="ident" id="8556169">mp</span><span class="op" id="8556171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556174">return</span>&nbsp;<span class="ident" id="8556181">desc</span><br>
<span class="lineno"></span><span class="op" id="8556186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="8556189">func</span>&nbsp;<span class="ident" id="8556194">ParForSetup</span><span class="op" id="8556205">(</span><span class="ident" id="8556206">desc</span>&nbsp;<span class="op" id="8556211">*</span><span class="ident" id="8556212">ParFor</span><span class="op" id="8556218">,</span>&nbsp;<span class="ident" id="8556220">nthr</span><span class="op" id="8556224">,</span>&nbsp;<span class="ident" id="8556226">n</span>&nbsp;<span class="builtintype" id="8556228">uint32</span><span class="op" id="8556234">,</span>&nbsp;<span class="ident" id="8556236">ctx</span>&nbsp;<span class="op" id="8556240">*</span><span class="builtintype" id="8556241">byte</span><span class="op" id="8556245">,</span>&nbsp;<span class="ident" id="8556247">wait</span>&nbsp;<span class="builtintype" id="8556252">bool</span><span class="op" id="8556256">,</span>&nbsp;<span class="ident" id="8556258">body</span>&nbsp;<span class="keyword" id="8556263">func</span><span class="op" id="8556267">(</span><span class="op" id="8556268">*</span><span class="ident" id="8556269">ParFor</span><span class="op" id="8556275">,</span>&nbsp;<span class="builtintype" id="8556277">uint32</span><span class="op" id="8556283">)</span><span class="op" id="8556284">)</span>&nbsp;<span class="op" id="8556286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556289">mp</span>&nbsp;<span class="op" id="8556292">:=</span>&nbsp;<span class="ident" id="8556295">acquirem</span><span class="op" id="8556303">(</span><span class="op" id="8556304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556307">mp</span><span class="op" id="8556309">.</span><span class="ident" id="8556310">ptrarg</span><span class="op" id="8556316">[</span><span class="num" id="8556317">0</span><span class="op" id="8556318">]</span>&nbsp;<span class="op" id="8556320">=</span>&nbsp;<span class="ident" id="8556322">unsafe</span><span class="op" id="8556328">.</span><span class="ident" id="8556329">Pointer</span><span class="op" id="8556336">(</span><span class="ident" id="8556337">desc</span><span class="op" id="8556341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556344">mp</span><span class="op" id="8556346">.</span><span class="ident" id="8556347">ptrarg</span><span class="op" id="8556353">[</span><span class="num" id="8556354">1</span><span class="op" id="8556355">]</span>&nbsp;<span class="op" id="8556357">=</span>&nbsp;<span class="ident" id="8556359">unsafe</span><span class="op" id="8556365">.</span><span class="ident" id="8556366">Pointer</span><span class="op" id="8556373">(</span><span class="ident" id="8556374">ctx</span><span class="op" id="8556377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556380">mp</span><span class="op" id="8556382">.</span><span class="ident" id="8556383">ptrarg</span><span class="op" id="8556389">[</span><span class="num" id="8556390">2</span><span class="op" id="8556391">]</span>&nbsp;<span class="op" id="8556393">=</span>&nbsp;<span class="ident" id="8556395">unsafe</span><span class="op" id="8556401">.</span><span class="ident" id="8556402">Pointer</span><span class="op" id="8556409">(</span><span class="ident" id="8556410">funcPC</span><span class="op" id="8556416">(</span><span class="ident" id="8556417">body</span><span class="op" id="8556421">)</span><span class="op" id="8556422">)</span>&nbsp;<span class="comment" id="8556424">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;be&nbsp;a&nbsp;scalar.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556459">mp</span><span class="op" id="8556461">.</span><span class="ident" id="8556462">scalararg</span><span class="op" id="8556471">[</span><span class="num" id="8556472">0</span><span class="op" id="8556473">]</span>&nbsp;<span class="op" id="8556475">=</span>&nbsp;<span class="builtintype" id="8556477">uintptr</span><span class="op" id="8556484">(</span><span class="ident" id="8556485">nthr</span><span class="op" id="8556489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556492">mp</span><span class="op" id="8556494">.</span><span class="ident" id="8556495">scalararg</span><span class="op" id="8556504">[</span><span class="num" id="8556505">1</span><span class="op" id="8556506">]</span>&nbsp;<span class="op" id="8556508">=</span>&nbsp;<span class="builtintype" id="8556510">uintptr</span><span class="op" id="8556517">(</span><span class="ident" id="8556518">n</span><span class="op" id="8556519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556522">mp</span><span class="op" id="8556524">.</span><span class="ident" id="8556525">scalararg</span><span class="op" id="8556534">[</span><span class="num" id="8556535">2</span><span class="op" id="8556536">]</span>&nbsp;<span class="op" id="8556538">=</span>&nbsp;<span class="num" id="8556540">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556543">if</span>&nbsp;<span class="ident" id="8556546">wait</span>&nbsp;<span class="op" id="8556551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556555">mp</span><span class="op" id="8556557">.</span><span class="ident" id="8556558">scalararg</span><span class="op" id="8556567">[</span><span class="num" id="8556568">2</span><span class="op" id="8556569">]</span>&nbsp;<span class="op" id="8556571">=</span>&nbsp;<span class="num" id="8556573">1</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8556576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556579">onM</span><span class="op" id="8556582">(</span><span class="ident" id="8556583">parforsetup_m</span><span class="op" id="8556596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556599">releasem</span><span class="op" id="8556607">(</span><span class="ident" id="8556608">mp</span><span class="op" id="8556610">)</span><br>
<span class="lineno"></span><span class="op" id="8556612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="8556615">func</span>&nbsp;<span class="ident" id="8556620">ParForDo</span><span class="op" id="8556628">(</span><span class="ident" id="8556629">desc</span>&nbsp;<span class="op" id="8556634">*</span><span class="ident" id="8556635">ParFor</span><span class="op" id="8556641">)</span>&nbsp;<span class="op" id="8556643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556646">mp</span>&nbsp;<span class="op" id="8556649">:=</span>&nbsp;<span class="ident" id="8556652">acquirem</span><span class="op" id="8556660">(</span><span class="op" id="8556661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556664">mp</span><span class="op" id="8556666">.</span><span class="ident" id="8556667">ptrarg</span><span class="op" id="8556673">[</span><span class="num" id="8556674">0</span><span class="op" id="8556675">]</span>&nbsp;<span class="op" id="8556677">=</span>&nbsp;<span class="ident" id="8556679">unsafe</span><span class="op" id="8556685">.</span><span class="ident" id="8556686">Pointer</span><span class="op" id="8556693">(</span><span class="ident" id="8556694">desc</span><span class="op" id="8556698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556701">onM</span><span class="op" id="8556704">(</span><span class="ident" id="8556705">parfordo_m</span><span class="op" id="8556715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556718">releasem</span><span class="op" id="8556726">(</span><span class="ident" id="8556727">mp</span><span class="op" id="8556729">)</span><br>
<span class="lineno">100</span><span class="op" id="8556731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8556734">func</span>&nbsp;<span class="ident" id="8556739">ParForIters</span><span class="op" id="8556750">(</span><span class="ident" id="8556751">desc</span>&nbsp;<span class="op" id="8556756">*</span><span class="ident" id="8556757">ParFor</span><span class="op" id="8556763">,</span>&nbsp;<span class="ident" id="8556765">tid</span>&nbsp;<span class="builtintype" id="8556769">uint32</span><span class="op" id="8556775">)</span>&nbsp;<span class="op" id="8556777">(</span><span class="builtintype" id="8556778">uint32</span><span class="op" id="8556784">,</span>&nbsp;<span class="builtintype" id="8556786">uint32</span><span class="op" id="8556792">)</span>&nbsp;<span class="op" id="8556794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556797">mp</span>&nbsp;<span class="op" id="8556800">:=</span>&nbsp;<span class="ident" id="8556803">acquirem</span><span class="op" id="8556811">(</span><span class="op" id="8556812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556815">mp</span><span class="op" id="8556817">.</span><span class="ident" id="8556818">ptrarg</span><span class="op" id="8556824">[</span><span class="num" id="8556825">0</span><span class="op" id="8556826">]</span>&nbsp;<span class="op" id="8556828">=</span>&nbsp;<span class="ident" id="8556830">unsafe</span><span class="op" id="8556836">.</span><span class="ident" id="8556837">Pointer</span><span class="op" id="8556844">(</span><span class="ident" id="8556845">desc</span><span class="op" id="8556849">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556852">mp</span><span class="op" id="8556854">.</span><span class="ident" id="8556855">scalararg</span><span class="op" id="8556864">[</span><span class="num" id="8556865">0</span><span class="op" id="8556866">]</span>&nbsp;<span class="op" id="8556868">=</span>&nbsp;<span class="builtintype" id="8556870">uintptr</span><span class="op" id="8556877">(</span><span class="ident" id="8556878">tid</span><span class="op" id="8556881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556884">onM</span><span class="op" id="8556887">(</span><span class="ident" id="8556888">parforiters_m</span><span class="op" id="8556901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556904">begin</span>&nbsp;<span class="op" id="8556910">:=</span>&nbsp;<span class="builtintype" id="8556913">uint32</span><span class="op" id="8556919">(</span><span class="ident" id="8556920">mp</span><span class="op" id="8556922">.</span><span class="ident" id="8556923">scalararg</span><span class="op" id="8556932">[</span><span class="num" id="8556933">0</span><span class="op" id="8556934">]</span><span class="op" id="8556935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556938">end</span>&nbsp;<span class="op" id="8556942">:=</span>&nbsp;<span class="builtintype" id="8556945">uint32</span><span class="op" id="8556951">(</span><span class="ident" id="8556952">mp</span><span class="op" id="8556954">.</span><span class="ident" id="8556955">scalararg</span><span class="op" id="8556964">[</span><span class="num" id="8556965">1</span><span class="op" id="8556966">]</span><span class="op" id="8556967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556970">releasem</span><span class="op" id="8556978">(</span><span class="ident" id="8556979">mp</span><span class="op" id="8556981">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556984">return</span>&nbsp;<span class="ident" id="8556991">begin</span><span class="op" id="8556996">,</span>&nbsp;<span class="ident" id="8556998">end</span><br>
<span class="lineno"></span><span class="op" id="8557002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8557005">//&nbsp;in&nbsp;mgc0.c</span><br>
<span class="lineno"></span><span class="comment" id="8557018">//go:noescape</span><br>
<span class="lineno">115</span><span class="keyword" id="8557032">func</span>&nbsp;<span class="ident" id="8557037">getgcmask</span><span class="op" id="8557046">(</span><span class="ident" id="8557047">data</span>&nbsp;<span class="ident" id="8557052">unsafe</span><span class="op" id="8557058">.</span><span class="ident" id="8557059">Pointer</span><span class="op" id="8557066">,</span>&nbsp;<span class="ident" id="8557068">typ</span>&nbsp;<span class="op" id="8557072">*</span><span class="ident" id="8557073">_type</span><span class="op" id="8557078">,</span>&nbsp;<span class="ident" id="8557080">array</span>&nbsp;<span class="op" id="8557086">*</span><span class="op" id="8557087">*</span><span class="builtintype" id="8557088">byte</span><span class="op" id="8557092">,</span>&nbsp;<span class="builtinfunc" id="8557094">len</span>&nbsp;<span class="op" id="8557098">*</span><span class="builtintype" id="8557099">uint</span><span class="op" id="8557103">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8557106">func</span>&nbsp;<span class="ident" id="8557111">GCMask</span><span class="op" id="8557117">(</span><span class="ident" id="8557118">x</span>&nbsp;<span class="keyword" id="8557120">interface</span><span class="op" id="8557129">{</span><span class="op" id="8557130">}</span><span class="op" id="8557131">)</span>&nbsp;<span class="op" id="8557133">(</span><span class="ident" id="8557134">ret</span>&nbsp;<span class="op" id="8557138">[</span><span class="op" id="8557139">]</span><span class="builtintype" id="8557140">byte</span><span class="op" id="8557144">)</span>&nbsp;<span class="op" id="8557146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557149">e</span>&nbsp;<span class="op" id="8557151">:=</span>&nbsp;<span class="op" id="8557154">(</span><span class="op" id="8557155">*</span><span class="ident" id="8557156">eface</span><span class="op" id="8557161">)</span><span class="op" id="8557162">(</span><span class="ident" id="8557163">unsafe</span><span class="op" id="8557169">.</span><span class="ident" id="8557170">Pointer</span><span class="op" id="8557177">(</span><span class="op" id="8557178">&amp;</span><span class="ident" id="8557179">x</span><span class="op" id="8557180">)</span><span class="op" id="8557181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557184">s</span>&nbsp;<span class="op" id="8557186">:=</span>&nbsp;<span class="op" id="8557189">(</span><span class="op" id="8557190">*</span><span class="ident" id="8557191">slice</span><span class="op" id="8557196">)</span><span class="op" id="8557197">(</span><span class="ident" id="8557198">unsafe</span><span class="op" id="8557204">.</span><span class="ident" id="8557205">Pointer</span><span class="op" id="8557212">(</span><span class="op" id="8557213">&amp;</span><span class="ident" id="8557214">ret</span><span class="op" id="8557217">)</span><span class="op" id="8557218">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557221">onM</span><span class="op" id="8557224">(</span><span class="keyword" id="8557225">func</span><span class="op" id="8557229">(</span><span class="op" id="8557230">)</span>&nbsp;<span class="op" id="8557232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557236">getgcmask</span><span class="op" id="8557245">(</span><span class="ident" id="8557246">e</span><span class="op" id="8557247">.</span><span class="ident" id="8557248">data</span><span class="op" id="8557252">,</span>&nbsp;<span class="ident" id="8557254">e</span><span class="op" id="8557255">.</span><span class="ident" id="8557256">_type</span><span class="op" id="8557261">,</span>&nbsp;<span class="op" id="8557263">&amp;</span><span class="ident" id="8557264">s</span><span class="op" id="8557265">.</span><span class="ident" id="8557266">array</span><span class="op" id="8557271">,</span>&nbsp;<span class="op" id="8557273">&amp;</span><span class="ident" id="8557274">s</span><span class="op" id="8557275">.</span><span class="builtinfunc" id="8557276">len</span><span class="op" id="8557279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557283">s</span><span class="op" id="8557284">.</span><span class="builtinfunc" id="8557285">cap</span>&nbsp;<span class="op" id="8557289">=</span>&nbsp;<span class="ident" id="8557291">s</span><span class="op" id="8557292">.</span><span class="builtinfunc" id="8557293">len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8557298">}</span><span class="op" id="8557299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557302">return</span><br>
<span class="lineno">125</span><span class="op" id="8557309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8557312">func</span>&nbsp;<span class="ident" id="8557317">testSchedLocalQueue</span><span class="op" id="8557336">(</span><span class="op" id="8557337">)</span><br>
<span class="lineno"></span><span class="keyword" id="8557339">func</span>&nbsp;<span class="ident" id="8557344">testSchedLocalQueueSteal</span><span class="op" id="8557368">(</span><span class="op" id="8557369">)</span><br>
<span class="lineno"></span><span class="keyword" id="8557371">func</span>&nbsp;<span class="ident" id="8557376">RunSchedLocalQueueTest</span><span class="op" id="8557398">(</span><span class="op" id="8557399">)</span>&nbsp;<span class="op" id="8557401">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557404">onM</span><span class="op" id="8557407">(</span><span class="ident" id="8557408">testSchedLocalQueue</span><span class="op" id="8557427">)</span><br>
<span class="lineno"></span><span class="op" id="8557429">}</span><br>
<span class="lineno"></span><span class="keyword" id="8557431">func</span>&nbsp;<span class="ident" id="8557436">RunSchedLocalQueueStealTest</span><span class="op" id="8557463">(</span><span class="op" id="8557464">)</span>&nbsp;<span class="op" id="8557466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557469">onM</span><span class="op" id="8557472">(</span><span class="ident" id="8557473">testSchedLocalQueueSteal</span><span class="op" id="8557497">)</span><br>
<span class="lineno"></span><span class="op" id="8557499">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="8557502">var</span>&nbsp;<span class="ident" id="8557506">HaveGoodHash</span>&nbsp;<span class="op" id="8557519">=</span>&nbsp;<span class="ident" id="8557521">haveGoodHash</span><br>
<span class="lineno"></span><span class="keyword" id="8557534">var</span>&nbsp;<span class="ident" id="8557538">StringHash</span>&nbsp;<span class="op" id="8557549">=</span>&nbsp;<span class="ident" id="8557551">stringHash</span><br>
<span class="lineno"></span><span class="keyword" id="8557562">var</span>&nbsp;<span class="ident" id="8557566">BytesHash</span>&nbsp;<span class="op" id="8557576">=</span>&nbsp;<span class="ident" id="8557578">bytesHash</span><br>
<span class="lineno"></span><span class="keyword" id="8557588">var</span>&nbsp;<span class="ident" id="8557592">Int32Hash</span>&nbsp;<span class="op" id="8557602">=</span>&nbsp;<span class="ident" id="8557604">int32Hash</span><br>
<span class="lineno">140</span><span class="keyword" id="8557614">var</span>&nbsp;<span class="ident" id="8557618">Int64Hash</span>&nbsp;<span class="op" id="8557628">=</span>&nbsp;<span class="ident" id="8557630">int64Hash</span><br>
<span class="lineno"></span><span class="keyword" id="8557640">var</span>&nbsp;<span class="ident" id="8557644">EfaceHash</span>&nbsp;<span class="op" id="8557654">=</span>&nbsp;<span class="ident" id="8557656">efaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="8557666">var</span>&nbsp;<span class="ident" id="8557670">IfaceHash</span>&nbsp;<span class="op" id="8557680">=</span>&nbsp;<span class="ident" id="8557682">ifaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="8557692">var</span>&nbsp;<span class="ident" id="8557696">MemclrBytes</span>&nbsp;<span class="op" id="8557708">=</span>&nbsp;<span class="ident" id="8557710">memclrBytes</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="8557723">var</span>&nbsp;<span class="ident" id="8557727">HashLoad</span>&nbsp;<span class="op" id="8557736">=</span>&nbsp;<span class="op" id="8557738">&amp;</span><span class="ident" id="8557739">hashLoad</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8557749">//&nbsp;For&nbsp;testing.</span><br>
<span class="lineno"></span><span class="keyword" id="8557765">func</span>&nbsp;<span class="ident" id="8557770">GogoBytes</span><span class="op" id="8557779">(</span><span class="op" id="8557780">)</span>&nbsp;<span class="builtintype" id="8557782">int32</span>&nbsp;<span class="op" id="8557788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557791">return</span>&nbsp;<span class="ident" id="8557798">_RuntimeGogoBytes</span><br>
<span class="lineno">150</span><span class="op" id="8557816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8557819">//&nbsp;in&nbsp;string.c</span><br>
<span class="lineno"></span><span class="comment" id="8557834">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="8557848">func</span>&nbsp;<span class="ident" id="8557853">gostringw</span><span class="op" id="8557862">(</span><span class="ident" id="8557863">w</span>&nbsp;<span class="op" id="8557865">*</span><span class="builtintype" id="8557866">uint16</span><span class="op" id="8557872">)</span>&nbsp;<span class="builtintype" id="8557874">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="8557882">//&nbsp;entry&nbsp;point&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="8557909">func</span>&nbsp;<span class="ident" id="8557914">GostringW</span><span class="op" id="8557923">(</span><span class="ident" id="8557924">w</span>&nbsp;<span class="op" id="8557926">[</span><span class="op" id="8557927">]</span><span class="builtintype" id="8557928">uint16</span><span class="op" id="8557934">)</span>&nbsp;<span class="op" id="8557936">(</span><span class="ident" id="8557937">s</span>&nbsp;<span class="builtintype" id="8557939">string</span><span class="op" id="8557945">)</span>&nbsp;<span class="op" id="8557947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557950">onM</span><span class="op" id="8557953">(</span><span class="keyword" id="8557954">func</span><span class="op" id="8557958">(</span><span class="op" id="8557959">)</span>&nbsp;<span class="op" id="8557961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557965">s</span>&nbsp;<span class="op" id="8557967">=</span>&nbsp;<span class="ident" id="8557969">gostringw</span><span class="op" id="8557978">(</span><span class="op" id="8557979">&amp;</span><span class="ident" id="8557980">w</span><span class="op" id="8557981">[</span><span class="num" id="8557982">0</span><span class="op" id="8557983">]</span><span class="op" id="8557984">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8557987">}</span><span class="op" id="8557988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557991">return</span><br>
<span class="lineno"></span><span class="op" id="8557998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8558001">var</span>&nbsp;<span class="ident" id="8558005">Gostringnocopy</span>&nbsp;<span class="op" id="8558020">=</span>&nbsp;<span class="ident" id="8558022">gostringnocopy</span><br>
<span class="lineno">165</span><span class="keyword" id="8558037">var</span>&nbsp;<span class="ident" id="8558041">Maxstring</span>&nbsp;<span class="op" id="8558051">=</span>&nbsp;<span class="op" id="8558053">&amp;</span><span class="ident" id="8558054">maxstring</span>
</div>
</body>
</html>
