<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html" class="current">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7842288">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7842344">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7842398">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7842449">package</span>&nbsp;<span class="ident" id="7842457">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7842465">import</span>&nbsp;<span class="string" id="7842472">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7842483">var</span>&nbsp;<span class="ident" id="7842487">simplifyTests</span>&nbsp;<span class="op" id="7842501">=</span>&nbsp;<span class="op" id="7842503">[</span><span class="op" id="7842504">]</span><span class="keyword" id="7842505">struct</span>&nbsp;<span class="op" id="7842512">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7842515">Regexp</span>&nbsp;<span class="builtintype" id="7842522">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7842530">Simple</span>&nbsp;<span class="builtintype" id="7842537">string</span><br>
<span class="lineno"></span><span class="op" id="7842544">}</span><span class="op" id="7842545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7842548">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842578">{</span><span class="string" id="7842579">`a`</span><span class="op" id="7842582">,</span>&nbsp;<span class="string" id="7842584">`a`</span><span class="op" id="7842587">}</span><span class="op" id="7842588">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842591">{</span><span class="string" id="7842592">`ab`</span><span class="op" id="7842596">,</span>&nbsp;<span class="string" id="7842598">`ab`</span><span class="op" id="7842602">}</span><span class="op" id="7842603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842606">{</span><span class="string" id="7842607">`a|b`</span><span class="op" id="7842612">,</span>&nbsp;<span class="string" id="7842614">`[a-b]`</span><span class="op" id="7842621">}</span><span class="op" id="7842622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842625">{</span><span class="string" id="7842626">`ab|cd`</span><span class="op" id="7842633">,</span>&nbsp;<span class="string" id="7842635">`ab|cd`</span><span class="op" id="7842642">}</span><span class="op" id="7842643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842646">{</span><span class="string" id="7842647">`(ab)*`</span><span class="op" id="7842654">,</span>&nbsp;<span class="string" id="7842656">`(ab)*`</span><span class="op" id="7842663">}</span><span class="op" id="7842664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842667">{</span><span class="string" id="7842668">`(ab)+`</span><span class="op" id="7842675">,</span>&nbsp;<span class="string" id="7842677">`(ab)+`</span><span class="op" id="7842684">}</span><span class="op" id="7842685">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842688">{</span><span class="string" id="7842689">`(ab)?`</span><span class="op" id="7842696">,</span>&nbsp;<span class="string" id="7842698">`(ab)?`</span><span class="op" id="7842705">}</span><span class="op" id="7842706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842709">{</span><span class="string" id="7842710">`.`</span><span class="op" id="7842713">,</span>&nbsp;<span class="string" id="7842715">`(?s:.)`</span><span class="op" id="7842723">}</span><span class="op" id="7842724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842727">{</span><span class="string" id="7842728">`^`</span><span class="op" id="7842731">,</span>&nbsp;<span class="string" id="7842733">`^`</span><span class="op" id="7842736">}</span><span class="op" id="7842737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842740">{</span><span class="string" id="7842741">`$`</span><span class="op" id="7842744">,</span>&nbsp;<span class="string" id="7842746">`$`</span><span class="op" id="7842749">}</span><span class="op" id="7842750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842753">{</span><span class="string" id="7842754">`[ac]`</span><span class="op" id="7842760">,</span>&nbsp;<span class="string" id="7842762">`[ac]`</span><span class="op" id="7842768">}</span><span class="op" id="7842769">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842772">{</span><span class="string" id="7842773">`[^ac]`</span><span class="op" id="7842780">,</span>&nbsp;<span class="string" id="7842782">`[^ac]`</span><span class="op" id="7842789">}</span><span class="op" id="7842790">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7842794">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842822">{</span><span class="string" id="7842823">`[[:alnum:]]`</span><span class="op" id="7842836">,</span>&nbsp;<span class="string" id="7842838">`[0-9A-Za-z]`</span><span class="op" id="7842851">}</span><span class="op" id="7842852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842855">{</span><span class="string" id="7842856">`[[:alpha:]]`</span><span class="op" id="7842869">,</span>&nbsp;<span class="string" id="7842871">`[A-Za-z]`</span><span class="op" id="7842881">}</span><span class="op" id="7842882">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842885">{</span><span class="string" id="7842886">`[[:blank:]]`</span><span class="op" id="7842899">,</span>&nbsp;<span class="string" id="7842901">`[\t&nbsp;]`</span><span class="op" id="7842908">}</span><span class="op" id="7842909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842912">{</span><span class="string" id="7842913">`[[:cntrl:]]`</span><span class="op" id="7842926">,</span>&nbsp;<span class="string" id="7842928">`[\x00-\x1f\x7f]`</span><span class="op" id="7842945">}</span><span class="op" id="7842946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842949">{</span><span class="string" id="7842950">`[[:digit:]]`</span><span class="op" id="7842963">,</span>&nbsp;<span class="string" id="7842965">`[0-9]`</span><span class="op" id="7842972">}</span><span class="op" id="7842973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7842976">{</span><span class="string" id="7842977">`[[:graph:]]`</span><span class="op" id="7842990">,</span>&nbsp;<span class="string" id="7842992">`[!-~]`</span><span class="op" id="7842999">}</span><span class="op" id="7843000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843003">{</span><span class="string" id="7843004">`[[:lower:]]`</span><span class="op" id="7843017">,</span>&nbsp;<span class="string" id="7843019">`[a-z]`</span><span class="op" id="7843026">}</span><span class="op" id="7843027">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843030">{</span><span class="string" id="7843031">`[[:print:]]`</span><span class="op" id="7843044">,</span>&nbsp;<span class="string" id="7843046">`[&nbsp;-~]`</span><span class="op" id="7843053">}</span><span class="op" id="7843054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843057">{</span><span class="string" id="7843058">`[[:punct:]]`</span><span class="op" id="7843071">,</span>&nbsp;<span class="string" id="7843073">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="7843093">}</span><span class="op" id="7843094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843097">{</span><span class="string" id="7843098">`[[:space:]]`</span><span class="op" id="7843111">,</span>&nbsp;<span class="string" id="7843113">`[\t-\r&nbsp;]`</span><span class="op" id="7843123">}</span><span class="op" id="7843124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843127">{</span><span class="string" id="7843128">`[[:upper:]]`</span><span class="op" id="7843141">,</span>&nbsp;<span class="string" id="7843143">`[A-Z]`</span><span class="op" id="7843150">}</span><span class="op" id="7843151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843154">{</span><span class="string" id="7843155">`[[:xdigit:]]`</span><span class="op" id="7843169">,</span>&nbsp;<span class="string" id="7843171">`[0-9A-Fa-f]`</span><span class="op" id="7843184">}</span><span class="op" id="7843185">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7843189">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843216">{</span><span class="string" id="7843217">`\d`</span><span class="op" id="7843221">,</span>&nbsp;<span class="string" id="7843223">`[0-9]`</span><span class="op" id="7843230">}</span><span class="op" id="7843231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843234">{</span><span class="string" id="7843235">`\s`</span><span class="op" id="7843239">,</span>&nbsp;<span class="string" id="7843241">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7843256">}</span><span class="op" id="7843257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843260">{</span><span class="string" id="7843261">`\w`</span><span class="op" id="7843265">,</span>&nbsp;<span class="string" id="7843267">`[0-9A-Z_a-z]`</span><span class="op" id="7843281">}</span><span class="op" id="7843282">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843285">{</span><span class="string" id="7843286">`\D`</span><span class="op" id="7843290">,</span>&nbsp;<span class="string" id="7843292">`[^0-9]`</span><span class="op" id="7843300">}</span><span class="op" id="7843301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843304">{</span><span class="string" id="7843305">`\S`</span><span class="op" id="7843309">,</span>&nbsp;<span class="string" id="7843311">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7843327">}</span><span class="op" id="7843328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843331">{</span><span class="string" id="7843332">`\W`</span><span class="op" id="7843336">,</span>&nbsp;<span class="string" id="7843338">`[^0-9A-Z_a-z]`</span><span class="op" id="7843353">}</span><span class="op" id="7843354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843357">{</span><span class="string" id="7843358">`[\d]`</span><span class="op" id="7843364">,</span>&nbsp;<span class="string" id="7843366">`[0-9]`</span><span class="op" id="7843373">}</span><span class="op" id="7843374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843377">{</span><span class="string" id="7843378">`[\s]`</span><span class="op" id="7843384">,</span>&nbsp;<span class="string" id="7843386">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7843401">}</span><span class="op" id="7843402">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843405">{</span><span class="string" id="7843406">`[\w]`</span><span class="op" id="7843412">,</span>&nbsp;<span class="string" id="7843414">`[0-9A-Z_a-z]`</span><span class="op" id="7843428">}</span><span class="op" id="7843429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843432">{</span><span class="string" id="7843433">`[\D]`</span><span class="op" id="7843439">,</span>&nbsp;<span class="string" id="7843441">`[^0-9]`</span><span class="op" id="7843449">}</span><span class="op" id="7843450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843453">{</span><span class="string" id="7843454">`[\S]`</span><span class="op" id="7843460">,</span>&nbsp;<span class="string" id="7843462">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7843478">}</span><span class="op" id="7843479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843482">{</span><span class="string" id="7843483">`[\W]`</span><span class="op" id="7843489">,</span>&nbsp;<span class="string" id="7843491">`[^0-9A-Z_a-z]`</span><span class="op" id="7843506">}</span><span class="op" id="7843507">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7843511">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843533">{</span><span class="string" id="7843534">`a{1}`</span><span class="op" id="7843540">,</span>&nbsp;<span class="string" id="7843542">`a`</span><span class="op" id="7843545">}</span><span class="op" id="7843546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843549">{</span><span class="string" id="7843550">`a{2}`</span><span class="op" id="7843556">,</span>&nbsp;<span class="string" id="7843558">`aa`</span><span class="op" id="7843562">}</span><span class="op" id="7843563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843566">{</span><span class="string" id="7843567">`a{5}`</span><span class="op" id="7843573">,</span>&nbsp;<span class="string" id="7843575">`aaaaa`</span><span class="op" id="7843582">}</span><span class="op" id="7843583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843586">{</span><span class="string" id="7843587">`a{0,1}`</span><span class="op" id="7843595">,</span>&nbsp;<span class="string" id="7843597">`a?`</span><span class="op" id="7843601">}</span><span class="op" id="7843602">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7843605">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7843668">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7843724">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843801">{</span><span class="string" id="7843802">`(a){0,2}`</span><span class="op" id="7843812">,</span>&nbsp;<span class="string" id="7843814">`(?:(a)(a)?)?`</span><span class="op" id="7843828">}</span><span class="op" id="7843829">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7843853">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843870">{</span><span class="string" id="7843871">`(a){0,4}`</span><span class="op" id="7843881">,</span>&nbsp;<span class="string" id="7843883">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7843913">}</span><span class="op" id="7843914">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7843922">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7843943">{</span><span class="string" id="7843944">`(a){2,6}`</span><span class="op" id="7843954">,</span>&nbsp;<span class="string" id="7843956">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7843992">}</span><span class="op" id="7843993">,</span>&nbsp;<span class="comment" id="7843995">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844016">{</span><span class="string" id="7844017">`a{0,2}`</span><span class="op" id="7844025">,</span>&nbsp;<span class="string" id="7844027">`(?:aa?)?`</span><span class="op" id="7844037">}</span><span class="op" id="7844038">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7844068">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844085">{</span><span class="string" id="7844086">`a{0,4}`</span><span class="op" id="7844094">,</span>&nbsp;<span class="string" id="7844096">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7844118">}</span><span class="op" id="7844119">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7844137">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844158">{</span><span class="string" id="7844159">`a{2,6}`</span><span class="op" id="7844167">,</span>&nbsp;<span class="string" id="7844169">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7844193">}</span><span class="op" id="7844194">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7844210">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844231">{</span><span class="string" id="7844232">`a{0,}`</span><span class="op" id="7844239">,</span>&nbsp;<span class="string" id="7844241">`a*`</span><span class="op" id="7844245">}</span><span class="op" id="7844246">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844249">{</span><span class="string" id="7844250">`a{1,}`</span><span class="op" id="7844257">,</span>&nbsp;<span class="string" id="7844259">`a+`</span><span class="op" id="7844263">}</span><span class="op" id="7844264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844267">{</span><span class="string" id="7844268">`a{2,}`</span><span class="op" id="7844275">,</span>&nbsp;<span class="string" id="7844277">`aa+`</span><span class="op" id="7844282">}</span><span class="op" id="7844283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844286">{</span><span class="string" id="7844287">`a{5,}`</span><span class="op" id="7844294">,</span>&nbsp;<span class="string" id="7844296">`aaaaa+`</span><span class="op" id="7844304">}</span><span class="op" id="7844305">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7844309">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844359">{</span><span class="string" id="7844360">`(?:a{1,}){1,}`</span><span class="op" id="7844375">,</span>&nbsp;<span class="string" id="7844377">`a+`</span><span class="op" id="7844381">}</span><span class="op" id="7844382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844385">{</span><span class="string" id="7844386">`(a{1,}b{1,})`</span><span class="op" id="7844400">,</span>&nbsp;<span class="string" id="7844402">`(a+b+)`</span><span class="op" id="7844410">}</span><span class="op" id="7844411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844414">{</span><span class="string" id="7844415">`a{1,}|b{1,}`</span><span class="op" id="7844428">,</span>&nbsp;<span class="string" id="7844430">`a+|b+`</span><span class="op" id="7844437">}</span><span class="op" id="7844438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844441">{</span><span class="string" id="7844442">`(?:a{1,})*`</span><span class="op" id="7844454">,</span>&nbsp;<span class="string" id="7844456">`(?:a+)*`</span><span class="op" id="7844465">}</span><span class="op" id="7844466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844469">{</span><span class="string" id="7844470">`(?:a{1,})+`</span><span class="op" id="7844482">,</span>&nbsp;<span class="string" id="7844484">`a+`</span><span class="op" id="7844488">}</span><span class="op" id="7844489">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844492">{</span><span class="string" id="7844493">`(?:a{1,})?`</span><span class="op" id="7844505">,</span>&nbsp;<span class="string" id="7844507">`(?:a+)?`</span><span class="op" id="7844516">}</span><span class="op" id="7844517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844520">{</span><span class="string" id="7844521">``</span><span class="op" id="7844523">,</span>&nbsp;<span class="string" id="7844525">`(?:)`</span><span class="op" id="7844531">}</span><span class="op" id="7844532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844535">{</span><span class="string" id="7844536">`a{0}`</span><span class="op" id="7844542">,</span>&nbsp;<span class="string" id="7844544">`(?:)`</span><span class="op" id="7844550">}</span><span class="op" id="7844551">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7844555">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844590">{</span><span class="string" id="7844591">`[ab]`</span><span class="op" id="7844597">,</span>&nbsp;<span class="string" id="7844599">`[a-b]`</span><span class="op" id="7844606">}</span><span class="op" id="7844607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844610">{</span><span class="string" id="7844611">`[a-za-za-z]`</span><span class="op" id="7844624">,</span>&nbsp;<span class="string" id="7844626">`[a-z]`</span><span class="op" id="7844633">}</span><span class="op" id="7844634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844637">{</span><span class="string" id="7844638">`[A-Za-zA-Za-z]`</span><span class="op" id="7844654">,</span>&nbsp;<span class="string" id="7844656">`[A-Za-z]`</span><span class="op" id="7844666">}</span><span class="op" id="7844667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844670">{</span><span class="string" id="7844671">`[ABCDEFGH]`</span><span class="op" id="7844683">,</span>&nbsp;<span class="string" id="7844685">`[A-H]`</span><span class="op" id="7844692">}</span><span class="op" id="7844693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844696">{</span><span class="string" id="7844697">`[AB-CD-EF-GH]`</span><span class="op" id="7844712">,</span>&nbsp;<span class="string" id="7844714">`[A-H]`</span><span class="op" id="7844721">}</span><span class="op" id="7844722">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844725">{</span><span class="string" id="7844726">`[W-ZP-XE-R]`</span><span class="op" id="7844739">,</span>&nbsp;<span class="string" id="7844741">`[E-Z]`</span><span class="op" id="7844748">}</span><span class="op" id="7844749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844752">{</span><span class="string" id="7844753">`[a-ee-gg-m]`</span><span class="op" id="7844766">,</span>&nbsp;<span class="string" id="7844768">`[a-m]`</span><span class="op" id="7844775">}</span><span class="op" id="7844776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844779">{</span><span class="string" id="7844780">`[a-ea-ha-m]`</span><span class="op" id="7844793">,</span>&nbsp;<span class="string" id="7844795">`[a-m]`</span><span class="op" id="7844802">}</span><span class="op" id="7844803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844806">{</span><span class="string" id="7844807">`[a-ma-ha-e]`</span><span class="op" id="7844820">,</span>&nbsp;<span class="string" id="7844822">`[a-m]`</span><span class="op" id="7844829">}</span><span class="op" id="7844830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844833">{</span><span class="string" id="7844834">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="7844850">,</span>&nbsp;<span class="string" id="7844852">`[&nbsp;-~]`</span><span class="op" id="7844859">}</span><span class="op" id="7844860">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7844864">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844892">{</span><span class="string" id="7844893">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="7844917">,</span>&nbsp;<span class="string" id="7844919">`[^\x00-\x{10FFFF}]`</span><span class="op" id="7844939">}</span><span class="op" id="7844940">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7844944">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7844971">{</span><span class="string" id="7844972">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="7844995">,</span>&nbsp;<span class="string" id="7844997">`(?s:.)`</span><span class="op" id="7845005">}</span><span class="op" id="7845006">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7845010">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845036">{</span><span class="string" id="7845037">`(?i)A`</span><span class="op" id="7845044">,</span>&nbsp;<span class="string" id="7845046">`(?i:A)`</span><span class="op" id="7845054">}</span><span class="op" id="7845055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845058">{</span><span class="string" id="7845059">`(?i)a`</span><span class="op" id="7845066">,</span>&nbsp;<span class="string" id="7845068">`(?i:A)`</span><span class="op" id="7845076">}</span><span class="op" id="7845077">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845080">{</span><span class="string" id="7845081">`(?i)[A]`</span><span class="op" id="7845090">,</span>&nbsp;<span class="string" id="7845092">`(?i:A)`</span><span class="op" id="7845100">}</span><span class="op" id="7845101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845104">{</span><span class="string" id="7845105">`(?i)[a]`</span><span class="op" id="7845114">,</span>&nbsp;<span class="string" id="7845116">`(?i:A)`</span><span class="op" id="7845124">}</span><span class="op" id="7845125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845128">{</span><span class="string" id="7845129">`(?i)K`</span><span class="op" id="7845136">,</span>&nbsp;<span class="string" id="7845138">`(?i:K)`</span><span class="op" id="7845146">}</span><span class="op" id="7845147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845150">{</span><span class="string" id="7845151">`(?i)k`</span><span class="op" id="7845158">,</span>&nbsp;<span class="string" id="7845160">`(?i:K)`</span><span class="op" id="7845168">}</span><span class="op" id="7845169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845172">{</span><span class="string" id="7845173">`(?i)\x{212a}`</span><span class="op" id="7845187">,</span>&nbsp;<span class="string" id="7845189">&#34;(?i:K)&#34;</span><span class="op" id="7845197">}</span><span class="op" id="7845198">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845201">{</span><span class="string" id="7845202">`(?i)[K]`</span><span class="op" id="7845211">,</span>&nbsp;<span class="string" id="7845213">&#34;[Kk\u212A]&#34;</span><span class="op" id="7845225">}</span><span class="op" id="7845226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845229">{</span><span class="string" id="7845230">`(?i)[k]`</span><span class="op" id="7845239">,</span>&nbsp;<span class="string" id="7845241">&#34;[Kk\u212A]&#34;</span><span class="op" id="7845253">}</span><span class="op" id="7845254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845257">{</span><span class="string" id="7845258">`(?i)[\x{212a}]`</span><span class="op" id="7845274">,</span>&nbsp;<span class="string" id="7845276">&#34;[Kk\u212A]&#34;</span><span class="op" id="7845288">}</span><span class="op" id="7845289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845292">{</span><span class="string" id="7845293">`(?i)[a-z]`</span><span class="op" id="7845304">,</span>&nbsp;<span class="string" id="7845306">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="7845328">}</span><span class="op" id="7845329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845332">{</span><span class="string" id="7845333">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="7845354">,</span>&nbsp;<span class="string" id="7845356">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="7845372">}</span><span class="op" id="7845373">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845376">{</span><span class="string" id="7845377">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="7845400">,</span>&nbsp;<span class="string" id="7845402">`(?s:.)`</span><span class="op" id="7845410">}</span><span class="op" id="7845411">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7845415">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7845457">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7845519">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7845578">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7845640">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7845703">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845754">{</span><span class="string" id="7845755">`(a|b|)`</span><span class="op" id="7845763">,</span>&nbsp;<span class="string" id="7845765">`([a-b]|(?:))`</span><span class="op" id="7845779">}</span><span class="op" id="7845780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845783">{</span><span class="string" id="7845784">`(|)`</span><span class="op" id="7845789">,</span>&nbsp;<span class="string" id="7845791">`()`</span><span class="op" id="7845795">}</span><span class="op" id="7845796">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845799">{</span><span class="string" id="7845800">`a()`</span><span class="op" id="7845805">,</span>&nbsp;<span class="string" id="7845807">`a()`</span><span class="op" id="7845812">}</span><span class="op" id="7845813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845816">{</span><span class="string" id="7845817">`(()|())`</span><span class="op" id="7845826">,</span>&nbsp;<span class="string" id="7845828">`(()|())`</span><span class="op" id="7845837">}</span><span class="op" id="7845838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845841">{</span><span class="string" id="7845842">`(a|)`</span><span class="op" id="7845848">,</span>&nbsp;<span class="string" id="7845850">`(a|(?:))`</span><span class="op" id="7845860">}</span><span class="op" id="7845861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845864">{</span><span class="string" id="7845865">`ab()cd()`</span><span class="op" id="7845875">,</span>&nbsp;<span class="string" id="7845877">`ab()cd()`</span><span class="op" id="7845887">}</span><span class="op" id="7845888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845891">{</span><span class="string" id="7845892">`()`</span><span class="op" id="7845896">,</span>&nbsp;<span class="string" id="7845898">`()`</span><span class="op" id="7845902">}</span><span class="op" id="7845903">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845906">{</span><span class="string" id="7845907">`()*`</span><span class="op" id="7845912">,</span>&nbsp;<span class="string" id="7845914">`()*`</span><span class="op" id="7845919">}</span><span class="op" id="7845920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845923">{</span><span class="string" id="7845924">`()+`</span><span class="op" id="7845929">,</span>&nbsp;<span class="string" id="7845931">`()+`</span><span class="op" id="7845936">}</span><span class="op" id="7845937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845940">{</span><span class="string" id="7845941">`()?`</span><span class="op" id="7845946">,</span>&nbsp;<span class="string" id="7845948">`()?`</span><span class="op" id="7845953">}</span><span class="op" id="7845954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845957">{</span><span class="string" id="7845958">`(){0}`</span><span class="op" id="7845965">,</span>&nbsp;<span class="string" id="7845967">`(?:)`</span><span class="op" id="7845973">}</span><span class="op" id="7845974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845977">{</span><span class="string" id="7845978">`(){1}`</span><span class="op" id="7845985">,</span>&nbsp;<span class="string" id="7845987">`()`</span><span class="op" id="7845991">}</span><span class="op" id="7845992">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7845995">{</span><span class="string" id="7845996">`(){1,}`</span><span class="op" id="7846004">,</span>&nbsp;<span class="string" id="7846006">`()+`</span><span class="op" id="7846011">}</span><span class="op" id="7846012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7846015">{</span><span class="string" id="7846016">`(){0,2}`</span><span class="op" id="7846025">,</span>&nbsp;<span class="string" id="7846027">`(?:()()?)?`</span><span class="op" id="7846039">}</span><span class="op" id="7846040">,</span><br>
<span class="lineno"></span><span class="op" id="7846042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7846045">func</span>&nbsp;<span class="ident" id="7846050">TestSimplify</span><span class="op" id="7846062">(</span><span class="ident" id="7846063">t</span>&nbsp;<span class="op" id="7846065">*</span><span class="ident" id="7846066">testing</span><span class="op" id="7846073">.</span><span class="ident" id="7846074">T</span><span class="op" id="7846075">)</span>&nbsp;<span class="op" id="7846077">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7846080">for</span>&nbsp;<span class="ident" id="7846084">_</span><span class="op" id="7846085">,</span>&nbsp;<span class="ident" id="7846087">tt</span>&nbsp;<span class="op" id="7846090">:=</span>&nbsp;<span class="keyword" id="7846093">range</span>&nbsp;<span class="ident" id="7846099">simplifyTests</span>&nbsp;<span class="op" id="7846113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7846117">re</span><span class="op" id="7846119">,</span>&nbsp;<span class="ident" id="7846121">err</span>&nbsp;<span class="op" id="7846125">:=</span>&nbsp;<span class="ident" id="7846128">Parse</span><span class="op" id="7846133">(</span><span class="ident" id="7846134">tt</span><span class="op" id="7846136">.</span><span class="ident" id="7846137">Regexp</span><span class="op" id="7846143">,</span>&nbsp;<span class="ident" id="7846145">MatchNL</span><span class="op" id="7846152">|</span><span class="ident" id="7846153">Perl</span><span class="op" id="7846157">&amp;^</span><span class="ident" id="7846159">OneLine</span><span class="op" id="7846166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7846170">if</span>&nbsp;<span class="ident" id="7846173">err</span>&nbsp;<span class="op" id="7846177">!=</span>&nbsp;<span class="builtintype" id="7846180">nil</span>&nbsp;<span class="op" id="7846184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7846189">t</span><span class="op" id="7846190">.</span><span class="ident" id="7846191">Errorf</span><span class="op" id="7846197">(</span><span class="string" id="7846198">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="7846221">,</span>&nbsp;<span class="ident" id="7846223">tt</span><span class="op" id="7846225">.</span><span class="ident" id="7846226">Regexp</span><span class="op" id="7846232">,</span>&nbsp;<span class="ident" id="7846234">err</span><span class="op" id="7846237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7846242">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7846253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7846257">s</span>&nbsp;<span class="op" id="7846259">:=</span>&nbsp;<span class="ident" id="7846262">re</span><span class="op" id="7846264">.</span><span class="ident" id="7846265">Simplify</span><span class="op" id="7846273">(</span><span class="op" id="7846274">)</span><span class="op" id="7846275">.</span><span class="ident" id="7846276">String</span><span class="op" id="7846282">(</span><span class="op" id="7846283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7846287">if</span>&nbsp;<span class="ident" id="7846290">s</span>&nbsp;<span class="op" id="7846292">!=</span>&nbsp;<span class="ident" id="7846295">tt</span><span class="op" id="7846297">.</span><span class="ident" id="7846298">Simple</span>&nbsp;<span class="op" id="7846305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7846310">t</span><span class="op" id="7846311">.</span><span class="ident" id="7846312">Errorf</span><span class="op" id="7846318">(</span><span class="string" id="7846319">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7846350">,</span>&nbsp;<span class="ident" id="7846352">tt</span><span class="op" id="7846354">.</span><span class="ident" id="7846355">Regexp</span><span class="op" id="7846361">,</span>&nbsp;<span class="ident" id="7846363">s</span><span class="op" id="7846364">,</span>&nbsp;<span class="ident" id="7846366">tt</span><span class="op" id="7846368">.</span><span class="ident" id="7846369">Simple</span><span class="op" id="7846375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7846379">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7846382">}</span><br>
<span class="lineno"></span><span class="op" id="7846384">}</span>
</div>
</body>
</html>
