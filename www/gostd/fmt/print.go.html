<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html" class="current">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2417589">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2417644">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2417698">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2417749">package</span>&nbsp;<span class="ident" id="2417757">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2417762">import</span>&nbsp;<span class="op" id="2417769">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2417772">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2417782">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2417788">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2417794">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2417805">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2417813">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2417828">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2417831">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2417897">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2417934">var</span>&nbsp;<span class="op" id="2417938">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417941">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2417958">=</span>&nbsp;<span class="op" id="2417960">[</span><span class="op" id="2417961">]</span><span class="builtintype" id="2417962">byte</span><span class="op" id="2417966">(</span><span class="string" id="2417967">&#34;,&nbsp;&#34;</span><span class="op" id="2417971">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417974">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417991">=</span>&nbsp;<span class="op" id="2417993">[</span><span class="op" id="2417994">]</span><span class="builtintype" id="2417995">byte</span><span class="op" id="2417999">(</span><span class="string" id="2418000">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2418007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418010">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418027">=</span>&nbsp;<span class="op" id="2418029">[</span><span class="op" id="2418030">]</span><span class="builtintype" id="2418031">byte</span><span class="op" id="2418035">(</span><span class="string" id="2418036">&#34;(nil)&#34;</span><span class="op" id="2418043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418046">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418063">=</span>&nbsp;<span class="op" id="2418065">[</span><span class="op" id="2418066">]</span><span class="builtintype" id="2418067">byte</span><span class="op" id="2418071">(</span><span class="string" id="2418072">&#34;nil&#34;</span><span class="op" id="2418077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418080">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418097">=</span>&nbsp;<span class="op" id="2418099">[</span><span class="op" id="2418100">]</span><span class="builtintype" id="2418101">byte</span><span class="op" id="2418105">(</span><span class="string" id="2418106">&#34;map[&#34;</span><span class="op" id="2418112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418115">percentBangBytes</span>&nbsp;<span class="op" id="2418132">=</span>&nbsp;<span class="op" id="2418134">[</span><span class="op" id="2418135">]</span><span class="builtintype" id="2418136">byte</span><span class="op" id="2418140">(</span><span class="string" id="2418141">&#34;%!&#34;</span><span class="op" id="2418145">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418148">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418165">=</span>&nbsp;<span class="op" id="2418167">[</span><span class="op" id="2418168">]</span><span class="builtintype" id="2418169">byte</span><span class="op" id="2418173">(</span><span class="string" id="2418174">&#34;(MISSING)&#34;</span><span class="op" id="2418185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418188">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418205">=</span>&nbsp;<span class="op" id="2418207">[</span><span class="op" id="2418208">]</span><span class="builtintype" id="2418209">byte</span><span class="op" id="2418213">(</span><span class="string" id="2418214">&#34;(BADINDEX)&#34;</span><span class="op" id="2418226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418229">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418246">=</span>&nbsp;<span class="op" id="2418248">[</span><span class="op" id="2418249">]</span><span class="builtintype" id="2418250">byte</span><span class="op" id="2418254">(</span><span class="string" id="2418255">&#34;(PANIC=&#34;</span><span class="op" id="2418264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418267">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418284">=</span>&nbsp;<span class="op" id="2418286">[</span><span class="op" id="2418287">]</span><span class="builtintype" id="2418288">byte</span><span class="op" id="2418292">(</span><span class="string" id="2418293">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2418304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418307">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418324">=</span>&nbsp;<span class="op" id="2418326">[</span><span class="op" id="2418327">]</span><span class="builtintype" id="2418328">byte</span><span class="op" id="2418332">(</span><span class="string" id="2418333">&#34;i)&#34;</span><span class="op" id="2418337">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418340">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418357">=</span>&nbsp;<span class="op" id="2418359">[</span><span class="op" id="2418360">]</span><span class="builtintype" id="2418361">byte</span><span class="op" id="2418365">(</span><span class="string" id="2418366">&#34;[]byte{&#34;</span><span class="op" id="2418375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418378">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418395">=</span>&nbsp;<span class="op" id="2418397">[</span><span class="op" id="2418398">]</span><span class="builtintype" id="2418399">byte</span><span class="op" id="2418403">(</span><span class="string" id="2418404">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2418418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418421">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418438">=</span>&nbsp;<span class="op" id="2418440">[</span><span class="op" id="2418441">]</span><span class="builtintype" id="2418442">byte</span><span class="op" id="2418446">(</span><span class="string" id="2418447">&#34;%!(BADPREC)&#34;</span><span class="op" id="2418460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418463">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418480">=</span>&nbsp;<span class="op" id="2418482">[</span><span class="op" id="2418483">]</span><span class="builtintype" id="2418484">byte</span><span class="op" id="2418488">(</span><span class="string" id="2418489">&#34;%!(NOVERB)&#34;</span><span class="op" id="2418501">)</span><br>
<span class="lineno"></span><span class="op" id="2418503">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2418506">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2418573">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2418645">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2418706">type</span>&nbsp;<span class="ident" id="2418711">State</span>&nbsp;<span class="keyword" id="2418717">interface</span>&nbsp;<span class="op" id="2418727">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418730">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418804">Write</span><span class="op" id="2418809">(</span><span class="ident" id="2418810">b</span>&nbsp;<span class="op" id="2418812">[</span><span class="op" id="2418813">]</span><span class="builtintype" id="2418814">byte</span><span class="op" id="2418818">)</span>&nbsp;<span class="op" id="2418820">(</span><span class="ident" id="2418821">ret</span>&nbsp;<span class="builtintype" id="2418825">int</span><span class="op" id="2418828">,</span>&nbsp;<span class="ident" id="2418830">err</span>&nbsp;<span class="builtintype" id="2418834">error</span><span class="op" id="2418839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418842">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418919">Width</span><span class="op" id="2418924">(</span><span class="op" id="2418925">)</span>&nbsp;<span class="op" id="2418927">(</span><span class="ident" id="2418928">wid</span>&nbsp;<span class="builtintype" id="2418932">int</span><span class="op" id="2418935">,</span>&nbsp;<span class="ident" id="2418937">ok</span>&nbsp;<span class="builtintype" id="2418940">bool</span><span class="op" id="2418944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418947">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419032">Precision</span><span class="op" id="2419041">(</span><span class="op" id="2419042">)</span>&nbsp;<span class="op" id="2419044">(</span><span class="ident" id="2419045">prec</span>&nbsp;<span class="builtintype" id="2419050">int</span><span class="op" id="2419053">,</span>&nbsp;<span class="ident" id="2419055">ok</span>&nbsp;<span class="builtintype" id="2419058">bool</span><span class="op" id="2419062">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2419066">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419130">Flag</span><span class="op" id="2419134">(</span><span class="ident" id="2419135">c</span>&nbsp;<span class="builtintype" id="2419137">int</span><span class="op" id="2419140">)</span>&nbsp;<span class="builtintype" id="2419142">bool</span><br>
<span class="lineno"></span><span class="op" id="2419147">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2419150">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2419227">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2419296">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2419323">type</span>&nbsp;<span class="ident" id="2419328">Formatter</span>&nbsp;<span class="keyword" id="2419338">interface</span>&nbsp;<span class="op" id="2419348">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419351">Format</span><span class="op" id="2419357">(</span><span class="ident" id="2419358">f</span>&nbsp;<span class="ident" id="2419360">State</span><span class="op" id="2419365">,</span>&nbsp;<span class="ident" id="2419367">c</span>&nbsp;<span class="builtintype" id="2419369">rune</span><span class="op" id="2419373">)</span><br>
<span class="lineno"></span><span class="op" id="2419375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2419378">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2419444">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2419499">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2419565">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2419633">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2419651">type</span>&nbsp;<span class="ident" id="2419656">Stringer</span>&nbsp;<span class="keyword" id="2419665">interface</span>&nbsp;<span class="op" id="2419675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419678">String</span><span class="op" id="2419684">(</span><span class="op" id="2419685">)</span>&nbsp;<span class="builtintype" id="2419687">string</span><br>
<span class="lineno">65</span><span class="op" id="2419694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2419697">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2419767">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2419814">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2419882">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2419902">type</span>&nbsp;<span class="ident" id="2419907">GoStringer</span>&nbsp;<span class="keyword" id="2419918">interface</span>&nbsp;<span class="op" id="2419928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419931">GoString</span><span class="op" id="2419939">(</span><span class="op" id="2419940">)</span>&nbsp;<span class="builtintype" id="2419942">string</span><br>
<span class="lineno"></span><span class="op" id="2419949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2419952">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2420024">type</span>&nbsp;<span class="ident" id="2420029">buffer</span>&nbsp;<span class="op" id="2420036">[</span><span class="op" id="2420037">]</span><span class="builtintype" id="2420038">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2420044">func</span>&nbsp;<span class="op" id="2420049">(</span><span class="ident" id="2420050">b</span>&nbsp;<span class="op" id="2420052">*</span><span class="ident" id="2420053">buffer</span><span class="op" id="2420059">)</span>&nbsp;<span class="ident" id="2420061">Write</span><span class="op" id="2420066">(</span><span class="ident" id="2420067">p</span>&nbsp;<span class="op" id="2420069">[</span><span class="op" id="2420070">]</span><span class="builtintype" id="2420071">byte</span><span class="op" id="2420075">)</span>&nbsp;<span class="op" id="2420077">(</span><span class="ident" id="2420078">n</span>&nbsp;<span class="builtintype" id="2420080">int</span><span class="op" id="2420083">,</span>&nbsp;<span class="ident" id="2420085">err</span>&nbsp;<span class="builtintype" id="2420089">error</span><span class="op" id="2420094">)</span>&nbsp;<span class="op" id="2420096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420099">*</span><span class="ident" id="2420100">b</span>&nbsp;<span class="op" id="2420102">=</span>&nbsp;<span class="builtinfunc" id="2420104">append</span><span class="op" id="2420110">(</span><span class="op" id="2420111">*</span><span class="ident" id="2420112">b</span><span class="op" id="2420113">,</span>&nbsp;<span class="ident" id="2420115">p</span><span class="op" id="2420116">...</span><span class="op" id="2420119">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420122">return</span>&nbsp;<span class="builtinfunc" id="2420129">len</span><span class="op" id="2420132">(</span><span class="ident" id="2420133">p</span><span class="op" id="2420134">)</span><span class="op" id="2420135">,</span>&nbsp;<span class="ident" id="2420137">nil</span><br>
<span class="lineno"></span><span class="op" id="2420141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2420144">func</span>&nbsp;<span class="op" id="2420149">(</span><span class="ident" id="2420150">b</span>&nbsp;<span class="op" id="2420152">*</span><span class="ident" id="2420153">buffer</span><span class="op" id="2420159">)</span>&nbsp;<span class="ident" id="2420161">WriteString</span><span class="op" id="2420172">(</span><span class="ident" id="2420173">s</span>&nbsp;<span class="builtintype" id="2420175">string</span><span class="op" id="2420181">)</span>&nbsp;<span class="op" id="2420183">(</span><span class="ident" id="2420184">n</span>&nbsp;<span class="builtintype" id="2420186">int</span><span class="op" id="2420189">,</span>&nbsp;<span class="ident" id="2420191">err</span>&nbsp;<span class="builtintype" id="2420195">error</span><span class="op" id="2420200">)</span>&nbsp;<span class="op" id="2420202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420205">*</span><span class="ident" id="2420206">b</span>&nbsp;<span class="op" id="2420208">=</span>&nbsp;<span class="builtinfunc" id="2420210">append</span><span class="op" id="2420216">(</span><span class="op" id="2420217">*</span><span class="ident" id="2420218">b</span><span class="op" id="2420219">,</span>&nbsp;<span class="ident" id="2420221">s</span><span class="op" id="2420222">...</span><span class="op" id="2420225">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420228">return</span>&nbsp;<span class="builtinfunc" id="2420235">len</span><span class="op" id="2420238">(</span><span class="ident" id="2420239">s</span><span class="op" id="2420240">)</span><span class="op" id="2420241">,</span>&nbsp;<span class="ident" id="2420243">nil</span><br>
<span class="lineno"></span><span class="op" id="2420247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2420250">func</span>&nbsp;<span class="op" id="2420255">(</span><span class="ident" id="2420256">b</span>&nbsp;<span class="op" id="2420258">*</span><span class="ident" id="2420259">buffer</span><span class="op" id="2420265">)</span>&nbsp;<span class="ident" id="2420267">WriteByte</span><span class="op" id="2420276">(</span><span class="ident" id="2420277">c</span>&nbsp;<span class="builtintype" id="2420279">byte</span><span class="op" id="2420283">)</span>&nbsp;<span class="builtintype" id="2420285">error</span>&nbsp;<span class="op" id="2420291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420294">*</span><span class="ident" id="2420295">b</span>&nbsp;<span class="op" id="2420297">=</span>&nbsp;<span class="builtinfunc" id="2420299">append</span><span class="op" id="2420305">(</span><span class="op" id="2420306">*</span><span class="ident" id="2420307">b</span><span class="op" id="2420308">,</span>&nbsp;<span class="ident" id="2420310">c</span><span class="op" id="2420311">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420314">return</span>&nbsp;<span class="ident" id="2420321">nil</span><br>
<span class="lineno"></span><span class="op" id="2420325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2420328">func</span>&nbsp;<span class="op" id="2420333">(</span><span class="ident" id="2420334">bp</span>&nbsp;<span class="op" id="2420337">*</span><span class="ident" id="2420338">buffer</span><span class="op" id="2420344">)</span>&nbsp;<span class="ident" id="2420346">WriteRune</span><span class="op" id="2420355">(</span><span class="ident" id="2420356">r</span>&nbsp;<span class="builtintype" id="2420358">rune</span><span class="op" id="2420362">)</span>&nbsp;<span class="builtintype" id="2420364">error</span>&nbsp;<span class="op" id="2420370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420373">if</span>&nbsp;<span class="ident" id="2420376">r</span>&nbsp;<span class="op" id="2420378">&lt;</span>&nbsp;<span class="ident" id="2420380">utf8</span><span class="op" id="2420384">.</span><span class="ident" id="2420385">RuneSelf</span>&nbsp;<span class="op" id="2420394">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420398">*</span><span class="ident" id="2420399">bp</span>&nbsp;<span class="op" id="2420402">=</span>&nbsp;<span class="builtinfunc" id="2420404">append</span><span class="op" id="2420410">(</span><span class="op" id="2420411">*</span><span class="ident" id="2420412">bp</span><span class="op" id="2420414">,</span>&nbsp;<span class="builtintype" id="2420416">byte</span><span class="op" id="2420420">(</span><span class="ident" id="2420421">r</span><span class="op" id="2420422">)</span><span class="op" id="2420423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420427">return</span>&nbsp;<span class="ident" id="2420434">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420443">b</span>&nbsp;<span class="op" id="2420445">:=</span>&nbsp;<span class="op" id="2420448">*</span><span class="ident" id="2420449">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420453">n</span>&nbsp;<span class="op" id="2420455">:=</span>&nbsp;<span class="builtinfunc" id="2420458">len</span><span class="op" id="2420461">(</span><span class="ident" id="2420462">b</span><span class="op" id="2420463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420466">for</span>&nbsp;<span class="ident" id="2420470">n</span><span class="op" id="2420471">+</span><span class="ident" id="2420472">utf8</span><span class="op" id="2420476">.</span><span class="ident" id="2420477">UTFMax</span>&nbsp;<span class="op" id="2420484">&gt;</span>&nbsp;<span class="builtinfunc" id="2420486">cap</span><span class="op" id="2420489">(</span><span class="ident" id="2420490">b</span><span class="op" id="2420491">)</span>&nbsp;<span class="op" id="2420493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420497">b</span>&nbsp;<span class="op" id="2420499">=</span>&nbsp;<span class="builtinfunc" id="2420501">append</span><span class="op" id="2420507">(</span><span class="ident" id="2420508">b</span><span class="op" id="2420509">,</span>&nbsp;<span class="num" id="2420511">0</span><span class="op" id="2420512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420518">w</span>&nbsp;<span class="op" id="2420520">:=</span>&nbsp;<span class="ident" id="2420523">utf8</span><span class="op" id="2420527">.</span><span class="ident" id="2420528">EncodeRune</span><span class="op" id="2420538">(</span><span class="ident" id="2420539">b</span><span class="op" id="2420540">[</span><span class="ident" id="2420541">n</span><span class="op" id="2420542">:</span><span class="ident" id="2420543">n</span><span class="op" id="2420544">+</span><span class="ident" id="2420545">utf8</span><span class="op" id="2420549">.</span><span class="ident" id="2420550">UTFMax</span><span class="op" id="2420556">]</span><span class="op" id="2420557">,</span>&nbsp;<span class="ident" id="2420559">r</span><span class="op" id="2420560">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420563">*</span><span class="ident" id="2420564">bp</span>&nbsp;<span class="op" id="2420567">=</span>&nbsp;<span class="ident" id="2420569">b</span><span class="op" id="2420570">[</span><span class="op" id="2420571">:</span><span class="ident" id="2420572">n</span><span class="op" id="2420573">+</span><span class="ident" id="2420574">w</span><span class="op" id="2420575">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420578">return</span>&nbsp;<span class="ident" id="2420585">nil</span><br>
<span class="lineno"></span><span class="op" id="2420589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2420592">type</span>&nbsp;<span class="ident" id="2420597">pp</span>&nbsp;<span class="keyword" id="2420600">struct</span>&nbsp;<span class="op" id="2420607">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420610">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2420620">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420625">panicking</span>&nbsp;<span class="builtintype" id="2420635">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420641">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2420651">bool</span>&nbsp;<span class="comment" id="2420656">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420688">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420698">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2420706">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420757">arg</span>&nbsp;<span class="keyword" id="2420761">interface</span><span class="op" id="2420770">{</span><span class="op" id="2420771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2420774">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2420840">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420895">value</span>&nbsp;<span class="ident" id="2420901">reflect</span><span class="op" id="2420908">.</span><span class="ident" id="2420909">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2420916">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420990">reordered</span>&nbsp;<span class="builtintype" id="2421000">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2421006">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421085">goodArgNum</span>&nbsp;<span class="builtintype" id="2421096">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421102">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2421113">[</span><span class="ident" id="2421114">utf8</span><span class="op" id="2421118">.</span><span class="ident" id="2421119">UTFMax</span><span class="op" id="2421125">]</span><span class="builtintype" id="2421126">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421132">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421143">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2421147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2421150">var</span>&nbsp;<span class="ident" id="2421154">ppFree</span>&nbsp;<span class="op" id="2421161">=</span>&nbsp;<span class="ident" id="2421163">sync</span><span class="op" id="2421167">.</span><span class="ident" id="2421168">Pool</span><span class="op" id="2421172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421175">New</span><span class="op" id="2421178">:</span>&nbsp;<span class="keyword" id="2421180">func</span><span class="op" id="2421184">(</span><span class="op" id="2421185">)</span>&nbsp;<span class="keyword" id="2421187">interface</span><span class="op" id="2421196">{</span><span class="op" id="2421197">}</span>&nbsp;<span class="op" id="2421199">{</span>&nbsp;<span class="keyword" id="2421201">return</span>&nbsp;<span class="builtinfunc" id="2421208">new</span><span class="op" id="2421211">(</span><span class="ident" id="2421212">pp</span><span class="op" id="2421214">)</span>&nbsp;<span class="op" id="2421216">}</span><span class="op" id="2421217">,</span><br>
<span class="lineno"></span><span class="op" id="2421219">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2421222">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2421285">func</span>&nbsp;<span class="ident" id="2421290">newPrinter</span><span class="op" id="2421300">(</span><span class="op" id="2421301">)</span>&nbsp;<span class="op" id="2421303">*</span><span class="ident" id="2421304">pp</span>&nbsp;<span class="op" id="2421307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421310">p</span>&nbsp;<span class="op" id="2421312">:=</span>&nbsp;<span class="ident" id="2421315">ppFree</span><span class="op" id="2421321">.</span><span class="ident" id="2421322">Get</span><span class="op" id="2421325">(</span><span class="op" id="2421326">)</span><span class="op" id="2421327">.</span><span class="op" id="2421328">(</span><span class="op" id="2421329">*</span><span class="ident" id="2421330">pp</span><span class="op" id="2421332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421335">p</span><span class="op" id="2421336">.</span><span class="ident" id="2421337">panicking</span>&nbsp;<span class="op" id="2421347">=</span>&nbsp;<span class="builtintype" id="2421349">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421356">p</span><span class="op" id="2421357">.</span><span class="ident" id="2421358">erroring</span>&nbsp;<span class="op" id="2421367">=</span>&nbsp;<span class="builtintype" id="2421369">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421376">p</span><span class="op" id="2421377">.</span><span class="ident" id="2421378">fmt</span><span class="op" id="2421381">.</span><span class="ident" id="2421382">init</span><span class="op" id="2421386">(</span><span class="op" id="2421387">&amp;</span><span class="ident" id="2421388">p</span><span class="op" id="2421389">.</span><span class="ident" id="2421390">buf</span><span class="op" id="2421393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421396">return</span>&nbsp;<span class="ident" id="2421403">p</span><br>
<span class="lineno"></span><span class="op" id="2421405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2421408">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2421486">func</span>&nbsp;<span class="op" id="2421491">(</span><span class="ident" id="2421492">p</span>&nbsp;<span class="op" id="2421494">*</span><span class="ident" id="2421495">pp</span><span class="op" id="2421497">)</span>&nbsp;<span class="ident" id="2421499">free</span><span class="op" id="2421503">(</span><span class="op" id="2421504">)</span>&nbsp;<span class="op" id="2421506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2421509">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421561">if</span>&nbsp;<span class="builtinfunc" id="2421564">cap</span><span class="op" id="2421567">(</span><span class="ident" id="2421568">p</span><span class="op" id="2421569">.</span><span class="ident" id="2421570">buf</span><span class="op" id="2421573">)</span>&nbsp;<span class="op" id="2421575">&gt;</span>&nbsp;<span class="num" id="2421577">1024</span>&nbsp;<span class="op" id="2421582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421586">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2421594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421597">p</span><span class="op" id="2421598">.</span><span class="ident" id="2421599">buf</span>&nbsp;<span class="op" id="2421603">=</span>&nbsp;<span class="ident" id="2421605">p</span><span class="op" id="2421606">.</span><span class="ident" id="2421607">buf</span><span class="op" id="2421610">[</span><span class="op" id="2421611">:</span><span class="num" id="2421612">0</span><span class="op" id="2421613">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421616">p</span><span class="op" id="2421617">.</span><span class="ident" id="2421618">arg</span>&nbsp;<span class="op" id="2421622">=</span>&nbsp;<span class="ident" id="2421624">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421629">p</span><span class="op" id="2421630">.</span><span class="ident" id="2421631">value</span>&nbsp;<span class="op" id="2421637">=</span>&nbsp;<span class="ident" id="2421639">reflect</span><span class="op" id="2421646">.</span><span class="ident" id="2421647">Value</span><span class="op" id="2421652">{</span><span class="op" id="2421653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421656">ppFree</span><span class="op" id="2421662">.</span><span class="ident" id="2421663">Put</span><span class="op" id="2421666">(</span><span class="ident" id="2421667">p</span><span class="op" id="2421668">)</span><br>
<span class="lineno">150</span><span class="op" id="2421670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2421673">func</span>&nbsp;<span class="op" id="2421678">(</span><span class="ident" id="2421679">p</span>&nbsp;<span class="op" id="2421681">*</span><span class="ident" id="2421682">pp</span><span class="op" id="2421684">)</span>&nbsp;<span class="ident" id="2421686">Width</span><span class="op" id="2421691">(</span><span class="op" id="2421692">)</span>&nbsp;<span class="op" id="2421694">(</span><span class="ident" id="2421695">wid</span>&nbsp;<span class="builtintype" id="2421699">int</span><span class="op" id="2421702">,</span>&nbsp;<span class="ident" id="2421704">ok</span>&nbsp;<span class="builtintype" id="2421707">bool</span><span class="op" id="2421711">)</span>&nbsp;<span class="op" id="2421713">{</span>&nbsp;<span class="keyword" id="2421715">return</span>&nbsp;<span class="ident" id="2421722">p</span><span class="op" id="2421723">.</span><span class="ident" id="2421724">fmt</span><span class="op" id="2421727">.</span><span class="ident" id="2421728">wid</span><span class="op" id="2421731">,</span>&nbsp;<span class="ident" id="2421733">p</span><span class="op" id="2421734">.</span><span class="ident" id="2421735">fmt</span><span class="op" id="2421738">.</span><span class="ident" id="2421739">widPresent</span>&nbsp;<span class="op" id="2421750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2421753">func</span>&nbsp;<span class="op" id="2421758">(</span><span class="ident" id="2421759">p</span>&nbsp;<span class="op" id="2421761">*</span><span class="ident" id="2421762">pp</span><span class="op" id="2421764">)</span>&nbsp;<span class="ident" id="2421766">Precision</span><span class="op" id="2421775">(</span><span class="op" id="2421776">)</span>&nbsp;<span class="op" id="2421778">(</span><span class="ident" id="2421779">prec</span>&nbsp;<span class="builtintype" id="2421784">int</span><span class="op" id="2421787">,</span>&nbsp;<span class="ident" id="2421789">ok</span>&nbsp;<span class="builtintype" id="2421792">bool</span><span class="op" id="2421796">)</span>&nbsp;<span class="op" id="2421798">{</span>&nbsp;<span class="keyword" id="2421800">return</span>&nbsp;<span class="ident" id="2421807">p</span><span class="op" id="2421808">.</span><span class="ident" id="2421809">fmt</span><span class="op" id="2421812">.</span><span class="ident" id="2421813">prec</span><span class="op" id="2421817">,</span>&nbsp;<span class="ident" id="2421819">p</span><span class="op" id="2421820">.</span><span class="ident" id="2421821">fmt</span><span class="op" id="2421824">.</span><span class="ident" id="2421825">precPresent</span>&nbsp;<span class="op" id="2421837">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2421840">func</span>&nbsp;<span class="op" id="2421845">(</span><span class="ident" id="2421846">p</span>&nbsp;<span class="op" id="2421848">*</span><span class="ident" id="2421849">pp</span><span class="op" id="2421851">)</span>&nbsp;<span class="ident" id="2421853">Flag</span><span class="op" id="2421857">(</span><span class="ident" id="2421858">b</span>&nbsp;<span class="builtintype" id="2421860">int</span><span class="op" id="2421863">)</span>&nbsp;<span class="builtintype" id="2421865">bool</span>&nbsp;<span class="op" id="2421870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421873">switch</span>&nbsp;<span class="ident" id="2421880">b</span>&nbsp;<span class="op" id="2421882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421885">case</span>&nbsp;<span class="string" id="2421890">&#39;-&#39;</span><span class="op" id="2421893">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421897">return</span>&nbsp;<span class="ident" id="2421904">p</span><span class="op" id="2421905">.</span><span class="ident" id="2421906">fmt</span><span class="op" id="2421909">.</span><span class="ident" id="2421910">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421917">case</span>&nbsp;<span class="string" id="2421922">&#39;+&#39;</span><span class="op" id="2421925">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421929">return</span>&nbsp;<span class="ident" id="2421936">p</span><span class="op" id="2421937">.</span><span class="ident" id="2421938">fmt</span><span class="op" id="2421941">.</span><span class="ident" id="2421942">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421948">case</span>&nbsp;<span class="string" id="2421953">&#39;#&#39;</span><span class="op" id="2421956">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421960">return</span>&nbsp;<span class="ident" id="2421967">p</span><span class="op" id="2421968">.</span><span class="ident" id="2421969">fmt</span><span class="op" id="2421972">.</span><span class="ident" id="2421973">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421980">case</span>&nbsp;<span class="string" id="2421985">&#39;&nbsp;&#39;</span><span class="op" id="2421988">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421992">return</span>&nbsp;<span class="ident" id="2421999">p</span><span class="op" id="2422000">.</span><span class="ident" id="2422001">fmt</span><span class="op" id="2422004">.</span><span class="ident" id="2422005">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422012">case</span>&nbsp;<span class="string" id="2422017">&#39;0&#39;</span><span class="op" id="2422020">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422024">return</span>&nbsp;<span class="ident" id="2422031">p</span><span class="op" id="2422032">.</span><span class="ident" id="2422033">fmt</span><span class="op" id="2422036">.</span><span class="ident" id="2422037">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2422043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422046">return</span>&nbsp;<span class="builtintype" id="2422053">false</span><br>
<span class="lineno">170</span><span class="op" id="2422059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2422062">func</span>&nbsp;<span class="op" id="2422067">(</span><span class="ident" id="2422068">p</span>&nbsp;<span class="op" id="2422070">*</span><span class="ident" id="2422071">pp</span><span class="op" id="2422073">)</span>&nbsp;<span class="ident" id="2422075">add</span><span class="op" id="2422078">(</span><span class="ident" id="2422079">c</span>&nbsp;<span class="builtintype" id="2422081">rune</span><span class="op" id="2422085">)</span>&nbsp;<span class="op" id="2422087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422090">p</span><span class="op" id="2422091">.</span><span class="ident" id="2422092">buf</span><span class="op" id="2422095">.</span><span class="ident" id="2422096">WriteRune</span><span class="op" id="2422105">(</span><span class="ident" id="2422106">c</span><span class="op" id="2422107">)</span><br>
<span class="lineno"></span><span class="op" id="2422109">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2422112">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2422183">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2422217">func</span>&nbsp;<span class="op" id="2422222">(</span><span class="ident" id="2422223">p</span>&nbsp;<span class="op" id="2422225">*</span><span class="ident" id="2422226">pp</span><span class="op" id="2422228">)</span>&nbsp;<span class="ident" id="2422230">Write</span><span class="op" id="2422235">(</span><span class="ident" id="2422236">b</span>&nbsp;<span class="op" id="2422238">[</span><span class="op" id="2422239">]</span><span class="builtintype" id="2422240">byte</span><span class="op" id="2422244">)</span>&nbsp;<span class="op" id="2422246">(</span><span class="ident" id="2422247">ret</span>&nbsp;<span class="builtintype" id="2422251">int</span><span class="op" id="2422254">,</span>&nbsp;<span class="ident" id="2422256">err</span>&nbsp;<span class="builtintype" id="2422260">error</span><span class="op" id="2422265">)</span>&nbsp;<span class="op" id="2422267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422270">return</span>&nbsp;<span class="ident" id="2422277">p</span><span class="op" id="2422278">.</span><span class="ident" id="2422279">buf</span><span class="op" id="2422282">.</span><span class="ident" id="2422283">Write</span><span class="op" id="2422288">(</span><span class="ident" id="2422289">b</span><span class="op" id="2422290">)</span><br>
<span class="lineno">180</span><span class="op" id="2422292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2422295">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2422351">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2422419">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2422494">func</span>&nbsp;<span class="ident" id="2422499">Fprintf</span><span class="op" id="2422506">(</span><span class="ident" id="2422507">w</span>&nbsp;<span class="ident" id="2422509">io</span><span class="op" id="2422511">.</span><span class="ident" id="2422512">Writer</span><span class="op" id="2422518">,</span>&nbsp;<span class="ident" id="2422520">format</span>&nbsp;<span class="builtintype" id="2422527">string</span><span class="op" id="2422533">,</span>&nbsp;<span class="ident" id="2422535">a</span>&nbsp;<span class="op" id="2422537">...</span><span class="keyword" id="2422540">interface</span><span class="op" id="2422549">{</span><span class="op" id="2422550">}</span><span class="op" id="2422551">)</span>&nbsp;<span class="op" id="2422553">(</span><span class="ident" id="2422554">n</span>&nbsp;<span class="builtintype" id="2422556">int</span><span class="op" id="2422559">,</span>&nbsp;<span class="ident" id="2422561">err</span>&nbsp;<span class="builtintype" id="2422565">error</span><span class="op" id="2422570">)</span>&nbsp;<span class="op" id="2422572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422575">p</span>&nbsp;<span class="op" id="2422577">:=</span>&nbsp;<span class="ident" id="2422580">newPrinter</span><span class="op" id="2422590">(</span><span class="op" id="2422591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422594">p</span><span class="op" id="2422595">.</span><span class="ident" id="2422596">doPrintf</span><span class="op" id="2422604">(</span><span class="ident" id="2422605">format</span><span class="op" id="2422611">,</span>&nbsp;<span class="ident" id="2422613">a</span><span class="op" id="2422614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422617">n</span><span class="op" id="2422618">,</span>&nbsp;<span class="ident" id="2422620">err</span>&nbsp;<span class="op" id="2422624">=</span>&nbsp;<span class="ident" id="2422626">w</span><span class="op" id="2422627">.</span><span class="ident" id="2422628">Write</span><span class="op" id="2422633">(</span><span class="ident" id="2422634">p</span><span class="op" id="2422635">.</span><span class="ident" id="2422636">buf</span><span class="op" id="2422639">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422642">p</span><span class="op" id="2422643">.</span><span class="ident" id="2422644">free</span><span class="op" id="2422648">(</span><span class="op" id="2422649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422652">return</span><br>
<span class="lineno"></span><span class="op" id="2422659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2422662">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2422743">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2422818">func</span>&nbsp;<span class="ident" id="2422823">Printf</span><span class="op" id="2422829">(</span><span class="ident" id="2422830">format</span>&nbsp;<span class="builtintype" id="2422837">string</span><span class="op" id="2422843">,</span>&nbsp;<span class="ident" id="2422845">a</span>&nbsp;<span class="op" id="2422847">...</span><span class="keyword" id="2422850">interface</span><span class="op" id="2422859">{</span><span class="op" id="2422860">}</span><span class="op" id="2422861">)</span>&nbsp;<span class="op" id="2422863">(</span><span class="ident" id="2422864">n</span>&nbsp;<span class="builtintype" id="2422866">int</span><span class="op" id="2422869">,</span>&nbsp;<span class="ident" id="2422871">err</span>&nbsp;<span class="builtintype" id="2422875">error</span><span class="op" id="2422880">)</span>&nbsp;<span class="op" id="2422882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422885">return</span>&nbsp;<span class="ident" id="2422892">Fprintf</span><span class="op" id="2422899">(</span><span class="ident" id="2422900">os</span><span class="op" id="2422902">.</span><span class="ident" id="2422903">Stdout</span><span class="op" id="2422909">,</span>&nbsp;<span class="ident" id="2422911">format</span><span class="op" id="2422917">,</span>&nbsp;<span class="ident" id="2422919">a</span><span class="op" id="2422920">...</span><span class="op" id="2422923">)</span><br>
<span class="lineno"></span><span class="op" id="2422925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2422928">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2423013">func</span>&nbsp;<span class="ident" id="2423018">Sprintf</span><span class="op" id="2423025">(</span><span class="ident" id="2423026">format</span>&nbsp;<span class="builtintype" id="2423033">string</span><span class="op" id="2423039">,</span>&nbsp;<span class="ident" id="2423041">a</span>&nbsp;<span class="op" id="2423043">...</span><span class="keyword" id="2423046">interface</span><span class="op" id="2423055">{</span><span class="op" id="2423056">}</span><span class="op" id="2423057">)</span>&nbsp;<span class="builtintype" id="2423059">string</span>&nbsp;<span class="op" id="2423066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423069">p</span>&nbsp;<span class="op" id="2423071">:=</span>&nbsp;<span class="ident" id="2423074">newPrinter</span><span class="op" id="2423084">(</span><span class="op" id="2423085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423088">p</span><span class="op" id="2423089">.</span><span class="ident" id="2423090">doPrintf</span><span class="op" id="2423098">(</span><span class="ident" id="2423099">format</span><span class="op" id="2423105">,</span>&nbsp;<span class="ident" id="2423107">a</span><span class="op" id="2423108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423111">s</span>&nbsp;<span class="op" id="2423113">:=</span>&nbsp;<span class="builtintype" id="2423116">string</span><span class="op" id="2423122">(</span><span class="ident" id="2423123">p</span><span class="op" id="2423124">.</span><span class="ident" id="2423125">buf</span><span class="op" id="2423128">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423131">p</span><span class="op" id="2423132">.</span><span class="ident" id="2423133">free</span><span class="op" id="2423137">(</span><span class="op" id="2423138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423141">return</span>&nbsp;<span class="ident" id="2423148">s</span><br>
<span class="lineno"></span><span class="op" id="2423150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2423153">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2423226">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2423262">func</span>&nbsp;<span class="ident" id="2423267">Errorf</span><span class="op" id="2423273">(</span><span class="ident" id="2423274">format</span>&nbsp;<span class="builtintype" id="2423281">string</span><span class="op" id="2423287">,</span>&nbsp;<span class="ident" id="2423289">a</span>&nbsp;<span class="op" id="2423291">...</span><span class="keyword" id="2423294">interface</span><span class="op" id="2423303">{</span><span class="op" id="2423304">}</span><span class="op" id="2423305">)</span>&nbsp;<span class="builtintype" id="2423307">error</span>&nbsp;<span class="op" id="2423313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423316">return</span>&nbsp;<span class="ident" id="2423323">errors</span><span class="op" id="2423329">.</span><span class="ident" id="2423330">New</span><span class="op" id="2423333">(</span><span class="ident" id="2423334">Sprintf</span><span class="op" id="2423341">(</span><span class="ident" id="2423342">format</span><span class="op" id="2423348">,</span>&nbsp;<span class="ident" id="2423350">a</span><span class="op" id="2423351">...</span><span class="op" id="2423354">)</span><span class="op" id="2423355">)</span><br>
<span class="lineno"></span><span class="op" id="2423357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2423360">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2423407">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2423485">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2423548">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2423623">func</span>&nbsp;<span class="ident" id="2423628">Fprint</span><span class="op" id="2423634">(</span><span class="ident" id="2423635">w</span>&nbsp;<span class="ident" id="2423637">io</span><span class="op" id="2423639">.</span><span class="ident" id="2423640">Writer</span><span class="op" id="2423646">,</span>&nbsp;<span class="ident" id="2423648">a</span>&nbsp;<span class="op" id="2423650">...</span><span class="keyword" id="2423653">interface</span><span class="op" id="2423662">{</span><span class="op" id="2423663">}</span><span class="op" id="2423664">)</span>&nbsp;<span class="op" id="2423666">(</span><span class="ident" id="2423667">n</span>&nbsp;<span class="builtintype" id="2423669">int</span><span class="op" id="2423672">,</span>&nbsp;<span class="ident" id="2423674">err</span>&nbsp;<span class="builtintype" id="2423678">error</span><span class="op" id="2423683">)</span>&nbsp;<span class="op" id="2423685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423688">p</span>&nbsp;<span class="op" id="2423690">:=</span>&nbsp;<span class="ident" id="2423693">newPrinter</span><span class="op" id="2423703">(</span><span class="op" id="2423704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423707">p</span><span class="op" id="2423708">.</span><span class="ident" id="2423709">doPrint</span><span class="op" id="2423716">(</span><span class="ident" id="2423717">a</span><span class="op" id="2423718">,</span>&nbsp;<span class="builtintype" id="2423720">false</span><span class="op" id="2423725">,</span>&nbsp;<span class="builtintype" id="2423727">false</span><span class="op" id="2423732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423735">n</span><span class="op" id="2423736">,</span>&nbsp;<span class="ident" id="2423738">err</span>&nbsp;<span class="op" id="2423742">=</span>&nbsp;<span class="ident" id="2423744">w</span><span class="op" id="2423745">.</span><span class="ident" id="2423746">Write</span><span class="op" id="2423751">(</span><span class="ident" id="2423752">p</span><span class="op" id="2423753">.</span><span class="ident" id="2423754">buf</span><span class="op" id="2423757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423760">p</span><span class="op" id="2423761">.</span><span class="ident" id="2423762">free</span><span class="op" id="2423766">(</span><span class="op" id="2423767">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423770">return</span><br>
<span class="lineno"></span><span class="op" id="2423777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2423780">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2423871">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2423934">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2424009">func</span>&nbsp;<span class="ident" id="2424014">Print</span><span class="op" id="2424019">(</span><span class="ident" id="2424020">a</span>&nbsp;<span class="op" id="2424022">...</span><span class="keyword" id="2424025">interface</span><span class="op" id="2424034">{</span><span class="op" id="2424035">}</span><span class="op" id="2424036">)</span>&nbsp;<span class="op" id="2424038">(</span><span class="ident" id="2424039">n</span>&nbsp;<span class="builtintype" id="2424041">int</span><span class="op" id="2424044">,</span>&nbsp;<span class="ident" id="2424046">err</span>&nbsp;<span class="builtintype" id="2424050">error</span><span class="op" id="2424055">)</span>&nbsp;<span class="op" id="2424057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424060">return</span>&nbsp;<span class="ident" id="2424067">Fprint</span><span class="op" id="2424073">(</span><span class="ident" id="2424074">os</span><span class="op" id="2424076">.</span><span class="ident" id="2424077">Stdout</span><span class="op" id="2424083">,</span>&nbsp;<span class="ident" id="2424085">a</span><span class="op" id="2424086">...</span><span class="op" id="2424089">)</span><br>
<span class="lineno"></span><span class="op" id="2424091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2424094">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2424189">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2424252">func</span>&nbsp;<span class="ident" id="2424257">Sprint</span><span class="op" id="2424263">(</span><span class="ident" id="2424264">a</span>&nbsp;<span class="op" id="2424266">...</span><span class="keyword" id="2424269">interface</span><span class="op" id="2424278">{</span><span class="op" id="2424279">}</span><span class="op" id="2424280">)</span>&nbsp;<span class="builtintype" id="2424282">string</span>&nbsp;<span class="op" id="2424289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424292">p</span>&nbsp;<span class="op" id="2424294">:=</span>&nbsp;<span class="ident" id="2424297">newPrinter</span><span class="op" id="2424307">(</span><span class="op" id="2424308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424311">p</span><span class="op" id="2424312">.</span><span class="ident" id="2424313">doPrint</span><span class="op" id="2424320">(</span><span class="ident" id="2424321">a</span><span class="op" id="2424322">,</span>&nbsp;<span class="builtintype" id="2424324">false</span><span class="op" id="2424329">,</span>&nbsp;<span class="builtintype" id="2424331">false</span><span class="op" id="2424336">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424339">s</span>&nbsp;<span class="op" id="2424341">:=</span>&nbsp;<span class="builtintype" id="2424344">string</span><span class="op" id="2424350">(</span><span class="ident" id="2424351">p</span><span class="op" id="2424352">.</span><span class="ident" id="2424353">buf</span><span class="op" id="2424356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424359">p</span><span class="op" id="2424360">.</span><span class="ident" id="2424361">free</span><span class="op" id="2424365">(</span><span class="op" id="2424366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424369">return</span>&nbsp;<span class="ident" id="2424376">s</span><br>
<span class="lineno"></span><span class="op" id="2424378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2424381">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2424441">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2424498">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2424526">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2424606">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2424677">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2424752">func</span>&nbsp;<span class="ident" id="2424757">Fprintln</span><span class="op" id="2424765">(</span><span class="ident" id="2424766">w</span>&nbsp;<span class="ident" id="2424768">io</span><span class="op" id="2424770">.</span><span class="ident" id="2424771">Writer</span><span class="op" id="2424777">,</span>&nbsp;<span class="ident" id="2424779">a</span>&nbsp;<span class="op" id="2424781">...</span><span class="keyword" id="2424784">interface</span><span class="op" id="2424793">{</span><span class="op" id="2424794">}</span><span class="op" id="2424795">)</span>&nbsp;<span class="op" id="2424797">(</span><span class="ident" id="2424798">n</span>&nbsp;<span class="builtintype" id="2424800">int</span><span class="op" id="2424803">,</span>&nbsp;<span class="ident" id="2424805">err</span>&nbsp;<span class="builtintype" id="2424809">error</span><span class="op" id="2424814">)</span>&nbsp;<span class="op" id="2424816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424819">p</span>&nbsp;<span class="op" id="2424821">:=</span>&nbsp;<span class="ident" id="2424824">newPrinter</span><span class="op" id="2424834">(</span><span class="op" id="2424835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424838">p</span><span class="op" id="2424839">.</span><span class="ident" id="2424840">doPrint</span><span class="op" id="2424847">(</span><span class="ident" id="2424848">a</span><span class="op" id="2424849">,</span>&nbsp;<span class="builtintype" id="2424851">true</span><span class="op" id="2424855">,</span>&nbsp;<span class="builtintype" id="2424857">true</span><span class="op" id="2424861">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424864">n</span><span class="op" id="2424865">,</span>&nbsp;<span class="ident" id="2424867">err</span>&nbsp;<span class="op" id="2424871">=</span>&nbsp;<span class="ident" id="2424873">w</span><span class="op" id="2424874">.</span><span class="ident" id="2424875">Write</span><span class="op" id="2424880">(</span><span class="ident" id="2424881">p</span><span class="op" id="2424882">.</span><span class="ident" id="2424883">buf</span><span class="op" id="2424886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424889">p</span><span class="op" id="2424890">.</span><span class="ident" id="2424891">free</span><span class="op" id="2424895">(</span><span class="op" id="2424896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424899">return</span><br>
<span class="lineno"></span><span class="op" id="2424906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2424909">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2425002">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2425073">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2425148">func</span>&nbsp;<span class="ident" id="2425153">Println</span><span class="op" id="2425160">(</span><span class="ident" id="2425161">a</span>&nbsp;<span class="op" id="2425163">...</span><span class="keyword" id="2425166">interface</span><span class="op" id="2425175">{</span><span class="op" id="2425176">}</span><span class="op" id="2425177">)</span>&nbsp;<span class="op" id="2425179">(</span><span class="ident" id="2425180">n</span>&nbsp;<span class="builtintype" id="2425182">int</span><span class="op" id="2425185">,</span>&nbsp;<span class="ident" id="2425187">err</span>&nbsp;<span class="builtintype" id="2425191">error</span><span class="op" id="2425196">)</span>&nbsp;<span class="op" id="2425198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425201">return</span>&nbsp;<span class="ident" id="2425208">Fprintln</span><span class="op" id="2425216">(</span><span class="ident" id="2425217">os</span><span class="op" id="2425219">.</span><span class="ident" id="2425220">Stdout</span><span class="op" id="2425226">,</span>&nbsp;<span class="ident" id="2425228">a</span><span class="op" id="2425229">...</span><span class="op" id="2425232">)</span><br>
<span class="lineno">265</span><span class="op" id="2425234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2425237">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2425334">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2425405">func</span>&nbsp;<span class="ident" id="2425410">Sprintln</span><span class="op" id="2425418">(</span><span class="ident" id="2425419">a</span>&nbsp;<span class="op" id="2425421">...</span><span class="keyword" id="2425424">interface</span><span class="op" id="2425433">{</span><span class="op" id="2425434">}</span><span class="op" id="2425435">)</span>&nbsp;<span class="builtintype" id="2425437">string</span>&nbsp;<span class="op" id="2425444">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425447">p</span>&nbsp;<span class="op" id="2425449">:=</span>&nbsp;<span class="ident" id="2425452">newPrinter</span><span class="op" id="2425462">(</span><span class="op" id="2425463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425466">p</span><span class="op" id="2425467">.</span><span class="ident" id="2425468">doPrint</span><span class="op" id="2425475">(</span><span class="ident" id="2425476">a</span><span class="op" id="2425477">,</span>&nbsp;<span class="builtintype" id="2425479">true</span><span class="op" id="2425483">,</span>&nbsp;<span class="builtintype" id="2425485">true</span><span class="op" id="2425489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425492">s</span>&nbsp;<span class="op" id="2425494">:=</span>&nbsp;<span class="builtintype" id="2425497">string</span><span class="op" id="2425503">(</span><span class="ident" id="2425504">p</span><span class="op" id="2425505">.</span><span class="ident" id="2425506">buf</span><span class="op" id="2425509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425512">p</span><span class="op" id="2425513">.</span><span class="ident" id="2425514">free</span><span class="op" id="2425518">(</span><span class="op" id="2425519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425522">return</span>&nbsp;<span class="ident" id="2425529">s</span><br>
<span class="lineno">275</span><span class="op" id="2425531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2425534">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2425587">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2425649">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2425710">func</span>&nbsp;<span class="ident" id="2425715">getField</span><span class="op" id="2425723">(</span><span class="ident" id="2425724">v</span>&nbsp;<span class="ident" id="2425726">reflect</span><span class="op" id="2425733">.</span><span class="ident" id="2425734">Value</span><span class="op" id="2425739">,</span>&nbsp;<span class="ident" id="2425741">i</span>&nbsp;<span class="builtintype" id="2425743">int</span><span class="op" id="2425746">)</span>&nbsp;<span class="ident" id="2425748">reflect</span><span class="op" id="2425755">.</span><span class="ident" id="2425756">Value</span>&nbsp;<span class="op" id="2425762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425765">val</span>&nbsp;<span class="op" id="2425769">:=</span>&nbsp;<span class="ident" id="2425772">v</span><span class="op" id="2425773">.</span><span class="ident" id="2425774">Field</span><span class="op" id="2425779">(</span><span class="ident" id="2425780">i</span><span class="op" id="2425781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425784">if</span>&nbsp;<span class="ident" id="2425787">val</span><span class="op" id="2425790">.</span><span class="ident" id="2425791">Kind</span><span class="op" id="2425795">(</span><span class="op" id="2425796">)</span>&nbsp;<span class="op" id="2425798">==</span>&nbsp;<span class="ident" id="2425801">reflect</span><span class="op" id="2425808">.</span><span class="ident" id="2425809">Interface</span>&nbsp;<span class="op" id="2425819">&amp;&amp;</span>&nbsp;<span class="op" id="2425822">!</span><span class="ident" id="2425823">val</span><span class="op" id="2425826">.</span><span class="ident" id="2425827">IsNil</span><span class="op" id="2425832">(</span><span class="op" id="2425833">)</span>&nbsp;<span class="op" id="2425835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425839">val</span>&nbsp;<span class="op" id="2425843">=</span>&nbsp;<span class="ident" id="2425845">val</span><span class="op" id="2425848">.</span><span class="ident" id="2425849">Elem</span><span class="op" id="2425853">(</span><span class="op" id="2425854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2425857">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425860">return</span>&nbsp;<span class="ident" id="2425867">val</span><br>
<span class="lineno"></span><span class="op" id="2425871">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2425874">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2425966">func</span>&nbsp;<span class="ident" id="2425971">parsenum</span><span class="op" id="2425979">(</span><span class="ident" id="2425980">s</span>&nbsp;<span class="builtintype" id="2425982">string</span><span class="op" id="2425988">,</span>&nbsp;<span class="ident" id="2425990">start</span><span class="op" id="2425995">,</span>&nbsp;<span class="ident" id="2425997">end</span>&nbsp;<span class="builtintype" id="2426001">int</span><span class="op" id="2426004">)</span>&nbsp;<span class="op" id="2426006">(</span><span class="ident" id="2426007">num</span>&nbsp;<span class="builtintype" id="2426011">int</span><span class="op" id="2426014">,</span>&nbsp;<span class="ident" id="2426016">isnum</span>&nbsp;<span class="builtintype" id="2426022">bool</span><span class="op" id="2426026">,</span>&nbsp;<span class="ident" id="2426028">newi</span>&nbsp;<span class="builtintype" id="2426033">int</span><span class="op" id="2426036">)</span>&nbsp;<span class="op" id="2426038">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426041">if</span>&nbsp;<span class="ident" id="2426044">start</span>&nbsp;<span class="op" id="2426050">&gt;=</span>&nbsp;<span class="ident" id="2426053">end</span>&nbsp;<span class="op" id="2426057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426061">return</span>&nbsp;<span class="num" id="2426068">0</span><span class="op" id="2426069">,</span>&nbsp;<span class="builtintype" id="2426071">false</span><span class="op" id="2426076">,</span>&nbsp;<span class="ident" id="2426078">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2426083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426086">for</span>&nbsp;<span class="ident" id="2426090">newi</span>&nbsp;<span class="op" id="2426095">=</span>&nbsp;<span class="ident" id="2426097">start</span><span class="op" id="2426102">;</span>&nbsp;<span class="ident" id="2426104">newi</span>&nbsp;<span class="op" id="2426109">&lt;</span>&nbsp;<span class="ident" id="2426111">end</span>&nbsp;<span class="op" id="2426115">&amp;&amp;</span>&nbsp;<span class="string" id="2426118">&#39;0&#39;</span>&nbsp;<span class="op" id="2426122">&lt;=</span>&nbsp;<span class="ident" id="2426125">s</span><span class="op" id="2426126">[</span><span class="ident" id="2426127">newi</span><span class="op" id="2426131">]</span>&nbsp;<span class="op" id="2426133">&amp;&amp;</span>&nbsp;<span class="ident" id="2426136">s</span><span class="op" id="2426137">[</span><span class="ident" id="2426138">newi</span><span class="op" id="2426142">]</span>&nbsp;<span class="op" id="2426144">&lt;=</span>&nbsp;<span class="string" id="2426147">&#39;9&#39;</span><span class="op" id="2426150">;</span>&nbsp;<span class="ident" id="2426152">newi</span><span class="op" id="2426156">++</span>&nbsp;<span class="op" id="2426159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426163">num</span>&nbsp;<span class="op" id="2426167">=</span>&nbsp;<span class="ident" id="2426169">num</span><span class="op" id="2426172">*</span><span class="num" id="2426173">10</span>&nbsp;<span class="op" id="2426176">+</span>&nbsp;<span class="builtintype" id="2426178">int</span><span class="op" id="2426181">(</span><span class="ident" id="2426182">s</span><span class="op" id="2426183">[</span><span class="ident" id="2426184">newi</span><span class="op" id="2426188">]</span><span class="op" id="2426189">-</span><span class="string" id="2426190">&#39;0&#39;</span><span class="op" id="2426193">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426197">isnum</span>&nbsp;<span class="op" id="2426203">=</span>&nbsp;<span class="builtintype" id="2426205">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2426211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426214">return</span><br>
<span class="lineno"></span><span class="op" id="2426221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2426224">func</span>&nbsp;<span class="op" id="2426229">(</span><span class="ident" id="2426230">p</span>&nbsp;<span class="op" id="2426232">*</span><span class="ident" id="2426233">pp</span><span class="op" id="2426235">)</span>&nbsp;<span class="ident" id="2426237">unknownType</span><span class="op" id="2426248">(</span><span class="ident" id="2426249">v</span>&nbsp;<span class="ident" id="2426251">reflect</span><span class="op" id="2426258">.</span><span class="ident" id="2426259">Value</span><span class="op" id="2426264">)</span>&nbsp;<span class="op" id="2426266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426269">if</span>&nbsp;<span class="op" id="2426272">!</span><span class="ident" id="2426273">v</span><span class="op" id="2426274">.</span><span class="ident" id="2426275">IsValid</span><span class="op" id="2426282">(</span><span class="op" id="2426283">)</span>&nbsp;<span class="op" id="2426285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426289">p</span><span class="op" id="2426290">.</span><span class="ident" id="2426291">buf</span><span class="op" id="2426294">.</span><span class="ident" id="2426295">Write</span><span class="op" id="2426300">(</span><span class="ident" id="2426301">nilAngleBytes</span><span class="op" id="2426314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426318">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2426326">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426329">p</span><span class="op" id="2426330">.</span><span class="ident" id="2426331">buf</span><span class="op" id="2426334">.</span><span class="ident" id="2426335">WriteByte</span><span class="op" id="2426344">(</span><span class="string" id="2426345">&#39;?&#39;</span><span class="op" id="2426348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426351">p</span><span class="op" id="2426352">.</span><span class="ident" id="2426353">buf</span><span class="op" id="2426356">.</span><span class="ident" id="2426357">WriteString</span><span class="op" id="2426368">(</span><span class="ident" id="2426369">v</span><span class="op" id="2426370">.</span><span class="ident" id="2426371">Type</span><span class="op" id="2426375">(</span><span class="op" id="2426376">)</span><span class="op" id="2426377">.</span><span class="ident" id="2426378">String</span><span class="op" id="2426384">(</span><span class="op" id="2426385">)</span><span class="op" id="2426386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426389">p</span><span class="op" id="2426390">.</span><span class="ident" id="2426391">buf</span><span class="op" id="2426394">.</span><span class="ident" id="2426395">WriteByte</span><span class="op" id="2426404">(</span><span class="string" id="2426405">&#39;?&#39;</span><span class="op" id="2426408">)</span><br>
<span class="lineno"></span><span class="op" id="2426410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2426413">func</span>&nbsp;<span class="op" id="2426418">(</span><span class="ident" id="2426419">p</span>&nbsp;<span class="op" id="2426421">*</span><span class="ident" id="2426422">pp</span><span class="op" id="2426424">)</span>&nbsp;<span class="ident" id="2426426">badVerb</span><span class="op" id="2426433">(</span><span class="ident" id="2426434">verb</span>&nbsp;<span class="builtintype" id="2426439">rune</span><span class="op" id="2426443">)</span>&nbsp;<span class="op" id="2426445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426448">p</span><span class="op" id="2426449">.</span><span class="ident" id="2426450">erroring</span>&nbsp;<span class="op" id="2426459">=</span>&nbsp;<span class="builtintype" id="2426461">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426467">p</span><span class="op" id="2426468">.</span><span class="ident" id="2426469">add</span><span class="op" id="2426472">(</span><span class="string" id="2426473">&#39;%&#39;</span><span class="op" id="2426476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426479">p</span><span class="op" id="2426480">.</span><span class="ident" id="2426481">add</span><span class="op" id="2426484">(</span><span class="string" id="2426485">&#39;!&#39;</span><span class="op" id="2426488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426491">p</span><span class="op" id="2426492">.</span><span class="ident" id="2426493">add</span><span class="op" id="2426496">(</span><span class="ident" id="2426497">verb</span><span class="op" id="2426501">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426504">p</span><span class="op" id="2426505">.</span><span class="ident" id="2426506">add</span><span class="op" id="2426509">(</span><span class="string" id="2426510">&#39;(&#39;</span><span class="op" id="2426513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426516">switch</span>&nbsp;<span class="op" id="2426523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426526">case</span>&nbsp;<span class="ident" id="2426531">p</span><span class="op" id="2426532">.</span><span class="ident" id="2426533">arg</span>&nbsp;<span class="op" id="2426537">!=</span>&nbsp;<span class="ident" id="2426540">nil</span><span class="op" id="2426543">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426547">p</span><span class="op" id="2426548">.</span><span class="ident" id="2426549">buf</span><span class="op" id="2426552">.</span><span class="ident" id="2426553">WriteString</span><span class="op" id="2426564">(</span><span class="ident" id="2426565">reflect</span><span class="op" id="2426572">.</span><span class="ident" id="2426573">TypeOf</span><span class="op" id="2426579">(</span><span class="ident" id="2426580">p</span><span class="op" id="2426581">.</span><span class="ident" id="2426582">arg</span><span class="op" id="2426585">)</span><span class="op" id="2426586">.</span><span class="ident" id="2426587">String</span><span class="op" id="2426593">(</span><span class="op" id="2426594">)</span><span class="op" id="2426595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426599">p</span><span class="op" id="2426600">.</span><span class="ident" id="2426601">add</span><span class="op" id="2426604">(</span><span class="string" id="2426605">&#39;=&#39;</span><span class="op" id="2426608">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426612">p</span><span class="op" id="2426613">.</span><span class="ident" id="2426614">printArg</span><span class="op" id="2426622">(</span><span class="ident" id="2426623">p</span><span class="op" id="2426624">.</span><span class="ident" id="2426625">arg</span><span class="op" id="2426628">,</span>&nbsp;<span class="string" id="2426630">&#39;v&#39;</span><span class="op" id="2426633">,</span>&nbsp;<span class="num" id="2426635">0</span><span class="op" id="2426636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426639">case</span>&nbsp;<span class="ident" id="2426644">p</span><span class="op" id="2426645">.</span><span class="ident" id="2426646">value</span><span class="op" id="2426651">.</span><span class="ident" id="2426652">IsValid</span><span class="op" id="2426659">(</span><span class="op" id="2426660">)</span><span class="op" id="2426661">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426665">p</span><span class="op" id="2426666">.</span><span class="ident" id="2426667">buf</span><span class="op" id="2426670">.</span><span class="ident" id="2426671">WriteString</span><span class="op" id="2426682">(</span><span class="ident" id="2426683">p</span><span class="op" id="2426684">.</span><span class="ident" id="2426685">value</span><span class="op" id="2426690">.</span><span class="ident" id="2426691">Type</span><span class="op" id="2426695">(</span><span class="op" id="2426696">)</span><span class="op" id="2426697">.</span><span class="ident" id="2426698">String</span><span class="op" id="2426704">(</span><span class="op" id="2426705">)</span><span class="op" id="2426706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426710">p</span><span class="op" id="2426711">.</span><span class="ident" id="2426712">add</span><span class="op" id="2426715">(</span><span class="string" id="2426716">&#39;=&#39;</span><span class="op" id="2426719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426723">p</span><span class="op" id="2426724">.</span><span class="ident" id="2426725">printValue</span><span class="op" id="2426735">(</span><span class="ident" id="2426736">p</span><span class="op" id="2426737">.</span><span class="ident" id="2426738">value</span><span class="op" id="2426743">,</span>&nbsp;<span class="string" id="2426745">&#39;v&#39;</span><span class="op" id="2426748">,</span>&nbsp;<span class="num" id="2426750">0</span><span class="op" id="2426751">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426754">default</span><span class="op" id="2426761">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426765">p</span><span class="op" id="2426766">.</span><span class="ident" id="2426767">buf</span><span class="op" id="2426770">.</span><span class="ident" id="2426771">Write</span><span class="op" id="2426776">(</span><span class="ident" id="2426777">nilAngleBytes</span><span class="op" id="2426790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2426793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426796">p</span><span class="op" id="2426797">.</span><span class="ident" id="2426798">add</span><span class="op" id="2426801">(</span><span class="string" id="2426802">&#39;)&#39;</span><span class="op" id="2426805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426808">p</span><span class="op" id="2426809">.</span><span class="ident" id="2426810">erroring</span>&nbsp;<span class="op" id="2426819">=</span>&nbsp;<span class="builtintype" id="2426821">false</span><br>
<span class="lineno">330</span><span class="op" id="2426827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2426830">func</span>&nbsp;<span class="op" id="2426835">(</span><span class="ident" id="2426836">p</span>&nbsp;<span class="op" id="2426838">*</span><span class="ident" id="2426839">pp</span><span class="op" id="2426841">)</span>&nbsp;<span class="ident" id="2426843">fmtBool</span><span class="op" id="2426850">(</span><span class="ident" id="2426851">v</span>&nbsp;<span class="builtintype" id="2426853">bool</span><span class="op" id="2426857">,</span>&nbsp;<span class="ident" id="2426859">verb</span>&nbsp;<span class="builtintype" id="2426864">rune</span><span class="op" id="2426868">)</span>&nbsp;<span class="op" id="2426870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426873">switch</span>&nbsp;<span class="ident" id="2426880">verb</span>&nbsp;<span class="op" id="2426885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426888">case</span>&nbsp;<span class="string" id="2426893">&#39;t&#39;</span><span class="op" id="2426896">,</span>&nbsp;<span class="string" id="2426898">&#39;v&#39;</span><span class="op" id="2426901">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426905">p</span><span class="op" id="2426906">.</span><span class="ident" id="2426907">fmt</span><span class="op" id="2426910">.</span><span class="ident" id="2426911">fmt_boolean</span><span class="op" id="2426922">(</span><span class="ident" id="2426923">v</span><span class="op" id="2426924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426927">default</span><span class="op" id="2426934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426938">p</span><span class="op" id="2426939">.</span><span class="ident" id="2426940">badVerb</span><span class="op" id="2426947">(</span><span class="ident" id="2426948">verb</span><span class="op" id="2426952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2426955">}</span><br>
<span class="lineno"></span><span class="op" id="2426957">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2426960">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2427003">func</span>&nbsp;<span class="op" id="2427008">(</span><span class="ident" id="2427009">p</span>&nbsp;<span class="op" id="2427011">*</span><span class="ident" id="2427012">pp</span><span class="op" id="2427014">)</span>&nbsp;<span class="ident" id="2427016">fmtC</span><span class="op" id="2427020">(</span><span class="ident" id="2427021">c</span>&nbsp;<span class="ident" id="2427023">int64</span><span class="op" id="2427028">)</span>&nbsp;<span class="op" id="2427030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427033">r</span>&nbsp;<span class="op" id="2427035">:=</span>&nbsp;<span class="builtintype" id="2427038">rune</span><span class="op" id="2427042">(</span><span class="ident" id="2427043">c</span><span class="op" id="2427044">)</span>&nbsp;<span class="comment" id="2427046">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427070">if</span>&nbsp;<span class="ident" id="2427073">int64</span><span class="op" id="2427078">(</span><span class="ident" id="2427079">r</span><span class="op" id="2427080">)</span>&nbsp;<span class="op" id="2427082">!=</span>&nbsp;<span class="ident" id="2427085">c</span>&nbsp;<span class="op" id="2427087">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427091">r</span>&nbsp;<span class="op" id="2427093">=</span>&nbsp;<span class="ident" id="2427095">utf8</span><span class="op" id="2427099">.</span><span class="ident" id="2427100">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2427111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427114">w</span>&nbsp;<span class="op" id="2427116">:=</span>&nbsp;<span class="ident" id="2427119">utf8</span><span class="op" id="2427123">.</span><span class="ident" id="2427124">EncodeRune</span><span class="op" id="2427134">(</span><span class="ident" id="2427135">p</span><span class="op" id="2427136">.</span><span class="ident" id="2427137">runeBuf</span><span class="op" id="2427144">[</span><span class="num" id="2427145">0</span><span class="op" id="2427146">:</span><span class="ident" id="2427147">utf8</span><span class="op" id="2427151">.</span><span class="ident" id="2427152">UTFMax</span><span class="op" id="2427158">]</span><span class="op" id="2427159">,</span>&nbsp;<span class="ident" id="2427161">r</span><span class="op" id="2427162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427165">p</span><span class="op" id="2427166">.</span><span class="ident" id="2427167">fmt</span><span class="op" id="2427170">.</span><span class="ident" id="2427171">pad</span><span class="op" id="2427174">(</span><span class="ident" id="2427175">p</span><span class="op" id="2427176">.</span><span class="ident" id="2427177">runeBuf</span><span class="op" id="2427184">[</span><span class="num" id="2427185">0</span><span class="op" id="2427186">:</span><span class="ident" id="2427187">w</span><span class="op" id="2427188">]</span><span class="op" id="2427189">)</span><br>
<span class="lineno"></span><span class="op" id="2427191">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2427194">func</span>&nbsp;<span class="op" id="2427199">(</span><span class="ident" id="2427200">p</span>&nbsp;<span class="op" id="2427202">*</span><span class="ident" id="2427203">pp</span><span class="op" id="2427205">)</span>&nbsp;<span class="ident" id="2427207">fmtInt64</span><span class="op" id="2427215">(</span><span class="ident" id="2427216">v</span>&nbsp;<span class="ident" id="2427218">int64</span><span class="op" id="2427223">,</span>&nbsp;<span class="ident" id="2427225">verb</span>&nbsp;<span class="builtintype" id="2427230">rune</span><span class="op" id="2427234">)</span>&nbsp;<span class="op" id="2427236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427239">switch</span>&nbsp;<span class="ident" id="2427246">verb</span>&nbsp;<span class="op" id="2427251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427254">case</span>&nbsp;<span class="string" id="2427259">&#39;b&#39;</span><span class="op" id="2427262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427266">p</span><span class="op" id="2427267">.</span><span class="ident" id="2427268">fmt</span><span class="op" id="2427271">.</span><span class="ident" id="2427272">integer</span><span class="op" id="2427279">(</span><span class="ident" id="2427280">v</span><span class="op" id="2427281">,</span>&nbsp;<span class="num" id="2427283">2</span><span class="op" id="2427284">,</span>&nbsp;<span class="ident" id="2427286">signed</span><span class="op" id="2427292">,</span>&nbsp;<span class="ident" id="2427294">ldigits</span><span class="op" id="2427301">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427304">case</span>&nbsp;<span class="string" id="2427309">&#39;c&#39;</span><span class="op" id="2427312">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427316">p</span><span class="op" id="2427317">.</span><span class="ident" id="2427318">fmtC</span><span class="op" id="2427322">(</span><span class="ident" id="2427323">v</span><span class="op" id="2427324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427327">case</span>&nbsp;<span class="string" id="2427332">&#39;d&#39;</span><span class="op" id="2427335">,</span>&nbsp;<span class="string" id="2427337">&#39;v&#39;</span><span class="op" id="2427340">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427344">p</span><span class="op" id="2427345">.</span><span class="ident" id="2427346">fmt</span><span class="op" id="2427349">.</span><span class="ident" id="2427350">integer</span><span class="op" id="2427357">(</span><span class="ident" id="2427358">v</span><span class="op" id="2427359">,</span>&nbsp;<span class="num" id="2427361">10</span><span class="op" id="2427363">,</span>&nbsp;<span class="ident" id="2427365">signed</span><span class="op" id="2427371">,</span>&nbsp;<span class="ident" id="2427373">ldigits</span><span class="op" id="2427380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427383">case</span>&nbsp;<span class="string" id="2427388">&#39;o&#39;</span><span class="op" id="2427391">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427395">p</span><span class="op" id="2427396">.</span><span class="ident" id="2427397">fmt</span><span class="op" id="2427400">.</span><span class="ident" id="2427401">integer</span><span class="op" id="2427408">(</span><span class="ident" id="2427409">v</span><span class="op" id="2427410">,</span>&nbsp;<span class="num" id="2427412">8</span><span class="op" id="2427413">,</span>&nbsp;<span class="ident" id="2427415">signed</span><span class="op" id="2427421">,</span>&nbsp;<span class="ident" id="2427423">ldigits</span><span class="op" id="2427430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427433">case</span>&nbsp;<span class="string" id="2427438">&#39;q&#39;</span><span class="op" id="2427441">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427445">if</span>&nbsp;<span class="num" id="2427448">0</span>&nbsp;<span class="op" id="2427450">&lt;=</span>&nbsp;<span class="ident" id="2427453">v</span>&nbsp;<span class="op" id="2427455">&amp;&amp;</span>&nbsp;<span class="ident" id="2427458">v</span>&nbsp;<span class="op" id="2427460">&lt;=</span>&nbsp;<span class="ident" id="2427463">utf8</span><span class="op" id="2427467">.</span><span class="ident" id="2427468">MaxRune</span>&nbsp;<span class="op" id="2427476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427481">p</span><span class="op" id="2427482">.</span><span class="ident" id="2427483">fmt</span><span class="op" id="2427486">.</span><span class="ident" id="2427487">fmt_qc</span><span class="op" id="2427493">(</span><span class="ident" id="2427494">v</span><span class="op" id="2427495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2427499">}</span>&nbsp;<span class="keyword" id="2427501">else</span>&nbsp;<span class="op" id="2427506">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427511">p</span><span class="op" id="2427512">.</span><span class="ident" id="2427513">badVerb</span><span class="op" id="2427520">(</span><span class="ident" id="2427521">verb</span><span class="op" id="2427525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2427529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427532">case</span>&nbsp;<span class="string" id="2427537">&#39;x&#39;</span><span class="op" id="2427540">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427544">p</span><span class="op" id="2427545">.</span><span class="ident" id="2427546">fmt</span><span class="op" id="2427549">.</span><span class="ident" id="2427550">integer</span><span class="op" id="2427557">(</span><span class="ident" id="2427558">v</span><span class="op" id="2427559">,</span>&nbsp;<span class="num" id="2427561">16</span><span class="op" id="2427563">,</span>&nbsp;<span class="ident" id="2427565">signed</span><span class="op" id="2427571">,</span>&nbsp;<span class="ident" id="2427573">ldigits</span><span class="op" id="2427580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427583">case</span>&nbsp;<span class="string" id="2427588">&#39;U&#39;</span><span class="op" id="2427591">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427595">p</span><span class="op" id="2427596">.</span><span class="ident" id="2427597">fmtUnicode</span><span class="op" id="2427607">(</span><span class="ident" id="2427608">v</span><span class="op" id="2427609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427612">case</span>&nbsp;<span class="string" id="2427617">&#39;X&#39;</span><span class="op" id="2427620">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427624">p</span><span class="op" id="2427625">.</span><span class="ident" id="2427626">fmt</span><span class="op" id="2427629">.</span><span class="ident" id="2427630">integer</span><span class="op" id="2427637">(</span><span class="ident" id="2427638">v</span><span class="op" id="2427639">,</span>&nbsp;<span class="num" id="2427641">16</span><span class="op" id="2427643">,</span>&nbsp;<span class="ident" id="2427645">signed</span><span class="op" id="2427651">,</span>&nbsp;<span class="ident" id="2427653">udigits</span><span class="op" id="2427660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427663">default</span><span class="op" id="2427670">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427674">p</span><span class="op" id="2427675">.</span><span class="ident" id="2427676">badVerb</span><span class="op" id="2427683">(</span><span class="ident" id="2427684">verb</span><span class="op" id="2427688">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2427691">}</span><br>
<span class="lineno"></span><span class="op" id="2427693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2427696">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2427766">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2427827">func</span>&nbsp;<span class="op" id="2427832">(</span><span class="ident" id="2427833">p</span>&nbsp;<span class="op" id="2427835">*</span><span class="ident" id="2427836">pp</span><span class="op" id="2427838">)</span>&nbsp;<span class="ident" id="2427840">fmt0x64</span><span class="op" id="2427847">(</span><span class="ident" id="2427848">v</span>&nbsp;<span class="ident" id="2427850">uint64</span><span class="op" id="2427856">,</span>&nbsp;<span class="ident" id="2427858">leading0x</span>&nbsp;<span class="builtintype" id="2427868">bool</span><span class="op" id="2427872">)</span>&nbsp;<span class="op" id="2427874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427877">sharp</span>&nbsp;<span class="op" id="2427883">:=</span>&nbsp;<span class="ident" id="2427886">p</span><span class="op" id="2427887">.</span><span class="ident" id="2427888">fmt</span><span class="op" id="2427891">.</span><span class="ident" id="2427892">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427899">p</span><span class="op" id="2427900">.</span><span class="ident" id="2427901">fmt</span><span class="op" id="2427904">.</span><span class="ident" id="2427905">sharp</span>&nbsp;<span class="op" id="2427911">=</span>&nbsp;<span class="ident" id="2427913">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427924">p</span><span class="op" id="2427925">.</span><span class="ident" id="2427926">fmt</span><span class="op" id="2427929">.</span><span class="ident" id="2427930">integer</span><span class="op" id="2427937">(</span><span class="ident" id="2427938">int64</span><span class="op" id="2427943">(</span><span class="ident" id="2427944">v</span><span class="op" id="2427945">)</span><span class="op" id="2427946">,</span>&nbsp;<span class="num" id="2427948">16</span><span class="op" id="2427950">,</span>&nbsp;<span class="ident" id="2427952">unsigned</span><span class="op" id="2427960">,</span>&nbsp;<span class="ident" id="2427962">ldigits</span><span class="op" id="2427969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427972">p</span><span class="op" id="2427973">.</span><span class="ident" id="2427974">fmt</span><span class="op" id="2427977">.</span><span class="ident" id="2427978">sharp</span>&nbsp;<span class="op" id="2427984">=</span>&nbsp;<span class="ident" id="2427986">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2427992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2427995">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2428044">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2428115">func</span>&nbsp;<span class="op" id="2428120">(</span><span class="ident" id="2428121">p</span>&nbsp;<span class="op" id="2428123">*</span><span class="ident" id="2428124">pp</span><span class="op" id="2428126">)</span>&nbsp;<span class="ident" id="2428128">fmtUnicode</span><span class="op" id="2428138">(</span><span class="ident" id="2428139">v</span>&nbsp;<span class="ident" id="2428141">int64</span><span class="op" id="2428146">)</span>&nbsp;<span class="op" id="2428148">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428151">precPresent</span>&nbsp;<span class="op" id="2428163">:=</span>&nbsp;<span class="ident" id="2428166">p</span><span class="op" id="2428167">.</span><span class="ident" id="2428168">fmt</span><span class="op" id="2428171">.</span><span class="ident" id="2428172">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428185">sharp</span>&nbsp;<span class="op" id="2428191">:=</span>&nbsp;<span class="ident" id="2428194">p</span><span class="op" id="2428195">.</span><span class="ident" id="2428196">fmt</span><span class="op" id="2428199">.</span><span class="ident" id="2428200">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428207">p</span><span class="op" id="2428208">.</span><span class="ident" id="2428209">fmt</span><span class="op" id="2428212">.</span><span class="ident" id="2428213">sharp</span>&nbsp;<span class="op" id="2428219">=</span>&nbsp;<span class="builtintype" id="2428221">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428228">prec</span>&nbsp;<span class="op" id="2428233">:=</span>&nbsp;<span class="ident" id="2428236">p</span><span class="op" id="2428237">.</span><span class="ident" id="2428238">fmt</span><span class="op" id="2428241">.</span><span class="ident" id="2428242">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428248">if</span>&nbsp;<span class="op" id="2428251">!</span><span class="ident" id="2428252">precPresent</span>&nbsp;<span class="op" id="2428264">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2428268">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428337">p</span><span class="op" id="2428338">.</span><span class="ident" id="2428339">fmt</span><span class="op" id="2428342">.</span><span class="ident" id="2428343">prec</span>&nbsp;<span class="op" id="2428348">=</span>&nbsp;<span class="num" id="2428350">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428354">p</span><span class="op" id="2428355">.</span><span class="ident" id="2428356">fmt</span><span class="op" id="2428359">.</span><span class="ident" id="2428360">precPresent</span>&nbsp;<span class="op" id="2428372">=</span>&nbsp;<span class="builtintype" id="2428374">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2428380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428383">p</span><span class="op" id="2428384">.</span><span class="ident" id="2428385">fmt</span><span class="op" id="2428388">.</span><span class="ident" id="2428389">unicode</span>&nbsp;<span class="op" id="2428397">=</span>&nbsp;<span class="builtintype" id="2428399">true</span>&nbsp;<span class="comment" id="2428404">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428419">p</span><span class="op" id="2428420">.</span><span class="ident" id="2428421">fmt</span><span class="op" id="2428424">.</span><span class="ident" id="2428425">uniQuote</span>&nbsp;<span class="op" id="2428434">=</span>&nbsp;<span class="ident" id="2428436">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428443">p</span><span class="op" id="2428444">.</span><span class="ident" id="2428445">fmt</span><span class="op" id="2428448">.</span><span class="ident" id="2428449">integer</span><span class="op" id="2428456">(</span><span class="ident" id="2428457">int64</span><span class="op" id="2428462">(</span><span class="ident" id="2428463">v</span><span class="op" id="2428464">)</span><span class="op" id="2428465">,</span>&nbsp;<span class="num" id="2428467">16</span><span class="op" id="2428469">,</span>&nbsp;<span class="ident" id="2428471">unsigned</span><span class="op" id="2428479">,</span>&nbsp;<span class="ident" id="2428481">udigits</span><span class="op" id="2428488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428491">p</span><span class="op" id="2428492">.</span><span class="ident" id="2428493">fmt</span><span class="op" id="2428496">.</span><span class="ident" id="2428497">unicode</span>&nbsp;<span class="op" id="2428505">=</span>&nbsp;<span class="builtintype" id="2428507">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428514">p</span><span class="op" id="2428515">.</span><span class="ident" id="2428516">fmt</span><span class="op" id="2428519">.</span><span class="ident" id="2428520">uniQuote</span>&nbsp;<span class="op" id="2428529">=</span>&nbsp;<span class="builtintype" id="2428531">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428538">p</span><span class="op" id="2428539">.</span><span class="ident" id="2428540">fmt</span><span class="op" id="2428543">.</span><span class="ident" id="2428544">prec</span>&nbsp;<span class="op" id="2428549">=</span>&nbsp;<span class="ident" id="2428551">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428557">p</span><span class="op" id="2428558">.</span><span class="ident" id="2428559">fmt</span><span class="op" id="2428562">.</span><span class="ident" id="2428563">precPresent</span>&nbsp;<span class="op" id="2428575">=</span>&nbsp;<span class="ident" id="2428577">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428590">p</span><span class="op" id="2428591">.</span><span class="ident" id="2428592">fmt</span><span class="op" id="2428595">.</span><span class="ident" id="2428596">sharp</span>&nbsp;<span class="op" id="2428602">=</span>&nbsp;<span class="ident" id="2428604">sharp</span><br>
<span class="lineno"></span><span class="op" id="2428610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2428613">func</span>&nbsp;<span class="op" id="2428618">(</span><span class="ident" id="2428619">p</span>&nbsp;<span class="op" id="2428621">*</span><span class="ident" id="2428622">pp</span><span class="op" id="2428624">)</span>&nbsp;<span class="ident" id="2428626">fmtUint64</span><span class="op" id="2428635">(</span><span class="ident" id="2428636">v</span>&nbsp;<span class="ident" id="2428638">uint64</span><span class="op" id="2428644">,</span>&nbsp;<span class="ident" id="2428646">verb</span>&nbsp;<span class="builtintype" id="2428651">rune</span><span class="op" id="2428655">)</span>&nbsp;<span class="op" id="2428657">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428660">switch</span>&nbsp;<span class="ident" id="2428667">verb</span>&nbsp;<span class="op" id="2428672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428675">case</span>&nbsp;<span class="string" id="2428680">&#39;b&#39;</span><span class="op" id="2428683">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428687">p</span><span class="op" id="2428688">.</span><span class="ident" id="2428689">fmt</span><span class="op" id="2428692">.</span><span class="ident" id="2428693">integer</span><span class="op" id="2428700">(</span><span class="ident" id="2428701">int64</span><span class="op" id="2428706">(</span><span class="ident" id="2428707">v</span><span class="op" id="2428708">)</span><span class="op" id="2428709">,</span>&nbsp;<span class="num" id="2428711">2</span><span class="op" id="2428712">,</span>&nbsp;<span class="ident" id="2428714">unsigned</span><span class="op" id="2428722">,</span>&nbsp;<span class="ident" id="2428724">ldigits</span><span class="op" id="2428731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428734">case</span>&nbsp;<span class="string" id="2428739">&#39;c&#39;</span><span class="op" id="2428742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428746">p</span><span class="op" id="2428747">.</span><span class="ident" id="2428748">fmtC</span><span class="op" id="2428752">(</span><span class="ident" id="2428753">int64</span><span class="op" id="2428758">(</span><span class="ident" id="2428759">v</span><span class="op" id="2428760">)</span><span class="op" id="2428761">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428764">case</span>&nbsp;<span class="string" id="2428769">&#39;d&#39;</span><span class="op" id="2428772">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428776">p</span><span class="op" id="2428777">.</span><span class="ident" id="2428778">fmt</span><span class="op" id="2428781">.</span><span class="ident" id="2428782">integer</span><span class="op" id="2428789">(</span><span class="ident" id="2428790">int64</span><span class="op" id="2428795">(</span><span class="ident" id="2428796">v</span><span class="op" id="2428797">)</span><span class="op" id="2428798">,</span>&nbsp;<span class="num" id="2428800">10</span><span class="op" id="2428802">,</span>&nbsp;<span class="ident" id="2428804">unsigned</span><span class="op" id="2428812">,</span>&nbsp;<span class="ident" id="2428814">ldigits</span><span class="op" id="2428821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428824">case</span>&nbsp;<span class="string" id="2428829">&#39;v&#39;</span><span class="op" id="2428832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428836">if</span>&nbsp;<span class="ident" id="2428839">p</span><span class="op" id="2428840">.</span><span class="ident" id="2428841">fmt</span><span class="op" id="2428844">.</span><span class="ident" id="2428845">sharpV</span>&nbsp;<span class="op" id="2428852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428857">p</span><span class="op" id="2428858">.</span><span class="ident" id="2428859">fmt0x64</span><span class="op" id="2428866">(</span><span class="ident" id="2428867">v</span><span class="op" id="2428868">,</span>&nbsp;<span class="builtintype" id="2428870">true</span><span class="op" id="2428874">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2428878">}</span>&nbsp;<span class="keyword" id="2428880">else</span>&nbsp;<span class="op" id="2428885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428890">p</span><span class="op" id="2428891">.</span><span class="ident" id="2428892">fmt</span><span class="op" id="2428895">.</span><span class="ident" id="2428896">integer</span><span class="op" id="2428903">(</span><span class="ident" id="2428904">int64</span><span class="op" id="2428909">(</span><span class="ident" id="2428910">v</span><span class="op" id="2428911">)</span><span class="op" id="2428912">,</span>&nbsp;<span class="num" id="2428914">10</span><span class="op" id="2428916">,</span>&nbsp;<span class="ident" id="2428918">unsigned</span><span class="op" id="2428926">,</span>&nbsp;<span class="ident" id="2428928">ldigits</span><span class="op" id="2428935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2428939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428942">case</span>&nbsp;<span class="string" id="2428947">&#39;o&#39;</span><span class="op" id="2428950">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428954">p</span><span class="op" id="2428955">.</span><span class="ident" id="2428956">fmt</span><span class="op" id="2428959">.</span><span class="ident" id="2428960">integer</span><span class="op" id="2428967">(</span><span class="ident" id="2428968">int64</span><span class="op" id="2428973">(</span><span class="ident" id="2428974">v</span><span class="op" id="2428975">)</span><span class="op" id="2428976">,</span>&nbsp;<span class="num" id="2428978">8</span><span class="op" id="2428979">,</span>&nbsp;<span class="ident" id="2428981">unsigned</span><span class="op" id="2428989">,</span>&nbsp;<span class="ident" id="2428991">ldigits</span><span class="op" id="2428998">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429001">case</span>&nbsp;<span class="string" id="2429006">&#39;q&#39;</span><span class="op" id="2429009">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429013">if</span>&nbsp;<span class="num" id="2429016">0</span>&nbsp;<span class="op" id="2429018">&lt;=</span>&nbsp;<span class="ident" id="2429021">v</span>&nbsp;<span class="op" id="2429023">&amp;&amp;</span>&nbsp;<span class="ident" id="2429026">v</span>&nbsp;<span class="op" id="2429028">&lt;=</span>&nbsp;<span class="ident" id="2429031">utf8</span><span class="op" id="2429035">.</span><span class="ident" id="2429036">MaxRune</span>&nbsp;<span class="op" id="2429044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429049">p</span><span class="op" id="2429050">.</span><span class="ident" id="2429051">fmt</span><span class="op" id="2429054">.</span><span class="ident" id="2429055">fmt_qc</span><span class="op" id="2429061">(</span><span class="ident" id="2429062">int64</span><span class="op" id="2429067">(</span><span class="ident" id="2429068">v</span><span class="op" id="2429069">)</span><span class="op" id="2429070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429074">}</span>&nbsp;<span class="keyword" id="2429076">else</span>&nbsp;<span class="op" id="2429081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429086">p</span><span class="op" id="2429087">.</span><span class="ident" id="2429088">badVerb</span><span class="op" id="2429095">(</span><span class="ident" id="2429096">verb</span><span class="op" id="2429100">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429107">case</span>&nbsp;<span class="string" id="2429112">&#39;x&#39;</span><span class="op" id="2429115">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429119">p</span><span class="op" id="2429120">.</span><span class="ident" id="2429121">fmt</span><span class="op" id="2429124">.</span><span class="ident" id="2429125">integer</span><span class="op" id="2429132">(</span><span class="ident" id="2429133">int64</span><span class="op" id="2429138">(</span><span class="ident" id="2429139">v</span><span class="op" id="2429140">)</span><span class="op" id="2429141">,</span>&nbsp;<span class="num" id="2429143">16</span><span class="op" id="2429145">,</span>&nbsp;<span class="ident" id="2429147">unsigned</span><span class="op" id="2429155">,</span>&nbsp;<span class="ident" id="2429157">ldigits</span><span class="op" id="2429164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429167">case</span>&nbsp;<span class="string" id="2429172">&#39;X&#39;</span><span class="op" id="2429175">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429179">p</span><span class="op" id="2429180">.</span><span class="ident" id="2429181">fmt</span><span class="op" id="2429184">.</span><span class="ident" id="2429185">integer</span><span class="op" id="2429192">(</span><span class="ident" id="2429193">int64</span><span class="op" id="2429198">(</span><span class="ident" id="2429199">v</span><span class="op" id="2429200">)</span><span class="op" id="2429201">,</span>&nbsp;<span class="num" id="2429203">16</span><span class="op" id="2429205">,</span>&nbsp;<span class="ident" id="2429207">unsigned</span><span class="op" id="2429215">,</span>&nbsp;<span class="ident" id="2429217">udigits</span><span class="op" id="2429224">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429227">case</span>&nbsp;<span class="string" id="2429232">&#39;U&#39;</span><span class="op" id="2429235">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429239">p</span><span class="op" id="2429240">.</span><span class="ident" id="2429241">fmtUnicode</span><span class="op" id="2429251">(</span><span class="ident" id="2429252">int64</span><span class="op" id="2429257">(</span><span class="ident" id="2429258">v</span><span class="op" id="2429259">)</span><span class="op" id="2429260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429263">default</span><span class="op" id="2429270">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429274">p</span><span class="op" id="2429275">.</span><span class="ident" id="2429276">badVerb</span><span class="op" id="2429283">(</span><span class="ident" id="2429284">verb</span><span class="op" id="2429288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429291">}</span><br>
<span class="lineno">440</span><span class="op" id="2429293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2429296">func</span>&nbsp;<span class="op" id="2429301">(</span><span class="ident" id="2429302">p</span>&nbsp;<span class="op" id="2429304">*</span><span class="ident" id="2429305">pp</span><span class="op" id="2429307">)</span>&nbsp;<span class="ident" id="2429309">fmtFloat32</span><span class="op" id="2429319">(</span><span class="ident" id="2429320">v</span>&nbsp;<span class="builtintype" id="2429322">float32</span><span class="op" id="2429329">,</span>&nbsp;<span class="ident" id="2429331">verb</span>&nbsp;<span class="builtintype" id="2429336">rune</span><span class="op" id="2429340">)</span>&nbsp;<span class="op" id="2429342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429345">switch</span>&nbsp;<span class="ident" id="2429352">verb</span>&nbsp;<span class="op" id="2429357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429360">case</span>&nbsp;<span class="string" id="2429365">&#39;b&#39;</span><span class="op" id="2429368">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429372">p</span><span class="op" id="2429373">.</span><span class="ident" id="2429374">fmt</span><span class="op" id="2429377">.</span><span class="ident" id="2429378">fmt_fb32</span><span class="op" id="2429386">(</span><span class="ident" id="2429387">v</span><span class="op" id="2429388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429391">case</span>&nbsp;<span class="string" id="2429396">&#39;e&#39;</span><span class="op" id="2429399">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429403">p</span><span class="op" id="2429404">.</span><span class="ident" id="2429405">fmt</span><span class="op" id="2429408">.</span><span class="ident" id="2429409">fmt_e32</span><span class="op" id="2429416">(</span><span class="ident" id="2429417">v</span><span class="op" id="2429418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429421">case</span>&nbsp;<span class="string" id="2429426">&#39;E&#39;</span><span class="op" id="2429429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429433">p</span><span class="op" id="2429434">.</span><span class="ident" id="2429435">fmt</span><span class="op" id="2429438">.</span><span class="ident" id="2429439">fmt_E32</span><span class="op" id="2429446">(</span><span class="ident" id="2429447">v</span><span class="op" id="2429448">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429451">case</span>&nbsp;<span class="string" id="2429456">&#39;f&#39;</span><span class="op" id="2429459">,</span>&nbsp;<span class="string" id="2429461">&#39;F&#39;</span><span class="op" id="2429464">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429468">p</span><span class="op" id="2429469">.</span><span class="ident" id="2429470">fmt</span><span class="op" id="2429473">.</span><span class="ident" id="2429474">fmt_f32</span><span class="op" id="2429481">(</span><span class="ident" id="2429482">v</span><span class="op" id="2429483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429486">case</span>&nbsp;<span class="string" id="2429491">&#39;g&#39;</span><span class="op" id="2429494">,</span>&nbsp;<span class="string" id="2429496">&#39;v&#39;</span><span class="op" id="2429499">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429503">p</span><span class="op" id="2429504">.</span><span class="ident" id="2429505">fmt</span><span class="op" id="2429508">.</span><span class="ident" id="2429509">fmt_g32</span><span class="op" id="2429516">(</span><span class="ident" id="2429517">v</span><span class="op" id="2429518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429521">case</span>&nbsp;<span class="string" id="2429526">&#39;G&#39;</span><span class="op" id="2429529">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429533">p</span><span class="op" id="2429534">.</span><span class="ident" id="2429535">fmt</span><span class="op" id="2429538">.</span><span class="ident" id="2429539">fmt_G32</span><span class="op" id="2429546">(</span><span class="ident" id="2429547">v</span><span class="op" id="2429548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429551">default</span><span class="op" id="2429558">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429562">p</span><span class="op" id="2429563">.</span><span class="ident" id="2429564">badVerb</span><span class="op" id="2429571">(</span><span class="ident" id="2429572">verb</span><span class="op" id="2429576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429579">}</span><br>
<span class="lineno"></span><span class="op" id="2429581">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2429584">func</span>&nbsp;<span class="op" id="2429589">(</span><span class="ident" id="2429590">p</span>&nbsp;<span class="op" id="2429592">*</span><span class="ident" id="2429593">pp</span><span class="op" id="2429595">)</span>&nbsp;<span class="ident" id="2429597">fmtFloat64</span><span class="op" id="2429607">(</span><span class="ident" id="2429608">v</span>&nbsp;<span class="builtintype" id="2429610">float64</span><span class="op" id="2429617">,</span>&nbsp;<span class="ident" id="2429619">verb</span>&nbsp;<span class="builtintype" id="2429624">rune</span><span class="op" id="2429628">)</span>&nbsp;<span class="op" id="2429630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429633">switch</span>&nbsp;<span class="ident" id="2429640">verb</span>&nbsp;<span class="op" id="2429645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429648">case</span>&nbsp;<span class="string" id="2429653">&#39;b&#39;</span><span class="op" id="2429656">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429660">p</span><span class="op" id="2429661">.</span><span class="ident" id="2429662">fmt</span><span class="op" id="2429665">.</span><span class="ident" id="2429666">fmt_fb64</span><span class="op" id="2429674">(</span><span class="ident" id="2429675">v</span><span class="op" id="2429676">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429679">case</span>&nbsp;<span class="string" id="2429684">&#39;e&#39;</span><span class="op" id="2429687">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429691">p</span><span class="op" id="2429692">.</span><span class="ident" id="2429693">fmt</span><span class="op" id="2429696">.</span><span class="ident" id="2429697">fmt_e64</span><span class="op" id="2429704">(</span><span class="ident" id="2429705">v</span><span class="op" id="2429706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429709">case</span>&nbsp;<span class="string" id="2429714">&#39;E&#39;</span><span class="op" id="2429717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429721">p</span><span class="op" id="2429722">.</span><span class="ident" id="2429723">fmt</span><span class="op" id="2429726">.</span><span class="ident" id="2429727">fmt_E64</span><span class="op" id="2429734">(</span><span class="ident" id="2429735">v</span><span class="op" id="2429736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429739">case</span>&nbsp;<span class="string" id="2429744">&#39;f&#39;</span><span class="op" id="2429747">,</span>&nbsp;<span class="string" id="2429749">&#39;F&#39;</span><span class="op" id="2429752">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429756">p</span><span class="op" id="2429757">.</span><span class="ident" id="2429758">fmt</span><span class="op" id="2429761">.</span><span class="ident" id="2429762">fmt_f64</span><span class="op" id="2429769">(</span><span class="ident" id="2429770">v</span><span class="op" id="2429771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429774">case</span>&nbsp;<span class="string" id="2429779">&#39;g&#39;</span><span class="op" id="2429782">,</span>&nbsp;<span class="string" id="2429784">&#39;v&#39;</span><span class="op" id="2429787">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429791">p</span><span class="op" id="2429792">.</span><span class="ident" id="2429793">fmt</span><span class="op" id="2429796">.</span><span class="ident" id="2429797">fmt_g64</span><span class="op" id="2429804">(</span><span class="ident" id="2429805">v</span><span class="op" id="2429806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429809">case</span>&nbsp;<span class="string" id="2429814">&#39;G&#39;</span><span class="op" id="2429817">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429821">p</span><span class="op" id="2429822">.</span><span class="ident" id="2429823">fmt</span><span class="op" id="2429826">.</span><span class="ident" id="2429827">fmt_G64</span><span class="op" id="2429834">(</span><span class="ident" id="2429835">v</span><span class="op" id="2429836">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429839">default</span><span class="op" id="2429846">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429850">p</span><span class="op" id="2429851">.</span><span class="ident" id="2429852">badVerb</span><span class="op" id="2429859">(</span><span class="ident" id="2429860">verb</span><span class="op" id="2429864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429867">}</span><br>
<span class="lineno"></span><span class="op" id="2429869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2429872">func</span>&nbsp;<span class="op" id="2429877">(</span><span class="ident" id="2429878">p</span>&nbsp;<span class="op" id="2429880">*</span><span class="ident" id="2429881">pp</span><span class="op" id="2429883">)</span>&nbsp;<span class="ident" id="2429885">fmtComplex64</span><span class="op" id="2429897">(</span><span class="ident" id="2429898">v</span>&nbsp;<span class="builtintype" id="2429900">complex64</span><span class="op" id="2429909">,</span>&nbsp;<span class="ident" id="2429911">verb</span>&nbsp;<span class="builtintype" id="2429916">rune</span><span class="op" id="2429920">)</span>&nbsp;<span class="op" id="2429922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429925">switch</span>&nbsp;<span class="ident" id="2429932">verb</span>&nbsp;<span class="op" id="2429937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429940">case</span>&nbsp;<span class="string" id="2429945">&#39;b&#39;</span><span class="op" id="2429948">,</span>&nbsp;<span class="string" id="2429950">&#39;e&#39;</span><span class="op" id="2429953">,</span>&nbsp;<span class="string" id="2429955">&#39;E&#39;</span><span class="op" id="2429958">,</span>&nbsp;<span class="string" id="2429960">&#39;f&#39;</span><span class="op" id="2429963">,</span>&nbsp;<span class="string" id="2429965">&#39;F&#39;</span><span class="op" id="2429968">,</span>&nbsp;<span class="string" id="2429970">&#39;g&#39;</span><span class="op" id="2429973">,</span>&nbsp;<span class="string" id="2429975">&#39;G&#39;</span><span class="op" id="2429978">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429982">p</span><span class="op" id="2429983">.</span><span class="ident" id="2429984">fmt</span><span class="op" id="2429987">.</span><span class="ident" id="2429988">fmt_c64</span><span class="op" id="2429995">(</span><span class="ident" id="2429996">v</span><span class="op" id="2429997">,</span>&nbsp;<span class="ident" id="2429999">verb</span><span class="op" id="2430003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430006">case</span>&nbsp;<span class="string" id="2430011">&#39;v&#39;</span><span class="op" id="2430014">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430018">p</span><span class="op" id="2430019">.</span><span class="ident" id="2430020">fmt</span><span class="op" id="2430023">.</span><span class="ident" id="2430024">fmt_c64</span><span class="op" id="2430031">(</span><span class="ident" id="2430032">v</span><span class="op" id="2430033">,</span>&nbsp;<span class="string" id="2430035">&#39;g&#39;</span><span class="op" id="2430038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430041">default</span><span class="op" id="2430048">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430052">p</span><span class="op" id="2430053">.</span><span class="ident" id="2430054">badVerb</span><span class="op" id="2430061">(</span><span class="ident" id="2430062">verb</span><span class="op" id="2430066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430069">}</span><br>
<span class="lineno"></span><span class="op" id="2430071">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2430074">func</span>&nbsp;<span class="op" id="2430079">(</span><span class="ident" id="2430080">p</span>&nbsp;<span class="op" id="2430082">*</span><span class="ident" id="2430083">pp</span><span class="op" id="2430085">)</span>&nbsp;<span class="ident" id="2430087">fmtComplex128</span><span class="op" id="2430100">(</span><span class="ident" id="2430101">v</span>&nbsp;<span class="builtintype" id="2430103">complex128</span><span class="op" id="2430113">,</span>&nbsp;<span class="ident" id="2430115">verb</span>&nbsp;<span class="builtintype" id="2430120">rune</span><span class="op" id="2430124">)</span>&nbsp;<span class="op" id="2430126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430129">switch</span>&nbsp;<span class="ident" id="2430136">verb</span>&nbsp;<span class="op" id="2430141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430144">case</span>&nbsp;<span class="string" id="2430149">&#39;b&#39;</span><span class="op" id="2430152">,</span>&nbsp;<span class="string" id="2430154">&#39;e&#39;</span><span class="op" id="2430157">,</span>&nbsp;<span class="string" id="2430159">&#39;E&#39;</span><span class="op" id="2430162">,</span>&nbsp;<span class="string" id="2430164">&#39;f&#39;</span><span class="op" id="2430167">,</span>&nbsp;<span class="string" id="2430169">&#39;F&#39;</span><span class="op" id="2430172">,</span>&nbsp;<span class="string" id="2430174">&#39;g&#39;</span><span class="op" id="2430177">,</span>&nbsp;<span class="string" id="2430179">&#39;G&#39;</span><span class="op" id="2430182">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430186">p</span><span class="op" id="2430187">.</span><span class="ident" id="2430188">fmt</span><span class="op" id="2430191">.</span><span class="ident" id="2430192">fmt_c128</span><span class="op" id="2430200">(</span><span class="ident" id="2430201">v</span><span class="op" id="2430202">,</span>&nbsp;<span class="ident" id="2430204">verb</span><span class="op" id="2430208">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430211">case</span>&nbsp;<span class="string" id="2430216">&#39;v&#39;</span><span class="op" id="2430219">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430223">p</span><span class="op" id="2430224">.</span><span class="ident" id="2430225">fmt</span><span class="op" id="2430228">.</span><span class="ident" id="2430229">fmt_c128</span><span class="op" id="2430237">(</span><span class="ident" id="2430238">v</span><span class="op" id="2430239">,</span>&nbsp;<span class="string" id="2430241">&#39;g&#39;</span><span class="op" id="2430244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430247">default</span><span class="op" id="2430254">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430258">p</span><span class="op" id="2430259">.</span><span class="ident" id="2430260">badVerb</span><span class="op" id="2430267">(</span><span class="ident" id="2430268">verb</span><span class="op" id="2430272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430275">}</span><br>
<span class="lineno">500</span><span class="op" id="2430277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2430280">func</span>&nbsp;<span class="op" id="2430285">(</span><span class="ident" id="2430286">p</span>&nbsp;<span class="op" id="2430288">*</span><span class="ident" id="2430289">pp</span><span class="op" id="2430291">)</span>&nbsp;<span class="ident" id="2430293">fmtString</span><span class="op" id="2430302">(</span><span class="ident" id="2430303">v</span>&nbsp;<span class="builtintype" id="2430305">string</span><span class="op" id="2430311">,</span>&nbsp;<span class="ident" id="2430313">verb</span>&nbsp;<span class="builtintype" id="2430318">rune</span><span class="op" id="2430322">)</span>&nbsp;<span class="op" id="2430324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430327">switch</span>&nbsp;<span class="ident" id="2430334">verb</span>&nbsp;<span class="op" id="2430339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430342">case</span>&nbsp;<span class="string" id="2430347">&#39;v&#39;</span><span class="op" id="2430350">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430354">if</span>&nbsp;<span class="ident" id="2430357">p</span><span class="op" id="2430358">.</span><span class="ident" id="2430359">fmt</span><span class="op" id="2430362">.</span><span class="ident" id="2430363">sharpV</span>&nbsp;<span class="op" id="2430370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430375">p</span><span class="op" id="2430376">.</span><span class="ident" id="2430377">fmt</span><span class="op" id="2430380">.</span><span class="ident" id="2430381">fmt_q</span><span class="op" id="2430386">(</span><span class="ident" id="2430387">v</span><span class="op" id="2430388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430392">}</span>&nbsp;<span class="keyword" id="2430394">else</span>&nbsp;<span class="op" id="2430399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430404">p</span><span class="op" id="2430405">.</span><span class="ident" id="2430406">fmt</span><span class="op" id="2430409">.</span><span class="ident" id="2430410">fmt_s</span><span class="op" id="2430415">(</span><span class="ident" id="2430416">v</span><span class="op" id="2430417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430421">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430424">case</span>&nbsp;<span class="string" id="2430429">&#39;s&#39;</span><span class="op" id="2430432">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430436">p</span><span class="op" id="2430437">.</span><span class="ident" id="2430438">fmt</span><span class="op" id="2430441">.</span><span class="ident" id="2430442">fmt_s</span><span class="op" id="2430447">(</span><span class="ident" id="2430448">v</span><span class="op" id="2430449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430452">case</span>&nbsp;<span class="string" id="2430457">&#39;x&#39;</span><span class="op" id="2430460">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430464">p</span><span class="op" id="2430465">.</span><span class="ident" id="2430466">fmt</span><span class="op" id="2430469">.</span><span class="ident" id="2430470">fmt_sx</span><span class="op" id="2430476">(</span><span class="ident" id="2430477">v</span><span class="op" id="2430478">,</span>&nbsp;<span class="ident" id="2430480">ldigits</span><span class="op" id="2430487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430490">case</span>&nbsp;<span class="string" id="2430495">&#39;X&#39;</span><span class="op" id="2430498">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430502">p</span><span class="op" id="2430503">.</span><span class="ident" id="2430504">fmt</span><span class="op" id="2430507">.</span><span class="ident" id="2430508">fmt_sx</span><span class="op" id="2430514">(</span><span class="ident" id="2430515">v</span><span class="op" id="2430516">,</span>&nbsp;<span class="ident" id="2430518">udigits</span><span class="op" id="2430525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430528">case</span>&nbsp;<span class="string" id="2430533">&#39;q&#39;</span><span class="op" id="2430536">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430540">p</span><span class="op" id="2430541">.</span><span class="ident" id="2430542">fmt</span><span class="op" id="2430545">.</span><span class="ident" id="2430546">fmt_q</span><span class="op" id="2430551">(</span><span class="ident" id="2430552">v</span><span class="op" id="2430553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430556">default</span><span class="op" id="2430563">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430567">p</span><span class="op" id="2430568">.</span><span class="ident" id="2430569">badVerb</span><span class="op" id="2430576">(</span><span class="ident" id="2430577">verb</span><span class="op" id="2430581">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430584">}</span><br>
<span class="lineno"></span><span class="op" id="2430586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2430589">func</span>&nbsp;<span class="op" id="2430594">(</span><span class="ident" id="2430595">p</span>&nbsp;<span class="op" id="2430597">*</span><span class="ident" id="2430598">pp</span><span class="op" id="2430600">)</span>&nbsp;<span class="ident" id="2430602">fmtBytes</span><span class="op" id="2430610">(</span><span class="ident" id="2430611">v</span>&nbsp;<span class="op" id="2430613">[</span><span class="op" id="2430614">]</span><span class="builtintype" id="2430615">byte</span><span class="op" id="2430619">,</span>&nbsp;<span class="ident" id="2430621">verb</span>&nbsp;<span class="builtintype" id="2430626">rune</span><span class="op" id="2430630">,</span>&nbsp;<span class="ident" id="2430632">typ</span>&nbsp;<span class="ident" id="2430636">reflect</span><span class="op" id="2430643">.</span><span class="ident" id="2430644">Type</span><span class="op" id="2430648">,</span>&nbsp;<span class="ident" id="2430650">depth</span>&nbsp;<span class="builtintype" id="2430656">int</span><span class="op" id="2430659">)</span>&nbsp;<span class="op" id="2430661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430664">if</span>&nbsp;<span class="ident" id="2430667">verb</span>&nbsp;<span class="op" id="2430672">==</span>&nbsp;<span class="string" id="2430675">&#39;v&#39;</span>&nbsp;<span class="op" id="2430679">||</span>&nbsp;<span class="ident" id="2430682">verb</span>&nbsp;<span class="op" id="2430687">==</span>&nbsp;<span class="string" id="2430690">&#39;d&#39;</span>&nbsp;<span class="op" id="2430694">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430698">if</span>&nbsp;<span class="ident" id="2430701">p</span><span class="op" id="2430702">.</span><span class="ident" id="2430703">fmt</span><span class="op" id="2430706">.</span><span class="ident" id="2430707">sharpV</span>&nbsp;<span class="op" id="2430714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430719">if</span>&nbsp;<span class="ident" id="2430722">v</span>&nbsp;<span class="op" id="2430724">==</span>&nbsp;<span class="ident" id="2430727">nil</span>&nbsp;<span class="op" id="2430731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430737">if</span>&nbsp;<span class="ident" id="2430740">typ</span>&nbsp;<span class="op" id="2430744">==</span>&nbsp;<span class="ident" id="2430747">nil</span>&nbsp;<span class="op" id="2430751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430758">p</span><span class="op" id="2430759">.</span><span class="ident" id="2430760">buf</span><span class="op" id="2430763">.</span><span class="ident" id="2430764">WriteString</span><span class="op" id="2430775">(</span><span class="string" id="2430776">&#34;[]byte(nil)&#34;</span><span class="op" id="2430789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430795">}</span>&nbsp;<span class="keyword" id="2430797">else</span>&nbsp;<span class="op" id="2430802">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430809">p</span><span class="op" id="2430810">.</span><span class="ident" id="2430811">buf</span><span class="op" id="2430814">.</span><span class="ident" id="2430815">WriteString</span><span class="op" id="2430826">(</span><span class="ident" id="2430827">typ</span><span class="op" id="2430830">.</span><span class="ident" id="2430831">String</span><span class="op" id="2430837">(</span><span class="op" id="2430838">)</span><span class="op" id="2430839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430846">p</span><span class="op" id="2430847">.</span><span class="ident" id="2430848">buf</span><span class="op" id="2430851">.</span><span class="ident" id="2430852">Write</span><span class="op" id="2430857">(</span><span class="ident" id="2430858">nilParenBytes</span><span class="op" id="2430871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430883">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430893">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430898">if</span>&nbsp;<span class="ident" id="2430901">typ</span>&nbsp;<span class="op" id="2430905">==</span>&nbsp;<span class="ident" id="2430908">nil</span>&nbsp;<span class="op" id="2430912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430918">p</span><span class="op" id="2430919">.</span><span class="ident" id="2430920">buf</span><span class="op" id="2430923">.</span><span class="ident" id="2430924">Write</span><span class="op" id="2430929">(</span><span class="ident" id="2430930">bytesBytes</span><span class="op" id="2430940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430945">}</span>&nbsp;<span class="keyword" id="2430947">else</span>&nbsp;<span class="op" id="2430952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430958">p</span><span class="op" id="2430959">.</span><span class="ident" id="2430960">buf</span><span class="op" id="2430963">.</span><span class="ident" id="2430964">WriteString</span><span class="op" id="2430975">(</span><span class="ident" id="2430976">typ</span><span class="op" id="2430979">.</span><span class="ident" id="2430980">String</span><span class="op" id="2430986">(</span><span class="op" id="2430987">)</span><span class="op" id="2430988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430994">p</span><span class="op" id="2430995">.</span><span class="ident" id="2430996">buf</span><span class="op" id="2430999">.</span><span class="ident" id="2431000">WriteByte</span><span class="op" id="2431009">(</span><span class="string" id="2431010">&#39;{&#39;</span><span class="op" id="2431013">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431022">}</span>&nbsp;<span class="keyword" id="2431024">else</span>&nbsp;<span class="op" id="2431029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431034">p</span><span class="op" id="2431035">.</span><span class="ident" id="2431036">buf</span><span class="op" id="2431039">.</span><span class="ident" id="2431040">WriteByte</span><span class="op" id="2431049">(</span><span class="string" id="2431050">&#39;[&#39;</span><span class="op" id="2431053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431061">for</span>&nbsp;<span class="ident" id="2431065">i</span><span class="op" id="2431066">,</span>&nbsp;<span class="ident" id="2431068">c</span>&nbsp;<span class="op" id="2431070">:=</span>&nbsp;<span class="keyword" id="2431073">range</span>&nbsp;<span class="ident" id="2431079">v</span>&nbsp;<span class="op" id="2431081">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431086">if</span>&nbsp;<span class="ident" id="2431089">i</span>&nbsp;<span class="op" id="2431091">&gt;</span>&nbsp;<span class="num" id="2431093">0</span>&nbsp;<span class="op" id="2431095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431101">if</span>&nbsp;<span class="ident" id="2431104">p</span><span class="op" id="2431105">.</span><span class="ident" id="2431106">fmt</span><span class="op" id="2431109">.</span><span class="ident" id="2431110">sharpV</span>&nbsp;<span class="op" id="2431117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431124">p</span><span class="op" id="2431125">.</span><span class="ident" id="2431126">buf</span><span class="op" id="2431129">.</span><span class="ident" id="2431130">Write</span><span class="op" id="2431135">(</span><span class="ident" id="2431136">commaSpaceBytes</span><span class="op" id="2431151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431157">}</span>&nbsp;<span class="keyword" id="2431159">else</span>&nbsp;<span class="op" id="2431164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431171">p</span><span class="op" id="2431172">.</span><span class="ident" id="2431173">buf</span><span class="op" id="2431176">.</span><span class="ident" id="2431177">WriteByte</span><span class="op" id="2431186">(</span><span class="string" id="2431187">&#39;&nbsp;&#39;</span><span class="op" id="2431190">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431206">p</span><span class="op" id="2431207">.</span><span class="ident" id="2431208">printArg</span><span class="op" id="2431216">(</span><span class="ident" id="2431217">c</span><span class="op" id="2431218">,</span>&nbsp;<span class="string" id="2431220">&#39;v&#39;</span><span class="op" id="2431223">,</span>&nbsp;<span class="ident" id="2431225">depth</span><span class="op" id="2431230">+</span><span class="num" id="2431231">1</span><span class="op" id="2431232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431240">if</span>&nbsp;<span class="ident" id="2431243">p</span><span class="op" id="2431244">.</span><span class="ident" id="2431245">fmt</span><span class="op" id="2431248">.</span><span class="ident" id="2431249">sharpV</span>&nbsp;<span class="op" id="2431256">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431261">p</span><span class="op" id="2431262">.</span><span class="ident" id="2431263">buf</span><span class="op" id="2431266">.</span><span class="ident" id="2431267">WriteByte</span><span class="op" id="2431276">(</span><span class="string" id="2431277">&#39;}&#39;</span><span class="op" id="2431280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431284">}</span>&nbsp;<span class="keyword" id="2431286">else</span>&nbsp;<span class="op" id="2431291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431296">p</span><span class="op" id="2431297">.</span><span class="ident" id="2431298">buf</span><span class="op" id="2431301">.</span><span class="ident" id="2431302">WriteByte</span><span class="op" id="2431311">(</span><span class="string" id="2431312">&#39;]&#39;</span><span class="op" id="2431315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431323">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431334">switch</span>&nbsp;<span class="ident" id="2431341">verb</span>&nbsp;<span class="op" id="2431346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431349">case</span>&nbsp;<span class="string" id="2431354">&#39;s&#39;</span><span class="op" id="2431357">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431361">p</span><span class="op" id="2431362">.</span><span class="ident" id="2431363">fmt</span><span class="op" id="2431366">.</span><span class="ident" id="2431367">fmt_s</span><span class="op" id="2431372">(</span><span class="builtintype" id="2431373">string</span><span class="op" id="2431379">(</span><span class="ident" id="2431380">v</span><span class="op" id="2431381">)</span><span class="op" id="2431382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431385">case</span>&nbsp;<span class="string" id="2431390">&#39;x&#39;</span><span class="op" id="2431393">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431397">p</span><span class="op" id="2431398">.</span><span class="ident" id="2431399">fmt</span><span class="op" id="2431402">.</span><span class="ident" id="2431403">fmt_bx</span><span class="op" id="2431409">(</span><span class="ident" id="2431410">v</span><span class="op" id="2431411">,</span>&nbsp;<span class="ident" id="2431413">ldigits</span><span class="op" id="2431420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431423">case</span>&nbsp;<span class="string" id="2431428">&#39;X&#39;</span><span class="op" id="2431431">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431435">p</span><span class="op" id="2431436">.</span><span class="ident" id="2431437">fmt</span><span class="op" id="2431440">.</span><span class="ident" id="2431441">fmt_bx</span><span class="op" id="2431447">(</span><span class="ident" id="2431448">v</span><span class="op" id="2431449">,</span>&nbsp;<span class="ident" id="2431451">udigits</span><span class="op" id="2431458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431461">case</span>&nbsp;<span class="string" id="2431466">&#39;q&#39;</span><span class="op" id="2431469">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431473">p</span><span class="op" id="2431474">.</span><span class="ident" id="2431475">fmt</span><span class="op" id="2431478">.</span><span class="ident" id="2431479">fmt_q</span><span class="op" id="2431484">(</span><span class="builtintype" id="2431485">string</span><span class="op" id="2431491">(</span><span class="ident" id="2431492">v</span><span class="op" id="2431493">)</span><span class="op" id="2431494">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431497">default</span><span class="op" id="2431504">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431508">p</span><span class="op" id="2431509">.</span><span class="ident" id="2431510">badVerb</span><span class="op" id="2431517">(</span><span class="ident" id="2431518">verb</span><span class="op" id="2431522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431525">}</span><br>
<span class="lineno"></span><span class="op" id="2431527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2431530">func</span>&nbsp;<span class="op" id="2431535">(</span><span class="ident" id="2431536">p</span>&nbsp;<span class="op" id="2431538">*</span><span class="ident" id="2431539">pp</span><span class="op" id="2431541">)</span>&nbsp;<span class="ident" id="2431543">fmtPointer</span><span class="op" id="2431553">(</span><span class="ident" id="2431554">value</span>&nbsp;<span class="ident" id="2431560">reflect</span><span class="op" id="2431567">.</span><span class="ident" id="2431568">Value</span><span class="op" id="2431573">,</span>&nbsp;<span class="ident" id="2431575">verb</span>&nbsp;<span class="builtintype" id="2431580">rune</span><span class="op" id="2431584">)</span>&nbsp;<span class="op" id="2431586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431589">use0x64</span>&nbsp;<span class="op" id="2431597">:=</span>&nbsp;<span class="builtintype" id="2431600">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431606">switch</span>&nbsp;<span class="ident" id="2431613">verb</span>&nbsp;<span class="op" id="2431618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431621">case</span>&nbsp;<span class="string" id="2431626">&#39;p&#39;</span><span class="op" id="2431629">,</span>&nbsp;<span class="string" id="2431631">&#39;v&#39;</span><span class="op" id="2431634">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2431638">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431645">case</span>&nbsp;<span class="string" id="2431650">&#39;b&#39;</span><span class="op" id="2431653">,</span>&nbsp;<span class="string" id="2431655">&#39;d&#39;</span><span class="op" id="2431658">,</span>&nbsp;<span class="string" id="2431660">&#39;o&#39;</span><span class="op" id="2431663">,</span>&nbsp;<span class="string" id="2431665">&#39;x&#39;</span><span class="op" id="2431668">,</span>&nbsp;<span class="string" id="2431670">&#39;X&#39;</span><span class="op" id="2431673">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431677">use0x64</span>&nbsp;<span class="op" id="2431685">=</span>&nbsp;<span class="builtintype" id="2431687">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2431695">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431702">default</span><span class="op" id="2431709">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431713">p</span><span class="op" id="2431714">.</span><span class="ident" id="2431715">badVerb</span><span class="op" id="2431722">(</span><span class="ident" id="2431723">verb</span><span class="op" id="2431727">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431731">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431743">var</span>&nbsp;<span class="ident" id="2431747">u</span>&nbsp;<span class="builtintype" id="2431749">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431758">switch</span>&nbsp;<span class="ident" id="2431765">value</span><span class="op" id="2431770">.</span><span class="ident" id="2431771">Kind</span><span class="op" id="2431775">(</span><span class="op" id="2431776">)</span>&nbsp;<span class="op" id="2431778">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431781">case</span>&nbsp;<span class="ident" id="2431786">reflect</span><span class="op" id="2431793">.</span><span class="ident" id="2431794">Chan</span><span class="op" id="2431798">,</span>&nbsp;<span class="ident" id="2431800">reflect</span><span class="op" id="2431807">.</span><span class="ident" id="2431808">Func</span><span class="op" id="2431812">,</span>&nbsp;<span class="ident" id="2431814">reflect</span><span class="op" id="2431821">.</span><span class="ident" id="2431822">Map</span><span class="op" id="2431825">,</span>&nbsp;<span class="ident" id="2431827">reflect</span><span class="op" id="2431834">.</span><span class="ident" id="2431835">Ptr</span><span class="op" id="2431838">,</span>&nbsp;<span class="ident" id="2431840">reflect</span><span class="op" id="2431847">.</span><span class="ident" id="2431848">Slice</span><span class="op" id="2431853">,</span>&nbsp;<span class="ident" id="2431855">reflect</span><span class="op" id="2431862">.</span><span class="ident" id="2431863">UnsafePointer</span><span class="op" id="2431876">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431880">u</span>&nbsp;<span class="op" id="2431882">=</span>&nbsp;<span class="ident" id="2431884">value</span><span class="op" id="2431889">.</span><span class="ident" id="2431890">Pointer</span><span class="op" id="2431897">(</span><span class="op" id="2431898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431901">default</span><span class="op" id="2431908">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431912">p</span><span class="op" id="2431913">.</span><span class="ident" id="2431914">badVerb</span><span class="op" id="2431921">(</span><span class="ident" id="2431922">verb</span><span class="op" id="2431926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431930">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2431938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2431942">if</span>&nbsp;<span class="ident" id="2431945">p</span><span class="op" id="2431946">.</span><span class="ident" id="2431947">fmt</span><span class="op" id="2431950">.</span><span class="ident" id="2431951">sharpV</span>&nbsp;<span class="op" id="2431958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431962">p</span><span class="op" id="2431963">.</span><span class="ident" id="2431964">add</span><span class="op" id="2431967">(</span><span class="string" id="2431968">&#39;(&#39;</span><span class="op" id="2431971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2431975">p</span><span class="op" id="2431976">.</span><span class="ident" id="2431977">buf</span><span class="op" id="2431980">.</span><span class="ident" id="2431981">WriteString</span><span class="op" id="2431992">(</span><span class="ident" id="2431993">value</span><span class="op" id="2431998">.</span><span class="ident" id="2431999">Type</span><span class="op" id="2432003">(</span><span class="op" id="2432004">)</span><span class="op" id="2432005">.</span><span class="ident" id="2432006">String</span><span class="op" id="2432012">(</span><span class="op" id="2432013">)</span><span class="op" id="2432014">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432018">p</span><span class="op" id="2432019">.</span><span class="ident" id="2432020">add</span><span class="op" id="2432023">(</span><span class="string" id="2432024">&#39;)&#39;</span><span class="op" id="2432027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432031">p</span><span class="op" id="2432032">.</span><span class="ident" id="2432033">add</span><span class="op" id="2432036">(</span><span class="string" id="2432037">&#39;(&#39;</span><span class="op" id="2432040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2432044">if</span>&nbsp;<span class="ident" id="2432047">u</span>&nbsp;<span class="op" id="2432049">==</span>&nbsp;<span class="num" id="2432052">0</span>&nbsp;<span class="op" id="2432054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432059">p</span><span class="op" id="2432060">.</span><span class="ident" id="2432061">buf</span><span class="op" id="2432064">.</span><span class="ident" id="2432065">Write</span><span class="op" id="2432070">(</span><span class="ident" id="2432071">nilBytes</span><span class="op" id="2432079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2432083">}</span>&nbsp;<span class="keyword" id="2432085">else</span>&nbsp;<span class="op" id="2432090">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432095">p</span><span class="op" id="2432096">.</span><span class="ident" id="2432097">fmt0x64</span><span class="op" id="2432104">(</span><span class="ident" id="2432105">uint64</span><span class="op" id="2432111">(</span><span class="ident" id="2432112">u</span><span class="op" id="2432113">)</span><span class="op" id="2432114">,</span>&nbsp;<span class="builtintype" id="2432116">true</span><span class="op" id="2432120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2432124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432128">p</span><span class="op" id="2432129">.</span><span class="ident" id="2432130">add</span><span class="op" id="2432133">(</span><span class="string" id="2432134">&#39;)&#39;</span><span class="op" id="2432137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2432140">}</span>&nbsp;<span class="keyword" id="2432142">else</span>&nbsp;<span class="keyword" id="2432147">if</span>&nbsp;<span class="ident" id="2432150">verb</span>&nbsp;<span class="op" id="2432155">==</span>&nbsp;<span class="string" id="2432158">&#39;v&#39;</span>&nbsp;<span class="op" id="2432162">&amp;&amp;</span>&nbsp;<span class="ident" id="2432165">u</span>&nbsp;<span class="op" id="2432167">==</span>&nbsp;<span class="num" id="2432170">0</span>&nbsp;<span class="op" id="2432172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432176">p</span><span class="op" id="2432177">.</span><span class="ident" id="2432178">buf</span><span class="op" id="2432181">.</span><span class="ident" id="2432182">Write</span><span class="op" id="2432187">(</span><span class="ident" id="2432188">nilAngleBytes</span><span class="op" id="2432201">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2432204">}</span>&nbsp;<span class="keyword" id="2432206">else</span>&nbsp;<span class="op" id="2432211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2432215">if</span>&nbsp;<span class="ident" id="2432218">use0x64</span>&nbsp;<span class="op" id="2432226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432231">p</span><span class="op" id="2432232">.</span><span class="ident" id="2432233">fmt0x64</span><span class="op" id="2432240">(</span><span class="ident" id="2432241">uint64</span><span class="op" id="2432247">(</span><span class="ident" id="2432248">u</span><span class="op" id="2432249">)</span><span class="op" id="2432250">,</span>&nbsp;<span class="op" id="2432252">!</span><span class="ident" id="2432253">p</span><span class="op" id="2432254">.</span><span class="ident" id="2432255">fmt</span><span class="op" id="2432258">.</span><span class="ident" id="2432259">sharp</span><span class="op" id="2432264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2432268">}</span>&nbsp;<span class="keyword" id="2432270">else</span>&nbsp;<span class="op" id="2432275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432280">p</span><span class="op" id="2432281">.</span><span class="ident" id="2432282">fmtUint64</span><span class="op" id="2432291">(</span><span class="ident" id="2432292">uint64</span><span class="op" id="2432298">(</span><span class="ident" id="2432299">u</span><span class="op" id="2432300">)</span><span class="op" id="2432301">,</span>&nbsp;<span class="ident" id="2432303">verb</span><span class="op" id="2432307">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2432311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2432314">}</span><br>
<span class="lineno"></span><span class="op" id="2432316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2432319">var</span>&nbsp;<span class="op" id="2432323">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432326">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2432338">=</span>&nbsp;<span class="ident" id="2432340">reflect</span><span class="op" id="2432347">.</span><span class="ident" id="2432348">TypeOf</span><span class="op" id="2432354">(</span><span class="num" id="2432355">0</span><span class="op" id="2432356">)</span><span class="op" id="2432357">.</span><span class="ident" id="2432358">Bits</span><span class="op" id="2432362">(</span><span class="op" id="2432363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432366">uintptrBits</span>&nbsp;<span class="op" id="2432378">=</span>&nbsp;<span class="ident" id="2432380">reflect</span><span class="op" id="2432387">.</span><span class="ident" id="2432388">TypeOf</span><span class="op" id="2432394">(</span><span class="builtintype" id="2432395">uintptr</span><span class="op" id="2432402">(</span><span class="num" id="2432403">0</span><span class="op" id="2432404">)</span><span class="op" id="2432405">)</span><span class="op" id="2432406">.</span><span class="ident" id="2432407">Bits</span><span class="op" id="2432411">(</span><span class="op" id="2432412">)</span><br>
<span class="lineno"></span><span class="op" id="2432414">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2432417">func</span>&nbsp;<span class="op" id="2432422">(</span><span class="ident" id="2432423">p</span>&nbsp;<span class="op" id="2432425">*</span><span class="ident" id="2432426">pp</span><span class="op" id="2432428">)</span>&nbsp;<span class="ident" id="2432430">catchPanic</span><span class="op" id="2432440">(</span><span class="ident" id="2432441">arg</span>&nbsp;<span class="keyword" id="2432445">interface</span><span class="op" id="2432454">{</span><span class="op" id="2432455">}</span><span class="op" id="2432456">,</span>&nbsp;<span class="ident" id="2432458">verb</span>&nbsp;<span class="builtintype" id="2432463">rune</span><span class="op" id="2432467">)</span>&nbsp;<span class="op" id="2432469">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2432472">if</span>&nbsp;<span class="ident" id="2432475">err</span>&nbsp;<span class="op" id="2432479">:=</span>&nbsp;<span class="builtinfunc" id="2432482">recover</span><span class="op" id="2432489">(</span><span class="op" id="2432490">)</span><span class="op" id="2432491">;</span>&nbsp;<span class="ident" id="2432493">err</span>&nbsp;<span class="op" id="2432497">!=</span>&nbsp;<span class="ident" id="2432500">nil</span>&nbsp;<span class="op" id="2432504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2432508">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2432581">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2432650">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2432717">if</span>&nbsp;<span class="ident" id="2432720">v</span>&nbsp;<span class="op" id="2432722">:=</span>&nbsp;<span class="ident" id="2432725">reflect</span><span class="op" id="2432732">.</span><span class="ident" id="2432733">ValueOf</span><span class="op" id="2432740">(</span><span class="ident" id="2432741">arg</span><span class="op" id="2432744">)</span><span class="op" id="2432745">;</span>&nbsp;<span class="ident" id="2432747">v</span><span class="op" id="2432748">.</span><span class="ident" id="2432749">Kind</span><span class="op" id="2432753">(</span><span class="op" id="2432754">)</span>&nbsp;<span class="op" id="2432756">==</span>&nbsp;<span class="ident" id="2432759">reflect</span><span class="op" id="2432766">.</span><span class="ident" id="2432767">Ptr</span>&nbsp;<span class="op" id="2432771">&amp;&amp;</span>&nbsp;<span class="ident" id="2432774">v</span><span class="op" id="2432775">.</span><span class="ident" id="2432776">IsNil</span><span class="op" id="2432781">(</span><span class="op" id="2432782">)</span>&nbsp;<span class="op" id="2432784">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2432789">p</span><span class="op" id="2432790">.</span><span class="ident" id="2432791">buf</span><span class="op" id="2432794">.</span><span class="ident" id="2432795">Write</span><span class="op" id="2432800">(</span><span class="ident" id="2432801">nilAngleBytes</span><span class="op" id="2432814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2432819">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2432828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2432832">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2432905">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2432942">if</span>&nbsp;<span class="ident" id="2432945">p</span><span class="op" id="2432946">.</span><span class="ident" id="2432947">panicking</span>&nbsp;<span class="op" id="2432957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2432962">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2433025">panic</span><span class="op" id="2433030">(</span><span class="ident" id="2433031">err</span><span class="op" id="2433034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2433038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433042">p</span><span class="op" id="2433043">.</span><span class="ident" id="2433044">fmt</span><span class="op" id="2433047">.</span><span class="ident" id="2433048">clearflags</span><span class="op" id="2433058">(</span><span class="op" id="2433059">)</span>&nbsp;<span class="comment" id="2433061">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433125">p</span><span class="op" id="2433126">.</span><span class="ident" id="2433127">buf</span><span class="op" id="2433130">.</span><span class="ident" id="2433131">Write</span><span class="op" id="2433136">(</span><span class="ident" id="2433137">percentBangBytes</span><span class="op" id="2433153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433157">p</span><span class="op" id="2433158">.</span><span class="ident" id="2433159">add</span><span class="op" id="2433162">(</span><span class="ident" id="2433163">verb</span><span class="op" id="2433167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433171">p</span><span class="op" id="2433172">.</span><span class="ident" id="2433173">buf</span><span class="op" id="2433176">.</span><span class="ident" id="2433177">Write</span><span class="op" id="2433182">(</span><span class="ident" id="2433183">panicBytes</span><span class="op" id="2433193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433197">p</span><span class="op" id="2433198">.</span><span class="ident" id="2433199">panicking</span>&nbsp;<span class="op" id="2433209">=</span>&nbsp;<span class="builtintype" id="2433211">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433218">p</span><span class="op" id="2433219">.</span><span class="ident" id="2433220">printArg</span><span class="op" id="2433228">(</span><span class="ident" id="2433229">err</span><span class="op" id="2433232">,</span>&nbsp;<span class="string" id="2433234">&#39;v&#39;</span><span class="op" id="2433237">,</span>&nbsp;<span class="num" id="2433239">0</span><span class="op" id="2433240">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433244">p</span><span class="op" id="2433245">.</span><span class="ident" id="2433246">panicking</span>&nbsp;<span class="op" id="2433256">=</span>&nbsp;<span class="builtintype" id="2433258">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433266">p</span><span class="op" id="2433267">.</span><span class="ident" id="2433268">buf</span><span class="op" id="2433271">.</span><span class="ident" id="2433272">WriteByte</span><span class="op" id="2433281">(</span><span class="string" id="2433282">&#39;)&#39;</span><span class="op" id="2433285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2433288">}</span><br>
<span class="lineno"></span><span class="op" id="2433290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2433293">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2433382">func</span>&nbsp;<span class="op" id="2433387">(</span><span class="ident" id="2433388">p</span>&nbsp;<span class="op" id="2433390">*</span><span class="ident" id="2433391">pp</span><span class="op" id="2433393">)</span>&nbsp;<span class="ident" id="2433395">clearSpecialFlags</span><span class="op" id="2433412">(</span><span class="op" id="2433413">)</span>&nbsp;<span class="op" id="2433415">(</span><span class="ident" id="2433416">plusV</span><span class="op" id="2433421">,</span>&nbsp;<span class="ident" id="2433423">sharpV</span>&nbsp;<span class="builtintype" id="2433430">bool</span><span class="op" id="2433434">)</span>&nbsp;<span class="op" id="2433436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433439">plusV</span>&nbsp;<span class="op" id="2433445">=</span>&nbsp;<span class="ident" id="2433447">p</span><span class="op" id="2433448">.</span><span class="ident" id="2433449">fmt</span><span class="op" id="2433452">.</span><span class="ident" id="2433453">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2433460">if</span>&nbsp;<span class="ident" id="2433463">plusV</span>&nbsp;<span class="op" id="2433469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433473">p</span><span class="op" id="2433474">.</span><span class="ident" id="2433475">fmt</span><span class="op" id="2433478">.</span><span class="ident" id="2433479">plus</span>&nbsp;<span class="op" id="2433484">=</span>&nbsp;<span class="builtintype" id="2433486">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433493">p</span><span class="op" id="2433494">.</span><span class="ident" id="2433495">fmt</span><span class="op" id="2433498">.</span><span class="ident" id="2433499">plusV</span>&nbsp;<span class="op" id="2433505">=</span>&nbsp;<span class="builtintype" id="2433507">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2433514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433517">sharpV</span>&nbsp;<span class="op" id="2433524">=</span>&nbsp;<span class="ident" id="2433526">p</span><span class="op" id="2433527">.</span><span class="ident" id="2433528">fmt</span><span class="op" id="2433531">.</span><span class="ident" id="2433532">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2433540">if</span>&nbsp;<span class="ident" id="2433543">sharpV</span>&nbsp;<span class="op" id="2433550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433554">p</span><span class="op" id="2433555">.</span><span class="ident" id="2433556">fmt</span><span class="op" id="2433559">.</span><span class="ident" id="2433560">sharp</span>&nbsp;<span class="op" id="2433566">=</span>&nbsp;<span class="builtintype" id="2433568">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433575">p</span><span class="op" id="2433576">.</span><span class="ident" id="2433577">fmt</span><span class="op" id="2433580">.</span><span class="ident" id="2433581">sharpV</span>&nbsp;<span class="op" id="2433588">=</span>&nbsp;<span class="builtintype" id="2433590">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2433597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2433600">return</span><br>
<span class="lineno"></span><span class="op" id="2433607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2433610">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2433688">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2433743">func</span>&nbsp;<span class="op" id="2433748">(</span><span class="ident" id="2433749">p</span>&nbsp;<span class="op" id="2433751">*</span><span class="ident" id="2433752">pp</span><span class="op" id="2433754">)</span>&nbsp;<span class="ident" id="2433756">restoreSpecialFlags</span><span class="op" id="2433775">(</span><span class="ident" id="2433776">plusV</span><span class="op" id="2433781">,</span>&nbsp;<span class="ident" id="2433783">sharpV</span>&nbsp;<span class="builtintype" id="2433790">bool</span><span class="op" id="2433794">)</span>&nbsp;<span class="op" id="2433796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2433799">if</span>&nbsp;<span class="ident" id="2433802">plusV</span>&nbsp;<span class="op" id="2433808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433812">p</span><span class="op" id="2433813">.</span><span class="ident" id="2433814">fmt</span><span class="op" id="2433817">.</span><span class="ident" id="2433818">plus</span>&nbsp;<span class="op" id="2433823">=</span>&nbsp;<span class="builtintype" id="2433825">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433833">p</span><span class="op" id="2433834">.</span><span class="ident" id="2433835">fmt</span><span class="op" id="2433838">.</span><span class="ident" id="2433839">plusV</span>&nbsp;<span class="op" id="2433845">=</span>&nbsp;<span class="builtintype" id="2433847">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2433853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2433856">if</span>&nbsp;<span class="ident" id="2433859">sharpV</span>&nbsp;<span class="op" id="2433866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433870">p</span><span class="op" id="2433871">.</span><span class="ident" id="2433872">fmt</span><span class="op" id="2433875">.</span><span class="ident" id="2433876">sharp</span>&nbsp;<span class="op" id="2433882">=</span>&nbsp;<span class="builtintype" id="2433884">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2433892">p</span><span class="op" id="2433893">.</span><span class="ident" id="2433894">fmt</span><span class="op" id="2433897">.</span><span class="ident" id="2433898">sharpV</span>&nbsp;<span class="op" id="2433905">=</span>&nbsp;<span class="builtintype" id="2433907">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2433913">}</span><br>
<span class="lineno"></span><span class="op" id="2433915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2433918">func</span>&nbsp;<span class="op" id="2433923">(</span><span class="ident" id="2433924">p</span>&nbsp;<span class="op" id="2433926">*</span><span class="ident" id="2433927">pp</span><span class="op" id="2433929">)</span>&nbsp;<span class="ident" id="2433931">handleMethods</span><span class="op" id="2433944">(</span><span class="ident" id="2433945">verb</span>&nbsp;<span class="builtintype" id="2433950">rune</span><span class="op" id="2433954">,</span>&nbsp;<span class="ident" id="2433956">depth</span>&nbsp;<span class="builtintype" id="2433962">int</span><span class="op" id="2433965">)</span>&nbsp;<span class="op" id="2433967">(</span><span class="ident" id="2433968">handled</span>&nbsp;<span class="builtintype" id="2433976">bool</span><span class="op" id="2433980">)</span>&nbsp;<span class="op" id="2433982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2433985">if</span>&nbsp;<span class="ident" id="2433988">p</span><span class="op" id="2433989">.</span><span class="ident" id="2433990">erroring</span>&nbsp;<span class="op" id="2433999">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434003">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2434011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434014">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434037">if</span>&nbsp;<span class="ident" id="2434040">formatter</span><span class="op" id="2434049">,</span>&nbsp;<span class="ident" id="2434051">ok</span>&nbsp;<span class="op" id="2434054">:=</span>&nbsp;<span class="ident" id="2434057">p</span><span class="op" id="2434058">.</span><span class="ident" id="2434059">arg</span><span class="op" id="2434062">.</span><span class="op" id="2434063">(</span><span class="ident" id="2434064">Formatter</span><span class="op" id="2434073">)</span><span class="op" id="2434074">;</span>&nbsp;<span class="ident" id="2434076">ok</span>&nbsp;<span class="op" id="2434079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2434083">handled</span>&nbsp;<span class="op" id="2434091">=</span>&nbsp;<span class="builtintype" id="2434093">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434100">defer</span>&nbsp;<span class="ident" id="2434106">p</span><span class="op" id="2434107">.</span><span class="ident" id="2434108">restoreSpecialFlags</span><span class="op" id="2434127">(</span><span class="ident" id="2434128">p</span><span class="op" id="2434129">.</span><span class="ident" id="2434130">clearSpecialFlags</span><span class="op" id="2434147">(</span><span class="op" id="2434148">)</span><span class="op" id="2434149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434153">defer</span>&nbsp;<span class="ident" id="2434159">p</span><span class="op" id="2434160">.</span><span class="ident" id="2434161">catchPanic</span><span class="op" id="2434171">(</span><span class="ident" id="2434172">p</span><span class="op" id="2434173">.</span><span class="ident" id="2434174">arg</span><span class="op" id="2434177">,</span>&nbsp;<span class="ident" id="2434179">verb</span><span class="op" id="2434183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2434187">formatter</span><span class="op" id="2434196">.</span><span class="ident" id="2434197">Format</span><span class="op" id="2434203">(</span><span class="ident" id="2434204">p</span><span class="op" id="2434205">,</span>&nbsp;<span class="ident" id="2434207">verb</span><span class="op" id="2434211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434215">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2434223">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434227">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434318">if</span>&nbsp;<span class="ident" id="2434321">p</span><span class="op" id="2434322">.</span><span class="ident" id="2434323">fmt</span><span class="op" id="2434326">.</span><span class="ident" id="2434327">sharpV</span>&nbsp;<span class="op" id="2434334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434338">if</span>&nbsp;<span class="ident" id="2434341">stringer</span><span class="op" id="2434349">,</span>&nbsp;<span class="ident" id="2434351">ok</span>&nbsp;<span class="op" id="2434354">:=</span>&nbsp;<span class="ident" id="2434357">p</span><span class="op" id="2434358">.</span><span class="ident" id="2434359">arg</span><span class="op" id="2434362">.</span><span class="op" id="2434363">(</span><span class="ident" id="2434364">GoStringer</span><span class="op" id="2434374">)</span><span class="op" id="2434375">;</span>&nbsp;<span class="ident" id="2434377">ok</span>&nbsp;<span class="op" id="2434380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2434385">handled</span>&nbsp;<span class="op" id="2434393">=</span>&nbsp;<span class="builtintype" id="2434395">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434403">defer</span>&nbsp;<span class="ident" id="2434409">p</span><span class="op" id="2434410">.</span><span class="ident" id="2434411">catchPanic</span><span class="op" id="2434421">(</span><span class="ident" id="2434422">p</span><span class="op" id="2434423">.</span><span class="ident" id="2434424">arg</span><span class="op" id="2434427">,</span>&nbsp;<span class="ident" id="2434429">verb</span><span class="op" id="2434433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434438">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2434484">p</span><span class="op" id="2434485">.</span><span class="ident" id="2434486">fmt</span><span class="op" id="2434489">.</span><span class="ident" id="2434490">fmt_s</span><span class="op" id="2434495">(</span><span class="ident" id="2434496">stringer</span><span class="op" id="2434504">.</span><span class="ident" id="2434505">GoString</span><span class="op" id="2434513">(</span><span class="op" id="2434514">)</span><span class="op" id="2434515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434520">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2434529">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2434532">}</span>&nbsp;<span class="keyword" id="2434534">else</span>&nbsp;<span class="op" id="2434539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434543">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434606">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434668">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434725">switch</span>&nbsp;<span class="ident" id="2434732">verb</span>&nbsp;<span class="op" id="2434737">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434741">case</span>&nbsp;<span class="string" id="2434746">&#39;v&#39;</span><span class="op" id="2434749">,</span>&nbsp;<span class="string" id="2434751">&#39;s&#39;</span><span class="op" id="2434754">,</span>&nbsp;<span class="string" id="2434756">&#39;x&#39;</span><span class="op" id="2434759">,</span>&nbsp;<span class="string" id="2434761">&#39;X&#39;</span><span class="op" id="2434764">,</span>&nbsp;<span class="string" id="2434766">&#39;q&#39;</span><span class="op" id="2434769">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434774">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434808">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434858">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2434905">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434950">switch</span>&nbsp;<span class="ident" id="2434957">v</span>&nbsp;<span class="op" id="2434959">:=</span>&nbsp;<span class="ident" id="2434962">p</span><span class="op" id="2434963">.</span><span class="ident" id="2434964">arg</span><span class="op" id="2434967">.</span><span class="op" id="2434968">(</span><span class="keyword" id="2434969">type</span><span class="op" id="2434973">)</span>&nbsp;<span class="op" id="2434975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2434980">case</span>&nbsp;<span class="builtintype" id="2434985">error</span><span class="op" id="2434990">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2434996">handled</span>&nbsp;<span class="op" id="2435004">=</span>&nbsp;<span class="builtintype" id="2435006">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435015">defer</span>&nbsp;<span class="ident" id="2435021">p</span><span class="op" id="2435022">.</span><span class="ident" id="2435023">catchPanic</span><span class="op" id="2435033">(</span><span class="ident" id="2435034">p</span><span class="op" id="2435035">.</span><span class="ident" id="2435036">arg</span><span class="op" id="2435039">,</span>&nbsp;<span class="ident" id="2435041">verb</span><span class="op" id="2435045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435051">p</span><span class="op" id="2435052">.</span><span class="ident" id="2435053">printArg</span><span class="op" id="2435061">(</span><span class="ident" id="2435062">v</span><span class="op" id="2435063">.</span><span class="ident" id="2435064">Error</span><span class="op" id="2435069">(</span><span class="op" id="2435070">)</span><span class="op" id="2435071">,</span>&nbsp;<span class="ident" id="2435073">verb</span><span class="op" id="2435077">,</span>&nbsp;<span class="ident" id="2435079">depth</span><span class="op" id="2435084">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435090">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435101">case</span>&nbsp;<span class="ident" id="2435106">Stringer</span><span class="op" id="2435114">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435120">handled</span>&nbsp;<span class="op" id="2435128">=</span>&nbsp;<span class="builtintype" id="2435130">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435139">defer</span>&nbsp;<span class="ident" id="2435145">p</span><span class="op" id="2435146">.</span><span class="ident" id="2435147">catchPanic</span><span class="op" id="2435157">(</span><span class="ident" id="2435158">p</span><span class="op" id="2435159">.</span><span class="ident" id="2435160">arg</span><span class="op" id="2435163">,</span>&nbsp;<span class="ident" id="2435165">verb</span><span class="op" id="2435169">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435175">p</span><span class="op" id="2435176">.</span><span class="ident" id="2435177">printArg</span><span class="op" id="2435185">(</span><span class="ident" id="2435186">v</span><span class="op" id="2435187">.</span><span class="ident" id="2435188">String</span><span class="op" id="2435194">(</span><span class="op" id="2435195">)</span><span class="op" id="2435196">,</span>&nbsp;<span class="ident" id="2435198">verb</span><span class="op" id="2435202">,</span>&nbsp;<span class="ident" id="2435204">depth</span><span class="op" id="2435209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435215">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2435225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2435229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2435232">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435235">return</span>&nbsp;<span class="builtintype" id="2435242">false</span><br>
<span class="lineno"></span><span class="op" id="2435248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2435251">func</span>&nbsp;<span class="op" id="2435256">(</span><span class="ident" id="2435257">p</span>&nbsp;<span class="op" id="2435259">*</span><span class="ident" id="2435260">pp</span><span class="op" id="2435262">)</span>&nbsp;<span class="ident" id="2435264">printArg</span><span class="op" id="2435272">(</span><span class="ident" id="2435273">arg</span>&nbsp;<span class="keyword" id="2435277">interface</span><span class="op" id="2435286">{</span><span class="op" id="2435287">}</span><span class="op" id="2435288">,</span>&nbsp;<span class="ident" id="2435290">verb</span>&nbsp;<span class="builtintype" id="2435295">rune</span><span class="op" id="2435299">,</span>&nbsp;<span class="ident" id="2435301">depth</span>&nbsp;<span class="builtintype" id="2435307">int</span><span class="op" id="2435310">)</span>&nbsp;<span class="op" id="2435312">(</span><span class="ident" id="2435313">wasString</span>&nbsp;<span class="builtintype" id="2435323">bool</span><span class="op" id="2435327">)</span>&nbsp;<span class="op" id="2435329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435332">p</span><span class="op" id="2435333">.</span><span class="ident" id="2435334">arg</span>&nbsp;<span class="op" id="2435338">=</span>&nbsp;<span class="ident" id="2435340">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435345">p</span><span class="op" id="2435346">.</span><span class="ident" id="2435347">value</span>&nbsp;<span class="op" id="2435353">=</span>&nbsp;<span class="ident" id="2435355">reflect</span><span class="op" id="2435362">.</span><span class="ident" id="2435363">Value</span><span class="op" id="2435368">{</span><span class="op" id="2435369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435373">if</span>&nbsp;<span class="ident" id="2435376">arg</span>&nbsp;<span class="op" id="2435380">==</span>&nbsp;<span class="ident" id="2435383">nil</span>&nbsp;<span class="op" id="2435387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435391">if</span>&nbsp;<span class="ident" id="2435394">verb</span>&nbsp;<span class="op" id="2435399">==</span>&nbsp;<span class="string" id="2435402">&#39;T&#39;</span>&nbsp;<span class="op" id="2435406">||</span>&nbsp;<span class="ident" id="2435409">verb</span>&nbsp;<span class="op" id="2435414">==</span>&nbsp;<span class="string" id="2435417">&#39;v&#39;</span>&nbsp;<span class="op" id="2435421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435426">p</span><span class="op" id="2435427">.</span><span class="ident" id="2435428">fmt</span><span class="op" id="2435431">.</span><span class="ident" id="2435432">pad</span><span class="op" id="2435435">(</span><span class="ident" id="2435436">nilAngleBytes</span><span class="op" id="2435449">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2435453">}</span>&nbsp;<span class="keyword" id="2435455">else</span>&nbsp;<span class="op" id="2435460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435465">p</span><span class="op" id="2435466">.</span><span class="ident" id="2435467">badVerb</span><span class="op" id="2435474">(</span><span class="ident" id="2435475">verb</span><span class="op" id="2435479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2435483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435487">return</span>&nbsp;<span class="builtintype" id="2435494">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2435501">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2435505">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2435544">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435629">switch</span>&nbsp;<span class="ident" id="2435636">verb</span>&nbsp;<span class="op" id="2435641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435644">case</span>&nbsp;<span class="string" id="2435649">&#39;T&#39;</span><span class="op" id="2435652">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435656">p</span><span class="op" id="2435657">.</span><span class="ident" id="2435658">printArg</span><span class="op" id="2435666">(</span><span class="ident" id="2435667">reflect</span><span class="op" id="2435674">.</span><span class="ident" id="2435675">TypeOf</span><span class="op" id="2435681">(</span><span class="ident" id="2435682">arg</span><span class="op" id="2435685">)</span><span class="op" id="2435686">.</span><span class="ident" id="2435687">String</span><span class="op" id="2435693">(</span><span class="op" id="2435694">)</span><span class="op" id="2435695">,</span>&nbsp;<span class="string" id="2435697">&#39;s&#39;</span><span class="op" id="2435700">,</span>&nbsp;<span class="num" id="2435702">0</span><span class="op" id="2435703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435707">return</span>&nbsp;<span class="builtintype" id="2435714">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435721">case</span>&nbsp;<span class="string" id="2435726">&#39;p&#39;</span><span class="op" id="2435729">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435733">p</span><span class="op" id="2435734">.</span><span class="ident" id="2435735">fmtPointer</span><span class="op" id="2435745">(</span><span class="ident" id="2435746">reflect</span><span class="op" id="2435753">.</span><span class="ident" id="2435754">ValueOf</span><span class="op" id="2435761">(</span><span class="ident" id="2435762">arg</span><span class="op" id="2435765">)</span><span class="op" id="2435766">,</span>&nbsp;<span class="ident" id="2435768">verb</span><span class="op" id="2435772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435776">return</span>&nbsp;<span class="builtintype" id="2435783">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2435790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2435794">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435841">switch</span>&nbsp;<span class="ident" id="2435848">f</span>&nbsp;<span class="op" id="2435850">:=</span>&nbsp;<span class="ident" id="2435853">arg</span><span class="op" id="2435856">.</span><span class="op" id="2435857">(</span><span class="keyword" id="2435858">type</span><span class="op" id="2435862">)</span>&nbsp;<span class="op" id="2435864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435867">case</span>&nbsp;<span class="builtintype" id="2435872">bool</span><span class="op" id="2435876">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435880">p</span><span class="op" id="2435881">.</span><span class="ident" id="2435882">fmtBool</span><span class="op" id="2435889">(</span><span class="ident" id="2435890">f</span><span class="op" id="2435891">,</span>&nbsp;<span class="ident" id="2435893">verb</span><span class="op" id="2435897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435900">case</span>&nbsp;<span class="builtintype" id="2435905">float32</span><span class="op" id="2435912">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435916">p</span><span class="op" id="2435917">.</span><span class="ident" id="2435918">fmtFloat32</span><span class="op" id="2435928">(</span><span class="ident" id="2435929">f</span><span class="op" id="2435930">,</span>&nbsp;<span class="ident" id="2435932">verb</span><span class="op" id="2435936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435939">case</span>&nbsp;<span class="builtintype" id="2435944">float64</span><span class="op" id="2435951">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435955">p</span><span class="op" id="2435956">.</span><span class="ident" id="2435957">fmtFloat64</span><span class="op" id="2435967">(</span><span class="ident" id="2435968">f</span><span class="op" id="2435969">,</span>&nbsp;<span class="ident" id="2435971">verb</span><span class="op" id="2435975">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2435978">case</span>&nbsp;<span class="builtintype" id="2435983">complex64</span><span class="op" id="2435992">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2435996">p</span><span class="op" id="2435997">.</span><span class="ident" id="2435998">fmtComplex64</span><span class="op" id="2436010">(</span><span class="ident" id="2436011">f</span><span class="op" id="2436012">,</span>&nbsp;<span class="ident" id="2436014">verb</span><span class="op" id="2436018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436021">case</span>&nbsp;<span class="builtintype" id="2436026">complex128</span><span class="op" id="2436036">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436040">p</span><span class="op" id="2436041">.</span><span class="ident" id="2436042">fmtComplex128</span><span class="op" id="2436055">(</span><span class="ident" id="2436056">f</span><span class="op" id="2436057">,</span>&nbsp;<span class="ident" id="2436059">verb</span><span class="op" id="2436063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436066">case</span>&nbsp;<span class="builtintype" id="2436071">int</span><span class="op" id="2436074">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436078">p</span><span class="op" id="2436079">.</span><span class="ident" id="2436080">fmtInt64</span><span class="op" id="2436088">(</span><span class="ident" id="2436089">int64</span><span class="op" id="2436094">(</span><span class="ident" id="2436095">f</span><span class="op" id="2436096">)</span><span class="op" id="2436097">,</span>&nbsp;<span class="ident" id="2436099">verb</span><span class="op" id="2436103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436106">case</span>&nbsp;<span class="builtintype" id="2436111">int8</span><span class="op" id="2436115">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436119">p</span><span class="op" id="2436120">.</span><span class="ident" id="2436121">fmtInt64</span><span class="op" id="2436129">(</span><span class="ident" id="2436130">int64</span><span class="op" id="2436135">(</span><span class="ident" id="2436136">f</span><span class="op" id="2436137">)</span><span class="op" id="2436138">,</span>&nbsp;<span class="ident" id="2436140">verb</span><span class="op" id="2436144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436147">case</span>&nbsp;<span class="builtintype" id="2436152">int16</span><span class="op" id="2436157">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436161">p</span><span class="op" id="2436162">.</span><span class="ident" id="2436163">fmtInt64</span><span class="op" id="2436171">(</span><span class="ident" id="2436172">int64</span><span class="op" id="2436177">(</span><span class="ident" id="2436178">f</span><span class="op" id="2436179">)</span><span class="op" id="2436180">,</span>&nbsp;<span class="ident" id="2436182">verb</span><span class="op" id="2436186">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436189">case</span>&nbsp;<span class="builtintype" id="2436194">int32</span><span class="op" id="2436199">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436203">p</span><span class="op" id="2436204">.</span><span class="ident" id="2436205">fmtInt64</span><span class="op" id="2436213">(</span><span class="ident" id="2436214">int64</span><span class="op" id="2436219">(</span><span class="ident" id="2436220">f</span><span class="op" id="2436221">)</span><span class="op" id="2436222">,</span>&nbsp;<span class="ident" id="2436224">verb</span><span class="op" id="2436228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436231">case</span>&nbsp;<span class="ident" id="2436236">int64</span><span class="op" id="2436241">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436245">p</span><span class="op" id="2436246">.</span><span class="ident" id="2436247">fmtInt64</span><span class="op" id="2436255">(</span><span class="ident" id="2436256">f</span><span class="op" id="2436257">,</span>&nbsp;<span class="ident" id="2436259">verb</span><span class="op" id="2436263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436266">case</span>&nbsp;<span class="builtintype" id="2436271">uint</span><span class="op" id="2436275">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436279">p</span><span class="op" id="2436280">.</span><span class="ident" id="2436281">fmtUint64</span><span class="op" id="2436290">(</span><span class="ident" id="2436291">uint64</span><span class="op" id="2436297">(</span><span class="ident" id="2436298">f</span><span class="op" id="2436299">)</span><span class="op" id="2436300">,</span>&nbsp;<span class="ident" id="2436302">verb</span><span class="op" id="2436306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436309">case</span>&nbsp;<span class="builtintype" id="2436314">uint8</span><span class="op" id="2436319">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436323">p</span><span class="op" id="2436324">.</span><span class="ident" id="2436325">fmtUint64</span><span class="op" id="2436334">(</span><span class="ident" id="2436335">uint64</span><span class="op" id="2436341">(</span><span class="ident" id="2436342">f</span><span class="op" id="2436343">)</span><span class="op" id="2436344">,</span>&nbsp;<span class="ident" id="2436346">verb</span><span class="op" id="2436350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436353">case</span>&nbsp;<span class="builtintype" id="2436358">uint16</span><span class="op" id="2436364">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436368">p</span><span class="op" id="2436369">.</span><span class="ident" id="2436370">fmtUint64</span><span class="op" id="2436379">(</span><span class="ident" id="2436380">uint64</span><span class="op" id="2436386">(</span><span class="ident" id="2436387">f</span><span class="op" id="2436388">)</span><span class="op" id="2436389">,</span>&nbsp;<span class="ident" id="2436391">verb</span><span class="op" id="2436395">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436398">case</span>&nbsp;<span class="builtintype" id="2436403">uint32</span><span class="op" id="2436409">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436413">p</span><span class="op" id="2436414">.</span><span class="ident" id="2436415">fmtUint64</span><span class="op" id="2436424">(</span><span class="ident" id="2436425">uint64</span><span class="op" id="2436431">(</span><span class="ident" id="2436432">f</span><span class="op" id="2436433">)</span><span class="op" id="2436434">,</span>&nbsp;<span class="ident" id="2436436">verb</span><span class="op" id="2436440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436443">case</span>&nbsp;<span class="ident" id="2436448">uint64</span><span class="op" id="2436454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436458">p</span><span class="op" id="2436459">.</span><span class="ident" id="2436460">fmtUint64</span><span class="op" id="2436469">(</span><span class="ident" id="2436470">f</span><span class="op" id="2436471">,</span>&nbsp;<span class="ident" id="2436473">verb</span><span class="op" id="2436477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436480">case</span>&nbsp;<span class="builtintype" id="2436485">uintptr</span><span class="op" id="2436492">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436496">p</span><span class="op" id="2436497">.</span><span class="ident" id="2436498">fmtUint64</span><span class="op" id="2436507">(</span><span class="ident" id="2436508">uint64</span><span class="op" id="2436514">(</span><span class="ident" id="2436515">f</span><span class="op" id="2436516">)</span><span class="op" id="2436517">,</span>&nbsp;<span class="ident" id="2436519">verb</span><span class="op" id="2436523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436526">case</span>&nbsp;<span class="builtintype" id="2436531">string</span><span class="op" id="2436537">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436541">p</span><span class="op" id="2436542">.</span><span class="ident" id="2436543">fmtString</span><span class="op" id="2436552">(</span><span class="ident" id="2436553">f</span><span class="op" id="2436554">,</span>&nbsp;<span class="ident" id="2436556">verb</span><span class="op" id="2436560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436564">wasString</span>&nbsp;<span class="op" id="2436574">=</span>&nbsp;<span class="ident" id="2436576">verb</span>&nbsp;<span class="op" id="2436581">==</span>&nbsp;<span class="string" id="2436584">&#39;s&#39;</span>&nbsp;<span class="op" id="2436588">||</span>&nbsp;<span class="ident" id="2436591">verb</span>&nbsp;<span class="op" id="2436596">==</span>&nbsp;<span class="string" id="2436599">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436604">case</span>&nbsp;<span class="op" id="2436609">[</span><span class="op" id="2436610">]</span><span class="builtintype" id="2436611">byte</span><span class="op" id="2436615">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436619">p</span><span class="op" id="2436620">.</span><span class="ident" id="2436621">fmtBytes</span><span class="op" id="2436629">(</span><span class="ident" id="2436630">f</span><span class="op" id="2436631">,</span>&nbsp;<span class="ident" id="2436633">verb</span><span class="op" id="2436637">,</span>&nbsp;<span class="ident" id="2436639">nil</span><span class="op" id="2436642">,</span>&nbsp;<span class="ident" id="2436644">depth</span><span class="op" id="2436649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436653">wasString</span>&nbsp;<span class="op" id="2436663">=</span>&nbsp;<span class="ident" id="2436665">verb</span>&nbsp;<span class="op" id="2436670">==</span>&nbsp;<span class="string" id="2436673">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436678">default</span><span class="op" id="2436685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2436689">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436744">if</span>&nbsp;<span class="ident" id="2436747">handled</span>&nbsp;<span class="op" id="2436755">:=</span>&nbsp;<span class="ident" id="2436758">p</span><span class="op" id="2436759">.</span><span class="ident" id="2436760">handleMethods</span><span class="op" id="2436773">(</span><span class="ident" id="2436774">verb</span><span class="op" id="2436778">,</span>&nbsp;<span class="ident" id="2436780">depth</span><span class="op" id="2436785">)</span><span class="op" id="2436786">;</span>&nbsp;<span class="ident" id="2436788">handled</span>&nbsp;<span class="op" id="2436796">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436801">return</span>&nbsp;<span class="builtintype" id="2436808">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2436816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2436820">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436848">return</span>&nbsp;<span class="ident" id="2436855">p</span><span class="op" id="2436856">.</span><span class="ident" id="2436857">printReflectValue</span><span class="op" id="2436874">(</span><span class="ident" id="2436875">reflect</span><span class="op" id="2436882">.</span><span class="ident" id="2436883">ValueOf</span><span class="op" id="2436890">(</span><span class="ident" id="2436891">arg</span><span class="op" id="2436894">)</span><span class="op" id="2436895">,</span>&nbsp;<span class="ident" id="2436897">verb</span><span class="op" id="2436901">,</span>&nbsp;<span class="ident" id="2436903">depth</span><span class="op" id="2436908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2436911">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2436914">p</span><span class="op" id="2436915">.</span><span class="ident" id="2436916">arg</span>&nbsp;<span class="op" id="2436920">=</span>&nbsp;<span class="ident" id="2436922">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2436927">return</span><br>
<span class="lineno"></span><span class="op" id="2436934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2436937">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2437027">func</span>&nbsp;<span class="op" id="2437032">(</span><span class="ident" id="2437033">p</span>&nbsp;<span class="op" id="2437035">*</span><span class="ident" id="2437036">pp</span><span class="op" id="2437038">)</span>&nbsp;<span class="ident" id="2437040">printValue</span><span class="op" id="2437050">(</span><span class="ident" id="2437051">value</span>&nbsp;<span class="ident" id="2437057">reflect</span><span class="op" id="2437064">.</span><span class="ident" id="2437065">Value</span><span class="op" id="2437070">,</span>&nbsp;<span class="ident" id="2437072">verb</span>&nbsp;<span class="builtintype" id="2437077">rune</span><span class="op" id="2437081">,</span>&nbsp;<span class="ident" id="2437083">depth</span>&nbsp;<span class="builtintype" id="2437089">int</span><span class="op" id="2437092">)</span>&nbsp;<span class="op" id="2437094">(</span><span class="ident" id="2437095">wasString</span>&nbsp;<span class="builtintype" id="2437105">bool</span><span class="op" id="2437109">)</span>&nbsp;<span class="op" id="2437111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437114">if</span>&nbsp;<span class="op" id="2437117">!</span><span class="ident" id="2437118">value</span><span class="op" id="2437123">.</span><span class="ident" id="2437124">IsValid</span><span class="op" id="2437131">(</span><span class="op" id="2437132">)</span>&nbsp;<span class="op" id="2437134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437138">if</span>&nbsp;<span class="ident" id="2437141">verb</span>&nbsp;<span class="op" id="2437146">==</span>&nbsp;<span class="string" id="2437149">&#39;T&#39;</span>&nbsp;<span class="op" id="2437153">||</span>&nbsp;<span class="ident" id="2437156">verb</span>&nbsp;<span class="op" id="2437161">==</span>&nbsp;<span class="string" id="2437164">&#39;v&#39;</span>&nbsp;<span class="op" id="2437168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2437173">p</span><span class="op" id="2437174">.</span><span class="ident" id="2437175">buf</span><span class="op" id="2437178">.</span><span class="ident" id="2437179">Write</span><span class="op" id="2437184">(</span><span class="ident" id="2437185">nilAngleBytes</span><span class="op" id="2437198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2437202">}</span>&nbsp;<span class="keyword" id="2437204">else</span>&nbsp;<span class="op" id="2437209">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2437214">p</span><span class="op" id="2437215">.</span><span class="ident" id="2437216">badVerb</span><span class="op" id="2437223">(</span><span class="ident" id="2437224">verb</span><span class="op" id="2437228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2437232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437236">return</span>&nbsp;<span class="builtintype" id="2437243">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2437250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2437254">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2437293">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437378">switch</span>&nbsp;<span class="ident" id="2437385">verb</span>&nbsp;<span class="op" id="2437390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437393">case</span>&nbsp;<span class="string" id="2437398">&#39;T&#39;</span><span class="op" id="2437401">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2437405">p</span><span class="op" id="2437406">.</span><span class="ident" id="2437407">printArg</span><span class="op" id="2437415">(</span><span class="ident" id="2437416">value</span><span class="op" id="2437421">.</span><span class="ident" id="2437422">Type</span><span class="op" id="2437426">(</span><span class="op" id="2437427">)</span><span class="op" id="2437428">.</span><span class="ident" id="2437429">String</span><span class="op" id="2437435">(</span><span class="op" id="2437436">)</span><span class="op" id="2437437">,</span>&nbsp;<span class="string" id="2437439">&#39;s&#39;</span><span class="op" id="2437442">,</span>&nbsp;<span class="num" id="2437444">0</span><span class="op" id="2437445">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437449">return</span>&nbsp;<span class="builtintype" id="2437456">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437463">case</span>&nbsp;<span class="string" id="2437468">&#39;p&#39;</span><span class="op" id="2437471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2437475">p</span><span class="op" id="2437476">.</span><span class="ident" id="2437477">fmtPointer</span><span class="op" id="2437487">(</span><span class="ident" id="2437488">value</span><span class="op" id="2437493">,</span>&nbsp;<span class="ident" id="2437495">verb</span><span class="op" id="2437499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437503">return</span>&nbsp;<span class="builtintype" id="2437510">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2437517">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2437521">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2437561">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2437648">p</span><span class="op" id="2437649">.</span><span class="ident" id="2437650">arg</span>&nbsp;<span class="op" id="2437654">=</span>&nbsp;<span class="ident" id="2437656">nil</span>&nbsp;<span class="comment" id="2437660">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437700">if</span>&nbsp;<span class="ident" id="2437703">value</span><span class="op" id="2437708">.</span><span class="ident" id="2437709">CanInterface</span><span class="op" id="2437721">(</span><span class="op" id="2437722">)</span>&nbsp;<span class="op" id="2437724">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2437728">p</span><span class="op" id="2437729">.</span><span class="ident" id="2437730">arg</span>&nbsp;<span class="op" id="2437734">=</span>&nbsp;<span class="ident" id="2437736">value</span><span class="op" id="2437741">.</span><span class="ident" id="2437742">Interface</span><span class="op" id="2437751">(</span><span class="op" id="2437752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2437755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437758">if</span>&nbsp;<span class="ident" id="2437761">handled</span>&nbsp;<span class="op" id="2437769">:=</span>&nbsp;<span class="ident" id="2437772">p</span><span class="op" id="2437773">.</span><span class="ident" id="2437774">handleMethods</span><span class="op" id="2437787">(</span><span class="ident" id="2437788">verb</span><span class="op" id="2437792">,</span>&nbsp;<span class="ident" id="2437794">depth</span><span class="op" id="2437799">)</span><span class="op" id="2437800">;</span>&nbsp;<span class="ident" id="2437802">handled</span>&nbsp;<span class="op" id="2437810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437814">return</span>&nbsp;<span class="builtintype" id="2437821">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2437828">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2437832">return</span>&nbsp;<span class="ident" id="2437839">p</span><span class="op" id="2437840">.</span><span class="ident" id="2437841">printReflectValue</span><span class="op" id="2437858">(</span><span class="ident" id="2437859">value</span><span class="op" id="2437864">,</span>&nbsp;<span class="ident" id="2437866">verb</span><span class="op" id="2437870">,</span>&nbsp;<span class="ident" id="2437872">depth</span><span class="op" id="2437877">)</span><br>
<span class="lineno"></span><span class="op" id="2437879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2437882">var</span>&nbsp;<span class="ident" id="2437886">byteType</span>&nbsp;<span class="op" id="2437895">=</span>&nbsp;<span class="ident" id="2437897">reflect</span><span class="op" id="2437904">.</span><span class="ident" id="2437905">TypeOf</span><span class="op" id="2437911">(</span><span class="builtintype" id="2437912">byte</span><span class="op" id="2437916">(</span><span class="num" id="2437917">0</span><span class="op" id="2437918">)</span><span class="op" id="2437919">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2437922">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2437993">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2438032">func</span>&nbsp;<span class="op" id="2438037">(</span><span class="ident" id="2438038">p</span>&nbsp;<span class="op" id="2438040">*</span><span class="ident" id="2438041">pp</span><span class="op" id="2438043">)</span>&nbsp;<span class="ident" id="2438045">printReflectValue</span><span class="op" id="2438062">(</span><span class="ident" id="2438063">value</span>&nbsp;<span class="ident" id="2438069">reflect</span><span class="op" id="2438076">.</span><span class="ident" id="2438077">Value</span><span class="op" id="2438082">,</span>&nbsp;<span class="ident" id="2438084">verb</span>&nbsp;<span class="builtintype" id="2438089">rune</span><span class="op" id="2438093">,</span>&nbsp;<span class="ident" id="2438095">depth</span>&nbsp;<span class="builtintype" id="2438101">int</span><span class="op" id="2438104">)</span>&nbsp;<span class="op" id="2438106">(</span><span class="ident" id="2438107">wasString</span>&nbsp;<span class="builtintype" id="2438117">bool</span><span class="op" id="2438121">)</span>&nbsp;<span class="op" id="2438123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438126">oldValue</span>&nbsp;<span class="op" id="2438135">:=</span>&nbsp;<span class="ident" id="2438138">p</span><span class="op" id="2438139">.</span><span class="ident" id="2438140">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438147">p</span><span class="op" id="2438148">.</span><span class="ident" id="2438149">value</span>&nbsp;<span class="op" id="2438155">=</span>&nbsp;<span class="ident" id="2438157">value</span><br>
<span class="lineno"></span><span class="ident" id="2438163">BigSwitch</span><span class="op" id="2438172">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438175">switch</span>&nbsp;<span class="ident" id="2438182">f</span>&nbsp;<span class="op" id="2438184">:=</span>&nbsp;<span class="ident" id="2438187">value</span><span class="op" id="2438192">;</span>&nbsp;<span class="ident" id="2438194">f</span><span class="op" id="2438195">.</span><span class="ident" id="2438196">Kind</span><span class="op" id="2438200">(</span><span class="op" id="2438201">)</span>&nbsp;<span class="op" id="2438203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438206">case</span>&nbsp;<span class="ident" id="2438211">reflect</span><span class="op" id="2438218">.</span><span class="ident" id="2438219">Bool</span><span class="op" id="2438223">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438227">p</span><span class="op" id="2438228">.</span><span class="ident" id="2438229">fmtBool</span><span class="op" id="2438236">(</span><span class="ident" id="2438237">f</span><span class="op" id="2438238">.</span><span class="ident" id="2438239">Bool</span><span class="op" id="2438243">(</span><span class="op" id="2438244">)</span><span class="op" id="2438245">,</span>&nbsp;<span class="ident" id="2438247">verb</span><span class="op" id="2438251">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438254">case</span>&nbsp;<span class="ident" id="2438259">reflect</span><span class="op" id="2438266">.</span><span class="ident" id="2438267">Int</span><span class="op" id="2438270">,</span>&nbsp;<span class="ident" id="2438272">reflect</span><span class="op" id="2438279">.</span><span class="ident" id="2438280">Int8</span><span class="op" id="2438284">,</span>&nbsp;<span class="ident" id="2438286">reflect</span><span class="op" id="2438293">.</span><span class="ident" id="2438294">Int16</span><span class="op" id="2438299">,</span>&nbsp;<span class="ident" id="2438301">reflect</span><span class="op" id="2438308">.</span><span class="ident" id="2438309">Int32</span><span class="op" id="2438314">,</span>&nbsp;<span class="ident" id="2438316">reflect</span><span class="op" id="2438323">.</span><span class="ident" id="2438324">Int64</span><span class="op" id="2438329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438333">p</span><span class="op" id="2438334">.</span><span class="ident" id="2438335">fmtInt64</span><span class="op" id="2438343">(</span><span class="ident" id="2438344">f</span><span class="op" id="2438345">.</span><span class="ident" id="2438346">Int</span><span class="op" id="2438349">(</span><span class="op" id="2438350">)</span><span class="op" id="2438351">,</span>&nbsp;<span class="ident" id="2438353">verb</span><span class="op" id="2438357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438360">case</span>&nbsp;<span class="ident" id="2438365">reflect</span><span class="op" id="2438372">.</span><span class="ident" id="2438373">Uint</span><span class="op" id="2438377">,</span>&nbsp;<span class="ident" id="2438379">reflect</span><span class="op" id="2438386">.</span><span class="ident" id="2438387">Uint8</span><span class="op" id="2438392">,</span>&nbsp;<span class="ident" id="2438394">reflect</span><span class="op" id="2438401">.</span><span class="ident" id="2438402">Uint16</span><span class="op" id="2438408">,</span>&nbsp;<span class="ident" id="2438410">reflect</span><span class="op" id="2438417">.</span><span class="ident" id="2438418">Uint32</span><span class="op" id="2438424">,</span>&nbsp;<span class="ident" id="2438426">reflect</span><span class="op" id="2438433">.</span><span class="ident" id="2438434">Uint64</span><span class="op" id="2438440">,</span>&nbsp;<span class="ident" id="2438442">reflect</span><span class="op" id="2438449">.</span><span class="ident" id="2438450">Uintptr</span><span class="op" id="2438457">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438461">p</span><span class="op" id="2438462">.</span><span class="ident" id="2438463">fmtUint64</span><span class="op" id="2438472">(</span><span class="ident" id="2438473">f</span><span class="op" id="2438474">.</span><span class="ident" id="2438475">Uint</span><span class="op" id="2438479">(</span><span class="op" id="2438480">)</span><span class="op" id="2438481">,</span>&nbsp;<span class="ident" id="2438483">verb</span><span class="op" id="2438487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438490">case</span>&nbsp;<span class="ident" id="2438495">reflect</span><span class="op" id="2438502">.</span><span class="ident" id="2438503">Float32</span><span class="op" id="2438510">,</span>&nbsp;<span class="ident" id="2438512">reflect</span><span class="op" id="2438519">.</span><span class="ident" id="2438520">Float64</span><span class="op" id="2438527">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438531">if</span>&nbsp;<span class="ident" id="2438534">f</span><span class="op" id="2438535">.</span><span class="ident" id="2438536">Type</span><span class="op" id="2438540">(</span><span class="op" id="2438541">)</span><span class="op" id="2438542">.</span><span class="ident" id="2438543">Size</span><span class="op" id="2438547">(</span><span class="op" id="2438548">)</span>&nbsp;<span class="op" id="2438550">==</span>&nbsp;<span class="num" id="2438553">4</span>&nbsp;<span class="op" id="2438555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438560">p</span><span class="op" id="2438561">.</span><span class="ident" id="2438562">fmtFloat32</span><span class="op" id="2438572">(</span><span class="builtintype" id="2438573">float32</span><span class="op" id="2438580">(</span><span class="ident" id="2438581">f</span><span class="op" id="2438582">.</span><span class="ident" id="2438583">Float</span><span class="op" id="2438588">(</span><span class="op" id="2438589">)</span><span class="op" id="2438590">)</span><span class="op" id="2438591">,</span>&nbsp;<span class="ident" id="2438593">verb</span><span class="op" id="2438597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2438601">}</span>&nbsp;<span class="keyword" id="2438603">else</span>&nbsp;<span class="op" id="2438608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438613">p</span><span class="op" id="2438614">.</span><span class="ident" id="2438615">fmtFloat64</span><span class="op" id="2438625">(</span><span class="ident" id="2438626">f</span><span class="op" id="2438627">.</span><span class="ident" id="2438628">Float</span><span class="op" id="2438633">(</span><span class="op" id="2438634">)</span><span class="op" id="2438635">,</span>&nbsp;<span class="ident" id="2438637">verb</span><span class="op" id="2438641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2438645">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438648">case</span>&nbsp;<span class="ident" id="2438653">reflect</span><span class="op" id="2438660">.</span><span class="ident" id="2438661">Complex64</span><span class="op" id="2438670">,</span>&nbsp;<span class="ident" id="2438672">reflect</span><span class="op" id="2438679">.</span><span class="ident" id="2438680">Complex128</span><span class="op" id="2438690">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438694">if</span>&nbsp;<span class="ident" id="2438697">f</span><span class="op" id="2438698">.</span><span class="ident" id="2438699">Type</span><span class="op" id="2438703">(</span><span class="op" id="2438704">)</span><span class="op" id="2438705">.</span><span class="ident" id="2438706">Size</span><span class="op" id="2438710">(</span><span class="op" id="2438711">)</span>&nbsp;<span class="op" id="2438713">==</span>&nbsp;<span class="num" id="2438716">8</span>&nbsp;<span class="op" id="2438718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438723">p</span><span class="op" id="2438724">.</span><span class="ident" id="2438725">fmtComplex64</span><span class="op" id="2438737">(</span><span class="builtintype" id="2438738">complex64</span><span class="op" id="2438747">(</span><span class="ident" id="2438748">f</span><span class="op" id="2438749">.</span><span class="ident" id="2438750">Complex</span><span class="op" id="2438757">(</span><span class="op" id="2438758">)</span><span class="op" id="2438759">)</span><span class="op" id="2438760">,</span>&nbsp;<span class="ident" id="2438762">verb</span><span class="op" id="2438766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2438770">}</span>&nbsp;<span class="keyword" id="2438772">else</span>&nbsp;<span class="op" id="2438777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438782">p</span><span class="op" id="2438783">.</span><span class="ident" id="2438784">fmtComplex128</span><span class="op" id="2438797">(</span><span class="ident" id="2438798">f</span><span class="op" id="2438799">.</span><span class="ident" id="2438800">Complex</span><span class="op" id="2438807">(</span><span class="op" id="2438808">)</span><span class="op" id="2438809">,</span>&nbsp;<span class="ident" id="2438811">verb</span><span class="op" id="2438815">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2438819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438822">case</span>&nbsp;<span class="ident" id="2438827">reflect</span><span class="op" id="2438834">.</span><span class="ident" id="2438835">String</span><span class="op" id="2438841">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438845">p</span><span class="op" id="2438846">.</span><span class="ident" id="2438847">fmtString</span><span class="op" id="2438856">(</span><span class="ident" id="2438857">f</span><span class="op" id="2438858">.</span><span class="ident" id="2438859">String</span><span class="op" id="2438865">(</span><span class="op" id="2438866">)</span><span class="op" id="2438867">,</span>&nbsp;<span class="ident" id="2438869">verb</span><span class="op" id="2438873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438876">case</span>&nbsp;<span class="ident" id="2438881">reflect</span><span class="op" id="2438888">.</span><span class="ident" id="2438889">Map</span><span class="op" id="2438892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438896">if</span>&nbsp;<span class="ident" id="2438899">p</span><span class="op" id="2438900">.</span><span class="ident" id="2438901">fmt</span><span class="op" id="2438904">.</span><span class="ident" id="2438905">sharpV</span>&nbsp;<span class="op" id="2438912">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438917">p</span><span class="op" id="2438918">.</span><span class="ident" id="2438919">buf</span><span class="op" id="2438922">.</span><span class="ident" id="2438923">WriteString</span><span class="op" id="2438934">(</span><span class="ident" id="2438935">f</span><span class="op" id="2438936">.</span><span class="ident" id="2438937">Type</span><span class="op" id="2438941">(</span><span class="op" id="2438942">)</span><span class="op" id="2438943">.</span><span class="ident" id="2438944">String</span><span class="op" id="2438950">(</span><span class="op" id="2438951">)</span><span class="op" id="2438952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2438957">if</span>&nbsp;<span class="ident" id="2438960">f</span><span class="op" id="2438961">.</span><span class="ident" id="2438962">IsNil</span><span class="op" id="2438967">(</span><span class="op" id="2438968">)</span>&nbsp;<span class="op" id="2438970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2438976">p</span><span class="op" id="2438977">.</span><span class="ident" id="2438978">buf</span><span class="op" id="2438981">.</span><span class="ident" id="2438982">WriteString</span><span class="op" id="2438993">(</span><span class="string" id="2438994">&#34;(nil)&#34;</span><span class="op" id="2439001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439007">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439016">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439021">p</span><span class="op" id="2439022">.</span><span class="ident" id="2439023">buf</span><span class="op" id="2439026">.</span><span class="ident" id="2439027">WriteByte</span><span class="op" id="2439036">(</span><span class="string" id="2439037">&#39;{&#39;</span><span class="op" id="2439040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439044">}</span>&nbsp;<span class="keyword" id="2439046">else</span>&nbsp;<span class="op" id="2439051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439056">p</span><span class="op" id="2439057">.</span><span class="ident" id="2439058">buf</span><span class="op" id="2439061">.</span><span class="ident" id="2439062">Write</span><span class="op" id="2439067">(</span><span class="ident" id="2439068">mapBytes</span><span class="op" id="2439076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439084">keys</span>&nbsp;<span class="op" id="2439089">:=</span>&nbsp;<span class="ident" id="2439092">f</span><span class="op" id="2439093">.</span><span class="ident" id="2439094">MapKeys</span><span class="op" id="2439101">(</span><span class="op" id="2439102">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439106">for</span>&nbsp;<span class="ident" id="2439110">i</span><span class="op" id="2439111">,</span>&nbsp;<span class="ident" id="2439113">key</span>&nbsp;<span class="op" id="2439117">:=</span>&nbsp;<span class="keyword" id="2439120">range</span>&nbsp;<span class="ident" id="2439126">keys</span>&nbsp;<span class="op" id="2439131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439136">if</span>&nbsp;<span class="ident" id="2439139">i</span>&nbsp;<span class="op" id="2439141">&gt;</span>&nbsp;<span class="num" id="2439143">0</span>&nbsp;<span class="op" id="2439145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439151">if</span>&nbsp;<span class="ident" id="2439154">p</span><span class="op" id="2439155">.</span><span class="ident" id="2439156">fmt</span><span class="op" id="2439159">.</span><span class="ident" id="2439160">sharpV</span>&nbsp;<span class="op" id="2439167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439174">p</span><span class="op" id="2439175">.</span><span class="ident" id="2439176">buf</span><span class="op" id="2439179">.</span><span class="ident" id="2439180">Write</span><span class="op" id="2439185">(</span><span class="ident" id="2439186">commaSpaceBytes</span><span class="op" id="2439201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439207">}</span>&nbsp;<span class="keyword" id="2439209">else</span>&nbsp;<span class="op" id="2439214">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439221">p</span><span class="op" id="2439222">.</span><span class="ident" id="2439223">buf</span><span class="op" id="2439226">.</span><span class="ident" id="2439227">WriteByte</span><span class="op" id="2439236">(</span><span class="string" id="2439237">&#39;&nbsp;&#39;</span><span class="op" id="2439240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439256">p</span><span class="op" id="2439257">.</span><span class="ident" id="2439258">printValue</span><span class="op" id="2439268">(</span><span class="ident" id="2439269">key</span><span class="op" id="2439272">,</span>&nbsp;<span class="ident" id="2439274">verb</span><span class="op" id="2439278">,</span>&nbsp;<span class="ident" id="2439280">depth</span><span class="op" id="2439285">+</span><span class="num" id="2439286">1</span><span class="op" id="2439287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439292">p</span><span class="op" id="2439293">.</span><span class="ident" id="2439294">buf</span><span class="op" id="2439297">.</span><span class="ident" id="2439298">WriteByte</span><span class="op" id="2439307">(</span><span class="string" id="2439308">&#39;:&#39;</span><span class="op" id="2439311">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439316">p</span><span class="op" id="2439317">.</span><span class="ident" id="2439318">printValue</span><span class="op" id="2439328">(</span><span class="ident" id="2439329">f</span><span class="op" id="2439330">.</span><span class="ident" id="2439331">MapIndex</span><span class="op" id="2439339">(</span><span class="ident" id="2439340">key</span><span class="op" id="2439343">)</span><span class="op" id="2439344">,</span>&nbsp;<span class="ident" id="2439346">verb</span><span class="op" id="2439350">,</span>&nbsp;<span class="ident" id="2439352">depth</span><span class="op" id="2439357">+</span><span class="num" id="2439358">1</span><span class="op" id="2439359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439367">if</span>&nbsp;<span class="ident" id="2439370">p</span><span class="op" id="2439371">.</span><span class="ident" id="2439372">fmt</span><span class="op" id="2439375">.</span><span class="ident" id="2439376">sharpV</span>&nbsp;<span class="op" id="2439383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439388">p</span><span class="op" id="2439389">.</span><span class="ident" id="2439390">buf</span><span class="op" id="2439393">.</span><span class="ident" id="2439394">WriteByte</span><span class="op" id="2439403">(</span><span class="string" id="2439404">&#39;}&#39;</span><span class="op" id="2439407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439411">}</span>&nbsp;<span class="keyword" id="2439413">else</span>&nbsp;<span class="op" id="2439418">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439423">p</span><span class="op" id="2439424">.</span><span class="ident" id="2439425">buf</span><span class="op" id="2439428">.</span><span class="ident" id="2439429">WriteByte</span><span class="op" id="2439438">(</span><span class="string" id="2439439">&#39;]&#39;</span><span class="op" id="2439442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439449">case</span>&nbsp;<span class="ident" id="2439454">reflect</span><span class="op" id="2439461">.</span><span class="ident" id="2439462">Struct</span><span class="op" id="2439468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439472">if</span>&nbsp;<span class="ident" id="2439475">p</span><span class="op" id="2439476">.</span><span class="ident" id="2439477">fmt</span><span class="op" id="2439480">.</span><span class="ident" id="2439481">sharpV</span>&nbsp;<span class="op" id="2439488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439493">p</span><span class="op" id="2439494">.</span><span class="ident" id="2439495">buf</span><span class="op" id="2439498">.</span><span class="ident" id="2439499">WriteString</span><span class="op" id="2439510">(</span><span class="ident" id="2439511">value</span><span class="op" id="2439516">.</span><span class="ident" id="2439517">Type</span><span class="op" id="2439521">(</span><span class="op" id="2439522">)</span><span class="op" id="2439523">.</span><span class="ident" id="2439524">String</span><span class="op" id="2439530">(</span><span class="op" id="2439531">)</span><span class="op" id="2439532">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439540">p</span><span class="op" id="2439541">.</span><span class="ident" id="2439542">add</span><span class="op" id="2439545">(</span><span class="string" id="2439546">&#39;{&#39;</span><span class="op" id="2439549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439553">v</span>&nbsp;<span class="op" id="2439555">:=</span>&nbsp;<span class="ident" id="2439558">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439562">t</span>&nbsp;<span class="op" id="2439564">:=</span>&nbsp;<span class="ident" id="2439567">v</span><span class="op" id="2439568">.</span><span class="ident" id="2439569">Type</span><span class="op" id="2439573">(</span><span class="op" id="2439574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439578">for</span>&nbsp;<span class="ident" id="2439582">i</span>&nbsp;<span class="op" id="2439584">:=</span>&nbsp;<span class="num" id="2439587">0</span><span class="op" id="2439588">;</span>&nbsp;<span class="ident" id="2439590">i</span>&nbsp;<span class="op" id="2439592">&lt;</span>&nbsp;<span class="ident" id="2439594">v</span><span class="op" id="2439595">.</span><span class="ident" id="2439596">NumField</span><span class="op" id="2439604">(</span><span class="op" id="2439605">)</span><span class="op" id="2439606">;</span>&nbsp;<span class="ident" id="2439608">i</span><span class="op" id="2439609">++</span>&nbsp;<span class="op" id="2439612">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439617">if</span>&nbsp;<span class="ident" id="2439620">i</span>&nbsp;<span class="op" id="2439622">&gt;</span>&nbsp;<span class="num" id="2439624">0</span>&nbsp;<span class="op" id="2439626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439632">if</span>&nbsp;<span class="ident" id="2439635">p</span><span class="op" id="2439636">.</span><span class="ident" id="2439637">fmt</span><span class="op" id="2439640">.</span><span class="ident" id="2439641">sharpV</span>&nbsp;<span class="op" id="2439648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439655">p</span><span class="op" id="2439656">.</span><span class="ident" id="2439657">buf</span><span class="op" id="2439660">.</span><span class="ident" id="2439661">Write</span><span class="op" id="2439666">(</span><span class="ident" id="2439667">commaSpaceBytes</span><span class="op" id="2439682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439688">}</span>&nbsp;<span class="keyword" id="2439690">else</span>&nbsp;<span class="op" id="2439695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439702">p</span><span class="op" id="2439703">.</span><span class="ident" id="2439704">buf</span><span class="op" id="2439707">.</span><span class="ident" id="2439708">WriteByte</span><span class="op" id="2439717">(</span><span class="string" id="2439718">&#39;&nbsp;&#39;</span><span class="op" id="2439721">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439737">if</span>&nbsp;<span class="ident" id="2439740">p</span><span class="op" id="2439741">.</span><span class="ident" id="2439742">fmt</span><span class="op" id="2439745">.</span><span class="ident" id="2439746">plusV</span>&nbsp;<span class="op" id="2439752">||</span>&nbsp;<span class="ident" id="2439755">p</span><span class="op" id="2439756">.</span><span class="ident" id="2439757">fmt</span><span class="op" id="2439760">.</span><span class="ident" id="2439761">sharpV</span>&nbsp;<span class="op" id="2439768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439774">if</span>&nbsp;<span class="ident" id="2439777">f</span>&nbsp;<span class="op" id="2439779">:=</span>&nbsp;<span class="ident" id="2439782">t</span><span class="op" id="2439783">.</span><span class="ident" id="2439784">Field</span><span class="op" id="2439789">(</span><span class="ident" id="2439790">i</span><span class="op" id="2439791">)</span><span class="op" id="2439792">;</span>&nbsp;<span class="ident" id="2439794">f</span><span class="op" id="2439795">.</span><span class="ident" id="2439796">Name</span>&nbsp;<span class="op" id="2439801">!=</span>&nbsp;<span class="string" id="2439804">&#34;&#34;</span>&nbsp;<span class="op" id="2439807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439814">p</span><span class="op" id="2439815">.</span><span class="ident" id="2439816">buf</span><span class="op" id="2439819">.</span><span class="ident" id="2439820">WriteString</span><span class="op" id="2439831">(</span><span class="ident" id="2439832">f</span><span class="op" id="2439833">.</span><span class="ident" id="2439834">Name</span><span class="op" id="2439838">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439845">p</span><span class="op" id="2439846">.</span><span class="ident" id="2439847">buf</span><span class="op" id="2439850">.</span><span class="ident" id="2439851">WriteByte</span><span class="op" id="2439860">(</span><span class="string" id="2439861">&#39;:&#39;</span><span class="op" id="2439864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439880">p</span><span class="op" id="2439881">.</span><span class="ident" id="2439882">printValue</span><span class="op" id="2439892">(</span><span class="ident" id="2439893">getField</span><span class="op" id="2439901">(</span><span class="ident" id="2439902">v</span><span class="op" id="2439903">,</span>&nbsp;<span class="ident" id="2439905">i</span><span class="op" id="2439906">)</span><span class="op" id="2439907">,</span>&nbsp;<span class="ident" id="2439909">verb</span><span class="op" id="2439913">,</span>&nbsp;<span class="ident" id="2439915">depth</span><span class="op" id="2439920">+</span><span class="num" id="2439921">1</span><span class="op" id="2439922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2439926">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439930">p</span><span class="op" id="2439931">.</span><span class="ident" id="2439932">buf</span><span class="op" id="2439935">.</span><span class="ident" id="2439936">WriteByte</span><span class="op" id="2439945">(</span><span class="string" id="2439946">&#39;}&#39;</span><span class="op" id="2439949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439952">case</span>&nbsp;<span class="ident" id="2439957">reflect</span><span class="op" id="2439964">.</span><span class="ident" id="2439965">Interface</span><span class="op" id="2439974">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2439978">value</span>&nbsp;<span class="op" id="2439984">:=</span>&nbsp;<span class="ident" id="2439987">f</span><span class="op" id="2439988">.</span><span class="ident" id="2439989">Elem</span><span class="op" id="2439993">(</span><span class="op" id="2439994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2439998">if</span>&nbsp;<span class="op" id="2440001">!</span><span class="ident" id="2440002">value</span><span class="op" id="2440007">.</span><span class="ident" id="2440008">IsValid</span><span class="op" id="2440015">(</span><span class="op" id="2440016">)</span>&nbsp;<span class="op" id="2440018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2440023">if</span>&nbsp;<span class="ident" id="2440026">p</span><span class="op" id="2440027">.</span><span class="ident" id="2440028">fmt</span><span class="op" id="2440031">.</span><span class="ident" id="2440032">sharpV</span>&nbsp;<span class="op" id="2440039">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2440045">p</span><span class="op" id="2440046">.</span><span class="ident" id="2440047">buf</span><span class="op" id="2440050">.</span><span class="ident" id="2440051">WriteString</span><span class="op" id="2440062">(</span><span class="ident" id="2440063">f</span><span class="op" id="2440064">.</span><span class="ident" id="2440065">Type</span><span class="op" id="2440069">(</span><span class="op" id="2440070">)</span><span class="op" id="2440071">.</span><span class="ident" id="2440072">String</span><span class="op" id="2440078">(</span><span class="op" id="2440079">)</span><span class="op" id="2440080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2440086">p</span><span class="op" id="2440087">.</span><span class="ident" id="2440088">buf</span><span class="op" id="2440091">.</span><span class="ident" id="2440092">Write</span><span class="op" id="2440097">(</span><span class="ident" id="2440098">nilParenBytes</span><span class="op" id="2440111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2440116">}</span>&nbsp;<span class="keyword" id="2440118">else</span>&nbsp;<span class="op" id="2440123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2440129">p</span><span class="op" id="2440130">.</span><span class="ident" id="2440131">buf</span><span class="op" id="2440134">.</span><span class="ident" id="2440135">Write</span><span class="op" id="2440140">(</span><span class="ident" id="2440141">nilAngleBytes</span><span class="op" id="2440154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2440159">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2440163">}</span>&nbsp;<span class="keyword" id="2440165">else</span>&nbsp;<span class="op" id="2440170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2440175">wasString</span>&nbsp;<span class="op" id="2440185">=</span>&nbsp;<span class="ident" id="2440187">p</span><span class="op" id="2440188">.</span><span class="ident" id="2440189">printValue</span><span class="op" id="2440199">(</span><span class="ident" id="2440200">value</span><span class="op" id="2440205">,</span>&nbsp;<span class="ident" id="2440207">verb</span><span class="op" id="2440211">,</span>&nbsp;<span class="ident" id="2440213">depth</span><span class="op" id="2440218">+</span><span class="num" id="2440219">1</span><span class="op" id="2440220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2440224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2440227">case</span>&nbsp;<span class="ident" id="2440232">reflect</span><span class="op" id="2440239">.</span><span class="ident" id="2440240">Array</span><span class="op" id="2440245">,</span>&nbsp;<span class="ident" id="2440247">reflect</span><span class="op" id="2440254">.</span><span class="ident" id="2440255">Slice</span><span class="op" id="2440260">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2440264">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2440294">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2440343">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2440411">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2440474">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2440535">if</span>&nbsp;<span class="ident" id="2440538">typ</span>&nbsp;<span class="op" id="2440542">:=</span>&nbsp;<span class="ident" id="2440545">f</span><span class="op" id="2440546">.</span><span class="ident" id="2440547">Type</span><span class="op" id="2440551">(</span><span class="op" id="2440552">)</span><span class="op" id="2440553">;</span>&nbsp;<span class="ident" id="2440555">typ</span><span class="op" id="2440558">.</span><span class="ident" id="2440559">Elem</span><span class="op" id="2440563">(</span><span class="op" id="2440564">)</span><span class="op" id="2440565">.</span><span class="ident" id="2440566">Kind</span><span class="op" id="2440570">(</span><span class="op" id="2440571">)</span>&nbsp;<span class="op" id="2440573">==</span>&nbsp;<span class="ident" id="2440576">reflect</span><span class="op" id="2440583">.</span><span class="ident" id="2440584">Uint8</span>&nbsp;<span class="op" id="2440590">&amp;&amp;</span>&nbsp;<span class="op" id="2440593">(</span><span class="ident" id="2440594">typ</span><span class="op" id="2440597">.</span><span class="ident" id="2440598">Elem</span><span class="op" id="2440602">(</span><span class="op" id="2440603">)</span>&nbsp;<span class="op" id="2440605">==</span>&nbsp;<span class="ident" id="2440608">byteType</span>&nbsp;<span class="op" id="2440617">||</span>&nbsp;<span class="ident" id="2440620">verb</span>&nbsp;<span class="op" id="2440625">==</span>&nbsp;<span class="string" id="2440628">&#39;s&#39;</span>&nbsp;<span class="op" id="2440632">||</span>&nbsp;<span class="ident" id="2440635">verb</span>&nbsp;<span class="op" id="2440640">==</span>&nbsp;<span class="string" id="2440643">&#39;q&#39;</span>&nbsp;<span class="op" id="2440647">||</span>&nbsp;<span class="ident" id="2440650">verb</span>&nbsp;<span class="op" id="2440655">==</span>&nbsp;<span class="string" id="2440658">&#39;x&#39;</span><span class="op" id="2440661">)</span>&nbsp;<span class="op" id="2440663">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2440668">var</span>&nbsp;<span class="ident" id="2440672">bytes</span>&nbsp;<span class="op" id="2440678">[</span><span class="op" id="2440679">]</span><span class="builtintype" id="2440680">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2440688">if</span>&nbsp;<span class="ident" id="2440691">f</span><span class="op" id="2440692">.</span><span class="ident" id="2440693">Kind</span><span class="op" id="2440697">(</span><span class="op" id="2440698">)</span>&nbsp;<span class="op" id="2440700">==</span>&nbsp;<span class="ident" id="2440703">reflect</span><span class="op" id="2440710">.</span><span class="ident" id="2440711">Slice</span>&nbsp;<span class="op" id="2440717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2440723">bytes</span>&nbsp;<span class="op" id="2440729">=</span>&nbsp;<span class="ident" id="2440731">f</span><span class="op" id="2440732">.</span><span class="ident" id="2440733">Bytes</span><span class="op" id="2440738">(</span><span class="op" id="2440739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2440744">}</span>&nbsp;<span class="keyword" id="2440746">else</span>&nbsp;<span class="keyword" id="2440751">if</span>&nbsp;<span class="ident" id="2440754">f</span><span class="op" id="2440755">.</span><span class="ident" id="2440756">CanAddr</span><span class="op" id="2440763">(</span><span class="op" id="2440764">)</span>&nbsp;<span class="op" id="2440766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2440772">bytes</span>&nbsp;<span class="op" id="2440778">=</span>&nbsp;<span class="ident" id="2440780">f</span><span class="op" id="2440781">.</span><span class="ident" id="2440782">Slice</span><span class="op" id="2440787">(</span><span class="num" id="2440788">0</span><span class="op" id="2440789">,</span>&nbsp;<span class="ident" id="2440791">f</span><span class="op" id="2440792">.</span><span class="ident" id="2440793">Len</span><span class="op" id="2440796">(</span><span class="op" id="2440797">)</span><span class="op" id="2440798">)</span><span class="op" id="2440799">.</span><span class="ident" id="2440800">Bytes</span><span class="op" id="2440805">(</span><span class="op" id="2440806">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2440811">}</span>&nbsp;<span class="keyword" id="2440813">else</span>&nbsp;<span class="op" id="2440818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2440824">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2440896">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2440973">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441020">bytes</span>&nbsp;<span class="op" id="2441026">=</span>&nbsp;<span class="builtinfunc" id="2441028">make</span><span class="op" id="2441032">(</span><span class="op" id="2441033">[</span><span class="op" id="2441034">]</span><span class="builtintype" id="2441035">byte</span><span class="op" id="2441039">,</span>&nbsp;<span class="ident" id="2441041">f</span><span class="op" id="2441042">.</span><span class="ident" id="2441043">Len</span><span class="op" id="2441046">(</span><span class="op" id="2441047">)</span><span class="op" id="2441048">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441054">for</span>&nbsp;<span class="ident" id="2441058">i</span>&nbsp;<span class="op" id="2441060">:=</span>&nbsp;<span class="keyword" id="2441063">range</span>&nbsp;<span class="ident" id="2441069">bytes</span>&nbsp;<span class="op" id="2441075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441082">bytes</span><span class="op" id="2441087">[</span><span class="ident" id="2441088">i</span><span class="op" id="2441089">]</span>&nbsp;<span class="op" id="2441091">=</span>&nbsp;<span class="builtintype" id="2441093">byte</span><span class="op" id="2441097">(</span><span class="ident" id="2441098">f</span><span class="op" id="2441099">.</span><span class="ident" id="2441100">Index</span><span class="op" id="2441105">(</span><span class="ident" id="2441106">i</span><span class="op" id="2441107">)</span><span class="op" id="2441108">.</span><span class="ident" id="2441109">Uint</span><span class="op" id="2441113">(</span><span class="op" id="2441114">)</span><span class="op" id="2441115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441131">p</span><span class="op" id="2441132">.</span><span class="ident" id="2441133">fmtBytes</span><span class="op" id="2441141">(</span><span class="ident" id="2441142">bytes</span><span class="op" id="2441147">,</span>&nbsp;<span class="ident" id="2441149">verb</span><span class="op" id="2441153">,</span>&nbsp;<span class="ident" id="2441155">typ</span><span class="op" id="2441158">,</span>&nbsp;<span class="ident" id="2441160">depth</span><span class="op" id="2441165">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441170">wasString</span>&nbsp;<span class="op" id="2441180">=</span>&nbsp;<span class="ident" id="2441182">verb</span>&nbsp;<span class="op" id="2441187">==</span>&nbsp;<span class="string" id="2441190">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441197">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441209">if</span>&nbsp;<span class="ident" id="2441212">p</span><span class="op" id="2441213">.</span><span class="ident" id="2441214">fmt</span><span class="op" id="2441217">.</span><span class="ident" id="2441218">sharpV</span>&nbsp;<span class="op" id="2441225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441230">p</span><span class="op" id="2441231">.</span><span class="ident" id="2441232">buf</span><span class="op" id="2441235">.</span><span class="ident" id="2441236">WriteString</span><span class="op" id="2441247">(</span><span class="ident" id="2441248">value</span><span class="op" id="2441253">.</span><span class="ident" id="2441254">Type</span><span class="op" id="2441258">(</span><span class="op" id="2441259">)</span><span class="op" id="2441260">.</span><span class="ident" id="2441261">String</span><span class="op" id="2441267">(</span><span class="op" id="2441268">)</span><span class="op" id="2441269">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441274">if</span>&nbsp;<span class="ident" id="2441277">f</span><span class="op" id="2441278">.</span><span class="ident" id="2441279">Kind</span><span class="op" id="2441283">(</span><span class="op" id="2441284">)</span>&nbsp;<span class="op" id="2441286">==</span>&nbsp;<span class="ident" id="2441289">reflect</span><span class="op" id="2441296">.</span><span class="ident" id="2441297">Slice</span>&nbsp;<span class="op" id="2441303">&amp;&amp;</span>&nbsp;<span class="ident" id="2441306">f</span><span class="op" id="2441307">.</span><span class="ident" id="2441308">IsNil</span><span class="op" id="2441313">(</span><span class="op" id="2441314">)</span>&nbsp;<span class="op" id="2441316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441322">p</span><span class="op" id="2441323">.</span><span class="ident" id="2441324">buf</span><span class="op" id="2441327">.</span><span class="ident" id="2441328">WriteString</span><span class="op" id="2441339">(</span><span class="string" id="2441340">&#34;(nil)&#34;</span><span class="op" id="2441347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441353">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441367">p</span><span class="op" id="2441368">.</span><span class="ident" id="2441369">buf</span><span class="op" id="2441372">.</span><span class="ident" id="2441373">WriteByte</span><span class="op" id="2441382">(</span><span class="string" id="2441383">&#39;{&#39;</span><span class="op" id="2441386">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441390">}</span>&nbsp;<span class="keyword" id="2441392">else</span>&nbsp;<span class="op" id="2441397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441402">p</span><span class="op" id="2441403">.</span><span class="ident" id="2441404">buf</span><span class="op" id="2441407">.</span><span class="ident" id="2441408">WriteByte</span><span class="op" id="2441417">(</span><span class="string" id="2441418">&#39;[&#39;</span><span class="op" id="2441421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441429">for</span>&nbsp;<span class="ident" id="2441433">i</span>&nbsp;<span class="op" id="2441435">:=</span>&nbsp;<span class="num" id="2441438">0</span><span class="op" id="2441439">;</span>&nbsp;<span class="ident" id="2441441">i</span>&nbsp;<span class="op" id="2441443">&lt;</span>&nbsp;<span class="ident" id="2441445">f</span><span class="op" id="2441446">.</span><span class="ident" id="2441447">Len</span><span class="op" id="2441450">(</span><span class="op" id="2441451">)</span><span class="op" id="2441452">;</span>&nbsp;<span class="ident" id="2441454">i</span><span class="op" id="2441455">++</span>&nbsp;<span class="op" id="2441458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441463">if</span>&nbsp;<span class="ident" id="2441466">i</span>&nbsp;<span class="op" id="2441468">&gt;</span>&nbsp;<span class="num" id="2441470">0</span>&nbsp;<span class="op" id="2441472">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441478">if</span>&nbsp;<span class="ident" id="2441481">p</span><span class="op" id="2441482">.</span><span class="ident" id="2441483">fmt</span><span class="op" id="2441486">.</span><span class="ident" id="2441487">sharpV</span>&nbsp;<span class="op" id="2441494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441501">p</span><span class="op" id="2441502">.</span><span class="ident" id="2441503">buf</span><span class="op" id="2441506">.</span><span class="ident" id="2441507">Write</span><span class="op" id="2441512">(</span><span class="ident" id="2441513">commaSpaceBytes</span><span class="op" id="2441528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441534">}</span>&nbsp;<span class="keyword" id="2441536">else</span>&nbsp;<span class="op" id="2441541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441548">p</span><span class="op" id="2441549">.</span><span class="ident" id="2441550">buf</span><span class="op" id="2441553">.</span><span class="ident" id="2441554">WriteByte</span><span class="op" id="2441563">(</span><span class="string" id="2441564">&#39;&nbsp;&#39;</span><span class="op" id="2441567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441573">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441583">p</span><span class="op" id="2441584">.</span><span class="ident" id="2441585">printValue</span><span class="op" id="2441595">(</span><span class="ident" id="2441596">f</span><span class="op" id="2441597">.</span><span class="ident" id="2441598">Index</span><span class="op" id="2441603">(</span><span class="ident" id="2441604">i</span><span class="op" id="2441605">)</span><span class="op" id="2441606">,</span>&nbsp;<span class="ident" id="2441608">verb</span><span class="op" id="2441612">,</span>&nbsp;<span class="ident" id="2441614">depth</span><span class="op" id="2441619">+</span><span class="num" id="2441620">1</span><span class="op" id="2441621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441629">if</span>&nbsp;<span class="ident" id="2441632">p</span><span class="op" id="2441633">.</span><span class="ident" id="2441634">fmt</span><span class="op" id="2441637">.</span><span class="ident" id="2441638">sharpV</span>&nbsp;<span class="op" id="2441645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441650">p</span><span class="op" id="2441651">.</span><span class="ident" id="2441652">buf</span><span class="op" id="2441655">.</span><span class="ident" id="2441656">WriteByte</span><span class="op" id="2441665">(</span><span class="string" id="2441666">&#39;}&#39;</span><span class="op" id="2441669">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441673">}</span>&nbsp;<span class="keyword" id="2441675">else</span>&nbsp;<span class="op" id="2441680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441685">p</span><span class="op" id="2441686">.</span><span class="ident" id="2441687">buf</span><span class="op" id="2441690">.</span><span class="ident" id="2441691">WriteByte</span><span class="op" id="2441700">(</span><span class="string" id="2441701">&#39;]&#39;</span><span class="op" id="2441704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441711">case</span>&nbsp;<span class="ident" id="2441716">reflect</span><span class="op" id="2441723">.</span><span class="ident" id="2441724">Ptr</span><span class="op" id="2441727">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441731">v</span>&nbsp;<span class="op" id="2441733">:=</span>&nbsp;<span class="ident" id="2441736">f</span><span class="op" id="2441737">.</span><span class="ident" id="2441738">Pointer</span><span class="op" id="2441745">(</span><span class="op" id="2441746">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2441750">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2441809">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441845">if</span>&nbsp;<span class="ident" id="2441848">v</span>&nbsp;<span class="op" id="2441850">!=</span>&nbsp;<span class="num" id="2441853">0</span>&nbsp;<span class="op" id="2441855">&amp;&amp;</span>&nbsp;<span class="ident" id="2441858">depth</span>&nbsp;<span class="op" id="2441864">==</span>&nbsp;<span class="num" id="2441867">0</span>&nbsp;<span class="op" id="2441869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441874">switch</span>&nbsp;<span class="ident" id="2441881">a</span>&nbsp;<span class="op" id="2441883">:=</span>&nbsp;<span class="ident" id="2441886">f</span><span class="op" id="2441887">.</span><span class="ident" id="2441888">Elem</span><span class="op" id="2441892">(</span><span class="op" id="2441893">)</span><span class="op" id="2441894">;</span>&nbsp;<span class="ident" id="2441896">a</span><span class="op" id="2441897">.</span><span class="ident" id="2441898">Kind</span><span class="op" id="2441902">(</span><span class="op" id="2441903">)</span>&nbsp;<span class="op" id="2441905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2441910">case</span>&nbsp;<span class="ident" id="2441915">reflect</span><span class="op" id="2441922">.</span><span class="ident" id="2441923">Array</span><span class="op" id="2441928">,</span>&nbsp;<span class="ident" id="2441930">reflect</span><span class="op" id="2441937">.</span><span class="ident" id="2441938">Slice</span><span class="op" id="2441943">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441949">p</span><span class="op" id="2441950">.</span><span class="ident" id="2441951">buf</span><span class="op" id="2441954">.</span><span class="ident" id="2441955">WriteByte</span><span class="op" id="2441964">(</span><span class="string" id="2441965">&#39;&amp;&#39;</span><span class="op" id="2441968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2441974">p</span><span class="op" id="2441975">.</span><span class="ident" id="2441976">printValue</span><span class="op" id="2441986">(</span><span class="ident" id="2441987">a</span><span class="op" id="2441988">,</span>&nbsp;<span class="ident" id="2441990">verb</span><span class="op" id="2441994">,</span>&nbsp;<span class="ident" id="2441996">depth</span><span class="op" id="2442001">+</span><span class="num" id="2442002">1</span><span class="op" id="2442003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442009">break</span>&nbsp;<span class="ident" id="2442015">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442028">case</span>&nbsp;<span class="ident" id="2442033">reflect</span><span class="op" id="2442040">.</span><span class="ident" id="2442041">Struct</span><span class="op" id="2442047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442053">p</span><span class="op" id="2442054">.</span><span class="ident" id="2442055">buf</span><span class="op" id="2442058">.</span><span class="ident" id="2442059">WriteByte</span><span class="op" id="2442068">(</span><span class="string" id="2442069">&#39;&amp;&#39;</span><span class="op" id="2442072">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442078">p</span><span class="op" id="2442079">.</span><span class="ident" id="2442080">printValue</span><span class="op" id="2442090">(</span><span class="ident" id="2442091">a</span><span class="op" id="2442092">,</span>&nbsp;<span class="ident" id="2442094">verb</span><span class="op" id="2442098">,</span>&nbsp;<span class="ident" id="2442100">depth</span><span class="op" id="2442105">+</span><span class="num" id="2442106">1</span><span class="op" id="2442107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442113">break</span>&nbsp;<span class="ident" id="2442119">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442132">case</span>&nbsp;<span class="ident" id="2442137">reflect</span><span class="op" id="2442144">.</span><span class="ident" id="2442145">Map</span><span class="op" id="2442148">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442154">p</span><span class="op" id="2442155">.</span><span class="ident" id="2442156">buf</span><span class="op" id="2442159">.</span><span class="ident" id="2442160">WriteByte</span><span class="op" id="2442169">(</span><span class="string" id="2442170">&#39;&amp;&#39;</span><span class="op" id="2442173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442179">p</span><span class="op" id="2442180">.</span><span class="ident" id="2442181">printValue</span><span class="op" id="2442191">(</span><span class="ident" id="2442192">a</span><span class="op" id="2442193">,</span>&nbsp;<span class="ident" id="2442195">verb</span><span class="op" id="2442199">,</span>&nbsp;<span class="ident" id="2442201">depth</span><span class="op" id="2442206">+</span><span class="num" id="2442207">1</span><span class="op" id="2442208">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442214">break</span>&nbsp;<span class="ident" id="2442220">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2442233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2442237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442241">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442254">case</span>&nbsp;<span class="ident" id="2442259">reflect</span><span class="op" id="2442266">.</span><span class="ident" id="2442267">Chan</span><span class="op" id="2442271">,</span>&nbsp;<span class="ident" id="2442273">reflect</span><span class="op" id="2442280">.</span><span class="ident" id="2442281">Func</span><span class="op" id="2442285">,</span>&nbsp;<span class="ident" id="2442287">reflect</span><span class="op" id="2442294">.</span><span class="ident" id="2442295">UnsafePointer</span><span class="op" id="2442308">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442312">p</span><span class="op" id="2442313">.</span><span class="ident" id="2442314">fmtPointer</span><span class="op" id="2442324">(</span><span class="ident" id="2442325">value</span><span class="op" id="2442330">,</span>&nbsp;<span class="ident" id="2442332">verb</span><span class="op" id="2442336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442339">default</span><span class="op" id="2442346">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442350">p</span><span class="op" id="2442351">.</span><span class="ident" id="2442352">unknownType</span><span class="op" id="2442363">(</span><span class="ident" id="2442364">f</span><span class="op" id="2442365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2442368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442371">p</span><span class="op" id="2442372">.</span><span class="ident" id="2442373">value</span>&nbsp;<span class="op" id="2442379">=</span>&nbsp;<span class="ident" id="2442381">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442391">return</span>&nbsp;<span class="ident" id="2442398">wasString</span><br>
<span class="lineno"></span><span class="op" id="2442408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2442411">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2442517">func</span>&nbsp;<span class="ident" id="2442522">intFromArg</span><span class="op" id="2442532">(</span><span class="ident" id="2442533">a</span>&nbsp;<span class="op" id="2442535">[</span><span class="op" id="2442536">]</span><span class="keyword" id="2442537">interface</span><span class="op" id="2442546">{</span><span class="op" id="2442547">}</span><span class="op" id="2442548">,</span>&nbsp;<span class="ident" id="2442550">argNum</span>&nbsp;<span class="builtintype" id="2442557">int</span><span class="op" id="2442560">)</span>&nbsp;<span class="op" id="2442562">(</span><span class="ident" id="2442563">num</span>&nbsp;<span class="builtintype" id="2442567">int</span><span class="op" id="2442570">,</span>&nbsp;<span class="ident" id="2442572">isInt</span>&nbsp;<span class="builtintype" id="2442578">bool</span><span class="op" id="2442582">,</span>&nbsp;<span class="ident" id="2442584">newArgNum</span>&nbsp;<span class="builtintype" id="2442594">int</span><span class="op" id="2442597">)</span>&nbsp;<span class="op" id="2442599">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442602">newArgNum</span>&nbsp;<span class="op" id="2442612">=</span>&nbsp;<span class="ident" id="2442614">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442622">if</span>&nbsp;<span class="ident" id="2442625">argNum</span>&nbsp;<span class="op" id="2442632">&lt;</span>&nbsp;<span class="builtinfunc" id="2442634">len</span><span class="op" id="2442637">(</span><span class="ident" id="2442638">a</span><span class="op" id="2442639">)</span>&nbsp;<span class="op" id="2442641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442645">num</span><span class="op" id="2442648">,</span>&nbsp;<span class="ident" id="2442650">isInt</span>&nbsp;<span class="op" id="2442656">=</span>&nbsp;<span class="ident" id="2442658">a</span><span class="op" id="2442659">[</span><span class="ident" id="2442660">argNum</span><span class="op" id="2442666">]</span><span class="op" id="2442667">.</span><span class="op" id="2442668">(</span><span class="builtintype" id="2442669">int</span><span class="op" id="2442672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2442676">newArgNum</span>&nbsp;<span class="op" id="2442686">=</span>&nbsp;<span class="ident" id="2442688">argNum</span>&nbsp;<span class="op" id="2442695">+</span>&nbsp;<span class="num" id="2442697">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2442700">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2442703">return</span><br>
<span class="lineno"></span><span class="op" id="2442710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2442713">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2442782">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2442855">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2442915">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2442984">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2443054">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2443124">func</span>&nbsp;<span class="ident" id="2443129">parseArgNumber</span><span class="op" id="2443143">(</span><span class="ident" id="2443144">format</span>&nbsp;<span class="builtintype" id="2443151">string</span><span class="op" id="2443157">)</span>&nbsp;<span class="op" id="2443159">(</span><span class="ident" id="2443160">index</span>&nbsp;<span class="builtintype" id="2443166">int</span><span class="op" id="2443169">,</span>&nbsp;<span class="ident" id="2443171">wid</span>&nbsp;<span class="builtintype" id="2443175">int</span><span class="op" id="2443178">,</span>&nbsp;<span class="ident" id="2443180">ok</span>&nbsp;<span class="builtintype" id="2443183">bool</span><span class="op" id="2443187">)</span>&nbsp;<span class="op" id="2443189">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2443192">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2443218">for</span>&nbsp;<span class="ident" id="2443222">i</span>&nbsp;<span class="op" id="2443224">:=</span>&nbsp;<span class="num" id="2443227">1</span><span class="op" id="2443228">;</span>&nbsp;<span class="ident" id="2443230">i</span>&nbsp;<span class="op" id="2443232">&lt;</span>&nbsp;<span class="builtinfunc" id="2443234">len</span><span class="op" id="2443237">(</span><span class="ident" id="2443238">format</span><span class="op" id="2443244">)</span><span class="op" id="2443245">;</span>&nbsp;<span class="ident" id="2443247">i</span><span class="op" id="2443248">++</span>&nbsp;<span class="op" id="2443251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2443255">if</span>&nbsp;<span class="ident" id="2443258">format</span><span class="op" id="2443264">[</span><span class="ident" id="2443265">i</span><span class="op" id="2443266">]</span>&nbsp;<span class="op" id="2443268">==</span>&nbsp;<span class="string" id="2443271">&#39;]&#39;</span>&nbsp;<span class="op" id="2443275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2443280">width</span><span class="op" id="2443285">,</span>&nbsp;<span class="ident" id="2443287">ok</span><span class="op" id="2443289">,</span>&nbsp;<span class="ident" id="2443291">newi</span>&nbsp;<span class="op" id="2443296">:=</span>&nbsp;<span class="ident" id="2443299">parsenum</span><span class="op" id="2443307">(</span><span class="ident" id="2443308">format</span><span class="op" id="2443314">,</span>&nbsp;<span class="num" id="2443316">1</span><span class="op" id="2443317">,</span>&nbsp;<span class="ident" id="2443319">i</span><span class="op" id="2443320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2443325">if</span>&nbsp;<span class="op" id="2443328">!</span><span class="ident" id="2443329">ok</span>&nbsp;<span class="op" id="2443332">||</span>&nbsp;<span class="ident" id="2443335">newi</span>&nbsp;<span class="op" id="2443340">!=</span>&nbsp;<span class="ident" id="2443343">i</span>&nbsp;<span class="op" id="2443345">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2443351">return</span>&nbsp;<span class="num" id="2443358">0</span><span class="op" id="2443359">,</span>&nbsp;<span class="ident" id="2443361">i</span>&nbsp;<span class="op" id="2443363">+</span>&nbsp;<span class="num" id="2443365">1</span><span class="op" id="2443366">,</span>&nbsp;<span class="builtintype" id="2443368">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2443377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2443382">return</span>&nbsp;<span class="ident" id="2443389">width</span>&nbsp;<span class="op" id="2443395">-</span>&nbsp;<span class="num" id="2443397">1</span><span class="op" id="2443398">,</span>&nbsp;<span class="ident" id="2443400">i</span>&nbsp;<span class="op" id="2443402">+</span>&nbsp;<span class="num" id="2443404">1</span><span class="op" id="2443405">,</span>&nbsp;<span class="builtintype" id="2443407">true</span>&nbsp;<span class="comment" id="2443412">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2443461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2443464">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2443467">return</span>&nbsp;<span class="num" id="2443474">0</span><span class="op" id="2443475">,</span>&nbsp;<span class="num" id="2443477">1</span><span class="op" id="2443478">,</span>&nbsp;<span class="builtintype" id="2443480">false</span><br>
<span class="lineno"></span><span class="op" id="2443486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2443489">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2443584">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2443672">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2443757">func</span>&nbsp;<span class="op" id="2443762">(</span><span class="ident" id="2443763">p</span>&nbsp;<span class="op" id="2443765">*</span><span class="ident" id="2443766">pp</span><span class="op" id="2443768">)</span>&nbsp;<span class="ident" id="2443770">argNumber</span><span class="op" id="2443779">(</span><span class="ident" id="2443780">argNum</span>&nbsp;<span class="builtintype" id="2443787">int</span><span class="op" id="2443790">,</span>&nbsp;<span class="ident" id="2443792">format</span>&nbsp;<span class="builtintype" id="2443799">string</span><span class="op" id="2443805">,</span>&nbsp;<span class="ident" id="2443807">i</span>&nbsp;<span class="builtintype" id="2443809">int</span><span class="op" id="2443812">,</span>&nbsp;<span class="ident" id="2443814">numArgs</span>&nbsp;<span class="builtintype" id="2443822">int</span><span class="op" id="2443825">)</span>&nbsp;<span class="op" id="2443827">(</span><span class="ident" id="2443828">newArgNum</span><span class="op" id="2443837">,</span>&nbsp;<span class="ident" id="2443839">newi</span>&nbsp;<span class="builtintype" id="2443844">int</span><span class="op" id="2443847">,</span>&nbsp;<span class="ident" id="2443849">found</span>&nbsp;<span class="builtintype" id="2443855">bool</span><span class="op" id="2443859">)</span>&nbsp;<span class="op" id="2443861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2443864">if</span>&nbsp;<span class="builtinfunc" id="2443867">len</span><span class="op" id="2443870">(</span><span class="ident" id="2443871">format</span><span class="op" id="2443877">)</span>&nbsp;<span class="op" id="2443879">&lt;=</span>&nbsp;<span class="ident" id="2443882">i</span>&nbsp;<span class="op" id="2443884">||</span>&nbsp;<span class="ident" id="2443887">format</span><span class="op" id="2443893">[</span><span class="ident" id="2443894">i</span><span class="op" id="2443895">]</span>&nbsp;<span class="op" id="2443897">!=</span>&nbsp;<span class="string" id="2443900">&#39;[&#39;</span>&nbsp;<span class="op" id="2443904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2443908">return</span>&nbsp;<span class="ident" id="2443915">argNum</span><span class="op" id="2443921">,</span>&nbsp;<span class="ident" id="2443923">i</span><span class="op" id="2443924">,</span>&nbsp;<span class="builtintype" id="2443926">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2443933">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2443936">p</span><span class="op" id="2443937">.</span><span class="ident" id="2443938">reordered</span>&nbsp;<span class="op" id="2443948">=</span>&nbsp;<span class="builtintype" id="2443950">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2443956">index</span><span class="op" id="2443961">,</span>&nbsp;<span class="ident" id="2443963">wid</span><span class="op" id="2443966">,</span>&nbsp;<span class="ident" id="2443968">ok</span>&nbsp;<span class="op" id="2443971">:=</span>&nbsp;<span class="ident" id="2443974">parseArgNumber</span><span class="op" id="2443988">(</span><span class="ident" id="2443989">format</span><span class="op" id="2443995">[</span><span class="ident" id="2443996">i</span><span class="op" id="2443997">:</span><span class="op" id="2443998">]</span><span class="op" id="2443999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444002">if</span>&nbsp;<span class="ident" id="2444005">ok</span>&nbsp;<span class="op" id="2444008">&amp;&amp;</span>&nbsp;<span class="num" id="2444011">0</span>&nbsp;<span class="op" id="2444013">&lt;=</span>&nbsp;<span class="ident" id="2444016">index</span>&nbsp;<span class="op" id="2444022">&amp;&amp;</span>&nbsp;<span class="ident" id="2444025">index</span>&nbsp;<span class="op" id="2444031">&lt;</span>&nbsp;<span class="ident" id="2444033">numArgs</span>&nbsp;<span class="op" id="2444041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444045">return</span>&nbsp;<span class="ident" id="2444052">index</span><span class="op" id="2444057">,</span>&nbsp;<span class="ident" id="2444059">i</span>&nbsp;<span class="op" id="2444061">+</span>&nbsp;<span class="ident" id="2444063">wid</span><span class="op" id="2444066">,</span>&nbsp;<span class="builtintype" id="2444068">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2444074">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444077">p</span><span class="op" id="2444078">.</span><span class="ident" id="2444079">goodArgNum</span>&nbsp;<span class="op" id="2444090">=</span>&nbsp;<span class="builtintype" id="2444092">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444099">return</span>&nbsp;<span class="ident" id="2444106">argNum</span><span class="op" id="2444112">,</span>&nbsp;<span class="ident" id="2444114">i</span>&nbsp;<span class="op" id="2444116">+</span>&nbsp;<span class="ident" id="2444118">wid</span><span class="op" id="2444121">,</span>&nbsp;<span class="builtintype" id="2444123">true</span><br>
<span class="lineno"></span><span class="op" id="2444128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2444131">func</span>&nbsp;<span class="op" id="2444136">(</span><span class="ident" id="2444137">p</span>&nbsp;<span class="op" id="2444139">*</span><span class="ident" id="2444140">pp</span><span class="op" id="2444142">)</span>&nbsp;<span class="ident" id="2444144">doPrintf</span><span class="op" id="2444152">(</span><span class="ident" id="2444153">format</span>&nbsp;<span class="builtintype" id="2444160">string</span><span class="op" id="2444166">,</span>&nbsp;<span class="ident" id="2444168">a</span>&nbsp;<span class="op" id="2444170">[</span><span class="op" id="2444171">]</span><span class="keyword" id="2444172">interface</span><span class="op" id="2444181">{</span><span class="op" id="2444182">}</span><span class="op" id="2444183">)</span>&nbsp;<span class="op" id="2444185">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444188">end</span>&nbsp;<span class="op" id="2444192">:=</span>&nbsp;<span class="builtinfunc" id="2444195">len</span><span class="op" id="2444198">(</span><span class="ident" id="2444199">format</span><span class="op" id="2444205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444208">argNum</span>&nbsp;<span class="op" id="2444215">:=</span>&nbsp;<span class="num" id="2444218">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2444228">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444279">afterIndex</span>&nbsp;<span class="op" id="2444290">:=</span>&nbsp;<span class="builtintype" id="2444293">false</span>&nbsp;<span class="comment" id="2444299">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444350">p</span><span class="op" id="2444351">.</span><span class="ident" id="2444352">reordered</span>&nbsp;<span class="op" id="2444362">=</span>&nbsp;<span class="builtintype" id="2444364">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444371">for</span>&nbsp;<span class="ident" id="2444375">i</span>&nbsp;<span class="op" id="2444377">:=</span>&nbsp;<span class="num" id="2444380">0</span><span class="op" id="2444381">;</span>&nbsp;<span class="ident" id="2444383">i</span>&nbsp;<span class="op" id="2444385">&lt;</span>&nbsp;<span class="ident" id="2444387">end</span><span class="op" id="2444390">;</span>&nbsp;<span class="op" id="2444392">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444396">p</span><span class="op" id="2444397">.</span><span class="ident" id="2444398">goodArgNum</span>&nbsp;<span class="op" id="2444409">=</span>&nbsp;<span class="builtintype" id="2444411">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444418">lasti</span>&nbsp;<span class="op" id="2444424">:=</span>&nbsp;<span class="ident" id="2444427">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444431">for</span>&nbsp;<span class="ident" id="2444435">i</span>&nbsp;<span class="op" id="2444437">&lt;</span>&nbsp;<span class="ident" id="2444439">end</span>&nbsp;<span class="op" id="2444443">&amp;&amp;</span>&nbsp;<span class="ident" id="2444446">format</span><span class="op" id="2444452">[</span><span class="ident" id="2444453">i</span><span class="op" id="2444454">]</span>&nbsp;<span class="op" id="2444456">!=</span>&nbsp;<span class="string" id="2444459">&#39;%&#39;</span>&nbsp;<span class="op" id="2444463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444468">i</span><span class="op" id="2444469">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2444474">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444478">if</span>&nbsp;<span class="ident" id="2444481">i</span>&nbsp;<span class="op" id="2444483">&gt;</span>&nbsp;<span class="ident" id="2444485">lasti</span>&nbsp;<span class="op" id="2444491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444496">p</span><span class="op" id="2444497">.</span><span class="ident" id="2444498">buf</span><span class="op" id="2444501">.</span><span class="ident" id="2444502">WriteString</span><span class="op" id="2444513">(</span><span class="ident" id="2444514">format</span><span class="op" id="2444520">[</span><span class="ident" id="2444521">lasti</span><span class="op" id="2444526">:</span><span class="ident" id="2444527">i</span><span class="op" id="2444528">]</span><span class="op" id="2444529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2444533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444537">if</span>&nbsp;<span class="ident" id="2444540">i</span>&nbsp;<span class="op" id="2444542">&gt;=</span>&nbsp;<span class="ident" id="2444545">end</span>&nbsp;<span class="op" id="2444549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2444554">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444590">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2444598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2444603">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444625">i</span><span class="op" id="2444626">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2444632">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444655">p</span><span class="op" id="2444656">.</span><span class="ident" id="2444657">fmt</span><span class="op" id="2444660">.</span><span class="ident" id="2444661">clearflags</span><span class="op" id="2444671">(</span><span class="op" id="2444672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444675">F</span><span class="op" id="2444676">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444680">for</span>&nbsp;<span class="op" id="2444684">;</span>&nbsp;<span class="ident" id="2444686">i</span>&nbsp;<span class="op" id="2444688">&lt;</span>&nbsp;<span class="ident" id="2444690">end</span><span class="op" id="2444693">;</span>&nbsp;<span class="ident" id="2444695">i</span><span class="op" id="2444696">++</span>&nbsp;<span class="op" id="2444699">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444704">switch</span>&nbsp;<span class="ident" id="2444711">format</span><span class="op" id="2444717">[</span><span class="ident" id="2444718">i</span><span class="op" id="2444719">]</span>&nbsp;<span class="op" id="2444721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444726">case</span>&nbsp;<span class="string" id="2444731">&#39;#&#39;</span><span class="op" id="2444734">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444740">p</span><span class="op" id="2444741">.</span><span class="ident" id="2444742">fmt</span><span class="op" id="2444745">.</span><span class="ident" id="2444746">sharp</span>&nbsp;<span class="op" id="2444752">=</span>&nbsp;<span class="builtintype" id="2444754">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444762">case</span>&nbsp;<span class="string" id="2444767">&#39;0&#39;</span><span class="op" id="2444770">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444776">p</span><span class="op" id="2444777">.</span><span class="ident" id="2444778">fmt</span><span class="op" id="2444781">.</span><span class="ident" id="2444782">zero</span>&nbsp;<span class="op" id="2444787">=</span>&nbsp;<span class="builtintype" id="2444789">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444797">case</span>&nbsp;<span class="string" id="2444802">&#39;+&#39;</span><span class="op" id="2444805">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444811">p</span><span class="op" id="2444812">.</span><span class="ident" id="2444813">fmt</span><span class="op" id="2444816">.</span><span class="ident" id="2444817">plus</span>&nbsp;<span class="op" id="2444822">=</span>&nbsp;<span class="builtintype" id="2444824">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444832">case</span>&nbsp;<span class="string" id="2444837">&#39;-&#39;</span><span class="op" id="2444840">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444846">p</span><span class="op" id="2444847">.</span><span class="ident" id="2444848">fmt</span><span class="op" id="2444851">.</span><span class="ident" id="2444852">minus</span>&nbsp;<span class="op" id="2444858">=</span>&nbsp;<span class="builtintype" id="2444860">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444868">case</span>&nbsp;<span class="string" id="2444873">&#39;&nbsp;&#39;</span><span class="op" id="2444876">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444882">p</span><span class="op" id="2444883">.</span><span class="ident" id="2444884">fmt</span><span class="op" id="2444887">.</span><span class="ident" id="2444888">space</span>&nbsp;<span class="op" id="2444894">=</span>&nbsp;<span class="builtintype" id="2444896">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444904">default</span><span class="op" id="2444911">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2444917">break</span>&nbsp;<span class="ident" id="2444923">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2444928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2444932">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2444937">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444981">argNum</span><span class="op" id="2444987">,</span>&nbsp;<span class="ident" id="2444989">i</span><span class="op" id="2444990">,</span>&nbsp;<span class="ident" id="2444992">afterIndex</span>&nbsp;<span class="op" id="2445003">=</span>&nbsp;<span class="ident" id="2445005">p</span><span class="op" id="2445006">.</span><span class="ident" id="2445007">argNumber</span><span class="op" id="2445016">(</span><span class="ident" id="2445017">argNum</span><span class="op" id="2445023">,</span>&nbsp;<span class="ident" id="2445025">format</span><span class="op" id="2445031">,</span>&nbsp;<span class="ident" id="2445033">i</span><span class="op" id="2445034">,</span>&nbsp;<span class="builtinfunc" id="2445036">len</span><span class="op" id="2445039">(</span><span class="ident" id="2445040">a</span><span class="op" id="2445041">)</span><span class="op" id="2445042">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2445047">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2445070">if</span>&nbsp;<span class="ident" id="2445073">i</span>&nbsp;<span class="op" id="2445075">&lt;</span>&nbsp;<span class="ident" id="2445077">end</span>&nbsp;<span class="op" id="2445081">&amp;&amp;</span>&nbsp;<span class="ident" id="2445084">format</span><span class="op" id="2445090">[</span><span class="ident" id="2445091">i</span><span class="op" id="2445092">]</span>&nbsp;<span class="op" id="2445094">==</span>&nbsp;<span class="string" id="2445097">&#39;*&#39;</span>&nbsp;<span class="op" id="2445101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445106">i</span><span class="op" id="2445107">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445113">p</span><span class="op" id="2445114">.</span><span class="ident" id="2445115">fmt</span><span class="op" id="2445118">.</span><span class="ident" id="2445119">wid</span><span class="op" id="2445122">,</span>&nbsp;<span class="ident" id="2445124">p</span><span class="op" id="2445125">.</span><span class="ident" id="2445126">fmt</span><span class="op" id="2445129">.</span><span class="ident" id="2445130">widPresent</span><span class="op" id="2445140">,</span>&nbsp;<span class="ident" id="2445142">argNum</span>&nbsp;<span class="op" id="2445149">=</span>&nbsp;<span class="ident" id="2445151">intFromArg</span><span class="op" id="2445161">(</span><span class="ident" id="2445162">a</span><span class="op" id="2445163">,</span>&nbsp;<span class="ident" id="2445165">argNum</span><span class="op" id="2445171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2445176">if</span>&nbsp;<span class="op" id="2445179">!</span><span class="ident" id="2445180">p</span><span class="op" id="2445181">.</span><span class="ident" id="2445182">fmt</span><span class="op" id="2445185">.</span><span class="ident" id="2445186">widPresent</span>&nbsp;<span class="op" id="2445197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445203">p</span><span class="op" id="2445204">.</span><span class="ident" id="2445205">buf</span><span class="op" id="2445208">.</span><span class="ident" id="2445209">Write</span><span class="op" id="2445214">(</span><span class="ident" id="2445215">badWidthBytes</span><span class="op" id="2445228">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445238">afterIndex</span>&nbsp;<span class="op" id="2445249">=</span>&nbsp;<span class="builtintype" id="2445251">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445259">}</span>&nbsp;<span class="keyword" id="2445261">else</span>&nbsp;<span class="op" id="2445266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445271">p</span><span class="op" id="2445272">.</span><span class="ident" id="2445273">fmt</span><span class="op" id="2445276">.</span><span class="ident" id="2445277">wid</span><span class="op" id="2445280">,</span>&nbsp;<span class="ident" id="2445282">p</span><span class="op" id="2445283">.</span><span class="ident" id="2445284">fmt</span><span class="op" id="2445287">.</span><span class="ident" id="2445288">widPresent</span><span class="op" id="2445298">,</span>&nbsp;<span class="ident" id="2445300">i</span>&nbsp;<span class="op" id="2445302">=</span>&nbsp;<span class="ident" id="2445304">parsenum</span><span class="op" id="2445312">(</span><span class="ident" id="2445313">format</span><span class="op" id="2445319">,</span>&nbsp;<span class="ident" id="2445321">i</span><span class="op" id="2445322">,</span>&nbsp;<span class="ident" id="2445324">end</span><span class="op" id="2445327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2445332">if</span>&nbsp;<span class="ident" id="2445335">afterIndex</span>&nbsp;<span class="op" id="2445346">&amp;&amp;</span>&nbsp;<span class="ident" id="2445349">p</span><span class="op" id="2445350">.</span><span class="ident" id="2445351">fmt</span><span class="op" id="2445354">.</span><span class="ident" id="2445355">widPresent</span>&nbsp;<span class="op" id="2445366">{</span>&nbsp;<span class="comment" id="2445368">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445384">p</span><span class="op" id="2445385">.</span><span class="ident" id="2445386">goodArgNum</span>&nbsp;<span class="op" id="2445397">=</span>&nbsp;<span class="builtintype" id="2445399">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2445417">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2445444">if</span>&nbsp;<span class="ident" id="2445447">i</span><span class="op" id="2445448">+</span><span class="num" id="2445449">1</span>&nbsp;<span class="op" id="2445451">&lt;</span>&nbsp;<span class="ident" id="2445453">end</span>&nbsp;<span class="op" id="2445457">&amp;&amp;</span>&nbsp;<span class="ident" id="2445460">format</span><span class="op" id="2445466">[</span><span class="ident" id="2445467">i</span><span class="op" id="2445468">]</span>&nbsp;<span class="op" id="2445470">==</span>&nbsp;<span class="string" id="2445473">&#39;.&#39;</span>&nbsp;<span class="op" id="2445477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445482">i</span><span class="op" id="2445483">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2445489">if</span>&nbsp;<span class="ident" id="2445492">afterIndex</span>&nbsp;<span class="op" id="2445503">{</span>&nbsp;<span class="comment" id="2445505">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445522">p</span><span class="op" id="2445523">.</span><span class="ident" id="2445524">goodArgNum</span>&nbsp;<span class="op" id="2445535">=</span>&nbsp;<span class="builtintype" id="2445537">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445546">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445551">argNum</span><span class="op" id="2445557">,</span>&nbsp;<span class="ident" id="2445559">i</span><span class="op" id="2445560">,</span>&nbsp;<span class="ident" id="2445562">afterIndex</span>&nbsp;<span class="op" id="2445573">=</span>&nbsp;<span class="ident" id="2445575">p</span><span class="op" id="2445576">.</span><span class="ident" id="2445577">argNumber</span><span class="op" id="2445586">(</span><span class="ident" id="2445587">argNum</span><span class="op" id="2445593">,</span>&nbsp;<span class="ident" id="2445595">format</span><span class="op" id="2445601">,</span>&nbsp;<span class="ident" id="2445603">i</span><span class="op" id="2445604">,</span>&nbsp;<span class="builtinfunc" id="2445606">len</span><span class="op" id="2445609">(</span><span class="ident" id="2445610">a</span><span class="op" id="2445611">)</span><span class="op" id="2445612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2445617">if</span>&nbsp;<span class="ident" id="2445620">format</span><span class="op" id="2445626">[</span><span class="ident" id="2445627">i</span><span class="op" id="2445628">]</span>&nbsp;<span class="op" id="2445630">==</span>&nbsp;<span class="string" id="2445633">&#39;*&#39;</span>&nbsp;<span class="op" id="2445637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445643">i</span><span class="op" id="2445644">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445651">p</span><span class="op" id="2445652">.</span><span class="ident" id="2445653">fmt</span><span class="op" id="2445656">.</span><span class="ident" id="2445657">prec</span><span class="op" id="2445661">,</span>&nbsp;<span class="ident" id="2445663">p</span><span class="op" id="2445664">.</span><span class="ident" id="2445665">fmt</span><span class="op" id="2445668">.</span><span class="ident" id="2445669">precPresent</span><span class="op" id="2445680">,</span>&nbsp;<span class="ident" id="2445682">argNum</span>&nbsp;<span class="op" id="2445689">=</span>&nbsp;<span class="ident" id="2445691">intFromArg</span><span class="op" id="2445701">(</span><span class="ident" id="2445702">a</span><span class="op" id="2445703">,</span>&nbsp;<span class="ident" id="2445705">argNum</span><span class="op" id="2445711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2445717">if</span>&nbsp;<span class="op" id="2445720">!</span><span class="ident" id="2445721">p</span><span class="op" id="2445722">.</span><span class="ident" id="2445723">fmt</span><span class="op" id="2445726">.</span><span class="ident" id="2445727">precPresent</span>&nbsp;<span class="op" id="2445739">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445746">p</span><span class="op" id="2445747">.</span><span class="ident" id="2445748">buf</span><span class="op" id="2445751">.</span><span class="ident" id="2445752">Write</span><span class="op" id="2445757">(</span><span class="ident" id="2445758">badPrecBytes</span><span class="op" id="2445770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445782">afterIndex</span>&nbsp;<span class="op" id="2445793">=</span>&nbsp;<span class="builtintype" id="2445795">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445804">}</span>&nbsp;<span class="keyword" id="2445806">else</span>&nbsp;<span class="op" id="2445811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445817">p</span><span class="op" id="2445818">.</span><span class="ident" id="2445819">fmt</span><span class="op" id="2445822">.</span><span class="ident" id="2445823">prec</span><span class="op" id="2445827">,</span>&nbsp;<span class="ident" id="2445829">p</span><span class="op" id="2445830">.</span><span class="ident" id="2445831">fmt</span><span class="op" id="2445834">.</span><span class="ident" id="2445835">precPresent</span><span class="op" id="2445846">,</span>&nbsp;<span class="ident" id="2445848">i</span>&nbsp;<span class="op" id="2445850">=</span>&nbsp;<span class="ident" id="2445852">parsenum</span><span class="op" id="2445860">(</span><span class="ident" id="2445861">format</span><span class="op" id="2445867">,</span>&nbsp;<span class="ident" id="2445869">i</span><span class="op" id="2445870">,</span>&nbsp;<span class="ident" id="2445872">end</span><span class="op" id="2445875">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2445881">if</span>&nbsp;<span class="op" id="2445884">!</span><span class="ident" id="2445885">p</span><span class="op" id="2445886">.</span><span class="ident" id="2445887">fmt</span><span class="op" id="2445890">.</span><span class="ident" id="2445891">precPresent</span>&nbsp;<span class="op" id="2445903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445910">p</span><span class="op" id="2445911">.</span><span class="ident" id="2445912">fmt</span><span class="op" id="2445915">.</span><span class="ident" id="2445916">prec</span>&nbsp;<span class="op" id="2445921">=</span>&nbsp;<span class="num" id="2445923">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445930">p</span><span class="op" id="2445931">.</span><span class="ident" id="2445932">fmt</span><span class="op" id="2445935">.</span><span class="ident" id="2445936">precPresent</span>&nbsp;<span class="op" id="2445948">=</span>&nbsp;<span class="builtintype" id="2445950">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445964">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2445968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2445973">if</span>&nbsp;<span class="op" id="2445976">!</span><span class="ident" id="2445977">afterIndex</span>&nbsp;<span class="op" id="2445988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2445993">argNum</span><span class="op" id="2445999">,</span>&nbsp;<span class="ident" id="2446001">i</span><span class="op" id="2446002">,</span>&nbsp;<span class="ident" id="2446004">afterIndex</span>&nbsp;<span class="op" id="2446015">=</span>&nbsp;<span class="ident" id="2446017">p</span><span class="op" id="2446018">.</span><span class="ident" id="2446019">argNumber</span><span class="op" id="2446028">(</span><span class="ident" id="2446029">argNum</span><span class="op" id="2446035">,</span>&nbsp;<span class="ident" id="2446037">format</span><span class="op" id="2446043">,</span>&nbsp;<span class="ident" id="2446045">i</span><span class="op" id="2446046">,</span>&nbsp;<span class="builtinfunc" id="2446048">len</span><span class="op" id="2446051">(</span><span class="ident" id="2446052">a</span><span class="op" id="2446053">)</span><span class="op" id="2446054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2446058">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446063">if</span>&nbsp;<span class="ident" id="2446066">i</span>&nbsp;<span class="op" id="2446068">&gt;=</span>&nbsp;<span class="ident" id="2446071">end</span>&nbsp;<span class="op" id="2446075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446080">p</span><span class="op" id="2446081">.</span><span class="ident" id="2446082">buf</span><span class="op" id="2446085">.</span><span class="ident" id="2446086">Write</span><span class="op" id="2446091">(</span><span class="ident" id="2446092">noVerbBytes</span><span class="op" id="2446103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446108">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2446119">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446123">c</span><span class="op" id="2446124">,</span>&nbsp;<span class="ident" id="2446126">w</span>&nbsp;<span class="op" id="2446128">:=</span>&nbsp;<span class="ident" id="2446131">utf8</span><span class="op" id="2446135">.</span><span class="ident" id="2446136">DecodeRuneInString</span><span class="op" id="2446154">(</span><span class="ident" id="2446155">format</span><span class="op" id="2446161">[</span><span class="ident" id="2446162">i</span><span class="op" id="2446163">:</span><span class="op" id="2446164">]</span><span class="op" id="2446165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446169">i</span>&nbsp;<span class="op" id="2446171">+=</span>&nbsp;<span class="ident" id="2446174">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2446178">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446223">if</span>&nbsp;<span class="ident" id="2446226">c</span>&nbsp;<span class="op" id="2446228">==</span>&nbsp;<span class="string" id="2446231">&#39;%&#39;</span>&nbsp;<span class="op" id="2446235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446240">p</span><span class="op" id="2446241">.</span><span class="ident" id="2446242">buf</span><span class="op" id="2446245">.</span><span class="ident" id="2446246">WriteByte</span><span class="op" id="2446255">(</span><span class="string" id="2446256">&#39;%&#39;</span><span class="op" id="2446259">)</span>&nbsp;<span class="comment" id="2446261">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446293">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2446304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446308">if</span>&nbsp;<span class="op" id="2446311">!</span><span class="ident" id="2446312">p</span><span class="op" id="2446313">.</span><span class="ident" id="2446314">goodArgNum</span>&nbsp;<span class="op" id="2446325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446330">p</span><span class="op" id="2446331">.</span><span class="ident" id="2446332">buf</span><span class="op" id="2446335">.</span><span class="ident" id="2446336">Write</span><span class="op" id="2446341">(</span><span class="ident" id="2446342">percentBangBytes</span><span class="op" id="2446358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446363">p</span><span class="op" id="2446364">.</span><span class="ident" id="2446365">add</span><span class="op" id="2446368">(</span><span class="ident" id="2446369">c</span><span class="op" id="2446370">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446375">p</span><span class="op" id="2446376">.</span><span class="ident" id="2446377">buf</span><span class="op" id="2446380">.</span><span class="ident" id="2446381">Write</span><span class="op" id="2446386">(</span><span class="ident" id="2446387">badIndexBytes</span><span class="op" id="2446400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446405">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2446416">}</span>&nbsp;<span class="keyword" id="2446418">else</span>&nbsp;<span class="keyword" id="2446423">if</span>&nbsp;<span class="ident" id="2446426">argNum</span>&nbsp;<span class="op" id="2446433">&gt;=</span>&nbsp;<span class="builtinfunc" id="2446436">len</span><span class="op" id="2446439">(</span><span class="ident" id="2446440">a</span><span class="op" id="2446441">)</span>&nbsp;<span class="op" id="2446443">{</span>&nbsp;<span class="comment" id="2446445">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446467">p</span><span class="op" id="2446468">.</span><span class="ident" id="2446469">buf</span><span class="op" id="2446472">.</span><span class="ident" id="2446473">Write</span><span class="op" id="2446478">(</span><span class="ident" id="2446479">percentBangBytes</span><span class="op" id="2446495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446500">p</span><span class="op" id="2446501">.</span><span class="ident" id="2446502">add</span><span class="op" id="2446505">(</span><span class="ident" id="2446506">c</span><span class="op" id="2446507">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446512">p</span><span class="op" id="2446513">.</span><span class="ident" id="2446514">buf</span><span class="op" id="2446517">.</span><span class="ident" id="2446518">Write</span><span class="op" id="2446523">(</span><span class="ident" id="2446524">missingBytes</span><span class="op" id="2446536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446541">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2446552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446556">arg</span>&nbsp;<span class="op" id="2446560">:=</span>&nbsp;<span class="ident" id="2446563">a</span><span class="op" id="2446564">[</span><span class="ident" id="2446565">argNum</span><span class="op" id="2446571">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446575">argNum</span><span class="op" id="2446581">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446587">if</span>&nbsp;<span class="ident" id="2446590">c</span>&nbsp;<span class="op" id="2446592">==</span>&nbsp;<span class="string" id="2446595">&#39;v&#39;</span>&nbsp;<span class="op" id="2446599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446604">if</span>&nbsp;<span class="ident" id="2446607">p</span><span class="op" id="2446608">.</span><span class="ident" id="2446609">fmt</span><span class="op" id="2446612">.</span><span class="ident" id="2446613">sharp</span>&nbsp;<span class="op" id="2446619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2446625">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446693">p</span><span class="op" id="2446694">.</span><span class="ident" id="2446695">fmt</span><span class="op" id="2446698">.</span><span class="ident" id="2446699">sharp</span>&nbsp;<span class="op" id="2446705">=</span>&nbsp;<span class="builtintype" id="2446707">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446717">p</span><span class="op" id="2446718">.</span><span class="ident" id="2446719">fmt</span><span class="op" id="2446722">.</span><span class="ident" id="2446723">sharpV</span>&nbsp;<span class="op" id="2446730">=</span>&nbsp;<span class="builtintype" id="2446732">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2446740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2446745">if</span>&nbsp;<span class="ident" id="2446748">p</span><span class="op" id="2446749">.</span><span class="ident" id="2446750">fmt</span><span class="op" id="2446753">.</span><span class="ident" id="2446754">plus</span>&nbsp;<span class="op" id="2446759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2446765">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446842">p</span><span class="op" id="2446843">.</span><span class="ident" id="2446844">fmt</span><span class="op" id="2446847">.</span><span class="ident" id="2446848">plus</span>&nbsp;<span class="op" id="2446853">=</span>&nbsp;<span class="builtintype" id="2446855">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446865">p</span><span class="op" id="2446866">.</span><span class="ident" id="2446867">fmt</span><span class="op" id="2446870">.</span><span class="ident" id="2446871">plusV</span>&nbsp;<span class="op" id="2446877">=</span>&nbsp;<span class="builtintype" id="2446879">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2446887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2446891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2446895">p</span><span class="op" id="2446896">.</span><span class="ident" id="2446897">printArg</span><span class="op" id="2446905">(</span><span class="ident" id="2446906">arg</span><span class="op" id="2446909">,</span>&nbsp;<span class="ident" id="2446911">c</span><span class="op" id="2446912">,</span>&nbsp;<span class="num" id="2446914">0</span><span class="op" id="2446915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2446918">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2446922">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2446991">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2447067">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2447113">if</span>&nbsp;<span class="op" id="2447116">!</span><span class="ident" id="2447117">p</span><span class="op" id="2447118">.</span><span class="ident" id="2447119">reordered</span>&nbsp;<span class="op" id="2447129">&amp;&amp;</span>&nbsp;<span class="ident" id="2447132">argNum</span>&nbsp;<span class="op" id="2447139">&lt;</span>&nbsp;<span class="builtinfunc" id="2447141">len</span><span class="op" id="2447144">(</span><span class="ident" id="2447145">a</span><span class="op" id="2447146">)</span>&nbsp;<span class="op" id="2447148">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447152">p</span><span class="op" id="2447153">.</span><span class="ident" id="2447154">buf</span><span class="op" id="2447157">.</span><span class="ident" id="2447158">Write</span><span class="op" id="2447163">(</span><span class="ident" id="2447164">extraBytes</span><span class="op" id="2447174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2447178">for</span>&nbsp;<span class="op" id="2447182">;</span>&nbsp;<span class="ident" id="2447184">argNum</span>&nbsp;<span class="op" id="2447191">&lt;</span>&nbsp;<span class="builtinfunc" id="2447193">len</span><span class="op" id="2447196">(</span><span class="ident" id="2447197">a</span><span class="op" id="2447198">)</span><span class="op" id="2447199">;</span>&nbsp;<span class="ident" id="2447201">argNum</span><span class="op" id="2447207">++</span>&nbsp;<span class="op" id="2447210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447215">arg</span>&nbsp;<span class="op" id="2447219">:=</span>&nbsp;<span class="ident" id="2447222">a</span><span class="op" id="2447223">[</span><span class="ident" id="2447224">argNum</span><span class="op" id="2447230">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2447235">if</span>&nbsp;<span class="ident" id="2447238">arg</span>&nbsp;<span class="op" id="2447242">!=</span>&nbsp;<span class="ident" id="2447245">nil</span>&nbsp;<span class="op" id="2447249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447255">p</span><span class="op" id="2447256">.</span><span class="ident" id="2447257">buf</span><span class="op" id="2447260">.</span><span class="ident" id="2447261">WriteString</span><span class="op" id="2447272">(</span><span class="ident" id="2447273">reflect</span><span class="op" id="2447280">.</span><span class="ident" id="2447281">TypeOf</span><span class="op" id="2447287">(</span><span class="ident" id="2447288">arg</span><span class="op" id="2447291">)</span><span class="op" id="2447292">.</span><span class="ident" id="2447293">String</span><span class="op" id="2447299">(</span><span class="op" id="2447300">)</span><span class="op" id="2447301">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447307">p</span><span class="op" id="2447308">.</span><span class="ident" id="2447309">buf</span><span class="op" id="2447312">.</span><span class="ident" id="2447313">WriteByte</span><span class="op" id="2447322">(</span><span class="string" id="2447323">&#39;=&#39;</span><span class="op" id="2447326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2447331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447336">p</span><span class="op" id="2447337">.</span><span class="ident" id="2447338">printArg</span><span class="op" id="2447346">(</span><span class="ident" id="2447347">arg</span><span class="op" id="2447350">,</span>&nbsp;<span class="string" id="2447352">&#39;v&#39;</span><span class="op" id="2447355">,</span>&nbsp;<span class="num" id="2447357">0</span><span class="op" id="2447358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2447363">if</span>&nbsp;<span class="ident" id="2447366">argNum</span><span class="op" id="2447372">+</span><span class="num" id="2447373">1</span>&nbsp;<span class="op" id="2447375">&lt;</span>&nbsp;<span class="builtinfunc" id="2447377">len</span><span class="op" id="2447380">(</span><span class="ident" id="2447381">a</span><span class="op" id="2447382">)</span>&nbsp;<span class="op" id="2447384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447390">p</span><span class="op" id="2447391">.</span><span class="ident" id="2447392">buf</span><span class="op" id="2447395">.</span><span class="ident" id="2447396">Write</span><span class="op" id="2447401">(</span><span class="ident" id="2447402">commaSpaceBytes</span><span class="op" id="2447417">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2447422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2447426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447430">p</span><span class="op" id="2447431">.</span><span class="ident" id="2447432">buf</span><span class="op" id="2447435">.</span><span class="ident" id="2447436">WriteByte</span><span class="op" id="2447445">(</span><span class="string" id="2447446">&#39;)&#39;</span><span class="op" id="2447449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2447452">}</span><br>
<span class="lineno"></span><span class="op" id="2447454">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2447457">func</span>&nbsp;<span class="op" id="2447462">(</span><span class="ident" id="2447463">p</span>&nbsp;<span class="op" id="2447465">*</span><span class="ident" id="2447466">pp</span><span class="op" id="2447468">)</span>&nbsp;<span class="ident" id="2447470">doPrint</span><span class="op" id="2447477">(</span><span class="ident" id="2447478">a</span>&nbsp;<span class="op" id="2447480">[</span><span class="op" id="2447481">]</span><span class="keyword" id="2447482">interface</span><span class="op" id="2447491">{</span><span class="op" id="2447492">}</span><span class="op" id="2447493">,</span>&nbsp;<span class="ident" id="2447495">addspace</span><span class="op" id="2447503">,</span>&nbsp;<span class="ident" id="2447505">addnewline</span>&nbsp;<span class="builtintype" id="2447516">bool</span><span class="op" id="2447520">)</span>&nbsp;<span class="op" id="2447522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447525">prevString</span>&nbsp;<span class="op" id="2447536">:=</span>&nbsp;<span class="builtintype" id="2447539">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2447546">for</span>&nbsp;<span class="ident" id="2447550">argNum</span>&nbsp;<span class="op" id="2447557">:=</span>&nbsp;<span class="num" id="2447560">0</span><span class="op" id="2447561">;</span>&nbsp;<span class="ident" id="2447563">argNum</span>&nbsp;<span class="op" id="2447570">&lt;</span>&nbsp;<span class="builtinfunc" id="2447572">len</span><span class="op" id="2447575">(</span><span class="ident" id="2447576">a</span><span class="op" id="2447577">)</span><span class="op" id="2447578">;</span>&nbsp;<span class="ident" id="2447580">argNum</span><span class="op" id="2447586">++</span>&nbsp;<span class="op" id="2447589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447593">p</span><span class="op" id="2447594">.</span><span class="ident" id="2447595">fmt</span><span class="op" id="2447598">.</span><span class="ident" id="2447599">clearflags</span><span class="op" id="2447609">(</span><span class="op" id="2447610">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2447614">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447660">arg</span>&nbsp;<span class="op" id="2447664">:=</span>&nbsp;<span class="ident" id="2447667">a</span><span class="op" id="2447668">[</span><span class="ident" id="2447669">argNum</span><span class="op" id="2447675">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2447679">if</span>&nbsp;<span class="ident" id="2447682">argNum</span>&nbsp;<span class="op" id="2447689">&gt;</span>&nbsp;<span class="num" id="2447691">0</span>&nbsp;<span class="op" id="2447693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447698">isString</span>&nbsp;<span class="op" id="2447707">:=</span>&nbsp;<span class="ident" id="2447710">arg</span>&nbsp;<span class="op" id="2447714">!=</span>&nbsp;<span class="ident" id="2447717">nil</span>&nbsp;<span class="op" id="2447721">&amp;&amp;</span>&nbsp;<span class="ident" id="2447724">reflect</span><span class="op" id="2447731">.</span><span class="ident" id="2447732">TypeOf</span><span class="op" id="2447738">(</span><span class="ident" id="2447739">arg</span><span class="op" id="2447742">)</span><span class="op" id="2447743">.</span><span class="ident" id="2447744">Kind</span><span class="op" id="2447748">(</span><span class="op" id="2447749">)</span>&nbsp;<span class="op" id="2447751">==</span>&nbsp;<span class="ident" id="2447754">reflect</span><span class="op" id="2447761">.</span><span class="ident" id="2447762">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2447772">if</span>&nbsp;<span class="ident" id="2447775">addspace</span>&nbsp;<span class="op" id="2447784">||</span>&nbsp;<span class="op" id="2447787">!</span><span class="ident" id="2447788">isString</span>&nbsp;<span class="op" id="2447797">&amp;&amp;</span>&nbsp;<span class="op" id="2447800">!</span><span class="ident" id="2447801">prevString</span>&nbsp;<span class="op" id="2447812">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447818">p</span><span class="op" id="2447819">.</span><span class="ident" id="2447820">buf</span><span class="op" id="2447823">.</span><span class="ident" id="2447824">WriteByte</span><span class="op" id="2447833">(</span><span class="string" id="2447834">&#39;&nbsp;&#39;</span><span class="op" id="2447837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2447842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2447846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447850">prevString</span>&nbsp;<span class="op" id="2447861">=</span>&nbsp;<span class="ident" id="2447863">p</span><span class="op" id="2447864">.</span><span class="ident" id="2447865">printArg</span><span class="op" id="2447873">(</span><span class="ident" id="2447874">arg</span><span class="op" id="2447877">,</span>&nbsp;<span class="string" id="2447879">&#39;v&#39;</span><span class="op" id="2447882">,</span>&nbsp;<span class="num" id="2447884">0</span><span class="op" id="2447885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2447888">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2447891">if</span>&nbsp;<span class="ident" id="2447894">addnewline</span>&nbsp;<span class="op" id="2447905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2447909">p</span><span class="op" id="2447910">.</span><span class="ident" id="2447911">buf</span><span class="op" id="2447914">.</span><span class="ident" id="2447915">WriteByte</span><span class="op" id="2447924">(</span><span class="string" id="2447925">&#39;\n&#39;</span><span class="op" id="2447929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2447932">}</span><br>
<span class="lineno"></span><span class="op" id="2447934">}</span>
</div>
</body>
</html>
