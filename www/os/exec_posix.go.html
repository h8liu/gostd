<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2048736">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2048791">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2048845">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2048896">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;nacl&nbsp;netbsd&nbsp;openbsd&nbsp;solaris&nbsp;windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2048974">package</span>&nbsp;<span class="ident" id="2048982">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2048986">import</span>&nbsp;<span class="op" id="2048993">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2048996">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="2049006">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2049009">//&nbsp;The&nbsp;only&nbsp;signal&nbsp;values&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;present&nbsp;on&nbsp;all&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2049075">//&nbsp;are&nbsp;Interrupt&nbsp;(send&nbsp;the&nbsp;process&nbsp;an&nbsp;interrupt)&nbsp;and&nbsp;Kill&nbsp;(force</span><br>
<span class="lineno">15</span><span class="comment" id="2049140">//&nbsp;the&nbsp;process&nbsp;to&nbsp;exit).</span><br>
<span class="lineno"></span><span class="keyword" id="2049165">var</span>&nbsp;<span class="op" id="2049169">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049172">Interrupt</span>&nbsp;<span class="ident" id="2049182"><a href="/os/exec.go.html#2048446">Signal</a></span>&nbsp;<span class="op" id="2049189">=</span>&nbsp;<span class="ident" id="2049191"><a href="/os/exec_posix.go.html#2048996">syscall</a></span><span class="op" id="2049198">.</span><span class="ident" id="2049199">SIGINT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049207">Kill</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049217"><a href="/os/exec.go.html#2048446">Signal</a></span>&nbsp;<span class="op" id="2049224">=</span>&nbsp;<span class="ident" id="2049226"><a href="/os/exec_posix.go.html#2048996">syscall</a></span><span class="op" id="2049233">.</span><span class="ident" id="2049234">SIGKILL</span><br>
<span class="lineno"></span><span class="op" id="2049242">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="2049245">func</span>&nbsp;<span class="ident" id="2049250">startProcess</span><span class="op" id="2049262">(</span><span class="ident" id="2049263">name</span>&nbsp;<span class="builtintype" id="2049268">string</span><span class="op" id="2049274">,</span>&nbsp;<span class="ident" id="2049276">argv</span>&nbsp;<span class="op" id="2049281">[</span><span class="op" id="2049282">]</span><span class="builtintype" id="2049283">string</span><span class="op" id="2049289">,</span>&nbsp;<span class="ident" id="2049291">attr</span>&nbsp;<span class="op" id="2049296">*</span><span class="ident" id="2049297"><a href="/os/exec.go.html#2047396">ProcAttr</a></span><span class="op" id="2049305">)</span>&nbsp;<span class="op" id="2049307">(</span><span class="ident" id="2049308">p</span>&nbsp;<span class="op" id="2049310">*</span><span class="ident" id="2049311"><a href="/os/exec.go.html#2046874">Process</a></span><span class="op" id="2049318">,</span>&nbsp;<span class="ident" id="2049320">err</span>&nbsp;<span class="builtintype" id="2049324">error</span><span class="op" id="2049329">)</span>&nbsp;<span class="op" id="2049331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2049334">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;SysProcAttr&nbsp;(ie.&nbsp;no&nbsp;Chroot&nbsp;or&nbsp;changed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2049391">//&nbsp;UID/GID),&nbsp;double-check&nbsp;existence&nbsp;of&nbsp;the&nbsp;directory&nbsp;we&nbsp;want</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2049453">//&nbsp;to&nbsp;chdir&nbsp;into.&nbsp;&nbsp;We&nbsp;can&nbsp;make&nbsp;the&nbsp;error&nbsp;clearer&nbsp;this&nbsp;way.</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049513">if</span>&nbsp;<span class="ident" id="2049516"><a href="/os/exec_posix.go.html#2049291">attr</a></span>&nbsp;<span class="op" id="2049521">!=</span>&nbsp;<span class="ident" id="2049524">nil</span>&nbsp;<span class="op" id="2049528">&amp;&amp;</span>&nbsp;<span class="ident" id="2049531"><a href="/os/exec_posix.go.html#2049291">attr</a></span><span class="op" id="2049535">.</span><span class="ident" id="2049536">Sys</span>&nbsp;<span class="op" id="2049540">==</span>&nbsp;<span class="ident" id="2049543">nil</span>&nbsp;<span class="op" id="2049547">&amp;&amp;</span>&nbsp;<span class="ident" id="2049550"><a href="/os/exec_posix.go.html#2049291">attr</a></span><span class="op" id="2049554">.</span><span class="ident" id="2049555">Dir</span>&nbsp;<span class="op" id="2049559">!=</span>&nbsp;<span class="string" id="2049562">&#34;&#34;</span>&nbsp;<span class="op" id="2049565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049569">if</span>&nbsp;<span class="ident" id="2049572">_</span><span class="op" id="2049573">,</span>&nbsp;<span class="ident" id="2049575">err</span>&nbsp;<span class="op" id="2049579">:=</span>&nbsp;<span class="ident" id="2049582"><a href="/os/file_unix.go.html#2068839">Stat</a></span><span class="op" id="2049586">(</span><span class="ident" id="2049587"><a href="/os/exec_posix.go.html#2049291">attr</a></span><span class="op" id="2049591">.</span><span class="ident" id="2049592">Dir</span><span class="op" id="2049595">)</span><span class="op" id="2049596">;</span>&nbsp;<span class="ident" id="2049598"><a href="/os/exec_posix.go.html#2049575">err</a></span>&nbsp;<span class="op" id="2049602">!=</span>&nbsp;<span class="ident" id="2049605">nil</span>&nbsp;<span class="op" id="2049609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049614">pe</span>&nbsp;<span class="op" id="2049617">:=</span>&nbsp;<span class="ident" id="2049620"><a href="/os/exec_posix.go.html#2049575">err</a></span><span class="op" id="2049623">.</span><span class="op" id="2049624">(</span><span class="op" id="2049625">*</span><span class="ident" id="2049626"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2049635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049640"><a href="/os/exec_posix.go.html#2049614">pe</a></span><span class="op" id="2049642">.</span><span class="ident" id="2049643">Op</span>&nbsp;<span class="op" id="2049646">=</span>&nbsp;<span class="string" id="2049648">&#34;chdir&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049659">return</span>&nbsp;<span class="ident" id="2049666">nil</span><span class="op" id="2049669">,</span>&nbsp;<span class="ident" id="2049671"><a href="/os/exec_posix.go.html#2049614">pe</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049683">sysattr</span>&nbsp;<span class="op" id="2049691">:=</span>&nbsp;<span class="op" id="2049694">&amp;</span><span class="ident" id="2049695"><a href="/os/exec_posix.go.html#2048996">syscall</a></span><span class="op" id="2049702">.</span><span class="ident" id="2049703">ProcAttr</span><span class="op" id="2049711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049715">Dir</span><span class="op" id="2049718">:</span>&nbsp;<span class="ident" id="2049720"><a href="/os/exec_posix.go.html#2049291">attr</a></span><span class="op" id="2049724">.</span><span class="ident" id="2049725">Dir</span><span class="op" id="2049728">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049732">Env</span><span class="op" id="2049735">:</span>&nbsp;<span class="ident" id="2049737"><a href="/os/exec_posix.go.html#2049291">attr</a></span><span class="op" id="2049741">.</span><span class="ident" id="2049742">Env</span><span class="op" id="2049745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049749">Sys</span><span class="op" id="2049752">:</span>&nbsp;<span class="ident" id="2049754"><a href="/os/exec_posix.go.html#2049291">attr</a></span><span class="op" id="2049758">.</span><span class="ident" id="2049759">Sys</span><span class="op" id="2049762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049768">if</span>&nbsp;<span class="ident" id="2049771"><a href="/os/exec_posix.go.html#2049683">sysattr</a></span><span class="op" id="2049778">.</span><span class="ident" id="2049779">Env</span>&nbsp;<span class="op" id="2049783">==</span>&nbsp;<span class="ident" id="2049786">nil</span>&nbsp;<span class="op" id="2049790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049794"><a href="/os/exec_posix.go.html#2049683">sysattr</a></span><span class="op" id="2049801">.</span><span class="ident" id="2049802">Env</span>&nbsp;<span class="op" id="2049806">=</span>&nbsp;<span class="ident" id="2049808"><a href="/os/env.go.html#2043670">Environ</a></span><span class="op" id="2049815">(</span><span class="op" id="2049816">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049822">for</span>&nbsp;<span class="ident" id="2049826">_</span><span class="op" id="2049827">,</span>&nbsp;<span class="ident" id="2049829">f</span>&nbsp;<span class="op" id="2049831">:=</span>&nbsp;<span class="keyword" id="2049834">range</span>&nbsp;<span class="ident" id="2049840"><a href="/os/exec_posix.go.html#2049291">attr</a></span><span class="op" id="2049844">.</span><span class="ident" id="2049845">Files</span>&nbsp;<span class="op" id="2049851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049855"><a href="/os/exec_posix.go.html#2049683">sysattr</a></span><span class="op" id="2049862">.</span><span class="ident" id="2049863">Files</span>&nbsp;<span class="op" id="2049869">=</span>&nbsp;<span class="builtinfunc" id="2049871">append</span><span class="op" id="2049877">(</span><span class="ident" id="2049878"><a href="/os/exec_posix.go.html#2049683">sysattr</a></span><span class="op" id="2049885">.</span><span class="ident" id="2049886">Files</span><span class="op" id="2049891">,</span>&nbsp;<span class="ident" id="2049893"><a href="/os/exec_posix.go.html#2049829">f</a></span><span class="op" id="2049894">.</span><span class="ident" id="2049895">Fd</span><span class="op" id="2049897">(</span><span class="op" id="2049898">)</span><span class="op" id="2049899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049906">pid</span><span class="op" id="2049909">,</span>&nbsp;<span class="ident" id="2049911">h</span><span class="op" id="2049912">,</span>&nbsp;<span class="ident" id="2049914">e</span>&nbsp;<span class="op" id="2049916">:=</span>&nbsp;<span class="ident" id="2049919"><a href="/os/exec_posix.go.html#2048996">syscall</a></span><span class="op" id="2049926">.</span><span class="ident" id="2049927">StartProcess</span><span class="op" id="2049939">(</span><span class="ident" id="2049940"><a href="/os/exec_posix.go.html#2049263">name</a></span><span class="op" id="2049944">,</span>&nbsp;<span class="ident" id="2049946"><a href="/os/exec_posix.go.html#2049276">argv</a></span><span class="op" id="2049950">,</span>&nbsp;<span class="ident" id="2049952"><a href="/os/exec_posix.go.html#2049683">sysattr</a></span><span class="op" id="2049959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049962">if</span>&nbsp;<span class="ident" id="2049965"><a href="/os/exec_posix.go.html#2049914">e</a></span>&nbsp;<span class="op" id="2049967">!=</span>&nbsp;<span class="ident" id="2049970">nil</span>&nbsp;<span class="op" id="2049974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049978">return</span>&nbsp;<span class="ident" id="2049985">nil</span><span class="op" id="2049988">,</span>&nbsp;<span class="op" id="2049990">&amp;</span><span class="ident" id="2049991"><a href="/os/error.go.html#2044260">PathError</a></span><span class="op" id="2050000">{</span><span class="string" id="2050001">&#34;fork/exec&#34;</span><span class="op" id="2050012">,</span>&nbsp;<span class="ident" id="2050014"><a href="/os/exec_posix.go.html#2049263">name</a></span><span class="op" id="2050018">,</span>&nbsp;<span class="ident" id="2050020"><a href="/os/exec_posix.go.html#2049914">e</a></span><span class="op" id="2050021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050027">return</span>&nbsp;<span class="ident" id="2050034"><a href="/os/exec.go.html#2047003">newProcess</a></span><span class="op" id="2050044">(</span><span class="ident" id="2050045"><a href="/os/exec_posix.go.html#2049906">pid</a></span><span class="op" id="2050048">,</span>&nbsp;<span class="ident" id="2050050"><a href="/os/exec_posix.go.html#2049911">h</a></span><span class="op" id="2050051">)</span><span class="op" id="2050052">,</span>&nbsp;<span class="ident" id="2050054">nil</span><br>
<span class="lineno">50</span><span class="op" id="2050058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2050061">func</span>&nbsp;<span class="op" id="2050066">(</span><span class="ident" id="2050067">p</span>&nbsp;<span class="op" id="2050069">*</span><span class="ident" id="2050070"><a href="/os/exec.go.html#2046874">Process</a></span><span class="op" id="2050077">)</span>&nbsp;<span class="ident" id="2050079">kill</span><span class="op" id="2050083">(</span><span class="op" id="2050084">)</span>&nbsp;<span class="builtintype" id="2050086">error</span>&nbsp;<span class="op" id="2050092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050095">return</span>&nbsp;<span class="ident" id="2050102"><a href="/os/exec_posix.go.html#2050067">p</a></span><span class="op" id="2050103">.</span><span class="ident" id="2050104">Signal</span><span class="op" id="2050110">(</span><span class="ident" id="2050111"><a href="/os/exec_posix.go.html#2049207">Kill</a></span><span class="op" id="2050115">)</span><br>
<span class="lineno"></span><span class="op" id="2050117">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="2050120">//&nbsp;ProcessState&nbsp;stores&nbsp;information&nbsp;about&nbsp;a&nbsp;process,&nbsp;as&nbsp;reported&nbsp;by&nbsp;Wait.</span><br>
<span class="lineno"></span><span class="keyword" id="2050193">type</span>&nbsp;<span class="ident" id="2050198">ProcessState</span>&nbsp;<span class="keyword" id="2050211">struct</span>&nbsp;<span class="op" id="2050218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050221">pid</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2050228">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2050247">//&nbsp;The&nbsp;process&#39;s&nbsp;id.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050269">status</span>&nbsp;<span class="ident" id="2050276"><a href="/os/exec_posix.go.html#2048996">syscall</a></span><span class="op" id="2050283">.</span><span class="ident" id="2050284">WaitStatus</span>&nbsp;<span class="comment" id="2050295">//&nbsp;System-dependent&nbsp;status&nbsp;info.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050329">rusage</span>&nbsp;<span class="op" id="2050336">*</span><span class="ident" id="2050337"><a href="/os/exec_posix.go.html#2048996">syscall</a></span><span class="op" id="2050344">.</span><span class="ident" id="2050345">Rusage</span><br>
<span class="lineno"></span><span class="op" id="2050352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2050355">//&nbsp;Pid&nbsp;returns&nbsp;the&nbsp;process&nbsp;id&nbsp;of&nbsp;the&nbsp;exited&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2050408">func</span>&nbsp;<span class="op" id="2050413">(</span><span class="ident" id="2050414">p</span>&nbsp;<span class="op" id="2050416">*</span><span class="ident" id="2050417"><a href="/os/exec_posix.go.html#2050198">ProcessState</a></span><span class="op" id="2050429">)</span>&nbsp;<span class="ident" id="2050431">Pid</span><span class="op" id="2050434">(</span><span class="op" id="2050435">)</span>&nbsp;<span class="builtintype" id="2050437">int</span>&nbsp;<span class="op" id="2050441">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050444">return</span>&nbsp;<span class="ident" id="2050451"><a href="/os/exec_posix.go.html#2050414">p</a></span><span class="op" id="2050452">.</span><span class="ident" id="2050453">pid</span><br>
<span class="lineno"></span><span class="op" id="2050457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2050460">func</span>&nbsp;<span class="op" id="2050465">(</span><span class="ident" id="2050466">p</span>&nbsp;<span class="op" id="2050468">*</span><span class="ident" id="2050469"><a href="/os/exec_posix.go.html#2050198">ProcessState</a></span><span class="op" id="2050481">)</span>&nbsp;<span class="ident" id="2050483">exited</span><span class="op" id="2050489">(</span><span class="op" id="2050490">)</span>&nbsp;<span class="builtintype" id="2050492">bool</span>&nbsp;<span class="op" id="2050497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050500">return</span>&nbsp;<span class="ident" id="2050507"><a href="/os/exec_posix.go.html#2050466">p</a></span><span class="op" id="2050508">.</span><span class="ident" id="2050509">status</span><span class="op" id="2050515">.</span><span class="ident" id="2050516">Exited</span><span class="op" id="2050522">(</span><span class="op" id="2050523">)</span><br>
<span class="lineno">70</span><span class="op" id="2050525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2050528">func</span>&nbsp;<span class="op" id="2050533">(</span><span class="ident" id="2050534">p</span>&nbsp;<span class="op" id="2050536">*</span><span class="ident" id="2050537"><a href="/os/exec_posix.go.html#2050198">ProcessState</a></span><span class="op" id="2050549">)</span>&nbsp;<span class="ident" id="2050551">success</span><span class="op" id="2050558">(</span><span class="op" id="2050559">)</span>&nbsp;<span class="builtintype" id="2050561">bool</span>&nbsp;<span class="op" id="2050566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050569">return</span>&nbsp;<span class="ident" id="2050576"><a href="/os/exec_posix.go.html#2050534">p</a></span><span class="op" id="2050577">.</span><span class="ident" id="2050578">status</span><span class="op" id="2050584">.</span><span class="ident" id="2050585">ExitStatus</span><span class="op" id="2050595">(</span><span class="op" id="2050596">)</span>&nbsp;<span class="op" id="2050598">==</span>&nbsp;<span class="num" id="2050601">0</span><br>
<span class="lineno"></span><span class="op" id="2050603">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="2050606">func</span>&nbsp;<span class="op" id="2050611">(</span><span class="ident" id="2050612">p</span>&nbsp;<span class="op" id="2050614">*</span><span class="ident" id="2050615"><a href="/os/exec_posix.go.html#2050198">ProcessState</a></span><span class="op" id="2050627">)</span>&nbsp;<span class="ident" id="2050629">sys</span><span class="op" id="2050632">(</span><span class="op" id="2050633">)</span>&nbsp;<span class="keyword" id="2050635">interface</span><span class="op" id="2050644">{</span><span class="op" id="2050645">}</span>&nbsp;<span class="op" id="2050647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050650">return</span>&nbsp;<span class="ident" id="2050657"><a href="/os/exec_posix.go.html#2050612">p</a></span><span class="op" id="2050658">.</span><span class="ident" id="2050659">status</span><br>
<span class="lineno"></span><span class="op" id="2050666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="2050669">func</span>&nbsp;<span class="op" id="2050674">(</span><span class="ident" id="2050675">p</span>&nbsp;<span class="op" id="2050677">*</span><span class="ident" id="2050678"><a href="/os/exec_posix.go.html#2050198">ProcessState</a></span><span class="op" id="2050690">)</span>&nbsp;<span class="ident" id="2050692">sysUsage</span><span class="op" id="2050700">(</span><span class="op" id="2050701">)</span>&nbsp;<span class="keyword" id="2050703">interface</span><span class="op" id="2050712">{</span><span class="op" id="2050713">}</span>&nbsp;<span class="op" id="2050715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050718">return</span>&nbsp;<span class="ident" id="2050725"><a href="/os/exec_posix.go.html#2050675">p</a></span><span class="op" id="2050726">.</span><span class="ident" id="2050727">rusage</span><br>
<span class="lineno"></span><span class="op" id="2050734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2050737">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;decimal&nbsp;string.</span><br>
<span class="lineno">85</span><span class="keyword" id="2050769">func</span>&nbsp;<span class="ident" id="2050774">itod</span><span class="op" id="2050778">(</span><span class="ident" id="2050779">i</span>&nbsp;<span class="builtintype" id="2050781">int</span><span class="op" id="2050784">)</span>&nbsp;<span class="builtintype" id="2050786">string</span>&nbsp;<span class="op" id="2050793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050796">if</span>&nbsp;<span class="ident" id="2050799"><a href="/os/exec_posix.go.html#2050779">i</a></span>&nbsp;<span class="op" id="2050801">==</span>&nbsp;<span class="num" id="2050804">0</span>&nbsp;<span class="op" id="2050806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050810">return</span>&nbsp;<span class="string" id="2050817">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050826">u</span>&nbsp;<span class="op" id="2050828">:=</span>&nbsp;<span class="ident" id="2050831">uint64</span><span class="op" id="2050837">(</span><span class="ident" id="2050838"><a href="/os/exec_posix.go.html#2050779">i</a></span><span class="op" id="2050839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050842">if</span>&nbsp;<span class="ident" id="2050845"><a href="/os/exec_posix.go.html#2050779">i</a></span>&nbsp;<span class="op" id="2050847">&lt;</span>&nbsp;<span class="num" id="2050849">0</span>&nbsp;<span class="op" id="2050851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050855"><a href="/os/exec_posix.go.html#2050826">u</a></span>&nbsp;<span class="op" id="2050857">=</span>&nbsp;<span class="op" id="2050859">-</span><span class="ident" id="2050860"><a href="/os/exec_posix.go.html#2050826">u</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050867">//&nbsp;Assemble&nbsp;decimal&nbsp;in&nbsp;reverse&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050906">var</span>&nbsp;<span class="ident" id="2050910">b</span>&nbsp;<span class="op" id="2050912">[</span><span class="num" id="2050913">32</span><span class="op" id="2050915">]</span><span class="builtintype" id="2050916">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050922">bp</span>&nbsp;<span class="op" id="2050925">:=</span>&nbsp;<span class="builtinfunc" id="2050928">len</span><span class="op" id="2050931">(</span><span class="ident" id="2050932"><a href="/os/exec_posix.go.html#2050910">b</a></span><span class="op" id="2050933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050936">for</span>&nbsp;<span class="op" id="2050940">;</span>&nbsp;<span class="ident" id="2050942"><a href="/os/exec_posix.go.html#2050826">u</a></span>&nbsp;<span class="op" id="2050944">&gt;</span>&nbsp;<span class="num" id="2050946">0</span><span class="op" id="2050947">;</span>&nbsp;<span class="ident" id="2050949"><a href="/os/exec_posix.go.html#2050826">u</a></span>&nbsp;<span class="op" id="2050951">/=</span>&nbsp;<span class="num" id="2050954">10</span>&nbsp;<span class="op" id="2050957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050961"><a href="/os/exec_posix.go.html#2050922">bp</a></span><span class="op" id="2050963">--</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050968"><a href="/os/exec_posix.go.html#2050910">b</a></span><span class="op" id="2050969">[</span><span class="ident" id="2050970"><a href="/os/exec_posix.go.html#2050922">bp</a></span><span class="op" id="2050972">]</span>&nbsp;<span class="op" id="2050974">=</span>&nbsp;<span class="builtintype" id="2050976">byte</span><span class="op" id="2050980">(</span><span class="ident" id="2050981"><a href="/os/exec_posix.go.html#2050826">u</a></span><span class="op" id="2050982">%</span><span class="num" id="2050983">10</span><span class="op" id="2050985">)</span>&nbsp;<span class="op" id="2050987">+</span>&nbsp;<span class="string" id="2050989">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050998">if</span>&nbsp;<span class="ident" id="2051001"><a href="/os/exec_posix.go.html#2050779">i</a></span>&nbsp;<span class="op" id="2051003">&lt;</span>&nbsp;<span class="num" id="2051005">0</span>&nbsp;<span class="op" id="2051007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051011"><a href="/os/exec_posix.go.html#2050922">bp</a></span><span class="op" id="2051013">--</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051018"><a href="/os/exec_posix.go.html#2050910">b</a></span><span class="op" id="2051019">[</span><span class="ident" id="2051020"><a href="/os/exec_posix.go.html#2050922">bp</a></span><span class="op" id="2051022">]</span>&nbsp;<span class="op" id="2051024">=</span>&nbsp;<span class="string" id="2051026">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051035">return</span>&nbsp;<span class="builtintype" id="2051042">string</span><span class="op" id="2051048">(</span><span class="ident" id="2051049"><a href="/os/exec_posix.go.html#2050910">b</a></span><span class="op" id="2051050">[</span><span class="ident" id="2051051"><a href="/os/exec_posix.go.html#2050922">bp</a></span><span class="op" id="2051053">:</span><span class="op" id="2051054">]</span><span class="op" id="2051055">)</span><br>
<span class="lineno"></span><span class="op" id="2051057">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="2051060">func</span>&nbsp;<span class="op" id="2051065">(</span><span class="ident" id="2051066">p</span>&nbsp;<span class="op" id="2051068">*</span><span class="ident" id="2051069"><a href="/os/exec_posix.go.html#2050198">ProcessState</a></span><span class="op" id="2051081">)</span>&nbsp;<span class="ident" id="2051083">String</span><span class="op" id="2051089">(</span><span class="op" id="2051090">)</span>&nbsp;<span class="builtintype" id="2051092">string</span>&nbsp;<span class="op" id="2051099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051102">if</span>&nbsp;<span class="ident" id="2051105"><a href="/os/exec_posix.go.html#2051066">p</a></span>&nbsp;<span class="op" id="2051107">==</span>&nbsp;<span class="ident" id="2051110">nil</span>&nbsp;<span class="op" id="2051114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051118">return</span>&nbsp;<span class="string" id="2051125">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051134">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051137">status</span>&nbsp;<span class="op" id="2051144">:=</span>&nbsp;<span class="ident" id="2051147"><a href="/os/exec_posix.go.html#2051066">p</a></span><span class="op" id="2051148">.</span><span class="ident" id="2051149">Sys</span><span class="op" id="2051152">(</span><span class="op" id="2051153">)</span><span class="op" id="2051154">.</span><span class="op" id="2051155">(</span><span class="ident" id="2051156"><a href="/os/exec_posix.go.html#2048996">syscall</a></span><span class="op" id="2051163">.</span><span class="ident" id="2051164">WaitStatus</span><span class="op" id="2051174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051177">res</span>&nbsp;<span class="op" id="2051181">:=</span>&nbsp;<span class="string" id="2051184">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051188">switch</span>&nbsp;<span class="op" id="2051195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051198">case</span>&nbsp;<span class="ident" id="2051203"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051209">.</span><span class="ident" id="2051210">Exited</span><span class="op" id="2051216">(</span><span class="op" id="2051217">)</span><span class="op" id="2051218">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051222"><a href="/os/exec_posix.go.html#2051177">res</a></span>&nbsp;<span class="op" id="2051226">=</span>&nbsp;<span class="string" id="2051228">&#34;exit&nbsp;status&nbsp;&#34;</span>&nbsp;<span class="op" id="2051243">+</span>&nbsp;<span class="ident" id="2051245"><a href="/os/exec_posix.go.html#2050774">itod</a></span><span class="op" id="2051249">(</span><span class="ident" id="2051250"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051256">.</span><span class="ident" id="2051257">ExitStatus</span><span class="op" id="2051267">(</span><span class="op" id="2051268">)</span><span class="op" id="2051269">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051272">case</span>&nbsp;<span class="ident" id="2051277"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051283">.</span><span class="ident" id="2051284">Signaled</span><span class="op" id="2051292">(</span><span class="op" id="2051293">)</span><span class="op" id="2051294">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051298"><a href="/os/exec_posix.go.html#2051177">res</a></span>&nbsp;<span class="op" id="2051302">=</span>&nbsp;<span class="string" id="2051304">&#34;signal:&nbsp;&#34;</span>&nbsp;<span class="op" id="2051315">+</span>&nbsp;<span class="ident" id="2051317"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051323">.</span><span class="ident" id="2051324">Signal</span><span class="op" id="2051330">(</span><span class="op" id="2051331">)</span><span class="op" id="2051332">.</span><span class="ident" id="2051333">String</span><span class="op" id="2051339">(</span><span class="op" id="2051340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051343">case</span>&nbsp;<span class="ident" id="2051348"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051354">.</span><span class="ident" id="2051355">Stopped</span><span class="op" id="2051362">(</span><span class="op" id="2051363">)</span><span class="op" id="2051364">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051368"><a href="/os/exec_posix.go.html#2051177">res</a></span>&nbsp;<span class="op" id="2051372">=</span>&nbsp;<span class="string" id="2051374">&#34;stop&nbsp;signal:&nbsp;&#34;</span>&nbsp;<span class="op" id="2051390">+</span>&nbsp;<span class="ident" id="2051392"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051398">.</span><span class="ident" id="2051399">StopSignal</span><span class="op" id="2051409">(</span><span class="op" id="2051410">)</span><span class="op" id="2051411">.</span><span class="ident" id="2051412">String</span><span class="op" id="2051418">(</span><span class="op" id="2051419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051423">if</span>&nbsp;<span class="ident" id="2051426"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051432">.</span><span class="ident" id="2051433">StopSignal</span><span class="op" id="2051443">(</span><span class="op" id="2051444">)</span>&nbsp;<span class="op" id="2051446">==</span>&nbsp;<span class="ident" id="2051449"><a href="/os/exec_posix.go.html#2048996">syscall</a></span><span class="op" id="2051456">.</span><span class="ident" id="2051457">SIGTRAP</span>&nbsp;<span class="op" id="2051465">&amp;&amp;</span>&nbsp;<span class="ident" id="2051468"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051474">.</span><span class="ident" id="2051475">TrapCause</span><span class="op" id="2051484">(</span><span class="op" id="2051485">)</span>&nbsp;<span class="op" id="2051487">!=</span>&nbsp;<span class="num" id="2051490">0</span>&nbsp;<span class="op" id="2051492">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051497"><a href="/os/exec_posix.go.html#2051177">res</a></span>&nbsp;<span class="op" id="2051501">+=</span>&nbsp;<span class="string" id="2051504">&#34;&nbsp;(trap&nbsp;&#34;</span>&nbsp;<span class="op" id="2051514">+</span>&nbsp;<span class="ident" id="2051516"><a href="/os/exec_posix.go.html#2050774">itod</a></span><span class="op" id="2051520">(</span><span class="ident" id="2051521"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051527">.</span><span class="ident" id="2051528">TrapCause</span><span class="op" id="2051537">(</span><span class="op" id="2051538">)</span><span class="op" id="2051539">)</span>&nbsp;<span class="op" id="2051541">+</span>&nbsp;<span class="string" id="2051543">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051552">case</span>&nbsp;<span class="ident" id="2051557"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051563">.</span><span class="ident" id="2051564">Continued</span><span class="op" id="2051573">(</span><span class="op" id="2051574">)</span><span class="op" id="2051575">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051579"><a href="/os/exec_posix.go.html#2051177">res</a></span>&nbsp;<span class="op" id="2051583">=</span>&nbsp;<span class="string" id="2051585">&#34;continued&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051598">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051601">if</span>&nbsp;<span class="ident" id="2051604"><a href="/os/exec_posix.go.html#2051137">status</a></span><span class="op" id="2051610">.</span><span class="ident" id="2051611">CoreDump</span><span class="op" id="2051619">(</span><span class="op" id="2051620">)</span>&nbsp;<span class="op" id="2051622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051626"><a href="/os/exec_posix.go.html#2051177">res</a></span>&nbsp;<span class="op" id="2051630">+=</span>&nbsp;<span class="string" id="2051633">&#34;&nbsp;(core&nbsp;dumped)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051654">return</span>&nbsp;<span class="ident" id="2051661"><a href="/os/exec_posix.go.html#2051177">res</a></span><br>
<span class="lineno"></span><span class="op" id="2051665">}</span>
</div>
</body>
</html>
