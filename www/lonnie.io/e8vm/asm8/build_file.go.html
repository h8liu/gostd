<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5797854">package</span>&nbsp;<span class="ident" id="5797862">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5797868">func</span>&nbsp;<span class="ident" id="5797873">buildFile</span><span class="op" id="5797882">(</span><span class="ident" id="5797883">b</span>&nbsp;<span class="op" id="5797885">*</span><span class="ident" id="5797886">builder</span><span class="op" id="5797893">,</span>&nbsp;<span class="ident" id="5797895">f</span>&nbsp;<span class="op" id="5797897">*</span><span class="ident" id="5797898">file</span><span class="op" id="5797902">)</span>&nbsp;<span class="op" id="5797904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5797907">b</span><span class="op" id="5797908">.</span><span class="ident" id="5797909">scope</span><span class="op" id="5797914">.</span><span class="ident" id="5797915">Push</span><span class="op" id="5797919">(</span><span class="op" id="5797920">)</span>&nbsp;<span class="comment" id="5797922">//&nbsp;file&nbsp;scope</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5797937">defer</span>&nbsp;<span class="ident" id="5797943">b</span><span class="op" id="5797944">.</span><span class="ident" id="5797945">scope</span><span class="op" id="5797950">.</span><span class="ident" id="5797951">Pop</span><span class="op" id="5797954">(</span><span class="op" id="5797955">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5797959">//&nbsp;TODO:&nbsp;import&nbsp;required&nbsp;packages,&nbsp;and&nbsp;add&nbsp;them&nbsp;into&nbsp;the&nbsp;symbol&nbsp;table</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5798031">pkg</span>&nbsp;<span class="op" id="5798035">:=</span>&nbsp;<span class="ident" id="5798038">b</span><span class="op" id="5798039">.</span><span class="ident" id="5798040">curPkg</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5798048">for</span>&nbsp;<span class="ident" id="5798052">_</span><span class="op" id="5798053">,</span>&nbsp;<span class="ident" id="5798055">fn</span>&nbsp;<span class="op" id="5798058">:=</span>&nbsp;<span class="keyword" id="5798061">range</span>&nbsp;<span class="ident" id="5798067">f</span><span class="op" id="5798068">.</span><span class="ident" id="5798069">Funcs</span>&nbsp;<span class="op" id="5798075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5798079">if</span>&nbsp;<span class="ident" id="5798082">obj</span>&nbsp;<span class="op" id="5798086">:=</span>&nbsp;<span class="ident" id="5798089">buildFunc</span><span class="op" id="5798098">(</span><span class="ident" id="5798099">b</span><span class="op" id="5798100">,</span>&nbsp;<span class="ident" id="5798102">fn</span><span class="op" id="5798104">)</span><span class="op" id="5798105">;</span>&nbsp;<span class="ident" id="5798107">obj</span>&nbsp;<span class="op" id="5798111">!=</span>&nbsp;<span class="ident" id="5798114">nil</span>&nbsp;<span class="op" id="5798118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5798123">pkg</span><span class="op" id="5798126">.</span><span class="ident" id="5798127">DefineFunc</span><span class="op" id="5798137">(</span><span class="ident" id="5798138">fn</span><span class="op" id="5798140">.</span><span class="ident" id="5798141">index</span><span class="op" id="5798146">,</span>&nbsp;<span class="ident" id="5798148">obj</span><span class="op" id="5798151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5798155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5798158">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5798162">for</span>&nbsp;<span class="ident" id="5798166">_</span><span class="op" id="5798167">,</span>&nbsp;<span class="ident" id="5798169">v</span>&nbsp;<span class="op" id="5798171">:=</span>&nbsp;<span class="keyword" id="5798174">range</span>&nbsp;<span class="ident" id="5798180">f</span><span class="op" id="5798181">.</span><span class="ident" id="5798182">Vars</span>&nbsp;<span class="op" id="5798187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5798191">if</span>&nbsp;<span class="ident" id="5798194">obj</span>&nbsp;<span class="op" id="5798198">:=</span>&nbsp;<span class="ident" id="5798201">buildVar</span><span class="op" id="5798209">(</span><span class="ident" id="5798210">b</span><span class="op" id="5798211">,</span>&nbsp;<span class="ident" id="5798213">v</span><span class="op" id="5798214">)</span><span class="op" id="5798215">;</span>&nbsp;<span class="ident" id="5798217">obj</span>&nbsp;<span class="op" id="5798221">!=</span>&nbsp;<span class="ident" id="5798224">nil</span>&nbsp;<span class="op" id="5798228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5798233">pkg</span><span class="op" id="5798236">.</span><span class="ident" id="5798237">DefineVar</span><span class="op" id="5798246">(</span><span class="ident" id="5798247">v</span><span class="op" id="5798248">.</span><span class="ident" id="5798249">index</span><span class="op" id="5798254">,</span>&nbsp;<span class="ident" id="5798256">obj</span><span class="op" id="5798259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5798263">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5798266">}</span><br>
<span class="lineno"></span><span class="op" id="5798268">}</span>
</div>
</body>
</html>
