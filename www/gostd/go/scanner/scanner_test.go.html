<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8366400">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8366455">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8366509">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8366560">package</span>&nbsp;<span class="ident" id="8366568">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8366577">import</span>&nbsp;<span class="op" id="8366584">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366587">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366599">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366612">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366618">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366635">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366646">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8366656">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8366659">var</span>&nbsp;<span class="ident" id="8366663">fset</span>&nbsp;<span class="op" id="8366668">=</span>&nbsp;<span class="ident" id="8366670">token</span><span class="op" id="8366675">.</span><span class="ident" id="8366676">NewFileSet</span><span class="op" id="8366686">(</span><span class="op" id="8366687">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8366690">const</span>&nbsp;<span class="comment" id="8366696">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="8366708">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366711">special</span>&nbsp;<span class="op" id="8366719">=</span>&nbsp;<span class="ident" id="8366721">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366727">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366736">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366746">keyword</span><br>
<span class="lineno"></span><span class="op" id="8366754">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8366757">func</span>&nbsp;<span class="ident" id="8366762">tokenclass</span><span class="op" id="8366772">(</span><span class="ident" id="8366773">tok</span>&nbsp;<span class="ident" id="8366777">token</span><span class="op" id="8366782">.</span><span class="ident" id="8366783">Token</span><span class="op" id="8366788">)</span>&nbsp;<span class="builtintype" id="8366790">int</span>&nbsp;<span class="op" id="8366794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8366797">switch</span>&nbsp;<span class="op" id="8366804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8366807">case</span>&nbsp;<span class="ident" id="8366812">tok</span><span class="op" id="8366815">.</span><span class="ident" id="8366816">IsLiteral</span><span class="op" id="8366825">(</span><span class="op" id="8366826">)</span><span class="op" id="8366827">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8366831">return</span>&nbsp;<span class="ident" id="8366838">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8366847">case</span>&nbsp;<span class="ident" id="8366852">tok</span><span class="op" id="8366855">.</span><span class="ident" id="8366856">IsOperator</span><span class="op" id="8366866">(</span><span class="op" id="8366867">)</span><span class="op" id="8366868">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8366872">return</span>&nbsp;<span class="ident" id="8366879">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8366889">case</span>&nbsp;<span class="ident" id="8366894">tok</span><span class="op" id="8366897">.</span><span class="ident" id="8366898">IsKeyword</span><span class="op" id="8366907">(</span><span class="op" id="8366908">)</span><span class="op" id="8366909">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8366913">return</span>&nbsp;<span class="ident" id="8366920">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8366932">return</span>&nbsp;<span class="ident" id="8366939">special</span><br>
<span class="lineno">35</span><span class="op" id="8366947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8366950">type</span>&nbsp;<span class="ident" id="8366955">elt</span>&nbsp;<span class="keyword" id="8366959">struct</span>&nbsp;<span class="op" id="8366966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366969">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8366975">token</span><span class="op" id="8366980">.</span><span class="ident" id="8366981">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366988">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8366994">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8367002">class</span>&nbsp;<span class="builtintype" id="8367008">int</span><br>
<span class="lineno"></span><span class="op" id="8367012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8367015">var</span>&nbsp;<span class="ident" id="8367019">tokens</span>&nbsp;<span class="op" id="8367026">=</span>&nbsp;<span class="op" id="8367028">[</span><span class="op" id="8367029">...</span><span class="op" id="8367032">]</span><span class="ident" id="8367033">elt</span><span class="op" id="8367036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8367039">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367058">{</span><span class="ident" id="8367059">token</span><span class="op" id="8367064">.</span><span class="ident" id="8367065">COMMENT</span><span class="op" id="8367072">,</span>&nbsp;<span class="string" id="8367074">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8367091">,</span>&nbsp;<span class="ident" id="8367093">special</span><span class="op" id="8367100">}</span><span class="op" id="8367101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367104">{</span><span class="ident" id="8367105">token</span><span class="op" id="8367110">.</span><span class="ident" id="8367111">COMMENT</span><span class="op" id="8367118">,</span>&nbsp;<span class="string" id="8367120">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="8367137">,</span>&nbsp;<span class="ident" id="8367139">special</span><span class="op" id="8367146">}</span><span class="op" id="8367147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367150">{</span><span class="ident" id="8367151">token</span><span class="op" id="8367156">.</span><span class="ident" id="8367157">COMMENT</span><span class="op" id="8367164">,</span>&nbsp;<span class="string" id="8367166">&#34;/*\r*/&#34;</span><span class="op" id="8367174">,</span>&nbsp;<span class="ident" id="8367176">special</span><span class="op" id="8367183">}</span><span class="op" id="8367184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367187">{</span><span class="ident" id="8367188">token</span><span class="op" id="8367193">.</span><span class="ident" id="8367194">COMMENT</span><span class="op" id="8367201">,</span>&nbsp;<span class="string" id="8367203">&#34;//\r\n&#34;</span><span class="op" id="8367211">,</span>&nbsp;<span class="ident" id="8367213">special</span><span class="op" id="8367220">}</span><span class="op" id="8367221">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8367225">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367265">{</span><span class="ident" id="8367266">token</span><span class="op" id="8367271">.</span><span class="ident" id="8367272">IDENT</span><span class="op" id="8367277">,</span>&nbsp;<span class="string" id="8367279">&#34;foobar&#34;</span><span class="op" id="8367287">,</span>&nbsp;<span class="ident" id="8367289">literal</span><span class="op" id="8367296">}</span><span class="op" id="8367297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367300">{</span><span class="ident" id="8367301">token</span><span class="op" id="8367306">.</span><span class="ident" id="8367307">IDENT</span><span class="op" id="8367312">,</span>&nbsp;<span class="string" id="8367314">&#34;a۰۱۸&#34;</span><span class="op" id="8367323">,</span>&nbsp;<span class="ident" id="8367325">literal</span><span class="op" id="8367332">}</span><span class="op" id="8367333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367336">{</span><span class="ident" id="8367337">token</span><span class="op" id="8367342">.</span><span class="ident" id="8367343">IDENT</span><span class="op" id="8367348">,</span>&nbsp;<span class="string" id="8367350">&#34;foo६४&#34;</span><span class="op" id="8367361">,</span>&nbsp;<span class="ident" id="8367363">literal</span><span class="op" id="8367370">}</span><span class="op" id="8367371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367374">{</span><span class="ident" id="8367375">token</span><span class="op" id="8367380">.</span><span class="ident" id="8367381">IDENT</span><span class="op" id="8367386">,</span>&nbsp;<span class="string" id="8367388">&#34;bar９８７６&#34;</span><span class="op" id="8367405">,</span>&nbsp;<span class="ident" id="8367407">literal</span><span class="op" id="8367414">}</span><span class="op" id="8367415">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367418">{</span><span class="ident" id="8367419">token</span><span class="op" id="8367424">.</span><span class="ident" id="8367425">IDENT</span><span class="op" id="8367430">,</span>&nbsp;<span class="string" id="8367432">&#34;ŝ&#34;</span><span class="op" id="8367436">,</span>&nbsp;<span class="ident" id="8367438">literal</span><span class="op" id="8367445">}</span><span class="op" id="8367446">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367451">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367476">{</span><span class="ident" id="8367477">token</span><span class="op" id="8367482">.</span><span class="ident" id="8367483">IDENT</span><span class="op" id="8367488">,</span>&nbsp;<span class="string" id="8367490">&#34;ŝfoo&#34;</span><span class="op" id="8367497">,</span>&nbsp;<span class="ident" id="8367499">literal</span><span class="op" id="8367506">}</span><span class="op" id="8367507">,</span>&nbsp;<span class="comment" id="8367509">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367534">{</span><span class="ident" id="8367535">token</span><span class="op" id="8367540">.</span><span class="ident" id="8367541">INT</span><span class="op" id="8367544">,</span>&nbsp;<span class="string" id="8367546">&#34;0&#34;</span><span class="op" id="8367549">,</span>&nbsp;<span class="ident" id="8367551">literal</span><span class="op" id="8367558">}</span><span class="op" id="8367559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367562">{</span><span class="ident" id="8367563">token</span><span class="op" id="8367568">.</span><span class="ident" id="8367569">INT</span><span class="op" id="8367572">,</span>&nbsp;<span class="string" id="8367574">&#34;1&#34;</span><span class="op" id="8367577">,</span>&nbsp;<span class="ident" id="8367579">literal</span><span class="op" id="8367586">}</span><span class="op" id="8367587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367590">{</span><span class="ident" id="8367591">token</span><span class="op" id="8367596">.</span><span class="ident" id="8367597">INT</span><span class="op" id="8367600">,</span>&nbsp;<span class="string" id="8367602">&#34;123456789012345678890&#34;</span><span class="op" id="8367625">,</span>&nbsp;<span class="ident" id="8367627">literal</span><span class="op" id="8367634">}</span><span class="op" id="8367635">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367638">{</span><span class="ident" id="8367639">token</span><span class="op" id="8367644">.</span><span class="ident" id="8367645">INT</span><span class="op" id="8367648">,</span>&nbsp;<span class="string" id="8367650">&#34;01234567&#34;</span><span class="op" id="8367660">,</span>&nbsp;<span class="ident" id="8367662">literal</span><span class="op" id="8367669">}</span><span class="op" id="8367670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367673">{</span><span class="ident" id="8367674">token</span><span class="op" id="8367679">.</span><span class="ident" id="8367680">INT</span><span class="op" id="8367683">,</span>&nbsp;<span class="string" id="8367685">&#34;0xcafebabe&#34;</span><span class="op" id="8367697">,</span>&nbsp;<span class="ident" id="8367699">literal</span><span class="op" id="8367706">}</span><span class="op" id="8367707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367710">{</span><span class="ident" id="8367711">token</span><span class="op" id="8367716">.</span><span class="ident" id="8367717">FLOAT</span><span class="op" id="8367722">,</span>&nbsp;<span class="string" id="8367724">&#34;0.&#34;</span><span class="op" id="8367728">,</span>&nbsp;<span class="ident" id="8367730">literal</span><span class="op" id="8367737">}</span><span class="op" id="8367738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367741">{</span><span class="ident" id="8367742">token</span><span class="op" id="8367747">.</span><span class="ident" id="8367748">FLOAT</span><span class="op" id="8367753">,</span>&nbsp;<span class="string" id="8367755">&#34;.0&#34;</span><span class="op" id="8367759">,</span>&nbsp;<span class="ident" id="8367761">literal</span><span class="op" id="8367768">}</span><span class="op" id="8367769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367772">{</span><span class="ident" id="8367773">token</span><span class="op" id="8367778">.</span><span class="ident" id="8367779">FLOAT</span><span class="op" id="8367784">,</span>&nbsp;<span class="string" id="8367786">&#34;3.14159265&#34;</span><span class="op" id="8367798">,</span>&nbsp;<span class="ident" id="8367800">literal</span><span class="op" id="8367807">}</span><span class="op" id="8367808">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367811">{</span><span class="ident" id="8367812">token</span><span class="op" id="8367817">.</span><span class="ident" id="8367818">FLOAT</span><span class="op" id="8367823">,</span>&nbsp;<span class="string" id="8367825">&#34;1e0&#34;</span><span class="op" id="8367830">,</span>&nbsp;<span class="ident" id="8367832">literal</span><span class="op" id="8367839">}</span><span class="op" id="8367840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367843">{</span><span class="ident" id="8367844">token</span><span class="op" id="8367849">.</span><span class="ident" id="8367850">FLOAT</span><span class="op" id="8367855">,</span>&nbsp;<span class="string" id="8367857">&#34;1e+100&#34;</span><span class="op" id="8367865">,</span>&nbsp;<span class="ident" id="8367867">literal</span><span class="op" id="8367874">}</span><span class="op" id="8367875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367878">{</span><span class="ident" id="8367879">token</span><span class="op" id="8367884">.</span><span class="ident" id="8367885">FLOAT</span><span class="op" id="8367890">,</span>&nbsp;<span class="string" id="8367892">&#34;1e-100&#34;</span><span class="op" id="8367900">,</span>&nbsp;<span class="ident" id="8367902">literal</span><span class="op" id="8367909">}</span><span class="op" id="8367910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367913">{</span><span class="ident" id="8367914">token</span><span class="op" id="8367919">.</span><span class="ident" id="8367920">FLOAT</span><span class="op" id="8367925">,</span>&nbsp;<span class="string" id="8367927">&#34;2.71828e-1000&#34;</span><span class="op" id="8367942">,</span>&nbsp;<span class="ident" id="8367944">literal</span><span class="op" id="8367951">}</span><span class="op" id="8367952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367955">{</span><span class="ident" id="8367956">token</span><span class="op" id="8367961">.</span><span class="ident" id="8367962">IMAG</span><span class="op" id="8367966">,</span>&nbsp;<span class="string" id="8367968">&#34;0i&#34;</span><span class="op" id="8367972">,</span>&nbsp;<span class="ident" id="8367974">literal</span><span class="op" id="8367981">}</span><span class="op" id="8367982">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367985">{</span><span class="ident" id="8367986">token</span><span class="op" id="8367991">.</span><span class="ident" id="8367992">IMAG</span><span class="op" id="8367996">,</span>&nbsp;<span class="string" id="8367998">&#34;1i&#34;</span><span class="op" id="8368002">,</span>&nbsp;<span class="ident" id="8368004">literal</span><span class="op" id="8368011">}</span><span class="op" id="8368012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368015">{</span><span class="ident" id="8368016">token</span><span class="op" id="8368021">.</span><span class="ident" id="8368022">IMAG</span><span class="op" id="8368026">,</span>&nbsp;<span class="string" id="8368028">&#34;012345678901234567889i&#34;</span><span class="op" id="8368052">,</span>&nbsp;<span class="ident" id="8368054">literal</span><span class="op" id="8368061">}</span><span class="op" id="8368062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368065">{</span><span class="ident" id="8368066">token</span><span class="op" id="8368071">.</span><span class="ident" id="8368072">IMAG</span><span class="op" id="8368076">,</span>&nbsp;<span class="string" id="8368078">&#34;123456789012345678890i&#34;</span><span class="op" id="8368102">,</span>&nbsp;<span class="ident" id="8368104">literal</span><span class="op" id="8368111">}</span><span class="op" id="8368112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368115">{</span><span class="ident" id="8368116">token</span><span class="op" id="8368121">.</span><span class="ident" id="8368122">IMAG</span><span class="op" id="8368126">,</span>&nbsp;<span class="string" id="8368128">&#34;0.i&#34;</span><span class="op" id="8368133">,</span>&nbsp;<span class="ident" id="8368135">literal</span><span class="op" id="8368142">}</span><span class="op" id="8368143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368146">{</span><span class="ident" id="8368147">token</span><span class="op" id="8368152">.</span><span class="ident" id="8368153">IMAG</span><span class="op" id="8368157">,</span>&nbsp;<span class="string" id="8368159">&#34;.0i&#34;</span><span class="op" id="8368164">,</span>&nbsp;<span class="ident" id="8368166">literal</span><span class="op" id="8368173">}</span><span class="op" id="8368174">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368177">{</span><span class="ident" id="8368178">token</span><span class="op" id="8368183">.</span><span class="ident" id="8368184">IMAG</span><span class="op" id="8368188">,</span>&nbsp;<span class="string" id="8368190">&#34;3.14159265i&#34;</span><span class="op" id="8368203">,</span>&nbsp;<span class="ident" id="8368205">literal</span><span class="op" id="8368212">}</span><span class="op" id="8368213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368216">{</span><span class="ident" id="8368217">token</span><span class="op" id="8368222">.</span><span class="ident" id="8368223">IMAG</span><span class="op" id="8368227">,</span>&nbsp;<span class="string" id="8368229">&#34;1e0i&#34;</span><span class="op" id="8368235">,</span>&nbsp;<span class="ident" id="8368237">literal</span><span class="op" id="8368244">}</span><span class="op" id="8368245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368248">{</span><span class="ident" id="8368249">token</span><span class="op" id="8368254">.</span><span class="ident" id="8368255">IMAG</span><span class="op" id="8368259">,</span>&nbsp;<span class="string" id="8368261">&#34;1e+100i&#34;</span><span class="op" id="8368270">,</span>&nbsp;<span class="ident" id="8368272">literal</span><span class="op" id="8368279">}</span><span class="op" id="8368280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368283">{</span><span class="ident" id="8368284">token</span><span class="op" id="8368289">.</span><span class="ident" id="8368290">IMAG</span><span class="op" id="8368294">,</span>&nbsp;<span class="string" id="8368296">&#34;1e-100i&#34;</span><span class="op" id="8368305">,</span>&nbsp;<span class="ident" id="8368307">literal</span><span class="op" id="8368314">}</span><span class="op" id="8368315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368318">{</span><span class="ident" id="8368319">token</span><span class="op" id="8368324">.</span><span class="ident" id="8368325">IMAG</span><span class="op" id="8368329">,</span>&nbsp;<span class="string" id="8368331">&#34;2.71828e-1000i&#34;</span><span class="op" id="8368347">,</span>&nbsp;<span class="ident" id="8368349">literal</span><span class="op" id="8368356">}</span><span class="op" id="8368357">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368360">{</span><span class="ident" id="8368361">token</span><span class="op" id="8368366">.</span><span class="ident" id="8368367">CHAR</span><span class="op" id="8368371">,</span>&nbsp;<span class="string" id="8368373">&#34;&#39;a&#39;&#34;</span><span class="op" id="8368378">,</span>&nbsp;<span class="ident" id="8368380">literal</span><span class="op" id="8368387">}</span><span class="op" id="8368388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368391">{</span><span class="ident" id="8368392">token</span><span class="op" id="8368397">.</span><span class="ident" id="8368398">CHAR</span><span class="op" id="8368402">,</span>&nbsp;<span class="string" id="8368404">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="8368413">,</span>&nbsp;<span class="ident" id="8368415">literal</span><span class="op" id="8368422">}</span><span class="op" id="8368423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368426">{</span><span class="ident" id="8368427">token</span><span class="op" id="8368432">.</span><span class="ident" id="8368433">CHAR</span><span class="op" id="8368437">,</span>&nbsp;<span class="string" id="8368439">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="8368448">,</span>&nbsp;<span class="ident" id="8368450">literal</span><span class="op" id="8368457">}</span><span class="op" id="8368458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368461">{</span><span class="ident" id="8368462">token</span><span class="op" id="8368467">.</span><span class="ident" id="8368468">CHAR</span><span class="op" id="8368472">,</span>&nbsp;<span class="string" id="8368474">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="8368485">,</span>&nbsp;<span class="ident" id="8368487">literal</span><span class="op" id="8368494">}</span><span class="op" id="8368495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368498">{</span><span class="ident" id="8368499">token</span><span class="op" id="8368504">.</span><span class="ident" id="8368505">CHAR</span><span class="op" id="8368509">,</span>&nbsp;<span class="string" id="8368511">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="8368526">,</span>&nbsp;<span class="ident" id="8368528">literal</span><span class="op" id="8368535">}</span><span class="op" id="8368536">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368539">{</span><span class="ident" id="8368540">token</span><span class="op" id="8368545">.</span><span class="ident" id="8368546">STRING</span><span class="op" id="8368552">,</span>&nbsp;<span class="string" id="8368554">&#34;`foobar`&#34;</span><span class="op" id="8368564">,</span>&nbsp;<span class="ident" id="8368566">literal</span><span class="op" id="8368573">}</span><span class="op" id="8368574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368577">{</span><span class="ident" id="8368578">token</span><span class="op" id="8368583">.</span><span class="ident" id="8368584">STRING</span><span class="op" id="8368590">,</span>&nbsp;<span class="string" id="8368592">&#34;`&#34;</span>&nbsp;<span class="op" id="8368596">+</span>&nbsp;<span class="string" id="8368598">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="8368633">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368637">&#34;`&#34;</span><span class="op" id="8368640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8368644">literal</span><span class="op" id="8368651">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368654">}</span><span class="op" id="8368655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368658">{</span><span class="ident" id="8368659">token</span><span class="op" id="8368664">.</span><span class="ident" id="8368665">STRING</span><span class="op" id="8368671">,</span>&nbsp;<span class="string" id="8368673">&#34;`\r`&#34;</span><span class="op" id="8368679">,</span>&nbsp;<span class="ident" id="8368681">literal</span><span class="op" id="8368688">}</span><span class="op" id="8368689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368692">{</span><span class="ident" id="8368693">token</span><span class="op" id="8368698">.</span><span class="ident" id="8368699">STRING</span><span class="op" id="8368705">,</span>&nbsp;<span class="string" id="8368707">&#34;`foo\r\nbar`&#34;</span><span class="op" id="8368721">,</span>&nbsp;<span class="ident" id="8368723">literal</span><span class="op" id="8368730">}</span><span class="op" id="8368731">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8368735">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368764">{</span><span class="ident" id="8368765">token</span><span class="op" id="8368770">.</span><span class="ident" id="8368771">ADD</span><span class="op" id="8368774">,</span>&nbsp;<span class="string" id="8368776">&#34;+&#34;</span><span class="op" id="8368779">,</span>&nbsp;<span class="ident" id="8368781">operator</span><span class="op" id="8368789">}</span><span class="op" id="8368790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368793">{</span><span class="ident" id="8368794">token</span><span class="op" id="8368799">.</span><span class="ident" id="8368800">SUB</span><span class="op" id="8368803">,</span>&nbsp;<span class="string" id="8368805">&#34;-&#34;</span><span class="op" id="8368808">,</span>&nbsp;<span class="ident" id="8368810">operator</span><span class="op" id="8368818">}</span><span class="op" id="8368819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368822">{</span><span class="ident" id="8368823">token</span><span class="op" id="8368828">.</span><span class="ident" id="8368829">MUL</span><span class="op" id="8368832">,</span>&nbsp;<span class="string" id="8368834">&#34;*&#34;</span><span class="op" id="8368837">,</span>&nbsp;<span class="ident" id="8368839">operator</span><span class="op" id="8368847">}</span><span class="op" id="8368848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368851">{</span><span class="ident" id="8368852">token</span><span class="op" id="8368857">.</span><span class="ident" id="8368858">QUO</span><span class="op" id="8368861">,</span>&nbsp;<span class="string" id="8368863">&#34;/&#34;</span><span class="op" id="8368866">,</span>&nbsp;<span class="ident" id="8368868">operator</span><span class="op" id="8368876">}</span><span class="op" id="8368877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368880">{</span><span class="ident" id="8368881">token</span><span class="op" id="8368886">.</span><span class="ident" id="8368887">REM</span><span class="op" id="8368890">,</span>&nbsp;<span class="string" id="8368892">&#34;%&#34;</span><span class="op" id="8368895">,</span>&nbsp;<span class="ident" id="8368897">operator</span><span class="op" id="8368905">}</span><span class="op" id="8368906">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368910">{</span><span class="ident" id="8368911">token</span><span class="op" id="8368916">.</span><span class="ident" id="8368917">AND</span><span class="op" id="8368920">,</span>&nbsp;<span class="string" id="8368922">&#34;&amp;&#34;</span><span class="op" id="8368925">,</span>&nbsp;<span class="ident" id="8368927">operator</span><span class="op" id="8368935">}</span><span class="op" id="8368936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368939">{</span><span class="ident" id="8368940">token</span><span class="op" id="8368945">.</span><span class="ident" id="8368946">OR</span><span class="op" id="8368948">,</span>&nbsp;<span class="string" id="8368950">&#34;|&#34;</span><span class="op" id="8368953">,</span>&nbsp;<span class="ident" id="8368955">operator</span><span class="op" id="8368963">}</span><span class="op" id="8368964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368967">{</span><span class="ident" id="8368968">token</span><span class="op" id="8368973">.</span><span class="ident" id="8368974">XOR</span><span class="op" id="8368977">,</span>&nbsp;<span class="string" id="8368979">&#34;^&#34;</span><span class="op" id="8368982">,</span>&nbsp;<span class="ident" id="8368984">operator</span><span class="op" id="8368992">}</span><span class="op" id="8368993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368996">{</span><span class="ident" id="8368997">token</span><span class="op" id="8369002">.</span><span class="ident" id="8369003">SHL</span><span class="op" id="8369006">,</span>&nbsp;<span class="string" id="8369008">&#34;&lt;&lt;&#34;</span><span class="op" id="8369012">,</span>&nbsp;<span class="ident" id="8369014">operator</span><span class="op" id="8369022">}</span><span class="op" id="8369023">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369026">{</span><span class="ident" id="8369027">token</span><span class="op" id="8369032">.</span><span class="ident" id="8369033">SHR</span><span class="op" id="8369036">,</span>&nbsp;<span class="string" id="8369038">&#34;&gt;&gt;&#34;</span><span class="op" id="8369042">,</span>&nbsp;<span class="ident" id="8369044">operator</span><span class="op" id="8369052">}</span><span class="op" id="8369053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369056">{</span><span class="ident" id="8369057">token</span><span class="op" id="8369062">.</span><span class="ident" id="8369063">AND_NOT</span><span class="op" id="8369070">,</span>&nbsp;<span class="string" id="8369072">&#34;&amp;^&#34;</span><span class="op" id="8369076">,</span>&nbsp;<span class="ident" id="8369078">operator</span><span class="op" id="8369086">}</span><span class="op" id="8369087">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369091">{</span><span class="ident" id="8369092">token</span><span class="op" id="8369097">.</span><span class="ident" id="8369098">ADD_ASSIGN</span><span class="op" id="8369108">,</span>&nbsp;<span class="string" id="8369110">&#34;+=&#34;</span><span class="op" id="8369114">,</span>&nbsp;<span class="ident" id="8369116">operator</span><span class="op" id="8369124">}</span><span class="op" id="8369125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369128">{</span><span class="ident" id="8369129">token</span><span class="op" id="8369134">.</span><span class="ident" id="8369135">SUB_ASSIGN</span><span class="op" id="8369145">,</span>&nbsp;<span class="string" id="8369147">&#34;-=&#34;</span><span class="op" id="8369151">,</span>&nbsp;<span class="ident" id="8369153">operator</span><span class="op" id="8369161">}</span><span class="op" id="8369162">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369165">{</span><span class="ident" id="8369166">token</span><span class="op" id="8369171">.</span><span class="ident" id="8369172">MUL_ASSIGN</span><span class="op" id="8369182">,</span>&nbsp;<span class="string" id="8369184">&#34;*=&#34;</span><span class="op" id="8369188">,</span>&nbsp;<span class="ident" id="8369190">operator</span><span class="op" id="8369198">}</span><span class="op" id="8369199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369202">{</span><span class="ident" id="8369203">token</span><span class="op" id="8369208">.</span><span class="ident" id="8369209">QUO_ASSIGN</span><span class="op" id="8369219">,</span>&nbsp;<span class="string" id="8369221">&#34;/=&#34;</span><span class="op" id="8369225">,</span>&nbsp;<span class="ident" id="8369227">operator</span><span class="op" id="8369235">}</span><span class="op" id="8369236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369239">{</span><span class="ident" id="8369240">token</span><span class="op" id="8369245">.</span><span class="ident" id="8369246">REM_ASSIGN</span><span class="op" id="8369256">,</span>&nbsp;<span class="string" id="8369258">&#34;%=&#34;</span><span class="op" id="8369262">,</span>&nbsp;<span class="ident" id="8369264">operator</span><span class="op" id="8369272">}</span><span class="op" id="8369273">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369277">{</span><span class="ident" id="8369278">token</span><span class="op" id="8369283">.</span><span class="ident" id="8369284">AND_ASSIGN</span><span class="op" id="8369294">,</span>&nbsp;<span class="string" id="8369296">&#34;&amp;=&#34;</span><span class="op" id="8369300">,</span>&nbsp;<span class="ident" id="8369302">operator</span><span class="op" id="8369310">}</span><span class="op" id="8369311">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369314">{</span><span class="ident" id="8369315">token</span><span class="op" id="8369320">.</span><span class="ident" id="8369321">OR_ASSIGN</span><span class="op" id="8369330">,</span>&nbsp;<span class="string" id="8369332">&#34;|=&#34;</span><span class="op" id="8369336">,</span>&nbsp;<span class="ident" id="8369338">operator</span><span class="op" id="8369346">}</span><span class="op" id="8369347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369350">{</span><span class="ident" id="8369351">token</span><span class="op" id="8369356">.</span><span class="ident" id="8369357">XOR_ASSIGN</span><span class="op" id="8369367">,</span>&nbsp;<span class="string" id="8369369">&#34;^=&#34;</span><span class="op" id="8369373">,</span>&nbsp;<span class="ident" id="8369375">operator</span><span class="op" id="8369383">}</span><span class="op" id="8369384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369387">{</span><span class="ident" id="8369388">token</span><span class="op" id="8369393">.</span><span class="ident" id="8369394">SHL_ASSIGN</span><span class="op" id="8369404">,</span>&nbsp;<span class="string" id="8369406">&#34;&lt;&lt;=&#34;</span><span class="op" id="8369411">,</span>&nbsp;<span class="ident" id="8369413">operator</span><span class="op" id="8369421">}</span><span class="op" id="8369422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369425">{</span><span class="ident" id="8369426">token</span><span class="op" id="8369431">.</span><span class="ident" id="8369432">SHR_ASSIGN</span><span class="op" id="8369442">,</span>&nbsp;<span class="string" id="8369444">&#34;&gt;&gt;=&#34;</span><span class="op" id="8369449">,</span>&nbsp;<span class="ident" id="8369451">operator</span><span class="op" id="8369459">}</span><span class="op" id="8369460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369463">{</span><span class="ident" id="8369464">token</span><span class="op" id="8369469">.</span><span class="ident" id="8369470">AND_NOT_ASSIGN</span><span class="op" id="8369484">,</span>&nbsp;<span class="string" id="8369486">&#34;&amp;^=&#34;</span><span class="op" id="8369491">,</span>&nbsp;<span class="ident" id="8369493">operator</span><span class="op" id="8369501">}</span><span class="op" id="8369502">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369506">{</span><span class="ident" id="8369507">token</span><span class="op" id="8369512">.</span><span class="ident" id="8369513">LAND</span><span class="op" id="8369517">,</span>&nbsp;<span class="string" id="8369519">&#34;&amp;&amp;&#34;</span><span class="op" id="8369523">,</span>&nbsp;<span class="ident" id="8369525">operator</span><span class="op" id="8369533">}</span><span class="op" id="8369534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369537">{</span><span class="ident" id="8369538">token</span><span class="op" id="8369543">.</span><span class="ident" id="8369544">LOR</span><span class="op" id="8369547">,</span>&nbsp;<span class="string" id="8369549">&#34;||&#34;</span><span class="op" id="8369553">,</span>&nbsp;<span class="ident" id="8369555">operator</span><span class="op" id="8369563">}</span><span class="op" id="8369564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369567">{</span><span class="ident" id="8369568">token</span><span class="op" id="8369573">.</span><span class="ident" id="8369574">ARROW</span><span class="op" id="8369579">,</span>&nbsp;<span class="string" id="8369581">&#34;&lt;-&#34;</span><span class="op" id="8369585">,</span>&nbsp;<span class="ident" id="8369587">operator</span><span class="op" id="8369595">}</span><span class="op" id="8369596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369599">{</span><span class="ident" id="8369600">token</span><span class="op" id="8369605">.</span><span class="ident" id="8369606">INC</span><span class="op" id="8369609">,</span>&nbsp;<span class="string" id="8369611">&#34;++&#34;</span><span class="op" id="8369615">,</span>&nbsp;<span class="ident" id="8369617">operator</span><span class="op" id="8369625">}</span><span class="op" id="8369626">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369629">{</span><span class="ident" id="8369630">token</span><span class="op" id="8369635">.</span><span class="ident" id="8369636">DEC</span><span class="op" id="8369639">,</span>&nbsp;<span class="string" id="8369641">&#34;--&#34;</span><span class="op" id="8369645">,</span>&nbsp;<span class="ident" id="8369647">operator</span><span class="op" id="8369655">}</span><span class="op" id="8369656">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369660">{</span><span class="ident" id="8369661">token</span><span class="op" id="8369666">.</span><span class="ident" id="8369667">EQL</span><span class="op" id="8369670">,</span>&nbsp;<span class="string" id="8369672">&#34;==&#34;</span><span class="op" id="8369676">,</span>&nbsp;<span class="ident" id="8369678">operator</span><span class="op" id="8369686">}</span><span class="op" id="8369687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369690">{</span><span class="ident" id="8369691">token</span><span class="op" id="8369696">.</span><span class="ident" id="8369697">LSS</span><span class="op" id="8369700">,</span>&nbsp;<span class="string" id="8369702">&#34;&lt;&#34;</span><span class="op" id="8369705">,</span>&nbsp;<span class="ident" id="8369707">operator</span><span class="op" id="8369715">}</span><span class="op" id="8369716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369719">{</span><span class="ident" id="8369720">token</span><span class="op" id="8369725">.</span><span class="ident" id="8369726">GTR</span><span class="op" id="8369729">,</span>&nbsp;<span class="string" id="8369731">&#34;&gt;&#34;</span><span class="op" id="8369734">,</span>&nbsp;<span class="ident" id="8369736">operator</span><span class="op" id="8369744">}</span><span class="op" id="8369745">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369748">{</span><span class="ident" id="8369749">token</span><span class="op" id="8369754">.</span><span class="ident" id="8369755">ASSIGN</span><span class="op" id="8369761">,</span>&nbsp;<span class="string" id="8369763">&#34;=&#34;</span><span class="op" id="8369766">,</span>&nbsp;<span class="ident" id="8369768">operator</span><span class="op" id="8369776">}</span><span class="op" id="8369777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369780">{</span><span class="ident" id="8369781">token</span><span class="op" id="8369786">.</span><span class="ident" id="8369787">NOT</span><span class="op" id="8369790">,</span>&nbsp;<span class="string" id="8369792">&#34;!&#34;</span><span class="op" id="8369795">,</span>&nbsp;<span class="ident" id="8369797">operator</span><span class="op" id="8369805">}</span><span class="op" id="8369806">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369810">{</span><span class="ident" id="8369811">token</span><span class="op" id="8369816">.</span><span class="ident" id="8369817">NEQ</span><span class="op" id="8369820">,</span>&nbsp;<span class="string" id="8369822">&#34;!=&#34;</span><span class="op" id="8369826">,</span>&nbsp;<span class="ident" id="8369828">operator</span><span class="op" id="8369836">}</span><span class="op" id="8369837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369840">{</span><span class="ident" id="8369841">token</span><span class="op" id="8369846">.</span><span class="ident" id="8369847">LEQ</span><span class="op" id="8369850">,</span>&nbsp;<span class="string" id="8369852">&#34;&lt;=&#34;</span><span class="op" id="8369856">,</span>&nbsp;<span class="ident" id="8369858">operator</span><span class="op" id="8369866">}</span><span class="op" id="8369867">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369870">{</span><span class="ident" id="8369871">token</span><span class="op" id="8369876">.</span><span class="ident" id="8369877">GEQ</span><span class="op" id="8369880">,</span>&nbsp;<span class="string" id="8369882">&#34;&gt;=&#34;</span><span class="op" id="8369886">,</span>&nbsp;<span class="ident" id="8369888">operator</span><span class="op" id="8369896">}</span><span class="op" id="8369897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369900">{</span><span class="ident" id="8369901">token</span><span class="op" id="8369906">.</span><span class="ident" id="8369907">DEFINE</span><span class="op" id="8369913">,</span>&nbsp;<span class="string" id="8369915">&#34;:=&#34;</span><span class="op" id="8369919">,</span>&nbsp;<span class="ident" id="8369921">operator</span><span class="op" id="8369929">}</span><span class="op" id="8369930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369933">{</span><span class="ident" id="8369934">token</span><span class="op" id="8369939">.</span><span class="ident" id="8369940">ELLIPSIS</span><span class="op" id="8369948">,</span>&nbsp;<span class="string" id="8369950">&#34;...&#34;</span><span class="op" id="8369955">,</span>&nbsp;<span class="ident" id="8369957">operator</span><span class="op" id="8369965">}</span><span class="op" id="8369966">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369970">{</span><span class="ident" id="8369971">token</span><span class="op" id="8369976">.</span><span class="ident" id="8369977">LPAREN</span><span class="op" id="8369983">,</span>&nbsp;<span class="string" id="8369985">&#34;(&#34;</span><span class="op" id="8369988">,</span>&nbsp;<span class="ident" id="8369990">operator</span><span class="op" id="8369998">}</span><span class="op" id="8369999">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370002">{</span><span class="ident" id="8370003">token</span><span class="op" id="8370008">.</span><span class="ident" id="8370009">LBRACK</span><span class="op" id="8370015">,</span>&nbsp;<span class="string" id="8370017">&#34;[&#34;</span><span class="op" id="8370020">,</span>&nbsp;<span class="ident" id="8370022">operator</span><span class="op" id="8370030">}</span><span class="op" id="8370031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370034">{</span><span class="ident" id="8370035">token</span><span class="op" id="8370040">.</span><span class="ident" id="8370041">LBRACE</span><span class="op" id="8370047">,</span>&nbsp;<span class="string" id="8370049">&#34;{&#34;</span><span class="op" id="8370052">,</span>&nbsp;<span class="ident" id="8370054">operator</span><span class="op" id="8370062">}</span><span class="op" id="8370063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370066">{</span><span class="ident" id="8370067">token</span><span class="op" id="8370072">.</span><span class="ident" id="8370073">COMMA</span><span class="op" id="8370078">,</span>&nbsp;<span class="string" id="8370080">&#34;,&#34;</span><span class="op" id="8370083">,</span>&nbsp;<span class="ident" id="8370085">operator</span><span class="op" id="8370093">}</span><span class="op" id="8370094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370097">{</span><span class="ident" id="8370098">token</span><span class="op" id="8370103">.</span><span class="ident" id="8370104">PERIOD</span><span class="op" id="8370110">,</span>&nbsp;<span class="string" id="8370112">&#34;.&#34;</span><span class="op" id="8370115">,</span>&nbsp;<span class="ident" id="8370117">operator</span><span class="op" id="8370125">}</span><span class="op" id="8370126">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370130">{</span><span class="ident" id="8370131">token</span><span class="op" id="8370136">.</span><span class="ident" id="8370137">RPAREN</span><span class="op" id="8370143">,</span>&nbsp;<span class="string" id="8370145">&#34;)&#34;</span><span class="op" id="8370148">,</span>&nbsp;<span class="ident" id="8370150">operator</span><span class="op" id="8370158">}</span><span class="op" id="8370159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370162">{</span><span class="ident" id="8370163">token</span><span class="op" id="8370168">.</span><span class="ident" id="8370169">RBRACK</span><span class="op" id="8370175">,</span>&nbsp;<span class="string" id="8370177">&#34;]&#34;</span><span class="op" id="8370180">,</span>&nbsp;<span class="ident" id="8370182">operator</span><span class="op" id="8370190">}</span><span class="op" id="8370191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370194">{</span><span class="ident" id="8370195">token</span><span class="op" id="8370200">.</span><span class="ident" id="8370201">RBRACE</span><span class="op" id="8370207">,</span>&nbsp;<span class="string" id="8370209">&#34;}&#34;</span><span class="op" id="8370212">,</span>&nbsp;<span class="ident" id="8370214">operator</span><span class="op" id="8370222">}</span><span class="op" id="8370223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370226">{</span><span class="ident" id="8370227">token</span><span class="op" id="8370232">.</span><span class="ident" id="8370233">SEMICOLON</span><span class="op" id="8370242">,</span>&nbsp;<span class="string" id="8370244">&#34;;&#34;</span><span class="op" id="8370247">,</span>&nbsp;<span class="ident" id="8370249">operator</span><span class="op" id="8370257">}</span><span class="op" id="8370258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370261">{</span><span class="ident" id="8370262">token</span><span class="op" id="8370267">.</span><span class="ident" id="8370268">COLON</span><span class="op" id="8370273">,</span>&nbsp;<span class="string" id="8370275">&#34;:&#34;</span><span class="op" id="8370278">,</span>&nbsp;<span class="ident" id="8370280">operator</span><span class="op" id="8370288">}</span><span class="op" id="8370289">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8370293">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370306">{</span><span class="ident" id="8370307">token</span><span class="op" id="8370312">.</span><span class="ident" id="8370313">BREAK</span><span class="op" id="8370318">,</span>&nbsp;<span class="string" id="8370320">&#34;break&#34;</span><span class="op" id="8370327">,</span>&nbsp;<span class="ident" id="8370329">keyword</span><span class="op" id="8370336">}</span><span class="op" id="8370337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370340">{</span><span class="ident" id="8370341">token</span><span class="op" id="8370346">.</span><span class="ident" id="8370347">CASE</span><span class="op" id="8370351">,</span>&nbsp;<span class="string" id="8370353">&#34;case&#34;</span><span class="op" id="8370359">,</span>&nbsp;<span class="ident" id="8370361">keyword</span><span class="op" id="8370368">}</span><span class="op" id="8370369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370372">{</span><span class="ident" id="8370373">token</span><span class="op" id="8370378">.</span><span class="ident" id="8370379">CHAN</span><span class="op" id="8370383">,</span>&nbsp;<span class="string" id="8370385">&#34;chan&#34;</span><span class="op" id="8370391">,</span>&nbsp;<span class="ident" id="8370393">keyword</span><span class="op" id="8370400">}</span><span class="op" id="8370401">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370404">{</span><span class="ident" id="8370405">token</span><span class="op" id="8370410">.</span><span class="ident" id="8370411">CONST</span><span class="op" id="8370416">,</span>&nbsp;<span class="string" id="8370418">&#34;const&#34;</span><span class="op" id="8370425">,</span>&nbsp;<span class="ident" id="8370427">keyword</span><span class="op" id="8370434">}</span><span class="op" id="8370435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370438">{</span><span class="ident" id="8370439">token</span><span class="op" id="8370444">.</span><span class="ident" id="8370445">CONTINUE</span><span class="op" id="8370453">,</span>&nbsp;<span class="string" id="8370455">&#34;continue&#34;</span><span class="op" id="8370465">,</span>&nbsp;<span class="ident" id="8370467">keyword</span><span class="op" id="8370474">}</span><span class="op" id="8370475">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370479">{</span><span class="ident" id="8370480">token</span><span class="op" id="8370485">.</span><span class="ident" id="8370486">DEFAULT</span><span class="op" id="8370493">,</span>&nbsp;<span class="string" id="8370495">&#34;default&#34;</span><span class="op" id="8370504">,</span>&nbsp;<span class="ident" id="8370506">keyword</span><span class="op" id="8370513">}</span><span class="op" id="8370514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370517">{</span><span class="ident" id="8370518">token</span><span class="op" id="8370523">.</span><span class="ident" id="8370524">DEFER</span><span class="op" id="8370529">,</span>&nbsp;<span class="string" id="8370531">&#34;defer&#34;</span><span class="op" id="8370538">,</span>&nbsp;<span class="ident" id="8370540">keyword</span><span class="op" id="8370547">}</span><span class="op" id="8370548">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370551">{</span><span class="ident" id="8370552">token</span><span class="op" id="8370557">.</span><span class="ident" id="8370558">ELSE</span><span class="op" id="8370562">,</span>&nbsp;<span class="string" id="8370564">&#34;else&#34;</span><span class="op" id="8370570">,</span>&nbsp;<span class="ident" id="8370572">keyword</span><span class="op" id="8370579">}</span><span class="op" id="8370580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370583">{</span><span class="ident" id="8370584">token</span><span class="op" id="8370589">.</span><span class="ident" id="8370590">FALLTHROUGH</span><span class="op" id="8370601">,</span>&nbsp;<span class="string" id="8370603">&#34;fallthrough&#34;</span><span class="op" id="8370616">,</span>&nbsp;<span class="ident" id="8370618">keyword</span><span class="op" id="8370625">}</span><span class="op" id="8370626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370629">{</span><span class="ident" id="8370630">token</span><span class="op" id="8370635">.</span><span class="ident" id="8370636">FOR</span><span class="op" id="8370639">,</span>&nbsp;<span class="string" id="8370641">&#34;for&#34;</span><span class="op" id="8370646">,</span>&nbsp;<span class="ident" id="8370648">keyword</span><span class="op" id="8370655">}</span><span class="op" id="8370656">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370660">{</span><span class="ident" id="8370661">token</span><span class="op" id="8370666">.</span><span class="ident" id="8370667">FUNC</span><span class="op" id="8370671">,</span>&nbsp;<span class="string" id="8370673">&#34;func&#34;</span><span class="op" id="8370679">,</span>&nbsp;<span class="ident" id="8370681">keyword</span><span class="op" id="8370688">}</span><span class="op" id="8370689">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370692">{</span><span class="ident" id="8370693">token</span><span class="op" id="8370698">.</span><span class="ident" id="8370699">GO</span><span class="op" id="8370701">,</span>&nbsp;<span class="string" id="8370703">&#34;go&#34;</span><span class="op" id="8370707">,</span>&nbsp;<span class="ident" id="8370709">keyword</span><span class="op" id="8370716">}</span><span class="op" id="8370717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370720">{</span><span class="ident" id="8370721">token</span><span class="op" id="8370726">.</span><span class="ident" id="8370727">GOTO</span><span class="op" id="8370731">,</span>&nbsp;<span class="string" id="8370733">&#34;goto&#34;</span><span class="op" id="8370739">,</span>&nbsp;<span class="ident" id="8370741">keyword</span><span class="op" id="8370748">}</span><span class="op" id="8370749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370752">{</span><span class="ident" id="8370753">token</span><span class="op" id="8370758">.</span><span class="ident" id="8370759">IF</span><span class="op" id="8370761">,</span>&nbsp;<span class="string" id="8370763">&#34;if&#34;</span><span class="op" id="8370767">,</span>&nbsp;<span class="ident" id="8370769">keyword</span><span class="op" id="8370776">}</span><span class="op" id="8370777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370780">{</span><span class="ident" id="8370781">token</span><span class="op" id="8370786">.</span><span class="ident" id="8370787">IMPORT</span><span class="op" id="8370793">,</span>&nbsp;<span class="string" id="8370795">&#34;import&#34;</span><span class="op" id="8370803">,</span>&nbsp;<span class="ident" id="8370805">keyword</span><span class="op" id="8370812">}</span><span class="op" id="8370813">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370817">{</span><span class="ident" id="8370818">token</span><span class="op" id="8370823">.</span><span class="ident" id="8370824">INTERFACE</span><span class="op" id="8370833">,</span>&nbsp;<span class="string" id="8370835">&#34;interface&#34;</span><span class="op" id="8370846">,</span>&nbsp;<span class="ident" id="8370848">keyword</span><span class="op" id="8370855">}</span><span class="op" id="8370856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370859">{</span><span class="ident" id="8370860">token</span><span class="op" id="8370865">.</span><span class="ident" id="8370866">MAP</span><span class="op" id="8370869">,</span>&nbsp;<span class="string" id="8370871">&#34;map&#34;</span><span class="op" id="8370876">,</span>&nbsp;<span class="ident" id="8370878">keyword</span><span class="op" id="8370885">}</span><span class="op" id="8370886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370889">{</span><span class="ident" id="8370890">token</span><span class="op" id="8370895">.</span><span class="ident" id="8370896">PACKAGE</span><span class="op" id="8370903">,</span>&nbsp;<span class="string" id="8370905">&#34;package&#34;</span><span class="op" id="8370914">,</span>&nbsp;<span class="ident" id="8370916">keyword</span><span class="op" id="8370923">}</span><span class="op" id="8370924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370927">{</span><span class="ident" id="8370928">token</span><span class="op" id="8370933">.</span><span class="ident" id="8370934">RANGE</span><span class="op" id="8370939">,</span>&nbsp;<span class="string" id="8370941">&#34;range&#34;</span><span class="op" id="8370948">,</span>&nbsp;<span class="ident" id="8370950">keyword</span><span class="op" id="8370957">}</span><span class="op" id="8370958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370961">{</span><span class="ident" id="8370962">token</span><span class="op" id="8370967">.</span><span class="ident" id="8370968">RETURN</span><span class="op" id="8370974">,</span>&nbsp;<span class="string" id="8370976">&#34;return&#34;</span><span class="op" id="8370984">,</span>&nbsp;<span class="ident" id="8370986">keyword</span><span class="op" id="8370993">}</span><span class="op" id="8370994">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370998">{</span><span class="ident" id="8370999">token</span><span class="op" id="8371004">.</span><span class="ident" id="8371005">SELECT</span><span class="op" id="8371011">,</span>&nbsp;<span class="string" id="8371013">&#34;select&#34;</span><span class="op" id="8371021">,</span>&nbsp;<span class="ident" id="8371023">keyword</span><span class="op" id="8371030">}</span><span class="op" id="8371031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371034">{</span><span class="ident" id="8371035">token</span><span class="op" id="8371040">.</span><span class="ident" id="8371041">STRUCT</span><span class="op" id="8371047">,</span>&nbsp;<span class="string" id="8371049">&#34;struct&#34;</span><span class="op" id="8371057">,</span>&nbsp;<span class="ident" id="8371059">keyword</span><span class="op" id="8371066">}</span><span class="op" id="8371067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371070">{</span><span class="ident" id="8371071">token</span><span class="op" id="8371076">.</span><span class="ident" id="8371077">SWITCH</span><span class="op" id="8371083">,</span>&nbsp;<span class="string" id="8371085">&#34;switch&#34;</span><span class="op" id="8371093">,</span>&nbsp;<span class="ident" id="8371095">keyword</span><span class="op" id="8371102">}</span><span class="op" id="8371103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371106">{</span><span class="ident" id="8371107">token</span><span class="op" id="8371112">.</span><span class="ident" id="8371113">TYPE</span><span class="op" id="8371117">,</span>&nbsp;<span class="string" id="8371119">&#34;type&#34;</span><span class="op" id="8371125">,</span>&nbsp;<span class="ident" id="8371127">keyword</span><span class="op" id="8371134">}</span><span class="op" id="8371135">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371138">{</span><span class="ident" id="8371139">token</span><span class="op" id="8371144">.</span><span class="ident" id="8371145">VAR</span><span class="op" id="8371148">,</span>&nbsp;<span class="string" id="8371150">&#34;var&#34;</span><span class="op" id="8371155">,</span>&nbsp;<span class="ident" id="8371157">keyword</span><span class="op" id="8371164">}</span><span class="op" id="8371165">,</span><br>
<span class="lineno"></span><span class="op" id="8371167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8371170">const</span>&nbsp;<span class="ident" id="8371176">whitespace</span>&nbsp;<span class="op" id="8371187">=</span>&nbsp;<span class="string" id="8371189">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="8371204">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="8371227">var</span>&nbsp;<span class="ident" id="8371231">source</span>&nbsp;<span class="op" id="8371238">=</span>&nbsp;<span class="keyword" id="8371240">func</span><span class="op" id="8371244">(</span><span class="op" id="8371245">)</span>&nbsp;<span class="op" id="8371247">[</span><span class="op" id="8371248">]</span><span class="builtintype" id="8371249">byte</span>&nbsp;<span class="op" id="8371254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371257">var</span>&nbsp;<span class="ident" id="8371261">src</span>&nbsp;<span class="op" id="8371265">[</span><span class="op" id="8371266">]</span><span class="builtintype" id="8371267">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371273">for</span>&nbsp;<span class="ident" id="8371277">_</span><span class="op" id="8371278">,</span>&nbsp;<span class="ident" id="8371280">t</span>&nbsp;<span class="op" id="8371282">:=</span>&nbsp;<span class="keyword" id="8371285">range</span>&nbsp;<span class="ident" id="8371291">tokens</span>&nbsp;<span class="op" id="8371298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371302">src</span>&nbsp;<span class="op" id="8371306">=</span>&nbsp;<span class="builtinfunc" id="8371308">append</span><span class="op" id="8371314">(</span><span class="ident" id="8371315">src</span><span class="op" id="8371318">,</span>&nbsp;<span class="ident" id="8371320">t</span><span class="op" id="8371321">.</span><span class="ident" id="8371322">lit</span><span class="op" id="8371325">...</span><span class="op" id="8371328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371332">src</span>&nbsp;<span class="op" id="8371336">=</span>&nbsp;<span class="builtinfunc" id="8371338">append</span><span class="op" id="8371344">(</span><span class="ident" id="8371345">src</span><span class="op" id="8371348">,</span>&nbsp;<span class="ident" id="8371350">whitespace</span><span class="op" id="8371360">...</span><span class="op" id="8371363">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371369">return</span>&nbsp;<span class="ident" id="8371376">src</span><br>
<span class="lineno"></span><span class="op" id="8371380">}</span><span class="op" id="8371381">(</span><span class="op" id="8371382">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8371385">func</span>&nbsp;<span class="ident" id="8371390">newlineCount</span><span class="op" id="8371402">(</span><span class="ident" id="8371403">s</span>&nbsp;<span class="builtintype" id="8371405">string</span><span class="op" id="8371411">)</span>&nbsp;<span class="builtintype" id="8371413">int</span>&nbsp;<span class="op" id="8371417">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371420">n</span>&nbsp;<span class="op" id="8371422">:=</span>&nbsp;<span class="num" id="8371425">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371428">for</span>&nbsp;<span class="ident" id="8371432">i</span>&nbsp;<span class="op" id="8371434">:=</span>&nbsp;<span class="num" id="8371437">0</span><span class="op" id="8371438">;</span>&nbsp;<span class="ident" id="8371440">i</span>&nbsp;<span class="op" id="8371442">&lt;</span>&nbsp;<span class="builtinfunc" id="8371444">len</span><span class="op" id="8371447">(</span><span class="ident" id="8371448">s</span><span class="op" id="8371449">)</span><span class="op" id="8371450">;</span>&nbsp;<span class="ident" id="8371452">i</span><span class="op" id="8371453">++</span>&nbsp;<span class="op" id="8371456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371460">if</span>&nbsp;<span class="ident" id="8371463">s</span><span class="op" id="8371464">[</span><span class="ident" id="8371465">i</span><span class="op" id="8371466">]</span>&nbsp;<span class="op" id="8371468">==</span>&nbsp;<span class="string" id="8371471">&#39;\n&#39;</span>&nbsp;<span class="op" id="8371476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371481">n</span><span class="op" id="8371482">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371487">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371493">return</span>&nbsp;<span class="ident" id="8371500">n</span><br>
<span class="lineno"></span><span class="op" id="8371502">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8371505">func</span>&nbsp;<span class="ident" id="8371510">checkPos</span><span class="op" id="8371518">(</span><span class="ident" id="8371519">t</span>&nbsp;<span class="op" id="8371521">*</span><span class="ident" id="8371522">testing</span><span class="op" id="8371529">.</span><span class="ident" id="8371530">T</span><span class="op" id="8371531">,</span>&nbsp;<span class="ident" id="8371533">lit</span>&nbsp;<span class="builtintype" id="8371537">string</span><span class="op" id="8371543">,</span>&nbsp;<span class="ident" id="8371545">p</span>&nbsp;<span class="ident" id="8371547">token</span><span class="op" id="8371552">.</span><span class="ident" id="8371553">Pos</span><span class="op" id="8371556">,</span>&nbsp;<span class="ident" id="8371558">expected</span>&nbsp;<span class="ident" id="8371567">token</span><span class="op" id="8371572">.</span><span class="ident" id="8371573">Position</span><span class="op" id="8371581">)</span>&nbsp;<span class="op" id="8371583">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371586">pos</span>&nbsp;<span class="op" id="8371590">:=</span>&nbsp;<span class="ident" id="8371593">fset</span><span class="op" id="8371597">.</span><span class="ident" id="8371598">Position</span><span class="op" id="8371606">(</span><span class="ident" id="8371607">p</span><span class="op" id="8371608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371611">if</span>&nbsp;<span class="ident" id="8371614">pos</span><span class="op" id="8371617">.</span><span class="ident" id="8371618">Filename</span>&nbsp;<span class="op" id="8371627">!=</span>&nbsp;<span class="ident" id="8371630">expected</span><span class="op" id="8371638">.</span><span class="ident" id="8371639">Filename</span>&nbsp;<span class="op" id="8371648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371652">t</span><span class="op" id="8371653">.</span><span class="ident" id="8371654">Errorf</span><span class="op" id="8371660">(</span><span class="string" id="8371661">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8371703">,</span>&nbsp;<span class="ident" id="8371705">lit</span><span class="op" id="8371708">,</span>&nbsp;<span class="ident" id="8371710">pos</span><span class="op" id="8371713">.</span><span class="ident" id="8371714">Filename</span><span class="op" id="8371722">,</span>&nbsp;<span class="ident" id="8371724">expected</span><span class="op" id="8371732">.</span><span class="ident" id="8371733">Filename</span><span class="op" id="8371741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371747">if</span>&nbsp;<span class="ident" id="8371750">pos</span><span class="op" id="8371753">.</span><span class="ident" id="8371754">Offset</span>&nbsp;<span class="op" id="8371761">!=</span>&nbsp;<span class="ident" id="8371764">expected</span><span class="op" id="8371772">.</span><span class="ident" id="8371773">Offset</span>&nbsp;<span class="op" id="8371780">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371784">t</span><span class="op" id="8371785">.</span><span class="ident" id="8371786">Errorf</span><span class="op" id="8371792">(</span><span class="string" id="8371793">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8371835">,</span>&nbsp;<span class="ident" id="8371837">lit</span><span class="op" id="8371840">,</span>&nbsp;<span class="ident" id="8371842">pos</span><span class="op" id="8371845">.</span><span class="ident" id="8371846">Offset</span><span class="op" id="8371852">,</span>&nbsp;<span class="ident" id="8371854">expected</span><span class="op" id="8371862">.</span><span class="ident" id="8371863">Offset</span><span class="op" id="8371869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371875">if</span>&nbsp;<span class="ident" id="8371878">pos</span><span class="op" id="8371881">.</span><span class="ident" id="8371882">Line</span>&nbsp;<span class="op" id="8371887">!=</span>&nbsp;<span class="ident" id="8371890">expected</span><span class="op" id="8371898">.</span><span class="ident" id="8371899">Line</span>&nbsp;<span class="op" id="8371904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371908">t</span><span class="op" id="8371909">.</span><span class="ident" id="8371910">Errorf</span><span class="op" id="8371916">(</span><span class="string" id="8371917">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8371955">,</span>&nbsp;<span class="ident" id="8371957">lit</span><span class="op" id="8371960">,</span>&nbsp;<span class="ident" id="8371962">pos</span><span class="op" id="8371965">.</span><span class="ident" id="8371966">Line</span><span class="op" id="8371970">,</span>&nbsp;<span class="ident" id="8371972">expected</span><span class="op" id="8371980">.</span><span class="ident" id="8371981">Line</span><span class="op" id="8371985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371988">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371991">if</span>&nbsp;<span class="ident" id="8371994">pos</span><span class="op" id="8371997">.</span><span class="ident" id="8371998">Column</span>&nbsp;<span class="op" id="8372005">!=</span>&nbsp;<span class="ident" id="8372008">expected</span><span class="op" id="8372016">.</span><span class="ident" id="8372017">Column</span>&nbsp;<span class="op" id="8372024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372028">t</span><span class="op" id="8372029">.</span><span class="ident" id="8372030">Errorf</span><span class="op" id="8372036">(</span><span class="string" id="8372037">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8372077">,</span>&nbsp;<span class="ident" id="8372079">lit</span><span class="op" id="8372082">,</span>&nbsp;<span class="ident" id="8372084">pos</span><span class="op" id="8372087">.</span><span class="ident" id="8372088">Column</span><span class="op" id="8372094">,</span>&nbsp;<span class="ident" id="8372096">expected</span><span class="op" id="8372104">.</span><span class="ident" id="8372105">Column</span><span class="op" id="8372111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372114">}</span><br>
<span class="lineno"></span><span class="op" id="8372116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="8372119">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="8372179">func</span>&nbsp;<span class="ident" id="8372184">TestScan</span><span class="op" id="8372192">(</span><span class="ident" id="8372193">t</span>&nbsp;<span class="op" id="8372195">*</span><span class="ident" id="8372196">testing</span><span class="op" id="8372203">.</span><span class="ident" id="8372204">T</span><span class="op" id="8372205">)</span>&nbsp;<span class="op" id="8372207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372210">whitespace_linecount</span>&nbsp;<span class="op" id="8372231">:=</span>&nbsp;<span class="ident" id="8372234">newlineCount</span><span class="op" id="8372246">(</span><span class="ident" id="8372247">whitespace</span><span class="op" id="8372257">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8372261">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372279">eh</span>&nbsp;<span class="op" id="8372282">:=</span>&nbsp;<span class="keyword" id="8372285">func</span><span class="op" id="8372289">(</span><span class="ident" id="8372290">_</span>&nbsp;<span class="ident" id="8372292">token</span><span class="op" id="8372297">.</span><span class="ident" id="8372298">Position</span><span class="op" id="8372306">,</span>&nbsp;<span class="ident" id="8372308">msg</span>&nbsp;<span class="builtintype" id="8372312">string</span><span class="op" id="8372318">)</span>&nbsp;<span class="op" id="8372320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372324">t</span><span class="op" id="8372325">.</span><span class="ident" id="8372326">Errorf</span><span class="op" id="8372332">(</span><span class="string" id="8372333">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="8372366">,</span>&nbsp;<span class="ident" id="8372368">msg</span><span class="op" id="8372371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8372378">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8372394">var</span>&nbsp;<span class="ident" id="8372398">s</span>&nbsp;<span class="ident" id="8372400">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372409">s</span><span class="op" id="8372410">.</span><span class="ident" id="8372411">Init</span><span class="op" id="8372415">(</span><span class="ident" id="8372416">fset</span><span class="op" id="8372420">.</span><span class="ident" id="8372421">AddFile</span><span class="op" id="8372428">(</span><span class="string" id="8372429">&#34;&#34;</span><span class="op" id="8372431">,</span>&nbsp;<span class="ident" id="8372433">fset</span><span class="op" id="8372437">.</span><span class="ident" id="8372438">Base</span><span class="op" id="8372442">(</span><span class="op" id="8372443">)</span><span class="op" id="8372444">,</span>&nbsp;<span class="builtinfunc" id="8372446">len</span><span class="op" id="8372449">(</span><span class="ident" id="8372450">source</span><span class="op" id="8372456">)</span><span class="op" id="8372457">)</span><span class="op" id="8372458">,</span>&nbsp;<span class="ident" id="8372460">source</span><span class="op" id="8372466">,</span>&nbsp;<span class="ident" id="8372468">eh</span><span class="op" id="8372470">,</span>&nbsp;<span class="ident" id="8372472">ScanComments</span><span class="op" id="8372484">|</span><span class="ident" id="8372485">dontInsertSemis</span><span class="op" id="8372500">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8372504">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372533">epos</span>&nbsp;<span class="op" id="8372538">:=</span>&nbsp;<span class="ident" id="8372541">token</span><span class="op" id="8372546">.</span><span class="ident" id="8372547">Position</span><span class="op" id="8372555">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372559">Filename</span><span class="op" id="8372567">:</span>&nbsp;<span class="string" id="8372569">&#34;&#34;</span><span class="op" id="8372571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372575">Offset</span><span class="op" id="8372581">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8372585">0</span><span class="op" id="8372586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372590">Line</span><span class="op" id="8372594">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8372600">1</span><span class="op" id="8372601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372605">Column</span><span class="op" id="8372611">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8372615">1</span><span class="op" id="8372616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372619">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372623">index</span>&nbsp;<span class="op" id="8372629">:=</span>&nbsp;<span class="num" id="8372632">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8372635">for</span>&nbsp;<span class="op" id="8372639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372643">pos</span><span class="op" id="8372646">,</span>&nbsp;<span class="ident" id="8372648">tok</span><span class="op" id="8372651">,</span>&nbsp;<span class="ident" id="8372653">lit</span>&nbsp;<span class="op" id="8372657">:=</span>&nbsp;<span class="ident" id="8372660">s</span><span class="op" id="8372661">.</span><span class="ident" id="8372662">Scan</span><span class="op" id="8372666">(</span><span class="op" id="8372667">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8372672">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8372692">if</span>&nbsp;<span class="ident" id="8372695">tok</span>&nbsp;<span class="op" id="8372699">==</span>&nbsp;<span class="ident" id="8372702">token</span><span class="op" id="8372707">.</span><span class="ident" id="8372708">EOF</span>&nbsp;<span class="op" id="8372712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8372717">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372742">epos</span><span class="op" id="8372746">.</span><span class="ident" id="8372747">Line</span>&nbsp;<span class="op" id="8372752">=</span>&nbsp;<span class="ident" id="8372754">newlineCount</span><span class="op" id="8372766">(</span><span class="builtintype" id="8372767">string</span><span class="op" id="8372773">(</span><span class="ident" id="8372774">source</span><span class="op" id="8372780">)</span><span class="op" id="8372781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372786">epos</span><span class="op" id="8372790">.</span><span class="ident" id="8372791">Column</span>&nbsp;<span class="op" id="8372798">=</span>&nbsp;<span class="num" id="8372800">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372808">checkPos</span><span class="op" id="8372816">(</span><span class="ident" id="8372817">t</span><span class="op" id="8372818">,</span>&nbsp;<span class="ident" id="8372820">lit</span><span class="op" id="8372823">,</span>&nbsp;<span class="ident" id="8372825">pos</span><span class="op" id="8372828">,</span>&nbsp;<span class="ident" id="8372830">epos</span><span class="op" id="8372834">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8372839">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372856">e</span>&nbsp;<span class="op" id="8372858">:=</span>&nbsp;<span class="ident" id="8372861">elt</span><span class="op" id="8372864">{</span><span class="ident" id="8372865">token</span><span class="op" id="8372870">.</span><span class="ident" id="8372871">EOF</span><span class="op" id="8372874">,</span>&nbsp;<span class="string" id="8372876">&#34;&#34;</span><span class="op" id="8372878">,</span>&nbsp;<span class="ident" id="8372880">special</span><span class="op" id="8372887">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8372891">if</span>&nbsp;<span class="ident" id="8372894">index</span>&nbsp;<span class="op" id="8372900">&lt;</span>&nbsp;<span class="builtinfunc" id="8372902">len</span><span class="op" id="8372905">(</span><span class="ident" id="8372906">tokens</span><span class="op" id="8372912">)</span>&nbsp;<span class="op" id="8372914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372919">e</span>&nbsp;<span class="op" id="8372921">=</span>&nbsp;<span class="ident" id="8372923">tokens</span><span class="op" id="8372929">[</span><span class="ident" id="8372930">index</span><span class="op" id="8372935">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372940">index</span><span class="op" id="8372945">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8372954">if</span>&nbsp;<span class="ident" id="8372957">tok</span>&nbsp;<span class="op" id="8372961">!=</span>&nbsp;<span class="ident" id="8372964">e</span><span class="op" id="8372965">.</span><span class="ident" id="8372966">tok</span>&nbsp;<span class="op" id="8372970">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372975">t</span><span class="op" id="8372976">.</span><span class="ident" id="8372977">Errorf</span><span class="op" id="8372983">(</span><span class="string" id="8372984">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8373023">,</span>&nbsp;<span class="ident" id="8373025">lit</span><span class="op" id="8373028">,</span>&nbsp;<span class="ident" id="8373030">tok</span><span class="op" id="8373033">,</span>&nbsp;<span class="ident" id="8373035">e</span><span class="op" id="8373036">.</span><span class="ident" id="8373037">tok</span><span class="op" id="8373040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8373049">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373072">if</span>&nbsp;<span class="ident" id="8373075">tokenclass</span><span class="op" id="8373085">(</span><span class="ident" id="8373086">tok</span><span class="op" id="8373089">)</span>&nbsp;<span class="op" id="8373091">!=</span>&nbsp;<span class="ident" id="8373094">e</span><span class="op" id="8373095">.</span><span class="ident" id="8373096">class</span>&nbsp;<span class="op" id="8373102">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373107">t</span><span class="op" id="8373108">.</span><span class="ident" id="8373109">Errorf</span><span class="op" id="8373115">(</span><span class="string" id="8373116">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8373155">,</span>&nbsp;<span class="ident" id="8373157">lit</span><span class="op" id="8373160">,</span>&nbsp;<span class="ident" id="8373162">tokenclass</span><span class="op" id="8373172">(</span><span class="ident" id="8373173">tok</span><span class="op" id="8373176">)</span><span class="op" id="8373177">,</span>&nbsp;<span class="ident" id="8373179">e</span><span class="op" id="8373180">.</span><span class="ident" id="8373181">class</span><span class="op" id="8373186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8373195">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373214">elit</span>&nbsp;<span class="op" id="8373219">:=</span>&nbsp;<span class="string" id="8373222">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373227">switch</span>&nbsp;<span class="ident" id="8373234">e</span><span class="op" id="8373235">.</span><span class="ident" id="8373236">tok</span>&nbsp;<span class="op" id="8373240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373244">case</span>&nbsp;<span class="ident" id="8373249">token</span><span class="op" id="8373254">.</span><span class="ident" id="8373255">COMMENT</span><span class="op" id="8373262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8373267">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373292">elit</span>&nbsp;<span class="op" id="8373297">=</span>&nbsp;<span class="builtintype" id="8373299">string</span><span class="op" id="8373305">(</span><span class="ident" id="8373306">stripCR</span><span class="op" id="8373313">(</span><span class="op" id="8373314">[</span><span class="op" id="8373315">]</span><span class="builtintype" id="8373316">byte</span><span class="op" id="8373320">(</span><span class="ident" id="8373321">e</span><span class="op" id="8373322">.</span><span class="ident" id="8373323">lit</span><span class="op" id="8373326">)</span><span class="op" id="8373327">)</span><span class="op" id="8373328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8373333">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373385">if</span>&nbsp;<span class="ident" id="8373388">elit</span><span class="op" id="8373392">[</span><span class="num" id="8373393">1</span><span class="op" id="8373394">]</span>&nbsp;<span class="op" id="8373396">==</span>&nbsp;<span class="string" id="8373399">&#39;/&#39;</span>&nbsp;<span class="op" id="8373403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373409">elit</span>&nbsp;<span class="op" id="8373414">=</span>&nbsp;<span class="ident" id="8373416">elit</span><span class="op" id="8373420">[</span><span class="num" id="8373421">0</span>&nbsp;<span class="op" id="8373423">:</span>&nbsp;<span class="builtinfunc" id="8373425">len</span><span class="op" id="8373428">(</span><span class="ident" id="8373429">elit</span><span class="op" id="8373433">)</span><span class="op" id="8373434">-</span><span class="num" id="8373435">1</span><span class="op" id="8373436">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373445">case</span>&nbsp;<span class="ident" id="8373450">token</span><span class="op" id="8373455">.</span><span class="ident" id="8373456">IDENT</span><span class="op" id="8373461">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373466">elit</span>&nbsp;<span class="op" id="8373471">=</span>&nbsp;<span class="ident" id="8373473">e</span><span class="op" id="8373474">.</span><span class="ident" id="8373475">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373481">case</span>&nbsp;<span class="ident" id="8373486">token</span><span class="op" id="8373491">.</span><span class="ident" id="8373492">SEMICOLON</span><span class="op" id="8373501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373506">elit</span>&nbsp;<span class="op" id="8373511">=</span>&nbsp;<span class="string" id="8373513">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373519">default</span><span class="op" id="8373526">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373531">if</span>&nbsp;<span class="ident" id="8373534">e</span><span class="op" id="8373535">.</span><span class="ident" id="8373536">tok</span><span class="op" id="8373539">.</span><span class="ident" id="8373540">IsLiteral</span><span class="op" id="8373549">(</span><span class="op" id="8373550">)</span>&nbsp;<span class="op" id="8373552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8373558">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373595">elit</span>&nbsp;<span class="op" id="8373600">=</span>&nbsp;<span class="ident" id="8373602">e</span><span class="op" id="8373603">.</span><span class="ident" id="8373604">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373612">if</span>&nbsp;<span class="ident" id="8373615">elit</span><span class="op" id="8373619">[</span><span class="num" id="8373620">0</span><span class="op" id="8373621">]</span>&nbsp;<span class="op" id="8373623">==</span>&nbsp;<span class="string" id="8373626">&#39;`&#39;</span>&nbsp;<span class="op" id="8373630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373637">elit</span>&nbsp;<span class="op" id="8373642">=</span>&nbsp;<span class="builtintype" id="8373644">string</span><span class="op" id="8373650">(</span><span class="ident" id="8373651">stripCR</span><span class="op" id="8373658">(</span><span class="op" id="8373659">[</span><span class="op" id="8373660">]</span><span class="builtintype" id="8373661">byte</span><span class="op" id="8373665">(</span><span class="ident" id="8373666">elit</span><span class="op" id="8373670">)</span><span class="op" id="8373671">)</span><span class="op" id="8373672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373683">}</span>&nbsp;<span class="keyword" id="8373685">else</span>&nbsp;<span class="keyword" id="8373690">if</span>&nbsp;<span class="ident" id="8373693">e</span><span class="op" id="8373694">.</span><span class="ident" id="8373695">tok</span><span class="op" id="8373698">.</span><span class="ident" id="8373699">IsKeyword</span><span class="op" id="8373708">(</span><span class="op" id="8373709">)</span>&nbsp;<span class="op" id="8373711">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373717">elit</span>&nbsp;<span class="op" id="8373722">=</span>&nbsp;<span class="ident" id="8373724">e</span><span class="op" id="8373725">.</span><span class="ident" id="8373726">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373741">if</span>&nbsp;<span class="ident" id="8373744">lit</span>&nbsp;<span class="op" id="8373748">!=</span>&nbsp;<span class="ident" id="8373751">elit</span>&nbsp;<span class="op" id="8373756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373761">t</span><span class="op" id="8373762">.</span><span class="ident" id="8373763">Errorf</span><span class="op" id="8373769">(</span><span class="string" id="8373770">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8373811">,</span>&nbsp;<span class="ident" id="8373813">lit</span><span class="op" id="8373816">,</span>&nbsp;<span class="ident" id="8373818">lit</span><span class="op" id="8373821">,</span>&nbsp;<span class="ident" id="8373823">elit</span><span class="op" id="8373827">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373836">if</span>&nbsp;<span class="ident" id="8373839">tok</span>&nbsp;<span class="op" id="8373843">==</span>&nbsp;<span class="ident" id="8373846">token</span><span class="op" id="8373851">.</span><span class="ident" id="8373852">EOF</span>&nbsp;<span class="op" id="8373856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373861">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373869">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8373874">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373895">epos</span><span class="op" id="8373899">.</span><span class="ident" id="8373900">Offset</span>&nbsp;<span class="op" id="8373907">+=</span>&nbsp;<span class="builtinfunc" id="8373910">len</span><span class="op" id="8373913">(</span><span class="ident" id="8373914">e</span><span class="op" id="8373915">.</span><span class="ident" id="8373916">lit</span><span class="op" id="8373919">)</span>&nbsp;<span class="op" id="8373921">+</span>&nbsp;<span class="builtinfunc" id="8373923">len</span><span class="op" id="8373926">(</span><span class="ident" id="8373927">whitespace</span><span class="op" id="8373937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373941">epos</span><span class="op" id="8373945">.</span><span class="ident" id="8373946">Line</span>&nbsp;<span class="op" id="8373951">+=</span>&nbsp;<span class="ident" id="8373954">newlineCount</span><span class="op" id="8373966">(</span><span class="ident" id="8373967">e</span><span class="op" id="8373968">.</span><span class="ident" id="8373969">lit</span><span class="op" id="8373972">)</span>&nbsp;<span class="op" id="8373974">+</span>&nbsp;<span class="ident" id="8373976">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374003">if</span>&nbsp;<span class="ident" id="8374006">s</span><span class="op" id="8374007">.</span><span class="ident" id="8374008">ErrorCount</span>&nbsp;<span class="op" id="8374019">!=</span>&nbsp;<span class="num" id="8374022">0</span>&nbsp;<span class="op" id="8374024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374028">t</span><span class="op" id="8374029">.</span><span class="ident" id="8374030">Errorf</span><span class="op" id="8374036">(</span><span class="string" id="8374037">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8374054">,</span>&nbsp;<span class="ident" id="8374056">s</span><span class="op" id="8374057">.</span><span class="ident" id="8374058">ErrorCount</span><span class="op" id="8374068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374071">}</span><br>
<span class="lineno">310</span><span class="op" id="8374073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8374076">func</span>&nbsp;<span class="ident" id="8374081">checkSemi</span><span class="op" id="8374090">(</span><span class="ident" id="8374091">t</span>&nbsp;<span class="op" id="8374093">*</span><span class="ident" id="8374094">testing</span><span class="op" id="8374101">.</span><span class="ident" id="8374102">T</span><span class="op" id="8374103">,</span>&nbsp;<span class="ident" id="8374105">line</span>&nbsp;<span class="builtintype" id="8374110">string</span><span class="op" id="8374116">,</span>&nbsp;<span class="ident" id="8374118">mode</span>&nbsp;<span class="ident" id="8374123">Mode</span><span class="op" id="8374127">)</span>&nbsp;<span class="op" id="8374129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374132">var</span>&nbsp;<span class="ident" id="8374136">S</span>&nbsp;<span class="ident" id="8374138">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374147">file</span>&nbsp;<span class="op" id="8374152">:=</span>&nbsp;<span class="ident" id="8374155">fset</span><span class="op" id="8374159">.</span><span class="ident" id="8374160">AddFile</span><span class="op" id="8374167">(</span><span class="string" id="8374168">&#34;TestSemis&#34;</span><span class="op" id="8374179">,</span>&nbsp;<span class="ident" id="8374181">fset</span><span class="op" id="8374185">.</span><span class="ident" id="8374186">Base</span><span class="op" id="8374190">(</span><span class="op" id="8374191">)</span><span class="op" id="8374192">,</span>&nbsp;<span class="builtinfunc" id="8374194">len</span><span class="op" id="8374197">(</span><span class="ident" id="8374198">line</span><span class="op" id="8374202">)</span><span class="op" id="8374203">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374206">S</span><span class="op" id="8374207">.</span><span class="ident" id="8374208">Init</span><span class="op" id="8374212">(</span><span class="ident" id="8374213">file</span><span class="op" id="8374217">,</span>&nbsp;<span class="op" id="8374219">[</span><span class="op" id="8374220">]</span><span class="builtintype" id="8374221">byte</span><span class="op" id="8374225">(</span><span class="ident" id="8374226">line</span><span class="op" id="8374230">)</span><span class="op" id="8374231">,</span>&nbsp;<span class="ident" id="8374233">nil</span><span class="op" id="8374236">,</span>&nbsp;<span class="ident" id="8374238">mode</span><span class="op" id="8374242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374245">pos</span><span class="op" id="8374248">,</span>&nbsp;<span class="ident" id="8374250">tok</span><span class="op" id="8374253">,</span>&nbsp;<span class="ident" id="8374255">lit</span>&nbsp;<span class="op" id="8374259">:=</span>&nbsp;<span class="ident" id="8374262">S</span><span class="op" id="8374263">.</span><span class="ident" id="8374264">Scan</span><span class="op" id="8374268">(</span><span class="op" id="8374269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374272">for</span>&nbsp;<span class="ident" id="8374276">tok</span>&nbsp;<span class="op" id="8374280">!=</span>&nbsp;<span class="ident" id="8374283">token</span><span class="op" id="8374288">.</span><span class="ident" id="8374289">EOF</span>&nbsp;<span class="op" id="8374293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374297">if</span>&nbsp;<span class="ident" id="8374300">tok</span>&nbsp;<span class="op" id="8374304">==</span>&nbsp;<span class="ident" id="8374307">token</span><span class="op" id="8374312">.</span><span class="ident" id="8374313">ILLEGAL</span>&nbsp;<span class="op" id="8374321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8374326">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8374373">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374415">semiLit</span>&nbsp;<span class="op" id="8374423">:=</span>&nbsp;<span class="string" id="8374426">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374434">if</span>&nbsp;<span class="ident" id="8374437">lit</span><span class="op" id="8374440">[</span><span class="num" id="8374441">0</span><span class="op" id="8374442">]</span>&nbsp;<span class="op" id="8374444">==</span>&nbsp;<span class="string" id="8374447">&#39;#&#39;</span>&nbsp;<span class="op" id="8374451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374457">semiLit</span>&nbsp;<span class="op" id="8374465">=</span>&nbsp;<span class="string" id="8374467">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374474">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8374479">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374516">semiPos</span>&nbsp;<span class="op" id="8374524">:=</span>&nbsp;<span class="ident" id="8374527">file</span><span class="op" id="8374531">.</span><span class="ident" id="8374532">Position</span><span class="op" id="8374540">(</span><span class="ident" id="8374541">pos</span><span class="op" id="8374544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374549">semiPos</span><span class="op" id="8374556">.</span><span class="ident" id="8374557">Offset</span><span class="op" id="8374563">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374569">semiPos</span><span class="op" id="8374576">.</span><span class="ident" id="8374577">Column</span><span class="op" id="8374583">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374589">pos</span><span class="op" id="8374592">,</span>&nbsp;<span class="ident" id="8374594">tok</span><span class="op" id="8374597">,</span>&nbsp;<span class="ident" id="8374599">lit</span>&nbsp;<span class="op" id="8374603">=</span>&nbsp;<span class="ident" id="8374605">S</span><span class="op" id="8374606">.</span><span class="ident" id="8374607">Scan</span><span class="op" id="8374611">(</span><span class="op" id="8374612">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374617">if</span>&nbsp;<span class="ident" id="8374620">tok</span>&nbsp;<span class="op" id="8374624">==</span>&nbsp;<span class="ident" id="8374627">token</span><span class="op" id="8374632">.</span><span class="ident" id="8374633">SEMICOLON</span>&nbsp;<span class="op" id="8374643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374649">if</span>&nbsp;<span class="ident" id="8374652">lit</span>&nbsp;<span class="op" id="8374656">!=</span>&nbsp;<span class="ident" id="8374659">semiLit</span>&nbsp;<span class="op" id="8374667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374674">t</span><span class="op" id="8374675">.</span><span class="ident" id="8374676">Errorf</span><span class="op" id="8374682">(</span><span class="string" id="8374683">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="8374724">,</span>&nbsp;<span class="ident" id="8374726">line</span><span class="op" id="8374730">,</span>&nbsp;<span class="ident" id="8374732">lit</span><span class="op" id="8374735">,</span>&nbsp;<span class="ident" id="8374737">semiLit</span><span class="op" id="8374744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374756">checkPos</span><span class="op" id="8374764">(</span><span class="ident" id="8374765">t</span><span class="op" id="8374766">,</span>&nbsp;<span class="ident" id="8374768">line</span><span class="op" id="8374772">,</span>&nbsp;<span class="ident" id="8374774">pos</span><span class="op" id="8374777">,</span>&nbsp;<span class="ident" id="8374779">semiPos</span><span class="op" id="8374786">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374791">}</span>&nbsp;<span class="keyword" id="8374793">else</span>&nbsp;<span class="op" id="8374798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374804">t</span><span class="op" id="8374805">.</span><span class="ident" id="8374806">Errorf</span><span class="op" id="8374812">(</span><span class="string" id="8374813">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="8374851">,</span>&nbsp;<span class="ident" id="8374853">line</span><span class="op" id="8374857">,</span>&nbsp;<span class="ident" id="8374859">tok</span><span class="op" id="8374862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374871">}</span>&nbsp;<span class="keyword" id="8374873">else</span>&nbsp;<span class="keyword" id="8374878">if</span>&nbsp;<span class="ident" id="8374881">tok</span>&nbsp;<span class="op" id="8374885">==</span>&nbsp;<span class="ident" id="8374888">token</span><span class="op" id="8374893">.</span><span class="ident" id="8374894">SEMICOLON</span>&nbsp;<span class="op" id="8374904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374909">t</span><span class="op" id="8374910">.</span><span class="ident" id="8374911">Errorf</span><span class="op" id="8374917">(</span><span class="string" id="8374918">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="8374958">,</span>&nbsp;<span class="ident" id="8374960">line</span><span class="op" id="8374964">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374972">pos</span><span class="op" id="8374975">,</span>&nbsp;<span class="ident" id="8374977">tok</span><span class="op" id="8374980">,</span>&nbsp;<span class="ident" id="8374982">lit</span>&nbsp;<span class="op" id="8374986">=</span>&nbsp;<span class="ident" id="8374988">S</span><span class="op" id="8374989">.</span><span class="ident" id="8374990">Scan</span><span class="op" id="8374994">(</span><span class="op" id="8374995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374998">}</span><br>
<span class="lineno"></span><span class="op" id="8375000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="8375003">var</span>&nbsp;<span class="ident" id="8375007">lines</span>&nbsp;<span class="op" id="8375013">=</span>&nbsp;<span class="op" id="8375015">[</span><span class="op" id="8375016">]</span><span class="builtintype" id="8375017">string</span><span class="op" id="8375023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8375026">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8375076">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375128">&#34;&#34;</span><span class="op" id="8375130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375133">&#34;\ufeff#;&#34;</span><span class="op" id="8375143">,</span>&nbsp;<span class="comment" id="8375145">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375170">&#34;#;&#34;</span><span class="op" id="8375174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375177">&#34;foo$\n&#34;</span><span class="op" id="8375185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375188">&#34;123$\n&#34;</span><span class="op" id="8375196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375199">&#34;1.2$\n&#34;</span><span class="op" id="8375207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375210">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="8375218">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375221">`&#34;x&#34;`</span>&nbsp;<span class="op" id="8375227">+</span>&nbsp;<span class="string" id="8375229">&#34;$\n&#34;</span><span class="op" id="8375234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375237">&#34;`x`$\n&#34;</span><span class="op" id="8375245">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375249">&#34;+\n&#34;</span><span class="op" id="8375254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375257">&#34;-\n&#34;</span><span class="op" id="8375262">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375265">&#34;*\n&#34;</span><span class="op" id="8375270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375273">&#34;/\n&#34;</span><span class="op" id="8375278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375281">&#34;%\n&#34;</span><span class="op" id="8375286">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375290">&#34;&amp;\n&#34;</span><span class="op" id="8375295">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375298">&#34;|\n&#34;</span><span class="op" id="8375303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375306">&#34;^\n&#34;</span><span class="op" id="8375311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375314">&#34;&lt;&lt;\n&#34;</span><span class="op" id="8375320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375323">&#34;&gt;&gt;\n&#34;</span><span class="op" id="8375329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375332">&#34;&amp;^\n&#34;</span><span class="op" id="8375338">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375342">&#34;+=\n&#34;</span><span class="op" id="8375348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375351">&#34;-=\n&#34;</span><span class="op" id="8375357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375360">&#34;*=\n&#34;</span><span class="op" id="8375366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375369">&#34;/=\n&#34;</span><span class="op" id="8375375">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375378">&#34;%=\n&#34;</span><span class="op" id="8375384">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375388">&#34;&amp;=\n&#34;</span><span class="op" id="8375394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375397">&#34;|=\n&#34;</span><span class="op" id="8375403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375406">&#34;^=\n&#34;</span><span class="op" id="8375412">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375415">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="8375422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375425">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="8375432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375435">&#34;&amp;^=\n&#34;</span><span class="op" id="8375442">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375446">&#34;&amp;&amp;\n&#34;</span><span class="op" id="8375452">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375455">&#34;||\n&#34;</span><span class="op" id="8375461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375464">&#34;&lt;-\n&#34;</span><span class="op" id="8375470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375473">&#34;++$\n&#34;</span><span class="op" id="8375480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375483">&#34;--$\n&#34;</span><span class="op" id="8375490">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375494">&#34;==\n&#34;</span><span class="op" id="8375500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375503">&#34;&lt;\n&#34;</span><span class="op" id="8375508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375511">&#34;&gt;\n&#34;</span><span class="op" id="8375516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375519">&#34;=\n&#34;</span><span class="op" id="8375524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375527">&#34;!\n&#34;</span><span class="op" id="8375532">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375536">&#34;!=\n&#34;</span><span class="op" id="8375542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375545">&#34;&lt;=\n&#34;</span><span class="op" id="8375551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375554">&#34;&gt;=\n&#34;</span><span class="op" id="8375560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375563">&#34;:=\n&#34;</span><span class="op" id="8375569">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375572">&#34;...\n&#34;</span><span class="op" id="8375579">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375583">&#34;(\n&#34;</span><span class="op" id="8375588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375591">&#34;[\n&#34;</span><span class="op" id="8375596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375599">&#34;{\n&#34;</span><span class="op" id="8375604">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375607">&#34;,\n&#34;</span><span class="op" id="8375612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375615">&#34;.\n&#34;</span><span class="op" id="8375620">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375624">&#34;)$\n&#34;</span><span class="op" id="8375630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375633">&#34;]$\n&#34;</span><span class="op" id="8375639">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375642">&#34;}$\n&#34;</span><span class="op" id="8375648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375651">&#34;#;\n&#34;</span><span class="op" id="8375657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375660">&#34;:\n&#34;</span><span class="op" id="8375665">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375669">&#34;break$\n&#34;</span><span class="op" id="8375679">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375682">&#34;case\n&#34;</span><span class="op" id="8375690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375693">&#34;chan\n&#34;</span><span class="op" id="8375701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375704">&#34;const\n&#34;</span><span class="op" id="8375713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375716">&#34;continue$\n&#34;</span><span class="op" id="8375729">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375733">&#34;default\n&#34;</span><span class="op" id="8375744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375747">&#34;defer\n&#34;</span><span class="op" id="8375756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375759">&#34;else\n&#34;</span><span class="op" id="8375767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375770">&#34;fallthrough$\n&#34;</span><span class="op" id="8375786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375789">&#34;for\n&#34;</span><span class="op" id="8375796">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375800">&#34;func\n&#34;</span><span class="op" id="8375808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375811">&#34;go\n&#34;</span><span class="op" id="8375817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375820">&#34;goto\n&#34;</span><span class="op" id="8375828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375831">&#34;if\n&#34;</span><span class="op" id="8375837">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375840">&#34;import\n&#34;</span><span class="op" id="8375850">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375854">&#34;interface\n&#34;</span><span class="op" id="8375867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375870">&#34;map\n&#34;</span><span class="op" id="8375877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375880">&#34;package\n&#34;</span><span class="op" id="8375891">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375894">&#34;range\n&#34;</span><span class="op" id="8375903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375906">&#34;return$\n&#34;</span><span class="op" id="8375917">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375921">&#34;select\n&#34;</span><span class="op" id="8375931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375934">&#34;struct\n&#34;</span><span class="op" id="8375944">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375947">&#34;switch\n&#34;</span><span class="op" id="8375957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375960">&#34;type\n&#34;</span><span class="op" id="8375968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375971">&#34;var\n&#34;</span><span class="op" id="8375978">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375982">&#34;foo$//comment\n&#34;</span><span class="op" id="8375999">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376002">&#34;foo$//comment&#34;</span><span class="op" id="8376017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376020">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="8376039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376042">&#34;foo$/*\n*/&#34;</span><span class="op" id="8376054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376057">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8376080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376083">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8376099">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376103">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="8376125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376128">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="8376148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376151">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="8376174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376177">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="8376193">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376196">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="8376232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376235">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="8376264">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376268">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8376295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376298">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8376331">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376334">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="8376405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376408">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="8376448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376451">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="8376494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376497">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="8376540">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376544">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="8376611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376614">&#34;package&nbsp;main$&#34;</span><span class="op" id="8376629">,</span><br>
<span class="lineno"></span><span class="op" id="8376631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8376634">func</span>&nbsp;<span class="ident" id="8376639">TestSemis</span><span class="op" id="8376648">(</span><span class="ident" id="8376649">t</span>&nbsp;<span class="op" id="8376651">*</span><span class="ident" id="8376652">testing</span><span class="op" id="8376659">.</span><span class="ident" id="8376660">T</span><span class="op" id="8376661">)</span>&nbsp;<span class="op" id="8376663">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8376666">for</span>&nbsp;<span class="ident" id="8376670">_</span><span class="op" id="8376671">,</span>&nbsp;<span class="ident" id="8376673">line</span>&nbsp;<span class="op" id="8376678">:=</span>&nbsp;<span class="keyword" id="8376681">range</span>&nbsp;<span class="ident" id="8376687">lines</span>&nbsp;<span class="op" id="8376693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376697">checkSemi</span><span class="op" id="8376706">(</span><span class="ident" id="8376707">t</span><span class="op" id="8376708">,</span>&nbsp;<span class="ident" id="8376710">line</span><span class="op" id="8376714">,</span>&nbsp;<span class="num" id="8376716">0</span><span class="op" id="8376717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376721">checkSemi</span><span class="op" id="8376730">(</span><span class="ident" id="8376731">t</span><span class="op" id="8376732">,</span>&nbsp;<span class="ident" id="8376734">line</span><span class="op" id="8376738">,</span>&nbsp;<span class="ident" id="8376740">ScanComments</span><span class="op" id="8376752">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8376757">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8376822">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8376863">for</span>&nbsp;<span class="ident" id="8376867">i</span>&nbsp;<span class="op" id="8376869">:=</span>&nbsp;<span class="builtinfunc" id="8376872">len</span><span class="op" id="8376875">(</span><span class="ident" id="8376876">line</span><span class="op" id="8376880">)</span>&nbsp;<span class="op" id="8376882">-</span>&nbsp;<span class="num" id="8376884">1</span><span class="op" id="8376885">;</span>&nbsp;<span class="ident" id="8376887">i</span>&nbsp;<span class="op" id="8376889">&gt;=</span>&nbsp;<span class="num" id="8376892">0</span>&nbsp;<span class="op" id="8376894">&amp;&amp;</span>&nbsp;<span class="ident" id="8376897">line</span><span class="op" id="8376901">[</span><span class="ident" id="8376902">i</span><span class="op" id="8376903">]</span>&nbsp;<span class="op" id="8376905">==</span>&nbsp;<span class="string" id="8376908">&#39;\n&#39;</span><span class="op" id="8376912">;</span>&nbsp;<span class="ident" id="8376914">i</span><span class="op" id="8376915">--</span>&nbsp;<span class="op" id="8376918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376923">checkSemi</span><span class="op" id="8376932">(</span><span class="ident" id="8376933">t</span><span class="op" id="8376934">,</span>&nbsp;<span class="ident" id="8376936">line</span><span class="op" id="8376940">[</span><span class="num" id="8376941">0</span><span class="op" id="8376942">:</span><span class="ident" id="8376943">i</span><span class="op" id="8376944">]</span><span class="op" id="8376945">,</span>&nbsp;<span class="num" id="8376947">0</span><span class="op" id="8376948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376953">checkSemi</span><span class="op" id="8376962">(</span><span class="ident" id="8376963">t</span><span class="op" id="8376964">,</span>&nbsp;<span class="ident" id="8376966">line</span><span class="op" id="8376970">[</span><span class="num" id="8376971">0</span><span class="op" id="8376972">:</span><span class="ident" id="8376973">i</span><span class="op" id="8376974">]</span><span class="op" id="8376975">,</span>&nbsp;<span class="ident" id="8376977">ScanComments</span><span class="op" id="8376989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8376993">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8376996">}</span><br>
<span class="lineno"></span><span class="op" id="8376998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8377001">type</span>&nbsp;<span class="ident" id="8377006">segment</span>&nbsp;<span class="keyword" id="8377014">struct</span>&nbsp;<span class="op" id="8377021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377024">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="8377033">string</span>&nbsp;<span class="comment" id="8377040">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377066">filename</span>&nbsp;<span class="builtintype" id="8377075">string</span>&nbsp;<span class="comment" id="8377082">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377113">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8377122">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8377129">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="8377162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8377165">var</span>&nbsp;<span class="ident" id="8377169">segments</span>&nbsp;<span class="op" id="8377178">=</span>&nbsp;<span class="op" id="8377180">[</span><span class="op" id="8377181">]</span><span class="ident" id="8377182">segment</span><span class="op" id="8377189">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8377192">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377269">{</span><span class="string" id="8377270">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="8377279">,</span>&nbsp;<span class="ident" id="8377281">filepath</span><span class="op" id="8377289">.</span><span class="ident" id="8377290">Join</span><span class="op" id="8377294">(</span><span class="string" id="8377295">&#34;dir&#34;</span><span class="op" id="8377300">,</span>&nbsp;<span class="string" id="8377302">&#34;TestLineComments&#34;</span><span class="op" id="8377320">)</span><span class="op" id="8377321">,</span>&nbsp;<span class="num" id="8377323">1</span><span class="op" id="8377324">}</span><span class="op" id="8377325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377328">{</span><span class="string" id="8377329">&#34;\nline2&#34;</span><span class="op" id="8377338">,</span>&nbsp;<span class="ident" id="8377340">filepath</span><span class="op" id="8377348">.</span><span class="ident" id="8377349">Join</span><span class="op" id="8377353">(</span><span class="string" id="8377354">&#34;dir&#34;</span><span class="op" id="8377359">,</span>&nbsp;<span class="string" id="8377361">&#34;TestLineComments&#34;</span><span class="op" id="8377379">)</span><span class="op" id="8377380">,</span>&nbsp;<span class="num" id="8377382">2</span><span class="op" id="8377383">}</span><span class="op" id="8377384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377387">{</span><span class="string" id="8377388">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="8377418">,</span>&nbsp;<span class="ident" id="8377420">filepath</span><span class="op" id="8377428">.</span><span class="ident" id="8377429">Join</span><span class="op" id="8377433">(</span><span class="string" id="8377434">&#34;dir&#34;</span><span class="op" id="8377439">,</span>&nbsp;<span class="string" id="8377441">&#34;TestLineComments&#34;</span><span class="op" id="8377459">)</span><span class="op" id="8377460">,</span>&nbsp;<span class="num" id="8377462">3</span><span class="op" id="8377463">}</span><span class="op" id="8377464">,</span>&nbsp;<span class="comment" id="8377466">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377496">{</span><span class="string" id="8377497">&#34;\nline4&#34;</span><span class="op" id="8377506">,</span>&nbsp;<span class="ident" id="8377508">filepath</span><span class="op" id="8377516">.</span><span class="ident" id="8377517">Join</span><span class="op" id="8377521">(</span><span class="string" id="8377522">&#34;dir&#34;</span><span class="op" id="8377527">,</span>&nbsp;<span class="string" id="8377529">&#34;TestLineComments&#34;</span><span class="op" id="8377547">)</span><span class="op" id="8377548">,</span>&nbsp;<span class="num" id="8377550">4</span><span class="op" id="8377551">}</span><span class="op" id="8377552">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377555">{</span><span class="string" id="8377556">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8377590">,</span>&nbsp;<span class="ident" id="8377592">filepath</span><span class="op" id="8377600">.</span><span class="ident" id="8377601">Join</span><span class="op" id="8377605">(</span><span class="string" id="8377606">&#34;dir&#34;</span><span class="op" id="8377611">,</span>&nbsp;<span class="string" id="8377613">&#34;File1.go&#34;</span><span class="op" id="8377623">)</span><span class="op" id="8377624">,</span>&nbsp;<span class="num" id="8377626">100</span><span class="op" id="8377629">}</span><span class="op" id="8377630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377633">{</span><span class="string" id="8377634">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="8377661">,</span>&nbsp;<span class="string" id="8377663">&#34;&#34;</span><span class="op" id="8377665">,</span>&nbsp;<span class="num" id="8377667">42</span><span class="op" id="8377669">}</span><span class="op" id="8377670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377673">{</span><span class="string" id="8377674">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="8377708">,</span>&nbsp;<span class="ident" id="8377710">filepath</span><span class="op" id="8377718">.</span><span class="ident" id="8377719">Join</span><span class="op" id="8377723">(</span><span class="string" id="8377724">&#34;dir&#34;</span><span class="op" id="8377729">,</span>&nbsp;<span class="string" id="8377731">&#34;File2.go&#34;</span><span class="op" id="8377741">)</span><span class="op" id="8377742">,</span>&nbsp;<span class="num" id="8377744">200</span><span class="op" id="8377747">}</span><span class="op" id="8377748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377751">{</span><span class="string" id="8377752">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8377781">,</span>&nbsp;<span class="ident" id="8377783">filepath</span><span class="op" id="8377791">.</span><span class="ident" id="8377792">Join</span><span class="op" id="8377796">(</span><span class="string" id="8377797">&#34;dir&#34;</span><span class="op" id="8377802">,</span>&nbsp;<span class="string" id="8377804">&#34;foo&#34;</span><span class="op" id="8377809">)</span><span class="op" id="8377810">,</span>&nbsp;<span class="num" id="8377812">42</span><span class="op" id="8377814">}</span><span class="op" id="8377815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377818">{</span><span class="string" id="8377819">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="8377847">,</span>&nbsp;<span class="ident" id="8377849">filepath</span><span class="op" id="8377857">.</span><span class="ident" id="8377858">Join</span><span class="op" id="8377862">(</span><span class="string" id="8377863">&#34;dir&#34;</span><span class="op" id="8377868">,</span>&nbsp;<span class="string" id="8377870">&#34;foo&#34;</span><span class="op" id="8377875">)</span><span class="op" id="8377876">,</span>&nbsp;<span class="num" id="8377878">44</span><span class="op" id="8377880">}</span><span class="op" id="8377881">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8377893">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377923">{</span><span class="string" id="8377924">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="8377951">,</span>&nbsp;<span class="ident" id="8377953">filepath</span><span class="op" id="8377961">.</span><span class="ident" id="8377962">Join</span><span class="op" id="8377966">(</span><span class="string" id="8377967">&#34;dir&#34;</span><span class="op" id="8377972">,</span>&nbsp;<span class="string" id="8377974">&#34;foo&#34;</span><span class="op" id="8377979">)</span><span class="op" id="8377980">,</span>&nbsp;<span class="num" id="8377982">46</span><span class="op" id="8377984">}</span><span class="op" id="8377985">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8377998">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378028">{</span><span class="string" id="8378029">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="8378067">,</span>&nbsp;<span class="ident" id="8378069">filepath</span><span class="op" id="8378077">.</span><span class="ident" id="8378078">Join</span><span class="op" id="8378082">(</span><span class="string" id="8378083">&#34;dir&#34;</span><span class="op" id="8378088">,</span>&nbsp;<span class="string" id="8378090">&#34;foo&#34;</span><span class="op" id="8378095">)</span><span class="op" id="8378096">,</span>&nbsp;<span class="num" id="8378098">48</span><span class="op" id="8378100">}</span><span class="op" id="8378101">,</span>&nbsp;<span class="comment" id="8378103">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378133">{</span><span class="string" id="8378134">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8378163">,</span>&nbsp;<span class="ident" id="8378165">filepath</span><span class="op" id="8378173">.</span><span class="ident" id="8378174">Join</span><span class="op" id="8378178">(</span><span class="string" id="8378179">&#34;dir&#34;</span><span class="op" id="8378184">,</span>&nbsp;<span class="string" id="8378186">&#34;foo&#34;</span><span class="op" id="8378191">)</span><span class="op" id="8378192">,</span>&nbsp;<span class="num" id="8378194">42</span><span class="op" id="8378196">}</span><span class="op" id="8378197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378200">{</span><span class="string" id="8378201">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8378241">,</span>&nbsp;<span class="ident" id="8378243">filepath</span><span class="op" id="8378251">.</span><span class="ident" id="8378252">Join</span><span class="op" id="8378256">(</span><span class="string" id="8378257">&#34;dir&#34;</span><span class="op" id="8378262">,</span>&nbsp;<span class="string" id="8378264">&#34;a&#34;</span><span class="op" id="8378267">,</span>&nbsp;<span class="string" id="8378269">&#34;b&#34;</span><span class="op" id="8378272">,</span>&nbsp;<span class="string" id="8378274">&#34;c&#34;</span><span class="op" id="8378277">,</span>&nbsp;<span class="string" id="8378279">&#34;File1.go&#34;</span><span class="op" id="8378289">)</span><span class="op" id="8378290">,</span>&nbsp;<span class="num" id="8378292">100</span><span class="op" id="8378295">}</span><span class="op" id="8378296">,</span><br>
<span class="lineno"></span><span class="op" id="8378298">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="8378301">var</span>&nbsp;<span class="ident" id="8378305">unixsegments</span>&nbsp;<span class="op" id="8378318">=</span>&nbsp;<span class="op" id="8378320">[</span><span class="op" id="8378321">]</span><span class="ident" id="8378322">segment</span><span class="op" id="8378329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378332">{</span><span class="string" id="8378333">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8378361">,</span>&nbsp;<span class="string" id="8378363">&#34;/bar&#34;</span><span class="op" id="8378369">,</span>&nbsp;<span class="num" id="8378371">42</span><span class="op" id="8378373">}</span><span class="op" id="8378374">,</span><br>
<span class="lineno"></span><span class="op" id="8378376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="8378379">var</span>&nbsp;<span class="ident" id="8378383">winsegments</span>&nbsp;<span class="op" id="8378395">=</span>&nbsp;<span class="op" id="8378397">[</span><span class="op" id="8378398">]</span><span class="ident" id="8378399">segment</span><span class="op" id="8378406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378409">{</span><span class="string" id="8378410">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8378441">,</span>&nbsp;<span class="string" id="8378443">&#34;c:\\bar&#34;</span><span class="op" id="8378452">,</span>&nbsp;<span class="num" id="8378454">42</span><span class="op" id="8378456">}</span><span class="op" id="8378457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378460">{</span><span class="string" id="8378461">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8378504">,</span>&nbsp;<span class="string" id="8378506">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="8378525">,</span>&nbsp;<span class="num" id="8378527">100</span><span class="op" id="8378530">}</span><span class="op" id="8378531">,</span><br>
<span class="lineno"></span><span class="op" id="8378533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="8378536">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8378622">func</span>&nbsp;<span class="ident" id="8378627">TestLineComments</span><span class="op" id="8378643">(</span><span class="ident" id="8378644">t</span>&nbsp;<span class="op" id="8378646">*</span><span class="ident" id="8378647">testing</span><span class="op" id="8378654">.</span><span class="ident" id="8378655">T</span><span class="op" id="8378656">)</span>&nbsp;<span class="op" id="8378658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378661">segs</span>&nbsp;<span class="op" id="8378666">:=</span>&nbsp;<span class="ident" id="8378669">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378679">if</span>&nbsp;<span class="ident" id="8378682">runtime</span><span class="op" id="8378689">.</span><span class="ident" id="8378690">GOOS</span>&nbsp;<span class="op" id="8378695">==</span>&nbsp;<span class="string" id="8378698">&#34;windows&#34;</span>&nbsp;<span class="op" id="8378708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378712">segs</span>&nbsp;<span class="op" id="8378717">=</span>&nbsp;<span class="builtinfunc" id="8378719">append</span><span class="op" id="8378725">(</span><span class="ident" id="8378726">segs</span><span class="op" id="8378730">,</span>&nbsp;<span class="ident" id="8378732">winsegments</span><span class="op" id="8378743">...</span><span class="op" id="8378746">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378749">}</span>&nbsp;<span class="keyword" id="8378751">else</span>&nbsp;<span class="op" id="8378756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378760">segs</span>&nbsp;<span class="op" id="8378765">=</span>&nbsp;<span class="builtinfunc" id="8378767">append</span><span class="op" id="8378773">(</span><span class="ident" id="8378774">segs</span><span class="op" id="8378778">,</span>&nbsp;<span class="ident" id="8378780">unixsegments</span><span class="op" id="8378792">...</span><span class="op" id="8378795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8378802">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378818">var</span>&nbsp;<span class="ident" id="8378822">src</span>&nbsp;<span class="builtintype" id="8378826">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378834">for</span>&nbsp;<span class="ident" id="8378838">_</span><span class="op" id="8378839">,</span>&nbsp;<span class="ident" id="8378841">e</span>&nbsp;<span class="op" id="8378843">:=</span>&nbsp;<span class="keyword" id="8378846">range</span>&nbsp;<span class="ident" id="8378852">segs</span>&nbsp;<span class="op" id="8378857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378861">src</span>&nbsp;<span class="op" id="8378865">+=</span>&nbsp;<span class="ident" id="8378868">e</span><span class="op" id="8378869">.</span><span class="ident" id="8378870">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8378883">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378899">var</span>&nbsp;<span class="ident" id="8378903">S</span>&nbsp;<span class="ident" id="8378905">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378914">file</span>&nbsp;<span class="op" id="8378919">:=</span>&nbsp;<span class="ident" id="8378922">fset</span><span class="op" id="8378926">.</span><span class="ident" id="8378927">AddFile</span><span class="op" id="8378934">(</span><span class="ident" id="8378935">filepath</span><span class="op" id="8378943">.</span><span class="ident" id="8378944">Join</span><span class="op" id="8378948">(</span><span class="string" id="8378949">&#34;dir&#34;</span><span class="op" id="8378954">,</span>&nbsp;<span class="string" id="8378956">&#34;TestLineComments&#34;</span><span class="op" id="8378974">)</span><span class="op" id="8378975">,</span>&nbsp;<span class="ident" id="8378977">fset</span><span class="op" id="8378981">.</span><span class="ident" id="8378982">Base</span><span class="op" id="8378986">(</span><span class="op" id="8378987">)</span><span class="op" id="8378988">,</span>&nbsp;<span class="builtinfunc" id="8378990">len</span><span class="op" id="8378993">(</span><span class="ident" id="8378994">src</span><span class="op" id="8378997">)</span><span class="op" id="8378998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379001">S</span><span class="op" id="8379002">.</span><span class="ident" id="8379003">Init</span><span class="op" id="8379007">(</span><span class="ident" id="8379008">file</span><span class="op" id="8379012">,</span>&nbsp;<span class="op" id="8379014">[</span><span class="op" id="8379015">]</span><span class="builtintype" id="8379016">byte</span><span class="op" id="8379020">(</span><span class="ident" id="8379021">src</span><span class="op" id="8379024">)</span><span class="op" id="8379025">,</span>&nbsp;<span class="ident" id="8379027">nil</span><span class="op" id="8379030">,</span>&nbsp;<span class="ident" id="8379032">dontInsertSemis</span><span class="op" id="8379047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8379050">for</span>&nbsp;<span class="ident" id="8379054">_</span><span class="op" id="8379055">,</span>&nbsp;<span class="ident" id="8379057">s</span>&nbsp;<span class="op" id="8379059">:=</span>&nbsp;<span class="keyword" id="8379062">range</span>&nbsp;<span class="ident" id="8379068">segs</span>&nbsp;<span class="op" id="8379073">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379077">p</span><span class="op" id="8379078">,</span>&nbsp;<span class="ident" id="8379080">_</span><span class="op" id="8379081">,</span>&nbsp;<span class="ident" id="8379083">lit</span>&nbsp;<span class="op" id="8379087">:=</span>&nbsp;<span class="ident" id="8379090">S</span><span class="op" id="8379091">.</span><span class="ident" id="8379092">Scan</span><span class="op" id="8379096">(</span><span class="op" id="8379097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379101">pos</span>&nbsp;<span class="op" id="8379105">:=</span>&nbsp;<span class="ident" id="8379108">file</span><span class="op" id="8379112">.</span><span class="ident" id="8379113">Position</span><span class="op" id="8379121">(</span><span class="ident" id="8379122">p</span><span class="op" id="8379123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379127">checkPos</span><span class="op" id="8379135">(</span><span class="ident" id="8379136">t</span><span class="op" id="8379137">,</span>&nbsp;<span class="ident" id="8379139">lit</span><span class="op" id="8379142">,</span>&nbsp;<span class="ident" id="8379144">p</span><span class="op" id="8379145">,</span>&nbsp;<span class="ident" id="8379147">token</span><span class="op" id="8379152">.</span><span class="ident" id="8379153">Position</span><span class="op" id="8379161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379166">Filename</span><span class="op" id="8379174">:</span>&nbsp;<span class="ident" id="8379176">s</span><span class="op" id="8379177">.</span><span class="ident" id="8379178">filename</span><span class="op" id="8379186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379191">Offset</span><span class="op" id="8379197">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8379201">pos</span><span class="op" id="8379204">.</span><span class="ident" id="8379205">Offset</span><span class="op" id="8379211">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379216">Line</span><span class="op" id="8379220">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379226">s</span><span class="op" id="8379227">.</span><span class="ident" id="8379228">line</span><span class="op" id="8379232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379237">Column</span><span class="op" id="8379243">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8379247">pos</span><span class="op" id="8379250">.</span><span class="ident" id="8379251">Column</span><span class="op" id="8379257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379261">}</span><span class="op" id="8379262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8379269">if</span>&nbsp;<span class="ident" id="8379272">S</span><span class="op" id="8379273">.</span><span class="ident" id="8379274">ErrorCount</span>&nbsp;<span class="op" id="8379285">!=</span>&nbsp;<span class="num" id="8379288">0</span>&nbsp;<span class="op" id="8379290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379294">t</span><span class="op" id="8379295">.</span><span class="ident" id="8379296">Errorf</span><span class="op" id="8379302">(</span><span class="string" id="8379303">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8379320">,</span>&nbsp;<span class="ident" id="8379322">S</span><span class="op" id="8379323">.</span><span class="ident" id="8379324">ErrorCount</span><span class="op" id="8379334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379337">}</span><br>
<span class="lineno"></span><span class="op" id="8379339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="8379342">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8379419">func</span>&nbsp;<span class="ident" id="8379424">TestInit</span><span class="op" id="8379432">(</span><span class="ident" id="8379433">t</span>&nbsp;<span class="op" id="8379435">*</span><span class="ident" id="8379436">testing</span><span class="op" id="8379443">.</span><span class="ident" id="8379444">T</span><span class="op" id="8379445">)</span>&nbsp;<span class="op" id="8379447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8379450">var</span>&nbsp;<span class="ident" id="8379454">s</span>&nbsp;<span class="ident" id="8379456">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8379466">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379479">src1</span>&nbsp;<span class="op" id="8379484">:=</span>&nbsp;<span class="string" id="8379487">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379502">f1</span>&nbsp;<span class="op" id="8379505">:=</span>&nbsp;<span class="ident" id="8379508">fset</span><span class="op" id="8379512">.</span><span class="ident" id="8379513">AddFile</span><span class="op" id="8379520">(</span><span class="string" id="8379521">&#34;src1&#34;</span><span class="op" id="8379527">,</span>&nbsp;<span class="ident" id="8379529">fset</span><span class="op" id="8379533">.</span><span class="ident" id="8379534">Base</span><span class="op" id="8379538">(</span><span class="op" id="8379539">)</span><span class="op" id="8379540">,</span>&nbsp;<span class="builtinfunc" id="8379542">len</span><span class="op" id="8379545">(</span><span class="ident" id="8379546">src1</span><span class="op" id="8379550">)</span><span class="op" id="8379551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379554">s</span><span class="op" id="8379555">.</span><span class="ident" id="8379556">Init</span><span class="op" id="8379560">(</span><span class="ident" id="8379561">f1</span><span class="op" id="8379563">,</span>&nbsp;<span class="op" id="8379565">[</span><span class="op" id="8379566">]</span><span class="builtintype" id="8379567">byte</span><span class="op" id="8379571">(</span><span class="ident" id="8379572">src1</span><span class="op" id="8379576">)</span><span class="op" id="8379577">,</span>&nbsp;<span class="ident" id="8379579">nil</span><span class="op" id="8379582">,</span>&nbsp;<span class="ident" id="8379584">dontInsertSemis</span><span class="op" id="8379599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8379602">if</span>&nbsp;<span class="ident" id="8379605">f1</span><span class="op" id="8379607">.</span><span class="ident" id="8379608">Size</span><span class="op" id="8379612">(</span><span class="op" id="8379613">)</span>&nbsp;<span class="op" id="8379615">!=</span>&nbsp;<span class="builtinfunc" id="8379618">len</span><span class="op" id="8379621">(</span><span class="ident" id="8379622">src1</span><span class="op" id="8379626">)</span>&nbsp;<span class="op" id="8379628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379632">t</span><span class="op" id="8379633">.</span><span class="ident" id="8379634">Errorf</span><span class="op" id="8379640">(</span><span class="string" id="8379641">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8379677">,</span>&nbsp;<span class="ident" id="8379679">f1</span><span class="op" id="8379681">.</span><span class="ident" id="8379682">Size</span><span class="op" id="8379686">(</span><span class="op" id="8379687">)</span><span class="op" id="8379688">,</span>&nbsp;<span class="builtinfunc" id="8379690">len</span><span class="op" id="8379693">(</span><span class="ident" id="8379694">src1</span><span class="op" id="8379698">)</span><span class="op" id="8379699">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379705">s</span><span class="op" id="8379706">.</span><span class="ident" id="8379707">Scan</span><span class="op" id="8379711">(</span><span class="op" id="8379712">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8379727">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379734">s</span><span class="op" id="8379735">.</span><span class="ident" id="8379736">Scan</span><span class="op" id="8379740">(</span><span class="op" id="8379741">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8379756">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379765">_</span><span class="op" id="8379766">,</span>&nbsp;<span class="ident" id="8379768">tok</span><span class="op" id="8379771">,</span>&nbsp;<span class="ident" id="8379773">_</span>&nbsp;<span class="op" id="8379775">:=</span>&nbsp;<span class="ident" id="8379778">s</span><span class="op" id="8379779">.</span><span class="ident" id="8379780">Scan</span><span class="op" id="8379784">(</span><span class="op" id="8379785">)</span>&nbsp;<span class="comment" id="8379787">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8379793">if</span>&nbsp;<span class="ident" id="8379796">tok</span>&nbsp;<span class="op" id="8379800">!=</span>&nbsp;<span class="ident" id="8379803">token</span><span class="op" id="8379808">.</span><span class="ident" id="8379809">LBRACE</span>&nbsp;<span class="op" id="8379816">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379820">t</span><span class="op" id="8379821">.</span><span class="ident" id="8379822">Errorf</span><span class="op" id="8379828">(</span><span class="string" id="8379829">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8379861">,</span>&nbsp;<span class="ident" id="8379863">tok</span><span class="op" id="8379866">,</span>&nbsp;<span class="ident" id="8379868">token</span><span class="op" id="8379873">.</span><span class="ident" id="8379874">LBRACE</span><span class="op" id="8379880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8379887">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379900">src2</span>&nbsp;<span class="op" id="8379905">:=</span>&nbsp;<span class="string" id="8379908">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379923">f2</span>&nbsp;<span class="op" id="8379926">:=</span>&nbsp;<span class="ident" id="8379929">fset</span><span class="op" id="8379933">.</span><span class="ident" id="8379934">AddFile</span><span class="op" id="8379941">(</span><span class="string" id="8379942">&#34;src2&#34;</span><span class="op" id="8379948">,</span>&nbsp;<span class="ident" id="8379950">fset</span><span class="op" id="8379954">.</span><span class="ident" id="8379955">Base</span><span class="op" id="8379959">(</span><span class="op" id="8379960">)</span><span class="op" id="8379961">,</span>&nbsp;<span class="builtinfunc" id="8379963">len</span><span class="op" id="8379966">(</span><span class="ident" id="8379967">src2</span><span class="op" id="8379971">)</span><span class="op" id="8379972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379975">s</span><span class="op" id="8379976">.</span><span class="ident" id="8379977">Init</span><span class="op" id="8379981">(</span><span class="ident" id="8379982">f2</span><span class="op" id="8379984">,</span>&nbsp;<span class="op" id="8379986">[</span><span class="op" id="8379987">]</span><span class="builtintype" id="8379988">byte</span><span class="op" id="8379992">(</span><span class="ident" id="8379993">src2</span><span class="op" id="8379997">)</span><span class="op" id="8379998">,</span>&nbsp;<span class="ident" id="8380000">nil</span><span class="op" id="8380003">,</span>&nbsp;<span class="ident" id="8380005">dontInsertSemis</span><span class="op" id="8380020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380023">if</span>&nbsp;<span class="ident" id="8380026">f2</span><span class="op" id="8380028">.</span><span class="ident" id="8380029">Size</span><span class="op" id="8380033">(</span><span class="op" id="8380034">)</span>&nbsp;<span class="op" id="8380036">!=</span>&nbsp;<span class="builtinfunc" id="8380039">len</span><span class="op" id="8380042">(</span><span class="ident" id="8380043">src2</span><span class="op" id="8380047">)</span>&nbsp;<span class="op" id="8380049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380053">t</span><span class="op" id="8380054">.</span><span class="ident" id="8380055">Errorf</span><span class="op" id="8380061">(</span><span class="string" id="8380062">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8380098">,</span>&nbsp;<span class="ident" id="8380100">f2</span><span class="op" id="8380102">.</span><span class="ident" id="8380103">Size</span><span class="op" id="8380107">(</span><span class="op" id="8380108">)</span><span class="op" id="8380109">,</span>&nbsp;<span class="builtinfunc" id="8380111">len</span><span class="op" id="8380114">(</span><span class="ident" id="8380115">src2</span><span class="op" id="8380119">)</span><span class="op" id="8380120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380123">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380126">_</span><span class="op" id="8380127">,</span>&nbsp;<span class="ident" id="8380129">tok</span><span class="op" id="8380132">,</span>&nbsp;<span class="ident" id="8380134">_</span>&nbsp;<span class="op" id="8380136">=</span>&nbsp;<span class="ident" id="8380138">s</span><span class="op" id="8380139">.</span><span class="ident" id="8380140">Scan</span><span class="op" id="8380144">(</span><span class="op" id="8380145">)</span>&nbsp;<span class="comment" id="8380147">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380154">if</span>&nbsp;<span class="ident" id="8380157">tok</span>&nbsp;<span class="op" id="8380161">!=</span>&nbsp;<span class="ident" id="8380164">token</span><span class="op" id="8380169">.</span><span class="ident" id="8380170">GO</span>&nbsp;<span class="op" id="8380173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380177">t</span><span class="op" id="8380178">.</span><span class="ident" id="8380179">Errorf</span><span class="op" id="8380185">(</span><span class="string" id="8380186">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8380218">,</span>&nbsp;<span class="ident" id="8380220">tok</span><span class="op" id="8380223">,</span>&nbsp;<span class="ident" id="8380225">token</span><span class="op" id="8380230">.</span><span class="ident" id="8380231">GO</span><span class="op" id="8380233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380240">if</span>&nbsp;<span class="ident" id="8380243">s</span><span class="op" id="8380244">.</span><span class="ident" id="8380245">ErrorCount</span>&nbsp;<span class="op" id="8380256">!=</span>&nbsp;<span class="num" id="8380259">0</span>&nbsp;<span class="op" id="8380261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380265">t</span><span class="op" id="8380266">.</span><span class="ident" id="8380267">Errorf</span><span class="op" id="8380273">(</span><span class="string" id="8380274">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8380291">,</span>&nbsp;<span class="ident" id="8380293">s</span><span class="op" id="8380294">.</span><span class="ident" id="8380295">ErrorCount</span><span class="op" id="8380305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380308">}</span><br>
<span class="lineno"></span><span class="op" id="8380310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="8380313">func</span>&nbsp;<span class="ident" id="8380318">TestStdErrorHander</span><span class="op" id="8380336">(</span><span class="ident" id="8380337">t</span>&nbsp;<span class="op" id="8380339">*</span><span class="ident" id="8380340">testing</span><span class="op" id="8380347">.</span><span class="ident" id="8380348">T</span><span class="op" id="8380349">)</span>&nbsp;<span class="op" id="8380351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380354">const</span>&nbsp;<span class="ident" id="8380360">src</span>&nbsp;<span class="op" id="8380364">=</span>&nbsp;<span class="string" id="8380366">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8380372">+</span>&nbsp;<span class="comment" id="8380374">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8380413">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8380421">+</span>&nbsp;<span class="comment" id="8380423">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8380456">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="8380476">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8380480">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8380486">+</span>&nbsp;<span class="comment" id="8380488">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8380523">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="8380542">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8380546">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8380554">+</span>&nbsp;<span class="comment" id="8380556">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8380595">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="8380614">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8380618">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="8380626">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380659">var</span>&nbsp;<span class="ident" id="8380663">list</span>&nbsp;<span class="ident" id="8380668">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380679">eh</span>&nbsp;<span class="op" id="8380682">:=</span>&nbsp;<span class="keyword" id="8380685">func</span><span class="op" id="8380689">(</span><span class="ident" id="8380690">pos</span>&nbsp;<span class="ident" id="8380694">token</span><span class="op" id="8380699">.</span><span class="ident" id="8380700">Position</span><span class="op" id="8380708">,</span>&nbsp;<span class="ident" id="8380710">msg</span>&nbsp;<span class="builtintype" id="8380714">string</span><span class="op" id="8380720">)</span>&nbsp;<span class="op" id="8380722">{</span>&nbsp;<span class="ident" id="8380724">list</span><span class="op" id="8380728">.</span><span class="ident" id="8380729">Add</span><span class="op" id="8380732">(</span><span class="ident" id="8380733">pos</span><span class="op" id="8380736">,</span>&nbsp;<span class="ident" id="8380738">msg</span><span class="op" id="8380741">)</span>&nbsp;<span class="op" id="8380743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380747">var</span>&nbsp;<span class="ident" id="8380751">s</span>&nbsp;<span class="ident" id="8380753">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380762">s</span><span class="op" id="8380763">.</span><span class="ident" id="8380764">Init</span><span class="op" id="8380768">(</span><span class="ident" id="8380769">fset</span><span class="op" id="8380773">.</span><span class="ident" id="8380774">AddFile</span><span class="op" id="8380781">(</span><span class="string" id="8380782">&#34;File1&#34;</span><span class="op" id="8380789">,</span>&nbsp;<span class="ident" id="8380791">fset</span><span class="op" id="8380795">.</span><span class="ident" id="8380796">Base</span><span class="op" id="8380800">(</span><span class="op" id="8380801">)</span><span class="op" id="8380802">,</span>&nbsp;<span class="builtinfunc" id="8380804">len</span><span class="op" id="8380807">(</span><span class="ident" id="8380808">src</span><span class="op" id="8380811">)</span><span class="op" id="8380812">)</span><span class="op" id="8380813">,</span>&nbsp;<span class="op" id="8380815">[</span><span class="op" id="8380816">]</span><span class="builtintype" id="8380817">byte</span><span class="op" id="8380821">(</span><span class="ident" id="8380822">src</span><span class="op" id="8380825">)</span><span class="op" id="8380826">,</span>&nbsp;<span class="ident" id="8380828">eh</span><span class="op" id="8380830">,</span>&nbsp;<span class="ident" id="8380832">dontInsertSemis</span><span class="op" id="8380847">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380850">for</span>&nbsp;<span class="op" id="8380854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380858">if</span>&nbsp;<span class="ident" id="8380861">_</span><span class="op" id="8380862">,</span>&nbsp;<span class="ident" id="8380864">tok</span><span class="op" id="8380867">,</span>&nbsp;<span class="ident" id="8380869">_</span>&nbsp;<span class="op" id="8380871">:=</span>&nbsp;<span class="ident" id="8380874">s</span><span class="op" id="8380875">.</span><span class="ident" id="8380876">Scan</span><span class="op" id="8380880">(</span><span class="op" id="8380881">)</span><span class="op" id="8380882">;</span>&nbsp;<span class="ident" id="8380884">tok</span>&nbsp;<span class="op" id="8380888">==</span>&nbsp;<span class="ident" id="8380891">token</span><span class="op" id="8380896">.</span><span class="ident" id="8380897">EOF</span>&nbsp;<span class="op" id="8380901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380906">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380917">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8380921">if</span>&nbsp;<span class="builtinfunc" id="8380924">len</span><span class="op" id="8380927">(</span><span class="ident" id="8380928">list</span><span class="op" id="8380932">)</span>&nbsp;<span class="op" id="8380934">!=</span>&nbsp;<span class="ident" id="8380937">s</span><span class="op" id="8380938">.</span><span class="ident" id="8380939">ErrorCount</span>&nbsp;<span class="op" id="8380950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380954">t</span><span class="op" id="8380955">.</span><span class="ident" id="8380956">Errorf</span><span class="op" id="8380962">(</span><span class="string" id="8380963">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8380993">,</span>&nbsp;<span class="builtinfunc" id="8380995">len</span><span class="op" id="8380998">(</span><span class="ident" id="8380999">list</span><span class="op" id="8381003">)</span><span class="op" id="8381004">,</span>&nbsp;<span class="ident" id="8381006">s</span><span class="op" id="8381007">.</span><span class="ident" id="8381008">ErrorCount</span><span class="op" id="8381018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381025">if</span>&nbsp;<span class="builtinfunc" id="8381028">len</span><span class="op" id="8381031">(</span><span class="ident" id="8381032">list</span><span class="op" id="8381036">)</span>&nbsp;<span class="op" id="8381038">!=</span>&nbsp;<span class="num" id="8381041">9</span>&nbsp;<span class="op" id="8381043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381047">t</span><span class="op" id="8381048">.</span><span class="ident" id="8381049">Errorf</span><span class="op" id="8381055">(</span><span class="string" id="8381056">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8381089">,</span>&nbsp;<span class="builtinfunc" id="8381091">len</span><span class="op" id="8381094">(</span><span class="ident" id="8381095">list</span><span class="op" id="8381099">)</span><span class="op" id="8381100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381104">PrintError</span><span class="op" id="8381114">(</span><span class="ident" id="8381115">os</span><span class="op" id="8381117">.</span><span class="ident" id="8381118">Stderr</span><span class="op" id="8381124">,</span>&nbsp;<span class="ident" id="8381126">list</span><span class="op" id="8381130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381137">list</span><span class="op" id="8381141">.</span><span class="ident" id="8381142">Sort</span><span class="op" id="8381146">(</span><span class="op" id="8381147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381150">if</span>&nbsp;<span class="builtinfunc" id="8381153">len</span><span class="op" id="8381156">(</span><span class="ident" id="8381157">list</span><span class="op" id="8381161">)</span>&nbsp;<span class="op" id="8381163">!=</span>&nbsp;<span class="num" id="8381166">9</span>&nbsp;<span class="op" id="8381168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381172">t</span><span class="op" id="8381173">.</span><span class="ident" id="8381174">Errorf</span><span class="op" id="8381180">(</span><span class="string" id="8381181">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8381217">,</span>&nbsp;<span class="builtinfunc" id="8381219">len</span><span class="op" id="8381222">(</span><span class="ident" id="8381223">list</span><span class="op" id="8381227">)</span><span class="op" id="8381228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381232">PrintError</span><span class="op" id="8381242">(</span><span class="ident" id="8381243">os</span><span class="op" id="8381245">.</span><span class="ident" id="8381246">Stderr</span><span class="op" id="8381252">,</span>&nbsp;<span class="ident" id="8381254">list</span><span class="op" id="8381258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381261">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381265">list</span><span class="op" id="8381269">.</span><span class="ident" id="8381270">RemoveMultiples</span><span class="op" id="8381285">(</span><span class="op" id="8381286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381289">if</span>&nbsp;<span class="builtinfunc" id="8381292">len</span><span class="op" id="8381295">(</span><span class="ident" id="8381296">list</span><span class="op" id="8381300">)</span>&nbsp;<span class="op" id="8381302">!=</span>&nbsp;<span class="num" id="8381305">4</span>&nbsp;<span class="op" id="8381307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381311">t</span><span class="op" id="8381312">.</span><span class="ident" id="8381313">Errorf</span><span class="op" id="8381319">(</span><span class="string" id="8381320">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="8381362">,</span>&nbsp;<span class="builtinfunc" id="8381364">len</span><span class="op" id="8381367">(</span><span class="ident" id="8381368">list</span><span class="op" id="8381372">)</span><span class="op" id="8381373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381377">PrintError</span><span class="op" id="8381387">(</span><span class="ident" id="8381388">os</span><span class="op" id="8381390">.</span><span class="ident" id="8381391">Stderr</span><span class="op" id="8381397">,</span>&nbsp;<span class="ident" id="8381399">list</span><span class="op" id="8381403">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381406">}</span><br>
<span class="lineno"></span><span class="op" id="8381408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8381411">type</span>&nbsp;<span class="ident" id="8381416">errorCollector</span>&nbsp;<span class="keyword" id="8381431">struct</span>&nbsp;<span class="op" id="8381438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381441">cnt</span>&nbsp;<span class="builtintype" id="8381445">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8381460">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381493">msg</span>&nbsp;<span class="builtintype" id="8381497">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8381512">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381547">pos</span>&nbsp;<span class="ident" id="8381551">token</span><span class="op" id="8381556">.</span><span class="ident" id="8381557">Position</span>&nbsp;<span class="comment" id="8381566">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="8381601">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8381604">func</span>&nbsp;<span class="ident" id="8381609">checkError</span><span class="op" id="8381619">(</span><span class="ident" id="8381620">t</span>&nbsp;<span class="op" id="8381622">*</span><span class="ident" id="8381623">testing</span><span class="op" id="8381630">.</span><span class="ident" id="8381631">T</span><span class="op" id="8381632">,</span>&nbsp;<span class="ident" id="8381634">src</span>&nbsp;<span class="builtintype" id="8381638">string</span><span class="op" id="8381644">,</span>&nbsp;<span class="ident" id="8381646">tok</span>&nbsp;<span class="ident" id="8381650">token</span><span class="op" id="8381655">.</span><span class="ident" id="8381656">Token</span><span class="op" id="8381661">,</span>&nbsp;<span class="ident" id="8381663">pos</span>&nbsp;<span class="builtintype" id="8381667">int</span><span class="op" id="8381670">,</span>&nbsp;<span class="ident" id="8381672">lit</span><span class="op" id="8381675">,</span>&nbsp;<span class="ident" id="8381677">err</span>&nbsp;<span class="builtintype" id="8381681">string</span><span class="op" id="8381687">)</span>&nbsp;<span class="op" id="8381689">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381692">var</span>&nbsp;<span class="ident" id="8381696">s</span>&nbsp;<span class="ident" id="8381698">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381707">var</span>&nbsp;<span class="ident" id="8381711">h</span>&nbsp;<span class="ident" id="8381713">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381729">eh</span>&nbsp;<span class="op" id="8381732">:=</span>&nbsp;<span class="keyword" id="8381735">func</span><span class="op" id="8381739">(</span><span class="ident" id="8381740">pos</span>&nbsp;<span class="ident" id="8381744">token</span><span class="op" id="8381749">.</span><span class="ident" id="8381750">Position</span><span class="op" id="8381758">,</span>&nbsp;<span class="ident" id="8381760">msg</span>&nbsp;<span class="builtintype" id="8381764">string</span><span class="op" id="8381770">)</span>&nbsp;<span class="op" id="8381772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381776">h</span><span class="op" id="8381777">.</span><span class="ident" id="8381778">cnt</span><span class="op" id="8381781">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381786">h</span><span class="op" id="8381787">.</span><span class="ident" id="8381788">msg</span>&nbsp;<span class="op" id="8381792">=</span>&nbsp;<span class="ident" id="8381794">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381800">h</span><span class="op" id="8381801">.</span><span class="ident" id="8381802">pos</span>&nbsp;<span class="op" id="8381806">=</span>&nbsp;<span class="ident" id="8381808">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381816">s</span><span class="op" id="8381817">.</span><span class="ident" id="8381818">Init</span><span class="op" id="8381822">(</span><span class="ident" id="8381823">fset</span><span class="op" id="8381827">.</span><span class="ident" id="8381828">AddFile</span><span class="op" id="8381835">(</span><span class="string" id="8381836">&#34;&#34;</span><span class="op" id="8381838">,</span>&nbsp;<span class="ident" id="8381840">fset</span><span class="op" id="8381844">.</span><span class="ident" id="8381845">Base</span><span class="op" id="8381849">(</span><span class="op" id="8381850">)</span><span class="op" id="8381851">,</span>&nbsp;<span class="builtinfunc" id="8381853">len</span><span class="op" id="8381856">(</span><span class="ident" id="8381857">src</span><span class="op" id="8381860">)</span><span class="op" id="8381861">)</span><span class="op" id="8381862">,</span>&nbsp;<span class="op" id="8381864">[</span><span class="op" id="8381865">]</span><span class="builtintype" id="8381866">byte</span><span class="op" id="8381870">(</span><span class="ident" id="8381871">src</span><span class="op" id="8381874">)</span><span class="op" id="8381875">,</span>&nbsp;<span class="ident" id="8381877">eh</span><span class="op" id="8381879">,</span>&nbsp;<span class="ident" id="8381881">ScanComments</span><span class="op" id="8381893">|</span><span class="ident" id="8381894">dontInsertSemis</span><span class="op" id="8381909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381912">_</span><span class="op" id="8381913">,</span>&nbsp;<span class="ident" id="8381915">tok0</span><span class="op" id="8381919">,</span>&nbsp;<span class="ident" id="8381921">lit0</span>&nbsp;<span class="op" id="8381926">:=</span>&nbsp;<span class="ident" id="8381929">s</span><span class="op" id="8381930">.</span><span class="ident" id="8381931">Scan</span><span class="op" id="8381935">(</span><span class="op" id="8381936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381939">if</span>&nbsp;<span class="ident" id="8381942">tok0</span>&nbsp;<span class="op" id="8381947">!=</span>&nbsp;<span class="ident" id="8381950">tok</span>&nbsp;<span class="op" id="8381954">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381958">t</span><span class="op" id="8381959">.</span><span class="ident" id="8381960">Errorf</span><span class="op" id="8381966">(</span><span class="string" id="8381967">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8381992">,</span>&nbsp;<span class="ident" id="8381994">src</span><span class="op" id="8381997">,</span>&nbsp;<span class="ident" id="8381999">tok0</span><span class="op" id="8382003">,</span>&nbsp;<span class="ident" id="8382005">tok</span><span class="op" id="8382008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382014">if</span>&nbsp;<span class="ident" id="8382017">tok0</span>&nbsp;<span class="op" id="8382022">!=</span>&nbsp;<span class="ident" id="8382025">token</span><span class="op" id="8382030">.</span><span class="ident" id="8382031">ILLEGAL</span>&nbsp;<span class="op" id="8382039">&amp;&amp;</span>&nbsp;<span class="ident" id="8382042">lit0</span>&nbsp;<span class="op" id="8382047">!=</span>&nbsp;<span class="ident" id="8382050">lit</span>&nbsp;<span class="op" id="8382054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382058">t</span><span class="op" id="8382059">.</span><span class="ident" id="8382060">Errorf</span><span class="op" id="8382066">(</span><span class="string" id="8382067">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8382100">,</span>&nbsp;<span class="ident" id="8382102">src</span><span class="op" id="8382105">,</span>&nbsp;<span class="ident" id="8382107">lit0</span><span class="op" id="8382111">,</span>&nbsp;<span class="ident" id="8382113">lit</span><span class="op" id="8382116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382119">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382122">cnt</span>&nbsp;<span class="op" id="8382126">:=</span>&nbsp;<span class="num" id="8382129">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382132">if</span>&nbsp;<span class="ident" id="8382135">err</span>&nbsp;<span class="op" id="8382139">!=</span>&nbsp;<span class="string" id="8382142">&#34;&#34;</span>&nbsp;<span class="op" id="8382145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382149">cnt</span>&nbsp;<span class="op" id="8382153">=</span>&nbsp;<span class="num" id="8382155">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382161">if</span>&nbsp;<span class="ident" id="8382164">h</span><span class="op" id="8382165">.</span><span class="ident" id="8382166">cnt</span>&nbsp;<span class="op" id="8382170">!=</span>&nbsp;<span class="ident" id="8382173">cnt</span>&nbsp;<span class="op" id="8382177">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382181">t</span><span class="op" id="8382182">.</span><span class="ident" id="8382183">Errorf</span><span class="op" id="8382189">(</span><span class="string" id="8382190">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8382219">,</span>&nbsp;<span class="ident" id="8382221">src</span><span class="op" id="8382224">,</span>&nbsp;<span class="ident" id="8382226">h</span><span class="op" id="8382227">.</span><span class="ident" id="8382228">cnt</span><span class="op" id="8382231">,</span>&nbsp;<span class="ident" id="8382233">cnt</span><span class="op" id="8382236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382242">if</span>&nbsp;<span class="ident" id="8382245">h</span><span class="op" id="8382246">.</span><span class="ident" id="8382247">msg</span>&nbsp;<span class="op" id="8382251">!=</span>&nbsp;<span class="ident" id="8382254">err</span>&nbsp;<span class="op" id="8382258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382262">t</span><span class="op" id="8382263">.</span><span class="ident" id="8382264">Errorf</span><span class="op" id="8382270">(</span><span class="string" id="8382271">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8382300">,</span>&nbsp;<span class="ident" id="8382302">src</span><span class="op" id="8382305">,</span>&nbsp;<span class="ident" id="8382307">h</span><span class="op" id="8382308">.</span><span class="ident" id="8382309">msg</span><span class="op" id="8382312">,</span>&nbsp;<span class="ident" id="8382314">err</span><span class="op" id="8382317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382320">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382323">if</span>&nbsp;<span class="ident" id="8382326">h</span><span class="op" id="8382327">.</span><span class="ident" id="8382328">pos</span><span class="op" id="8382331">.</span><span class="ident" id="8382332">Offset</span>&nbsp;<span class="op" id="8382339">!=</span>&nbsp;<span class="ident" id="8382342">pos</span>&nbsp;<span class="op" id="8382346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382350">t</span><span class="op" id="8382351">.</span><span class="ident" id="8382352">Errorf</span><span class="op" id="8382358">(</span><span class="string" id="8382359">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8382391">,</span>&nbsp;<span class="ident" id="8382393">src</span><span class="op" id="8382396">,</span>&nbsp;<span class="ident" id="8382398">h</span><span class="op" id="8382399">.</span><span class="ident" id="8382400">pos</span><span class="op" id="8382403">.</span><span class="ident" id="8382404">Offset</span><span class="op" id="8382410">,</span>&nbsp;<span class="ident" id="8382412">pos</span><span class="op" id="8382415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382418">}</span><br>
<span class="lineno"></span><span class="op" id="8382420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="8382423">var</span>&nbsp;<span class="ident" id="8382427">errors</span>&nbsp;<span class="op" id="8382434">=</span>&nbsp;<span class="op" id="8382436">[</span><span class="op" id="8382437">]</span><span class="keyword" id="8382438">struct</span>&nbsp;<span class="op" id="8382445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382448">src</span>&nbsp;<span class="builtintype" id="8382452">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382460">tok</span>&nbsp;<span class="ident" id="8382464">token</span><span class="op" id="8382469">.</span><span class="ident" id="8382470">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382477">pos</span>&nbsp;<span class="builtintype" id="8382481">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382486">lit</span>&nbsp;<span class="builtintype" id="8382490">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382498">err</span>&nbsp;<span class="builtintype" id="8382502">string</span><br>
<span class="lineno"></span><span class="op" id="8382509">}</span><span class="op" id="8382510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382513">{</span><span class="string" id="8382514">&#34;\a&#34;</span><span class="op" id="8382518">,</span>&nbsp;<span class="ident" id="8382520">token</span><span class="op" id="8382525">.</span><span class="ident" id="8382526">ILLEGAL</span><span class="op" id="8382533">,</span>&nbsp;<span class="num" id="8382535">0</span><span class="op" id="8382536">,</span>&nbsp;<span class="string" id="8382538">&#34;&#34;</span><span class="op" id="8382540">,</span>&nbsp;<span class="string" id="8382542">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="8382568">}</span><span class="op" id="8382569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382572">{</span><span class="string" id="8382573">`#`</span><span class="op" id="8382576">,</span>&nbsp;<span class="ident" id="8382578">token</span><span class="op" id="8382583">.</span><span class="ident" id="8382584">ILLEGAL</span><span class="op" id="8382591">,</span>&nbsp;<span class="num" id="8382593">0</span><span class="op" id="8382594">,</span>&nbsp;<span class="string" id="8382596">&#34;&#34;</span><span class="op" id="8382598">,</span>&nbsp;<span class="string" id="8382600">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="8382630">}</span><span class="op" id="8382631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382634">{</span><span class="string" id="8382635">`…`</span><span class="op" id="8382640">,</span>&nbsp;<span class="ident" id="8382642">token</span><span class="op" id="8382647">.</span><span class="ident" id="8382648">ILLEGAL</span><span class="op" id="8382655">,</span>&nbsp;<span class="num" id="8382657">0</span><span class="op" id="8382658">,</span>&nbsp;<span class="string" id="8382660">&#34;&#34;</span><span class="op" id="8382662">,</span>&nbsp;<span class="string" id="8382664">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="8382696">}</span><span class="op" id="8382697">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382700">{</span><span class="string" id="8382701">`&#39;&nbsp;&#39;`</span><span class="op" id="8382706">,</span>&nbsp;<span class="ident" id="8382708">token</span><span class="op" id="8382713">.</span><span class="ident" id="8382714">CHAR</span><span class="op" id="8382718">,</span>&nbsp;<span class="num" id="8382720">0</span><span class="op" id="8382721">,</span>&nbsp;<span class="string" id="8382723">`&#39;&nbsp;&#39;`</span><span class="op" id="8382728">,</span>&nbsp;<span class="string" id="8382730">&#34;&#34;</span><span class="op" id="8382732">}</span><span class="op" id="8382733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382736">{</span><span class="string" id="8382737">`&#39;&#39;`</span><span class="op" id="8382741">,</span>&nbsp;<span class="ident" id="8382743">token</span><span class="op" id="8382748">.</span><span class="ident" id="8382749">CHAR</span><span class="op" id="8382753">,</span>&nbsp;<span class="num" id="8382755">0</span><span class="op" id="8382756">,</span>&nbsp;<span class="string" id="8382758">`&#39;&#39;`</span><span class="op" id="8382762">,</span>&nbsp;<span class="string" id="8382764">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8382786">}</span><span class="op" id="8382787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382790">{</span><span class="string" id="8382791">`&#39;12&#39;`</span><span class="op" id="8382797">,</span>&nbsp;<span class="ident" id="8382799">token</span><span class="op" id="8382804">.</span><span class="ident" id="8382805">CHAR</span><span class="op" id="8382809">,</span>&nbsp;<span class="num" id="8382811">0</span><span class="op" id="8382812">,</span>&nbsp;<span class="string" id="8382814">`&#39;12&#39;`</span><span class="op" id="8382820">,</span>&nbsp;<span class="string" id="8382822">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8382844">}</span><span class="op" id="8382845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382848">{</span><span class="string" id="8382849">`&#39;123&#39;`</span><span class="op" id="8382856">,</span>&nbsp;<span class="ident" id="8382858">token</span><span class="op" id="8382863">.</span><span class="ident" id="8382864">CHAR</span><span class="op" id="8382868">,</span>&nbsp;<span class="num" id="8382870">0</span><span class="op" id="8382871">,</span>&nbsp;<span class="string" id="8382873">`&#39;123&#39;`</span><span class="op" id="8382880">,</span>&nbsp;<span class="string" id="8382882">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8382904">}</span><span class="op" id="8382905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382908">{</span><span class="string" id="8382909">`&#39;\0&#39;`</span><span class="op" id="8382915">,</span>&nbsp;<span class="ident" id="8382917">token</span><span class="op" id="8382922">.</span><span class="ident" id="8382923">CHAR</span><span class="op" id="8382927">,</span>&nbsp;<span class="num" id="8382929">3</span><span class="op" id="8382930">,</span>&nbsp;<span class="string" id="8382932">`&#39;\0&#39;`</span><span class="op" id="8382938">,</span>&nbsp;<span class="string" id="8382940">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8382989">}</span><span class="op" id="8382990">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382993">{</span><span class="string" id="8382994">`&#39;\07&#39;`</span><span class="op" id="8383001">,</span>&nbsp;<span class="ident" id="8383003">token</span><span class="op" id="8383008">.</span><span class="ident" id="8383009">CHAR</span><span class="op" id="8383013">,</span>&nbsp;<span class="num" id="8383015">4</span><span class="op" id="8383016">,</span>&nbsp;<span class="string" id="8383018">`&#39;\07&#39;`</span><span class="op" id="8383025">,</span>&nbsp;<span class="string" id="8383027">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383076">}</span><span class="op" id="8383077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383080">{</span><span class="string" id="8383081">`&#39;\8&#39;`</span><span class="op" id="8383087">,</span>&nbsp;<span class="ident" id="8383089">token</span><span class="op" id="8383094">.</span><span class="ident" id="8383095">CHAR</span><span class="op" id="8383099">,</span>&nbsp;<span class="num" id="8383101">2</span><span class="op" id="8383102">,</span>&nbsp;<span class="string" id="8383104">`&#39;\8&#39;`</span><span class="op" id="8383110">,</span>&nbsp;<span class="string" id="8383112">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383137">}</span><span class="op" id="8383138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383141">{</span><span class="string" id="8383142">`&#39;\08&#39;`</span><span class="op" id="8383149">,</span>&nbsp;<span class="ident" id="8383151">token</span><span class="op" id="8383156">.</span><span class="ident" id="8383157">CHAR</span><span class="op" id="8383161">,</span>&nbsp;<span class="num" id="8383163">3</span><span class="op" id="8383164">,</span>&nbsp;<span class="string" id="8383166">`&#39;\08&#39;`</span><span class="op" id="8383173">,</span>&nbsp;<span class="string" id="8383175">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383224">}</span><span class="op" id="8383225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383228">{</span><span class="string" id="8383229">`&#39;\x&#39;`</span><span class="op" id="8383235">,</span>&nbsp;<span class="ident" id="8383237">token</span><span class="op" id="8383242">.</span><span class="ident" id="8383243">CHAR</span><span class="op" id="8383247">,</span>&nbsp;<span class="num" id="8383249">3</span><span class="op" id="8383250">,</span>&nbsp;<span class="string" id="8383252">`&#39;\x&#39;`</span><span class="op" id="8383258">,</span>&nbsp;<span class="string" id="8383260">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383309">}</span><span class="op" id="8383310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383313">{</span><span class="string" id="8383314">`&#39;\x0&#39;`</span><span class="op" id="8383321">,</span>&nbsp;<span class="ident" id="8383323">token</span><span class="op" id="8383328">.</span><span class="ident" id="8383329">CHAR</span><span class="op" id="8383333">,</span>&nbsp;<span class="num" id="8383335">4</span><span class="op" id="8383336">,</span>&nbsp;<span class="string" id="8383338">`&#39;\x0&#39;`</span><span class="op" id="8383345">,</span>&nbsp;<span class="string" id="8383347">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383396">}</span><span class="op" id="8383397">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383400">{</span><span class="string" id="8383401">`&#39;\x0g&#39;`</span><span class="op" id="8383409">,</span>&nbsp;<span class="ident" id="8383411">token</span><span class="op" id="8383416">.</span><span class="ident" id="8383417">CHAR</span><span class="op" id="8383421">,</span>&nbsp;<span class="num" id="8383423">4</span><span class="op" id="8383424">,</span>&nbsp;<span class="string" id="8383426">`&#39;\x0g&#39;`</span><span class="op" id="8383434">,</span>&nbsp;<span class="string" id="8383436">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383485">}</span><span class="op" id="8383486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383489">{</span><span class="string" id="8383490">`&#39;\u&#39;`</span><span class="op" id="8383496">,</span>&nbsp;<span class="ident" id="8383498">token</span><span class="op" id="8383503">.</span><span class="ident" id="8383504">CHAR</span><span class="op" id="8383508">,</span>&nbsp;<span class="num" id="8383510">3</span><span class="op" id="8383511">,</span>&nbsp;<span class="string" id="8383513">`&#39;\u&#39;`</span><span class="op" id="8383519">,</span>&nbsp;<span class="string" id="8383521">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383570">}</span><span class="op" id="8383571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383574">{</span><span class="string" id="8383575">`&#39;\u0&#39;`</span><span class="op" id="8383582">,</span>&nbsp;<span class="ident" id="8383584">token</span><span class="op" id="8383589">.</span><span class="ident" id="8383590">CHAR</span><span class="op" id="8383594">,</span>&nbsp;<span class="num" id="8383596">4</span><span class="op" id="8383597">,</span>&nbsp;<span class="string" id="8383599">`&#39;\u0&#39;`</span><span class="op" id="8383606">,</span>&nbsp;<span class="string" id="8383608">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383657">}</span><span class="op" id="8383658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383661">{</span><span class="string" id="8383662">`&#39;\u00&#39;`</span><span class="op" id="8383670">,</span>&nbsp;<span class="ident" id="8383672">token</span><span class="op" id="8383677">.</span><span class="ident" id="8383678">CHAR</span><span class="op" id="8383682">,</span>&nbsp;<span class="num" id="8383684">5</span><span class="op" id="8383685">,</span>&nbsp;<span class="string" id="8383687">`&#39;\u00&#39;`</span><span class="op" id="8383695">,</span>&nbsp;<span class="string" id="8383697">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383746">}</span><span class="op" id="8383747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383750">{</span><span class="string" id="8383751">`&#39;\u000&#39;`</span><span class="op" id="8383760">,</span>&nbsp;<span class="ident" id="8383762">token</span><span class="op" id="8383767">.</span><span class="ident" id="8383768">CHAR</span><span class="op" id="8383772">,</span>&nbsp;<span class="num" id="8383774">6</span><span class="op" id="8383775">,</span>&nbsp;<span class="string" id="8383777">`&#39;\u000&#39;`</span><span class="op" id="8383786">,</span>&nbsp;<span class="string" id="8383788">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8383837">}</span><span class="op" id="8383838">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383841">{</span><span class="string" id="8383842">`&#39;\u000`</span><span class="op" id="8383850">,</span>&nbsp;<span class="ident" id="8383852">token</span><span class="op" id="8383857">.</span><span class="ident" id="8383858">CHAR</span><span class="op" id="8383862">,</span>&nbsp;<span class="num" id="8383864">6</span><span class="op" id="8383865">,</span>&nbsp;<span class="string" id="8383867">`&#39;\u000`</span><span class="op" id="8383875">,</span>&nbsp;<span class="string" id="8383877">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8383909">}</span><span class="op" id="8383910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383913">{</span><span class="string" id="8383914">`&#39;\u0000&#39;`</span><span class="op" id="8383924">,</span>&nbsp;<span class="ident" id="8383926">token</span><span class="op" id="8383931">.</span><span class="ident" id="8383932">CHAR</span><span class="op" id="8383936">,</span>&nbsp;<span class="num" id="8383938">0</span><span class="op" id="8383939">,</span>&nbsp;<span class="string" id="8383941">`&#39;\u0000&#39;`</span><span class="op" id="8383951">,</span>&nbsp;<span class="string" id="8383953">&#34;&#34;</span><span class="op" id="8383955">}</span><span class="op" id="8383956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383959">{</span><span class="string" id="8383960">`&#39;\U&#39;`</span><span class="op" id="8383966">,</span>&nbsp;<span class="ident" id="8383968">token</span><span class="op" id="8383973">.</span><span class="ident" id="8383974">CHAR</span><span class="op" id="8383978">,</span>&nbsp;<span class="num" id="8383980">3</span><span class="op" id="8383981">,</span>&nbsp;<span class="string" id="8383983">`&#39;\U&#39;`</span><span class="op" id="8383989">,</span>&nbsp;<span class="string" id="8383991">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8384040">}</span><span class="op" id="8384041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384044">{</span><span class="string" id="8384045">`&#39;\U0&#39;`</span><span class="op" id="8384052">,</span>&nbsp;<span class="ident" id="8384054">token</span><span class="op" id="8384059">.</span><span class="ident" id="8384060">CHAR</span><span class="op" id="8384064">,</span>&nbsp;<span class="num" id="8384066">4</span><span class="op" id="8384067">,</span>&nbsp;<span class="string" id="8384069">`&#39;\U0&#39;`</span><span class="op" id="8384076">,</span>&nbsp;<span class="string" id="8384078">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8384127">}</span><span class="op" id="8384128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384131">{</span><span class="string" id="8384132">`&#39;\U00&#39;`</span><span class="op" id="8384140">,</span>&nbsp;<span class="ident" id="8384142">token</span><span class="op" id="8384147">.</span><span class="ident" id="8384148">CHAR</span><span class="op" id="8384152">,</span>&nbsp;<span class="num" id="8384154">5</span><span class="op" id="8384155">,</span>&nbsp;<span class="string" id="8384157">`&#39;\U00&#39;`</span><span class="op" id="8384165">,</span>&nbsp;<span class="string" id="8384167">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8384216">}</span><span class="op" id="8384217">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384220">{</span><span class="string" id="8384221">`&#39;\U000&#39;`</span><span class="op" id="8384230">,</span>&nbsp;<span class="ident" id="8384232">token</span><span class="op" id="8384237">.</span><span class="ident" id="8384238">CHAR</span><span class="op" id="8384242">,</span>&nbsp;<span class="num" id="8384244">6</span><span class="op" id="8384245">,</span>&nbsp;<span class="string" id="8384247">`&#39;\U000&#39;`</span><span class="op" id="8384256">,</span>&nbsp;<span class="string" id="8384258">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8384307">}</span><span class="op" id="8384308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384311">{</span><span class="string" id="8384312">`&#39;\U0000&#39;`</span><span class="op" id="8384322">,</span>&nbsp;<span class="ident" id="8384324">token</span><span class="op" id="8384329">.</span><span class="ident" id="8384330">CHAR</span><span class="op" id="8384334">,</span>&nbsp;<span class="num" id="8384336">7</span><span class="op" id="8384337">,</span>&nbsp;<span class="string" id="8384339">`&#39;\U0000&#39;`</span><span class="op" id="8384349">,</span>&nbsp;<span class="string" id="8384351">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8384400">}</span><span class="op" id="8384401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384404">{</span><span class="string" id="8384405">`&#39;\U00000&#39;`</span><span class="op" id="8384416">,</span>&nbsp;<span class="ident" id="8384418">token</span><span class="op" id="8384423">.</span><span class="ident" id="8384424">CHAR</span><span class="op" id="8384428">,</span>&nbsp;<span class="num" id="8384430">8</span><span class="op" id="8384431">,</span>&nbsp;<span class="string" id="8384433">`&#39;\U00000&#39;`</span><span class="op" id="8384444">,</span>&nbsp;<span class="string" id="8384446">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8384495">}</span><span class="op" id="8384496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384499">{</span><span class="string" id="8384500">`&#39;\U000000&#39;`</span><span class="op" id="8384512">,</span>&nbsp;<span class="ident" id="8384514">token</span><span class="op" id="8384519">.</span><span class="ident" id="8384520">CHAR</span><span class="op" id="8384524">,</span>&nbsp;<span class="num" id="8384526">9</span><span class="op" id="8384527">,</span>&nbsp;<span class="string" id="8384529">`&#39;\U000000&#39;`</span><span class="op" id="8384541">,</span>&nbsp;<span class="string" id="8384543">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8384592">}</span><span class="op" id="8384593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384596">{</span><span class="string" id="8384597">`&#39;\U0000000&#39;`</span><span class="op" id="8384610">,</span>&nbsp;<span class="ident" id="8384612">token</span><span class="op" id="8384617">.</span><span class="ident" id="8384618">CHAR</span><span class="op" id="8384622">,</span>&nbsp;<span class="num" id="8384624">10</span><span class="op" id="8384626">,</span>&nbsp;<span class="string" id="8384628">`&#39;\U0000000&#39;`</span><span class="op" id="8384641">,</span>&nbsp;<span class="string" id="8384643">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8384692">}</span><span class="op" id="8384693">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384696">{</span><span class="string" id="8384697">`&#39;\U0000000`</span><span class="op" id="8384709">,</span>&nbsp;<span class="ident" id="8384711">token</span><span class="op" id="8384716">.</span><span class="ident" id="8384717">CHAR</span><span class="op" id="8384721">,</span>&nbsp;<span class="num" id="8384723">10</span><span class="op" id="8384725">,</span>&nbsp;<span class="string" id="8384727">`&#39;\U0000000`</span><span class="op" id="8384739">,</span>&nbsp;<span class="string" id="8384741">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8384773">}</span><span class="op" id="8384774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384777">{</span><span class="string" id="8384778">`&#39;\U00000000&#39;`</span><span class="op" id="8384792">,</span>&nbsp;<span class="ident" id="8384794">token</span><span class="op" id="8384799">.</span><span class="ident" id="8384800">CHAR</span><span class="op" id="8384804">,</span>&nbsp;<span class="num" id="8384806">0</span><span class="op" id="8384807">,</span>&nbsp;<span class="string" id="8384809">`&#39;\U00000000&#39;`</span><span class="op" id="8384823">,</span>&nbsp;<span class="string" id="8384825">&#34;&#34;</span><span class="op" id="8384827">}</span><span class="op" id="8384828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384831">{</span><span class="string" id="8384832">`&#39;\Uffffffff&#39;`</span><span class="op" id="8384846">,</span>&nbsp;<span class="ident" id="8384848">token</span><span class="op" id="8384853">.</span><span class="ident" id="8384854">CHAR</span><span class="op" id="8384858">,</span>&nbsp;<span class="num" id="8384860">2</span><span class="op" id="8384861">,</span>&nbsp;<span class="string" id="8384863">`&#39;\Uffffffff&#39;`</span><span class="op" id="8384877">,</span>&nbsp;<span class="string" id="8384879">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="8384926">}</span><span class="op" id="8384927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384930">{</span><span class="string" id="8384931">`&#39;`</span><span class="op" id="8384934">,</span>&nbsp;<span class="ident" id="8384936">token</span><span class="op" id="8384941">.</span><span class="ident" id="8384942">CHAR</span><span class="op" id="8384946">,</span>&nbsp;<span class="num" id="8384948">0</span><span class="op" id="8384949">,</span>&nbsp;<span class="string" id="8384951">`&#39;`</span><span class="op" id="8384954">,</span>&nbsp;<span class="string" id="8384956">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8384985">}</span><span class="op" id="8384986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384989">{</span><span class="string" id="8384990">`&#39;\`</span><span class="op" id="8384994">,</span>&nbsp;<span class="ident" id="8384996">token</span><span class="op" id="8385001">.</span><span class="ident" id="8385002">CHAR</span><span class="op" id="8385006">,</span>&nbsp;<span class="num" id="8385008">2</span><span class="op" id="8385009">,</span>&nbsp;<span class="string" id="8385011">`&#39;\`</span><span class="op" id="8385015">,</span>&nbsp;<span class="string" id="8385017">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8385049">}</span><span class="op" id="8385050">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385053">{</span><span class="string" id="8385054">&#34;&#39;\n&#34;</span><span class="op" id="8385059">,</span>&nbsp;<span class="ident" id="8385061">token</span><span class="op" id="8385066">.</span><span class="ident" id="8385067">CHAR</span><span class="op" id="8385071">,</span>&nbsp;<span class="num" id="8385073">0</span><span class="op" id="8385074">,</span>&nbsp;<span class="string" id="8385076">&#34;&#39;&#34;</span><span class="op" id="8385079">,</span>&nbsp;<span class="string" id="8385081">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8385110">}</span><span class="op" id="8385111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385114">{</span><span class="string" id="8385115">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8385123">,</span>&nbsp;<span class="ident" id="8385125">token</span><span class="op" id="8385130">.</span><span class="ident" id="8385131">CHAR</span><span class="op" id="8385135">,</span>&nbsp;<span class="num" id="8385137">0</span><span class="op" id="8385138">,</span>&nbsp;<span class="string" id="8385140">&#34;&#39;&#34;</span><span class="op" id="8385143">,</span>&nbsp;<span class="string" id="8385145">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8385174">}</span><span class="op" id="8385175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385178">{</span><span class="string" id="8385179">`&#34;&#34;`</span><span class="op" id="8385183">,</span>&nbsp;<span class="ident" id="8385185">token</span><span class="op" id="8385190">.</span><span class="ident" id="8385191">STRING</span><span class="op" id="8385197">,</span>&nbsp;<span class="num" id="8385199">0</span><span class="op" id="8385200">,</span>&nbsp;<span class="string" id="8385202">`&#34;&#34;`</span><span class="op" id="8385206">,</span>&nbsp;<span class="string" id="8385208">&#34;&#34;</span><span class="op" id="8385210">}</span><span class="op" id="8385211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385214">{</span><span class="string" id="8385215">`&#34;abc`</span><span class="op" id="8385221">,</span>&nbsp;<span class="ident" id="8385223">token</span><span class="op" id="8385228">.</span><span class="ident" id="8385229">STRING</span><span class="op" id="8385235">,</span>&nbsp;<span class="num" id="8385237">0</span><span class="op" id="8385238">,</span>&nbsp;<span class="string" id="8385240">`&#34;abc`</span><span class="op" id="8385246">,</span>&nbsp;<span class="string" id="8385248">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8385279">}</span><span class="op" id="8385280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385283">{</span><span class="string" id="8385284">&#34;\&#34;abc\n&#34;</span><span class="op" id="8385293">,</span>&nbsp;<span class="ident" id="8385295">token</span><span class="op" id="8385300">.</span><span class="ident" id="8385301">STRING</span><span class="op" id="8385307">,</span>&nbsp;<span class="num" id="8385309">0</span><span class="op" id="8385310">,</span>&nbsp;<span class="string" id="8385312">`&#34;abc`</span><span class="op" id="8385318">,</span>&nbsp;<span class="string" id="8385320">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8385351">}</span><span class="op" id="8385352">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385355">{</span><span class="string" id="8385356">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8385368">,</span>&nbsp;<span class="ident" id="8385370">token</span><span class="op" id="8385375">.</span><span class="ident" id="8385376">STRING</span><span class="op" id="8385382">,</span>&nbsp;<span class="num" id="8385384">0</span><span class="op" id="8385385">,</span>&nbsp;<span class="string" id="8385387">`&#34;abc`</span><span class="op" id="8385393">,</span>&nbsp;<span class="string" id="8385395">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8385426">}</span><span class="op" id="8385427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385430">{</span><span class="string" id="8385431">&#34;``&#34;</span><span class="op" id="8385435">,</span>&nbsp;<span class="ident" id="8385437">token</span><span class="op" id="8385442">.</span><span class="ident" id="8385443">STRING</span><span class="op" id="8385449">,</span>&nbsp;<span class="num" id="8385451">0</span><span class="op" id="8385452">,</span>&nbsp;<span class="string" id="8385454">&#34;``&#34;</span><span class="op" id="8385458">,</span>&nbsp;<span class="string" id="8385460">&#34;&#34;</span><span class="op" id="8385462">}</span><span class="op" id="8385463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385466">{</span><span class="string" id="8385467">&#34;`&#34;</span><span class="op" id="8385470">,</span>&nbsp;<span class="ident" id="8385472">token</span><span class="op" id="8385477">.</span><span class="ident" id="8385478">STRING</span><span class="op" id="8385484">,</span>&nbsp;<span class="num" id="8385486">0</span><span class="op" id="8385487">,</span>&nbsp;<span class="string" id="8385489">&#34;`&#34;</span><span class="op" id="8385492">,</span>&nbsp;<span class="string" id="8385494">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8385529">}</span><span class="op" id="8385530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385533">{</span><span class="string" id="8385534">&#34;/**/&#34;</span><span class="op" id="8385540">,</span>&nbsp;<span class="ident" id="8385542">token</span><span class="op" id="8385547">.</span><span class="ident" id="8385548">COMMENT</span><span class="op" id="8385555">,</span>&nbsp;<span class="num" id="8385557">0</span><span class="op" id="8385558">,</span>&nbsp;<span class="string" id="8385560">&#34;/**/&#34;</span><span class="op" id="8385566">,</span>&nbsp;<span class="string" id="8385568">&#34;&#34;</span><span class="op" id="8385570">}</span><span class="op" id="8385571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385574">{</span><span class="string" id="8385575">&#34;/*&#34;</span><span class="op" id="8385579">,</span>&nbsp;<span class="ident" id="8385581">token</span><span class="op" id="8385586">.</span><span class="ident" id="8385587">COMMENT</span><span class="op" id="8385594">,</span>&nbsp;<span class="num" id="8385596">0</span><span class="op" id="8385597">,</span>&nbsp;<span class="string" id="8385599">&#34;/*&#34;</span><span class="op" id="8385603">,</span>&nbsp;<span class="string" id="8385605">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8385629">}</span><span class="op" id="8385630">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385633">{</span><span class="string" id="8385634">&#34;077&#34;</span><span class="op" id="8385639">,</span>&nbsp;<span class="ident" id="8385641">token</span><span class="op" id="8385646">.</span><span class="ident" id="8385647">INT</span><span class="op" id="8385650">,</span>&nbsp;<span class="num" id="8385652">0</span><span class="op" id="8385653">,</span>&nbsp;<span class="string" id="8385655">&#34;077&#34;</span><span class="op" id="8385660">,</span>&nbsp;<span class="string" id="8385662">&#34;&#34;</span><span class="op" id="8385664">}</span><span class="op" id="8385665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385668">{</span><span class="string" id="8385669">&#34;078.&#34;</span><span class="op" id="8385675">,</span>&nbsp;<span class="ident" id="8385677">token</span><span class="op" id="8385682">.</span><span class="ident" id="8385683">FLOAT</span><span class="op" id="8385688">,</span>&nbsp;<span class="num" id="8385690">0</span><span class="op" id="8385691">,</span>&nbsp;<span class="string" id="8385693">&#34;078.&#34;</span><span class="op" id="8385699">,</span>&nbsp;<span class="string" id="8385701">&#34;&#34;</span><span class="op" id="8385703">}</span><span class="op" id="8385704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385707">{</span><span class="string" id="8385708">&#34;07801234567.&#34;</span><span class="op" id="8385722">,</span>&nbsp;<span class="ident" id="8385724">token</span><span class="op" id="8385729">.</span><span class="ident" id="8385730">FLOAT</span><span class="op" id="8385735">,</span>&nbsp;<span class="num" id="8385737">0</span><span class="op" id="8385738">,</span>&nbsp;<span class="string" id="8385740">&#34;07801234567.&#34;</span><span class="op" id="8385754">,</span>&nbsp;<span class="string" id="8385756">&#34;&#34;</span><span class="op" id="8385758">}</span><span class="op" id="8385759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385762">{</span><span class="string" id="8385763">&#34;078e0&#34;</span><span class="op" id="8385770">,</span>&nbsp;<span class="ident" id="8385772">token</span><span class="op" id="8385777">.</span><span class="ident" id="8385778">FLOAT</span><span class="op" id="8385783">,</span>&nbsp;<span class="num" id="8385785">0</span><span class="op" id="8385786">,</span>&nbsp;<span class="string" id="8385788">&#34;078e0&#34;</span><span class="op" id="8385795">,</span>&nbsp;<span class="string" id="8385797">&#34;&#34;</span><span class="op" id="8385799">}</span><span class="op" id="8385800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385803">{</span><span class="string" id="8385804">&#34;078&#34;</span><span class="op" id="8385809">,</span>&nbsp;<span class="ident" id="8385811">token</span><span class="op" id="8385816">.</span><span class="ident" id="8385817">INT</span><span class="op" id="8385820">,</span>&nbsp;<span class="num" id="8385822">0</span><span class="op" id="8385823">,</span>&nbsp;<span class="string" id="8385825">&#34;078&#34;</span><span class="op" id="8385830">,</span>&nbsp;<span class="string" id="8385832">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8385854">}</span><span class="op" id="8385855">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385858">{</span><span class="string" id="8385859">&#34;07800000009&#34;</span><span class="op" id="8385872">,</span>&nbsp;<span class="ident" id="8385874">token</span><span class="op" id="8385879">.</span><span class="ident" id="8385880">INT</span><span class="op" id="8385883">,</span>&nbsp;<span class="num" id="8385885">0</span><span class="op" id="8385886">,</span>&nbsp;<span class="string" id="8385888">&#34;07800000009&#34;</span><span class="op" id="8385901">,</span>&nbsp;<span class="string" id="8385903">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8385925">}</span><span class="op" id="8385926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385929">{</span><span class="string" id="8385930">&#34;0x&#34;</span><span class="op" id="8385934">,</span>&nbsp;<span class="ident" id="8385936">token</span><span class="op" id="8385941">.</span><span class="ident" id="8385942">INT</span><span class="op" id="8385945">,</span>&nbsp;<span class="num" id="8385947">0</span><span class="op" id="8385948">,</span>&nbsp;<span class="string" id="8385950">&#34;0x&#34;</span><span class="op" id="8385954">,</span>&nbsp;<span class="string" id="8385956">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8385984">}</span><span class="op" id="8385985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385988">{</span><span class="string" id="8385989">&#34;0X&#34;</span><span class="op" id="8385993">,</span>&nbsp;<span class="ident" id="8385995">token</span><span class="op" id="8386000">.</span><span class="ident" id="8386001">INT</span><span class="op" id="8386004">,</span>&nbsp;<span class="num" id="8386006">0</span><span class="op" id="8386007">,</span>&nbsp;<span class="string" id="8386009">&#34;0X&#34;</span><span class="op" id="8386013">,</span>&nbsp;<span class="string" id="8386015">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8386043">}</span><span class="op" id="8386044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8386047">{</span><span class="string" id="8386048">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8386064">,</span>&nbsp;<span class="ident" id="8386066">token</span><span class="op" id="8386071">.</span><span class="ident" id="8386072">STRING</span><span class="op" id="8386078">,</span>&nbsp;<span class="num" id="8386080">4</span><span class="op" id="8386081">,</span>&nbsp;<span class="string" id="8386083">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8386099">,</span>&nbsp;<span class="string" id="8386101">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8386124">}</span><span class="op" id="8386125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8386128">{</span><span class="string" id="8386129">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8386145">,</span>&nbsp;<span class="ident" id="8386147">token</span><span class="op" id="8386152">.</span><span class="ident" id="8386153">STRING</span><span class="op" id="8386159">,</span>&nbsp;<span class="num" id="8386161">4</span><span class="op" id="8386162">,</span>&nbsp;<span class="string" id="8386164">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8386180">,</span>&nbsp;<span class="string" id="8386182">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8386206">}</span><span class="op" id="8386207">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8386210">{</span><span class="string" id="8386211">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8386225">,</span>&nbsp;<span class="ident" id="8386227">token</span><span class="op" id="8386232">.</span><span class="ident" id="8386233">ILLEGAL</span><span class="op" id="8386240">,</span>&nbsp;<span class="num" id="8386242">3</span><span class="op" id="8386243">,</span>&nbsp;<span class="string" id="8386245">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8386259">,</span>&nbsp;<span class="string" id="8386261">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8386286">}</span><span class="op" id="8386287">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8386312">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8386342">{</span><span class="string" id="8386343">&#34;//\ufeff&#34;</span><span class="op" id="8386353">,</span>&nbsp;<span class="ident" id="8386355">token</span><span class="op" id="8386360">.</span><span class="ident" id="8386361">COMMENT</span><span class="op" id="8386368">,</span>&nbsp;<span class="num" id="8386370">2</span><span class="op" id="8386371">,</span>&nbsp;<span class="string" id="8386373">&#34;//\ufeff&#34;</span><span class="op" id="8386383">,</span>&nbsp;<span class="string" id="8386385">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8386410">}</span><span class="op" id="8386411">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8386444">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8386474">{</span><span class="string" id="8386475">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8386485">+</span>&nbsp;<span class="string" id="8386487">`&#39;`</span><span class="op" id="8386490">,</span>&nbsp;<span class="ident" id="8386492">token</span><span class="op" id="8386497">.</span><span class="ident" id="8386498">CHAR</span><span class="op" id="8386502">,</span>&nbsp;<span class="num" id="8386504">1</span><span class="op" id="8386505">,</span>&nbsp;<span class="string" id="8386507">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8386517">+</span>&nbsp;<span class="string" id="8386519">`&#39;`</span><span class="op" id="8386522">,</span>&nbsp;<span class="string" id="8386524">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8386549">}</span><span class="op" id="8386550">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8386576">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8386606">{</span><span class="string" id="8386607">`&#34;`</span>&nbsp;<span class="op" id="8386611">+</span>&nbsp;<span class="string" id="8386613">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8386628">+</span>&nbsp;<span class="string" id="8386630">`&#34;`</span><span class="op" id="8386633">,</span>&nbsp;<span class="ident" id="8386635">token</span><span class="op" id="8386640">.</span><span class="ident" id="8386641">STRING</span><span class="op" id="8386647">,</span>&nbsp;<span class="num" id="8386649">4</span><span class="op" id="8386650">,</span>&nbsp;<span class="string" id="8386652">`&#34;`</span>&nbsp;<span class="op" id="8386656">+</span>&nbsp;<span class="string" id="8386658">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8386673">+</span>&nbsp;<span class="string" id="8386675">`&#34;`</span><span class="op" id="8386678">,</span>&nbsp;<span class="string" id="8386680">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8386705">}</span><span class="op" id="8386706">,</span>&nbsp;<span class="comment" id="8386708">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="8386737">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="8386740">func</span>&nbsp;<span class="ident" id="8386745">TestScanErrors</span><span class="op" id="8386759">(</span><span class="ident" id="8386760">t</span>&nbsp;<span class="op" id="8386762">*</span><span class="ident" id="8386763">testing</span><span class="op" id="8386770">.</span><span class="ident" id="8386771">T</span><span class="op" id="8386772">)</span>&nbsp;<span class="op" id="8386774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8386777">for</span>&nbsp;<span class="ident" id="8386781">_</span><span class="op" id="8386782">,</span>&nbsp;<span class="ident" id="8386784">e</span>&nbsp;<span class="op" id="8386786">:=</span>&nbsp;<span class="keyword" id="8386789">range</span>&nbsp;<span class="ident" id="8386795">errors</span>&nbsp;<span class="op" id="8386802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8386806">checkError</span><span class="op" id="8386816">(</span><span class="ident" id="8386817">t</span><span class="op" id="8386818">,</span>&nbsp;<span class="ident" id="8386820">e</span><span class="op" id="8386821">.</span><span class="ident" id="8386822">src</span><span class="op" id="8386825">,</span>&nbsp;<span class="ident" id="8386827">e</span><span class="op" id="8386828">.</span><span class="ident" id="8386829">tok</span><span class="op" id="8386832">,</span>&nbsp;<span class="ident" id="8386834">e</span><span class="op" id="8386835">.</span><span class="ident" id="8386836">pos</span><span class="op" id="8386839">,</span>&nbsp;<span class="ident" id="8386841">e</span><span class="op" id="8386842">.</span><span class="ident" id="8386843">lit</span><span class="op" id="8386846">,</span>&nbsp;<span class="ident" id="8386848">e</span><span class="op" id="8386849">.</span><span class="ident" id="8386850">err</span><span class="op" id="8386853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8386856">}</span><br>
<span class="lineno">735</span><span class="op" id="8386858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8386861">func</span>&nbsp;<span class="ident" id="8386866">BenchmarkScan</span><span class="op" id="8386879">(</span><span class="ident" id="8386880">b</span>&nbsp;<span class="op" id="8386882">*</span><span class="ident" id="8386883">testing</span><span class="op" id="8386890">.</span><span class="ident" id="8386891">B</span><span class="op" id="8386892">)</span>&nbsp;<span class="op" id="8386894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8386897">b</span><span class="op" id="8386898">.</span><span class="ident" id="8386899">StopTimer</span><span class="op" id="8386908">(</span><span class="op" id="8386909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8386912">fset</span>&nbsp;<span class="op" id="8386917">:=</span>&nbsp;<span class="ident" id="8386920">token</span><span class="op" id="8386925">.</span><span class="ident" id="8386926">NewFileSet</span><span class="op" id="8386936">(</span><span class="op" id="8386937">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8386940">file</span>&nbsp;<span class="op" id="8386945">:=</span>&nbsp;<span class="ident" id="8386948">fset</span><span class="op" id="8386952">.</span><span class="ident" id="8386953">AddFile</span><span class="op" id="8386960">(</span><span class="string" id="8386961">&#34;&#34;</span><span class="op" id="8386963">,</span>&nbsp;<span class="ident" id="8386965">fset</span><span class="op" id="8386969">.</span><span class="ident" id="8386970">Base</span><span class="op" id="8386974">(</span><span class="op" id="8386975">)</span><span class="op" id="8386976">,</span>&nbsp;<span class="builtinfunc" id="8386978">len</span><span class="op" id="8386981">(</span><span class="ident" id="8386982">source</span><span class="op" id="8386988">)</span><span class="op" id="8386989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8386992">var</span>&nbsp;<span class="ident" id="8386996">s</span>&nbsp;<span class="ident" id="8386998">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387007">b</span><span class="op" id="8387008">.</span><span class="ident" id="8387009">StartTimer</span><span class="op" id="8387019">(</span><span class="op" id="8387020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387023">for</span>&nbsp;<span class="ident" id="8387027">i</span>&nbsp;<span class="op" id="8387029">:=</span>&nbsp;<span class="num" id="8387032">0</span><span class="op" id="8387033">;</span>&nbsp;<span class="ident" id="8387035">i</span>&nbsp;<span class="op" id="8387037">&lt;</span>&nbsp;<span class="ident" id="8387039">b</span><span class="op" id="8387040">.</span><span class="ident" id="8387041">N</span><span class="op" id="8387042">;</span>&nbsp;<span class="ident" id="8387044">i</span><span class="op" id="8387045">++</span>&nbsp;<span class="op" id="8387048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387052">s</span><span class="op" id="8387053">.</span><span class="ident" id="8387054">Init</span><span class="op" id="8387058">(</span><span class="ident" id="8387059">file</span><span class="op" id="8387063">,</span>&nbsp;<span class="ident" id="8387065">source</span><span class="op" id="8387071">,</span>&nbsp;<span class="ident" id="8387073">nil</span><span class="op" id="8387076">,</span>&nbsp;<span class="ident" id="8387078">ScanComments</span><span class="op" id="8387090">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387094">for</span>&nbsp;<span class="op" id="8387098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387103">_</span><span class="op" id="8387104">,</span>&nbsp;<span class="ident" id="8387106">tok</span><span class="op" id="8387109">,</span>&nbsp;<span class="ident" id="8387111">_</span>&nbsp;<span class="op" id="8387113">:=</span>&nbsp;<span class="ident" id="8387116">s</span><span class="op" id="8387117">.</span><span class="ident" id="8387118">Scan</span><span class="op" id="8387122">(</span><span class="op" id="8387123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387128">if</span>&nbsp;<span class="ident" id="8387131">tok</span>&nbsp;<span class="op" id="8387135">==</span>&nbsp;<span class="ident" id="8387138">token</span><span class="op" id="8387143">.</span><span class="ident" id="8387144">EOF</span>&nbsp;<span class="op" id="8387148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387154">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8387163">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8387167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8387170">}</span><br>
<span class="lineno"></span><span class="op" id="8387172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8387175">func</span>&nbsp;<span class="ident" id="8387180">BenchmarkScanFile</span><span class="op" id="8387197">(</span><span class="ident" id="8387198">b</span>&nbsp;<span class="op" id="8387200">*</span><span class="ident" id="8387201">testing</span><span class="op" id="8387208">.</span><span class="ident" id="8387209">B</span><span class="op" id="8387210">)</span>&nbsp;<span class="op" id="8387212">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387215">b</span><span class="op" id="8387216">.</span><span class="ident" id="8387217">StopTimer</span><span class="op" id="8387226">(</span><span class="op" id="8387227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387230">const</span>&nbsp;<span class="ident" id="8387236">filename</span>&nbsp;<span class="op" id="8387245">=</span>&nbsp;<span class="string" id="8387247">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387261">src</span><span class="op" id="8387264">,</span>&nbsp;<span class="ident" id="8387266">err</span>&nbsp;<span class="op" id="8387270">:=</span>&nbsp;<span class="ident" id="8387273">ioutil</span><span class="op" id="8387279">.</span><span class="ident" id="8387280">ReadFile</span><span class="op" id="8387288">(</span><span class="ident" id="8387289">filename</span><span class="op" id="8387297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387300">if</span>&nbsp;<span class="ident" id="8387303">err</span>&nbsp;<span class="op" id="8387307">!=</span>&nbsp;<span class="ident" id="8387310">nil</span>&nbsp;<span class="op" id="8387314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8387318">panic</span><span class="op" id="8387323">(</span><span class="ident" id="8387324">err</span><span class="op" id="8387327">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8387330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387333">fset</span>&nbsp;<span class="op" id="8387338">:=</span>&nbsp;<span class="ident" id="8387341">token</span><span class="op" id="8387346">.</span><span class="ident" id="8387347">NewFileSet</span><span class="op" id="8387357">(</span><span class="op" id="8387358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387361">file</span>&nbsp;<span class="op" id="8387366">:=</span>&nbsp;<span class="ident" id="8387369">fset</span><span class="op" id="8387373">.</span><span class="ident" id="8387374">AddFile</span><span class="op" id="8387381">(</span><span class="ident" id="8387382">filename</span><span class="op" id="8387390">,</span>&nbsp;<span class="ident" id="8387392">fset</span><span class="op" id="8387396">.</span><span class="ident" id="8387397">Base</span><span class="op" id="8387401">(</span><span class="op" id="8387402">)</span><span class="op" id="8387403">,</span>&nbsp;<span class="builtinfunc" id="8387405">len</span><span class="op" id="8387408">(</span><span class="ident" id="8387409">src</span><span class="op" id="8387412">)</span><span class="op" id="8387413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387416">b</span><span class="op" id="8387417">.</span><span class="ident" id="8387418">SetBytes</span><span class="op" id="8387426">(</span><span class="ident" id="8387427">int64</span><span class="op" id="8387432">(</span><span class="builtinfunc" id="8387433">len</span><span class="op" id="8387436">(</span><span class="ident" id="8387437">src</span><span class="op" id="8387440">)</span><span class="op" id="8387441">)</span><span class="op" id="8387442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387445">var</span>&nbsp;<span class="ident" id="8387449">s</span>&nbsp;<span class="ident" id="8387451">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387460">b</span><span class="op" id="8387461">.</span><span class="ident" id="8387462">StartTimer</span><span class="op" id="8387472">(</span><span class="op" id="8387473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387476">for</span>&nbsp;<span class="ident" id="8387480">i</span>&nbsp;<span class="op" id="8387482">:=</span>&nbsp;<span class="num" id="8387485">0</span><span class="op" id="8387486">;</span>&nbsp;<span class="ident" id="8387488">i</span>&nbsp;<span class="op" id="8387490">&lt;</span>&nbsp;<span class="ident" id="8387492">b</span><span class="op" id="8387493">.</span><span class="ident" id="8387494">N</span><span class="op" id="8387495">;</span>&nbsp;<span class="ident" id="8387497">i</span><span class="op" id="8387498">++</span>&nbsp;<span class="op" id="8387501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387505">s</span><span class="op" id="8387506">.</span><span class="ident" id="8387507">Init</span><span class="op" id="8387511">(</span><span class="ident" id="8387512">file</span><span class="op" id="8387516">,</span>&nbsp;<span class="ident" id="8387518">src</span><span class="op" id="8387521">,</span>&nbsp;<span class="ident" id="8387523">nil</span><span class="op" id="8387526">,</span>&nbsp;<span class="ident" id="8387528">ScanComments</span><span class="op" id="8387540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387544">for</span>&nbsp;<span class="op" id="8387548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8387553">_</span><span class="op" id="8387554">,</span>&nbsp;<span class="ident" id="8387556">tok</span><span class="op" id="8387559">,</span>&nbsp;<span class="ident" id="8387561">_</span>&nbsp;<span class="op" id="8387563">:=</span>&nbsp;<span class="ident" id="8387566">s</span><span class="op" id="8387567">.</span><span class="ident" id="8387568">Scan</span><span class="op" id="8387572">(</span><span class="op" id="8387573">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387578">if</span>&nbsp;<span class="ident" id="8387581">tok</span>&nbsp;<span class="op" id="8387585">==</span>&nbsp;<span class="ident" id="8387588">token</span><span class="op" id="8387593">.</span><span class="ident" id="8387594">EOF</span>&nbsp;<span class="op" id="8387598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8387604">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8387613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8387617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8387620">}</span><br>
<span class="lineno">775</span><span class="op" id="8387622">}</span>
</div>
</body>
</html>
