<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4313734">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4313790">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4313844">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4313895">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="4313933">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="4313994">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4314041">package</span>&nbsp;<span class="ident" id="4314049">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="4314056">import</span>&nbsp;<span class="string" id="4314063">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4314074">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4314134">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="4314192">type</span>&nbsp;<span class="ident" id="4314197">Type</span>&nbsp;<span class="keyword" id="4314202">interface</span>&nbsp;<span class="op" id="4314212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4314215">Common</span><span class="op" id="4314221">(</span><span class="op" id="4314222">)</span>&nbsp;<span class="op" id="4314224">*</span><span class="ident" id="4314225">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4314237">String</span><span class="op" id="4314243">(</span><span class="op" id="4314244">)</span>&nbsp;<span class="builtintype" id="4314246">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4314254">Size</span><span class="op" id="4314258">(</span><span class="op" id="4314259">)</span>&nbsp;<span class="ident" id="4314261">int64</span><br>
<span class="lineno"></span><span class="op" id="4314267">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="4314270">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="4314325">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="4314388">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="4314415">type</span>&nbsp;<span class="ident" id="4314420">CommonType</span>&nbsp;<span class="keyword" id="4314431">struct</span>&nbsp;<span class="op" id="4314438">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4314441">ByteSize</span>&nbsp;<span class="ident" id="4314450">int64</span>&nbsp;&nbsp;<span class="comment" id="4314457">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4314498">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4314507">string</span>&nbsp;<span class="comment" id="4314514">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="4314556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4314559">func</span>&nbsp;<span class="op" id="4314564">(</span><span class="ident" id="4314565">c</span>&nbsp;<span class="op" id="4314567">*</span><span class="ident" id="4314568">CommonType</span><span class="op" id="4314578">)</span>&nbsp;<span class="ident" id="4314580">Common</span><span class="op" id="4314586">(</span><span class="op" id="4314587">)</span>&nbsp;<span class="op" id="4314589">*</span><span class="ident" id="4314590">CommonType</span>&nbsp;<span class="op" id="4314601">{</span>&nbsp;<span class="keyword" id="4314603">return</span>&nbsp;<span class="ident" id="4314610">c</span>&nbsp;<span class="op" id="4314612">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="4314615">func</span>&nbsp;<span class="op" id="4314620">(</span><span class="ident" id="4314621">c</span>&nbsp;<span class="op" id="4314623">*</span><span class="ident" id="4314624">CommonType</span><span class="op" id="4314634">)</span>&nbsp;<span class="ident" id="4314636">Size</span><span class="op" id="4314640">(</span><span class="op" id="4314641">)</span>&nbsp;<span class="ident" id="4314643">int64</span>&nbsp;<span class="op" id="4314649">{</span>&nbsp;<span class="keyword" id="4314651">return</span>&nbsp;<span class="ident" id="4314658">c</span><span class="op" id="4314659">.</span><span class="ident" id="4314660">ByteSize</span>&nbsp;<span class="op" id="4314669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4314672">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="4314688">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="4314743">type</span>&nbsp;<span class="ident" id="4314748">BasicType</span>&nbsp;<span class="keyword" id="4314758">struct</span>&nbsp;<span class="op" id="4314765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4314768">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4314780">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4314790">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4314797">BitOffset</span>&nbsp;<span class="ident" id="4314807">int64</span><br>
<span class="lineno">40</span><span class="op" id="4314813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4314816">func</span>&nbsp;<span class="op" id="4314821">(</span><span class="ident" id="4314822">b</span>&nbsp;<span class="op" id="4314824">*</span><span class="ident" id="4314825">BasicType</span><span class="op" id="4314834">)</span>&nbsp;<span class="ident" id="4314836">Basic</span><span class="op" id="4314841">(</span><span class="op" id="4314842">)</span>&nbsp;<span class="op" id="4314844">*</span><span class="ident" id="4314845">BasicType</span>&nbsp;<span class="op" id="4314855">{</span>&nbsp;<span class="keyword" id="4314857">return</span>&nbsp;<span class="ident" id="4314864">b</span>&nbsp;<span class="op" id="4314866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4314869">func</span>&nbsp;<span class="op" id="4314874">(</span><span class="ident" id="4314875">t</span>&nbsp;<span class="op" id="4314877">*</span><span class="ident" id="4314878">BasicType</span><span class="op" id="4314887">)</span>&nbsp;<span class="ident" id="4314889">String</span><span class="op" id="4314895">(</span><span class="op" id="4314896">)</span>&nbsp;<span class="builtintype" id="4314898">string</span>&nbsp;<span class="op" id="4314905">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4314908">if</span>&nbsp;<span class="ident" id="4314911">t</span><span class="op" id="4314912">.</span><span class="ident" id="4314913">Name</span>&nbsp;<span class="op" id="4314918">!=</span>&nbsp;<span class="string" id="4314921">&#34;&#34;</span>&nbsp;<span class="op" id="4314924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4314928">return</span>&nbsp;<span class="ident" id="4314935">t</span><span class="op" id="4314936">.</span><span class="ident" id="4314937">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4314943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4314946">return</span>&nbsp;<span class="string" id="4314953">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="4314957">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="4314960">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4315010">type</span>&nbsp;<span class="ident" id="4315015">CharType</span>&nbsp;<span class="keyword" id="4315024">struct</span>&nbsp;<span class="op" id="4315031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315034">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4315044">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="4315047">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4315101">type</span>&nbsp;<span class="ident" id="4315106">UcharType</span>&nbsp;<span class="keyword" id="4315116">struct</span>&nbsp;<span class="op" id="4315123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315126">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4315136">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4315139">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4315187">type</span>&nbsp;<span class="ident" id="4315192">IntType</span>&nbsp;<span class="keyword" id="4315200">struct</span>&nbsp;<span class="op" id="4315207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315210">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4315220">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="4315223">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4315274">type</span>&nbsp;<span class="ident" id="4315279">UintType</span>&nbsp;<span class="keyword" id="4315288">struct</span>&nbsp;<span class="op" id="4315295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315298">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4315308">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="4315311">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4315360">type</span>&nbsp;<span class="ident" id="4315365">FloatType</span>&nbsp;<span class="keyword" id="4315375">struct</span>&nbsp;<span class="op" id="4315382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315385">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4315395">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="4315398">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4315457">type</span>&nbsp;<span class="ident" id="4315462">ComplexType</span>&nbsp;<span class="keyword" id="4315474">struct</span>&nbsp;<span class="op" id="4315481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315484">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4315494">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="4315497">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4315538">type</span>&nbsp;<span class="ident" id="4315543">BoolType</span>&nbsp;<span class="keyword" id="4315552">struct</span>&nbsp;<span class="op" id="4315559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315562">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4315572">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="4315575">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4315625">type</span>&nbsp;<span class="ident" id="4315630">AddrType</span>&nbsp;<span class="keyword" id="4315639">struct</span>&nbsp;<span class="op" id="4315646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315649">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4315659">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="4315662">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4315748">type</span>&nbsp;<span class="ident" id="4315753">UnspecifiedType</span>&nbsp;<span class="keyword" id="4315769">struct</span>&nbsp;<span class="op" id="4315776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315779">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4315789">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="4315792">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4315807">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="4315904">type</span>&nbsp;<span class="ident" id="4315909">QualType</span>&nbsp;<span class="keyword" id="4315918">struct</span>&nbsp;<span class="op" id="4315925">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315928">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315940">Qual</span>&nbsp;<span class="builtintype" id="4315945">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4315953">Type</span>&nbsp;<span class="ident" id="4315958">Type</span><br>
<span class="lineno"></span><span class="op" id="4315963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="4315966">func</span>&nbsp;<span class="op" id="4315971">(</span><span class="ident" id="4315972">t</span>&nbsp;<span class="op" id="4315974">*</span><span class="ident" id="4315975">QualType</span><span class="op" id="4315983">)</span>&nbsp;<span class="ident" id="4315985">String</span><span class="op" id="4315991">(</span><span class="op" id="4315992">)</span>&nbsp;<span class="builtintype" id="4315994">string</span>&nbsp;<span class="op" id="4316001">{</span>&nbsp;<span class="keyword" id="4316003">return</span>&nbsp;<span class="ident" id="4316010">t</span><span class="op" id="4316011">.</span><span class="ident" id="4316012">Qual</span>&nbsp;<span class="op" id="4316017">+</span>&nbsp;<span class="string" id="4316019">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4316023">+</span>&nbsp;<span class="ident" id="4316025">t</span><span class="op" id="4316026">.</span><span class="ident" id="4316027">Type</span><span class="op" id="4316031">.</span><span class="ident" id="4316032">String</span><span class="op" id="4316038">(</span><span class="op" id="4316039">)</span>&nbsp;<span class="op" id="4316041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4316044">func</span>&nbsp;<span class="op" id="4316049">(</span><span class="ident" id="4316050">t</span>&nbsp;<span class="op" id="4316052">*</span><span class="ident" id="4316053">QualType</span><span class="op" id="4316061">)</span>&nbsp;<span class="ident" id="4316063">Size</span><span class="op" id="4316067">(</span><span class="op" id="4316068">)</span>&nbsp;<span class="ident" id="4316070">int64</span>&nbsp;<span class="op" id="4316076">{</span>&nbsp;<span class="keyword" id="4316078">return</span>&nbsp;<span class="ident" id="4316085">t</span><span class="op" id="4316086">.</span><span class="ident" id="4316087">Type</span><span class="op" id="4316091">.</span><span class="ident" id="4316092">Size</span><span class="op" id="4316096">(</span><span class="op" id="4316097">)</span>&nbsp;<span class="op" id="4316099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4316102">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="4316154">type</span>&nbsp;<span class="ident" id="4316159">ArrayType</span>&nbsp;<span class="keyword" id="4316169">struct</span>&nbsp;<span class="op" id="4316176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316179">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316191">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4316205">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316211">StrideBitSize</span>&nbsp;<span class="ident" id="4316225">int64</span>&nbsp;<span class="comment" id="4316231">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316279">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4316293">int64</span>&nbsp;<span class="comment" id="4316299">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="4316348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4316351">func</span>&nbsp;<span class="op" id="4316356">(</span><span class="ident" id="4316357">t</span>&nbsp;<span class="op" id="4316359">*</span><span class="ident" id="4316360">ArrayType</span><span class="op" id="4316369">)</span>&nbsp;<span class="ident" id="4316371">String</span><span class="op" id="4316377">(</span><span class="op" id="4316378">)</span>&nbsp;<span class="builtintype" id="4316380">string</span>&nbsp;<span class="op" id="4316387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4316390">return</span>&nbsp;<span class="string" id="4316397">&#34;[&#34;</span>&nbsp;<span class="op" id="4316401">+</span>&nbsp;<span class="ident" id="4316403">strconv</span><span class="op" id="4316410">.</span><span class="ident" id="4316411">FormatInt</span><span class="op" id="4316420">(</span><span class="ident" id="4316421">t</span><span class="op" id="4316422">.</span><span class="ident" id="4316423">Count</span><span class="op" id="4316428">,</span>&nbsp;<span class="num" id="4316430">10</span><span class="op" id="4316432">)</span>&nbsp;<span class="op" id="4316434">+</span>&nbsp;<span class="string" id="4316436">&#34;]&#34;</span>&nbsp;<span class="op" id="4316440">+</span>&nbsp;<span class="ident" id="4316442">t</span><span class="op" id="4316443">.</span><span class="ident" id="4316444">Type</span><span class="op" id="4316448">.</span><span class="ident" id="4316449">String</span><span class="op" id="4316455">(</span><span class="op" id="4316456">)</span><br>
<span class="lineno"></span><span class="op" id="4316458">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="4316461">func</span>&nbsp;<span class="op" id="4316466">(</span><span class="ident" id="4316467">t</span>&nbsp;<span class="op" id="4316469">*</span><span class="ident" id="4316470">ArrayType</span><span class="op" id="4316479">)</span>&nbsp;<span class="ident" id="4316481">Size</span><span class="op" id="4316485">(</span><span class="op" id="4316486">)</span>&nbsp;<span class="ident" id="4316488">int64</span>&nbsp;<span class="op" id="4316494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4316497">if</span>&nbsp;<span class="ident" id="4316500">t</span><span class="op" id="4316501">.</span><span class="ident" id="4316502">Count</span>&nbsp;<span class="op" id="4316508">==</span>&nbsp;<span class="op" id="4316511">-</span><span class="num" id="4316512">1</span>&nbsp;<span class="op" id="4316514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4316518">return</span>&nbsp;<span class="num" id="4316525">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4316528">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4316531">return</span>&nbsp;<span class="ident" id="4316538">t</span><span class="op" id="4316539">.</span><span class="ident" id="4316540">Count</span>&nbsp;<span class="op" id="4316546">*</span>&nbsp;<span class="ident" id="4316548">t</span><span class="op" id="4316549">.</span><span class="ident" id="4316550">Type</span><span class="op" id="4316554">.</span><span class="ident" id="4316555">Size</span><span class="op" id="4316559">(</span><span class="op" id="4316560">)</span><br>
<span class="lineno"></span><span class="op" id="4316562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4316565">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4316607">type</span>&nbsp;<span class="ident" id="4316612">VoidType</span>&nbsp;<span class="keyword" id="4316621">struct</span>&nbsp;<span class="op" id="4316628">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316631">CommonType</span><br>
<span class="lineno"></span><span class="op" id="4316642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4316645">func</span>&nbsp;<span class="op" id="4316650">(</span><span class="ident" id="4316651">t</span>&nbsp;<span class="op" id="4316653">*</span><span class="ident" id="4316654">VoidType</span><span class="op" id="4316662">)</span>&nbsp;<span class="ident" id="4316664">String</span><span class="op" id="4316670">(</span><span class="op" id="4316671">)</span>&nbsp;<span class="builtintype" id="4316673">string</span>&nbsp;<span class="op" id="4316680">{</span>&nbsp;<span class="keyword" id="4316682">return</span>&nbsp;<span class="string" id="4316689">&#34;void&#34;</span>&nbsp;<span class="op" id="4316696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="4316699">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4316739">type</span>&nbsp;<span class="ident" id="4316744">PtrType</span>&nbsp;<span class="keyword" id="4316752">struct</span>&nbsp;<span class="op" id="4316759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316762">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316774">Type</span>&nbsp;<span class="ident" id="4316779">Type</span><br>
<span class="lineno"></span><span class="op" id="4316784">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="4316787">func</span>&nbsp;<span class="op" id="4316792">(</span><span class="ident" id="4316793">t</span>&nbsp;<span class="op" id="4316795">*</span><span class="ident" id="4316796">PtrType</span><span class="op" id="4316803">)</span>&nbsp;<span class="ident" id="4316805">String</span><span class="op" id="4316811">(</span><span class="op" id="4316812">)</span>&nbsp;<span class="builtintype" id="4316814">string</span>&nbsp;<span class="op" id="4316821">{</span>&nbsp;<span class="keyword" id="4316823">return</span>&nbsp;<span class="string" id="4316830">&#34;*&#34;</span>&nbsp;<span class="op" id="4316834">+</span>&nbsp;<span class="ident" id="4316836">t</span><span class="op" id="4316837">.</span><span class="ident" id="4316838">Type</span><span class="op" id="4316842">.</span><span class="ident" id="4316843">String</span><span class="op" id="4316849">(</span><span class="op" id="4316850">)</span>&nbsp;<span class="op" id="4316852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4316855">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4316918">type</span>&nbsp;<span class="ident" id="4316923">StructType</span>&nbsp;<span class="keyword" id="4316934">struct</span>&nbsp;<span class="op" id="4316941">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316944">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316956">StructName</span>&nbsp;<span class="builtintype" id="4316967">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4316975">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4316986">string</span>&nbsp;<span class="comment" id="4316993">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317028">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4317039">[</span><span class="op" id="4317040">]</span><span class="op" id="4317041">*</span><span class="ident" id="4317042">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317055">Incomplete</span>&nbsp;<span class="builtintype" id="4317066">bool</span>&nbsp;<span class="comment" id="4317071">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="4317132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4317135">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4317210">type</span>&nbsp;<span class="ident" id="4317215">StructField</span>&nbsp;<span class="keyword" id="4317227">struct</span>&nbsp;<span class="op" id="4317234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317237">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4317248">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317256">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4317267">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317273">ByteOffset</span>&nbsp;<span class="ident" id="4317284">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317291">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4317302">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317309">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="4317320">int64</span>&nbsp;<span class="comment" id="4317326">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317370">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4317381">int64</span>&nbsp;<span class="comment" id="4317387">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="4317414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4317417">func</span>&nbsp;<span class="op" id="4317422">(</span><span class="ident" id="4317423">t</span>&nbsp;<span class="op" id="4317425">*</span><span class="ident" id="4317426">StructType</span><span class="op" id="4317436">)</span>&nbsp;<span class="ident" id="4317438">String</span><span class="op" id="4317444">(</span><span class="op" id="4317445">)</span>&nbsp;<span class="builtintype" id="4317447">string</span>&nbsp;<span class="op" id="4317454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317457">if</span>&nbsp;<span class="ident" id="4317460">t</span><span class="op" id="4317461">.</span><span class="ident" id="4317462">StructName</span>&nbsp;<span class="op" id="4317473">!=</span>&nbsp;<span class="string" id="4317476">&#34;&#34;</span>&nbsp;<span class="op" id="4317479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317483">return</span>&nbsp;<span class="ident" id="4317490">t</span><span class="op" id="4317491">.</span><span class="ident" id="4317492">Kind</span>&nbsp;<span class="op" id="4317497">+</span>&nbsp;<span class="string" id="4317499">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4317503">+</span>&nbsp;<span class="ident" id="4317505">t</span><span class="op" id="4317506">.</span><span class="ident" id="4317507">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4317519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317522">return</span>&nbsp;<span class="ident" id="4317529">t</span><span class="op" id="4317530">.</span><span class="ident" id="4317531">Defn</span><span class="op" id="4317535">(</span><span class="op" id="4317536">)</span><br>
<span class="lineno"></span><span class="op" id="4317538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4317541">func</span>&nbsp;<span class="op" id="4317546">(</span><span class="ident" id="4317547">t</span>&nbsp;<span class="op" id="4317549">*</span><span class="ident" id="4317550">StructType</span><span class="op" id="4317560">)</span>&nbsp;<span class="ident" id="4317562">Defn</span><span class="op" id="4317566">(</span><span class="op" id="4317567">)</span>&nbsp;<span class="builtintype" id="4317569">string</span>&nbsp;<span class="op" id="4317576">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317579">s</span>&nbsp;<span class="op" id="4317581">:=</span>&nbsp;<span class="ident" id="4317584">t</span><span class="op" id="4317585">.</span><span class="ident" id="4317586">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317592">if</span>&nbsp;<span class="ident" id="4317595">t</span><span class="op" id="4317596">.</span><span class="ident" id="4317597">StructName</span>&nbsp;<span class="op" id="4317608">!=</span>&nbsp;<span class="string" id="4317611">&#34;&#34;</span>&nbsp;<span class="op" id="4317614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317618">s</span>&nbsp;<span class="op" id="4317620">+=</span>&nbsp;<span class="string" id="4317623">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4317627">+</span>&nbsp;<span class="ident" id="4317629">t</span><span class="op" id="4317630">.</span><span class="ident" id="4317631">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4317643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317646">if</span>&nbsp;<span class="ident" id="4317649">t</span><span class="op" id="4317650">.</span><span class="ident" id="4317651">Incomplete</span>&nbsp;<span class="op" id="4317662">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317666">s</span>&nbsp;<span class="op" id="4317668">+=</span>&nbsp;<span class="string" id="4317671">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317691">return</span>&nbsp;<span class="ident" id="4317698">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4317701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317704">s</span>&nbsp;<span class="op" id="4317706">+=</span>&nbsp;<span class="string" id="4317709">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317715">for</span>&nbsp;<span class="ident" id="4317719">i</span><span class="op" id="4317720">,</span>&nbsp;<span class="ident" id="4317722">f</span>&nbsp;<span class="op" id="4317724">:=</span>&nbsp;<span class="keyword" id="4317727">range</span>&nbsp;<span class="ident" id="4317733">t</span><span class="op" id="4317734">.</span><span class="ident" id="4317735">Field</span>&nbsp;<span class="op" id="4317741">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317745">if</span>&nbsp;<span class="ident" id="4317748">i</span>&nbsp;<span class="op" id="4317750">&gt;</span>&nbsp;<span class="num" id="4317752">0</span>&nbsp;<span class="op" id="4317754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317759">s</span>&nbsp;<span class="op" id="4317761">+=</span>&nbsp;<span class="string" id="4317764">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4317771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317775">s</span>&nbsp;<span class="op" id="4317777">+=</span>&nbsp;<span class="ident" id="4317780">f</span><span class="op" id="4317781">.</span><span class="ident" id="4317782">Name</span>&nbsp;<span class="op" id="4317787">+</span>&nbsp;<span class="string" id="4317789">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4317793">+</span>&nbsp;<span class="ident" id="4317795">f</span><span class="op" id="4317796">.</span><span class="ident" id="4317797">Type</span><span class="op" id="4317801">.</span><span class="ident" id="4317802">String</span><span class="op" id="4317808">(</span><span class="op" id="4317809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317813">s</span>&nbsp;<span class="op" id="4317815">+=</span>&nbsp;<span class="string" id="4317818">&#34;@&#34;</span>&nbsp;<span class="op" id="4317822">+</span>&nbsp;<span class="ident" id="4317824">strconv</span><span class="op" id="4317831">.</span><span class="ident" id="4317832">FormatInt</span><span class="op" id="4317841">(</span><span class="ident" id="4317842">f</span><span class="op" id="4317843">.</span><span class="ident" id="4317844">ByteOffset</span><span class="op" id="4317854">,</span>&nbsp;<span class="num" id="4317856">10</span><span class="op" id="4317858">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317862">if</span>&nbsp;<span class="ident" id="4317865">f</span><span class="op" id="4317866">.</span><span class="ident" id="4317867">BitSize</span>&nbsp;<span class="op" id="4317875">&gt;</span>&nbsp;<span class="num" id="4317877">0</span>&nbsp;<span class="op" id="4317879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317884">s</span>&nbsp;<span class="op" id="4317886">+=</span>&nbsp;<span class="string" id="4317889">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="4317895">+</span>&nbsp;<span class="ident" id="4317897">strconv</span><span class="op" id="4317904">.</span><span class="ident" id="4317905">FormatInt</span><span class="op" id="4317914">(</span><span class="ident" id="4317915">f</span><span class="op" id="4317916">.</span><span class="ident" id="4317917">BitSize</span><span class="op" id="4317924">,</span>&nbsp;<span class="num" id="4317926">10</span><span class="op" id="4317928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317933">s</span>&nbsp;<span class="op" id="4317935">+=</span>&nbsp;<span class="string" id="4317938">&#34;@&#34;</span>&nbsp;<span class="op" id="4317942">+</span>&nbsp;<span class="ident" id="4317944">strconv</span><span class="op" id="4317951">.</span><span class="ident" id="4317952">FormatInt</span><span class="op" id="4317961">(</span><span class="ident" id="4317962">f</span><span class="op" id="4317963">.</span><span class="ident" id="4317964">BitOffset</span><span class="op" id="4317973">,</span>&nbsp;<span class="num" id="4317975">10</span><span class="op" id="4317977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4317981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4317984">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4317987">s</span>&nbsp;<span class="op" id="4317989">+=</span>&nbsp;<span class="string" id="4317992">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4317997">return</span>&nbsp;<span class="ident" id="4318004">s</span><br>
<span class="lineno"></span><span class="op" id="4318006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4318009">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="4318055">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="4318121">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="4318145">type</span>&nbsp;<span class="ident" id="4318150">EnumType</span>&nbsp;<span class="keyword" id="4318159">struct</span>&nbsp;<span class="op" id="4318166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318169">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318181">EnumName</span>&nbsp;<span class="builtintype" id="4318190">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318198">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4318207">[</span><span class="op" id="4318208">]</span><span class="op" id="4318209">*</span><span class="ident" id="4318210">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="4318220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4318223">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="4318278">type</span>&nbsp;<span class="ident" id="4318283">EnumValue</span>&nbsp;<span class="keyword" id="4318293">struct</span>&nbsp;<span class="op" id="4318300">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318303">Name</span>&nbsp;<span class="builtintype" id="4318308">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318316">Val</span>&nbsp;&nbsp;<span class="ident" id="4318321">int64</span><br>
<span class="lineno"></span><span class="op" id="4318327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4318330">func</span>&nbsp;<span class="op" id="4318335">(</span><span class="ident" id="4318336">t</span>&nbsp;<span class="op" id="4318338">*</span><span class="ident" id="4318339">EnumType</span><span class="op" id="4318347">)</span>&nbsp;<span class="ident" id="4318349">String</span><span class="op" id="4318355">(</span><span class="op" id="4318356">)</span>&nbsp;<span class="builtintype" id="4318358">string</span>&nbsp;<span class="op" id="4318365">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318368">s</span>&nbsp;<span class="op" id="4318370">:=</span>&nbsp;<span class="string" id="4318373">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4318381">if</span>&nbsp;<span class="ident" id="4318384">t</span><span class="op" id="4318385">.</span><span class="ident" id="4318386">EnumName</span>&nbsp;<span class="op" id="4318395">!=</span>&nbsp;<span class="string" id="4318398">&#34;&#34;</span>&nbsp;<span class="op" id="4318401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318405">s</span>&nbsp;<span class="op" id="4318407">+=</span>&nbsp;<span class="string" id="4318410">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4318414">+</span>&nbsp;<span class="ident" id="4318416">t</span><span class="op" id="4318417">.</span><span class="ident" id="4318418">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4318428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318431">s</span>&nbsp;<span class="op" id="4318433">+=</span>&nbsp;<span class="string" id="4318436">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4318442">for</span>&nbsp;<span class="ident" id="4318446">i</span><span class="op" id="4318447">,</span>&nbsp;<span class="ident" id="4318449">v</span>&nbsp;<span class="op" id="4318451">:=</span>&nbsp;<span class="keyword" id="4318454">range</span>&nbsp;<span class="ident" id="4318460">t</span><span class="op" id="4318461">.</span><span class="ident" id="4318462">Val</span>&nbsp;<span class="op" id="4318466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4318470">if</span>&nbsp;<span class="ident" id="4318473">i</span>&nbsp;<span class="op" id="4318475">&gt;</span>&nbsp;<span class="num" id="4318477">0</span>&nbsp;<span class="op" id="4318479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318484">s</span>&nbsp;<span class="op" id="4318486">+=</span>&nbsp;<span class="string" id="4318489">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4318496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318500">s</span>&nbsp;<span class="op" id="4318502">+=</span>&nbsp;<span class="ident" id="4318505">v</span><span class="op" id="4318506">.</span><span class="ident" id="4318507">Name</span>&nbsp;<span class="op" id="4318512">+</span>&nbsp;<span class="string" id="4318514">&#34;=&#34;</span>&nbsp;<span class="op" id="4318518">+</span>&nbsp;<span class="ident" id="4318520">strconv</span><span class="op" id="4318527">.</span><span class="ident" id="4318528">FormatInt</span><span class="op" id="4318537">(</span><span class="ident" id="4318538">v</span><span class="op" id="4318539">.</span><span class="ident" id="4318540">Val</span><span class="op" id="4318543">,</span>&nbsp;<span class="num" id="4318545">10</span><span class="op" id="4318547">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4318550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318553">s</span>&nbsp;<span class="op" id="4318555">+=</span>&nbsp;<span class="string" id="4318558">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4318563">return</span>&nbsp;<span class="ident" id="4318570">s</span><br>
<span class="lineno"></span><span class="op" id="4318572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="4318575">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4318617">type</span>&nbsp;<span class="ident" id="4318622">FuncType</span>&nbsp;<span class="keyword" id="4318631">struct</span>&nbsp;<span class="op" id="4318638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318641">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318653">ReturnType</span>&nbsp;<span class="ident" id="4318664">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318670">ParamType</span>&nbsp;&nbsp;<span class="op" id="4318681">[</span><span class="op" id="4318682">]</span><span class="ident" id="4318683">Type</span><br>
<span class="lineno">230</span><span class="op" id="4318688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4318691">func</span>&nbsp;<span class="op" id="4318696">(</span><span class="ident" id="4318697">t</span>&nbsp;<span class="op" id="4318699">*</span><span class="ident" id="4318700">FuncType</span><span class="op" id="4318708">)</span>&nbsp;<span class="ident" id="4318710">String</span><span class="op" id="4318716">(</span><span class="op" id="4318717">)</span>&nbsp;<span class="builtintype" id="4318719">string</span>&nbsp;<span class="op" id="4318726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318729">s</span>&nbsp;<span class="op" id="4318731">:=</span>&nbsp;<span class="string" id="4318734">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4318743">for</span>&nbsp;<span class="ident" id="4318747">i</span><span class="op" id="4318748">,</span>&nbsp;<span class="ident" id="4318750">t</span>&nbsp;<span class="op" id="4318752">:=</span>&nbsp;<span class="keyword" id="4318755">range</span>&nbsp;<span class="ident" id="4318761">t</span><span class="op" id="4318762">.</span><span class="ident" id="4318763">ParamType</span>&nbsp;<span class="op" id="4318773">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4318777">if</span>&nbsp;<span class="ident" id="4318780">i</span>&nbsp;<span class="op" id="4318782">&gt;</span>&nbsp;<span class="num" id="4318784">0</span>&nbsp;<span class="op" id="4318786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318791">s</span>&nbsp;<span class="op" id="4318793">+=</span>&nbsp;<span class="string" id="4318796">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4318803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318807">s</span>&nbsp;<span class="op" id="4318809">+=</span>&nbsp;<span class="ident" id="4318812">t</span><span class="op" id="4318813">.</span><span class="ident" id="4318814">String</span><span class="op" id="4318820">(</span><span class="op" id="4318821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4318824">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318827">s</span>&nbsp;<span class="op" id="4318829">+=</span>&nbsp;<span class="string" id="4318832">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4318837">if</span>&nbsp;<span class="ident" id="4318840">t</span><span class="op" id="4318841">.</span><span class="ident" id="4318842">ReturnType</span>&nbsp;<span class="op" id="4318853">!=</span>&nbsp;<span class="ident" id="4318856">nil</span>&nbsp;<span class="op" id="4318860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4318864">s</span>&nbsp;<span class="op" id="4318866">+=</span>&nbsp;<span class="string" id="4318869">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4318873">+</span>&nbsp;<span class="ident" id="4318875">t</span><span class="op" id="4318876">.</span><span class="ident" id="4318877">ReturnType</span><span class="op" id="4318887">.</span><span class="ident" id="4318888">String</span><span class="op" id="4318894">(</span><span class="op" id="4318895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4318898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4318901">return</span>&nbsp;<span class="ident" id="4318908">s</span><br>
<span class="lineno">245</span><span class="op" id="4318910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4318913">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="4318980">type</span>&nbsp;<span class="ident" id="4318985">DotDotDotType</span>&nbsp;<span class="keyword" id="4318999">struct</span>&nbsp;<span class="op" id="4319006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4319009">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="4319020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4319023">func</span>&nbsp;<span class="op" id="4319028">(</span><span class="ident" id="4319029">t</span>&nbsp;<span class="op" id="4319031">*</span><span class="ident" id="4319032">DotDotDotType</span><span class="op" id="4319045">)</span>&nbsp;<span class="ident" id="4319047">String</span><span class="op" id="4319053">(</span><span class="op" id="4319054">)</span>&nbsp;<span class="builtintype" id="4319056">string</span>&nbsp;<span class="op" id="4319063">{</span>&nbsp;<span class="keyword" id="4319065">return</span>&nbsp;<span class="string" id="4319072">&#34;...&#34;</span>&nbsp;<span class="op" id="4319078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4319081">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="4319123">type</span>&nbsp;<span class="ident" id="4319128">TypedefType</span>&nbsp;<span class="keyword" id="4319140">struct</span>&nbsp;<span class="op" id="4319147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4319150">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4319162">Type</span>&nbsp;<span class="ident" id="4319167">Type</span><br>
<span class="lineno"></span><span class="op" id="4319172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="4319175">func</span>&nbsp;<span class="op" id="4319180">(</span><span class="ident" id="4319181">t</span>&nbsp;<span class="op" id="4319183">*</span><span class="ident" id="4319184">TypedefType</span><span class="op" id="4319195">)</span>&nbsp;<span class="ident" id="4319197">String</span><span class="op" id="4319203">(</span><span class="op" id="4319204">)</span>&nbsp;<span class="builtintype" id="4319206">string</span>&nbsp;<span class="op" id="4319213">{</span>&nbsp;<span class="keyword" id="4319215">return</span>&nbsp;<span class="ident" id="4319222">t</span><span class="op" id="4319223">.</span><span class="ident" id="4319224">Name</span>&nbsp;<span class="op" id="4319229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4319232">func</span>&nbsp;<span class="op" id="4319237">(</span><span class="ident" id="4319238">t</span>&nbsp;<span class="op" id="4319240">*</span><span class="ident" id="4319241">TypedefType</span><span class="op" id="4319252">)</span>&nbsp;<span class="ident" id="4319254">Size</span><span class="op" id="4319258">(</span><span class="op" id="4319259">)</span>&nbsp;<span class="ident" id="4319261">int64</span>&nbsp;<span class="op" id="4319267">{</span>&nbsp;<span class="keyword" id="4319269">return</span>&nbsp;<span class="ident" id="4319276">t</span><span class="op" id="4319277">.</span><span class="ident" id="4319278">Type</span><span class="op" id="4319282">.</span><span class="ident" id="4319283">Size</span><span class="op" id="4319287">(</span><span class="op" id="4319288">)</span>&nbsp;<span class="op" id="4319290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4319293">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="4319359">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4319377">type</span>&nbsp;<span class="ident" id="4319382">typeReader</span>&nbsp;<span class="keyword" id="4319393">interface</span>&nbsp;<span class="op" id="4319403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4319406">Seek</span><span class="op" id="4319410">(</span><span class="ident" id="4319411">Offset</span><span class="op" id="4319417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4319420">Next</span><span class="op" id="4319424">(</span><span class="op" id="4319425">)</span>&nbsp;<span class="op" id="4319427">(</span><span class="op" id="4319428">*</span><span class="ident" id="4319429">Entry</span><span class="op" id="4319434">,</span>&nbsp;<span class="builtintype" id="4319436">error</span><span class="op" id="4319441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4319444">clone</span><span class="op" id="4319449">(</span><span class="op" id="4319450">)</span>&nbsp;<span class="ident" id="4319452">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4319464">offset</span><span class="op" id="4319470">(</span><span class="op" id="4319471">)</span>&nbsp;<span class="ident" id="4319473">Offset</span><br>
<span class="lineno"></span><span class="op" id="4319480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4319483">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4319544">func</span>&nbsp;<span class="op" id="4319549">(</span><span class="ident" id="4319550">d</span>&nbsp;<span class="op" id="4319552">*</span><span class="ident" id="4319553">Data</span><span class="op" id="4319557">)</span>&nbsp;<span class="ident" id="4319559">Type</span><span class="op" id="4319563">(</span><span class="ident" id="4319564">off</span>&nbsp;<span class="ident" id="4319568">Offset</span><span class="op" id="4319574">)</span>&nbsp;<span class="op" id="4319576">(</span><span class="ident" id="4319577">Type</span><span class="op" id="4319581">,</span>&nbsp;<span class="builtintype" id="4319583">error</span><span class="op" id="4319588">)</span>&nbsp;<span class="op" id="4319590">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4319593">return</span>&nbsp;<span class="ident" id="4319600">d</span><span class="op" id="4319601">.</span><span class="ident" id="4319602">readType</span><span class="op" id="4319610">(</span><span class="string" id="4319611">&#34;info&#34;</span><span class="op" id="4319617">,</span>&nbsp;<span class="ident" id="4319619">d</span><span class="op" id="4319620">.</span><span class="ident" id="4319621">Reader</span><span class="op" id="4319627">(</span><span class="op" id="4319628">)</span><span class="op" id="4319629">,</span>&nbsp;<span class="ident" id="4319631">off</span><span class="op" id="4319634">,</span>&nbsp;<span class="ident" id="4319636">d</span><span class="op" id="4319637">.</span><span class="ident" id="4319638">typeCache</span><span class="op" id="4319647">)</span><br>
<span class="lineno"></span><span class="op" id="4319649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4319652">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4319720">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="4319735">func</span>&nbsp;<span class="op" id="4319740">(</span><span class="ident" id="4319741">d</span>&nbsp;<span class="op" id="4319743">*</span><span class="ident" id="4319744">Data</span><span class="op" id="4319748">)</span>&nbsp;<span class="ident" id="4319750">readType</span><span class="op" id="4319758">(</span><span class="ident" id="4319759">name</span>&nbsp;<span class="builtintype" id="4319764">string</span><span class="op" id="4319770">,</span>&nbsp;<span class="ident" id="4319772">r</span>&nbsp;<span class="ident" id="4319774">typeReader</span><span class="op" id="4319784">,</span>&nbsp;<span class="ident" id="4319786">off</span>&nbsp;<span class="ident" id="4319790">Offset</span><span class="op" id="4319796">,</span>&nbsp;<span class="ident" id="4319798">typeCache</span>&nbsp;<span class="keyword" id="4319808">map</span><span class="op" id="4319811">[</span><span class="ident" id="4319812">Offset</span><span class="op" id="4319818">]</span><span class="ident" id="4319819">Type</span><span class="op" id="4319823">)</span>&nbsp;<span class="op" id="4319825">(</span><span class="ident" id="4319826">Type</span><span class="op" id="4319830">,</span>&nbsp;<span class="builtintype" id="4319832">error</span><span class="op" id="4319837">)</span>&nbsp;<span class="op" id="4319839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4319842">if</span>&nbsp;<span class="ident" id="4319845">t</span><span class="op" id="4319846">,</span>&nbsp;<span class="ident" id="4319848">ok</span>&nbsp;<span class="op" id="4319851">:=</span>&nbsp;<span class="ident" id="4319854">typeCache</span><span class="op" id="4319863">[</span><span class="ident" id="4319864">off</span><span class="op" id="4319867">]</span><span class="op" id="4319868">;</span>&nbsp;<span class="ident" id="4319870">ok</span>&nbsp;<span class="op" id="4319873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4319877">return</span>&nbsp;<span class="ident" id="4319884">t</span><span class="op" id="4319885">,</span>&nbsp;<span class="ident" id="4319887">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4319892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4319895">r</span><span class="op" id="4319896">.</span><span class="ident" id="4319897">Seek</span><span class="op" id="4319901">(</span><span class="ident" id="4319902">off</span><span class="op" id="4319905">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4319908">e</span><span class="op" id="4319909">,</span>&nbsp;<span class="ident" id="4319911">err</span>&nbsp;<span class="op" id="4319915">:=</span>&nbsp;<span class="ident" id="4319918">r</span><span class="op" id="4319919">.</span><span class="ident" id="4319920">Next</span><span class="op" id="4319924">(</span><span class="op" id="4319925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4319928">if</span>&nbsp;<span class="ident" id="4319931">err</span>&nbsp;<span class="op" id="4319935">!=</span>&nbsp;<span class="ident" id="4319938">nil</span>&nbsp;<span class="op" id="4319942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4319946">return</span>&nbsp;<span class="ident" id="4319953">nil</span><span class="op" id="4319956">,</span>&nbsp;<span class="ident" id="4319958">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4319963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4319966">if</span>&nbsp;<span class="ident" id="4319969">e</span>&nbsp;<span class="op" id="4319971">==</span>&nbsp;<span class="ident" id="4319974">nil</span>&nbsp;<span class="op" id="4319978">||</span>&nbsp;<span class="ident" id="4319981">e</span><span class="op" id="4319982">.</span><span class="ident" id="4319983">Offset</span>&nbsp;<span class="op" id="4319990">!=</span>&nbsp;<span class="ident" id="4319993">off</span>&nbsp;<span class="op" id="4319997">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320001">return</span>&nbsp;<span class="ident" id="4320008">nil</span><span class="op" id="4320011">,</span>&nbsp;<span class="ident" id="4320013">DecodeError</span><span class="op" id="4320024">{</span><span class="ident" id="4320025">name</span><span class="op" id="4320029">,</span>&nbsp;<span class="ident" id="4320031">off</span><span class="op" id="4320034">,</span>&nbsp;<span class="string" id="4320036">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="4320055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320062">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320089">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320139">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320199">var</span>&nbsp;<span class="ident" id="4320203">typ</span>&nbsp;<span class="ident" id="4320207">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4320214">nextDepth</span>&nbsp;<span class="op" id="4320224">:=</span>&nbsp;<span class="num" id="4320227">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320231">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4320277">next</span>&nbsp;<span class="op" id="4320282">:=</span>&nbsp;<span class="keyword" id="4320285">func</span><span class="op" id="4320289">(</span><span class="op" id="4320290">)</span>&nbsp;<span class="op" id="4320292">*</span><span class="ident" id="4320293">Entry</span>&nbsp;<span class="op" id="4320299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320303">if</span>&nbsp;<span class="op" id="4320306">!</span><span class="ident" id="4320307">e</span><span class="op" id="4320308">.</span><span class="ident" id="4320309">Children</span>&nbsp;<span class="op" id="4320318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320323">return</span>&nbsp;<span class="ident" id="4320330">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320336">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320340">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320374">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320432">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320494">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320529">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320561">for</span>&nbsp;<span class="op" id="4320565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4320570">kid</span><span class="op" id="4320573">,</span>&nbsp;<span class="ident" id="4320575">err1</span>&nbsp;<span class="op" id="4320580">:=</span>&nbsp;<span class="ident" id="4320583">r</span><span class="op" id="4320584">.</span><span class="ident" id="4320585">Next</span><span class="op" id="4320589">(</span><span class="op" id="4320590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320595">if</span>&nbsp;<span class="ident" id="4320598">err1</span>&nbsp;<span class="op" id="4320603">!=</span>&nbsp;<span class="ident" id="4320606">nil</span>&nbsp;<span class="op" id="4320610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4320616">err</span>&nbsp;<span class="op" id="4320620">=</span>&nbsp;<span class="ident" id="4320622">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320631">return</span>&nbsp;<span class="ident" id="4320638">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320650">if</span>&nbsp;<span class="ident" id="4320653">kid</span>&nbsp;<span class="op" id="4320657">==</span>&nbsp;<span class="ident" id="4320660">nil</span>&nbsp;<span class="op" id="4320664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4320670">err</span>&nbsp;<span class="op" id="4320674">=</span>&nbsp;<span class="ident" id="4320676">DecodeError</span><span class="op" id="4320687">{</span><span class="ident" id="4320688">name</span><span class="op" id="4320692">,</span>&nbsp;<span class="ident" id="4320694">r</span><span class="op" id="4320695">.</span><span class="ident" id="4320696">offset</span><span class="op" id="4320702">(</span><span class="op" id="4320703">)</span><span class="op" id="4320704">,</span>&nbsp;<span class="string" id="4320706">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="4320739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320745">return</span>&nbsp;<span class="ident" id="4320752">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320759">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320764">if</span>&nbsp;<span class="ident" id="4320767">kid</span><span class="op" id="4320770">.</span><span class="ident" id="4320771">Tag</span>&nbsp;<span class="op" id="4320775">==</span>&nbsp;<span class="num" id="4320778">0</span>&nbsp;<span class="op" id="4320780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320786">if</span>&nbsp;<span class="ident" id="4320789">nextDepth</span>&nbsp;<span class="op" id="4320799">&gt;</span>&nbsp;<span class="num" id="4320801">0</span>&nbsp;<span class="op" id="4320803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4320810">nextDepth</span><span class="op" id="4320819">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320827">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320840">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320846">return</span>&nbsp;<span class="ident" id="4320853">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320865">if</span>&nbsp;<span class="ident" id="4320868">kid</span><span class="op" id="4320871">.</span><span class="ident" id="4320872">Children</span>&nbsp;<span class="op" id="4320881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4320887">nextDepth</span><span class="op" id="4320896">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320902">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320907">if</span>&nbsp;<span class="ident" id="4320910">nextDepth</span>&nbsp;<span class="op" id="4320920">&gt;</span>&nbsp;<span class="num" id="4320922">0</span>&nbsp;<span class="op" id="4320924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320930">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4320947">return</span>&nbsp;<span class="ident" id="4320954">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320960">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4320963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4320967">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321019">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4321081">typeOf</span>&nbsp;<span class="op" id="4321088">:=</span>&nbsp;<span class="keyword" id="4321091">func</span><span class="op" id="4321095">(</span><span class="ident" id="4321096">e</span>&nbsp;<span class="op" id="4321098">*</span><span class="ident" id="4321099">Entry</span><span class="op" id="4321104">)</span>&nbsp;<span class="ident" id="4321106">Type</span>&nbsp;<span class="op" id="4321111">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4321115">tval</span>&nbsp;<span class="op" id="4321120">:=</span>&nbsp;<span class="ident" id="4321123">e</span><span class="op" id="4321124">.</span><span class="ident" id="4321125">Val</span><span class="op" id="4321128">(</span><span class="ident" id="4321129">AttrType</span><span class="op" id="4321137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321141">var</span>&nbsp;<span class="ident" id="4321145">t</span>&nbsp;<span class="ident" id="4321147">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321154">switch</span>&nbsp;<span class="ident" id="4321161">toff</span>&nbsp;<span class="op" id="4321166">:=</span>&nbsp;<span class="ident" id="4321169">tval</span><span class="op" id="4321173">.</span><span class="op" id="4321174">(</span><span class="keyword" id="4321175">type</span><span class="op" id="4321179">)</span>&nbsp;<span class="op" id="4321181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321185">case</span>&nbsp;<span class="ident" id="4321190">Offset</span><span class="op" id="4321196">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321201">if</span>&nbsp;<span class="ident" id="4321204">t</span><span class="op" id="4321205">,</span>&nbsp;<span class="ident" id="4321207">err</span>&nbsp;<span class="op" id="4321211">=</span>&nbsp;<span class="ident" id="4321213">d</span><span class="op" id="4321214">.</span><span class="ident" id="4321215">readType</span><span class="op" id="4321223">(</span><span class="ident" id="4321224">name</span><span class="op" id="4321228">,</span>&nbsp;<span class="ident" id="4321230">r</span><span class="op" id="4321231">.</span><span class="ident" id="4321232">clone</span><span class="op" id="4321237">(</span><span class="op" id="4321238">)</span><span class="op" id="4321239">,</span>&nbsp;<span class="ident" id="4321241">toff</span><span class="op" id="4321245">,</span>&nbsp;<span class="ident" id="4321247">typeCache</span><span class="op" id="4321256">)</span><span class="op" id="4321257">;</span>&nbsp;<span class="ident" id="4321259">err</span>&nbsp;<span class="op" id="4321263">!=</span>&nbsp;<span class="ident" id="4321266">nil</span>&nbsp;<span class="op" id="4321270">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321276">return</span>&nbsp;<span class="ident" id="4321283">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4321290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321294">case</span>&nbsp;<span class="ident" id="4321299">uint64</span><span class="op" id="4321305">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321310">if</span>&nbsp;<span class="ident" id="4321313">t</span><span class="op" id="4321314">,</span>&nbsp;<span class="ident" id="4321316">err</span>&nbsp;<span class="op" id="4321320">=</span>&nbsp;<span class="ident" id="4321322">d</span><span class="op" id="4321323">.</span><span class="ident" id="4321324">sigToType</span><span class="op" id="4321333">(</span><span class="ident" id="4321334">toff</span><span class="op" id="4321338">)</span><span class="op" id="4321339">;</span>&nbsp;<span class="ident" id="4321341">err</span>&nbsp;<span class="op" id="4321345">!=</span>&nbsp;<span class="ident" id="4321348">nil</span>&nbsp;<span class="op" id="4321352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321358">return</span>&nbsp;<span class="ident" id="4321365">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4321372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321376">default</span><span class="op" id="4321383">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321388">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321432">return</span>&nbsp;<span class="builtinfunc" id="4321439">new</span><span class="op" id="4321442">(</span><span class="ident" id="4321443">VoidType</span><span class="op" id="4321451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4321455">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321459">return</span>&nbsp;<span class="ident" id="4321466">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4321469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321473">switch</span>&nbsp;<span class="ident" id="4321480">e</span><span class="op" id="4321481">.</span><span class="ident" id="4321482">Tag</span>&nbsp;<span class="op" id="4321486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321489">case</span>&nbsp;<span class="ident" id="4321494">TagArrayType</span><span class="op" id="4321506">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321510">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321558">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321575">//&nbsp;&nbsp;&nbsp;&nbspAttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321608">//&nbsp;&nbsp;&nbsp;&nbspAttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321671">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321711">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321726">//&nbsp;&nbsp;&nbsp;&nbspTagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321791">//&nbsp;&nbsp;&nbsp;&nbspdimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4321835">t</span>&nbsp;<span class="op" id="4321837">:=</span>&nbsp;<span class="builtinfunc" id="4321840">new</span><span class="op" id="4321843">(</span><span class="ident" id="4321844">ArrayType</span><span class="op" id="4321853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4321857">typ</span>&nbsp;<span class="op" id="4321861">=</span>&nbsp;<span class="ident" id="4321863">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4321867">typeCache</span><span class="op" id="4321876">[</span><span class="ident" id="4321877">off</span><span class="op" id="4321880">]</span>&nbsp;<span class="op" id="4321882">=</span>&nbsp;<span class="ident" id="4321884">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321888">if</span>&nbsp;<span class="ident" id="4321891">t</span><span class="op" id="4321892">.</span><span class="ident" id="4321893">Type</span>&nbsp;<span class="op" id="4321898">=</span>&nbsp;<span class="ident" id="4321900">typeOf</span><span class="op" id="4321906">(</span><span class="ident" id="4321907">e</span><span class="op" id="4321908">)</span><span class="op" id="4321909">;</span>&nbsp;<span class="ident" id="4321911">err</span>&nbsp;<span class="op" id="4321915">!=</span>&nbsp;<span class="ident" id="4321918">nil</span>&nbsp;<span class="op" id="4321922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4321927">goto</span>&nbsp;<span class="ident" id="4321932">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4321940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4321944">t</span><span class="op" id="4321945">.</span><span class="ident" id="4321946">StrideBitSize</span><span class="op" id="4321959">,</span>&nbsp;<span class="ident" id="4321961">_</span>&nbsp;<span class="op" id="4321963">=</span>&nbsp;<span class="ident" id="4321965">e</span><span class="op" id="4321966">.</span><span class="ident" id="4321967">Val</span><span class="op" id="4321970">(</span><span class="ident" id="4321971">AttrStrideSize</span><span class="op" id="4321985">)</span><span class="op" id="4321986">.</span><span class="op" id="4321987">(</span><span class="ident" id="4321988">int64</span><span class="op" id="4321993">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4321998">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322026">var</span>&nbsp;<span class="ident" id="4322030">dims</span>&nbsp;<span class="op" id="4322035">[</span><span class="op" id="4322036">]</span><span class="ident" id="4322037">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322045">for</span>&nbsp;<span class="ident" id="4322049">kid</span>&nbsp;<span class="op" id="4322053">:=</span>&nbsp;<span class="ident" id="4322056">next</span><span class="op" id="4322060">(</span><span class="op" id="4322061">)</span><span class="op" id="4322062">;</span>&nbsp;<span class="ident" id="4322064">kid</span>&nbsp;<span class="op" id="4322068">!=</span>&nbsp;<span class="ident" id="4322071">nil</span><span class="op" id="4322074">;</span>&nbsp;<span class="ident" id="4322076">kid</span>&nbsp;<span class="op" id="4322080">=</span>&nbsp;<span class="ident" id="4322082">next</span><span class="op" id="4322086">(</span><span class="op" id="4322087">)</span>&nbsp;<span class="op" id="4322089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4322094">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4322142">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322187">switch</span>&nbsp;<span class="ident" id="4322194">kid</span><span class="op" id="4322197">.</span><span class="ident" id="4322198">Tag</span>&nbsp;<span class="op" id="4322202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322207">case</span>&nbsp;<span class="ident" id="4322212">TagSubrangeType</span><span class="op" id="4322227">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4322233">count</span><span class="op" id="4322238">,</span>&nbsp;<span class="ident" id="4322240">ok</span>&nbsp;<span class="op" id="4322243">:=</span>&nbsp;<span class="ident" id="4322246">kid</span><span class="op" id="4322249">.</span><span class="ident" id="4322250">Val</span><span class="op" id="4322253">(</span><span class="ident" id="4322254">AttrCount</span><span class="op" id="4322263">)</span><span class="op" id="4322264">.</span><span class="op" id="4322265">(</span><span class="ident" id="4322266">int64</span><span class="op" id="4322271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322277">if</span>&nbsp;<span class="op" id="4322280">!</span><span class="ident" id="4322281">ok</span>&nbsp;<span class="op" id="4322284">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4322291">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4322345">count</span><span class="op" id="4322350">,</span>&nbsp;<span class="ident" id="4322352">ok</span>&nbsp;<span class="op" id="4322355">=</span>&nbsp;<span class="ident" id="4322357">kid</span><span class="op" id="4322360">.</span><span class="ident" id="4322361">Val</span><span class="op" id="4322364">(</span><span class="ident" id="4322365">AttrUpperBound</span><span class="op" id="4322379">)</span><span class="op" id="4322380">.</span><span class="op" id="4322381">(</span><span class="ident" id="4322382">int64</span><span class="op" id="4322387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322394">if</span>&nbsp;<span class="ident" id="4322397">ok</span>&nbsp;<span class="op" id="4322400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4322408">count</span><span class="op" id="4322413">++</span>&nbsp;<span class="comment" id="4322416">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4322461">}</span>&nbsp;<span class="keyword" id="4322463">else</span>&nbsp;<span class="keyword" id="4322468">if</span>&nbsp;<span class="builtinfunc" id="4322471">len</span><span class="op" id="4322474">(</span><span class="ident" id="4322475">dims</span><span class="op" id="4322479">)</span>&nbsp;<span class="op" id="4322481">==</span>&nbsp;<span class="num" id="4322484">0</span>&nbsp;<span class="op" id="4322486">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4322494">count</span>&nbsp;<span class="op" id="4322500">=</span>&nbsp;<span class="op" id="4322502">-</span><span class="num" id="4322503">1</span>&nbsp;<span class="comment" id="4322505">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4322524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4322530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4322536">dims</span>&nbsp;<span class="op" id="4322541">=</span>&nbsp;<span class="builtinfunc" id="4322543">append</span><span class="op" id="4322549">(</span><span class="ident" id="4322550">dims</span><span class="op" id="4322554">,</span>&nbsp;<span class="ident" id="4322556">count</span><span class="op" id="4322561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322566">case</span>&nbsp;<span class="ident" id="4322571">TagEnumerationType</span><span class="op" id="4322589">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4322595">err</span>&nbsp;<span class="op" id="4322599">=</span>&nbsp;<span class="ident" id="4322601">DecodeError</span><span class="op" id="4322612">{</span><span class="ident" id="4322613">name</span><span class="op" id="4322617">,</span>&nbsp;<span class="ident" id="4322619">kid</span><span class="op" id="4322622">.</span><span class="ident" id="4322623">Offset</span><span class="op" id="4322629">,</span>&nbsp;<span class="string" id="4322631">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="4322678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322684">goto</span>&nbsp;<span class="ident" id="4322689">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4322698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4322702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322706">if</span>&nbsp;<span class="builtinfunc" id="4322709">len</span><span class="op" id="4322712">(</span><span class="ident" id="4322713">dims</span><span class="op" id="4322717">)</span>&nbsp;<span class="op" id="4322719">==</span>&nbsp;<span class="num" id="4322722">0</span>&nbsp;<span class="op" id="4322724">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4322729">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4322764">dims</span>&nbsp;<span class="op" id="4322769">=</span>&nbsp;<span class="op" id="4322771">[</span><span class="op" id="4322772">]</span><span class="ident" id="4322773">int64</span><span class="op" id="4322778">{</span><span class="op" id="4322779">-</span><span class="num" id="4322780">1</span><span class="op" id="4322781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4322785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4322790">t</span><span class="op" id="4322791">.</span><span class="ident" id="4322792">Count</span>&nbsp;<span class="op" id="4322798">=</span>&nbsp;<span class="ident" id="4322800">dims</span><span class="op" id="4322804">[</span><span class="num" id="4322805">0</span><span class="op" id="4322806">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322810">for</span>&nbsp;<span class="ident" id="4322814">i</span>&nbsp;<span class="op" id="4322816">:=</span>&nbsp;<span class="builtinfunc" id="4322819">len</span><span class="op" id="4322822">(</span><span class="ident" id="4322823">dims</span><span class="op" id="4322827">)</span>&nbsp;<span class="op" id="4322829">-</span>&nbsp;<span class="num" id="4322831">1</span><span class="op" id="4322832">;</span>&nbsp;<span class="ident" id="4322834">i</span>&nbsp;<span class="op" id="4322836">&gt;=</span>&nbsp;<span class="num" id="4322839">1</span><span class="op" id="4322840">;</span>&nbsp;<span class="ident" id="4322842">i</span><span class="op" id="4322843">--</span>&nbsp;<span class="op" id="4322846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4322851">t</span><span class="op" id="4322852">.</span><span class="ident" id="4322853">Type</span>&nbsp;<span class="op" id="4322858">=</span>&nbsp;<span class="op" id="4322860">&amp;</span><span class="ident" id="4322861">ArrayType</span><span class="op" id="4322870">{</span><span class="ident" id="4322871">Type</span><span class="op" id="4322875">:</span>&nbsp;<span class="ident" id="4322877">t</span><span class="op" id="4322878">.</span><span class="ident" id="4322879">Type</span><span class="op" id="4322883">,</span>&nbsp;<span class="ident" id="4322885">Count</span><span class="op" id="4322890">:</span>&nbsp;<span class="ident" id="4322892">dims</span><span class="op" id="4322896">[</span><span class="ident" id="4322897">i</span><span class="op" id="4322898">]</span><span class="op" id="4322899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4322903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4322907">case</span>&nbsp;<span class="ident" id="4322912">TagBaseType</span><span class="op" id="4322923">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4322927">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4322962">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4322979">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4323071">//&nbsp;&nbsp;&nbsp;&nbspAttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4323140">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4323192">//&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4323245">//&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4323338">name</span><span class="op" id="4323342">,</span>&nbsp;<span class="ident" id="4323344">_</span>&nbsp;<span class="op" id="4323346">:=</span>&nbsp;<span class="ident" id="4323349">e</span><span class="op" id="4323350">.</span><span class="ident" id="4323351">Val</span><span class="op" id="4323354">(</span><span class="ident" id="4323355">AttrName</span><span class="op" id="4323363">)</span><span class="op" id="4323364">.</span><span class="op" id="4323365">(</span><span class="builtintype" id="4323366">string</span><span class="op" id="4323372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4323376">enc</span><span class="op" id="4323379">,</span>&nbsp;<span class="ident" id="4323381">ok</span>&nbsp;<span class="op" id="4323384">:=</span>&nbsp;<span class="ident" id="4323387">e</span><span class="op" id="4323388">.</span><span class="ident" id="4323389">Val</span><span class="op" id="4323392">(</span><span class="ident" id="4323393">AttrEncoding</span><span class="op" id="4323405">)</span><span class="op" id="4323406">.</span><span class="op" id="4323407">(</span><span class="ident" id="4323408">int64</span><span class="op" id="4323413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323417">if</span>&nbsp;<span class="op" id="4323420">!</span><span class="ident" id="4323421">ok</span>&nbsp;<span class="op" id="4323424">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4323429">err</span>&nbsp;<span class="op" id="4323433">=</span>&nbsp;<span class="ident" id="4323435">DecodeError</span><span class="op" id="4323446">{</span><span class="ident" id="4323447">name</span><span class="op" id="4323451">,</span>&nbsp;<span class="ident" id="4323453">e</span><span class="op" id="4323454">.</span><span class="ident" id="4323455">Offset</span><span class="op" id="4323461">,</span>&nbsp;<span class="string" id="4323463">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="4323497">+</span>&nbsp;<span class="ident" id="4323499">name</span><span class="op" id="4323503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323508">goto</span>&nbsp;<span class="ident" id="4323513">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4323521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323525">switch</span>&nbsp;<span class="ident" id="4323532">enc</span>&nbsp;<span class="op" id="4323536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323540">default</span><span class="op" id="4323547">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4323552">err</span>&nbsp;<span class="op" id="4323556">=</span>&nbsp;<span class="ident" id="4323558">DecodeError</span><span class="op" id="4323569">{</span><span class="ident" id="4323570">name</span><span class="op" id="4323574">,</span>&nbsp;<span class="ident" id="4323576">e</span><span class="op" id="4323577">.</span><span class="ident" id="4323578">Offset</span><span class="op" id="4323584">,</span>&nbsp;<span class="string" id="4323586">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="4323625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323630">goto</span>&nbsp;<span class="ident" id="4323635">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323644">case</span>&nbsp;<span class="ident" id="4323649">encAddress</span><span class="op" id="4323659">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4323664">typ</span>&nbsp;<span class="op" id="4323668">=</span>&nbsp;<span class="builtinfunc" id="4323670">new</span><span class="op" id="4323673">(</span><span class="ident" id="4323674">AddrType</span><span class="op" id="4323682">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323686">case</span>&nbsp;<span class="ident" id="4323691">encBoolean</span><span class="op" id="4323701">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4323706">typ</span>&nbsp;<span class="op" id="4323710">=</span>&nbsp;<span class="builtinfunc" id="4323712">new</span><span class="op" id="4323715">(</span><span class="ident" id="4323716">BoolType</span><span class="op" id="4323724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323728">case</span>&nbsp;<span class="ident" id="4323733">encComplexFloat</span><span class="op" id="4323748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4323753">typ</span>&nbsp;<span class="op" id="4323757">=</span>&nbsp;<span class="builtinfunc" id="4323759">new</span><span class="op" id="4323762">(</span><span class="ident" id="4323763">ComplexType</span><span class="op" id="4323774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323779">if</span>&nbsp;<span class="ident" id="4323782">name</span>&nbsp;<span class="op" id="4323787">==</span>&nbsp;<span class="string" id="4323790">&#34;complex&#34;</span>&nbsp;<span class="op" id="4323800">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4323806">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4323888">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4323961">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4323984">switch</span>&nbsp;<span class="ident" id="4323991">byteSize</span><span class="op" id="4323999">,</span>&nbsp;<span class="ident" id="4324001">_</span>&nbsp;<span class="op" id="4324003">:=</span>&nbsp;<span class="ident" id="4324006">e</span><span class="op" id="4324007">.</span><span class="ident" id="4324008">Val</span><span class="op" id="4324011">(</span><span class="ident" id="4324012">AttrByteSize</span><span class="op" id="4324024">)</span><span class="op" id="4324025">.</span><span class="op" id="4324026">(</span><span class="ident" id="4324027">int64</span><span class="op" id="4324032">)</span><span class="op" id="4324033">;</span>&nbsp;<span class="ident" id="4324035">byteSize</span>&nbsp;<span class="op" id="4324044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4324050">case</span>&nbsp;<span class="num" id="4324055">8</span><span class="op" id="4324056">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324063">name</span>&nbsp;<span class="op" id="4324068">=</span>&nbsp;<span class="string" id="4324070">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4324090">case</span>&nbsp;<span class="num" id="4324095">16</span><span class="op" id="4324097">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324104">name</span>&nbsp;<span class="op" id="4324109">=</span>&nbsp;<span class="string" id="4324111">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4324132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4324137">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4324141">case</span>&nbsp;<span class="ident" id="4324146">encFloat</span><span class="op" id="4324154">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324159">typ</span>&nbsp;<span class="op" id="4324163">=</span>&nbsp;<span class="builtinfunc" id="4324165">new</span><span class="op" id="4324168">(</span><span class="ident" id="4324169">FloatType</span><span class="op" id="4324178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4324182">case</span>&nbsp;<span class="ident" id="4324187">encSigned</span><span class="op" id="4324196">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324201">typ</span>&nbsp;<span class="op" id="4324205">=</span>&nbsp;<span class="builtinfunc" id="4324207">new</span><span class="op" id="4324210">(</span><span class="ident" id="4324211">IntType</span><span class="op" id="4324218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4324222">case</span>&nbsp;<span class="ident" id="4324227">encUnsigned</span><span class="op" id="4324238">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324243">typ</span>&nbsp;<span class="op" id="4324247">=</span>&nbsp;<span class="builtinfunc" id="4324249">new</span><span class="op" id="4324252">(</span><span class="ident" id="4324253">UintType</span><span class="op" id="4324261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4324265">case</span>&nbsp;<span class="ident" id="4324270">encSignedChar</span><span class="op" id="4324283">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324288">typ</span>&nbsp;<span class="op" id="4324292">=</span>&nbsp;<span class="builtinfunc" id="4324294">new</span><span class="op" id="4324297">(</span><span class="ident" id="4324298">CharType</span><span class="op" id="4324306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4324310">case</span>&nbsp;<span class="ident" id="4324315">encUnsignedChar</span><span class="op" id="4324330">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324335">typ</span>&nbsp;<span class="op" id="4324339">=</span>&nbsp;<span class="builtinfunc" id="4324341">new</span><span class="op" id="4324344">(</span><span class="ident" id="4324345">UcharType</span><span class="op" id="4324354">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4324358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324362">typeCache</span><span class="op" id="4324371">[</span><span class="ident" id="4324372">off</span><span class="op" id="4324375">]</span>&nbsp;<span class="op" id="4324377">=</span>&nbsp;<span class="ident" id="4324379">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324385">t</span>&nbsp;<span class="op" id="4324387">:=</span>&nbsp;<span class="ident" id="4324390">typ</span><span class="op" id="4324393">.</span><span class="op" id="4324394">(</span><span class="keyword" id="4324395">interface</span>&nbsp;<span class="op" id="4324405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324410">Basic</span><span class="op" id="4324415">(</span><span class="op" id="4324416">)</span>&nbsp;<span class="op" id="4324418">*</span><span class="ident" id="4324419">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4324431">}</span><span class="op" id="4324432">)</span><span class="op" id="4324433">.</span><span class="ident" id="4324434">Basic</span><span class="op" id="4324439">(</span><span class="op" id="4324440">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324444">t</span><span class="op" id="4324445">.</span><span class="ident" id="4324446">Name</span>&nbsp;<span class="op" id="4324451">=</span>&nbsp;<span class="ident" id="4324453">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324460">t</span><span class="op" id="4324461">.</span><span class="ident" id="4324462">BitSize</span><span class="op" id="4324469">,</span>&nbsp;<span class="ident" id="4324471">_</span>&nbsp;<span class="op" id="4324473">=</span>&nbsp;<span class="ident" id="4324475">e</span><span class="op" id="4324476">.</span><span class="ident" id="4324477">Val</span><span class="op" id="4324480">(</span><span class="ident" id="4324481">AttrBitSize</span><span class="op" id="4324492">)</span><span class="op" id="4324493">.</span><span class="op" id="4324494">(</span><span class="ident" id="4324495">int64</span><span class="op" id="4324500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4324504">t</span><span class="op" id="4324505">.</span><span class="ident" id="4324506">BitOffset</span><span class="op" id="4324515">,</span>&nbsp;<span class="ident" id="4324517">_</span>&nbsp;<span class="op" id="4324519">=</span>&nbsp;<span class="ident" id="4324521">e</span><span class="op" id="4324522">.</span><span class="ident" id="4324523">Val</span><span class="op" id="4324526">(</span><span class="ident" id="4324527">AttrBitOffset</span><span class="op" id="4324540">)</span><span class="op" id="4324541">.</span><span class="op" id="4324542">(</span><span class="ident" id="4324543">int64</span><span class="op" id="4324548">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4324552">case</span>&nbsp;<span class="ident" id="4324557">TagClassType</span><span class="op" id="4324569">,</span>&nbsp;<span class="ident" id="4324571">TagStructType</span><span class="op" id="4324584">,</span>&nbsp;<span class="ident" id="4324586">TagUnionType</span><span class="op" id="4324598">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324602">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324658">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324675">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324722">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324762">//&nbsp;&nbsp;&nbsp;&nbspAttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324826">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324841">//&nbsp;&nbsp;&nbsp;&nbspTagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324880">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324922">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324964">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4324998">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4325058">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4325101">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4325178">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325238">t</span>&nbsp;<span class="op" id="4325240">:=</span>&nbsp;<span class="builtinfunc" id="4325243">new</span><span class="op" id="4325246">(</span><span class="ident" id="4325247">StructType</span><span class="op" id="4325257">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325261">typ</span>&nbsp;<span class="op" id="4325265">=</span>&nbsp;<span class="ident" id="4325267">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325271">typeCache</span><span class="op" id="4325280">[</span><span class="ident" id="4325281">off</span><span class="op" id="4325284">]</span>&nbsp;<span class="op" id="4325286">=</span>&nbsp;<span class="ident" id="4325288">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325292">switch</span>&nbsp;<span class="ident" id="4325299">e</span><span class="op" id="4325300">.</span><span class="ident" id="4325301">Tag</span>&nbsp;<span class="op" id="4325305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325309">case</span>&nbsp;<span class="ident" id="4325314">TagClassType</span><span class="op" id="4325326">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325331">t</span><span class="op" id="4325332">.</span><span class="ident" id="4325333">Kind</span>&nbsp;<span class="op" id="4325338">=</span>&nbsp;<span class="string" id="4325340">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325350">case</span>&nbsp;<span class="ident" id="4325355">TagStructType</span><span class="op" id="4325368">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325373">t</span><span class="op" id="4325374">.</span><span class="ident" id="4325375">Kind</span>&nbsp;<span class="op" id="4325380">=</span>&nbsp;<span class="string" id="4325382">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325393">case</span>&nbsp;<span class="ident" id="4325398">TagUnionType</span><span class="op" id="4325410">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325415">t</span><span class="op" id="4325416">.</span><span class="ident" id="4325417">Kind</span>&nbsp;<span class="op" id="4325422">=</span>&nbsp;<span class="string" id="4325424">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4325434">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325438">t</span><span class="op" id="4325439">.</span><span class="ident" id="4325440">StructName</span><span class="op" id="4325450">,</span>&nbsp;<span class="ident" id="4325452">_</span>&nbsp;<span class="op" id="4325454">=</span>&nbsp;<span class="ident" id="4325456">e</span><span class="op" id="4325457">.</span><span class="ident" id="4325458">Val</span><span class="op" id="4325461">(</span><span class="ident" id="4325462">AttrName</span><span class="op" id="4325470">)</span><span class="op" id="4325471">.</span><span class="op" id="4325472">(</span><span class="builtintype" id="4325473">string</span><span class="op" id="4325479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325483">t</span><span class="op" id="4325484">.</span><span class="ident" id="4325485">Incomplete</span>&nbsp;<span class="op" id="4325496">=</span>&nbsp;<span class="ident" id="4325498">e</span><span class="op" id="4325499">.</span><span class="ident" id="4325500">Val</span><span class="op" id="4325503">(</span><span class="ident" id="4325504">AttrDeclaration</span><span class="op" id="4325519">)</span>&nbsp;<span class="op" id="4325521">!=</span>&nbsp;<span class="ident" id="4325524">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325530">t</span><span class="op" id="4325531">.</span><span class="ident" id="4325532">Field</span>&nbsp;<span class="op" id="4325538">=</span>&nbsp;<span class="builtinfunc" id="4325540">make</span><span class="op" id="4325544">(</span><span class="op" id="4325545">[</span><span class="op" id="4325546">]</span><span class="op" id="4325547">*</span><span class="ident" id="4325548">StructField</span><span class="op" id="4325559">,</span>&nbsp;<span class="num" id="4325561">0</span><span class="op" id="4325562">,</span>&nbsp;<span class="num" id="4325564">8</span><span class="op" id="4325565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325569">var</span>&nbsp;<span class="ident" id="4325573">lastFieldType</span>&nbsp;<span class="op" id="4325587">*</span><span class="ident" id="4325588">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325595">var</span>&nbsp;<span class="ident" id="4325599">lastFieldBitOffset</span>&nbsp;<span class="ident" id="4325618">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325626">for</span>&nbsp;<span class="ident" id="4325630">kid</span>&nbsp;<span class="op" id="4325634">:=</span>&nbsp;<span class="ident" id="4325637">next</span><span class="op" id="4325641">(</span><span class="op" id="4325642">)</span><span class="op" id="4325643">;</span>&nbsp;<span class="ident" id="4325645">kid</span>&nbsp;<span class="op" id="4325649">!=</span>&nbsp;<span class="ident" id="4325652">nil</span><span class="op" id="4325655">;</span>&nbsp;<span class="ident" id="4325657">kid</span>&nbsp;<span class="op" id="4325661">=</span>&nbsp;<span class="ident" id="4325663">next</span><span class="op" id="4325667">(</span><span class="op" id="4325668">)</span>&nbsp;<span class="op" id="4325670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325675">if</span>&nbsp;<span class="ident" id="4325678">kid</span><span class="op" id="4325681">.</span><span class="ident" id="4325682">Tag</span>&nbsp;<span class="op" id="4325686">==</span>&nbsp;<span class="ident" id="4325689">TagMember</span>&nbsp;<span class="op" id="4325699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325705">f</span>&nbsp;<span class="op" id="4325707">:=</span>&nbsp;<span class="builtinfunc" id="4325710">new</span><span class="op" id="4325713">(</span><span class="ident" id="4325714">StructField</span><span class="op" id="4325725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325731">if</span>&nbsp;<span class="ident" id="4325734">f</span><span class="op" id="4325735">.</span><span class="ident" id="4325736">Type</span>&nbsp;<span class="op" id="4325741">=</span>&nbsp;<span class="ident" id="4325743">typeOf</span><span class="op" id="4325749">(</span><span class="ident" id="4325750">kid</span><span class="op" id="4325753">)</span><span class="op" id="4325754">;</span>&nbsp;<span class="ident" id="4325756">err</span>&nbsp;<span class="op" id="4325760">!=</span>&nbsp;<span class="ident" id="4325763">nil</span>&nbsp;<span class="op" id="4325767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325774">goto</span>&nbsp;<span class="ident" id="4325779">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4325789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325795">switch</span>&nbsp;<span class="ident" id="4325802">loc</span>&nbsp;<span class="op" id="4325806">:=</span>&nbsp;<span class="ident" id="4325809">kid</span><span class="op" id="4325812">.</span><span class="ident" id="4325813">Val</span><span class="op" id="4325816">(</span><span class="ident" id="4325817">AttrDataMemberLoc</span><span class="op" id="4325834">)</span><span class="op" id="4325835">.</span><span class="op" id="4325836">(</span><span class="keyword" id="4325837">type</span><span class="op" id="4325841">)</span>&nbsp;<span class="op" id="4325843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325849">case</span>&nbsp;<span class="op" id="4325854">[</span><span class="op" id="4325855">]</span><span class="builtintype" id="4325856">byte</span><span class="op" id="4325860">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4325867">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4325914">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325952">b</span>&nbsp;<span class="op" id="4325954">:=</span>&nbsp;<span class="ident" id="4325957">makeBuf</span><span class="op" id="4325964">(</span><span class="ident" id="4325965">d</span><span class="op" id="4325966">,</span>&nbsp;<span class="ident" id="4325968">unknownFormat</span><span class="op" id="4325981">{</span><span class="op" id="4325982">}</span><span class="op" id="4325983">,</span>&nbsp;<span class="string" id="4325985">&#34;location&#34;</span><span class="op" id="4325995">,</span>&nbsp;<span class="num" id="4325997">0</span><span class="op" id="4325998">,</span>&nbsp;<span class="ident" id="4326000">loc</span><span class="op" id="4326003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326010">if</span>&nbsp;<span class="ident" id="4326013">b</span><span class="op" id="4326014">.</span><span class="builtintype" id="4326015">uint8</span><span class="op" id="4326020">(</span><span class="op" id="4326021">)</span>&nbsp;<span class="op" id="4326023">!=</span>&nbsp;<span class="ident" id="4326026">opPlusUconst</span>&nbsp;<span class="op" id="4326039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326047">err</span>&nbsp;<span class="op" id="4326051">=</span>&nbsp;<span class="ident" id="4326053">DecodeError</span><span class="op" id="4326064">{</span><span class="ident" id="4326065">name</span><span class="op" id="4326069">,</span>&nbsp;<span class="ident" id="4326071">kid</span><span class="op" id="4326074">.</span><span class="ident" id="4326075">Offset</span><span class="op" id="4326081">,</span>&nbsp;<span class="string" id="4326083">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="4326102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326110">goto</span>&nbsp;<span class="ident" id="4326115">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326126">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326133">f</span><span class="op" id="4326134">.</span><span class="ident" id="4326135">ByteOffset</span>&nbsp;<span class="op" id="4326146">=</span>&nbsp;<span class="ident" id="4326148">int64</span><span class="op" id="4326153">(</span><span class="ident" id="4326154">b</span><span class="op" id="4326155">.</span><span class="builtintype" id="4326156">uint</span><span class="op" id="4326160">(</span><span class="op" id="4326161">)</span><span class="op" id="4326162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326169">if</span>&nbsp;<span class="ident" id="4326172">b</span><span class="op" id="4326173">.</span><span class="ident" id="4326174">err</span>&nbsp;<span class="op" id="4326178">!=</span>&nbsp;<span class="ident" id="4326181">nil</span>&nbsp;<span class="op" id="4326185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326193">err</span>&nbsp;<span class="op" id="4326197">=</span>&nbsp;<span class="ident" id="4326199">b</span><span class="op" id="4326200">.</span><span class="ident" id="4326201">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326211">goto</span>&nbsp;<span class="ident" id="4326216">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326227">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326233">case</span>&nbsp;<span class="ident" id="4326238">int64</span><span class="op" id="4326243">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326250">f</span><span class="op" id="4326251">.</span><span class="ident" id="4326252">ByteOffset</span>&nbsp;<span class="op" id="4326263">=</span>&nbsp;<span class="ident" id="4326265">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326280">haveBitOffset</span>&nbsp;<span class="op" id="4326294">:=</span>&nbsp;<span class="builtintype" id="4326297">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326307">f</span><span class="op" id="4326308">.</span><span class="ident" id="4326309">Name</span><span class="op" id="4326313">,</span>&nbsp;<span class="ident" id="4326315">_</span>&nbsp;<span class="op" id="4326317">=</span>&nbsp;<span class="ident" id="4326319">kid</span><span class="op" id="4326322">.</span><span class="ident" id="4326323">Val</span><span class="op" id="4326326">(</span><span class="ident" id="4326327">AttrName</span><span class="op" id="4326335">)</span><span class="op" id="4326336">.</span><span class="op" id="4326337">(</span><span class="builtintype" id="4326338">string</span><span class="op" id="4326344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326350">f</span><span class="op" id="4326351">.</span><span class="ident" id="4326352">ByteSize</span><span class="op" id="4326360">,</span>&nbsp;<span class="ident" id="4326362">_</span>&nbsp;<span class="op" id="4326364">=</span>&nbsp;<span class="ident" id="4326366">kid</span><span class="op" id="4326369">.</span><span class="ident" id="4326370">Val</span><span class="op" id="4326373">(</span><span class="ident" id="4326374">AttrByteSize</span><span class="op" id="4326386">)</span><span class="op" id="4326387">.</span><span class="op" id="4326388">(</span><span class="ident" id="4326389">int64</span><span class="op" id="4326394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326400">f</span><span class="op" id="4326401">.</span><span class="ident" id="4326402">BitOffset</span><span class="op" id="4326411">,</span>&nbsp;<span class="ident" id="4326413">haveBitOffset</span>&nbsp;<span class="op" id="4326427">=</span>&nbsp;<span class="ident" id="4326429">kid</span><span class="op" id="4326432">.</span><span class="ident" id="4326433">Val</span><span class="op" id="4326436">(</span><span class="ident" id="4326437">AttrBitOffset</span><span class="op" id="4326450">)</span><span class="op" id="4326451">.</span><span class="op" id="4326452">(</span><span class="ident" id="4326453">int64</span><span class="op" id="4326458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326464">f</span><span class="op" id="4326465">.</span><span class="ident" id="4326466">BitSize</span><span class="op" id="4326473">,</span>&nbsp;<span class="ident" id="4326475">_</span>&nbsp;<span class="op" id="4326477">=</span>&nbsp;<span class="ident" id="4326479">kid</span><span class="op" id="4326482">.</span><span class="ident" id="4326483">Val</span><span class="op" id="4326486">(</span><span class="ident" id="4326487">AttrBitSize</span><span class="op" id="4326498">)</span><span class="op" id="4326499">.</span><span class="op" id="4326500">(</span><span class="ident" id="4326501">int64</span><span class="op" id="4326506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326512">t</span><span class="op" id="4326513">.</span><span class="ident" id="4326514">Field</span>&nbsp;<span class="op" id="4326520">=</span>&nbsp;<span class="builtinfunc" id="4326522">append</span><span class="op" id="4326528">(</span><span class="ident" id="4326529">t</span><span class="op" id="4326530">.</span><span class="ident" id="4326531">Field</span><span class="op" id="4326536">,</span>&nbsp;<span class="ident" id="4326538">f</span><span class="op" id="4326539">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326546">bito</span>&nbsp;<span class="op" id="4326551">:=</span>&nbsp;<span class="ident" id="4326554">f</span><span class="op" id="4326555">.</span><span class="ident" id="4326556">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326570">if</span>&nbsp;<span class="op" id="4326573">!</span><span class="ident" id="4326574">haveBitOffset</span>&nbsp;<span class="op" id="4326588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326595">bito</span>&nbsp;<span class="op" id="4326600">=</span>&nbsp;<span class="ident" id="4326602">f</span><span class="op" id="4326603">.</span><span class="ident" id="4326604">ByteOffset</span>&nbsp;<span class="op" id="4326615">*</span>&nbsp;<span class="num" id="4326617">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326623">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326629">if</span>&nbsp;<span class="ident" id="4326632">bito</span>&nbsp;<span class="op" id="4326637">==</span>&nbsp;<span class="ident" id="4326640">lastFieldBitOffset</span>&nbsp;<span class="op" id="4326659">&amp;&amp;</span>&nbsp;<span class="ident" id="4326662">t</span><span class="op" id="4326663">.</span><span class="ident" id="4326664">Kind</span>&nbsp;<span class="op" id="4326669">!=</span>&nbsp;<span class="string" id="4326672">&#34;union&#34;</span>&nbsp;<span class="op" id="4326680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4326687">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4326741">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326817">zeroArray</span><span class="op" id="4326826">(</span><span class="ident" id="4326827">lastFieldType</span><span class="op" id="4326840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326846">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326852">lastFieldType</span>&nbsp;<span class="op" id="4326866">=</span>&nbsp;<span class="op" id="4326868">&amp;</span><span class="ident" id="4326869">f</span><span class="op" id="4326870">.</span><span class="ident" id="4326871">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326880">lastFieldBitOffset</span>&nbsp;<span class="op" id="4326899">=</span>&nbsp;<span class="ident" id="4326901">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326917">if</span>&nbsp;<span class="ident" id="4326920">t</span><span class="op" id="4326921">.</span><span class="ident" id="4326922">Kind</span>&nbsp;<span class="op" id="4326927">!=</span>&nbsp;<span class="string" id="4326930">&#34;union&#34;</span>&nbsp;<span class="op" id="4326938">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326943">b</span><span class="op" id="4326944">,</span>&nbsp;<span class="ident" id="4326946">ok</span>&nbsp;<span class="op" id="4326949">:=</span>&nbsp;<span class="ident" id="4326952">e</span><span class="op" id="4326953">.</span><span class="ident" id="4326954">Val</span><span class="op" id="4326957">(</span><span class="ident" id="4326958">AttrByteSize</span><span class="op" id="4326970">)</span><span class="op" id="4326971">.</span><span class="op" id="4326972">(</span><span class="ident" id="4326973">int64</span><span class="op" id="4326978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326983">if</span>&nbsp;<span class="ident" id="4326986">ok</span>&nbsp;<span class="op" id="4326989">&amp;&amp;</span>&nbsp;<span class="ident" id="4326992">b</span><span class="op" id="4326993">*</span><span class="num" id="4326994">8</span>&nbsp;<span class="op" id="4326996">==</span>&nbsp;<span class="ident" id="4326999">lastFieldBitOffset</span>&nbsp;<span class="op" id="4327018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327024">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327082">zeroArray</span><span class="op" id="4327091">(</span><span class="ident" id="4327092">lastFieldType</span><span class="op" id="4327105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4327110">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4327114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327118">case</span>&nbsp;<span class="ident" id="4327123">TagConstType</span><span class="op" id="4327135">,</span>&nbsp;<span class="ident" id="4327137">TagVolatileType</span><span class="op" id="4327152">,</span>&nbsp;<span class="ident" id="4327154">TagRestrictType</span><span class="op" id="4327169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327173">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327209">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327226">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327249">t</span>&nbsp;<span class="op" id="4327251">:=</span>&nbsp;<span class="builtinfunc" id="4327254">new</span><span class="op" id="4327257">(</span><span class="ident" id="4327258">QualType</span><span class="op" id="4327266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327270">typ</span>&nbsp;<span class="op" id="4327274">=</span>&nbsp;<span class="ident" id="4327276">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327280">typeCache</span><span class="op" id="4327289">[</span><span class="ident" id="4327290">off</span><span class="op" id="4327293">]</span>&nbsp;<span class="op" id="4327295">=</span>&nbsp;<span class="ident" id="4327297">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327301">if</span>&nbsp;<span class="ident" id="4327304">t</span><span class="op" id="4327305">.</span><span class="ident" id="4327306">Type</span>&nbsp;<span class="op" id="4327311">=</span>&nbsp;<span class="ident" id="4327313">typeOf</span><span class="op" id="4327319">(</span><span class="ident" id="4327320">e</span><span class="op" id="4327321">)</span><span class="op" id="4327322">;</span>&nbsp;<span class="ident" id="4327324">err</span>&nbsp;<span class="op" id="4327328">!=</span>&nbsp;<span class="ident" id="4327331">nil</span>&nbsp;<span class="op" id="4327335">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327340">goto</span>&nbsp;<span class="ident" id="4327345">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4327353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327357">switch</span>&nbsp;<span class="ident" id="4327364">e</span><span class="op" id="4327365">.</span><span class="ident" id="4327366">Tag</span>&nbsp;<span class="op" id="4327370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327374">case</span>&nbsp;<span class="ident" id="4327379">TagConstType</span><span class="op" id="4327391">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327396">t</span><span class="op" id="4327397">.</span><span class="ident" id="4327398">Qual</span>&nbsp;<span class="op" id="4327403">=</span>&nbsp;<span class="string" id="4327405">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327415">case</span>&nbsp;<span class="ident" id="4327420">TagRestrictType</span><span class="op" id="4327435">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327440">t</span><span class="op" id="4327441">.</span><span class="ident" id="4327442">Qual</span>&nbsp;<span class="op" id="4327447">=</span>&nbsp;<span class="string" id="4327449">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327462">case</span>&nbsp;<span class="ident" id="4327467">TagVolatileType</span><span class="op" id="4327482">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327487">t</span><span class="op" id="4327488">.</span><span class="ident" id="4327489">Qual</span>&nbsp;<span class="op" id="4327494">=</span>&nbsp;<span class="string" id="4327496">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4327509">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327513">case</span>&nbsp;<span class="ident" id="4327518">TagEnumerationType</span><span class="op" id="4327536">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327540">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;§5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327579">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327596">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327628">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327689">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327704">//&nbsp;&nbsp;&nbsp;&nbspTagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327724">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327757">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327797">t</span>&nbsp;<span class="op" id="4327799">:=</span>&nbsp;<span class="builtinfunc" id="4327802">new</span><span class="op" id="4327805">(</span><span class="ident" id="4327806">EnumType</span><span class="op" id="4327814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327818">typ</span>&nbsp;<span class="op" id="4327822">=</span>&nbsp;<span class="ident" id="4327824">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327828">typeCache</span><span class="op" id="4327837">[</span><span class="ident" id="4327838">off</span><span class="op" id="4327841">]</span>&nbsp;<span class="op" id="4327843">=</span>&nbsp;<span class="ident" id="4327845">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327849">t</span><span class="op" id="4327850">.</span><span class="ident" id="4327851">EnumName</span><span class="op" id="4327859">,</span>&nbsp;<span class="ident" id="4327861">_</span>&nbsp;<span class="op" id="4327863">=</span>&nbsp;<span class="ident" id="4327865">e</span><span class="op" id="4327866">.</span><span class="ident" id="4327867">Val</span><span class="op" id="4327870">(</span><span class="ident" id="4327871">AttrName</span><span class="op" id="4327879">)</span><span class="op" id="4327880">.</span><span class="op" id="4327881">(</span><span class="builtintype" id="4327882">string</span><span class="op" id="4327888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327892">t</span><span class="op" id="4327893">.</span><span class="ident" id="4327894">Val</span>&nbsp;<span class="op" id="4327898">=</span>&nbsp;<span class="builtinfunc" id="4327900">make</span><span class="op" id="4327904">(</span><span class="op" id="4327905">[</span><span class="op" id="4327906">]</span><span class="op" id="4327907">*</span><span class="ident" id="4327908">EnumValue</span><span class="op" id="4327917">,</span>&nbsp;<span class="num" id="4327919">0</span><span class="op" id="4327920">,</span>&nbsp;<span class="num" id="4327922">8</span><span class="op" id="4327923">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327927">for</span>&nbsp;<span class="ident" id="4327931">kid</span>&nbsp;<span class="op" id="4327935">:=</span>&nbsp;<span class="ident" id="4327938">next</span><span class="op" id="4327942">(</span><span class="op" id="4327943">)</span><span class="op" id="4327944">;</span>&nbsp;<span class="ident" id="4327946">kid</span>&nbsp;<span class="op" id="4327950">!=</span>&nbsp;<span class="ident" id="4327953">nil</span><span class="op" id="4327956">;</span>&nbsp;<span class="ident" id="4327958">kid</span>&nbsp;<span class="op" id="4327962">=</span>&nbsp;<span class="ident" id="4327964">next</span><span class="op" id="4327968">(</span><span class="op" id="4327969">)</span>&nbsp;<span class="op" id="4327971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327976">if</span>&nbsp;<span class="ident" id="4327979">kid</span><span class="op" id="4327982">.</span><span class="ident" id="4327983">Tag</span>&nbsp;<span class="op" id="4327987">==</span>&nbsp;<span class="ident" id="4327990">TagEnumerator</span>&nbsp;<span class="op" id="4328004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328010">f</span>&nbsp;<span class="op" id="4328012">:=</span>&nbsp;<span class="builtinfunc" id="4328015">new</span><span class="op" id="4328018">(</span><span class="ident" id="4328019">EnumValue</span><span class="op" id="4328028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328034">f</span><span class="op" id="4328035">.</span><span class="ident" id="4328036">Name</span><span class="op" id="4328040">,</span>&nbsp;<span class="ident" id="4328042">_</span>&nbsp;<span class="op" id="4328044">=</span>&nbsp;<span class="ident" id="4328046">kid</span><span class="op" id="4328049">.</span><span class="ident" id="4328050">Val</span><span class="op" id="4328053">(</span><span class="ident" id="4328054">AttrName</span><span class="op" id="4328062">)</span><span class="op" id="4328063">.</span><span class="op" id="4328064">(</span><span class="builtintype" id="4328065">string</span><span class="op" id="4328071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328077">f</span><span class="op" id="4328078">.</span><span class="ident" id="4328079">Val</span><span class="op" id="4328082">,</span>&nbsp;<span class="ident" id="4328084">_</span>&nbsp;<span class="op" id="4328086">=</span>&nbsp;<span class="ident" id="4328088">kid</span><span class="op" id="4328091">.</span><span class="ident" id="4328092">Val</span><span class="op" id="4328095">(</span><span class="ident" id="4328096">AttrConstValue</span><span class="op" id="4328110">)</span><span class="op" id="4328111">.</span><span class="op" id="4328112">(</span><span class="ident" id="4328113">int64</span><span class="op" id="4328118">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328124">n</span>&nbsp;<span class="op" id="4328126">:=</span>&nbsp;<span class="builtinfunc" id="4328129">len</span><span class="op" id="4328132">(</span><span class="ident" id="4328133">t</span><span class="op" id="4328134">.</span><span class="ident" id="4328135">Val</span><span class="op" id="4328138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328144">if</span>&nbsp;<span class="ident" id="4328147">n</span>&nbsp;<span class="op" id="4328149">&gt;=</span>&nbsp;<span class="builtinfunc" id="4328152">cap</span><span class="op" id="4328155">(</span><span class="ident" id="4328156">t</span><span class="op" id="4328157">.</span><span class="ident" id="4328158">Val</span><span class="op" id="4328161">)</span>&nbsp;<span class="op" id="4328163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328170">val</span>&nbsp;<span class="op" id="4328174">:=</span>&nbsp;<span class="builtinfunc" id="4328177">make</span><span class="op" id="4328181">(</span><span class="op" id="4328182">[</span><span class="op" id="4328183">]</span><span class="op" id="4328184">*</span><span class="ident" id="4328185">EnumValue</span><span class="op" id="4328194">,</span>&nbsp;<span class="ident" id="4328196">n</span><span class="op" id="4328197">,</span>&nbsp;<span class="ident" id="4328199">n</span><span class="op" id="4328200">*</span><span class="num" id="4328201">2</span><span class="op" id="4328202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4328209">copy</span><span class="op" id="4328213">(</span><span class="ident" id="4328214">val</span><span class="op" id="4328217">,</span>&nbsp;<span class="ident" id="4328219">t</span><span class="op" id="4328220">.</span><span class="ident" id="4328221">Val</span><span class="op" id="4328224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328231">t</span><span class="op" id="4328232">.</span><span class="ident" id="4328233">Val</span>&nbsp;<span class="op" id="4328237">=</span>&nbsp;<span class="ident" id="4328239">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328253">t</span><span class="op" id="4328254">.</span><span class="ident" id="4328255">Val</span>&nbsp;<span class="op" id="4328259">=</span>&nbsp;<span class="ident" id="4328261">t</span><span class="op" id="4328262">.</span><span class="ident" id="4328263">Val</span><span class="op" id="4328266">[</span><span class="num" id="4328267">0</span>&nbsp;<span class="op" id="4328269">:</span>&nbsp;<span class="ident" id="4328271">n</span><span class="op" id="4328272">+</span><span class="num" id="4328273">1</span><span class="op" id="4328274">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328280">t</span><span class="op" id="4328281">.</span><span class="ident" id="4328282">Val</span><span class="op" id="4328285">[</span><span class="ident" id="4328286">n</span><span class="op" id="4328287">]</span>&nbsp;<span class="op" id="4328289">=</span>&nbsp;<span class="ident" id="4328291">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328300">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328304">case</span>&nbsp;<span class="ident" id="4328309">TagPointerType</span><span class="op" id="4328323">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328327">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328363">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328380">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328442">//&nbsp;&nbsp;&nbsp;&nbspAttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328486">t</span>&nbsp;<span class="op" id="4328488">:=</span>&nbsp;<span class="builtinfunc" id="4328491">new</span><span class="op" id="4328494">(</span><span class="ident" id="4328495">PtrType</span><span class="op" id="4328502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328506">typ</span>&nbsp;<span class="op" id="4328510">=</span>&nbsp;<span class="ident" id="4328512">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328516">typeCache</span><span class="op" id="4328525">[</span><span class="ident" id="4328526">off</span><span class="op" id="4328529">]</span>&nbsp;<span class="op" id="4328531">=</span>&nbsp;<span class="ident" id="4328533">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328537">if</span>&nbsp;<span class="ident" id="4328540">e</span><span class="op" id="4328541">.</span><span class="ident" id="4328542">Val</span><span class="op" id="4328545">(</span><span class="ident" id="4328546">AttrType</span><span class="op" id="4328554">)</span>&nbsp;<span class="op" id="4328556">==</span>&nbsp;<span class="ident" id="4328559">nil</span>&nbsp;<span class="op" id="4328563">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328568">t</span><span class="op" id="4328569">.</span><span class="ident" id="4328570">Type</span>&nbsp;<span class="op" id="4328575">=</span>&nbsp;<span class="op" id="4328577">&amp;</span><span class="ident" id="4328578">VoidType</span><span class="op" id="4328586">{</span><span class="op" id="4328587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328592">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328604">t</span><span class="op" id="4328605">.</span><span class="ident" id="4328606">Type</span>&nbsp;<span class="op" id="4328611">=</span>&nbsp;<span class="ident" id="4328613">typeOf</span><span class="op" id="4328619">(</span><span class="ident" id="4328620">e</span><span class="op" id="4328621">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328625">case</span>&nbsp;<span class="ident" id="4328630">TagSubroutineType</span><span class="op" id="4328647">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328651">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328691">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328708">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328751">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328798">//&nbsp;&nbsp;&nbsp;&nbspAttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328859">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328874">//&nbsp;&nbsp;&nbsp;&nbspTagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328915">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4328949">//&nbsp;&nbsp;&nbsp;&nbspTagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328989">t</span>&nbsp;<span class="op" id="4328991">:=</span>&nbsp;<span class="builtinfunc" id="4328994">new</span><span class="op" id="4328997">(</span><span class="ident" id="4328998">FuncType</span><span class="op" id="4329006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329010">typ</span>&nbsp;<span class="op" id="4329014">=</span>&nbsp;<span class="ident" id="4329016">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329020">typeCache</span><span class="op" id="4329029">[</span><span class="ident" id="4329030">off</span><span class="op" id="4329033">]</span>&nbsp;<span class="op" id="4329035">=</span>&nbsp;<span class="ident" id="4329037">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329041">if</span>&nbsp;<span class="ident" id="4329044">t</span><span class="op" id="4329045">.</span><span class="ident" id="4329046">ReturnType</span>&nbsp;<span class="op" id="4329057">=</span>&nbsp;<span class="ident" id="4329059">typeOf</span><span class="op" id="4329065">(</span><span class="ident" id="4329066">e</span><span class="op" id="4329067">)</span><span class="op" id="4329068">;</span>&nbsp;<span class="ident" id="4329070">err</span>&nbsp;<span class="op" id="4329074">!=</span>&nbsp;<span class="ident" id="4329077">nil</span>&nbsp;<span class="op" id="4329081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329086">goto</span>&nbsp;<span class="ident" id="4329091">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4329099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329103">t</span><span class="op" id="4329104">.</span><span class="ident" id="4329105">ParamType</span>&nbsp;<span class="op" id="4329115">=</span>&nbsp;<span class="builtinfunc" id="4329117">make</span><span class="op" id="4329121">(</span><span class="op" id="4329122">[</span><span class="op" id="4329123">]</span><span class="ident" id="4329124">Type</span><span class="op" id="4329128">,</span>&nbsp;<span class="num" id="4329130">0</span><span class="op" id="4329131">,</span>&nbsp;<span class="num" id="4329133">8</span><span class="op" id="4329134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329138">for</span>&nbsp;<span class="ident" id="4329142">kid</span>&nbsp;<span class="op" id="4329146">:=</span>&nbsp;<span class="ident" id="4329149">next</span><span class="op" id="4329153">(</span><span class="op" id="4329154">)</span><span class="op" id="4329155">;</span>&nbsp;<span class="ident" id="4329157">kid</span>&nbsp;<span class="op" id="4329161">!=</span>&nbsp;<span class="ident" id="4329164">nil</span><span class="op" id="4329167">;</span>&nbsp;<span class="ident" id="4329169">kid</span>&nbsp;<span class="op" id="4329173">=</span>&nbsp;<span class="ident" id="4329175">next</span><span class="op" id="4329179">(</span><span class="op" id="4329180">)</span>&nbsp;<span class="op" id="4329182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329187">var</span>&nbsp;<span class="ident" id="4329191">tkid</span>&nbsp;<span class="ident" id="4329196">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329204">switch</span>&nbsp;<span class="ident" id="4329211">kid</span><span class="op" id="4329214">.</span><span class="ident" id="4329215">Tag</span>&nbsp;<span class="op" id="4329219">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329224">default</span><span class="op" id="4329231">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329237">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329249">case</span>&nbsp;<span class="ident" id="4329254">TagFormalParameter</span><span class="op" id="4329272">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329278">if</span>&nbsp;<span class="ident" id="4329281">tkid</span>&nbsp;<span class="op" id="4329286">=</span>&nbsp;<span class="ident" id="4329288">typeOf</span><span class="op" id="4329294">(</span><span class="ident" id="4329295">kid</span><span class="op" id="4329298">)</span><span class="op" id="4329299">;</span>&nbsp;<span class="ident" id="4329301">err</span>&nbsp;<span class="op" id="4329305">!=</span>&nbsp;<span class="ident" id="4329308">nil</span>&nbsp;<span class="op" id="4329312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329319">goto</span>&nbsp;<span class="ident" id="4329324">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4329334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329339">case</span>&nbsp;<span class="ident" id="4329344">TagUnspecifiedParameters</span><span class="op" id="4329368">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329374">tkid</span>&nbsp;<span class="op" id="4329379">=</span>&nbsp;<span class="op" id="4329381">&amp;</span><span class="ident" id="4329382">DotDotDotType</span><span class="op" id="4329395">{</span><span class="op" id="4329396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4329401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329406">t</span><span class="op" id="4329407">.</span><span class="ident" id="4329408">ParamType</span>&nbsp;<span class="op" id="4329418">=</span>&nbsp;<span class="builtinfunc" id="4329420">append</span><span class="op" id="4329426">(</span><span class="ident" id="4329427">t</span><span class="op" id="4329428">.</span><span class="ident" id="4329429">ParamType</span><span class="op" id="4329438">,</span>&nbsp;<span class="ident" id="4329440">tkid</span><span class="op" id="4329444">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4329448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329452">case</span>&nbsp;<span class="ident" id="4329457">TagTypedef</span><span class="op" id="4329467">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4329471">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;§5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4329501">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4329518">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4329549">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329591">t</span>&nbsp;<span class="op" id="4329593">:=</span>&nbsp;<span class="builtinfunc" id="4329596">new</span><span class="op" id="4329599">(</span><span class="ident" id="4329600">TypedefType</span><span class="op" id="4329611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329615">typ</span>&nbsp;<span class="op" id="4329619">=</span>&nbsp;<span class="ident" id="4329621">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329625">typeCache</span><span class="op" id="4329634">[</span><span class="ident" id="4329635">off</span><span class="op" id="4329638">]</span>&nbsp;<span class="op" id="4329640">=</span>&nbsp;<span class="ident" id="4329642">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329646">t</span><span class="op" id="4329647">.</span><span class="ident" id="4329648">Name</span><span class="op" id="4329652">,</span>&nbsp;<span class="ident" id="4329654">_</span>&nbsp;<span class="op" id="4329656">=</span>&nbsp;<span class="ident" id="4329658">e</span><span class="op" id="4329659">.</span><span class="ident" id="4329660">Val</span><span class="op" id="4329663">(</span><span class="ident" id="4329664">AttrName</span><span class="op" id="4329672">)</span><span class="op" id="4329673">.</span><span class="op" id="4329674">(</span><span class="builtintype" id="4329675">string</span><span class="op" id="4329681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329685">t</span><span class="op" id="4329686">.</span><span class="ident" id="4329687">Type</span>&nbsp;<span class="op" id="4329692">=</span>&nbsp;<span class="ident" id="4329694">typeOf</span><span class="op" id="4329700">(</span><span class="ident" id="4329701">e</span><span class="op" id="4329702">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329706">case</span>&nbsp;<span class="ident" id="4329711">TagUnspecifiedType</span><span class="op" id="4329729">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4329733">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;§5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4329772">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4329789">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329809">t</span>&nbsp;<span class="op" id="4329811">:=</span>&nbsp;<span class="builtinfunc" id="4329814">new</span><span class="op" id="4329817">(</span><span class="ident" id="4329818">UnspecifiedType</span><span class="op" id="4329833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329837">typ</span>&nbsp;<span class="op" id="4329841">=</span>&nbsp;<span class="ident" id="4329843">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329847">typeCache</span><span class="op" id="4329856">[</span><span class="ident" id="4329857">off</span><span class="op" id="4329860">]</span>&nbsp;<span class="op" id="4329862">=</span>&nbsp;<span class="ident" id="4329864">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329868">t</span><span class="op" id="4329869">.</span><span class="ident" id="4329870">Name</span><span class="op" id="4329874">,</span>&nbsp;<span class="ident" id="4329876">_</span>&nbsp;<span class="op" id="4329878">=</span>&nbsp;<span class="ident" id="4329880">e</span><span class="op" id="4329881">.</span><span class="ident" id="4329882">Val</span><span class="op" id="4329885">(</span><span class="ident" id="4329886">AttrName</span><span class="op" id="4329894">)</span><span class="op" id="4329895">.</span><span class="op" id="4329896">(</span><span class="builtintype" id="4329897">string</span><span class="op" id="4329903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4329906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329910">if</span>&nbsp;<span class="ident" id="4329913">err</span>&nbsp;<span class="op" id="4329917">!=</span>&nbsp;<span class="ident" id="4329920">nil</span>&nbsp;<span class="op" id="4329924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329928">goto</span>&nbsp;<span class="ident" id="4329933">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4329940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4329944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329948">b</span><span class="op" id="4329949">,</span>&nbsp;<span class="ident" id="4329951">ok</span>&nbsp;<span class="op" id="4329954">:=</span>&nbsp;<span class="ident" id="4329957">e</span><span class="op" id="4329958">.</span><span class="ident" id="4329959">Val</span><span class="op" id="4329962">(</span><span class="ident" id="4329963">AttrByteSize</span><span class="op" id="4329975">)</span><span class="op" id="4329976">.</span><span class="op" id="4329977">(</span><span class="ident" id="4329978">int64</span><span class="op" id="4329983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4329987">if</span>&nbsp;<span class="op" id="4329990">!</span><span class="ident" id="4329991">ok</span>&nbsp;<span class="op" id="4329994">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4329999">b</span>&nbsp;<span class="op" id="4330001">=</span>&nbsp;<span class="op" id="4330003">-</span><span class="num" id="4330004">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4330008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4330012">typ</span><span class="op" id="4330015">.</span><span class="ident" id="4330016">Common</span><span class="op" id="4330022">(</span><span class="op" id="4330023">)</span><span class="op" id="4330024">.</span><span class="ident" id="4330025">ByteSize</span>&nbsp;<span class="op" id="4330034">=</span>&nbsp;<span class="ident" id="4330036">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4330039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4330042">return</span>&nbsp;<span class="ident" id="4330049">typ</span><span class="op" id="4330052">,</span>&nbsp;<span class="ident" id="4330054">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="4330059">Error</span><span class="op" id="4330064">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4330067">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4330122">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4330177">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4330211">delete</span><span class="op" id="4330217">(</span><span class="ident" id="4330218">typeCache</span><span class="op" id="4330227">,</span>&nbsp;<span class="ident" id="4330229">off</span><span class="op" id="4330232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4330235">return</span>&nbsp;<span class="ident" id="4330242">nil</span><span class="op" id="4330245">,</span>&nbsp;<span class="ident" id="4330247">err</span><br>
<span class="lineno"></span><span class="op" id="4330251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4330254">func</span>&nbsp;<span class="ident" id="4330259">zeroArray</span><span class="op" id="4330268">(</span><span class="ident" id="4330269">t</span>&nbsp;<span class="op" id="4330271">*</span><span class="ident" id="4330272">Type</span><span class="op" id="4330276">)</span>&nbsp;<span class="op" id="4330278">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4330281">if</span>&nbsp;<span class="ident" id="4330284">t</span>&nbsp;<span class="op" id="4330286">==</span>&nbsp;<span class="ident" id="4330289">nil</span>&nbsp;<span class="op" id="4330293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4330297">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4330305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4330308">at</span><span class="op" id="4330310">,</span>&nbsp;<span class="ident" id="4330312">ok</span>&nbsp;<span class="op" id="4330315">:=</span>&nbsp;<span class="op" id="4330318">(</span><span class="op" id="4330319">*</span><span class="ident" id="4330320">t</span><span class="op" id="4330321">)</span><span class="op" id="4330322">.</span><span class="op" id="4330323">(</span><span class="op" id="4330324">*</span><span class="ident" id="4330325">ArrayType</span><span class="op" id="4330334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4330337">if</span>&nbsp;<span class="op" id="4330340">!</span><span class="ident" id="4330341">ok</span>&nbsp;<span class="op" id="4330344">||</span>&nbsp;<span class="ident" id="4330347">at</span><span class="op" id="4330349">.</span><span class="ident" id="4330350">Type</span><span class="op" id="4330354">.</span><span class="ident" id="4330355">Size</span><span class="op" id="4330359">(</span><span class="op" id="4330360">)</span>&nbsp;<span class="op" id="4330362">==</span>&nbsp;<span class="num" id="4330365">0</span>&nbsp;<span class="op" id="4330367">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4330371">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4330379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4330382">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4330431">tt</span>&nbsp;<span class="op" id="4330434">:=</span>&nbsp;<span class="op" id="4330437">*</span><span class="ident" id="4330438">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4330442">tt</span><span class="op" id="4330444">.</span><span class="ident" id="4330445">Count</span>&nbsp;<span class="op" id="4330451">=</span>&nbsp;<span class="num" id="4330453">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4330456">*</span><span class="ident" id="4330457">t</span>&nbsp;<span class="op" id="4330459">=</span>&nbsp;<span class="op" id="4330461">&amp;</span><span class="ident" id="4330462">tt</span><br>
<span class="lineno"></span><span class="op" id="4330465">}</span>
</div>
</body>
</html>
