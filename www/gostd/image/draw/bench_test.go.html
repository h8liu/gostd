<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html" class="current">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7419307">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7419362">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7419416">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7419467">package</span>&nbsp;<span class="ident" id="7419475">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7419481">import</span>&nbsp;<span class="op" id="7419488">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7419491">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7419500">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7419515">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7419525">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7419528">const</span>&nbsp;<span class="op" id="7419534">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7419537">dstw</span><span class="op" id="7419541">,</span>&nbsp;<span class="ident" id="7419543">dsth</span>&nbsp;<span class="op" id="7419548">=</span>&nbsp;<span class="num" id="7419550">640</span><span class="op" id="7419553">,</span>&nbsp;<span class="num" id="7419555">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7419560">srcw</span><span class="op" id="7419564">,</span>&nbsp;<span class="ident" id="7419566">srch</span>&nbsp;<span class="op" id="7419571">=</span>&nbsp;<span class="num" id="7419573">400</span><span class="op" id="7419576">,</span>&nbsp;<span class="num" id="7419578">300</span><br>
<span class="lineno"></span><span class="op" id="7419582">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7419585">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7419659">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="7419721">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="7419787">func</span>&nbsp;<span class="ident" id="7419792">bench</span><span class="op" id="7419797">(</span><span class="ident" id="7419798">b</span>&nbsp;<span class="op" id="7419800">*</span><span class="ident" id="7419801">testing</span><span class="op" id="7419808">.</span><span class="ident" id="7419809">B</span><span class="op" id="7419810">,</span>&nbsp;<span class="ident" id="7419812">dcm</span><span class="op" id="7419815">,</span>&nbsp;<span class="ident" id="7419817">scm</span><span class="op" id="7419820">,</span>&nbsp;<span class="ident" id="7419822">mcm</span>&nbsp;<span class="ident" id="7419826">color</span><span class="op" id="7419831">.</span><span class="ident" id="7419832">Model</span><span class="op" id="7419837">,</span>&nbsp;<span class="ident" id="7419839">op</span>&nbsp;<span class="ident" id="7419842">Op</span><span class="op" id="7419844">)</span>&nbsp;<span class="op" id="7419846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7419849">b</span><span class="op" id="7419850">.</span><span class="ident" id="7419851">StopTimer</span><span class="op" id="7419860">(</span><span class="op" id="7419861">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7419865">var</span>&nbsp;<span class="ident" id="7419869">dst</span>&nbsp;<span class="ident" id="7419873">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7419880">switch</span>&nbsp;<span class="ident" id="7419887">dcm</span>&nbsp;<span class="op" id="7419891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7419894">case</span>&nbsp;<span class="ident" id="7419899">color</span><span class="op" id="7419904">.</span><span class="ident" id="7419905">RGBAModel</span><span class="op" id="7419914">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7419918">dst1</span>&nbsp;<span class="op" id="7419923">:=</span>&nbsp;<span class="ident" id="7419926">image</span><span class="op" id="7419931">.</span><span class="ident" id="7419932">NewRGBA</span><span class="op" id="7419939">(</span><span class="ident" id="7419940">image</span><span class="op" id="7419945">.</span><span class="ident" id="7419946">Rect</span><span class="op" id="7419950">(</span><span class="num" id="7419951">0</span><span class="op" id="7419952">,</span>&nbsp;<span class="num" id="7419954">0</span><span class="op" id="7419955">,</span>&nbsp;<span class="ident" id="7419957">dstw</span><span class="op" id="7419961">,</span>&nbsp;<span class="ident" id="7419963">dsth</span><span class="op" id="7419967">)</span><span class="op" id="7419968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7419972">for</span>&nbsp;<span class="ident" id="7419976">y</span>&nbsp;<span class="op" id="7419978">:=</span>&nbsp;<span class="num" id="7419981">0</span><span class="op" id="7419982">;</span>&nbsp;<span class="ident" id="7419984">y</span>&nbsp;<span class="op" id="7419986">&lt;</span>&nbsp;<span class="ident" id="7419988">dsth</span><span class="op" id="7419992">;</span>&nbsp;<span class="ident" id="7419994">y</span><span class="op" id="7419995">++</span>&nbsp;<span class="op" id="7419998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420003">for</span>&nbsp;<span class="ident" id="7420007">x</span>&nbsp;<span class="op" id="7420009">:=</span>&nbsp;<span class="num" id="7420012">0</span><span class="op" id="7420013">;</span>&nbsp;<span class="ident" id="7420015">x</span>&nbsp;<span class="op" id="7420017">&lt;</span>&nbsp;<span class="ident" id="7420019">dstw</span><span class="op" id="7420023">;</span>&nbsp;<span class="ident" id="7420025">x</span><span class="op" id="7420026">++</span>&nbsp;<span class="op" id="7420029">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420035">dst1</span><span class="op" id="7420039">.</span><span class="ident" id="7420040">SetRGBA</span><span class="op" id="7420047">(</span><span class="ident" id="7420048">x</span><span class="op" id="7420049">,</span>&nbsp;<span class="ident" id="7420051">y</span><span class="op" id="7420052">,</span>&nbsp;<span class="ident" id="7420054">color</span><span class="op" id="7420059">.</span><span class="ident" id="7420060">RGBA</span><span class="op" id="7420064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7420071">uint8</span><span class="op" id="7420076">(</span><span class="num" id="7420077">5</span>&nbsp;<span class="op" id="7420079">*</span>&nbsp;<span class="ident" id="7420081">x</span>&nbsp;<span class="op" id="7420083">%</span>&nbsp;<span class="num" id="7420085">0x100</span><span class="op" id="7420090">)</span><span class="op" id="7420091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7420098">uint8</span><span class="op" id="7420103">(</span><span class="num" id="7420104">7</span>&nbsp;<span class="op" id="7420106">*</span>&nbsp;<span class="ident" id="7420108">y</span>&nbsp;<span class="op" id="7420110">%</span>&nbsp;<span class="num" id="7420112">0x100</span><span class="op" id="7420117">)</span><span class="op" id="7420118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7420125">uint8</span><span class="op" id="7420130">(</span><span class="op" id="7420131">(</span><span class="num" id="7420132">7</span><span class="op" id="7420133">*</span><span class="ident" id="7420134">x</span>&nbsp;<span class="op" id="7420136">+</span>&nbsp;<span class="num" id="7420138">5</span><span class="op" id="7420139">*</span><span class="ident" id="7420140">y</span><span class="op" id="7420141">)</span>&nbsp;<span class="op" id="7420143">%</span>&nbsp;<span class="num" id="7420145">0x100</span><span class="op" id="7420150">)</span><span class="op" id="7420151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7420158">0xff</span><span class="op" id="7420162">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420168">}</span><span class="op" id="7420169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420182">dst</span>&nbsp;<span class="op" id="7420186">=</span>&nbsp;<span class="ident" id="7420188">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420194">case</span>&nbsp;<span class="ident" id="7420199">color</span><span class="op" id="7420204">.</span><span class="ident" id="7420205">RGBA64Model</span><span class="op" id="7420216">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420220">dst1</span>&nbsp;<span class="op" id="7420225">:=</span>&nbsp;<span class="ident" id="7420228">image</span><span class="op" id="7420233">.</span><span class="ident" id="7420234">NewRGBA64</span><span class="op" id="7420243">(</span><span class="ident" id="7420244">image</span><span class="op" id="7420249">.</span><span class="ident" id="7420250">Rect</span><span class="op" id="7420254">(</span><span class="num" id="7420255">0</span><span class="op" id="7420256">,</span>&nbsp;<span class="num" id="7420258">0</span><span class="op" id="7420259">,</span>&nbsp;<span class="ident" id="7420261">dstw</span><span class="op" id="7420265">,</span>&nbsp;<span class="ident" id="7420267">dsth</span><span class="op" id="7420271">)</span><span class="op" id="7420272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420276">for</span>&nbsp;<span class="ident" id="7420280">y</span>&nbsp;<span class="op" id="7420282">:=</span>&nbsp;<span class="num" id="7420285">0</span><span class="op" id="7420286">;</span>&nbsp;<span class="ident" id="7420288">y</span>&nbsp;<span class="op" id="7420290">&lt;</span>&nbsp;<span class="ident" id="7420292">dsth</span><span class="op" id="7420296">;</span>&nbsp;<span class="ident" id="7420298">y</span><span class="op" id="7420299">++</span>&nbsp;<span class="op" id="7420302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420307">for</span>&nbsp;<span class="ident" id="7420311">x</span>&nbsp;<span class="op" id="7420313">:=</span>&nbsp;<span class="num" id="7420316">0</span><span class="op" id="7420317">;</span>&nbsp;<span class="ident" id="7420319">x</span>&nbsp;<span class="op" id="7420321">&lt;</span>&nbsp;<span class="ident" id="7420323">dstw</span><span class="op" id="7420327">;</span>&nbsp;<span class="ident" id="7420329">x</span><span class="op" id="7420330">++</span>&nbsp;<span class="op" id="7420333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420339">dst1</span><span class="op" id="7420343">.</span><span class="ident" id="7420344">SetRGBA64</span><span class="op" id="7420353">(</span><span class="ident" id="7420354">x</span><span class="op" id="7420355">,</span>&nbsp;<span class="ident" id="7420357">y</span><span class="op" id="7420358">,</span>&nbsp;<span class="ident" id="7420360">color</span><span class="op" id="7420365">.</span><span class="ident" id="7420366">RGBA64</span><span class="op" id="7420372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7420379">uint16</span><span class="op" id="7420385">(</span><span class="num" id="7420386">53</span>&nbsp;<span class="op" id="7420389">*</span>&nbsp;<span class="ident" id="7420391">x</span>&nbsp;<span class="op" id="7420393">%</span>&nbsp;<span class="num" id="7420395">0x10000</span><span class="op" id="7420402">)</span><span class="op" id="7420403">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7420410">uint16</span><span class="op" id="7420416">(</span><span class="num" id="7420417">59</span>&nbsp;<span class="op" id="7420420">*</span>&nbsp;<span class="ident" id="7420422">y</span>&nbsp;<span class="op" id="7420424">%</span>&nbsp;<span class="num" id="7420426">0x10000</span><span class="op" id="7420433">)</span><span class="op" id="7420434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7420441">uint16</span><span class="op" id="7420447">(</span><span class="op" id="7420448">(</span><span class="num" id="7420449">59</span><span class="op" id="7420451">*</span><span class="ident" id="7420452">x</span>&nbsp;<span class="op" id="7420454">+</span>&nbsp;<span class="num" id="7420456">53</span><span class="op" id="7420458">*</span><span class="ident" id="7420459">y</span><span class="op" id="7420460">)</span>&nbsp;<span class="op" id="7420462">%</span>&nbsp;<span class="num" id="7420464">0x10000</span><span class="op" id="7420471">)</span><span class="op" id="7420472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7420479">0xffff</span><span class="op" id="7420485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420491">}</span><span class="op" id="7420492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420497">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420505">dst</span>&nbsp;<span class="op" id="7420509">=</span>&nbsp;<span class="ident" id="7420511">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420517">default</span><span class="op" id="7420524">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420528">b</span><span class="op" id="7420529">.</span><span class="ident" id="7420530">Fatal</span><span class="op" id="7420535">(</span><span class="string" id="7420536">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="7420569">,</span>&nbsp;<span class="ident" id="7420571">dcm</span><span class="op" id="7420574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420577">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420581">var</span>&nbsp;<span class="ident" id="7420585">src</span>&nbsp;<span class="ident" id="7420589">image</span><span class="op" id="7420594">.</span><span class="ident" id="7420595">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420602">switch</span>&nbsp;<span class="ident" id="7420609">scm</span>&nbsp;<span class="op" id="7420613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420616">case</span>&nbsp;<span class="ident" id="7420621">nil</span><span class="op" id="7420624">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420628">src</span>&nbsp;<span class="op" id="7420632">=</span>&nbsp;<span class="op" id="7420634">&amp;</span><span class="ident" id="7420635">image</span><span class="op" id="7420640">.</span><span class="ident" id="7420641">Uniform</span><span class="op" id="7420648">{</span><span class="ident" id="7420649">C</span><span class="op" id="7420650">:</span>&nbsp;<span class="ident" id="7420652">color</span><span class="op" id="7420657">.</span><span class="ident" id="7420658">RGBA</span><span class="op" id="7420662">{</span><span class="num" id="7420663">0x11</span><span class="op" id="7420667">,</span>&nbsp;<span class="num" id="7420669">0x22</span><span class="op" id="7420673">,</span>&nbsp;<span class="num" id="7420675">0x33</span><span class="op" id="7420679">,</span>&nbsp;<span class="num" id="7420681">0xff</span><span class="op" id="7420685">}</span><span class="op" id="7420686">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420689">case</span>&nbsp;<span class="ident" id="7420694">color</span><span class="op" id="7420699">.</span><span class="ident" id="7420700">RGBAModel</span><span class="op" id="7420709">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420713">src1</span>&nbsp;<span class="op" id="7420718">:=</span>&nbsp;<span class="ident" id="7420721">image</span><span class="op" id="7420726">.</span><span class="ident" id="7420727">NewRGBA</span><span class="op" id="7420734">(</span><span class="ident" id="7420735">image</span><span class="op" id="7420740">.</span><span class="ident" id="7420741">Rect</span><span class="op" id="7420745">(</span><span class="num" id="7420746">0</span><span class="op" id="7420747">,</span>&nbsp;<span class="num" id="7420749">0</span><span class="op" id="7420750">,</span>&nbsp;<span class="ident" id="7420752">srcw</span><span class="op" id="7420756">,</span>&nbsp;<span class="ident" id="7420758">srch</span><span class="op" id="7420762">)</span><span class="op" id="7420763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420767">for</span>&nbsp;<span class="ident" id="7420771">y</span>&nbsp;<span class="op" id="7420773">:=</span>&nbsp;<span class="num" id="7420776">0</span><span class="op" id="7420777">;</span>&nbsp;<span class="ident" id="7420779">y</span>&nbsp;<span class="op" id="7420781">&lt;</span>&nbsp;<span class="ident" id="7420783">srch</span><span class="op" id="7420787">;</span>&nbsp;<span class="ident" id="7420789">y</span><span class="op" id="7420790">++</span>&nbsp;<span class="op" id="7420793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420798">for</span>&nbsp;<span class="ident" id="7420802">x</span>&nbsp;<span class="op" id="7420804">:=</span>&nbsp;<span class="num" id="7420807">0</span><span class="op" id="7420808">;</span>&nbsp;<span class="ident" id="7420810">x</span>&nbsp;<span class="op" id="7420812">&lt;</span>&nbsp;<span class="ident" id="7420814">srcw</span><span class="op" id="7420818">;</span>&nbsp;<span class="ident" id="7420820">x</span><span class="op" id="7420821">++</span>&nbsp;<span class="op" id="7420824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420830">src1</span><span class="op" id="7420834">.</span><span class="ident" id="7420835">SetRGBA</span><span class="op" id="7420842">(</span><span class="ident" id="7420843">x</span><span class="op" id="7420844">,</span>&nbsp;<span class="ident" id="7420846">y</span><span class="op" id="7420847">,</span>&nbsp;<span class="ident" id="7420849">color</span><span class="op" id="7420854">.</span><span class="ident" id="7420855">RGBA</span><span class="op" id="7420859">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7420866">uint8</span><span class="op" id="7420871">(</span><span class="num" id="7420872">13</span>&nbsp;<span class="op" id="7420875">*</span>&nbsp;<span class="ident" id="7420877">x</span>&nbsp;<span class="op" id="7420879">%</span>&nbsp;<span class="num" id="7420881">0x80</span><span class="op" id="7420885">)</span><span class="op" id="7420886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7420893">uint8</span><span class="op" id="7420898">(</span><span class="num" id="7420899">11</span>&nbsp;<span class="op" id="7420902">*</span>&nbsp;<span class="ident" id="7420904">y</span>&nbsp;<span class="op" id="7420906">%</span>&nbsp;<span class="num" id="7420908">0x80</span><span class="op" id="7420912">)</span><span class="op" id="7420913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7420920">uint8</span><span class="op" id="7420925">(</span><span class="op" id="7420926">(</span><span class="num" id="7420927">11</span><span class="op" id="7420929">*</span><span class="ident" id="7420930">x</span>&nbsp;<span class="op" id="7420932">+</span>&nbsp;<span class="num" id="7420934">13</span><span class="op" id="7420936">*</span><span class="ident" id="7420937">y</span><span class="op" id="7420938">)</span>&nbsp;<span class="op" id="7420940">%</span>&nbsp;<span class="num" id="7420942">0x80</span><span class="op" id="7420946">)</span><span class="op" id="7420947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7420954">0x7f</span><span class="op" id="7420958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420964">}</span><span class="op" id="7420965">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7420974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7420978">src</span>&nbsp;<span class="op" id="7420982">=</span>&nbsp;<span class="ident" id="7420984">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7420990">case</span>&nbsp;<span class="ident" id="7420995">color</span><span class="op" id="7421000">.</span><span class="ident" id="7421001">RGBA64Model</span><span class="op" id="7421012">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421016">src1</span>&nbsp;<span class="op" id="7421021">:=</span>&nbsp;<span class="ident" id="7421024">image</span><span class="op" id="7421029">.</span><span class="ident" id="7421030">NewRGBA64</span><span class="op" id="7421039">(</span><span class="ident" id="7421040">image</span><span class="op" id="7421045">.</span><span class="ident" id="7421046">Rect</span><span class="op" id="7421050">(</span><span class="num" id="7421051">0</span><span class="op" id="7421052">,</span>&nbsp;<span class="num" id="7421054">0</span><span class="op" id="7421055">,</span>&nbsp;<span class="ident" id="7421057">srcw</span><span class="op" id="7421061">,</span>&nbsp;<span class="ident" id="7421063">srch</span><span class="op" id="7421067">)</span><span class="op" id="7421068">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7421072">for</span>&nbsp;<span class="ident" id="7421076">y</span>&nbsp;<span class="op" id="7421078">:=</span>&nbsp;<span class="num" id="7421081">0</span><span class="op" id="7421082">;</span>&nbsp;<span class="ident" id="7421084">y</span>&nbsp;<span class="op" id="7421086">&lt;</span>&nbsp;<span class="ident" id="7421088">srch</span><span class="op" id="7421092">;</span>&nbsp;<span class="ident" id="7421094">y</span><span class="op" id="7421095">++</span>&nbsp;<span class="op" id="7421098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7421103">for</span>&nbsp;<span class="ident" id="7421107">x</span>&nbsp;<span class="op" id="7421109">:=</span>&nbsp;<span class="num" id="7421112">0</span><span class="op" id="7421113">;</span>&nbsp;<span class="ident" id="7421115">x</span>&nbsp;<span class="op" id="7421117">&lt;</span>&nbsp;<span class="ident" id="7421119">srcw</span><span class="op" id="7421123">;</span>&nbsp;<span class="ident" id="7421125">x</span><span class="op" id="7421126">++</span>&nbsp;<span class="op" id="7421129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421135">src1</span><span class="op" id="7421139">.</span><span class="ident" id="7421140">SetRGBA64</span><span class="op" id="7421149">(</span><span class="ident" id="7421150">x</span><span class="op" id="7421151">,</span>&nbsp;<span class="ident" id="7421153">y</span><span class="op" id="7421154">,</span>&nbsp;<span class="ident" id="7421156">color</span><span class="op" id="7421161">.</span><span class="ident" id="7421162">RGBA64</span><span class="op" id="7421168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7421175">uint16</span><span class="op" id="7421181">(</span><span class="num" id="7421182">103</span>&nbsp;<span class="op" id="7421186">*</span>&nbsp;<span class="ident" id="7421188">x</span>&nbsp;<span class="op" id="7421190">%</span>&nbsp;<span class="num" id="7421192">0x8000</span><span class="op" id="7421198">)</span><span class="op" id="7421199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7421206">uint16</span><span class="op" id="7421212">(</span><span class="num" id="7421213">101</span>&nbsp;<span class="op" id="7421217">*</span>&nbsp;<span class="ident" id="7421219">y</span>&nbsp;<span class="op" id="7421221">%</span>&nbsp;<span class="num" id="7421223">0x8000</span><span class="op" id="7421229">)</span><span class="op" id="7421230">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7421237">uint16</span><span class="op" id="7421243">(</span><span class="op" id="7421244">(</span><span class="num" id="7421245">101</span><span class="op" id="7421248">*</span><span class="ident" id="7421249">x</span>&nbsp;<span class="op" id="7421251">+</span>&nbsp;<span class="num" id="7421253">103</span><span class="op" id="7421256">*</span><span class="ident" id="7421257">y</span><span class="op" id="7421258">)</span>&nbsp;<span class="op" id="7421260">%</span>&nbsp;<span class="num" id="7421262">0x8000</span><span class="op" id="7421268">)</span><span class="op" id="7421269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7421276">0x7fff</span><span class="op" id="7421282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7421288">}</span><span class="op" id="7421289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7421294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7421298">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421302">src</span>&nbsp;<span class="op" id="7421306">=</span>&nbsp;<span class="ident" id="7421308">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7421314">case</span>&nbsp;<span class="ident" id="7421319">color</span><span class="op" id="7421324">.</span><span class="ident" id="7421325">NRGBAModel</span><span class="op" id="7421335">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421339">src1</span>&nbsp;<span class="op" id="7421344">:=</span>&nbsp;<span class="ident" id="7421347">image</span><span class="op" id="7421352">.</span><span class="ident" id="7421353">NewNRGBA</span><span class="op" id="7421361">(</span><span class="ident" id="7421362">image</span><span class="op" id="7421367">.</span><span class="ident" id="7421368">Rect</span><span class="op" id="7421372">(</span><span class="num" id="7421373">0</span><span class="op" id="7421374">,</span>&nbsp;<span class="num" id="7421376">0</span><span class="op" id="7421377">,</span>&nbsp;<span class="ident" id="7421379">srcw</span><span class="op" id="7421383">,</span>&nbsp;<span class="ident" id="7421385">srch</span><span class="op" id="7421389">)</span><span class="op" id="7421390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7421394">for</span>&nbsp;<span class="ident" id="7421398">y</span>&nbsp;<span class="op" id="7421400">:=</span>&nbsp;<span class="num" id="7421403">0</span><span class="op" id="7421404">;</span>&nbsp;<span class="ident" id="7421406">y</span>&nbsp;<span class="op" id="7421408">&lt;</span>&nbsp;<span class="ident" id="7421410">srch</span><span class="op" id="7421414">;</span>&nbsp;<span class="ident" id="7421416">y</span><span class="op" id="7421417">++</span>&nbsp;<span class="op" id="7421420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7421425">for</span>&nbsp;<span class="ident" id="7421429">x</span>&nbsp;<span class="op" id="7421431">:=</span>&nbsp;<span class="num" id="7421434">0</span><span class="op" id="7421435">;</span>&nbsp;<span class="ident" id="7421437">x</span>&nbsp;<span class="op" id="7421439">&lt;</span>&nbsp;<span class="ident" id="7421441">srcw</span><span class="op" id="7421445">;</span>&nbsp;<span class="ident" id="7421447">x</span><span class="op" id="7421448">++</span>&nbsp;<span class="op" id="7421451">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421457">src1</span><span class="op" id="7421461">.</span><span class="ident" id="7421462">SetNRGBA</span><span class="op" id="7421470">(</span><span class="ident" id="7421471">x</span><span class="op" id="7421472">,</span>&nbsp;<span class="ident" id="7421474">y</span><span class="op" id="7421475">,</span>&nbsp;<span class="ident" id="7421477">color</span><span class="op" id="7421482">.</span><span class="ident" id="7421483">NRGBA</span><span class="op" id="7421488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7421495">uint8</span><span class="op" id="7421500">(</span><span class="num" id="7421501">13</span>&nbsp;<span class="op" id="7421504">*</span>&nbsp;<span class="ident" id="7421506">x</span>&nbsp;<span class="op" id="7421508">%</span>&nbsp;<span class="num" id="7421510">0x100</span><span class="op" id="7421515">)</span><span class="op" id="7421516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7421523">uint8</span><span class="op" id="7421528">(</span><span class="num" id="7421529">11</span>&nbsp;<span class="op" id="7421532">*</span>&nbsp;<span class="ident" id="7421534">y</span>&nbsp;<span class="op" id="7421536">%</span>&nbsp;<span class="num" id="7421538">0x100</span><span class="op" id="7421543">)</span><span class="op" id="7421544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7421551">uint8</span><span class="op" id="7421556">(</span><span class="op" id="7421557">(</span><span class="num" id="7421558">11</span><span class="op" id="7421560">*</span><span class="ident" id="7421561">x</span>&nbsp;<span class="op" id="7421563">+</span>&nbsp;<span class="num" id="7421565">13</span><span class="op" id="7421567">*</span><span class="ident" id="7421568">y</span><span class="op" id="7421569">)</span>&nbsp;<span class="op" id="7421571">%</span>&nbsp;<span class="num" id="7421573">0x100</span><span class="op" id="7421578">)</span><span class="op" id="7421579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7421586">0x7f</span><span class="op" id="7421590">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7421596">}</span><span class="op" id="7421597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7421602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7421606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421610">src</span>&nbsp;<span class="op" id="7421614">=</span>&nbsp;<span class="ident" id="7421616">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7421622">case</span>&nbsp;<span class="ident" id="7421627">color</span><span class="op" id="7421632">.</span><span class="ident" id="7421633">YCbCrModel</span><span class="op" id="7421643">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421647">yy</span>&nbsp;<span class="op" id="7421650">:=</span>&nbsp;<span class="builtinfunc" id="7421653">make</span><span class="op" id="7421657">(</span><span class="op" id="7421658">[</span><span class="op" id="7421659">]</span><span class="builtintype" id="7421660">uint8</span><span class="op" id="7421665">,</span>&nbsp;<span class="ident" id="7421667">srcw</span><span class="op" id="7421671">*</span><span class="ident" id="7421672">srch</span><span class="op" id="7421676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421680">cb</span>&nbsp;<span class="op" id="7421683">:=</span>&nbsp;<span class="builtinfunc" id="7421686">make</span><span class="op" id="7421690">(</span><span class="op" id="7421691">[</span><span class="op" id="7421692">]</span><span class="builtintype" id="7421693">uint8</span><span class="op" id="7421698">,</span>&nbsp;<span class="ident" id="7421700">srcw</span><span class="op" id="7421704">*</span><span class="ident" id="7421705">srch</span><span class="op" id="7421709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421713">cr</span>&nbsp;<span class="op" id="7421716">:=</span>&nbsp;<span class="builtinfunc" id="7421719">make</span><span class="op" id="7421723">(</span><span class="op" id="7421724">[</span><span class="op" id="7421725">]</span><span class="builtintype" id="7421726">uint8</span><span class="op" id="7421731">,</span>&nbsp;<span class="ident" id="7421733">srcw</span><span class="op" id="7421737">*</span><span class="ident" id="7421738">srch</span><span class="op" id="7421742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7421746">for</span>&nbsp;<span class="ident" id="7421750">i</span>&nbsp;<span class="op" id="7421752">:=</span>&nbsp;<span class="keyword" id="7421755">range</span>&nbsp;<span class="ident" id="7421761">yy</span>&nbsp;<span class="op" id="7421764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421769">yy</span><span class="op" id="7421771">[</span><span class="ident" id="7421772">i</span><span class="op" id="7421773">]</span>&nbsp;<span class="op" id="7421775">=</span>&nbsp;<span class="builtintype" id="7421777">uint8</span><span class="op" id="7421782">(</span><span class="num" id="7421783">3</span>&nbsp;<span class="op" id="7421785">*</span>&nbsp;<span class="ident" id="7421787">i</span>&nbsp;<span class="op" id="7421789">%</span>&nbsp;<span class="num" id="7421791">0x100</span><span class="op" id="7421796">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421801">cb</span><span class="op" id="7421803">[</span><span class="ident" id="7421804">i</span><span class="op" id="7421805">]</span>&nbsp;<span class="op" id="7421807">=</span>&nbsp;<span class="builtintype" id="7421809">uint8</span><span class="op" id="7421814">(</span><span class="num" id="7421815">5</span>&nbsp;<span class="op" id="7421817">*</span>&nbsp;<span class="ident" id="7421819">i</span>&nbsp;<span class="op" id="7421821">%</span>&nbsp;<span class="num" id="7421823">0x100</span><span class="op" id="7421828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421833">cr</span><span class="op" id="7421835">[</span><span class="ident" id="7421836">i</span><span class="op" id="7421837">]</span>&nbsp;<span class="op" id="7421839">=</span>&nbsp;<span class="builtintype" id="7421841">uint8</span><span class="op" id="7421846">(</span><span class="num" id="7421847">7</span>&nbsp;<span class="op" id="7421849">*</span>&nbsp;<span class="ident" id="7421851">i</span>&nbsp;<span class="op" id="7421853">%</span>&nbsp;<span class="num" id="7421855">0x100</span><span class="op" id="7421860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7421864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421868">src</span>&nbsp;<span class="op" id="7421872">=</span>&nbsp;<span class="op" id="7421874">&amp;</span><span class="ident" id="7421875">image</span><span class="op" id="7421880">.</span><span class="ident" id="7421881">YCbCr</span><span class="op" id="7421886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421891">Y</span><span class="op" id="7421892">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421907">yy</span><span class="op" id="7421909">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421914">Cb</span><span class="op" id="7421916">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421930">cb</span><span class="op" id="7421932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421937">Cr</span><span class="op" id="7421939">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421953">cr</span><span class="op" id="7421955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421960">YStride</span><span class="op" id="7421967">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421976">srcw</span><span class="op" id="7421980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7421985">CStride</span><span class="op" id="7421992">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422001">srcw</span><span class="op" id="7422005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422010">SubsampleRatio</span><span class="op" id="7422024">:</span>&nbsp;<span class="ident" id="7422026">image</span><span class="op" id="7422031">.</span><span class="ident" id="7422032">YCbCrSubsampleRatio444</span><span class="op" id="7422054">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422059">Rect</span><span class="op" id="7422063">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422075">image</span><span class="op" id="7422080">.</span><span class="ident" id="7422081">Rect</span><span class="op" id="7422085">(</span><span class="num" id="7422086">0</span><span class="op" id="7422087">,</span>&nbsp;<span class="num" id="7422089">0</span><span class="op" id="7422090">,</span>&nbsp;<span class="ident" id="7422092">srcw</span><span class="op" id="7422096">,</span>&nbsp;<span class="ident" id="7422098">srch</span><span class="op" id="7422102">)</span><span class="op" id="7422103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7422107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422110">default</span><span class="op" id="7422117">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422121">b</span><span class="op" id="7422122">.</span><span class="ident" id="7422123">Fatal</span><span class="op" id="7422128">(</span><span class="string" id="7422129">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="7422157">,</span>&nbsp;<span class="ident" id="7422159">scm</span><span class="op" id="7422162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7422165">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422169">var</span>&nbsp;<span class="ident" id="7422173">mask</span>&nbsp;<span class="ident" id="7422178">image</span><span class="op" id="7422183">.</span><span class="ident" id="7422184">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422191">switch</span>&nbsp;<span class="ident" id="7422198">mcm</span>&nbsp;<span class="op" id="7422202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422205">case</span>&nbsp;<span class="ident" id="7422210">nil</span><span class="op" id="7422213">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7422217">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422228">case</span>&nbsp;<span class="ident" id="7422233">color</span><span class="op" id="7422238">.</span><span class="ident" id="7422239">AlphaModel</span><span class="op" id="7422249">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422253">mask1</span>&nbsp;<span class="op" id="7422259">:=</span>&nbsp;<span class="ident" id="7422262">image</span><span class="op" id="7422267">.</span><span class="ident" id="7422268">NewAlpha</span><span class="op" id="7422276">(</span><span class="ident" id="7422277">image</span><span class="op" id="7422282">.</span><span class="ident" id="7422283">Rect</span><span class="op" id="7422287">(</span><span class="num" id="7422288">0</span><span class="op" id="7422289">,</span>&nbsp;<span class="num" id="7422291">0</span><span class="op" id="7422292">,</span>&nbsp;<span class="ident" id="7422294">srcw</span><span class="op" id="7422298">,</span>&nbsp;<span class="ident" id="7422300">srch</span><span class="op" id="7422304">)</span><span class="op" id="7422305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422309">for</span>&nbsp;<span class="ident" id="7422313">y</span>&nbsp;<span class="op" id="7422315">:=</span>&nbsp;<span class="num" id="7422318">0</span><span class="op" id="7422319">;</span>&nbsp;<span class="ident" id="7422321">y</span>&nbsp;<span class="op" id="7422323">&lt;</span>&nbsp;<span class="ident" id="7422325">srch</span><span class="op" id="7422329">;</span>&nbsp;<span class="ident" id="7422331">y</span><span class="op" id="7422332">++</span>&nbsp;<span class="op" id="7422335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422340">for</span>&nbsp;<span class="ident" id="7422344">x</span>&nbsp;<span class="op" id="7422346">:=</span>&nbsp;<span class="num" id="7422349">0</span><span class="op" id="7422350">;</span>&nbsp;<span class="ident" id="7422352">x</span>&nbsp;<span class="op" id="7422354">&lt;</span>&nbsp;<span class="ident" id="7422356">srcw</span><span class="op" id="7422360">;</span>&nbsp;<span class="ident" id="7422362">x</span><span class="op" id="7422363">++</span>&nbsp;<span class="op" id="7422366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422372">a</span>&nbsp;<span class="op" id="7422374">:=</span>&nbsp;<span class="builtintype" id="7422377">uint8</span><span class="op" id="7422382">(</span><span class="op" id="7422383">(</span><span class="num" id="7422384">23</span><span class="op" id="7422386">*</span><span class="ident" id="7422387">x</span>&nbsp;<span class="op" id="7422389">+</span>&nbsp;<span class="num" id="7422391">29</span><span class="op" id="7422393">*</span><span class="ident" id="7422394">y</span><span class="op" id="7422395">)</span>&nbsp;<span class="op" id="7422397">%</span>&nbsp;<span class="num" id="7422399">0x100</span><span class="op" id="7422404">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7422410">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7422456">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422507">if</span>&nbsp;<span class="ident" id="7422510">a</span>&nbsp;<span class="op" id="7422512">&gt;=</span>&nbsp;<span class="num" id="7422515">0xc0</span>&nbsp;<span class="op" id="7422520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422527">mask1</span><span class="op" id="7422532">.</span><span class="ident" id="7422533">SetAlpha</span><span class="op" id="7422541">(</span><span class="ident" id="7422542">x</span><span class="op" id="7422543">,</span>&nbsp;<span class="ident" id="7422545">y</span><span class="op" id="7422546">,</span>&nbsp;<span class="ident" id="7422548">color</span><span class="op" id="7422553">.</span><span class="ident" id="7422554">Alpha</span><span class="op" id="7422559">{</span><span class="ident" id="7422560">a</span><span class="op" id="7422561">}</span><span class="op" id="7422562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7422568">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7422573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7422577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422581">mask</span>&nbsp;<span class="op" id="7422586">=</span>&nbsp;<span class="ident" id="7422588">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422595">default</span><span class="op" id="7422602">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422606">b</span><span class="op" id="7422607">.</span><span class="ident" id="7422608">Fatal</span><span class="op" id="7422613">(</span><span class="string" id="7422614">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="7422640">,</span>&nbsp;<span class="ident" id="7422642">mcm</span><span class="op" id="7422645">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7422648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422652">b</span><span class="op" id="7422653">.</span><span class="ident" id="7422654">StartTimer</span><span class="op" id="7422664">(</span><span class="op" id="7422665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7422668">for</span>&nbsp;<span class="ident" id="7422672">i</span>&nbsp;<span class="op" id="7422674">:=</span>&nbsp;<span class="num" id="7422677">0</span><span class="op" id="7422678">;</span>&nbsp;<span class="ident" id="7422680">i</span>&nbsp;<span class="op" id="7422682">&lt;</span>&nbsp;<span class="ident" id="7422684">b</span><span class="op" id="7422685">.</span><span class="ident" id="7422686">N</span><span class="op" id="7422687">;</span>&nbsp;<span class="ident" id="7422689">i</span><span class="op" id="7422690">++</span>&nbsp;<span class="op" id="7422693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7422697">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422750">x</span>&nbsp;<span class="op" id="7422752">:=</span>&nbsp;<span class="num" id="7422755">3</span>&nbsp;<span class="op" id="7422757">*</span>&nbsp;<span class="ident" id="7422759">i</span>&nbsp;<span class="op" id="7422761">%</span>&nbsp;<span class="op" id="7422763">(</span><span class="ident" id="7422764">dstw</span>&nbsp;<span class="op" id="7422769">-</span>&nbsp;<span class="ident" id="7422771">srcw</span><span class="op" id="7422775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422779">y</span>&nbsp;<span class="op" id="7422781">:=</span>&nbsp;<span class="num" id="7422784">7</span>&nbsp;<span class="op" id="7422786">*</span>&nbsp;<span class="ident" id="7422788">i</span>&nbsp;<span class="op" id="7422790">%</span>&nbsp;<span class="op" id="7422792">(</span><span class="ident" id="7422793">dsth</span>&nbsp;<span class="op" id="7422798">-</span>&nbsp;<span class="ident" id="7422800">srch</span><span class="op" id="7422804">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7422809">DrawMask</span><span class="op" id="7422817">(</span><span class="ident" id="7422818">dst</span><span class="op" id="7422821">,</span>&nbsp;<span class="ident" id="7422823">dst</span><span class="op" id="7422826">.</span><span class="ident" id="7422827">Bounds</span><span class="op" id="7422833">(</span><span class="op" id="7422834">)</span><span class="op" id="7422835">.</span><span class="ident" id="7422836">Add</span><span class="op" id="7422839">(</span><span class="ident" id="7422840">image</span><span class="op" id="7422845">.</span><span class="ident" id="7422846">Pt</span><span class="op" id="7422848">(</span><span class="ident" id="7422849">x</span><span class="op" id="7422850">,</span>&nbsp;<span class="ident" id="7422852">y</span><span class="op" id="7422853">)</span><span class="op" id="7422854">)</span><span class="op" id="7422855">,</span>&nbsp;<span class="ident" id="7422857">src</span><span class="op" id="7422860">,</span>&nbsp;<span class="ident" id="7422862">image</span><span class="op" id="7422867">.</span><span class="ident" id="7422868">ZP</span><span class="op" id="7422870">,</span>&nbsp;<span class="ident" id="7422872">mask</span><span class="op" id="7422876">,</span>&nbsp;<span class="ident" id="7422878">image</span><span class="op" id="7422883">.</span><span class="ident" id="7422884">ZP</span><span class="op" id="7422886">,</span>&nbsp;<span class="ident" id="7422888">op</span><span class="op" id="7422890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7422893">}</span><br>
<span class="lineno">150</span><span class="op" id="7422895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7422898">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7422979">func</span>&nbsp;<span class="ident" id="7422984">BenchmarkFillOver</span><span class="op" id="7423001">(</span><span class="ident" id="7423002">b</span>&nbsp;<span class="op" id="7423004">*</span><span class="ident" id="7423005">testing</span><span class="op" id="7423012">.</span><span class="ident" id="7423013">B</span><span class="op" id="7423014">)</span>&nbsp;<span class="op" id="7423016">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423019">bench</span><span class="op" id="7423024">(</span><span class="ident" id="7423025">b</span><span class="op" id="7423026">,</span>&nbsp;<span class="ident" id="7423028">color</span><span class="op" id="7423033">.</span><span class="ident" id="7423034">RGBAModel</span><span class="op" id="7423043">,</span>&nbsp;<span class="ident" id="7423045">nil</span><span class="op" id="7423048">,</span>&nbsp;<span class="ident" id="7423050">nil</span><span class="op" id="7423053">,</span>&nbsp;<span class="ident" id="7423055">Over</span><span class="op" id="7423059">)</span><br>
<span class="lineno"></span><span class="op" id="7423061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423064">func</span>&nbsp;<span class="ident" id="7423069">BenchmarkFillSrc</span><span class="op" id="7423085">(</span><span class="ident" id="7423086">b</span>&nbsp;<span class="op" id="7423088">*</span><span class="ident" id="7423089">testing</span><span class="op" id="7423096">.</span><span class="ident" id="7423097">B</span><span class="op" id="7423098">)</span>&nbsp;<span class="op" id="7423100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423103">bench</span><span class="op" id="7423108">(</span><span class="ident" id="7423109">b</span><span class="op" id="7423110">,</span>&nbsp;<span class="ident" id="7423112">color</span><span class="op" id="7423117">.</span><span class="ident" id="7423118">RGBAModel</span><span class="op" id="7423127">,</span>&nbsp;<span class="ident" id="7423129">nil</span><span class="op" id="7423132">,</span>&nbsp;<span class="ident" id="7423134">nil</span><span class="op" id="7423137">,</span>&nbsp;<span class="ident" id="7423139">Src</span><span class="op" id="7423142">)</span><br>
<span class="lineno">160</span><span class="op" id="7423144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423147">func</span>&nbsp;<span class="ident" id="7423152">BenchmarkCopyOver</span><span class="op" id="7423169">(</span><span class="ident" id="7423170">b</span>&nbsp;<span class="op" id="7423172">*</span><span class="ident" id="7423173">testing</span><span class="op" id="7423180">.</span><span class="ident" id="7423181">B</span><span class="op" id="7423182">)</span>&nbsp;<span class="op" id="7423184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423187">bench</span><span class="op" id="7423192">(</span><span class="ident" id="7423193">b</span><span class="op" id="7423194">,</span>&nbsp;<span class="ident" id="7423196">color</span><span class="op" id="7423201">.</span><span class="ident" id="7423202">RGBAModel</span><span class="op" id="7423211">,</span>&nbsp;<span class="ident" id="7423213">color</span><span class="op" id="7423218">.</span><span class="ident" id="7423219">RGBAModel</span><span class="op" id="7423228">,</span>&nbsp;<span class="ident" id="7423230">nil</span><span class="op" id="7423233">,</span>&nbsp;<span class="ident" id="7423235">Over</span><span class="op" id="7423239">)</span><br>
<span class="lineno"></span><span class="op" id="7423241">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="7423244">func</span>&nbsp;<span class="ident" id="7423249">BenchmarkCopySrc</span><span class="op" id="7423265">(</span><span class="ident" id="7423266">b</span>&nbsp;<span class="op" id="7423268">*</span><span class="ident" id="7423269">testing</span><span class="op" id="7423276">.</span><span class="ident" id="7423277">B</span><span class="op" id="7423278">)</span>&nbsp;<span class="op" id="7423280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423283">bench</span><span class="op" id="7423288">(</span><span class="ident" id="7423289">b</span><span class="op" id="7423290">,</span>&nbsp;<span class="ident" id="7423292">color</span><span class="op" id="7423297">.</span><span class="ident" id="7423298">RGBAModel</span><span class="op" id="7423307">,</span>&nbsp;<span class="ident" id="7423309">color</span><span class="op" id="7423314">.</span><span class="ident" id="7423315">RGBAModel</span><span class="op" id="7423324">,</span>&nbsp;<span class="ident" id="7423326">nil</span><span class="op" id="7423329">,</span>&nbsp;<span class="ident" id="7423331">Src</span><span class="op" id="7423334">)</span><br>
<span class="lineno"></span><span class="op" id="7423336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="7423339">func</span>&nbsp;<span class="ident" id="7423344">BenchmarkNRGBAOver</span><span class="op" id="7423362">(</span><span class="ident" id="7423363">b</span>&nbsp;<span class="op" id="7423365">*</span><span class="ident" id="7423366">testing</span><span class="op" id="7423373">.</span><span class="ident" id="7423374">B</span><span class="op" id="7423375">)</span>&nbsp;<span class="op" id="7423377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423380">bench</span><span class="op" id="7423385">(</span><span class="ident" id="7423386">b</span><span class="op" id="7423387">,</span>&nbsp;<span class="ident" id="7423389">color</span><span class="op" id="7423394">.</span><span class="ident" id="7423395">RGBAModel</span><span class="op" id="7423404">,</span>&nbsp;<span class="ident" id="7423406">color</span><span class="op" id="7423411">.</span><span class="ident" id="7423412">NRGBAModel</span><span class="op" id="7423422">,</span>&nbsp;<span class="ident" id="7423424">nil</span><span class="op" id="7423427">,</span>&nbsp;<span class="ident" id="7423429">Over</span><span class="op" id="7423433">)</span><br>
<span class="lineno"></span><span class="op" id="7423435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423438">func</span>&nbsp;<span class="ident" id="7423443">BenchmarkNRGBASrc</span><span class="op" id="7423460">(</span><span class="ident" id="7423461">b</span>&nbsp;<span class="op" id="7423463">*</span><span class="ident" id="7423464">testing</span><span class="op" id="7423471">.</span><span class="ident" id="7423472">B</span><span class="op" id="7423473">)</span>&nbsp;<span class="op" id="7423475">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423478">bench</span><span class="op" id="7423483">(</span><span class="ident" id="7423484">b</span><span class="op" id="7423485">,</span>&nbsp;<span class="ident" id="7423487">color</span><span class="op" id="7423492">.</span><span class="ident" id="7423493">RGBAModel</span><span class="op" id="7423502">,</span>&nbsp;<span class="ident" id="7423504">color</span><span class="op" id="7423509">.</span><span class="ident" id="7423510">NRGBAModel</span><span class="op" id="7423520">,</span>&nbsp;<span class="ident" id="7423522">nil</span><span class="op" id="7423525">,</span>&nbsp;<span class="ident" id="7423527">Src</span><span class="op" id="7423530">)</span><br>
<span class="lineno"></span><span class="op" id="7423532">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423535">func</span>&nbsp;<span class="ident" id="7423540">BenchmarkYCbCr</span><span class="op" id="7423554">(</span><span class="ident" id="7423555">b</span>&nbsp;<span class="op" id="7423557">*</span><span class="ident" id="7423558">testing</span><span class="op" id="7423565">.</span><span class="ident" id="7423566">B</span><span class="op" id="7423567">)</span>&nbsp;<span class="op" id="7423569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423572">bench</span><span class="op" id="7423577">(</span><span class="ident" id="7423578">b</span><span class="op" id="7423579">,</span>&nbsp;<span class="ident" id="7423581">color</span><span class="op" id="7423586">.</span><span class="ident" id="7423587">RGBAModel</span><span class="op" id="7423596">,</span>&nbsp;<span class="ident" id="7423598">color</span><span class="op" id="7423603">.</span><span class="ident" id="7423604">YCbCrModel</span><span class="op" id="7423614">,</span>&nbsp;<span class="ident" id="7423616">nil</span><span class="op" id="7423619">,</span>&nbsp;<span class="ident" id="7423621">Over</span><span class="op" id="7423625">)</span><br>
<span class="lineno">180</span><span class="op" id="7423627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423630">func</span>&nbsp;<span class="ident" id="7423635">BenchmarkGlyphOver</span><span class="op" id="7423653">(</span><span class="ident" id="7423654">b</span>&nbsp;<span class="op" id="7423656">*</span><span class="ident" id="7423657">testing</span><span class="op" id="7423664">.</span><span class="ident" id="7423665">B</span><span class="op" id="7423666">)</span>&nbsp;<span class="op" id="7423668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423671">bench</span><span class="op" id="7423676">(</span><span class="ident" id="7423677">b</span><span class="op" id="7423678">,</span>&nbsp;<span class="ident" id="7423680">color</span><span class="op" id="7423685">.</span><span class="ident" id="7423686">RGBAModel</span><span class="op" id="7423695">,</span>&nbsp;<span class="ident" id="7423697">nil</span><span class="op" id="7423700">,</span>&nbsp;<span class="ident" id="7423702">color</span><span class="op" id="7423707">.</span><span class="ident" id="7423708">AlphaModel</span><span class="op" id="7423718">,</span>&nbsp;<span class="ident" id="7423720">Over</span><span class="op" id="7423724">)</span><br>
<span class="lineno"></span><span class="op" id="7423726">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="7423729">func</span>&nbsp;<span class="ident" id="7423734">BenchmarkRGBA</span><span class="op" id="7423747">(</span><span class="ident" id="7423748">b</span>&nbsp;<span class="op" id="7423750">*</span><span class="ident" id="7423751">testing</span><span class="op" id="7423758">.</span><span class="ident" id="7423759">B</span><span class="op" id="7423760">)</span>&nbsp;<span class="op" id="7423762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423765">bench</span><span class="op" id="7423770">(</span><span class="ident" id="7423771">b</span><span class="op" id="7423772">,</span>&nbsp;<span class="ident" id="7423774">color</span><span class="op" id="7423779">.</span><span class="ident" id="7423780">RGBAModel</span><span class="op" id="7423789">,</span>&nbsp;<span class="ident" id="7423791">color</span><span class="op" id="7423796">.</span><span class="ident" id="7423797">RGBA64Model</span><span class="op" id="7423808">,</span>&nbsp;<span class="ident" id="7423810">nil</span><span class="op" id="7423813">,</span>&nbsp;<span class="ident" id="7423815">Src</span><span class="op" id="7423818">)</span><br>
<span class="lineno"></span><span class="op" id="7423820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="7423823">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423899">func</span>&nbsp;<span class="ident" id="7423904">BenchmarkGenericOver</span><span class="op" id="7423924">(</span><span class="ident" id="7423925">b</span>&nbsp;<span class="op" id="7423927">*</span><span class="ident" id="7423928">testing</span><span class="op" id="7423935">.</span><span class="ident" id="7423936">B</span><span class="op" id="7423937">)</span>&nbsp;<span class="op" id="7423939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423942">bench</span><span class="op" id="7423947">(</span><span class="ident" id="7423948">b</span><span class="op" id="7423949">,</span>&nbsp;<span class="ident" id="7423951">color</span><span class="op" id="7423956">.</span><span class="ident" id="7423957">RGBA64Model</span><span class="op" id="7423968">,</span>&nbsp;<span class="ident" id="7423970">color</span><span class="op" id="7423975">.</span><span class="ident" id="7423976">RGBA64Model</span><span class="op" id="7423987">,</span>&nbsp;<span class="ident" id="7423989">nil</span><span class="op" id="7423992">,</span>&nbsp;<span class="ident" id="7423994">Over</span><span class="op" id="7423998">)</span><br>
<span class="lineno"></span><span class="op" id="7424000">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="7424003">func</span>&nbsp;<span class="ident" id="7424008">BenchmarkGenericMaskOver</span><span class="op" id="7424032">(</span><span class="ident" id="7424033">b</span>&nbsp;<span class="op" id="7424035">*</span><span class="ident" id="7424036">testing</span><span class="op" id="7424043">.</span><span class="ident" id="7424044">B</span><span class="op" id="7424045">)</span>&nbsp;<span class="op" id="7424047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424050">bench</span><span class="op" id="7424055">(</span><span class="ident" id="7424056">b</span><span class="op" id="7424057">,</span>&nbsp;<span class="ident" id="7424059">color</span><span class="op" id="7424064">.</span><span class="ident" id="7424065">RGBA64Model</span><span class="op" id="7424076">,</span>&nbsp;<span class="ident" id="7424078">color</span><span class="op" id="7424083">.</span><span class="ident" id="7424084">RGBA64Model</span><span class="op" id="7424095">,</span>&nbsp;<span class="ident" id="7424097">color</span><span class="op" id="7424102">.</span><span class="ident" id="7424103">AlphaModel</span><span class="op" id="7424113">,</span>&nbsp;<span class="ident" id="7424115">Over</span><span class="op" id="7424119">)</span><br>
<span class="lineno"></span><span class="op" id="7424121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="7424124">func</span>&nbsp;<span class="ident" id="7424129">BenchmarkGenericSrc</span><span class="op" id="7424148">(</span><span class="ident" id="7424149">b</span>&nbsp;<span class="op" id="7424151">*</span><span class="ident" id="7424152">testing</span><span class="op" id="7424159">.</span><span class="ident" id="7424160">B</span><span class="op" id="7424161">)</span>&nbsp;<span class="op" id="7424163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424166">bench</span><span class="op" id="7424171">(</span><span class="ident" id="7424172">b</span><span class="op" id="7424173">,</span>&nbsp;<span class="ident" id="7424175">color</span><span class="op" id="7424180">.</span><span class="ident" id="7424181">RGBA64Model</span><span class="op" id="7424192">,</span>&nbsp;<span class="ident" id="7424194">color</span><span class="op" id="7424199">.</span><span class="ident" id="7424200">RGBA64Model</span><span class="op" id="7424211">,</span>&nbsp;<span class="ident" id="7424213">nil</span><span class="op" id="7424216">,</span>&nbsp;<span class="ident" id="7424218">Src</span><span class="op" id="7424221">)</span><br>
<span class="lineno"></span><span class="op" id="7424223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7424226">func</span>&nbsp;<span class="ident" id="7424231">BenchmarkGenericMaskSrc</span><span class="op" id="7424254">(</span><span class="ident" id="7424255">b</span>&nbsp;<span class="op" id="7424257">*</span><span class="ident" id="7424258">testing</span><span class="op" id="7424265">.</span><span class="ident" id="7424266">B</span><span class="op" id="7424267">)</span>&nbsp;<span class="op" id="7424269">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424272">bench</span><span class="op" id="7424277">(</span><span class="ident" id="7424278">b</span><span class="op" id="7424279">,</span>&nbsp;<span class="ident" id="7424281">color</span><span class="op" id="7424286">.</span><span class="ident" id="7424287">RGBA64Model</span><span class="op" id="7424298">,</span>&nbsp;<span class="ident" id="7424300">color</span><span class="op" id="7424305">.</span><span class="ident" id="7424306">RGBA64Model</span><span class="op" id="7424317">,</span>&nbsp;<span class="ident" id="7424319">color</span><span class="op" id="7424324">.</span><span class="ident" id="7424325">AlphaModel</span><span class="op" id="7424335">,</span>&nbsp;<span class="ident" id="7424337">Src</span><span class="op" id="7424340">)</span><br>
<span class="lineno"></span><span class="op" id="7424342">}</span>
</div>
</body>
</html>
