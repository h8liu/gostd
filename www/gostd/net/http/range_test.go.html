<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html" class="current">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8242926">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8242981">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8243035">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8243086">package</span>&nbsp;<span class="ident" id="8243094">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8243100">import</span>&nbsp;<span class="op" id="8243107">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8243110">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8243120">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8243123">var</span>&nbsp;<span class="ident" id="8243127">ParseRangeTests</span>&nbsp;<span class="op" id="8243143">=</span>&nbsp;<span class="op" id="8243145">[</span><span class="op" id="8243146">]</span><span class="keyword" id="8243147">struct</span>&nbsp;<span class="op" id="8243154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8243157">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8243164">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8243172">length</span>&nbsp;<span class="ident" id="8243179">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8243186">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243193">[</span><span class="op" id="8243194">]</span><span class="ident" id="8243195">httpRange</span><br>
<span class="lineno">15</span><span class="op" id="8243205">}</span><span class="op" id="8243206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243209">{</span><span class="string" id="8243210">&#34;&#34;</span><span class="op" id="8243212">,</span>&nbsp;<span class="num" id="8243214">0</span><span class="op" id="8243215">,</span>&nbsp;<span class="ident" id="8243217">nil</span><span class="op" id="8243220">}</span><span class="op" id="8243221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243224">{</span><span class="string" id="8243225">&#34;&#34;</span><span class="op" id="8243227">,</span>&nbsp;<span class="num" id="8243229">1000</span><span class="op" id="8243233">,</span>&nbsp;<span class="ident" id="8243235">nil</span><span class="op" id="8243238">}</span><span class="op" id="8243239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243242">{</span><span class="string" id="8243243">&#34;foo&#34;</span><span class="op" id="8243248">,</span>&nbsp;<span class="num" id="8243250">0</span><span class="op" id="8243251">,</span>&nbsp;<span class="ident" id="8243253">nil</span><span class="op" id="8243256">}</span><span class="op" id="8243257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243260">{</span><span class="string" id="8243261">&#34;bytes=&#34;</span><span class="op" id="8243269">,</span>&nbsp;<span class="num" id="8243271">0</span><span class="op" id="8243272">,</span>&nbsp;<span class="ident" id="8243274">nil</span><span class="op" id="8243277">}</span><span class="op" id="8243278">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243281">{</span><span class="string" id="8243282">&#34;bytes=7&#34;</span><span class="op" id="8243291">,</span>&nbsp;<span class="num" id="8243293">10</span><span class="op" id="8243295">,</span>&nbsp;<span class="ident" id="8243297">nil</span><span class="op" id="8243300">}</span><span class="op" id="8243301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243304">{</span><span class="string" id="8243305">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="8243316">,</span>&nbsp;<span class="num" id="8243318">10</span><span class="op" id="8243320">,</span>&nbsp;<span class="ident" id="8243322">nil</span><span class="op" id="8243325">}</span><span class="op" id="8243326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243329">{</span><span class="string" id="8243330">&#34;bytes=1-&#34;</span><span class="op" id="8243340">,</span>&nbsp;<span class="num" id="8243342">0</span><span class="op" id="8243343">,</span>&nbsp;<span class="ident" id="8243345">nil</span><span class="op" id="8243348">}</span><span class="op" id="8243349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243352">{</span><span class="string" id="8243353">&#34;bytes=5-4&#34;</span><span class="op" id="8243364">,</span>&nbsp;<span class="num" id="8243366">10</span><span class="op" id="8243368">,</span>&nbsp;<span class="ident" id="8243370">nil</span><span class="op" id="8243373">}</span><span class="op" id="8243374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243377">{</span><span class="string" id="8243378">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="8243393">,</span>&nbsp;<span class="num" id="8243395">10</span><span class="op" id="8243397">,</span>&nbsp;<span class="ident" id="8243399">nil</span><span class="op" id="8243402">}</span><span class="op" id="8243403">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243406">{</span><span class="string" id="8243407">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="8243422">,</span>&nbsp;<span class="num" id="8243424">10</span><span class="op" id="8243426">,</span>&nbsp;<span class="ident" id="8243428">nil</span><span class="op" id="8243431">}</span><span class="op" id="8243432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243435">{</span><span class="string" id="8243436">&#34;bytes=--5,4--3&#34;</span><span class="op" id="8243452">,</span>&nbsp;<span class="num" id="8243454">10</span><span class="op" id="8243456">,</span>&nbsp;<span class="ident" id="8243458">nil</span><span class="op" id="8243461">}</span><span class="op" id="8243462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243465">{</span><span class="string" id="8243466">&#34;bytes=A-&#34;</span><span class="op" id="8243476">,</span>&nbsp;<span class="num" id="8243478">10</span><span class="op" id="8243480">,</span>&nbsp;<span class="ident" id="8243482">nil</span><span class="op" id="8243485">}</span><span class="op" id="8243486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243489">{</span><span class="string" id="8243490">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="8243501">,</span>&nbsp;<span class="num" id="8243503">10</span><span class="op" id="8243505">,</span>&nbsp;<span class="ident" id="8243507">nil</span><span class="op" id="8243510">}</span><span class="op" id="8243511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243514">{</span><span class="string" id="8243515">&#34;bytes=A-Z&#34;</span><span class="op" id="8243526">,</span>&nbsp;<span class="num" id="8243528">10</span><span class="op" id="8243530">,</span>&nbsp;<span class="ident" id="8243532">nil</span><span class="op" id="8243535">}</span><span class="op" id="8243536">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243539">{</span><span class="string" id="8243540">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="8243551">,</span>&nbsp;<span class="num" id="8243553">10</span><span class="op" id="8243555">,</span>&nbsp;<span class="ident" id="8243557">nil</span><span class="op" id="8243560">}</span><span class="op" id="8243561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243564">{</span><span class="string" id="8243565">&#34;bytes=5-Z&#34;</span><span class="op" id="8243576">,</span>&nbsp;<span class="num" id="8243578">10</span><span class="op" id="8243580">,</span>&nbsp;<span class="ident" id="8243582">nil</span><span class="op" id="8243585">}</span><span class="op" id="8243586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243589">{</span><span class="string" id="8243590">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="8243614">,</span>&nbsp;<span class="num" id="8243616">10</span><span class="op" id="8243618">,</span>&nbsp;<span class="ident" id="8243620">nil</span><span class="op" id="8243623">}</span><span class="op" id="8243624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243627">{</span><span class="string" id="8243628">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="8243645">,</span>&nbsp;<span class="num" id="8243647">10</span><span class="op" id="8243649">,</span>&nbsp;<span class="ident" id="8243651">nil</span><span class="op" id="8243654">}</span><span class="op" id="8243655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243658">{</span><span class="string" id="8243659">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8243676">,</span>&nbsp;<span class="num" id="8243678">10</span><span class="op" id="8243680">,</span>&nbsp;<span class="ident" id="8243682">nil</span><span class="op" id="8243685">}</span><span class="op" id="8243686">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243689">{</span><span class="string" id="8243690">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8243707">,</span>&nbsp;<span class="num" id="8243709">10</span><span class="op" id="8243711">,</span>&nbsp;<span class="ident" id="8243713">nil</span><span class="op" id="8243716">}</span><span class="op" id="8243717">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243721">{</span><span class="string" id="8243722">&#34;bytes=0-9&#34;</span><span class="op" id="8243733">,</span>&nbsp;<span class="num" id="8243735">10</span><span class="op" id="8243737">,</span>&nbsp;<span class="op" id="8243739">[</span><span class="op" id="8243740">]</span><span class="ident" id="8243741">httpRange</span><span class="op" id="8243750">{</span><span class="op" id="8243751">{</span><span class="num" id="8243752">0</span><span class="op" id="8243753">,</span>&nbsp;<span class="num" id="8243755">10</span><span class="op" id="8243757">}</span><span class="op" id="8243758">}</span><span class="op" id="8243759">}</span><span class="op" id="8243760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243763">{</span><span class="string" id="8243764">&#34;bytes=0-&#34;</span><span class="op" id="8243774">,</span>&nbsp;<span class="num" id="8243776">10</span><span class="op" id="8243778">,</span>&nbsp;<span class="op" id="8243780">[</span><span class="op" id="8243781">]</span><span class="ident" id="8243782">httpRange</span><span class="op" id="8243791">{</span><span class="op" id="8243792">{</span><span class="num" id="8243793">0</span><span class="op" id="8243794">,</span>&nbsp;<span class="num" id="8243796">10</span><span class="op" id="8243798">}</span><span class="op" id="8243799">}</span><span class="op" id="8243800">}</span><span class="op" id="8243801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243804">{</span><span class="string" id="8243805">&#34;bytes=5-&#34;</span><span class="op" id="8243815">,</span>&nbsp;<span class="num" id="8243817">10</span><span class="op" id="8243819">,</span>&nbsp;<span class="op" id="8243821">[</span><span class="op" id="8243822">]</span><span class="ident" id="8243823">httpRange</span><span class="op" id="8243832">{</span><span class="op" id="8243833">{</span><span class="num" id="8243834">5</span><span class="op" id="8243835">,</span>&nbsp;<span class="num" id="8243837">5</span><span class="op" id="8243838">}</span><span class="op" id="8243839">}</span><span class="op" id="8243840">}</span><span class="op" id="8243841">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243844">{</span><span class="string" id="8243845">&#34;bytes=0-20&#34;</span><span class="op" id="8243857">,</span>&nbsp;<span class="num" id="8243859">10</span><span class="op" id="8243861">,</span>&nbsp;<span class="op" id="8243863">[</span><span class="op" id="8243864">]</span><span class="ident" id="8243865">httpRange</span><span class="op" id="8243874">{</span><span class="op" id="8243875">{</span><span class="num" id="8243876">0</span><span class="op" id="8243877">,</span>&nbsp;<span class="num" id="8243879">10</span><span class="op" id="8243881">}</span><span class="op" id="8243882">}</span><span class="op" id="8243883">}</span><span class="op" id="8243884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243887">{</span><span class="string" id="8243888">&#34;bytes=15-,0-5&#34;</span><span class="op" id="8243903">,</span>&nbsp;<span class="num" id="8243905">10</span><span class="op" id="8243907">,</span>&nbsp;<span class="ident" id="8243909">nil</span><span class="op" id="8243912">}</span><span class="op" id="8243913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243916">{</span><span class="string" id="8243917">&#34;bytes=1-2,5-&#34;</span><span class="op" id="8243931">,</span>&nbsp;<span class="num" id="8243933">10</span><span class="op" id="8243935">,</span>&nbsp;<span class="op" id="8243937">[</span><span class="op" id="8243938">]</span><span class="ident" id="8243939">httpRange</span><span class="op" id="8243948">{</span><span class="op" id="8243949">{</span><span class="num" id="8243950">1</span><span class="op" id="8243951">,</span>&nbsp;<span class="num" id="8243953">2</span><span class="op" id="8243954">}</span><span class="op" id="8243955">,</span>&nbsp;<span class="op" id="8243957">{</span><span class="num" id="8243958">5</span><span class="op" id="8243959">,</span>&nbsp;<span class="num" id="8243961">5</span><span class="op" id="8243962">}</span><span class="op" id="8243963">}</span><span class="op" id="8243964">}</span><span class="op" id="8243965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8243968">{</span><span class="string" id="8243969">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="8243984">,</span>&nbsp;<span class="num" id="8243986">11</span><span class="op" id="8243988">,</span>&nbsp;<span class="op" id="8243990">[</span><span class="op" id="8243991">]</span><span class="ident" id="8243992">httpRange</span><span class="op" id="8244001">{</span><span class="op" id="8244002">{</span><span class="num" id="8244003">9</span><span class="op" id="8244004">,</span>&nbsp;<span class="num" id="8244006">2</span><span class="op" id="8244007">}</span><span class="op" id="8244008">,</span>&nbsp;<span class="op" id="8244010">{</span><span class="num" id="8244011">7</span><span class="op" id="8244012">,</span>&nbsp;<span class="num" id="8244014">4</span><span class="op" id="8244015">}</span><span class="op" id="8244016">}</span><span class="op" id="8244017">}</span><span class="op" id="8244018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244021">{</span><span class="string" id="8244022">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="8244042">,</span>&nbsp;<span class="num" id="8244044">11</span><span class="op" id="8244046">,</span>&nbsp;<span class="op" id="8244048">[</span><span class="op" id="8244049">]</span><span class="ident" id="8244050">httpRange</span><span class="op" id="8244059">{</span><span class="op" id="8244060">{</span><span class="num" id="8244061">0</span><span class="op" id="8244062">,</span>&nbsp;<span class="num" id="8244064">1</span><span class="op" id="8244065">}</span><span class="op" id="8244066">,</span>&nbsp;<span class="op" id="8244068">{</span><span class="num" id="8244069">2</span><span class="op" id="8244070">,</span>&nbsp;<span class="num" id="8244072">1</span><span class="op" id="8244073">}</span><span class="op" id="8244074">,</span>&nbsp;<span class="op" id="8244076">{</span><span class="num" id="8244077">7</span><span class="op" id="8244078">,</span>&nbsp;<span class="num" id="8244080">4</span><span class="op" id="8244081">}</span><span class="op" id="8244082">}</span><span class="op" id="8244083">}</span><span class="op" id="8244084">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244087">{</span><span class="string" id="8244088">&#34;bytes=-5&#34;</span><span class="op" id="8244098">,</span>&nbsp;<span class="num" id="8244100">10</span><span class="op" id="8244102">,</span>&nbsp;<span class="op" id="8244104">[</span><span class="op" id="8244105">]</span><span class="ident" id="8244106">httpRange</span><span class="op" id="8244115">{</span><span class="op" id="8244116">{</span><span class="num" id="8244117">5</span><span class="op" id="8244118">,</span>&nbsp;<span class="num" id="8244120">5</span><span class="op" id="8244121">}</span><span class="op" id="8244122">}</span><span class="op" id="8244123">}</span><span class="op" id="8244124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244127">{</span><span class="string" id="8244128">&#34;bytes=-15&#34;</span><span class="op" id="8244139">,</span>&nbsp;<span class="num" id="8244141">10</span><span class="op" id="8244143">,</span>&nbsp;<span class="op" id="8244145">[</span><span class="op" id="8244146">]</span><span class="ident" id="8244147">httpRange</span><span class="op" id="8244156">{</span><span class="op" id="8244157">{</span><span class="num" id="8244158">0</span><span class="op" id="8244159">,</span>&nbsp;<span class="num" id="8244161">10</span><span class="op" id="8244163">}</span><span class="op" id="8244164">}</span><span class="op" id="8244165">}</span><span class="op" id="8244166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244169">{</span><span class="string" id="8244170">&#34;bytes=0-499&#34;</span><span class="op" id="8244183">,</span>&nbsp;<span class="num" id="8244185">10000</span><span class="op" id="8244190">,</span>&nbsp;<span class="op" id="8244192">[</span><span class="op" id="8244193">]</span><span class="ident" id="8244194">httpRange</span><span class="op" id="8244203">{</span><span class="op" id="8244204">{</span><span class="num" id="8244205">0</span><span class="op" id="8244206">,</span>&nbsp;<span class="num" id="8244208">500</span><span class="op" id="8244211">}</span><span class="op" id="8244212">}</span><span class="op" id="8244213">}</span><span class="op" id="8244214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244217">{</span><span class="string" id="8244218">&#34;bytes=500-999&#34;</span><span class="op" id="8244233">,</span>&nbsp;<span class="num" id="8244235">10000</span><span class="op" id="8244240">,</span>&nbsp;<span class="op" id="8244242">[</span><span class="op" id="8244243">]</span><span class="ident" id="8244244">httpRange</span><span class="op" id="8244253">{</span><span class="op" id="8244254">{</span><span class="num" id="8244255">500</span><span class="op" id="8244258">,</span>&nbsp;<span class="num" id="8244260">500</span><span class="op" id="8244263">}</span><span class="op" id="8244264">}</span><span class="op" id="8244265">}</span><span class="op" id="8244266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244269">{</span><span class="string" id="8244270">&#34;bytes=-500&#34;</span><span class="op" id="8244282">,</span>&nbsp;<span class="num" id="8244284">10000</span><span class="op" id="8244289">,</span>&nbsp;<span class="op" id="8244291">[</span><span class="op" id="8244292">]</span><span class="ident" id="8244293">httpRange</span><span class="op" id="8244302">{</span><span class="op" id="8244303">{</span><span class="num" id="8244304">9500</span><span class="op" id="8244308">,</span>&nbsp;<span class="num" id="8244310">500</span><span class="op" id="8244313">}</span><span class="op" id="8244314">}</span><span class="op" id="8244315">}</span><span class="op" id="8244316">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244319">{</span><span class="string" id="8244320">&#34;bytes=9500-&#34;</span><span class="op" id="8244333">,</span>&nbsp;<span class="num" id="8244335">10000</span><span class="op" id="8244340">,</span>&nbsp;<span class="op" id="8244342">[</span><span class="op" id="8244343">]</span><span class="ident" id="8244344">httpRange</span><span class="op" id="8244353">{</span><span class="op" id="8244354">{</span><span class="num" id="8244355">9500</span><span class="op" id="8244359">,</span>&nbsp;<span class="num" id="8244361">500</span><span class="op" id="8244364">}</span><span class="op" id="8244365">}</span><span class="op" id="8244366">}</span><span class="op" id="8244367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244370">{</span><span class="string" id="8244371">&#34;bytes=0-0,-1&#34;</span><span class="op" id="8244385">,</span>&nbsp;<span class="num" id="8244387">10000</span><span class="op" id="8244392">,</span>&nbsp;<span class="op" id="8244394">[</span><span class="op" id="8244395">]</span><span class="ident" id="8244396">httpRange</span><span class="op" id="8244405">{</span><span class="op" id="8244406">{</span><span class="num" id="8244407">0</span><span class="op" id="8244408">,</span>&nbsp;<span class="num" id="8244410">1</span><span class="op" id="8244411">}</span><span class="op" id="8244412">,</span>&nbsp;<span class="op" id="8244414">{</span><span class="num" id="8244415">9999</span><span class="op" id="8244419">,</span>&nbsp;<span class="num" id="8244421">1</span><span class="op" id="8244422">}</span><span class="op" id="8244423">}</span><span class="op" id="8244424">}</span><span class="op" id="8244425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244428">{</span><span class="string" id="8244429">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="8244452">,</span>&nbsp;<span class="num" id="8244454">10000</span><span class="op" id="8244459">,</span>&nbsp;<span class="op" id="8244461">[</span><span class="op" id="8244462">]</span><span class="ident" id="8244463">httpRange</span><span class="op" id="8244472">{</span><span class="op" id="8244473">{</span><span class="num" id="8244474">500</span><span class="op" id="8244477">,</span>&nbsp;<span class="num" id="8244479">101</span><span class="op" id="8244482">}</span><span class="op" id="8244483">,</span>&nbsp;<span class="op" id="8244485">{</span><span class="num" id="8244486">601</span><span class="op" id="8244489">,</span>&nbsp;<span class="num" id="8244491">399</span><span class="op" id="8244494">}</span><span class="op" id="8244495">}</span><span class="op" id="8244496">}</span><span class="op" id="8244497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244500">{</span><span class="string" id="8244501">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="8244524">,</span>&nbsp;<span class="num" id="8244526">10000</span><span class="op" id="8244531">,</span>&nbsp;<span class="op" id="8244533">[</span><span class="op" id="8244534">]</span><span class="ident" id="8244535">httpRange</span><span class="op" id="8244544">{</span><span class="op" id="8244545">{</span><span class="num" id="8244546">500</span><span class="op" id="8244549">,</span>&nbsp;<span class="num" id="8244551">201</span><span class="op" id="8244554">}</span><span class="op" id="8244555">,</span>&nbsp;<span class="op" id="8244557">{</span><span class="num" id="8244558">601</span><span class="op" id="8244561">,</span>&nbsp;<span class="num" id="8244563">399</span><span class="op" id="8244566">}</span><span class="op" id="8244567">}</span><span class="op" id="8244568">}</span><span class="op" id="8244569">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8244573">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244598">{</span><span class="string" id="8244599">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="8244636">,</span>&nbsp;<span class="num" id="8244638">11</span><span class="op" id="8244640">,</span>&nbsp;<span class="op" id="8244642">[</span><span class="op" id="8244643">]</span><span class="ident" id="8244644">httpRange</span><span class="op" id="8244653">{</span><span class="op" id="8244654">{</span><span class="num" id="8244655">1</span><span class="op" id="8244656">,</span>&nbsp;<span class="num" id="8244658">2</span><span class="op" id="8244659">}</span><span class="op" id="8244660">,</span>&nbsp;<span class="op" id="8244662">{</span><span class="num" id="8244663">4</span><span class="op" id="8244664">,</span>&nbsp;<span class="num" id="8244666">2</span><span class="op" id="8244667">}</span><span class="op" id="8244668">,</span>&nbsp;<span class="op" id="8244670">{</span><span class="num" id="8244671">7</span><span class="op" id="8244672">,</span>&nbsp;<span class="num" id="8244674">2</span><span class="op" id="8244675">}</span><span class="op" id="8244676">}</span><span class="op" id="8244677">}</span><span class="op" id="8244678">,</span><br>
<span class="lineno"></span><span class="op" id="8244680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8244683">func</span>&nbsp;<span class="ident" id="8244688">TestParseRange</span><span class="op" id="8244702">(</span><span class="ident" id="8244703">t</span>&nbsp;<span class="op" id="8244705">*</span><span class="ident" id="8244706">testing</span><span class="op" id="8244713">.</span><span class="ident" id="8244714">T</span><span class="op" id="8244715">)</span>&nbsp;<span class="op" id="8244717">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8244720">for</span>&nbsp;<span class="ident" id="8244724">_</span><span class="op" id="8244725">,</span>&nbsp;<span class="ident" id="8244727">test</span>&nbsp;<span class="op" id="8244732">:=</span>&nbsp;<span class="keyword" id="8244735">range</span>&nbsp;<span class="ident" id="8244741">ParseRangeTests</span>&nbsp;<span class="op" id="8244757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8244761">r</span>&nbsp;<span class="op" id="8244763">:=</span>&nbsp;<span class="ident" id="8244766">test</span><span class="op" id="8244770">.</span><span class="ident" id="8244771">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8244775">ranges</span><span class="op" id="8244781">,</span>&nbsp;<span class="ident" id="8244783">err</span>&nbsp;<span class="op" id="8244787">:=</span>&nbsp;<span class="ident" id="8244790">parseRange</span><span class="op" id="8244800">(</span><span class="ident" id="8244801">test</span><span class="op" id="8244805">.</span><span class="ident" id="8244806">s</span><span class="op" id="8244807">,</span>&nbsp;<span class="ident" id="8244809">test</span><span class="op" id="8244813">.</span><span class="ident" id="8244814">length</span><span class="op" id="8244820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8244824">if</span>&nbsp;<span class="ident" id="8244827">err</span>&nbsp;<span class="op" id="8244831">!=</span>&nbsp;<span class="ident" id="8244834">nil</span>&nbsp;<span class="op" id="8244838">&amp;&amp;</span>&nbsp;<span class="ident" id="8244841">r</span>&nbsp;<span class="op" id="8244843">!=</span>&nbsp;<span class="ident" id="8244846">nil</span>&nbsp;<span class="op" id="8244850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8244855">t</span><span class="op" id="8244856">.</span><span class="ident" id="8244857">Errorf</span><span class="op" id="8244863">(</span><span class="string" id="8244864">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="8244898">,</span>&nbsp;<span class="ident" id="8244900">test</span><span class="op" id="8244904">.</span><span class="ident" id="8244905">s</span><span class="op" id="8244906">,</span>&nbsp;<span class="ident" id="8244908">err</span><span class="op" id="8244911">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8244915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8244919">if</span>&nbsp;<span class="builtinfunc" id="8244922">len</span><span class="op" id="8244925">(</span><span class="ident" id="8244926">ranges</span><span class="op" id="8244932">)</span>&nbsp;<span class="op" id="8244934">!=</span>&nbsp;<span class="builtinfunc" id="8244937">len</span><span class="op" id="8244940">(</span><span class="ident" id="8244941">r</span><span class="op" id="8244942">)</span>&nbsp;<span class="op" id="8244944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8244949">t</span><span class="op" id="8244950">.</span><span class="ident" id="8244951">Errorf</span><span class="op" id="8244957">(</span><span class="string" id="8244958">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8244993">,</span>&nbsp;<span class="ident" id="8244995">test</span><span class="op" id="8244999">.</span><span class="ident" id="8245000">s</span><span class="op" id="8245001">,</span>&nbsp;<span class="builtinfunc" id="8245003">len</span><span class="op" id="8245006">(</span><span class="ident" id="8245007">ranges</span><span class="op" id="8245013">)</span><span class="op" id="8245014">,</span>&nbsp;<span class="builtinfunc" id="8245016">len</span><span class="op" id="8245019">(</span><span class="ident" id="8245020">r</span><span class="op" id="8245021">)</span><span class="op" id="8245022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8245027">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8245038">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8245042">for</span>&nbsp;<span class="ident" id="8245046">i</span>&nbsp;<span class="op" id="8245048">:=</span>&nbsp;<span class="keyword" id="8245051">range</span>&nbsp;<span class="ident" id="8245057">r</span>&nbsp;<span class="op" id="8245059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8245064">if</span>&nbsp;<span class="ident" id="8245067">ranges</span><span class="op" id="8245073">[</span><span class="ident" id="8245074">i</span><span class="op" id="8245075">]</span><span class="op" id="8245076">.</span><span class="ident" id="8245077">start</span>&nbsp;<span class="op" id="8245083">!=</span>&nbsp;<span class="ident" id="8245086">r</span><span class="op" id="8245087">[</span><span class="ident" id="8245088">i</span><span class="op" id="8245089">]</span><span class="op" id="8245090">.</span><span class="ident" id="8245091">start</span>&nbsp;<span class="op" id="8245097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8245103">t</span><span class="op" id="8245104">.</span><span class="ident" id="8245105">Errorf</span><span class="op" id="8245111">(</span><span class="string" id="8245112">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8245152">,</span>&nbsp;<span class="ident" id="8245154">test</span><span class="op" id="8245158">.</span><span class="ident" id="8245159">s</span><span class="op" id="8245160">,</span>&nbsp;<span class="ident" id="8245162">i</span><span class="op" id="8245163">,</span>&nbsp;<span class="ident" id="8245165">ranges</span><span class="op" id="8245171">[</span><span class="ident" id="8245172">i</span><span class="op" id="8245173">]</span><span class="op" id="8245174">.</span><span class="ident" id="8245175">start</span><span class="op" id="8245180">,</span>&nbsp;<span class="ident" id="8245182">r</span><span class="op" id="8245183">[</span><span class="ident" id="8245184">i</span><span class="op" id="8245185">]</span><span class="op" id="8245186">.</span><span class="ident" id="8245187">start</span><span class="op" id="8245192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8245197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8245202">if</span>&nbsp;<span class="ident" id="8245205">ranges</span><span class="op" id="8245211">[</span><span class="ident" id="8245212">i</span><span class="op" id="8245213">]</span><span class="op" id="8245214">.</span><span class="ident" id="8245215">length</span>&nbsp;<span class="op" id="8245222">!=</span>&nbsp;<span class="ident" id="8245225">r</span><span class="op" id="8245226">[</span><span class="ident" id="8245227">i</span><span class="op" id="8245228">]</span><span class="op" id="8245229">.</span><span class="ident" id="8245230">length</span>&nbsp;<span class="op" id="8245237">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8245243">t</span><span class="op" id="8245244">.</span><span class="ident" id="8245245">Errorf</span><span class="op" id="8245251">(</span><span class="string" id="8245252">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8245293">,</span>&nbsp;<span class="ident" id="8245295">test</span><span class="op" id="8245299">.</span><span class="ident" id="8245300">s</span><span class="op" id="8245301">,</span>&nbsp;<span class="ident" id="8245303">i</span><span class="op" id="8245304">,</span>&nbsp;<span class="ident" id="8245306">ranges</span><span class="op" id="8245312">[</span><span class="ident" id="8245313">i</span><span class="op" id="8245314">]</span><span class="op" id="8245315">.</span><span class="ident" id="8245316">length</span><span class="op" id="8245322">,</span>&nbsp;<span class="ident" id="8245324">r</span><span class="op" id="8245325">[</span><span class="ident" id="8245326">i</span><span class="op" id="8245327">]</span><span class="op" id="8245328">.</span><span class="ident" id="8245329">length</span><span class="op" id="8245335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8245340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8245344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8245347">}</span><br>
<span class="lineno"></span><span class="op" id="8245349">}</span>
</div>
</body>
</html>
