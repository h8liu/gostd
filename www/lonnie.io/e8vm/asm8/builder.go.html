<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5326771">package</span>&nbsp;<span class="ident" id="5326779">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5326785">import</span>&nbsp;<span class="op" id="5326792">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5326795">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5326817">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5326820">//&nbsp;Builder&nbsp;manipulates&nbsp;an&nbsp;AST,&nbsp;checks&nbsp;its&nbsp;syntax,&nbsp;and&nbsp;builds&nbsp;the&nbsp;assembly</span><br>
<span class="lineno"></span><span class="keyword" id="5326894">type</span>&nbsp;<span class="ident" id="5326899">builder</span>&nbsp;<span class="keyword" id="5326907">struct</span>&nbsp;<span class="op" id="5326914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326917">errs</span>&nbsp;&nbsp;<span class="op" id="5326923">*</span><span class="ident" id="5326924"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326795">lex8</a></span><span class="op" id="5326928">.</span><span class="ident" id="5326929">ErrorList</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326940">scope</span>&nbsp;<span class="op" id="5326946">*</span><span class="ident" id="5326947"><a href="/lonnie.io/e8vm/asm8/sym_scope.go.html#5356855">symScope</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326958">curPkg</span>&nbsp;<span class="op" id="5326965">*</span><span class="ident" id="5326966"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5326972">hasError</span>&nbsp;<span class="builtintype" id="5326981">bool</span><br>
<span class="lineno">15</span><span class="op" id="5326986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5326989">func</span>&nbsp;<span class="ident" id="5326994">newBuilder</span><span class="op" id="5327004">(</span><span class="op" id="5327005">)</span>&nbsp;<span class="op" id="5327007">*</span><span class="ident" id="5327008"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326899">builder</a></span>&nbsp;<span class="op" id="5327016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327019">ret</span>&nbsp;<span class="op" id="5327023">:=</span>&nbsp;<span class="builtinfunc" id="5327026">new</span><span class="op" id="5327029">(</span><span class="ident" id="5327030"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326899">builder</a></span><span class="op" id="5327037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327040"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327019">ret</a></span><span class="op" id="5327043">.</span><span class="ident" id="5327044">errs</span>&nbsp;<span class="op" id="5327049">=</span>&nbsp;<span class="ident" id="5327051"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326795">lex8</a></span><span class="op" id="5327055">.</span><span class="ident" id="5327056">NewErrList</span><span class="op" id="5327066">(</span><span class="op" id="5327067">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327070"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327019">ret</a></span><span class="op" id="5327073">.</span><span class="ident" id="5327074">scope</span>&nbsp;<span class="op" id="5327080">=</span>&nbsp;<span class="ident" id="5327082"><a href="/lonnie.io/e8vm/asm8/sym_scope.go.html#5357011">newSymScope</a></span><span class="op" id="5327093">(</span><span class="op" id="5327094">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5327098">return</span>&nbsp;<span class="ident" id="5327105"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327019">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5327109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="5327112">func</span>&nbsp;<span class="op" id="5327117">(</span><span class="ident" id="5327118">b</span>&nbsp;<span class="op" id="5327120">*</span><span class="ident" id="5327121"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326899">builder</a></span><span class="op" id="5327128">)</span>&nbsp;<span class="ident" id="5327130">err</span><span class="op" id="5327133">(</span><span class="ident" id="5327134">p</span>&nbsp;<span class="op" id="5327136">*</span><span class="ident" id="5327137"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326795">lex8</a></span><span class="op" id="5327141">.</span><span class="ident" id="5327142">Pos</span><span class="op" id="5327145">,</span>&nbsp;<span class="ident" id="5327147">f</span>&nbsp;<span class="builtintype" id="5327149">string</span><span class="op" id="5327155">,</span>&nbsp;<span class="ident" id="5327157">args</span>&nbsp;<span class="op" id="5327162">...</span><span class="keyword" id="5327165">interface</span><span class="op" id="5327174">{</span><span class="op" id="5327175">}</span><span class="op" id="5327176">)</span>&nbsp;<span class="op" id="5327178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327181"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327118">b</a></span><span class="op" id="5327182">.</span><span class="ident" id="5327183">hasError</span>&nbsp;<span class="op" id="5327192">=</span>&nbsp;<span class="ident" id="5327194">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327200"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327118">b</a></span><span class="op" id="5327201">.</span><span class="ident" id="5327202">errs</span><span class="op" id="5327206">.</span><span class="ident" id="5327207">Addf</span><span class="op" id="5327211">(</span><span class="ident" id="5327212"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327134">p</a></span><span class="op" id="5327213">,</span>&nbsp;<span class="ident" id="5327215"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327147">f</a></span><span class="op" id="5327216">,</span>&nbsp;<span class="ident" id="5327218"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327157">args</a></span><span class="op" id="5327222">...</span><span class="op" id="5327225">)</span><br>
<span class="lineno"></span><span class="op" id="5327227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5327230">//&nbsp;Errs&nbsp;returns&nbsp;the&nbsp;building&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="5327267">func</span>&nbsp;<span class="op" id="5327272">(</span><span class="ident" id="5327273">b</span>&nbsp;<span class="op" id="5327275">*</span><span class="ident" id="5327276"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326899">builder</a></span><span class="op" id="5327283">)</span>&nbsp;<span class="ident" id="5327285">Errs</span><span class="op" id="5327289">(</span><span class="op" id="5327290">)</span>&nbsp;<span class="op" id="5327292">[</span><span class="op" id="5327293">]</span><span class="op" id="5327294">*</span><span class="ident" id="5327295"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326795">lex8</a></span><span class="op" id="5327299">.</span><span class="ident" id="5327300">Error</span>&nbsp;<span class="op" id="5327306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5327309">return</span>&nbsp;<span class="ident" id="5327316"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327273">b</a></span><span class="op" id="5327317">.</span><span class="ident" id="5327318">errs</span><span class="op" id="5327322">.</span><span class="ident" id="5327323">Errs</span><br>
<span class="lineno"></span><span class="op" id="5327328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="5327331">func</span>&nbsp;<span class="op" id="5327336">(</span><span class="ident" id="5327337">b</span>&nbsp;<span class="op" id="5327339">*</span><span class="ident" id="5327340"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5326899">builder</a></span><span class="op" id="5327347">)</span>&nbsp;<span class="ident" id="5327349">clearErr</span><span class="op" id="5327357">(</span><span class="op" id="5327358">)</span>&nbsp;<span class="op" id="5327360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327363"><a href="/lonnie.io/e8vm/asm8/builder.go.html#5327337">b</a></span><span class="op" id="5327364">.</span><span class="ident" id="5327365">hasError</span>&nbsp;<span class="op" id="5327374">=</span>&nbsp;<span class="ident" id="5327376">false</span><br>
<span class="lineno"></span><span class="op" id="5327382">}</span>
</div>
</body>
</html>
