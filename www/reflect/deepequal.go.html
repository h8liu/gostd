<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2385463">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2385518">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2385572">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2385623">//&nbsp;Deep&nbsp;equality&nbsp;test&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2385661">package</span>&nbsp;<span class="ident" id="2385669">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2385678">//&nbsp;During&nbsp;deepValueEqual,&nbsp;must&nbsp;keep&nbsp;track&nbsp;of&nbsp;checks&nbsp;that&nbsp;are</span><br>
<span class="lineno">10</span><span class="comment" id="2385739">//&nbsp;in&nbsp;progress.&nbsp;&nbsp;The&nbsp;comparison&nbsp;algorithm&nbsp;assumes&nbsp;that&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2385798">//&nbsp;checks&nbsp;in&nbsp;progress&nbsp;are&nbsp;true&nbsp;when&nbsp;it&nbsp;reencounters&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="2385856">//&nbsp;Visited&nbsp;comparisons&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;map&nbsp;indexed&nbsp;by&nbsp;visit.</span><br>
<span class="lineno"></span><span class="keyword" id="2385917">type</span>&nbsp;<span class="ident" id="2385922">visit</span>&nbsp;<span class="keyword" id="2385928">struct</span>&nbsp;<span class="op" id="2385935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385938">a1</span>&nbsp;&nbsp;<span class="builtintype" id="2385942">uintptr</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385951">a2</span>&nbsp;&nbsp;<span class="builtintype" id="2385955">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2385964">typ</span>&nbsp;<span class="ident" id="2385968"><a href="/reflect/type.go.html#2394795">Type</a></span><br>
<span class="lineno"></span><span class="op" id="2385973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2385976">//&nbsp;Tests&nbsp;for&nbsp;deep&nbsp;equality&nbsp;using&nbsp;reflected&nbsp;types.&nbsp;The&nbsp;map&nbsp;argument&nbsp;tracks</span><br>
<span class="lineno">20</span><span class="comment" id="2386050">//&nbsp;comparisons&nbsp;that&nbsp;have&nbsp;already&nbsp;been&nbsp;seen,&nbsp;which&nbsp;allows&nbsp;short&nbsp;circuiting&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="2386127">//&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="2386147">func</span>&nbsp;<span class="ident" id="2386152">deepValueEqual</span><span class="op" id="2386166">(</span><span class="ident" id="2386167">v1</span><span class="op" id="2386169">,</span>&nbsp;<span class="ident" id="2386171">v2</span>&nbsp;<span class="ident" id="2386174"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2386179">,</span>&nbsp;<span class="ident" id="2386181">visited</span>&nbsp;<span class="keyword" id="2386189">map</span><span class="op" id="2386192">[</span><span class="ident" id="2386193"><a href="/reflect/deepequal.go.html#2385922">visit</a></span><span class="op" id="2386198">]</span><span class="builtintype" id="2386199">bool</span><span class="op" id="2386203">,</span>&nbsp;<span class="ident" id="2386205">depth</span>&nbsp;<span class="builtintype" id="2386211">int</span><span class="op" id="2386214">)</span>&nbsp;<span class="builtintype" id="2386216">bool</span>&nbsp;<span class="op" id="2386221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386224">if</span>&nbsp;<span class="op" id="2386227">!</span><span class="ident" id="2386228"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2386230">.</span><span class="ident" id="2386231">IsValid</span><span class="op" id="2386238">(</span><span class="op" id="2386239">)</span>&nbsp;<span class="op" id="2386241">||</span>&nbsp;<span class="op" id="2386244">!</span><span class="ident" id="2386245"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2386247">.</span><span class="ident" id="2386248">IsValid</span><span class="op" id="2386255">(</span><span class="op" id="2386256">)</span>&nbsp;<span class="op" id="2386258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386262">return</span>&nbsp;<span class="ident" id="2386269"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2386271">.</span><span class="ident" id="2386272">IsValid</span><span class="op" id="2386279">(</span><span class="op" id="2386280">)</span>&nbsp;<span class="op" id="2386282">==</span>&nbsp;<span class="ident" id="2386285"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2386287">.</span><span class="ident" id="2386288">IsValid</span><span class="op" id="2386295">(</span><span class="op" id="2386296">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2386299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386302">if</span>&nbsp;<span class="ident" id="2386305"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2386307">.</span><span class="ident" id="2386308">Type</span><span class="op" id="2386312">(</span><span class="op" id="2386313">)</span>&nbsp;<span class="op" id="2386315">!=</span>&nbsp;<span class="ident" id="2386318"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2386320">.</span><span class="ident" id="2386321">Type</span><span class="op" id="2386325">(</span><span class="op" id="2386326">)</span>&nbsp;<span class="op" id="2386328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386332">return</span>&nbsp;<span class="ident" id="2386339">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2386346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2386350">//&nbsp;if&nbsp;depth&nbsp;&gt;&nbsp;10&nbsp;{&nbsp;panic(&#34;deepValueEqual&#34;)&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;for&nbsp;debugging</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386413">hard</span>&nbsp;<span class="op" id="2386418">:=</span>&nbsp;<span class="keyword" id="2386421">func</span><span class="op" id="2386425">(</span><span class="ident" id="2386426">k</span>&nbsp;<span class="ident" id="2386428"><a href="/reflect/type.go.html#2401184">Kind</a></span><span class="op" id="2386432">)</span>&nbsp;<span class="builtintype" id="2386434">bool</span>&nbsp;<span class="op" id="2386439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386443">switch</span>&nbsp;<span class="ident" id="2386450"><a href="/reflect/deepequal.go.html#2386426">k</a></span>&nbsp;<span class="op" id="2386452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386456">case</span>&nbsp;<span class="ident" id="2386461"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2386466">,</span>&nbsp;<span class="ident" id="2386468"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2386471">,</span>&nbsp;<span class="ident" id="2386473"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2386478">,</span>&nbsp;<span class="ident" id="2386480"><a href="/reflect/type.go.html#2401405">Struct</a></span><span class="op" id="2386486">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386491">return</span>&nbsp;<span class="ident" id="2386498">true</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2386505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386509">return</span>&nbsp;<span class="ident" id="2386516">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2386523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386527">if</span>&nbsp;<span class="ident" id="2386530"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2386532">.</span><span class="ident" id="2386533">CanAddr</span><span class="op" id="2386540">(</span><span class="op" id="2386541">)</span>&nbsp;<span class="op" id="2386543">&amp;&amp;</span>&nbsp;<span class="ident" id="2386546"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2386548">.</span><span class="ident" id="2386549">CanAddr</span><span class="op" id="2386556">(</span><span class="op" id="2386557">)</span>&nbsp;<span class="op" id="2386559">&amp;&amp;</span>&nbsp;<span class="ident" id="2386562"><a href="/reflect/deepequal.go.html#2386413">hard</a></span><span class="op" id="2386566">(</span><span class="ident" id="2386567"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2386569">.</span><span class="ident" id="2386570">Kind</span><span class="op" id="2386574">(</span><span class="op" id="2386575">)</span><span class="op" id="2386576">)</span>&nbsp;<span class="op" id="2386578">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386582">addr1</span>&nbsp;<span class="op" id="2386588">:=</span>&nbsp;<span class="ident" id="2386591"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2386593">.</span><span class="ident" id="2386594">UnsafeAddr</span><span class="op" id="2386604">(</span><span class="op" id="2386605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386609">addr2</span>&nbsp;<span class="op" id="2386615">:=</span>&nbsp;<span class="ident" id="2386618"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2386620">.</span><span class="ident" id="2386621">UnsafeAddr</span><span class="op" id="2386631">(</span><span class="op" id="2386632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386636">if</span>&nbsp;<span class="ident" id="2386639"><a href="/reflect/deepequal.go.html#2386582">addr1</a></span>&nbsp;<span class="op" id="2386645">&gt;</span>&nbsp;<span class="ident" id="2386647"><a href="/reflect/deepequal.go.html#2386609">addr2</a></span>&nbsp;<span class="op" id="2386653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2386658">//&nbsp;Canonicalize&nbsp;order&nbsp;to&nbsp;reduce&nbsp;number&nbsp;of&nbsp;entries&nbsp;in&nbsp;visited.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386723"><a href="/reflect/deepequal.go.html#2386582">addr1</a></span><span class="op" id="2386728">,</span>&nbsp;<span class="ident" id="2386730"><a href="/reflect/deepequal.go.html#2386609">addr2</a></span>&nbsp;<span class="op" id="2386736">=</span>&nbsp;<span class="ident" id="2386738"><a href="/reflect/deepequal.go.html#2386609">addr2</a></span><span class="op" id="2386743">,</span>&nbsp;<span class="ident" id="2386745"><a href="/reflect/deepequal.go.html#2386582">addr1</a></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2386753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2386758">//&nbsp;Short&nbsp;circuit&nbsp;if&nbsp;references&nbsp;are&nbsp;identical&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386809">if</span>&nbsp;<span class="ident" id="2386812"><a href="/reflect/deepequal.go.html#2386582">addr1</a></span>&nbsp;<span class="op" id="2386818">==</span>&nbsp;<span class="ident" id="2386821"><a href="/reflect/deepequal.go.html#2386609">addr2</a></span>&nbsp;<span class="op" id="2386827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386832">return</span>&nbsp;<span class="ident" id="2386839">true</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2386846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2386851">//&nbsp;...&nbsp;or&nbsp;already&nbsp;seen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386876">typ</span>&nbsp;<span class="op" id="2386880">:=</span>&nbsp;<span class="ident" id="2386883"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2386885">.</span><span class="ident" id="2386886">Type</span><span class="op" id="2386890">(</span><span class="op" id="2386891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386895">v</span>&nbsp;<span class="op" id="2386897">:=</span>&nbsp;<span class="ident" id="2386900"><a href="/reflect/deepequal.go.html#2385922">visit</a></span><span class="op" id="2386905">{</span><span class="ident" id="2386906"><a href="/reflect/deepequal.go.html#2386582">addr1</a></span><span class="op" id="2386911">,</span>&nbsp;<span class="ident" id="2386913"><a href="/reflect/deepequal.go.html#2386609">addr2</a></span><span class="op" id="2386918">,</span>&nbsp;<span class="ident" id="2386920"><a href="/reflect/deepequal.go.html#2386876">typ</a></span><span class="op" id="2386923">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386927">if</span>&nbsp;<span class="ident" id="2386930"><a href="/reflect/deepequal.go.html#2386181">visited</a></span><span class="op" id="2386937">[</span><span class="ident" id="2386938"><a href="/reflect/deepequal.go.html#2386895">v</a></span><span class="op" id="2386939">]</span>&nbsp;<span class="op" id="2386941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2386946">return</span>&nbsp;<span class="ident" id="2386953">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2386960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2386965">//&nbsp;Remember&nbsp;for&nbsp;later.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2386990"><a href="/reflect/deepequal.go.html#2386181">visited</a></span><span class="op" id="2386997">[</span><span class="ident" id="2386998"><a href="/reflect/deepequal.go.html#2386895">v</a></span><span class="op" id="2386999">]</span>&nbsp;<span class="op" id="2387001">=</span>&nbsp;<span class="ident" id="2387003">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387013">switch</span>&nbsp;<span class="ident" id="2387020"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387022">.</span><span class="ident" id="2387023">Kind</span><span class="op" id="2387027">(</span><span class="op" id="2387028">)</span>&nbsp;<span class="op" id="2387030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387033">case</span>&nbsp;<span class="ident" id="2387038"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2387043">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387047">for</span>&nbsp;<span class="ident" id="2387051">i</span>&nbsp;<span class="op" id="2387053">:=</span>&nbsp;<span class="num" id="2387056">0</span><span class="op" id="2387057">;</span>&nbsp;<span class="ident" id="2387059"><a href="/reflect/deepequal.go.html#2387051">i</a></span>&nbsp;<span class="op" id="2387061">&lt;</span>&nbsp;<span class="ident" id="2387063"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387065">.</span><span class="ident" id="2387066">Len</span><span class="op" id="2387069">(</span><span class="op" id="2387070">)</span><span class="op" id="2387071">;</span>&nbsp;<span class="ident" id="2387073"><a href="/reflect/deepequal.go.html#2387051">i</a></span><span class="op" id="2387074">++</span>&nbsp;<span class="op" id="2387077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387082">if</span>&nbsp;<span class="op" id="2387085">!</span><span class="ident" id="2387086"><a href="/reflect/deepequal.go.html#2386152">deepValueEqual</a></span><span class="op" id="2387100">(</span><span class="ident" id="2387101"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387103">.</span><span class="ident" id="2387104">Index</span><span class="op" id="2387109">(</span><span class="ident" id="2387110"><a href="/reflect/deepequal.go.html#2387051">i</a></span><span class="op" id="2387111">)</span><span class="op" id="2387112">,</span>&nbsp;<span class="ident" id="2387114"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387116">.</span><span class="ident" id="2387117">Index</span><span class="op" id="2387122">(</span><span class="ident" id="2387123"><a href="/reflect/deepequal.go.html#2387051">i</a></span><span class="op" id="2387124">)</span><span class="op" id="2387125">,</span>&nbsp;<span class="ident" id="2387127"><a href="/reflect/deepequal.go.html#2386181">visited</a></span><span class="op" id="2387134">,</span>&nbsp;<span class="ident" id="2387136"><a href="/reflect/deepequal.go.html#2386205">depth</a></span><span class="op" id="2387141">+</span><span class="num" id="2387142">1</span><span class="op" id="2387143">)</span>&nbsp;<span class="op" id="2387145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387151">return</span>&nbsp;<span class="ident" id="2387158">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387171">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387175">return</span>&nbsp;<span class="ident" id="2387182">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387188">case</span>&nbsp;<span class="ident" id="2387193"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2387198">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387202">if</span>&nbsp;<span class="ident" id="2387205"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387207">.</span><span class="ident" id="2387208">IsNil</span><span class="op" id="2387213">(</span><span class="op" id="2387214">)</span>&nbsp;<span class="op" id="2387216">!=</span>&nbsp;<span class="ident" id="2387219"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387221">.</span><span class="ident" id="2387222">IsNil</span><span class="op" id="2387227">(</span><span class="op" id="2387228">)</span>&nbsp;<span class="op" id="2387230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387235">return</span>&nbsp;<span class="ident" id="2387242">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387250">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387254">if</span>&nbsp;<span class="ident" id="2387257"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387259">.</span><span class="ident" id="2387260">Len</span><span class="op" id="2387263">(</span><span class="op" id="2387264">)</span>&nbsp;<span class="op" id="2387266">!=</span>&nbsp;<span class="ident" id="2387269"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387271">.</span><span class="ident" id="2387272">Len</span><span class="op" id="2387275">(</span><span class="op" id="2387276">)</span>&nbsp;<span class="op" id="2387278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387283">return</span>&nbsp;<span class="ident" id="2387290">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387302">if</span>&nbsp;<span class="ident" id="2387305"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387307">.</span><span class="ident" id="2387308">Pointer</span><span class="op" id="2387315">(</span><span class="op" id="2387316">)</span>&nbsp;<span class="op" id="2387318">==</span>&nbsp;<span class="ident" id="2387321"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387323">.</span><span class="ident" id="2387324">Pointer</span><span class="op" id="2387331">(</span><span class="op" id="2387332">)</span>&nbsp;<span class="op" id="2387334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387339">return</span>&nbsp;<span class="ident" id="2387346">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387357">for</span>&nbsp;<span class="ident" id="2387361">i</span>&nbsp;<span class="op" id="2387363">:=</span>&nbsp;<span class="num" id="2387366">0</span><span class="op" id="2387367">;</span>&nbsp;<span class="ident" id="2387369"><a href="/reflect/deepequal.go.html#2387361">i</a></span>&nbsp;<span class="op" id="2387371">&lt;</span>&nbsp;<span class="ident" id="2387373"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387375">.</span><span class="ident" id="2387376">Len</span><span class="op" id="2387379">(</span><span class="op" id="2387380">)</span><span class="op" id="2387381">;</span>&nbsp;<span class="ident" id="2387383"><a href="/reflect/deepequal.go.html#2387361">i</a></span><span class="op" id="2387384">++</span>&nbsp;<span class="op" id="2387387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387392">if</span>&nbsp;<span class="op" id="2387395">!</span><span class="ident" id="2387396"><a href="/reflect/deepequal.go.html#2386152">deepValueEqual</a></span><span class="op" id="2387410">(</span><span class="ident" id="2387411"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387413">.</span><span class="ident" id="2387414">Index</span><span class="op" id="2387419">(</span><span class="ident" id="2387420"><a href="/reflect/deepequal.go.html#2387361">i</a></span><span class="op" id="2387421">)</span><span class="op" id="2387422">,</span>&nbsp;<span class="ident" id="2387424"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387426">.</span><span class="ident" id="2387427">Index</span><span class="op" id="2387432">(</span><span class="ident" id="2387433"><a href="/reflect/deepequal.go.html#2387361">i</a></span><span class="op" id="2387434">)</span><span class="op" id="2387435">,</span>&nbsp;<span class="ident" id="2387437"><a href="/reflect/deepequal.go.html#2386181">visited</a></span><span class="op" id="2387444">,</span>&nbsp;<span class="ident" id="2387446"><a href="/reflect/deepequal.go.html#2386205">depth</a></span><span class="op" id="2387451">+</span><span class="num" id="2387452">1</span><span class="op" id="2387453">)</span>&nbsp;<span class="op" id="2387455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387461">return</span>&nbsp;<span class="ident" id="2387468">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387477">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387485">return</span>&nbsp;<span class="ident" id="2387492">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387498">case</span>&nbsp;<span class="ident" id="2387503"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2387512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387516">if</span>&nbsp;<span class="ident" id="2387519"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387521">.</span><span class="ident" id="2387522">IsNil</span><span class="op" id="2387527">(</span><span class="op" id="2387528">)</span>&nbsp;<span class="op" id="2387530">||</span>&nbsp;<span class="ident" id="2387533"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387535">.</span><span class="ident" id="2387536">IsNil</span><span class="op" id="2387541">(</span><span class="op" id="2387542">)</span>&nbsp;<span class="op" id="2387544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387549">return</span>&nbsp;<span class="ident" id="2387556"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387558">.</span><span class="ident" id="2387559">IsNil</span><span class="op" id="2387564">(</span><span class="op" id="2387565">)</span>&nbsp;<span class="op" id="2387567">==</span>&nbsp;<span class="ident" id="2387570"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387572">.</span><span class="ident" id="2387573">IsNil</span><span class="op" id="2387578">(</span><span class="op" id="2387579">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387587">return</span>&nbsp;<span class="ident" id="2387594"><a href="/reflect/deepequal.go.html#2386152">deepValueEqual</a></span><span class="op" id="2387608">(</span><span class="ident" id="2387609"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387611">.</span><span class="ident" id="2387612">Elem</span><span class="op" id="2387616">(</span><span class="op" id="2387617">)</span><span class="op" id="2387618">,</span>&nbsp;<span class="ident" id="2387620"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387622">.</span><span class="ident" id="2387623">Elem</span><span class="op" id="2387627">(</span><span class="op" id="2387628">)</span><span class="op" id="2387629">,</span>&nbsp;<span class="ident" id="2387631"><a href="/reflect/deepequal.go.html#2386181">visited</a></span><span class="op" id="2387638">,</span>&nbsp;<span class="ident" id="2387640"><a href="/reflect/deepequal.go.html#2386205">depth</a></span><span class="op" id="2387645">+</span><span class="num" id="2387646">1</span><span class="op" id="2387647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387650">case</span>&nbsp;<span class="ident" id="2387655"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2387658">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387662">return</span>&nbsp;<span class="ident" id="2387669"><a href="/reflect/deepequal.go.html#2386152">deepValueEqual</a></span><span class="op" id="2387683">(</span><span class="ident" id="2387684"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387686">.</span><span class="ident" id="2387687">Elem</span><span class="op" id="2387691">(</span><span class="op" id="2387692">)</span><span class="op" id="2387693">,</span>&nbsp;<span class="ident" id="2387695"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387697">.</span><span class="ident" id="2387698">Elem</span><span class="op" id="2387702">(</span><span class="op" id="2387703">)</span><span class="op" id="2387704">,</span>&nbsp;<span class="ident" id="2387706"><a href="/reflect/deepequal.go.html#2386181">visited</a></span><span class="op" id="2387713">,</span>&nbsp;<span class="ident" id="2387715"><a href="/reflect/deepequal.go.html#2386205">depth</a></span><span class="op" id="2387720">+</span><span class="num" id="2387721">1</span><span class="op" id="2387722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387725">case</span>&nbsp;<span class="ident" id="2387730"><a href="/reflect/type.go.html#2401405">Struct</a></span><span class="op" id="2387736">:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387740">for</span>&nbsp;<span class="ident" id="2387744">i</span><span class="op" id="2387745">,</span>&nbsp;<span class="ident" id="2387747">n</span>&nbsp;<span class="op" id="2387749">:=</span>&nbsp;<span class="num" id="2387752">0</span><span class="op" id="2387753">,</span>&nbsp;<span class="ident" id="2387755"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387757">.</span><span class="ident" id="2387758">NumField</span><span class="op" id="2387766">(</span><span class="op" id="2387767">)</span><span class="op" id="2387768">;</span>&nbsp;<span class="ident" id="2387770"><a href="/reflect/deepequal.go.html#2387744">i</a></span>&nbsp;<span class="op" id="2387772">&lt;</span>&nbsp;<span class="ident" id="2387774"><a href="/reflect/deepequal.go.html#2387747">n</a></span><span class="op" id="2387775">;</span>&nbsp;<span class="ident" id="2387777"><a href="/reflect/deepequal.go.html#2387744">i</a></span><span class="op" id="2387778">++</span>&nbsp;<span class="op" id="2387781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387786">if</span>&nbsp;<span class="op" id="2387789">!</span><span class="ident" id="2387790"><a href="/reflect/deepequal.go.html#2386152">deepValueEqual</a></span><span class="op" id="2387804">(</span><span class="ident" id="2387805"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387807">.</span><span class="ident" id="2387808">Field</span><span class="op" id="2387813">(</span><span class="ident" id="2387814"><a href="/reflect/deepequal.go.html#2387744">i</a></span><span class="op" id="2387815">)</span><span class="op" id="2387816">,</span>&nbsp;<span class="ident" id="2387818"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387820">.</span><span class="ident" id="2387821">Field</span><span class="op" id="2387826">(</span><span class="ident" id="2387827"><a href="/reflect/deepequal.go.html#2387744">i</a></span><span class="op" id="2387828">)</span><span class="op" id="2387829">,</span>&nbsp;<span class="ident" id="2387831"><a href="/reflect/deepequal.go.html#2386181">visited</a></span><span class="op" id="2387838">,</span>&nbsp;<span class="ident" id="2387840"><a href="/reflect/deepequal.go.html#2386205">depth</a></span><span class="op" id="2387845">+</span><span class="num" id="2387846">1</span><span class="op" id="2387847">)</span>&nbsp;<span class="op" id="2387849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387855">return</span>&nbsp;<span class="ident" id="2387862">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387875">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387879">return</span>&nbsp;<span class="ident" id="2387886">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387892">case</span>&nbsp;<span class="ident" id="2387897"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2387900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387904">if</span>&nbsp;<span class="ident" id="2387907"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387909">.</span><span class="ident" id="2387910">IsNil</span><span class="op" id="2387915">(</span><span class="op" id="2387916">)</span>&nbsp;<span class="op" id="2387918">!=</span>&nbsp;<span class="ident" id="2387921"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387923">.</span><span class="ident" id="2387924">IsNil</span><span class="op" id="2387929">(</span><span class="op" id="2387930">)</span>&nbsp;<span class="op" id="2387932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387937">return</span>&nbsp;<span class="ident" id="2387944">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2387952">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387956">if</span>&nbsp;<span class="ident" id="2387959"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2387961">.</span><span class="ident" id="2387962">Len</span><span class="op" id="2387965">(</span><span class="op" id="2387966">)</span>&nbsp;<span class="op" id="2387968">!=</span>&nbsp;<span class="ident" id="2387971"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2387973">.</span><span class="ident" id="2387974">Len</span><span class="op" id="2387977">(</span><span class="op" id="2387978">)</span>&nbsp;<span class="op" id="2387980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2387985">return</span>&nbsp;<span class="ident" id="2387992">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2388000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388004">if</span>&nbsp;<span class="ident" id="2388007"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2388009">.</span><span class="ident" id="2388010">Pointer</span><span class="op" id="2388017">(</span><span class="op" id="2388018">)</span>&nbsp;<span class="op" id="2388020">==</span>&nbsp;<span class="ident" id="2388023"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2388025">.</span><span class="ident" id="2388026">Pointer</span><span class="op" id="2388033">(</span><span class="op" id="2388034">)</span>&nbsp;<span class="op" id="2388036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388041">return</span>&nbsp;<span class="ident" id="2388048">true</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2388055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388059">for</span>&nbsp;<span class="ident" id="2388063">_</span><span class="op" id="2388064">,</span>&nbsp;<span class="ident" id="2388066">k</span>&nbsp;<span class="op" id="2388068">:=</span>&nbsp;<span class="keyword" id="2388071">range</span>&nbsp;<span class="ident" id="2388077"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2388079">.</span><span class="ident" id="2388080">MapKeys</span><span class="op" id="2388087">(</span><span class="op" id="2388088">)</span>&nbsp;<span class="op" id="2388090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388095">if</span>&nbsp;<span class="op" id="2388098">!</span><span class="ident" id="2388099"><a href="/reflect/deepequal.go.html#2386152">deepValueEqual</a></span><span class="op" id="2388113">(</span><span class="ident" id="2388114"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2388116">.</span><span class="ident" id="2388117">MapIndex</span><span class="op" id="2388125">(</span><span class="ident" id="2388126"><a href="/reflect/deepequal.go.html#2388066">k</a></span><span class="op" id="2388127">)</span><span class="op" id="2388128">,</span>&nbsp;<span class="ident" id="2388130"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2388132">.</span><span class="ident" id="2388133">MapIndex</span><span class="op" id="2388141">(</span><span class="ident" id="2388142"><a href="/reflect/deepequal.go.html#2388066">k</a></span><span class="op" id="2388143">)</span><span class="op" id="2388144">,</span>&nbsp;<span class="ident" id="2388146"><a href="/reflect/deepequal.go.html#2386181">visited</a></span><span class="op" id="2388153">,</span>&nbsp;<span class="ident" id="2388155"><a href="/reflect/deepequal.go.html#2386205">depth</a></span><span class="op" id="2388160">+</span><span class="num" id="2388161">1</span><span class="op" id="2388162">)</span>&nbsp;<span class="op" id="2388164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388170">return</span>&nbsp;<span class="ident" id="2388177">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2388186">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2388190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388194">return</span>&nbsp;<span class="ident" id="2388201">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388207">case</span>&nbsp;<span class="ident" id="2388212"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2388216">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388220">if</span>&nbsp;<span class="ident" id="2388223"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2388225">.</span><span class="ident" id="2388226">IsNil</span><span class="op" id="2388231">(</span><span class="op" id="2388232">)</span>&nbsp;<span class="op" id="2388234">&amp;&amp;</span>&nbsp;<span class="ident" id="2388237"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2388239">.</span><span class="ident" id="2388240">IsNil</span><span class="op" id="2388245">(</span><span class="op" id="2388246">)</span>&nbsp;<span class="op" id="2388248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388253">return</span>&nbsp;<span class="ident" id="2388260">true</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2388267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2388271">//&nbsp;Can&#39;t&nbsp;do&nbsp;better&nbsp;than&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388303">return</span>&nbsp;<span class="ident" id="2388310">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388317">default</span><span class="op" id="2388324">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2388328">//&nbsp;Normal&nbsp;equality&nbsp;suffices</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388358">return</span>&nbsp;<span class="ident" id="2388365"><a href="/reflect/value.go.html#2472086">valueInterface</a></span><span class="op" id="2388379">(</span><span class="ident" id="2388380"><a href="/reflect/deepequal.go.html#2386167">v1</a></span><span class="op" id="2388382">,</span>&nbsp;<span class="ident" id="2388384">false</span><span class="op" id="2388389">)</span>&nbsp;<span class="op" id="2388391">==</span>&nbsp;<span class="ident" id="2388394"><a href="/reflect/value.go.html#2472086">valueInterface</a></span><span class="op" id="2388408">(</span><span class="ident" id="2388409"><a href="/reflect/deepequal.go.html#2386171">v2</a></span><span class="op" id="2388411">,</span>&nbsp;<span class="ident" id="2388413">false</span><span class="op" id="2388418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2388421">}</span><br>
<span class="lineno"></span><span class="op" id="2388423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2388426">//&nbsp;DeepEqual&nbsp;tests&nbsp;for&nbsp;deep&nbsp;equality.&nbsp;It&nbsp;uses&nbsp;normal&nbsp;==&nbsp;equality&nbsp;where</span><br>
<span class="lineno">130</span><span class="comment" id="2388497">//&nbsp;possible&nbsp;but&nbsp;will&nbsp;scan&nbsp;elements&nbsp;of&nbsp;arrays,&nbsp;slices,&nbsp;maps,&nbsp;and&nbsp;fields&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2388571">//&nbsp;structs.&nbsp;In&nbsp;maps,&nbsp;keys&nbsp;are&nbsp;compared&nbsp;with&nbsp;==&nbsp;but&nbsp;elements&nbsp;use&nbsp;deep</span><br>
<span class="lineno"></span><span class="comment" id="2388640">//&nbsp;equality.&nbsp;DeepEqual&nbsp;correctly&nbsp;handles&nbsp;recursive&nbsp;types.&nbsp;Functions&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2388718">//&nbsp;only&nbsp;if&nbsp;they&nbsp;are&nbsp;both&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2388748">//&nbsp;An&nbsp;empty&nbsp;slice&nbsp;is&nbsp;not&nbsp;equal&nbsp;to&nbsp;a&nbsp;nil&nbsp;slice.</span><br>
<span class="lineno">135</span><span class="keyword" id="2388795">func</span>&nbsp;<span class="ident" id="2388800">DeepEqual</span><span class="op" id="2388809">(</span><span class="ident" id="2388810">a1</span><span class="op" id="2388812">,</span>&nbsp;<span class="ident" id="2388814">a2</span>&nbsp;<span class="keyword" id="2388817">interface</span><span class="op" id="2388826">{</span><span class="op" id="2388827">}</span><span class="op" id="2388828">)</span>&nbsp;<span class="builtintype" id="2388830">bool</span>&nbsp;<span class="op" id="2388835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388838">if</span>&nbsp;<span class="ident" id="2388841"><a href="/reflect/deepequal.go.html#2388810">a1</a></span>&nbsp;<span class="op" id="2388844">==</span>&nbsp;<span class="ident" id="2388847">nil</span>&nbsp;<span class="op" id="2388851">||</span>&nbsp;<span class="ident" id="2388854"><a href="/reflect/deepequal.go.html#2388814">a2</a></span>&nbsp;<span class="op" id="2388857">==</span>&nbsp;<span class="ident" id="2388860">nil</span>&nbsp;<span class="op" id="2388864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388868">return</span>&nbsp;<span class="ident" id="2388875"><a href="/reflect/deepequal.go.html#2388810">a1</a></span>&nbsp;<span class="op" id="2388878">==</span>&nbsp;<span class="ident" id="2388881"><a href="/reflect/deepequal.go.html#2388814">a2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2388885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2388888">v1</span>&nbsp;<span class="op" id="2388891">:=</span>&nbsp;<span class="ident" id="2388894"><a href="/reflect/value.go.html#2505864">ValueOf</a></span><span class="op" id="2388901">(</span><span class="ident" id="2388902"><a href="/reflect/deepequal.go.html#2388810">a1</a></span><span class="op" id="2388904">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2388907">v2</span>&nbsp;<span class="op" id="2388910">:=</span>&nbsp;<span class="ident" id="2388913"><a href="/reflect/value.go.html#2505864">ValueOf</a></span><span class="op" id="2388920">(</span><span class="ident" id="2388921"><a href="/reflect/deepequal.go.html#2388814">a2</a></span><span class="op" id="2388923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388926">if</span>&nbsp;<span class="ident" id="2388929"><a href="/reflect/deepequal.go.html#2388888">v1</a></span><span class="op" id="2388931">.</span><span class="ident" id="2388932">Type</span><span class="op" id="2388936">(</span><span class="op" id="2388937">)</span>&nbsp;<span class="op" id="2388939">!=</span>&nbsp;<span class="ident" id="2388942"><a href="/reflect/deepequal.go.html#2388907">v2</a></span><span class="op" id="2388944">.</span><span class="ident" id="2388945">Type</span><span class="op" id="2388949">(</span><span class="op" id="2388950">)</span>&nbsp;<span class="op" id="2388952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388956">return</span>&nbsp;<span class="ident" id="2388963">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2388970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2388973">return</span>&nbsp;<span class="ident" id="2388980"><a href="/reflect/deepequal.go.html#2386152">deepValueEqual</a></span><span class="op" id="2388994">(</span><span class="ident" id="2388995"><a href="/reflect/deepequal.go.html#2388888">v1</a></span><span class="op" id="2388997">,</span>&nbsp;<span class="ident" id="2388999"><a href="/reflect/deepequal.go.html#2388907">v2</a></span><span class="op" id="2389001">,</span>&nbsp;<span class="builtinfunc" id="2389003">make</span><span class="op" id="2389007">(</span><span class="keyword" id="2389008">map</span><span class="op" id="2389011">[</span><span class="ident" id="2389012"><a href="/reflect/deepequal.go.html#2385922">visit</a></span><span class="op" id="2389017">]</span><span class="builtintype" id="2389018">bool</span><span class="op" id="2389022">)</span><span class="op" id="2389023">,</span>&nbsp;<span class="num" id="2389025">0</span><span class="op" id="2389026">)</span><br>
<span class="lineno">145</span><span class="op" id="2389028">}</span>
</div>
</body>
</html>
