<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html" class="current">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2312537">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2312592">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2312646">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2312697">package</span>&nbsp;<span class="ident" id="2312705">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2312709">import</span>&nbsp;<span class="string" id="2312716">&#34;time&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2312724">//&nbsp;FindProcess&nbsp;looks&nbsp;for&nbsp;a&nbsp;running&nbsp;process&nbsp;by&nbsp;its&nbsp;pid.</span><br>
<span class="lineno">10</span><span class="comment" id="2312779">//&nbsp;The&nbsp;Process&nbsp;it&nbsp;returns&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;obtain&nbsp;information</span><br>
<span class="lineno"></span><span class="comment" id="2312839">//&nbsp;about&nbsp;the&nbsp;underlying&nbsp;operating&nbsp;system&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2312889">func</span>&nbsp;<span class="ident" id="2312894">FindProcess</span><span class="op" id="2312905">(</span><span class="ident" id="2312906">pid</span>&nbsp;<span class="builtintype" id="2312910">int</span><span class="op" id="2312913">)</span>&nbsp;<span class="op" id="2312915">(</span><span class="ident" id="2312916">p</span>&nbsp;<span class="op" id="2312918">*</span><span class="ident" id="2312919">Process</span><span class="op" id="2312926">,</span>&nbsp;<span class="ident" id="2312928">err</span>&nbsp;<span class="builtintype" id="2312932">error</span><span class="op" id="2312937">)</span>&nbsp;<span class="op" id="2312939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2312942">return</span>&nbsp;<span class="ident" id="2312949">findProcess</span><span class="op" id="2312960">(</span><span class="ident" id="2312961">pid</span><span class="op" id="2312964">)</span><br>
<span class="lineno"></span><span class="op" id="2312966">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2312969">//&nbsp;StartProcess&nbsp;starts&nbsp;a&nbsp;new&nbsp;process&nbsp;with&nbsp;the&nbsp;program,&nbsp;arguments&nbsp;and&nbsp;attributes</span><br>
<span class="lineno"></span><span class="comment" id="2313049">//&nbsp;specified&nbsp;by&nbsp;name,&nbsp;argv&nbsp;and&nbsp;attr.</span><br>
<span class="lineno"></span><span class="comment" id="2313086">//</span><br>
<span class="lineno"></span><span class="comment" id="2313089">//&nbsp;StartProcess&nbsp;is&nbsp;a&nbsp;low-level&nbsp;interface.&nbsp;The&nbsp;os/exec&nbsp;package&nbsp;provides</span><br>
<span class="lineno">20</span><span class="comment" id="2313160">//&nbsp;higher-level&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="comment" id="2313188">//</span><br>
<span class="lineno"></span><span class="comment" id="2313191">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2313247">func</span>&nbsp;<span class="ident" id="2313252">StartProcess</span><span class="op" id="2313264">(</span><span class="ident" id="2313265">name</span>&nbsp;<span class="builtintype" id="2313270">string</span><span class="op" id="2313276">,</span>&nbsp;<span class="ident" id="2313278">argv</span>&nbsp;<span class="op" id="2313283">[</span><span class="op" id="2313284">]</span><span class="builtintype" id="2313285">string</span><span class="op" id="2313291">,</span>&nbsp;<span class="ident" id="2313293">attr</span>&nbsp;<span class="op" id="2313298">*</span><span class="ident" id="2313299">ProcAttr</span><span class="op" id="2313307">)</span>&nbsp;<span class="op" id="2313309">(</span><span class="op" id="2313310">*</span><span class="ident" id="2313311">Process</span><span class="op" id="2313318">,</span>&nbsp;<span class="builtintype" id="2313320">error</span><span class="op" id="2313325">)</span>&nbsp;<span class="op" id="2313327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2313330">return</span>&nbsp;<span class="ident" id="2313337">startProcess</span><span class="op" id="2313349">(</span><span class="ident" id="2313350">name</span><span class="op" id="2313354">,</span>&nbsp;<span class="ident" id="2313356">argv</span><span class="op" id="2313360">,</span>&nbsp;<span class="ident" id="2313362">attr</span><span class="op" id="2313366">)</span><br>
<span class="lineno">25</span><span class="op" id="2313368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2313371">//&nbsp;Release&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process&nbsp;p,</span><br>
<span class="lineno"></span><span class="comment" id="2313436">//&nbsp;rendering&nbsp;it&nbsp;unusable&nbsp;in&nbsp;the&nbsp;future.</span><br>
<span class="lineno"></span><span class="comment" id="2313476">//&nbsp;Release&nbsp;only&nbsp;needs&nbsp;to&nbsp;be&nbsp;called&nbsp;if&nbsp;Wait&nbsp;is&nbsp;not.</span><br>
<span class="lineno">30</span><span class="keyword" id="2313527">func</span>&nbsp;<span class="op" id="2313532">(</span><span class="ident" id="2313533">p</span>&nbsp;<span class="op" id="2313535">*</span><span class="ident" id="2313536">Process</span><span class="op" id="2313543">)</span>&nbsp;<span class="ident" id="2313545">Release</span><span class="op" id="2313552">(</span><span class="op" id="2313553">)</span>&nbsp;<span class="builtintype" id="2313555">error</span>&nbsp;<span class="op" id="2313561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2313564">return</span>&nbsp;<span class="ident" id="2313571">p</span><span class="op" id="2313572">.</span><span class="ident" id="2313573">release</span><span class="op" id="2313580">(</span><span class="op" id="2313581">)</span><br>
<span class="lineno"></span><span class="op" id="2313583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2313586">//&nbsp;Kill&nbsp;causes&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit&nbsp;immediately.</span><br>
<span class="lineno">35</span><span class="keyword" id="2313634">func</span>&nbsp;<span class="op" id="2313639">(</span><span class="ident" id="2313640">p</span>&nbsp;<span class="op" id="2313642">*</span><span class="ident" id="2313643">Process</span><span class="op" id="2313650">)</span>&nbsp;<span class="ident" id="2313652">Kill</span><span class="op" id="2313656">(</span><span class="op" id="2313657">)</span>&nbsp;<span class="builtintype" id="2313659">error</span>&nbsp;<span class="op" id="2313665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2313668">return</span>&nbsp;<span class="ident" id="2313675">p</span><span class="op" id="2313676">.</span><span class="ident" id="2313677">kill</span><span class="op" id="2313681">(</span><span class="op" id="2313682">)</span><br>
<span class="lineno"></span><span class="op" id="2313684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2313687">//&nbsp;Wait&nbsp;waits&nbsp;for&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit,&nbsp;and&nbsp;then&nbsp;returns&nbsp;a</span><br>
<span class="lineno">40</span><span class="comment" id="2313745">//&nbsp;ProcessState&nbsp;describing&nbsp;its&nbsp;status&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2313805">//&nbsp;Wait&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2313865">//&nbsp;On&nbsp;most&nbsp;operating&nbsp;systems,&nbsp;the&nbsp;Process&nbsp;must&nbsp;be&nbsp;a&nbsp;child</span><br>
<span class="lineno"></span><span class="comment" id="2313923">//&nbsp;of&nbsp;the&nbsp;current&nbsp;process&nbsp;or&nbsp;an&nbsp;error&nbsp;will&nbsp;be&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="2313979">func</span>&nbsp;<span class="op" id="2313984">(</span><span class="ident" id="2313985">p</span>&nbsp;<span class="op" id="2313987">*</span><span class="ident" id="2313988">Process</span><span class="op" id="2313995">)</span>&nbsp;<span class="ident" id="2313997">Wait</span><span class="op" id="2314001">(</span><span class="op" id="2314002">)</span>&nbsp;<span class="op" id="2314004">(</span><span class="op" id="2314005">*</span><span class="ident" id="2314006">ProcessState</span><span class="op" id="2314018">,</span>&nbsp;<span class="builtintype" id="2314020">error</span><span class="op" id="2314025">)</span>&nbsp;<span class="op" id="2314027">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2314030">return</span>&nbsp;<span class="ident" id="2314037">p</span><span class="op" id="2314038">.</span><span class="ident" id="2314039">wait</span><span class="op" id="2314043">(</span><span class="op" id="2314044">)</span><br>
<span class="lineno"></span><span class="op" id="2314046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2314049">//&nbsp;Signal&nbsp;sends&nbsp;a&nbsp;signal&nbsp;to&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2314090">//&nbsp;Sending&nbsp;Interrupt&nbsp;on&nbsp;Windows&nbsp;is&nbsp;not&nbsp;implemented.</span><br>
<span class="lineno">50</span><span class="keyword" id="2314142">func</span>&nbsp;<span class="op" id="2314147">(</span><span class="ident" id="2314148">p</span>&nbsp;<span class="op" id="2314150">*</span><span class="ident" id="2314151">Process</span><span class="op" id="2314158">)</span>&nbsp;<span class="ident" id="2314160">Signal</span><span class="op" id="2314166">(</span><span class="ident" id="2314167">sig</span>&nbsp;<span class="ident" id="2314171">Signal</span><span class="op" id="2314177">)</span>&nbsp;<span class="builtintype" id="2314179">error</span>&nbsp;<span class="op" id="2314185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2314188">return</span>&nbsp;<span class="ident" id="2314195">p</span><span class="op" id="2314196">.</span><span class="ident" id="2314197">signal</span><span class="op" id="2314203">(</span><span class="ident" id="2314204">sig</span><span class="op" id="2314207">)</span><br>
<span class="lineno"></span><span class="op" id="2314209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2314212">//&nbsp;UserTime&nbsp;returns&nbsp;the&nbsp;user&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">55</span><span class="keyword" id="2314290">func</span>&nbsp;<span class="op" id="2314295">(</span><span class="ident" id="2314296">p</span>&nbsp;<span class="op" id="2314298">*</span><span class="ident" id="2314299">ProcessState</span><span class="op" id="2314311">)</span>&nbsp;<span class="ident" id="2314313">UserTime</span><span class="op" id="2314321">(</span><span class="op" id="2314322">)</span>&nbsp;<span class="ident" id="2314324">time</span><span class="op" id="2314328">.</span><span class="ident" id="2314329">Duration</span>&nbsp;<span class="op" id="2314338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2314341">return</span>&nbsp;<span class="ident" id="2314348">p</span><span class="op" id="2314349">.</span><span class="ident" id="2314350">userTime</span><span class="op" id="2314358">(</span><span class="op" id="2314359">)</span><br>
<span class="lineno"></span><span class="op" id="2314361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2314364">//&nbsp;SystemTime&nbsp;returns&nbsp;the&nbsp;system&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">60</span><span class="keyword" id="2314446">func</span>&nbsp;<span class="op" id="2314451">(</span><span class="ident" id="2314452">p</span>&nbsp;<span class="op" id="2314454">*</span><span class="ident" id="2314455">ProcessState</span><span class="op" id="2314467">)</span>&nbsp;<span class="ident" id="2314469">SystemTime</span><span class="op" id="2314479">(</span><span class="op" id="2314480">)</span>&nbsp;<span class="ident" id="2314482">time</span><span class="op" id="2314486">.</span><span class="ident" id="2314487">Duration</span>&nbsp;<span class="op" id="2314496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2314499">return</span>&nbsp;<span class="ident" id="2314506">p</span><span class="op" id="2314507">.</span><span class="ident" id="2314508">systemTime</span><span class="op" id="2314518">(</span><span class="op" id="2314519">)</span><br>
<span class="lineno"></span><span class="op" id="2314521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2314524">//&nbsp;Exited&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;has&nbsp;exited.</span><br>
<span class="lineno">65</span><span class="keyword" id="2314574">func</span>&nbsp;<span class="op" id="2314579">(</span><span class="ident" id="2314580">p</span>&nbsp;<span class="op" id="2314582">*</span><span class="ident" id="2314583">ProcessState</span><span class="op" id="2314595">)</span>&nbsp;<span class="ident" id="2314597">Exited</span><span class="op" id="2314603">(</span><span class="op" id="2314604">)</span>&nbsp;<span class="builtintype" id="2314606">bool</span>&nbsp;<span class="op" id="2314611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2314614">return</span>&nbsp;<span class="ident" id="2314621">p</span><span class="op" id="2314622">.</span><span class="ident" id="2314623">exited</span><span class="op" id="2314629">(</span><span class="op" id="2314630">)</span><br>
<span class="lineno"></span><span class="op" id="2314632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2314635">//&nbsp;Success&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;exited&nbsp;successfully,</span><br>
<span class="lineno">70</span><span class="comment" id="2314695">//&nbsp;such&nbsp;as&nbsp;with&nbsp;exit&nbsp;status&nbsp;0&nbsp;on&nbsp;Unix.</span><br>
<span class="lineno"></span><span class="keyword" id="2314734">func</span>&nbsp;<span class="op" id="2314739">(</span><span class="ident" id="2314740">p</span>&nbsp;<span class="op" id="2314742">*</span><span class="ident" id="2314743">ProcessState</span><span class="op" id="2314755">)</span>&nbsp;<span class="ident" id="2314757">Success</span><span class="op" id="2314764">(</span><span class="op" id="2314765">)</span>&nbsp;<span class="builtintype" id="2314767">bool</span>&nbsp;<span class="op" id="2314772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2314775">return</span>&nbsp;<span class="ident" id="2314782">p</span><span class="op" id="2314783">.</span><span class="ident" id="2314784">success</span><span class="op" id="2314791">(</span><span class="op" id="2314792">)</span><br>
<span class="lineno"></span><span class="op" id="2314794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2314797">//&nbsp;Sys&nbsp;returns&nbsp;system-dependent&nbsp;exit&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2314852">//&nbsp;the&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2314910">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;syscall.WaitStatus&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno"></span><span class="keyword" id="2314979">func</span>&nbsp;<span class="op" id="2314984">(</span><span class="ident" id="2314985">p</span>&nbsp;<span class="op" id="2314987">*</span><span class="ident" id="2314988">ProcessState</span><span class="op" id="2315000">)</span>&nbsp;<span class="ident" id="2315002">Sys</span><span class="op" id="2315005">(</span><span class="op" id="2315006">)</span>&nbsp;<span class="keyword" id="2315008">interface</span><span class="op" id="2315017">{</span><span class="op" id="2315018">}</span>&nbsp;<span class="op" id="2315020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2315023">return</span>&nbsp;<span class="ident" id="2315030">p</span><span class="op" id="2315031">.</span><span class="ident" id="2315032">sys</span><span class="op" id="2315035">(</span><span class="op" id="2315036">)</span><br>
<span class="lineno">80</span><span class="op" id="2315038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2315041">//&nbsp;SysUsage&nbsp;returns&nbsp;system-dependent&nbsp;resource&nbsp;usage&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2315111">//&nbsp;the&nbsp;exited&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2315176">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;*syscall.Rusage&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno">85</span><span class="comment" id="2315242">//&nbsp;(On&nbsp;Unix,&nbsp;*syscall.Rusage&nbsp;matches&nbsp;struct&nbsp;rusage&nbsp;as&nbsp;defined&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2315311">//&nbsp;getrusage(2)&nbsp;manual&nbsp;page.)</span><br>
<span class="lineno"></span><span class="keyword" id="2315341">func</span>&nbsp;<span class="op" id="2315346">(</span><span class="ident" id="2315347">p</span>&nbsp;<span class="op" id="2315349">*</span><span class="ident" id="2315350">ProcessState</span><span class="op" id="2315362">)</span>&nbsp;<span class="ident" id="2315364">SysUsage</span><span class="op" id="2315372">(</span><span class="op" id="2315373">)</span>&nbsp;<span class="keyword" id="2315375">interface</span><span class="op" id="2315384">{</span><span class="op" id="2315385">}</span>&nbsp;<span class="op" id="2315387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2315390">return</span>&nbsp;<span class="ident" id="2315397">p</span><span class="op" id="2315398">.</span><span class="ident" id="2315399">sysUsage</span><span class="op" id="2315407">(</span><span class="op" id="2315408">)</span><br>
<span class="lineno"></span><span class="op" id="2315410">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2315413">//&nbsp;Hostname&nbsp;returns&nbsp;the&nbsp;host&nbsp;name&nbsp;reported&nbsp;by&nbsp;the&nbsp;kernel.</span><br>
<span class="lineno"></span><span class="keyword" id="2315471">func</span>&nbsp;<span class="ident" id="2315476">Hostname</span><span class="op" id="2315484">(</span><span class="op" id="2315485">)</span>&nbsp;<span class="op" id="2315487">(</span><span class="ident" id="2315488">name</span>&nbsp;<span class="builtintype" id="2315493">string</span><span class="op" id="2315499">,</span>&nbsp;<span class="ident" id="2315501">err</span>&nbsp;<span class="builtintype" id="2315505">error</span><span class="op" id="2315510">)</span>&nbsp;<span class="op" id="2315512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2315515">return</span>&nbsp;<span class="ident" id="2315522">hostname</span><span class="op" id="2315530">(</span><span class="op" id="2315531">)</span><br>
<span class="lineno"></span><span class="op" id="2315533">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="2315536">//&nbsp;Readdir&nbsp;reads&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;directory&nbsp;associated&nbsp;with&nbsp;file&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2315608">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;up&nbsp;to&nbsp;n&nbsp;FileInfo&nbsp;values,&nbsp;as&nbsp;would&nbsp;be&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="2315676">//&nbsp;by&nbsp;Lstat,&nbsp;in&nbsp;directory&nbsp;order.&nbsp;Subsequent&nbsp;calls&nbsp;on&nbsp;the&nbsp;same&nbsp;file&nbsp;will&nbsp;yield</span><br>
<span class="lineno"></span><span class="comment" id="2315754">//&nbsp;further&nbsp;FileInfos.</span><br>
<span class="lineno">100</span><span class="comment" id="2315776">//</span><br>
<span class="lineno"></span><span class="comment" id="2315779">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;FileInfo&nbsp;structures.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2315856">//&nbsp;Readdir&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2315922">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2315989">//</span><br>
<span class="lineno">105</span><span class="comment" id="2315992">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;all&nbsp;the&nbsp;FileInfo&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2316061">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdir&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2316125">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2316193">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2316255">//&nbsp;directory,&nbsp;Readdir&nbsp;returns&nbsp;the&nbsp;FileInfo&nbsp;read&nbsp;until&nbsp;that&nbsp;point</span><br>
<span class="lineno">110</span><span class="comment" id="2316320">//&nbsp;and&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2316344">func</span>&nbsp;<span class="op" id="2316349">(</span><span class="ident" id="2316350">f</span>&nbsp;<span class="op" id="2316352">*</span><span class="ident" id="2316353">File</span><span class="op" id="2316357">)</span>&nbsp;<span class="ident" id="2316359">Readdir</span><span class="op" id="2316366">(</span><span class="ident" id="2316367">n</span>&nbsp;<span class="builtintype" id="2316369">int</span><span class="op" id="2316372">)</span>&nbsp;<span class="op" id="2316374">(</span><span class="ident" id="2316375">fi</span>&nbsp;<span class="op" id="2316378">[</span><span class="op" id="2316379">]</span><span class="ident" id="2316380">FileInfo</span><span class="op" id="2316388">,</span>&nbsp;<span class="ident" id="2316390">err</span>&nbsp;<span class="builtintype" id="2316394">error</span><span class="op" id="2316399">)</span>&nbsp;<span class="op" id="2316401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2316404">if</span>&nbsp;<span class="ident" id="2316407">f</span>&nbsp;<span class="op" id="2316409">==</span>&nbsp;<span class="ident" id="2316412">nil</span>&nbsp;<span class="op" id="2316416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2316420">return</span>&nbsp;<span class="ident" id="2316427">nil</span><span class="op" id="2316430">,</span>&nbsp;<span class="ident" id="2316432">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2316444">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2316447">return</span>&nbsp;<span class="ident" id="2316454">f</span><span class="op" id="2316455">.</span><span class="ident" id="2316456">readdir</span><span class="op" id="2316463">(</span><span class="ident" id="2316464">n</span><span class="op" id="2316465">)</span><br>
<span class="lineno"></span><span class="op" id="2316467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2316470">//&nbsp;Readdirnames&nbsp;reads&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="2316543">//</span><br>
<span class="lineno">120</span><span class="comment" id="2316546">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;names.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2316614">//&nbsp;Readdirnames&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2316685">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2316752">//</span><br>
<span class="lineno"></span><span class="comment" id="2316755">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;all&nbsp;the&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno">125</span><span class="comment" id="2316826">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdirnames&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2316895">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2316963">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2317025">//&nbsp;directory,&nbsp;Readdirnames&nbsp;returns&nbsp;the&nbsp;names&nbsp;read&nbsp;until&nbsp;that&nbsp;point&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2317096">//&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno">130</span><span class="keyword" id="2317116">func</span>&nbsp;<span class="op" id="2317121">(</span><span class="ident" id="2317122">f</span>&nbsp;<span class="op" id="2317124">*</span><span class="ident" id="2317125">File</span><span class="op" id="2317129">)</span>&nbsp;<span class="ident" id="2317131">Readdirnames</span><span class="op" id="2317143">(</span><span class="ident" id="2317144">n</span>&nbsp;<span class="builtintype" id="2317146">int</span><span class="op" id="2317149">)</span>&nbsp;<span class="op" id="2317151">(</span><span class="ident" id="2317152">names</span>&nbsp;<span class="op" id="2317158">[</span><span class="op" id="2317159">]</span><span class="builtintype" id="2317160">string</span><span class="op" id="2317166">,</span>&nbsp;<span class="ident" id="2317168">err</span>&nbsp;<span class="builtintype" id="2317172">error</span><span class="op" id="2317177">)</span>&nbsp;<span class="op" id="2317179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2317182">if</span>&nbsp;<span class="ident" id="2317185">f</span>&nbsp;<span class="op" id="2317187">==</span>&nbsp;<span class="ident" id="2317190">nil</span>&nbsp;<span class="op" id="2317194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2317198">return</span>&nbsp;<span class="ident" id="2317205">nil</span><span class="op" id="2317208">,</span>&nbsp;<span class="ident" id="2317210">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2317222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2317225">return</span>&nbsp;<span class="ident" id="2317232">f</span><span class="op" id="2317233">.</span><span class="ident" id="2317234">readdirnames</span><span class="op" id="2317246">(</span><span class="ident" id="2317247">n</span><span class="op" id="2317248">)</span><br>
<span class="lineno">135</span><span class="op" id="2317250">}</span>
</div>
</body>
</html>
