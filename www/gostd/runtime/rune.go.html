<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html" class="current">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1675986">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;authors&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;Rob&nbsp;Pike&nbsp;and&nbsp;Ken&nbsp;Thompson.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;by&nbsp;Lucent&nbsp;Technologies.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<span class="lineno">5</span>&nbsp;*&nbsp;Permission&nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute&nbsp;this&nbsp;software&nbsp;for&nbsp;any<br>
<span class="lineno"></span>&nbsp;*&nbsp;purpose&nbsp;without&nbsp;fee&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;provided&nbsp;that&nbsp;this&nbsp;entire&nbsp;notice<br>
<span class="lineno"></span>&nbsp;*&nbsp;is&nbsp;included&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;any&nbsp;software&nbsp;which&nbsp;is&nbsp;or&nbsp;includes&nbsp;a&nbsp;copy<br>
<span class="lineno"></span>&nbsp;*&nbsp;or&nbsp;modification&nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;the&nbsp;supporting<br>
<span class="lineno"></span>&nbsp;*&nbsp;documentation&nbsp;for&nbsp;such&nbsp;software.<br>
<span class="lineno">10</span>&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;BEING&nbsp;PROVIDED&nbsp;&#34;AS&nbsp;IS&#34;,&nbsp;WITHOUT&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED<br>
<span class="lineno"></span>&nbsp;*&nbsp;WARRANTY.&nbsp;&nbsp;IN&nbsp;PARTICULAR,&nbsp;NEITHER&nbsp;THE&nbsp;AUTHORS&nbsp;NOR&nbsp;LUCENT&nbsp;TECHNOLOGIES&nbsp;MAKE&nbsp;ANY<br>
<span class="lineno"></span>&nbsp;*&nbsp;REPRESENTATION&nbsp;OR&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND&nbsp;CONCERNING&nbsp;THE&nbsp;MERCHANTABILITY<br>
<span class="lineno"></span>&nbsp;*&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE&nbsp;OR&nbsp;ITS&nbsp;FITNESS&nbsp;FOR&nbsp;ANY&nbsp;PARTICULAR&nbsp;PURPOSE.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1676815">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;code&nbsp;is&nbsp;copied,&nbsp;with&nbsp;slight&nbsp;editing&nbsp;due&nbsp;to&nbsp;type&nbsp;differences,<br>
<span class="lineno"></span>&nbsp;*&nbsp;from&nbsp;a&nbsp;subset&nbsp;of&nbsp;../lib9/utf/rune.c<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1676931">package</span>&nbsp;<span class="ident" id="1676939">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1676948">const</span>&nbsp;<span class="op" id="1676954">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676957">bit1</span>&nbsp;<span class="op" id="1676962">=</span>&nbsp;<span class="num" id="1676964">7</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676967">bitx</span>&nbsp;<span class="op" id="1676972">=</span>&nbsp;<span class="num" id="1676974">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676977">bit2</span>&nbsp;<span class="op" id="1676982">=</span>&nbsp;<span class="num" id="1676984">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676987">bit3</span>&nbsp;<span class="op" id="1676992">=</span>&nbsp;<span class="num" id="1676994">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676997">bit4</span>&nbsp;<span class="op" id="1677002">=</span>&nbsp;<span class="num" id="1677004">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677007">bit5</span>&nbsp;<span class="op" id="1677012">=</span>&nbsp;<span class="num" id="1677014">2</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677018">t1</span>&nbsp;<span class="op" id="1677021">=</span>&nbsp;<span class="op" id="1677023">(</span><span class="op" id="1677024">(</span><span class="num" id="1677025">1</span>&nbsp;<span class="op" id="1677027">&lt;&lt;</span>&nbsp;<span class="op" id="1677030">(</span><span class="ident" id="1677031">bit1</span>&nbsp;<span class="op" id="1677036">+</span>&nbsp;<span class="num" id="1677038">1</span><span class="op" id="1677039">)</span><span class="op" id="1677040">)</span>&nbsp;<span class="op" id="1677042">-</span>&nbsp;<span class="num" id="1677044">1</span><span class="op" id="1677045">)</span>&nbsp;<span class="op" id="1677047">^</span>&nbsp;<span class="num" id="1677049">0xFF</span>&nbsp;<span class="comment" id="1677054">/*&nbsp;0000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677071">tx</span>&nbsp;<span class="op" id="1677074">=</span>&nbsp;<span class="op" id="1677076">(</span><span class="op" id="1677077">(</span><span class="num" id="1677078">1</span>&nbsp;<span class="op" id="1677080">&lt;&lt;</span>&nbsp;<span class="op" id="1677083">(</span><span class="ident" id="1677084">bitx</span>&nbsp;<span class="op" id="1677089">+</span>&nbsp;<span class="num" id="1677091">1</span><span class="op" id="1677092">)</span><span class="op" id="1677093">)</span>&nbsp;<span class="op" id="1677095">-</span>&nbsp;<span class="num" id="1677097">1</span><span class="op" id="1677098">)</span>&nbsp;<span class="op" id="1677100">^</span>&nbsp;<span class="num" id="1677102">0xFF</span>&nbsp;<span class="comment" id="1677107">/*&nbsp;1000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677124">t2</span>&nbsp;<span class="op" id="1677127">=</span>&nbsp;<span class="op" id="1677129">(</span><span class="op" id="1677130">(</span><span class="num" id="1677131">1</span>&nbsp;<span class="op" id="1677133">&lt;&lt;</span>&nbsp;<span class="op" id="1677136">(</span><span class="ident" id="1677137">bit2</span>&nbsp;<span class="op" id="1677142">+</span>&nbsp;<span class="num" id="1677144">1</span><span class="op" id="1677145">)</span><span class="op" id="1677146">)</span>&nbsp;<span class="op" id="1677148">-</span>&nbsp;<span class="num" id="1677150">1</span><span class="op" id="1677151">)</span>&nbsp;<span class="op" id="1677153">^</span>&nbsp;<span class="num" id="1677155">0xFF</span>&nbsp;<span class="comment" id="1677160">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677177">t3</span>&nbsp;<span class="op" id="1677180">=</span>&nbsp;<span class="op" id="1677182">(</span><span class="op" id="1677183">(</span><span class="num" id="1677184">1</span>&nbsp;<span class="op" id="1677186">&lt;&lt;</span>&nbsp;<span class="op" id="1677189">(</span><span class="ident" id="1677190">bit3</span>&nbsp;<span class="op" id="1677195">+</span>&nbsp;<span class="num" id="1677197">1</span><span class="op" id="1677198">)</span><span class="op" id="1677199">)</span>&nbsp;<span class="op" id="1677201">-</span>&nbsp;<span class="num" id="1677203">1</span><span class="op" id="1677204">)</span>&nbsp;<span class="op" id="1677206">^</span>&nbsp;<span class="num" id="1677208">0xFF</span>&nbsp;<span class="comment" id="1677213">/*&nbsp;1110&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677230">t4</span>&nbsp;<span class="op" id="1677233">=</span>&nbsp;<span class="op" id="1677235">(</span><span class="op" id="1677236">(</span><span class="num" id="1677237">1</span>&nbsp;<span class="op" id="1677239">&lt;&lt;</span>&nbsp;<span class="op" id="1677242">(</span><span class="ident" id="1677243">bit4</span>&nbsp;<span class="op" id="1677248">+</span>&nbsp;<span class="num" id="1677250">1</span><span class="op" id="1677251">)</span><span class="op" id="1677252">)</span>&nbsp;<span class="op" id="1677254">-</span>&nbsp;<span class="num" id="1677256">1</span><span class="op" id="1677257">)</span>&nbsp;<span class="op" id="1677259">^</span>&nbsp;<span class="num" id="1677261">0xFF</span>&nbsp;<span class="comment" id="1677266">/*&nbsp;1111&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677283">t5</span>&nbsp;<span class="op" id="1677286">=</span>&nbsp;<span class="op" id="1677288">(</span><span class="op" id="1677289">(</span><span class="num" id="1677290">1</span>&nbsp;<span class="op" id="1677292">&lt;&lt;</span>&nbsp;<span class="op" id="1677295">(</span><span class="ident" id="1677296">bit5</span>&nbsp;<span class="op" id="1677301">+</span>&nbsp;<span class="num" id="1677303">1</span><span class="op" id="1677304">)</span><span class="op" id="1677305">)</span>&nbsp;<span class="op" id="1677307">-</span>&nbsp;<span class="num" id="1677309">1</span><span class="op" id="1677310">)</span>&nbsp;<span class="op" id="1677312">^</span>&nbsp;<span class="num" id="1677314">0xFF</span>&nbsp;<span class="comment" id="1677319">/*&nbsp;1111&nbsp;1000&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677337">rune1</span>&nbsp;<span class="op" id="1677343">=</span>&nbsp;<span class="op" id="1677345">(</span><span class="num" id="1677346">1</span>&nbsp;<span class="op" id="1677348">&lt;&lt;</span>&nbsp;<span class="op" id="1677351">(</span><span class="ident" id="1677352">bit1</span>&nbsp;<span class="op" id="1677357">+</span>&nbsp;<span class="num" id="1677359">0</span><span class="op" id="1677360">*</span><span class="ident" id="1677361">bitx</span><span class="op" id="1677365">)</span><span class="op" id="1677366">)</span>&nbsp;<span class="op" id="1677368">-</span>&nbsp;<span class="num" id="1677370">1</span>&nbsp;<span class="comment" id="1677372">/*&nbsp;0000&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677399">rune2</span>&nbsp;<span class="op" id="1677405">=</span>&nbsp;<span class="op" id="1677407">(</span><span class="num" id="1677408">1</span>&nbsp;<span class="op" id="1677410">&lt;&lt;</span>&nbsp;<span class="op" id="1677413">(</span><span class="ident" id="1677414">bit2</span>&nbsp;<span class="op" id="1677419">+</span>&nbsp;<span class="num" id="1677421">1</span><span class="op" id="1677422">*</span><span class="ident" id="1677423">bitx</span><span class="op" id="1677427">)</span><span class="op" id="1677428">)</span>&nbsp;<span class="op" id="1677430">-</span>&nbsp;<span class="num" id="1677432">1</span>&nbsp;<span class="comment" id="1677434">/*&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677461">rune3</span>&nbsp;<span class="op" id="1677467">=</span>&nbsp;<span class="op" id="1677469">(</span><span class="num" id="1677470">1</span>&nbsp;<span class="op" id="1677472">&lt;&lt;</span>&nbsp;<span class="op" id="1677475">(</span><span class="ident" id="1677476">bit3</span>&nbsp;<span class="op" id="1677481">+</span>&nbsp;<span class="num" id="1677483">2</span><span class="op" id="1677484">*</span><span class="ident" id="1677485">bitx</span><span class="op" id="1677489">)</span><span class="op" id="1677490">)</span>&nbsp;<span class="op" id="1677492">-</span>&nbsp;<span class="num" id="1677494">1</span>&nbsp;<span class="comment" id="1677496">/*&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677523">rune4</span>&nbsp;<span class="op" id="1677529">=</span>&nbsp;<span class="op" id="1677531">(</span><span class="num" id="1677532">1</span>&nbsp;<span class="op" id="1677534">&lt;&lt;</span>&nbsp;<span class="op" id="1677537">(</span><span class="ident" id="1677538">bit4</span>&nbsp;<span class="op" id="1677543">+</span>&nbsp;<span class="num" id="1677545">3</span><span class="op" id="1677546">*</span><span class="ident" id="1677547">bitx</span><span class="op" id="1677551">)</span><span class="op" id="1677552">)</span>&nbsp;<span class="op" id="1677554">-</span>&nbsp;<span class="num" id="1677556">1</span>&nbsp;<span class="comment" id="1677558">/*&nbsp;0001&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677596">maskx</span>&nbsp;<span class="op" id="1677602">=</span>&nbsp;<span class="op" id="1677604">(</span><span class="num" id="1677605">1</span>&nbsp;<span class="op" id="1677607">&lt;&lt;</span>&nbsp;<span class="ident" id="1677610">bitx</span><span class="op" id="1677614">)</span>&nbsp;<span class="op" id="1677616">-</span>&nbsp;<span class="num" id="1677618">1</span>&nbsp;<span class="comment" id="1677620">/*&nbsp;0011&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677637">testx</span>&nbsp;<span class="op" id="1677643">=</span>&nbsp;<span class="ident" id="1677645">maskx</span>&nbsp;<span class="op" id="1677651">^</span>&nbsp;<span class="num" id="1677653">0xFF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1677661">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677679">runeerror</span>&nbsp;<span class="op" id="1677689">=</span>&nbsp;<span class="num" id="1677691">0xFFFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677699">runeself</span>&nbsp;&nbsp;<span class="op" id="1677709">=</span>&nbsp;<span class="num" id="1677711">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677718">surrogateMin</span>&nbsp;<span class="op" id="1677731">=</span>&nbsp;<span class="num" id="1677733">0xD800</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677741">surrogateMax</span>&nbsp;<span class="op" id="1677754">=</span>&nbsp;<span class="num" id="1677756">0xDFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677765">bad</span>&nbsp;<span class="op" id="1677769">=</span>&nbsp;<span class="ident" id="1677771">runeerror</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677783">runemax</span>&nbsp;<span class="op" id="1677791">=</span>&nbsp;<span class="num" id="1677793">0x10FFFF</span>&nbsp;<span class="comment" id="1677802">/*&nbsp;maximum&nbsp;rune&nbsp;value&nbsp;*/</span><br>
<span class="lineno">55</span><span class="op" id="1677827">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1677830">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Modified&nbsp;by&nbsp;Wei-Hwa&nbsp;Huang,&nbsp;Google&nbsp;Inc.,&nbsp;on&nbsp;2004-09-24<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;is&nbsp;a&nbsp;slower&nbsp;but&nbsp;&#34;safe&#34;&nbsp;version&nbsp;of&nbsp;the&nbsp;old&nbsp;chartorune<br>
<span class="lineno">60</span>&nbsp;*&nbsp;that&nbsp;works&nbsp;on&nbsp;strings&nbsp;that&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;null-terminated.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;If&nbsp;you&nbsp;know&nbsp;for&nbsp;sure&nbsp;that&nbsp;your&nbsp;string&nbsp;is&nbsp;null-terminated,<br>
<span class="lineno"></span>&nbsp;*&nbsp;chartorune&nbsp;will&nbsp;be&nbsp;a&nbsp;bit&nbsp;faster.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno">65</span>&nbsp;*&nbsp;It&nbsp;is&nbsp;guaranteed&nbsp;not&nbsp;to&nbsp;attempt&nbsp;to&nbsp;access&nbsp;&#34;length&#34;<br>
<span class="lineno"></span>&nbsp;*&nbsp;past&nbsp;the&nbsp;incoming&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid<br>
<span class="lineno"></span>&nbsp;*&nbsp;possible&nbsp;access&nbsp;violations.&nbsp;&nbsp;If&nbsp;the&nbsp;string&nbsp;appears&nbsp;to&nbsp;be<br>
<span class="lineno"></span>&nbsp;*&nbsp;well-formed&nbsp;but&nbsp;incomplete&nbsp;(i.e.,&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;Rune<br>
<span class="lineno"></span>&nbsp;*&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;read&nbsp;past&nbsp;str+length)&nbsp;then&nbsp;we&#39;ll&nbsp;set&nbsp;the&nbsp;Rune<br>
<span class="lineno">70</span>&nbsp;*&nbsp;to&nbsp;Bad&nbsp;and&nbsp;return&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Note&nbsp;that&nbsp;if&nbsp;we&nbsp;have&nbsp;decoding&nbsp;problems&nbsp;for&nbsp;other<br>
<span class="lineno"></span>&nbsp;*&nbsp;reasons,&nbsp;we&nbsp;return&nbsp;1&nbsp;instead&nbsp;of&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">75</span><span class="keyword" id="1678525">func</span>&nbsp;<span class="ident" id="1678530">charntorune</span><span class="op" id="1678541">(</span><span class="ident" id="1678542">s</span>&nbsp;<span class="builtintype" id="1678544">string</span><span class="op" id="1678550">)</span>&nbsp;<span class="op" id="1678552">(</span><span class="builtintype" id="1678553">rune</span><span class="op" id="1678557">,</span>&nbsp;<span class="builtintype" id="1678559">int</span><span class="op" id="1678562">)</span>&nbsp;<span class="op" id="1678564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1678567">/*&nbsp;When&nbsp;we&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;read&nbsp;anything&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678614">if</span>&nbsp;<span class="builtinfunc" id="1678617">len</span><span class="op" id="1678620">(</span><span class="ident" id="1678621">s</span><span class="op" id="1678622">)</span>&nbsp;<span class="op" id="1678624">&lt;=</span>&nbsp;<span class="num" id="1678627">0</span>&nbsp;<span class="op" id="1678629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678633">return</span>&nbsp;<span class="ident" id="1678640">bad</span><span class="op" id="1678643">,</span>&nbsp;<span class="num" id="1678645">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1678648">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1678652">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence&nbsp;(7-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp00000-0007F&nbsp;=&gt;&nbsp;T1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678724">c</span>&nbsp;<span class="op" id="1678726">:=</span>&nbsp;<span class="ident" id="1678729">s</span><span class="op" id="1678730">[</span><span class="num" id="1678731">0</span><span class="op" id="1678732">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678735">if</span>&nbsp;<span class="ident" id="1678738">c</span>&nbsp;<span class="op" id="1678740">&lt;</span>&nbsp;<span class="ident" id="1678742">tx</span>&nbsp;<span class="op" id="1678745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678749">return</span>&nbsp;<span class="builtintype" id="1678756">rune</span><span class="op" id="1678760">(</span><span class="ident" id="1678761">c</span><span class="op" id="1678762">)</span><span class="op" id="1678763">,</span>&nbsp;<span class="num" id="1678765">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1678768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1678772">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;one&nbsp;character&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678830">if</span>&nbsp;<span class="builtinfunc" id="1678833">len</span><span class="op" id="1678836">(</span><span class="ident" id="1678837">s</span><span class="op" id="1678838">)</span>&nbsp;<span class="op" id="1678840">&lt;=</span>&nbsp;<span class="num" id="1678843">1</span>&nbsp;<span class="op" id="1678845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678849">return</span>&nbsp;<span class="ident" id="1678856">bad</span><span class="op" id="1678859">,</span>&nbsp;<span class="num" id="1678861">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1678864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1678868">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence&nbsp;(11-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678942">c1</span>&nbsp;<span class="op" id="1678945">:=</span>&nbsp;<span class="ident" id="1678948">s</span><span class="op" id="1678949">[</span><span class="num" id="1678950">1</span><span class="op" id="1678951">]</span>&nbsp;<span class="op" id="1678953">^</span>&nbsp;<span class="ident" id="1678955">tx</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678959">if</span>&nbsp;<span class="op" id="1678962">(</span><span class="ident" id="1678963">c1</span>&nbsp;<span class="op" id="1678966">&amp;</span>&nbsp;<span class="ident" id="1678968">testx</span><span class="op" id="1678973">)</span>&nbsp;<span class="op" id="1678975">!=</span>&nbsp;<span class="num" id="1678978">0</span>&nbsp;<span class="op" id="1678980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678984">return</span>&nbsp;<span class="ident" id="1678991">bad</span><span class="op" id="1678994">,</span>&nbsp;<span class="num" id="1678996">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1678999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679002">if</span>&nbsp;<span class="ident" id="1679005">c</span>&nbsp;<span class="op" id="1679007">&lt;</span>&nbsp;<span class="ident" id="1679009">t3</span>&nbsp;<span class="op" id="1679012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679016">if</span>&nbsp;<span class="ident" id="1679019">c</span>&nbsp;<span class="op" id="1679021">&lt;</span>&nbsp;<span class="ident" id="1679023">t2</span>&nbsp;<span class="op" id="1679026">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679031">return</span>&nbsp;<span class="ident" id="1679038">bad</span><span class="op" id="1679041">,</span>&nbsp;<span class="num" id="1679043">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679051">l</span>&nbsp;<span class="op" id="1679053">:=</span>&nbsp;<span class="op" id="1679056">(</span><span class="op" id="1679057">(</span><span class="builtintype" id="1679058">rune</span><span class="op" id="1679062">(</span><span class="ident" id="1679063">c</span><span class="op" id="1679064">)</span>&nbsp;<span class="op" id="1679066">&lt;&lt;</span>&nbsp;<span class="ident" id="1679069">bitx</span><span class="op" id="1679073">)</span>&nbsp;<span class="op" id="1679075">|</span>&nbsp;<span class="builtintype" id="1679077">rune</span><span class="op" id="1679081">(</span><span class="ident" id="1679082">c1</span><span class="op" id="1679084">)</span><span class="op" id="1679085">)</span>&nbsp;<span class="op" id="1679087">&amp;</span>&nbsp;<span class="ident" id="1679089">rune2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679097">if</span>&nbsp;<span class="ident" id="1679100">l</span>&nbsp;<span class="op" id="1679102">&lt;=</span>&nbsp;<span class="ident" id="1679105">rune1</span>&nbsp;<span class="op" id="1679111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679116">return</span>&nbsp;<span class="ident" id="1679123">bad</span><span class="op" id="1679126">,</span>&nbsp;<span class="num" id="1679128">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679136">return</span>&nbsp;<span class="ident" id="1679143">l</span><span class="op" id="1679144">,</span>&nbsp;<span class="num" id="1679146">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1679153">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;two&nbsp;characters&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679212">if</span>&nbsp;<span class="builtinfunc" id="1679215">len</span><span class="op" id="1679218">(</span><span class="ident" id="1679219">s</span><span class="op" id="1679220">)</span>&nbsp;<span class="op" id="1679222">&lt;=</span>&nbsp;<span class="num" id="1679225">2</span>&nbsp;<span class="op" id="1679227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679231">return</span>&nbsp;<span class="ident" id="1679238">bad</span><span class="op" id="1679241">,</span>&nbsp;<span class="num" id="1679243">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1679250">/*<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence&nbsp;(16-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679329">c2</span>&nbsp;<span class="op" id="1679332">:=</span>&nbsp;<span class="ident" id="1679335">s</span><span class="op" id="1679336">[</span><span class="num" id="1679337">2</span><span class="op" id="1679338">]</span>&nbsp;<span class="op" id="1679340">^</span>&nbsp;<span class="ident" id="1679342">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679346">if</span>&nbsp;<span class="op" id="1679349">(</span><span class="ident" id="1679350">c2</span>&nbsp;<span class="op" id="1679353">&amp;</span>&nbsp;<span class="ident" id="1679355">testx</span><span class="op" id="1679360">)</span>&nbsp;<span class="op" id="1679362">!=</span>&nbsp;<span class="num" id="1679365">0</span>&nbsp;<span class="op" id="1679367">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679371">return</span>&nbsp;<span class="ident" id="1679378">bad</span><span class="op" id="1679381">,</span>&nbsp;<span class="num" id="1679383">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679389">if</span>&nbsp;<span class="ident" id="1679392">c</span>&nbsp;<span class="op" id="1679394">&lt;</span>&nbsp;<span class="ident" id="1679396">t4</span>&nbsp;<span class="op" id="1679399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679403">l</span>&nbsp;<span class="op" id="1679405">:=</span>&nbsp;<span class="op" id="1679408">(</span><span class="op" id="1679409">(</span><span class="op" id="1679410">(</span><span class="op" id="1679411">(</span><span class="builtintype" id="1679412">rune</span><span class="op" id="1679416">(</span><span class="ident" id="1679417">c</span><span class="op" id="1679418">)</span>&nbsp;<span class="op" id="1679420">&lt;&lt;</span>&nbsp;<span class="ident" id="1679423">bitx</span><span class="op" id="1679427">)</span>&nbsp;<span class="op" id="1679429">|</span>&nbsp;<span class="builtintype" id="1679431">rune</span><span class="op" id="1679435">(</span><span class="ident" id="1679436">c1</span><span class="op" id="1679438">)</span><span class="op" id="1679439">)</span>&nbsp;<span class="op" id="1679441">&lt;&lt;</span>&nbsp;<span class="ident" id="1679444">bitx</span><span class="op" id="1679448">)</span>&nbsp;<span class="op" id="1679450">|</span>&nbsp;<span class="builtintype" id="1679452">rune</span><span class="op" id="1679456">(</span><span class="ident" id="1679457">c2</span><span class="op" id="1679459">)</span><span class="op" id="1679460">)</span>&nbsp;<span class="op" id="1679462">&amp;</span>&nbsp;<span class="ident" id="1679464">rune3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679472">if</span>&nbsp;<span class="ident" id="1679475">l</span>&nbsp;<span class="op" id="1679477">&lt;=</span>&nbsp;<span class="ident" id="1679480">rune2</span>&nbsp;<span class="op" id="1679486">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679491">return</span>&nbsp;<span class="ident" id="1679498">bad</span><span class="op" id="1679501">,</span>&nbsp;<span class="num" id="1679503">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679511">if</span>&nbsp;<span class="ident" id="1679514">surrogateMin</span>&nbsp;<span class="op" id="1679527">&lt;=</span>&nbsp;<span class="ident" id="1679530">l</span>&nbsp;<span class="op" id="1679532">&amp;&amp;</span>&nbsp;<span class="ident" id="1679535">l</span>&nbsp;<span class="op" id="1679537">&lt;=</span>&nbsp;<span class="ident" id="1679540">surrogateMax</span>&nbsp;<span class="op" id="1679553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679558">return</span>&nbsp;<span class="ident" id="1679565">bad</span><span class="op" id="1679568">,</span>&nbsp;<span class="num" id="1679570">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679574">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679578">return</span>&nbsp;<span class="ident" id="1679585">l</span><span class="op" id="1679586">,</span>&nbsp;<span class="num" id="1679588">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679595">if</span>&nbsp;<span class="builtinfunc" id="1679598">len</span><span class="op" id="1679601">(</span><span class="ident" id="1679602">s</span><span class="op" id="1679603">)</span>&nbsp;<span class="op" id="1679605">&lt;=</span>&nbsp;<span class="num" id="1679608">3</span>&nbsp;<span class="op" id="1679610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679614">return</span>&nbsp;<span class="ident" id="1679621">bad</span><span class="op" id="1679624">,</span>&nbsp;<span class="num" id="1679626">1</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1679633">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679717">c3</span>&nbsp;<span class="op" id="1679720">:=</span>&nbsp;<span class="ident" id="1679723">s</span><span class="op" id="1679724">[</span><span class="num" id="1679725">3</span><span class="op" id="1679726">]</span>&nbsp;<span class="op" id="1679728">^</span>&nbsp;<span class="ident" id="1679730">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679734">if</span>&nbsp;<span class="op" id="1679737">(</span><span class="ident" id="1679738">c3</span>&nbsp;<span class="op" id="1679741">&amp;</span>&nbsp;<span class="ident" id="1679743">testx</span><span class="op" id="1679748">)</span>&nbsp;<span class="op" id="1679750">!=</span>&nbsp;<span class="num" id="1679753">0</span>&nbsp;<span class="op" id="1679755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679759">return</span>&nbsp;<span class="ident" id="1679766">bad</span><span class="op" id="1679769">,</span>&nbsp;<span class="num" id="1679771">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679774">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679777">if</span>&nbsp;<span class="ident" id="1679780">c</span>&nbsp;<span class="op" id="1679782">&lt;</span>&nbsp;<span class="ident" id="1679784">t5</span>&nbsp;<span class="op" id="1679787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679791">l</span>&nbsp;<span class="op" id="1679793">:=</span>&nbsp;<span class="op" id="1679796">(</span><span class="op" id="1679797">(</span><span class="op" id="1679798">(</span><span class="op" id="1679799">(</span><span class="op" id="1679800">(</span><span class="op" id="1679801">(</span><span class="builtintype" id="1679802">rune</span><span class="op" id="1679806">(</span><span class="ident" id="1679807">c</span><span class="op" id="1679808">)</span>&nbsp;<span class="op" id="1679810">&lt;&lt;</span>&nbsp;<span class="ident" id="1679813">bitx</span><span class="op" id="1679817">)</span>&nbsp;<span class="op" id="1679819">|</span>&nbsp;<span class="builtintype" id="1679821">rune</span><span class="op" id="1679825">(</span><span class="ident" id="1679826">c1</span><span class="op" id="1679828">)</span><span class="op" id="1679829">)</span>&nbsp;<span class="op" id="1679831">&lt;&lt;</span>&nbsp;<span class="ident" id="1679834">bitx</span><span class="op" id="1679838">)</span>&nbsp;<span class="op" id="1679840">|</span>&nbsp;<span class="builtintype" id="1679842">rune</span><span class="op" id="1679846">(</span><span class="ident" id="1679847">c2</span><span class="op" id="1679849">)</span><span class="op" id="1679850">)</span>&nbsp;<span class="op" id="1679852">&lt;&lt;</span>&nbsp;<span class="ident" id="1679855">bitx</span><span class="op" id="1679859">)</span>&nbsp;<span class="op" id="1679861">|</span>&nbsp;<span class="builtintype" id="1679863">rune</span><span class="op" id="1679867">(</span><span class="ident" id="1679868">c3</span><span class="op" id="1679870">)</span><span class="op" id="1679871">)</span>&nbsp;<span class="op" id="1679873">&amp;</span>&nbsp;<span class="ident" id="1679875">rune4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679883">if</span>&nbsp;<span class="ident" id="1679886">l</span>&nbsp;<span class="op" id="1679888">&lt;=</span>&nbsp;<span class="ident" id="1679891">rune3</span>&nbsp;<span class="op" id="1679897">||</span>&nbsp;<span class="ident" id="1679900">l</span>&nbsp;<span class="op" id="1679902">&gt;</span>&nbsp;<span class="ident" id="1679904">runemax</span>&nbsp;<span class="op" id="1679912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679917">return</span>&nbsp;<span class="ident" id="1679924">bad</span><span class="op" id="1679927">,</span>&nbsp;<span class="num" id="1679929">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679933">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679937">return</span>&nbsp;<span class="ident" id="1679944">l</span><span class="op" id="1679945">,</span>&nbsp;<span class="num" id="1679947">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1679954">//&nbsp;Support&nbsp;for&nbsp;5-byte&nbsp;or&nbsp;longer&nbsp;UTF-8&nbsp;would&nbsp;go&nbsp;here,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1680012">//&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;that,&nbsp;we&#39;ll&nbsp;just&nbsp;return&nbsp;bad.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680065">return</span>&nbsp;<span class="ident" id="1680072">bad</span><span class="op" id="1680075">,</span>&nbsp;<span class="num" id="1680077">1</span><br>
<span class="lineno"></span><span class="op" id="1680079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1680082">//&nbsp;runetochar&nbsp;converts&nbsp;r&nbsp;to&nbsp;bytes&nbsp;and&nbsp;writes&nbsp;the&nbsp;result&nbsp;to&nbsp;str.</span><br>
<span class="lineno"></span><span class="comment" id="1680146">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;generated.</span><br>
<span class="lineno">165</span><span class="keyword" id="1680188">func</span>&nbsp;<span class="ident" id="1680193">runetochar</span><span class="op" id="1680203">(</span><span class="ident" id="1680204">str</span>&nbsp;<span class="op" id="1680208">[</span><span class="op" id="1680209">]</span><span class="builtintype" id="1680210">byte</span><span class="op" id="1680214">,</span>&nbsp;<span class="ident" id="1680216">r</span>&nbsp;<span class="builtintype" id="1680218">rune</span><span class="op" id="1680222">)</span>&nbsp;<span class="builtintype" id="1680224">int</span>&nbsp;<span class="op" id="1680228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1680231">/*&nbsp;runes&nbsp;are&nbsp;signed,&nbsp;so&nbsp;convert&nbsp;to&nbsp;unsigned&nbsp;for&nbsp;range&nbsp;check.&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680296">c</span>&nbsp;<span class="op" id="1680298">:=</span>&nbsp;<span class="builtintype" id="1680301">uint32</span><span class="op" id="1680307">(</span><span class="ident" id="1680308">r</span><span class="op" id="1680309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1680312">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence<br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp00000-0007F&nbsp;=&gt;&nbsp;00-7F<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680373">if</span>&nbsp;<span class="ident" id="1680376">c</span>&nbsp;<span class="op" id="1680378">&lt;=</span>&nbsp;<span class="ident" id="1680381">rune1</span>&nbsp;<span class="op" id="1680387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680391">str</span><span class="op" id="1680394">[</span><span class="num" id="1680395">0</span><span class="op" id="1680396">]</span>&nbsp;<span class="op" id="1680398">=</span>&nbsp;<span class="builtintype" id="1680400">byte</span><span class="op" id="1680404">(</span><span class="ident" id="1680405">c</span><span class="op" id="1680406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680410">return</span>&nbsp;<span class="num" id="1680417">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1680423">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680482">if</span>&nbsp;<span class="ident" id="1680485">c</span>&nbsp;<span class="op" id="1680487">&lt;=</span>&nbsp;<span class="ident" id="1680490">rune2</span>&nbsp;<span class="op" id="1680496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680500">str</span><span class="op" id="1680503">[</span><span class="num" id="1680504">0</span><span class="op" id="1680505">]</span>&nbsp;<span class="op" id="1680507">=</span>&nbsp;<span class="builtintype" id="1680509">byte</span><span class="op" id="1680513">(</span><span class="ident" id="1680514">t2</span>&nbsp;<span class="op" id="1680517">|</span>&nbsp;<span class="op" id="1680519">(</span><span class="ident" id="1680520">c</span>&nbsp;<span class="op" id="1680522">&gt;&gt;</span>&nbsp;<span class="op" id="1680525">(</span><span class="num" id="1680526">1</span>&nbsp;<span class="op" id="1680528">*</span>&nbsp;<span class="ident" id="1680530">bitx</span><span class="op" id="1680534">)</span><span class="op" id="1680535">)</span><span class="op" id="1680536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680540">str</span><span class="op" id="1680543">[</span><span class="num" id="1680544">1</span><span class="op" id="1680545">]</span>&nbsp;<span class="op" id="1680547">=</span>&nbsp;<span class="builtintype" id="1680549">byte</span><span class="op" id="1680553">(</span><span class="ident" id="1680554">tx</span>&nbsp;<span class="op" id="1680557">|</span>&nbsp;<span class="op" id="1680559">(</span><span class="ident" id="1680560">c</span>&nbsp;<span class="op" id="1680562">&amp;</span>&nbsp;<span class="ident" id="1680564">maskx</span><span class="op" id="1680569">)</span><span class="op" id="1680570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680574">return</span>&nbsp;<span class="num" id="1680581">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680584">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1680588">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;If&nbsp;the&nbsp;rune&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;a&nbsp;surrogate&nbsp;half,&nbsp;convert&nbsp;it&nbsp;to&nbsp;the&nbsp;error&nbsp;rune.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;Do&nbsp;this&nbsp;test&nbsp;here&nbsp;because&nbsp;the&nbsp;error&nbsp;rune&nbsp;encodes&nbsp;to&nbsp;three&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;Doing&nbsp;it&nbsp;earlier&nbsp;would&nbsp;duplicate&nbsp;work,&nbsp;since&nbsp;an&nbsp;out&nbsp;of&nbsp;range<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;rune&nbsp;wouldn&#39;t&nbsp;have&nbsp;fit&nbsp;in&nbsp;one&nbsp;or&nbsp;two&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680862">if</span>&nbsp;<span class="ident" id="1680865">c</span>&nbsp;<span class="op" id="1680867">&gt;</span>&nbsp;<span class="ident" id="1680869">runemax</span>&nbsp;<span class="op" id="1680877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680881">c</span>&nbsp;<span class="op" id="1680883">=</span>&nbsp;<span class="ident" id="1680885">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680896">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680899">if</span>&nbsp;<span class="ident" id="1680902">surrogateMin</span>&nbsp;<span class="op" id="1680915">&lt;=</span>&nbsp;<span class="ident" id="1680918">c</span>&nbsp;<span class="op" id="1680920">&amp;&amp;</span>&nbsp;<span class="ident" id="1680923">c</span>&nbsp;<span class="op" id="1680925">&lt;=</span>&nbsp;<span class="ident" id="1680928">surrogateMax</span>&nbsp;<span class="op" id="1680941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680945">c</span>&nbsp;<span class="op" id="1680947">=</span>&nbsp;<span class="ident" id="1680949">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1680964">/*<br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681028">if</span>&nbsp;<span class="ident" id="1681031">c</span>&nbsp;<span class="op" id="1681033">&lt;=</span>&nbsp;<span class="ident" id="1681036">rune3</span>&nbsp;<span class="op" id="1681042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681046">str</span><span class="op" id="1681049">[</span><span class="num" id="1681050">0</span><span class="op" id="1681051">]</span>&nbsp;<span class="op" id="1681053">=</span>&nbsp;<span class="builtintype" id="1681055">byte</span><span class="op" id="1681059">(</span><span class="ident" id="1681060">t3</span>&nbsp;<span class="op" id="1681063">|</span>&nbsp;<span class="op" id="1681065">(</span><span class="ident" id="1681066">c</span>&nbsp;<span class="op" id="1681068">&gt;&gt;</span>&nbsp;<span class="op" id="1681071">(</span><span class="num" id="1681072">2</span>&nbsp;<span class="op" id="1681074">*</span>&nbsp;<span class="ident" id="1681076">bitx</span><span class="op" id="1681080">)</span><span class="op" id="1681081">)</span><span class="op" id="1681082">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681086">str</span><span class="op" id="1681089">[</span><span class="num" id="1681090">1</span><span class="op" id="1681091">]</span>&nbsp;<span class="op" id="1681093">=</span>&nbsp;<span class="builtintype" id="1681095">byte</span><span class="op" id="1681099">(</span><span class="ident" id="1681100">tx</span>&nbsp;<span class="op" id="1681103">|</span>&nbsp;<span class="op" id="1681105">(</span><span class="op" id="1681106">(</span><span class="ident" id="1681107">c</span>&nbsp;<span class="op" id="1681109">&gt;&gt;</span>&nbsp;<span class="op" id="1681112">(</span><span class="num" id="1681113">1</span>&nbsp;<span class="op" id="1681115">*</span>&nbsp;<span class="ident" id="1681117">bitx</span><span class="op" id="1681121">)</span><span class="op" id="1681122">)</span>&nbsp;<span class="op" id="1681124">&amp;</span>&nbsp;<span class="ident" id="1681126">maskx</span><span class="op" id="1681131">)</span><span class="op" id="1681132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681136">str</span><span class="op" id="1681139">[</span><span class="num" id="1681140">2</span><span class="op" id="1681141">]</span>&nbsp;<span class="op" id="1681143">=</span>&nbsp;<span class="builtintype" id="1681145">byte</span><span class="op" id="1681149">(</span><span class="ident" id="1681150">tx</span>&nbsp;<span class="op" id="1681153">|</span>&nbsp;<span class="op" id="1681155">(</span><span class="ident" id="1681156">c</span>&nbsp;<span class="op" id="1681158">&amp;</span>&nbsp;<span class="ident" id="1681160">maskx</span><span class="op" id="1681165">)</span><span class="op" id="1681166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681170">return</span>&nbsp;<span class="num" id="1681177">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1681180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1681184">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681272">str</span><span class="op" id="1681275">[</span><span class="num" id="1681276">0</span><span class="op" id="1681277">]</span>&nbsp;<span class="op" id="1681279">=</span>&nbsp;<span class="builtintype" id="1681281">byte</span><span class="op" id="1681285">(</span><span class="ident" id="1681286">t4</span>&nbsp;<span class="op" id="1681289">|</span>&nbsp;<span class="op" id="1681291">(</span><span class="ident" id="1681292">c</span>&nbsp;<span class="op" id="1681294">&gt;&gt;</span>&nbsp;<span class="op" id="1681297">(</span><span class="num" id="1681298">3</span>&nbsp;<span class="op" id="1681300">*</span>&nbsp;<span class="ident" id="1681302">bitx</span><span class="op" id="1681306">)</span><span class="op" id="1681307">)</span><span class="op" id="1681308">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681311">str</span><span class="op" id="1681314">[</span><span class="num" id="1681315">1</span><span class="op" id="1681316">]</span>&nbsp;<span class="op" id="1681318">=</span>&nbsp;<span class="builtintype" id="1681320">byte</span><span class="op" id="1681324">(</span><span class="ident" id="1681325">tx</span>&nbsp;<span class="op" id="1681328">|</span>&nbsp;<span class="op" id="1681330">(</span><span class="op" id="1681331">(</span><span class="ident" id="1681332">c</span>&nbsp;<span class="op" id="1681334">&gt;&gt;</span>&nbsp;<span class="op" id="1681337">(</span><span class="num" id="1681338">2</span>&nbsp;<span class="op" id="1681340">*</span>&nbsp;<span class="ident" id="1681342">bitx</span><span class="op" id="1681346">)</span><span class="op" id="1681347">)</span>&nbsp;<span class="op" id="1681349">&amp;</span>&nbsp;<span class="ident" id="1681351">maskx</span><span class="op" id="1681356">)</span><span class="op" id="1681357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681360">str</span><span class="op" id="1681363">[</span><span class="num" id="1681364">2</span><span class="op" id="1681365">]</span>&nbsp;<span class="op" id="1681367">=</span>&nbsp;<span class="builtintype" id="1681369">byte</span><span class="op" id="1681373">(</span><span class="ident" id="1681374">tx</span>&nbsp;<span class="op" id="1681377">|</span>&nbsp;<span class="op" id="1681379">(</span><span class="op" id="1681380">(</span><span class="ident" id="1681381">c</span>&nbsp;<span class="op" id="1681383">&gt;&gt;</span>&nbsp;<span class="op" id="1681386">(</span><span class="num" id="1681387">1</span>&nbsp;<span class="op" id="1681389">*</span>&nbsp;<span class="ident" id="1681391">bitx</span><span class="op" id="1681395">)</span><span class="op" id="1681396">)</span>&nbsp;<span class="op" id="1681398">&amp;</span>&nbsp;<span class="ident" id="1681400">maskx</span><span class="op" id="1681405">)</span><span class="op" id="1681406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681409">str</span><span class="op" id="1681412">[</span><span class="num" id="1681413">3</span><span class="op" id="1681414">]</span>&nbsp;<span class="op" id="1681416">=</span>&nbsp;<span class="builtintype" id="1681418">byte</span><span class="op" id="1681422">(</span><span class="ident" id="1681423">tx</span>&nbsp;<span class="op" id="1681426">|</span>&nbsp;<span class="op" id="1681428">(</span><span class="ident" id="1681429">c</span>&nbsp;<span class="op" id="1681431">&amp;</span>&nbsp;<span class="ident" id="1681433">maskx</span><span class="op" id="1681438">)</span><span class="op" id="1681439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681442">return</span>&nbsp;<span class="num" id="1681449">4</span><br>
<span class="lineno"></span><span class="op" id="1681451">}</span>
</div>
</body>
</html>
