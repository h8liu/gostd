<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2575481">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2575536">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2575590">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2575641">package</span>&nbsp;<span class="ident" id="2575649">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2575653">import</span>&nbsp;<span class="op" id="2575660">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2575663">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2575674">&#34;time&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2575681">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2575684">//&nbsp;Getpagesize&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;system&#39;s&nbsp;memory&nbsp;page&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="2575749">func</span>&nbsp;<span class="ident" id="2575754">Getpagesize</span><span class="op" id="2575765">(</span><span class="op" id="2575766">)</span>&nbsp;<span class="builtintype" id="2575768">int</span>&nbsp;<span class="op" id="2575772">{</span>&nbsp;<span class="keyword" id="2575774">return</span>&nbsp;<span class="ident" id="2575781">syscall</span><span class="op" id="2575788">.</span><span class="ident" id="2575789">Getpagesize</span><span class="op" id="2575800">(</span><span class="op" id="2575801">)</span>&nbsp;<span class="op" id="2575803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2575806">//&nbsp;A&nbsp;FileInfo&nbsp;describes&nbsp;a&nbsp;file&nbsp;and&nbsp;is&nbsp;returned&nbsp;by&nbsp;Stat&nbsp;and&nbsp;Lstat.</span><br>
<span class="lineno"></span><span class="keyword" id="2575872">type</span>&nbsp;<span class="ident" id="2575877">FileInfo</span>&nbsp;<span class="keyword" id="2575886">interface</span>&nbsp;<span class="op" id="2575896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2575899">Name</span><span class="op" id="2575903">(</span><span class="op" id="2575904">)</span>&nbsp;<span class="builtintype" id="2575906">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2575919">//&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2575945">Size</span><span class="op" id="2575949">(</span><span class="op" id="2575950">)</span>&nbsp;<span class="ident" id="2575952">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2575965">//&nbsp;length&nbsp;in&nbsp;bytes&nbsp;for&nbsp;regular&nbsp;files;&nbsp;system-dependent&nbsp;for&nbsp;others</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2576032">Mode</span><span class="op" id="2576036">(</span><span class="op" id="2576037">)</span>&nbsp;<span class="ident" id="2576039">FileMode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2576052">//&nbsp;file&nbsp;mode&nbsp;bits</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2576071">ModTime</span><span class="op" id="2576078">(</span><span class="op" id="2576079">)</span>&nbsp;<span class="ident" id="2576081">time</span><span class="op" id="2576085">.</span><span class="ident" id="2576086">Time</span>&nbsp;<span class="comment" id="2576091">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2576113">IsDir</span><span class="op" id="2576118">(</span><span class="op" id="2576119">)</span>&nbsp;<span class="builtintype" id="2576121">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2576133">//&nbsp;abbreviation&nbsp;for&nbsp;Mode().IsDir()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2576169">Sys</span><span class="op" id="2576172">(</span><span class="op" id="2576173">)</span>&nbsp;<span class="keyword" id="2576175">interface</span><span class="op" id="2576184">{</span><span class="op" id="2576185">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2576189">//&nbsp;underlying&nbsp;data&nbsp;source&nbsp;(can&nbsp;return&nbsp;nil)</span><br>
<span class="lineno"></span><span class="op" id="2576232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2576235">//&nbsp;A&nbsp;FileMode&nbsp;represents&nbsp;a&nbsp;file&#39;s&nbsp;mode&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2576295">//&nbsp;The&nbsp;bits&nbsp;have&nbsp;the&nbsp;same&nbsp;definition&nbsp;on&nbsp;all&nbsp;systems,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2576356">//&nbsp;information&nbsp;about&nbsp;files&nbsp;can&nbsp;be&nbsp;moved&nbsp;from&nbsp;one&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2576412">//&nbsp;to&nbsp;another&nbsp;portably.&nbsp;&nbsp;Not&nbsp;all&nbsp;bits&nbsp;apply&nbsp;to&nbsp;all&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2576472">//&nbsp;The&nbsp;only&nbsp;required&nbsp;bit&nbsp;is&nbsp;ModeDir&nbsp;for&nbsp;directories.</span><br>
<span class="lineno">30</span><span class="keyword" id="2576525">type</span>&nbsp;<span class="ident" id="2576530">FileMode</span>&nbsp;<span class="builtintype" id="2576539">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2576547">//&nbsp;The&nbsp;defined&nbsp;file&nbsp;mode&nbsp;bits&nbsp;are&nbsp;the&nbsp;most&nbsp;significant&nbsp;bits&nbsp;of&nbsp;the&nbsp;FileMode.</span><br>
<span class="lineno"></span><span class="comment" id="2576624">//&nbsp;The&nbsp;nine&nbsp;least-significant&nbsp;bits&nbsp;are&nbsp;the&nbsp;standard&nbsp;Unix&nbsp;rwxrwxrwx&nbsp;permissions.</span><br>
<span class="lineno"></span><span class="comment" id="2576704">//&nbsp;The&nbsp;values&nbsp;of&nbsp;these&nbsp;bits&nbsp;should&nbsp;be&nbsp;considered&nbsp;part&nbsp;of&nbsp;the&nbsp;public&nbsp;API&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="2576780">//&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;wire&nbsp;protocols&nbsp;or&nbsp;disk&nbsp;representations:&nbsp;they&nbsp;must&nbsp;not&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2576855">//&nbsp;changed,&nbsp;although&nbsp;new&nbsp;bits&nbsp;might&nbsp;be&nbsp;added.</span><br>
<span class="lineno"></span><span class="keyword" id="2576901">const</span>&nbsp;<span class="op" id="2576907">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2576910">//&nbsp;The&nbsp;single&nbsp;letters&nbsp;are&nbsp;the&nbsp;abbreviations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2576955">//&nbsp;used&nbsp;by&nbsp;the&nbsp;String&nbsp;method&#39;s&nbsp;formatting.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2576999">ModeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2577014">FileMode</span>&nbsp;<span class="op" id="2577023">=</span>&nbsp;<span class="num" id="2577025">1</span>&nbsp;<span class="op" id="2577027">&lt;&lt;</span>&nbsp;<span class="op" id="2577030">(</span><span class="num" id="2577031">32</span>&nbsp;<span class="op" id="2577034">-</span>&nbsp;<span class="num" id="2577036">1</span>&nbsp;<span class="op" id="2577038">-</span>&nbsp;<span class="ident" id="2577040">iota</span><span class="op" id="2577044">)</span>&nbsp;<span class="comment" id="2577046">//&nbsp;d:&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577068">ModeAppend</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577115">//&nbsp;a:&nbsp;append-only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577134">ModeExclusive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577181">//&nbsp;l:&nbsp;exclusive&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577202">ModeTemporary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577249">//&nbsp;T:&nbsp;temporary&nbsp;file&nbsp;(not&nbsp;backed&nbsp;up)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577287">ModeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577334">//&nbsp;L:&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577355">ModeDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577402">//&nbsp;D:&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577421">ModeNamedPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577468">//&nbsp;p:&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577493">ModeSocket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577540">//&nbsp;S:&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577566">ModeSetuid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577613">//&nbsp;u:&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577627">ModeSetgid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577674">//&nbsp;g:&nbsp;setgid</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577688">ModeCharDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577735">//&nbsp;c:&nbsp;Unix&nbsp;character&nbsp;device,&nbsp;when&nbsp;ModeDevice&nbsp;is&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577788">ModeSticky</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2577835">//&nbsp;t:&nbsp;sticky</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2577850">//&nbsp;Mask&nbsp;for&nbsp;the&nbsp;type&nbsp;bits.&nbsp;For&nbsp;regular&nbsp;files,&nbsp;none&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577915">ModeType</span>&nbsp;<span class="op" id="2577924">=</span>&nbsp;<span class="ident" id="2577926">ModeDir</span>&nbsp;<span class="op" id="2577934">|</span>&nbsp;<span class="ident" id="2577936">ModeSymlink</span>&nbsp;<span class="op" id="2577948">|</span>&nbsp;<span class="ident" id="2577950">ModeNamedPipe</span>&nbsp;<span class="op" id="2577964">|</span>&nbsp;<span class="ident" id="2577966">ModeSocket</span>&nbsp;<span class="op" id="2577977">|</span>&nbsp;<span class="ident" id="2577979">ModeDevice</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2577992">ModePerm</span>&nbsp;<span class="ident" id="2578001">FileMode</span>&nbsp;<span class="op" id="2578010">=</span>&nbsp;<span class="num" id="2578012">0777</span>&nbsp;<span class="comment" id="2578017">//&nbsp;permission&nbsp;bits</span><br>
<span class="lineno"></span><span class="op" id="2578036">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2578039">func</span>&nbsp;<span class="op" id="2578044">(</span><span class="ident" id="2578045">m</span>&nbsp;<span class="ident" id="2578047">FileMode</span><span class="op" id="2578055">)</span>&nbsp;<span class="ident" id="2578057">String</span><span class="op" id="2578063">(</span><span class="op" id="2578064">)</span>&nbsp;<span class="builtintype" id="2578066">string</span>&nbsp;<span class="op" id="2578073">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578076">const</span>&nbsp;<span class="ident" id="2578082">str</span>&nbsp;<span class="op" id="2578086">=</span>&nbsp;<span class="string" id="2578088">&#34;dalTLDpSugct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578104">var</span>&nbsp;<span class="ident" id="2578108">buf</span>&nbsp;<span class="op" id="2578112">[</span><span class="num" id="2578113">32</span><span class="op" id="2578115">]</span><span class="builtintype" id="2578116">byte</span>&nbsp;<span class="comment" id="2578121">//&nbsp;Mode&nbsp;is&nbsp;uint32.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2578141">w</span>&nbsp;<span class="op" id="2578143">:=</span>&nbsp;<span class="num" id="2578146">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578149">for</span>&nbsp;<span class="ident" id="2578153">i</span><span class="op" id="2578154">,</span>&nbsp;<span class="ident" id="2578156">c</span>&nbsp;<span class="op" id="2578158">:=</span>&nbsp;<span class="keyword" id="2578161">range</span>&nbsp;<span class="ident" id="2578167">str</span>&nbsp;<span class="op" id="2578171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578175">if</span>&nbsp;<span class="ident" id="2578178">m</span><span class="op" id="2578179">&amp;</span><span class="op" id="2578180">(</span><span class="num" id="2578181">1</span><span class="op" id="2578182">&lt;&lt;</span><span class="builtintype" id="2578184">uint</span><span class="op" id="2578188">(</span><span class="num" id="2578189">32</span><span class="op" id="2578191">-</span><span class="num" id="2578192">1</span><span class="op" id="2578193">-</span><span class="ident" id="2578194">i</span><span class="op" id="2578195">)</span><span class="op" id="2578196">)</span>&nbsp;<span class="op" id="2578198">!=</span>&nbsp;<span class="num" id="2578201">0</span>&nbsp;<span class="op" id="2578203">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2578208">buf</span><span class="op" id="2578211">[</span><span class="ident" id="2578212">w</span><span class="op" id="2578213">]</span>&nbsp;<span class="op" id="2578215">=</span>&nbsp;<span class="builtintype" id="2578217">byte</span><span class="op" id="2578221">(</span><span class="ident" id="2578222">c</span><span class="op" id="2578223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2578228">w</span><span class="op" id="2578229">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2578234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2578237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578240">if</span>&nbsp;<span class="ident" id="2578243">w</span>&nbsp;<span class="op" id="2578245">==</span>&nbsp;<span class="num" id="2578248">0</span>&nbsp;<span class="op" id="2578250">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2578254">buf</span><span class="op" id="2578257">[</span><span class="ident" id="2578258">w</span><span class="op" id="2578259">]</span>&nbsp;<span class="op" id="2578261">=</span>&nbsp;<span class="string" id="2578263">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2578269">w</span><span class="op" id="2578270">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2578274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578277">const</span>&nbsp;<span class="ident" id="2578283">rwx</span>&nbsp;<span class="op" id="2578287">=</span>&nbsp;<span class="string" id="2578289">&#34;rwxrwxrwx&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578302">for</span>&nbsp;<span class="ident" id="2578306">i</span><span class="op" id="2578307">,</span>&nbsp;<span class="ident" id="2578309">c</span>&nbsp;<span class="op" id="2578311">:=</span>&nbsp;<span class="keyword" id="2578314">range</span>&nbsp;<span class="ident" id="2578320">rwx</span>&nbsp;<span class="op" id="2578324">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578328">if</span>&nbsp;<span class="ident" id="2578331">m</span><span class="op" id="2578332">&amp;</span><span class="op" id="2578333">(</span><span class="num" id="2578334">1</span><span class="op" id="2578335">&lt;&lt;</span><span class="builtintype" id="2578337">uint</span><span class="op" id="2578341">(</span><span class="num" id="2578342">9</span><span class="op" id="2578343">-</span><span class="num" id="2578344">1</span><span class="op" id="2578345">-</span><span class="ident" id="2578346">i</span><span class="op" id="2578347">)</span><span class="op" id="2578348">)</span>&nbsp;<span class="op" id="2578350">!=</span>&nbsp;<span class="num" id="2578353">0</span>&nbsp;<span class="op" id="2578355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2578360">buf</span><span class="op" id="2578363">[</span><span class="ident" id="2578364">w</span><span class="op" id="2578365">]</span>&nbsp;<span class="op" id="2578367">=</span>&nbsp;<span class="builtintype" id="2578369">byte</span><span class="op" id="2578373">(</span><span class="ident" id="2578374">c</span><span class="op" id="2578375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2578379">}</span>&nbsp;<span class="keyword" id="2578381">else</span>&nbsp;<span class="op" id="2578386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2578391">buf</span><span class="op" id="2578394">[</span><span class="ident" id="2578395">w</span><span class="op" id="2578396">]</span>&nbsp;<span class="op" id="2578398">=</span>&nbsp;<span class="string" id="2578400">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2578406">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2578410">w</span><span class="op" id="2578411">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2578415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578418">return</span>&nbsp;<span class="builtintype" id="2578425">string</span><span class="op" id="2578431">(</span><span class="ident" id="2578432">buf</span><span class="op" id="2578435">[</span><span class="op" id="2578436">:</span><span class="ident" id="2578437">w</span><span class="op" id="2578438">]</span><span class="op" id="2578439">)</span><br>
<span class="lineno"></span><span class="op" id="2578441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="2578444">//&nbsp;IsDir&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2578494">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;for&nbsp;the&nbsp;ModeDir&nbsp;bit&nbsp;being&nbsp;set&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2578551">func</span>&nbsp;<span class="op" id="2578556">(</span><span class="ident" id="2578557">m</span>&nbsp;<span class="ident" id="2578559">FileMode</span><span class="op" id="2578567">)</span>&nbsp;<span class="ident" id="2578569">IsDir</span><span class="op" id="2578574">(</span><span class="op" id="2578575">)</span>&nbsp;<span class="builtintype" id="2578577">bool</span>&nbsp;<span class="op" id="2578582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578585">return</span>&nbsp;<span class="ident" id="2578592">m</span><span class="op" id="2578593">&amp;</span><span class="ident" id="2578594">ModeDir</span>&nbsp;<span class="op" id="2578602">!=</span>&nbsp;<span class="num" id="2578605">0</span><br>
<span class="lineno"></span><span class="op" id="2578607">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2578610">//&nbsp;IsRegular&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;regular&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2578667">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;that&nbsp;no&nbsp;mode&nbsp;type&nbsp;bits&nbsp;are&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2578720">func</span>&nbsp;<span class="op" id="2578725">(</span><span class="ident" id="2578726">m</span>&nbsp;<span class="ident" id="2578728">FileMode</span><span class="op" id="2578736">)</span>&nbsp;<span class="ident" id="2578738">IsRegular</span><span class="op" id="2578747">(</span><span class="op" id="2578748">)</span>&nbsp;<span class="builtintype" id="2578750">bool</span>&nbsp;<span class="op" id="2578755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578758">return</span>&nbsp;<span class="ident" id="2578765">m</span><span class="op" id="2578766">&amp;</span><span class="ident" id="2578767">ModeType</span>&nbsp;<span class="op" id="2578776">==</span>&nbsp;<span class="num" id="2578779">0</span><br>
<span class="lineno">95</span><span class="op" id="2578781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2578784">//&nbsp;Perm&nbsp;returns&nbsp;the&nbsp;Unix&nbsp;permission&nbsp;bits&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2578831">func</span>&nbsp;<span class="op" id="2578836">(</span><span class="ident" id="2578837">m</span>&nbsp;<span class="ident" id="2578839">FileMode</span><span class="op" id="2578847">)</span>&nbsp;<span class="ident" id="2578849">Perm</span><span class="op" id="2578853">(</span><span class="op" id="2578854">)</span>&nbsp;<span class="ident" id="2578856">FileMode</span>&nbsp;<span class="op" id="2578865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2578868">return</span>&nbsp;<span class="ident" id="2578875">m</span>&nbsp;<span class="op" id="2578877">&amp;</span>&nbsp;<span class="ident" id="2578879">ModePerm</span><br>
<span class="lineno">100</span><span class="op" id="2578888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2578891">func</span>&nbsp;<span class="op" id="2578896">(</span><span class="ident" id="2578897">fs</span>&nbsp;<span class="op" id="2578900">*</span><span class="ident" id="2578901">fileStat</span><span class="op" id="2578909">)</span>&nbsp;<span class="ident" id="2578911">Name</span><span class="op" id="2578915">(</span><span class="op" id="2578916">)</span>&nbsp;<span class="builtintype" id="2578918">string</span>&nbsp;<span class="op" id="2578925">{</span>&nbsp;<span class="keyword" id="2578927">return</span>&nbsp;<span class="ident" id="2578934">fs</span><span class="op" id="2578936">.</span><span class="ident" id="2578937">name</span>&nbsp;<span class="op" id="2578942">}</span><br>
<span class="lineno"></span><span class="keyword" id="2578944">func</span>&nbsp;<span class="op" id="2578949">(</span><span class="ident" id="2578950">fs</span>&nbsp;<span class="op" id="2578953">*</span><span class="ident" id="2578954">fileStat</span><span class="op" id="2578962">)</span>&nbsp;<span class="ident" id="2578964">IsDir</span><span class="op" id="2578969">(</span><span class="op" id="2578970">)</span>&nbsp;<span class="builtintype" id="2578972">bool</span>&nbsp;&nbsp;<span class="op" id="2578978">{</span>&nbsp;<span class="keyword" id="2578980">return</span>&nbsp;<span class="ident" id="2578987">fs</span><span class="op" id="2578989">.</span><span class="ident" id="2578990">Mode</span><span class="op" id="2578994">(</span><span class="op" id="2578995">)</span><span class="op" id="2578996">.</span><span class="ident" id="2578997">IsDir</span><span class="op" id="2579002">(</span><span class="op" id="2579003">)</span>&nbsp;<span class="op" id="2579005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="2579008">//&nbsp;SameFile&nbsp;reports&nbsp;whether&nbsp;fi1&nbsp;and&nbsp;fi2&nbsp;describe&nbsp;the&nbsp;same&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2579072">//&nbsp;For&nbsp;example,&nbsp;on&nbsp;Unix&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;device&nbsp;and&nbsp;inode&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="2579140">//&nbsp;of&nbsp;the&nbsp;two&nbsp;underlying&nbsp;structures&nbsp;are&nbsp;identical;&nbsp;on&nbsp;other&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2579208">//&nbsp;the&nbsp;decision&nbsp;may&nbsp;be&nbsp;based&nbsp;on&nbsp;the&nbsp;path&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="2579256">//&nbsp;SameFile&nbsp;only&nbsp;applies&nbsp;to&nbsp;results&nbsp;returned&nbsp;by&nbsp;this&nbsp;package&#39;s&nbsp;Stat.</span><br>
<span class="lineno">110</span><span class="comment" id="2579325">//&nbsp;It&nbsp;returns&nbsp;false&nbsp;in&nbsp;other&nbsp;cases.</span><br>
<span class="lineno"></span><span class="keyword" id="2579361">func</span>&nbsp;<span class="ident" id="2579366">SameFile</span><span class="op" id="2579374">(</span><span class="ident" id="2579375">fi1</span><span class="op" id="2579378">,</span>&nbsp;<span class="ident" id="2579380">fi2</span>&nbsp;<span class="ident" id="2579384">FileInfo</span><span class="op" id="2579392">)</span>&nbsp;<span class="builtintype" id="2579394">bool</span>&nbsp;<span class="op" id="2579399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2579402">fs1</span><span class="op" id="2579405">,</span>&nbsp;<span class="ident" id="2579407">ok1</span>&nbsp;<span class="op" id="2579411">:=</span>&nbsp;<span class="ident" id="2579414">fi1</span><span class="op" id="2579417">.</span><span class="op" id="2579418">(</span><span class="op" id="2579419">*</span><span class="ident" id="2579420">fileStat</span><span class="op" id="2579428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2579431">fs2</span><span class="op" id="2579434">,</span>&nbsp;<span class="ident" id="2579436">ok2</span>&nbsp;<span class="op" id="2579440">:=</span>&nbsp;<span class="ident" id="2579443">fi2</span><span class="op" id="2579446">.</span><span class="op" id="2579447">(</span><span class="op" id="2579448">*</span><span class="ident" id="2579449">fileStat</span><span class="op" id="2579457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2579460">if</span>&nbsp;<span class="op" id="2579463">!</span><span class="ident" id="2579464">ok1</span>&nbsp;<span class="op" id="2579468">||</span>&nbsp;<span class="op" id="2579471">!</span><span class="ident" id="2579472">ok2</span>&nbsp;<span class="op" id="2579476">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2579480">return</span>&nbsp;<span class="builtintype" id="2579487">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2579494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2579497">return</span>&nbsp;<span class="ident" id="2579504">sameFile</span><span class="op" id="2579512">(</span><span class="ident" id="2579513">fs1</span><span class="op" id="2579516">,</span>&nbsp;<span class="ident" id="2579518">fs2</span><span class="op" id="2579521">)</span><br>
<span class="lineno"></span><span class="op" id="2579523">}</span>
</div>
</body>
</html>
