<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1526707">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1526762">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1526816">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1526867">package</span>&nbsp;<span class="ident" id="1526875">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1526881">//&nbsp;Modf&nbsp;returns&nbsp;integer&nbsp;and&nbsp;fractional&nbsp;floating-point&nbsp;numbers</span><br>
<span class="lineno"></span><span class="comment" id="1526943">//&nbsp;that&nbsp;sum&nbsp;to&nbsp;f.&nbsp;&nbsp;Both&nbsp;values&nbsp;have&nbsp;the&nbsp;same&nbsp;sign&nbsp;as&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="1526999">//</span><br>
<span class="lineno">10</span><span class="comment" id="1527002">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="1527024">//&nbsp;&nbsp;&nbsp;&nbspModf(±Inf)&nbsp;=&nbsp;±Inf,&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1527052">//&nbsp;&nbsp;&nbsp;&nbspModf(NaN)&nbsp;=&nbsp;NaN,&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="1527076">func</span>&nbsp;<span class="ident" id="1527081">Modf</span><span class="op" id="1527085">(</span><span class="ident" id="1527086">f</span>&nbsp;<span class="builtintype" id="1527088">float64</span><span class="op" id="1527095">)</span>&nbsp;<span class="op" id="1527097">(</span><span class="builtintype" id="1527098">int</span>&nbsp;<span class="builtintype" id="1527102">float64</span><span class="op" id="1527109">,</span>&nbsp;<span class="ident" id="1527111">frac</span>&nbsp;<span class="builtintype" id="1527116">float64</span><span class="op" id="1527123">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="1527126">func</span>&nbsp;<span class="ident" id="1527131">modf</span><span class="op" id="1527135">(</span><span class="ident" id="1527136">f</span>&nbsp;<span class="builtintype" id="1527138">float64</span><span class="op" id="1527145">)</span>&nbsp;<span class="op" id="1527147">(</span><span class="builtintype" id="1527148">int</span>&nbsp;<span class="builtintype" id="1527152">float64</span><span class="op" id="1527159">,</span>&nbsp;<span class="ident" id="1527161">frac</span>&nbsp;<span class="builtintype" id="1527166">float64</span><span class="op" id="1527173">)</span>&nbsp;<span class="op" id="1527175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1527178">if</span>&nbsp;<span class="ident" id="1527181"><a href="/math/modf.go.html#1527136">f</a></span>&nbsp;<span class="op" id="1527183">&lt;</span>&nbsp;<span class="num" id="1527185">1</span>&nbsp;<span class="op" id="1527187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1527191">if</span>&nbsp;<span class="ident" id="1527194"><a href="/math/modf.go.html#1527136">f</a></span>&nbsp;<span class="op" id="1527196">&lt;</span>&nbsp;<span class="num" id="1527198">0</span>&nbsp;<span class="op" id="1527200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1527205"><a href="/math/modf.go.html#1527148">int</a></span><span class="op" id="1527208">,</span>&nbsp;<span class="ident" id="1527210"><a href="/math/modf.go.html#1527161">frac</a></span>&nbsp;<span class="op" id="1527215">=</span>&nbsp;<span class="ident" id="1527217"><a href="/math/modf.go.html#1527081">Modf</a></span><span class="op" id="1527221">(</span><span class="op" id="1527222">-</span><span class="ident" id="1527223"><a href="/math/modf.go.html#1527136">f</a></span><span class="op" id="1527224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1527229">return</span>&nbsp;<span class="op" id="1527236">-</span><span class="builtintype" id="1527237"><a href="/math/modf.go.html#1527148">int</a></span><span class="op" id="1527240">,</span>&nbsp;<span class="op" id="1527242">-</span><span class="ident" id="1527243"><a href="/math/modf.go.html#1527161">frac</a></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1527250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1527254">return</span>&nbsp;<span class="num" id="1527261">0</span><span class="op" id="1527262">,</span>&nbsp;<span class="ident" id="1527264"><a href="/math/modf.go.html#1527136">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1527267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1527271">x</span>&nbsp;<span class="op" id="1527273">:=</span>&nbsp;<span class="ident" id="1527276"><a href="/math/unsafe.go.html#1556032">Float64bits</a></span><span class="op" id="1527287">(</span><span class="ident" id="1527288"><a href="/math/modf.go.html#1527136">f</a></span><span class="op" id="1527289">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1527292">e</span>&nbsp;<span class="op" id="1527294">:=</span>&nbsp;<span class="builtintype" id="1527297">uint</span><span class="op" id="1527301">(</span><span class="ident" id="1527302"><a href="/math/modf.go.html#1527271">x</a></span><span class="op" id="1527303">&gt;&gt;</span><span class="ident" id="1527305"><a href="/math/bits.go.html#1426968">shift</a></span><span class="op" id="1527310">)</span><span class="op" id="1527311">&amp;</span><span class="ident" id="1527312"><a href="/math/bits.go.html#1426950">mask</a></span>&nbsp;<span class="op" id="1527317">-</span>&nbsp;<span class="ident" id="1527319"><a href="/math/bits.go.html#1426992">bias</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1527326">//&nbsp;Keep&nbsp;the&nbsp;top&nbsp;12+e&nbsp;bits,&nbsp;the&nbsp;integer&nbsp;part;&nbsp;clear&nbsp;the&nbsp;rest.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1527388">if</span>&nbsp;<span class="ident" id="1527391"><a href="/math/modf.go.html#1527292">e</a></span>&nbsp;<span class="op" id="1527393">&lt;</span>&nbsp;<span class="num" id="1527395">64</span><span class="op" id="1527397">-</span><span class="num" id="1527398">12</span>&nbsp;<span class="op" id="1527401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1527405"><a href="/math/modf.go.html#1527271">x</a></span>&nbsp;<span class="op" id="1527407">&amp;^=</span>&nbsp;<span class="num" id="1527411">1</span><span class="op" id="1527412">&lt;&lt;</span><span class="op" id="1527414">(</span><span class="num" id="1527415">64</span><span class="op" id="1527417">-</span><span class="num" id="1527418">12</span><span class="op" id="1527420">-</span><span class="ident" id="1527421"><a href="/math/modf.go.html#1527292">e</a></span><span class="op" id="1527422">)</span>&nbsp;<span class="op" id="1527424">-</span>&nbsp;<span class="num" id="1527426">1</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1527429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1527432"><a href="/math/modf.go.html#1527148">int</a></span>&nbsp;<span class="op" id="1527436">=</span>&nbsp;<span class="ident" id="1527438"><a href="/math/unsafe.go.html#1556218">Float64frombits</a></span><span class="op" id="1527453">(</span><span class="ident" id="1527454"><a href="/math/modf.go.html#1527271">x</a></span><span class="op" id="1527455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1527458"><a href="/math/modf.go.html#1527161">frac</a></span>&nbsp;<span class="op" id="1527463">=</span>&nbsp;<span class="ident" id="1527465"><a href="/math/modf.go.html#1527136">f</a></span>&nbsp;<span class="op" id="1527467">-</span>&nbsp;<span class="builtintype" id="1527469"><a href="/math/modf.go.html#1527148">int</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1527474">return</span><br>
<span class="lineno"></span><span class="op" id="1527481">}</span>
</div>
</body>
</html>
