<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html" class="current">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3363819">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3363874">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3363928">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3363979">package</span>&nbsp;<span class="ident" id="3363987">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3363992">import</span>&nbsp;<span class="string" id="3363999">&#34;go/ast&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3364009">type</span>&nbsp;<span class="ident" id="3364014">Filter</span>&nbsp;<span class="keyword" id="3364021">func</span><span class="op" id="3364025">(</span><span class="builtintype" id="3364026">string</span><span class="op" id="3364032">)</span>&nbsp;<span class="builtintype" id="3364034">bool</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="3364040">func</span>&nbsp;<span class="ident" id="3364045">matchFields</span><span class="op" id="3364056">(</span><span class="ident" id="3364057">fields</span>&nbsp;<span class="op" id="3364064">*</span><span class="ident" id="3364065">ast</span><span class="op" id="3364068">.</span><span class="ident" id="3364069">FieldList</span><span class="op" id="3364078">,</span>&nbsp;<span class="ident" id="3364080">f</span>&nbsp;<span class="ident" id="3364082">Filter</span><span class="op" id="3364088">)</span>&nbsp;<span class="builtintype" id="3364090">bool</span>&nbsp;<span class="op" id="3364095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364098">if</span>&nbsp;<span class="ident" id="3364101">fields</span>&nbsp;<span class="op" id="3364108">!=</span>&nbsp;<span class="builtintype" id="3364111">nil</span>&nbsp;<span class="op" id="3364115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364119">for</span>&nbsp;<span class="ident" id="3364123">_</span><span class="op" id="3364124">,</span>&nbsp;<span class="ident" id="3364126">field</span>&nbsp;<span class="op" id="3364132">:=</span>&nbsp;<span class="keyword" id="3364135">range</span>&nbsp;<span class="ident" id="3364141">fields</span><span class="op" id="3364147">.</span><span class="ident" id="3364148">List</span>&nbsp;<span class="op" id="3364153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364158">for</span>&nbsp;<span class="ident" id="3364162">_</span><span class="op" id="3364163">,</span>&nbsp;<span class="ident" id="3364165">name</span>&nbsp;<span class="op" id="3364170">:=</span>&nbsp;<span class="keyword" id="3364173">range</span>&nbsp;<span class="ident" id="3364179">field</span><span class="op" id="3364184">.</span><span class="ident" id="3364185">Names</span>&nbsp;<span class="op" id="3364191">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364197">if</span>&nbsp;<span class="ident" id="3364200">f</span><span class="op" id="3364201">(</span><span class="ident" id="3364202">name</span><span class="op" id="3364206">.</span><span class="ident" id="3364207">Name</span><span class="op" id="3364211">)</span>&nbsp;<span class="op" id="3364213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364220">return</span>&nbsp;<span class="builtintype" id="3364227">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364245">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364251">return</span>&nbsp;<span class="builtintype" id="3364258">false</span><br>
<span class="lineno"></span><span class="op" id="3364264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3364267">func</span>&nbsp;<span class="ident" id="3364272">matchDecl</span><span class="op" id="3364281">(</span><span class="ident" id="3364282">d</span>&nbsp;<span class="op" id="3364284">*</span><span class="ident" id="3364285">ast</span><span class="op" id="3364288">.</span><span class="ident" id="3364289">GenDecl</span><span class="op" id="3364296">,</span>&nbsp;<span class="ident" id="3364298">f</span>&nbsp;<span class="ident" id="3364300">Filter</span><span class="op" id="3364306">)</span>&nbsp;<span class="builtintype" id="3364308">bool</span>&nbsp;<span class="op" id="3364313">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364316">for</span>&nbsp;<span class="ident" id="3364320">_</span><span class="op" id="3364321">,</span>&nbsp;<span class="ident" id="3364323">d</span>&nbsp;<span class="op" id="3364325">:=</span>&nbsp;<span class="keyword" id="3364328">range</span>&nbsp;<span class="ident" id="3364334">d</span><span class="op" id="3364335">.</span><span class="ident" id="3364336">Specs</span>&nbsp;<span class="op" id="3364342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364346">switch</span>&nbsp;<span class="ident" id="3364353">v</span>&nbsp;<span class="op" id="3364355">:=</span>&nbsp;<span class="ident" id="3364358">d</span><span class="op" id="3364359">.</span><span class="op" id="3364360">(</span><span class="keyword" id="3364361">type</span><span class="op" id="3364365">)</span>&nbsp;<span class="op" id="3364367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364371">case</span>&nbsp;<span class="op" id="3364376">*</span><span class="ident" id="3364377">ast</span><span class="op" id="3364380">.</span><span class="ident" id="3364381">ValueSpec</span><span class="op" id="3364390">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364395">for</span>&nbsp;<span class="ident" id="3364399">_</span><span class="op" id="3364400">,</span>&nbsp;<span class="ident" id="3364402">name</span>&nbsp;<span class="op" id="3364407">:=</span>&nbsp;<span class="keyword" id="3364410">range</span>&nbsp;<span class="ident" id="3364416">v</span><span class="op" id="3364417">.</span><span class="ident" id="3364418">Names</span>&nbsp;<span class="op" id="3364424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364430">if</span>&nbsp;<span class="ident" id="3364433">f</span><span class="op" id="3364434">(</span><span class="ident" id="3364435">name</span><span class="op" id="3364439">.</span><span class="ident" id="3364440">Name</span><span class="op" id="3364444">)</span>&nbsp;<span class="op" id="3364446">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364453">return</span>&nbsp;<span class="builtintype" id="3364460">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364478">case</span>&nbsp;<span class="op" id="3364483">*</span><span class="ident" id="3364484">ast</span><span class="op" id="3364487">.</span><span class="ident" id="3364488">TypeSpec</span><span class="op" id="3364496">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364501">if</span>&nbsp;<span class="ident" id="3364504">f</span><span class="op" id="3364505">(</span><span class="ident" id="3364506">v</span><span class="op" id="3364507">.</span><span class="ident" id="3364508">Name</span><span class="op" id="3364512">.</span><span class="ident" id="3364513">Name</span><span class="op" id="3364517">)</span>&nbsp;<span class="op" id="3364519">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364525">return</span>&nbsp;<span class="builtintype" id="3364532">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364545">switch</span>&nbsp;<span class="ident" id="3364552">t</span>&nbsp;<span class="op" id="3364554">:=</span>&nbsp;<span class="ident" id="3364557">v</span><span class="op" id="3364558">.</span><span class="ident" id="3364559">Type</span><span class="op" id="3364563">.</span><span class="op" id="3364564">(</span><span class="keyword" id="3364565">type</span><span class="op" id="3364569">)</span>&nbsp;<span class="op" id="3364571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364576">case</span>&nbsp;<span class="op" id="3364581">*</span><span class="ident" id="3364582">ast</span><span class="op" id="3364585">.</span><span class="ident" id="3364586">StructType</span><span class="op" id="3364596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364602">if</span>&nbsp;<span class="ident" id="3364605">matchFields</span><span class="op" id="3364616">(</span><span class="ident" id="3364617">t</span><span class="op" id="3364618">.</span><span class="ident" id="3364619">Fields</span><span class="op" id="3364625">,</span>&nbsp;<span class="ident" id="3364627">f</span><span class="op" id="3364628">)</span>&nbsp;<span class="op" id="3364630">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364637">return</span>&nbsp;<span class="builtintype" id="3364644">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364658">case</span>&nbsp;<span class="op" id="3364663">*</span><span class="ident" id="3364664">ast</span><span class="op" id="3364667">.</span><span class="ident" id="3364668">InterfaceType</span><span class="op" id="3364681">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364687">if</span>&nbsp;<span class="ident" id="3364690">matchFields</span><span class="op" id="3364701">(</span><span class="ident" id="3364702">t</span><span class="op" id="3364703">.</span><span class="ident" id="3364704">Methods</span><span class="op" id="3364711">,</span>&nbsp;<span class="ident" id="3364713">f</span><span class="op" id="3364714">)</span>&nbsp;<span class="op" id="3364716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364723">return</span>&nbsp;<span class="builtintype" id="3364730">true</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364754">return</span>&nbsp;<span class="builtintype" id="3364761">false</span><br>
<span class="lineno">50</span><span class="op" id="3364767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3364770">func</span>&nbsp;<span class="ident" id="3364775">filterValues</span><span class="op" id="3364787">(</span><span class="ident" id="3364788">a</span>&nbsp;<span class="op" id="3364790">[</span><span class="op" id="3364791">]</span><span class="op" id="3364792">*</span><span class="ident" id="3364793">Value</span><span class="op" id="3364798">,</span>&nbsp;<span class="ident" id="3364800">f</span>&nbsp;<span class="ident" id="3364802">Filter</span><span class="op" id="3364808">)</span>&nbsp;<span class="op" id="3364810">[</span><span class="op" id="3364811">]</span><span class="op" id="3364812">*</span><span class="ident" id="3364813">Value</span>&nbsp;<span class="op" id="3364819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364822">w</span>&nbsp;<span class="op" id="3364824">:=</span>&nbsp;<span class="num" id="3364827">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364830">for</span>&nbsp;<span class="ident" id="3364834">_</span><span class="op" id="3364835">,</span>&nbsp;<span class="ident" id="3364837">vd</span>&nbsp;<span class="op" id="3364840">:=</span>&nbsp;<span class="keyword" id="3364843">range</span>&nbsp;<span class="ident" id="3364849">a</span>&nbsp;<span class="op" id="3364851">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364855">if</span>&nbsp;<span class="ident" id="3364858">matchDecl</span><span class="op" id="3364867">(</span><span class="ident" id="3364868">vd</span><span class="op" id="3364870">.</span><span class="ident" id="3364871">Decl</span><span class="op" id="3364875">,</span>&nbsp;<span class="ident" id="3364877">f</span><span class="op" id="3364878">)</span>&nbsp;<span class="op" id="3364880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364885">a</span><span class="op" id="3364886">[</span><span class="ident" id="3364887">w</span><span class="op" id="3364888">]</span>&nbsp;<span class="op" id="3364890">=</span>&nbsp;<span class="ident" id="3364892">vd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364898">w</span><span class="op" id="3364899">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3364907">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364910">return</span>&nbsp;<span class="ident" id="3364917">a</span><span class="op" id="3364918">[</span><span class="num" id="3364919">0</span><span class="op" id="3364920">:</span><span class="ident" id="3364921">w</span><span class="op" id="3364922">]</span><br>
<span class="lineno"></span><span class="op" id="3364924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3364927">func</span>&nbsp;<span class="ident" id="3364932">filterFuncs</span><span class="op" id="3364943">(</span><span class="ident" id="3364944">a</span>&nbsp;<span class="op" id="3364946">[</span><span class="op" id="3364947">]</span><span class="op" id="3364948">*</span><span class="ident" id="3364949">Func</span><span class="op" id="3364953">,</span>&nbsp;<span class="ident" id="3364955">f</span>&nbsp;<span class="ident" id="3364957">Filter</span><span class="op" id="3364963">)</span>&nbsp;<span class="op" id="3364965">[</span><span class="op" id="3364966">]</span><span class="op" id="3364967">*</span><span class="ident" id="3364968">Func</span>&nbsp;<span class="op" id="3364973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364976">w</span>&nbsp;<span class="op" id="3364978">:=</span>&nbsp;<span class="num" id="3364981">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364984">for</span>&nbsp;<span class="ident" id="3364988">_</span><span class="op" id="3364989">,</span>&nbsp;<span class="ident" id="3364991">fd</span>&nbsp;<span class="op" id="3364994">:=</span>&nbsp;<span class="keyword" id="3364997">range</span>&nbsp;<span class="ident" id="3365003">a</span>&nbsp;<span class="op" id="3365005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365009">if</span>&nbsp;<span class="ident" id="3365012">f</span><span class="op" id="3365013">(</span><span class="ident" id="3365014">fd</span><span class="op" id="3365016">.</span><span class="ident" id="3365017">Name</span><span class="op" id="3365021">)</span>&nbsp;<span class="op" id="3365023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365028">a</span><span class="op" id="3365029">[</span><span class="ident" id="3365030">w</span><span class="op" id="3365031">]</span>&nbsp;<span class="op" id="3365033">=</span>&nbsp;<span class="ident" id="3365035">fd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365041">w</span><span class="op" id="3365042">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365047">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365053">return</span>&nbsp;<span class="ident" id="3365060">a</span><span class="op" id="3365061">[</span><span class="num" id="3365062">0</span><span class="op" id="3365063">:</span><span class="ident" id="3365064">w</span><span class="op" id="3365065">]</span><br>
<span class="lineno"></span><span class="op" id="3365067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3365070">func</span>&nbsp;<span class="ident" id="3365075">filterTypes</span><span class="op" id="3365086">(</span><span class="ident" id="3365087">a</span>&nbsp;<span class="op" id="3365089">[</span><span class="op" id="3365090">]</span><span class="op" id="3365091">*</span><span class="ident" id="3365092">Type</span><span class="op" id="3365096">,</span>&nbsp;<span class="ident" id="3365098">f</span>&nbsp;<span class="ident" id="3365100">Filter</span><span class="op" id="3365106">)</span>&nbsp;<span class="op" id="3365108">[</span><span class="op" id="3365109">]</span><span class="op" id="3365110">*</span><span class="ident" id="3365111">Type</span>&nbsp;<span class="op" id="3365116">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365119">w</span>&nbsp;<span class="op" id="3365121">:=</span>&nbsp;<span class="num" id="3365124">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365127">for</span>&nbsp;<span class="ident" id="3365131">_</span><span class="op" id="3365132">,</span>&nbsp;<span class="ident" id="3365134">td</span>&nbsp;<span class="op" id="3365137">:=</span>&nbsp;<span class="keyword" id="3365140">range</span>&nbsp;<span class="ident" id="3365146">a</span>&nbsp;<span class="op" id="3365148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365152">n</span>&nbsp;<span class="op" id="3365154">:=</span>&nbsp;<span class="num" id="3365157">0</span>&nbsp;<span class="comment" id="3365159">//&nbsp;number&nbsp;of&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365182">if</span>&nbsp;<span class="ident" id="3365185">matchDecl</span><span class="op" id="3365194">(</span><span class="ident" id="3365195">td</span><span class="op" id="3365197">.</span><span class="ident" id="3365198">Decl</span><span class="op" id="3365202">,</span>&nbsp;<span class="ident" id="3365204">f</span><span class="op" id="3365205">)</span>&nbsp;<span class="op" id="3365207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365212">n</span>&nbsp;<span class="op" id="3365214">=</span>&nbsp;<span class="num" id="3365216">1</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365220">}</span>&nbsp;<span class="keyword" id="3365222">else</span>&nbsp;<span class="op" id="3365227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3365232">//&nbsp;type&nbsp;name&nbsp;doesn&#39;t&nbsp;match,&nbsp;but&nbsp;we&nbsp;may&nbsp;have&nbsp;matching&nbsp;consts,&nbsp;vars,&nbsp;factories&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365323">td</span><span class="op" id="3365325">.</span><span class="ident" id="3365326">Consts</span>&nbsp;<span class="op" id="3365333">=</span>&nbsp;<span class="ident" id="3365335">filterValues</span><span class="op" id="3365347">(</span><span class="ident" id="3365348">td</span><span class="op" id="3365350">.</span><span class="ident" id="3365351">Consts</span><span class="op" id="3365357">,</span>&nbsp;<span class="ident" id="3365359">f</span><span class="op" id="3365360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365365">td</span><span class="op" id="3365367">.</span><span class="ident" id="3365368">Vars</span>&nbsp;<span class="op" id="3365373">=</span>&nbsp;<span class="ident" id="3365375">filterValues</span><span class="op" id="3365387">(</span><span class="ident" id="3365388">td</span><span class="op" id="3365390">.</span><span class="ident" id="3365391">Vars</span><span class="op" id="3365395">,</span>&nbsp;<span class="ident" id="3365397">f</span><span class="op" id="3365398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365403">td</span><span class="op" id="3365405">.</span><span class="ident" id="3365406">Funcs</span>&nbsp;<span class="op" id="3365412">=</span>&nbsp;<span class="ident" id="3365414">filterFuncs</span><span class="op" id="3365425">(</span><span class="ident" id="3365426">td</span><span class="op" id="3365428">.</span><span class="ident" id="3365429">Funcs</span><span class="op" id="3365434">,</span>&nbsp;<span class="ident" id="3365436">f</span><span class="op" id="3365437">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365442">td</span><span class="op" id="3365444">.</span><span class="ident" id="3365445">Methods</span>&nbsp;<span class="op" id="3365453">=</span>&nbsp;<span class="ident" id="3365455">filterFuncs</span><span class="op" id="3365466">(</span><span class="ident" id="3365467">td</span><span class="op" id="3365469">.</span><span class="ident" id="3365470">Methods</span><span class="op" id="3365477">,</span>&nbsp;<span class="ident" id="3365479">f</span><span class="op" id="3365480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365485">n</span>&nbsp;<span class="op" id="3365487">+=</span>&nbsp;<span class="builtinfunc" id="3365490">len</span><span class="op" id="3365493">(</span><span class="ident" id="3365494">td</span><span class="op" id="3365496">.</span><span class="ident" id="3365497">Consts</span><span class="op" id="3365503">)</span>&nbsp;<span class="op" id="3365505">+</span>&nbsp;<span class="builtinfunc" id="3365507">len</span><span class="op" id="3365510">(</span><span class="ident" id="3365511">td</span><span class="op" id="3365513">.</span><span class="ident" id="3365514">Vars</span><span class="op" id="3365518">)</span>&nbsp;<span class="op" id="3365520">+</span>&nbsp;<span class="builtinfunc" id="3365522">len</span><span class="op" id="3365525">(</span><span class="ident" id="3365526">td</span><span class="op" id="3365528">.</span><span class="ident" id="3365529">Funcs</span><span class="op" id="3365534">)</span>&nbsp;<span class="op" id="3365536">+</span>&nbsp;<span class="builtinfunc" id="3365538">len</span><span class="op" id="3365541">(</span><span class="ident" id="3365542">td</span><span class="op" id="3365544">.</span><span class="ident" id="3365545">Methods</span><span class="op" id="3365552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365560">if</span>&nbsp;<span class="ident" id="3365563">n</span>&nbsp;<span class="op" id="3365565">&gt;</span>&nbsp;<span class="num" id="3365567">0</span>&nbsp;<span class="op" id="3365569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365574">a</span><span class="op" id="3365575">[</span><span class="ident" id="3365576">w</span><span class="op" id="3365577">]</span>&nbsp;<span class="op" id="3365579">=</span>&nbsp;<span class="ident" id="3365581">td</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365587">w</span><span class="op" id="3365588">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3365596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3365599">return</span>&nbsp;<span class="ident" id="3365606">a</span><span class="op" id="3365607">[</span><span class="num" id="3365608">0</span><span class="op" id="3365609">:</span><span class="ident" id="3365610">w</span><span class="op" id="3365611">]</span><br>
<span class="lineno"></span><span class="op" id="3365613">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="3365616">//&nbsp;Filter&nbsp;eliminates&nbsp;documentation&nbsp;for&nbsp;names&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="3365699">//&nbsp;TODO(gri):&nbsp;Recognize&nbsp;&#34;Type.Method&#34;&nbsp;as&nbsp;a&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3365748">//</span><br>
<span class="lineno"></span><span class="keyword" id="3365751">func</span>&nbsp;<span class="op" id="3365756">(</span><span class="ident" id="3365757">p</span>&nbsp;<span class="op" id="3365759">*</span><span class="ident" id="3365760">Package</span><span class="op" id="3365767">)</span>&nbsp;<span class="ident" id="3365769">Filter</span><span class="op" id="3365775">(</span><span class="ident" id="3365776">f</span>&nbsp;<span class="ident" id="3365778">Filter</span><span class="op" id="3365784">)</span>&nbsp;<span class="op" id="3365786">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365789">p</span><span class="op" id="3365790">.</span><span class="ident" id="3365791">Consts</span>&nbsp;<span class="op" id="3365798">=</span>&nbsp;<span class="ident" id="3365800">filterValues</span><span class="op" id="3365812">(</span><span class="ident" id="3365813">p</span><span class="op" id="3365814">.</span><span class="ident" id="3365815">Consts</span><span class="op" id="3365821">,</span>&nbsp;<span class="ident" id="3365823">f</span><span class="op" id="3365824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365827">p</span><span class="op" id="3365828">.</span><span class="ident" id="3365829">Vars</span>&nbsp;<span class="op" id="3365834">=</span>&nbsp;<span class="ident" id="3365836">filterValues</span><span class="op" id="3365848">(</span><span class="ident" id="3365849">p</span><span class="op" id="3365850">.</span><span class="ident" id="3365851">Vars</span><span class="op" id="3365855">,</span>&nbsp;<span class="ident" id="3365857">f</span><span class="op" id="3365858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365861">p</span><span class="op" id="3365862">.</span><span class="ident" id="3365863">Types</span>&nbsp;<span class="op" id="3365869">=</span>&nbsp;<span class="ident" id="3365871">filterTypes</span><span class="op" id="3365882">(</span><span class="ident" id="3365883">p</span><span class="op" id="3365884">.</span><span class="ident" id="3365885">Types</span><span class="op" id="3365890">,</span>&nbsp;<span class="ident" id="3365892">f</span><span class="op" id="3365893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365896">p</span><span class="op" id="3365897">.</span><span class="ident" id="3365898">Funcs</span>&nbsp;<span class="op" id="3365904">=</span>&nbsp;<span class="ident" id="3365906">filterFuncs</span><span class="op" id="3365917">(</span><span class="ident" id="3365918">p</span><span class="op" id="3365919">.</span><span class="ident" id="3365920">Funcs</span><span class="op" id="3365925">,</span>&nbsp;<span class="ident" id="3365927">f</span><span class="op" id="3365928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3365931">p</span><span class="op" id="3365932">.</span><span class="ident" id="3365933">Doc</span>&nbsp;<span class="op" id="3365937">=</span>&nbsp;<span class="string" id="3365939">&#34;&#34;</span>&nbsp;<span class="comment" id="3365942">//&nbsp;don&#39;t&nbsp;show&nbsp;top-level&nbsp;package&nbsp;doc</span><br>
<span class="lineno">105</span><span class="op" id="3365978">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
