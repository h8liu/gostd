<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5570903">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5570959">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5571013">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5571064">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="5571105">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5571164">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="5571223">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="5571287">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5571366">package</span>&nbsp;<span class="ident" id="5571374">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5571381">import</span>&nbsp;<span class="op" id="5571388">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5571391">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5571401">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="5571411">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5571414">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="5571472">type</span>&nbsp;<span class="ident" id="5571477">abbrev</span>&nbsp;<span class="keyword" id="5571484">struct</span>&nbsp;<span class="op" id="5571491">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571494">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5571503">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571508">children</span>&nbsp;<span class="builtintype" id="5571517">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571523">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5571532">[</span><span class="op" id="5571533">]</span><span class="ident" id="5571534">afield</span><br>
<span class="lineno"></span><span class="op" id="5571541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="5571544">type</span>&nbsp;<span class="ident" id="5571549">afield</span>&nbsp;<span class="keyword" id="5571556">struct</span>&nbsp;<span class="op" id="5571563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571566">attr</span>&nbsp;<span class="ident" id="5571571">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571577">fmt</span>&nbsp;&nbsp;<span class="ident" id="5571582">format</span><br>
<span class="lineno"></span><span class="op" id="5571589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5571592">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="5571645">type</span>&nbsp;<span class="ident" id="5571650">abbrevTable</span>&nbsp;<span class="keyword" id="5571662">map</span><span class="op" id="5571665">[</span><span class="builtintype" id="5571666">uint32</span><span class="op" id="5571672">]</span><span class="ident" id="5571673">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5571681">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="5571751">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="5571784">func</span>&nbsp;<span class="op" id="5571789">(</span><span class="ident" id="5571790">d</span>&nbsp;<span class="op" id="5571792">*</span><span class="ident" id="5571793">Data</span><span class="op" id="5571797">)</span>&nbsp;<span class="ident" id="5571799">parseAbbrev</span><span class="op" id="5571810">(</span><span class="ident" id="5571811">off</span>&nbsp;<span class="builtintype" id="5571815">uint32</span><span class="op" id="5571821">)</span>&nbsp;<span class="op" id="5571823">(</span><span class="ident" id="5571824">abbrevTable</span><span class="op" id="5571835">,</span>&nbsp;<span class="builtintype" id="5571837">error</span><span class="op" id="5571842">)</span>&nbsp;<span class="op" id="5571844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5571847">if</span>&nbsp;<span class="ident" id="5571850">m</span><span class="op" id="5571851">,</span>&nbsp;<span class="ident" id="5571853">ok</span>&nbsp;<span class="op" id="5571856">:=</span>&nbsp;<span class="ident" id="5571859">d</span><span class="op" id="5571860">.</span><span class="ident" id="5571861">abbrevCache</span><span class="op" id="5571872">[</span><span class="ident" id="5571873">off</span><span class="op" id="5571876">]</span><span class="op" id="5571877">;</span>&nbsp;<span class="ident" id="5571879">ok</span>&nbsp;<span class="op" id="5571882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5571886">return</span>&nbsp;<span class="ident" id="5571893">m</span><span class="op" id="5571894">,</span>&nbsp;<span class="ident" id="5571896">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5571901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571905">data</span>&nbsp;<span class="op" id="5571910">:=</span>&nbsp;<span class="ident" id="5571913">d</span><span class="op" id="5571914">.</span><span class="ident" id="5571915">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5571923">if</span>&nbsp;<span class="ident" id="5571926">off</span>&nbsp;<span class="op" id="5571930">&gt;</span>&nbsp;<span class="builtintype" id="5571932">uint32</span><span class="op" id="5571938">(</span><span class="builtinfunc" id="5571939">len</span><span class="op" id="5571942">(</span><span class="ident" id="5571943">data</span><span class="op" id="5571947">)</span><span class="op" id="5571948">)</span>&nbsp;<span class="op" id="5571950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571954">data</span>&nbsp;<span class="op" id="5571959">=</span>&nbsp;<span class="ident" id="5571961">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5571966">}</span>&nbsp;<span class="keyword" id="5571968">else</span>&nbsp;<span class="op" id="5571973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571977">data</span>&nbsp;<span class="op" id="5571982">=</span>&nbsp;<span class="ident" id="5571984">data</span><span class="op" id="5571988">[</span><span class="ident" id="5571989">off</span><span class="op" id="5571992">:</span><span class="op" id="5571993">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5571996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571999">b</span>&nbsp;<span class="op" id="5572001">:=</span>&nbsp;<span class="ident" id="5572004">makeBuf</span><span class="op" id="5572011">(</span><span class="ident" id="5572012">d</span><span class="op" id="5572013">,</span>&nbsp;<span class="ident" id="5572015">unknownFormat</span><span class="op" id="5572028">{</span><span class="op" id="5572029">}</span><span class="op" id="5572030">,</span>&nbsp;<span class="string" id="5572032">&#34;abbrev&#34;</span><span class="op" id="5572040">,</span>&nbsp;<span class="num" id="5572042">0</span><span class="op" id="5572043">,</span>&nbsp;<span class="ident" id="5572045">data</span><span class="op" id="5572049">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5572053">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5572105">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572159">m</span>&nbsp;<span class="op" id="5572161">:=</span>&nbsp;<span class="builtinfunc" id="5572164">make</span><span class="op" id="5572168">(</span><span class="ident" id="5572169">abbrevTable</span><span class="op" id="5572180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572183">for</span>&nbsp;<span class="op" id="5572187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5572191">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572221">id</span>&nbsp;<span class="op" id="5572224">:=</span>&nbsp;<span class="builtintype" id="5572227">uint32</span><span class="op" id="5572233">(</span><span class="ident" id="5572234">b</span><span class="op" id="5572235">.</span><span class="builtintype" id="5572236">uint</span><span class="op" id="5572240">(</span><span class="op" id="5572241">)</span><span class="op" id="5572242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572246">if</span>&nbsp;<span class="ident" id="5572249">id</span>&nbsp;<span class="op" id="5572252">==</span>&nbsp;<span class="num" id="5572255">0</span>&nbsp;<span class="op" id="5572257">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572262">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5572270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5572275">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572312">n</span>&nbsp;<span class="op" id="5572314">:=</span>&nbsp;<span class="num" id="5572317">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572321">b1</span>&nbsp;<span class="op" id="5572324">:=</span>&nbsp;<span class="ident" id="5572327">b</span>&nbsp;<span class="comment" id="5572329">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572355">b1</span><span class="op" id="5572357">.</span><span class="builtintype" id="5572358">uint</span><span class="op" id="5572362">(</span><span class="op" id="5572363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572367">b1</span><span class="op" id="5572369">.</span><span class="builtintype" id="5572370">uint8</span><span class="op" id="5572375">(</span><span class="op" id="5572376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572380">for</span>&nbsp;<span class="op" id="5572384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572389">tag</span>&nbsp;<span class="op" id="5572393">:=</span>&nbsp;<span class="ident" id="5572396">b1</span><span class="op" id="5572398">.</span><span class="builtintype" id="5572399">uint</span><span class="op" id="5572403">(</span><span class="op" id="5572404">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572409">fmt</span>&nbsp;<span class="op" id="5572413">:=</span>&nbsp;<span class="ident" id="5572416">b1</span><span class="op" id="5572418">.</span><span class="builtintype" id="5572419">uint</span><span class="op" id="5572423">(</span><span class="op" id="5572424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572429">if</span>&nbsp;<span class="ident" id="5572432">tag</span>&nbsp;<span class="op" id="5572436">==</span>&nbsp;<span class="num" id="5572439">0</span>&nbsp;<span class="op" id="5572441">&amp;&amp;</span>&nbsp;<span class="ident" id="5572444">fmt</span>&nbsp;<span class="op" id="5572448">==</span>&nbsp;<span class="num" id="5572451">0</span>&nbsp;<span class="op" id="5572453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572459">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5572468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572473">n</span><span class="op" id="5572474">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5572479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572483">if</span>&nbsp;<span class="ident" id="5572486">b1</span><span class="op" id="5572488">.</span><span class="ident" id="5572489">err</span>&nbsp;<span class="op" id="5572493">!=</span>&nbsp;<span class="ident" id="5572496">nil</span>&nbsp;<span class="op" id="5572500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572505">return</span>&nbsp;<span class="ident" id="5572512">nil</span><span class="op" id="5572515">,</span>&nbsp;<span class="ident" id="5572517">b1</span><span class="op" id="5572519">.</span><span class="ident" id="5572520">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5572526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5572531">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572593">var</span>&nbsp;<span class="ident" id="5572597">a</span>&nbsp;<span class="ident" id="5572599">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572608">a</span><span class="op" id="5572609">.</span><span class="ident" id="5572610">tag</span>&nbsp;<span class="op" id="5572614">=</span>&nbsp;<span class="ident" id="5572616">Tag</span><span class="op" id="5572619">(</span><span class="ident" id="5572620">b</span><span class="op" id="5572621">.</span><span class="builtintype" id="5572622">uint</span><span class="op" id="5572626">(</span><span class="op" id="5572627">)</span><span class="op" id="5572628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572632">a</span><span class="op" id="5572633">.</span><span class="ident" id="5572634">children</span>&nbsp;<span class="op" id="5572643">=</span>&nbsp;<span class="ident" id="5572645">b</span><span class="op" id="5572646">.</span><span class="builtintype" id="5572647">uint8</span><span class="op" id="5572652">(</span><span class="op" id="5572653">)</span>&nbsp;<span class="op" id="5572655">!=</span>&nbsp;<span class="num" id="5572658">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572662">a</span><span class="op" id="5572663">.</span><span class="ident" id="5572664">field</span>&nbsp;<span class="op" id="5572670">=</span>&nbsp;<span class="builtinfunc" id="5572672">make</span><span class="op" id="5572676">(</span><span class="op" id="5572677">[</span><span class="op" id="5572678">]</span><span class="ident" id="5572679">afield</span><span class="op" id="5572685">,</span>&nbsp;<span class="ident" id="5572687">n</span><span class="op" id="5572688">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572692">for</span>&nbsp;<span class="ident" id="5572696">i</span>&nbsp;<span class="op" id="5572698">:=</span>&nbsp;<span class="keyword" id="5572701">range</span>&nbsp;<span class="ident" id="5572707">a</span><span class="op" id="5572708">.</span><span class="ident" id="5572709">field</span>&nbsp;<span class="op" id="5572715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572720">a</span><span class="op" id="5572721">.</span><span class="ident" id="5572722">field</span><span class="op" id="5572727">[</span><span class="ident" id="5572728">i</span><span class="op" id="5572729">]</span><span class="op" id="5572730">.</span><span class="ident" id="5572731">attr</span>&nbsp;<span class="op" id="5572736">=</span>&nbsp;<span class="ident" id="5572738">Attr</span><span class="op" id="5572742">(</span><span class="ident" id="5572743">b</span><span class="op" id="5572744">.</span><span class="builtintype" id="5572745">uint</span><span class="op" id="5572749">(</span><span class="op" id="5572750">)</span><span class="op" id="5572751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572756">a</span><span class="op" id="5572757">.</span><span class="ident" id="5572758">field</span><span class="op" id="5572763">[</span><span class="ident" id="5572764">i</span><span class="op" id="5572765">]</span><span class="op" id="5572766">.</span><span class="ident" id="5572767">fmt</span>&nbsp;<span class="op" id="5572771">=</span>&nbsp;<span class="ident" id="5572773">format</span><span class="op" id="5572779">(</span><span class="ident" id="5572780">b</span><span class="op" id="5572781">.</span><span class="builtintype" id="5572782">uint</span><span class="op" id="5572786">(</span><span class="op" id="5572787">)</span><span class="op" id="5572788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5572792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572796">b</span><span class="op" id="5572797">.</span><span class="builtintype" id="5572798">uint</span><span class="op" id="5572802">(</span><span class="op" id="5572803">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572807">b</span><span class="op" id="5572808">.</span><span class="builtintype" id="5572809">uint</span><span class="op" id="5572813">(</span><span class="op" id="5572814">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572819">m</span><span class="op" id="5572820">[</span><span class="ident" id="5572821">id</span><span class="op" id="5572823">]</span>&nbsp;<span class="op" id="5572825">=</span>&nbsp;<span class="ident" id="5572827">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5572830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572833">if</span>&nbsp;<span class="ident" id="5572836">b</span><span class="op" id="5572837">.</span><span class="ident" id="5572838">err</span>&nbsp;<span class="op" id="5572842">!=</span>&nbsp;<span class="ident" id="5572845">nil</span>&nbsp;<span class="op" id="5572849">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572853">return</span>&nbsp;<span class="ident" id="5572860">nil</span><span class="op" id="5572863">,</span>&nbsp;<span class="ident" id="5572865">b</span><span class="op" id="5572866">.</span><span class="ident" id="5572867">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5572872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572875">d</span><span class="op" id="5572876">.</span><span class="ident" id="5572877">abbrevCache</span><span class="op" id="5572888">[</span><span class="ident" id="5572889">off</span><span class="op" id="5572892">]</span>&nbsp;<span class="op" id="5572894">=</span>&nbsp;<span class="ident" id="5572896">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5572899">return</span>&nbsp;<span class="ident" id="5572906">m</span><span class="op" id="5572907">,</span>&nbsp;<span class="ident" id="5572909">nil</span><br>
<span class="lineno"></span><span class="op" id="5572913">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5572916">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="5572968">type</span>&nbsp;<span class="ident" id="5572973">Entry</span>&nbsp;<span class="keyword" id="5572979">struct</span>&nbsp;<span class="op" id="5572986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5572989">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5572998">Offset</span>&nbsp;<span class="comment" id="5573005">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5573039">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5573048">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5573055">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5573079">Children</span>&nbsp;<span class="builtintype" id="5573088">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5573095">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5573137">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5573146">[</span><span class="op" id="5573147">]</span><span class="ident" id="5573148">Field</span><br>
<span class="lineno"></span><span class="op" id="5573154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5573157">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="5573214">type</span>&nbsp;<span class="ident" id="5573219">Field</span>&nbsp;<span class="keyword" id="5573225">struct</span>&nbsp;<span class="op" id="5573232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5573235">Attr</span>&nbsp;<span class="ident" id="5573240">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5573246">Val</span>&nbsp;&nbsp;<span class="keyword" id="5573251">interface</span><span class="op" id="5573260">{</span><span class="op" id="5573261">}</span><br>
<span class="lineno"></span><span class="op" id="5573263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="5573266">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="5573332">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="5573373">//</span><br>
<span class="lineno"></span><span class="comment" id="5573376">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5573436">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="5573502">//&nbsp;&nbsp;&nbsp;&nbspv,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="5573542">//</span><br>
<span class="lineno"></span><span class="keyword" id="5573545">func</span>&nbsp;<span class="op" id="5573550">(</span><span class="ident" id="5573551">e</span>&nbsp;<span class="op" id="5573553">*</span><span class="ident" id="5573554">Entry</span><span class="op" id="5573559">)</span>&nbsp;<span class="ident" id="5573561">Val</span><span class="op" id="5573564">(</span><span class="ident" id="5573565">a</span>&nbsp;<span class="ident" id="5573567">Attr</span><span class="op" id="5573571">)</span>&nbsp;<span class="keyword" id="5573573">interface</span><span class="op" id="5573582">{</span><span class="op" id="5573583">}</span>&nbsp;<span class="op" id="5573585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5573588">for</span>&nbsp;<span class="ident" id="5573592">_</span><span class="op" id="5573593">,</span>&nbsp;<span class="ident" id="5573595">f</span>&nbsp;<span class="op" id="5573597">:=</span>&nbsp;<span class="keyword" id="5573600">range</span>&nbsp;<span class="ident" id="5573606">e</span><span class="op" id="5573607">.</span><span class="ident" id="5573608">Field</span>&nbsp;<span class="op" id="5573614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5573618">if</span>&nbsp;<span class="ident" id="5573621">f</span><span class="op" id="5573622">.</span><span class="ident" id="5573623">Attr</span>&nbsp;<span class="op" id="5573628">==</span>&nbsp;<span class="ident" id="5573631">a</span>&nbsp;<span class="op" id="5573633">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5573638">return</span>&nbsp;<span class="ident" id="5573645">f</span><span class="op" id="5573646">.</span><span class="ident" id="5573647">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5573653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5573656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5573659">return</span>&nbsp;<span class="ident" id="5573666">nil</span><br>
<span class="lineno"></span><span class="op" id="5573670">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="5573673">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="5573745">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="5573767">type</span>&nbsp;<span class="ident" id="5573772">Offset</span>&nbsp;<span class="builtintype" id="5573779">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="5573787">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="5573836">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5573882">func</span>&nbsp;<span class="op" id="5573887">(</span><span class="ident" id="5573888">b</span>&nbsp;<span class="op" id="5573890">*</span><span class="ident" id="5573891">buf</span><span class="op" id="5573894">)</span>&nbsp;<span class="ident" id="5573896">entry</span><span class="op" id="5573901">(</span><span class="ident" id="5573902">atab</span>&nbsp;<span class="ident" id="5573907">abbrevTable</span><span class="op" id="5573918">,</span>&nbsp;<span class="ident" id="5573920">ubase</span>&nbsp;<span class="ident" id="5573926">Offset</span><span class="op" id="5573932">)</span>&nbsp;<span class="op" id="5573934">*</span><span class="ident" id="5573935">Entry</span>&nbsp;<span class="op" id="5573941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5573944">off</span>&nbsp;<span class="op" id="5573948">:=</span>&nbsp;<span class="ident" id="5573951">b</span><span class="op" id="5573952">.</span><span class="ident" id="5573953">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5573958">id</span>&nbsp;<span class="op" id="5573961">:=</span>&nbsp;<span class="builtintype" id="5573964">uint32</span><span class="op" id="5573970">(</span><span class="ident" id="5573971">b</span><span class="op" id="5573972">.</span><span class="builtintype" id="5573973">uint</span><span class="op" id="5573977">(</span><span class="op" id="5573978">)</span><span class="op" id="5573979">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5573982">if</span>&nbsp;<span class="ident" id="5573985">id</span>&nbsp;<span class="op" id="5573988">==</span>&nbsp;<span class="num" id="5573991">0</span>&nbsp;<span class="op" id="5573993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5573997">return</span>&nbsp;<span class="op" id="5574004">&amp;</span><span class="ident" id="5574005">Entry</span><span class="op" id="5574010">{</span><span class="op" id="5574011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5574014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574017">a</span><span class="op" id="5574018">,</span>&nbsp;<span class="ident" id="5574020">ok</span>&nbsp;<span class="op" id="5574023">:=</span>&nbsp;<span class="ident" id="5574026">atab</span><span class="op" id="5574030">[</span><span class="ident" id="5574031">id</span><span class="op" id="5574033">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574036">if</span>&nbsp;<span class="op" id="5574039">!</span><span class="ident" id="5574040">ok</span>&nbsp;<span class="op" id="5574043">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574047">b</span><span class="op" id="5574048">.</span><span class="builtintype" id="5574049">error</span><span class="op" id="5574054">(</span><span class="string" id="5574055">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="5574089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574093">return</span>&nbsp;<span class="ident" id="5574100">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5574105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574108">e</span>&nbsp;<span class="op" id="5574110">:=</span>&nbsp;<span class="op" id="5574113">&amp;</span><span class="ident" id="5574114">Entry</span><span class="op" id="5574119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574123">Offset</span><span class="op" id="5574129">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5574133">off</span><span class="op" id="5574136">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574140">Tag</span><span class="op" id="5574143">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5574150">a</span><span class="op" id="5574151">.</span><span class="ident" id="5574152">tag</span><span class="op" id="5574155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574159">Children</span><span class="op" id="5574167">:</span>&nbsp;<span class="ident" id="5574169">a</span><span class="op" id="5574170">.</span><span class="ident" id="5574171">children</span><span class="op" id="5574179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574183">Field</span><span class="op" id="5574188">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5574193">make</span><span class="op" id="5574197">(</span><span class="op" id="5574198">[</span><span class="op" id="5574199">]</span><span class="ident" id="5574200">Field</span><span class="op" id="5574205">,</span>&nbsp;<span class="builtinfunc" id="5574207">len</span><span class="op" id="5574210">(</span><span class="ident" id="5574211">a</span><span class="op" id="5574212">.</span><span class="ident" id="5574213">field</span><span class="op" id="5574218">)</span><span class="op" id="5574219">)</span><span class="op" id="5574220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5574223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574226">for</span>&nbsp;<span class="ident" id="5574230">i</span>&nbsp;<span class="op" id="5574232">:=</span>&nbsp;<span class="keyword" id="5574235">range</span>&nbsp;<span class="ident" id="5574241">e</span><span class="op" id="5574242">.</span><span class="ident" id="5574243">Field</span>&nbsp;<span class="op" id="5574249">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574253">e</span><span class="op" id="5574254">.</span><span class="ident" id="5574255">Field</span><span class="op" id="5574260">[</span><span class="ident" id="5574261">i</span><span class="op" id="5574262">]</span><span class="op" id="5574263">.</span><span class="ident" id="5574264">Attr</span>&nbsp;<span class="op" id="5574269">=</span>&nbsp;<span class="ident" id="5574271">a</span><span class="op" id="5574272">.</span><span class="ident" id="5574273">field</span><span class="op" id="5574278">[</span><span class="ident" id="5574279">i</span><span class="op" id="5574280">]</span><span class="op" id="5574281">.</span><span class="ident" id="5574282">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574289">fmt</span>&nbsp;<span class="op" id="5574293">:=</span>&nbsp;<span class="ident" id="5574296">a</span><span class="op" id="5574297">.</span><span class="ident" id="5574298">field</span><span class="op" id="5574303">[</span><span class="ident" id="5574304">i</span><span class="op" id="5574305">]</span><span class="op" id="5574306">.</span><span class="ident" id="5574307">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574313">if</span>&nbsp;<span class="ident" id="5574316">fmt</span>&nbsp;<span class="op" id="5574320">==</span>&nbsp;<span class="ident" id="5574323">formIndirect</span>&nbsp;<span class="op" id="5574336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574341">fmt</span>&nbsp;<span class="op" id="5574345">=</span>&nbsp;<span class="ident" id="5574347">format</span><span class="op" id="5574353">(</span><span class="ident" id="5574354">b</span><span class="op" id="5574355">.</span><span class="builtintype" id="5574356">uint</span><span class="op" id="5574360">(</span><span class="op" id="5574361">)</span><span class="op" id="5574362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5574366">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574370">var</span>&nbsp;<span class="ident" id="5574374">val</span>&nbsp;<span class="keyword" id="5574378">interface</span><span class="op" id="5574387">{</span><span class="op" id="5574388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574392">switch</span>&nbsp;<span class="ident" id="5574399">fmt</span>&nbsp;<span class="op" id="5574403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574407">default</span><span class="op" id="5574414">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574419">b</span><span class="op" id="5574420">.</span><span class="builtintype" id="5574421">error</span><span class="op" id="5574426">(</span><span class="string" id="5574427">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5574458">+</span>&nbsp;<span class="ident" id="5574460">strconv</span><span class="op" id="5574467">.</span><span class="ident" id="5574468">FormatInt</span><span class="op" id="5574477">(</span><span class="ident" id="5574478">int64</span><span class="op" id="5574483">(</span><span class="ident" id="5574484">fmt</span><span class="op" id="5574487">)</span><span class="op" id="5574488">,</span>&nbsp;<span class="num" id="5574490">16</span><span class="op" id="5574492">)</span><span class="op" id="5574493">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5574498">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574511">case</span>&nbsp;<span class="ident" id="5574516">formAddr</span><span class="op" id="5574524">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574529">val</span>&nbsp;<span class="op" id="5574533">=</span>&nbsp;<span class="ident" id="5574535">b</span><span class="op" id="5574536">.</span><span class="ident" id="5574537">addr</span><span class="op" id="5574541">(</span><span class="op" id="5574542">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5574547">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574558">case</span>&nbsp;<span class="ident" id="5574563">formDwarfBlock1</span><span class="op" id="5574578">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574583">val</span>&nbsp;<span class="op" id="5574587">=</span>&nbsp;<span class="ident" id="5574589">b</span><span class="op" id="5574590">.</span><span class="ident" id="5574591">bytes</span><span class="op" id="5574596">(</span><span class="builtintype" id="5574597">int</span><span class="op" id="5574600">(</span><span class="ident" id="5574601">b</span><span class="op" id="5574602">.</span><span class="builtintype" id="5574603">uint8</span><span class="op" id="5574608">(</span><span class="op" id="5574609">)</span><span class="op" id="5574610">)</span><span class="op" id="5574611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574615">case</span>&nbsp;<span class="ident" id="5574620">formDwarfBlock2</span><span class="op" id="5574635">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574640">val</span>&nbsp;<span class="op" id="5574644">=</span>&nbsp;<span class="ident" id="5574646">b</span><span class="op" id="5574647">.</span><span class="ident" id="5574648">bytes</span><span class="op" id="5574653">(</span><span class="builtintype" id="5574654">int</span><span class="op" id="5574657">(</span><span class="ident" id="5574658">b</span><span class="op" id="5574659">.</span><span class="builtintype" id="5574660">uint16</span><span class="op" id="5574666">(</span><span class="op" id="5574667">)</span><span class="op" id="5574668">)</span><span class="op" id="5574669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574673">case</span>&nbsp;<span class="ident" id="5574678">formDwarfBlock4</span><span class="op" id="5574693">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574698">val</span>&nbsp;<span class="op" id="5574702">=</span>&nbsp;<span class="ident" id="5574704">b</span><span class="op" id="5574705">.</span><span class="ident" id="5574706">bytes</span><span class="op" id="5574711">(</span><span class="builtintype" id="5574712">int</span><span class="op" id="5574715">(</span><span class="ident" id="5574716">b</span><span class="op" id="5574717">.</span><span class="builtintype" id="5574718">uint32</span><span class="op" id="5574724">(</span><span class="op" id="5574725">)</span><span class="op" id="5574726">)</span><span class="op" id="5574727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574731">case</span>&nbsp;<span class="ident" id="5574736">formDwarfBlock</span><span class="op" id="5574750">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574755">val</span>&nbsp;<span class="op" id="5574759">=</span>&nbsp;<span class="ident" id="5574761">b</span><span class="op" id="5574762">.</span><span class="ident" id="5574763">bytes</span><span class="op" id="5574768">(</span><span class="builtintype" id="5574769">int</span><span class="op" id="5574772">(</span><span class="ident" id="5574773">b</span><span class="op" id="5574774">.</span><span class="builtintype" id="5574775">uint</span><span class="op" id="5574779">(</span><span class="op" id="5574780">)</span><span class="op" id="5574781">)</span><span class="op" id="5574782">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5574787">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574801">case</span>&nbsp;<span class="ident" id="5574806">formData1</span><span class="op" id="5574815">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574820">val</span>&nbsp;<span class="op" id="5574824">=</span>&nbsp;<span class="ident" id="5574826">int64</span><span class="op" id="5574831">(</span><span class="ident" id="5574832">b</span><span class="op" id="5574833">.</span><span class="builtintype" id="5574834">uint8</span><span class="op" id="5574839">(</span><span class="op" id="5574840">)</span><span class="op" id="5574841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574845">case</span>&nbsp;<span class="ident" id="5574850">formData2</span><span class="op" id="5574859">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574864">val</span>&nbsp;<span class="op" id="5574868">=</span>&nbsp;<span class="ident" id="5574870">int64</span><span class="op" id="5574875">(</span><span class="ident" id="5574876">b</span><span class="op" id="5574877">.</span><span class="builtintype" id="5574878">uint16</span><span class="op" id="5574884">(</span><span class="op" id="5574885">)</span><span class="op" id="5574886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574890">case</span>&nbsp;<span class="ident" id="5574895">formData4</span><span class="op" id="5574904">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574909">val</span>&nbsp;<span class="op" id="5574913">=</span>&nbsp;<span class="ident" id="5574915">int64</span><span class="op" id="5574920">(</span><span class="ident" id="5574921">b</span><span class="op" id="5574922">.</span><span class="builtintype" id="5574923">uint32</span><span class="op" id="5574929">(</span><span class="op" id="5574930">)</span><span class="op" id="5574931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574935">case</span>&nbsp;<span class="ident" id="5574940">formData8</span><span class="op" id="5574949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574954">val</span>&nbsp;<span class="op" id="5574958">=</span>&nbsp;<span class="ident" id="5574960">int64</span><span class="op" id="5574965">(</span><span class="ident" id="5574966">b</span><span class="op" id="5574967">.</span><span class="ident" id="5574968">uint64</span><span class="op" id="5574974">(</span><span class="op" id="5574975">)</span><span class="op" id="5574976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5574980">case</span>&nbsp;<span class="ident" id="5574985">formSdata</span><span class="op" id="5574994">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5574999">val</span>&nbsp;<span class="op" id="5575003">=</span>&nbsp;<span class="ident" id="5575005">int64</span><span class="op" id="5575010">(</span><span class="ident" id="5575011">b</span><span class="op" id="5575012">.</span><span class="builtintype" id="5575013">int</span><span class="op" id="5575016">(</span><span class="op" id="5575017">)</span><span class="op" id="5575018">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575022">case</span>&nbsp;<span class="ident" id="5575027">formUdata</span><span class="op" id="5575036">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575041">val</span>&nbsp;<span class="op" id="5575045">=</span>&nbsp;<span class="ident" id="5575047">int64</span><span class="op" id="5575052">(</span><span class="ident" id="5575053">b</span><span class="op" id="5575054">.</span><span class="builtintype" id="5575055">uint</span><span class="op" id="5575059">(</span><span class="op" id="5575060">)</span><span class="op" id="5575061">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5575066">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575076">case</span>&nbsp;<span class="ident" id="5575081">formFlag</span><span class="op" id="5575089">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575094">val</span>&nbsp;<span class="op" id="5575098">=</span>&nbsp;<span class="ident" id="5575100">b</span><span class="op" id="5575101">.</span><span class="builtintype" id="5575102">uint8</span><span class="op" id="5575107">(</span><span class="op" id="5575108">)</span>&nbsp;<span class="op" id="5575110">==</span>&nbsp;<span class="num" id="5575113">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5575117">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575138">case</span>&nbsp;<span class="ident" id="5575143">formFlagPresent</span><span class="op" id="5575158">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5575163">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5575235">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575292">val</span>&nbsp;<span class="op" id="5575296">=</span>&nbsp;<span class="builtintype" id="5575298">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5575306">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575336">case</span>&nbsp;<span class="ident" id="5575341">formRefAddr</span><span class="op" id="5575352">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575357">vers</span>&nbsp;<span class="op" id="5575362">:=</span>&nbsp;<span class="ident" id="5575365">b</span><span class="op" id="5575366">.</span><span class="ident" id="5575367">format</span><span class="op" id="5575373">.</span><span class="ident" id="5575374">version</span><span class="op" id="5575381">(</span><span class="op" id="5575382">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575387">if</span>&nbsp;<span class="ident" id="5575390">vers</span>&nbsp;<span class="op" id="5575395">==</span>&nbsp;<span class="num" id="5575398">0</span>&nbsp;<span class="op" id="5575400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575406">b</span><span class="op" id="5575407">.</span><span class="builtintype" id="5575408">error</span><span class="op" id="5575413">(</span><span class="string" id="5575414">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5575452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5575457">}</span>&nbsp;<span class="keyword" id="5575459">else</span>&nbsp;<span class="keyword" id="5575464">if</span>&nbsp;<span class="ident" id="5575467">vers</span>&nbsp;<span class="op" id="5575472">==</span>&nbsp;<span class="num" id="5575475">2</span>&nbsp;<span class="op" id="5575477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575483">val</span>&nbsp;<span class="op" id="5575487">=</span>&nbsp;<span class="ident" id="5575489">Offset</span><span class="op" id="5575495">(</span><span class="ident" id="5575496">b</span><span class="op" id="5575497">.</span><span class="ident" id="5575498">addr</span><span class="op" id="5575502">(</span><span class="op" id="5575503">)</span><span class="op" id="5575504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5575509">}</span>&nbsp;<span class="keyword" id="5575511">else</span>&nbsp;<span class="op" id="5575516">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575522">is64</span><span class="op" id="5575526">,</span>&nbsp;<span class="ident" id="5575528">known</span>&nbsp;<span class="op" id="5575534">:=</span>&nbsp;<span class="ident" id="5575537">b</span><span class="op" id="5575538">.</span><span class="ident" id="5575539">format</span><span class="op" id="5575545">.</span><span class="ident" id="5575546">dwarf64</span><span class="op" id="5575553">(</span><span class="op" id="5575554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575560">if</span>&nbsp;<span class="op" id="5575563">!</span><span class="ident" id="5575564">known</span>&nbsp;<span class="op" id="5575570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575577">b</span><span class="op" id="5575578">.</span><span class="builtintype" id="5575579">error</span><span class="op" id="5575584">(</span><span class="string" id="5575585">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5575620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5575626">}</span>&nbsp;<span class="keyword" id="5575628">else</span>&nbsp;<span class="keyword" id="5575633">if</span>&nbsp;<span class="ident" id="5575636">is64</span>&nbsp;<span class="op" id="5575641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575648">val</span>&nbsp;<span class="op" id="5575652">=</span>&nbsp;<span class="ident" id="5575654">Offset</span><span class="op" id="5575660">(</span><span class="ident" id="5575661">b</span><span class="op" id="5575662">.</span><span class="ident" id="5575663">uint64</span><span class="op" id="5575669">(</span><span class="op" id="5575670">)</span><span class="op" id="5575671">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5575677">}</span>&nbsp;<span class="keyword" id="5575679">else</span>&nbsp;<span class="op" id="5575684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575691">val</span>&nbsp;<span class="op" id="5575695">=</span>&nbsp;<span class="ident" id="5575697">Offset</span><span class="op" id="5575703">(</span><span class="ident" id="5575704">b</span><span class="op" id="5575705">.</span><span class="builtintype" id="5575706">uint32</span><span class="op" id="5575712">(</span><span class="op" id="5575713">)</span><span class="op" id="5575714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5575720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5575725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575729">case</span>&nbsp;<span class="ident" id="5575734">formRef1</span><span class="op" id="5575742">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575747">val</span>&nbsp;<span class="op" id="5575751">=</span>&nbsp;<span class="ident" id="5575753">Offset</span><span class="op" id="5575759">(</span><span class="ident" id="5575760">b</span><span class="op" id="5575761">.</span><span class="builtintype" id="5575762">uint8</span><span class="op" id="5575767">(</span><span class="op" id="5575768">)</span><span class="op" id="5575769">)</span>&nbsp;<span class="op" id="5575771">+</span>&nbsp;<span class="ident" id="5575773">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575781">case</span>&nbsp;<span class="ident" id="5575786">formRef2</span><span class="op" id="5575794">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575799">val</span>&nbsp;<span class="op" id="5575803">=</span>&nbsp;<span class="ident" id="5575805">Offset</span><span class="op" id="5575811">(</span><span class="ident" id="5575812">b</span><span class="op" id="5575813">.</span><span class="builtintype" id="5575814">uint16</span><span class="op" id="5575820">(</span><span class="op" id="5575821">)</span><span class="op" id="5575822">)</span>&nbsp;<span class="op" id="5575824">+</span>&nbsp;<span class="ident" id="5575826">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575834">case</span>&nbsp;<span class="ident" id="5575839">formRef4</span><span class="op" id="5575847">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575852">val</span>&nbsp;<span class="op" id="5575856">=</span>&nbsp;<span class="ident" id="5575858">Offset</span><span class="op" id="5575864">(</span><span class="ident" id="5575865">b</span><span class="op" id="5575866">.</span><span class="builtintype" id="5575867">uint32</span><span class="op" id="5575873">(</span><span class="op" id="5575874">)</span><span class="op" id="5575875">)</span>&nbsp;<span class="op" id="5575877">+</span>&nbsp;<span class="ident" id="5575879">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575887">case</span>&nbsp;<span class="ident" id="5575892">formRef8</span><span class="op" id="5575900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575905">val</span>&nbsp;<span class="op" id="5575909">=</span>&nbsp;<span class="ident" id="5575911">Offset</span><span class="op" id="5575917">(</span><span class="ident" id="5575918">b</span><span class="op" id="5575919">.</span><span class="ident" id="5575920">uint64</span><span class="op" id="5575926">(</span><span class="op" id="5575927">)</span><span class="op" id="5575928">)</span>&nbsp;<span class="op" id="5575930">+</span>&nbsp;<span class="ident" id="5575932">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5575940">case</span>&nbsp;<span class="ident" id="5575945">formRefUdata</span><span class="op" id="5575957">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5575962">val</span>&nbsp;<span class="op" id="5575966">=</span>&nbsp;<span class="ident" id="5575968">Offset</span><span class="op" id="5575974">(</span><span class="ident" id="5575975">b</span><span class="op" id="5575976">.</span><span class="builtintype" id="5575977">uint</span><span class="op" id="5575981">(</span><span class="op" id="5575982">)</span><span class="op" id="5575983">)</span>&nbsp;<span class="op" id="5575985">+</span>&nbsp;<span class="ident" id="5575987">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5575996">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576008">case</span>&nbsp;<span class="ident" id="5576013">formString</span><span class="op" id="5576023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576028">val</span>&nbsp;<span class="op" id="5576032">=</span>&nbsp;<span class="ident" id="5576034">b</span><span class="op" id="5576035">.</span><span class="builtintype" id="5576036">string</span><span class="op" id="5576042">(</span><span class="op" id="5576043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576047">case</span>&nbsp;<span class="ident" id="5576052">formStrp</span><span class="op" id="5576060">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576065">off</span>&nbsp;<span class="op" id="5576069">:=</span>&nbsp;<span class="ident" id="5576072">b</span><span class="op" id="5576073">.</span><span class="builtintype" id="5576074">uint32</span><span class="op" id="5576080">(</span><span class="op" id="5576081">)</span>&nbsp;<span class="comment" id="5576083">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576112">if</span>&nbsp;<span class="ident" id="5576115">b</span><span class="op" id="5576116">.</span><span class="ident" id="5576117">err</span>&nbsp;<span class="op" id="5576121">!=</span>&nbsp;<span class="ident" id="5576124">nil</span>&nbsp;<span class="op" id="5576128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576134">return</span>&nbsp;<span class="ident" id="5576141">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5576148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576153">b1</span>&nbsp;<span class="op" id="5576156">:=</span>&nbsp;<span class="ident" id="5576159">makeBuf</span><span class="op" id="5576166">(</span><span class="ident" id="5576167">b</span><span class="op" id="5576168">.</span><span class="ident" id="5576169">dwarf</span><span class="op" id="5576174">,</span>&nbsp;<span class="ident" id="5576176">unknownFormat</span><span class="op" id="5576189">{</span><span class="op" id="5576190">}</span><span class="op" id="5576191">,</span>&nbsp;<span class="string" id="5576193">&#34;str&#34;</span><span class="op" id="5576198">,</span>&nbsp;<span class="num" id="5576200">0</span><span class="op" id="5576201">,</span>&nbsp;<span class="ident" id="5576203">b</span><span class="op" id="5576204">.</span><span class="ident" id="5576205">dwarf</span><span class="op" id="5576210">.</span><span class="ident" id="5576211">str</span><span class="op" id="5576214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576219">b1</span><span class="op" id="5576221">.</span><span class="ident" id="5576222">skip</span><span class="op" id="5576226">(</span><span class="builtintype" id="5576227">int</span><span class="op" id="5576230">(</span><span class="ident" id="5576231">off</span><span class="op" id="5576234">)</span><span class="op" id="5576235">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576240">val</span>&nbsp;<span class="op" id="5576244">=</span>&nbsp;<span class="ident" id="5576246">b1</span><span class="op" id="5576248">.</span><span class="builtintype" id="5576249">string</span><span class="op" id="5576255">(</span><span class="op" id="5576256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576261">if</span>&nbsp;<span class="ident" id="5576264">b1</span><span class="op" id="5576266">.</span><span class="ident" id="5576267">err</span>&nbsp;<span class="op" id="5576271">!=</span>&nbsp;<span class="ident" id="5576274">nil</span>&nbsp;<span class="op" id="5576278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576284">b</span><span class="op" id="5576285">.</span><span class="ident" id="5576286">err</span>&nbsp;<span class="op" id="5576290">=</span>&nbsp;<span class="ident" id="5576292">b1</span><span class="op" id="5576294">.</span><span class="ident" id="5576295">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576303">return</span>&nbsp;<span class="ident" id="5576310">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5576317">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5576322">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5576369">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5576434">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576500">case</span>&nbsp;<span class="ident" id="5576505">formSecOffset</span><span class="op" id="5576518">,</span>&nbsp;<span class="ident" id="5576520">formGnuRefAlt</span><span class="op" id="5576533">,</span>&nbsp;<span class="ident" id="5576535">formGnuStrpAlt</span><span class="op" id="5576549">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576554">is64</span><span class="op" id="5576558">,</span>&nbsp;<span class="ident" id="5576560">known</span>&nbsp;<span class="op" id="5576566">:=</span>&nbsp;<span class="ident" id="5576569">b</span><span class="op" id="5576570">.</span><span class="ident" id="5576571">format</span><span class="op" id="5576577">.</span><span class="ident" id="5576578">dwarf64</span><span class="op" id="5576585">(</span><span class="op" id="5576586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576591">if</span>&nbsp;<span class="op" id="5576594">!</span><span class="ident" id="5576595">known</span>&nbsp;<span class="op" id="5576601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576607">b</span><span class="op" id="5576608">.</span><span class="builtintype" id="5576609">error</span><span class="op" id="5576614">(</span><span class="string" id="5576615">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5576642">+</span>&nbsp;<span class="ident" id="5576644">strconv</span><span class="op" id="5576651">.</span><span class="ident" id="5576652">FormatInt</span><span class="op" id="5576661">(</span><span class="ident" id="5576662">int64</span><span class="op" id="5576667">(</span><span class="ident" id="5576668">fmt</span><span class="op" id="5576671">)</span><span class="op" id="5576672">,</span>&nbsp;<span class="num" id="5576674">16</span><span class="op" id="5576676">)</span><span class="op" id="5576677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5576682">}</span>&nbsp;<span class="keyword" id="5576684">else</span>&nbsp;<span class="keyword" id="5576689">if</span>&nbsp;<span class="ident" id="5576692">is64</span>&nbsp;<span class="op" id="5576697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576703">val</span>&nbsp;<span class="op" id="5576707">=</span>&nbsp;<span class="ident" id="5576709">int64</span><span class="op" id="5576714">(</span><span class="ident" id="5576715">b</span><span class="op" id="5576716">.</span><span class="ident" id="5576717">uint64</span><span class="op" id="5576723">(</span><span class="op" id="5576724">)</span><span class="op" id="5576725">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5576730">}</span>&nbsp;<span class="keyword" id="5576732">else</span>&nbsp;<span class="op" id="5576737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576743">val</span>&nbsp;<span class="op" id="5576747">=</span>&nbsp;<span class="ident" id="5576749">int64</span><span class="op" id="5576754">(</span><span class="ident" id="5576755">b</span><span class="op" id="5576756">.</span><span class="builtintype" id="5576757">uint32</span><span class="op" id="5576763">(</span><span class="op" id="5576764">)</span><span class="op" id="5576765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5576770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5576775">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5576788">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576809">case</span>&nbsp;<span class="ident" id="5576814">formExprloc</span><span class="op" id="5576825">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576830">val</span>&nbsp;<span class="op" id="5576834">=</span>&nbsp;<span class="ident" id="5576836">b</span><span class="op" id="5576837">.</span><span class="ident" id="5576838">bytes</span><span class="op" id="5576843">(</span><span class="builtintype" id="5576844">int</span><span class="op" id="5576847">(</span><span class="ident" id="5576848">b</span><span class="op" id="5576849">.</span><span class="builtintype" id="5576850">uint</span><span class="op" id="5576854">(</span><span class="op" id="5576855">)</span><span class="op" id="5576856">)</span><span class="op" id="5576857">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5576862">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5576877">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576898">case</span>&nbsp;<span class="ident" id="5576903">formRefSig8</span><span class="op" id="5576914">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5576919">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576948">val</span>&nbsp;<span class="op" id="5576952">=</span>&nbsp;<span class="ident" id="5576954">b</span><span class="op" id="5576955">.</span><span class="ident" id="5576956">uint64</span><span class="op" id="5576962">(</span><span class="op" id="5576963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5576967">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5576971">e</span><span class="op" id="5576972">.</span><span class="ident" id="5576973">Field</span><span class="op" id="5576978">[</span><span class="ident" id="5576979">i</span><span class="op" id="5576980">]</span><span class="op" id="5576981">.</span><span class="ident" id="5576982">Val</span>&nbsp;<span class="op" id="5576986">=</span>&nbsp;<span class="ident" id="5576988">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5576993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5576996">if</span>&nbsp;<span class="ident" id="5576999">b</span><span class="op" id="5577000">.</span><span class="ident" id="5577001">err</span>&nbsp;<span class="op" id="5577005">!=</span>&nbsp;<span class="ident" id="5577008">nil</span>&nbsp;<span class="op" id="5577012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5577016">return</span>&nbsp;<span class="ident" id="5577023">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5577028">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5577031">return</span>&nbsp;<span class="ident" id="5577038">e</span><br>
<span class="lineno"></span><span class="op" id="5577040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5577043">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5577118">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="5577194">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="5577263">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="5577342">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="5577388">type</span>&nbsp;<span class="ident" id="5577393">Reader</span>&nbsp;<span class="keyword" id="5577400">struct</span>&nbsp;<span class="op" id="5577407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577410">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5577423">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577428">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5577441">*</span><span class="ident" id="5577442">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577448">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5577461">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577468">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5577481">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577486">lastChildren</span>&nbsp;<span class="builtintype" id="5577499">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5577506">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577551">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="5577564">Offset</span>&nbsp;<span class="comment" id="5577571">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="5577623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5577626">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="5577667">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5577743">func</span>&nbsp;<span class="op" id="5577748">(</span><span class="ident" id="5577749">d</span>&nbsp;<span class="op" id="5577751">*</span><span class="ident" id="5577752">Data</span><span class="op" id="5577756">)</span>&nbsp;<span class="ident" id="5577758">Reader</span><span class="op" id="5577764">(</span><span class="op" id="5577765">)</span>&nbsp;<span class="op" id="5577767">*</span><span class="ident" id="5577768">Reader</span>&nbsp;<span class="op" id="5577775">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577778">r</span>&nbsp;<span class="op" id="5577780">:=</span>&nbsp;<span class="op" id="5577783">&amp;</span><span class="ident" id="5577784">Reader</span><span class="op" id="5577790">{</span><span class="ident" id="5577791">d</span><span class="op" id="5577792">:</span>&nbsp;<span class="ident" id="5577794">d</span><span class="op" id="5577795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577798">r</span><span class="op" id="5577799">.</span><span class="ident" id="5577800">Seek</span><span class="op" id="5577804">(</span><span class="num" id="5577805">0</span><span class="op" id="5577806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5577809">return</span>&nbsp;<span class="ident" id="5577816">r</span><br>
<span class="lineno"></span><span class="op" id="5577818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="5577821">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="5577893">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5577944">func</span>&nbsp;<span class="op" id="5577949">(</span><span class="ident" id="5577950">r</span>&nbsp;<span class="op" id="5577952">*</span><span class="ident" id="5577953">Reader</span><span class="op" id="5577959">)</span>&nbsp;<span class="ident" id="5577961">Seek</span><span class="op" id="5577965">(</span><span class="ident" id="5577966">off</span>&nbsp;<span class="ident" id="5577970">Offset</span><span class="op" id="5577976">)</span>&nbsp;<span class="op" id="5577978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577981">d</span>&nbsp;<span class="op" id="5577983">:=</span>&nbsp;<span class="ident" id="5577986">r</span><span class="op" id="5577987">.</span><span class="ident" id="5577988">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5577991">r</span><span class="op" id="5577992">.</span><span class="ident" id="5577993">err</span>&nbsp;<span class="op" id="5577997">=</span>&nbsp;<span class="ident" id="5577999">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578004">r</span><span class="op" id="5578005">.</span><span class="ident" id="5578006">lastChildren</span>&nbsp;<span class="op" id="5578019">=</span>&nbsp;<span class="builtintype" id="5578021">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578028">if</span>&nbsp;<span class="ident" id="5578031">off</span>&nbsp;<span class="op" id="5578035">==</span>&nbsp;<span class="num" id="5578038">0</span>&nbsp;<span class="op" id="5578040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578044">if</span>&nbsp;<span class="builtinfunc" id="5578047">len</span><span class="op" id="5578050">(</span><span class="ident" id="5578051">d</span><span class="op" id="5578052">.</span><span class="ident" id="5578053">unit</span><span class="op" id="5578057">)</span>&nbsp;<span class="op" id="5578059">==</span>&nbsp;<span class="num" id="5578062">0</span>&nbsp;<span class="op" id="5578064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578069">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5578078">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578082">u</span>&nbsp;<span class="op" id="5578084">:=</span>&nbsp;<span class="op" id="5578087">&amp;</span><span class="ident" id="5578088">d</span><span class="op" id="5578089">.</span><span class="ident" id="5578090">unit</span><span class="op" id="5578094">[</span><span class="num" id="5578095">0</span><span class="op" id="5578096">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578100">r</span><span class="op" id="5578101">.</span><span class="ident" id="5578102">unit</span>&nbsp;<span class="op" id="5578107">=</span>&nbsp;<span class="num" id="5578109">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578113">r</span><span class="op" id="5578114">.</span><span class="ident" id="5578115">b</span>&nbsp;<span class="op" id="5578117">=</span>&nbsp;<span class="ident" id="5578119">makeBuf</span><span class="op" id="5578126">(</span><span class="ident" id="5578127">r</span><span class="op" id="5578128">.</span><span class="ident" id="5578129">d</span><span class="op" id="5578130">,</span>&nbsp;<span class="ident" id="5578132">u</span><span class="op" id="5578133">,</span>&nbsp;<span class="string" id="5578135">&#34;info&#34;</span><span class="op" id="5578141">,</span>&nbsp;<span class="ident" id="5578143">u</span><span class="op" id="5578144">.</span><span class="ident" id="5578145">off</span><span class="op" id="5578148">,</span>&nbsp;<span class="ident" id="5578150">u</span><span class="op" id="5578151">.</span><span class="ident" id="5578152">data</span><span class="op" id="5578156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578160">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5578168">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5578172">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578223">var</span>&nbsp;<span class="ident" id="5578227">i</span>&nbsp;<span class="builtintype" id="5578229">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578234">var</span>&nbsp;<span class="ident" id="5578238">u</span>&nbsp;<span class="op" id="5578240">*</span><span class="ident" id="5578241">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578247">for</span>&nbsp;<span class="ident" id="5578251">i</span>&nbsp;<span class="op" id="5578253">=</span>&nbsp;<span class="keyword" id="5578255">range</span>&nbsp;<span class="ident" id="5578261">d</span><span class="op" id="5578262">.</span><span class="ident" id="5578263">unit</span>&nbsp;<span class="op" id="5578268">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578272">u</span>&nbsp;<span class="op" id="5578274">=</span>&nbsp;<span class="op" id="5578276">&amp;</span><span class="ident" id="5578277">d</span><span class="op" id="5578278">.</span><span class="ident" id="5578279">unit</span><span class="op" id="5578283">[</span><span class="ident" id="5578284">i</span><span class="op" id="5578285">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578289">if</span>&nbsp;<span class="ident" id="5578292">u</span><span class="op" id="5578293">.</span><span class="ident" id="5578294">off</span>&nbsp;<span class="op" id="5578298">&lt;=</span>&nbsp;<span class="ident" id="5578301">off</span>&nbsp;<span class="op" id="5578305">&amp;&amp;</span>&nbsp;<span class="ident" id="5578308">off</span>&nbsp;<span class="op" id="5578312">&lt;</span>&nbsp;<span class="ident" id="5578314">u</span><span class="op" id="5578315">.</span><span class="ident" id="5578316">off</span><span class="op" id="5578319">+</span><span class="ident" id="5578320">Offset</span><span class="op" id="5578326">(</span><span class="builtinfunc" id="5578327">len</span><span class="op" id="5578330">(</span><span class="ident" id="5578331">u</span><span class="op" id="5578332">.</span><span class="ident" id="5578333">data</span><span class="op" id="5578337">)</span><span class="op" id="5578338">)</span>&nbsp;<span class="op" id="5578340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578345">r</span><span class="op" id="5578346">.</span><span class="ident" id="5578347">unit</span>&nbsp;<span class="op" id="5578352">=</span>&nbsp;<span class="ident" id="5578354">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578359">r</span><span class="op" id="5578360">.</span><span class="ident" id="5578361">b</span>&nbsp;<span class="op" id="5578363">=</span>&nbsp;<span class="ident" id="5578365">makeBuf</span><span class="op" id="5578372">(</span><span class="ident" id="5578373">r</span><span class="op" id="5578374">.</span><span class="ident" id="5578375">d</span><span class="op" id="5578376">,</span>&nbsp;<span class="ident" id="5578378">u</span><span class="op" id="5578379">,</span>&nbsp;<span class="string" id="5578381">&#34;info&#34;</span><span class="op" id="5578387">,</span>&nbsp;<span class="ident" id="5578389">off</span><span class="op" id="5578392">,</span>&nbsp;<span class="ident" id="5578394">u</span><span class="op" id="5578395">.</span><span class="ident" id="5578396">data</span><span class="op" id="5578400">[</span><span class="ident" id="5578401">off</span><span class="op" id="5578404">-</span><span class="ident" id="5578405">u</span><span class="op" id="5578406">.</span><span class="ident" id="5578407">off</span><span class="op" id="5578410">:</span><span class="op" id="5578411">]</span><span class="op" id="5578412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578417">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5578426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5578429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578432">r</span><span class="op" id="5578433">.</span><span class="ident" id="5578434">err</span>&nbsp;<span class="op" id="5578438">=</span>&nbsp;<span class="ident" id="5578440">errors</span><span class="op" id="5578446">.</span><span class="ident" id="5578447">New</span><span class="op" id="5578450">(</span><span class="string" id="5578451">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="5578472">)</span><br>
<span class="lineno"></span><span class="op" id="5578474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="5578477">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="5578545">func</span>&nbsp;<span class="op" id="5578550">(</span><span class="ident" id="5578551">r</span>&nbsp;<span class="op" id="5578553">*</span><span class="ident" id="5578554">Reader</span><span class="op" id="5578560">)</span>&nbsp;<span class="ident" id="5578562">maybeNextUnit</span><span class="op" id="5578575">(</span><span class="op" id="5578576">)</span>&nbsp;<span class="op" id="5578578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5578581">for</span>&nbsp;<span class="builtinfunc" id="5578585">len</span><span class="op" id="5578588">(</span><span class="ident" id="5578589">r</span><span class="op" id="5578590">.</span><span class="ident" id="5578591">b</span><span class="op" id="5578592">.</span><span class="ident" id="5578593">data</span><span class="op" id="5578597">)</span>&nbsp;<span class="op" id="5578599">==</span>&nbsp;<span class="num" id="5578602">0</span>&nbsp;<span class="op" id="5578604">&amp;&amp;</span>&nbsp;<span class="ident" id="5578607">r</span><span class="op" id="5578608">.</span><span class="ident" id="5578609">unit</span><span class="op" id="5578613">+</span><span class="num" id="5578614">1</span>&nbsp;<span class="op" id="5578616">&lt;</span>&nbsp;<span class="builtinfunc" id="5578618">len</span><span class="op" id="5578621">(</span><span class="ident" id="5578622">r</span><span class="op" id="5578623">.</span><span class="ident" id="5578624">d</span><span class="op" id="5578625">.</span><span class="ident" id="5578626">unit</span><span class="op" id="5578630">)</span>&nbsp;<span class="op" id="5578632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578636">r</span><span class="op" id="5578637">.</span><span class="ident" id="5578638">unit</span><span class="op" id="5578642">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578647">u</span>&nbsp;<span class="op" id="5578649">:=</span>&nbsp;<span class="op" id="5578652">&amp;</span><span class="ident" id="5578653">r</span><span class="op" id="5578654">.</span><span class="ident" id="5578655">d</span><span class="op" id="5578656">.</span><span class="ident" id="5578657">unit</span><span class="op" id="5578661">[</span><span class="ident" id="5578662">r</span><span class="op" id="5578663">.</span><span class="ident" id="5578664">unit</span><span class="op" id="5578668">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5578672">r</span><span class="op" id="5578673">.</span><span class="ident" id="5578674">b</span>&nbsp;<span class="op" id="5578676">=</span>&nbsp;<span class="ident" id="5578678">makeBuf</span><span class="op" id="5578685">(</span><span class="ident" id="5578686">r</span><span class="op" id="5578687">.</span><span class="ident" id="5578688">d</span><span class="op" id="5578689">,</span>&nbsp;<span class="ident" id="5578691">u</span><span class="op" id="5578692">,</span>&nbsp;<span class="string" id="5578694">&#34;info&#34;</span><span class="op" id="5578700">,</span>&nbsp;<span class="ident" id="5578702">u</span><span class="op" id="5578703">.</span><span class="ident" id="5578704">off</span><span class="op" id="5578707">,</span>&nbsp;<span class="ident" id="5578709">u</span><span class="op" id="5578710">.</span><span class="ident" id="5578711">data</span><span class="op" id="5578715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5578718">}</span><br>
<span class="lineno"></span><span class="op" id="5578720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5578723">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="5578783">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5578846">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5578921">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5578967">func</span>&nbsp;<span class="op" id="5578972">(</span><span class="ident" id="5578973">r</span>&nbsp;<span class="op" id="5578975">*</span><span class="ident" id="5578976">Reader</span><span class="op" id="5578982">)</span>&nbsp;<span class="ident" id="5578984">Next</span><span class="op" id="5578988">(</span><span class="op" id="5578989">)</span>&nbsp;<span class="op" id="5578991">(</span><span class="op" id="5578992">*</span><span class="ident" id="5578993">Entry</span><span class="op" id="5578998">,</span>&nbsp;<span class="builtintype" id="5579000">error</span><span class="op" id="5579005">)</span>&nbsp;<span class="op" id="5579007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579010">if</span>&nbsp;<span class="ident" id="5579013">r</span><span class="op" id="5579014">.</span><span class="ident" id="5579015">err</span>&nbsp;<span class="op" id="5579019">!=</span>&nbsp;<span class="ident" id="5579022">nil</span>&nbsp;<span class="op" id="5579026">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579030">return</span>&nbsp;<span class="ident" id="5579037">nil</span><span class="op" id="5579040">,</span>&nbsp;<span class="ident" id="5579042">r</span><span class="op" id="5579043">.</span><span class="ident" id="5579044">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5579049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5579052">r</span><span class="op" id="5579053">.</span><span class="ident" id="5579054">maybeNextUnit</span><span class="op" id="5579067">(</span><span class="op" id="5579068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579071">if</span>&nbsp;<span class="builtinfunc" id="5579074">len</span><span class="op" id="5579077">(</span><span class="ident" id="5579078">r</span><span class="op" id="5579079">.</span><span class="ident" id="5579080">b</span><span class="op" id="5579081">.</span><span class="ident" id="5579082">data</span><span class="op" id="5579086">)</span>&nbsp;<span class="op" id="5579088">==</span>&nbsp;<span class="num" id="5579091">0</span>&nbsp;<span class="op" id="5579093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579097">return</span>&nbsp;<span class="ident" id="5579104">nil</span><span class="op" id="5579107">,</span>&nbsp;<span class="ident" id="5579109">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5579114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5579117">u</span>&nbsp;<span class="op" id="5579119">:=</span>&nbsp;<span class="op" id="5579122">&amp;</span><span class="ident" id="5579123">r</span><span class="op" id="5579124">.</span><span class="ident" id="5579125">d</span><span class="op" id="5579126">.</span><span class="ident" id="5579127">unit</span><span class="op" id="5579131">[</span><span class="ident" id="5579132">r</span><span class="op" id="5579133">.</span><span class="ident" id="5579134">unit</span><span class="op" id="5579138">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5579141">e</span>&nbsp;<span class="op" id="5579143">:=</span>&nbsp;<span class="ident" id="5579146">r</span><span class="op" id="5579147">.</span><span class="ident" id="5579148">b</span><span class="op" id="5579149">.</span><span class="ident" id="5579150">entry</span><span class="op" id="5579155">(</span><span class="ident" id="5579156">u</span><span class="op" id="5579157">.</span><span class="ident" id="5579158">atable</span><span class="op" id="5579164">,</span>&nbsp;<span class="ident" id="5579166">u</span><span class="op" id="5579167">.</span><span class="ident" id="5579168">base</span><span class="op" id="5579172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579175">if</span>&nbsp;<span class="ident" id="5579178">r</span><span class="op" id="5579179">.</span><span class="ident" id="5579180">b</span><span class="op" id="5579181">.</span><span class="ident" id="5579182">err</span>&nbsp;<span class="op" id="5579186">!=</span>&nbsp;<span class="ident" id="5579189">nil</span>&nbsp;<span class="op" id="5579193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5579197">r</span><span class="op" id="5579198">.</span><span class="ident" id="5579199">err</span>&nbsp;<span class="op" id="5579203">=</span>&nbsp;<span class="ident" id="5579205">r</span><span class="op" id="5579206">.</span><span class="ident" id="5579207">b</span><span class="op" id="5579208">.</span><span class="ident" id="5579209">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579215">return</span>&nbsp;<span class="ident" id="5579222">nil</span><span class="op" id="5579225">,</span>&nbsp;<span class="ident" id="5579227">r</span><span class="op" id="5579228">.</span><span class="ident" id="5579229">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5579234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579237">if</span>&nbsp;<span class="ident" id="5579240">e</span>&nbsp;<span class="op" id="5579242">!=</span>&nbsp;<span class="ident" id="5579245">nil</span>&nbsp;<span class="op" id="5579249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5579253">r</span><span class="op" id="5579254">.</span><span class="ident" id="5579255">lastChildren</span>&nbsp;<span class="op" id="5579268">=</span>&nbsp;<span class="ident" id="5579270">e</span><span class="op" id="5579271">.</span><span class="ident" id="5579272">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579283">if</span>&nbsp;<span class="ident" id="5579286">r</span><span class="op" id="5579287">.</span><span class="ident" id="5579288">lastChildren</span>&nbsp;<span class="op" id="5579301">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5579306">r</span><span class="op" id="5579307">.</span><span class="ident" id="5579308">lastSibling</span><span class="op" id="5579319">,</span>&nbsp;<span class="ident" id="5579321">_</span>&nbsp;<span class="op" id="5579323">=</span>&nbsp;<span class="ident" id="5579325">e</span><span class="op" id="5579326">.</span><span class="ident" id="5579327">Val</span><span class="op" id="5579330">(</span><span class="ident" id="5579331">AttrSibling</span><span class="op" id="5579342">)</span><span class="op" id="5579343">.</span><span class="op" id="5579344">(</span><span class="ident" id="5579345">Offset</span><span class="op" id="5579351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5579355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5579358">}</span>&nbsp;<span class="keyword" id="5579360">else</span>&nbsp;<span class="op" id="5579365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5579369">r</span><span class="op" id="5579370">.</span><span class="ident" id="5579371">lastChildren</span>&nbsp;<span class="op" id="5579384">=</span>&nbsp;<span class="builtintype" id="5579386">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5579393">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579396">return</span>&nbsp;<span class="ident" id="5579403">e</span><span class="op" id="5579404">,</span>&nbsp;<span class="ident" id="5579406">nil</span><br>
<span class="lineno"></span><span class="op" id="5579410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5579413">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5579474">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="5579538">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="5579604">func</span>&nbsp;<span class="op" id="5579609">(</span><span class="ident" id="5579610">r</span>&nbsp;<span class="op" id="5579612">*</span><span class="ident" id="5579613">Reader</span><span class="op" id="5579619">)</span>&nbsp;<span class="ident" id="5579621">SkipChildren</span><span class="op" id="5579633">(</span><span class="op" id="5579634">)</span>&nbsp;<span class="op" id="5579636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579639">if</span>&nbsp;<span class="ident" id="5579642">r</span><span class="op" id="5579643">.</span><span class="ident" id="5579644">err</span>&nbsp;<span class="op" id="5579648">!=</span>&nbsp;<span class="ident" id="5579651">nil</span>&nbsp;<span class="op" id="5579655">||</span>&nbsp;<span class="op" id="5579658">!</span><span class="ident" id="5579659">r</span><span class="op" id="5579660">.</span><span class="ident" id="5579661">lastChildren</span>&nbsp;<span class="op" id="5579674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579678">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5579686">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5579690">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5579737">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5579785">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5579827">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579847">if</span>&nbsp;<span class="ident" id="5579850">r</span><span class="op" id="5579851">.</span><span class="ident" id="5579852">lastSibling</span>&nbsp;<span class="op" id="5579864">&gt;=</span>&nbsp;<span class="ident" id="5579867">r</span><span class="op" id="5579868">.</span><span class="ident" id="5579869">b</span><span class="op" id="5579870">.</span><span class="ident" id="5579871">off</span>&nbsp;<span class="op" id="5579875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5579879">r</span><span class="op" id="5579880">.</span><span class="ident" id="5579881">Seek</span><span class="op" id="5579885">(</span><span class="ident" id="5579886">r</span><span class="op" id="5579887">.</span><span class="ident" id="5579888">lastSibling</span><span class="op" id="5579899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579903">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5579911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579915">for</span>&nbsp;<span class="op" id="5579919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5579923">e</span><span class="op" id="5579924">,</span>&nbsp;<span class="ident" id="5579926">err</span>&nbsp;<span class="op" id="5579930">:=</span>&nbsp;<span class="ident" id="5579933">r</span><span class="op" id="5579934">.</span><span class="ident" id="5579935">Next</span><span class="op" id="5579939">(</span><span class="op" id="5579940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579944">if</span>&nbsp;<span class="ident" id="5579947">err</span>&nbsp;<span class="op" id="5579951">!=</span>&nbsp;<span class="ident" id="5579954">nil</span>&nbsp;<span class="op" id="5579958">||</span>&nbsp;<span class="ident" id="5579961">e</span>&nbsp;<span class="op" id="5579963">==</span>&nbsp;<span class="ident" id="5579966">nil</span>&nbsp;<span class="op" id="5579970">||</span>&nbsp;<span class="ident" id="5579973">e</span><span class="op" id="5579974">.</span><span class="ident" id="5579975">Tag</span>&nbsp;<span class="op" id="5579979">==</span>&nbsp;<span class="num" id="5579982">0</span>&nbsp;<span class="op" id="5579984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5579989">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5579997">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5580001">if</span>&nbsp;<span class="ident" id="5580004">e</span><span class="op" id="5580005">.</span><span class="ident" id="5580006">Children</span>&nbsp;<span class="op" id="5580015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5580020">r</span><span class="op" id="5580021">.</span><span class="ident" id="5580022">SkipChildren</span><span class="op" id="5580034">(</span><span class="op" id="5580035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5580039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5580042">}</span><br>
<span class="lineno"></span><span class="op" id="5580044">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="5580047">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="5580118">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5580132">func</span>&nbsp;<span class="op" id="5580137">(</span><span class="ident" id="5580138">r</span>&nbsp;<span class="op" id="5580140">*</span><span class="ident" id="5580141">Reader</span><span class="op" id="5580147">)</span>&nbsp;<span class="ident" id="5580149">clone</span><span class="op" id="5580154">(</span><span class="op" id="5580155">)</span>&nbsp;<span class="ident" id="5580157">typeReader</span>&nbsp;<span class="op" id="5580168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5580171">return</span>&nbsp;<span class="ident" id="5580178">r</span><span class="op" id="5580179">.</span><span class="ident" id="5580180">d</span><span class="op" id="5580181">.</span><span class="ident" id="5580182">Reader</span><span class="op" id="5580188">(</span><span class="op" id="5580189">)</span><br>
<span class="lineno">395</span><span class="op" id="5580191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5580194">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5580260">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5580285">func</span>&nbsp;<span class="op" id="5580290">(</span><span class="ident" id="5580291">r</span>&nbsp;<span class="op" id="5580293">*</span><span class="ident" id="5580294">Reader</span><span class="op" id="5580300">)</span>&nbsp;<span class="ident" id="5580302">offset</span><span class="op" id="5580308">(</span><span class="op" id="5580309">)</span>&nbsp;<span class="ident" id="5580311">Offset</span>&nbsp;<span class="op" id="5580318">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5580321">return</span>&nbsp;<span class="ident" id="5580328">r</span><span class="op" id="5580329">.</span><span class="ident" id="5580330">b</span><span class="op" id="5580331">.</span><span class="ident" id="5580332">off</span><br>
<span class="lineno"></span><span class="op" id="5580336">}</span>
</div>
</body>
</html>
