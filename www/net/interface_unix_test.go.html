<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7881428">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7881484">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7881538">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7881589">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7881646">package</span>&nbsp;<span class="ident" id="7881654">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7881659">import</span>&nbsp;<span class="op" id="7881666">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7881669">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7881675">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7881686">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7881697">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7881708">&#34;time&#34;</span><br>
<span class="lineno">15</span><span class="op" id="7881715">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7881718">type</span>&nbsp;<span class="ident" id="7881723">testInterface</span>&nbsp;<span class="keyword" id="7881737">struct</span>&nbsp;<span class="op" id="7881744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881747">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7881760">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881768">local</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7881781">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881789">remote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7881802">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881810">setupCmds</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7881823">[</span><span class="op" id="7881824">]</span><span class="op" id="7881825">*</span><span class="ident" id="7881826"><a href="/net/interface_unix_test.go.html#7881675">exec</a></span><span class="op" id="7881830">.</span><span class="ident" id="7881831">Cmd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881836">teardownCmds</span>&nbsp;<span class="op" id="7881849">[</span><span class="op" id="7881850">]</span><span class="op" id="7881851">*</span><span class="ident" id="7881852"><a href="/net/interface_unix_test.go.html#7881675">exec</a></span><span class="op" id="7881856">.</span><span class="ident" id="7881857">Cmd</span><br>
<span class="lineno"></span><span class="op" id="7881861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7881864">func</span>&nbsp;<span class="op" id="7881869">(</span><span class="ident" id="7881870">ti</span>&nbsp;<span class="op" id="7881873">*</span><span class="ident" id="7881874"><a href="/net/interface_unix_test.go.html#7881723">testInterface</a></span><span class="op" id="7881887">)</span>&nbsp;<span class="ident" id="7881889">setup</span><span class="op" id="7881894">(</span><span class="op" id="7881895">)</span>&nbsp;<span class="builtintype" id="7881897">error</span>&nbsp;<span class="op" id="7881903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881906">for</span>&nbsp;<span class="ident" id="7881910">_</span><span class="op" id="7881911">,</span>&nbsp;<span class="ident" id="7881913">cmd</span>&nbsp;<span class="op" id="7881917">:=</span>&nbsp;<span class="keyword" id="7881920">range</span>&nbsp;<span class="ident" id="7881926"><a href="/net/interface_unix_test.go.html#7881870">ti</a></span><span class="op" id="7881928">.</span><span class="ident" id="7881929">setupCmds</span>&nbsp;<span class="op" id="7881939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881943">if</span>&nbsp;<span class="ident" id="7881946">err</span>&nbsp;<span class="op" id="7881950">:=</span>&nbsp;<span class="ident" id="7881953"><a href="/net/interface_unix_test.go.html#7881913">cmd</a></span><span class="op" id="7881956">.</span><span class="ident" id="7881957">Run</span><span class="op" id="7881960">(</span><span class="op" id="7881961">)</span><span class="op" id="7881962">;</span>&nbsp;<span class="ident" id="7881964"><a href="/net/interface_unix_test.go.html#7881946">err</a></span>&nbsp;<span class="op" id="7881968">!=</span>&nbsp;<span class="ident" id="7881971">nil</span>&nbsp;<span class="op" id="7881975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881980">return</span>&nbsp;<span class="ident" id="7881987"><a href="/net/interface_unix_test.go.html#7881946">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881993">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881999">return</span>&nbsp;<span class="ident" id="7882006">nil</span><br>
<span class="lineno"></span><span class="op" id="7882010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7882013">func</span>&nbsp;<span class="op" id="7882018">(</span><span class="ident" id="7882019">ti</span>&nbsp;<span class="op" id="7882022">*</span><span class="ident" id="7882023"><a href="/net/interface_unix_test.go.html#7881723">testInterface</a></span><span class="op" id="7882036">)</span>&nbsp;<span class="ident" id="7882038">teardown</span><span class="op" id="7882046">(</span><span class="op" id="7882047">)</span>&nbsp;<span class="builtintype" id="7882049">error</span>&nbsp;<span class="op" id="7882055">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882058">for</span>&nbsp;<span class="ident" id="7882062">_</span><span class="op" id="7882063">,</span>&nbsp;<span class="ident" id="7882065">cmd</span>&nbsp;<span class="op" id="7882069">:=</span>&nbsp;<span class="keyword" id="7882072">range</span>&nbsp;<span class="ident" id="7882078"><a href="/net/interface_unix_test.go.html#7882019">ti</a></span><span class="op" id="7882080">.</span><span class="ident" id="7882081">teardownCmds</span>&nbsp;<span class="op" id="7882094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882098">if</span>&nbsp;<span class="ident" id="7882101">err</span>&nbsp;<span class="op" id="7882105">:=</span>&nbsp;<span class="ident" id="7882108"><a href="/net/interface_unix_test.go.html#7882065">cmd</a></span><span class="op" id="7882111">.</span><span class="ident" id="7882112">Run</span><span class="op" id="7882115">(</span><span class="op" id="7882116">)</span><span class="op" id="7882117">;</span>&nbsp;<span class="ident" id="7882119"><a href="/net/interface_unix_test.go.html#7882101">err</a></span>&nbsp;<span class="op" id="7882123">!=</span>&nbsp;<span class="ident" id="7882126">nil</span>&nbsp;<span class="op" id="7882130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882135">return</span>&nbsp;<span class="ident" id="7882142"><a href="/net/interface_unix_test.go.html#7882101">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882151">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882154">return</span>&nbsp;<span class="ident" id="7882161">nil</span><br>
<span class="lineno"></span><span class="op" id="7882165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7882168">func</span>&nbsp;<span class="ident" id="7882173">TestPointToPointInterface</span><span class="op" id="7882198">(</span><span class="ident" id="7882199">t</span>&nbsp;<span class="op" id="7882201">*</span><span class="ident" id="7882202"><a href="/net/interface_unix_test.go.html#7881697">testing</a></span><span class="op" id="7882209">.</span><span class="ident" id="7882210">T</span><span class="op" id="7882211">)</span>&nbsp;<span class="op" id="7882213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882216">if</span>&nbsp;<span class="ident" id="7882219"><a href="/net/interface_unix_test.go.html#7881697">testing</a></span><span class="op" id="7882226">.</span><span class="ident" id="7882227">Short</span><span class="op" id="7882232">(</span><span class="op" id="7882233">)</span>&nbsp;<span class="op" id="7882235">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882239"><a href="/net/interface_unix_test.go.html#7882199">t</a></span><span class="op" id="7882240">.</span><span class="ident" id="7882241">Skip</span><span class="op" id="7882245">(</span><span class="string" id="7882246">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7882275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882281">switch</span>&nbsp;<span class="op" id="7882288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882291">case</span>&nbsp;<span class="ident" id="7882296"><a href="/net/interface_unix_test.go.html#7881686">runtime</a></span><span class="op" id="7882303">.</span><span class="ident" id="7882304">GOOS</span>&nbsp;<span class="op" id="7882309">==</span>&nbsp;<span class="string" id="7882312">&#34;darwin&#34;</span><span class="op" id="7882320">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882324"><a href="/net/interface_unix_test.go.html#7882199">t</a></span><span class="op" id="7882325">.</span><span class="ident" id="7882326">Skipf</span><span class="op" id="7882331">(</span><span class="string" id="7882332">&#34;skipping&nbsp;read&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="7882358">,</span>&nbsp;<span class="ident" id="7882360"><a href="/net/interface_unix_test.go.html#7881686">runtime</a></span><span class="op" id="7882367">.</span><span class="ident" id="7882368">GOOS</span><span class="op" id="7882372">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882378">if</span>&nbsp;<span class="ident" id="7882381"><a href="/net/interface_unix_test.go.html#7881669">os</a></span><span class="op" id="7882383">.</span><span class="ident" id="7882384">Getuid</span><span class="op" id="7882390">(</span><span class="op" id="7882391">)</span>&nbsp;<span class="op" id="7882393">!=</span>&nbsp;<span class="num" id="7882396">0</span>&nbsp;<span class="op" id="7882398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882402"><a href="/net/interface_unix_test.go.html#7882199">t</a></span><span class="op" id="7882403">.</span><span class="ident" id="7882404">Skip</span><span class="op" id="7882408">(</span><span class="string" id="7882409">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="7882438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882445">local</span><span class="op" id="7882450">,</span>&nbsp;<span class="ident" id="7882452">remote</span>&nbsp;<span class="op" id="7882459">:=</span>&nbsp;<span class="string" id="7882462">&#34;169.254.0.1&#34;</span><span class="op" id="7882475">,</span>&nbsp;<span class="string" id="7882477">&#34;169.254.0.254&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882494">ip</span>&nbsp;<span class="op" id="7882497">:=</span>&nbsp;<span class="ident" id="7882500"><a href="/net/ip.go.html#1430775">ParseIP</a></span><span class="op" id="7882507">(</span><span class="ident" id="7882508"><a href="/net/interface_unix_test.go.html#7882452">remote</a></span><span class="op" id="7882514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882517">for</span>&nbsp;<span class="ident" id="7882521">i</span>&nbsp;<span class="op" id="7882523">:=</span>&nbsp;<span class="num" id="7882526">0</span><span class="op" id="7882527">;</span>&nbsp;<span class="ident" id="7882529"><a href="/net/interface_unix_test.go.html#7882521">i</a></span>&nbsp;<span class="op" id="7882531">&lt;</span>&nbsp;<span class="num" id="7882533">3</span><span class="op" id="7882534">;</span>&nbsp;<span class="ident" id="7882536"><a href="/net/interface_unix_test.go.html#7882521">i</a></span><span class="op" id="7882537">++</span>&nbsp;<span class="op" id="7882540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882544">ti</span>&nbsp;<span class="op" id="7882547">:=</span>&nbsp;<span class="op" id="7882550">&amp;</span><span class="ident" id="7882551"><a href="/net/interface_unix_test.go.html#7881723">testInterface</a></span><span class="op" id="7882564">{</span><span class="op" id="7882565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882569">if</span>&nbsp;<span class="ident" id="7882572">err</span>&nbsp;<span class="op" id="7882576">:=</span>&nbsp;<span class="ident" id="7882579"><a href="/net/interface_unix_test.go.html#7882544">ti</a></span><span class="op" id="7882581">.</span><span class="ident" id="7882582">setPointToPoint</span><span class="op" id="7882597">(</span><span class="num" id="7882598">5963</span><span class="op" id="7882602">+</span><span class="ident" id="7882603"><a href="/net/interface_unix_test.go.html#7882521">i</a></span><span class="op" id="7882604">,</span>&nbsp;<span class="ident" id="7882606"><a href="/net/interface_unix_test.go.html#7882445">local</a></span><span class="op" id="7882611">,</span>&nbsp;<span class="ident" id="7882613"><a href="/net/interface_unix_test.go.html#7882452">remote</a></span><span class="op" id="7882619">)</span><span class="op" id="7882620">;</span>&nbsp;<span class="ident" id="7882622"><a href="/net/interface_unix_test.go.html#7882572">err</a></span>&nbsp;<span class="op" id="7882626">!=</span>&nbsp;<span class="ident" id="7882629">nil</span>&nbsp;<span class="op" id="7882633">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882638"><a href="/net/interface_unix_test.go.html#7882199">t</a></span><span class="op" id="7882639">.</span><span class="ident" id="7882640">Skipf</span><span class="op" id="7882645">(</span><span class="string" id="7882646">&#34;test&nbsp;requries&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="7882682">,</span>&nbsp;<span class="ident" id="7882684"><a href="/net/interface_unix_test.go.html#7882572">err</a></span><span class="op" id="7882687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882695">if</span>&nbsp;<span class="ident" id="7882698">err</span>&nbsp;<span class="op" id="7882702">:=</span>&nbsp;<span class="ident" id="7882705"><a href="/net/interface_unix_test.go.html#7882544">ti</a></span><span class="op" id="7882707">.</span><span class="ident" id="7882708">setup</span><span class="op" id="7882713">(</span><span class="op" id="7882714">)</span><span class="op" id="7882715">;</span>&nbsp;<span class="ident" id="7882717"><a href="/net/interface_unix_test.go.html#7882698">err</a></span>&nbsp;<span class="op" id="7882721">!=</span>&nbsp;<span class="ident" id="7882724">nil</span>&nbsp;<span class="op" id="7882728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882733"><a href="/net/interface_unix_test.go.html#7882199">t</a></span><span class="op" id="7882734">.</span><span class="ident" id="7882735">Fatalf</span><span class="op" id="7882741">(</span><span class="string" id="7882742">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7882774">,</span>&nbsp;<span class="ident" id="7882776"><a href="/net/interface_unix_test.go.html#7882698">err</a></span><span class="op" id="7882779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882783">}</span>&nbsp;<span class="keyword" id="7882785">else</span>&nbsp;<span class="op" id="7882790">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882795"><a href="/net/interface_unix_test.go.html#7881708">time</a></span><span class="op" id="7882799">.</span><span class="ident" id="7882800">Sleep</span><span class="op" id="7882805">(</span><span class="num" id="7882806">3</span>&nbsp;<span class="op" id="7882808">*</span>&nbsp;<span class="ident" id="7882810"><a href="/net/interface_unix_test.go.html#7881708">time</a></span><span class="op" id="7882814">.</span><span class="ident" id="7882815">Millisecond</span><span class="op" id="7882826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882834">ift</span><span class="op" id="7882837">,</span>&nbsp;<span class="ident" id="7882839">err</span>&nbsp;<span class="op" id="7882843">:=</span>&nbsp;<span class="ident" id="7882846"><a href="/net/interface.go.html#1407961">Interfaces</a></span><span class="op" id="7882856">(</span><span class="op" id="7882857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882861">if</span>&nbsp;<span class="ident" id="7882864"><a href="/net/interface_unix_test.go.html#7882839">err</a></span>&nbsp;<span class="op" id="7882868">!=</span>&nbsp;<span class="ident" id="7882871">nil</span>&nbsp;<span class="op" id="7882875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882880"><a href="/net/interface_unix_test.go.html#7882544">ti</a></span><span class="op" id="7882882">.</span><span class="ident" id="7882883">teardown</span><span class="op" id="7882891">(</span><span class="op" id="7882892">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882897"><a href="/net/interface_unix_test.go.html#7882199">t</a></span><span class="op" id="7882898">.</span><span class="ident" id="7882899">Fatalf</span><span class="op" id="7882905">(</span><span class="string" id="7882906">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7882929">,</span>&nbsp;<span class="ident" id="7882931"><a href="/net/interface_unix_test.go.html#7882839">err</a></span><span class="op" id="7882934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882942">for</span>&nbsp;<span class="ident" id="7882946">_</span><span class="op" id="7882947">,</span>&nbsp;<span class="ident" id="7882949">ifi</span>&nbsp;<span class="op" id="7882953">:=</span>&nbsp;<span class="keyword" id="7882956">range</span>&nbsp;<span class="ident" id="7882962"><a href="/net/interface_unix_test.go.html#7882834">ift</a></span>&nbsp;<span class="op" id="7882966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882971">if</span>&nbsp;<span class="ident" id="7882974"><a href="/net/interface_unix_test.go.html#7882544">ti</a></span><span class="op" id="7882976">.</span><span class="ident" id="7882977">name</span>&nbsp;<span class="op" id="7882982">==</span>&nbsp;<span class="ident" id="7882985"><a href="/net/interface_unix_test.go.html#7882949">ifi</a></span><span class="op" id="7882988">.</span><span class="ident" id="7882989">Name</span>&nbsp;<span class="op" id="7882994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883000">ifat</span><span class="op" id="7883004">,</span>&nbsp;<span class="ident" id="7883006">err</span>&nbsp;<span class="op" id="7883010">:=</span>&nbsp;<span class="ident" id="7883013"><a href="/net/interface_unix_test.go.html#7882949">ifi</a></span><span class="op" id="7883016">.</span><span class="ident" id="7883017">Addrs</span><span class="op" id="7883022">(</span><span class="op" id="7883023">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883029">if</span>&nbsp;<span class="ident" id="7883032"><a href="/net/interface_unix_test.go.html#7883006">err</a></span>&nbsp;<span class="op" id="7883036">!=</span>&nbsp;<span class="ident" id="7883039">nil</span>&nbsp;<span class="op" id="7883043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883050"><a href="/net/interface_unix_test.go.html#7882544">ti</a></span><span class="op" id="7883052">.</span><span class="ident" id="7883053">teardown</span><span class="op" id="7883061">(</span><span class="op" id="7883062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883069"><a href="/net/interface_unix_test.go.html#7882199">t</a></span><span class="op" id="7883070">.</span><span class="ident" id="7883071">Fatalf</span><span class="op" id="7883077">(</span><span class="string" id="7883078">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7883106">,</span>&nbsp;<span class="ident" id="7883108"><a href="/net/interface_unix_test.go.html#7883006">err</a></span><span class="op" id="7883111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883123">for</span>&nbsp;<span class="ident" id="7883127">_</span><span class="op" id="7883128">,</span>&nbsp;<span class="ident" id="7883130">ifa</span>&nbsp;<span class="op" id="7883134">:=</span>&nbsp;<span class="keyword" id="7883137">range</span>&nbsp;<span class="ident" id="7883143"><a href="/net/interface_unix_test.go.html#7883000">ifat</a></span>&nbsp;<span class="op" id="7883148">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883155">if</span>&nbsp;<span class="ident" id="7883158"><a href="/net/interface_unix_test.go.html#7882494">ip</a></span><span class="op" id="7883160">.</span><span class="ident" id="7883161">Equal</span><span class="op" id="7883166">(</span><span class="ident" id="7883167"><a href="/net/interface_unix_test.go.html#7883130">ifa</a></span><span class="op" id="7883170">.</span><span class="op" id="7883171">(</span><span class="op" id="7883172">*</span><span class="ident" id="7883173"><a href="/net/ip.go.html#1417295">IPNet</a></span><span class="op" id="7883178">)</span><span class="op" id="7883179">.</span><span class="ident" id="7883180">IP</span><span class="op" id="7883182">)</span>&nbsp;<span class="op" id="7883184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883192"><a href="/net/interface_unix_test.go.html#7882544">ti</a></span><span class="op" id="7883194">.</span><span class="ident" id="7883195">teardown</span><span class="op" id="7883203">(</span><span class="op" id="7883204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883212"><a href="/net/interface_unix_test.go.html#7882199">t</a></span><span class="op" id="7883213">.</span><span class="ident" id="7883214">Fatalf</span><span class="op" id="7883220">(</span><span class="string" id="7883221">&#34;got&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7883238">,</span>&nbsp;<span class="ident" id="7883240"><a href="/net/interface_unix_test.go.html#7882494">ip</a></span><span class="op" id="7883242">,</span>&nbsp;<span class="ident" id="7883244"><a href="/net/interface_unix_test.go.html#7882445">local</a></span><span class="op" id="7883249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883262">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883275">if</span>&nbsp;<span class="ident" id="7883278">err</span>&nbsp;<span class="op" id="7883282">:=</span>&nbsp;<span class="ident" id="7883285"><a href="/net/interface_unix_test.go.html#7882544">ti</a></span><span class="op" id="7883287">.</span><span class="ident" id="7883288">teardown</span><span class="op" id="7883296">(</span><span class="op" id="7883297">)</span><span class="op" id="7883298">;</span>&nbsp;<span class="ident" id="7883300"><a href="/net/interface_unix_test.go.html#7883278">err</a></span>&nbsp;<span class="op" id="7883304">!=</span>&nbsp;<span class="ident" id="7883307">nil</span>&nbsp;<span class="op" id="7883311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883316"><a href="/net/interface_unix_test.go.html#7882199">t</a></span><span class="op" id="7883317">.</span><span class="ident" id="7883318">Fatalf</span><span class="op" id="7883324">(</span><span class="string" id="7883325">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7883360">,</span>&nbsp;<span class="ident" id="7883362"><a href="/net/interface_unix_test.go.html#7883278">err</a></span><span class="op" id="7883365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883369">}</span>&nbsp;<span class="keyword" id="7883371">else</span>&nbsp;<span class="op" id="7883376">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883381"><a href="/net/interface_unix_test.go.html#7881708">time</a></span><span class="op" id="7883385">.</span><span class="ident" id="7883386">Sleep</span><span class="op" id="7883391">(</span><span class="num" id="7883392">3</span>&nbsp;<span class="op" id="7883394">*</span>&nbsp;<span class="ident" id="7883396"><a href="/net/interface_unix_test.go.html#7881708">time</a></span><span class="op" id="7883400">.</span><span class="ident" id="7883401">Millisecond</span><span class="op" id="7883412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883419">}</span><br>
<span class="lineno"></span><span class="op" id="7883421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7883424">func</span>&nbsp;<span class="ident" id="7883429">TestInterfaceArrivalAndDeparture</span><span class="op" id="7883461">(</span><span class="ident" id="7883462">t</span>&nbsp;<span class="op" id="7883464">*</span><span class="ident" id="7883465"><a href="/net/interface_unix_test.go.html#7881697">testing</a></span><span class="op" id="7883472">.</span><span class="ident" id="7883473">T</span><span class="op" id="7883474">)</span>&nbsp;<span class="op" id="7883476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883479">if</span>&nbsp;<span class="ident" id="7883482"><a href="/net/interface_unix_test.go.html#7881697">testing</a></span><span class="op" id="7883489">.</span><span class="ident" id="7883490">Short</span><span class="op" id="7883495">(</span><span class="op" id="7883496">)</span>&nbsp;<span class="op" id="7883498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883502"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7883503">.</span><span class="ident" id="7883504">Skip</span><span class="op" id="7883508">(</span><span class="string" id="7883509">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7883538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883544">if</span>&nbsp;<span class="ident" id="7883547"><a href="/net/interface_unix_test.go.html#7881669">os</a></span><span class="op" id="7883549">.</span><span class="ident" id="7883550">Getuid</span><span class="op" id="7883556">(</span><span class="op" id="7883557">)</span>&nbsp;<span class="op" id="7883559">!=</span>&nbsp;<span class="num" id="7883562">0</span>&nbsp;<span class="op" id="7883564">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883568"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7883569">.</span><span class="ident" id="7883570">Skip</span><span class="op" id="7883574">(</span><span class="string" id="7883575">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="7883604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883611">for</span>&nbsp;<span class="ident" id="7883615">i</span>&nbsp;<span class="op" id="7883617">:=</span>&nbsp;<span class="num" id="7883620">0</span><span class="op" id="7883621">;</span>&nbsp;<span class="ident" id="7883623"><a href="/net/interface_unix_test.go.html#7883615">i</a></span>&nbsp;<span class="op" id="7883625">&lt;</span>&nbsp;<span class="num" id="7883627">3</span><span class="op" id="7883628">;</span>&nbsp;<span class="ident" id="7883630"><a href="/net/interface_unix_test.go.html#7883615">i</a></span><span class="op" id="7883631">++</span>&nbsp;<span class="op" id="7883634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883638">ift1</span><span class="op" id="7883642">,</span>&nbsp;<span class="ident" id="7883644">err</span>&nbsp;<span class="op" id="7883648">:=</span>&nbsp;<span class="ident" id="7883651"><a href="/net/interface.go.html#1407961">Interfaces</a></span><span class="op" id="7883661">(</span><span class="op" id="7883662">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883666">if</span>&nbsp;<span class="ident" id="7883669"><a href="/net/interface_unix_test.go.html#7883644">err</a></span>&nbsp;<span class="op" id="7883673">!=</span>&nbsp;<span class="ident" id="7883676">nil</span>&nbsp;<span class="op" id="7883680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883685"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7883686">.</span><span class="ident" id="7883687">Fatalf</span><span class="op" id="7883693">(</span><span class="string" id="7883694">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7883717">,</span>&nbsp;<span class="ident" id="7883719"><a href="/net/interface_unix_test.go.html#7883644">err</a></span><span class="op" id="7883722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883730">ti</span>&nbsp;<span class="op" id="7883733">:=</span>&nbsp;<span class="op" id="7883736">&amp;</span><span class="ident" id="7883737"><a href="/net/interface_unix_test.go.html#7881723">testInterface</a></span><span class="op" id="7883750">{</span><span class="op" id="7883751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883755">if</span>&nbsp;<span class="ident" id="7883758">err</span>&nbsp;<span class="op" id="7883762">:=</span>&nbsp;<span class="ident" id="7883765"><a href="/net/interface_unix_test.go.html#7883730">ti</a></span><span class="op" id="7883767">.</span><span class="ident" id="7883768">setBroadcast</span><span class="op" id="7883780">(</span><span class="num" id="7883781">5682</span>&nbsp;<span class="op" id="7883786">+</span>&nbsp;<span class="ident" id="7883788"><a href="/net/interface_unix_test.go.html#7883615">i</a></span><span class="op" id="7883789">)</span><span class="op" id="7883790">;</span>&nbsp;<span class="ident" id="7883792"><a href="/net/interface_unix_test.go.html#7883758">err</a></span>&nbsp;<span class="op" id="7883796">!=</span>&nbsp;<span class="ident" id="7883799">nil</span>&nbsp;<span class="op" id="7883803">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883808"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7883809">.</span><span class="ident" id="7883810">Skipf</span><span class="op" id="7883815">(</span><span class="string" id="7883816">&#34;test&nbsp;requires&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="7883852">,</span>&nbsp;<span class="ident" id="7883854"><a href="/net/interface_unix_test.go.html#7883758">err</a></span><span class="op" id="7883857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883865">if</span>&nbsp;<span class="ident" id="7883868">err</span>&nbsp;<span class="op" id="7883872">:=</span>&nbsp;<span class="ident" id="7883875"><a href="/net/interface_unix_test.go.html#7883730">ti</a></span><span class="op" id="7883877">.</span><span class="ident" id="7883878">setup</span><span class="op" id="7883883">(</span><span class="op" id="7883884">)</span><span class="op" id="7883885">;</span>&nbsp;<span class="ident" id="7883887"><a href="/net/interface_unix_test.go.html#7883868">err</a></span>&nbsp;<span class="op" id="7883891">!=</span>&nbsp;<span class="ident" id="7883894">nil</span>&nbsp;<span class="op" id="7883898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883903"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7883904">.</span><span class="ident" id="7883905">Fatalf</span><span class="op" id="7883911">(</span><span class="string" id="7883912">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7883944">,</span>&nbsp;<span class="ident" id="7883946"><a href="/net/interface_unix_test.go.html#7883868">err</a></span><span class="op" id="7883949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883953">}</span>&nbsp;<span class="keyword" id="7883955">else</span>&nbsp;<span class="op" id="7883960">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883965"><a href="/net/interface_unix_test.go.html#7881708">time</a></span><span class="op" id="7883969">.</span><span class="ident" id="7883970">Sleep</span><span class="op" id="7883975">(</span><span class="num" id="7883976">3</span>&nbsp;<span class="op" id="7883978">*</span>&nbsp;<span class="ident" id="7883980"><a href="/net/interface_unix_test.go.html#7881708">time</a></span><span class="op" id="7883984">.</span><span class="ident" id="7883985">Millisecond</span><span class="op" id="7883996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884004">ift2</span><span class="op" id="7884008">,</span>&nbsp;<span class="ident" id="7884010"><a href="/net/interface_unix_test.go.html#7883644">err</a></span>&nbsp;<span class="op" id="7884014">:=</span>&nbsp;<span class="ident" id="7884017"><a href="/net/interface.go.html#1407961">Interfaces</a></span><span class="op" id="7884027">(</span><span class="op" id="7884028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884032">if</span>&nbsp;<span class="ident" id="7884035"><a href="/net/interface_unix_test.go.html#7883644">err</a></span>&nbsp;<span class="op" id="7884039">!=</span>&nbsp;<span class="ident" id="7884042">nil</span>&nbsp;<span class="op" id="7884046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884051"><a href="/net/interface_unix_test.go.html#7883730">ti</a></span><span class="op" id="7884053">.</span><span class="ident" id="7884054">teardown</span><span class="op" id="7884062">(</span><span class="op" id="7884063">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884068"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7884069">.</span><span class="ident" id="7884070">Fatalf</span><span class="op" id="7884076">(</span><span class="string" id="7884077">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7884100">,</span>&nbsp;<span class="ident" id="7884102"><a href="/net/interface_unix_test.go.html#7883644">err</a></span><span class="op" id="7884105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884113">if</span>&nbsp;<span class="builtinfunc" id="7884116">len</span><span class="op" id="7884119">(</span><span class="ident" id="7884120"><a href="/net/interface_unix_test.go.html#7884004">ift2</a></span><span class="op" id="7884124">)</span>&nbsp;<span class="op" id="7884126">&lt;=</span>&nbsp;<span class="builtinfunc" id="7884129">len</span><span class="op" id="7884132">(</span><span class="ident" id="7884133"><a href="/net/interface_unix_test.go.html#7883638">ift1</a></span><span class="op" id="7884137">)</span>&nbsp;<span class="op" id="7884139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884144">for</span>&nbsp;<span class="ident" id="7884148">_</span><span class="op" id="7884149">,</span>&nbsp;<span class="ident" id="7884151">ifi</span>&nbsp;<span class="op" id="7884155">:=</span>&nbsp;<span class="keyword" id="7884158">range</span>&nbsp;<span class="ident" id="7884164"><a href="/net/interface_unix_test.go.html#7883638">ift1</a></span>&nbsp;<span class="op" id="7884169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884175"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7884176">.</span><span class="ident" id="7884177">Logf</span><span class="op" id="7884181">(</span><span class="string" id="7884182">&#34;before:&nbsp;%v&#34;</span><span class="op" id="7884194">,</span>&nbsp;<span class="ident" id="7884196"><a href="/net/interface_unix_test.go.html#7884151">ifi</a></span><span class="op" id="7884199">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884209">for</span>&nbsp;<span class="ident" id="7884213">_</span><span class="op" id="7884214">,</span>&nbsp;<span class="ident" id="7884216">ifi</span>&nbsp;<span class="op" id="7884220">:=</span>&nbsp;<span class="keyword" id="7884223">range</span>&nbsp;<span class="ident" id="7884229"><a href="/net/interface_unix_test.go.html#7884004">ift2</a></span>&nbsp;<span class="op" id="7884234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884240"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7884241">.</span><span class="ident" id="7884242">Logf</span><span class="op" id="7884246">(</span><span class="string" id="7884247">&#34;after:&nbsp;%v&#34;</span><span class="op" id="7884258">,</span>&nbsp;<span class="ident" id="7884260"><a href="/net/interface_unix_test.go.html#7884216">ifi</a></span><span class="op" id="7884263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884273"><a href="/net/interface_unix_test.go.html#7883730">ti</a></span><span class="op" id="7884275">.</span><span class="ident" id="7884276">teardown</span><span class="op" id="7884284">(</span><span class="op" id="7884285">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884290"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7884291">.</span><span class="ident" id="7884292">Fatalf</span><span class="op" id="7884298">(</span><span class="string" id="7884299">&#34;got&nbsp;%v;&nbsp;want&nbsp;gt&nbsp;%v&#34;</span><span class="op" id="7884319">,</span>&nbsp;<span class="builtinfunc" id="7884321">len</span><span class="op" id="7884324">(</span><span class="ident" id="7884325"><a href="/net/interface_unix_test.go.html#7884004">ift2</a></span><span class="op" id="7884329">)</span><span class="op" id="7884330">,</span>&nbsp;<span class="builtinfunc" id="7884332">len</span><span class="op" id="7884335">(</span><span class="ident" id="7884336"><a href="/net/interface_unix_test.go.html#7883638">ift1</a></span><span class="op" id="7884340">)</span><span class="op" id="7884341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884349">if</span>&nbsp;<span class="ident" id="7884352">err</span>&nbsp;<span class="op" id="7884356">:=</span>&nbsp;<span class="ident" id="7884359"><a href="/net/interface_unix_test.go.html#7883730">ti</a></span><span class="op" id="7884361">.</span><span class="ident" id="7884362">teardown</span><span class="op" id="7884370">(</span><span class="op" id="7884371">)</span><span class="op" id="7884372">;</span>&nbsp;<span class="ident" id="7884374"><a href="/net/interface_unix_test.go.html#7884352">err</a></span>&nbsp;<span class="op" id="7884378">!=</span>&nbsp;<span class="ident" id="7884381">nil</span>&nbsp;<span class="op" id="7884385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884390"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7884391">.</span><span class="ident" id="7884392">Fatalf</span><span class="op" id="7884398">(</span><span class="string" id="7884399">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7884434">,</span>&nbsp;<span class="ident" id="7884436"><a href="/net/interface_unix_test.go.html#7884352">err</a></span><span class="op" id="7884439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884443">}</span>&nbsp;<span class="keyword" id="7884445">else</span>&nbsp;<span class="op" id="7884450">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884455"><a href="/net/interface_unix_test.go.html#7881708">time</a></span><span class="op" id="7884459">.</span><span class="ident" id="7884460">Sleep</span><span class="op" id="7884465">(</span><span class="num" id="7884466">3</span>&nbsp;<span class="op" id="7884468">*</span>&nbsp;<span class="ident" id="7884470"><a href="/net/interface_unix_test.go.html#7881708">time</a></span><span class="op" id="7884474">.</span><span class="ident" id="7884475">Millisecond</span><span class="op" id="7884486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884494">ift3</span><span class="op" id="7884498">,</span>&nbsp;<span class="ident" id="7884500"><a href="/net/interface_unix_test.go.html#7883644">err</a></span>&nbsp;<span class="op" id="7884504">:=</span>&nbsp;<span class="ident" id="7884507"><a href="/net/interface.go.html#1407961">Interfaces</a></span><span class="op" id="7884517">(</span><span class="op" id="7884518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884522">if</span>&nbsp;<span class="ident" id="7884525"><a href="/net/interface_unix_test.go.html#7883644">err</a></span>&nbsp;<span class="op" id="7884529">!=</span>&nbsp;<span class="ident" id="7884532">nil</span>&nbsp;<span class="op" id="7884536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884541"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7884542">.</span><span class="ident" id="7884543">Fatalf</span><span class="op" id="7884549">(</span><span class="string" id="7884550">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7884573">,</span>&nbsp;<span class="ident" id="7884575"><a href="/net/interface_unix_test.go.html#7883644">err</a></span><span class="op" id="7884578">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884586">if</span>&nbsp;<span class="builtinfunc" id="7884589">len</span><span class="op" id="7884592">(</span><span class="ident" id="7884593"><a href="/net/interface_unix_test.go.html#7884494">ift3</a></span><span class="op" id="7884597">)</span>&nbsp;<span class="op" id="7884599">&gt;=</span>&nbsp;<span class="builtinfunc" id="7884602">len</span><span class="op" id="7884605">(</span><span class="ident" id="7884606"><a href="/net/interface_unix_test.go.html#7884004">ift2</a></span><span class="op" id="7884610">)</span>&nbsp;<span class="op" id="7884612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884617">for</span>&nbsp;<span class="ident" id="7884621">_</span><span class="op" id="7884622">,</span>&nbsp;<span class="ident" id="7884624">ifi</span>&nbsp;<span class="op" id="7884628">:=</span>&nbsp;<span class="keyword" id="7884631">range</span>&nbsp;<span class="ident" id="7884637"><a href="/net/interface_unix_test.go.html#7884004">ift2</a></span>&nbsp;<span class="op" id="7884642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884648"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7884649">.</span><span class="ident" id="7884650">Logf</span><span class="op" id="7884654">(</span><span class="string" id="7884655">&#34;before:&nbsp;%v&#34;</span><span class="op" id="7884667">,</span>&nbsp;<span class="ident" id="7884669"><a href="/net/interface_unix_test.go.html#7884624">ifi</a></span><span class="op" id="7884672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884677">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884682">for</span>&nbsp;<span class="ident" id="7884686">_</span><span class="op" id="7884687">,</span>&nbsp;<span class="ident" id="7884689">ifi</span>&nbsp;<span class="op" id="7884693">:=</span>&nbsp;<span class="keyword" id="7884696">range</span>&nbsp;<span class="ident" id="7884702"><a href="/net/interface_unix_test.go.html#7884494">ift3</a></span>&nbsp;<span class="op" id="7884707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884713"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7884714">.</span><span class="ident" id="7884715">Logf</span><span class="op" id="7884719">(</span><span class="string" id="7884720">&#34;after:&nbsp;%v&#34;</span><span class="op" id="7884731">,</span>&nbsp;<span class="ident" id="7884733"><a href="/net/interface_unix_test.go.html#7884689">ifi</a></span><span class="op" id="7884736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884746"><a href="/net/interface_unix_test.go.html#7883462">t</a></span><span class="op" id="7884747">.</span><span class="ident" id="7884748">Fatalf</span><span class="op" id="7884754">(</span><span class="string" id="7884755">&#34;got&nbsp;%v;&nbsp;want&nbsp;lt&nbsp;%v&#34;</span><span class="op" id="7884775">,</span>&nbsp;<span class="builtinfunc" id="7884777">len</span><span class="op" id="7884780">(</span><span class="ident" id="7884781"><a href="/net/interface_unix_test.go.html#7884494">ift3</a></span><span class="op" id="7884785">)</span><span class="op" id="7884786">,</span>&nbsp;<span class="builtinfunc" id="7884788">len</span><span class="op" id="7884791">(</span><span class="ident" id="7884792"><a href="/net/interface_unix_test.go.html#7884004">ift2</a></span><span class="op" id="7884796">)</span><span class="op" id="7884797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884801">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884804">}</span><br>
<span class="lineno"></span><span class="op" id="7884806">}</span>
</div>
</body>
</html>
