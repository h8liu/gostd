<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>testing</h2>
<ul>
<li><a href="/gostd/testing/allocs.go.html">allocs.go</a></li>
<li><a href="/gostd/testing/allocs_test.go.html">allocs_test.go</a></li>
<li><a href="/gostd/testing/benchmark.go.html">benchmark.go</a></li>
<li><a href="/gostd/testing/benchmark_test.go.html">benchmark_test.go</a></li>
<li><a href="/gostd/testing/cover.go.html">cover.go</a></li>
<li><a href="/gostd/testing/example.go.html" class="current">example.go</a></li>
<li><a href="/gostd/testing/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/testing/testing.go.html">testing.go</a></li>
<li><a href="/gostd/testing/testing_test.go.html">testing_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6348782">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6348837">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6348891">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6348942">package</span>&nbsp;<span class="ident" id="6348950">testing</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6348959">import</span>&nbsp;<span class="op" id="6348966">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6348969">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6348978">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6348985">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6348991">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6348997">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6349008">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6349015">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6349018">type</span>&nbsp;<span class="ident" id="6349023">InternalExample</span>&nbsp;<span class="keyword" id="6349039">struct</span>&nbsp;<span class="op" id="6349046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349049">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6349056">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349064">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6349071">func</span><span class="op" id="6349075">(</span><span class="op" id="6349076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349079">Output</span>&nbsp;<span class="builtintype" id="6349086">string</span><br>
<span class="lineno">20</span><span class="op" id="6349093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6349096">func</span>&nbsp;<span class="ident" id="6349101">RunExamples</span><span class="op" id="6349112">(</span><span class="ident" id="6349113">matchString</span>&nbsp;<span class="keyword" id="6349125">func</span><span class="op" id="6349129">(</span><span class="ident" id="6349130">pat</span><span class="op" id="6349133">,</span>&nbsp;<span class="ident" id="6349135">str</span>&nbsp;<span class="builtintype" id="6349139">string</span><span class="op" id="6349145">)</span>&nbsp;<span class="op" id="6349147">(</span><span class="builtintype" id="6349148">bool</span><span class="op" id="6349152">,</span>&nbsp;<span class="builtintype" id="6349154">error</span><span class="op" id="6349159">)</span><span class="op" id="6349160">,</span>&nbsp;<span class="ident" id="6349162">examples</span>&nbsp;<span class="op" id="6349171">[</span><span class="op" id="6349172">]</span><span class="ident" id="6349173">InternalExample</span><span class="op" id="6349188">)</span>&nbsp;<span class="op" id="6349190">(</span><span class="ident" id="6349191">ok</span>&nbsp;<span class="builtintype" id="6349194">bool</span><span class="op" id="6349198">)</span>&nbsp;<span class="op" id="6349200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349203">ok</span>&nbsp;<span class="op" id="6349206">=</span>&nbsp;<span class="builtintype" id="6349208">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349215">var</span>&nbsp;<span class="ident" id="6349219">eg</span>&nbsp;<span class="ident" id="6349222">InternalExample</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349240">for</span>&nbsp;<span class="ident" id="6349244">_</span><span class="op" id="6349245">,</span>&nbsp;<span class="ident" id="6349247">eg</span>&nbsp;<span class="op" id="6349250">=</span>&nbsp;<span class="keyword" id="6349252">range</span>&nbsp;<span class="ident" id="6349258">examples</span>&nbsp;<span class="op" id="6349267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349271">matched</span><span class="op" id="6349278">,</span>&nbsp;<span class="ident" id="6349280">err</span>&nbsp;<span class="op" id="6349284">:=</span>&nbsp;<span class="ident" id="6349287">matchString</span><span class="op" id="6349298">(</span><span class="op" id="6349299">*</span><span class="ident" id="6349300">match</span><span class="op" id="6349305">,</span>&nbsp;<span class="ident" id="6349307">eg</span><span class="op" id="6349309">.</span><span class="ident" id="6349310">Name</span><span class="op" id="6349314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349318">if</span>&nbsp;<span class="ident" id="6349321">err</span>&nbsp;<span class="op" id="6349325">!=</span>&nbsp;<span class="ident" id="6349328">nil</span>&nbsp;<span class="op" id="6349332">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349337">fmt</span><span class="op" id="6349340">.</span><span class="ident" id="6349341">Fprintf</span><span class="op" id="6349348">(</span><span class="ident" id="6349349">os</span><span class="op" id="6349351">.</span><span class="ident" id="6349352">Stderr</span><span class="op" id="6349358">,</span>&nbsp;<span class="string" id="6349360">&#34;testing:&nbsp;invalid&nbsp;regexp&nbsp;for&nbsp;-test.run:&nbsp;%s\n&#34;</span><span class="op" id="6349405">,</span>&nbsp;<span class="ident" id="6349407">err</span><span class="op" id="6349410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349415">os</span><span class="op" id="6349417">.</span><span class="ident" id="6349418">Exit</span><span class="op" id="6349422">(</span><span class="num" id="6349423">1</span><span class="op" id="6349424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6349428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349432">if</span>&nbsp;<span class="op" id="6349435">!</span><span class="ident" id="6349436">matched</span>&nbsp;<span class="op" id="6349444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349449">continue</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6349460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349464">if</span>&nbsp;<span class="op" id="6349467">!</span><span class="ident" id="6349468">runExample</span><span class="op" id="6349478">(</span><span class="ident" id="6349479">eg</span><span class="op" id="6349481">)</span>&nbsp;<span class="op" id="6349483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349488">ok</span>&nbsp;<span class="op" id="6349491">=</span>&nbsp;<span class="builtintype" id="6349493">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6349501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6349504">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349508">return</span><br>
<span class="lineno"></span><span class="op" id="6349515">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6349518">func</span>&nbsp;<span class="ident" id="6349523">runExample</span><span class="op" id="6349533">(</span><span class="ident" id="6349534">eg</span>&nbsp;<span class="ident" id="6349537">InternalExample</span><span class="op" id="6349552">)</span>&nbsp;<span class="op" id="6349554">(</span><span class="ident" id="6349555">ok</span>&nbsp;<span class="builtintype" id="6349558">bool</span><span class="op" id="6349562">)</span>&nbsp;<span class="op" id="6349564">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349567">if</span>&nbsp;<span class="op" id="6349570">*</span><span class="ident" id="6349571">chatty</span>&nbsp;<span class="op" id="6349578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349582">fmt</span><span class="op" id="6349585">.</span><span class="ident" id="6349586">Printf</span><span class="op" id="6349592">(</span><span class="string" id="6349593">&#34;===&nbsp;RUN:&nbsp;%s\n&#34;</span><span class="op" id="6349608">,</span>&nbsp;<span class="ident" id="6349610">eg</span><span class="op" id="6349612">.</span><span class="ident" id="6349613">Name</span><span class="op" id="6349617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6349620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6349624">//&nbsp;Capture&nbsp;stdout.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349644">stdout</span>&nbsp;<span class="op" id="6349651">:=</span>&nbsp;<span class="ident" id="6349654">os</span><span class="op" id="6349656">.</span><span class="ident" id="6349657">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349665">r</span><span class="op" id="6349666">,</span>&nbsp;<span class="ident" id="6349668">w</span><span class="op" id="6349669">,</span>&nbsp;<span class="ident" id="6349671">err</span>&nbsp;<span class="op" id="6349675">:=</span>&nbsp;<span class="ident" id="6349678">os</span><span class="op" id="6349680">.</span><span class="ident" id="6349681">Pipe</span><span class="op" id="6349685">(</span><span class="op" id="6349686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349689">if</span>&nbsp;<span class="ident" id="6349692">err</span>&nbsp;<span class="op" id="6349696">!=</span>&nbsp;<span class="ident" id="6349699">nil</span>&nbsp;<span class="op" id="6349703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349707">fmt</span><span class="op" id="6349710">.</span><span class="ident" id="6349711">Fprintln</span><span class="op" id="6349719">(</span><span class="ident" id="6349720">os</span><span class="op" id="6349722">.</span><span class="ident" id="6349723">Stderr</span><span class="op" id="6349729">,</span>&nbsp;<span class="ident" id="6349731">err</span><span class="op" id="6349734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349738">os</span><span class="op" id="6349740">.</span><span class="ident" id="6349741">Exit</span><span class="op" id="6349745">(</span><span class="num" id="6349746">1</span><span class="op" id="6349747">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6349750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349753">os</span><span class="op" id="6349755">.</span><span class="ident" id="6349756">Stdout</span>&nbsp;<span class="op" id="6349763">=</span>&nbsp;<span class="ident" id="6349765">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349768">outC</span>&nbsp;<span class="op" id="6349773">:=</span>&nbsp;<span class="builtinfunc" id="6349776">make</span><span class="op" id="6349780">(</span><span class="keyword" id="6349781">chan</span>&nbsp;<span class="builtintype" id="6349786">string</span><span class="op" id="6349792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349795">go</span>&nbsp;<span class="keyword" id="6349798">func</span><span class="op" id="6349802">(</span><span class="op" id="6349803">)</span>&nbsp;<span class="op" id="6349805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349809">buf</span>&nbsp;<span class="op" id="6349813">:=</span>&nbsp;<span class="builtinfunc" id="6349816">new</span><span class="op" id="6349819">(</span><span class="ident" id="6349820">bytes</span><span class="op" id="6349825">.</span><span class="ident" id="6349826">Buffer</span><span class="op" id="6349832">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349836">_</span><span class="op" id="6349837">,</span>&nbsp;<span class="ident" id="6349839">err</span>&nbsp;<span class="op" id="6349843">:=</span>&nbsp;<span class="ident" id="6349846">io</span><span class="op" id="6349848">.</span><span class="ident" id="6349849">Copy</span><span class="op" id="6349853">(</span><span class="ident" id="6349854">buf</span><span class="op" id="6349857">,</span>&nbsp;<span class="ident" id="6349859">r</span><span class="op" id="6349860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349864">r</span><span class="op" id="6349865">.</span><span class="ident" id="6349866">Close</span><span class="op" id="6349871">(</span><span class="op" id="6349872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6349876">if</span>&nbsp;<span class="ident" id="6349879">err</span>&nbsp;<span class="op" id="6349883">!=</span>&nbsp;<span class="ident" id="6349886">nil</span>&nbsp;<span class="op" id="6349890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349895">fmt</span><span class="op" id="6349898">.</span><span class="ident" id="6349899">Fprintf</span><span class="op" id="6349906">(</span><span class="ident" id="6349907">os</span><span class="op" id="6349909">.</span><span class="ident" id="6349910">Stderr</span><span class="op" id="6349916">,</span>&nbsp;<span class="string" id="6349918">&#34;testing:&nbsp;copying&nbsp;pipe:&nbsp;%v\n&#34;</span><span class="op" id="6349947">,</span>&nbsp;<span class="ident" id="6349949">err</span><span class="op" id="6349952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349957">os</span><span class="op" id="6349959">.</span><span class="ident" id="6349960">Exit</span><span class="op" id="6349964">(</span><span class="num" id="6349965">1</span><span class="op" id="6349966">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6349970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6349974">outC</span>&nbsp;<span class="op" id="6349979">&lt;-</span>&nbsp;<span class="ident" id="6349982">buf</span><span class="op" id="6349985">.</span><span class="ident" id="6349986">String</span><span class="op" id="6349992">(</span><span class="op" id="6349993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6349996">}</span><span class="op" id="6349997">(</span><span class="op" id="6349998">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350002">start</span>&nbsp;<span class="op" id="6350008">:=</span>&nbsp;<span class="ident" id="6350011">time</span><span class="op" id="6350015">.</span><span class="ident" id="6350016">Now</span><span class="op" id="6350019">(</span><span class="op" id="6350020">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350023">ok</span>&nbsp;<span class="op" id="6350026">=</span>&nbsp;<span class="builtintype" id="6350028">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6350035">//&nbsp;Clean&nbsp;up&nbsp;in&nbsp;a&nbsp;deferred&nbsp;call&nbsp;so&nbsp;we&nbsp;can&nbsp;recover&nbsp;if&nbsp;the&nbsp;example&nbsp;panics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6350108">defer</span>&nbsp;<span class="keyword" id="6350114">func</span><span class="op" id="6350118">(</span><span class="op" id="6350119">)</span>&nbsp;<span class="op" id="6350121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350125">dstr</span>&nbsp;<span class="op" id="6350130">:=</span>&nbsp;<span class="ident" id="6350133">fmtDuration</span><span class="op" id="6350144">(</span><span class="ident" id="6350145">time</span><span class="op" id="6350149">.</span><span class="ident" id="6350150">Now</span><span class="op" id="6350153">(</span><span class="op" id="6350154">)</span><span class="op" id="6350155">.</span><span class="ident" id="6350156">Sub</span><span class="op" id="6350159">(</span><span class="ident" id="6350160">start</span><span class="op" id="6350165">)</span><span class="op" id="6350166">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6350171">//&nbsp;Close&nbsp;pipe,&nbsp;restore&nbsp;stdout,&nbsp;get&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350216">w</span><span class="op" id="6350217">.</span><span class="ident" id="6350218">Close</span><span class="op" id="6350223">(</span><span class="op" id="6350224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350228">os</span><span class="op" id="6350230">.</span><span class="ident" id="6350231">Stdout</span>&nbsp;<span class="op" id="6350238">=</span>&nbsp;<span class="ident" id="6350240">stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350249">out</span>&nbsp;<span class="op" id="6350253">:=</span>&nbsp;<span class="op" id="6350256">&lt;-</span><span class="ident" id="6350258">outC</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6350266">var</span>&nbsp;<span class="ident" id="6350270">fail</span>&nbsp;<span class="builtintype" id="6350275">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350284">err</span>&nbsp;<span class="op" id="6350288">:=</span>&nbsp;<span class="builtinfunc" id="6350291">recover</span><span class="op" id="6350298">(</span><span class="op" id="6350299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6350303">if</span>&nbsp;<span class="ident" id="6350306">g</span><span class="op" id="6350307">,</span>&nbsp;<span class="ident" id="6350309">e</span>&nbsp;<span class="op" id="6350311">:=</span>&nbsp;<span class="ident" id="6350314">strings</span><span class="op" id="6350321">.</span><span class="ident" id="6350322">TrimSpace</span><span class="op" id="6350331">(</span><span class="ident" id="6350332">out</span><span class="op" id="6350335">)</span><span class="op" id="6350336">,</span>&nbsp;<span class="ident" id="6350338">strings</span><span class="op" id="6350345">.</span><span class="ident" id="6350346">TrimSpace</span><span class="op" id="6350355">(</span><span class="ident" id="6350356">eg</span><span class="op" id="6350358">.</span><span class="ident" id="6350359">Output</span><span class="op" id="6350365">)</span><span class="op" id="6350366">;</span>&nbsp;<span class="ident" id="6350368">g</span>&nbsp;<span class="op" id="6350370">!=</span>&nbsp;<span class="ident" id="6350373">e</span>&nbsp;<span class="op" id="6350375">&amp;&amp;</span>&nbsp;<span class="ident" id="6350378">err</span>&nbsp;<span class="op" id="6350382">==</span>&nbsp;<span class="ident" id="6350385">nil</span>&nbsp;<span class="op" id="6350389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350394">fail</span>&nbsp;<span class="op" id="6350399">=</span>&nbsp;<span class="ident" id="6350401">fmt</span><span class="op" id="6350404">.</span><span class="ident" id="6350405">Sprintf</span><span class="op" id="6350412">(</span><span class="string" id="6350413">&#34;got:\n%s\nwant:\n%s\n&#34;</span><span class="op" id="6350436">,</span>&nbsp;<span class="ident" id="6350438">g</span><span class="op" id="6350439">,</span>&nbsp;<span class="ident" id="6350441">e</span><span class="op" id="6350442">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6350446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6350450">if</span>&nbsp;<span class="ident" id="6350453">fail</span>&nbsp;<span class="op" id="6350458">!=</span>&nbsp;<span class="string" id="6350461">&#34;&#34;</span>&nbsp;<span class="op" id="6350464">||</span>&nbsp;<span class="ident" id="6350467">err</span>&nbsp;<span class="op" id="6350471">!=</span>&nbsp;<span class="ident" id="6350474">nil</span>&nbsp;<span class="op" id="6350478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350483">fmt</span><span class="op" id="6350486">.</span><span class="ident" id="6350487">Printf</span><span class="op" id="6350493">(</span><span class="string" id="6350494">&#34;---&nbsp;FAIL:&nbsp;%s&nbsp;(%s)\n%s&#34;</span><span class="op" id="6350517">,</span>&nbsp;<span class="ident" id="6350519">eg</span><span class="op" id="6350521">.</span><span class="ident" id="6350522">Name</span><span class="op" id="6350526">,</span>&nbsp;<span class="ident" id="6350528">dstr</span><span class="op" id="6350532">,</span>&nbsp;<span class="ident" id="6350534">fail</span><span class="op" id="6350538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350543">ok</span>&nbsp;<span class="op" id="6350546">=</span>&nbsp;<span class="builtintype" id="6350548">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6350556">}</span>&nbsp;<span class="keyword" id="6350558">else</span>&nbsp;<span class="keyword" id="6350563">if</span>&nbsp;<span class="op" id="6350566">*</span><span class="ident" id="6350567">chatty</span>&nbsp;<span class="op" id="6350574">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350579">fmt</span><span class="op" id="6350582">.</span><span class="ident" id="6350583">Printf</span><span class="op" id="6350589">(</span><span class="string" id="6350590">&#34;---&nbsp;PASS:&nbsp;%s&nbsp;(%s)\n&#34;</span><span class="op" id="6350611">,</span>&nbsp;<span class="ident" id="6350613">eg</span><span class="op" id="6350615">.</span><span class="ident" id="6350616">Name</span><span class="op" id="6350620">,</span>&nbsp;<span class="ident" id="6350622">dstr</span><span class="op" id="6350626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6350630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6350634">if</span>&nbsp;<span class="ident" id="6350637">err</span>&nbsp;<span class="op" id="6350641">!=</span>&nbsp;<span class="ident" id="6350644">nil</span>&nbsp;<span class="op" id="6350648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6350653">panic</span><span class="op" id="6350658">(</span><span class="ident" id="6350659">err</span><span class="op" id="6350662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6350666">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6350669">}</span><span class="op" id="6350670">(</span><span class="op" id="6350671">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6350675">//&nbsp;Run&nbsp;example.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6350692">eg</span><span class="op" id="6350694">.</span><span class="ident" id="6350695">F</span><span class="op" id="6350696">(</span><span class="op" id="6350697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6350700">return</span><br>
<span class="lineno">100</span><span class="op" id="6350707">}</span>
</div>
</body>
</html>
