<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>crypto/cipher</h2>
<ul>
<li><a href="/gostd/crypto/cipher/benchmark_test.go.html">benchmark_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc.go.html">cbc.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc_aes_test.go.html">cbc_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb.go.html">cfb.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb_test.go.html">cfb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher.go.html">cipher.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher_test.go.html">cipher_test.go</a></li>
<li><a href="/gostd/crypto/cipher/common_test.go.html">common_test.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr.go.html">ctr.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr_aes_test.go.html">ctr_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm.go.html">gcm.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm_test.go.html">gcm_test.go</a></li>
<li><a href="/gostd/crypto/cipher/io.go.html">io.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb.go.html">ofb.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb_test.go.html">ofb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/xor.go.html">xor.go</a></li>
<li><a href="/gostd/crypto/cipher/xor_test.go.html">xor_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8280756">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8280811">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8280865">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8280916">package</span>&nbsp;<span class="ident" id="8280924">cipher</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8280932">import</span>&nbsp;<span class="op" id="8280939">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280942">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8280951">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8280961">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8280964">func</span>&nbsp;<span class="ident" id="8280969">TestXOR</span><span class="op" id="8280976">(</span><span class="ident" id="8280977">t</span>&nbsp;<span class="op" id="8280979">*</span><span class="ident" id="8280980">testing</span><span class="op" id="8280987">.</span><span class="ident" id="8280988">T</span><span class="op" id="8280989">)</span>&nbsp;<span class="op" id="8280991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8280994">for</span>&nbsp;<span class="ident" id="8280998">alignP</span>&nbsp;<span class="op" id="8281005">:=</span>&nbsp;<span class="num" id="8281008">0</span><span class="op" id="8281009">;</span>&nbsp;<span class="ident" id="8281011">alignP</span>&nbsp;<span class="op" id="8281018">&lt;</span>&nbsp;<span class="num" id="8281020">2</span><span class="op" id="8281021">;</span>&nbsp;<span class="ident" id="8281023">alignP</span><span class="op" id="8281029">++</span>&nbsp;<span class="op" id="8281032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8281036">for</span>&nbsp;<span class="ident" id="8281040">alignQ</span>&nbsp;<span class="op" id="8281047">:=</span>&nbsp;<span class="num" id="8281050">0</span><span class="op" id="8281051">;</span>&nbsp;<span class="ident" id="8281053">alignQ</span>&nbsp;<span class="op" id="8281060">&lt;</span>&nbsp;<span class="num" id="8281062">2</span><span class="op" id="8281063">;</span>&nbsp;<span class="ident" id="8281065">alignQ</span><span class="op" id="8281071">++</span>&nbsp;<span class="op" id="8281074">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8281079">for</span>&nbsp;<span class="ident" id="8281083">alignD</span>&nbsp;<span class="op" id="8281090">:=</span>&nbsp;<span class="num" id="8281093">0</span><span class="op" id="8281094">;</span>&nbsp;<span class="ident" id="8281096">alignD</span>&nbsp;<span class="op" id="8281103">&lt;</span>&nbsp;<span class="num" id="8281105">2</span><span class="op" id="8281106">;</span>&nbsp;<span class="ident" id="8281108">alignD</span><span class="op" id="8281114">++</span>&nbsp;<span class="op" id="8281117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281123">p</span>&nbsp;<span class="op" id="8281125">:=</span>&nbsp;<span class="builtinfunc" id="8281128">make</span><span class="op" id="8281132">(</span><span class="op" id="8281133">[</span><span class="op" id="8281134">]</span><span class="builtintype" id="8281135">byte</span><span class="op" id="8281139">,</span>&nbsp;<span class="num" id="8281141">1024</span><span class="op" id="8281145">)</span><span class="op" id="8281146">[</span><span class="ident" id="8281147">alignP</span><span class="op" id="8281153">:</span><span class="op" id="8281154">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281160">q</span>&nbsp;<span class="op" id="8281162">:=</span>&nbsp;<span class="builtinfunc" id="8281165">make</span><span class="op" id="8281169">(</span><span class="op" id="8281170">[</span><span class="op" id="8281171">]</span><span class="builtintype" id="8281172">byte</span><span class="op" id="8281176">,</span>&nbsp;<span class="num" id="8281178">1024</span><span class="op" id="8281182">)</span><span class="op" id="8281183">[</span><span class="ident" id="8281184">alignQ</span><span class="op" id="8281190">:</span><span class="op" id="8281191">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281197">d1</span>&nbsp;<span class="op" id="8281200">:=</span>&nbsp;<span class="builtinfunc" id="8281203">make</span><span class="op" id="8281207">(</span><span class="op" id="8281208">[</span><span class="op" id="8281209">]</span><span class="builtintype" id="8281210">byte</span><span class="op" id="8281214">,</span>&nbsp;<span class="num" id="8281216">1024</span><span class="op" id="8281220">+</span><span class="ident" id="8281221">alignD</span><span class="op" id="8281227">)</span><span class="op" id="8281228">[</span><span class="ident" id="8281229">alignD</span><span class="op" id="8281235">:</span><span class="op" id="8281236">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281242">d2</span>&nbsp;<span class="op" id="8281245">:=</span>&nbsp;<span class="builtinfunc" id="8281248">make</span><span class="op" id="8281252">(</span><span class="op" id="8281253">[</span><span class="op" id="8281254">]</span><span class="builtintype" id="8281255">byte</span><span class="op" id="8281259">,</span>&nbsp;<span class="num" id="8281261">1024</span><span class="op" id="8281265">+</span><span class="ident" id="8281266">alignD</span><span class="op" id="8281272">)</span><span class="op" id="8281273">[</span><span class="ident" id="8281274">alignD</span><span class="op" id="8281280">:</span><span class="op" id="8281281">]</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281287">xorBytes</span><span class="op" id="8281295">(</span><span class="ident" id="8281296">d1</span><span class="op" id="8281298">,</span>&nbsp;<span class="ident" id="8281300">p</span><span class="op" id="8281301">,</span>&nbsp;<span class="ident" id="8281303">q</span><span class="op" id="8281304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281310">safeXORBytes</span><span class="op" id="8281322">(</span><span class="ident" id="8281323">d2</span><span class="op" id="8281325">,</span>&nbsp;<span class="ident" id="8281327">p</span><span class="op" id="8281328">,</span>&nbsp;<span class="ident" id="8281330">q</span><span class="op" id="8281331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8281337">if</span>&nbsp;<span class="ident" id="8281340">bytes</span><span class="op" id="8281345">.</span><span class="ident" id="8281346">Compare</span><span class="op" id="8281353">(</span><span class="ident" id="8281354">d1</span><span class="op" id="8281356">,</span>&nbsp;<span class="ident" id="8281358">d2</span><span class="op" id="8281360">)</span>&nbsp;<span class="op" id="8281362">!=</span>&nbsp;<span class="num" id="8281365">0</span>&nbsp;<span class="op" id="8281367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281374">t</span><span class="op" id="8281375">.</span><span class="ident" id="8281376">Error</span><span class="op" id="8281381">(</span><span class="string" id="8281382">&#34;not&nbsp;equal&#34;</span><span class="op" id="8281393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281399">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281411">}</span><br>
<span class="lineno"></span><span class="op" id="8281413">}</span>
</div>
</body>
</html>
