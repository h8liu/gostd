<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5358112">package</span>&nbsp;<span class="ident" id="5358120">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5358126">//&nbsp;SymTable&nbsp;save&nbsp;the&nbsp;symbol</span><br>
<span class="lineno"></span><span class="keyword" id="5358154">type</span>&nbsp;<span class="ident" id="5358159">symTabel</span>&nbsp;<span class="keyword" id="5358168">struct</span>&nbsp;<span class="op" id="5358175">{</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358178">m</span>&nbsp;<span class="keyword" id="5358180">map</span><span class="op" id="5358183">[</span><span class="builtintype" id="5358184">string</span><span class="op" id="5358190">]</span><span class="op" id="5358191">*</span><span class="ident" id="5358192"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span><br>
<span class="lineno"></span><span class="op" id="5358199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5358202">//&nbsp;NewSymTable&nbsp;creates&nbsp;an&nbsp;empty&nbsp;symbol&nbsp;table</span><br>
<span class="lineno"></span><span class="keyword" id="5358247">func</span>&nbsp;<span class="ident" id="5358252">newSymTable</span><span class="op" id="5358263">(</span><span class="op" id="5358264">)</span>&nbsp;<span class="op" id="5358266">*</span><span class="ident" id="5358267"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358159">symTabel</a></span>&nbsp;<span class="op" id="5358276">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358279">ret</span>&nbsp;<span class="op" id="5358283">:=</span>&nbsp;<span class="builtinfunc" id="5358286">new</span><span class="op" id="5358289">(</span><span class="ident" id="5358290"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358159">symTabel</a></span><span class="op" id="5358298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358301"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358279">ret</a></span><span class="op" id="5358304">.</span><span class="ident" id="5358305">m</span>&nbsp;<span class="op" id="5358307">=</span>&nbsp;<span class="builtinfunc" id="5358309">make</span><span class="op" id="5358313">(</span><span class="keyword" id="5358314">map</span><span class="op" id="5358317">[</span><span class="builtintype" id="5358318">string</span><span class="op" id="5358324">]</span><span class="op" id="5358325">*</span><span class="ident" id="5358326"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span><span class="op" id="5358332">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358336">return</span>&nbsp;<span class="ident" id="5358343"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358279">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5358347">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="5358350">//&nbsp;Query&nbsp;searches&nbsp;for&nbsp;a&nbsp;symbol&nbsp;with&nbsp;a&nbsp;particular&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="5358405">func</span>&nbsp;<span class="op" id="5358410">(</span><span class="ident" id="5358411">tab</span>&nbsp;<span class="op" id="5358415">*</span><span class="ident" id="5358416"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358159">symTabel</a></span><span class="op" id="5358424">)</span>&nbsp;<span class="ident" id="5358426">Query</span><span class="op" id="5358431">(</span><span class="ident" id="5358432">n</span>&nbsp;<span class="builtintype" id="5358434">string</span><span class="op" id="5358440">)</span>&nbsp;<span class="op" id="5358442">*</span><span class="ident" id="5358443"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span>&nbsp;<span class="op" id="5358450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358453">s</span>&nbsp;<span class="op" id="5358455">:=</span>&nbsp;<span class="ident" id="5358458"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358411">tab</a></span><span class="op" id="5358461">.</span><span class="ident" id="5358462">m</span><span class="op" id="5358463">[</span><span class="ident" id="5358464"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358432">n</a></span><span class="op" id="5358465">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358468">if</span>&nbsp;<span class="ident" id="5358471"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358453">s</a></span>&nbsp;<span class="op" id="5358473">==</span>&nbsp;<span class="ident" id="5358476">nil</span>&nbsp;<span class="op" id="5358480">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358484">return</span>&nbsp;<span class="ident" id="5358491">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358500">return</span>&nbsp;<span class="ident" id="5358507"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358453">s</a></span><span class="op" id="5358508">.</span><span class="ident" id="5358509">clone</span><span class="op" id="5358514">(</span><span class="op" id="5358515">)</span><br>
<span class="lineno"></span><span class="op" id="5358517">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="5358520">//&nbsp;Declare&nbsp;adds&nbsp;a&nbsp;symbol&nbsp;into&nbsp;the&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="5358561">//&nbsp;It&nbsp;returns&nbsp;nil&nbsp;on&nbsp;successful,&nbsp;and&nbsp;returns&nbsp;the&nbsp;conflict&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="5358626">//&nbsp;when&nbsp;it&nbsp;is&nbsp;already&nbsp;declared.</span><br>
<span class="lineno"></span><span class="keyword" id="5358658">func</span>&nbsp;<span class="op" id="5358663">(</span><span class="ident" id="5358664">tab</span>&nbsp;<span class="op" id="5358668">*</span><span class="ident" id="5358669"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358159">symTabel</a></span><span class="op" id="5358677">)</span>&nbsp;<span class="ident" id="5358679">Declare</span><span class="op" id="5358686">(</span><span class="ident" id="5358687">s</span>&nbsp;<span class="op" id="5358689">*</span><span class="ident" id="5358690"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span><span class="op" id="5358696">)</span>&nbsp;<span class="op" id="5358698">*</span><span class="ident" id="5358699"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span>&nbsp;<span class="op" id="5358706">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358709">n</span>&nbsp;<span class="op" id="5358711">:=</span>&nbsp;<span class="ident" id="5358714"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358687">s</a></span><span class="op" id="5358715">.</span><span class="ident" id="5358716">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358722">p</span>&nbsp;<span class="op" id="5358724">:=</span>&nbsp;<span class="ident" id="5358727"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358664">tab</a></span><span class="op" id="5358730">.</span><span class="ident" id="5358731">m</span><span class="op" id="5358732">[</span><span class="ident" id="5358733"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358709">n</a></span><span class="op" id="5358734">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358737">if</span>&nbsp;<span class="ident" id="5358740"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358722">p</a></span>&nbsp;<span class="op" id="5358742">!=</span>&nbsp;<span class="ident" id="5358745">nil</span>&nbsp;<span class="op" id="5358749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358753">return</span>&nbsp;<span class="ident" id="5358760"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358722">p</a></span><span class="op" id="5358761">.</span><span class="ident" id="5358762">clone</span><span class="op" id="5358767">(</span><span class="op" id="5358768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5358771">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5358775"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358664">tab</a></span><span class="op" id="5358778">.</span><span class="ident" id="5358779">m</span><span class="op" id="5358780">[</span><span class="ident" id="5358781"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358709">n</a></span><span class="op" id="5358782">]</span>&nbsp;<span class="op" id="5358784">=</span>&nbsp;<span class="ident" id="5358786"><a href="/lonnie.io/e8vm/asm8/sym_table.go.html#5358687">s</a></span><span class="op" id="5358787">.</span><span class="ident" id="5358788">clone</span><span class="op" id="5358793">(</span><span class="op" id="5358794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5358797">return</span>&nbsp;<span class="ident" id="5358804">nil</span><br>
<span class="lineno"></span><span class="op" id="5358808">}</span>
</div>
</body>
</html>
