<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html" class="current">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8018157">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8018213">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8018267">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8018318">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8018375">package</span>&nbsp;<span class="ident" id="8018383">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8018388">import</span>&nbsp;<span class="op" id="8018395">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8018398">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8018404">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8018415">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8018426">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8018437">&#34;time&#34;</span><br>
<span class="lineno">15</span><span class="op" id="8018444">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8018447">type</span>&nbsp;<span class="ident" id="8018452">testInterface</span>&nbsp;<span class="keyword" id="8018466">struct</span>&nbsp;<span class="op" id="8018473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8018476">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8018489">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8018497">local</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8018510">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8018518">remote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8018531">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8018539">setupCmds</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8018552">[</span><span class="op" id="8018553">]</span><span class="op" id="8018554">*</span><span class="ident" id="8018555">exec</span><span class="op" id="8018559">.</span><span class="ident" id="8018560">Cmd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8018565">teardownCmds</span>&nbsp;<span class="op" id="8018578">[</span><span class="op" id="8018579">]</span><span class="op" id="8018580">*</span><span class="ident" id="8018581">exec</span><span class="op" id="8018585">.</span><span class="ident" id="8018586">Cmd</span><br>
<span class="lineno"></span><span class="op" id="8018590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8018593">func</span>&nbsp;<span class="op" id="8018598">(</span><span class="ident" id="8018599">ti</span>&nbsp;<span class="op" id="8018602">*</span><span class="ident" id="8018603">testInterface</span><span class="op" id="8018616">)</span>&nbsp;<span class="ident" id="8018618">setup</span><span class="op" id="8018623">(</span><span class="op" id="8018624">)</span>&nbsp;<span class="builtintype" id="8018626">error</span>&nbsp;<span class="op" id="8018632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018635">for</span>&nbsp;<span class="ident" id="8018639">_</span><span class="op" id="8018640">,</span>&nbsp;<span class="ident" id="8018642">cmd</span>&nbsp;<span class="op" id="8018646">:=</span>&nbsp;<span class="keyword" id="8018649">range</span>&nbsp;<span class="ident" id="8018655">ti</span><span class="op" id="8018657">.</span><span class="ident" id="8018658">setupCmds</span>&nbsp;<span class="op" id="8018668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018672">if</span>&nbsp;<span class="ident" id="8018675">err</span>&nbsp;<span class="op" id="8018679">:=</span>&nbsp;<span class="ident" id="8018682">cmd</span><span class="op" id="8018685">.</span><span class="ident" id="8018686">Run</span><span class="op" id="8018689">(</span><span class="op" id="8018690">)</span><span class="op" id="8018691">;</span>&nbsp;<span class="ident" id="8018693">err</span>&nbsp;<span class="op" id="8018697">!=</span>&nbsp;<span class="ident" id="8018700">nil</span>&nbsp;<span class="op" id="8018704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018709">return</span>&nbsp;<span class="ident" id="8018716">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8018722">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8018725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018728">return</span>&nbsp;<span class="ident" id="8018735">nil</span><br>
<span class="lineno"></span><span class="op" id="8018739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8018742">func</span>&nbsp;<span class="op" id="8018747">(</span><span class="ident" id="8018748">ti</span>&nbsp;<span class="op" id="8018751">*</span><span class="ident" id="8018752">testInterface</span><span class="op" id="8018765">)</span>&nbsp;<span class="ident" id="8018767">teardown</span><span class="op" id="8018775">(</span><span class="op" id="8018776">)</span>&nbsp;<span class="builtintype" id="8018778">error</span>&nbsp;<span class="op" id="8018784">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018787">for</span>&nbsp;<span class="ident" id="8018791">_</span><span class="op" id="8018792">,</span>&nbsp;<span class="ident" id="8018794">cmd</span>&nbsp;<span class="op" id="8018798">:=</span>&nbsp;<span class="keyword" id="8018801">range</span>&nbsp;<span class="ident" id="8018807">ti</span><span class="op" id="8018809">.</span><span class="ident" id="8018810">teardownCmds</span>&nbsp;<span class="op" id="8018823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018827">if</span>&nbsp;<span class="ident" id="8018830">err</span>&nbsp;<span class="op" id="8018834">:=</span>&nbsp;<span class="ident" id="8018837">cmd</span><span class="op" id="8018840">.</span><span class="ident" id="8018841">Run</span><span class="op" id="8018844">(</span><span class="op" id="8018845">)</span><span class="op" id="8018846">;</span>&nbsp;<span class="ident" id="8018848">err</span>&nbsp;<span class="op" id="8018852">!=</span>&nbsp;<span class="ident" id="8018855">nil</span>&nbsp;<span class="op" id="8018859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018864">return</span>&nbsp;<span class="ident" id="8018871">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8018877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8018880">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018883">return</span>&nbsp;<span class="ident" id="8018890">nil</span><br>
<span class="lineno"></span><span class="op" id="8018894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8018897">func</span>&nbsp;<span class="ident" id="8018902">TestPointToPointInterface</span><span class="op" id="8018927">(</span><span class="ident" id="8018928">t</span>&nbsp;<span class="op" id="8018930">*</span><span class="ident" id="8018931">testing</span><span class="op" id="8018938">.</span><span class="ident" id="8018939">T</span><span class="op" id="8018940">)</span>&nbsp;<span class="op" id="8018942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018945">if</span>&nbsp;<span class="ident" id="8018948">testing</span><span class="op" id="8018955">.</span><span class="ident" id="8018956">Short</span><span class="op" id="8018961">(</span><span class="op" id="8018962">)</span>&nbsp;<span class="op" id="8018964">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8018968">t</span><span class="op" id="8018969">.</span><span class="ident" id="8018970">Skip</span><span class="op" id="8018974">(</span><span class="string" id="8018975">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="8019004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019010">switch</span>&nbsp;<span class="op" id="8019017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019020">case</span>&nbsp;<span class="ident" id="8019025">runtime</span><span class="op" id="8019032">.</span><span class="ident" id="8019033">GOOS</span>&nbsp;<span class="op" id="8019038">==</span>&nbsp;<span class="string" id="8019041">&#34;darwin&#34;</span><span class="op" id="8019049">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019053">t</span><span class="op" id="8019054">.</span><span class="ident" id="8019055">Skipf</span><span class="op" id="8019060">(</span><span class="string" id="8019061">&#34;skipping&nbsp;read&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="8019087">,</span>&nbsp;<span class="ident" id="8019089">runtime</span><span class="op" id="8019096">.</span><span class="ident" id="8019097">GOOS</span><span class="op" id="8019101">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019107">if</span>&nbsp;<span class="ident" id="8019110">os</span><span class="op" id="8019112">.</span><span class="ident" id="8019113">Getuid</span><span class="op" id="8019119">(</span><span class="op" id="8019120">)</span>&nbsp;<span class="op" id="8019122">!=</span>&nbsp;<span class="num" id="8019125">0</span>&nbsp;<span class="op" id="8019127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019131">t</span><span class="op" id="8019132">.</span><span class="ident" id="8019133">Skip</span><span class="op" id="8019137">(</span><span class="string" id="8019138">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="8019167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019174">local</span><span class="op" id="8019179">,</span>&nbsp;<span class="ident" id="8019181">remote</span>&nbsp;<span class="op" id="8019188">:=</span>&nbsp;<span class="string" id="8019191">&#34;169.254.0.1&#34;</span><span class="op" id="8019204">,</span>&nbsp;<span class="string" id="8019206">&#34;169.254.0.254&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019223">ip</span>&nbsp;<span class="op" id="8019226">:=</span>&nbsp;<span class="ident" id="8019229">ParseIP</span><span class="op" id="8019236">(</span><span class="ident" id="8019237">remote</span><span class="op" id="8019243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019246">for</span>&nbsp;<span class="ident" id="8019250">i</span>&nbsp;<span class="op" id="8019252">:=</span>&nbsp;<span class="num" id="8019255">0</span><span class="op" id="8019256">;</span>&nbsp;<span class="ident" id="8019258">i</span>&nbsp;<span class="op" id="8019260">&lt;</span>&nbsp;<span class="num" id="8019262">3</span><span class="op" id="8019263">;</span>&nbsp;<span class="ident" id="8019265">i</span><span class="op" id="8019266">++</span>&nbsp;<span class="op" id="8019269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019273">ti</span>&nbsp;<span class="op" id="8019276">:=</span>&nbsp;<span class="op" id="8019279">&amp;</span><span class="ident" id="8019280">testInterface</span><span class="op" id="8019293">{</span><span class="op" id="8019294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019298">if</span>&nbsp;<span class="ident" id="8019301">err</span>&nbsp;<span class="op" id="8019305">:=</span>&nbsp;<span class="ident" id="8019308">ti</span><span class="op" id="8019310">.</span><span class="ident" id="8019311">setPointToPoint</span><span class="op" id="8019326">(</span><span class="num" id="8019327">5963</span><span class="op" id="8019331">+</span><span class="ident" id="8019332">i</span><span class="op" id="8019333">,</span>&nbsp;<span class="ident" id="8019335">local</span><span class="op" id="8019340">,</span>&nbsp;<span class="ident" id="8019342">remote</span><span class="op" id="8019348">)</span><span class="op" id="8019349">;</span>&nbsp;<span class="ident" id="8019351">err</span>&nbsp;<span class="op" id="8019355">!=</span>&nbsp;<span class="ident" id="8019358">nil</span>&nbsp;<span class="op" id="8019362">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019367">t</span><span class="op" id="8019368">.</span><span class="ident" id="8019369">Skipf</span><span class="op" id="8019374">(</span><span class="string" id="8019375">&#34;test&nbsp;requries&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="8019411">,</span>&nbsp;<span class="ident" id="8019413">err</span><span class="op" id="8019416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019424">if</span>&nbsp;<span class="ident" id="8019427">err</span>&nbsp;<span class="op" id="8019431">:=</span>&nbsp;<span class="ident" id="8019434">ti</span><span class="op" id="8019436">.</span><span class="ident" id="8019437">setup</span><span class="op" id="8019442">(</span><span class="op" id="8019443">)</span><span class="op" id="8019444">;</span>&nbsp;<span class="ident" id="8019446">err</span>&nbsp;<span class="op" id="8019450">!=</span>&nbsp;<span class="ident" id="8019453">nil</span>&nbsp;<span class="op" id="8019457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019462">t</span><span class="op" id="8019463">.</span><span class="ident" id="8019464">Fatalf</span><span class="op" id="8019470">(</span><span class="string" id="8019471">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8019503">,</span>&nbsp;<span class="ident" id="8019505">err</span><span class="op" id="8019508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019512">}</span>&nbsp;<span class="keyword" id="8019514">else</span>&nbsp;<span class="op" id="8019519">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019524">time</span><span class="op" id="8019528">.</span><span class="ident" id="8019529">Sleep</span><span class="op" id="8019534">(</span><span class="num" id="8019535">3</span>&nbsp;<span class="op" id="8019537">*</span>&nbsp;<span class="ident" id="8019539">time</span><span class="op" id="8019543">.</span><span class="ident" id="8019544">Millisecond</span><span class="op" id="8019555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019563">ift</span><span class="op" id="8019566">,</span>&nbsp;<span class="ident" id="8019568">err</span>&nbsp;<span class="op" id="8019572">:=</span>&nbsp;<span class="ident" id="8019575">Interfaces</span><span class="op" id="8019585">(</span><span class="op" id="8019586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019590">if</span>&nbsp;<span class="ident" id="8019593">err</span>&nbsp;<span class="op" id="8019597">!=</span>&nbsp;<span class="ident" id="8019600">nil</span>&nbsp;<span class="op" id="8019604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019609">ti</span><span class="op" id="8019611">.</span><span class="ident" id="8019612">teardown</span><span class="op" id="8019620">(</span><span class="op" id="8019621">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019626">t</span><span class="op" id="8019627">.</span><span class="ident" id="8019628">Fatalf</span><span class="op" id="8019634">(</span><span class="string" id="8019635">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8019658">,</span>&nbsp;<span class="ident" id="8019660">err</span><span class="op" id="8019663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019671">for</span>&nbsp;<span class="ident" id="8019675">_</span><span class="op" id="8019676">,</span>&nbsp;<span class="ident" id="8019678">ifi</span>&nbsp;<span class="op" id="8019682">:=</span>&nbsp;<span class="keyword" id="8019685">range</span>&nbsp;<span class="ident" id="8019691">ift</span>&nbsp;<span class="op" id="8019695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019700">if</span>&nbsp;<span class="ident" id="8019703">ti</span><span class="op" id="8019705">.</span><span class="ident" id="8019706">name</span>&nbsp;<span class="op" id="8019711">==</span>&nbsp;<span class="ident" id="8019714">ifi</span><span class="op" id="8019717">.</span><span class="ident" id="8019718">Name</span>&nbsp;<span class="op" id="8019723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019729">ifat</span><span class="op" id="8019733">,</span>&nbsp;<span class="ident" id="8019735">err</span>&nbsp;<span class="op" id="8019739">:=</span>&nbsp;<span class="ident" id="8019742">ifi</span><span class="op" id="8019745">.</span><span class="ident" id="8019746">Addrs</span><span class="op" id="8019751">(</span><span class="op" id="8019752">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019758">if</span>&nbsp;<span class="ident" id="8019761">err</span>&nbsp;<span class="op" id="8019765">!=</span>&nbsp;<span class="ident" id="8019768">nil</span>&nbsp;<span class="op" id="8019772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019779">ti</span><span class="op" id="8019781">.</span><span class="ident" id="8019782">teardown</span><span class="op" id="8019790">(</span><span class="op" id="8019791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019798">t</span><span class="op" id="8019799">.</span><span class="ident" id="8019800">Fatalf</span><span class="op" id="8019806">(</span><span class="string" id="8019807">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8019835">,</span>&nbsp;<span class="ident" id="8019837">err</span><span class="op" id="8019840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019852">for</span>&nbsp;<span class="ident" id="8019856">_</span><span class="op" id="8019857">,</span>&nbsp;<span class="ident" id="8019859">ifa</span>&nbsp;<span class="op" id="8019863">:=</span>&nbsp;<span class="keyword" id="8019866">range</span>&nbsp;<span class="ident" id="8019872">ifat</span>&nbsp;<span class="op" id="8019877">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8019884">if</span>&nbsp;<span class="ident" id="8019887">ip</span><span class="op" id="8019889">.</span><span class="ident" id="8019890">Equal</span><span class="op" id="8019895">(</span><span class="ident" id="8019896">ifa</span><span class="op" id="8019899">.</span><span class="op" id="8019900">(</span><span class="op" id="8019901">*</span><span class="ident" id="8019902">IPNet</span><span class="op" id="8019907">)</span><span class="op" id="8019908">.</span><span class="ident" id="8019909">IP</span><span class="op" id="8019911">)</span>&nbsp;<span class="op" id="8019913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019921">ti</span><span class="op" id="8019923">.</span><span class="ident" id="8019924">teardown</span><span class="op" id="8019932">(</span><span class="op" id="8019933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8019941">t</span><span class="op" id="8019942">.</span><span class="ident" id="8019943">Fatalf</span><span class="op" id="8019949">(</span><span class="string" id="8019950">&#34;got&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8019967">,</span>&nbsp;<span class="ident" id="8019969">ip</span><span class="op" id="8019971">,</span>&nbsp;<span class="ident" id="8019973">local</span><span class="op" id="8019978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019991">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8019996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020004">if</span>&nbsp;<span class="ident" id="8020007">err</span>&nbsp;<span class="op" id="8020011">:=</span>&nbsp;<span class="ident" id="8020014">ti</span><span class="op" id="8020016">.</span><span class="ident" id="8020017">teardown</span><span class="op" id="8020025">(</span><span class="op" id="8020026">)</span><span class="op" id="8020027">;</span>&nbsp;<span class="ident" id="8020029">err</span>&nbsp;<span class="op" id="8020033">!=</span>&nbsp;<span class="ident" id="8020036">nil</span>&nbsp;<span class="op" id="8020040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020045">t</span><span class="op" id="8020046">.</span><span class="ident" id="8020047">Fatalf</span><span class="op" id="8020053">(</span><span class="string" id="8020054">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8020089">,</span>&nbsp;<span class="ident" id="8020091">err</span><span class="op" id="8020094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020098">}</span>&nbsp;<span class="keyword" id="8020100">else</span>&nbsp;<span class="op" id="8020105">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020110">time</span><span class="op" id="8020114">.</span><span class="ident" id="8020115">Sleep</span><span class="op" id="8020120">(</span><span class="num" id="8020121">3</span>&nbsp;<span class="op" id="8020123">*</span>&nbsp;<span class="ident" id="8020125">time</span><span class="op" id="8020129">.</span><span class="ident" id="8020130">Millisecond</span><span class="op" id="8020141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020148">}</span><br>
<span class="lineno"></span><span class="op" id="8020150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="8020153">func</span>&nbsp;<span class="ident" id="8020158">TestInterfaceArrivalAndDeparture</span><span class="op" id="8020190">(</span><span class="ident" id="8020191">t</span>&nbsp;<span class="op" id="8020193">*</span><span class="ident" id="8020194">testing</span><span class="op" id="8020201">.</span><span class="ident" id="8020202">T</span><span class="op" id="8020203">)</span>&nbsp;<span class="op" id="8020205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020208">if</span>&nbsp;<span class="ident" id="8020211">testing</span><span class="op" id="8020218">.</span><span class="ident" id="8020219">Short</span><span class="op" id="8020224">(</span><span class="op" id="8020225">)</span>&nbsp;<span class="op" id="8020227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020231">t</span><span class="op" id="8020232">.</span><span class="ident" id="8020233">Skip</span><span class="op" id="8020237">(</span><span class="string" id="8020238">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="8020267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020273">if</span>&nbsp;<span class="ident" id="8020276">os</span><span class="op" id="8020278">.</span><span class="ident" id="8020279">Getuid</span><span class="op" id="8020285">(</span><span class="op" id="8020286">)</span>&nbsp;<span class="op" id="8020288">!=</span>&nbsp;<span class="num" id="8020291">0</span>&nbsp;<span class="op" id="8020293">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020297">t</span><span class="op" id="8020298">.</span><span class="ident" id="8020299">Skip</span><span class="op" id="8020303">(</span><span class="string" id="8020304">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="8020333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020340">for</span>&nbsp;<span class="ident" id="8020344">i</span>&nbsp;<span class="op" id="8020346">:=</span>&nbsp;<span class="num" id="8020349">0</span><span class="op" id="8020350">;</span>&nbsp;<span class="ident" id="8020352">i</span>&nbsp;<span class="op" id="8020354">&lt;</span>&nbsp;<span class="num" id="8020356">3</span><span class="op" id="8020357">;</span>&nbsp;<span class="ident" id="8020359">i</span><span class="op" id="8020360">++</span>&nbsp;<span class="op" id="8020363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020367">ift1</span><span class="op" id="8020371">,</span>&nbsp;<span class="ident" id="8020373">err</span>&nbsp;<span class="op" id="8020377">:=</span>&nbsp;<span class="ident" id="8020380">Interfaces</span><span class="op" id="8020390">(</span><span class="op" id="8020391">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020395">if</span>&nbsp;<span class="ident" id="8020398">err</span>&nbsp;<span class="op" id="8020402">!=</span>&nbsp;<span class="ident" id="8020405">nil</span>&nbsp;<span class="op" id="8020409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020414">t</span><span class="op" id="8020415">.</span><span class="ident" id="8020416">Fatalf</span><span class="op" id="8020422">(</span><span class="string" id="8020423">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8020446">,</span>&nbsp;<span class="ident" id="8020448">err</span><span class="op" id="8020451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020459">ti</span>&nbsp;<span class="op" id="8020462">:=</span>&nbsp;<span class="op" id="8020465">&amp;</span><span class="ident" id="8020466">testInterface</span><span class="op" id="8020479">{</span><span class="op" id="8020480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020484">if</span>&nbsp;<span class="ident" id="8020487">err</span>&nbsp;<span class="op" id="8020491">:=</span>&nbsp;<span class="ident" id="8020494">ti</span><span class="op" id="8020496">.</span><span class="ident" id="8020497">setBroadcast</span><span class="op" id="8020509">(</span><span class="num" id="8020510">5682</span>&nbsp;<span class="op" id="8020515">+</span>&nbsp;<span class="ident" id="8020517">i</span><span class="op" id="8020518">)</span><span class="op" id="8020519">;</span>&nbsp;<span class="ident" id="8020521">err</span>&nbsp;<span class="op" id="8020525">!=</span>&nbsp;<span class="ident" id="8020528">nil</span>&nbsp;<span class="op" id="8020532">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020537">t</span><span class="op" id="8020538">.</span><span class="ident" id="8020539">Skipf</span><span class="op" id="8020544">(</span><span class="string" id="8020545">&#34;test&nbsp;requires&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="8020581">,</span>&nbsp;<span class="ident" id="8020583">err</span><span class="op" id="8020586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020594">if</span>&nbsp;<span class="ident" id="8020597">err</span>&nbsp;<span class="op" id="8020601">:=</span>&nbsp;<span class="ident" id="8020604">ti</span><span class="op" id="8020606">.</span><span class="ident" id="8020607">setup</span><span class="op" id="8020612">(</span><span class="op" id="8020613">)</span><span class="op" id="8020614">;</span>&nbsp;<span class="ident" id="8020616">err</span>&nbsp;<span class="op" id="8020620">!=</span>&nbsp;<span class="ident" id="8020623">nil</span>&nbsp;<span class="op" id="8020627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020632">t</span><span class="op" id="8020633">.</span><span class="ident" id="8020634">Fatalf</span><span class="op" id="8020640">(</span><span class="string" id="8020641">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8020673">,</span>&nbsp;<span class="ident" id="8020675">err</span><span class="op" id="8020678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020682">}</span>&nbsp;<span class="keyword" id="8020684">else</span>&nbsp;<span class="op" id="8020689">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020694">time</span><span class="op" id="8020698">.</span><span class="ident" id="8020699">Sleep</span><span class="op" id="8020704">(</span><span class="num" id="8020705">3</span>&nbsp;<span class="op" id="8020707">*</span>&nbsp;<span class="ident" id="8020709">time</span><span class="op" id="8020713">.</span><span class="ident" id="8020714">Millisecond</span><span class="op" id="8020725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020733">ift2</span><span class="op" id="8020737">,</span>&nbsp;<span class="ident" id="8020739">err</span>&nbsp;<span class="op" id="8020743">:=</span>&nbsp;<span class="ident" id="8020746">Interfaces</span><span class="op" id="8020756">(</span><span class="op" id="8020757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020761">if</span>&nbsp;<span class="ident" id="8020764">err</span>&nbsp;<span class="op" id="8020768">!=</span>&nbsp;<span class="ident" id="8020771">nil</span>&nbsp;<span class="op" id="8020775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020780">ti</span><span class="op" id="8020782">.</span><span class="ident" id="8020783">teardown</span><span class="op" id="8020791">(</span><span class="op" id="8020792">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020797">t</span><span class="op" id="8020798">.</span><span class="ident" id="8020799">Fatalf</span><span class="op" id="8020805">(</span><span class="string" id="8020806">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8020829">,</span>&nbsp;<span class="ident" id="8020831">err</span><span class="op" id="8020834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020842">if</span>&nbsp;<span class="builtinfunc" id="8020845">len</span><span class="op" id="8020848">(</span><span class="ident" id="8020849">ift2</span><span class="op" id="8020853">)</span>&nbsp;<span class="op" id="8020855">&lt;=</span>&nbsp;<span class="builtinfunc" id="8020858">len</span><span class="op" id="8020861">(</span><span class="ident" id="8020862">ift1</span><span class="op" id="8020866">)</span>&nbsp;<span class="op" id="8020868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020873">for</span>&nbsp;<span class="ident" id="8020877">_</span><span class="op" id="8020878">,</span>&nbsp;<span class="ident" id="8020880">ifi</span>&nbsp;<span class="op" id="8020884">:=</span>&nbsp;<span class="keyword" id="8020887">range</span>&nbsp;<span class="ident" id="8020893">ift1</span>&nbsp;<span class="op" id="8020898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020904">t</span><span class="op" id="8020905">.</span><span class="ident" id="8020906">Logf</span><span class="op" id="8020910">(</span><span class="string" id="8020911">&#34;before:&nbsp;%v&#34;</span><span class="op" id="8020923">,</span>&nbsp;<span class="ident" id="8020925">ifi</span><span class="op" id="8020928">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8020938">for</span>&nbsp;<span class="ident" id="8020942">_</span><span class="op" id="8020943">,</span>&nbsp;<span class="ident" id="8020945">ifi</span>&nbsp;<span class="op" id="8020949">:=</span>&nbsp;<span class="keyword" id="8020952">range</span>&nbsp;<span class="ident" id="8020958">ift2</span>&nbsp;<span class="op" id="8020963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8020969">t</span><span class="op" id="8020970">.</span><span class="ident" id="8020971">Logf</span><span class="op" id="8020975">(</span><span class="string" id="8020976">&#34;after:&nbsp;%v&#34;</span><span class="op" id="8020987">,</span>&nbsp;<span class="ident" id="8020989">ifi</span><span class="op" id="8020992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8020997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021002">ti</span><span class="op" id="8021004">.</span><span class="ident" id="8021005">teardown</span><span class="op" id="8021013">(</span><span class="op" id="8021014">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021019">t</span><span class="op" id="8021020">.</span><span class="ident" id="8021021">Fatalf</span><span class="op" id="8021027">(</span><span class="string" id="8021028">&#34;got&nbsp;%v;&nbsp;want&nbsp;gt&nbsp;%v&#34;</span><span class="op" id="8021048">,</span>&nbsp;<span class="builtinfunc" id="8021050">len</span><span class="op" id="8021053">(</span><span class="ident" id="8021054">ift2</span><span class="op" id="8021058">)</span><span class="op" id="8021059">,</span>&nbsp;<span class="builtinfunc" id="8021061">len</span><span class="op" id="8021064">(</span><span class="ident" id="8021065">ift1</span><span class="op" id="8021069">)</span><span class="op" id="8021070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8021078">if</span>&nbsp;<span class="ident" id="8021081">err</span>&nbsp;<span class="op" id="8021085">:=</span>&nbsp;<span class="ident" id="8021088">ti</span><span class="op" id="8021090">.</span><span class="ident" id="8021091">teardown</span><span class="op" id="8021099">(</span><span class="op" id="8021100">)</span><span class="op" id="8021101">;</span>&nbsp;<span class="ident" id="8021103">err</span>&nbsp;<span class="op" id="8021107">!=</span>&nbsp;<span class="ident" id="8021110">nil</span>&nbsp;<span class="op" id="8021114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021119">t</span><span class="op" id="8021120">.</span><span class="ident" id="8021121">Fatalf</span><span class="op" id="8021127">(</span><span class="string" id="8021128">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8021163">,</span>&nbsp;<span class="ident" id="8021165">err</span><span class="op" id="8021168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021172">}</span>&nbsp;<span class="keyword" id="8021174">else</span>&nbsp;<span class="op" id="8021179">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021184">time</span><span class="op" id="8021188">.</span><span class="ident" id="8021189">Sleep</span><span class="op" id="8021194">(</span><span class="num" id="8021195">3</span>&nbsp;<span class="op" id="8021197">*</span>&nbsp;<span class="ident" id="8021199">time</span><span class="op" id="8021203">.</span><span class="ident" id="8021204">Millisecond</span><span class="op" id="8021215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021223">ift3</span><span class="op" id="8021227">,</span>&nbsp;<span class="ident" id="8021229">err</span>&nbsp;<span class="op" id="8021233">:=</span>&nbsp;<span class="ident" id="8021236">Interfaces</span><span class="op" id="8021246">(</span><span class="op" id="8021247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8021251">if</span>&nbsp;<span class="ident" id="8021254">err</span>&nbsp;<span class="op" id="8021258">!=</span>&nbsp;<span class="ident" id="8021261">nil</span>&nbsp;<span class="op" id="8021265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021270">t</span><span class="op" id="8021271">.</span><span class="ident" id="8021272">Fatalf</span><span class="op" id="8021278">(</span><span class="string" id="8021279">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8021302">,</span>&nbsp;<span class="ident" id="8021304">err</span><span class="op" id="8021307">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8021315">if</span>&nbsp;<span class="builtinfunc" id="8021318">len</span><span class="op" id="8021321">(</span><span class="ident" id="8021322">ift3</span><span class="op" id="8021326">)</span>&nbsp;<span class="op" id="8021328">&gt;=</span>&nbsp;<span class="builtinfunc" id="8021331">len</span><span class="op" id="8021334">(</span><span class="ident" id="8021335">ift2</span><span class="op" id="8021339">)</span>&nbsp;<span class="op" id="8021341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8021346">for</span>&nbsp;<span class="ident" id="8021350">_</span><span class="op" id="8021351">,</span>&nbsp;<span class="ident" id="8021353">ifi</span>&nbsp;<span class="op" id="8021357">:=</span>&nbsp;<span class="keyword" id="8021360">range</span>&nbsp;<span class="ident" id="8021366">ift2</span>&nbsp;<span class="op" id="8021371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021377">t</span><span class="op" id="8021378">.</span><span class="ident" id="8021379">Logf</span><span class="op" id="8021383">(</span><span class="string" id="8021384">&#34;before:&nbsp;%v&#34;</span><span class="op" id="8021396">,</span>&nbsp;<span class="ident" id="8021398">ifi</span><span class="op" id="8021401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021406">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8021411">for</span>&nbsp;<span class="ident" id="8021415">_</span><span class="op" id="8021416">,</span>&nbsp;<span class="ident" id="8021418">ifi</span>&nbsp;<span class="op" id="8021422">:=</span>&nbsp;<span class="keyword" id="8021425">range</span>&nbsp;<span class="ident" id="8021431">ift3</span>&nbsp;<span class="op" id="8021436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021442">t</span><span class="op" id="8021443">.</span><span class="ident" id="8021444">Logf</span><span class="op" id="8021448">(</span><span class="string" id="8021449">&#34;after:&nbsp;%v&#34;</span><span class="op" id="8021460">,</span>&nbsp;<span class="ident" id="8021462">ifi</span><span class="op" id="8021465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021475">t</span><span class="op" id="8021476">.</span><span class="ident" id="8021477">Fatalf</span><span class="op" id="8021483">(</span><span class="string" id="8021484">&#34;got&nbsp;%v;&nbsp;want&nbsp;lt&nbsp;%v&#34;</span><span class="op" id="8021504">,</span>&nbsp;<span class="builtinfunc" id="8021506">len</span><span class="op" id="8021509">(</span><span class="ident" id="8021510">ift3</span><span class="op" id="8021514">)</span><span class="op" id="8021515">,</span>&nbsp;<span class="builtinfunc" id="8021517">len</span><span class="op" id="8021520">(</span><span class="ident" id="8021521">ift2</span><span class="op" id="8021525">)</span><span class="op" id="8021526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021530">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021533">}</span><br>
<span class="lineno"></span><span class="op" id="8021535">}</span>
</div>
</body>
</html>
