<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4859313">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4859368">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4859422">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4859473">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4859533">package</span>&nbsp;<span class="ident" id="4859541">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4859551">import</span>&nbsp;<span class="op" id="4859558">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4859561">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4859568">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4859581">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="4859597">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="4859600">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4859646">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="4859727">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="4859801">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="4859828">//&nbsp;&nbsp;&nbsp;&nbspvar&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="4859889">func</span>&nbsp;<span class="ident" id="4859894">Must</span><span class="op" id="4859898">(</span><span class="ident" id="4859899">t</span>&nbsp;<span class="op" id="4859901">*</span><span class="ident" id="4859902">Template</span><span class="op" id="4859910">,</span>&nbsp;<span class="ident" id="4859912">err</span>&nbsp;<span class="builtintype" id="4859916">error</span><span class="op" id="4859921">)</span>&nbsp;<span class="op" id="4859923">*</span><span class="ident" id="4859924">Template</span>&nbsp;<span class="op" id="4859933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4859936">if</span>&nbsp;<span class="ident" id="4859939">err</span>&nbsp;<span class="op" id="4859943">!=</span>&nbsp;<span class="ident" id="4859946">nil</span>&nbsp;<span class="op" id="4859950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4859954">panic</span><span class="op" id="4859959">(</span><span class="ident" id="4859960">err</span><span class="op" id="4859963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4859966">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4859969">return</span>&nbsp;<span class="ident" id="4859976">t</span><br>
<span class="lineno"></span><span class="op" id="4859978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4859981">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="4860059">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="4860138">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="4860211">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4860283">func</span>&nbsp;<span class="ident" id="4860288">ParseFiles</span><span class="op" id="4860298">(</span><span class="ident" id="4860299">filenames</span>&nbsp;<span class="op" id="4860309">...</span><span class="builtintype" id="4860312">string</span><span class="op" id="4860318">)</span>&nbsp;<span class="op" id="4860320">(</span><span class="op" id="4860321">*</span><span class="ident" id="4860322">Template</span><span class="op" id="4860330">,</span>&nbsp;<span class="builtintype" id="4860332">error</span><span class="op" id="4860337">)</span>&nbsp;<span class="op" id="4860339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4860342">return</span>&nbsp;<span class="ident" id="4860349">parseFiles</span><span class="op" id="4860359">(</span><span class="ident" id="4860360">nil</span><span class="op" id="4860363">,</span>&nbsp;<span class="ident" id="4860365">filenames</span><span class="op" id="4860374">...</span><span class="op" id="4860377">)</span><br>
<span class="lineno"></span><span class="op" id="4860379">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4860382">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4860463">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="4860537">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="4860592">func</span>&nbsp;<span class="op" id="4860597">(</span><span class="ident" id="4860598">t</span>&nbsp;<span class="op" id="4860600">*</span><span class="ident" id="4860601">Template</span><span class="op" id="4860609">)</span>&nbsp;<span class="ident" id="4860611">ParseFiles</span><span class="op" id="4860621">(</span><span class="ident" id="4860622">filenames</span>&nbsp;<span class="op" id="4860632">...</span><span class="builtintype" id="4860635">string</span><span class="op" id="4860641">)</span>&nbsp;<span class="op" id="4860643">(</span><span class="op" id="4860644">*</span><span class="ident" id="4860645">Template</span><span class="op" id="4860653">,</span>&nbsp;<span class="builtintype" id="4860655">error</span><span class="op" id="4860660">)</span>&nbsp;<span class="op" id="4860662">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4860665">return</span>&nbsp;<span class="ident" id="4860672">parseFiles</span><span class="op" id="4860682">(</span><span class="ident" id="4860683">t</span><span class="op" id="4860684">,</span>&nbsp;<span class="ident" id="4860686">filenames</span><span class="op" id="4860695">...</span><span class="op" id="4860698">)</span><br>
<span class="lineno"></span><span class="op" id="4860700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4860703">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="4860776">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="4860831">func</span>&nbsp;<span class="ident" id="4860836">parseFiles</span><span class="op" id="4860846">(</span><span class="ident" id="4860847">t</span>&nbsp;<span class="op" id="4860849">*</span><span class="ident" id="4860850">Template</span><span class="op" id="4860858">,</span>&nbsp;<span class="ident" id="4860860">filenames</span>&nbsp;<span class="op" id="4860870">...</span><span class="builtintype" id="4860873">string</span><span class="op" id="4860879">)</span>&nbsp;<span class="op" id="4860881">(</span><span class="op" id="4860882">*</span><span class="ident" id="4860883">Template</span><span class="op" id="4860891">,</span>&nbsp;<span class="builtintype" id="4860893">error</span><span class="op" id="4860898">)</span>&nbsp;<span class="op" id="4860900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4860903">if</span>&nbsp;<span class="builtinfunc" id="4860906">len</span><span class="op" id="4860909">(</span><span class="ident" id="4860910">filenames</span><span class="op" id="4860919">)</span>&nbsp;<span class="op" id="4860921">==</span>&nbsp;<span class="num" id="4860924">0</span>&nbsp;<span class="op" id="4860926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4860930">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4860976">return</span>&nbsp;<span class="ident" id="4860983">nil</span><span class="op" id="4860986">,</span>&nbsp;<span class="ident" id="4860988">fmt</span><span class="op" id="4860991">.</span><span class="ident" id="4860992">Errorf</span><span class="op" id="4860998">(</span><span class="string" id="4860999">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="4861047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4861050">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4861053">for</span>&nbsp;<span class="ident" id="4861057">_</span><span class="op" id="4861058">,</span>&nbsp;<span class="ident" id="4861060">filename</span>&nbsp;<span class="op" id="4861069">:=</span>&nbsp;<span class="keyword" id="4861072">range</span>&nbsp;<span class="ident" id="4861078">filenames</span>&nbsp;<span class="op" id="4861088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4861092">b</span><span class="op" id="4861093">,</span>&nbsp;<span class="ident" id="4861095">err</span>&nbsp;<span class="op" id="4861099">:=</span>&nbsp;<span class="ident" id="4861102">ioutil</span><span class="op" id="4861108">.</span><span class="ident" id="4861109">ReadFile</span><span class="op" id="4861117">(</span><span class="ident" id="4861118">filename</span><span class="op" id="4861126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4861130">if</span>&nbsp;<span class="ident" id="4861133">err</span>&nbsp;<span class="op" id="4861137">!=</span>&nbsp;<span class="ident" id="4861140">nil</span>&nbsp;<span class="op" id="4861144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4861149">return</span>&nbsp;<span class="ident" id="4861156">nil</span><span class="op" id="4861159">,</span>&nbsp;<span class="ident" id="4861161">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4861167">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4861171">s</span>&nbsp;<span class="op" id="4861173">:=</span>&nbsp;<span class="builtintype" id="4861176">string</span><span class="op" id="4861182">(</span><span class="ident" id="4861183">b</span><span class="op" id="4861184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4861188">name</span>&nbsp;<span class="op" id="4861193">:=</span>&nbsp;<span class="ident" id="4861196">filepath</span><span class="op" id="4861204">.</span><span class="ident" id="4861205">Base</span><span class="op" id="4861209">(</span><span class="ident" id="4861210">filename</span><span class="op" id="4861218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4861222">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4861287">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4861350">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4861420">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4861471">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4861525">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4861591">var</span>&nbsp;<span class="ident" id="4861595">tmpl</span>&nbsp;<span class="op" id="4861600">*</span><span class="ident" id="4861601">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4861612">if</span>&nbsp;<span class="ident" id="4861615">t</span>&nbsp;<span class="op" id="4861617">==</span>&nbsp;<span class="ident" id="4861620">nil</span>&nbsp;<span class="op" id="4861624">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4861629">t</span>&nbsp;<span class="op" id="4861631">=</span>&nbsp;<span class="ident" id="4861633">New</span><span class="op" id="4861636">(</span><span class="ident" id="4861637">name</span><span class="op" id="4861641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4861645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4861649">if</span>&nbsp;<span class="ident" id="4861652">name</span>&nbsp;<span class="op" id="4861657">==</span>&nbsp;<span class="ident" id="4861660">t</span><span class="op" id="4861661">.</span><span class="ident" id="4861662">Name</span><span class="op" id="4861666">(</span><span class="op" id="4861667">)</span>&nbsp;<span class="op" id="4861669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4861674">tmpl</span>&nbsp;<span class="op" id="4861679">=</span>&nbsp;<span class="ident" id="4861681">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4861685">}</span>&nbsp;<span class="keyword" id="4861687">else</span>&nbsp;<span class="op" id="4861692">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4861697">tmpl</span>&nbsp;<span class="op" id="4861702">=</span>&nbsp;<span class="ident" id="4861704">t</span><span class="op" id="4861705">.</span><span class="ident" id="4861706">New</span><span class="op" id="4861709">(</span><span class="ident" id="4861710">name</span><span class="op" id="4861714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4861718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4861722">_</span><span class="op" id="4861723">,</span>&nbsp;<span class="ident" id="4861725">err</span>&nbsp;<span class="op" id="4861729">=</span>&nbsp;<span class="ident" id="4861731">tmpl</span><span class="op" id="4861735">.</span><span class="ident" id="4861736">Parse</span><span class="op" id="4861741">(</span><span class="ident" id="4861742">s</span><span class="op" id="4861743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4861747">if</span>&nbsp;<span class="ident" id="4861750">err</span>&nbsp;<span class="op" id="4861754">!=</span>&nbsp;<span class="ident" id="4861757">nil</span>&nbsp;<span class="op" id="4861761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4861766">return</span>&nbsp;<span class="ident" id="4861773">nil</span><span class="op" id="4861776">,</span>&nbsp;<span class="ident" id="4861778">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4861784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4861787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4861790">return</span>&nbsp;<span class="ident" id="4861797">t</span><span class="op" id="4861798">,</span>&nbsp;<span class="ident" id="4861800">nil</span><br>
<span class="lineno"></span><span class="op" id="4861804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="4861807">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4861888">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="4861964">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4862040">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="4862113">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="4862174">func</span>&nbsp;<span class="ident" id="4862179">ParseGlob</span><span class="op" id="4862188">(</span><span class="ident" id="4862189">pattern</span>&nbsp;<span class="builtintype" id="4862197">string</span><span class="op" id="4862203">)</span>&nbsp;<span class="op" id="4862205">(</span><span class="op" id="4862206">*</span><span class="ident" id="4862207">Template</span><span class="op" id="4862215">,</span>&nbsp;<span class="builtintype" id="4862217">error</span><span class="op" id="4862222">)</span>&nbsp;<span class="op" id="4862224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4862227">return</span>&nbsp;<span class="ident" id="4862234">parseGlob</span><span class="op" id="4862243">(</span><span class="ident" id="4862244">nil</span><span class="op" id="4862247">,</span>&nbsp;<span class="ident" id="4862249">pattern</span><span class="op" id="4862256">)</span><br>
<span class="lineno"></span><span class="op" id="4862258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4862261">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="4862337">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4862410">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4862487">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4862563">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="4862575">func</span>&nbsp;<span class="op" id="4862580">(</span><span class="ident" id="4862581">t</span>&nbsp;<span class="op" id="4862583">*</span><span class="ident" id="4862584">Template</span><span class="op" id="4862592">)</span>&nbsp;<span class="ident" id="4862594">ParseGlob</span><span class="op" id="4862603">(</span><span class="ident" id="4862604">pattern</span>&nbsp;<span class="builtintype" id="4862612">string</span><span class="op" id="4862618">)</span>&nbsp;<span class="op" id="4862620">(</span><span class="op" id="4862621">*</span><span class="ident" id="4862622">Template</span><span class="op" id="4862630">,</span>&nbsp;<span class="builtintype" id="4862632">error</span><span class="op" id="4862637">)</span>&nbsp;<span class="op" id="4862639">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4862642">return</span>&nbsp;<span class="ident" id="4862649">parseGlob</span><span class="op" id="4862658">(</span><span class="ident" id="4862659">t</span><span class="op" id="4862660">,</span>&nbsp;<span class="ident" id="4862662">pattern</span><span class="op" id="4862669">)</span><br>
<span class="lineno"></span><span class="op" id="4862671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4862674">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="4862747">func</span>&nbsp;<span class="ident" id="4862752">parseGlob</span><span class="op" id="4862761">(</span><span class="ident" id="4862762">t</span>&nbsp;<span class="op" id="4862764">*</span><span class="ident" id="4862765">Template</span><span class="op" id="4862773">,</span>&nbsp;<span class="ident" id="4862775">pattern</span>&nbsp;<span class="builtintype" id="4862783">string</span><span class="op" id="4862789">)</span>&nbsp;<span class="op" id="4862791">(</span><span class="op" id="4862792">*</span><span class="ident" id="4862793">Template</span><span class="op" id="4862801">,</span>&nbsp;<span class="builtintype" id="4862803">error</span><span class="op" id="4862808">)</span>&nbsp;<span class="op" id="4862810">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4862813">filenames</span><span class="op" id="4862822">,</span>&nbsp;<span class="ident" id="4862824">err</span>&nbsp;<span class="op" id="4862828">:=</span>&nbsp;<span class="ident" id="4862831">filepath</span><span class="op" id="4862839">.</span><span class="ident" id="4862840">Glob</span><span class="op" id="4862844">(</span><span class="ident" id="4862845">pattern</span><span class="op" id="4862852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4862855">if</span>&nbsp;<span class="ident" id="4862858">err</span>&nbsp;<span class="op" id="4862862">!=</span>&nbsp;<span class="ident" id="4862865">nil</span>&nbsp;<span class="op" id="4862869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4862873">return</span>&nbsp;<span class="ident" id="4862880">nil</span><span class="op" id="4862883">,</span>&nbsp;<span class="ident" id="4862885">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4862890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4862893">if</span>&nbsp;<span class="builtinfunc" id="4862896">len</span><span class="op" id="4862899">(</span><span class="ident" id="4862900">filenames</span><span class="op" id="4862909">)</span>&nbsp;<span class="op" id="4862911">==</span>&nbsp;<span class="num" id="4862914">0</span>&nbsp;<span class="op" id="4862916">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4862920">return</span>&nbsp;<span class="ident" id="4862927">nil</span><span class="op" id="4862930">,</span>&nbsp;<span class="ident" id="4862932">fmt</span><span class="op" id="4862935">.</span><span class="ident" id="4862936">Errorf</span><span class="op" id="4862942">(</span><span class="string" id="4862943">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="4862984">,</span>&nbsp;<span class="ident" id="4862986">pattern</span><span class="op" id="4862993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4862996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4862999">return</span>&nbsp;<span class="ident" id="4863006">parseFiles</span><span class="op" id="4863016">(</span><span class="ident" id="4863017">t</span><span class="op" id="4863018">,</span>&nbsp;<span class="ident" id="4863020">filenames</span><span class="op" id="4863029">...</span><span class="op" id="4863032">)</span><br>
<span class="lineno"></span><span class="op" id="4863034">}</span>
</div>
</body>
</html>
