<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2156660">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2156715">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2156769">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2156820">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2156885">package</span>&nbsp;<span class="ident" id="2156893">syscall</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2156902">import</span>&nbsp;<span class="op" id="2156909">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2156912">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2156923">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2156931">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="2156940">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="2156943">var</span>&nbsp;<span class="op" id="2156947">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2156950">Stdin</span>&nbsp;&nbsp;<span class="op" id="2156957">=</span>&nbsp;<span class="num" id="2156959">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2156962">Stdout</span>&nbsp;<span class="op" id="2156969">=</span>&nbsp;<span class="num" id="2156971">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2156974">Stderr</span>&nbsp;<span class="op" id="2156981">=</span>&nbsp;<span class="num" id="2156983">2</span><br>
<span class="lineno"></span><span class="op" id="2156985">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="2156988">const</span>&nbsp;<span class="op" id="2156994">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2156997">darwin64Bit</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2157012">=</span>&nbsp;<span class="ident" id="2157014"><a href="/syscall/syscall_unix.go.html#2156912">runtime</a></span><span class="op" id="2157021">.</span><span class="ident" id="2157022">GOOS</span>&nbsp;<span class="op" id="2157027">==</span>&nbsp;<span class="string" id="2157030">&#34;darwin&#34;</span>&nbsp;<span class="op" id="2157039">&amp;&amp;</span>&nbsp;<span class="ident" id="2157042"><a href="/syscall/ztypes_linux_amd64.go.html#2279603">sizeofPtr</a></span>&nbsp;<span class="op" id="2157052">==</span>&nbsp;<span class="num" id="2157055">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2157058">dragonfly64Bit</span>&nbsp;<span class="op" id="2157073">=</span>&nbsp;<span class="ident" id="2157075"><a href="/syscall/syscall_unix.go.html#2156912">runtime</a></span><span class="op" id="2157082">.</span><span class="ident" id="2157083">GOOS</span>&nbsp;<span class="op" id="2157088">==</span>&nbsp;<span class="string" id="2157091">&#34;dragonfly&#34;</span>&nbsp;<span class="op" id="2157103">&amp;&amp;</span>&nbsp;<span class="ident" id="2157106"><a href="/syscall/ztypes_linux_amd64.go.html#2279603">sizeofPtr</a></span>&nbsp;<span class="op" id="2157116">==</span>&nbsp;<span class="num" id="2157119">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2157122">netbsd32Bit</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2157137">=</span>&nbsp;<span class="ident" id="2157139"><a href="/syscall/syscall_unix.go.html#2156912">runtime</a></span><span class="op" id="2157146">.</span><span class="ident" id="2157147">GOOS</span>&nbsp;<span class="op" id="2157152">==</span>&nbsp;<span class="string" id="2157155">&#34;netbsd&#34;</span>&nbsp;<span class="op" id="2157164">&amp;&amp;</span>&nbsp;<span class="ident" id="2157167"><a href="/syscall/ztypes_linux_amd64.go.html#2279603">sizeofPtr</a></span>&nbsp;<span class="op" id="2157177">==</span>&nbsp;<span class="num" id="2157180">4</span><br>
<span class="lineno">25</span><span class="op" id="2157182">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2157185">func</span>&nbsp;<span class="ident" id="2157190">Syscall</span><span class="op" id="2157197">(</span><span class="ident" id="2157198">trap</span><span class="op" id="2157202">,</span>&nbsp;<span class="ident" id="2157204">a1</span><span class="op" id="2157206">,</span>&nbsp;<span class="ident" id="2157208">a2</span><span class="op" id="2157210">,</span>&nbsp;<span class="ident" id="2157212">a3</span>&nbsp;<span class="builtintype" id="2157215">uintptr</span><span class="op" id="2157222">)</span>&nbsp;<span class="op" id="2157224">(</span><span class="ident" id="2157225">r1</span><span class="op" id="2157227">,</span>&nbsp;<span class="ident" id="2157229">r2</span>&nbsp;<span class="builtintype" id="2157232">uintptr</span><span class="op" id="2157239">,</span>&nbsp;<span class="ident" id="2157241">err</span>&nbsp;<span class="ident" id="2157245"><a href="/syscall/syscall_unix.go.html#2159119">Errno</a></span><span class="op" id="2157250">)</span><br>
<span class="lineno"></span><span class="keyword" id="2157252">func</span>&nbsp;<span class="ident" id="2157257">Syscall6</span><span class="op" id="2157265">(</span><span class="ident" id="2157266">trap</span><span class="op" id="2157270">,</span>&nbsp;<span class="ident" id="2157272">a1</span><span class="op" id="2157274">,</span>&nbsp;<span class="ident" id="2157276">a2</span><span class="op" id="2157278">,</span>&nbsp;<span class="ident" id="2157280">a3</span><span class="op" id="2157282">,</span>&nbsp;<span class="ident" id="2157284">a4</span><span class="op" id="2157286">,</span>&nbsp;<span class="ident" id="2157288">a5</span><span class="op" id="2157290">,</span>&nbsp;<span class="ident" id="2157292">a6</span>&nbsp;<span class="builtintype" id="2157295">uintptr</span><span class="op" id="2157302">)</span>&nbsp;<span class="op" id="2157304">(</span><span class="ident" id="2157305">r1</span><span class="op" id="2157307">,</span>&nbsp;<span class="ident" id="2157309">r2</span>&nbsp;<span class="builtintype" id="2157312">uintptr</span><span class="op" id="2157319">,</span>&nbsp;<span class="ident" id="2157321">err</span>&nbsp;<span class="ident" id="2157325"><a href="/syscall/syscall_unix.go.html#2159119">Errno</a></span><span class="op" id="2157330">)</span><br>
<span class="lineno"></span><span class="keyword" id="2157332">func</span>&nbsp;<span class="ident" id="2157337">RawSyscall</span><span class="op" id="2157347">(</span><span class="ident" id="2157348">trap</span><span class="op" id="2157352">,</span>&nbsp;<span class="ident" id="2157354">a1</span><span class="op" id="2157356">,</span>&nbsp;<span class="ident" id="2157358">a2</span><span class="op" id="2157360">,</span>&nbsp;<span class="ident" id="2157362">a3</span>&nbsp;<span class="builtintype" id="2157365">uintptr</span><span class="op" id="2157372">)</span>&nbsp;<span class="op" id="2157374">(</span><span class="ident" id="2157375">r1</span><span class="op" id="2157377">,</span>&nbsp;<span class="ident" id="2157379">r2</span>&nbsp;<span class="builtintype" id="2157382">uintptr</span><span class="op" id="2157389">,</span>&nbsp;<span class="ident" id="2157391">err</span>&nbsp;<span class="ident" id="2157395"><a href="/syscall/syscall_unix.go.html#2159119">Errno</a></span><span class="op" id="2157400">)</span><br>
<span class="lineno">30</span><span class="keyword" id="2157402">func</span>&nbsp;<span class="ident" id="2157407">RawSyscall6</span><span class="op" id="2157418">(</span><span class="ident" id="2157419">trap</span><span class="op" id="2157423">,</span>&nbsp;<span class="ident" id="2157425">a1</span><span class="op" id="2157427">,</span>&nbsp;<span class="ident" id="2157429">a2</span><span class="op" id="2157431">,</span>&nbsp;<span class="ident" id="2157433">a3</span><span class="op" id="2157435">,</span>&nbsp;<span class="ident" id="2157437">a4</span><span class="op" id="2157439">,</span>&nbsp;<span class="ident" id="2157441">a5</span><span class="op" id="2157443">,</span>&nbsp;<span class="ident" id="2157445">a6</span>&nbsp;<span class="builtintype" id="2157448">uintptr</span><span class="op" id="2157455">)</span>&nbsp;<span class="op" id="2157457">(</span><span class="ident" id="2157458">r1</span><span class="op" id="2157460">,</span>&nbsp;<span class="ident" id="2157462">r2</span>&nbsp;<span class="builtintype" id="2157465">uintptr</span><span class="op" id="2157472">,</span>&nbsp;<span class="ident" id="2157474">err</span>&nbsp;<span class="ident" id="2157478"><a href="/syscall/syscall_unix.go.html#2159119">Errno</a></span><span class="op" id="2157483">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2157486">//&nbsp;Mmap&nbsp;manager,&nbsp;for&nbsp;use&nbsp;by&nbsp;operating&nbsp;system-specific&nbsp;implementations.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2157558">type</span>&nbsp;<span class="ident" id="2157563">mmapper</span>&nbsp;<span class="keyword" id="2157571">struct</span>&nbsp;<span class="op" id="2157578">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2157581"><a href="/syscall/syscall_unix.go.html#2156923">sync</a></span><span class="op" id="2157585">.</span><span class="ident" id="2157586">Mutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2157593">active</span>&nbsp;<span class="keyword" id="2157600">map</span><span class="op" id="2157603">[</span><span class="op" id="2157604">*</span><span class="builtintype" id="2157605">byte</span><span class="op" id="2157609">]</span><span class="op" id="2157610">[</span><span class="op" id="2157611">]</span><span class="builtintype" id="2157612">byte</span>&nbsp;<span class="comment" id="2157617">//&nbsp;active&nbsp;mappings;&nbsp;key&nbsp;is&nbsp;last&nbsp;byte&nbsp;in&nbsp;mapping</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2157666">mmap</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="2157673">func</span><span class="op" id="2157677">(</span><span class="ident" id="2157678">addr</span><span class="op" id="2157682">,</span>&nbsp;<span class="ident" id="2157684">length</span>&nbsp;<span class="builtintype" id="2157691">uintptr</span><span class="op" id="2157698">,</span>&nbsp;<span class="ident" id="2157700">prot</span><span class="op" id="2157704">,</span>&nbsp;<span class="ident" id="2157706">flags</span><span class="op" id="2157711">,</span>&nbsp;<span class="ident" id="2157713">fd</span>&nbsp;<span class="builtintype" id="2157716">int</span><span class="op" id="2157719">,</span>&nbsp;<span class="ident" id="2157721">offset</span>&nbsp;<span class="ident" id="2157728">int64</span><span class="op" id="2157733">)</span>&nbsp;<span class="op" id="2157735">(</span><span class="builtintype" id="2157736">uintptr</span><span class="op" id="2157743">,</span>&nbsp;<span class="builtintype" id="2157745">error</span><span class="op" id="2157750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2157753">munmap</span>&nbsp;<span class="keyword" id="2157760">func</span><span class="op" id="2157764">(</span><span class="ident" id="2157765">addr</span>&nbsp;<span class="builtintype" id="2157770">uintptr</span><span class="op" id="2157777">,</span>&nbsp;<span class="ident" id="2157779">length</span>&nbsp;<span class="builtintype" id="2157786">uintptr</span><span class="op" id="2157793">)</span>&nbsp;<span class="builtintype" id="2157795">error</span><br>
<span class="lineno"></span><span class="op" id="2157801">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="2157804">func</span>&nbsp;<span class="op" id="2157809">(</span><span class="ident" id="2157810">m</span>&nbsp;<span class="op" id="2157812">*</span><span class="ident" id="2157813"><a href="/syscall/syscall_unix.go.html#2157563">mmapper</a></span><span class="op" id="2157820">)</span>&nbsp;<span class="ident" id="2157822">Mmap</span><span class="op" id="2157826">(</span><span class="ident" id="2157827">fd</span>&nbsp;<span class="builtintype" id="2157830">int</span><span class="op" id="2157833">,</span>&nbsp;<span class="ident" id="2157835">offset</span>&nbsp;<span class="ident" id="2157842">int64</span><span class="op" id="2157847">,</span>&nbsp;<span class="ident" id="2157849">length</span>&nbsp;<span class="builtintype" id="2157856">int</span><span class="op" id="2157859">,</span>&nbsp;<span class="ident" id="2157861">prot</span>&nbsp;<span class="builtintype" id="2157866">int</span><span class="op" id="2157869">,</span>&nbsp;<span class="ident" id="2157871">flags</span>&nbsp;<span class="builtintype" id="2157877">int</span><span class="op" id="2157880">)</span>&nbsp;<span class="op" id="2157882">(</span><span class="ident" id="2157883">data</span>&nbsp;<span class="op" id="2157888">[</span><span class="op" id="2157889">]</span><span class="builtintype" id="2157890">byte</span><span class="op" id="2157894">,</span>&nbsp;<span class="ident" id="2157896">err</span>&nbsp;<span class="builtintype" id="2157900">error</span><span class="op" id="2157905">)</span>&nbsp;<span class="op" id="2157907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2157910">if</span>&nbsp;<span class="ident" id="2157913"><a href="/syscall/syscall_unix.go.html#2157849">length</a></span>&nbsp;<span class="op" id="2157920">&lt;=</span>&nbsp;<span class="num" id="2157923">0</span>&nbsp;<span class="op" id="2157925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2157929">return</span>&nbsp;<span class="ident" id="2157936">nil</span><span class="op" id="2157939">,</span>&nbsp;<span class="ident" id="2157941"><a href="/syscall/zerrors_linux_amd64.go.html#2214659">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2157949">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2157953">//&nbsp;Map&nbsp;the&nbsp;requested&nbsp;memory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2157983">addr</span><span class="op" id="2157987">,</span>&nbsp;<span class="ident" id="2157989">errno</span>&nbsp;<span class="op" id="2157995">:=</span>&nbsp;<span class="ident" id="2157998"><a href="/syscall/syscall_unix.go.html#2157810">m</a></span><span class="op" id="2157999">.</span><span class="ident" id="2158000">mmap</span><span class="op" id="2158004">(</span><span class="num" id="2158005">0</span><span class="op" id="2158006">,</span>&nbsp;<span class="builtintype" id="2158008">uintptr</span><span class="op" id="2158015">(</span><span class="ident" id="2158016"><a href="/syscall/syscall_unix.go.html#2157849">length</a></span><span class="op" id="2158022">)</span><span class="op" id="2158023">,</span>&nbsp;<span class="ident" id="2158025"><a href="/syscall/syscall_unix.go.html#2157861">prot</a></span><span class="op" id="2158029">,</span>&nbsp;<span class="ident" id="2158031"><a href="/syscall/syscall_unix.go.html#2157871">flags</a></span><span class="op" id="2158036">,</span>&nbsp;<span class="ident" id="2158038"><a href="/syscall/syscall_unix.go.html#2157827">fd</a></span><span class="op" id="2158040">,</span>&nbsp;<span class="ident" id="2158042"><a href="/syscall/syscall_unix.go.html#2157835">offset</a></span><span class="op" id="2158048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158051">if</span>&nbsp;<span class="ident" id="2158054"><a href="/syscall/syscall_unix.go.html#2157989">errno</a></span>&nbsp;<span class="op" id="2158060">!=</span>&nbsp;<span class="ident" id="2158063">nil</span>&nbsp;<span class="op" id="2158067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158071">return</span>&nbsp;<span class="ident" id="2158078">nil</span><span class="op" id="2158081">,</span>&nbsp;<span class="ident" id="2158083"><a href="/syscall/syscall_unix.go.html#2157989">errno</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2158090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2158094">//&nbsp;Slice&nbsp;memory&nbsp;layout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158118">var</span>&nbsp;<span class="ident" id="2158122">sl</span>&nbsp;<span class="op" id="2158125">=</span>&nbsp;<span class="keyword" id="2158127">struct</span>&nbsp;<span class="op" id="2158134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2158138">addr</span>&nbsp;<span class="builtintype" id="2158143">uintptr</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2158153">len</span>&nbsp;&nbsp;<span class="builtintype" id="2158158">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2158164">cap</span>&nbsp;&nbsp;<span class="builtintype" id="2158169">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2158174">}</span><span class="op" id="2158175">{</span><span class="ident" id="2158176"><a href="/syscall/syscall_unix.go.html#2157983">addr</a></span><span class="op" id="2158180">,</span>&nbsp;<span class="ident" id="2158182"><a href="/syscall/syscall_unix.go.html#2157849">length</a></span><span class="op" id="2158188">,</span>&nbsp;<span class="ident" id="2158190"><a href="/syscall/syscall_unix.go.html#2157849">length</a></span><span class="op" id="2158196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2158200">//&nbsp;Use&nbsp;unsafe&nbsp;to&nbsp;turn&nbsp;sl&nbsp;into&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2158241">b</span>&nbsp;<span class="op" id="2158243">:=</span>&nbsp;<span class="op" id="2158246">*</span><span class="op" id="2158247">(</span><span class="op" id="2158248">*</span><span class="op" id="2158249">[</span><span class="op" id="2158250">]</span><span class="builtintype" id="2158251">byte</span><span class="op" id="2158255">)</span><span class="op" id="2158256">(</span><span class="ident" id="2158257"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2158263">.</span><span class="ident" id="2158264">Pointer</span><span class="op" id="2158271">(</span><span class="op" id="2158272">&amp;</span><span class="ident" id="2158273"><a href="/syscall/syscall_unix.go.html#2158122">sl</a></span><span class="op" id="2158275">)</span><span class="op" id="2158276">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2158280">//&nbsp;Register&nbsp;mapping&nbsp;in&nbsp;m&nbsp;and&nbsp;return&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2158321">p</span>&nbsp;<span class="op" id="2158323">:=</span>&nbsp;<span class="op" id="2158326">&amp;</span><span class="ident" id="2158327"><a href="/syscall/syscall_unix.go.html#2158241">b</a></span><span class="op" id="2158328">[</span><span class="builtinfunc" id="2158329">cap</span><span class="op" id="2158332">(</span><span class="ident" id="2158333"><a href="/syscall/syscall_unix.go.html#2158241">b</a></span><span class="op" id="2158334">)</span><span class="op" id="2158335">-</span><span class="num" id="2158336">1</span><span class="op" id="2158337">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2158340"><a href="/syscall/syscall_unix.go.html#2157810">m</a></span><span class="op" id="2158341">.</span><span class="ident" id="2158342">Lock</span><span class="op" id="2158346">(</span><span class="op" id="2158347">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158350">defer</span>&nbsp;<span class="ident" id="2158356"><a href="/syscall/syscall_unix.go.html#2157810">m</a></span><span class="op" id="2158357">.</span><span class="ident" id="2158358">Unlock</span><span class="op" id="2158364">(</span><span class="op" id="2158365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2158368"><a href="/syscall/syscall_unix.go.html#2157810">m</a></span><span class="op" id="2158369">.</span><span class="ident" id="2158370">active</span><span class="op" id="2158376">[</span><span class="ident" id="2158377"><a href="/syscall/syscall_unix.go.html#2158321">p</a></span><span class="op" id="2158378">]</span>&nbsp;<span class="op" id="2158380">=</span>&nbsp;<span class="ident" id="2158382"><a href="/syscall/syscall_unix.go.html#2158241">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158385">return</span>&nbsp;<span class="ident" id="2158392"><a href="/syscall/syscall_unix.go.html#2158241">b</a></span><span class="op" id="2158393">,</span>&nbsp;<span class="ident" id="2158395">nil</span><br>
<span class="lineno"></span><span class="op" id="2158399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="2158402">func</span>&nbsp;<span class="op" id="2158407">(</span><span class="ident" id="2158408">m</span>&nbsp;<span class="op" id="2158410">*</span><span class="ident" id="2158411"><a href="/syscall/syscall_unix.go.html#2157563">mmapper</a></span><span class="op" id="2158418">)</span>&nbsp;<span class="ident" id="2158420">Munmap</span><span class="op" id="2158426">(</span><span class="ident" id="2158427">data</span>&nbsp;<span class="op" id="2158432">[</span><span class="op" id="2158433">]</span><span class="builtintype" id="2158434">byte</span><span class="op" id="2158438">)</span>&nbsp;<span class="op" id="2158440">(</span><span class="ident" id="2158441">err</span>&nbsp;<span class="builtintype" id="2158445">error</span><span class="op" id="2158450">)</span>&nbsp;<span class="op" id="2158452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158455">if</span>&nbsp;<span class="builtinfunc" id="2158458">len</span><span class="op" id="2158461">(</span><span class="ident" id="2158462"><a href="/syscall/syscall_unix.go.html#2158427">data</a></span><span class="op" id="2158466">)</span>&nbsp;<span class="op" id="2158468">==</span>&nbsp;<span class="num" id="2158471">0</span>&nbsp;<span class="op" id="2158473">||</span>&nbsp;<span class="builtinfunc" id="2158476">len</span><span class="op" id="2158479">(</span><span class="ident" id="2158480"><a href="/syscall/syscall_unix.go.html#2158427">data</a></span><span class="op" id="2158484">)</span>&nbsp;<span class="op" id="2158486">!=</span>&nbsp;<span class="builtinfunc" id="2158489">cap</span><span class="op" id="2158492">(</span><span class="ident" id="2158493"><a href="/syscall/syscall_unix.go.html#2158427">data</a></span><span class="op" id="2158497">)</span>&nbsp;<span class="op" id="2158499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158503">return</span>&nbsp;<span class="ident" id="2158510"><a href="/syscall/zerrors_linux_amd64.go.html#2214659">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2158518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2158522">//&nbsp;Find&nbsp;the&nbsp;base&nbsp;of&nbsp;the&nbsp;mapping.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2158556">p</span>&nbsp;<span class="op" id="2158558">:=</span>&nbsp;<span class="op" id="2158561">&amp;</span><span class="ident" id="2158562"><a href="/syscall/syscall_unix.go.html#2158427">data</a></span><span class="op" id="2158566">[</span><span class="builtinfunc" id="2158567">cap</span><span class="op" id="2158570">(</span><span class="ident" id="2158571"><a href="/syscall/syscall_unix.go.html#2158427">data</a></span><span class="op" id="2158575">)</span><span class="op" id="2158576">-</span><span class="num" id="2158577">1</span><span class="op" id="2158578">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2158581"><a href="/syscall/syscall_unix.go.html#2158408">m</a></span><span class="op" id="2158582">.</span><span class="ident" id="2158583">Lock</span><span class="op" id="2158587">(</span><span class="op" id="2158588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158591">defer</span>&nbsp;<span class="ident" id="2158597"><a href="/syscall/syscall_unix.go.html#2158408">m</a></span><span class="op" id="2158598">.</span><span class="ident" id="2158599">Unlock</span><span class="op" id="2158605">(</span><span class="op" id="2158606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2158609">b</span>&nbsp;<span class="op" id="2158611">:=</span>&nbsp;<span class="ident" id="2158614"><a href="/syscall/syscall_unix.go.html#2158408">m</a></span><span class="op" id="2158615">.</span><span class="ident" id="2158616">active</span><span class="op" id="2158622">[</span><span class="ident" id="2158623"><a href="/syscall/syscall_unix.go.html#2158556">p</a></span><span class="op" id="2158624">]</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158627">if</span>&nbsp;<span class="ident" id="2158630"><a href="/syscall/syscall_unix.go.html#2158609">b</a></span>&nbsp;<span class="op" id="2158632">==</span>&nbsp;<span class="ident" id="2158635">nil</span>&nbsp;<span class="op" id="2158639">||</span>&nbsp;<span class="op" id="2158642">&amp;</span><span class="ident" id="2158643"><a href="/syscall/syscall_unix.go.html#2158609">b</a></span><span class="op" id="2158644">[</span><span class="num" id="2158645">0</span><span class="op" id="2158646">]</span>&nbsp;<span class="op" id="2158648">!=</span>&nbsp;<span class="op" id="2158651">&amp;</span><span class="ident" id="2158652"><a href="/syscall/syscall_unix.go.html#2158427">data</a></span><span class="op" id="2158656">[</span><span class="num" id="2158657">0</span><span class="op" id="2158658">]</span>&nbsp;<span class="op" id="2158660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158664">return</span>&nbsp;<span class="ident" id="2158671"><a href="/syscall/zerrors_linux_amd64.go.html#2214659">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2158679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2158683">//&nbsp;Unmap&nbsp;the&nbsp;memory&nbsp;and&nbsp;update&nbsp;m.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158718">if</span>&nbsp;<span class="ident" id="2158721">errno</span>&nbsp;<span class="op" id="2158727">:=</span>&nbsp;<span class="ident" id="2158730"><a href="/syscall/syscall_unix.go.html#2158408">m</a></span><span class="op" id="2158731">.</span><span class="ident" id="2158732">munmap</span><span class="op" id="2158738">(</span><span class="builtintype" id="2158739">uintptr</span><span class="op" id="2158746">(</span><span class="ident" id="2158747"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2158753">.</span><span class="ident" id="2158754">Pointer</span><span class="op" id="2158761">(</span><span class="op" id="2158762">&amp;</span><span class="ident" id="2158763"><a href="/syscall/syscall_unix.go.html#2158609">b</a></span><span class="op" id="2158764">[</span><span class="num" id="2158765">0</span><span class="op" id="2158766">]</span><span class="op" id="2158767">)</span><span class="op" id="2158768">)</span><span class="op" id="2158769">,</span>&nbsp;<span class="builtintype" id="2158771">uintptr</span><span class="op" id="2158778">(</span><span class="builtinfunc" id="2158779">len</span><span class="op" id="2158782">(</span><span class="ident" id="2158783"><a href="/syscall/syscall_unix.go.html#2158609">b</a></span><span class="op" id="2158784">)</span><span class="op" id="2158785">)</span><span class="op" id="2158786">)</span><span class="op" id="2158787">;</span>&nbsp;<span class="ident" id="2158789"><a href="/syscall/syscall_unix.go.html#2158721">errno</a></span>&nbsp;<span class="op" id="2158795">!=</span>&nbsp;<span class="ident" id="2158798">nil</span>&nbsp;<span class="op" id="2158802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158806">return</span>&nbsp;<span class="ident" id="2158813"><a href="/syscall/syscall_unix.go.html#2158721">errno</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2158820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2158823">delete</span><span class="op" id="2158829">(</span><span class="ident" id="2158830"><a href="/syscall/syscall_unix.go.html#2158408">m</a></span><span class="op" id="2158831">.</span><span class="ident" id="2158832">active</span><span class="op" id="2158838">,</span>&nbsp;<span class="ident" id="2158840"><a href="/syscall/syscall_unix.go.html#2158556">p</a></span><span class="op" id="2158841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2158844">return</span>&nbsp;<span class="ident" id="2158851">nil</span><br>
<span class="lineno">90</span><span class="op" id="2158855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2158858">//&nbsp;An&nbsp;Errno&nbsp;is&nbsp;an&nbsp;unsigned&nbsp;number&nbsp;describing&nbsp;an&nbsp;error&nbsp;condition.</span><br>
<span class="lineno"></span><span class="comment" id="2158923">//&nbsp;It&nbsp;implements&nbsp;the&nbsp;error&nbsp;interface.&nbsp;&nbsp;The&nbsp;zero&nbsp;Errno&nbsp;is&nbsp;by&nbsp;convention</span><br>
<span class="lineno"></span><span class="comment" id="2158994">//&nbsp;a&nbsp;non-error,&nbsp;so&nbsp;code&nbsp;to&nbsp;convert&nbsp;from&nbsp;Errno&nbsp;to&nbsp;error&nbsp;should&nbsp;use:</span><br>
<span class="lineno">95</span><span class="comment" id="2159061">//&nbsp;&nbsp;&nbsp;&nbsperr&nbsp;=&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="2159074">//&nbsp;&nbsp;&nbsp;&nbspif&nbsp;errno&nbsp;!=&nbsp;0&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="2159093">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperr&nbsp;=&nbsp;errno</span><br>
<span class="lineno"></span><span class="comment" id="2159109">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="keyword" id="2159114">type</span>&nbsp;<span class="ident" id="2159119">Errno</span>&nbsp;<span class="builtintype" id="2159125">uintptr</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="2159134">func</span>&nbsp;<span class="op" id="2159139">(</span><span class="ident" id="2159140">e</span>&nbsp;<span class="ident" id="2159142"><a href="/syscall/syscall_unix.go.html#2159119">Errno</a></span><span class="op" id="2159147">)</span>&nbsp;<span class="ident" id="2159149">Error</span><span class="op" id="2159154">(</span><span class="op" id="2159155">)</span>&nbsp;<span class="builtintype" id="2159157">string</span>&nbsp;<span class="op" id="2159164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159167">if</span>&nbsp;<span class="num" id="2159170">0</span>&nbsp;<span class="op" id="2159172">&lt;=</span>&nbsp;<span class="builtintype" id="2159175">int</span><span class="op" id="2159178">(</span><span class="ident" id="2159179"><a href="/syscall/syscall_unix.go.html#2159140">e</a></span><span class="op" id="2159180">)</span>&nbsp;<span class="op" id="2159182">&amp;&amp;</span>&nbsp;<span class="builtintype" id="2159185">int</span><span class="op" id="2159188">(</span><span class="ident" id="2159189"><a href="/syscall/syscall_unix.go.html#2159140">e</a></span><span class="op" id="2159190">)</span>&nbsp;<span class="op" id="2159192">&lt;</span>&nbsp;<span class="builtinfunc" id="2159194">len</span><span class="op" id="2159197">(</span><span class="ident" id="2159198"><a href="/syscall/zerrors_linux_amd64.go.html#2218501">errors</a></span><span class="op" id="2159204">)</span>&nbsp;<span class="op" id="2159206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2159210">s</span>&nbsp;<span class="op" id="2159212">:=</span>&nbsp;<span class="ident" id="2159215"><a href="/syscall/zerrors_linux_amd64.go.html#2218501">errors</a></span><span class="op" id="2159221">[</span><span class="ident" id="2159222"><a href="/syscall/syscall_unix.go.html#2159140">e</a></span><span class="op" id="2159223">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159227">if</span>&nbsp;<span class="ident" id="2159230"><a href="/syscall/syscall_unix.go.html#2159210">s</a></span>&nbsp;<span class="op" id="2159232">!=</span>&nbsp;<span class="string" id="2159235">&#34;&#34;</span>&nbsp;<span class="op" id="2159238">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159243">return</span>&nbsp;<span class="ident" id="2159250"><a href="/syscall/syscall_unix.go.html#2159210">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2159254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2159257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159260">return</span>&nbsp;<span class="string" id="2159267">&#34;errno&nbsp;&#34;</span>&nbsp;<span class="op" id="2159276">+</span>&nbsp;<span class="ident" id="2159278"><a href="/syscall/str.go.html#2121652">itoa</a></span><span class="op" id="2159282">(</span><span class="builtintype" id="2159283">int</span><span class="op" id="2159286">(</span><span class="ident" id="2159287"><a href="/syscall/syscall_unix.go.html#2159140">e</a></span><span class="op" id="2159288">)</span><span class="op" id="2159289">)</span><br>
<span class="lineno"></span><span class="op" id="2159291">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="2159294">func</span>&nbsp;<span class="op" id="2159299">(</span><span class="ident" id="2159300">e</span>&nbsp;<span class="ident" id="2159302"><a href="/syscall/syscall_unix.go.html#2159119">Errno</a></span><span class="op" id="2159307">)</span>&nbsp;<span class="ident" id="2159309">Temporary</span><span class="op" id="2159318">(</span><span class="op" id="2159319">)</span>&nbsp;<span class="builtintype" id="2159321">bool</span>&nbsp;<span class="op" id="2159326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159329">return</span>&nbsp;<span class="ident" id="2159336"><a href="/syscall/syscall_unix.go.html#2159300">e</a></span>&nbsp;<span class="op" id="2159338">==</span>&nbsp;<span class="ident" id="2159341"><a href="/syscall/zerrors_linux_amd64.go.html#2214629">EINTR</a></span>&nbsp;<span class="op" id="2159347">||</span>&nbsp;<span class="ident" id="2159350"><a href="/syscall/syscall_unix.go.html#2159300">e</a></span>&nbsp;<span class="op" id="2159352">==</span>&nbsp;<span class="ident" id="2159355"><a href="/syscall/zerrors_linux_amd64.go.html#2215278">EMFILE</a></span>&nbsp;<span class="op" id="2159362">||</span>&nbsp;<span class="ident" id="2159365"><a href="/syscall/syscall_unix.go.html#2159300">e</a></span>&nbsp;<span class="op" id="2159367">==</span>&nbsp;<span class="ident" id="2159370"><a href="/syscall/zerrors_linux_amd64.go.html#2214165">ECONNRESET</a></span>&nbsp;<span class="op" id="2159381">||</span>&nbsp;<span class="ident" id="2159384"><a href="/syscall/syscall_unix.go.html#2159300">e</a></span>&nbsp;<span class="op" id="2159386">==</span>&nbsp;<span class="ident" id="2159389"><a href="/syscall/zerrors_linux_amd64.go.html#2214103">ECONNABORTED</a></span>&nbsp;<span class="op" id="2159402">||</span>&nbsp;<span class="ident" id="2159405"><a href="/syscall/syscall_unix.go.html#2159300">e</a></span><span class="op" id="2159406">.</span><span class="ident" id="2159407">Timeout</span><span class="op" id="2159414">(</span><span class="op" id="2159415">)</span><br>
<span class="lineno"></span><span class="op" id="2159417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="2159420">func</span>&nbsp;<span class="op" id="2159425">(</span><span class="ident" id="2159426">e</span>&nbsp;<span class="ident" id="2159428"><a href="/syscall/syscall_unix.go.html#2159119">Errno</a></span><span class="op" id="2159433">)</span>&nbsp;<span class="ident" id="2159435">Timeout</span><span class="op" id="2159442">(</span><span class="op" id="2159443">)</span>&nbsp;<span class="builtintype" id="2159445">bool</span>&nbsp;<span class="op" id="2159450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159453">return</span>&nbsp;<span class="ident" id="2159460"><a href="/syscall/syscall_unix.go.html#2159426">e</a></span>&nbsp;<span class="op" id="2159462">==</span>&nbsp;<span class="ident" id="2159465"><a href="/syscall/zerrors_linux_amd64.go.html#2213641">EAGAIN</a></span>&nbsp;<span class="op" id="2159472">||</span>&nbsp;<span class="ident" id="2159475"><a href="/syscall/syscall_unix.go.html#2159426">e</a></span>&nbsp;<span class="op" id="2159477">==</span>&nbsp;<span class="ident" id="2159480"><a href="/syscall/zerrors_linux_amd64.go.html#2217472">EWOULDBLOCK</a></span>&nbsp;<span class="op" id="2159492">||</span>&nbsp;<span class="ident" id="2159495"><a href="/syscall/syscall_unix.go.html#2159426">e</a></span>&nbsp;<span class="op" id="2159497">==</span>&nbsp;<span class="ident" id="2159500"><a href="/syscall/zerrors_linux_amd64.go.html#2217286">ETIMEDOUT</a></span><br>
<span class="lineno"></span><span class="op" id="2159510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2159513">//&nbsp;A&nbsp;Signal&nbsp;is&nbsp;a&nbsp;number&nbsp;describing&nbsp;a&nbsp;process&nbsp;signal.</span><br>
<span class="lineno">120</span><span class="comment" id="2159566">//&nbsp;It&nbsp;implements&nbsp;the&nbsp;os.Signal&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2159608">type</span>&nbsp;<span class="ident" id="2159613">Signal</span>&nbsp;<span class="builtintype" id="2159620">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2159625">func</span>&nbsp;<span class="op" id="2159630">(</span><span class="ident" id="2159631">s</span>&nbsp;<span class="ident" id="2159633"><a href="/syscall/syscall_unix.go.html#2159613">Signal</a></span><span class="op" id="2159639">)</span>&nbsp;<span class="ident" id="2159641">Signal</span><span class="op" id="2159647">(</span><span class="op" id="2159648">)</span>&nbsp;<span class="op" id="2159650">{</span><span class="op" id="2159651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="2159654">func</span>&nbsp;<span class="op" id="2159659">(</span><span class="ident" id="2159660">s</span>&nbsp;<span class="ident" id="2159662"><a href="/syscall/syscall_unix.go.html#2159613">Signal</a></span><span class="op" id="2159668">)</span>&nbsp;<span class="ident" id="2159670">String</span><span class="op" id="2159676">(</span><span class="op" id="2159677">)</span>&nbsp;<span class="builtintype" id="2159679">string</span>&nbsp;<span class="op" id="2159686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159689">if</span>&nbsp;<span class="num" id="2159692">0</span>&nbsp;<span class="op" id="2159694">&lt;=</span>&nbsp;<span class="ident" id="2159697"><a href="/syscall/syscall_unix.go.html#2159660">s</a></span>&nbsp;<span class="op" id="2159699">&amp;&amp;</span>&nbsp;<span class="builtintype" id="2159702">int</span><span class="op" id="2159705">(</span><span class="ident" id="2159706"><a href="/syscall/syscall_unix.go.html#2159660">s</a></span><span class="op" id="2159707">)</span>&nbsp;<span class="op" id="2159709">&lt;</span>&nbsp;<span class="builtinfunc" id="2159711">len</span><span class="op" id="2159714">(</span><span class="ident" id="2159715"><a href="/syscall/zerrors_linux_amd64.go.html#2222794">signals</a></span><span class="op" id="2159722">)</span>&nbsp;<span class="op" id="2159724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2159728">str</span>&nbsp;<span class="op" id="2159732">:=</span>&nbsp;<span class="ident" id="2159735"><a href="/syscall/zerrors_linux_amd64.go.html#2222794">signals</a></span><span class="op" id="2159742">[</span><span class="ident" id="2159743"><a href="/syscall/syscall_unix.go.html#2159660">s</a></span><span class="op" id="2159744">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159748">if</span>&nbsp;<span class="ident" id="2159751"><a href="/syscall/syscall_unix.go.html#2159728">str</a></span>&nbsp;<span class="op" id="2159755">!=</span>&nbsp;<span class="string" id="2159758">&#34;&#34;</span>&nbsp;<span class="op" id="2159761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159766">return</span>&nbsp;<span class="ident" id="2159773"><a href="/syscall/syscall_unix.go.html#2159728">str</a></span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2159779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2159782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159785">return</span>&nbsp;<span class="string" id="2159792">&#34;signal&nbsp;&#34;</span>&nbsp;<span class="op" id="2159802">+</span>&nbsp;<span class="ident" id="2159804"><a href="/syscall/str.go.html#2121652">itoa</a></span><span class="op" id="2159808">(</span><span class="builtintype" id="2159809">int</span><span class="op" id="2159812">(</span><span class="ident" id="2159813"><a href="/syscall/syscall_unix.go.html#2159660">s</a></span><span class="op" id="2159814">)</span><span class="op" id="2159815">)</span><br>
<span class="lineno"></span><span class="op" id="2159817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="2159820">func</span>&nbsp;<span class="ident" id="2159825">Read</span><span class="op" id="2159829">(</span><span class="ident" id="2159830">fd</span>&nbsp;<span class="builtintype" id="2159833">int</span><span class="op" id="2159836">,</span>&nbsp;<span class="ident" id="2159838">p</span>&nbsp;<span class="op" id="2159840">[</span><span class="op" id="2159841">]</span><span class="builtintype" id="2159842">byte</span><span class="op" id="2159846">)</span>&nbsp;<span class="op" id="2159848">(</span><span class="ident" id="2159849">n</span>&nbsp;<span class="builtintype" id="2159851">int</span><span class="op" id="2159854">,</span>&nbsp;<span class="ident" id="2159856">err</span>&nbsp;<span class="builtintype" id="2159860">error</span><span class="op" id="2159865">)</span>&nbsp;<span class="op" id="2159867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2159870"><a href="/syscall/syscall_unix.go.html#2159849">n</a></span><span class="op" id="2159871">,</span>&nbsp;<span class="ident" id="2159873"><a href="/syscall/syscall_unix.go.html#2159856">err</a></span>&nbsp;<span class="op" id="2159877">=</span>&nbsp;<span class="ident" id="2159879"><a href="/syscall/zsyscall_linux_amd64.go.html#2243279">read</a></span><span class="op" id="2159883">(</span><span class="ident" id="2159884"><a href="/syscall/syscall_unix.go.html#2159830">fd</a></span><span class="op" id="2159886">,</span>&nbsp;<span class="ident" id="2159888"><a href="/syscall/syscall_unix.go.html#2159838">p</a></span><span class="op" id="2159889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159892">if</span>&nbsp;<span class="ident" id="2159895"><a href="/syscall/race0.go.html#2117210">raceenabled</a></span>&nbsp;<span class="op" id="2159907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159911">if</span>&nbsp;<span class="ident" id="2159914"><a href="/syscall/syscall_unix.go.html#2159849">n</a></span>&nbsp;<span class="op" id="2159916">&gt;</span>&nbsp;<span class="num" id="2159918">0</span>&nbsp;<span class="op" id="2159920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2159925"><a href="/syscall/race0.go.html#2117381">raceWriteRange</a></span><span class="op" id="2159939">(</span><span class="ident" id="2159940"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2159946">.</span><span class="ident" id="2159947">Pointer</span><span class="op" id="2159954">(</span><span class="op" id="2159955">&amp;</span><span class="ident" id="2159956"><a href="/syscall/syscall_unix.go.html#2159838">p</a></span><span class="op" id="2159957">[</span><span class="num" id="2159958">0</span><span class="op" id="2159959">]</span><span class="op" id="2159960">)</span><span class="op" id="2159961">,</span>&nbsp;<span class="ident" id="2159963"><a href="/syscall/syscall_unix.go.html#2159849">n</a></span><span class="op" id="2159964">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2159968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2159972">if</span>&nbsp;<span class="ident" id="2159975"><a href="/syscall/syscall_unix.go.html#2159856">err</a></span>&nbsp;<span class="op" id="2159979">==</span>&nbsp;<span class="ident" id="2159982">nil</span>&nbsp;<span class="op" id="2159986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2159991"><a href="/syscall/race0.go.html#2117236">raceAcquire</a></span><span class="op" id="2160002">(</span><span class="ident" id="2160003"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2160009">.</span><span class="ident" id="2160010">Pointer</span><span class="op" id="2160017">(</span><span class="op" id="2160018">&amp;</span><span class="ident" id="2160019"><a href="/syscall/syscall_unix.go.html#2163814">ioSync</a></span><span class="op" id="2160025">)</span><span class="op" id="2160026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2160030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2160033">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2160036">return</span><br>
<span class="lineno"></span><span class="op" id="2160043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2160046">func</span>&nbsp;<span class="ident" id="2160051">Write</span><span class="op" id="2160056">(</span><span class="ident" id="2160057">fd</span>&nbsp;<span class="builtintype" id="2160060">int</span><span class="op" id="2160063">,</span>&nbsp;<span class="ident" id="2160065">p</span>&nbsp;<span class="op" id="2160067">[</span><span class="op" id="2160068">]</span><span class="builtintype" id="2160069">byte</span><span class="op" id="2160073">)</span>&nbsp;<span class="op" id="2160075">(</span><span class="ident" id="2160076">n</span>&nbsp;<span class="builtintype" id="2160078">int</span><span class="op" id="2160081">,</span>&nbsp;<span class="ident" id="2160083">err</span>&nbsp;<span class="builtintype" id="2160087">error</span><span class="op" id="2160092">)</span>&nbsp;<span class="op" id="2160094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2160097">if</span>&nbsp;<span class="ident" id="2160100"><a href="/syscall/race0.go.html#2117210">raceenabled</a></span>&nbsp;<span class="op" id="2160112">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160116"><a href="/syscall/race0.go.html#2117279">raceReleaseMerge</a></span><span class="op" id="2160132">(</span><span class="ident" id="2160133"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2160139">.</span><span class="ident" id="2160140">Pointer</span><span class="op" id="2160147">(</span><span class="op" id="2160148">&amp;</span><span class="ident" id="2160149"><a href="/syscall/syscall_unix.go.html#2163814">ioSync</a></span><span class="op" id="2160155">)</span><span class="op" id="2160156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2160159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160162"><a href="/syscall/syscall_unix.go.html#2160076">n</a></span><span class="op" id="2160163">,</span>&nbsp;<span class="ident" id="2160165"><a href="/syscall/syscall_unix.go.html#2160083">err</a></span>&nbsp;<span class="op" id="2160169">=</span>&nbsp;<span class="ident" id="2160171"><a href="/syscall/zsyscall_linux_amd64.go.html#2251999">write</a></span><span class="op" id="2160176">(</span><span class="ident" id="2160177"><a href="/syscall/syscall_unix.go.html#2160057">fd</a></span><span class="op" id="2160179">,</span>&nbsp;<span class="ident" id="2160181"><a href="/syscall/syscall_unix.go.html#2160065">p</a></span><span class="op" id="2160182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2160185">if</span>&nbsp;<span class="ident" id="2160188"><a href="/syscall/race0.go.html#2117210">raceenabled</a></span>&nbsp;<span class="op" id="2160200">&amp;&amp;</span>&nbsp;<span class="ident" id="2160203"><a href="/syscall/syscall_unix.go.html#2160076">n</a></span>&nbsp;<span class="op" id="2160205">&gt;</span>&nbsp;<span class="num" id="2160207">0</span>&nbsp;<span class="op" id="2160209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160213"><a href="/syscall/race0.go.html#2117327">raceReadRange</a></span><span class="op" id="2160226">(</span><span class="ident" id="2160227"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2160233">.</span><span class="ident" id="2160234">Pointer</span><span class="op" id="2160241">(</span><span class="op" id="2160242">&amp;</span><span class="ident" id="2160243"><a href="/syscall/syscall_unix.go.html#2160065">p</a></span><span class="op" id="2160244">[</span><span class="num" id="2160245">0</span><span class="op" id="2160246">]</span><span class="op" id="2160247">)</span><span class="op" id="2160248">,</span>&nbsp;<span class="ident" id="2160250"><a href="/syscall/syscall_unix.go.html#2160076">n</a></span><span class="op" id="2160251">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2160254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2160257">return</span><br>
<span class="lineno"></span><span class="op" id="2160264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2160267">//&nbsp;For&nbsp;testing:&nbsp;clients&nbsp;can&nbsp;set&nbsp;this&nbsp;flag&nbsp;to&nbsp;force</span><br>
<span class="lineno">160</span><span class="comment" id="2160318">//&nbsp;creation&nbsp;of&nbsp;IPv6&nbsp;sockets&nbsp;to&nbsp;return&nbsp;EAFNOSUPPORT.</span><br>
<span class="lineno"></span><span class="keyword" id="2160370">var</span>&nbsp;<span class="ident" id="2160374">SocketDisableIPv6</span>&nbsp;<span class="builtintype" id="2160392">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2160398">type</span>&nbsp;<span class="ident" id="2160403">Sockaddr</span>&nbsp;<span class="keyword" id="2160412">interface</span>&nbsp;<span class="op" id="2160422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160425">sockaddr</span><span class="op" id="2160433">(</span><span class="op" id="2160434">)</span>&nbsp;<span class="op" id="2160436">(</span><span class="ident" id="2160437">ptr</span>&nbsp;<span class="ident" id="2160441"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2160447">.</span><span class="ident" id="2160448">Pointer</span><span class="op" id="2160455">,</span>&nbsp;<span class="builtinfunc" id="2160457">len</span>&nbsp;<span class="ident" id="2160461"><a href="/syscall/ztypes_linux_amd64.go.html#2282403">_Socklen</a></span><span class="op" id="2160469">,</span>&nbsp;<span class="ident" id="2160471">err</span>&nbsp;<span class="builtintype" id="2160475">error</span><span class="op" id="2160480">)</span>&nbsp;<span class="comment" id="2160482">//&nbsp;lowercase;&nbsp;only&nbsp;we&nbsp;can&nbsp;define&nbsp;Sockaddrs</span><br>
<span class="lineno">165</span><span class="op" id="2160525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2160528">type</span>&nbsp;<span class="ident" id="2160533">SockaddrInet4</span>&nbsp;<span class="keyword" id="2160547">struct</span>&nbsp;<span class="op" id="2160554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160557">Port</span>&nbsp;<span class="builtintype" id="2160562">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160567">Addr</span>&nbsp;<span class="op" id="2160572">[</span><span class="num" id="2160573">4</span><span class="op" id="2160574">]</span><span class="builtintype" id="2160575">byte</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160581">raw</span>&nbsp;&nbsp;<span class="ident" id="2160586"><a href="/syscall/ztypes_linux_amd64.go.html#2281712">RawSockaddrInet4</a></span><br>
<span class="lineno"></span><span class="op" id="2160603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2160606">type</span>&nbsp;<span class="ident" id="2160611">SockaddrInet6</span>&nbsp;<span class="keyword" id="2160625">struct</span>&nbsp;<span class="op" id="2160632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160635">Port</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2160642">int</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160647">ZoneId</span>&nbsp;<span class="builtintype" id="2160654">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160662">Addr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2160669">[</span><span class="num" id="2160670">16</span><span class="op" id="2160672">]</span><span class="builtintype" id="2160673">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160679">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2160686"><a href="/syscall/ztypes_linux_amd64.go.html#2281823">RawSockaddrInet6</a></span><br>
<span class="lineno"></span><span class="op" id="2160703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="2160706">type</span>&nbsp;<span class="ident" id="2160711">SockaddrUnix</span>&nbsp;<span class="keyword" id="2160724">struct</span>&nbsp;<span class="op" id="2160731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160734">Name</span>&nbsp;<span class="builtintype" id="2160739">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160747">raw</span>&nbsp;&nbsp;<span class="ident" id="2160752"><a href="/syscall/ztypes_linux_amd64.go.html#2281959">RawSockaddrUnix</a></span><br>
<span class="lineno"></span><span class="op" id="2160768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="2160771">func</span>&nbsp;<span class="ident" id="2160776">Bind</span><span class="op" id="2160780">(</span><span class="ident" id="2160781">fd</span>&nbsp;<span class="builtintype" id="2160784">int</span><span class="op" id="2160787">,</span>&nbsp;<span class="ident" id="2160789">sa</span>&nbsp;<span class="ident" id="2160792"><a href="/syscall/syscall_unix.go.html#2160403">Sockaddr</a></span><span class="op" id="2160800">)</span>&nbsp;<span class="op" id="2160802">(</span><span class="ident" id="2160803">err</span>&nbsp;<span class="builtintype" id="2160807">error</span><span class="op" id="2160812">)</span>&nbsp;<span class="op" id="2160814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160817">ptr</span><span class="op" id="2160820">,</span>&nbsp;<span class="ident" id="2160822">n</span><span class="op" id="2160823">,</span>&nbsp;<span class="ident" id="2160825"><a href="/syscall/syscall_unix.go.html#2160803">err</a></span>&nbsp;<span class="op" id="2160829">:=</span>&nbsp;<span class="ident" id="2160832"><a href="/syscall/syscall_unix.go.html#2160789">sa</a></span><span class="op" id="2160834">.</span><span class="ident" id="2160835">sockaddr</span><span class="op" id="2160843">(</span><span class="op" id="2160844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2160847">if</span>&nbsp;<span class="ident" id="2160850"><a href="/syscall/syscall_unix.go.html#2160803">err</a></span>&nbsp;<span class="op" id="2160854">!=</span>&nbsp;<span class="ident" id="2160857">nil</span>&nbsp;<span class="op" id="2160861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2160865">return</span>&nbsp;<span class="ident" id="2160872"><a href="/syscall/syscall_unix.go.html#2160803">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2160877">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2160880">return</span>&nbsp;<span class="ident" id="2160887"><a href="/syscall/zsyscall_linux_amd64.go.html#2264558">bind</a></span><span class="op" id="2160891">(</span><span class="ident" id="2160892"><a href="/syscall/syscall_unix.go.html#2160781">fd</a></span><span class="op" id="2160894">,</span>&nbsp;<span class="ident" id="2160896"><a href="/syscall/syscall_unix.go.html#2160817">ptr</a></span><span class="op" id="2160899">,</span>&nbsp;<span class="ident" id="2160901"><a href="/syscall/syscall_unix.go.html#2160822">n</a></span><span class="op" id="2160902">)</span><br>
<span class="lineno"></span><span class="op" id="2160904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2160907">func</span>&nbsp;<span class="ident" id="2160912">Connect</span><span class="op" id="2160919">(</span><span class="ident" id="2160920">fd</span>&nbsp;<span class="builtintype" id="2160923">int</span><span class="op" id="2160926">,</span>&nbsp;<span class="ident" id="2160928">sa</span>&nbsp;<span class="ident" id="2160931"><a href="/syscall/syscall_unix.go.html#2160403">Sockaddr</a></span><span class="op" id="2160939">)</span>&nbsp;<span class="op" id="2160941">(</span><span class="ident" id="2160942">err</span>&nbsp;<span class="builtintype" id="2160946">error</span><span class="op" id="2160951">)</span>&nbsp;<span class="op" id="2160953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2160956">ptr</span><span class="op" id="2160959">,</span>&nbsp;<span class="ident" id="2160961">n</span><span class="op" id="2160962">,</span>&nbsp;<span class="ident" id="2160964"><a href="/syscall/syscall_unix.go.html#2160942">err</a></span>&nbsp;<span class="op" id="2160968">:=</span>&nbsp;<span class="ident" id="2160971"><a href="/syscall/syscall_unix.go.html#2160928">sa</a></span><span class="op" id="2160973">.</span><span class="ident" id="2160974">sockaddr</span><span class="op" id="2160982">(</span><span class="op" id="2160983">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2160986">if</span>&nbsp;<span class="ident" id="2160989"><a href="/syscall/syscall_unix.go.html#2160942">err</a></span>&nbsp;<span class="op" id="2160993">!=</span>&nbsp;<span class="ident" id="2160996">nil</span>&nbsp;<span class="op" id="2161000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161004">return</span>&nbsp;<span class="ident" id="2161011"><a href="/syscall/syscall_unix.go.html#2160942">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2161016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161019">return</span>&nbsp;<span class="ident" id="2161026"><a href="/syscall/zsyscall_linux_amd64.go.html#2264809">connect</a></span><span class="op" id="2161033">(</span><span class="ident" id="2161034"><a href="/syscall/syscall_unix.go.html#2160920">fd</a></span><span class="op" id="2161036">,</span>&nbsp;<span class="ident" id="2161038"><a href="/syscall/syscall_unix.go.html#2160956">ptr</a></span><span class="op" id="2161041">,</span>&nbsp;<span class="ident" id="2161043"><a href="/syscall/syscall_unix.go.html#2160961">n</a></span><span class="op" id="2161044">)</span><br>
<span class="lineno"></span><span class="op" id="2161046">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="2161049">func</span>&nbsp;<span class="ident" id="2161054">Getpeername</span><span class="op" id="2161065">(</span><span class="ident" id="2161066">fd</span>&nbsp;<span class="builtintype" id="2161069">int</span><span class="op" id="2161072">)</span>&nbsp;<span class="op" id="2161074">(</span><span class="ident" id="2161075">sa</span>&nbsp;<span class="ident" id="2161078"><a href="/syscall/syscall_unix.go.html#2160403">Sockaddr</a></span><span class="op" id="2161086">,</span>&nbsp;<span class="ident" id="2161088">err</span>&nbsp;<span class="builtintype" id="2161092">error</span><span class="op" id="2161097">)</span>&nbsp;<span class="op" id="2161099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161102">var</span>&nbsp;<span class="ident" id="2161106">rsa</span>&nbsp;<span class="ident" id="2161110"><a href="/syscall/ztypes_linux_amd64.go.html#2282338">RawSockaddrAny</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161126">var</span>&nbsp;<span class="builtinfunc" id="2161130">len</span>&nbsp;<span class="ident" id="2161134"><a href="/syscall/ztypes_linux_amd64.go.html#2282403">_Socklen</a></span>&nbsp;<span class="op" id="2161143">=</span>&nbsp;<span class="ident" id="2161145"><a href="/syscall/ztypes_linux_amd64.go.html#2284264">SizeofSockaddrAny</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161164">if</span>&nbsp;<span class="ident" id="2161167"><a href="/syscall/syscall_unix.go.html#2161088">err</a></span>&nbsp;<span class="op" id="2161171">=</span>&nbsp;<span class="ident" id="2161173"><a href="/syscall/zsyscall_linux_amd64.go.html#2266788">getpeername</a></span><span class="op" id="2161184">(</span><span class="ident" id="2161185"><a href="/syscall/syscall_unix.go.html#2161066">fd</a></span><span class="op" id="2161187">,</span>&nbsp;<span class="op" id="2161189">&amp;</span><span class="ident" id="2161190"><a href="/syscall/syscall_unix.go.html#2161106">rsa</a></span><span class="op" id="2161193">,</span>&nbsp;<span class="op" id="2161195">&amp;</span><span class="builtinfunc" id="2161196"><a href="/syscall/syscall_unix.go.html#2161130">len</a></span><span class="op" id="2161199">)</span><span class="op" id="2161200">;</span>&nbsp;<span class="ident" id="2161202"><a href="/syscall/syscall_unix.go.html#2161088">err</a></span>&nbsp;<span class="op" id="2161206">!=</span>&nbsp;<span class="ident" id="2161209">nil</span>&nbsp;<span class="op" id="2161213">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161217">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2161225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161228">return</span>&nbsp;<span class="ident" id="2161235"><a href="/syscall/syscall_linux.go.html#2133044">anyToSockaddr</a></span><span class="op" id="2161248">(</span><span class="op" id="2161249">&amp;</span><span class="ident" id="2161250"><a href="/syscall/syscall_unix.go.html#2161106">rsa</a></span><span class="op" id="2161253">)</span><br>
<span class="lineno"></span><span class="op" id="2161255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="2161258">func</span>&nbsp;<span class="ident" id="2161263">GetsockoptInt</span><span class="op" id="2161276">(</span><span class="ident" id="2161277">fd</span><span class="op" id="2161279">,</span>&nbsp;<span class="ident" id="2161281">level</span><span class="op" id="2161286">,</span>&nbsp;<span class="ident" id="2161288">opt</span>&nbsp;<span class="builtintype" id="2161292">int</span><span class="op" id="2161295">)</span>&nbsp;<span class="op" id="2161297">(</span><span class="ident" id="2161298">value</span>&nbsp;<span class="builtintype" id="2161304">int</span><span class="op" id="2161307">,</span>&nbsp;<span class="ident" id="2161309">err</span>&nbsp;<span class="builtintype" id="2161313">error</span><span class="op" id="2161318">)</span>&nbsp;<span class="op" id="2161320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161323">var</span>&nbsp;<span class="ident" id="2161327">n</span>&nbsp;<span class="builtintype" id="2161329">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2161336">vallen</span>&nbsp;<span class="op" id="2161343">:=</span>&nbsp;<span class="ident" id="2161346"><a href="/syscall/ztypes_linux_amd64.go.html#2282403">_Socklen</a></span><span class="op" id="2161354">(</span><span class="num" id="2161355">4</span><span class="op" id="2161356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2161359"><a href="/syscall/syscall_unix.go.html#2161309">err</a></span>&nbsp;<span class="op" id="2161363">=</span>&nbsp;<span class="ident" id="2161365"><a href="/syscall/zsyscall_linux_amd64.go.html#2265569">getsockopt</a></span><span class="op" id="2161375">(</span><span class="ident" id="2161376"><a href="/syscall/syscall_unix.go.html#2161277">fd</a></span><span class="op" id="2161378">,</span>&nbsp;<span class="ident" id="2161380"><a href="/syscall/syscall_unix.go.html#2161281">level</a></span><span class="op" id="2161385">,</span>&nbsp;<span class="ident" id="2161387"><a href="/syscall/syscall_unix.go.html#2161288">opt</a></span><span class="op" id="2161390">,</span>&nbsp;<span class="ident" id="2161392"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2161398">.</span><span class="ident" id="2161399">Pointer</span><span class="op" id="2161406">(</span><span class="op" id="2161407">&amp;</span><span class="ident" id="2161408"><a href="/syscall/syscall_unix.go.html#2161327">n</a></span><span class="op" id="2161409">)</span><span class="op" id="2161410">,</span>&nbsp;<span class="op" id="2161412">&amp;</span><span class="ident" id="2161413"><a href="/syscall/syscall_unix.go.html#2161336">vallen</a></span><span class="op" id="2161419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161422">return</span>&nbsp;<span class="builtintype" id="2161429">int</span><span class="op" id="2161432">(</span><span class="ident" id="2161433"><a href="/syscall/syscall_unix.go.html#2161327">n</a></span><span class="op" id="2161434">)</span><span class="op" id="2161435">,</span>&nbsp;<span class="ident" id="2161437"><a href="/syscall/syscall_unix.go.html#2161309">err</a></span><br>
<span class="lineno">215</span><span class="op" id="2161441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2161444">func</span>&nbsp;<span class="ident" id="2161449">Recvfrom</span><span class="op" id="2161457">(</span><span class="ident" id="2161458">fd</span>&nbsp;<span class="builtintype" id="2161461">int</span><span class="op" id="2161464">,</span>&nbsp;<span class="ident" id="2161466">p</span>&nbsp;<span class="op" id="2161468">[</span><span class="op" id="2161469">]</span><span class="builtintype" id="2161470">byte</span><span class="op" id="2161474">,</span>&nbsp;<span class="ident" id="2161476">flags</span>&nbsp;<span class="builtintype" id="2161482">int</span><span class="op" id="2161485">)</span>&nbsp;<span class="op" id="2161487">(</span><span class="ident" id="2161488">n</span>&nbsp;<span class="builtintype" id="2161490">int</span><span class="op" id="2161493">,</span>&nbsp;<span class="ident" id="2161495">from</span>&nbsp;<span class="ident" id="2161500"><a href="/syscall/syscall_unix.go.html#2160403">Sockaddr</a></span><span class="op" id="2161508">,</span>&nbsp;<span class="ident" id="2161510">err</span>&nbsp;<span class="builtintype" id="2161514">error</span><span class="op" id="2161519">)</span>&nbsp;<span class="op" id="2161521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161524">var</span>&nbsp;<span class="ident" id="2161528">rsa</span>&nbsp;<span class="ident" id="2161532"><a href="/syscall/ztypes_linux_amd64.go.html#2282338">RawSockaddrAny</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161548">var</span>&nbsp;<span class="builtinfunc" id="2161552">len</span>&nbsp;<span class="ident" id="2161556"><a href="/syscall/ztypes_linux_amd64.go.html#2282403">_Socklen</a></span>&nbsp;<span class="op" id="2161565">=</span>&nbsp;<span class="ident" id="2161567"><a href="/syscall/ztypes_linux_amd64.go.html#2284264">SizeofSockaddrAny</a></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161586">if</span>&nbsp;<span class="ident" id="2161589"><a href="/syscall/syscall_unix.go.html#2161488">n</a></span><span class="op" id="2161590">,</span>&nbsp;<span class="ident" id="2161592"><a href="/syscall/syscall_unix.go.html#2161510">err</a></span>&nbsp;<span class="op" id="2161596">=</span>&nbsp;<span class="ident" id="2161598"><a href="/syscall/zsyscall_linux_amd64.go.html#2267392">recvfrom</a></span><span class="op" id="2161606">(</span><span class="ident" id="2161607"><a href="/syscall/syscall_unix.go.html#2161458">fd</a></span><span class="op" id="2161609">,</span>&nbsp;<span class="ident" id="2161611"><a href="/syscall/syscall_unix.go.html#2161466">p</a></span><span class="op" id="2161612">,</span>&nbsp;<span class="ident" id="2161614"><a href="/syscall/syscall_unix.go.html#2161476">flags</a></span><span class="op" id="2161619">,</span>&nbsp;<span class="op" id="2161621">&amp;</span><span class="ident" id="2161622"><a href="/syscall/syscall_unix.go.html#2161528">rsa</a></span><span class="op" id="2161625">,</span>&nbsp;<span class="op" id="2161627">&amp;</span><span class="builtinfunc" id="2161628"><a href="/syscall/syscall_unix.go.html#2161552">len</a></span><span class="op" id="2161631">)</span><span class="op" id="2161632">;</span>&nbsp;<span class="ident" id="2161634"><a href="/syscall/syscall_unix.go.html#2161510">err</a></span>&nbsp;<span class="op" id="2161638">!=</span>&nbsp;<span class="ident" id="2161641">nil</span>&nbsp;<span class="op" id="2161645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161649">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2161657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161660">if</span>&nbsp;<span class="ident" id="2161663"><a href="/syscall/syscall_unix.go.html#2161528">rsa</a></span><span class="op" id="2161666">.</span><span class="ident" id="2161667">Addr</span><span class="op" id="2161671">.</span><span class="ident" id="2161672">Family</span>&nbsp;<span class="op" id="2161679">!=</span>&nbsp;<span class="ident" id="2161682"><a href="/syscall/zerrors_linux_amd64.go.html#2165546">AF_UNSPEC</a></span>&nbsp;<span class="op" id="2161692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2161696"><a href="/syscall/syscall_unix.go.html#2161495">from</a></span><span class="op" id="2161700">,</span>&nbsp;<span class="ident" id="2161702"><a href="/syscall/syscall_unix.go.html#2161510">err</a></span>&nbsp;<span class="op" id="2161706">=</span>&nbsp;<span class="ident" id="2161708"><a href="/syscall/syscall_linux.go.html#2133044">anyToSockaddr</a></span><span class="op" id="2161721">(</span><span class="op" id="2161722">&amp;</span><span class="ident" id="2161723"><a href="/syscall/syscall_unix.go.html#2161528">rsa</a></span><span class="op" id="2161726">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2161729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161732">return</span><br>
<span class="lineno"></span><span class="op" id="2161739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2161742">func</span>&nbsp;<span class="ident" id="2161747">Sendto</span><span class="op" id="2161753">(</span><span class="ident" id="2161754">fd</span>&nbsp;<span class="builtintype" id="2161757">int</span><span class="op" id="2161760">,</span>&nbsp;<span class="ident" id="2161762">p</span>&nbsp;<span class="op" id="2161764">[</span><span class="op" id="2161765">]</span><span class="builtintype" id="2161766">byte</span><span class="op" id="2161770">,</span>&nbsp;<span class="ident" id="2161772">flags</span>&nbsp;<span class="builtintype" id="2161778">int</span><span class="op" id="2161781">,</span>&nbsp;<span class="ident" id="2161783">to</span>&nbsp;<span class="ident" id="2161786"><a href="/syscall/syscall_unix.go.html#2160403">Sockaddr</a></span><span class="op" id="2161794">)</span>&nbsp;<span class="op" id="2161796">(</span><span class="ident" id="2161797">err</span>&nbsp;<span class="builtintype" id="2161801">error</span><span class="op" id="2161806">)</span>&nbsp;<span class="op" id="2161808">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2161811">ptr</span><span class="op" id="2161814">,</span>&nbsp;<span class="ident" id="2161816">n</span><span class="op" id="2161817">,</span>&nbsp;<span class="ident" id="2161819"><a href="/syscall/syscall_unix.go.html#2161797">err</a></span>&nbsp;<span class="op" id="2161823">:=</span>&nbsp;<span class="ident" id="2161826"><a href="/syscall/syscall_unix.go.html#2161783">to</a></span><span class="op" id="2161828">.</span><span class="ident" id="2161829">sockaddr</span><span class="op" id="2161837">(</span><span class="op" id="2161838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161841">if</span>&nbsp;<span class="ident" id="2161844"><a href="/syscall/syscall_unix.go.html#2161797">err</a></span>&nbsp;<span class="op" id="2161848">!=</span>&nbsp;<span class="ident" id="2161851">nil</span>&nbsp;<span class="op" id="2161855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161859">return</span>&nbsp;<span class="ident" id="2161866"><a href="/syscall/syscall_unix.go.html#2161797">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2161871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161874">return</span>&nbsp;<span class="ident" id="2161881"><a href="/syscall/zsyscall_linux_amd64.go.html#2267892">sendto</a></span><span class="op" id="2161887">(</span><span class="ident" id="2161888"><a href="/syscall/syscall_unix.go.html#2161754">fd</a></span><span class="op" id="2161890">,</span>&nbsp;<span class="ident" id="2161892"><a href="/syscall/syscall_unix.go.html#2161762">p</a></span><span class="op" id="2161893">,</span>&nbsp;<span class="ident" id="2161895"><a href="/syscall/syscall_unix.go.html#2161772">flags</a></span><span class="op" id="2161900">,</span>&nbsp;<span class="ident" id="2161902"><a href="/syscall/syscall_unix.go.html#2161811">ptr</a></span><span class="op" id="2161905">,</span>&nbsp;<span class="ident" id="2161907"><a href="/syscall/syscall_unix.go.html#2161816">n</a></span><span class="op" id="2161908">)</span><br>
<span class="lineno">235</span><span class="op" id="2161910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2161913">func</span>&nbsp;<span class="ident" id="2161918">SetsockoptByte</span><span class="op" id="2161932">(</span><span class="ident" id="2161933">fd</span><span class="op" id="2161935">,</span>&nbsp;<span class="ident" id="2161937">level</span><span class="op" id="2161942">,</span>&nbsp;<span class="ident" id="2161944">opt</span>&nbsp;<span class="builtintype" id="2161948">int</span><span class="op" id="2161951">,</span>&nbsp;<span class="ident" id="2161953">value</span>&nbsp;<span class="builtintype" id="2161959">byte</span><span class="op" id="2161963">)</span>&nbsp;<span class="op" id="2161965">(</span><span class="ident" id="2161966">err</span>&nbsp;<span class="builtintype" id="2161970">error</span><span class="op" id="2161975">)</span>&nbsp;<span class="op" id="2161977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2161980">return</span>&nbsp;<span class="ident" id="2161987"><a href="/syscall/zsyscall_linux_amd64.go.html#2265901">setsockopt</a></span><span class="op" id="2161997">(</span><span class="ident" id="2161998"><a href="/syscall/syscall_unix.go.html#2161933">fd</a></span><span class="op" id="2162000">,</span>&nbsp;<span class="ident" id="2162002"><a href="/syscall/syscall_unix.go.html#2161937">level</a></span><span class="op" id="2162007">,</span>&nbsp;<span class="ident" id="2162009"><a href="/syscall/syscall_unix.go.html#2161944">opt</a></span><span class="op" id="2162012">,</span>&nbsp;<span class="ident" id="2162014"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2162020">.</span><span class="ident" id="2162021">Pointer</span><span class="op" id="2162028">(</span><span class="op" id="2162029">&amp;</span><span class="ident" id="2162030"><a href="/syscall/syscall_unix.go.html#2161953">value</a></span><span class="op" id="2162035">)</span><span class="op" id="2162036">,</span>&nbsp;<span class="num" id="2162038">1</span><span class="op" id="2162039">)</span><br>
<span class="lineno"></span><span class="op" id="2162041">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span><span class="keyword" id="2162044">func</span>&nbsp;<span class="ident" id="2162049">SetsockoptInt</span><span class="op" id="2162062">(</span><span class="ident" id="2162063">fd</span><span class="op" id="2162065">,</span>&nbsp;<span class="ident" id="2162067">level</span><span class="op" id="2162072">,</span>&nbsp;<span class="ident" id="2162074">opt</span>&nbsp;<span class="builtintype" id="2162078">int</span><span class="op" id="2162081">,</span>&nbsp;<span class="ident" id="2162083">value</span>&nbsp;<span class="builtintype" id="2162089">int</span><span class="op" id="2162092">)</span>&nbsp;<span class="op" id="2162094">(</span><span class="ident" id="2162095">err</span>&nbsp;<span class="builtintype" id="2162099">error</span><span class="op" id="2162104">)</span>&nbsp;<span class="op" id="2162106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2162109">var</span>&nbsp;<span class="ident" id="2162113">n</span>&nbsp;<span class="op" id="2162115">=</span>&nbsp;<span class="builtintype" id="2162117">int32</span><span class="op" id="2162122">(</span><span class="ident" id="2162123"><a href="/syscall/syscall_unix.go.html#2162083">value</a></span><span class="op" id="2162128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2162131">return</span>&nbsp;<span class="ident" id="2162138"><a href="/syscall/zsyscall_linux_amd64.go.html#2265901">setsockopt</a></span><span class="op" id="2162148">(</span><span class="ident" id="2162149"><a href="/syscall/syscall_unix.go.html#2162063">fd</a></span><span class="op" id="2162151">,</span>&nbsp;<span class="ident" id="2162153"><a href="/syscall/syscall_unix.go.html#2162067">level</a></span><span class="op" id="2162158">,</span>&nbsp;<span class="ident" id="2162160"><a href="/syscall/syscall_unix.go.html#2162074">opt</a></span><span class="op" id="2162163">,</span>&nbsp;<span class="ident" id="2162165"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2162171">.</span><span class="ident" id="2162172">Pointer</span><span class="op" id="2162179">(</span><span class="op" id="2162180">&amp;</span><span class="ident" id="2162181"><a href="/syscall/syscall_unix.go.html#2162113">n</a></span><span class="op" id="2162182">)</span><span class="op" id="2162183">,</span>&nbsp;<span class="num" id="2162185">4</span><span class="op" id="2162186">)</span><br>
<span class="lineno"></span><span class="op" id="2162188">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="2162191">func</span>&nbsp;<span class="ident" id="2162196">SetsockoptInet4Addr</span><span class="op" id="2162215">(</span><span class="ident" id="2162216">fd</span><span class="op" id="2162218">,</span>&nbsp;<span class="ident" id="2162220">level</span><span class="op" id="2162225">,</span>&nbsp;<span class="ident" id="2162227">opt</span>&nbsp;<span class="builtintype" id="2162231">int</span><span class="op" id="2162234">,</span>&nbsp;<span class="ident" id="2162236">value</span>&nbsp;<span class="op" id="2162242">[</span><span class="num" id="2162243">4</span><span class="op" id="2162244">]</span><span class="builtintype" id="2162245">byte</span><span class="op" id="2162249">)</span>&nbsp;<span class="op" id="2162251">(</span><span class="ident" id="2162252">err</span>&nbsp;<span class="builtintype" id="2162256">error</span><span class="op" id="2162261">)</span>&nbsp;<span class="op" id="2162263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2162266">return</span>&nbsp;<span class="ident" id="2162273"><a href="/syscall/zsyscall_linux_amd64.go.html#2265901">setsockopt</a></span><span class="op" id="2162283">(</span><span class="ident" id="2162284"><a href="/syscall/syscall_unix.go.html#2162216">fd</a></span><span class="op" id="2162286">,</span>&nbsp;<span class="ident" id="2162288"><a href="/syscall/syscall_unix.go.html#2162220">level</a></span><span class="op" id="2162293">,</span>&nbsp;<span class="ident" id="2162295"><a href="/syscall/syscall_unix.go.html#2162227">opt</a></span><span class="op" id="2162298">,</span>&nbsp;<span class="ident" id="2162300"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2162306">.</span><span class="ident" id="2162307">Pointer</span><span class="op" id="2162314">(</span><span class="op" id="2162315">&amp;</span><span class="ident" id="2162316"><a href="/syscall/syscall_unix.go.html#2162236">value</a></span><span class="op" id="2162321">[</span><span class="num" id="2162322">0</span><span class="op" id="2162323">]</span><span class="op" id="2162324">)</span><span class="op" id="2162325">,</span>&nbsp;<span class="num" id="2162327">4</span><span class="op" id="2162328">)</span><br>
<span class="lineno"></span><span class="op" id="2162330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="2162333">func</span>&nbsp;<span class="ident" id="2162338">SetsockoptIPMreq</span><span class="op" id="2162354">(</span><span class="ident" id="2162355">fd</span><span class="op" id="2162357">,</span>&nbsp;<span class="ident" id="2162359">level</span><span class="op" id="2162364">,</span>&nbsp;<span class="ident" id="2162366">opt</span>&nbsp;<span class="builtintype" id="2162370">int</span><span class="op" id="2162373">,</span>&nbsp;<span class="ident" id="2162375">mreq</span>&nbsp;<span class="op" id="2162380">*</span><span class="ident" id="2162381"><a href="/syscall/ztypes_linux_amd64.go.html#2282525">IPMreq</a></span><span class="op" id="2162387">)</span>&nbsp;<span class="op" id="2162389">(</span><span class="ident" id="2162390">err</span>&nbsp;<span class="builtintype" id="2162394">error</span><span class="op" id="2162399">)</span>&nbsp;<span class="op" id="2162401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2162404">return</span>&nbsp;<span class="ident" id="2162411"><a href="/syscall/zsyscall_linux_amd64.go.html#2265901">setsockopt</a></span><span class="op" id="2162421">(</span><span class="ident" id="2162422"><a href="/syscall/syscall_unix.go.html#2162355">fd</a></span><span class="op" id="2162424">,</span>&nbsp;<span class="ident" id="2162426"><a href="/syscall/syscall_unix.go.html#2162359">level</a></span><span class="op" id="2162431">,</span>&nbsp;<span class="ident" id="2162433"><a href="/syscall/syscall_unix.go.html#2162366">opt</a></span><span class="op" id="2162436">,</span>&nbsp;<span class="ident" id="2162438"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2162444">.</span><span class="ident" id="2162445">Pointer</span><span class="op" id="2162452">(</span><span class="ident" id="2162453"><a href="/syscall/syscall_unix.go.html#2162375">mreq</a></span><span class="op" id="2162457">)</span><span class="op" id="2162458">,</span>&nbsp;<span class="ident" id="2162460"><a href="/syscall/ztypes_linux_amd64.go.html#2284422">SizeofIPMreq</a></span><span class="op" id="2162472">)</span><br>
<span class="lineno"></span><span class="op" id="2162474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2162477">func</span>&nbsp;<span class="ident" id="2162482">SetsockoptIPv6Mreq</span><span class="op" id="2162500">(</span><span class="ident" id="2162501">fd</span><span class="op" id="2162503">,</span>&nbsp;<span class="ident" id="2162505">level</span><span class="op" id="2162510">,</span>&nbsp;<span class="ident" id="2162512">opt</span>&nbsp;<span class="builtintype" id="2162516">int</span><span class="op" id="2162519">,</span>&nbsp;<span class="ident" id="2162521">mreq</span>&nbsp;<span class="op" id="2162526">*</span><span class="ident" id="2162527"><a href="/syscall/ztypes_linux_amd64.go.html#2282723">IPv6Mreq</a></span><span class="op" id="2162535">)</span>&nbsp;<span class="op" id="2162537">(</span><span class="ident" id="2162538">err</span>&nbsp;<span class="builtintype" id="2162542">error</span><span class="op" id="2162547">)</span>&nbsp;<span class="op" id="2162549">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2162552">return</span>&nbsp;<span class="ident" id="2162559"><a href="/syscall/zsyscall_linux_amd64.go.html#2265901">setsockopt</a></span><span class="op" id="2162569">(</span><span class="ident" id="2162570"><a href="/syscall/syscall_unix.go.html#2162501">fd</a></span><span class="op" id="2162572">,</span>&nbsp;<span class="ident" id="2162574"><a href="/syscall/syscall_unix.go.html#2162505">level</a></span><span class="op" id="2162579">,</span>&nbsp;<span class="ident" id="2162581"><a href="/syscall/syscall_unix.go.html#2162512">opt</a></span><span class="op" id="2162584">,</span>&nbsp;<span class="ident" id="2162586"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2162592">.</span><span class="ident" id="2162593">Pointer</span><span class="op" id="2162600">(</span><span class="ident" id="2162601"><a href="/syscall/syscall_unix.go.html#2162521">mreq</a></span><span class="op" id="2162605">)</span><span class="op" id="2162606">,</span>&nbsp;<span class="ident" id="2162608"><a href="/syscall/ztypes_linux_amd64.go.html#2284484">SizeofIPv6Mreq</a></span><span class="op" id="2162622">)</span><br>
<span class="lineno"></span><span class="op" id="2162624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2162627">func</span>&nbsp;<span class="ident" id="2162632">SetsockoptICMPv6Filter</span><span class="op" id="2162654">(</span><span class="ident" id="2162655">fd</span><span class="op" id="2162657">,</span>&nbsp;<span class="ident" id="2162659">level</span><span class="op" id="2162664">,</span>&nbsp;<span class="ident" id="2162666">opt</span>&nbsp;<span class="builtintype" id="2162670">int</span><span class="op" id="2162673">,</span>&nbsp;<span class="ident" id="2162675">filter</span>&nbsp;<span class="op" id="2162682">*</span><span class="ident" id="2162683"><a href="/syscall/ztypes_linux_amd64.go.html#2283359">ICMPv6Filter</a></span><span class="op" id="2162695">)</span>&nbsp;<span class="builtintype" id="2162697">error</span>&nbsp;<span class="op" id="2162703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2162706">return</span>&nbsp;<span class="ident" id="2162713"><a href="/syscall/zsyscall_linux_amd64.go.html#2265901">setsockopt</a></span><span class="op" id="2162723">(</span><span class="ident" id="2162724"><a href="/syscall/syscall_unix.go.html#2162655">fd</a></span><span class="op" id="2162726">,</span>&nbsp;<span class="ident" id="2162728"><a href="/syscall/syscall_unix.go.html#2162659">level</a></span><span class="op" id="2162733">,</span>&nbsp;<span class="ident" id="2162735"><a href="/syscall/syscall_unix.go.html#2162666">opt</a></span><span class="op" id="2162738">,</span>&nbsp;<span class="ident" id="2162740"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2162746">.</span><span class="ident" id="2162747">Pointer</span><span class="op" id="2162754">(</span><span class="ident" id="2162755"><a href="/syscall/syscall_unix.go.html#2162675">filter</a></span><span class="op" id="2162761">)</span><span class="op" id="2162762">,</span>&nbsp;<span class="ident" id="2162764"><a href="/syscall/ztypes_linux_amd64.go.html#2284675">SizeofICMPv6Filter</a></span><span class="op" id="2162782">)</span><br>
<span class="lineno">260</span><span class="op" id="2162784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2162787">func</span>&nbsp;<span class="ident" id="2162792">SetsockoptLinger</span><span class="op" id="2162808">(</span><span class="ident" id="2162809">fd</span><span class="op" id="2162811">,</span>&nbsp;<span class="ident" id="2162813">level</span><span class="op" id="2162818">,</span>&nbsp;<span class="ident" id="2162820">opt</span>&nbsp;<span class="builtintype" id="2162824">int</span><span class="op" id="2162827">,</span>&nbsp;<span class="ident" id="2162829">l</span>&nbsp;<span class="op" id="2162831">*</span><span class="ident" id="2162832"><a href="/syscall/ztypes_linux_amd64.go.html#2282425">Linger</a></span><span class="op" id="2162838">)</span>&nbsp;<span class="op" id="2162840">(</span><span class="ident" id="2162841">err</span>&nbsp;<span class="builtintype" id="2162845">error</span><span class="op" id="2162850">)</span>&nbsp;<span class="op" id="2162852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2162855">return</span>&nbsp;<span class="ident" id="2162862"><a href="/syscall/zsyscall_linux_amd64.go.html#2265901">setsockopt</a></span><span class="op" id="2162872">(</span><span class="ident" id="2162873"><a href="/syscall/syscall_unix.go.html#2162809">fd</a></span><span class="op" id="2162875">,</span>&nbsp;<span class="ident" id="2162877"><a href="/syscall/syscall_unix.go.html#2162813">level</a></span><span class="op" id="2162882">,</span>&nbsp;<span class="ident" id="2162884"><a href="/syscall/syscall_unix.go.html#2162820">opt</a></span><span class="op" id="2162887">,</span>&nbsp;<span class="ident" id="2162889"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2162895">.</span><span class="ident" id="2162896">Pointer</span><span class="op" id="2162903">(</span><span class="ident" id="2162904"><a href="/syscall/syscall_unix.go.html#2162829">l</a></span><span class="op" id="2162905">)</span><span class="op" id="2162906">,</span>&nbsp;<span class="ident" id="2162908"><a href="/syscall/ztypes_linux_amd64.go.html#2284391">SizeofLinger</a></span><span class="op" id="2162920">)</span><br>
<span class="lineno"></span><span class="op" id="2162922">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="2162925">func</span>&nbsp;<span class="ident" id="2162930">SetsockoptString</span><span class="op" id="2162946">(</span><span class="ident" id="2162947">fd</span><span class="op" id="2162949">,</span>&nbsp;<span class="ident" id="2162951">level</span><span class="op" id="2162956">,</span>&nbsp;<span class="ident" id="2162958">opt</span>&nbsp;<span class="builtintype" id="2162962">int</span><span class="op" id="2162965">,</span>&nbsp;<span class="ident" id="2162967">s</span>&nbsp;<span class="builtintype" id="2162969">string</span><span class="op" id="2162975">)</span>&nbsp;<span class="op" id="2162977">(</span><span class="ident" id="2162978">err</span>&nbsp;<span class="builtintype" id="2162982">error</span><span class="op" id="2162987">)</span>&nbsp;<span class="op" id="2162989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2162992">return</span>&nbsp;<span class="ident" id="2162999"><a href="/syscall/zsyscall_linux_amd64.go.html#2265901">setsockopt</a></span><span class="op" id="2163009">(</span><span class="ident" id="2163010"><a href="/syscall/syscall_unix.go.html#2162947">fd</a></span><span class="op" id="2163012">,</span>&nbsp;<span class="ident" id="2163014"><a href="/syscall/syscall_unix.go.html#2162951">level</a></span><span class="op" id="2163019">,</span>&nbsp;<span class="ident" id="2163021"><a href="/syscall/syscall_unix.go.html#2162958">opt</a></span><span class="op" id="2163024">,</span>&nbsp;<span class="ident" id="2163026"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2163032">.</span><span class="ident" id="2163033">Pointer</span><span class="op" id="2163040">(</span><span class="op" id="2163041">&amp;</span><span class="op" id="2163042">[</span><span class="op" id="2163043">]</span><span class="builtintype" id="2163044">byte</span><span class="op" id="2163048">(</span><span class="ident" id="2163049"><a href="/syscall/syscall_unix.go.html#2162967">s</a></span><span class="op" id="2163050">)</span><span class="op" id="2163051">[</span><span class="num" id="2163052">0</span><span class="op" id="2163053">]</span><span class="op" id="2163054">)</span><span class="op" id="2163055">,</span>&nbsp;<span class="builtintype" id="2163057">uintptr</span><span class="op" id="2163064">(</span><span class="builtinfunc" id="2163065">len</span><span class="op" id="2163068">(</span><span class="ident" id="2163069"><a href="/syscall/syscall_unix.go.html#2162967">s</a></span><span class="op" id="2163070">)</span><span class="op" id="2163071">)</span><span class="op" id="2163072">)</span><br>
<span class="lineno"></span><span class="op" id="2163074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="2163077">func</span>&nbsp;<span class="ident" id="2163082">SetsockoptTimeval</span><span class="op" id="2163099">(</span><span class="ident" id="2163100">fd</span><span class="op" id="2163102">,</span>&nbsp;<span class="ident" id="2163104">level</span><span class="op" id="2163109">,</span>&nbsp;<span class="ident" id="2163111">opt</span>&nbsp;<span class="builtintype" id="2163115">int</span><span class="op" id="2163118">,</span>&nbsp;<span class="ident" id="2163120">tv</span>&nbsp;<span class="op" id="2163123">*</span><span class="ident" id="2163124"><a href="/syscall/ztypes_linux_amd64.go.html#2279885">Timeval</a></span><span class="op" id="2163131">)</span>&nbsp;<span class="op" id="2163133">(</span><span class="ident" id="2163134">err</span>&nbsp;<span class="builtintype" id="2163138">error</span><span class="op" id="2163143">)</span>&nbsp;<span class="op" id="2163145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2163148">return</span>&nbsp;<span class="ident" id="2163155"><a href="/syscall/zsyscall_linux_amd64.go.html#2265901">setsockopt</a></span><span class="op" id="2163165">(</span><span class="ident" id="2163166"><a href="/syscall/syscall_unix.go.html#2163100">fd</a></span><span class="op" id="2163168">,</span>&nbsp;<span class="ident" id="2163170"><a href="/syscall/syscall_unix.go.html#2163104">level</a></span><span class="op" id="2163175">,</span>&nbsp;<span class="ident" id="2163177"><a href="/syscall/syscall_unix.go.html#2163111">opt</a></span><span class="op" id="2163180">,</span>&nbsp;<span class="ident" id="2163182"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2163188">.</span><span class="ident" id="2163189">Pointer</span><span class="op" id="2163196">(</span><span class="ident" id="2163197"><a href="/syscall/syscall_unix.go.html#2163120">tv</a></span><span class="op" id="2163199">)</span><span class="op" id="2163200">,</span>&nbsp;<span class="ident" id="2163202"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2163208">.</span><span class="ident" id="2163209">Sizeof</span><span class="op" id="2163215">(</span><span class="op" id="2163216">*</span><span class="ident" id="2163217"><a href="/syscall/syscall_unix.go.html#2163120">tv</a></span><span class="op" id="2163219">)</span><span class="op" id="2163220">)</span><br>
<span class="lineno"></span><span class="op" id="2163222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2163225">func</span>&nbsp;<span class="ident" id="2163230">Socket</span><span class="op" id="2163236">(</span><span class="ident" id="2163237">domain</span><span class="op" id="2163243">,</span>&nbsp;<span class="ident" id="2163245">typ</span><span class="op" id="2163248">,</span>&nbsp;<span class="ident" id="2163250">proto</span>&nbsp;<span class="builtintype" id="2163256">int</span><span class="op" id="2163259">)</span>&nbsp;<span class="op" id="2163261">(</span><span class="ident" id="2163262">fd</span>&nbsp;<span class="builtintype" id="2163265">int</span><span class="op" id="2163268">,</span>&nbsp;<span class="ident" id="2163270">err</span>&nbsp;<span class="builtintype" id="2163274">error</span><span class="op" id="2163279">)</span>&nbsp;<span class="op" id="2163281">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2163284">if</span>&nbsp;<span class="ident" id="2163287"><a href="/syscall/syscall_unix.go.html#2163237">domain</a></span>&nbsp;<span class="op" id="2163294">==</span>&nbsp;<span class="ident" id="2163297"><a href="/syscall/zerrors_linux_amd64.go.html#2164612">AF_INET6</a></span>&nbsp;<span class="op" id="2163306">&amp;&amp;</span>&nbsp;<span class="ident" id="2163309"><a href="/syscall/syscall_unix.go.html#2160374">SocketDisableIPv6</a></span>&nbsp;<span class="op" id="2163327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2163331">return</span>&nbsp;<span class="op" id="2163338">-</span><span class="num" id="2163339">1</span><span class="op" id="2163340">,</span>&nbsp;<span class="ident" id="2163342"><a href="/syscall/zerrors_linux_amd64.go.html#2213610">EAFNOSUPPORT</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2163356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2163359"><a href="/syscall/syscall_unix.go.html#2163262">fd</a></span><span class="op" id="2163361">,</span>&nbsp;<span class="ident" id="2163363"><a href="/syscall/syscall_unix.go.html#2163270">err</a></span>&nbsp;<span class="op" id="2163367">=</span>&nbsp;<span class="ident" id="2163369"><a href="/syscall/zsyscall_linux_amd64.go.html#2266215">socket</a></span><span class="op" id="2163375">(</span><span class="ident" id="2163376"><a href="/syscall/syscall_unix.go.html#2163237">domain</a></span><span class="op" id="2163382">,</span>&nbsp;<span class="ident" id="2163384"><a href="/syscall/syscall_unix.go.html#2163245">typ</a></span><span class="op" id="2163387">,</span>&nbsp;<span class="ident" id="2163389"><a href="/syscall/syscall_unix.go.html#2163250">proto</a></span><span class="op" id="2163394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2163397">return</span><br>
<span class="lineno">280</span><span class="op" id="2163404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2163407">func</span>&nbsp;<span class="ident" id="2163412">Socketpair</span><span class="op" id="2163422">(</span><span class="ident" id="2163423">domain</span><span class="op" id="2163429">,</span>&nbsp;<span class="ident" id="2163431">typ</span><span class="op" id="2163434">,</span>&nbsp;<span class="ident" id="2163436">proto</span>&nbsp;<span class="builtintype" id="2163442">int</span><span class="op" id="2163445">)</span>&nbsp;<span class="op" id="2163447">(</span><span class="ident" id="2163448">fd</span>&nbsp;<span class="op" id="2163451">[</span><span class="num" id="2163452">2</span><span class="op" id="2163453">]</span><span class="builtintype" id="2163454">int</span><span class="op" id="2163457">,</span>&nbsp;<span class="ident" id="2163459">err</span>&nbsp;<span class="builtintype" id="2163463">error</span><span class="op" id="2163468">)</span>&nbsp;<span class="op" id="2163470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2163473">var</span>&nbsp;<span class="ident" id="2163477">fdx</span>&nbsp;<span class="op" id="2163481">[</span><span class="num" id="2163482">2</span><span class="op" id="2163483">]</span><span class="builtintype" id="2163484">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2163491"><a href="/syscall/syscall_unix.go.html#2163459">err</a></span>&nbsp;<span class="op" id="2163495">=</span>&nbsp;<span class="ident" id="2163497"><a href="/syscall/zsyscall_linux_amd64.go.html#2266484">socketpair</a></span><span class="op" id="2163507">(</span><span class="ident" id="2163508"><a href="/syscall/syscall_unix.go.html#2163423">domain</a></span><span class="op" id="2163514">,</span>&nbsp;<span class="ident" id="2163516"><a href="/syscall/syscall_unix.go.html#2163431">typ</a></span><span class="op" id="2163519">,</span>&nbsp;<span class="ident" id="2163521"><a href="/syscall/syscall_unix.go.html#2163436">proto</a></span><span class="op" id="2163526">,</span>&nbsp;<span class="op" id="2163528">&amp;</span><span class="ident" id="2163529"><a href="/syscall/syscall_unix.go.html#2163477">fdx</a></span><span class="op" id="2163532">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2163535">if</span>&nbsp;<span class="ident" id="2163538"><a href="/syscall/syscall_unix.go.html#2163459">err</a></span>&nbsp;<span class="op" id="2163542">==</span>&nbsp;<span class="ident" id="2163545">nil</span>&nbsp;<span class="op" id="2163549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2163553"><a href="/syscall/syscall_unix.go.html#2163448">fd</a></span><span class="op" id="2163555">[</span><span class="num" id="2163556">0</span><span class="op" id="2163557">]</span>&nbsp;<span class="op" id="2163559">=</span>&nbsp;<span class="builtintype" id="2163561">int</span><span class="op" id="2163564">(</span><span class="ident" id="2163565"><a href="/syscall/syscall_unix.go.html#2163477">fdx</a></span><span class="op" id="2163568">[</span><span class="num" id="2163569">0</span><span class="op" id="2163570">]</span><span class="op" id="2163571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2163575"><a href="/syscall/syscall_unix.go.html#2163448">fd</a></span><span class="op" id="2163577">[</span><span class="num" id="2163578">1</span><span class="op" id="2163579">]</span>&nbsp;<span class="op" id="2163581">=</span>&nbsp;<span class="builtintype" id="2163583">int</span><span class="op" id="2163586">(</span><span class="ident" id="2163587"><a href="/syscall/syscall_unix.go.html#2163477">fdx</a></span><span class="op" id="2163590">[</span><span class="num" id="2163591">1</span><span class="op" id="2163592">]</span><span class="op" id="2163593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2163596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2163599">return</span><br>
<span class="lineno">290</span><span class="op" id="2163606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2163609">func</span>&nbsp;<span class="ident" id="2163614">Sendfile</span><span class="op" id="2163622">(</span><span class="ident" id="2163623">outfd</span>&nbsp;<span class="builtintype" id="2163629">int</span><span class="op" id="2163632">,</span>&nbsp;<span class="ident" id="2163634">infd</span>&nbsp;<span class="builtintype" id="2163639">int</span><span class="op" id="2163642">,</span>&nbsp;<span class="ident" id="2163644">offset</span>&nbsp;<span class="op" id="2163651">*</span><span class="ident" id="2163652">int64</span><span class="op" id="2163657">,</span>&nbsp;<span class="ident" id="2163659">count</span>&nbsp;<span class="builtintype" id="2163665">int</span><span class="op" id="2163668">)</span>&nbsp;<span class="op" id="2163670">(</span><span class="ident" id="2163671">written</span>&nbsp;<span class="builtintype" id="2163679">int</span><span class="op" id="2163682">,</span>&nbsp;<span class="ident" id="2163684">err</span>&nbsp;<span class="builtintype" id="2163688">error</span><span class="op" id="2163693">)</span>&nbsp;<span class="op" id="2163695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2163698">if</span>&nbsp;<span class="ident" id="2163701"><a href="/syscall/race0.go.html#2117210">raceenabled</a></span>&nbsp;<span class="op" id="2163713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2163717"><a href="/syscall/race0.go.html#2117279">raceReleaseMerge</a></span><span class="op" id="2163733">(</span><span class="ident" id="2163734"><a href="/syscall/syscall_unix.go.html#2156931">unsafe</a></span><span class="op" id="2163740">.</span><span class="ident" id="2163741">Pointer</span><span class="op" id="2163748">(</span><span class="op" id="2163749">&amp;</span><span class="ident" id="2163750"><a href="/syscall/syscall_unix.go.html#2163814">ioSync</a></span><span class="op" id="2163756">)</span><span class="op" id="2163757">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2163760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2163763">return</span>&nbsp;<span class="ident" id="2163770"><a href="/syscall/zsyscall_linux_amd64.go.html#2260036">sendfile</a></span><span class="op" id="2163778">(</span><span class="ident" id="2163779"><a href="/syscall/syscall_unix.go.html#2163623">outfd</a></span><span class="op" id="2163784">,</span>&nbsp;<span class="ident" id="2163786"><a href="/syscall/syscall_unix.go.html#2163634">infd</a></span><span class="op" id="2163790">,</span>&nbsp;<span class="ident" id="2163792"><a href="/syscall/syscall_unix.go.html#2163644">offset</a></span><span class="op" id="2163798">,</span>&nbsp;<span class="ident" id="2163800"><a href="/syscall/syscall_unix.go.html#2163659">count</a></span><span class="op" id="2163805">)</span><br>
<span class="lineno"></span><span class="op" id="2163807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2163810">var</span>&nbsp;<span class="ident" id="2163814">ioSync</span>&nbsp;<span class="ident" id="2163821">int64</span>
</div>
</body>
</html>
