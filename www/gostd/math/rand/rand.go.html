<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/rand</h2>
<ul>
<li><a href="/gostd/math/rand/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/rand/exp.go.html">exp.go</a></li>
<li><a href="/gostd/math/rand/normal.go.html">normal.go</a></li>
<li><a href="/gostd/math/rand/rand.go.html" class="current">rand.go</a></li>
<li><a href="/gostd/math/rand/rand_test.go.html">rand_test.go</a></li>
<li><a href="/gostd/math/rand/regress_test.go.html">regress_test.go</a></li>
<li><a href="/gostd/math/rand/rng.go.html">rng.go</a></li>
<li><a href="/gostd/math/rand/zipf.go.html">zipf.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2920980">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2921035">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2921089">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2921140">//&nbsp;Package&nbsp;rand&nbsp;implements&nbsp;pseudo-random&nbsp;number&nbsp;generators.</span><br>
<span class="lineno"></span><span class="comment" id="2921200">//</span><br>
<span class="lineno"></span><span class="comment" id="2921203">//&nbsp;Random&nbsp;numbers&nbsp;are&nbsp;generated&nbsp;by&nbsp;a&nbsp;Source.&nbsp;Top-level&nbsp;functions,&nbsp;such&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="2921277">//&nbsp;Float64&nbsp;and&nbsp;Int,&nbsp;use&nbsp;a&nbsp;default&nbsp;shared&nbsp;Source&nbsp;that&nbsp;produces&nbsp;a&nbsp;deterministic</span><br>
<span class="lineno"></span><span class="comment" id="2921355">//&nbsp;sequence&nbsp;of&nbsp;values&nbsp;each&nbsp;time&nbsp;a&nbsp;program&nbsp;is&nbsp;run.&nbsp;Use&nbsp;the&nbsp;Seed&nbsp;function&nbsp;to</span><br>
<span class="lineno">10</span><span class="comment" id="2921430">//&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;if&nbsp;different&nbsp;behavior&nbsp;is&nbsp;required&nbsp;for&nbsp;each&nbsp;run.</span><br>
<span class="lineno"></span><span class="comment" id="2921511">//&nbsp;The&nbsp;default&nbsp;Source&nbsp;is&nbsp;safe&nbsp;for&nbsp;concurrent&nbsp;use&nbsp;by&nbsp;multiple&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="keyword" id="2921584">package</span>&nbsp;<span class="ident" id="2921592">rand</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2921598">import</span>&nbsp;<span class="string" id="2921605">&#34;sync&#34;</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2921613">//&nbsp;A&nbsp;Source&nbsp;represents&nbsp;a&nbsp;source&nbsp;of&nbsp;uniformly-distributed</span><br>
<span class="lineno"></span><span class="comment" id="2921670">//&nbsp;pseudo-random&nbsp;int64&nbsp;values&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;1&lt;&lt;63).</span><br>
<span class="lineno"></span><span class="keyword" id="2921725">type</span>&nbsp;<span class="ident" id="2921730">Source</span>&nbsp;<span class="keyword" id="2921737">interface</span>&nbsp;<span class="op" id="2921747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2921750">Int63</span><span class="op" id="2921755">(</span><span class="op" id="2921756">)</span>&nbsp;<span class="builtintype" id="2921758">int64</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2921765">Seed</span><span class="op" id="2921769">(</span><span class="ident" id="2921770">seed</span>&nbsp;<span class="builtintype" id="2921775">int64</span><span class="op" id="2921780">)</span><br>
<span class="lineno"></span><span class="op" id="2921782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2921785">//&nbsp;NewSource&nbsp;returns&nbsp;a&nbsp;new&nbsp;pseudo-random&nbsp;Source&nbsp;seeded&nbsp;with&nbsp;the&nbsp;given&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2921862">func</span>&nbsp;<span class="ident" id="2921867">NewSource</span><span class="op" id="2921876">(</span><span class="ident" id="2921877">seed</span>&nbsp;<span class="builtintype" id="2921882">int64</span><span class="op" id="2921887">)</span>&nbsp;<span class="ident" id="2921889"><a href="/gostd/math/rand/rand.go.html#2921730">Source</a></span>&nbsp;<span class="op" id="2921896">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2921899">var</span>&nbsp;<span class="ident" id="2921903">rng</span>&nbsp;<span class="ident" id="2921907"><a href="/gostd/math/rand/rng.go.html#2942376">rngSource</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2921918"><a href="/gostd/math/rand/rand.go.html#2921903">rng</a></span><span class="op" id="2921921">.</span><span class="ident" id="2921922"><a href="/gostd/math/rand/rng.go.html#2942796">Seed</a></span><span class="op" id="2921926">(</span><span class="ident" id="2921927"><a href="/gostd/math/rand/rand.go.html#2921877">seed</a></span><span class="op" id="2921931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2921934">return</span>&nbsp;<span class="op" id="2921941">&amp;</span><span class="ident" id="2921942"><a href="/gostd/math/rand/rand.go.html#2921903">rng</a></span><br>
<span class="lineno"></span><span class="op" id="2921946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="2921949">//&nbsp;A&nbsp;Rand&nbsp;is&nbsp;a&nbsp;source&nbsp;of&nbsp;random&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="keyword" id="2921990">type</span>&nbsp;<span class="ident" id="2921995">Rand</span>&nbsp;<span class="keyword" id="2922000">struct</span>&nbsp;<span class="op" id="2922007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2922010">src</span>&nbsp;<span class="ident" id="2922014"><a href="/gostd/math/rand/rand.go.html#2921730">Source</a></span><br>
<span class="lineno"></span><span class="op" id="2922021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="2922024">//&nbsp;New&nbsp;returns&nbsp;a&nbsp;new&nbsp;Rand&nbsp;that&nbsp;uses&nbsp;random&nbsp;values&nbsp;from&nbsp;src</span><br>
<span class="lineno"></span><span class="comment" id="2922083">//&nbsp;to&nbsp;generate&nbsp;other&nbsp;random&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="2922119">func</span>&nbsp;<span class="ident" id="2922124">New</span><span class="op" id="2922127">(</span><span class="ident" id="2922128">src</span>&nbsp;<span class="ident" id="2922132"><a href="/gostd/math/rand/rand.go.html#2921730">Source</a></span><span class="op" id="2922138">)</span>&nbsp;<span class="op" id="2922140">*</span><span class="ident" id="2922141"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span>&nbsp;<span class="op" id="2922146">{</span>&nbsp;<span class="keyword" id="2922148">return</span>&nbsp;<span class="op" id="2922155">&amp;</span><span class="ident" id="2922156"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2922160">{</span><span class="ident" id="2922161"><a href="/gostd/math/rand/rand.go.html#2922128">src</a></span><span class="op" id="2922164">}</span>&nbsp;<span class="op" id="2922166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2922169">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;generator&nbsp;to&nbsp;a&nbsp;deterministic&nbsp;state.</span><br>
<span class="lineno">40</span><span class="keyword" id="2922260">func</span>&nbsp;<span class="op" id="2922265">(</span><span class="ident" id="2922266">r</span>&nbsp;<span class="op" id="2922268">*</span><span class="ident" id="2922269"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2922273">)</span>&nbsp;<span class="ident" id="2922275">Seed</span><span class="op" id="2922279">(</span><span class="ident" id="2922280">seed</span>&nbsp;<span class="builtintype" id="2922285">int64</span><span class="op" id="2922290">)</span>&nbsp;<span class="op" id="2922292">{</span>&nbsp;<span class="ident" id="2922294"><a href="/gostd/math/rand/rand.go.html#2922266">r</a></span><span class="op" id="2922295">.</span><span class="ident" id="2922296"><a href="/gostd/math/rand/rand.go.html#2922010">src</a></span><span class="op" id="2922299">.</span><span class="ident" id="2922300"><a href="/gostd/math/rand/rand.go.html#2921765">Seed</a></span><span class="op" id="2922304">(</span><span class="ident" id="2922305"><a href="/gostd/math/rand/rand.go.html#2922280">seed</a></span><span class="op" id="2922309">)</span>&nbsp;<span class="op" id="2922311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2922314">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64.</span><br>
<span class="lineno"></span><span class="keyword" id="2922388">func</span>&nbsp;<span class="op" id="2922393">(</span><span class="ident" id="2922394">r</span>&nbsp;<span class="op" id="2922396">*</span><span class="ident" id="2922397"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2922401">)</span>&nbsp;<span class="ident" id="2922403">Int63</span><span class="op" id="2922408">(</span><span class="op" id="2922409">)</span>&nbsp;<span class="builtintype" id="2922411">int64</span>&nbsp;<span class="op" id="2922417">{</span>&nbsp;<span class="keyword" id="2922419">return</span>&nbsp;<span class="ident" id="2922426"><a href="/gostd/math/rand/rand.go.html#2922394">r</a></span><span class="op" id="2922427">.</span><span class="ident" id="2922428"><a href="/gostd/math/rand/rand.go.html#2922010">src</a></span><span class="op" id="2922431">.</span><span class="ident" id="2922432"><a href="/gostd/math/rand/rand.go.html#2921750">Int63</a></span><span class="op" id="2922437">(</span><span class="op" id="2922438">)</span>&nbsp;<span class="op" id="2922440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="2922443">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32.</span><br>
<span class="lineno"></span><span class="keyword" id="2922503">func</span>&nbsp;<span class="op" id="2922508">(</span><span class="ident" id="2922509">r</span>&nbsp;<span class="op" id="2922511">*</span><span class="ident" id="2922512"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2922516">)</span>&nbsp;<span class="ident" id="2922518">Uint32</span><span class="op" id="2922524">(</span><span class="op" id="2922525">)</span>&nbsp;<span class="builtintype" id="2922527">uint32</span>&nbsp;<span class="op" id="2922534">{</span>&nbsp;<span class="keyword" id="2922536">return</span>&nbsp;<span class="builtintype" id="2922543">uint32</span><span class="op" id="2922549">(</span><span class="ident" id="2922550"><a href="/gostd/math/rand/rand.go.html#2922509">r</a></span><span class="op" id="2922551">.</span><span class="ident" id="2922552"><a href="/gostd/math/rand/rand.go.html#2922403">Int63</a></span><span class="op" id="2922557">(</span><span class="op" id="2922558">)</span>&nbsp;<span class="op" id="2922560">&gt;&gt;</span>&nbsp;<span class="num" id="2922563">31</span><span class="op" id="2922565">)</span>&nbsp;<span class="op" id="2922567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2922570">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32.</span><br>
<span class="lineno"></span><span class="keyword" id="2922644">func</span>&nbsp;<span class="op" id="2922649">(</span><span class="ident" id="2922650">r</span>&nbsp;<span class="op" id="2922652">*</span><span class="ident" id="2922653"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2922657">)</span>&nbsp;<span class="ident" id="2922659">Int31</span><span class="op" id="2922664">(</span><span class="op" id="2922665">)</span>&nbsp;<span class="builtintype" id="2922667">int32</span>&nbsp;<span class="op" id="2922673">{</span>&nbsp;<span class="keyword" id="2922675">return</span>&nbsp;<span class="builtintype" id="2922682">int32</span><span class="op" id="2922687">(</span><span class="ident" id="2922688"><a href="/gostd/math/rand/rand.go.html#2922650">r</a></span><span class="op" id="2922689">.</span><span class="ident" id="2922690"><a href="/gostd/math/rand/rand.go.html#2922403">Int63</a></span><span class="op" id="2922695">(</span><span class="op" id="2922696">)</span>&nbsp;<span class="op" id="2922698">&gt;&gt;</span>&nbsp;<span class="num" id="2922701">32</span><span class="op" id="2922703">)</span>&nbsp;<span class="op" id="2922705">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2922708">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2922757">func</span>&nbsp;<span class="op" id="2922762">(</span><span class="ident" id="2922763">r</span>&nbsp;<span class="op" id="2922765">*</span><span class="ident" id="2922766"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2922770">)</span>&nbsp;<span class="ident" id="2922772">Int</span><span class="op" id="2922775">(</span><span class="op" id="2922776">)</span>&nbsp;<span class="builtintype" id="2922778">int</span>&nbsp;<span class="op" id="2922782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2922785">u</span>&nbsp;<span class="op" id="2922787">:=</span>&nbsp;<span class="builtintype" id="2922790">uint</span><span class="op" id="2922794">(</span><span class="ident" id="2922795"><a href="/gostd/math/rand/rand.go.html#2922763">r</a></span><span class="op" id="2922796">.</span><span class="ident" id="2922797"><a href="/gostd/math/rand/rand.go.html#2922403">Int63</a></span><span class="op" id="2922802">(</span><span class="op" id="2922803">)</span><span class="op" id="2922804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2922807">return</span>&nbsp;<span class="builtintype" id="2922814">int</span><span class="op" id="2922817">(</span><span class="ident" id="2922818"><a href="/gostd/math/rand/rand.go.html#2922785">u</a></span>&nbsp;<span class="op" id="2922820">&lt;&lt;</span>&nbsp;<span class="num" id="2922823">1</span>&nbsp;<span class="op" id="2922825">&gt;&gt;</span>&nbsp;<span class="num" id="2922828">1</span><span class="op" id="2922829">)</span>&nbsp;<span class="comment" id="2922831">//&nbsp;clear&nbsp;sign&nbsp;bit&nbsp;if&nbsp;int&nbsp;==&nbsp;int32</span><br>
<span class="lineno">55</span><span class="op" id="2922865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2922868">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="2922946">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="2922970">func</span>&nbsp;<span class="op" id="2922975">(</span><span class="ident" id="2922976">r</span>&nbsp;<span class="op" id="2922978">*</span><span class="ident" id="2922979"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2922983">)</span>&nbsp;<span class="ident" id="2922985">Int63n</span><span class="op" id="2922991">(</span><span class="ident" id="2922992">n</span>&nbsp;<span class="builtintype" id="2922994">int64</span><span class="op" id="2922999">)</span>&nbsp;<span class="builtintype" id="2923001">int64</span>&nbsp;<span class="op" id="2923007">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923010">if</span>&nbsp;<span class="ident" id="2923013"><a href="/gostd/math/rand/rand.go.html#2922992">n</a></span>&nbsp;<span class="op" id="2923015">&lt;=</span>&nbsp;<span class="num" id="2923018">0</span>&nbsp;<span class="op" id="2923020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2923024">panic</span><span class="op" id="2923029">(</span><span class="string" id="2923030">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int63n&#34;</span><span class="op" id="2923058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2923061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923064">if</span>&nbsp;<span class="ident" id="2923067"><a href="/gostd/math/rand/rand.go.html#2922992">n</a></span><span class="op" id="2923068">&amp;</span><span class="op" id="2923069">(</span><span class="ident" id="2923070"><a href="/gostd/math/rand/rand.go.html#2922992">n</a></span><span class="op" id="2923071">-</span><span class="num" id="2923072">1</span><span class="op" id="2923073">)</span>&nbsp;<span class="op" id="2923075">==</span>&nbsp;<span class="num" id="2923078">0</span>&nbsp;<span class="op" id="2923080">{</span>&nbsp;<span class="comment" id="2923082">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923115">return</span>&nbsp;<span class="ident" id="2923122"><a href="/gostd/math/rand/rand.go.html#2922976">r</a></span><span class="op" id="2923123">.</span><span class="ident" id="2923124"><a href="/gostd/math/rand/rand.go.html#2922403">Int63</a></span><span class="op" id="2923129">(</span><span class="op" id="2923130">)</span>&nbsp;<span class="op" id="2923132">&amp;</span>&nbsp;<span class="op" id="2923134">(</span><span class="ident" id="2923135"><a href="/gostd/math/rand/rand.go.html#2922992">n</a></span>&nbsp;<span class="op" id="2923137">-</span>&nbsp;<span class="num" id="2923139">1</span><span class="op" id="2923140">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2923143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2923146">max</span>&nbsp;<span class="op" id="2923150">:=</span>&nbsp;<span class="builtintype" id="2923153">int64</span><span class="op" id="2923158">(</span><span class="op" id="2923159">(</span><span class="num" id="2923160">1</span>&nbsp;<span class="op" id="2923162">&lt;&lt;</span>&nbsp;<span class="num" id="2923165">63</span><span class="op" id="2923167">)</span>&nbsp;<span class="op" id="2923169">-</span>&nbsp;<span class="num" id="2923171">1</span>&nbsp;<span class="op" id="2923173">-</span>&nbsp;<span class="op" id="2923175">(</span><span class="num" id="2923176">1</span><span class="op" id="2923177">&lt;&lt;</span><span class="num" id="2923179">63</span><span class="op" id="2923181">)</span><span class="op" id="2923182">%</span><span class="builtintype" id="2923183">uint64</span><span class="op" id="2923189">(</span><span class="ident" id="2923190"><a href="/gostd/math/rand/rand.go.html#2922992">n</a></span><span class="op" id="2923191">)</span><span class="op" id="2923192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2923195">v</span>&nbsp;<span class="op" id="2923197">:=</span>&nbsp;<span class="ident" id="2923200"><a href="/gostd/math/rand/rand.go.html#2922976">r</a></span><span class="op" id="2923201">.</span><span class="ident" id="2923202"><a href="/gostd/math/rand/rand.go.html#2922403">Int63</a></span><span class="op" id="2923207">(</span><span class="op" id="2923208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923211">for</span>&nbsp;<span class="ident" id="2923215"><a href="/gostd/math/rand/rand.go.html#2923195">v</a></span>&nbsp;<span class="op" id="2923217">&gt;</span>&nbsp;<span class="ident" id="2923219"><a href="/gostd/math/rand/rand.go.html#2923146">max</a></span>&nbsp;<span class="op" id="2923223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2923227"><a href="/gostd/math/rand/rand.go.html#2923195">v</a></span>&nbsp;<span class="op" id="2923229">=</span>&nbsp;<span class="ident" id="2923231"><a href="/gostd/math/rand/rand.go.html#2922976">r</a></span><span class="op" id="2923232">.</span><span class="ident" id="2923233"><a href="/gostd/math/rand/rand.go.html#2922403">Int63</a></span><span class="op" id="2923238">(</span><span class="op" id="2923239">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2923242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923245">return</span>&nbsp;<span class="ident" id="2923252"><a href="/gostd/math/rand/rand.go.html#2923195">v</a></span>&nbsp;<span class="op" id="2923254">%</span>&nbsp;<span class="ident" id="2923256"><a href="/gostd/math/rand/rand.go.html#2922992">n</a></span><br>
<span class="lineno"></span><span class="op" id="2923258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2923261">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno">75</span><span class="comment" id="2923339">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="2923363">func</span>&nbsp;<span class="op" id="2923368">(</span><span class="ident" id="2923369">r</span>&nbsp;<span class="op" id="2923371">*</span><span class="ident" id="2923372"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2923376">)</span>&nbsp;<span class="ident" id="2923378">Int31n</span><span class="op" id="2923384">(</span><span class="ident" id="2923385">n</span>&nbsp;<span class="builtintype" id="2923387">int32</span><span class="op" id="2923392">)</span>&nbsp;<span class="builtintype" id="2923394">int32</span>&nbsp;<span class="op" id="2923400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923403">if</span>&nbsp;<span class="ident" id="2923406"><a href="/gostd/math/rand/rand.go.html#2923385">n</a></span>&nbsp;<span class="op" id="2923408">&lt;=</span>&nbsp;<span class="num" id="2923411">0</span>&nbsp;<span class="op" id="2923413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2923417">panic</span><span class="op" id="2923422">(</span><span class="string" id="2923423">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int31n&#34;</span><span class="op" id="2923451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2923454">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923457">if</span>&nbsp;<span class="ident" id="2923460"><a href="/gostd/math/rand/rand.go.html#2923385">n</a></span><span class="op" id="2923461">&amp;</span><span class="op" id="2923462">(</span><span class="ident" id="2923463"><a href="/gostd/math/rand/rand.go.html#2923385">n</a></span><span class="op" id="2923464">-</span><span class="num" id="2923465">1</span><span class="op" id="2923466">)</span>&nbsp;<span class="op" id="2923468">==</span>&nbsp;<span class="num" id="2923471">0</span>&nbsp;<span class="op" id="2923473">{</span>&nbsp;<span class="comment" id="2923475">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923508">return</span>&nbsp;<span class="ident" id="2923515"><a href="/gostd/math/rand/rand.go.html#2923369">r</a></span><span class="op" id="2923516">.</span><span class="ident" id="2923517"><a href="/gostd/math/rand/rand.go.html#2922659">Int31</a></span><span class="op" id="2923522">(</span><span class="op" id="2923523">)</span>&nbsp;<span class="op" id="2923525">&amp;</span>&nbsp;<span class="op" id="2923527">(</span><span class="ident" id="2923528"><a href="/gostd/math/rand/rand.go.html#2923385">n</a></span>&nbsp;<span class="op" id="2923530">-</span>&nbsp;<span class="num" id="2923532">1</span><span class="op" id="2923533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2923536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2923539">max</span>&nbsp;<span class="op" id="2923543">:=</span>&nbsp;<span class="builtintype" id="2923546">int32</span><span class="op" id="2923551">(</span><span class="op" id="2923552">(</span><span class="num" id="2923553">1</span>&nbsp;<span class="op" id="2923555">&lt;&lt;</span>&nbsp;<span class="num" id="2923558">31</span><span class="op" id="2923560">)</span>&nbsp;<span class="op" id="2923562">-</span>&nbsp;<span class="num" id="2923564">1</span>&nbsp;<span class="op" id="2923566">-</span>&nbsp;<span class="op" id="2923568">(</span><span class="num" id="2923569">1</span><span class="op" id="2923570">&lt;&lt;</span><span class="num" id="2923572">31</span><span class="op" id="2923574">)</span><span class="op" id="2923575">%</span><span class="builtintype" id="2923576">uint32</span><span class="op" id="2923582">(</span><span class="ident" id="2923583"><a href="/gostd/math/rand/rand.go.html#2923385">n</a></span><span class="op" id="2923584">)</span><span class="op" id="2923585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2923588">v</span>&nbsp;<span class="op" id="2923590">:=</span>&nbsp;<span class="ident" id="2923593"><a href="/gostd/math/rand/rand.go.html#2923369">r</a></span><span class="op" id="2923594">.</span><span class="ident" id="2923595"><a href="/gostd/math/rand/rand.go.html#2922659">Int31</a></span><span class="op" id="2923600">(</span><span class="op" id="2923601">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923604">for</span>&nbsp;<span class="ident" id="2923608"><a href="/gostd/math/rand/rand.go.html#2923588">v</a></span>&nbsp;<span class="op" id="2923610">&gt;</span>&nbsp;<span class="ident" id="2923612"><a href="/gostd/math/rand/rand.go.html#2923539">max</a></span>&nbsp;<span class="op" id="2923616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2923620"><a href="/gostd/math/rand/rand.go.html#2923588">v</a></span>&nbsp;<span class="op" id="2923622">=</span>&nbsp;<span class="ident" id="2923624"><a href="/gostd/math/rand/rand.go.html#2923369">r</a></span><span class="op" id="2923625">.</span><span class="ident" id="2923626"><a href="/gostd/math/rand/rand.go.html#2922659">Int31</a></span><span class="op" id="2923631">(</span><span class="op" id="2923632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2923635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923638">return</span>&nbsp;<span class="ident" id="2923645"><a href="/gostd/math/rand/rand.go.html#2923588">v</a></span>&nbsp;<span class="op" id="2923647">%</span>&nbsp;<span class="ident" id="2923649"><a href="/gostd/math/rand/rand.go.html#2923385">n</a></span><br>
<span class="lineno"></span><span class="op" id="2923651">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2923654">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="2923728">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="2923752">func</span>&nbsp;<span class="op" id="2923757">(</span><span class="ident" id="2923758">r</span>&nbsp;<span class="op" id="2923760">*</span><span class="ident" id="2923761"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2923765">)</span>&nbsp;<span class="ident" id="2923767">Intn</span><span class="op" id="2923771">(</span><span class="ident" id="2923772">n</span>&nbsp;<span class="builtintype" id="2923774">int</span><span class="op" id="2923777">)</span>&nbsp;<span class="builtintype" id="2923779">int</span>&nbsp;<span class="op" id="2923783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923786">if</span>&nbsp;<span class="ident" id="2923789"><a href="/gostd/math/rand/rand.go.html#2923772">n</a></span>&nbsp;<span class="op" id="2923791">&lt;=</span>&nbsp;<span class="num" id="2923794">0</span>&nbsp;<span class="op" id="2923796">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2923800">panic</span><span class="op" id="2923805">(</span><span class="string" id="2923806">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Intn&#34;</span><span class="op" id="2923832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2923835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923838">if</span>&nbsp;<span class="ident" id="2923841"><a href="/gostd/math/rand/rand.go.html#2923772">n</a></span>&nbsp;<span class="op" id="2923843">&lt;=</span>&nbsp;<span class="num" id="2923846">1</span><span class="op" id="2923847">&lt;&lt;</span><span class="num" id="2923849">31</span><span class="op" id="2923851">-</span><span class="num" id="2923852">1</span>&nbsp;<span class="op" id="2923854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923858">return</span>&nbsp;<span class="builtintype" id="2923865">int</span><span class="op" id="2923868">(</span><span class="ident" id="2923869"><a href="/gostd/math/rand/rand.go.html#2923758">r</a></span><span class="op" id="2923870">.</span><span class="ident" id="2923871"><a href="/gostd/math/rand/rand.go.html#2923378">Int31n</a></span><span class="op" id="2923877">(</span><span class="builtintype" id="2923878">int32</span><span class="op" id="2923883">(</span><span class="ident" id="2923884"><a href="/gostd/math/rand/rand.go.html#2923772">n</a></span><span class="op" id="2923885">)</span><span class="op" id="2923886">)</span><span class="op" id="2923887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2923890">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2923893">return</span>&nbsp;<span class="builtintype" id="2923900">int</span><span class="op" id="2923903">(</span><span class="ident" id="2923904"><a href="/gostd/math/rand/rand.go.html#2923758">r</a></span><span class="op" id="2923905">.</span><span class="ident" id="2923906"><a href="/gostd/math/rand/rand.go.html#2922985">Int63n</a></span><span class="op" id="2923912">(</span><span class="builtintype" id="2923913">int64</span><span class="op" id="2923918">(</span><span class="ident" id="2923919"><a href="/gostd/math/rand/rand.go.html#2923772">n</a></span><span class="op" id="2923920">)</span><span class="op" id="2923921">)</span><span class="op" id="2923922">)</span><br>
<span class="lineno"></span><span class="op" id="2923924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2923927">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="2923998">func</span>&nbsp;<span class="op" id="2924003">(</span><span class="ident" id="2924004">r</span>&nbsp;<span class="op" id="2924006">*</span><span class="ident" id="2924007"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2924011">)</span>&nbsp;<span class="ident" id="2924013">Float64</span><span class="op" id="2924020">(</span><span class="op" id="2924021">)</span>&nbsp;<span class="builtintype" id="2924023">float64</span>&nbsp;<span class="op" id="2924031">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924034">//&nbsp;A&nbsp;clearer,&nbsp;simpler&nbsp;implementation&nbsp;would&nbsp;be:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924082">//&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;float64(r.Int63n(1&lt;&lt;53))&nbsp;/&nbsp;(1&lt;&lt;53)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924128">//&nbsp;However,&nbsp;Go&nbsp;1&nbsp;shipped&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924159">//&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;float64(r.Int63())&nbsp;/&nbsp;(1&nbsp;&lt;&lt;&nbsp;63)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924201">//&nbsp;and&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;that&nbsp;value&nbsp;stream.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924248">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924252">//&nbsp;There&nbsp;is&nbsp;one&nbsp;bug&nbsp;in&nbsp;the&nbsp;value&nbsp;stream:&nbsp;r.Int63()&nbsp;may&nbsp;be&nbsp;so&nbsp;close</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924320">//&nbsp;to&nbsp;1&lt;&lt;63&nbsp;that&nbsp;the&nbsp;division&nbsp;rounds&nbsp;up&nbsp;to&nbsp;1.0,&nbsp;and&nbsp;we&#39;ve&nbsp;guaranteed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924390">//&nbsp;that&nbsp;the&nbsp;result&nbsp;is&nbsp;always&nbsp;less&nbsp;than&nbsp;1.0.&nbsp;To&nbsp;fix&nbsp;that,&nbsp;we&nbsp;treat&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924461">//&nbsp;range&nbsp;as&nbsp;cyclic&nbsp;and&nbsp;map&nbsp;1&nbsp;back&nbsp;to&nbsp;0.&nbsp;This&nbsp;is&nbsp;justified&nbsp;by&nbsp;observing</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924533">//&nbsp;that&nbsp;while&nbsp;some&nbsp;of&nbsp;the&nbsp;values&nbsp;rounded&nbsp;down&nbsp;to&nbsp;0,&nbsp;nothing&nbsp;was</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924598">//&nbsp;rounding&nbsp;up&nbsp;to&nbsp;0,&nbsp;so&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;in&nbsp;the&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924662">//&nbsp;Mapping&nbsp;1&nbsp;back&nbsp;to&nbsp;zero&nbsp;restores&nbsp;some&nbsp;balance.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924712">//&nbsp;(The&nbsp;balance&nbsp;is&nbsp;not&nbsp;perfect&nbsp;because&nbsp;the&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924771">//&nbsp;returns&nbsp;denormalized&nbsp;numbers&nbsp;for&nbsp;very&nbsp;small&nbsp;r.Int63(),</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924830">//&nbsp;and&nbsp;those&nbsp;steal&nbsp;from&nbsp;what&nbsp;would&nbsp;normally&nbsp;be&nbsp;0&nbsp;results.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924890">//&nbsp;The&nbsp;remapping&nbsp;only&nbsp;happens&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time,&nbsp;so&nbsp;most&nbsp;clients</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2924959">//&nbsp;will&nbsp;not&nbsp;observe&nbsp;it&nbsp;anyway.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2924991">f</span>&nbsp;<span class="op" id="2924993">:=</span>&nbsp;<span class="builtintype" id="2924996">float64</span><span class="op" id="2925003">(</span><span class="ident" id="2925004"><a href="/gostd/math/rand/rand.go.html#2924004">r</a></span><span class="op" id="2925005">.</span><span class="ident" id="2925006"><a href="/gostd/math/rand/rand.go.html#2922403">Int63</a></span><span class="op" id="2925011">(</span><span class="op" id="2925012">)</span><span class="op" id="2925013">)</span>&nbsp;<span class="op" id="2925015">/</span>&nbsp;<span class="op" id="2925017">(</span><span class="num" id="2925018">1</span>&nbsp;<span class="op" id="2925020">&lt;&lt;</span>&nbsp;<span class="num" id="2925023">63</span><span class="op" id="2925025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2925028">if</span>&nbsp;<span class="ident" id="2925031"><a href="/gostd/math/rand/rand.go.html#2924991">f</a></span>&nbsp;<span class="op" id="2925033">==</span>&nbsp;<span class="num" id="2925036">1</span>&nbsp;<span class="op" id="2925038">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2925042"><a href="/gostd/math/rand/rand.go.html#2924991">f</a></span>&nbsp;<span class="op" id="2925044">=</span>&nbsp;<span class="num" id="2925046">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2925049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2925052">return</span>&nbsp;<span class="ident" id="2925059"><a href="/gostd/math/rand/rand.go.html#2924991">f</a></span><br>
<span class="lineno"></span><span class="op" id="2925061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="2925064">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="2925135">func</span>&nbsp;<span class="op" id="2925140">(</span><span class="ident" id="2925141">r</span>&nbsp;<span class="op" id="2925143">*</span><span class="ident" id="2925144"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2925148">)</span>&nbsp;<span class="ident" id="2925150">Float32</span><span class="op" id="2925157">(</span><span class="op" id="2925158">)</span>&nbsp;<span class="builtintype" id="2925160">float32</span>&nbsp;<span class="op" id="2925168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2925171">//&nbsp;Same&nbsp;rationale&nbsp;as&nbsp;in&nbsp;Float64:&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;the&nbsp;Go&nbsp;1&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2925240">//&nbsp;stream&nbsp;except&nbsp;we&nbsp;want&nbsp;to&nbsp;fix&nbsp;it&nbsp;not&nbsp;to&nbsp;return&nbsp;1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2925294">//&nbsp;There&nbsp;is&nbsp;a&nbsp;double&nbsp;rounding&nbsp;going&nbsp;on&nbsp;here,&nbsp;but&nbsp;the&nbsp;argument&nbsp;for</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2925361">//&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;still&nbsp;applies:&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;before,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2925426">//&nbsp;so&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;doesn&#39;t&nbsp;cause&nbsp;too&nbsp;many&nbsp;0s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2925475">//&nbsp;This&nbsp;only&nbsp;happens&nbsp;1/2²⁴&nbsp;of&nbsp;the&nbsp;time&nbsp;(plus&nbsp;the&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time&nbsp;in&nbsp;Float64).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2925562">f</span>&nbsp;<span class="op" id="2925564">:=</span>&nbsp;<span class="builtintype" id="2925567">float32</span><span class="op" id="2925574">(</span><span class="ident" id="2925575"><a href="/gostd/math/rand/rand.go.html#2925141">r</a></span><span class="op" id="2925576">.</span><span class="ident" id="2925577"><a href="/gostd/math/rand/rand.go.html#2924013">Float64</a></span><span class="op" id="2925584">(</span><span class="op" id="2925585">)</span><span class="op" id="2925586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2925589">if</span>&nbsp;<span class="ident" id="2925592"><a href="/gostd/math/rand/rand.go.html#2925562">f</a></span>&nbsp;<span class="op" id="2925594">==</span>&nbsp;<span class="num" id="2925597">1</span>&nbsp;<span class="op" id="2925599">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2925603"><a href="/gostd/math/rand/rand.go.html#2925562">f</a></span>&nbsp;<span class="op" id="2925605">=</span>&nbsp;<span class="num" id="2925607">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2925610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2925613">return</span>&nbsp;<span class="ident" id="2925620"><a href="/gostd/math/rand/rand.go.html#2925562">f</a></span><br>
<span class="lineno"></span><span class="op" id="2925622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="comment" id="2925625">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="keyword" id="2925715">func</span>&nbsp;<span class="op" id="2925720">(</span><span class="ident" id="2925721">r</span>&nbsp;<span class="op" id="2925723">*</span><span class="ident" id="2925724"><a href="/gostd/math/rand/rand.go.html#2921995">Rand</a></span><span class="op" id="2925728">)</span>&nbsp;<span class="ident" id="2925730">Perm</span><span class="op" id="2925734">(</span><span class="ident" id="2925735">n</span>&nbsp;<span class="builtintype" id="2925737">int</span><span class="op" id="2925740">)</span>&nbsp;<span class="op" id="2925742">[</span><span class="op" id="2925743">]</span><span class="builtintype" id="2925744">int</span>&nbsp;<span class="op" id="2925748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2925751">m</span>&nbsp;<span class="op" id="2925753">:=</span>&nbsp;<span class="builtinfunc" id="2925756">make</span><span class="op" id="2925760">(</span><span class="op" id="2925761">[</span><span class="op" id="2925762">]</span><span class="builtintype" id="2925763">int</span><span class="op" id="2925766">,</span>&nbsp;<span class="ident" id="2925768"><a href="/gostd/math/rand/rand.go.html#2925735">n</a></span><span class="op" id="2925769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2925772">for</span>&nbsp;<span class="ident" id="2925776">i</span>&nbsp;<span class="op" id="2925778">:=</span>&nbsp;<span class="num" id="2925781">0</span><span class="op" id="2925782">;</span>&nbsp;<span class="ident" id="2925784"><a href="/gostd/math/rand/rand.go.html#2925776">i</a></span>&nbsp;<span class="op" id="2925786">&lt;</span>&nbsp;<span class="ident" id="2925788"><a href="/gostd/math/rand/rand.go.html#2925735">n</a></span><span class="op" id="2925789">;</span>&nbsp;<span class="ident" id="2925791"><a href="/gostd/math/rand/rand.go.html#2925776">i</a></span><span class="op" id="2925792">++</span>&nbsp;<span class="op" id="2925795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2925799">j</span>&nbsp;<span class="op" id="2925801">:=</span>&nbsp;<span class="ident" id="2925804"><a href="/gostd/math/rand/rand.go.html#2925721">r</a></span><span class="op" id="2925805">.</span><span class="ident" id="2925806"><a href="/gostd/math/rand/rand.go.html#2923767">Intn</a></span><span class="op" id="2925810">(</span><span class="ident" id="2925811"><a href="/gostd/math/rand/rand.go.html#2925776">i</a></span>&nbsp;<span class="op" id="2925813">+</span>&nbsp;<span class="num" id="2925815">1</span><span class="op" id="2925816">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2925820"><a href="/gostd/math/rand/rand.go.html#2925751">m</a></span><span class="op" id="2925821">[</span><span class="ident" id="2925822"><a href="/gostd/math/rand/rand.go.html#2925776">i</a></span><span class="op" id="2925823">]</span>&nbsp;<span class="op" id="2925825">=</span>&nbsp;<span class="ident" id="2925827"><a href="/gostd/math/rand/rand.go.html#2925751">m</a></span><span class="op" id="2925828">[</span><span class="ident" id="2925829"><a href="/gostd/math/rand/rand.go.html#2925799">j</a></span><span class="op" id="2925830">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2925834"><a href="/gostd/math/rand/rand.go.html#2925751">m</a></span><span class="op" id="2925835">[</span><span class="ident" id="2925836"><a href="/gostd/math/rand/rand.go.html#2925799">j</a></span><span class="op" id="2925837">]</span>&nbsp;<span class="op" id="2925839">=</span>&nbsp;<span class="ident" id="2925841"><a href="/gostd/math/rand/rand.go.html#2925776">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2925844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2925847">return</span>&nbsp;<span class="ident" id="2925854"><a href="/gostd/math/rand/rand.go.html#2925751">m</a></span><br>
<span class="lineno"></span><span class="op" id="2925856">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="2925859">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Top-level&nbsp;convenience&nbsp;functions<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="2925902">var</span>&nbsp;<span class="ident" id="2925906">globalRand</span>&nbsp;<span class="op" id="2925917">=</span>&nbsp;<span class="ident" id="2925919"><a href="/gostd/math/rand/rand.go.html#2922124">New</a></span><span class="op" id="2925922">(</span><span class="op" id="2925923">&amp;</span><span class="ident" id="2925924"><a href="/gostd/math/rand/rand.go.html#2928629">lockedSource</a></span><span class="op" id="2925936">{</span><span class="ident" id="2925937"><a href="/gostd/math/rand/rand.go.html#2928668">src</a></span><span class="op" id="2925940">:</span>&nbsp;<span class="ident" id="2925942"><a href="/gostd/math/rand/rand.go.html#2921867">NewSource</a></span><span class="op" id="2925951">(</span><span class="num" id="2925952">1</span><span class="op" id="2925953">)</span><span class="op" id="2925954">}</span><span class="op" id="2925955">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2925958">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;to&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2926033">//&nbsp;deterministic&nbsp;state.&nbsp;If&nbsp;Seed&nbsp;is&nbsp;not&nbsp;called,&nbsp;the&nbsp;generator&nbsp;behaves&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="2926105">//&nbsp;if&nbsp;seeded&nbsp;by&nbsp;Seed(1).</span><br>
<span class="lineno">165</span><span class="keyword" id="2926130">func</span>&nbsp;<span class="ident" id="2926135">Seed</span><span class="op" id="2926139">(</span><span class="ident" id="2926140">seed</span>&nbsp;<span class="builtintype" id="2926145">int64</span><span class="op" id="2926150">)</span>&nbsp;<span class="op" id="2926152">{</span>&nbsp;<span class="ident" id="2926154"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2926164">.</span><span class="ident" id="2926165"><a href="/gostd/math/rand/rand.go.html#2922275">Seed</a></span><span class="op" id="2926169">(</span><span class="ident" id="2926170"><a href="/gostd/math/rand/rand.go.html#2926140">seed</a></span><span class="op" id="2926174">)</span>&nbsp;<span class="op" id="2926176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2926179">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64</span><br>
<span class="lineno"></span><span class="comment" id="2926252">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="2926280">func</span>&nbsp;<span class="ident" id="2926285">Int63</span><span class="op" id="2926290">(</span><span class="op" id="2926291">)</span>&nbsp;<span class="builtintype" id="2926293">int64</span>&nbsp;<span class="op" id="2926299">{</span>&nbsp;<span class="keyword" id="2926301">return</span>&nbsp;<span class="ident" id="2926308"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2926318">.</span><span class="ident" id="2926319"><a href="/gostd/math/rand/rand.go.html#2922403">Int63</a></span><span class="op" id="2926324">(</span><span class="op" id="2926325">)</span>&nbsp;<span class="op" id="2926327">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="comment" id="2926330">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32</span><br>
<span class="lineno"></span><span class="comment" id="2926389">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="2926417">func</span>&nbsp;<span class="ident" id="2926422">Uint32</span><span class="op" id="2926428">(</span><span class="op" id="2926429">)</span>&nbsp;<span class="builtintype" id="2926431">uint32</span>&nbsp;<span class="op" id="2926438">{</span>&nbsp;<span class="keyword" id="2926440">return</span>&nbsp;<span class="ident" id="2926447"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2926457">.</span><span class="ident" id="2926458"><a href="/gostd/math/rand/rand.go.html#2922518">Uint32</a></span><span class="op" id="2926464">(</span><span class="op" id="2926465">)</span>&nbsp;<span class="op" id="2926467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="2926470">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32</span><br>
<span class="lineno"></span><span class="comment" id="2926543">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="2926571">func</span>&nbsp;<span class="ident" id="2926576">Int31</span><span class="op" id="2926581">(</span><span class="op" id="2926582">)</span>&nbsp;<span class="builtintype" id="2926584">int32</span>&nbsp;<span class="op" id="2926590">{</span>&nbsp;<span class="keyword" id="2926592">return</span>&nbsp;<span class="ident" id="2926599"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2926609">.</span><span class="ident" id="2926610"><a href="/gostd/math/rand/rand.go.html#2922659">Int31</a></span><span class="op" id="2926615">(</span><span class="op" id="2926616">)</span>&nbsp;<span class="op" id="2926618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2926621">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno">180</span><span class="keyword" id="2926694">func</span>&nbsp;<span class="ident" id="2926699">Int</span><span class="op" id="2926702">(</span><span class="op" id="2926703">)</span>&nbsp;<span class="builtintype" id="2926705">int</span>&nbsp;<span class="op" id="2926709">{</span>&nbsp;<span class="keyword" id="2926711">return</span>&nbsp;<span class="ident" id="2926718"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2926728">.</span><span class="ident" id="2926729"><a href="/gostd/math/rand/rand.go.html#2922772">Int</a></span><span class="op" id="2926732">(</span><span class="op" id="2926733">)</span>&nbsp;<span class="op" id="2926735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2926738">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="2926815">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="2926843">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">185</span><span class="keyword" id="2926867">func</span>&nbsp;<span class="ident" id="2926872">Int63n</span><span class="op" id="2926878">(</span><span class="ident" id="2926879">n</span>&nbsp;<span class="builtintype" id="2926881">int64</span><span class="op" id="2926886">)</span>&nbsp;<span class="builtintype" id="2926888">int64</span>&nbsp;<span class="op" id="2926894">{</span>&nbsp;<span class="keyword" id="2926896">return</span>&nbsp;<span class="ident" id="2926903"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2926913">.</span><span class="ident" id="2926914"><a href="/gostd/math/rand/rand.go.html#2922985">Int63n</a></span><span class="op" id="2926920">(</span><span class="ident" id="2926921"><a href="/gostd/math/rand/rand.go.html#2926879">n</a></span><span class="op" id="2926922">)</span>&nbsp;<span class="op" id="2926924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2926927">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="2927004">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="2927032">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">190</span><span class="keyword" id="2927056">func</span>&nbsp;<span class="ident" id="2927061">Int31n</span><span class="op" id="2927067">(</span><span class="ident" id="2927068">n</span>&nbsp;<span class="builtintype" id="2927070">int32</span><span class="op" id="2927075">)</span>&nbsp;<span class="builtintype" id="2927077">int32</span>&nbsp;<span class="op" id="2927083">{</span>&nbsp;<span class="keyword" id="2927085">return</span>&nbsp;<span class="ident" id="2927092"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2927102">.</span><span class="ident" id="2927103"><a href="/gostd/math/rand/rand.go.html#2923378">Int31n</a></span><span class="op" id="2927109">(</span><span class="ident" id="2927110"><a href="/gostd/math/rand/rand.go.html#2927068">n</a></span><span class="op" id="2927111">)</span>&nbsp;<span class="op" id="2927113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2927116">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="2927189">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="2927217">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">195</span><span class="keyword" id="2927241">func</span>&nbsp;<span class="ident" id="2927246">Intn</span><span class="op" id="2927250">(</span><span class="ident" id="2927251">n</span>&nbsp;<span class="builtintype" id="2927253">int</span><span class="op" id="2927256">)</span>&nbsp;<span class="builtintype" id="2927258">int</span>&nbsp;<span class="op" id="2927262">{</span>&nbsp;<span class="keyword" id="2927264">return</span>&nbsp;<span class="ident" id="2927271"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2927281">.</span><span class="ident" id="2927282"><a href="/gostd/math/rand/rand.go.html#2923767">Intn</a></span><span class="op" id="2927286">(</span><span class="ident" id="2927287"><a href="/gostd/math/rand/rand.go.html#2927251">n</a></span><span class="op" id="2927288">)</span>&nbsp;<span class="op" id="2927290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2927293">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="2927363">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="2927391">func</span>&nbsp;<span class="ident" id="2927396">Float64</span><span class="op" id="2927403">(</span><span class="op" id="2927404">)</span>&nbsp;<span class="builtintype" id="2927406">float64</span>&nbsp;<span class="op" id="2927414">{</span>&nbsp;<span class="keyword" id="2927416">return</span>&nbsp;<span class="ident" id="2927423"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2927433">.</span><span class="ident" id="2927434"><a href="/gostd/math/rand/rand.go.html#2924013">Float64</a></span><span class="op" id="2927441">(</span><span class="op" id="2927442">)</span>&nbsp;<span class="op" id="2927444">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="comment" id="2927447">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="2927517">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="2927545">func</span>&nbsp;<span class="ident" id="2927550">Float32</span><span class="op" id="2927557">(</span><span class="op" id="2927558">)</span>&nbsp;<span class="builtintype" id="2927560">float32</span>&nbsp;<span class="op" id="2927568">{</span>&nbsp;<span class="keyword" id="2927570">return</span>&nbsp;<span class="ident" id="2927577"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2927587">.</span><span class="ident" id="2927588"><a href="/gostd/math/rand/rand.go.html#2925150">Float32</a></span><span class="op" id="2927595">(</span><span class="op" id="2927596">)</span>&nbsp;<span class="op" id="2927598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span><span class="comment" id="2927601">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="2927690">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="2927718">func</span>&nbsp;<span class="ident" id="2927723">Perm</span><span class="op" id="2927727">(</span><span class="ident" id="2927728">n</span>&nbsp;<span class="builtintype" id="2927730">int</span><span class="op" id="2927733">)</span>&nbsp;<span class="op" id="2927735">[</span><span class="op" id="2927736">]</span><span class="builtintype" id="2927737">int</span>&nbsp;<span class="op" id="2927741">{</span>&nbsp;<span class="keyword" id="2927743">return</span>&nbsp;<span class="ident" id="2927750"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2927760">.</span><span class="ident" id="2927761"><a href="/gostd/math/rand/rand.go.html#2925730">Perm</a></span><span class="op" id="2927765">(</span><span class="ident" id="2927766"><a href="/gostd/math/rand/rand.go.html#2927728">n</a></span><span class="op" id="2927767">)</span>&nbsp;<span class="op" id="2927769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2927772">//&nbsp;NormFloat64&nbsp;returns&nbsp;a&nbsp;normally&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno">210</span><span class="comment" id="2927839">//&nbsp;[-math.MaxFloat64,&nbsp;+math.MaxFloat64]&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="2927884">//&nbsp;standard&nbsp;normal&nbsp;distribution&nbsp;(mean&nbsp;=&nbsp;0,&nbsp;stddev&nbsp;=&nbsp;1)</span><br>
<span class="lineno"></span><span class="comment" id="2927939">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="2927967">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;different&nbsp;normal&nbsp;distribution,&nbsp;callers&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="2928026">//&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">215</span><span class="comment" id="2928054">//</span><br>
<span class="lineno"></span><span class="comment" id="2928057">//&nbsp;&nbsp;sample&nbsp;=&nbsp;NormFloat64()&nbsp;*&nbsp;desiredStdDev&nbsp;+&nbsp;desiredMean</span><br>
<span class="lineno"></span><span class="comment" id="2928114">//</span><br>
<span class="lineno"></span><span class="keyword" id="2928117">func</span>&nbsp;<span class="ident" id="2928122">NormFloat64</span><span class="op" id="2928133">(</span><span class="op" id="2928134">)</span>&nbsp;<span class="builtintype" id="2928136">float64</span>&nbsp;<span class="op" id="2928144">{</span>&nbsp;<span class="keyword" id="2928146">return</span>&nbsp;<span class="ident" id="2928153"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2928163">.</span><span class="ident" id="2928164"><a href="/gostd/math/rand/normal.go.html#2915355">NormFloat64</a></span><span class="op" id="2928175">(</span><span class="op" id="2928176">)</span>&nbsp;<span class="op" id="2928178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="2928181">//&nbsp;ExpFloat64&nbsp;returns&nbsp;an&nbsp;exponentially&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno"></span><span class="comment" id="2928253">//&nbsp;(0,&nbsp;+math.MaxFloat64]&nbsp;with&nbsp;an&nbsp;exponential&nbsp;distribution&nbsp;whose&nbsp;rate&nbsp;parameter</span><br>
<span class="lineno"></span><span class="comment" id="2928332">//&nbsp;(lambda)&nbsp;is&nbsp;1&nbsp;and&nbsp;whose&nbsp;mean&nbsp;is&nbsp;1/lambda&nbsp;(1)&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="2928405">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;distribution&nbsp;with&nbsp;a&nbsp;different&nbsp;rate&nbsp;parameter,</span><br>
<span class="lineno"></span><span class="comment" id="2928467">//&nbsp;callers&nbsp;can&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">225</span><span class="comment" id="2928507">//</span><br>
<span class="lineno"></span><span class="comment" id="2928510">//&nbsp;&nbsp;sample&nbsp;=&nbsp;ExpFloat64()&nbsp;/&nbsp;desiredRateParameter</span><br>
<span class="lineno"></span><span class="comment" id="2928559">//</span><br>
<span class="lineno"></span><span class="keyword" id="2928562">func</span>&nbsp;<span class="ident" id="2928567">ExpFloat64</span><span class="op" id="2928577">(</span><span class="op" id="2928578">)</span>&nbsp;<span class="builtintype" id="2928580">float64</span>&nbsp;<span class="op" id="2928588">{</span>&nbsp;<span class="keyword" id="2928590">return</span>&nbsp;<span class="ident" id="2928597"><a href="/gostd/math/rand/rand.go.html#2925906">globalRand</a></span><span class="op" id="2928607">.</span><span class="ident" id="2928608"><a href="/gostd/math/rand/exp.go.html#2904125">ExpFloat64</a></span><span class="op" id="2928618">(</span><span class="op" id="2928619">)</span>&nbsp;<span class="op" id="2928621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span><span class="keyword" id="2928624">type</span>&nbsp;<span class="ident" id="2928629">lockedSource</span>&nbsp;<span class="keyword" id="2928642">struct</span>&nbsp;<span class="op" id="2928649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2928652">lk</span>&nbsp;&nbsp;<span class="ident" id="2928656"><a href="/gostd/math/rand/rand.go.html#2921605">sync</a></span><span class="op" id="2928660">.</span><span class="ident" id="2928661"><a href="/gostd/sync/mutex.go.html#1443974">Mutex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2928668">src</span>&nbsp;<span class="ident" id="2928672"><a href="/gostd/math/rand/rand.go.html#2921730">Source</a></span><br>
<span class="lineno"></span><span class="op" id="2928679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="2928682">func</span>&nbsp;<span class="op" id="2928687">(</span><span class="ident" id="2928688">r</span>&nbsp;<span class="op" id="2928690">*</span><span class="ident" id="2928691"><a href="/gostd/math/rand/rand.go.html#2928629">lockedSource</a></span><span class="op" id="2928703">)</span>&nbsp;<span class="ident" id="2928705">Int63</span><span class="op" id="2928710">(</span><span class="op" id="2928711">)</span>&nbsp;<span class="op" id="2928713">(</span><span class="ident" id="2928714">n</span>&nbsp;<span class="builtintype" id="2928716">int64</span><span class="op" id="2928721">)</span>&nbsp;<span class="op" id="2928723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2928726"><a href="/gostd/math/rand/rand.go.html#2928688">r</a></span><span class="op" id="2928727">.</span><span class="ident" id="2928728"><a href="/gostd/math/rand/rand.go.html#2928652">lk</a></span><span class="op" id="2928730">.</span><span class="ident" id="2928731"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="2928735">(</span><span class="op" id="2928736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2928739"><a href="/gostd/math/rand/rand.go.html#2928714">n</a></span>&nbsp;<span class="op" id="2928741">=</span>&nbsp;<span class="ident" id="2928743"><a href="/gostd/math/rand/rand.go.html#2928688">r</a></span><span class="op" id="2928744">.</span><span class="ident" id="2928745"><a href="/gostd/math/rand/rand.go.html#2928668">src</a></span><span class="op" id="2928748">.</span><span class="ident" id="2928749"><a href="/gostd/math/rand/rand.go.html#2921750">Int63</a></span><span class="op" id="2928754">(</span><span class="op" id="2928755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2928758"><a href="/gostd/math/rand/rand.go.html#2928688">r</a></span><span class="op" id="2928759">.</span><span class="ident" id="2928760"><a href="/gostd/math/rand/rand.go.html#2928652">lk</a></span><span class="op" id="2928762">.</span><span class="ident" id="2928763"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="2928769">(</span><span class="op" id="2928770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2928773">return</span><br>
<span class="lineno">240</span><span class="op" id="2928780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2928783">func</span>&nbsp;<span class="op" id="2928788">(</span><span class="ident" id="2928789">r</span>&nbsp;<span class="op" id="2928791">*</span><span class="ident" id="2928792"><a href="/gostd/math/rand/rand.go.html#2928629">lockedSource</a></span><span class="op" id="2928804">)</span>&nbsp;<span class="ident" id="2928806">Seed</span><span class="op" id="2928810">(</span><span class="ident" id="2928811">seed</span>&nbsp;<span class="builtintype" id="2928816">int64</span><span class="op" id="2928821">)</span>&nbsp;<span class="op" id="2928823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2928826"><a href="/gostd/math/rand/rand.go.html#2928789">r</a></span><span class="op" id="2928827">.</span><span class="ident" id="2928828"><a href="/gostd/math/rand/rand.go.html#2928652">lk</a></span><span class="op" id="2928830">.</span><span class="ident" id="2928831"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="2928835">(</span><span class="op" id="2928836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2928839"><a href="/gostd/math/rand/rand.go.html#2928789">r</a></span><span class="op" id="2928840">.</span><span class="ident" id="2928841"><a href="/gostd/math/rand/rand.go.html#2928668">src</a></span><span class="op" id="2928844">.</span><span class="ident" id="2928845"><a href="/gostd/math/rand/rand.go.html#2921765">Seed</a></span><span class="op" id="2928849">(</span><span class="ident" id="2928850"><a href="/gostd/math/rand/rand.go.html#2928811">seed</a></span><span class="op" id="2928854">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2928857"><a href="/gostd/math/rand/rand.go.html#2928789">r</a></span><span class="op" id="2928858">.</span><span class="ident" id="2928859"><a href="/gostd/math/rand/rand.go.html#2928652">lk</a></span><span class="op" id="2928861">.</span><span class="ident" id="2928862"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="2928868">(</span><span class="op" id="2928869">)</span><br>
<span class="lineno"></span><span class="op" id="2928871">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
