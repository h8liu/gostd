<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4811738">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4811793">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4811847">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4811898">package</span>&nbsp;<span class="ident" id="4811906">cookiejar</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4811917">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;the&nbsp;Punycode&nbsp;algorithm&nbsp;from&nbsp;RFC&nbsp;3492.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4811980">import</span>&nbsp;<span class="op" id="4811987">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4811990">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4811997">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4812008">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4812023">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="4812026">//&nbsp;These&nbsp;parameter&nbsp;values&nbsp;are&nbsp;specified&nbsp;in&nbsp;section&nbsp;5.</span><br>
<span class="lineno"></span><span class="comment" id="4812080">//</span><br>
<span class="lineno"></span><span class="comment" id="4812083">//&nbsp;All&nbsp;computation&nbsp;is&nbsp;done&nbsp;with&nbsp;int32s,&nbsp;so&nbsp;that&nbsp;overflow&nbsp;behavior&nbsp;is&nbsp;identical</span><br>
<span class="lineno"></span><span class="comment" id="4812162">//&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;int&nbsp;is&nbsp;32-bit&nbsp;or&nbsp;64-bit.</span><br>
<span class="lineno"></span><span class="keyword" id="4812212">const</span>&nbsp;<span class="op" id="4812218">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812221">base</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4812233">int32</span>&nbsp;<span class="op" id="4812239">=</span>&nbsp;<span class="num" id="4812241">36</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812245">damp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4812257">int32</span>&nbsp;<span class="op" id="4812263">=</span>&nbsp;<span class="num" id="4812265">700</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812270">initialBias</span>&nbsp;<span class="builtintype" id="4812282">int32</span>&nbsp;<span class="op" id="4812288">=</span>&nbsp;<span class="num" id="4812290">72</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812294">initialN</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4812306">int32</span>&nbsp;<span class="op" id="4812312">=</span>&nbsp;<span class="num" id="4812314">128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812319">skew</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4812331">int32</span>&nbsp;<span class="op" id="4812337">=</span>&nbsp;<span class="num" id="4812339">38</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812343">tmax</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4812355">int32</span>&nbsp;<span class="op" id="4812361">=</span>&nbsp;<span class="num" id="4812363">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812367">tmin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4812379">int32</span>&nbsp;<span class="op" id="4812385">=</span>&nbsp;<span class="num" id="4812387">1</span><br>
<span class="lineno"></span><span class="op" id="4812389">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4812392">//&nbsp;encode&nbsp;encodes&nbsp;a&nbsp;string&nbsp;as&nbsp;specified&nbsp;in&nbsp;section&nbsp;6.3&nbsp;and&nbsp;prepends&nbsp;prefix&nbsp;to</span><br>
<span class="lineno">30</span><span class="comment" id="4812470">//&nbsp;the&nbsp;result.</span><br>
<span class="lineno"></span><span class="comment" id="4812485">//</span><br>
<span class="lineno"></span><span class="comment" id="4812488">//&nbsp;The&nbsp;&#34;while&nbsp;h&nbsp;&lt;&nbsp;length(input)&#34;&nbsp;line&nbsp;in&nbsp;the&nbsp;specification&nbsp;becomes&nbsp;&#34;for</span><br>
<span class="lineno"></span><span class="comment" id="4812560">//&nbsp;remaining&nbsp;!=&nbsp;0&#34;&nbsp;in&nbsp;the&nbsp;Go&nbsp;code,&nbsp;because&nbsp;len(s)&nbsp;in&nbsp;Go&nbsp;is&nbsp;in&nbsp;bytes,&nbsp;not&nbsp;runes.</span><br>
<span class="lineno"></span><span class="keyword" id="4812640">func</span>&nbsp;<span class="ident" id="4812645">encode</span><span class="op" id="4812651">(</span><span class="ident" id="4812652">prefix</span><span class="op" id="4812658">,</span>&nbsp;<span class="ident" id="4812660">s</span>&nbsp;<span class="builtintype" id="4812662">string</span><span class="op" id="4812668">)</span>&nbsp;<span class="op" id="4812670">(</span><span class="builtintype" id="4812671">string</span><span class="op" id="4812677">,</span>&nbsp;<span class="builtintype" id="4812679">error</span><span class="op" id="4812684">)</span>&nbsp;<span class="op" id="4812686">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812689">output</span>&nbsp;<span class="op" id="4812696">:=</span>&nbsp;<span class="builtinfunc" id="4812699">make</span><span class="op" id="4812703">(</span><span class="op" id="4812704">[</span><span class="op" id="4812705">]</span><span class="builtintype" id="4812706">byte</span><span class="op" id="4812710">,</span>&nbsp;<span class="builtinfunc" id="4812712">len</span><span class="op" id="4812715">(</span><span class="ident" id="4812716">prefix</span><span class="op" id="4812722">)</span><span class="op" id="4812723">,</span>&nbsp;<span class="builtinfunc" id="4812725">len</span><span class="op" id="4812728">(</span><span class="ident" id="4812729">prefix</span><span class="op" id="4812735">)</span><span class="op" id="4812736">+</span><span class="num" id="4812737">1</span><span class="op" id="4812738">+</span><span class="num" id="4812739">2</span><span class="op" id="4812740">*</span><span class="builtinfunc" id="4812741">len</span><span class="op" id="4812744">(</span><span class="ident" id="4812745">s</span><span class="op" id="4812746">)</span><span class="op" id="4812747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4812750">copy</span><span class="op" id="4812754">(</span><span class="ident" id="4812755">output</span><span class="op" id="4812761">,</span>&nbsp;<span class="ident" id="4812763">prefix</span><span class="op" id="4812769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812772">delta</span><span class="op" id="4812777">,</span>&nbsp;<span class="ident" id="4812779">n</span><span class="op" id="4812780">,</span>&nbsp;<span class="ident" id="4812782">bias</span>&nbsp;<span class="op" id="4812787">:=</span>&nbsp;<span class="builtintype" id="4812790">int32</span><span class="op" id="4812795">(</span><span class="num" id="4812796">0</span><span class="op" id="4812797">)</span><span class="op" id="4812798">,</span>&nbsp;<span class="ident" id="4812800">initialN</span><span class="op" id="4812808">,</span>&nbsp;<span class="ident" id="4812810">initialBias</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812823">b</span><span class="op" id="4812824">,</span>&nbsp;<span class="ident" id="4812826">remaining</span>&nbsp;<span class="op" id="4812836">:=</span>&nbsp;<span class="builtintype" id="4812839">int32</span><span class="op" id="4812844">(</span><span class="num" id="4812845">0</span><span class="op" id="4812846">)</span><span class="op" id="4812847">,</span>&nbsp;<span class="builtintype" id="4812849">int32</span><span class="op" id="4812854">(</span><span class="num" id="4812855">0</span><span class="op" id="4812856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4812859">for</span>&nbsp;<span class="ident" id="4812863">_</span><span class="op" id="4812864">,</span>&nbsp;<span class="ident" id="4812866">r</span>&nbsp;<span class="op" id="4812868">:=</span>&nbsp;<span class="keyword" id="4812871">range</span>&nbsp;<span class="ident" id="4812877">s</span>&nbsp;<span class="op" id="4812879">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4812883">if</span>&nbsp;<span class="ident" id="4812886">r</span>&nbsp;<span class="op" id="4812888">&lt;</span>&nbsp;<span class="num" id="4812890">0x80</span>&nbsp;<span class="op" id="4812895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812900">b</span><span class="op" id="4812901">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812907">output</span>&nbsp;<span class="op" id="4812914">=</span>&nbsp;<span class="builtinfunc" id="4812916">append</span><span class="op" id="4812922">(</span><span class="ident" id="4812923">output</span><span class="op" id="4812929">,</span>&nbsp;<span class="builtintype" id="4812931">byte</span><span class="op" id="4812935">(</span><span class="ident" id="4812936">r</span><span class="op" id="4812937">)</span><span class="op" id="4812938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4812942">}</span>&nbsp;<span class="keyword" id="4812944">else</span>&nbsp;<span class="op" id="4812949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812954">remaining</span><span class="op" id="4812963">++</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4812968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4812971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812974">h</span>&nbsp;<span class="op" id="4812976">:=</span>&nbsp;<span class="ident" id="4812979">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4812982">if</span>&nbsp;<span class="ident" id="4812985">b</span>&nbsp;<span class="op" id="4812987">&gt;</span>&nbsp;<span class="num" id="4812989">0</span>&nbsp;<span class="op" id="4812991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4812995">output</span>&nbsp;<span class="op" id="4813002">=</span>&nbsp;<span class="builtinfunc" id="4813004">append</span><span class="op" id="4813010">(</span><span class="ident" id="4813011">output</span><span class="op" id="4813017">,</span>&nbsp;<span class="string" id="4813019">&#39;-&#39;</span><span class="op" id="4813022">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813028">for</span>&nbsp;<span class="ident" id="4813032">remaining</span>&nbsp;<span class="op" id="4813042">!=</span>&nbsp;<span class="num" id="4813045">0</span>&nbsp;<span class="op" id="4813047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813051">m</span>&nbsp;<span class="op" id="4813053">:=</span>&nbsp;<span class="builtintype" id="4813056">int32</span><span class="op" id="4813061">(</span><span class="num" id="4813062">0x7fffffff</span><span class="op" id="4813072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813076">for</span>&nbsp;<span class="ident" id="4813080">_</span><span class="op" id="4813081">,</span>&nbsp;<span class="ident" id="4813083">r</span>&nbsp;<span class="op" id="4813085">:=</span>&nbsp;<span class="keyword" id="4813088">range</span>&nbsp;<span class="ident" id="4813094">s</span>&nbsp;<span class="op" id="4813096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813101">if</span>&nbsp;<span class="ident" id="4813104">m</span>&nbsp;<span class="op" id="4813106">&gt;</span>&nbsp;<span class="ident" id="4813108">r</span>&nbsp;<span class="op" id="4813110">&amp;&amp;</span>&nbsp;<span class="ident" id="4813113">r</span>&nbsp;<span class="op" id="4813115">&gt;=</span>&nbsp;<span class="ident" id="4813118">n</span>&nbsp;<span class="op" id="4813120">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813126">m</span>&nbsp;<span class="op" id="4813128">=</span>&nbsp;<span class="ident" id="4813130">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813143">delta</span>&nbsp;<span class="op" id="4813149">+=</span>&nbsp;<span class="op" id="4813152">(</span><span class="ident" id="4813153">m</span>&nbsp;<span class="op" id="4813155">-</span>&nbsp;<span class="ident" id="4813157">n</span><span class="op" id="4813158">)</span>&nbsp;<span class="op" id="4813160">*</span>&nbsp;<span class="op" id="4813162">(</span><span class="ident" id="4813163">h</span>&nbsp;<span class="op" id="4813165">+</span>&nbsp;<span class="num" id="4813167">1</span><span class="op" id="4813168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813172">if</span>&nbsp;<span class="ident" id="4813175">delta</span>&nbsp;<span class="op" id="4813181">&lt;</span>&nbsp;<span class="num" id="4813183">0</span>&nbsp;<span class="op" id="4813185">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813190">return</span>&nbsp;<span class="string" id="4813197">&#34;&#34;</span><span class="op" id="4813199">,</span>&nbsp;<span class="ident" id="4813201">fmt</span><span class="op" id="4813204">.</span><span class="ident" id="4813205">Errorf</span><span class="op" id="4813211">(</span><span class="string" id="4813212">&#34;cookiejar:&nbsp;invalid&nbsp;label&nbsp;%q&#34;</span><span class="op" id="4813241">,</span>&nbsp;<span class="ident" id="4813243">s</span><span class="op" id="4813244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813252">n</span>&nbsp;<span class="op" id="4813254">=</span>&nbsp;<span class="ident" id="4813256">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813260">for</span>&nbsp;<span class="ident" id="4813264">_</span><span class="op" id="4813265">,</span>&nbsp;<span class="ident" id="4813267">r</span>&nbsp;<span class="op" id="4813269">:=</span>&nbsp;<span class="keyword" id="4813272">range</span>&nbsp;<span class="ident" id="4813278">s</span>&nbsp;<span class="op" id="4813280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813285">if</span>&nbsp;<span class="ident" id="4813288">r</span>&nbsp;<span class="op" id="4813290">&lt;</span>&nbsp;<span class="ident" id="4813292">n</span>&nbsp;<span class="op" id="4813294">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813300">delta</span><span class="op" id="4813305">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813312">if</span>&nbsp;<span class="ident" id="4813315">delta</span>&nbsp;<span class="op" id="4813321">&lt;</span>&nbsp;<span class="num" id="4813323">0</span>&nbsp;<span class="op" id="4813325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813332">return</span>&nbsp;<span class="string" id="4813339">&#34;&#34;</span><span class="op" id="4813341">,</span>&nbsp;<span class="ident" id="4813343">fmt</span><span class="op" id="4813346">.</span><span class="ident" id="4813347">Errorf</span><span class="op" id="4813353">(</span><span class="string" id="4813354">&#34;cookiejar:&nbsp;invalid&nbsp;label&nbsp;%q&#34;</span><span class="op" id="4813383">,</span>&nbsp;<span class="ident" id="4813385">s</span><span class="op" id="4813386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813398">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813415">if</span>&nbsp;<span class="ident" id="4813418">r</span>&nbsp;<span class="op" id="4813420">&gt;</span>&nbsp;<span class="ident" id="4813422">n</span>&nbsp;<span class="op" id="4813424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813430">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813447">q</span>&nbsp;<span class="op" id="4813449">:=</span>&nbsp;<span class="ident" id="4813452">delta</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813461">for</span>&nbsp;<span class="ident" id="4813465">k</span>&nbsp;<span class="op" id="4813467">:=</span>&nbsp;<span class="ident" id="4813470">base</span><span class="op" id="4813474">;</span>&nbsp;<span class="op" id="4813476">;</span>&nbsp;<span class="ident" id="4813478">k</span>&nbsp;<span class="op" id="4813480">+=</span>&nbsp;<span class="ident" id="4813483">base</span>&nbsp;<span class="op" id="4813488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813494">t</span>&nbsp;<span class="op" id="4813496">:=</span>&nbsp;<span class="ident" id="4813499">k</span>&nbsp;<span class="op" id="4813501">-</span>&nbsp;<span class="ident" id="4813503">bias</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813512">if</span>&nbsp;<span class="ident" id="4813515">t</span>&nbsp;<span class="op" id="4813517">&lt;</span>&nbsp;<span class="ident" id="4813519">tmin</span>&nbsp;<span class="op" id="4813524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813531">t</span>&nbsp;<span class="op" id="4813533">=</span>&nbsp;<span class="ident" id="4813535">tmin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813544">}</span>&nbsp;<span class="keyword" id="4813546">else</span>&nbsp;<span class="keyword" id="4813551">if</span>&nbsp;<span class="ident" id="4813554">t</span>&nbsp;<span class="op" id="4813556">&gt;</span>&nbsp;<span class="ident" id="4813558">tmax</span>&nbsp;<span class="op" id="4813563">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813570">t</span>&nbsp;<span class="op" id="4813572">=</span>&nbsp;<span class="ident" id="4813574">tmax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813589">if</span>&nbsp;<span class="ident" id="4813592">q</span>&nbsp;<span class="op" id="4813594">&lt;</span>&nbsp;<span class="ident" id="4813596">t</span>&nbsp;<span class="op" id="4813598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813605">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813615">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813621">output</span>&nbsp;<span class="op" id="4813628">=</span>&nbsp;<span class="builtinfunc" id="4813630">append</span><span class="op" id="4813636">(</span><span class="ident" id="4813637">output</span><span class="op" id="4813643">,</span>&nbsp;<span class="ident" id="4813645">encodeDigit</span><span class="op" id="4813656">(</span><span class="ident" id="4813657">t</span><span class="op" id="4813658">+</span><span class="op" id="4813659">(</span><span class="ident" id="4813660">q</span><span class="op" id="4813661">-</span><span class="ident" id="4813662">t</span><span class="op" id="4813663">)</span><span class="op" id="4813664">%</span><span class="op" id="4813665">(</span><span class="ident" id="4813666">base</span><span class="op" id="4813670">-</span><span class="ident" id="4813671">t</span><span class="op" id="4813672">)</span><span class="op" id="4813673">)</span><span class="op" id="4813674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813680">q</span>&nbsp;<span class="op" id="4813682">=</span>&nbsp;<span class="op" id="4813684">(</span><span class="ident" id="4813685">q</span>&nbsp;<span class="op" id="4813687">-</span>&nbsp;<span class="ident" id="4813689">t</span><span class="op" id="4813690">)</span>&nbsp;<span class="op" id="4813692">/</span>&nbsp;<span class="op" id="4813694">(</span><span class="ident" id="4813695">base</span>&nbsp;<span class="op" id="4813700">-</span>&nbsp;<span class="ident" id="4813702">t</span><span class="op" id="4813703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813713">output</span>&nbsp;<span class="op" id="4813720">=</span>&nbsp;<span class="builtinfunc" id="4813722">append</span><span class="op" id="4813728">(</span><span class="ident" id="4813729">output</span><span class="op" id="4813735">,</span>&nbsp;<span class="ident" id="4813737">encodeDigit</span><span class="op" id="4813748">(</span><span class="ident" id="4813749">q</span><span class="op" id="4813750">)</span><span class="op" id="4813751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813756">bias</span>&nbsp;<span class="op" id="4813761">=</span>&nbsp;<span class="ident" id="4813763">adapt</span><span class="op" id="4813768">(</span><span class="ident" id="4813769">delta</span><span class="op" id="4813774">,</span>&nbsp;<span class="ident" id="4813776">h</span><span class="op" id="4813777">+</span><span class="num" id="4813778">1</span><span class="op" id="4813779">,</span>&nbsp;<span class="ident" id="4813781">h</span>&nbsp;<span class="op" id="4813783">==</span>&nbsp;<span class="ident" id="4813786">b</span><span class="op" id="4813787">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813792">delta</span>&nbsp;<span class="op" id="4813798">=</span>&nbsp;<span class="num" id="4813800">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813805">h</span><span class="op" id="4813806">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813812">remaining</span><span class="op" id="4813821">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813830">delta</span><span class="op" id="4813835">++</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4813840">n</span><span class="op" id="4813841">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4813845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813848">return</span>&nbsp;<span class="builtintype" id="4813855">string</span><span class="op" id="4813861">(</span><span class="ident" id="4813862">output</span><span class="op" id="4813868">)</span><span class="op" id="4813869">,</span>&nbsp;<span class="ident" id="4813871">nil</span><br>
<span class="lineno"></span><span class="op" id="4813875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="4813878">func</span>&nbsp;<span class="ident" id="4813883">encodeDigit</span><span class="op" id="4813894">(</span><span class="ident" id="4813895">digit</span>&nbsp;<span class="builtintype" id="4813901">int32</span><span class="op" id="4813906">)</span>&nbsp;<span class="builtintype" id="4813908">byte</span>&nbsp;<span class="op" id="4813913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813916">switch</span>&nbsp;<span class="op" id="4813923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813926">case</span>&nbsp;<span class="num" id="4813931">0</span>&nbsp;<span class="op" id="4813933">&lt;=</span>&nbsp;<span class="ident" id="4813936">digit</span>&nbsp;<span class="op" id="4813942">&amp;&amp;</span>&nbsp;<span class="ident" id="4813945">digit</span>&nbsp;<span class="op" id="4813951">&lt;</span>&nbsp;<span class="num" id="4813953">26</span><span class="op" id="4813955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813959">return</span>&nbsp;<span class="builtintype" id="4813966">byte</span><span class="op" id="4813970">(</span><span class="ident" id="4813971">digit</span>&nbsp;<span class="op" id="4813977">+</span>&nbsp;<span class="string" id="4813979">&#39;a&#39;</span><span class="op" id="4813982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4813985">case</span>&nbsp;<span class="num" id="4813990">26</span>&nbsp;<span class="op" id="4813993">&lt;=</span>&nbsp;<span class="ident" id="4813996">digit</span>&nbsp;<span class="op" id="4814002">&amp;&amp;</span>&nbsp;<span class="ident" id="4814005">digit</span>&nbsp;<span class="op" id="4814011">&lt;</span>&nbsp;<span class="num" id="4814013">36</span><span class="op" id="4814015">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4814019">return</span>&nbsp;<span class="builtintype" id="4814026">byte</span><span class="op" id="4814030">(</span><span class="ident" id="4814031">digit</span>&nbsp;<span class="op" id="4814037">+</span>&nbsp;<span class="op" id="4814039">(</span><span class="string" id="4814040">&#39;0&#39;</span>&nbsp;<span class="op" id="4814044">-</span>&nbsp;<span class="num" id="4814046">26</span><span class="op" id="4814048">)</span><span class="op" id="4814049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4814052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4814055">panic</span><span class="op" id="4814060">(</span><span class="string" id="4814061">&#34;cookiejar:&nbsp;internal&nbsp;error&nbsp;in&nbsp;punycode&nbsp;encoding&#34;</span><span class="op" id="4814109">)</span><br>
<span class="lineno"></span><span class="op" id="4814111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="4814114">//&nbsp;adapt&nbsp;is&nbsp;the&nbsp;bias&nbsp;adaptation&nbsp;function&nbsp;specified&nbsp;in&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span><span class="keyword" id="4814181">func</span>&nbsp;<span class="ident" id="4814186">adapt</span><span class="op" id="4814191">(</span><span class="ident" id="4814192">delta</span><span class="op" id="4814197">,</span>&nbsp;<span class="ident" id="4814199">numPoints</span>&nbsp;<span class="builtintype" id="4814209">int32</span><span class="op" id="4814214">,</span>&nbsp;<span class="ident" id="4814216">firstTime</span>&nbsp;<span class="builtintype" id="4814226">bool</span><span class="op" id="4814230">)</span>&nbsp;<span class="builtintype" id="4814232">int32</span>&nbsp;<span class="op" id="4814238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4814241">if</span>&nbsp;<span class="ident" id="4814244">firstTime</span>&nbsp;<span class="op" id="4814254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4814258">delta</span>&nbsp;<span class="op" id="4814264">/=</span>&nbsp;<span class="ident" id="4814267">damp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4814273">}</span>&nbsp;<span class="keyword" id="4814275">else</span>&nbsp;<span class="op" id="4814280">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4814284">delta</span>&nbsp;<span class="op" id="4814290">/=</span>&nbsp;<span class="num" id="4814293">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4814296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4814299">delta</span>&nbsp;<span class="op" id="4814305">+=</span>&nbsp;<span class="ident" id="4814308">delta</span>&nbsp;<span class="op" id="4814314">/</span>&nbsp;<span class="ident" id="4814316">numPoints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4814327">k</span>&nbsp;<span class="op" id="4814329">:=</span>&nbsp;<span class="builtintype" id="4814332">int32</span><span class="op" id="4814337">(</span><span class="num" id="4814338">0</span><span class="op" id="4814339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4814342">for</span>&nbsp;<span class="ident" id="4814346">delta</span>&nbsp;<span class="op" id="4814352">&gt;</span>&nbsp;<span class="op" id="4814354">(</span><span class="op" id="4814355">(</span><span class="ident" id="4814356">base</span><span class="op" id="4814360">-</span><span class="ident" id="4814361">tmin</span><span class="op" id="4814365">)</span><span class="op" id="4814366">*</span><span class="ident" id="4814367">tmax</span><span class="op" id="4814371">)</span><span class="op" id="4814372">/</span><span class="num" id="4814373">2</span>&nbsp;<span class="op" id="4814375">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4814379">delta</span>&nbsp;<span class="op" id="4814385">/=</span>&nbsp;<span class="ident" id="4814388">base</span>&nbsp;<span class="op" id="4814393">-</span>&nbsp;<span class="ident" id="4814395">tmin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4814402">k</span>&nbsp;<span class="op" id="4814404">+=</span>&nbsp;<span class="ident" id="4814407">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4814413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4814416">return</span>&nbsp;<span class="ident" id="4814423">k</span>&nbsp;<span class="op" id="4814425">+</span>&nbsp;<span class="op" id="4814427">(</span><span class="ident" id="4814428">base</span><span class="op" id="4814432">-</span><span class="ident" id="4814433">tmin</span><span class="op" id="4814437">+</span><span class="num" id="4814438">1</span><span class="op" id="4814439">)</span><span class="op" id="4814440">*</span><span class="ident" id="4814441">delta</span><span class="op" id="4814446">/</span><span class="op" id="4814447">(</span><span class="ident" id="4814448">delta</span><span class="op" id="4814453">+</span><span class="ident" id="4814454">skew</span><span class="op" id="4814458">)</span><br>
<span class="lineno"></span><span class="op" id="4814460">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="4814463">//&nbsp;Strictly&nbsp;speaking,&nbsp;the&nbsp;remaining&nbsp;code&nbsp;below&nbsp;deals&nbsp;with&nbsp;IDNA&nbsp;(RFC&nbsp;5890&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4814540">//&nbsp;friends)&nbsp;and&nbsp;not&nbsp;Punycode&nbsp;(RFC&nbsp;3492)&nbsp;per&nbsp;se.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4814589">//&nbsp;acePrefix&nbsp;is&nbsp;the&nbsp;ASCII&nbsp;Compatible&nbsp;Encoding&nbsp;prefix.</span><br>
<span class="lineno">130</span><span class="keyword" id="4814643">const</span>&nbsp;<span class="ident" id="4814649">acePrefix</span>&nbsp;<span class="op" id="4814659">=</span>&nbsp;<span class="string" id="4814661">&#34;xn--&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4814669">//&nbsp;toASCII&nbsp;converts&nbsp;a&nbsp;domain&nbsp;or&nbsp;domain&nbsp;label&nbsp;to&nbsp;its&nbsp;ASCII&nbsp;form.&nbsp;For&nbsp;example,</span><br>
<span class="lineno"></span><span class="comment" id="4814746">//&nbsp;toASCII(&#34;b√ºcher.example.com&#34;)&nbsp;is&nbsp;&#34;xn--bcher-kva.example.com&#34;,&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4814816">//&nbsp;toASCII(&#34;golang&#34;)&nbsp;is&nbsp;&#34;golang&#34;.</span><br>
<span class="lineno">135</span><span class="keyword" id="4814850">func</span>&nbsp;<span class="ident" id="4814855">toASCII</span><span class="op" id="4814862">(</span><span class="ident" id="4814863">s</span>&nbsp;<span class="builtintype" id="4814865">string</span><span class="op" id="4814871">)</span>&nbsp;<span class="op" id="4814873">(</span><span class="builtintype" id="4814874">string</span><span class="op" id="4814880">,</span>&nbsp;<span class="builtintype" id="4814882">error</span><span class="op" id="4814887">)</span>&nbsp;<span class="op" id="4814889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4814892">if</span>&nbsp;<span class="ident" id="4814895">ascii</span><span class="op" id="4814900">(</span><span class="ident" id="4814901">s</span><span class="op" id="4814902">)</span>&nbsp;<span class="op" id="4814904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4814908">return</span>&nbsp;<span class="ident" id="4814915">s</span><span class="op" id="4814916">,</span>&nbsp;<span class="ident" id="4814918">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4814923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4814926">labels</span>&nbsp;<span class="op" id="4814933">:=</span>&nbsp;<span class="ident" id="4814936">strings</span><span class="op" id="4814943">.</span><span class="ident" id="4814944">Split</span><span class="op" id="4814949">(</span><span class="ident" id="4814950">s</span><span class="op" id="4814951">,</span>&nbsp;<span class="string" id="4814953">&#34;.&#34;</span><span class="op" id="4814956">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4814959">for</span>&nbsp;<span class="ident" id="4814963">i</span><span class="op" id="4814964">,</span>&nbsp;<span class="ident" id="4814966">label</span>&nbsp;<span class="op" id="4814972">:=</span>&nbsp;<span class="keyword" id="4814975">range</span>&nbsp;<span class="ident" id="4814981">labels</span>&nbsp;<span class="op" id="4814988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4814992">if</span>&nbsp;<span class="op" id="4814995">!</span><span class="ident" id="4814996">ascii</span><span class="op" id="4815001">(</span><span class="ident" id="4815002">label</span><span class="op" id="4815007">)</span>&nbsp;<span class="op" id="4815009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4815014">a</span><span class="op" id="4815015">,</span>&nbsp;<span class="ident" id="4815017">err</span>&nbsp;<span class="op" id="4815021">:=</span>&nbsp;<span class="ident" id="4815024">encode</span><span class="op" id="4815030">(</span><span class="ident" id="4815031">acePrefix</span><span class="op" id="4815040">,</span>&nbsp;<span class="ident" id="4815042">label</span><span class="op" id="4815047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4815052">if</span>&nbsp;<span class="ident" id="4815055">err</span>&nbsp;<span class="op" id="4815059">!=</span>&nbsp;<span class="ident" id="4815062">nil</span>&nbsp;<span class="op" id="4815066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4815072">return</span>&nbsp;<span class="string" id="4815079">&#34;&#34;</span><span class="op" id="4815081">,</span>&nbsp;<span class="ident" id="4815083">err</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4815090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4815095">labels</span><span class="op" id="4815101">[</span><span class="ident" id="4815102">i</span><span class="op" id="4815103">]</span>&nbsp;<span class="op" id="4815105">=</span>&nbsp;<span class="ident" id="4815107">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4815111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4815114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4815117">return</span>&nbsp;<span class="ident" id="4815124">strings</span><span class="op" id="4815131">.</span><span class="ident" id="4815132">Join</span><span class="op" id="4815136">(</span><span class="ident" id="4815137">labels</span><span class="op" id="4815143">,</span>&nbsp;<span class="string" id="4815145">&#34;.&#34;</span><span class="op" id="4815148">)</span><span class="op" id="4815149">,</span>&nbsp;<span class="ident" id="4815151">nil</span><br>
<span class="lineno">150</span><span class="op" id="4815155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4815158">func</span>&nbsp;<span class="ident" id="4815163">ascii</span><span class="op" id="4815168">(</span><span class="ident" id="4815169">s</span>&nbsp;<span class="builtintype" id="4815171">string</span><span class="op" id="4815177">)</span>&nbsp;<span class="builtintype" id="4815179">bool</span>&nbsp;<span class="op" id="4815184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4815187">for</span>&nbsp;<span class="ident" id="4815191">i</span>&nbsp;<span class="op" id="4815193">:=</span>&nbsp;<span class="num" id="4815196">0</span><span class="op" id="4815197">;</span>&nbsp;<span class="ident" id="4815199">i</span>&nbsp;<span class="op" id="4815201">&lt;</span>&nbsp;<span class="builtinfunc" id="4815203">len</span><span class="op" id="4815206">(</span><span class="ident" id="4815207">s</span><span class="op" id="4815208">)</span><span class="op" id="4815209">;</span>&nbsp;<span class="ident" id="4815211">i</span><span class="op" id="4815212">++</span>&nbsp;<span class="op" id="4815215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4815219">if</span>&nbsp;<span class="ident" id="4815222">s</span><span class="op" id="4815223">[</span><span class="ident" id="4815224">i</span><span class="op" id="4815225">]</span>&nbsp;<span class="op" id="4815227">&gt;=</span>&nbsp;<span class="ident" id="4815230">utf8</span><span class="op" id="4815234">.</span><span class="ident" id="4815235">RuneSelf</span>&nbsp;<span class="op" id="4815244">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4815249">return</span>&nbsp;<span class="ident" id="4815256">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4815264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4815267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4815270">return</span>&nbsp;<span class="ident" id="4815277">true</span><br>
<span class="lineno"></span><span class="op" id="4815282">}</span>
</div>
</body>
</html>
