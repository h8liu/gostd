<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html" class="current">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4043903">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4043959">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4044013">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4044064">package</span>&nbsp;<span class="ident" id="4044072">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4044078">import</span>&nbsp;<span class="op" id="4044085">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4044088">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4044097">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4044107">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4044112">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4044115">//&nbsp;A&nbsp;Decoder&nbsp;reads&nbsp;and&nbsp;decodes&nbsp;JSON&nbsp;objects&nbsp;from&nbsp;an&nbsp;input&nbsp;stream.</span><br>
<span class="lineno"></span><span class="keyword" id="4044181">type</span>&nbsp;<span class="ident" id="4044186">Decoder</span>&nbsp;<span class="keyword" id="4044194">struct</span>&nbsp;<span class="op" id="4044201">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4044204">r</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4044209"><a href="/gostd/encoding/json/stream.go.html#4044107">io</a></span><span class="op" id="4044211">.</span><span class="ident" id="4044212"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4044220">buf</span>&nbsp;&nbsp;<span class="op" id="4044225">[</span><span class="op" id="4044226">]</span><span class="builtintype" id="4044227">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4044233">d</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4044238"><a href="/gostd/encoding/json/decode.go.html#3968458">decodeState</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4044251">scan</span>&nbsp;<span class="ident" id="4044256"><a href="/gostd/encoding/json/scanner.go.html#4029661">scanner</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4044265">err</span>&nbsp;&nbsp;<span class="builtintype" id="4044270">error</span><br>
<span class="lineno">20</span><span class="op" id="4044276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4044279">//&nbsp;NewDecoder&nbsp;returns&nbsp;a&nbsp;new&nbsp;decoder&nbsp;that&nbsp;reads&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="4044334">//</span><br>
<span class="lineno"></span><span class="comment" id="4044337">//&nbsp;The&nbsp;decoder&nbsp;introduces&nbsp;its&nbsp;own&nbsp;buffering&nbsp;and&nbsp;may</span><br>
<span class="lineno">25</span><span class="comment" id="4044389">//&nbsp;read&nbsp;data&nbsp;from&nbsp;r&nbsp;beyond&nbsp;the&nbsp;JSON&nbsp;values&nbsp;requested.</span><br>
<span class="lineno"></span><span class="keyword" id="4044443">func</span>&nbsp;<span class="ident" id="4044448">NewDecoder</span><span class="op" id="4044458">(</span><span class="ident" id="4044459">r</span>&nbsp;<span class="ident" id="4044461"><a href="/gostd/encoding/json/stream.go.html#4044107">io</a></span><span class="op" id="4044463">.</span><span class="ident" id="4044464"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="4044470">)</span>&nbsp;<span class="op" id="4044472">*</span><span class="ident" id="4044473"><a href="/gostd/encoding/json/stream.go.html#4044186">Decoder</a></span>&nbsp;<span class="op" id="4044481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4044484">return</span>&nbsp;<span class="op" id="4044491">&amp;</span><span class="ident" id="4044492"><a href="/gostd/encoding/json/stream.go.html#4044186">Decoder</a></span><span class="op" id="4044499">{</span><span class="ident" id="4044500"><a href="/gostd/encoding/json/stream.go.html#4044204">r</a></span><span class="op" id="4044501">:</span>&nbsp;<span class="ident" id="4044503"><a href="/gostd/encoding/json/stream.go.html#4044459">r</a></span><span class="op" id="4044504">}</span><br>
<span class="lineno"></span><span class="op" id="4044506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="4044509">//&nbsp;UseNumber&nbsp;causes&nbsp;the&nbsp;Decoder&nbsp;to&nbsp;unmarshal&nbsp;a&nbsp;number&nbsp;into&nbsp;an&nbsp;interface{}&nbsp;as&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4044588">//&nbsp;Number&nbsp;instead&nbsp;of&nbsp;as&nbsp;a&nbsp;float64.</span><br>
<span class="lineno"></span><span class="keyword" id="4044623">func</span>&nbsp;<span class="op" id="4044628">(</span><span class="ident" id="4044629">dec</span>&nbsp;<span class="op" id="4044633">*</span><span class="ident" id="4044634"><a href="/gostd/encoding/json/stream.go.html#4044186">Decoder</a></span><span class="op" id="4044641">)</span>&nbsp;<span class="ident" id="4044643">UseNumber</span><span class="op" id="4044652">(</span><span class="op" id="4044653">)</span>&nbsp;<span class="op" id="4044655">{</span>&nbsp;<span class="ident" id="4044657"><a href="/gostd/encoding/json/stream.go.html#4044629">dec</a></span><span class="op" id="4044660">.</span><span class="ident" id="4044661"><a href="/gostd/encoding/json/stream.go.html#4044233">d</a></span><span class="op" id="4044662">.</span><span class="ident" id="4044663"><a href="/gostd/encoding/json/decode.go.html#3968622">useNumber</a></span>&nbsp;<span class="op" id="4044673">=</span>&nbsp;<span class="builtintype" id="4044675">true</span>&nbsp;<span class="op" id="4044680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4044683">//&nbsp;Decode&nbsp;reads&nbsp;the&nbsp;next&nbsp;JSON-encoded&nbsp;value&nbsp;from&nbsp;its</span><br>
<span class="lineno">35</span><span class="comment" id="4044736">//&nbsp;input&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;the&nbsp;value&nbsp;pointed&nbsp;to&nbsp;by&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="4044789">//</span><br>
<span class="lineno"></span><span class="comment" id="4044792">//&nbsp;See&nbsp;the&nbsp;documentation&nbsp;for&nbsp;Unmarshal&nbsp;for&nbsp;details&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="4044849">//&nbsp;the&nbsp;conversion&nbsp;of&nbsp;JSON&nbsp;into&nbsp;a&nbsp;Go&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="4044892">func</span>&nbsp;<span class="op" id="4044897">(</span><span class="ident" id="4044898">dec</span>&nbsp;<span class="op" id="4044902">*</span><span class="ident" id="4044903"><a href="/gostd/encoding/json/stream.go.html#4044186">Decoder</a></span><span class="op" id="4044910">)</span>&nbsp;<span class="ident" id="4044912">Decode</span><span class="op" id="4044918">(</span><span class="ident" id="4044919">v</span>&nbsp;<span class="keyword" id="4044921">interface</span><span class="op" id="4044930">{</span><span class="op" id="4044931">}</span><span class="op" id="4044932">)</span>&nbsp;<span class="builtintype" id="4044934">error</span>&nbsp;<span class="op" id="4044940">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4044943">if</span>&nbsp;<span class="ident" id="4044946"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4044949">.</span><span class="ident" id="4044950"><a href="/gostd/encoding/json/stream.go.html#4044265">err</a></span>&nbsp;<span class="op" id="4044954">!=</span>&nbsp;<span class="builtintype" id="4044957">nil</span>&nbsp;<span class="op" id="4044961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4044965">return</span>&nbsp;<span class="ident" id="4044972"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4044975">.</span><span class="ident" id="4044976"><a href="/gostd/encoding/json/stream.go.html#4044265">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4044981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4044985">n</span><span class="op" id="4044986">,</span>&nbsp;<span class="ident" id="4044988">err</span>&nbsp;<span class="op" id="4044992">:=</span>&nbsp;<span class="ident" id="4044995"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4044998">.</span><span class="ident" id="4044999"><a href="/gostd/encoding/json/stream.go.html#4045682">readValue</a></span><span class="op" id="4045008">(</span><span class="op" id="4045009">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4045012">if</span>&nbsp;<span class="ident" id="4045015"><a href="/gostd/encoding/json/stream.go.html#4044988">err</a></span>&nbsp;<span class="op" id="4045019">!=</span>&nbsp;<span class="builtintype" id="4045022">nil</span>&nbsp;<span class="op" id="4045026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4045030">return</span>&nbsp;<span class="ident" id="4045037"><a href="/gostd/encoding/json/stream.go.html#4044988">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4045042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4045046">//&nbsp;Don&#39;t&nbsp;save&nbsp;err&nbsp;from&nbsp;unmarshal&nbsp;into&nbsp;dec.err:</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4045094">//&nbsp;the&nbsp;connection&nbsp;is&nbsp;still&nbsp;usable&nbsp;since&nbsp;we&nbsp;read&nbsp;a&nbsp;complete&nbsp;JSON</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4045159">//&nbsp;object&nbsp;from&nbsp;it&nbsp;before&nbsp;the&nbsp;error&nbsp;happened.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4045205"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4045208">.</span><span class="ident" id="4045209"><a href="/gostd/encoding/json/stream.go.html#4044233">d</a></span><span class="op" id="4045210">.</span><span class="ident" id="4045211"><a href="/gostd/encoding/json/decode.go.html#3968914">init</a></span><span class="op" id="4045215">(</span><span class="ident" id="4045216"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4045219">.</span><span class="ident" id="4045220"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4045223">[</span><span class="num" id="4045224">0</span><span class="op" id="4045225">:</span><span class="ident" id="4045226"><a href="/gostd/encoding/json/stream.go.html#4044985">n</a></span><span class="op" id="4045227">]</span><span class="op" id="4045228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4045231"><a href="/gostd/encoding/json/stream.go.html#4044988">err</a></span>&nbsp;<span class="op" id="4045235">=</span>&nbsp;<span class="ident" id="4045237"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4045240">.</span><span class="ident" id="4045241"><a href="/gostd/encoding/json/stream.go.html#4044233">d</a></span><span class="op" id="4045242">.</span><span class="ident" id="4045243"><a href="/gostd/encoding/json/decode.go.html#3967484">unmarshal</a></span><span class="op" id="4045252">(</span><span class="ident" id="4045253"><a href="/gostd/encoding/json/stream.go.html#4044919">v</a></span><span class="op" id="4045254">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4045258">//&nbsp;Slide&nbsp;rest&nbsp;of&nbsp;data&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4045287">rest</span>&nbsp;<span class="op" id="4045292">:=</span>&nbsp;<span class="builtinfunc" id="4045295">copy</span><span class="op" id="4045299">(</span><span class="ident" id="4045300"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4045303">.</span><span class="ident" id="4045304"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4045307">,</span>&nbsp;<span class="ident" id="4045309"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4045312">.</span><span class="ident" id="4045313"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4045316">[</span><span class="ident" id="4045317"><a href="/gostd/encoding/json/stream.go.html#4044985">n</a></span><span class="op" id="4045318">:</span><span class="op" id="4045319">]</span><span class="op" id="4045320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4045323"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4045326">.</span><span class="ident" id="4045327"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span>&nbsp;<span class="op" id="4045331">=</span>&nbsp;<span class="ident" id="4045333"><a href="/gostd/encoding/json/stream.go.html#4044898">dec</a></span><span class="op" id="4045336">.</span><span class="ident" id="4045337"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4045340">[</span><span class="num" id="4045341">0</span><span class="op" id="4045342">:</span><span class="ident" id="4045343"><a href="/gostd/encoding/json/stream.go.html#4045287">rest</a></span><span class="op" id="4045347">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4045351">return</span>&nbsp;<span class="ident" id="4045358"><a href="/gostd/encoding/json/stream.go.html#4044988">err</a></span><br>
<span class="lineno">60</span><span class="op" id="4045362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4045365">//&nbsp;Buffered&nbsp;returns&nbsp;a&nbsp;reader&nbsp;of&nbsp;the&nbsp;data&nbsp;remaining&nbsp;in&nbsp;the&nbsp;Decoder&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="4045433">//&nbsp;buffer.&nbsp;The&nbsp;reader&nbsp;is&nbsp;valid&nbsp;until&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;Decode.</span><br>
<span class="lineno"></span><span class="keyword" id="4045495">func</span>&nbsp;<span class="op" id="4045500">(</span><span class="ident" id="4045501">dec</span>&nbsp;<span class="op" id="4045505">*</span><span class="ident" id="4045506"><a href="/gostd/encoding/json/stream.go.html#4044186">Decoder</a></span><span class="op" id="4045513">)</span>&nbsp;<span class="ident" id="4045515">Buffered</span><span class="op" id="4045523">(</span><span class="op" id="4045524">)</span>&nbsp;<span class="ident" id="4045526"><a href="/gostd/encoding/json/stream.go.html#4044107">io</a></span><span class="op" id="4045528">.</span><span class="ident" id="4045529"><a href="/gostd/io/io.go.html#1421823">Reader</a></span>&nbsp;<span class="op" id="4045536">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4045539">return</span>&nbsp;<span class="ident" id="4045546"><a href="/gostd/encoding/json/stream.go.html#4044088">bytes</a></span><span class="op" id="4045551">.</span><span class="ident" id="4045552"><a href="/gostd/bytes/reader.go.html#1418136">NewReader</a></span><span class="op" id="4045561">(</span><span class="ident" id="4045562"><a href="/gostd/encoding/json/stream.go.html#4045501">dec</a></span><span class="op" id="4045565">.</span><span class="ident" id="4045566"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4045569">)</span><br>
<span class="lineno"></span><span class="op" id="4045571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4045574">//&nbsp;readValue&nbsp;reads&nbsp;a&nbsp;JSON&nbsp;value&nbsp;into&nbsp;dec.buf.</span><br>
<span class="lineno"></span><span class="comment" id="4045620">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno">70</span><span class="keyword" id="4045662">func</span>&nbsp;<span class="op" id="4045667">(</span><span class="ident" id="4045668">dec</span>&nbsp;<span class="op" id="4045672">*</span><span class="ident" id="4045673"><a href="/gostd/encoding/json/stream.go.html#4044186">Decoder</a></span><span class="op" id="4045680">)</span>&nbsp;<span class="ident" id="4045682">readValue</span><span class="op" id="4045691">(</span><span class="op" id="4045692">)</span>&nbsp;<span class="op" id="4045694">(</span><span class="builtintype" id="4045695">int</span><span class="op" id="4045698">,</span>&nbsp;<span class="builtintype" id="4045700">error</span><span class="op" id="4045705">)</span>&nbsp;<span class="op" id="4045707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4045710"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4045713">.</span><span class="ident" id="4045714"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4045718">.</span><span class="ident" id="4045719"><a href="/gostd/encoding/json/scanner.go.html#4032008">reset</a></span><span class="op" id="4045724">(</span><span class="op" id="4045725">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4045729">scanp</span>&nbsp;<span class="op" id="4045735">:=</span>&nbsp;<span class="num" id="4045738">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4045741">var</span>&nbsp;<span class="ident" id="4045745">err</span>&nbsp;<span class="builtintype" id="4045749">error</span><br>
<span class="lineno">75</span><span class="ident" id="4045755">Input</span><span class="op" id="4045760">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4045763">for</span>&nbsp;<span class="op" id="4045767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4045771">//&nbsp;Look&nbsp;in&nbsp;the&nbsp;buffer&nbsp;for&nbsp;a&nbsp;new&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4045812">for</span>&nbsp;<span class="ident" id="4045816">i</span><span class="op" id="4045817">,</span>&nbsp;<span class="ident" id="4045819">c</span>&nbsp;<span class="op" id="4045821">:=</span>&nbsp;<span class="keyword" id="4045824">range</span>&nbsp;<span class="ident" id="4045830"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4045833">.</span><span class="ident" id="4045834"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4045837">[</span><span class="ident" id="4045838"><a href="/gostd/encoding/json/stream.go.html#4045729">scanp</a></span><span class="op" id="4045843">:</span><span class="op" id="4045844">]</span>&nbsp;<span class="op" id="4045846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4045851"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4045854">.</span><span class="ident" id="4045855"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4045859">.</span><span class="ident" id="4045860"><a href="/gostd/encoding/json/scanner.go.html#4030301">bytes</a></span><span class="op" id="4045865">++</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4045871">v</span>&nbsp;<span class="op" id="4045873">:=</span>&nbsp;<span class="ident" id="4045876"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4045879">.</span><span class="ident" id="4045880"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4045884">.</span><span class="ident" id="4045885"><a href="/gostd/encoding/json/scanner.go.html#4029918">step</a></span><span class="op" id="4045889">(</span><span class="op" id="4045890">&amp;</span><span class="ident" id="4045891"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4045894">.</span><span class="ident" id="4045895"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4045899">,</span>&nbsp;<span class="builtintype" id="4045901">int</span><span class="op" id="4045904">(</span><span class="ident" id="4045905"><a href="/gostd/encoding/json/stream.go.html#4045819">c</a></span><span class="op" id="4045906">)</span><span class="op" id="4045907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4045912">if</span>&nbsp;<span class="ident" id="4045915"><a href="/gostd/encoding/json/stream.go.html#4045871">v</a></span>&nbsp;<span class="op" id="4045917">==</span>&nbsp;<span class="ident" id="4045920"><a href="/gostd/encoding/json/scanner.go.html#4031362">scanEnd</a></span>&nbsp;<span class="op" id="4045928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4045934"><a href="/gostd/encoding/json/stream.go.html#4045729">scanp</a></span>&nbsp;<span class="op" id="4045940">+=</span>&nbsp;<span class="ident" id="4045943"><a href="/gostd/encoding/json/stream.go.html#4045816">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4045949">break</span>&nbsp;<span class="ident" id="4045955"><a href="/gostd/encoding/json/stream.go.html#4045755">Input</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4045964">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4045969">//&nbsp;scanEnd&nbsp;is&nbsp;delayed&nbsp;one&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4046004">//&nbsp;We&nbsp;might&nbsp;block&nbsp;trying&nbsp;to&nbsp;get&nbsp;that&nbsp;byte&nbsp;from&nbsp;src,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4046059">//&nbsp;so&nbsp;instead&nbsp;invent&nbsp;a&nbsp;space&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046097">if</span>&nbsp;<span class="op" id="4046100">(</span><span class="ident" id="4046101"><a href="/gostd/encoding/json/stream.go.html#4045871">v</a></span>&nbsp;<span class="op" id="4046103">==</span>&nbsp;<span class="ident" id="4046106"><a href="/gostd/encoding/json/scanner.go.html#4031020">scanEndObject</a></span>&nbsp;<span class="op" id="4046120">||</span>&nbsp;<span class="ident" id="4046123"><a href="/gostd/encoding/json/stream.go.html#4045871">v</a></span>&nbsp;<span class="op" id="4046125">==</span>&nbsp;<span class="ident" id="4046128"><a href="/gostd/encoding/json/scanner.go.html#4031191">scanEndArray</a></span><span class="op" id="4046140">)</span>&nbsp;<span class="op" id="4046142">&amp;&amp;</span>&nbsp;<span class="ident" id="4046145"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046148">.</span><span class="ident" id="4046149"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4046153">.</span><span class="ident" id="4046154"><a href="/gostd/encoding/json/scanner.go.html#4029918">step</a></span><span class="op" id="4046158">(</span><span class="op" id="4046159">&amp;</span><span class="ident" id="4046160"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046163">.</span><span class="ident" id="4046164"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4046168">,</span>&nbsp;<span class="string" id="4046170">&#39;&nbsp;&#39;</span><span class="op" id="4046173">)</span>&nbsp;<span class="op" id="4046175">==</span>&nbsp;<span class="ident" id="4046178"><a href="/gostd/encoding/json/scanner.go.html#4031362">scanEnd</a></span>&nbsp;<span class="op" id="4046186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4046192"><a href="/gostd/encoding/json/stream.go.html#4045729">scanp</a></span>&nbsp;<span class="op" id="4046198">+=</span>&nbsp;<span class="ident" id="4046201"><a href="/gostd/encoding/json/stream.go.html#4045816">i</a></span>&nbsp;<span class="op" id="4046203">+</span>&nbsp;<span class="num" id="4046205">1</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046211">break</span>&nbsp;<span class="ident" id="4046217"><a href="/gostd/encoding/json/stream.go.html#4045755">Input</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4046226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046231">if</span>&nbsp;<span class="ident" id="4046234"><a href="/gostd/encoding/json/stream.go.html#4045871">v</a></span>&nbsp;<span class="op" id="4046236">==</span>&nbsp;<span class="ident" id="4046239"><a href="/gostd/encoding/json/scanner.go.html#4031450">scanError</a></span>&nbsp;<span class="op" id="4046249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4046255"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046258">.</span><span class="ident" id="4046259"><a href="/gostd/encoding/json/stream.go.html#4044265">err</a></span>&nbsp;<span class="op" id="4046263">=</span>&nbsp;<span class="ident" id="4046265"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046268">.</span><span class="ident" id="4046269"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4046273">.</span><span class="ident" id="4046274"><a href="/gostd/encoding/json/scanner.go.html#4030136">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046282">return</span>&nbsp;<span class="num" id="4046289">0</span><span class="op" id="4046290">,</span>&nbsp;<span class="ident" id="4046292"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046295">.</span><span class="ident" id="4046296"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4046300">.</span><span class="ident" id="4046301"><a href="/gostd/encoding/json/scanner.go.html#4030136">err</a></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4046308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4046312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4046316"><a href="/gostd/encoding/json/stream.go.html#4045729">scanp</a></span>&nbsp;<span class="op" id="4046322">=</span>&nbsp;<span class="builtinfunc" id="4046324">len</span><span class="op" id="4046327">(</span><span class="ident" id="4046328"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046331">.</span><span class="ident" id="4046332"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046335">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4046340">//&nbsp;Did&nbsp;the&nbsp;last&nbsp;read&nbsp;have&nbsp;an&nbsp;error?</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4046378">//&nbsp;Delayed&nbsp;until&nbsp;now&nbsp;to&nbsp;allow&nbsp;buffer&nbsp;scan.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046423">if</span>&nbsp;<span class="ident" id="4046426"><a href="/gostd/encoding/json/stream.go.html#4045745">err</a></span>&nbsp;<span class="op" id="4046430">!=</span>&nbsp;<span class="builtintype" id="4046433">nil</span>&nbsp;<span class="op" id="4046437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046442">if</span>&nbsp;<span class="ident" id="4046445"><a href="/gostd/encoding/json/stream.go.html#4045745">err</a></span>&nbsp;<span class="op" id="4046449">==</span>&nbsp;<span class="ident" id="4046452"><a href="/gostd/encoding/json/stream.go.html#4044107">io</a></span><span class="op" id="4046454">.</span><span class="ident" id="4046455"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="4046459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046465">if</span>&nbsp;<span class="ident" id="4046468"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046471">.</span><span class="ident" id="4046472"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4046476">.</span><span class="ident" id="4046477"><a href="/gostd/encoding/json/scanner.go.html#4029918">step</a></span><span class="op" id="4046481">(</span><span class="op" id="4046482">&amp;</span><span class="ident" id="4046483"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046486">.</span><span class="ident" id="4046487"><a href="/gostd/encoding/json/stream.go.html#4044251">scan</a></span><span class="op" id="4046491">,</span>&nbsp;<span class="string" id="4046493">&#39;&nbsp;&#39;</span><span class="op" id="4046496">)</span>&nbsp;<span class="op" id="4046498">==</span>&nbsp;<span class="ident" id="4046501"><a href="/gostd/encoding/json/scanner.go.html#4031362">scanEnd</a></span>&nbsp;<span class="op" id="4046509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046516">break</span>&nbsp;<span class="ident" id="4046522"><a href="/gostd/encoding/json/stream.go.html#4045755">Input</a></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4046532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046538">if</span>&nbsp;<span class="ident" id="4046541"><a href="/gostd/encoding/json/stream.go.html#4047063">nonSpace</a></span><span class="op" id="4046549">(</span><span class="ident" id="4046550"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046553">.</span><span class="ident" id="4046554"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046557">)</span>&nbsp;<span class="op" id="4046559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4046566"><a href="/gostd/encoding/json/stream.go.html#4045745">err</a></span>&nbsp;<span class="op" id="4046570">=</span>&nbsp;<span class="ident" id="4046572"><a href="/gostd/encoding/json/stream.go.html#4044107">io</a></span><span class="op" id="4046574">.</span><span class="ident" id="4046575"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4046596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4046601">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4046606"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046609">.</span><span class="ident" id="4046610"><a href="/gostd/encoding/json/stream.go.html#4044265">err</a></span>&nbsp;<span class="op" id="4046614">=</span>&nbsp;<span class="ident" id="4046616"><a href="/gostd/encoding/json/stream.go.html#4045745">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046623">return</span>&nbsp;<span class="num" id="4046630">0</span><span class="op" id="4046631">,</span>&nbsp;<span class="ident" id="4046633"><a href="/gostd/encoding/json/stream.go.html#4045745">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4046639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4046644">//&nbsp;Make&nbsp;room&nbsp;to&nbsp;read&nbsp;more&nbsp;into&nbsp;the&nbsp;buffer.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046689">const</span>&nbsp;<span class="ident" id="4046695">minRead</span>&nbsp;<span class="op" id="4046703">=</span>&nbsp;<span class="num" id="4046705">512</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046711">if</span>&nbsp;<span class="builtinfunc" id="4046714">cap</span><span class="op" id="4046717">(</span><span class="ident" id="4046718"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046721">.</span><span class="ident" id="4046722"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046725">)</span><span class="op" id="4046726">-</span><span class="builtinfunc" id="4046727">len</span><span class="op" id="4046730">(</span><span class="ident" id="4046731"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046734">.</span><span class="ident" id="4046735"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046738">)</span>&nbsp;<span class="op" id="4046740">&lt;</span>&nbsp;<span class="ident" id="4046742"><a href="/gostd/encoding/json/stream.go.html#4046695">minRead</a></span>&nbsp;<span class="op" id="4046750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4046755">newBuf</span>&nbsp;<span class="op" id="4046762">:=</span>&nbsp;<span class="builtinfunc" id="4046765">make</span><span class="op" id="4046769">(</span><span class="op" id="4046770">[</span><span class="op" id="4046771">]</span><span class="builtintype" id="4046772">byte</span><span class="op" id="4046776">,</span>&nbsp;<span class="builtinfunc" id="4046778">len</span><span class="op" id="4046781">(</span><span class="ident" id="4046782"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046785">.</span><span class="ident" id="4046786"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046789">)</span><span class="op" id="4046790">,</span>&nbsp;<span class="num" id="4046792">2</span><span class="op" id="4046793">*</span><span class="builtinfunc" id="4046794">cap</span><span class="op" id="4046797">(</span><span class="ident" id="4046798"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046801">.</span><span class="ident" id="4046802"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046805">)</span><span class="op" id="4046806">+</span><span class="ident" id="4046807"><a href="/gostd/encoding/json/stream.go.html#4046695">minRead</a></span><span class="op" id="4046814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4046819">copy</span><span class="op" id="4046823">(</span><span class="ident" id="4046824"><a href="/gostd/encoding/json/stream.go.html#4046755">newBuf</a></span><span class="op" id="4046830">,</span>&nbsp;<span class="ident" id="4046832"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046835">.</span><span class="ident" id="4046836"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4046844"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046847">.</span><span class="ident" id="4046848"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span>&nbsp;<span class="op" id="4046852">=</span>&nbsp;<span class="ident" id="4046854"><a href="/gostd/encoding/json/stream.go.html#4046755">newBuf</a></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4046863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4046868">//&nbsp;Read.&nbsp;&nbsp;Delay&nbsp;error&nbsp;for&nbsp;next&nbsp;iteration&nbsp;(after&nbsp;scan).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4046925">var</span>&nbsp;<span class="ident" id="4046929">n</span>&nbsp;<span class="builtintype" id="4046931">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4046937"><a href="/gostd/encoding/json/stream.go.html#4046929">n</a></span><span class="op" id="4046938">,</span>&nbsp;<span class="ident" id="4046940"><a href="/gostd/encoding/json/stream.go.html#4045745">err</a></span>&nbsp;<span class="op" id="4046944">=</span>&nbsp;<span class="ident" id="4046946"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046949">.</span><span class="ident" id="4046950"><a href="/gostd/encoding/json/stream.go.html#4044204">r</a></span><span class="op" id="4046951">.</span><span class="ident" id="4046952"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="4046956">(</span><span class="ident" id="4046957"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046960">.</span><span class="ident" id="4046961"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046964">[</span><span class="builtinfunc" id="4046965">len</span><span class="op" id="4046968">(</span><span class="ident" id="4046969"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046972">.</span><span class="ident" id="4046973"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046976">)</span><span class="op" id="4046977">:</span><span class="builtinfunc" id="4046978">cap</span><span class="op" id="4046981">(</span><span class="ident" id="4046982"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046985">.</span><span class="ident" id="4046986"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4046989">)</span><span class="op" id="4046990">]</span><span class="op" id="4046991">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4046995"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4046998">.</span><span class="ident" id="4046999"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span>&nbsp;<span class="op" id="4047003">=</span>&nbsp;<span class="ident" id="4047005"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4047008">.</span><span class="ident" id="4047009"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4047012">[</span><span class="num" id="4047013">0</span>&nbsp;<span class="op" id="4047015">:</span>&nbsp;<span class="builtinfunc" id="4047017">len</span><span class="op" id="4047020">(</span><span class="ident" id="4047021"><a href="/gostd/encoding/json/stream.go.html#4045668">dec</a></span><span class="op" id="4047024">.</span><span class="ident" id="4047025"><a href="/gostd/encoding/json/stream.go.html#4044220">buf</a></span><span class="op" id="4047028">)</span><span class="op" id="4047029">+</span><span class="ident" id="4047030"><a href="/gostd/encoding/json/stream.go.html#4046929">n</a></span><span class="op" id="4047031">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4047034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047037">return</span>&nbsp;<span class="ident" id="4047044"><a href="/gostd/encoding/json/stream.go.html#4045729">scanp</a></span><span class="op" id="4047049">,</span>&nbsp;<span class="builtintype" id="4047051">nil</span><br>
<span class="lineno"></span><span class="op" id="4047055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="keyword" id="4047058">func</span>&nbsp;<span class="ident" id="4047063">nonSpace</span><span class="op" id="4047071">(</span><span class="ident" id="4047072">b</span>&nbsp;<span class="op" id="4047074">[</span><span class="op" id="4047075">]</span><span class="builtintype" id="4047076">byte</span><span class="op" id="4047080">)</span>&nbsp;<span class="builtintype" id="4047082">bool</span>&nbsp;<span class="op" id="4047087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047090">for</span>&nbsp;<span class="ident" id="4047094">_</span><span class="op" id="4047095">,</span>&nbsp;<span class="ident" id="4047097">c</span>&nbsp;<span class="op" id="4047099">:=</span>&nbsp;<span class="keyword" id="4047102">range</span>&nbsp;<span class="ident" id="4047108"><a href="/gostd/encoding/json/stream.go.html#4047072">b</a></span>&nbsp;<span class="op" id="4047110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047114">if</span>&nbsp;<span class="op" id="4047117">!</span><span class="ident" id="4047118"><a href="/gostd/encoding/json/scanner.go.html#4032976">isSpace</a></span><span class="op" id="4047125">(</span><span class="builtintype" id="4047126">rune</span><span class="op" id="4047130">(</span><span class="ident" id="4047131"><a href="/gostd/encoding/json/stream.go.html#4047097">c</a></span><span class="op" id="4047132">)</span><span class="op" id="4047133">)</span>&nbsp;<span class="op" id="4047135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047140">return</span>&nbsp;<span class="builtintype" id="4047147">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4047154">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4047157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047160">return</span>&nbsp;<span class="builtintype" id="4047167">false</span><br>
<span class="lineno"></span><span class="op" id="4047173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4047176">//&nbsp;An&nbsp;Encoder&nbsp;writes&nbsp;JSON&nbsp;objects&nbsp;to&nbsp;an&nbsp;output&nbsp;stream.</span><br>
<span class="lineno">140</span><span class="keyword" id="4047231">type</span>&nbsp;<span class="ident" id="4047236">Encoder</span>&nbsp;<span class="keyword" id="4047244">struct</span>&nbsp;<span class="op" id="4047251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4047254">w</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4047258"><a href="/gostd/encoding/json/stream.go.html#4044107">io</a></span><span class="op" id="4047260">.</span><span class="ident" id="4047261"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4047269">err</span>&nbsp;<span class="builtintype" id="4047273">error</span><br>
<span class="lineno"></span><span class="op" id="4047279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="comment" id="4047282">//&nbsp;NewEncoder&nbsp;returns&nbsp;a&nbsp;new&nbsp;encoder&nbsp;that&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="keyword" id="4047336">func</span>&nbsp;<span class="ident" id="4047341">NewEncoder</span><span class="op" id="4047351">(</span><span class="ident" id="4047352">w</span>&nbsp;<span class="ident" id="4047354"><a href="/gostd/encoding/json/stream.go.html#4044107">io</a></span><span class="op" id="4047356">.</span><span class="ident" id="4047357"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="4047363">)</span>&nbsp;<span class="op" id="4047365">*</span><span class="ident" id="4047366"><a href="/gostd/encoding/json/stream.go.html#4047236">Encoder</a></span>&nbsp;<span class="op" id="4047374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047377">return</span>&nbsp;<span class="op" id="4047384">&amp;</span><span class="ident" id="4047385"><a href="/gostd/encoding/json/stream.go.html#4047236">Encoder</a></span><span class="op" id="4047392">{</span><span class="ident" id="4047393"><a href="/gostd/encoding/json/stream.go.html#4047254">w</a></span><span class="op" id="4047394">:</span>&nbsp;<span class="ident" id="4047396"><a href="/gostd/encoding/json/stream.go.html#4047352">w</a></span><span class="op" id="4047397">}</span><br>
<span class="lineno"></span><span class="op" id="4047399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="comment" id="4047402">//&nbsp;Encode&nbsp;writes&nbsp;the&nbsp;JSON&nbsp;encoding&nbsp;of&nbsp;v&nbsp;to&nbsp;the&nbsp;stream,</span><br>
<span class="lineno"></span><span class="comment" id="4047457">//&nbsp;followed&nbsp;by&nbsp;a&nbsp;newline&nbsp;character.</span><br>
<span class="lineno"></span><span class="comment" id="4047493">//</span><br>
<span class="lineno"></span><span class="comment" id="4047496">//&nbsp;See&nbsp;the&nbsp;documentation&nbsp;for&nbsp;Marshal&nbsp;for&nbsp;details&nbsp;about&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4047555">//&nbsp;conversion&nbsp;of&nbsp;Go&nbsp;values&nbsp;to&nbsp;JSON.</span><br>
<span class="lineno">155</span><span class="keyword" id="4047591">func</span>&nbsp;<span class="op" id="4047596">(</span><span class="ident" id="4047597">enc</span>&nbsp;<span class="op" id="4047601">*</span><span class="ident" id="4047602"><a href="/gostd/encoding/json/stream.go.html#4047236">Encoder</a></span><span class="op" id="4047609">)</span>&nbsp;<span class="ident" id="4047611">Encode</span><span class="op" id="4047617">(</span><span class="ident" id="4047618">v</span>&nbsp;<span class="keyword" id="4047620">interface</span><span class="op" id="4047629">{</span><span class="op" id="4047630">}</span><span class="op" id="4047631">)</span>&nbsp;<span class="builtintype" id="4047633">error</span>&nbsp;<span class="op" id="4047639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047642">if</span>&nbsp;<span class="ident" id="4047645"><a href="/gostd/encoding/json/stream.go.html#4047597">enc</a></span><span class="op" id="4047648">.</span><span class="ident" id="4047649"><a href="/gostd/encoding/json/stream.go.html#4047269">err</a></span>&nbsp;<span class="op" id="4047653">!=</span>&nbsp;<span class="builtintype" id="4047656">nil</span>&nbsp;<span class="op" id="4047660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047664">return</span>&nbsp;<span class="ident" id="4047671"><a href="/gostd/encoding/json/stream.go.html#4047597">enc</a></span><span class="op" id="4047674">.</span><span class="ident" id="4047675"><a href="/gostd/encoding/json/stream.go.html#4047269">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4047680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4047683">e</span>&nbsp;<span class="op" id="4047685">:=</span>&nbsp;<span class="ident" id="4047688"><a href="/gostd/encoding/json/encode.go.html#3998215">newEncodeState</a></span><span class="op" id="4047702">(</span><span class="op" id="4047703">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4047706">err</span>&nbsp;<span class="op" id="4047710">:=</span>&nbsp;<span class="ident" id="4047713"><a href="/gostd/encoding/json/stream.go.html#4047683">e</a></span><span class="op" id="4047714">.</span><span class="ident" id="4047715"><a href="/gostd/encoding/json/encode.go.html#3998390">marshal</a></span><span class="op" id="4047722">(</span><span class="ident" id="4047723"><a href="/gostd/encoding/json/stream.go.html#4047618">v</a></span><span class="op" id="4047724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047727">if</span>&nbsp;<span class="ident" id="4047730"><a href="/gostd/encoding/json/stream.go.html#4047706">err</a></span>&nbsp;<span class="op" id="4047734">!=</span>&nbsp;<span class="builtintype" id="4047737">nil</span>&nbsp;<span class="op" id="4047741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4047745">return</span>&nbsp;<span class="ident" id="4047752"><a href="/gostd/encoding/json/stream.go.html#4047706">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4047757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4047761">//&nbsp;Terminate&nbsp;each&nbsp;value&nbsp;with&nbsp;a&nbsp;newline.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4047802">//&nbsp;This&nbsp;makes&nbsp;the&nbsp;output&nbsp;look&nbsp;a&nbsp;little&nbsp;nicer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4047848">//&nbsp;when&nbsp;debugging,&nbsp;and&nbsp;some&nbsp;kind&nbsp;of&nbsp;space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4047891">//&nbsp;is&nbsp;required&nbsp;if&nbsp;the&nbsp;encoded&nbsp;value&nbsp;was&nbsp;a&nbsp;number,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4047942">//&nbsp;so&nbsp;that&nbsp;the&nbsp;reader&nbsp;knows&nbsp;there&nbsp;aren&#39;t&nbsp;more</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4047989">//&nbsp;digits&nbsp;coming.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4048008"><a href="/gostd/encoding/json/stream.go.html#4047683">e</a></span><span class="op" id="4048009">.</span><span class="ident" id="4048010"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="4048019">(</span><span class="string" id="4048020">&#39;\n&#39;</span><span class="op" id="4048024">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4048028">if</span>&nbsp;<span class="ident" id="4048031">_</span><span class="op" id="4048032">,</span>&nbsp;<span class="ident" id="4048034"><a href="/gostd/encoding/json/stream.go.html#4047706">err</a></span>&nbsp;<span class="op" id="4048038">=</span>&nbsp;<span class="ident" id="4048040"><a href="/gostd/encoding/json/stream.go.html#4047597">enc</a></span><span class="op" id="4048043">.</span><span class="ident" id="4048044"><a href="/gostd/encoding/json/stream.go.html#4047254">w</a></span><span class="op" id="4048045">.</span><span class="ident" id="4048046"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="4048051">(</span><span class="ident" id="4048052"><a href="/gostd/encoding/json/stream.go.html#4047683">e</a></span><span class="op" id="4048053">.</span><span class="ident" id="4048054"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="4048059">(</span><span class="op" id="4048060">)</span><span class="op" id="4048061">)</span><span class="op" id="4048062">;</span>&nbsp;<span class="ident" id="4048064"><a href="/gostd/encoding/json/stream.go.html#4047706">err</a></span>&nbsp;<span class="op" id="4048068">!=</span>&nbsp;<span class="builtintype" id="4048071">nil</span>&nbsp;<span class="op" id="4048075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4048079"><a href="/gostd/encoding/json/stream.go.html#4047597">enc</a></span><span class="op" id="4048082">.</span><span class="ident" id="4048083"><a href="/gostd/encoding/json/stream.go.html#4047269">err</a></span>&nbsp;<span class="op" id="4048087">=</span>&nbsp;<span class="ident" id="4048089"><a href="/gostd/encoding/json/stream.go.html#4047706">err</a></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4048094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4048097"><a href="/gostd/encoding/json/encode.go.html#3998183">encodeStatePool</a></span><span class="op" id="4048112">.</span><span class="ident" id="4048113"><a href="/gostd/sync/pool.go.html#1449510">Put</a></span><span class="op" id="4048116">(</span><span class="ident" id="4048117"><a href="/gostd/encoding/json/stream.go.html#4047683">e</a></span><span class="op" id="4048118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4048121">return</span>&nbsp;<span class="ident" id="4048128"><a href="/gostd/encoding/json/stream.go.html#4047706">err</a></span><br>
<span class="lineno"></span><span class="op" id="4048132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="4048135">//&nbsp;RawMessage&nbsp;is&nbsp;a&nbsp;raw&nbsp;encoded&nbsp;JSON&nbsp;object.</span><br>
<span class="lineno"></span><span class="comment" id="4048179">//&nbsp;It&nbsp;implements&nbsp;Marshaler&nbsp;and&nbsp;Unmarshaler&nbsp;and&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="4048230">//&nbsp;be&nbsp;used&nbsp;to&nbsp;delay&nbsp;JSON&nbsp;decoding&nbsp;or&nbsp;precompute&nbsp;a&nbsp;JSON&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4048295">type</span>&nbsp;<span class="ident" id="4048300">RawMessage</span>&nbsp;<span class="op" id="4048311">[</span><span class="op" id="4048312">]</span><span class="builtintype" id="4048313">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="4048319">//&nbsp;MarshalJSON&nbsp;returns&nbsp;*m&nbsp;as&nbsp;the&nbsp;JSON&nbsp;encoding&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="4048372">func</span>&nbsp;<span class="op" id="4048377">(</span><span class="ident" id="4048378">m</span>&nbsp;<span class="op" id="4048380">*</span><span class="ident" id="4048381"><a href="/gostd/encoding/json/stream.go.html#4048300">RawMessage</a></span><span class="op" id="4048391">)</span>&nbsp;<span class="ident" id="4048393">MarshalJSON</span><span class="op" id="4048404">(</span><span class="op" id="4048405">)</span>&nbsp;<span class="op" id="4048407">(</span><span class="op" id="4048408">[</span><span class="op" id="4048409">]</span><span class="builtintype" id="4048410">byte</span><span class="op" id="4048414">,</span>&nbsp;<span class="builtintype" id="4048416">error</span><span class="op" id="4048421">)</span>&nbsp;<span class="op" id="4048423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4048426">return</span>&nbsp;<span class="op" id="4048433">*</span><span class="ident" id="4048434"><a href="/gostd/encoding/json/stream.go.html#4048378">m</a></span><span class="op" id="4048435">,</span>&nbsp;<span class="builtintype" id="4048437">nil</span><br>
<span class="lineno"></span><span class="op" id="4048441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="4048444">//&nbsp;UnmarshalJSON&nbsp;sets&nbsp;*m&nbsp;to&nbsp;a&nbsp;copy&nbsp;of&nbsp;data.</span><br>
<span class="lineno"></span><span class="keyword" id="4048488">func</span>&nbsp;<span class="op" id="4048493">(</span><span class="ident" id="4048494">m</span>&nbsp;<span class="op" id="4048496">*</span><span class="ident" id="4048497"><a href="/gostd/encoding/json/stream.go.html#4048300">RawMessage</a></span><span class="op" id="4048507">)</span>&nbsp;<span class="ident" id="4048509">UnmarshalJSON</span><span class="op" id="4048522">(</span><span class="ident" id="4048523">data</span>&nbsp;<span class="op" id="4048528">[</span><span class="op" id="4048529">]</span><span class="builtintype" id="4048530">byte</span><span class="op" id="4048534">)</span>&nbsp;<span class="builtintype" id="4048536">error</span>&nbsp;<span class="op" id="4048542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4048545">if</span>&nbsp;<span class="ident" id="4048548"><a href="/gostd/encoding/json/stream.go.html#4048494">m</a></span>&nbsp;<span class="op" id="4048550">==</span>&nbsp;<span class="builtintype" id="4048553">nil</span>&nbsp;<span class="op" id="4048557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4048561">return</span>&nbsp;<span class="ident" id="4048568"><a href="/gostd/encoding/json/stream.go.html#4044097">errors</a></span><span class="op" id="4048574">.</span><span class="ident" id="4048575"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="4048578">(</span><span class="string" id="4048579">&#34;json.RawMessage:&nbsp;UnmarshalJSON&nbsp;on&nbsp;nil&nbsp;pointer&#34;</span><span class="op" id="4048626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4048629">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4048632">*</span><span class="ident" id="4048633"><a href="/gostd/encoding/json/stream.go.html#4048494">m</a></span>&nbsp;<span class="op" id="4048635">=</span>&nbsp;<span class="builtinfunc" id="4048637">append</span><span class="op" id="4048643">(</span><span class="op" id="4048644">(</span><span class="op" id="4048645">*</span><span class="ident" id="4048646"><a href="/gostd/encoding/json/stream.go.html#4048494">m</a></span><span class="op" id="4048647">)</span><span class="op" id="4048648">[</span><span class="num" id="4048649">0</span><span class="op" id="4048650">:</span><span class="num" id="4048651">0</span><span class="op" id="4048652">]</span><span class="op" id="4048653">,</span>&nbsp;<span class="ident" id="4048655"><a href="/gostd/encoding/json/stream.go.html#4048523">data</a></span><span class="op" id="4048659">...</span><span class="op" id="4048662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4048665">return</span>&nbsp;<span class="builtintype" id="4048672">nil</span><br>
<span class="lineno"></span><span class="op" id="4048676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4048679">var</span>&nbsp;<span class="ident" id="4048683">_</span>&nbsp;<span class="ident" id="4048685"><a href="/gostd/encoding/json/encode.go.html#3996721">Marshaler</a></span>&nbsp;<span class="op" id="4048695">=</span>&nbsp;<span class="op" id="4048697">(</span><span class="op" id="4048698">*</span><span class="ident" id="4048699"><a href="/gostd/encoding/json/stream.go.html#4048300">RawMessage</a></span><span class="op" id="4048709">)</span><span class="op" id="4048710">(</span><span class="builtintype" id="4048711">nil</span><span class="op" id="4048714">)</span><br>
<span class="lineno">200</span><span class="keyword" id="4048716">var</span>&nbsp;<span class="ident" id="4048720">_</span>&nbsp;<span class="ident" id="4048722"><a href="/gostd/encoding/json/decode.go.html#3966052">Unmarshaler</a></span>&nbsp;<span class="op" id="4048734">=</span>&nbsp;<span class="op" id="4048736">(</span><span class="op" id="4048737">*</span><span class="ident" id="4048738"><a href="/gostd/encoding/json/stream.go.html#4048300">RawMessage</a></span><span class="op" id="4048748">)</span><span class="op" id="4048749">(</span><span class="builtintype" id="4048750">nil</span><span class="op" id="4048753">)</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
