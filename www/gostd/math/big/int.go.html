<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3643288">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3643343">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3643397">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3643448">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3643506">package</span>&nbsp;<span class="ident" id="3643514">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3643519">import</span>&nbsp;<span class="op" id="3643526">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3643529">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3643539">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3643546">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3643552">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3643565">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3643575">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3643578">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="3643633">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3643686">type</span>&nbsp;<span class="ident" id="3643691">Int</span>&nbsp;<span class="keyword" id="3643695">struct</span>&nbsp;<span class="op" id="3643702">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3643705">neg</span>&nbsp;<span class="builtintype" id="3643709">bool</span>&nbsp;<span class="comment" id="3643714">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3643723">abs</span>&nbsp;<span class="ident" id="3643727">nat</span>&nbsp;&nbsp;<span class="comment" id="3643732">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="3643765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3643768">var</span>&nbsp;<span class="ident" id="3643772">intOne</span>&nbsp;<span class="op" id="3643779">=</span>&nbsp;<span class="op" id="3643781">&amp;</span><span class="ident" id="3643782">Int</span><span class="op" id="3643785">{</span><span class="builtintype" id="3643786">false</span><span class="op" id="3643791">,</span>&nbsp;<span class="ident" id="3643793">natOne</span><span class="op" id="3643799">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="3643802">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="3643819">//</span><br>
<span class="lineno"></span><span class="comment" id="3643822">//&nbsp;&nbsp;&nbsp;&nbsp-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3643838">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="3643854">//&nbsp;&nbsp;&nbsp;&nbsp+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3643870">//</span><br>
<span class="lineno"></span><span class="keyword" id="3643873">func</span>&nbsp;<span class="op" id="3643878">(</span><span class="ident" id="3643879">x</span>&nbsp;<span class="op" id="3643881">*</span><span class="ident" id="3643882">Int</span><span class="op" id="3643885">)</span>&nbsp;<span class="ident" id="3643887">Sign</span><span class="op" id="3643891">(</span><span class="op" id="3643892">)</span>&nbsp;<span class="builtintype" id="3643894">int</span>&nbsp;<span class="op" id="3643898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643901">if</span>&nbsp;<span class="builtinfunc" id="3643904">len</span><span class="op" id="3643907">(</span><span class="ident" id="3643908">x</span><span class="op" id="3643909">.</span><span class="ident" id="3643910">abs</span><span class="op" id="3643913">)</span>&nbsp;<span class="op" id="3643915">==</span>&nbsp;<span class="num" id="3643918">0</span>&nbsp;<span class="op" id="3643920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643924">return</span>&nbsp;<span class="num" id="3643931">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3643934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643937">if</span>&nbsp;<span class="ident" id="3643940">x</span><span class="op" id="3643941">.</span><span class="ident" id="3643942">neg</span>&nbsp;<span class="op" id="3643946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643950">return</span>&nbsp;<span class="op" id="3643957">-</span><span class="num" id="3643958">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3643961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643964">return</span>&nbsp;<span class="num" id="3643971">1</span><br>
<span class="lineno">40</span><span class="op" id="3643973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3643976">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3644015">func</span>&nbsp;<span class="op" id="3644020">(</span><span class="ident" id="3644021">z</span>&nbsp;<span class="op" id="3644023">*</span><span class="ident" id="3644024">Int</span><span class="op" id="3644027">)</span>&nbsp;<span class="ident" id="3644029">SetInt64</span><span class="op" id="3644037">(</span><span class="ident" id="3644038">x</span>&nbsp;<span class="ident" id="3644040">int64</span><span class="op" id="3644045">)</span>&nbsp;<span class="op" id="3644047">*</span><span class="ident" id="3644048">Int</span>&nbsp;<span class="op" id="3644052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644055">neg</span>&nbsp;<span class="op" id="3644059">:=</span>&nbsp;<span class="builtintype" id="3644062">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644069">if</span>&nbsp;<span class="ident" id="3644072">x</span>&nbsp;<span class="op" id="3644074">&lt;</span>&nbsp;<span class="num" id="3644076">0</span>&nbsp;<span class="op" id="3644078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644082">neg</span>&nbsp;<span class="op" id="3644086">=</span>&nbsp;<span class="builtintype" id="3644088">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644095">x</span>&nbsp;<span class="op" id="3644097">=</span>&nbsp;<span class="op" id="3644099">-</span><span class="ident" id="3644100">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644106">z</span><span class="op" id="3644107">.</span><span class="ident" id="3644108">abs</span>&nbsp;<span class="op" id="3644112">=</span>&nbsp;<span class="ident" id="3644114">z</span><span class="op" id="3644115">.</span><span class="ident" id="3644116">abs</span><span class="op" id="3644119">.</span><span class="ident" id="3644120">setUint64</span><span class="op" id="3644129">(</span><span class="ident" id="3644130">uint64</span><span class="op" id="3644136">(</span><span class="ident" id="3644137">x</span><span class="op" id="3644138">)</span><span class="op" id="3644139">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644142">z</span><span class="op" id="3644143">.</span><span class="ident" id="3644144">neg</span>&nbsp;<span class="op" id="3644148">=</span>&nbsp;<span class="ident" id="3644150">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644155">return</span>&nbsp;<span class="ident" id="3644162">z</span><br>
<span class="lineno"></span><span class="op" id="3644164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3644167">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="3644207">func</span>&nbsp;<span class="op" id="3644212">(</span><span class="ident" id="3644213">z</span>&nbsp;<span class="op" id="3644215">*</span><span class="ident" id="3644216">Int</span><span class="op" id="3644219">)</span>&nbsp;<span class="ident" id="3644221">SetUint64</span><span class="op" id="3644230">(</span><span class="ident" id="3644231">x</span>&nbsp;<span class="ident" id="3644233">uint64</span><span class="op" id="3644239">)</span>&nbsp;<span class="op" id="3644241">*</span><span class="ident" id="3644242">Int</span>&nbsp;<span class="op" id="3644246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644249">z</span><span class="op" id="3644250">.</span><span class="ident" id="3644251">abs</span>&nbsp;<span class="op" id="3644255">=</span>&nbsp;<span class="ident" id="3644257">z</span><span class="op" id="3644258">.</span><span class="ident" id="3644259">abs</span><span class="op" id="3644262">.</span><span class="ident" id="3644263">setUint64</span><span class="op" id="3644272">(</span><span class="ident" id="3644273">x</span><span class="op" id="3644274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644277">z</span><span class="op" id="3644278">.</span><span class="ident" id="3644279">neg</span>&nbsp;<span class="op" id="3644283">=</span>&nbsp;<span class="builtintype" id="3644285">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644292">return</span>&nbsp;<span class="ident" id="3644299">z</span><br>
<span class="lineno"></span><span class="op" id="3644301">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3644304">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="3644356">func</span>&nbsp;<span class="ident" id="3644361">NewInt</span><span class="op" id="3644367">(</span><span class="ident" id="3644368">x</span>&nbsp;<span class="ident" id="3644370">int64</span><span class="op" id="3644375">)</span>&nbsp;<span class="op" id="3644377">*</span><span class="ident" id="3644378">Int</span>&nbsp;<span class="op" id="3644382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644385">return</span>&nbsp;<span class="builtinfunc" id="3644392">new</span><span class="op" id="3644395">(</span><span class="ident" id="3644396">Int</span><span class="op" id="3644399">)</span><span class="op" id="3644400">.</span><span class="ident" id="3644401">SetInt64</span><span class="op" id="3644409">(</span><span class="ident" id="3644410">x</span><span class="op" id="3644411">)</span><br>
<span class="lineno"></span><span class="op" id="3644413">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="3644416">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3644450">func</span>&nbsp;<span class="op" id="3644455">(</span><span class="ident" id="3644456">z</span>&nbsp;<span class="op" id="3644458">*</span><span class="ident" id="3644459">Int</span><span class="op" id="3644462">)</span>&nbsp;<span class="ident" id="3644464">Set</span><span class="op" id="3644467">(</span><span class="ident" id="3644468">x</span>&nbsp;<span class="op" id="3644470">*</span><span class="ident" id="3644471">Int</span><span class="op" id="3644474">)</span>&nbsp;<span class="op" id="3644476">*</span><span class="ident" id="3644477">Int</span>&nbsp;<span class="op" id="3644481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644484">if</span>&nbsp;<span class="ident" id="3644487">z</span>&nbsp;<span class="op" id="3644489">!=</span>&nbsp;<span class="ident" id="3644492">x</span>&nbsp;<span class="op" id="3644494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644498">z</span><span class="op" id="3644499">.</span><span class="ident" id="3644500">abs</span>&nbsp;<span class="op" id="3644504">=</span>&nbsp;<span class="ident" id="3644506">z</span><span class="op" id="3644507">.</span><span class="ident" id="3644508">abs</span><span class="op" id="3644511">.</span><span class="ident" id="3644512">set</span><span class="op" id="3644515">(</span><span class="ident" id="3644516">x</span><span class="op" id="3644517">.</span><span class="ident" id="3644518">abs</span><span class="op" id="3644521">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644525">z</span><span class="op" id="3644526">.</span><span class="ident" id="3644527">neg</span>&nbsp;<span class="op" id="3644531">=</span>&nbsp;<span class="ident" id="3644533">x</span><span class="op" id="3644534">.</span><span class="ident" id="3644535">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644543">return</span>&nbsp;<span class="ident" id="3644550">z</span><br>
<span class="lineno"></span><span class="op" id="3644552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="3644555">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="3644626">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="3644698">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3644728">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3644799">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="3644870">func</span>&nbsp;<span class="op" id="3644875">(</span><span class="ident" id="3644876">x</span>&nbsp;<span class="op" id="3644878">*</span><span class="ident" id="3644879">Int</span><span class="op" id="3644882">)</span>&nbsp;<span class="ident" id="3644884">Bits</span><span class="op" id="3644888">(</span><span class="op" id="3644889">)</span>&nbsp;<span class="op" id="3644891">[</span><span class="op" id="3644892">]</span><span class="ident" id="3644893">Word</span>&nbsp;<span class="op" id="3644898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644901">return</span>&nbsp;<span class="ident" id="3644908">x</span><span class="op" id="3644909">.</span><span class="ident" id="3644910">abs</span><br>
<span class="lineno"></span><span class="op" id="3644914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3644917">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="3644989">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="3645063">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3645121">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3645195">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="3645266">func</span>&nbsp;<span class="op" id="3645271">(</span><span class="ident" id="3645272">z</span>&nbsp;<span class="op" id="3645274">*</span><span class="ident" id="3645275">Int</span><span class="op" id="3645278">)</span>&nbsp;<span class="ident" id="3645280">SetBits</span><span class="op" id="3645287">(</span><span class="ident" id="3645288">abs</span>&nbsp;<span class="op" id="3645292">[</span><span class="op" id="3645293">]</span><span class="ident" id="3645294">Word</span><span class="op" id="3645298">)</span>&nbsp;<span class="op" id="3645300">*</span><span class="ident" id="3645301">Int</span>&nbsp;<span class="op" id="3645305">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645308">z</span><span class="op" id="3645309">.</span><span class="ident" id="3645310">abs</span>&nbsp;<span class="op" id="3645314">=</span>&nbsp;<span class="ident" id="3645316">nat</span><span class="op" id="3645319">(</span><span class="ident" id="3645320">abs</span><span class="op" id="3645323">)</span><span class="op" id="3645324">.</span><span class="ident" id="3645325">norm</span><span class="op" id="3645329">(</span><span class="op" id="3645330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645333">z</span><span class="op" id="3645334">.</span><span class="ident" id="3645335">neg</span>&nbsp;<span class="op" id="3645339">=</span>&nbsp;<span class="builtintype" id="3645341">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645348">return</span>&nbsp;<span class="ident" id="3645355">z</span><br>
<span class="lineno"></span><span class="op" id="3645357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3645360">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3645422">func</span>&nbsp;<span class="op" id="3645427">(</span><span class="ident" id="3645428">z</span>&nbsp;<span class="op" id="3645430">*</span><span class="ident" id="3645431">Int</span><span class="op" id="3645434">)</span>&nbsp;<span class="ident" id="3645436">Abs</span><span class="op" id="3645439">(</span><span class="ident" id="3645440">x</span>&nbsp;<span class="op" id="3645442">*</span><span class="ident" id="3645443">Int</span><span class="op" id="3645446">)</span>&nbsp;<span class="op" id="3645448">*</span><span class="ident" id="3645449">Int</span>&nbsp;<span class="op" id="3645453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645456">z</span><span class="op" id="3645457">.</span><span class="ident" id="3645458">Set</span><span class="op" id="3645461">(</span><span class="ident" id="3645462">x</span><span class="op" id="3645463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645466">z</span><span class="op" id="3645467">.</span><span class="ident" id="3645468">neg</span>&nbsp;<span class="op" id="3645472">=</span>&nbsp;<span class="builtintype" id="3645474">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645481">return</span>&nbsp;<span class="ident" id="3645488">z</span><br>
<span class="lineno">100</span><span class="op" id="3645490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3645493">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3645528">func</span>&nbsp;<span class="op" id="3645533">(</span><span class="ident" id="3645534">z</span>&nbsp;<span class="op" id="3645536">*</span><span class="ident" id="3645537">Int</span><span class="op" id="3645540">)</span>&nbsp;<span class="ident" id="3645542">Neg</span><span class="op" id="3645545">(</span><span class="ident" id="3645546">x</span>&nbsp;<span class="op" id="3645548">*</span><span class="ident" id="3645549">Int</span><span class="op" id="3645552">)</span>&nbsp;<span class="op" id="3645554">*</span><span class="ident" id="3645555">Int</span>&nbsp;<span class="op" id="3645559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645562">z</span><span class="op" id="3645563">.</span><span class="ident" id="3645564">Set</span><span class="op" id="3645567">(</span><span class="ident" id="3645568">x</span><span class="op" id="3645569">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645572">z</span><span class="op" id="3645573">.</span><span class="ident" id="3645574">neg</span>&nbsp;<span class="op" id="3645578">=</span>&nbsp;<span class="builtinfunc" id="3645580">len</span><span class="op" id="3645583">(</span><span class="ident" id="3645584">z</span><span class="op" id="3645585">.</span><span class="ident" id="3645586">abs</span><span class="op" id="3645589">)</span>&nbsp;<span class="op" id="3645591">&gt;</span>&nbsp;<span class="num" id="3645593">0</span>&nbsp;<span class="op" id="3645595">&amp;&amp;</span>&nbsp;<span class="op" id="3645598">!</span><span class="ident" id="3645599">z</span><span class="op" id="3645600">.</span><span class="ident" id="3645601">neg</span>&nbsp;<span class="comment" id="3645605">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645623">return</span>&nbsp;<span class="ident" id="3645630">z</span><br>
<span class="lineno"></span><span class="op" id="3645632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3645635">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="3645679">func</span>&nbsp;<span class="op" id="3645684">(</span><span class="ident" id="3645685">z</span>&nbsp;<span class="op" id="3645687">*</span><span class="ident" id="3645688">Int</span><span class="op" id="3645691">)</span>&nbsp;<span class="ident" id="3645693">Add</span><span class="op" id="3645696">(</span><span class="ident" id="3645697">x</span><span class="op" id="3645698">,</span>&nbsp;<span class="ident" id="3645700">y</span>&nbsp;<span class="op" id="3645702">*</span><span class="ident" id="3645703">Int</span><span class="op" id="3645706">)</span>&nbsp;<span class="op" id="3645708">*</span><span class="ident" id="3645709">Int</span>&nbsp;<span class="op" id="3645713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645716">neg</span>&nbsp;<span class="op" id="3645720">:=</span>&nbsp;<span class="ident" id="3645723">x</span><span class="op" id="3645724">.</span><span class="ident" id="3645725">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645730">if</span>&nbsp;<span class="ident" id="3645733">x</span><span class="op" id="3645734">.</span><span class="ident" id="3645735">neg</span>&nbsp;<span class="op" id="3645739">==</span>&nbsp;<span class="ident" id="3645742">y</span><span class="op" id="3645743">.</span><span class="ident" id="3645744">neg</span>&nbsp;<span class="op" id="3645748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645752">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645772">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645801">z</span><span class="op" id="3645802">.</span><span class="ident" id="3645803">abs</span>&nbsp;<span class="op" id="3645807">=</span>&nbsp;<span class="ident" id="3645809">z</span><span class="op" id="3645810">.</span><span class="ident" id="3645811">abs</span><span class="op" id="3645814">.</span><span class="ident" id="3645815">add</span><span class="op" id="3645818">(</span><span class="ident" id="3645819">x</span><span class="op" id="3645820">.</span><span class="ident" id="3645821">abs</span><span class="op" id="3645824">,</span>&nbsp;<span class="ident" id="3645826">y</span><span class="op" id="3645827">.</span><span class="ident" id="3645828">abs</span><span class="op" id="3645831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3645834">}</span>&nbsp;<span class="keyword" id="3645836">else</span>&nbsp;<span class="op" id="3645841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645845">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645880">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645915">if</span>&nbsp;<span class="ident" id="3645918">x</span><span class="op" id="3645919">.</span><span class="ident" id="3645920">abs</span><span class="op" id="3645923">.</span><span class="ident" id="3645924">cmp</span><span class="op" id="3645927">(</span><span class="ident" id="3645928">y</span><span class="op" id="3645929">.</span><span class="ident" id="3645930">abs</span><span class="op" id="3645933">)</span>&nbsp;<span class="op" id="3645935">&gt;=</span>&nbsp;<span class="num" id="3645938">0</span>&nbsp;<span class="op" id="3645940">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645945">z</span><span class="op" id="3645946">.</span><span class="ident" id="3645947">abs</span>&nbsp;<span class="op" id="3645951">=</span>&nbsp;<span class="ident" id="3645953">z</span><span class="op" id="3645954">.</span><span class="ident" id="3645955">abs</span><span class="op" id="3645958">.</span><span class="ident" id="3645959">sub</span><span class="op" id="3645962">(</span><span class="ident" id="3645963">x</span><span class="op" id="3645964">.</span><span class="ident" id="3645965">abs</span><span class="op" id="3645968">,</span>&nbsp;<span class="ident" id="3645970">y</span><span class="op" id="3645971">.</span><span class="ident" id="3645972">abs</span><span class="op" id="3645975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3645979">}</span>&nbsp;<span class="keyword" id="3645981">else</span>&nbsp;<span class="op" id="3645986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645991">neg</span>&nbsp;<span class="op" id="3645995">=</span>&nbsp;<span class="op" id="3645997">!</span><span class="ident" id="3645998">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646005">z</span><span class="op" id="3646006">.</span><span class="ident" id="3646007">abs</span>&nbsp;<span class="op" id="3646011">=</span>&nbsp;<span class="ident" id="3646013">z</span><span class="op" id="3646014">.</span><span class="ident" id="3646015">abs</span><span class="op" id="3646018">.</span><span class="ident" id="3646019">sub</span><span class="op" id="3646022">(</span><span class="ident" id="3646023">y</span><span class="op" id="3646024">.</span><span class="ident" id="3646025">abs</span><span class="op" id="3646028">,</span>&nbsp;<span class="ident" id="3646030">x</span><span class="op" id="3646031">.</span><span class="ident" id="3646032">abs</span><span class="op" id="3646035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646039">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646045">z</span><span class="op" id="3646046">.</span><span class="ident" id="3646047">neg</span>&nbsp;<span class="op" id="3646051">=</span>&nbsp;<span class="builtinfunc" id="3646053">len</span><span class="op" id="3646056">(</span><span class="ident" id="3646057">z</span><span class="op" id="3646058">.</span><span class="ident" id="3646059">abs</span><span class="op" id="3646062">)</span>&nbsp;<span class="op" id="3646064">&gt;</span>&nbsp;<span class="num" id="3646066">0</span>&nbsp;<span class="op" id="3646068">&amp;&amp;</span>&nbsp;<span class="ident" id="3646071">neg</span>&nbsp;<span class="comment" id="3646075">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646093">return</span>&nbsp;<span class="ident" id="3646100">z</span><br>
<span class="lineno"></span><span class="op" id="3646102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3646105">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3646156">func</span>&nbsp;<span class="op" id="3646161">(</span><span class="ident" id="3646162">z</span>&nbsp;<span class="op" id="3646164">*</span><span class="ident" id="3646165">Int</span><span class="op" id="3646168">)</span>&nbsp;<span class="ident" id="3646170">Sub</span><span class="op" id="3646173">(</span><span class="ident" id="3646174">x</span><span class="op" id="3646175">,</span>&nbsp;<span class="ident" id="3646177">y</span>&nbsp;<span class="op" id="3646179">*</span><span class="ident" id="3646180">Int</span><span class="op" id="3646183">)</span>&nbsp;<span class="op" id="3646185">*</span><span class="ident" id="3646186">Int</span>&nbsp;<span class="op" id="3646190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646193">neg</span>&nbsp;<span class="op" id="3646197">:=</span>&nbsp;<span class="ident" id="3646200">x</span><span class="op" id="3646201">.</span><span class="ident" id="3646202">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646207">if</span>&nbsp;<span class="ident" id="3646210">x</span><span class="op" id="3646211">.</span><span class="ident" id="3646212">neg</span>&nbsp;<span class="op" id="3646216">!=</span>&nbsp;<span class="ident" id="3646219">y</span><span class="op" id="3646220">.</span><span class="ident" id="3646221">neg</span>&nbsp;<span class="op" id="3646225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646229">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646252">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646278">z</span><span class="op" id="3646279">.</span><span class="ident" id="3646280">abs</span>&nbsp;<span class="op" id="3646284">=</span>&nbsp;<span class="ident" id="3646286">z</span><span class="op" id="3646287">.</span><span class="ident" id="3646288">abs</span><span class="op" id="3646291">.</span><span class="ident" id="3646292">add</span><span class="op" id="3646295">(</span><span class="ident" id="3646296">x</span><span class="op" id="3646297">.</span><span class="ident" id="3646298">abs</span><span class="op" id="3646301">,</span>&nbsp;<span class="ident" id="3646303">y</span><span class="op" id="3646304">.</span><span class="ident" id="3646305">abs</span><span class="op" id="3646308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646311">}</span>&nbsp;<span class="keyword" id="3646313">else</span>&nbsp;<span class="op" id="3646318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646322">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646354">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646392">if</span>&nbsp;<span class="ident" id="3646395">x</span><span class="op" id="3646396">.</span><span class="ident" id="3646397">abs</span><span class="op" id="3646400">.</span><span class="ident" id="3646401">cmp</span><span class="op" id="3646404">(</span><span class="ident" id="3646405">y</span><span class="op" id="3646406">.</span><span class="ident" id="3646407">abs</span><span class="op" id="3646410">)</span>&nbsp;<span class="op" id="3646412">&gt;=</span>&nbsp;<span class="num" id="3646415">0</span>&nbsp;<span class="op" id="3646417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646422">z</span><span class="op" id="3646423">.</span><span class="ident" id="3646424">abs</span>&nbsp;<span class="op" id="3646428">=</span>&nbsp;<span class="ident" id="3646430">z</span><span class="op" id="3646431">.</span><span class="ident" id="3646432">abs</span><span class="op" id="3646435">.</span><span class="ident" id="3646436">sub</span><span class="op" id="3646439">(</span><span class="ident" id="3646440">x</span><span class="op" id="3646441">.</span><span class="ident" id="3646442">abs</span><span class="op" id="3646445">,</span>&nbsp;<span class="ident" id="3646447">y</span><span class="op" id="3646448">.</span><span class="ident" id="3646449">abs</span><span class="op" id="3646452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646456">}</span>&nbsp;<span class="keyword" id="3646458">else</span>&nbsp;<span class="op" id="3646463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646468">neg</span>&nbsp;<span class="op" id="3646472">=</span>&nbsp;<span class="op" id="3646474">!</span><span class="ident" id="3646475">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646482">z</span><span class="op" id="3646483">.</span><span class="ident" id="3646484">abs</span>&nbsp;<span class="op" id="3646488">=</span>&nbsp;<span class="ident" id="3646490">z</span><span class="op" id="3646491">.</span><span class="ident" id="3646492">abs</span><span class="op" id="3646495">.</span><span class="ident" id="3646496">sub</span><span class="op" id="3646499">(</span><span class="ident" id="3646500">y</span><span class="op" id="3646501">.</span><span class="ident" id="3646502">abs</span><span class="op" id="3646505">,</span>&nbsp;<span class="ident" id="3646507">x</span><span class="op" id="3646508">.</span><span class="ident" id="3646509">abs</span><span class="op" id="3646512">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646522">z</span><span class="op" id="3646523">.</span><span class="ident" id="3646524">neg</span>&nbsp;<span class="op" id="3646528">=</span>&nbsp;<span class="builtinfunc" id="3646530">len</span><span class="op" id="3646533">(</span><span class="ident" id="3646534">z</span><span class="op" id="3646535">.</span><span class="ident" id="3646536">abs</span><span class="op" id="3646539">)</span>&nbsp;<span class="op" id="3646541">&gt;</span>&nbsp;<span class="num" id="3646543">0</span>&nbsp;<span class="op" id="3646545">&amp;&amp;</span>&nbsp;<span class="ident" id="3646548">neg</span>&nbsp;<span class="comment" id="3646552">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646570">return</span>&nbsp;<span class="ident" id="3646577">z</span><br>
<span class="lineno"></span><span class="op" id="3646579">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="3646582">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3646630">func</span>&nbsp;<span class="op" id="3646635">(</span><span class="ident" id="3646636">z</span>&nbsp;<span class="op" id="3646638">*</span><span class="ident" id="3646639">Int</span><span class="op" id="3646642">)</span>&nbsp;<span class="ident" id="3646644">Mul</span><span class="op" id="3646647">(</span><span class="ident" id="3646648">x</span><span class="op" id="3646649">,</span>&nbsp;<span class="ident" id="3646651">y</span>&nbsp;<span class="op" id="3646653">*</span><span class="ident" id="3646654">Int</span><span class="op" id="3646657">)</span>&nbsp;<span class="op" id="3646659">*</span><span class="ident" id="3646660">Int</span>&nbsp;<span class="op" id="3646664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646667">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646686">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646711">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646736">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646761">z</span><span class="op" id="3646762">.</span><span class="ident" id="3646763">abs</span>&nbsp;<span class="op" id="3646767">=</span>&nbsp;<span class="ident" id="3646769">z</span><span class="op" id="3646770">.</span><span class="ident" id="3646771">abs</span><span class="op" id="3646774">.</span><span class="ident" id="3646775">mul</span><span class="op" id="3646778">(</span><span class="ident" id="3646779">x</span><span class="op" id="3646780">.</span><span class="ident" id="3646781">abs</span><span class="op" id="3646784">,</span>&nbsp;<span class="ident" id="3646786">y</span><span class="op" id="3646787">.</span><span class="ident" id="3646788">abs</span><span class="op" id="3646791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646794">z</span><span class="op" id="3646795">.</span><span class="ident" id="3646796">neg</span>&nbsp;<span class="op" id="3646800">=</span>&nbsp;<span class="builtinfunc" id="3646802">len</span><span class="op" id="3646805">(</span><span class="ident" id="3646806">z</span><span class="op" id="3646807">.</span><span class="ident" id="3646808">abs</span><span class="op" id="3646811">)</span>&nbsp;<span class="op" id="3646813">&gt;</span>&nbsp;<span class="num" id="3646815">0</span>&nbsp;<span class="op" id="3646817">&amp;&amp;</span>&nbsp;<span class="ident" id="3646820">x</span><span class="op" id="3646821">.</span><span class="ident" id="3646822">neg</span>&nbsp;<span class="op" id="3646826">!=</span>&nbsp;<span class="ident" id="3646829">y</span><span class="op" id="3646830">.</span><span class="ident" id="3646831">neg</span>&nbsp;<span class="comment" id="3646835">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646853">return</span>&nbsp;<span class="ident" id="3646860">z</span><br>
<span class="lineno">160</span><span class="op" id="3646862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3646865">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="3646915">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3646965">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="3647009">func</span>&nbsp;<span class="op" id="3647014">(</span><span class="ident" id="3647015">z</span>&nbsp;<span class="op" id="3647017">*</span><span class="ident" id="3647018">Int</span><span class="op" id="3647021">)</span>&nbsp;<span class="ident" id="3647023">MulRange</span><span class="op" id="3647031">(</span><span class="ident" id="3647032">a</span><span class="op" id="3647033">,</span>&nbsp;<span class="ident" id="3647035">b</span>&nbsp;<span class="ident" id="3647037">int64</span><span class="op" id="3647042">)</span>&nbsp;<span class="op" id="3647044">*</span><span class="ident" id="3647045">Int</span>&nbsp;<span class="op" id="3647049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647052">switch</span>&nbsp;<span class="op" id="3647059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647062">case</span>&nbsp;<span class="ident" id="3647067">a</span>&nbsp;<span class="op" id="3647069">&gt;</span>&nbsp;<span class="ident" id="3647071">b</span><span class="op" id="3647072">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647076">return</span>&nbsp;<span class="ident" id="3647083">z</span><span class="op" id="3647084">.</span><span class="ident" id="3647085">SetInt64</span><span class="op" id="3647093">(</span><span class="num" id="3647094">1</span><span class="op" id="3647095">)</span>&nbsp;<span class="comment" id="3647097">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647113">case</span>&nbsp;<span class="ident" id="3647118">a</span>&nbsp;<span class="op" id="3647120">&lt;=</span>&nbsp;<span class="num" id="3647123">0</span>&nbsp;<span class="op" id="3647125">&amp;&amp;</span>&nbsp;<span class="ident" id="3647128">b</span>&nbsp;<span class="op" id="3647130">&gt;=</span>&nbsp;<span class="num" id="3647133">0</span><span class="op" id="3647134">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647138">return</span>&nbsp;<span class="ident" id="3647145">z</span><span class="op" id="3647146">.</span><span class="ident" id="3647147">SetInt64</span><span class="op" id="3647155">(</span><span class="num" id="3647156">0</span><span class="op" id="3647157">)</span>&nbsp;<span class="comment" id="3647159">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3647180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3647183">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647215">neg</span>&nbsp;<span class="op" id="3647219">:=</span>&nbsp;<span class="builtintype" id="3647222">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647229">if</span>&nbsp;<span class="ident" id="3647232">a</span>&nbsp;<span class="op" id="3647234">&lt;</span>&nbsp;<span class="num" id="3647236">0</span>&nbsp;<span class="op" id="3647238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647242">neg</span>&nbsp;<span class="op" id="3647246">=</span>&nbsp;<span class="op" id="3647248">(</span><span class="ident" id="3647249">b</span><span class="op" id="3647250">-</span><span class="ident" id="3647251">a</span><span class="op" id="3647252">)</span><span class="op" id="3647253">&amp;</span><span class="num" id="3647254">1</span>&nbsp;<span class="op" id="3647256">==</span>&nbsp;<span class="num" id="3647259">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647263">a</span><span class="op" id="3647264">,</span>&nbsp;<span class="ident" id="3647266">b</span>&nbsp;<span class="op" id="3647268">=</span>&nbsp;<span class="op" id="3647270">-</span><span class="ident" id="3647271">b</span><span class="op" id="3647272">,</span>&nbsp;<span class="op" id="3647274">-</span><span class="ident" id="3647275">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3647278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647282">z</span><span class="op" id="3647283">.</span><span class="ident" id="3647284">abs</span>&nbsp;<span class="op" id="3647288">=</span>&nbsp;<span class="ident" id="3647290">z</span><span class="op" id="3647291">.</span><span class="ident" id="3647292">abs</span><span class="op" id="3647295">.</span><span class="ident" id="3647296">mulRange</span><span class="op" id="3647304">(</span><span class="ident" id="3647305">uint64</span><span class="op" id="3647311">(</span><span class="ident" id="3647312">a</span><span class="op" id="3647313">)</span><span class="op" id="3647314">,</span>&nbsp;<span class="ident" id="3647316">uint64</span><span class="op" id="3647322">(</span><span class="ident" id="3647323">b</span><span class="op" id="3647324">)</span><span class="op" id="3647325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647328">z</span><span class="op" id="3647329">.</span><span class="ident" id="3647330">neg</span>&nbsp;<span class="op" id="3647334">=</span>&nbsp;<span class="ident" id="3647336">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647341">return</span>&nbsp;<span class="ident" id="3647348">z</span><br>
<span class="lineno"></span><span class="op" id="3647350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="3647353">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3647425">func</span>&nbsp;<span class="op" id="3647430">(</span><span class="ident" id="3647431">z</span>&nbsp;<span class="op" id="3647433">*</span><span class="ident" id="3647434">Int</span><span class="op" id="3647437">)</span>&nbsp;<span class="ident" id="3647439">Binomial</span><span class="op" id="3647447">(</span><span class="ident" id="3647448">n</span><span class="op" id="3647449">,</span>&nbsp;<span class="ident" id="3647451">k</span>&nbsp;<span class="ident" id="3647453">int64</span><span class="op" id="3647458">)</span>&nbsp;<span class="op" id="3647460">*</span><span class="ident" id="3647461">Int</span>&nbsp;<span class="op" id="3647465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647468">var</span>&nbsp;<span class="ident" id="3647472">a</span><span class="op" id="3647473">,</span>&nbsp;<span class="ident" id="3647475">b</span>&nbsp;<span class="ident" id="3647477">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647482">a</span><span class="op" id="3647483">.</span><span class="ident" id="3647484">MulRange</span><span class="op" id="3647492">(</span><span class="ident" id="3647493">n</span><span class="op" id="3647494">-</span><span class="ident" id="3647495">k</span><span class="op" id="3647496">+</span><span class="num" id="3647497">1</span><span class="op" id="3647498">,</span>&nbsp;<span class="ident" id="3647500">n</span><span class="op" id="3647501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647504">b</span><span class="op" id="3647505">.</span><span class="ident" id="3647506">MulRange</span><span class="op" id="3647514">(</span><span class="num" id="3647515">1</span><span class="op" id="3647516">,</span>&nbsp;<span class="ident" id="3647518">k</span><span class="op" id="3647519">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647522">return</span>&nbsp;<span class="ident" id="3647529">z</span><span class="op" id="3647530">.</span><span class="ident" id="3647531">Quo</span><span class="op" id="3647534">(</span><span class="op" id="3647535">&amp;</span><span class="ident" id="3647536">a</span><span class="op" id="3647537">,</span>&nbsp;<span class="op" id="3647539">&amp;</span><span class="ident" id="3647540">b</span><span class="op" id="3647541">)</span><br>
<span class="lineno"></span><span class="op" id="3647543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3647546">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3647606">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="3647662">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3647739">func</span>&nbsp;<span class="op" id="3647744">(</span><span class="ident" id="3647745">z</span>&nbsp;<span class="op" id="3647747">*</span><span class="ident" id="3647748">Int</span><span class="op" id="3647751">)</span>&nbsp;<span class="ident" id="3647753">Quo</span><span class="op" id="3647756">(</span><span class="ident" id="3647757">x</span><span class="op" id="3647758">,</span>&nbsp;<span class="ident" id="3647760">y</span>&nbsp;<span class="op" id="3647762">*</span><span class="ident" id="3647763">Int</span><span class="op" id="3647766">)</span>&nbsp;<span class="op" id="3647768">*</span><span class="ident" id="3647769">Int</span>&nbsp;<span class="op" id="3647773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647776">z</span><span class="op" id="3647777">.</span><span class="ident" id="3647778">abs</span><span class="op" id="3647781">,</span>&nbsp;<span class="ident" id="3647783">_</span>&nbsp;<span class="op" id="3647785">=</span>&nbsp;<span class="ident" id="3647787">z</span><span class="op" id="3647788">.</span><span class="ident" id="3647789">abs</span><span class="op" id="3647792">.</span><span class="ident" id="3647793">div</span><span class="op" id="3647796">(</span><span class="ident" id="3647797">nil</span><span class="op" id="3647800">,</span>&nbsp;<span class="ident" id="3647802">x</span><span class="op" id="3647803">.</span><span class="ident" id="3647804">abs</span><span class="op" id="3647807">,</span>&nbsp;<span class="ident" id="3647809">y</span><span class="op" id="3647810">.</span><span class="ident" id="3647811">abs</span><span class="op" id="3647814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647817">z</span><span class="op" id="3647818">.</span><span class="ident" id="3647819">neg</span>&nbsp;<span class="op" id="3647823">=</span>&nbsp;<span class="builtinfunc" id="3647825">len</span><span class="op" id="3647828">(</span><span class="ident" id="3647829">z</span><span class="op" id="3647830">.</span><span class="ident" id="3647831">abs</span><span class="op" id="3647834">)</span>&nbsp;<span class="op" id="3647836">&gt;</span>&nbsp;<span class="num" id="3647838">0</span>&nbsp;<span class="op" id="3647840">&amp;&amp;</span>&nbsp;<span class="ident" id="3647843">x</span><span class="op" id="3647844">.</span><span class="ident" id="3647845">neg</span>&nbsp;<span class="op" id="3647849">!=</span>&nbsp;<span class="ident" id="3647852">y</span><span class="op" id="3647853">.</span><span class="ident" id="3647854">neg</span>&nbsp;<span class="comment" id="3647858">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647876">return</span>&nbsp;<span class="ident" id="3647883">z</span><br>
<span class="lineno">200</span><span class="op" id="3647885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3647888">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3647949">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3648005">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="3648081">func</span>&nbsp;<span class="op" id="3648086">(</span><span class="ident" id="3648087">z</span>&nbsp;<span class="op" id="3648089">*</span><span class="ident" id="3648090">Int</span><span class="op" id="3648093">)</span>&nbsp;<span class="ident" id="3648095">Rem</span><span class="op" id="3648098">(</span><span class="ident" id="3648099">x</span><span class="op" id="3648100">,</span>&nbsp;<span class="ident" id="3648102">y</span>&nbsp;<span class="op" id="3648104">*</span><span class="ident" id="3648105">Int</span><span class="op" id="3648108">)</span>&nbsp;<span class="op" id="3648110">*</span><span class="ident" id="3648111">Int</span>&nbsp;<span class="op" id="3648115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648118">_</span><span class="op" id="3648119">,</span>&nbsp;<span class="ident" id="3648121">z</span><span class="op" id="3648122">.</span><span class="ident" id="3648123">abs</span>&nbsp;<span class="op" id="3648127">=</span>&nbsp;<span class="ident" id="3648129">nat</span><span class="op" id="3648132">(</span><span class="ident" id="3648133">nil</span><span class="op" id="3648136">)</span><span class="op" id="3648137">.</span><span class="ident" id="3648138">div</span><span class="op" id="3648141">(</span><span class="ident" id="3648142">z</span><span class="op" id="3648143">.</span><span class="ident" id="3648144">abs</span><span class="op" id="3648147">,</span>&nbsp;<span class="ident" id="3648149">x</span><span class="op" id="3648150">.</span><span class="ident" id="3648151">abs</span><span class="op" id="3648154">,</span>&nbsp;<span class="ident" id="3648156">y</span><span class="op" id="3648157">.</span><span class="ident" id="3648158">abs</span><span class="op" id="3648161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648164">z</span><span class="op" id="3648165">.</span><span class="ident" id="3648166">neg</span>&nbsp;<span class="op" id="3648170">=</span>&nbsp;<span class="builtinfunc" id="3648172">len</span><span class="op" id="3648175">(</span><span class="ident" id="3648176">z</span><span class="op" id="3648177">.</span><span class="ident" id="3648178">abs</span><span class="op" id="3648181">)</span>&nbsp;<span class="op" id="3648183">&gt;</span>&nbsp;<span class="num" id="3648185">0</span>&nbsp;<span class="op" id="3648187">&amp;&amp;</span>&nbsp;<span class="ident" id="3648190">x</span><span class="op" id="3648191">.</span><span class="ident" id="3648192">neg</span>&nbsp;<span class="comment" id="3648196">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648214">return</span>&nbsp;<span class="ident" id="3648221">z</span><br>
<span class="lineno"></span><span class="op" id="3648223">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="3648226">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="3648290">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3648333">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3648389">//</span><br>
<span class="lineno">215</span><span class="comment" id="3648392">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3648447">//</span><br>
<span class="lineno"></span><span class="comment" id="3648450">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="3648500">//&nbsp;&nbsp;&nbsp;&nbspr&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="3648515">//</span><br>
<span class="lineno">220</span><span class="comment" id="3648518">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="3648590">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="3648652">//</span><br>
<span class="lineno"></span><span class="keyword" id="3648655">func</span>&nbsp;<span class="op" id="3648660">(</span><span class="ident" id="3648661">z</span>&nbsp;<span class="op" id="3648663">*</span><span class="ident" id="3648664">Int</span><span class="op" id="3648667">)</span>&nbsp;<span class="ident" id="3648669">QuoRem</span><span class="op" id="3648675">(</span><span class="ident" id="3648676">x</span><span class="op" id="3648677">,</span>&nbsp;<span class="ident" id="3648679">y</span><span class="op" id="3648680">,</span>&nbsp;<span class="ident" id="3648682">r</span>&nbsp;<span class="op" id="3648684">*</span><span class="ident" id="3648685">Int</span><span class="op" id="3648688">)</span>&nbsp;<span class="op" id="3648690">(</span><span class="op" id="3648691">*</span><span class="ident" id="3648692">Int</span><span class="op" id="3648695">,</span>&nbsp;<span class="op" id="3648697">*</span><span class="ident" id="3648698">Int</span><span class="op" id="3648701">)</span>&nbsp;<span class="op" id="3648703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648706">z</span><span class="op" id="3648707">.</span><span class="ident" id="3648708">abs</span><span class="op" id="3648711">,</span>&nbsp;<span class="ident" id="3648713">r</span><span class="op" id="3648714">.</span><span class="ident" id="3648715">abs</span>&nbsp;<span class="op" id="3648719">=</span>&nbsp;<span class="ident" id="3648721">z</span><span class="op" id="3648722">.</span><span class="ident" id="3648723">abs</span><span class="op" id="3648726">.</span><span class="ident" id="3648727">div</span><span class="op" id="3648730">(</span><span class="ident" id="3648731">r</span><span class="op" id="3648732">.</span><span class="ident" id="3648733">abs</span><span class="op" id="3648736">,</span>&nbsp;<span class="ident" id="3648738">x</span><span class="op" id="3648739">.</span><span class="ident" id="3648740">abs</span><span class="op" id="3648743">,</span>&nbsp;<span class="ident" id="3648745">y</span><span class="op" id="3648746">.</span><span class="ident" id="3648747">abs</span><span class="op" id="3648750">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648753">z</span><span class="op" id="3648754">.</span><span class="ident" id="3648755">neg</span><span class="op" id="3648758">,</span>&nbsp;<span class="ident" id="3648760">r</span><span class="op" id="3648761">.</span><span class="ident" id="3648762">neg</span>&nbsp;<span class="op" id="3648766">=</span>&nbsp;<span class="builtinfunc" id="3648768">len</span><span class="op" id="3648771">(</span><span class="ident" id="3648772">z</span><span class="op" id="3648773">.</span><span class="ident" id="3648774">abs</span><span class="op" id="3648777">)</span>&nbsp;<span class="op" id="3648779">&gt;</span>&nbsp;<span class="num" id="3648781">0</span>&nbsp;<span class="op" id="3648783">&amp;&amp;</span>&nbsp;<span class="ident" id="3648786">x</span><span class="op" id="3648787">.</span><span class="ident" id="3648788">neg</span>&nbsp;<span class="op" id="3648792">!=</span>&nbsp;<span class="ident" id="3648795">y</span><span class="op" id="3648796">.</span><span class="ident" id="3648797">neg</span><span class="op" id="3648800">,</span>&nbsp;<span class="builtinfunc" id="3648802">len</span><span class="op" id="3648805">(</span><span class="ident" id="3648806">r</span><span class="op" id="3648807">.</span><span class="ident" id="3648808">abs</span><span class="op" id="3648811">)</span>&nbsp;<span class="op" id="3648813">&gt;</span>&nbsp;<span class="num" id="3648815">0</span>&nbsp;<span class="op" id="3648817">&amp;&amp;</span>&nbsp;<span class="ident" id="3648820">x</span><span class="op" id="3648821">.</span><span class="ident" id="3648822">neg</span>&nbsp;<span class="comment" id="3648826">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648844">return</span>&nbsp;<span class="ident" id="3648851">z</span><span class="op" id="3648852">,</span>&nbsp;<span class="ident" id="3648854">r</span><br>
<span class="lineno"></span><span class="op" id="3648856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3648859">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="3648919">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3648975">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3649054">func</span>&nbsp;<span class="op" id="3649059">(</span><span class="ident" id="3649060">z</span>&nbsp;<span class="op" id="3649062">*</span><span class="ident" id="3649063">Int</span><span class="op" id="3649066">)</span>&nbsp;<span class="ident" id="3649068">Div</span><span class="op" id="3649071">(</span><span class="ident" id="3649072">x</span><span class="op" id="3649073">,</span>&nbsp;<span class="ident" id="3649075">y</span>&nbsp;<span class="op" id="3649077">*</span><span class="ident" id="3649078">Int</span><span class="op" id="3649081">)</span>&nbsp;<span class="op" id="3649083">*</span><span class="ident" id="3649084">Int</span>&nbsp;<span class="op" id="3649088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649091">y_neg</span>&nbsp;<span class="op" id="3649097">:=</span>&nbsp;<span class="ident" id="3649100">y</span><span class="op" id="3649101">.</span><span class="ident" id="3649102">neg</span>&nbsp;<span class="comment" id="3649106">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649134">var</span>&nbsp;<span class="ident" id="3649138">r</span>&nbsp;<span class="ident" id="3649140">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649145">z</span><span class="op" id="3649146">.</span><span class="ident" id="3649147">QuoRem</span><span class="op" id="3649153">(</span><span class="ident" id="3649154">x</span><span class="op" id="3649155">,</span>&nbsp;<span class="ident" id="3649157">y</span><span class="op" id="3649158">,</span>&nbsp;<span class="op" id="3649160">&amp;</span><span class="ident" id="3649161">r</span><span class="op" id="3649162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649165">if</span>&nbsp;<span class="ident" id="3649168">r</span><span class="op" id="3649169">.</span><span class="ident" id="3649170">neg</span>&nbsp;<span class="op" id="3649174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649178">if</span>&nbsp;<span class="ident" id="3649181">y_neg</span>&nbsp;<span class="op" id="3649187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649192">z</span><span class="op" id="3649193">.</span><span class="ident" id="3649194">Add</span><span class="op" id="3649197">(</span><span class="ident" id="3649198">z</span><span class="op" id="3649199">,</span>&nbsp;<span class="ident" id="3649201">intOne</span><span class="op" id="3649207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649211">}</span>&nbsp;<span class="keyword" id="3649213">else</span>&nbsp;<span class="op" id="3649218">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649223">z</span><span class="op" id="3649224">.</span><span class="ident" id="3649225">Sub</span><span class="op" id="3649228">(</span><span class="ident" id="3649229">z</span><span class="op" id="3649230">,</span>&nbsp;<span class="ident" id="3649232">intOne</span><span class="op" id="3649238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649248">return</span>&nbsp;<span class="ident" id="3649255">z</span><br>
<span class="lineno"></span><span class="op" id="3649257">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="3649260">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3649319">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3649375">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3649453">func</span>&nbsp;<span class="op" id="3649458">(</span><span class="ident" id="3649459">z</span>&nbsp;<span class="op" id="3649461">*</span><span class="ident" id="3649462">Int</span><span class="op" id="3649465">)</span>&nbsp;<span class="ident" id="3649467">Mod</span><span class="op" id="3649470">(</span><span class="ident" id="3649471">x</span><span class="op" id="3649472">,</span>&nbsp;<span class="ident" id="3649474">y</span>&nbsp;<span class="op" id="3649476">*</span><span class="ident" id="3649477">Int</span><span class="op" id="3649480">)</span>&nbsp;<span class="op" id="3649482">*</span><span class="ident" id="3649483">Int</span>&nbsp;<span class="op" id="3649487">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649490">y0</span>&nbsp;<span class="op" id="3649493">:=</span>&nbsp;<span class="ident" id="3649496">y</span>&nbsp;<span class="comment" id="3649498">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649509">if</span>&nbsp;<span class="ident" id="3649512">z</span>&nbsp;<span class="op" id="3649514">==</span>&nbsp;<span class="ident" id="3649517">y</span>&nbsp;<span class="op" id="3649519">||</span>&nbsp;<span class="ident" id="3649522">alias</span><span class="op" id="3649527">(</span><span class="ident" id="3649528">z</span><span class="op" id="3649529">.</span><span class="ident" id="3649530">abs</span><span class="op" id="3649533">,</span>&nbsp;<span class="ident" id="3649535">y</span><span class="op" id="3649536">.</span><span class="ident" id="3649537">abs</span><span class="op" id="3649540">)</span>&nbsp;<span class="op" id="3649542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649546">y0</span>&nbsp;<span class="op" id="3649549">=</span>&nbsp;<span class="builtinfunc" id="3649551">new</span><span class="op" id="3649554">(</span><span class="ident" id="3649555">Int</span><span class="op" id="3649558">)</span><span class="op" id="3649559">.</span><span class="ident" id="3649560">Set</span><span class="op" id="3649563">(</span><span class="ident" id="3649564">y</span><span class="op" id="3649565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649571">var</span>&nbsp;<span class="ident" id="3649575">q</span>&nbsp;<span class="ident" id="3649577">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649582">q</span><span class="op" id="3649583">.</span><span class="ident" id="3649584">QuoRem</span><span class="op" id="3649590">(</span><span class="ident" id="3649591">x</span><span class="op" id="3649592">,</span>&nbsp;<span class="ident" id="3649594">y</span><span class="op" id="3649595">,</span>&nbsp;<span class="ident" id="3649597">z</span><span class="op" id="3649598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649601">if</span>&nbsp;<span class="ident" id="3649604">z</span><span class="op" id="3649605">.</span><span class="ident" id="3649606">neg</span>&nbsp;<span class="op" id="3649610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649614">if</span>&nbsp;<span class="ident" id="3649617">y0</span><span class="op" id="3649619">.</span><span class="ident" id="3649620">neg</span>&nbsp;<span class="op" id="3649624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649629">z</span><span class="op" id="3649630">.</span><span class="ident" id="3649631">Sub</span><span class="op" id="3649634">(</span><span class="ident" id="3649635">z</span><span class="op" id="3649636">,</span>&nbsp;<span class="ident" id="3649638">y0</span><span class="op" id="3649640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649644">}</span>&nbsp;<span class="keyword" id="3649646">else</span>&nbsp;<span class="op" id="3649651">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649656">z</span><span class="op" id="3649657">.</span><span class="ident" id="3649658">Add</span><span class="op" id="3649661">(</span><span class="ident" id="3649662">z</span><span class="op" id="3649663">,</span>&nbsp;<span class="ident" id="3649665">y0</span><span class="op" id="3649667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649677">return</span>&nbsp;<span class="ident" id="3649684">z</span><br>
<span class="lineno"></span><span class="op" id="3649686">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="3649689">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3649759">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3649802">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3649858">//</span><br>
<span class="lineno">270</span><span class="comment" id="3649861">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3649926">//</span><br>
<span class="lineno"></span><span class="comment" id="3649929">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3649955">//&nbsp;&nbsp;&nbsp;&nbspm&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="3649989">//</span><br>
<span class="lineno">275</span><span class="comment" id="3649992">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="3650062">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3650126">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="3650189">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="3650204">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="3650256">//</span><br>
<span class="lineno"></span><span class="keyword" id="3650259">func</span>&nbsp;<span class="op" id="3650264">(</span><span class="ident" id="3650265">z</span>&nbsp;<span class="op" id="3650267">*</span><span class="ident" id="3650268">Int</span><span class="op" id="3650271">)</span>&nbsp;<span class="ident" id="3650273">DivMod</span><span class="op" id="3650279">(</span><span class="ident" id="3650280">x</span><span class="op" id="3650281">,</span>&nbsp;<span class="ident" id="3650283">y</span><span class="op" id="3650284">,</span>&nbsp;<span class="ident" id="3650286">m</span>&nbsp;<span class="op" id="3650288">*</span><span class="ident" id="3650289">Int</span><span class="op" id="3650292">)</span>&nbsp;<span class="op" id="3650294">(</span><span class="op" id="3650295">*</span><span class="ident" id="3650296">Int</span><span class="op" id="3650299">,</span>&nbsp;<span class="op" id="3650301">*</span><span class="ident" id="3650302">Int</span><span class="op" id="3650305">)</span>&nbsp;<span class="op" id="3650307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650310">y0</span>&nbsp;<span class="op" id="3650313">:=</span>&nbsp;<span class="ident" id="3650316">y</span>&nbsp;<span class="comment" id="3650318">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650329">if</span>&nbsp;<span class="ident" id="3650332">z</span>&nbsp;<span class="op" id="3650334">==</span>&nbsp;<span class="ident" id="3650337">y</span>&nbsp;<span class="op" id="3650339">||</span>&nbsp;<span class="ident" id="3650342">alias</span><span class="op" id="3650347">(</span><span class="ident" id="3650348">z</span><span class="op" id="3650349">.</span><span class="ident" id="3650350">abs</span><span class="op" id="3650353">,</span>&nbsp;<span class="ident" id="3650355">y</span><span class="op" id="3650356">.</span><span class="ident" id="3650357">abs</span><span class="op" id="3650360">)</span>&nbsp;<span class="op" id="3650362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650366">y0</span>&nbsp;<span class="op" id="3650369">=</span>&nbsp;<span class="builtinfunc" id="3650371">new</span><span class="op" id="3650374">(</span><span class="ident" id="3650375">Int</span><span class="op" id="3650378">)</span><span class="op" id="3650379">.</span><span class="ident" id="3650380">Set</span><span class="op" id="3650383">(</span><span class="ident" id="3650384">y</span><span class="op" id="3650385">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650391">z</span><span class="op" id="3650392">.</span><span class="ident" id="3650393">QuoRem</span><span class="op" id="3650399">(</span><span class="ident" id="3650400">x</span><span class="op" id="3650401">,</span>&nbsp;<span class="ident" id="3650403">y</span><span class="op" id="3650404">,</span>&nbsp;<span class="ident" id="3650406">m</span><span class="op" id="3650407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650410">if</span>&nbsp;<span class="ident" id="3650413">m</span><span class="op" id="3650414">.</span><span class="ident" id="3650415">neg</span>&nbsp;<span class="op" id="3650419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650423">if</span>&nbsp;<span class="ident" id="3650426">y0</span><span class="op" id="3650428">.</span><span class="ident" id="3650429">neg</span>&nbsp;<span class="op" id="3650433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650438">z</span><span class="op" id="3650439">.</span><span class="ident" id="3650440">Add</span><span class="op" id="3650443">(</span><span class="ident" id="3650444">z</span><span class="op" id="3650445">,</span>&nbsp;<span class="ident" id="3650447">intOne</span><span class="op" id="3650453">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650458">m</span><span class="op" id="3650459">.</span><span class="ident" id="3650460">Sub</span><span class="op" id="3650463">(</span><span class="ident" id="3650464">m</span><span class="op" id="3650465">,</span>&nbsp;<span class="ident" id="3650467">y0</span><span class="op" id="3650469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650473">}</span>&nbsp;<span class="keyword" id="3650475">else</span>&nbsp;<span class="op" id="3650480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650485">z</span><span class="op" id="3650486">.</span><span class="ident" id="3650487">Sub</span><span class="op" id="3650490">(</span><span class="ident" id="3650491">z</span><span class="op" id="3650492">,</span>&nbsp;<span class="ident" id="3650494">intOne</span><span class="op" id="3650500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650505">m</span><span class="op" id="3650506">.</span><span class="ident" id="3650507">Add</span><span class="op" id="3650510">(</span><span class="ident" id="3650511">m</span><span class="op" id="3650512">,</span>&nbsp;<span class="ident" id="3650514">y0</span><span class="op" id="3650516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650520">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650526">return</span>&nbsp;<span class="ident" id="3650533">z</span><span class="op" id="3650534">,</span>&nbsp;<span class="ident" id="3650536">m</span><br>
<span class="lineno"></span><span class="op" id="3650538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3650541">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="3650578">//</span><br>
<span class="lineno"></span><span class="comment" id="3650581">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3650599">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3650617">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3650635">//</span><br>
<span class="lineno">305</span><span class="keyword" id="3650638">func</span>&nbsp;<span class="op" id="3650643">(</span><span class="ident" id="3650644">x</span>&nbsp;<span class="op" id="3650646">*</span><span class="ident" id="3650647">Int</span><span class="op" id="3650650">)</span>&nbsp;<span class="ident" id="3650652">Cmp</span><span class="op" id="3650655">(</span><span class="ident" id="3650656">y</span>&nbsp;<span class="op" id="3650658">*</span><span class="ident" id="3650659">Int</span><span class="op" id="3650662">)</span>&nbsp;<span class="op" id="3650664">(</span><span class="ident" id="3650665">r</span>&nbsp;<span class="builtintype" id="3650667">int</span><span class="op" id="3650670">)</span>&nbsp;<span class="op" id="3650672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3650675">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3650698">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3650718">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3650738">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650770">switch</span>&nbsp;<span class="op" id="3650777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650780">case</span>&nbsp;<span class="ident" id="3650785">x</span><span class="op" id="3650786">.</span><span class="ident" id="3650787">neg</span>&nbsp;<span class="op" id="3650791">==</span>&nbsp;<span class="ident" id="3650794">y</span><span class="op" id="3650795">.</span><span class="ident" id="3650796">neg</span><span class="op" id="3650799">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650803">r</span>&nbsp;<span class="op" id="3650805">=</span>&nbsp;<span class="ident" id="3650807">x</span><span class="op" id="3650808">.</span><span class="ident" id="3650809">abs</span><span class="op" id="3650812">.</span><span class="ident" id="3650813">cmp</span><span class="op" id="3650816">(</span><span class="ident" id="3650817">y</span><span class="op" id="3650818">.</span><span class="ident" id="3650819">abs</span><span class="op" id="3650822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650826">if</span>&nbsp;<span class="ident" id="3650829">x</span><span class="op" id="3650830">.</span><span class="ident" id="3650831">neg</span>&nbsp;<span class="op" id="3650835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650840">r</span>&nbsp;<span class="op" id="3650842">=</span>&nbsp;<span class="op" id="3650844">-</span><span class="ident" id="3650845">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650852">case</span>&nbsp;<span class="ident" id="3650857">x</span><span class="op" id="3650858">.</span><span class="ident" id="3650859">neg</span><span class="op" id="3650862">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650866">r</span>&nbsp;<span class="op" id="3650868">=</span>&nbsp;<span class="op" id="3650870">-</span><span class="num" id="3650871">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650874">default</span><span class="op" id="3650881">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650885">r</span>&nbsp;<span class="op" id="3650887">=</span>&nbsp;<span class="num" id="3650889">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650895">return</span><br>
<span class="lineno"></span><span class="op" id="3650902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3650905">func</span>&nbsp;<span class="op" id="3650910">(</span><span class="ident" id="3650911">x</span>&nbsp;<span class="op" id="3650913">*</span><span class="ident" id="3650914">Int</span><span class="op" id="3650917">)</span>&nbsp;<span class="ident" id="3650919">String</span><span class="op" id="3650925">(</span><span class="op" id="3650926">)</span>&nbsp;<span class="builtintype" id="3650928">string</span>&nbsp;<span class="op" id="3650935">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650938">switch</span>&nbsp;<span class="op" id="3650945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650948">case</span>&nbsp;<span class="ident" id="3650953">x</span>&nbsp;<span class="op" id="3650955">==</span>&nbsp;<span class="ident" id="3650958">nil</span><span class="op" id="3650961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650965">return</span>&nbsp;<span class="string" id="3650972">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650981">case</span>&nbsp;<span class="ident" id="3650986">x</span><span class="op" id="3650987">.</span><span class="ident" id="3650988">neg</span><span class="op" id="3650991">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650995">return</span>&nbsp;<span class="string" id="3651002">&#34;-&#34;</span>&nbsp;<span class="op" id="3651006">+</span>&nbsp;<span class="ident" id="3651008">x</span><span class="op" id="3651009">.</span><span class="ident" id="3651010">abs</span><span class="op" id="3651013">.</span><span class="ident" id="3651014">decimalString</span><span class="op" id="3651027">(</span><span class="op" id="3651028">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3651031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651034">return</span>&nbsp;<span class="ident" id="3651041">x</span><span class="op" id="3651042">.</span><span class="ident" id="3651043">abs</span><span class="op" id="3651046">.</span><span class="ident" id="3651047">decimalString</span><span class="op" id="3651060">(</span><span class="op" id="3651061">)</span><br>
<span class="lineno"></span><span class="op" id="3651063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3651066">func</span>&nbsp;<span class="ident" id="3651071">charset</span><span class="op" id="3651078">(</span><span class="ident" id="3651079">ch</span>&nbsp;<span class="builtintype" id="3651082">rune</span><span class="op" id="3651086">)</span>&nbsp;<span class="builtintype" id="3651088">string</span>&nbsp;<span class="op" id="3651095">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651098">switch</span>&nbsp;<span class="ident" id="3651105">ch</span>&nbsp;<span class="op" id="3651108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651111">case</span>&nbsp;<span class="string" id="3651116">&#39;b&#39;</span><span class="op" id="3651119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651123">return</span>&nbsp;<span class="ident" id="3651130">lowercaseDigits</span><span class="op" id="3651145">[</span><span class="num" id="3651146">0</span><span class="op" id="3651147">:</span><span class="num" id="3651148">2</span><span class="op" id="3651149">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651152">case</span>&nbsp;<span class="string" id="3651157">&#39;o&#39;</span><span class="op" id="3651160">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651164">return</span>&nbsp;<span class="ident" id="3651171">lowercaseDigits</span><span class="op" id="3651186">[</span><span class="num" id="3651187">0</span><span class="op" id="3651188">:</span><span class="num" id="3651189">8</span><span class="op" id="3651190">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651193">case</span>&nbsp;<span class="string" id="3651198">&#39;d&#39;</span><span class="op" id="3651201">,</span>&nbsp;<span class="string" id="3651203">&#39;s&#39;</span><span class="op" id="3651206">,</span>&nbsp;<span class="string" id="3651208">&#39;v&#39;</span><span class="op" id="3651211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651215">return</span>&nbsp;<span class="ident" id="3651222">lowercaseDigits</span><span class="op" id="3651237">[</span><span class="num" id="3651238">0</span><span class="op" id="3651239">:</span><span class="num" id="3651240">10</span><span class="op" id="3651242">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651245">case</span>&nbsp;<span class="string" id="3651250">&#39;x&#39;</span><span class="op" id="3651253">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651257">return</span>&nbsp;<span class="ident" id="3651264">lowercaseDigits</span><span class="op" id="3651279">[</span><span class="num" id="3651280">0</span><span class="op" id="3651281">:</span><span class="num" id="3651282">16</span><span class="op" id="3651284">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651287">case</span>&nbsp;<span class="string" id="3651292">&#39;X&#39;</span><span class="op" id="3651295">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651299">return</span>&nbsp;<span class="ident" id="3651306">uppercaseDigits</span><span class="op" id="3651321">[</span><span class="num" id="3651322">0</span><span class="op" id="3651323">:</span><span class="num" id="3651324">16</span><span class="op" id="3651326">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3651329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651332">return</span>&nbsp;<span class="string" id="3651339">&#34;&#34;</span>&nbsp;<span class="comment" id="3651342">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="3651360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="3651363">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="3651398">func</span>&nbsp;<span class="ident" id="3651403">writeMultiple</span><span class="op" id="3651416">(</span><span class="ident" id="3651417">s</span>&nbsp;<span class="ident" id="3651419">fmt</span><span class="op" id="3651422">.</span><span class="ident" id="3651423">State</span><span class="op" id="3651428">,</span>&nbsp;<span class="ident" id="3651430">text</span>&nbsp;<span class="builtintype" id="3651435">string</span><span class="op" id="3651441">,</span>&nbsp;<span class="ident" id="3651443">count</span>&nbsp;<span class="builtintype" id="3651449">int</span><span class="op" id="3651452">)</span>&nbsp;<span class="op" id="3651454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651457">if</span>&nbsp;<span class="builtinfunc" id="3651460">len</span><span class="op" id="3651463">(</span><span class="ident" id="3651464">text</span><span class="op" id="3651468">)</span>&nbsp;<span class="op" id="3651470">&gt;</span>&nbsp;<span class="num" id="3651472">0</span>&nbsp;<span class="op" id="3651474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3651478">b</span>&nbsp;<span class="op" id="3651480">:=</span>&nbsp;<span class="op" id="3651483">[</span><span class="op" id="3651484">]</span><span class="builtintype" id="3651485">byte</span><span class="op" id="3651489">(</span><span class="ident" id="3651490">text</span><span class="op" id="3651494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651498">for</span>&nbsp;<span class="op" id="3651502">;</span>&nbsp;<span class="ident" id="3651504">count</span>&nbsp;<span class="op" id="3651510">&gt;</span>&nbsp;<span class="num" id="3651512">0</span><span class="op" id="3651513">;</span>&nbsp;<span class="ident" id="3651515">count</span><span class="op" id="3651520">--</span>&nbsp;<span class="op" id="3651523">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3651528">s</span><span class="op" id="3651529">.</span><span class="ident" id="3651530">Write</span><span class="op" id="3651535">(</span><span class="ident" id="3651536">b</span><span class="op" id="3651537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3651541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3651544">}</span><br>
<span class="lineno"></span><span class="op" id="3651546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="3651549">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="3651610">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="3651671">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="3651732">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="3651793">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="3651850">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="3651909">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3651968">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="3652028">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3652086">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="3652110">//</span><br>
<span class="lineno"></span><span class="keyword" id="3652113">func</span>&nbsp;<span class="op" id="3652118">(</span><span class="ident" id="3652119">x</span>&nbsp;<span class="op" id="3652121">*</span><span class="ident" id="3652122">Int</span><span class="op" id="3652125">)</span>&nbsp;<span class="ident" id="3652127">Format</span><span class="op" id="3652133">(</span><span class="ident" id="3652134">s</span>&nbsp;<span class="ident" id="3652136">fmt</span><span class="op" id="3652139">.</span><span class="ident" id="3652140">State</span><span class="op" id="3652145">,</span>&nbsp;<span class="ident" id="3652147">ch</span>&nbsp;<span class="builtintype" id="3652150">rune</span><span class="op" id="3652154">)</span>&nbsp;<span class="op" id="3652156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652159">cs</span>&nbsp;<span class="op" id="3652162">:=</span>&nbsp;<span class="ident" id="3652165">charset</span><span class="op" id="3652172">(</span><span class="ident" id="3652173">ch</span><span class="op" id="3652175">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3652179">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652197">switch</span>&nbsp;<span class="op" id="3652204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652207">case</span>&nbsp;<span class="ident" id="3652212">cs</span>&nbsp;<span class="op" id="3652215">==</span>&nbsp;<span class="string" id="3652218">&#34;&#34;</span><span class="op" id="3652220">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3652224">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652244">fmt</span><span class="op" id="3652247">.</span><span class="ident" id="3652248">Fprintf</span><span class="op" id="3652255">(</span><span class="ident" id="3652256">s</span><span class="op" id="3652257">,</span>&nbsp;<span class="string" id="3652259">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="3652278">,</span>&nbsp;<span class="ident" id="3652280">ch</span><span class="op" id="3652282">,</span>&nbsp;<span class="ident" id="3652284">x</span><span class="op" id="3652285">.</span><span class="ident" id="3652286">String</span><span class="op" id="3652292">(</span><span class="op" id="3652293">)</span><span class="op" id="3652294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652298">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652306">case</span>&nbsp;<span class="ident" id="3652311">x</span>&nbsp;<span class="op" id="3652313">==</span>&nbsp;<span class="ident" id="3652316">nil</span><span class="op" id="3652319">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652323">fmt</span><span class="op" id="3652326">.</span><span class="ident" id="3652327">Fprint</span><span class="op" id="3652333">(</span><span class="ident" id="3652334">s</span><span class="op" id="3652335">,</span>&nbsp;<span class="string" id="3652337">&#34;&lt;nil&gt;&#34;</span><span class="op" id="3652344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652348">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3652360">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652389">sign</span>&nbsp;<span class="op" id="3652394">:=</span>&nbsp;<span class="string" id="3652397">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652401">switch</span>&nbsp;<span class="op" id="3652408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652411">case</span>&nbsp;<span class="ident" id="3652416">x</span><span class="op" id="3652417">.</span><span class="ident" id="3652418">neg</span><span class="op" id="3652421">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652425">sign</span>&nbsp;<span class="op" id="3652430">=</span>&nbsp;<span class="string" id="3652432">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652437">case</span>&nbsp;<span class="ident" id="3652442">s</span><span class="op" id="3652443">.</span><span class="ident" id="3652444">Flag</span><span class="op" id="3652448">(</span><span class="string" id="3652449">&#39;+&#39;</span><span class="op" id="3652452">)</span><span class="op" id="3652453">:</span>&nbsp;<span class="comment" id="3652455">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652495">sign</span>&nbsp;<span class="op" id="3652500">=</span>&nbsp;<span class="string" id="3652502">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652507">case</span>&nbsp;<span class="ident" id="3652512">s</span><span class="op" id="3652513">.</span><span class="ident" id="3652514">Flag</span><span class="op" id="3652518">(</span><span class="string" id="3652519">&#39;&nbsp;&#39;</span><span class="op" id="3652522">)</span><span class="op" id="3652523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652527">sign</span>&nbsp;<span class="op" id="3652532">=</span>&nbsp;<span class="string" id="3652534">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652539">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3652543">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652602">prefix</span>&nbsp;<span class="op" id="3652609">:=</span>&nbsp;<span class="string" id="3652612">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652616">if</span>&nbsp;<span class="ident" id="3652619">s</span><span class="op" id="3652620">.</span><span class="ident" id="3652621">Flag</span><span class="op" id="3652625">(</span><span class="string" id="3652626">&#39;#&#39;</span><span class="op" id="3652629">)</span>&nbsp;<span class="op" id="3652631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652635">switch</span>&nbsp;<span class="ident" id="3652642">ch</span>&nbsp;<span class="op" id="3652645">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652649">case</span>&nbsp;<span class="string" id="3652654">&#39;o&#39;</span><span class="op" id="3652657">:</span>&nbsp;<span class="comment" id="3652659">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652671">prefix</span>&nbsp;<span class="op" id="3652678">=</span>&nbsp;<span class="string" id="3652680">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652686">case</span>&nbsp;<span class="string" id="3652691">&#39;x&#39;</span><span class="op" id="3652694">:</span>&nbsp;<span class="comment" id="3652696">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652714">prefix</span>&nbsp;<span class="op" id="3652721">=</span>&nbsp;<span class="string" id="3652723">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652730">case</span>&nbsp;<span class="string" id="3652735">&#39;X&#39;</span><span class="op" id="3652738">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652743">prefix</span>&nbsp;<span class="op" id="3652750">=</span>&nbsp;<span class="string" id="3652752">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3652766">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652841">digits</span>&nbsp;<span class="op" id="3652848">:=</span>&nbsp;<span class="ident" id="3652851">x</span><span class="op" id="3652852">.</span><span class="ident" id="3652853">abs</span><span class="op" id="3652856">.</span><span class="builtintype" id="3652857">string</span><span class="op" id="3652863">(</span><span class="ident" id="3652864">cs</span><span class="op" id="3652866">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3652870">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652935">var</span>&nbsp;<span class="ident" id="3652939">left</span>&nbsp;<span class="builtintype" id="3652944">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3652950">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653021">var</span>&nbsp;<span class="ident" id="3653025">zeroes</span>&nbsp;<span class="builtintype" id="3653032">int</span>&nbsp;<span class="comment" id="3653036">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653102">var</span>&nbsp;<span class="ident" id="3653106">right</span>&nbsp;<span class="builtintype" id="3653112">int</span>&nbsp;&nbsp;<span class="comment" id="3653117">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3653190">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653272">precision</span><span class="op" id="3653281">,</span>&nbsp;<span class="ident" id="3653283">precisionSet</span>&nbsp;<span class="op" id="3653296">:=</span>&nbsp;<span class="ident" id="3653299">s</span><span class="op" id="3653300">.</span><span class="ident" id="3653301">Precision</span><span class="op" id="3653310">(</span><span class="op" id="3653311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653314">if</span>&nbsp;<span class="ident" id="3653317">precisionSet</span>&nbsp;<span class="op" id="3653330">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653334">switch</span>&nbsp;<span class="op" id="3653341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653345">case</span>&nbsp;<span class="builtinfunc" id="3653350">len</span><span class="op" id="3653353">(</span><span class="ident" id="3653354">digits</span><span class="op" id="3653360">)</span>&nbsp;<span class="op" id="3653362">&lt;</span>&nbsp;<span class="ident" id="3653364">precision</span><span class="op" id="3653373">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653378">zeroes</span>&nbsp;<span class="op" id="3653385">=</span>&nbsp;<span class="ident" id="3653387">precision</span>&nbsp;<span class="op" id="3653397">-</span>&nbsp;<span class="builtinfunc" id="3653399">len</span><span class="op" id="3653402">(</span><span class="ident" id="3653403">digits</span><span class="op" id="3653409">)</span>&nbsp;<span class="comment" id="3653411">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653438">case</span>&nbsp;<span class="ident" id="3653443">digits</span>&nbsp;<span class="op" id="3653450">==</span>&nbsp;<span class="string" id="3653453">&#34;0&#34;</span>&nbsp;<span class="op" id="3653457">&amp;&amp;</span>&nbsp;<span class="ident" id="3653460">precision</span>&nbsp;<span class="op" id="3653470">==</span>&nbsp;<span class="num" id="3653473">0</span><span class="op" id="3653474">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653479">return</span>&nbsp;<span class="comment" id="3653486">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3653568">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653645">length</span>&nbsp;<span class="op" id="3653652">:=</span>&nbsp;<span class="builtinfunc" id="3653655">len</span><span class="op" id="3653658">(</span><span class="ident" id="3653659">sign</span><span class="op" id="3653663">)</span>&nbsp;<span class="op" id="3653665">+</span>&nbsp;<span class="builtinfunc" id="3653667">len</span><span class="op" id="3653670">(</span><span class="ident" id="3653671">prefix</span><span class="op" id="3653677">)</span>&nbsp;<span class="op" id="3653679">+</span>&nbsp;<span class="ident" id="3653681">zeroes</span>&nbsp;<span class="op" id="3653688">+</span>&nbsp;<span class="builtinfunc" id="3653690">len</span><span class="op" id="3653693">(</span><span class="ident" id="3653694">digits</span><span class="op" id="3653700">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653703">if</span>&nbsp;<span class="ident" id="3653706">width</span><span class="op" id="3653711">,</span>&nbsp;<span class="ident" id="3653713">widthSet</span>&nbsp;<span class="op" id="3653722">:=</span>&nbsp;<span class="ident" id="3653725">s</span><span class="op" id="3653726">.</span><span class="ident" id="3653727">Width</span><span class="op" id="3653732">(</span><span class="op" id="3653733">)</span><span class="op" id="3653734">;</span>&nbsp;<span class="ident" id="3653736">widthSet</span>&nbsp;<span class="op" id="3653745">&amp;&amp;</span>&nbsp;<span class="ident" id="3653748">length</span>&nbsp;<span class="op" id="3653755">&lt;</span>&nbsp;<span class="ident" id="3653757">width</span>&nbsp;<span class="op" id="3653763">{</span>&nbsp;<span class="comment" id="3653765">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653787">switch</span>&nbsp;<span class="ident" id="3653794">d</span>&nbsp;<span class="op" id="3653796">:=</span>&nbsp;<span class="ident" id="3653799">width</span>&nbsp;<span class="op" id="3653805">-</span>&nbsp;<span class="ident" id="3653807">length</span><span class="op" id="3653813">;</span>&nbsp;<span class="op" id="3653815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653819">case</span>&nbsp;<span class="ident" id="3653824">s</span><span class="op" id="3653825">.</span><span class="ident" id="3653826">Flag</span><span class="op" id="3653830">(</span><span class="string" id="3653831">&#39;-&#39;</span><span class="op" id="3653834">)</span><span class="op" id="3653835">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3653840">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653911">right</span>&nbsp;<span class="op" id="3653917">=</span>&nbsp;<span class="ident" id="3653919">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653923">case</span>&nbsp;<span class="ident" id="3653928">s</span><span class="op" id="3653929">.</span><span class="ident" id="3653930">Flag</span><span class="op" id="3653934">(</span><span class="string" id="3653935">&#39;0&#39;</span><span class="op" id="3653938">)</span>&nbsp;<span class="op" id="3653940">&amp;&amp;</span>&nbsp;<span class="op" id="3653943">!</span><span class="ident" id="3653944">precisionSet</span><span class="op" id="3653956">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3653961">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654015">zeroes</span>&nbsp;<span class="op" id="3654022">=</span>&nbsp;<span class="ident" id="3654024">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654028">default</span><span class="op" id="3654035">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3654040">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654074">left</span>&nbsp;<span class="op" id="3654079">=</span>&nbsp;<span class="ident" id="3654081">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3654092">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654166">writeMultiple</span><span class="op" id="3654179">(</span><span class="ident" id="3654180">s</span><span class="op" id="3654181">,</span>&nbsp;<span class="string" id="3654183">&#34;&nbsp;&#34;</span><span class="op" id="3654186">,</span>&nbsp;<span class="ident" id="3654188">left</span><span class="op" id="3654192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654195">writeMultiple</span><span class="op" id="3654208">(</span><span class="ident" id="3654209">s</span><span class="op" id="3654210">,</span>&nbsp;<span class="ident" id="3654212">sign</span><span class="op" id="3654216">,</span>&nbsp;<span class="num" id="3654218">1</span><span class="op" id="3654219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654222">writeMultiple</span><span class="op" id="3654235">(</span><span class="ident" id="3654236">s</span><span class="op" id="3654237">,</span>&nbsp;<span class="ident" id="3654239">prefix</span><span class="op" id="3654245">,</span>&nbsp;<span class="num" id="3654247">1</span><span class="op" id="3654248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654251">writeMultiple</span><span class="op" id="3654264">(</span><span class="ident" id="3654265">s</span><span class="op" id="3654266">,</span>&nbsp;<span class="string" id="3654268">&#34;0&#34;</span><span class="op" id="3654271">,</span>&nbsp;<span class="ident" id="3654273">zeroes</span><span class="op" id="3654279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654282">writeMultiple</span><span class="op" id="3654295">(</span><span class="ident" id="3654296">s</span><span class="op" id="3654297">,</span>&nbsp;<span class="ident" id="3654299">digits</span><span class="op" id="3654305">,</span>&nbsp;<span class="num" id="3654307">1</span><span class="op" id="3654308">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654311">writeMultiple</span><span class="op" id="3654324">(</span><span class="ident" id="3654325">s</span><span class="op" id="3654326">,</span>&nbsp;<span class="string" id="3654328">&#34;&nbsp;&#34;</span><span class="op" id="3654331">,</span>&nbsp;<span class="ident" id="3654333">right</span><span class="op" id="3654338">)</span><br>
<span class="lineno"></span><span class="op" id="3654340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3654343">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="3654424">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="3654504">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3654583">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3654661">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="3654717">//</span><br>
<span class="lineno"></span><span class="comment" id="3654720">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="3654798">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3654876">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3654952">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3655030">//</span><br>
<span class="lineno"></span><span class="keyword" id="3655033">func</span>&nbsp;<span class="op" id="3655038">(</span><span class="ident" id="3655039">z</span>&nbsp;<span class="op" id="3655041">*</span><span class="ident" id="3655042">Int</span><span class="op" id="3655045">)</span>&nbsp;<span class="ident" id="3655047">scan</span><span class="op" id="3655051">(</span><span class="ident" id="3655052">r</span>&nbsp;<span class="ident" id="3655054">io</span><span class="op" id="3655056">.</span><span class="ident" id="3655057">RuneScanner</span><span class="op" id="3655068">,</span>&nbsp;<span class="ident" id="3655070">base</span>&nbsp;<span class="builtintype" id="3655075">int</span><span class="op" id="3655078">)</span>&nbsp;<span class="op" id="3655080">(</span><span class="op" id="3655081">*</span><span class="ident" id="3655082">Int</span><span class="op" id="3655085">,</span>&nbsp;<span class="builtintype" id="3655087">int</span><span class="op" id="3655090">,</span>&nbsp;<span class="builtintype" id="3655092">error</span><span class="op" id="3655097">)</span>&nbsp;<span class="op" id="3655099">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3655102">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655121">ch</span><span class="op" id="3655123">,</span>&nbsp;<span class="ident" id="3655125">_</span><span class="op" id="3655126">,</span>&nbsp;<span class="ident" id="3655128">err</span>&nbsp;<span class="op" id="3655132">:=</span>&nbsp;<span class="ident" id="3655135">r</span><span class="op" id="3655136">.</span><span class="ident" id="3655137">ReadRune</span><span class="op" id="3655145">(</span><span class="op" id="3655146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655149">if</span>&nbsp;<span class="ident" id="3655152">err</span>&nbsp;<span class="op" id="3655156">!=</span>&nbsp;<span class="ident" id="3655159">nil</span>&nbsp;<span class="op" id="3655163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655167">return</span>&nbsp;<span class="ident" id="3655174">nil</span><span class="op" id="3655177">,</span>&nbsp;<span class="num" id="3655179">0</span><span class="op" id="3655180">,</span>&nbsp;<span class="ident" id="3655182">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3655187">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655190">neg</span>&nbsp;<span class="op" id="3655194">:=</span>&nbsp;<span class="builtintype" id="3655197">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655204">switch</span>&nbsp;<span class="ident" id="3655211">ch</span>&nbsp;<span class="op" id="3655214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655217">case</span>&nbsp;<span class="string" id="3655222">&#39;-&#39;</span><span class="op" id="3655225">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655229">neg</span>&nbsp;<span class="op" id="3655233">=</span>&nbsp;<span class="builtintype" id="3655235">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655241">case</span>&nbsp;<span class="string" id="3655246">&#39;+&#39;</span><span class="op" id="3655249">:</span>&nbsp;<span class="comment" id="3655251">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655269">default</span><span class="op" id="3655276">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655280">r</span><span class="op" id="3655281">.</span><span class="ident" id="3655282">UnreadRune</span><span class="op" id="3655292">(</span><span class="op" id="3655293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3655296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3655300">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655323">z</span><span class="op" id="3655324">.</span><span class="ident" id="3655325">abs</span><span class="op" id="3655328">,</span>&nbsp;<span class="ident" id="3655330">base</span><span class="op" id="3655334">,</span>&nbsp;<span class="ident" id="3655336">err</span>&nbsp;<span class="op" id="3655340">=</span>&nbsp;<span class="ident" id="3655342">z</span><span class="op" id="3655343">.</span><span class="ident" id="3655344">abs</span><span class="op" id="3655347">.</span><span class="ident" id="3655348">scan</span><span class="op" id="3655352">(</span><span class="ident" id="3655353">r</span><span class="op" id="3655354">,</span>&nbsp;<span class="ident" id="3655356">base</span><span class="op" id="3655360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655363">if</span>&nbsp;<span class="ident" id="3655366">err</span>&nbsp;<span class="op" id="3655370">!=</span>&nbsp;<span class="ident" id="3655373">nil</span>&nbsp;<span class="op" id="3655377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655381">return</span>&nbsp;<span class="ident" id="3655388">nil</span><span class="op" id="3655391">,</span>&nbsp;<span class="ident" id="3655393">base</span><span class="op" id="3655397">,</span>&nbsp;<span class="ident" id="3655399">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3655404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655407">z</span><span class="op" id="3655408">.</span><span class="ident" id="3655409">neg</span>&nbsp;<span class="op" id="3655413">=</span>&nbsp;<span class="builtinfunc" id="3655415">len</span><span class="op" id="3655418">(</span><span class="ident" id="3655419">z</span><span class="op" id="3655420">.</span><span class="ident" id="3655421">abs</span><span class="op" id="3655424">)</span>&nbsp;<span class="op" id="3655426">&gt;</span>&nbsp;<span class="num" id="3655428">0</span>&nbsp;<span class="op" id="3655430">&amp;&amp;</span>&nbsp;<span class="ident" id="3655433">neg</span>&nbsp;<span class="comment" id="3655437">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655456">return</span>&nbsp;<span class="ident" id="3655463">z</span><span class="op" id="3655464">,</span>&nbsp;<span class="ident" id="3655466">base</span><span class="op" id="3655470">,</span>&nbsp;<span class="ident" id="3655472">nil</span><br>
<span class="lineno"></span><span class="op" id="3655476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3655479">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="3655551">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="3655624">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="3655704">func</span>&nbsp;<span class="op" id="3655709">(</span><span class="ident" id="3655710">z</span>&nbsp;<span class="op" id="3655712">*</span><span class="ident" id="3655713">Int</span><span class="op" id="3655716">)</span>&nbsp;<span class="ident" id="3655718">Scan</span><span class="op" id="3655722">(</span><span class="ident" id="3655723">s</span>&nbsp;<span class="ident" id="3655725">fmt</span><span class="op" id="3655728">.</span><span class="ident" id="3655729">ScanState</span><span class="op" id="3655738">,</span>&nbsp;<span class="ident" id="3655740">ch</span>&nbsp;<span class="builtintype" id="3655743">rune</span><span class="op" id="3655747">)</span>&nbsp;<span class="builtintype" id="3655749">error</span>&nbsp;<span class="op" id="3655755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655758">s</span><span class="op" id="3655759">.</span><span class="ident" id="3655760">SkipSpace</span><span class="op" id="3655769">(</span><span class="op" id="3655770">)</span>&nbsp;<span class="comment" id="3655772">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655806">base</span>&nbsp;<span class="op" id="3655811">:=</span>&nbsp;<span class="num" id="3655814">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655817">switch</span>&nbsp;<span class="ident" id="3655824">ch</span>&nbsp;<span class="op" id="3655827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655830">case</span>&nbsp;<span class="string" id="3655835">&#39;b&#39;</span><span class="op" id="3655838">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655842">base</span>&nbsp;<span class="op" id="3655847">=</span>&nbsp;<span class="num" id="3655849">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655852">case</span>&nbsp;<span class="string" id="3655857">&#39;o&#39;</span><span class="op" id="3655860">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655864">base</span>&nbsp;<span class="op" id="3655869">=</span>&nbsp;<span class="num" id="3655871">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655874">case</span>&nbsp;<span class="string" id="3655879">&#39;d&#39;</span><span class="op" id="3655882">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655886">base</span>&nbsp;<span class="op" id="3655891">=</span>&nbsp;<span class="num" id="3655893">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655897">case</span>&nbsp;<span class="string" id="3655902">&#39;x&#39;</span><span class="op" id="3655905">,</span>&nbsp;<span class="string" id="3655907">&#39;X&#39;</span><span class="op" id="3655910">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655914">base</span>&nbsp;<span class="op" id="3655919">=</span>&nbsp;<span class="num" id="3655921">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655925">case</span>&nbsp;<span class="string" id="3655930">&#39;s&#39;</span><span class="op" id="3655933">,</span>&nbsp;<span class="string" id="3655935">&#39;v&#39;</span><span class="op" id="3655938">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3655942">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655974">default</span><span class="op" id="3655981">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655985">return</span>&nbsp;<span class="ident" id="3655992">errors</span><span class="op" id="3655998">.</span><span class="ident" id="3655999">New</span><span class="op" id="3656002">(</span><span class="string" id="3656003">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="3656027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656033">_</span><span class="op" id="3656034">,</span>&nbsp;<span class="ident" id="3656036">_</span><span class="op" id="3656037">,</span>&nbsp;<span class="ident" id="3656039">err</span>&nbsp;<span class="op" id="3656043">:=</span>&nbsp;<span class="ident" id="3656046">z</span><span class="op" id="3656047">.</span><span class="ident" id="3656048">scan</span><span class="op" id="3656052">(</span><span class="ident" id="3656053">s</span><span class="op" id="3656054">,</span>&nbsp;<span class="ident" id="3656056">base</span><span class="op" id="3656060">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656063">return</span>&nbsp;<span class="ident" id="3656070">err</span><br>
<span class="lineno"></span><span class="op" id="3656074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3656077">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3656130">func</span>&nbsp;<span class="ident" id="3656135">low32</span><span class="op" id="3656140">(</span><span class="ident" id="3656141">z</span>&nbsp;<span class="ident" id="3656143">nat</span><span class="op" id="3656146">)</span>&nbsp;<span class="builtintype" id="3656148">uint32</span>&nbsp;<span class="op" id="3656155">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656158">if</span>&nbsp;<span class="builtinfunc" id="3656161">len</span><span class="op" id="3656164">(</span><span class="ident" id="3656165">z</span><span class="op" id="3656166">)</span>&nbsp;<span class="op" id="3656168">==</span>&nbsp;<span class="num" id="3656171">0</span>&nbsp;<span class="op" id="3656173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656177">return</span>&nbsp;<span class="num" id="3656184">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656190">return</span>&nbsp;<span class="builtintype" id="3656197">uint32</span><span class="op" id="3656203">(</span><span class="ident" id="3656204">z</span><span class="op" id="3656205">[</span><span class="num" id="3656206">0</span><span class="op" id="3656207">]</span><span class="op" id="3656208">)</span><br>
<span class="lineno"></span><span class="op" id="3656210">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="3656213">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3656266">func</span>&nbsp;<span class="ident" id="3656271">low64</span><span class="op" id="3656276">(</span><span class="ident" id="3656277">z</span>&nbsp;<span class="ident" id="3656279">nat</span><span class="op" id="3656282">)</span>&nbsp;<span class="ident" id="3656284">uint64</span>&nbsp;<span class="op" id="3656291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656294">if</span>&nbsp;<span class="builtinfunc" id="3656297">len</span><span class="op" id="3656300">(</span><span class="ident" id="3656301">z</span><span class="op" id="3656302">)</span>&nbsp;<span class="op" id="3656304">==</span>&nbsp;<span class="num" id="3656307">0</span>&nbsp;<span class="op" id="3656309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656313">return</span>&nbsp;<span class="num" id="3656320">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656326">v</span>&nbsp;<span class="op" id="3656328">:=</span>&nbsp;<span class="ident" id="3656331">uint64</span><span class="op" id="3656337">(</span><span class="ident" id="3656338">z</span><span class="op" id="3656339">[</span><span class="num" id="3656340">0</span><span class="op" id="3656341">]</span><span class="op" id="3656342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656345">if</span>&nbsp;<span class="ident" id="3656348">_W</span>&nbsp;<span class="op" id="3656351">==</span>&nbsp;<span class="num" id="3656354">32</span>&nbsp;<span class="op" id="3656357">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3656360">len</span><span class="op" id="3656363">(</span><span class="ident" id="3656364">z</span><span class="op" id="3656365">)</span>&nbsp;<span class="op" id="3656367">&gt;</span>&nbsp;<span class="num" id="3656369">1</span>&nbsp;<span class="op" id="3656371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656375">v</span>&nbsp;<span class="op" id="3656377">|=</span>&nbsp;<span class="ident" id="3656380">uint64</span><span class="op" id="3656386">(</span><span class="ident" id="3656387">z</span><span class="op" id="3656388">[</span><span class="num" id="3656389">1</span><span class="op" id="3656390">]</span><span class="op" id="3656391">)</span>&nbsp;<span class="op" id="3656393">&lt;&lt;</span>&nbsp;<span class="num" id="3656396">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656400">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656403">return</span>&nbsp;<span class="ident" id="3656410">v</span><br>
<span class="lineno"></span><span class="op" id="3656412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3656415">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3656463">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="3656531">func</span>&nbsp;<span class="op" id="3656536">(</span><span class="ident" id="3656537">x</span>&nbsp;<span class="op" id="3656539">*</span><span class="ident" id="3656540">Int</span><span class="op" id="3656543">)</span>&nbsp;<span class="ident" id="3656545">Int64</span><span class="op" id="3656550">(</span><span class="op" id="3656551">)</span>&nbsp;<span class="ident" id="3656553">int64</span>&nbsp;<span class="op" id="3656559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656562">v</span>&nbsp;<span class="op" id="3656564">:=</span>&nbsp;<span class="ident" id="3656567">int64</span><span class="op" id="3656572">(</span><span class="ident" id="3656573">low64</span><span class="op" id="3656578">(</span><span class="ident" id="3656579">x</span><span class="op" id="3656580">.</span><span class="ident" id="3656581">abs</span><span class="op" id="3656584">)</span><span class="op" id="3656585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656588">if</span>&nbsp;<span class="ident" id="3656591">x</span><span class="op" id="3656592">.</span><span class="ident" id="3656593">neg</span>&nbsp;<span class="op" id="3656597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656601">v</span>&nbsp;<span class="op" id="3656603">=</span>&nbsp;<span class="op" id="3656605">-</span><span class="ident" id="3656606">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656609">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656612">return</span>&nbsp;<span class="ident" id="3656619">v</span><br>
<span class="lineno"></span><span class="op" id="3656621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3656624">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3656674">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="3656742">func</span>&nbsp;<span class="op" id="3656747">(</span><span class="ident" id="3656748">x</span>&nbsp;<span class="op" id="3656750">*</span><span class="ident" id="3656751">Int</span><span class="op" id="3656754">)</span>&nbsp;<span class="ident" id="3656756">Uint64</span><span class="op" id="3656762">(</span><span class="op" id="3656763">)</span>&nbsp;<span class="ident" id="3656765">uint64</span>&nbsp;<span class="op" id="3656772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656775">return</span>&nbsp;<span class="ident" id="3656782">low64</span><span class="op" id="3656787">(</span><span class="ident" id="3656788">x</span><span class="op" id="3656789">.</span><span class="ident" id="3656790">abs</span><span class="op" id="3656793">)</span><br>
<span class="lineno"></span><span class="op" id="3656795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3656798">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="3656868">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="3656939">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="3657001">//</span><br>
<span class="lineno"></span><span class="comment" id="3657004">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="3657082">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="3657160">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3657236">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3657314">//</span><br>
<span class="lineno"></span><span class="keyword" id="3657317">func</span>&nbsp;<span class="op" id="3657322">(</span><span class="ident" id="3657323">z</span>&nbsp;<span class="op" id="3657325">*</span><span class="ident" id="3657326">Int</span><span class="op" id="3657329">)</span>&nbsp;<span class="ident" id="3657331">SetString</span><span class="op" id="3657340">(</span><span class="ident" id="3657341">s</span>&nbsp;<span class="builtintype" id="3657343">string</span><span class="op" id="3657349">,</span>&nbsp;<span class="ident" id="3657351">base</span>&nbsp;<span class="builtintype" id="3657356">int</span><span class="op" id="3657359">)</span>&nbsp;<span class="op" id="3657361">(</span><span class="op" id="3657362">*</span><span class="ident" id="3657363">Int</span><span class="op" id="3657366">,</span>&nbsp;<span class="builtintype" id="3657368">bool</span><span class="op" id="3657372">)</span>&nbsp;<span class="op" id="3657374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657377">r</span>&nbsp;<span class="op" id="3657379">:=</span>&nbsp;<span class="ident" id="3657382">strings</span><span class="op" id="3657389">.</span><span class="ident" id="3657390">NewReader</span><span class="op" id="3657399">(</span><span class="ident" id="3657400">s</span><span class="op" id="3657401">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657404">_</span><span class="op" id="3657405">,</span>&nbsp;<span class="ident" id="3657407">_</span><span class="op" id="3657408">,</span>&nbsp;<span class="ident" id="3657410">err</span>&nbsp;<span class="op" id="3657414">:=</span>&nbsp;<span class="ident" id="3657417">z</span><span class="op" id="3657418">.</span><span class="ident" id="3657419">scan</span><span class="op" id="3657423">(</span><span class="ident" id="3657424">r</span><span class="op" id="3657425">,</span>&nbsp;<span class="ident" id="3657427">base</span><span class="op" id="3657431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657434">if</span>&nbsp;<span class="ident" id="3657437">err</span>&nbsp;<span class="op" id="3657441">!=</span>&nbsp;<span class="ident" id="3657444">nil</span>&nbsp;<span class="op" id="3657448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657452">return</span>&nbsp;<span class="ident" id="3657459">nil</span><span class="op" id="3657462">,</span>&nbsp;<span class="builtintype" id="3657464">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657474">_</span><span class="op" id="3657475">,</span>&nbsp;<span class="ident" id="3657477">_</span><span class="op" id="3657478">,</span>&nbsp;<span class="ident" id="3657480">err</span>&nbsp;<span class="op" id="3657484">=</span>&nbsp;<span class="ident" id="3657486">r</span><span class="op" id="3657487">.</span><span class="ident" id="3657488">ReadRune</span><span class="op" id="3657496">(</span><span class="op" id="3657497">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657500">if</span>&nbsp;<span class="ident" id="3657503">err</span>&nbsp;<span class="op" id="3657507">!=</span>&nbsp;<span class="ident" id="3657510">io</span><span class="op" id="3657512">.</span><span class="ident" id="3657513">EOF</span>&nbsp;<span class="op" id="3657517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657521">return</span>&nbsp;<span class="ident" id="3657528">nil</span><span class="op" id="3657531">,</span>&nbsp;<span class="builtintype" id="3657533">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657543">return</span>&nbsp;<span class="ident" id="3657550">z</span><span class="op" id="3657551">,</span>&nbsp;<span class="builtintype" id="3657553">true</span>&nbsp;<span class="comment" id="3657558">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="3657601">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="3657604">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="3657669">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3657718">func</span>&nbsp;<span class="op" id="3657723">(</span><span class="ident" id="3657724">z</span>&nbsp;<span class="op" id="3657726">*</span><span class="ident" id="3657727">Int</span><span class="op" id="3657730">)</span>&nbsp;<span class="ident" id="3657732">SetBytes</span><span class="op" id="3657740">(</span><span class="ident" id="3657741">buf</span>&nbsp;<span class="op" id="3657745">[</span><span class="op" id="3657746">]</span><span class="builtintype" id="3657747">byte</span><span class="op" id="3657751">)</span>&nbsp;<span class="op" id="3657753">*</span><span class="ident" id="3657754">Int</span>&nbsp;<span class="op" id="3657758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657761">z</span><span class="op" id="3657762">.</span><span class="ident" id="3657763">abs</span>&nbsp;<span class="op" id="3657767">=</span>&nbsp;<span class="ident" id="3657769">z</span><span class="op" id="3657770">.</span><span class="ident" id="3657771">abs</span><span class="op" id="3657774">.</span><span class="ident" id="3657775">setBytes</span><span class="op" id="3657783">(</span><span class="ident" id="3657784">buf</span><span class="op" id="3657787">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657790">z</span><span class="op" id="3657791">.</span><span class="ident" id="3657792">neg</span>&nbsp;<span class="op" id="3657796">=</span>&nbsp;<span class="builtintype" id="3657798">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657805">return</span>&nbsp;<span class="ident" id="3657812">z</span><br>
<span class="lineno"></span><span class="op" id="3657814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3657817">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="3657886">func</span>&nbsp;<span class="op" id="3657891">(</span><span class="ident" id="3657892">x</span>&nbsp;<span class="op" id="3657894">*</span><span class="ident" id="3657895">Int</span><span class="op" id="3657898">)</span>&nbsp;<span class="ident" id="3657900">Bytes</span><span class="op" id="3657905">(</span><span class="op" id="3657906">)</span>&nbsp;<span class="op" id="3657908">[</span><span class="op" id="3657909">]</span><span class="builtintype" id="3657910">byte</span>&nbsp;<span class="op" id="3657915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657918">buf</span>&nbsp;<span class="op" id="3657922">:=</span>&nbsp;<span class="builtinfunc" id="3657925">make</span><span class="op" id="3657929">(</span><span class="op" id="3657930">[</span><span class="op" id="3657931">]</span><span class="builtintype" id="3657932">byte</span><span class="op" id="3657936">,</span>&nbsp;<span class="builtinfunc" id="3657938">len</span><span class="op" id="3657941">(</span><span class="ident" id="3657942">x</span><span class="op" id="3657943">.</span><span class="ident" id="3657944">abs</span><span class="op" id="3657947">)</span><span class="op" id="3657948">*</span><span class="ident" id="3657949">_S</span><span class="op" id="3657951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657954">return</span>&nbsp;<span class="ident" id="3657961">buf</span><span class="op" id="3657964">[</span><span class="ident" id="3657965">x</span><span class="op" id="3657966">.</span><span class="ident" id="3657967">abs</span><span class="op" id="3657970">.</span><span class="ident" id="3657971">bytes</span><span class="op" id="3657976">(</span><span class="ident" id="3657977">buf</span><span class="op" id="3657980">)</span><span class="op" id="3657981">:</span><span class="op" id="3657982">]</span><br>
<span class="lineno"></span><span class="op" id="3657984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="3657987">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="3658052">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3658081">func</span>&nbsp;<span class="op" id="3658086">(</span><span class="ident" id="3658087">x</span>&nbsp;<span class="op" id="3658089">*</span><span class="ident" id="3658090">Int</span><span class="op" id="3658093">)</span>&nbsp;<span class="ident" id="3658095">BitLen</span><span class="op" id="3658101">(</span><span class="op" id="3658102">)</span>&nbsp;<span class="builtintype" id="3658104">int</span>&nbsp;<span class="op" id="3658108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658111">return</span>&nbsp;<span class="ident" id="3658118">x</span><span class="op" id="3658119">.</span><span class="ident" id="3658120">abs</span><span class="op" id="3658123">.</span><span class="ident" id="3658124">bitLen</span><span class="op" id="3658130">(</span><span class="op" id="3658131">)</span><br>
<span class="lineno"></span><span class="op" id="3658133">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="3658136">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3658213">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="3658285">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="3658324">func</span>&nbsp;<span class="op" id="3658329">(</span><span class="ident" id="3658330">z</span>&nbsp;<span class="op" id="3658332">*</span><span class="ident" id="3658333">Int</span><span class="op" id="3658336">)</span>&nbsp;<span class="ident" id="3658338">Exp</span><span class="op" id="3658341">(</span><span class="ident" id="3658342">x</span><span class="op" id="3658343">,</span>&nbsp;<span class="ident" id="3658345">y</span><span class="op" id="3658346">,</span>&nbsp;<span class="ident" id="3658348">m</span>&nbsp;<span class="op" id="3658350">*</span><span class="ident" id="3658351">Int</span><span class="op" id="3658354">)</span>&nbsp;<span class="op" id="3658356">*</span><span class="ident" id="3658357">Int</span>&nbsp;<span class="op" id="3658361">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658364">var</span>&nbsp;<span class="ident" id="3658368">yWords</span>&nbsp;<span class="ident" id="3658375">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658380">if</span>&nbsp;<span class="op" id="3658383">!</span><span class="ident" id="3658384">y</span><span class="op" id="3658385">.</span><span class="ident" id="3658386">neg</span>&nbsp;<span class="op" id="3658390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658394">yWords</span>&nbsp;<span class="op" id="3658401">=</span>&nbsp;<span class="ident" id="3658403">y</span><span class="op" id="3658404">.</span><span class="ident" id="3658405">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3658410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3658413">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658425">var</span>&nbsp;<span class="ident" id="3658429">mWords</span>&nbsp;<span class="ident" id="3658436">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658441">if</span>&nbsp;<span class="ident" id="3658444">m</span>&nbsp;<span class="op" id="3658446">!=</span>&nbsp;<span class="ident" id="3658449">nil</span>&nbsp;<span class="op" id="3658453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658457">mWords</span>&nbsp;<span class="op" id="3658464">=</span>&nbsp;<span class="ident" id="3658466">m</span><span class="op" id="3658467">.</span><span class="ident" id="3658468">abs</span>&nbsp;<span class="comment" id="3658472">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3658504">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658508">z</span><span class="op" id="3658509">.</span><span class="ident" id="3658510">abs</span>&nbsp;<span class="op" id="3658514">=</span>&nbsp;<span class="ident" id="3658516">z</span><span class="op" id="3658517">.</span><span class="ident" id="3658518">abs</span><span class="op" id="3658521">.</span><span class="ident" id="3658522">expNN</span><span class="op" id="3658527">(</span><span class="ident" id="3658528">x</span><span class="op" id="3658529">.</span><span class="ident" id="3658530">abs</span><span class="op" id="3658533">,</span>&nbsp;<span class="ident" id="3658535">yWords</span><span class="op" id="3658541">,</span>&nbsp;<span class="ident" id="3658543">mWords</span><span class="op" id="3658549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658552">z</span><span class="op" id="3658553">.</span><span class="ident" id="3658554">neg</span>&nbsp;<span class="op" id="3658558">=</span>&nbsp;<span class="builtinfunc" id="3658560">len</span><span class="op" id="3658563">(</span><span class="ident" id="3658564">z</span><span class="op" id="3658565">.</span><span class="ident" id="3658566">abs</span><span class="op" id="3658569">)</span>&nbsp;<span class="op" id="3658571">&gt;</span>&nbsp;<span class="num" id="3658573">0</span>&nbsp;<span class="op" id="3658575">&amp;&amp;</span>&nbsp;<span class="ident" id="3658578">x</span><span class="op" id="3658579">.</span><span class="ident" id="3658580">neg</span>&nbsp;<span class="op" id="3658584">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3658587">len</span><span class="op" id="3658590">(</span><span class="ident" id="3658591">yWords</span><span class="op" id="3658597">)</span>&nbsp;<span class="op" id="3658599">&gt;</span>&nbsp;<span class="num" id="3658601">0</span>&nbsp;<span class="op" id="3658603">&amp;&amp;</span>&nbsp;<span class="ident" id="3658606">yWords</span><span class="op" id="3658612">[</span><span class="num" id="3658613">0</span><span class="op" id="3658614">]</span><span class="op" id="3658615">&amp;</span><span class="num" id="3658616">1</span>&nbsp;<span class="op" id="3658618">==</span>&nbsp;<span class="num" id="3658621">1</span>&nbsp;<span class="comment" id="3658623">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658641">if</span>&nbsp;<span class="ident" id="3658644">z</span><span class="op" id="3658645">.</span><span class="ident" id="3658646">neg</span>&nbsp;<span class="op" id="3658650">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3658653">len</span><span class="op" id="3658656">(</span><span class="ident" id="3658657">mWords</span><span class="op" id="3658663">)</span>&nbsp;<span class="op" id="3658665">&gt;</span>&nbsp;<span class="num" id="3658667">0</span>&nbsp;<span class="op" id="3658669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3658673">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658707">z</span><span class="op" id="3658708">.</span><span class="ident" id="3658709">abs</span>&nbsp;<span class="op" id="3658713">=</span>&nbsp;<span class="ident" id="3658715">z</span><span class="op" id="3658716">.</span><span class="ident" id="3658717">abs</span><span class="op" id="3658720">.</span><span class="ident" id="3658721">sub</span><span class="op" id="3658724">(</span><span class="ident" id="3658725">mWords</span><span class="op" id="3658731">,</span>&nbsp;<span class="ident" id="3658733">z</span><span class="op" id="3658734">.</span><span class="ident" id="3658735">abs</span><span class="op" id="3658738">)</span>&nbsp;<span class="comment" id="3658740">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658779">z</span><span class="op" id="3658780">.</span><span class="ident" id="3658781">neg</span>&nbsp;<span class="op" id="3658785">=</span>&nbsp;<span class="builtintype" id="3658787">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3658794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658798">return</span>&nbsp;<span class="ident" id="3658805">z</span><br>
<span class="lineno">615</span><span class="op" id="3658807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3658810">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="3658883">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3658909">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="3658978">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3659031">func</span>&nbsp;<span class="op" id="3659036">(</span><span class="ident" id="3659037">z</span>&nbsp;<span class="op" id="3659039">*</span><span class="ident" id="3659040">Int</span><span class="op" id="3659043">)</span>&nbsp;<span class="ident" id="3659045">GCD</span><span class="op" id="3659048">(</span><span class="ident" id="3659049">x</span><span class="op" id="3659050">,</span>&nbsp;<span class="ident" id="3659052">y</span><span class="op" id="3659053">,</span>&nbsp;<span class="ident" id="3659055">a</span><span class="op" id="3659056">,</span>&nbsp;<span class="ident" id="3659058">b</span>&nbsp;<span class="op" id="3659060">*</span><span class="ident" id="3659061">Int</span><span class="op" id="3659064">)</span>&nbsp;<span class="op" id="3659066">*</span><span class="ident" id="3659067">Int</span>&nbsp;<span class="op" id="3659071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659074">if</span>&nbsp;<span class="ident" id="3659077">a</span><span class="op" id="3659078">.</span><span class="ident" id="3659079">Sign</span><span class="op" id="3659083">(</span><span class="op" id="3659084">)</span>&nbsp;<span class="op" id="3659086">&lt;=</span>&nbsp;<span class="num" id="3659089">0</span>&nbsp;<span class="op" id="3659091">||</span>&nbsp;<span class="ident" id="3659094">b</span><span class="op" id="3659095">.</span><span class="ident" id="3659096">Sign</span><span class="op" id="3659100">(</span><span class="op" id="3659101">)</span>&nbsp;<span class="op" id="3659103">&lt;=</span>&nbsp;<span class="num" id="3659106">0</span>&nbsp;<span class="op" id="3659108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659112">z</span><span class="op" id="3659113">.</span><span class="ident" id="3659114">SetInt64</span><span class="op" id="3659122">(</span><span class="num" id="3659123">0</span><span class="op" id="3659124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659128">if</span>&nbsp;<span class="ident" id="3659131">x</span>&nbsp;<span class="op" id="3659133">!=</span>&nbsp;<span class="ident" id="3659136">nil</span>&nbsp;<span class="op" id="3659140">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659145">x</span><span class="op" id="3659146">.</span><span class="ident" id="3659147">SetInt64</span><span class="op" id="3659155">(</span><span class="num" id="3659156">0</span><span class="op" id="3659157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659165">if</span>&nbsp;<span class="ident" id="3659168">y</span>&nbsp;<span class="op" id="3659170">!=</span>&nbsp;<span class="ident" id="3659173">nil</span>&nbsp;<span class="op" id="3659177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659182">y</span><span class="op" id="3659183">.</span><span class="ident" id="3659184">SetInt64</span><span class="op" id="3659192">(</span><span class="num" id="3659193">0</span><span class="op" id="3659194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659198">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659202">return</span>&nbsp;<span class="ident" id="3659209">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659215">if</span>&nbsp;<span class="ident" id="3659218">x</span>&nbsp;<span class="op" id="3659220">==</span>&nbsp;<span class="ident" id="3659223">nil</span>&nbsp;<span class="op" id="3659227">&amp;&amp;</span>&nbsp;<span class="ident" id="3659230">y</span>&nbsp;<span class="op" id="3659232">==</span>&nbsp;<span class="ident" id="3659235">nil</span>&nbsp;<span class="op" id="3659239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659243">return</span>&nbsp;<span class="ident" id="3659250">z</span><span class="op" id="3659251">.</span><span class="ident" id="3659252">binaryGCD</span><span class="op" id="3659261">(</span><span class="ident" id="3659262">a</span><span class="op" id="3659263">,</span>&nbsp;<span class="ident" id="3659265">b</span><span class="op" id="3659266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659269">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659273">A</span>&nbsp;<span class="op" id="3659275">:=</span>&nbsp;<span class="builtinfunc" id="3659278">new</span><span class="op" id="3659281">(</span><span class="ident" id="3659282">Int</span><span class="op" id="3659285">)</span><span class="op" id="3659286">.</span><span class="ident" id="3659287">Set</span><span class="op" id="3659290">(</span><span class="ident" id="3659291">a</span><span class="op" id="3659292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659295">B</span>&nbsp;<span class="op" id="3659297">:=</span>&nbsp;<span class="builtinfunc" id="3659300">new</span><span class="op" id="3659303">(</span><span class="ident" id="3659304">Int</span><span class="op" id="3659307">)</span><span class="op" id="3659308">.</span><span class="ident" id="3659309">Set</span><span class="op" id="3659312">(</span><span class="ident" id="3659313">b</span><span class="op" id="3659314">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659318">X</span>&nbsp;<span class="op" id="3659320">:=</span>&nbsp;<span class="builtinfunc" id="3659323">new</span><span class="op" id="3659326">(</span><span class="ident" id="3659327">Int</span><span class="op" id="3659330">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659333">Y</span>&nbsp;<span class="op" id="3659335">:=</span>&nbsp;<span class="builtinfunc" id="3659338">new</span><span class="op" id="3659341">(</span><span class="ident" id="3659342">Int</span><span class="op" id="3659345">)</span><span class="op" id="3659346">.</span><span class="ident" id="3659347">SetInt64</span><span class="op" id="3659355">(</span><span class="num" id="3659356">1</span><span class="op" id="3659357">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659361">lastX</span>&nbsp;<span class="op" id="3659367">:=</span>&nbsp;<span class="builtinfunc" id="3659370">new</span><span class="op" id="3659373">(</span><span class="ident" id="3659374">Int</span><span class="op" id="3659377">)</span><span class="op" id="3659378">.</span><span class="ident" id="3659379">SetInt64</span><span class="op" id="3659387">(</span><span class="num" id="3659388">1</span><span class="op" id="3659389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659392">lastY</span>&nbsp;<span class="op" id="3659398">:=</span>&nbsp;<span class="builtinfunc" id="3659401">new</span><span class="op" id="3659404">(</span><span class="ident" id="3659405">Int</span><span class="op" id="3659408">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659412">q</span>&nbsp;<span class="op" id="3659414">:=</span>&nbsp;<span class="builtinfunc" id="3659417">new</span><span class="op" id="3659420">(</span><span class="ident" id="3659421">Int</span><span class="op" id="3659424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659427">temp</span>&nbsp;<span class="op" id="3659432">:=</span>&nbsp;<span class="builtinfunc" id="3659435">new</span><span class="op" id="3659438">(</span><span class="ident" id="3659439">Int</span><span class="op" id="3659442">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659446">for</span>&nbsp;<span class="builtinfunc" id="3659450">len</span><span class="op" id="3659453">(</span><span class="ident" id="3659454">B</span><span class="op" id="3659455">.</span><span class="ident" id="3659456">abs</span><span class="op" id="3659459">)</span>&nbsp;<span class="op" id="3659461">&gt;</span>&nbsp;<span class="num" id="3659463">0</span>&nbsp;<span class="op" id="3659465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659469">r</span>&nbsp;<span class="op" id="3659471">:=</span>&nbsp;<span class="builtinfunc" id="3659474">new</span><span class="op" id="3659477">(</span><span class="ident" id="3659478">Int</span><span class="op" id="3659481">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659485">q</span><span class="op" id="3659486">,</span>&nbsp;<span class="ident" id="3659488">r</span>&nbsp;<span class="op" id="3659490">=</span>&nbsp;<span class="ident" id="3659492">q</span><span class="op" id="3659493">.</span><span class="ident" id="3659494">QuoRem</span><span class="op" id="3659500">(</span><span class="ident" id="3659501">A</span><span class="op" id="3659502">,</span>&nbsp;<span class="ident" id="3659504">B</span><span class="op" id="3659505">,</span>&nbsp;<span class="ident" id="3659507">r</span><span class="op" id="3659508">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659513">A</span><span class="op" id="3659514">,</span>&nbsp;<span class="ident" id="3659516">B</span>&nbsp;<span class="op" id="3659518">=</span>&nbsp;<span class="ident" id="3659520">B</span><span class="op" id="3659521">,</span>&nbsp;<span class="ident" id="3659523">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659528">temp</span><span class="op" id="3659532">.</span><span class="ident" id="3659533">Set</span><span class="op" id="3659536">(</span><span class="ident" id="3659537">X</span><span class="op" id="3659538">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659542">X</span><span class="op" id="3659543">.</span><span class="ident" id="3659544">Mul</span><span class="op" id="3659547">(</span><span class="ident" id="3659548">X</span><span class="op" id="3659549">,</span>&nbsp;<span class="ident" id="3659551">q</span><span class="op" id="3659552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659556">X</span><span class="op" id="3659557">.</span><span class="ident" id="3659558">neg</span>&nbsp;<span class="op" id="3659562">=</span>&nbsp;<span class="op" id="3659564">!</span><span class="ident" id="3659565">X</span><span class="op" id="3659566">.</span><span class="ident" id="3659567">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659573">X</span><span class="op" id="3659574">.</span><span class="ident" id="3659575">Add</span><span class="op" id="3659578">(</span><span class="ident" id="3659579">X</span><span class="op" id="3659580">,</span>&nbsp;<span class="ident" id="3659582">lastX</span><span class="op" id="3659587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659591">lastX</span><span class="op" id="3659596">.</span><span class="ident" id="3659597">Set</span><span class="op" id="3659600">(</span><span class="ident" id="3659601">temp</span><span class="op" id="3659605">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659610">temp</span><span class="op" id="3659614">.</span><span class="ident" id="3659615">Set</span><span class="op" id="3659618">(</span><span class="ident" id="3659619">Y</span><span class="op" id="3659620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659624">Y</span><span class="op" id="3659625">.</span><span class="ident" id="3659626">Mul</span><span class="op" id="3659629">(</span><span class="ident" id="3659630">Y</span><span class="op" id="3659631">,</span>&nbsp;<span class="ident" id="3659633">q</span><span class="op" id="3659634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659638">Y</span><span class="op" id="3659639">.</span><span class="ident" id="3659640">neg</span>&nbsp;<span class="op" id="3659644">=</span>&nbsp;<span class="op" id="3659646">!</span><span class="ident" id="3659647">Y</span><span class="op" id="3659648">.</span><span class="ident" id="3659649">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659655">Y</span><span class="op" id="3659656">.</span><span class="ident" id="3659657">Add</span><span class="op" id="3659660">(</span><span class="ident" id="3659661">Y</span><span class="op" id="3659662">,</span>&nbsp;<span class="ident" id="3659664">lastY</span><span class="op" id="3659669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659673">lastY</span><span class="op" id="3659678">.</span><span class="ident" id="3659679">Set</span><span class="op" id="3659682">(</span><span class="ident" id="3659683">temp</span><span class="op" id="3659687">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659694">if</span>&nbsp;<span class="ident" id="3659697">x</span>&nbsp;<span class="op" id="3659699">!=</span>&nbsp;<span class="ident" id="3659702">nil</span>&nbsp;<span class="op" id="3659706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659710">*</span><span class="ident" id="3659711">x</span>&nbsp;<span class="op" id="3659713">=</span>&nbsp;<span class="op" id="3659715">*</span><span class="ident" id="3659716">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659723">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659727">if</span>&nbsp;<span class="ident" id="3659730">y</span>&nbsp;<span class="op" id="3659732">!=</span>&nbsp;<span class="ident" id="3659735">nil</span>&nbsp;<span class="op" id="3659739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659743">*</span><span class="ident" id="3659744">y</span>&nbsp;<span class="op" id="3659746">=</span>&nbsp;<span class="op" id="3659748">*</span><span class="ident" id="3659749">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659760">*</span><span class="ident" id="3659761">z</span>&nbsp;<span class="op" id="3659763">=</span>&nbsp;<span class="op" id="3659765">*</span><span class="ident" id="3659766">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659769">return</span>&nbsp;<span class="ident" id="3659776">z</span><br>
<span class="lineno"></span><span class="op" id="3659778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3659781">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="3659860">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3659886">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="3659969">func</span>&nbsp;<span class="op" id="3659974">(</span><span class="ident" id="3659975">z</span>&nbsp;<span class="op" id="3659977">*</span><span class="ident" id="3659978">Int</span><span class="op" id="3659981">)</span>&nbsp;<span class="ident" id="3659983">binaryGCD</span><span class="op" id="3659992">(</span><span class="ident" id="3659993">a</span><span class="op" id="3659994">,</span>&nbsp;<span class="ident" id="3659996">b</span>&nbsp;<span class="op" id="3659998">*</span><span class="ident" id="3659999">Int</span><span class="op" id="3660002">)</span>&nbsp;<span class="op" id="3660004">*</span><span class="ident" id="3660005">Int</span>&nbsp;<span class="op" id="3660009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660012">u</span>&nbsp;<span class="op" id="3660014">:=</span>&nbsp;<span class="ident" id="3660017">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660020">v</span>&nbsp;<span class="op" id="3660022">:=</span>&nbsp;<span class="builtinfunc" id="3660025">new</span><span class="op" id="3660028">(</span><span class="ident" id="3660029">Int</span><span class="op" id="3660032">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660036">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660117">switch</span>&nbsp;<span class="op" id="3660124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660127">case</span>&nbsp;<span class="builtinfunc" id="3660132">len</span><span class="op" id="3660135">(</span><span class="ident" id="3660136">a</span><span class="op" id="3660137">.</span><span class="ident" id="3660138">abs</span><span class="op" id="3660141">)</span>&nbsp;<span class="op" id="3660143">&gt;</span>&nbsp;<span class="builtinfunc" id="3660145">len</span><span class="op" id="3660148">(</span><span class="ident" id="3660149">b</span><span class="op" id="3660150">.</span><span class="ident" id="3660151">abs</span><span class="op" id="3660154">)</span><span class="op" id="3660155">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660159">u</span><span class="op" id="3660160">.</span><span class="ident" id="3660161">Set</span><span class="op" id="3660164">(</span><span class="ident" id="3660165">b</span><span class="op" id="3660166">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660170">v</span><span class="op" id="3660171">.</span><span class="ident" id="3660172">Rem</span><span class="op" id="3660175">(</span><span class="ident" id="3660176">a</span><span class="op" id="3660177">,</span>&nbsp;<span class="ident" id="3660179">b</span><span class="op" id="3660180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660183">case</span>&nbsp;<span class="builtinfunc" id="3660188">len</span><span class="op" id="3660191">(</span><span class="ident" id="3660192">a</span><span class="op" id="3660193">.</span><span class="ident" id="3660194">abs</span><span class="op" id="3660197">)</span>&nbsp;<span class="op" id="3660199">&lt;</span>&nbsp;<span class="builtinfunc" id="3660201">len</span><span class="op" id="3660204">(</span><span class="ident" id="3660205">b</span><span class="op" id="3660206">.</span><span class="ident" id="3660207">abs</span><span class="op" id="3660210">)</span><span class="op" id="3660211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660215">u</span><span class="op" id="3660216">.</span><span class="ident" id="3660217">Set</span><span class="op" id="3660220">(</span><span class="ident" id="3660221">a</span><span class="op" id="3660222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660226">v</span><span class="op" id="3660227">.</span><span class="ident" id="3660228">Rem</span><span class="op" id="3660231">(</span><span class="ident" id="3660232">b</span><span class="op" id="3660233">,</span>&nbsp;<span class="ident" id="3660235">a</span><span class="op" id="3660236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660239">default</span><span class="op" id="3660246">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660250">u</span><span class="op" id="3660251">.</span><span class="ident" id="3660252">Set</span><span class="op" id="3660255">(</span><span class="ident" id="3660256">a</span><span class="op" id="3660257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660261">v</span><span class="op" id="3660262">.</span><span class="ident" id="3660263">Set</span><span class="op" id="3660266">(</span><span class="ident" id="3660267">b</span><span class="op" id="3660268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660271">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660275">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660296">if</span>&nbsp;<span class="builtinfunc" id="3660299">len</span><span class="op" id="3660302">(</span><span class="ident" id="3660303">v</span><span class="op" id="3660304">.</span><span class="ident" id="3660305">abs</span><span class="op" id="3660308">)</span>&nbsp;<span class="op" id="3660310">==</span>&nbsp;<span class="num" id="3660313">0</span>&nbsp;<span class="op" id="3660315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660319">return</span>&nbsp;<span class="ident" id="3660326">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660332">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660352">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660411">k</span>&nbsp;<span class="op" id="3660413">:=</span>&nbsp;<span class="ident" id="3660416">u</span><span class="op" id="3660417">.</span><span class="ident" id="3660418">abs</span><span class="op" id="3660421">.</span><span class="ident" id="3660422">trailingZeroBits</span><span class="op" id="3660438">(</span><span class="op" id="3660439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660442">if</span>&nbsp;<span class="ident" id="3660445">vk</span>&nbsp;<span class="op" id="3660448">:=</span>&nbsp;<span class="ident" id="3660451">v</span><span class="op" id="3660452">.</span><span class="ident" id="3660453">abs</span><span class="op" id="3660456">.</span><span class="ident" id="3660457">trailingZeroBits</span><span class="op" id="3660473">(</span><span class="op" id="3660474">)</span><span class="op" id="3660475">;</span>&nbsp;<span class="ident" id="3660477">vk</span>&nbsp;<span class="op" id="3660480">&lt;</span>&nbsp;<span class="ident" id="3660482">k</span>&nbsp;<span class="op" id="3660484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660488">k</span>&nbsp;<span class="op" id="3660490">=</span>&nbsp;<span class="ident" id="3660492">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660496">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660499">u</span><span class="op" id="3660500">.</span><span class="ident" id="3660501">Rsh</span><span class="op" id="3660504">(</span><span class="ident" id="3660505">u</span><span class="op" id="3660506">,</span>&nbsp;<span class="ident" id="3660508">k</span><span class="op" id="3660509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660512">v</span><span class="op" id="3660513">.</span><span class="ident" id="3660514">Rsh</span><span class="op" id="3660517">(</span><span class="ident" id="3660518">v</span><span class="op" id="3660519">,</span>&nbsp;<span class="ident" id="3660521">k</span><span class="op" id="3660522">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660526">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660563">t</span>&nbsp;<span class="op" id="3660565">:=</span>&nbsp;<span class="builtinfunc" id="3660568">new</span><span class="op" id="3660571">(</span><span class="ident" id="3660572">Int</span><span class="op" id="3660575">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660578">if</span>&nbsp;<span class="ident" id="3660581">u</span><span class="op" id="3660582">.</span><span class="ident" id="3660583">abs</span><span class="op" id="3660586">[</span><span class="num" id="3660587">0</span><span class="op" id="3660588">]</span><span class="op" id="3660589">&amp;</span><span class="num" id="3660590">1</span>&nbsp;<span class="op" id="3660592">!=</span>&nbsp;<span class="num" id="3660595">0</span>&nbsp;<span class="op" id="3660597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660601">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660615">t</span><span class="op" id="3660616">.</span><span class="ident" id="3660617">Neg</span><span class="op" id="3660620">(</span><span class="ident" id="3660621">v</span><span class="op" id="3660622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660625">}</span>&nbsp;<span class="keyword" id="3660627">else</span>&nbsp;<span class="op" id="3660632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660636">t</span><span class="op" id="3660637">.</span><span class="ident" id="3660638">Set</span><span class="op" id="3660641">(</span><span class="ident" id="3660642">u</span><span class="op" id="3660643">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660650">for</span>&nbsp;<span class="builtinfunc" id="3660654">len</span><span class="op" id="3660657">(</span><span class="ident" id="3660658">t</span><span class="op" id="3660659">.</span><span class="ident" id="3660660">abs</span><span class="op" id="3660663">)</span>&nbsp;<span class="op" id="3660665">&gt;</span>&nbsp;<span class="num" id="3660667">0</span>&nbsp;<span class="op" id="3660669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660673">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660687">t</span><span class="op" id="3660688">.</span><span class="ident" id="3660689">Rsh</span><span class="op" id="3660692">(</span><span class="ident" id="3660693">t</span><span class="op" id="3660694">,</span>&nbsp;<span class="ident" id="3660696">t</span><span class="op" id="3660697">.</span><span class="ident" id="3660698">abs</span><span class="op" id="3660701">.</span><span class="ident" id="3660702">trailingZeroBits</span><span class="op" id="3660718">(</span><span class="op" id="3660719">)</span><span class="op" id="3660720">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660724">if</span>&nbsp;<span class="ident" id="3660727">t</span><span class="op" id="3660728">.</span><span class="ident" id="3660729">neg</span>&nbsp;<span class="op" id="3660733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660738">v</span><span class="op" id="3660739">,</span>&nbsp;<span class="ident" id="3660741">t</span>&nbsp;<span class="op" id="3660743">=</span>&nbsp;<span class="ident" id="3660745">t</span><span class="op" id="3660746">,</span>&nbsp;<span class="ident" id="3660748">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660753">v</span><span class="op" id="3660754">.</span><span class="ident" id="3660755">neg</span>&nbsp;<span class="op" id="3660759">=</span>&nbsp;<span class="builtinfunc" id="3660761">len</span><span class="op" id="3660764">(</span><span class="ident" id="3660765">v</span><span class="op" id="3660766">.</span><span class="ident" id="3660767">abs</span><span class="op" id="3660770">)</span>&nbsp;<span class="op" id="3660772">&gt;</span>&nbsp;<span class="num" id="3660774">0</span>&nbsp;<span class="op" id="3660776">&amp;&amp;</span>&nbsp;<span class="op" id="3660779">!</span><span class="ident" id="3660780">v</span><span class="op" id="3660781">.</span><span class="ident" id="3660782">neg</span>&nbsp;<span class="comment" id="3660786">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660805">}</span>&nbsp;<span class="keyword" id="3660807">else</span>&nbsp;<span class="op" id="3660812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660817">u</span><span class="op" id="3660818">,</span>&nbsp;<span class="ident" id="3660820">t</span>&nbsp;<span class="op" id="3660822">=</span>&nbsp;<span class="ident" id="3660824">t</span><span class="op" id="3660825">,</span>&nbsp;<span class="ident" id="3660827">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660835">t</span><span class="op" id="3660836">.</span><span class="ident" id="3660837">Sub</span><span class="op" id="3660840">(</span><span class="ident" id="3660841">u</span><span class="op" id="3660842">,</span>&nbsp;<span class="ident" id="3660844">v</span><span class="op" id="3660845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660852">return</span>&nbsp;<span class="ident" id="3660859">z</span><span class="op" id="3660860">.</span><span class="ident" id="3660861">Lsh</span><span class="op" id="3660864">(</span><span class="ident" id="3660865">u</span><span class="op" id="3660866">,</span>&nbsp;<span class="ident" id="3660868">k</span><span class="op" id="3660869">)</span><br>
<span class="lineno">735</span><span class="op" id="3660871">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3660874">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="3660950">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="3661012">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="3661052">func</span>&nbsp;<span class="op" id="3661057">(</span><span class="ident" id="3661058">x</span>&nbsp;<span class="op" id="3661060">*</span><span class="ident" id="3661061">Int</span><span class="op" id="3661064">)</span>&nbsp;<span class="ident" id="3661066">ProbablyPrime</span><span class="op" id="3661079">(</span><span class="ident" id="3661080">n</span>&nbsp;<span class="builtintype" id="3661082">int</span><span class="op" id="3661085">)</span>&nbsp;<span class="builtintype" id="3661087">bool</span>&nbsp;<span class="op" id="3661092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661095">return</span>&nbsp;<span class="op" id="3661102">!</span><span class="ident" id="3661103">x</span><span class="op" id="3661104">.</span><span class="ident" id="3661105">neg</span>&nbsp;<span class="op" id="3661109">&amp;&amp;</span>&nbsp;<span class="ident" id="3661112">x</span><span class="op" id="3661113">.</span><span class="ident" id="3661114">abs</span><span class="op" id="3661117">.</span><span class="ident" id="3661118">probablyPrime</span><span class="op" id="3661131">(</span><span class="ident" id="3661132">n</span><span class="op" id="3661133">)</span><br>
<span class="lineno"></span><span class="op" id="3661135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3661138">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="3661204">func</span>&nbsp;<span class="op" id="3661209">(</span><span class="ident" id="3661210">z</span>&nbsp;<span class="op" id="3661212">*</span><span class="ident" id="3661213">Int</span><span class="op" id="3661216">)</span>&nbsp;<span class="ident" id="3661218">Rand</span><span class="op" id="3661222">(</span><span class="ident" id="3661223">rnd</span>&nbsp;<span class="op" id="3661227">*</span><span class="ident" id="3661228">rand</span><span class="op" id="3661232">.</span><span class="ident" id="3661233">Rand</span><span class="op" id="3661237">,</span>&nbsp;<span class="ident" id="3661239">n</span>&nbsp;<span class="op" id="3661241">*</span><span class="ident" id="3661242">Int</span><span class="op" id="3661245">)</span>&nbsp;<span class="op" id="3661247">*</span><span class="ident" id="3661248">Int</span>&nbsp;<span class="op" id="3661252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661255">z</span><span class="op" id="3661256">.</span><span class="ident" id="3661257">neg</span>&nbsp;<span class="op" id="3661261">=</span>&nbsp;<span class="builtintype" id="3661263">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661270">if</span>&nbsp;<span class="ident" id="3661273">n</span><span class="op" id="3661274">.</span><span class="ident" id="3661275">neg</span>&nbsp;<span class="op" id="3661279">==</span>&nbsp;<span class="builtintype" id="3661282">true</span>&nbsp;<span class="op" id="3661287">||</span>&nbsp;<span class="builtinfunc" id="3661290">len</span><span class="op" id="3661293">(</span><span class="ident" id="3661294">n</span><span class="op" id="3661295">.</span><span class="ident" id="3661296">abs</span><span class="op" id="3661299">)</span>&nbsp;<span class="op" id="3661301">==</span>&nbsp;<span class="num" id="3661304">0</span>&nbsp;<span class="op" id="3661306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661310">z</span><span class="op" id="3661311">.</span><span class="ident" id="3661312">abs</span>&nbsp;<span class="op" id="3661316">=</span>&nbsp;<span class="ident" id="3661318">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661324">return</span>&nbsp;<span class="ident" id="3661331">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3661334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661337">z</span><span class="op" id="3661338">.</span><span class="ident" id="3661339">abs</span>&nbsp;<span class="op" id="3661343">=</span>&nbsp;<span class="ident" id="3661345">z</span><span class="op" id="3661346">.</span><span class="ident" id="3661347">abs</span><span class="op" id="3661350">.</span><span class="ident" id="3661351">random</span><span class="op" id="3661357">(</span><span class="ident" id="3661358">rnd</span><span class="op" id="3661361">,</span>&nbsp;<span class="ident" id="3661363">n</span><span class="op" id="3661364">.</span><span class="ident" id="3661365">abs</span><span class="op" id="3661368">,</span>&nbsp;<span class="ident" id="3661370">n</span><span class="op" id="3661371">.</span><span class="ident" id="3661372">abs</span><span class="op" id="3661375">.</span><span class="ident" id="3661376">bitLen</span><span class="op" id="3661382">(</span><span class="op" id="3661383">)</span><span class="op" id="3661384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661387">return</span>&nbsp;<span class="ident" id="3661394">z</span><br>
<span class="lineno"></span><span class="op" id="3661396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="3661399">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;ℤ/nℤ</span><br>
<span class="lineno"></span><span class="comment" id="3661476">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="3661556">func</span>&nbsp;<span class="op" id="3661561">(</span><span class="ident" id="3661562">z</span>&nbsp;<span class="op" id="3661564">*</span><span class="ident" id="3661565">Int</span><span class="op" id="3661568">)</span>&nbsp;<span class="ident" id="3661570">ModInverse</span><span class="op" id="3661580">(</span><span class="ident" id="3661581">g</span><span class="op" id="3661582">,</span>&nbsp;<span class="ident" id="3661584">n</span>&nbsp;<span class="op" id="3661586">*</span><span class="ident" id="3661587">Int</span><span class="op" id="3661590">)</span>&nbsp;<span class="op" id="3661592">*</span><span class="ident" id="3661593">Int</span>&nbsp;<span class="op" id="3661597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661600">var</span>&nbsp;<span class="ident" id="3661604">d</span>&nbsp;<span class="ident" id="3661606">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661611">d</span><span class="op" id="3661612">.</span><span class="ident" id="3661613">GCD</span><span class="op" id="3661616">(</span><span class="ident" id="3661617">z</span><span class="op" id="3661618">,</span>&nbsp;<span class="ident" id="3661620">nil</span><span class="op" id="3661623">,</span>&nbsp;<span class="ident" id="3661625">g</span><span class="op" id="3661626">,</span>&nbsp;<span class="ident" id="3661628">n</span><span class="op" id="3661629">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3661632">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3661691">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3661752">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661801">if</span>&nbsp;<span class="ident" id="3661804">z</span><span class="op" id="3661805">.</span><span class="ident" id="3661806">neg</span>&nbsp;<span class="op" id="3661810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661814">z</span><span class="op" id="3661815">.</span><span class="ident" id="3661816">Add</span><span class="op" id="3661819">(</span><span class="ident" id="3661820">z</span><span class="op" id="3661821">,</span>&nbsp;<span class="ident" id="3661823">n</span><span class="op" id="3661824">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3661827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661830">return</span>&nbsp;<span class="ident" id="3661837">z</span><br>
<span class="lineno"></span><span class="op" id="3661839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3661842">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="3661880">func</span>&nbsp;<span class="op" id="3661885">(</span><span class="ident" id="3661886">z</span>&nbsp;<span class="op" id="3661888">*</span><span class="ident" id="3661889">Int</span><span class="op" id="3661892">)</span>&nbsp;<span class="ident" id="3661894">Lsh</span><span class="op" id="3661897">(</span><span class="ident" id="3661898">x</span>&nbsp;<span class="op" id="3661900">*</span><span class="ident" id="3661901">Int</span><span class="op" id="3661904">,</span>&nbsp;<span class="ident" id="3661906">n</span>&nbsp;<span class="builtintype" id="3661908">uint</span><span class="op" id="3661912">)</span>&nbsp;<span class="op" id="3661914">*</span><span class="ident" id="3661915">Int</span>&nbsp;<span class="op" id="3661919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661922">z</span><span class="op" id="3661923">.</span><span class="ident" id="3661924">abs</span>&nbsp;<span class="op" id="3661928">=</span>&nbsp;<span class="ident" id="3661930">z</span><span class="op" id="3661931">.</span><span class="ident" id="3661932">abs</span><span class="op" id="3661935">.</span><span class="ident" id="3661936">shl</span><span class="op" id="3661939">(</span><span class="ident" id="3661940">x</span><span class="op" id="3661941">.</span><span class="ident" id="3661942">abs</span><span class="op" id="3661945">,</span>&nbsp;<span class="ident" id="3661947">n</span><span class="op" id="3661948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661951">z</span><span class="op" id="3661952">.</span><span class="ident" id="3661953">neg</span>&nbsp;<span class="op" id="3661957">=</span>&nbsp;<span class="ident" id="3661959">x</span><span class="op" id="3661960">.</span><span class="ident" id="3661961">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661966">return</span>&nbsp;<span class="ident" id="3661973">z</span><br>
<span class="lineno"></span><span class="op" id="3661975">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="3661978">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3662016">func</span>&nbsp;<span class="op" id="3662021">(</span><span class="ident" id="3662022">z</span>&nbsp;<span class="op" id="3662024">*</span><span class="ident" id="3662025">Int</span><span class="op" id="3662028">)</span>&nbsp;<span class="ident" id="3662030">Rsh</span><span class="op" id="3662033">(</span><span class="ident" id="3662034">x</span>&nbsp;<span class="op" id="3662036">*</span><span class="ident" id="3662037">Int</span><span class="op" id="3662040">,</span>&nbsp;<span class="ident" id="3662042">n</span>&nbsp;<span class="builtintype" id="3662044">uint</span><span class="op" id="3662048">)</span>&nbsp;<span class="op" id="3662050">*</span><span class="ident" id="3662051">Int</span>&nbsp;<span class="op" id="3662055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662058">if</span>&nbsp;<span class="ident" id="3662061">x</span><span class="op" id="3662062">.</span><span class="ident" id="3662063">neg</span>&nbsp;<span class="op" id="3662067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3662071">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3662141">t</span>&nbsp;<span class="op" id="3662143">:=</span>&nbsp;<span class="ident" id="3662146">z</span><span class="op" id="3662147">.</span><span class="ident" id="3662148">abs</span><span class="op" id="3662151">.</span><span class="ident" id="3662152">sub</span><span class="op" id="3662155">(</span><span class="ident" id="3662156">x</span><span class="op" id="3662157">.</span><span class="ident" id="3662158">abs</span><span class="op" id="3662161">,</span>&nbsp;<span class="ident" id="3662163">natOne</span><span class="op" id="3662169">)</span>&nbsp;<span class="comment" id="3662171">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3662205">t</span>&nbsp;<span class="op" id="3662207">=</span>&nbsp;<span class="ident" id="3662209">t</span><span class="op" id="3662210">.</span><span class="ident" id="3662211">shr</span><span class="op" id="3662214">(</span><span class="ident" id="3662215">t</span><span class="op" id="3662216">,</span>&nbsp;<span class="ident" id="3662218">n</span><span class="op" id="3662219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3662223">z</span><span class="op" id="3662224">.</span><span class="ident" id="3662225">abs</span>&nbsp;<span class="op" id="3662229">=</span>&nbsp;<span class="ident" id="3662231">t</span><span class="op" id="3662232">.</span><span class="ident" id="3662233">add</span><span class="op" id="3662236">(</span><span class="ident" id="3662237">t</span><span class="op" id="3662238">,</span>&nbsp;<span class="ident" id="3662240">natOne</span><span class="op" id="3662246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3662250">z</span><span class="op" id="3662251">.</span><span class="ident" id="3662252">neg</span>&nbsp;<span class="op" id="3662256">=</span>&nbsp;<span class="builtintype" id="3662258">true</span>&nbsp;<span class="comment" id="3662263">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662302">return</span>&nbsp;<span class="ident" id="3662309">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3662312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3662316">z</span><span class="op" id="3662317">.</span><span class="ident" id="3662318">abs</span>&nbsp;<span class="op" id="3662322">=</span>&nbsp;<span class="ident" id="3662324">z</span><span class="op" id="3662325">.</span><span class="ident" id="3662326">abs</span><span class="op" id="3662329">.</span><span class="ident" id="3662330">shr</span><span class="op" id="3662333">(</span><span class="ident" id="3662334">x</span><span class="op" id="3662335">.</span><span class="ident" id="3662336">abs</span><span class="op" id="3662339">,</span>&nbsp;<span class="ident" id="3662341">n</span><span class="op" id="3662342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3662345">z</span><span class="op" id="3662346">.</span><span class="ident" id="3662347">neg</span>&nbsp;<span class="op" id="3662351">=</span>&nbsp;<span class="builtintype" id="3662353">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662360">return</span>&nbsp;<span class="ident" id="3662367">z</span><br>
<span class="lineno">790</span><span class="op" id="3662369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3662372">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="3662431">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3662482">func</span>&nbsp;<span class="op" id="3662487">(</span><span class="ident" id="3662488">x</span>&nbsp;<span class="op" id="3662490">*</span><span class="ident" id="3662491">Int</span><span class="op" id="3662494">)</span>&nbsp;<span class="ident" id="3662496">Bit</span><span class="op" id="3662499">(</span><span class="ident" id="3662500">i</span>&nbsp;<span class="builtintype" id="3662502">int</span><span class="op" id="3662505">)</span>&nbsp;<span class="builtintype" id="3662507">uint</span>&nbsp;<span class="op" id="3662512">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662515">if</span>&nbsp;<span class="ident" id="3662518">i</span>&nbsp;<span class="op" id="3662520">==</span>&nbsp;<span class="num" id="3662523">0</span>&nbsp;<span class="op" id="3662525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3662529">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662583">if</span>&nbsp;<span class="builtinfunc" id="3662586">len</span><span class="op" id="3662589">(</span><span class="ident" id="3662590">x</span><span class="op" id="3662591">.</span><span class="ident" id="3662592">abs</span><span class="op" id="3662595">)</span>&nbsp;<span class="op" id="3662597">&gt;</span>&nbsp;<span class="num" id="3662599">0</span>&nbsp;<span class="op" id="3662601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662606">return</span>&nbsp;<span class="builtintype" id="3662613">uint</span><span class="op" id="3662617">(</span><span class="ident" id="3662618">x</span><span class="op" id="3662619">.</span><span class="ident" id="3662620">abs</span><span class="op" id="3662623">[</span><span class="num" id="3662624">0</span><span class="op" id="3662625">]</span>&nbsp;<span class="op" id="3662627">&amp;</span>&nbsp;<span class="num" id="3662629">1</span><span class="op" id="3662630">)</span>&nbsp;<span class="comment" id="3662632">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3662658">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662662">return</span>&nbsp;<span class="num" id="3662669">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3662672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662675">if</span>&nbsp;<span class="ident" id="3662678">i</span>&nbsp;<span class="op" id="3662680">&lt;</span>&nbsp;<span class="num" id="3662682">0</span>&nbsp;<span class="op" id="3662684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3662688">panic</span><span class="op" id="3662693">(</span><span class="string" id="3662694">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3662714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3662717">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662720">if</span>&nbsp;<span class="ident" id="3662723">x</span><span class="op" id="3662724">.</span><span class="ident" id="3662725">neg</span>&nbsp;<span class="op" id="3662729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3662733">t</span>&nbsp;<span class="op" id="3662735">:=</span>&nbsp;<span class="ident" id="3662738">nat</span><span class="op" id="3662741">(</span><span class="ident" id="3662742">nil</span><span class="op" id="3662745">)</span><span class="op" id="3662746">.</span><span class="ident" id="3662747">sub</span><span class="op" id="3662750">(</span><span class="ident" id="3662751">x</span><span class="op" id="3662752">.</span><span class="ident" id="3662753">abs</span><span class="op" id="3662756">,</span>&nbsp;<span class="ident" id="3662758">natOne</span><span class="op" id="3662764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662768">return</span>&nbsp;<span class="ident" id="3662775">t</span><span class="op" id="3662776">.</span><span class="ident" id="3662777">bit</span><span class="op" id="3662780">(</span><span class="builtintype" id="3662781">uint</span><span class="op" id="3662785">(</span><span class="ident" id="3662786">i</span><span class="op" id="3662787">)</span><span class="op" id="3662788">)</span>&nbsp;<span class="op" id="3662790">^</span>&nbsp;<span class="num" id="3662792">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3662795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3662799">return</span>&nbsp;<span class="ident" id="3662806">x</span><span class="op" id="3662807">.</span><span class="ident" id="3662808">abs</span><span class="op" id="3662811">.</span><span class="ident" id="3662812">bit</span><span class="op" id="3662815">(</span><span class="builtintype" id="3662816">uint</span><span class="op" id="3662820">(</span><span class="ident" id="3662821">i</span><span class="op" id="3662822">)</span><span class="op" id="3662823">)</span><br>
<span class="lineno"></span><span class="op" id="3662825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3662828">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="3662888">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="3662940">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="3663004">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="3663026">func</span>&nbsp;<span class="op" id="3663031">(</span><span class="ident" id="3663032">z</span>&nbsp;<span class="op" id="3663034">*</span><span class="ident" id="3663035">Int</span><span class="op" id="3663038">)</span>&nbsp;<span class="ident" id="3663040">SetBit</span><span class="op" id="3663046">(</span><span class="ident" id="3663047">x</span>&nbsp;<span class="op" id="3663049">*</span><span class="ident" id="3663050">Int</span><span class="op" id="3663053">,</span>&nbsp;<span class="ident" id="3663055">i</span>&nbsp;<span class="builtintype" id="3663057">int</span><span class="op" id="3663060">,</span>&nbsp;<span class="ident" id="3663062">b</span>&nbsp;<span class="builtintype" id="3663064">uint</span><span class="op" id="3663068">)</span>&nbsp;<span class="op" id="3663070">*</span><span class="ident" id="3663071">Int</span>&nbsp;<span class="op" id="3663075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663078">if</span>&nbsp;<span class="ident" id="3663081">i</span>&nbsp;<span class="op" id="3663083">&lt;</span>&nbsp;<span class="num" id="3663085">0</span>&nbsp;<span class="op" id="3663087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3663091">panic</span><span class="op" id="3663096">(</span><span class="string" id="3663097">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3663117">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3663120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663123">if</span>&nbsp;<span class="ident" id="3663126">x</span><span class="op" id="3663127">.</span><span class="ident" id="3663128">neg</span>&nbsp;<span class="op" id="3663132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663136">t</span>&nbsp;<span class="op" id="3663138">:=</span>&nbsp;<span class="ident" id="3663141">z</span><span class="op" id="3663142">.</span><span class="ident" id="3663143">abs</span><span class="op" id="3663146">.</span><span class="ident" id="3663147">sub</span><span class="op" id="3663150">(</span><span class="ident" id="3663151">x</span><span class="op" id="3663152">.</span><span class="ident" id="3663153">abs</span><span class="op" id="3663156">,</span>&nbsp;<span class="ident" id="3663158">natOne</span><span class="op" id="3663164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663168">t</span>&nbsp;<span class="op" id="3663170">=</span>&nbsp;<span class="ident" id="3663172">t</span><span class="op" id="3663173">.</span><span class="ident" id="3663174">setBit</span><span class="op" id="3663180">(</span><span class="ident" id="3663181">t</span><span class="op" id="3663182">,</span>&nbsp;<span class="builtintype" id="3663184">uint</span><span class="op" id="3663188">(</span><span class="ident" id="3663189">i</span><span class="op" id="3663190">)</span><span class="op" id="3663191">,</span>&nbsp;<span class="ident" id="3663193">b</span><span class="op" id="3663194">^</span><span class="num" id="3663195">1</span><span class="op" id="3663196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663200">z</span><span class="op" id="3663201">.</span><span class="ident" id="3663202">abs</span>&nbsp;<span class="op" id="3663206">=</span>&nbsp;<span class="ident" id="3663208">t</span><span class="op" id="3663209">.</span><span class="ident" id="3663210">add</span><span class="op" id="3663213">(</span><span class="ident" id="3663214">t</span><span class="op" id="3663215">,</span>&nbsp;<span class="ident" id="3663217">natOne</span><span class="op" id="3663223">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663227">z</span><span class="op" id="3663228">.</span><span class="ident" id="3663229">neg</span>&nbsp;<span class="op" id="3663233">=</span>&nbsp;<span class="builtinfunc" id="3663235">len</span><span class="op" id="3663238">(</span><span class="ident" id="3663239">z</span><span class="op" id="3663240">.</span><span class="ident" id="3663241">abs</span><span class="op" id="3663244">)</span>&nbsp;<span class="op" id="3663246">&gt;</span>&nbsp;<span class="num" id="3663248">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663252">return</span>&nbsp;<span class="ident" id="3663259">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3663262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663265">z</span><span class="op" id="3663266">.</span><span class="ident" id="3663267">abs</span>&nbsp;<span class="op" id="3663271">=</span>&nbsp;<span class="ident" id="3663273">z</span><span class="op" id="3663274">.</span><span class="ident" id="3663275">abs</span><span class="op" id="3663278">.</span><span class="ident" id="3663279">setBit</span><span class="op" id="3663285">(</span><span class="ident" id="3663286">x</span><span class="op" id="3663287">.</span><span class="ident" id="3663288">abs</span><span class="op" id="3663291">,</span>&nbsp;<span class="builtintype" id="3663293">uint</span><span class="op" id="3663297">(</span><span class="ident" id="3663298">i</span><span class="op" id="3663299">)</span><span class="op" id="3663300">,</span>&nbsp;<span class="ident" id="3663302">b</span><span class="op" id="3663303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663306">z</span><span class="op" id="3663307">.</span><span class="ident" id="3663308">neg</span>&nbsp;<span class="op" id="3663312">=</span>&nbsp;<span class="builtintype" id="3663314">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663321">return</span>&nbsp;<span class="ident" id="3663328">z</span><br>
<span class="lineno"></span><span class="op" id="3663330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3663333">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3663370">func</span>&nbsp;<span class="op" id="3663375">(</span><span class="ident" id="3663376">z</span>&nbsp;<span class="op" id="3663378">*</span><span class="ident" id="3663379">Int</span><span class="op" id="3663382">)</span>&nbsp;<span class="ident" id="3663384">And</span><span class="op" id="3663387">(</span><span class="ident" id="3663388">x</span><span class="op" id="3663389">,</span>&nbsp;<span class="ident" id="3663391">y</span>&nbsp;<span class="op" id="3663393">*</span><span class="ident" id="3663394">Int</span><span class="op" id="3663397">)</span>&nbsp;<span class="op" id="3663399">*</span><span class="ident" id="3663400">Int</span>&nbsp;<span class="op" id="3663404">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663407">if</span>&nbsp;<span class="ident" id="3663410">x</span><span class="op" id="3663411">.</span><span class="ident" id="3663412">neg</span>&nbsp;<span class="op" id="3663416">==</span>&nbsp;<span class="ident" id="3663419">y</span><span class="op" id="3663420">.</span><span class="ident" id="3663421">neg</span>&nbsp;<span class="op" id="3663425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663429">if</span>&nbsp;<span class="ident" id="3663432">x</span><span class="op" id="3663433">.</span><span class="ident" id="3663434">neg</span>&nbsp;<span class="op" id="3663438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3663443">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663526">x1</span>&nbsp;<span class="op" id="3663529">:=</span>&nbsp;<span class="ident" id="3663532">nat</span><span class="op" id="3663535">(</span><span class="ident" id="3663536">nil</span><span class="op" id="3663539">)</span><span class="op" id="3663540">.</span><span class="ident" id="3663541">sub</span><span class="op" id="3663544">(</span><span class="ident" id="3663545">x</span><span class="op" id="3663546">.</span><span class="ident" id="3663547">abs</span><span class="op" id="3663550">,</span>&nbsp;<span class="ident" id="3663552">natOne</span><span class="op" id="3663558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663563">y1</span>&nbsp;<span class="op" id="3663566">:=</span>&nbsp;<span class="ident" id="3663569">nat</span><span class="op" id="3663572">(</span><span class="ident" id="3663573">nil</span><span class="op" id="3663576">)</span><span class="op" id="3663577">.</span><span class="ident" id="3663578">sub</span><span class="op" id="3663581">(</span><span class="ident" id="3663582">y</span><span class="op" id="3663583">.</span><span class="ident" id="3663584">abs</span><span class="op" id="3663587">,</span>&nbsp;<span class="ident" id="3663589">natOne</span><span class="op" id="3663595">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663600">z</span><span class="op" id="3663601">.</span><span class="ident" id="3663602">abs</span>&nbsp;<span class="op" id="3663606">=</span>&nbsp;<span class="ident" id="3663608">z</span><span class="op" id="3663609">.</span><span class="ident" id="3663610">abs</span><span class="op" id="3663613">.</span><span class="ident" id="3663614">add</span><span class="op" id="3663617">(</span><span class="ident" id="3663618">z</span><span class="op" id="3663619">.</span><span class="ident" id="3663620">abs</span><span class="op" id="3663623">.</span><span class="ident" id="3663624">or</span><span class="op" id="3663626">(</span><span class="ident" id="3663627">x1</span><span class="op" id="3663629">,</span>&nbsp;<span class="ident" id="3663631">y1</span><span class="op" id="3663633">)</span><span class="op" id="3663634">,</span>&nbsp;<span class="ident" id="3663636">natOne</span><span class="op" id="3663642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663647">z</span><span class="op" id="3663648">.</span><span class="ident" id="3663649">neg</span>&nbsp;<span class="op" id="3663653">=</span>&nbsp;<span class="builtintype" id="3663655">true</span>&nbsp;<span class="comment" id="3663660">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663707">return</span>&nbsp;<span class="ident" id="3663714">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3663718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3663723">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663743">z</span><span class="op" id="3663744">.</span><span class="ident" id="3663745">abs</span>&nbsp;<span class="op" id="3663749">=</span>&nbsp;<span class="ident" id="3663751">z</span><span class="op" id="3663752">.</span><span class="ident" id="3663753">abs</span><span class="op" id="3663756">.</span><span class="ident" id="3663757">and</span><span class="op" id="3663760">(</span><span class="ident" id="3663761">x</span><span class="op" id="3663762">.</span><span class="ident" id="3663763">abs</span><span class="op" id="3663766">,</span>&nbsp;<span class="ident" id="3663768">y</span><span class="op" id="3663769">.</span><span class="ident" id="3663770">abs</span><span class="op" id="3663773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663777">z</span><span class="op" id="3663778">.</span><span class="ident" id="3663779">neg</span>&nbsp;<span class="op" id="3663783">=</span>&nbsp;<span class="builtintype" id="3663785">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663793">return</span>&nbsp;<span class="ident" id="3663800">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3663803">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3663807">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663826">if</span>&nbsp;<span class="ident" id="3663829">x</span><span class="op" id="3663830">.</span><span class="ident" id="3663831">neg</span>&nbsp;<span class="op" id="3663835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663839">x</span><span class="op" id="3663840">,</span>&nbsp;<span class="ident" id="3663842">y</span>&nbsp;<span class="op" id="3663844">=</span>&nbsp;<span class="ident" id="3663846">y</span><span class="op" id="3663847">,</span>&nbsp;<span class="ident" id="3663849">x</span>&nbsp;<span class="comment" id="3663851">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3663870">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3663874">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663915">y1</span>&nbsp;<span class="op" id="3663918">:=</span>&nbsp;<span class="ident" id="3663921">nat</span><span class="op" id="3663924">(</span><span class="ident" id="3663925">nil</span><span class="op" id="3663928">)</span><span class="op" id="3663929">.</span><span class="ident" id="3663930">sub</span><span class="op" id="3663933">(</span><span class="ident" id="3663934">y</span><span class="op" id="3663935">.</span><span class="ident" id="3663936">abs</span><span class="op" id="3663939">,</span>&nbsp;<span class="ident" id="3663941">natOne</span><span class="op" id="3663947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663950">z</span><span class="op" id="3663951">.</span><span class="ident" id="3663952">abs</span>&nbsp;<span class="op" id="3663956">=</span>&nbsp;<span class="ident" id="3663958">z</span><span class="op" id="3663959">.</span><span class="ident" id="3663960">abs</span><span class="op" id="3663963">.</span><span class="ident" id="3663964">andNot</span><span class="op" id="3663970">(</span><span class="ident" id="3663971">x</span><span class="op" id="3663972">.</span><span class="ident" id="3663973">abs</span><span class="op" id="3663976">,</span>&nbsp;<span class="ident" id="3663978">y1</span><span class="op" id="3663980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663983">z</span><span class="op" id="3663984">.</span><span class="ident" id="3663985">neg</span>&nbsp;<span class="op" id="3663989">=</span>&nbsp;<span class="builtintype" id="3663991">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3663998">return</span>&nbsp;<span class="ident" id="3664005">z</span><br>
<span class="lineno"></span><span class="op" id="3664007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3664010">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3664051">func</span>&nbsp;<span class="op" id="3664056">(</span><span class="ident" id="3664057">z</span>&nbsp;<span class="op" id="3664059">*</span><span class="ident" id="3664060">Int</span><span class="op" id="3664063">)</span>&nbsp;<span class="ident" id="3664065">AndNot</span><span class="op" id="3664071">(</span><span class="ident" id="3664072">x</span><span class="op" id="3664073">,</span>&nbsp;<span class="ident" id="3664075">y</span>&nbsp;<span class="op" id="3664077">*</span><span class="ident" id="3664078">Int</span><span class="op" id="3664081">)</span>&nbsp;<span class="op" id="3664083">*</span><span class="ident" id="3664084">Int</span>&nbsp;<span class="op" id="3664088">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664091">if</span>&nbsp;<span class="ident" id="3664094">x</span><span class="op" id="3664095">.</span><span class="ident" id="3664096">neg</span>&nbsp;<span class="op" id="3664100">==</span>&nbsp;<span class="ident" id="3664103">y</span><span class="op" id="3664104">.</span><span class="ident" id="3664105">neg</span>&nbsp;<span class="op" id="3664109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664113">if</span>&nbsp;<span class="ident" id="3664116">x</span><span class="op" id="3664117">.</span><span class="ident" id="3664118">neg</span>&nbsp;<span class="op" id="3664122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3664127">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664202">x1</span>&nbsp;<span class="op" id="3664205">:=</span>&nbsp;<span class="ident" id="3664208">nat</span><span class="op" id="3664211">(</span><span class="ident" id="3664212">nil</span><span class="op" id="3664215">)</span><span class="op" id="3664216">.</span><span class="ident" id="3664217">sub</span><span class="op" id="3664220">(</span><span class="ident" id="3664221">x</span><span class="op" id="3664222">.</span><span class="ident" id="3664223">abs</span><span class="op" id="3664226">,</span>&nbsp;<span class="ident" id="3664228">natOne</span><span class="op" id="3664234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664239">y1</span>&nbsp;<span class="op" id="3664242">:=</span>&nbsp;<span class="ident" id="3664245">nat</span><span class="op" id="3664248">(</span><span class="ident" id="3664249">nil</span><span class="op" id="3664252">)</span><span class="op" id="3664253">.</span><span class="ident" id="3664254">sub</span><span class="op" id="3664257">(</span><span class="ident" id="3664258">y</span><span class="op" id="3664259">.</span><span class="ident" id="3664260">abs</span><span class="op" id="3664263">,</span>&nbsp;<span class="ident" id="3664265">natOne</span><span class="op" id="3664271">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664276">z</span><span class="op" id="3664277">.</span><span class="ident" id="3664278">abs</span>&nbsp;<span class="op" id="3664282">=</span>&nbsp;<span class="ident" id="3664284">z</span><span class="op" id="3664285">.</span><span class="ident" id="3664286">abs</span><span class="op" id="3664289">.</span><span class="ident" id="3664290">andNot</span><span class="op" id="3664296">(</span><span class="ident" id="3664297">y1</span><span class="op" id="3664299">,</span>&nbsp;<span class="ident" id="3664301">x1</span><span class="op" id="3664303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664308">z</span><span class="op" id="3664309">.</span><span class="ident" id="3664310">neg</span>&nbsp;<span class="op" id="3664314">=</span>&nbsp;<span class="builtintype" id="3664316">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664325">return</span>&nbsp;<span class="ident" id="3664332">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3664336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3664341">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664363">z</span><span class="op" id="3664364">.</span><span class="ident" id="3664365">abs</span>&nbsp;<span class="op" id="3664369">=</span>&nbsp;<span class="ident" id="3664371">z</span><span class="op" id="3664372">.</span><span class="ident" id="3664373">abs</span><span class="op" id="3664376">.</span><span class="ident" id="3664377">andNot</span><span class="op" id="3664383">(</span><span class="ident" id="3664384">x</span><span class="op" id="3664385">.</span><span class="ident" id="3664386">abs</span><span class="op" id="3664389">,</span>&nbsp;<span class="ident" id="3664391">y</span><span class="op" id="3664392">.</span><span class="ident" id="3664393">abs</span><span class="op" id="3664396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664400">z</span><span class="op" id="3664401">.</span><span class="ident" id="3664402">neg</span>&nbsp;<span class="op" id="3664406">=</span>&nbsp;<span class="builtintype" id="3664408">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664416">return</span>&nbsp;<span class="ident" id="3664423">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3664426">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664430">if</span>&nbsp;<span class="ident" id="3664433">x</span><span class="op" id="3664434">.</span><span class="ident" id="3664435">neg</span>&nbsp;<span class="op" id="3664439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3664443">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664526">x1</span>&nbsp;<span class="op" id="3664529">:=</span>&nbsp;<span class="ident" id="3664532">nat</span><span class="op" id="3664535">(</span><span class="ident" id="3664536">nil</span><span class="op" id="3664539">)</span><span class="op" id="3664540">.</span><span class="ident" id="3664541">sub</span><span class="op" id="3664544">(</span><span class="ident" id="3664545">x</span><span class="op" id="3664546">.</span><span class="ident" id="3664547">abs</span><span class="op" id="3664550">,</span>&nbsp;<span class="ident" id="3664552">natOne</span><span class="op" id="3664558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664562">z</span><span class="op" id="3664563">.</span><span class="ident" id="3664564">abs</span>&nbsp;<span class="op" id="3664568">=</span>&nbsp;<span class="ident" id="3664570">z</span><span class="op" id="3664571">.</span><span class="ident" id="3664572">abs</span><span class="op" id="3664575">.</span><span class="ident" id="3664576">add</span><span class="op" id="3664579">(</span><span class="ident" id="3664580">z</span><span class="op" id="3664581">.</span><span class="ident" id="3664582">abs</span><span class="op" id="3664585">.</span><span class="ident" id="3664586">or</span><span class="op" id="3664588">(</span><span class="ident" id="3664589">x1</span><span class="op" id="3664591">,</span>&nbsp;<span class="ident" id="3664593">y</span><span class="op" id="3664594">.</span><span class="ident" id="3664595">abs</span><span class="op" id="3664598">)</span><span class="op" id="3664599">,</span>&nbsp;<span class="ident" id="3664601">natOne</span><span class="op" id="3664607">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664611">z</span><span class="op" id="3664612">.</span><span class="ident" id="3664613">neg</span>&nbsp;<span class="op" id="3664617">=</span>&nbsp;<span class="builtintype" id="3664619">true</span>&nbsp;<span class="comment" id="3664624">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664681">return</span>&nbsp;<span class="ident" id="3664688">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3664691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3664695">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664737">y1</span>&nbsp;<span class="op" id="3664740">:=</span>&nbsp;<span class="ident" id="3664743">nat</span><span class="op" id="3664746">(</span><span class="ident" id="3664747">nil</span><span class="op" id="3664750">)</span><span class="op" id="3664751">.</span><span class="ident" id="3664752">add</span><span class="op" id="3664755">(</span><span class="ident" id="3664756">y</span><span class="op" id="3664757">.</span><span class="ident" id="3664758">abs</span><span class="op" id="3664761">,</span>&nbsp;<span class="ident" id="3664763">natOne</span><span class="op" id="3664769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664772">z</span><span class="op" id="3664773">.</span><span class="ident" id="3664774">abs</span>&nbsp;<span class="op" id="3664778">=</span>&nbsp;<span class="ident" id="3664780">z</span><span class="op" id="3664781">.</span><span class="ident" id="3664782">abs</span><span class="op" id="3664785">.</span><span class="ident" id="3664786">and</span><span class="op" id="3664789">(</span><span class="ident" id="3664790">x</span><span class="op" id="3664791">.</span><span class="ident" id="3664792">abs</span><span class="op" id="3664795">,</span>&nbsp;<span class="ident" id="3664797">y1</span><span class="op" id="3664799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664802">z</span><span class="op" id="3664803">.</span><span class="ident" id="3664804">neg</span>&nbsp;<span class="op" id="3664808">=</span>&nbsp;<span class="builtintype" id="3664810">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664817">return</span>&nbsp;<span class="ident" id="3664824">z</span><br>
<span class="lineno"></span><span class="op" id="3664826">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="3664829">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3664865">func</span>&nbsp;<span class="op" id="3664870">(</span><span class="ident" id="3664871">z</span>&nbsp;<span class="op" id="3664873">*</span><span class="ident" id="3664874">Int</span><span class="op" id="3664877">)</span>&nbsp;<span class="ident" id="3664879">Or</span><span class="op" id="3664881">(</span><span class="ident" id="3664882">x</span><span class="op" id="3664883">,</span>&nbsp;<span class="ident" id="3664885">y</span>&nbsp;<span class="op" id="3664887">*</span><span class="ident" id="3664888">Int</span><span class="op" id="3664891">)</span>&nbsp;<span class="op" id="3664893">*</span><span class="ident" id="3664894">Int</span>&nbsp;<span class="op" id="3664898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664901">if</span>&nbsp;<span class="ident" id="3664904">x</span><span class="op" id="3664905">.</span><span class="ident" id="3664906">neg</span>&nbsp;<span class="op" id="3664910">==</span>&nbsp;<span class="ident" id="3664913">y</span><span class="op" id="3664914">.</span><span class="ident" id="3664915">neg</span>&nbsp;<span class="op" id="3664919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664923">if</span>&nbsp;<span class="ident" id="3664926">x</span><span class="op" id="3664927">.</span><span class="ident" id="3664928">neg</span>&nbsp;<span class="op" id="3664932">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3664937">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665020">x1</span>&nbsp;<span class="op" id="3665023">:=</span>&nbsp;<span class="ident" id="3665026">nat</span><span class="op" id="3665029">(</span><span class="ident" id="3665030">nil</span><span class="op" id="3665033">)</span><span class="op" id="3665034">.</span><span class="ident" id="3665035">sub</span><span class="op" id="3665038">(</span><span class="ident" id="3665039">x</span><span class="op" id="3665040">.</span><span class="ident" id="3665041">abs</span><span class="op" id="3665044">,</span>&nbsp;<span class="ident" id="3665046">natOne</span><span class="op" id="3665052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665057">y1</span>&nbsp;<span class="op" id="3665060">:=</span>&nbsp;<span class="ident" id="3665063">nat</span><span class="op" id="3665066">(</span><span class="ident" id="3665067">nil</span><span class="op" id="3665070">)</span><span class="op" id="3665071">.</span><span class="ident" id="3665072">sub</span><span class="op" id="3665075">(</span><span class="ident" id="3665076">y</span><span class="op" id="3665077">.</span><span class="ident" id="3665078">abs</span><span class="op" id="3665081">,</span>&nbsp;<span class="ident" id="3665083">natOne</span><span class="op" id="3665089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665094">z</span><span class="op" id="3665095">.</span><span class="ident" id="3665096">abs</span>&nbsp;<span class="op" id="3665100">=</span>&nbsp;<span class="ident" id="3665102">z</span><span class="op" id="3665103">.</span><span class="ident" id="3665104">abs</span><span class="op" id="3665107">.</span><span class="ident" id="3665108">add</span><span class="op" id="3665111">(</span><span class="ident" id="3665112">z</span><span class="op" id="3665113">.</span><span class="ident" id="3665114">abs</span><span class="op" id="3665117">.</span><span class="ident" id="3665118">and</span><span class="op" id="3665121">(</span><span class="ident" id="3665122">x1</span><span class="op" id="3665124">,</span>&nbsp;<span class="ident" id="3665126">y1</span><span class="op" id="3665128">)</span><span class="op" id="3665129">,</span>&nbsp;<span class="ident" id="3665131">natOne</span><span class="op" id="3665137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665142">z</span><span class="op" id="3665143">.</span><span class="ident" id="3665144">neg</span>&nbsp;<span class="op" id="3665148">=</span>&nbsp;<span class="builtintype" id="3665150">true</span>&nbsp;<span class="comment" id="3665155">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3665202">return</span>&nbsp;<span class="ident" id="3665209">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3665213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3665218">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665238">z</span><span class="op" id="3665239">.</span><span class="ident" id="3665240">abs</span>&nbsp;<span class="op" id="3665244">=</span>&nbsp;<span class="ident" id="3665246">z</span><span class="op" id="3665247">.</span><span class="ident" id="3665248">abs</span><span class="op" id="3665251">.</span><span class="ident" id="3665252">or</span><span class="op" id="3665254">(</span><span class="ident" id="3665255">x</span><span class="op" id="3665256">.</span><span class="ident" id="3665257">abs</span><span class="op" id="3665260">,</span>&nbsp;<span class="ident" id="3665262">y</span><span class="op" id="3665263">.</span><span class="ident" id="3665264">abs</span><span class="op" id="3665267">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665271">z</span><span class="op" id="3665272">.</span><span class="ident" id="3665273">neg</span>&nbsp;<span class="op" id="3665277">=</span>&nbsp;<span class="builtintype" id="3665279">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3665287">return</span>&nbsp;<span class="ident" id="3665294">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3665297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3665301">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3665320">if</span>&nbsp;<span class="ident" id="3665323">x</span><span class="op" id="3665324">.</span><span class="ident" id="3665325">neg</span>&nbsp;<span class="op" id="3665329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665333">x</span><span class="op" id="3665334">,</span>&nbsp;<span class="ident" id="3665336">y</span>&nbsp;<span class="op" id="3665338">=</span>&nbsp;<span class="ident" id="3665340">y</span><span class="op" id="3665341">,</span>&nbsp;<span class="ident" id="3665343">x</span>&nbsp;<span class="comment" id="3665345">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3665364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3665368">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665436">y1</span>&nbsp;<span class="op" id="3665439">:=</span>&nbsp;<span class="ident" id="3665442">nat</span><span class="op" id="3665445">(</span><span class="ident" id="3665446">nil</span><span class="op" id="3665449">)</span><span class="op" id="3665450">.</span><span class="ident" id="3665451">sub</span><span class="op" id="3665454">(</span><span class="ident" id="3665455">y</span><span class="op" id="3665456">.</span><span class="ident" id="3665457">abs</span><span class="op" id="3665460">,</span>&nbsp;<span class="ident" id="3665462">natOne</span><span class="op" id="3665468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665471">z</span><span class="op" id="3665472">.</span><span class="ident" id="3665473">abs</span>&nbsp;<span class="op" id="3665477">=</span>&nbsp;<span class="ident" id="3665479">z</span><span class="op" id="3665480">.</span><span class="ident" id="3665481">abs</span><span class="op" id="3665484">.</span><span class="ident" id="3665485">add</span><span class="op" id="3665488">(</span><span class="ident" id="3665489">z</span><span class="op" id="3665490">.</span><span class="ident" id="3665491">abs</span><span class="op" id="3665494">.</span><span class="ident" id="3665495">andNot</span><span class="op" id="3665501">(</span><span class="ident" id="3665502">y1</span><span class="op" id="3665504">,</span>&nbsp;<span class="ident" id="3665506">x</span><span class="op" id="3665507">.</span><span class="ident" id="3665508">abs</span><span class="op" id="3665511">)</span><span class="op" id="3665512">,</span>&nbsp;<span class="ident" id="3665514">natOne</span><span class="op" id="3665520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665523">z</span><span class="op" id="3665524">.</span><span class="ident" id="3665525">neg</span>&nbsp;<span class="op" id="3665529">=</span>&nbsp;<span class="builtintype" id="3665531">true</span>&nbsp;<span class="comment" id="3665536">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3665586">return</span>&nbsp;<span class="ident" id="3665593">z</span><br>
<span class="lineno"></span><span class="op" id="3665595">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="3665598">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3665635">func</span>&nbsp;<span class="op" id="3665640">(</span><span class="ident" id="3665641">z</span>&nbsp;<span class="op" id="3665643">*</span><span class="ident" id="3665644">Int</span><span class="op" id="3665647">)</span>&nbsp;<span class="ident" id="3665649">Xor</span><span class="op" id="3665652">(</span><span class="ident" id="3665653">x</span><span class="op" id="3665654">,</span>&nbsp;<span class="ident" id="3665656">y</span>&nbsp;<span class="op" id="3665658">*</span><span class="ident" id="3665659">Int</span><span class="op" id="3665662">)</span>&nbsp;<span class="op" id="3665664">*</span><span class="ident" id="3665665">Int</span>&nbsp;<span class="op" id="3665669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3665672">if</span>&nbsp;<span class="ident" id="3665675">x</span><span class="op" id="3665676">.</span><span class="ident" id="3665677">neg</span>&nbsp;<span class="op" id="3665681">==</span>&nbsp;<span class="ident" id="3665684">y</span><span class="op" id="3665685">.</span><span class="ident" id="3665686">neg</span>&nbsp;<span class="op" id="3665690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3665694">if</span>&nbsp;<span class="ident" id="3665697">x</span><span class="op" id="3665698">.</span><span class="ident" id="3665699">neg</span>&nbsp;<span class="op" id="3665703">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3665708">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665762">x1</span>&nbsp;<span class="op" id="3665765">:=</span>&nbsp;<span class="ident" id="3665768">nat</span><span class="op" id="3665771">(</span><span class="ident" id="3665772">nil</span><span class="op" id="3665775">)</span><span class="op" id="3665776">.</span><span class="ident" id="3665777">sub</span><span class="op" id="3665780">(</span><span class="ident" id="3665781">x</span><span class="op" id="3665782">.</span><span class="ident" id="3665783">abs</span><span class="op" id="3665786">,</span>&nbsp;<span class="ident" id="3665788">natOne</span><span class="op" id="3665794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665799">y1</span>&nbsp;<span class="op" id="3665802">:=</span>&nbsp;<span class="ident" id="3665805">nat</span><span class="op" id="3665808">(</span><span class="ident" id="3665809">nil</span><span class="op" id="3665812">)</span><span class="op" id="3665813">.</span><span class="ident" id="3665814">sub</span><span class="op" id="3665817">(</span><span class="ident" id="3665818">y</span><span class="op" id="3665819">.</span><span class="ident" id="3665820">abs</span><span class="op" id="3665823">,</span>&nbsp;<span class="ident" id="3665825">natOne</span><span class="op" id="3665831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665836">z</span><span class="op" id="3665837">.</span><span class="ident" id="3665838">abs</span>&nbsp;<span class="op" id="3665842">=</span>&nbsp;<span class="ident" id="3665844">z</span><span class="op" id="3665845">.</span><span class="ident" id="3665846">abs</span><span class="op" id="3665849">.</span><span class="ident" id="3665850">xor</span><span class="op" id="3665853">(</span><span class="ident" id="3665854">x1</span><span class="op" id="3665856">,</span>&nbsp;<span class="ident" id="3665858">y1</span><span class="op" id="3665860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665865">z</span><span class="op" id="3665866">.</span><span class="ident" id="3665867">neg</span>&nbsp;<span class="op" id="3665871">=</span>&nbsp;<span class="builtintype" id="3665873">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3665882">return</span>&nbsp;<span class="ident" id="3665889">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3665893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3665898">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665918">z</span><span class="op" id="3665919">.</span><span class="ident" id="3665920">abs</span>&nbsp;<span class="op" id="3665924">=</span>&nbsp;<span class="ident" id="3665926">z</span><span class="op" id="3665927">.</span><span class="ident" id="3665928">abs</span><span class="op" id="3665931">.</span><span class="ident" id="3665932">xor</span><span class="op" id="3665935">(</span><span class="ident" id="3665936">x</span><span class="op" id="3665937">.</span><span class="ident" id="3665938">abs</span><span class="op" id="3665941">,</span>&nbsp;<span class="ident" id="3665943">y</span><span class="op" id="3665944">.</span><span class="ident" id="3665945">abs</span><span class="op" id="3665948">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3665952">z</span><span class="op" id="3665953">.</span><span class="ident" id="3665954">neg</span>&nbsp;<span class="op" id="3665958">=</span>&nbsp;<span class="builtintype" id="3665960">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3665968">return</span>&nbsp;<span class="ident" id="3665975">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3665978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3665982">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666001">if</span>&nbsp;<span class="ident" id="3666004">x</span><span class="op" id="3666005">.</span><span class="ident" id="3666006">neg</span>&nbsp;<span class="op" id="3666010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666014">x</span><span class="op" id="3666015">,</span>&nbsp;<span class="ident" id="3666017">y</span>&nbsp;<span class="op" id="3666019">=</span>&nbsp;<span class="ident" id="3666021">y</span><span class="op" id="3666022">,</span>&nbsp;<span class="ident" id="3666024">x</span>&nbsp;<span class="comment" id="3666026">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3666045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3666049">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666114">y1</span>&nbsp;<span class="op" id="3666117">:=</span>&nbsp;<span class="ident" id="3666120">nat</span><span class="op" id="3666123">(</span><span class="ident" id="3666124">nil</span><span class="op" id="3666127">)</span><span class="op" id="3666128">.</span><span class="ident" id="3666129">sub</span><span class="op" id="3666132">(</span><span class="ident" id="3666133">y</span><span class="op" id="3666134">.</span><span class="ident" id="3666135">abs</span><span class="op" id="3666138">,</span>&nbsp;<span class="ident" id="3666140">natOne</span><span class="op" id="3666146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666149">z</span><span class="op" id="3666150">.</span><span class="ident" id="3666151">abs</span>&nbsp;<span class="op" id="3666155">=</span>&nbsp;<span class="ident" id="3666157">z</span><span class="op" id="3666158">.</span><span class="ident" id="3666159">abs</span><span class="op" id="3666162">.</span><span class="ident" id="3666163">add</span><span class="op" id="3666166">(</span><span class="ident" id="3666167">z</span><span class="op" id="3666168">.</span><span class="ident" id="3666169">abs</span><span class="op" id="3666172">.</span><span class="ident" id="3666173">xor</span><span class="op" id="3666176">(</span><span class="ident" id="3666177">x</span><span class="op" id="3666178">.</span><span class="ident" id="3666179">abs</span><span class="op" id="3666182">,</span>&nbsp;<span class="ident" id="3666184">y1</span><span class="op" id="3666186">)</span><span class="op" id="3666187">,</span>&nbsp;<span class="ident" id="3666189">natOne</span><span class="op" id="3666195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666198">z</span><span class="op" id="3666199">.</span><span class="ident" id="3666200">neg</span>&nbsp;<span class="op" id="3666204">=</span>&nbsp;<span class="builtintype" id="3666206">true</span>&nbsp;<span class="comment" id="3666211">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666266">return</span>&nbsp;<span class="ident" id="3666273">z</span><br>
<span class="lineno"></span><span class="op" id="3666275">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="3666278">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3666312">func</span>&nbsp;<span class="op" id="3666317">(</span><span class="ident" id="3666318">z</span>&nbsp;<span class="op" id="3666320">*</span><span class="ident" id="3666321">Int</span><span class="op" id="3666324">)</span>&nbsp;<span class="ident" id="3666326">Not</span><span class="op" id="3666329">(</span><span class="ident" id="3666330">x</span>&nbsp;<span class="op" id="3666332">*</span><span class="ident" id="3666333">Int</span><span class="op" id="3666336">)</span>&nbsp;<span class="op" id="3666338">*</span><span class="ident" id="3666339">Int</span>&nbsp;<span class="op" id="3666343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666346">if</span>&nbsp;<span class="ident" id="3666349">x</span><span class="op" id="3666350">.</span><span class="ident" id="3666351">neg</span>&nbsp;<span class="op" id="3666355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3666359">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666390">z</span><span class="op" id="3666391">.</span><span class="ident" id="3666392">abs</span>&nbsp;<span class="op" id="3666396">=</span>&nbsp;<span class="ident" id="3666398">z</span><span class="op" id="3666399">.</span><span class="ident" id="3666400">abs</span><span class="op" id="3666403">.</span><span class="ident" id="3666404">sub</span><span class="op" id="3666407">(</span><span class="ident" id="3666408">x</span><span class="op" id="3666409">.</span><span class="ident" id="3666410">abs</span><span class="op" id="3666413">,</span>&nbsp;<span class="ident" id="3666415">natOne</span><span class="op" id="3666421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666425">z</span><span class="op" id="3666426">.</span><span class="ident" id="3666427">neg</span>&nbsp;<span class="op" id="3666431">=</span>&nbsp;<span class="builtintype" id="3666433">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666441">return</span>&nbsp;<span class="ident" id="3666448">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3666451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3666455">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666480">z</span><span class="op" id="3666481">.</span><span class="ident" id="3666482">abs</span>&nbsp;<span class="op" id="3666486">=</span>&nbsp;<span class="ident" id="3666488">z</span><span class="op" id="3666489">.</span><span class="ident" id="3666490">abs</span><span class="op" id="3666493">.</span><span class="ident" id="3666494">add</span><span class="op" id="3666497">(</span><span class="ident" id="3666498">x</span><span class="op" id="3666499">.</span><span class="ident" id="3666500">abs</span><span class="op" id="3666503">,</span>&nbsp;<span class="ident" id="3666505">natOne</span><span class="op" id="3666511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666514">z</span><span class="op" id="3666515">.</span><span class="ident" id="3666516">neg</span>&nbsp;<span class="op" id="3666520">=</span>&nbsp;<span class="builtintype" id="3666522">true</span>&nbsp;<span class="comment" id="3666527">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666565">return</span>&nbsp;<span class="ident" id="3666572">z</span><br>
<span class="lineno"></span><span class="op" id="3666574">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="3666577">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3666652">const</span>&nbsp;<span class="ident" id="3666658">intGobVersion</span>&nbsp;<span class="builtintype" id="3666672">byte</span>&nbsp;<span class="op" id="3666677">=</span>&nbsp;<span class="num" id="3666679">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3666682">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="3666736">func</span>&nbsp;<span class="op" id="3666741">(</span><span class="ident" id="3666742">x</span>&nbsp;<span class="op" id="3666744">*</span><span class="ident" id="3666745">Int</span><span class="op" id="3666748">)</span>&nbsp;<span class="ident" id="3666750">GobEncode</span><span class="op" id="3666759">(</span><span class="op" id="3666760">)</span>&nbsp;<span class="op" id="3666762">(</span><span class="op" id="3666763">[</span><span class="op" id="3666764">]</span><span class="builtintype" id="3666765">byte</span><span class="op" id="3666769">,</span>&nbsp;<span class="builtintype" id="3666771">error</span><span class="op" id="3666776">)</span>&nbsp;<span class="op" id="3666778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666781">if</span>&nbsp;<span class="ident" id="3666784">x</span>&nbsp;<span class="op" id="3666786">==</span>&nbsp;<span class="ident" id="3666789">nil</span>&nbsp;<span class="op" id="3666793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666797">return</span>&nbsp;<span class="ident" id="3666804">nil</span><span class="op" id="3666807">,</span>&nbsp;<span class="ident" id="3666809">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3666814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666817">buf</span>&nbsp;<span class="op" id="3666821">:=</span>&nbsp;<span class="builtinfunc" id="3666824">make</span><span class="op" id="3666828">(</span><span class="op" id="3666829">[</span><span class="op" id="3666830">]</span><span class="builtintype" id="3666831">byte</span><span class="op" id="3666835">,</span>&nbsp;<span class="num" id="3666837">1</span><span class="op" id="3666838">+</span><span class="builtinfunc" id="3666839">len</span><span class="op" id="3666842">(</span><span class="ident" id="3666843">x</span><span class="op" id="3666844">.</span><span class="ident" id="3666845">abs</span><span class="op" id="3666848">)</span><span class="op" id="3666849">*</span><span class="ident" id="3666850">_S</span><span class="op" id="3666852">)</span>&nbsp;<span class="comment" id="3666854">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666894">i</span>&nbsp;<span class="op" id="3666896">:=</span>&nbsp;<span class="ident" id="3666899">x</span><span class="op" id="3666900">.</span><span class="ident" id="3666901">abs</span><span class="op" id="3666904">.</span><span class="ident" id="3666905">bytes</span><span class="op" id="3666910">(</span><span class="ident" id="3666911">buf</span><span class="op" id="3666914">)</span>&nbsp;<span class="op" id="3666916">-</span>&nbsp;<span class="num" id="3666918">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3666931">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666942">b</span>&nbsp;<span class="op" id="3666944">:=</span>&nbsp;<span class="ident" id="3666947">intGobVersion</span>&nbsp;<span class="op" id="3666961">&lt;&lt;</span>&nbsp;<span class="num" id="3666964">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3666979">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667007">if</span>&nbsp;<span class="ident" id="3667010">x</span><span class="op" id="3667011">.</span><span class="ident" id="3667012">neg</span>&nbsp;<span class="op" id="3667016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3667020">b</span>&nbsp;<span class="op" id="3667022">|=</span>&nbsp;<span class="num" id="3667025">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3667028">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3667031">buf</span><span class="op" id="3667034">[</span><span class="ident" id="3667035">i</span><span class="op" id="3667036">]</span>&nbsp;<span class="op" id="3667038">=</span>&nbsp;<span class="ident" id="3667040">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667043">return</span>&nbsp;<span class="ident" id="3667050">buf</span><span class="op" id="3667053">[</span><span class="ident" id="3667054">i</span><span class="op" id="3667055">:</span><span class="op" id="3667056">]</span><span class="op" id="3667057">,</span>&nbsp;<span class="ident" id="3667059">nil</span><br>
<span class="lineno"></span><span class="op" id="3667063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3667066">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="3667120">func</span>&nbsp;<span class="op" id="3667125">(</span><span class="ident" id="3667126">z</span>&nbsp;<span class="op" id="3667128">*</span><span class="ident" id="3667129">Int</span><span class="op" id="3667132">)</span>&nbsp;<span class="ident" id="3667134">GobDecode</span><span class="op" id="3667143">(</span><span class="ident" id="3667144">buf</span>&nbsp;<span class="op" id="3667148">[</span><span class="op" id="3667149">]</span><span class="builtintype" id="3667150">byte</span><span class="op" id="3667154">)</span>&nbsp;<span class="builtintype" id="3667156">error</span>&nbsp;<span class="op" id="3667162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667165">if</span>&nbsp;<span class="builtinfunc" id="3667168">len</span><span class="op" id="3667171">(</span><span class="ident" id="3667172">buf</span><span class="op" id="3667175">)</span>&nbsp;<span class="op" id="3667177">==</span>&nbsp;<span class="num" id="3667180">0</span>&nbsp;<span class="op" id="3667182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3667186">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3667231">*</span><span class="ident" id="3667232">z</span>&nbsp;<span class="op" id="3667234">=</span>&nbsp;<span class="ident" id="3667236">Int</span><span class="op" id="3667239">{</span><span class="op" id="3667240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667244">return</span>&nbsp;<span class="ident" id="3667251">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3667256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3667259">b</span>&nbsp;<span class="op" id="3667261">:=</span>&nbsp;<span class="ident" id="3667264">buf</span><span class="op" id="3667267">[</span><span class="num" id="3667268">0</span><span class="op" id="3667269">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667272">if</span>&nbsp;<span class="ident" id="3667275">b</span><span class="op" id="3667276">&gt;&gt;</span><span class="num" id="3667278">1</span>&nbsp;<span class="op" id="3667280">!=</span>&nbsp;<span class="ident" id="3667283">intGobVersion</span>&nbsp;<span class="op" id="3667297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667301">return</span>&nbsp;<span class="ident" id="3667308">errors</span><span class="op" id="3667314">.</span><span class="ident" id="3667315">New</span><span class="op" id="3667318">(</span><span class="ident" id="3667319">fmt</span><span class="op" id="3667322">.</span><span class="ident" id="3667323">Sprintf</span><span class="op" id="3667330">(</span><span class="string" id="3667331">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="3667381">,</span>&nbsp;<span class="ident" id="3667383">b</span><span class="op" id="3667384">&gt;&gt;</span><span class="num" id="3667386">1</span><span class="op" id="3667387">)</span><span class="op" id="3667388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3667391">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3667394">z</span><span class="op" id="3667395">.</span><span class="ident" id="3667396">neg</span>&nbsp;<span class="op" id="3667400">=</span>&nbsp;<span class="ident" id="3667402">b</span><span class="op" id="3667403">&amp;</span><span class="num" id="3667404">1</span>&nbsp;<span class="op" id="3667406">!=</span>&nbsp;<span class="num" id="3667409">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3667412">z</span><span class="op" id="3667413">.</span><span class="ident" id="3667414">abs</span>&nbsp;<span class="op" id="3667418">=</span>&nbsp;<span class="ident" id="3667420">z</span><span class="op" id="3667421">.</span><span class="ident" id="3667422">abs</span><span class="op" id="3667425">.</span><span class="ident" id="3667426">setBytes</span><span class="op" id="3667434">(</span><span class="ident" id="3667435">buf</span><span class="op" id="3667438">[</span><span class="num" id="3667439">1</span><span class="op" id="3667440">:</span><span class="op" id="3667441">]</span><span class="op" id="3667442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667445">return</span>&nbsp;<span class="ident" id="3667452">nil</span><br>
<span class="lineno"></span><span class="op" id="3667456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="3667459">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3667515">func</span>&nbsp;<span class="op" id="3667520">(</span><span class="ident" id="3667521">z</span>&nbsp;<span class="op" id="3667523">*</span><span class="ident" id="3667524">Int</span><span class="op" id="3667527">)</span>&nbsp;<span class="ident" id="3667529">MarshalJSON</span><span class="op" id="3667540">(</span><span class="op" id="3667541">)</span>&nbsp;<span class="op" id="3667543">(</span><span class="op" id="3667544">[</span><span class="op" id="3667545">]</span><span class="builtintype" id="3667546">byte</span><span class="op" id="3667550">,</span>&nbsp;<span class="builtintype" id="3667552">error</span><span class="op" id="3667557">)</span>&nbsp;<span class="op" id="3667559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3667562">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667618">return</span>&nbsp;<span class="op" id="3667625">[</span><span class="op" id="3667626">]</span><span class="builtintype" id="3667627">byte</span><span class="op" id="3667631">(</span><span class="ident" id="3667632">z</span><span class="op" id="3667633">.</span><span class="ident" id="3667634">String</span><span class="op" id="3667640">(</span><span class="op" id="3667641">)</span><span class="op" id="3667642">)</span><span class="op" id="3667643">,</span>&nbsp;<span class="ident" id="3667645">nil</span><br>
<span class="lineno"></span><span class="op" id="3667649">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="3667652">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3667712">func</span>&nbsp;<span class="op" id="3667717">(</span><span class="ident" id="3667718">z</span>&nbsp;<span class="op" id="3667720">*</span><span class="ident" id="3667721">Int</span><span class="op" id="3667724">)</span>&nbsp;<span class="ident" id="3667726">UnmarshalJSON</span><span class="op" id="3667739">(</span><span class="ident" id="3667740">text</span>&nbsp;<span class="op" id="3667745">[</span><span class="op" id="3667746">]</span><span class="builtintype" id="3667747">byte</span><span class="op" id="3667751">)</span>&nbsp;<span class="builtintype" id="3667753">error</span>&nbsp;<span class="op" id="3667759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3667762">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667818">if</span>&nbsp;<span class="ident" id="3667821">_</span><span class="op" id="3667822">,</span>&nbsp;<span class="ident" id="3667824">ok</span>&nbsp;<span class="op" id="3667827">:=</span>&nbsp;<span class="ident" id="3667830">z</span><span class="op" id="3667831">.</span><span class="ident" id="3667832">SetString</span><span class="op" id="3667841">(</span><span class="builtintype" id="3667842">string</span><span class="op" id="3667848">(</span><span class="ident" id="3667849">text</span><span class="op" id="3667853">)</span><span class="op" id="3667854">,</span>&nbsp;<span class="num" id="3667856">0</span><span class="op" id="3667857">)</span><span class="op" id="3667858">;</span>&nbsp;<span class="op" id="3667860">!</span><span class="ident" id="3667861">ok</span>&nbsp;<span class="op" id="3667864">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667868">return</span>&nbsp;<span class="ident" id="3667875">fmt</span><span class="op" id="3667878">.</span><span class="ident" id="3667879">Errorf</span><span class="op" id="3667885">(</span><span class="string" id="3667886">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3667933">,</span>&nbsp;<span class="ident" id="3667935">text</span><span class="op" id="3667939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3667942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667945">return</span>&nbsp;<span class="ident" id="3667952">nil</span><br>
<span class="lineno"></span><span class="op" id="3667956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="3667959">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3668023">func</span>&nbsp;<span class="op" id="3668028">(</span><span class="ident" id="3668029">z</span>&nbsp;<span class="op" id="3668031">*</span><span class="ident" id="3668032">Int</span><span class="op" id="3668035">)</span>&nbsp;<span class="ident" id="3668037">MarshalText</span><span class="op" id="3668048">(</span><span class="op" id="3668049">)</span>&nbsp;<span class="op" id="3668051">(</span><span class="ident" id="3668052">text</span>&nbsp;<span class="op" id="3668057">[</span><span class="op" id="3668058">]</span><span class="builtintype" id="3668059">byte</span><span class="op" id="3668063">,</span>&nbsp;<span class="ident" id="3668065">err</span>&nbsp;<span class="builtintype" id="3668069">error</span><span class="op" id="3668074">)</span>&nbsp;<span class="op" id="3668076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3668079">return</span>&nbsp;<span class="op" id="3668086">[</span><span class="op" id="3668087">]</span><span class="builtintype" id="3668088">byte</span><span class="op" id="3668092">(</span><span class="ident" id="3668093">z</span><span class="op" id="3668094">.</span><span class="ident" id="3668095">String</span><span class="op" id="3668101">(</span><span class="op" id="3668102">)</span><span class="op" id="3668103">)</span><span class="op" id="3668104">,</span>&nbsp;<span class="ident" id="3668106">nil</span><br>
<span class="lineno"></span><span class="op" id="3668110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="3668113">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3668181">func</span>&nbsp;<span class="op" id="3668186">(</span><span class="ident" id="3668187">z</span>&nbsp;<span class="op" id="3668189">*</span><span class="ident" id="3668190">Int</span><span class="op" id="3668193">)</span>&nbsp;<span class="ident" id="3668195">UnmarshalText</span><span class="op" id="3668208">(</span><span class="ident" id="3668209">text</span>&nbsp;<span class="op" id="3668214">[</span><span class="op" id="3668215">]</span><span class="builtintype" id="3668216">byte</span><span class="op" id="3668220">)</span>&nbsp;<span class="builtintype" id="3668222">error</span>&nbsp;<span class="op" id="3668228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3668231">if</span>&nbsp;<span class="ident" id="3668234">_</span><span class="op" id="3668235">,</span>&nbsp;<span class="ident" id="3668237">ok</span>&nbsp;<span class="op" id="3668240">:=</span>&nbsp;<span class="ident" id="3668243">z</span><span class="op" id="3668244">.</span><span class="ident" id="3668245">SetString</span><span class="op" id="3668254">(</span><span class="builtintype" id="3668255">string</span><span class="op" id="3668261">(</span><span class="ident" id="3668262">text</span><span class="op" id="3668266">)</span><span class="op" id="3668267">,</span>&nbsp;<span class="num" id="3668269">0</span><span class="op" id="3668270">)</span><span class="op" id="3668271">;</span>&nbsp;<span class="op" id="3668273">!</span><span class="ident" id="3668274">ok</span>&nbsp;<span class="op" id="3668277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3668281">return</span>&nbsp;<span class="ident" id="3668288">fmt</span><span class="op" id="3668291">.</span><span class="ident" id="3668292">Errorf</span><span class="op" id="3668298">(</span><span class="string" id="3668299">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3668346">,</span>&nbsp;<span class="ident" id="3668348">text</span><span class="op" id="3668352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3668355">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3668358">return</span>&nbsp;<span class="ident" id="3668365">nil</span><br>
<span class="lineno"></span><span class="op" id="3668369">}</span>
</div>
</body>
</html>
