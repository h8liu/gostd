<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html" class="current">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6599895">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6599950">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6600004">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6600055">package</span>&nbsp;<span class="ident" id="6600063">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6600070">import</span>&nbsp;<span class="op" id="6600077">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6600080">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6600089">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6600095">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6600105">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6600108">func</span>&nbsp;<span class="ident" id="6600113">TestReset</span><span class="op" id="6600122">(</span><span class="ident" id="6600123">t</span>&nbsp;<span class="op" id="6600125">*</span><span class="ident" id="6600126">testing</span><span class="op" id="6600133">.</span><span class="ident" id="6600134">T</span><span class="op" id="6600135">)</span>&nbsp;<span class="op" id="6600137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600140">ss</span>&nbsp;<span class="op" id="6600143">:=</span>&nbsp;<span class="op" id="6600146">[</span><span class="op" id="6600147">]</span><span class="builtintype" id="6600148">string</span><span class="op" id="6600154">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6600158">&#34;lorem&nbsp;ipsum&nbsp;izzle&nbsp;fo&nbsp;rizzle&#34;</span><span class="op" id="6600187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6600191">&#34;the&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&#34;</span><span class="op" id="6600224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6600227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600231">deflated</span>&nbsp;<span class="op" id="6600240">:=</span>&nbsp;<span class="builtinfunc" id="6600243">make</span><span class="op" id="6600247">(</span><span class="op" id="6600248">[</span><span class="op" id="6600249">]</span><span class="ident" id="6600250">bytes</span><span class="op" id="6600255">.</span><span class="ident" id="6600256">Buffer</span><span class="op" id="6600262">,</span>&nbsp;<span class="num" id="6600264">2</span><span class="op" id="6600265">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6600268">for</span>&nbsp;<span class="ident" id="6600272">i</span><span class="op" id="6600273">,</span>&nbsp;<span class="ident" id="6600275">s</span>&nbsp;<span class="op" id="6600277">:=</span>&nbsp;<span class="keyword" id="6600280">range</span>&nbsp;<span class="ident" id="6600286">ss</span>&nbsp;<span class="op" id="6600289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600293">w</span><span class="op" id="6600294">,</span>&nbsp;<span class="ident" id="6600296">_</span>&nbsp;<span class="op" id="6600298">:=</span>&nbsp;<span class="ident" id="6600301">NewWriter</span><span class="op" id="6600310">(</span><span class="op" id="6600311">&amp;</span><span class="ident" id="6600312">deflated</span><span class="op" id="6600320">[</span><span class="ident" id="6600321">i</span><span class="op" id="6600322">]</span><span class="op" id="6600323">,</span>&nbsp;<span class="num" id="6600325">1</span><span class="op" id="6600326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600330">w</span><span class="op" id="6600331">.</span><span class="ident" id="6600332">Write</span><span class="op" id="6600337">(</span><span class="op" id="6600338">[</span><span class="op" id="6600339">]</span><span class="builtintype" id="6600340">byte</span><span class="op" id="6600344">(</span><span class="ident" id="6600345">s</span><span class="op" id="6600346">)</span><span class="op" id="6600347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600351">w</span><span class="op" id="6600352">.</span><span class="ident" id="6600353">Close</span><span class="op" id="6600358">(</span><span class="op" id="6600359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6600362">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600366">inflated</span>&nbsp;<span class="op" id="6600375">:=</span>&nbsp;<span class="builtinfunc" id="6600378">make</span><span class="op" id="6600382">(</span><span class="op" id="6600383">[</span><span class="op" id="6600384">]</span><span class="ident" id="6600385">bytes</span><span class="op" id="6600390">.</span><span class="ident" id="6600391">Buffer</span><span class="op" id="6600397">,</span>&nbsp;<span class="num" id="6600399">2</span><span class="op" id="6600400">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600404">f</span>&nbsp;<span class="op" id="6600406">:=</span>&nbsp;<span class="ident" id="6600409">NewReader</span><span class="op" id="6600418">(</span><span class="op" id="6600419">&amp;</span><span class="ident" id="6600420">deflated</span><span class="op" id="6600428">[</span><span class="num" id="6600429">0</span><span class="op" id="6600430">]</span><span class="op" id="6600431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600434">io</span><span class="op" id="6600436">.</span><span class="ident" id="6600437">Copy</span><span class="op" id="6600441">(</span><span class="op" id="6600442">&amp;</span><span class="ident" id="6600443">inflated</span><span class="op" id="6600451">[</span><span class="num" id="6600452">0</span><span class="op" id="6600453">]</span><span class="op" id="6600454">,</span>&nbsp;<span class="ident" id="6600456">f</span><span class="op" id="6600457">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600460">f</span><span class="op" id="6600461">.</span><span class="op" id="6600462">(</span><span class="ident" id="6600463">Resetter</span><span class="op" id="6600471">)</span><span class="op" id="6600472">.</span><span class="ident" id="6600473">Reset</span><span class="op" id="6600478">(</span><span class="op" id="6600479">&amp;</span><span class="ident" id="6600480">deflated</span><span class="op" id="6600488">[</span><span class="num" id="6600489">1</span><span class="op" id="6600490">]</span><span class="op" id="6600491">,</span>&nbsp;<span class="ident" id="6600493">nil</span><span class="op" id="6600496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600499">io</span><span class="op" id="6600501">.</span><span class="ident" id="6600502">Copy</span><span class="op" id="6600506">(</span><span class="op" id="6600507">&amp;</span><span class="ident" id="6600508">inflated</span><span class="op" id="6600516">[</span><span class="num" id="6600517">1</span><span class="op" id="6600518">]</span><span class="op" id="6600519">,</span>&nbsp;<span class="ident" id="6600521">f</span><span class="op" id="6600522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600525">f</span><span class="op" id="6600526">.</span><span class="ident" id="6600527">Close</span><span class="op" id="6600532">(</span><span class="op" id="6600533">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6600537">for</span>&nbsp;<span class="ident" id="6600541">i</span><span class="op" id="6600542">,</span>&nbsp;<span class="ident" id="6600544">s</span>&nbsp;<span class="op" id="6600546">:=</span>&nbsp;<span class="keyword" id="6600549">range</span>&nbsp;<span class="ident" id="6600555">ss</span>&nbsp;<span class="op" id="6600558">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6600562">if</span>&nbsp;<span class="ident" id="6600565">s</span>&nbsp;<span class="op" id="6600567">!=</span>&nbsp;<span class="ident" id="6600570">inflated</span><span class="op" id="6600578">[</span><span class="ident" id="6600579">i</span><span class="op" id="6600580">]</span><span class="op" id="6600581">.</span><span class="ident" id="6600582">String</span><span class="op" id="6600588">(</span><span class="op" id="6600589">)</span>&nbsp;<span class="op" id="6600591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6600596">t</span><span class="op" id="6600597">.</span><span class="ident" id="6600598">Errorf</span><span class="op" id="6600604">(</span><span class="string" id="6600605">&#34;inflated[%d]:\ngot&nbsp;&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="6600638">,</span>&nbsp;<span class="ident" id="6600640">i</span><span class="op" id="6600641">,</span>&nbsp;<span class="ident" id="6600643">inflated</span><span class="op" id="6600651">[</span><span class="ident" id="6600652">i</span><span class="op" id="6600653">]</span><span class="op" id="6600654">,</span>&nbsp;<span class="ident" id="6600656">s</span><span class="op" id="6600657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6600661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6600664">}</span><br>
<span class="lineno"></span><span class="op" id="6600666">}</span>
</div>
</body>
</html>
