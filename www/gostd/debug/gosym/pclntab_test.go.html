<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html" class="current">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7732174">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7732230">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7732284">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7732335">package</span>&nbsp;<span class="ident" id="7732343">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7732350">import</span>&nbsp;<span class="op" id="7732357">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732360">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732373">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732380">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732393">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732399">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732410">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732427">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732438">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732449">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7732459">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7732462">var</span>&nbsp;<span class="op" id="7732466">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732469">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7732486">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732494">pclinetestBinary</span>&nbsp;<span class="builtintype" id="7732511">string</span><br>
<span class="lineno"></span><span class="op" id="7732518">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7732521">func</span>&nbsp;<span class="ident" id="7732526">dotest</span><span class="op" id="7732532">(</span><span class="ident" id="7732533">self</span>&nbsp;<span class="builtintype" id="7732538">bool</span><span class="op" id="7732542">)</span>&nbsp;<span class="builtintype" id="7732544">bool</span>&nbsp;<span class="op" id="7732549">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7732552">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732596">if</span>&nbsp;<span class="ident" id="7732599">runtime</span><span class="op" id="7732606">.</span><span class="ident" id="7732607">GOARCH</span>&nbsp;<span class="op" id="7732614">!=</span>&nbsp;<span class="string" id="7732617">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7732625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732629">return</span>&nbsp;<span class="builtintype" id="7732636">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7732646">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732700">if</span>&nbsp;<span class="ident" id="7732703">self</span>&nbsp;<span class="op" id="7732708">&amp;&amp;</span>&nbsp;<span class="ident" id="7732711">runtime</span><span class="op" id="7732718">.</span><span class="ident" id="7732719">GOOS</span>&nbsp;<span class="op" id="7732724">!=</span>&nbsp;<span class="string" id="7732727">&#34;linux&#34;</span>&nbsp;<span class="op" id="7732735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732739">return</span>&nbsp;<span class="builtintype" id="7732746">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7732756">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732797">if</span>&nbsp;<span class="ident" id="7732800">runtime</span><span class="op" id="7732807">.</span><span class="ident" id="7732808">GOOS</span>&nbsp;<span class="op" id="7732813">==</span>&nbsp;<span class="string" id="7732816">&#34;windows&#34;</span>&nbsp;<span class="op" id="7732826">||</span>&nbsp;<span class="ident" id="7732829">runtime</span><span class="op" id="7732836">.</span><span class="ident" id="7732837">GOOS</span>&nbsp;<span class="op" id="7732842">==</span>&nbsp;<span class="string" id="7732845">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7732853">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732857">return</span>&nbsp;<span class="builtintype" id="7732864">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732874">if</span>&nbsp;<span class="ident" id="7732877">pclinetestBinary</span>&nbsp;<span class="op" id="7732894">!=</span>&nbsp;<span class="string" id="7732897">&#34;&#34;</span>&nbsp;<span class="op" id="7732900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732904">return</span>&nbsp;<span class="builtintype" id="7732911">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732917">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732920">var</span>&nbsp;<span class="ident" id="7732924">err</span>&nbsp;<span class="builtintype" id="7732928">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732935">pclineTempDir</span><span class="op" id="7732948">,</span>&nbsp;<span class="ident" id="7732950">err</span>&nbsp;<span class="op" id="7732954">=</span>&nbsp;<span class="ident" id="7732956">ioutil</span><span class="op" id="7732962">.</span><span class="ident" id="7732963">TempDir</span><span class="op" id="7732970">(</span><span class="string" id="7732971">&#34;&#34;</span><span class="op" id="7732973">,</span>&nbsp;<span class="string" id="7732975">&#34;pclinetest&#34;</span><span class="op" id="7732987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732990">if</span>&nbsp;<span class="ident" id="7732993">err</span>&nbsp;<span class="op" id="7732997">!=</span>&nbsp;<span class="ident" id="7733000">nil</span>&nbsp;<span class="op" id="7733004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7733008">panic</span><span class="op" id="7733013">(</span><span class="ident" id="7733014">err</span><span class="op" id="7733017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733020">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7733023">if</span>&nbsp;<span class="ident" id="7733026">strings</span><span class="op" id="7733033">.</span><span class="ident" id="7733034">Contains</span><span class="op" id="7733042">(</span><span class="ident" id="7733043">pclineTempDir</span><span class="op" id="7733056">,</span>&nbsp;<span class="string" id="7733058">&#34;&nbsp;&#34;</span><span class="op" id="7733061">)</span>&nbsp;<span class="op" id="7733063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7733067">panic</span><span class="op" id="7733072">(</span><span class="string" id="7733073">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="7733102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7733108">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7733164">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7733232">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733293">pclinetestBinary</span>&nbsp;<span class="op" id="7733310">=</span>&nbsp;<span class="ident" id="7733312">filepath</span><span class="op" id="7733320">.</span><span class="ident" id="7733321">Join</span><span class="op" id="7733325">(</span><span class="ident" id="7733326">pclineTempDir</span><span class="op" id="7733339">,</span>&nbsp;<span class="string" id="7733341">&#34;pclinetest&#34;</span><span class="op" id="7733353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733356">command</span>&nbsp;<span class="op" id="7733364">:=</span>&nbsp;<span class="ident" id="7733367">fmt</span><span class="op" id="7733370">.</span><span class="ident" id="7733371">Sprintf</span><span class="op" id="7733378">(</span><span class="string" id="7733379">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="7733456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733460">pclinetestBinary</span><span class="op" id="7733476">,</span>&nbsp;<span class="ident" id="7733478">pclinetestBinary</span><span class="op" id="7733494">,</span>&nbsp;<span class="ident" id="7733496">pclinetestBinary</span><span class="op" id="7733512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733515">cmd</span>&nbsp;<span class="op" id="7733519">:=</span>&nbsp;<span class="ident" id="7733522">exec</span><span class="op" id="7733526">.</span><span class="ident" id="7733527">Command</span><span class="op" id="7733534">(</span><span class="string" id="7733535">&#34;sh&#34;</span><span class="op" id="7733539">,</span>&nbsp;<span class="string" id="7733541">&#34;-c&#34;</span><span class="op" id="7733545">,</span>&nbsp;<span class="ident" id="7733547">command</span><span class="op" id="7733554">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733557">cmd</span><span class="op" id="7733560">.</span><span class="ident" id="7733561">Stdout</span>&nbsp;<span class="op" id="7733568">=</span>&nbsp;<span class="ident" id="7733570">os</span><span class="op" id="7733572">.</span><span class="ident" id="7733573">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733581">cmd</span><span class="op" id="7733584">.</span><span class="ident" id="7733585">Stderr</span>&nbsp;<span class="op" id="7733592">=</span>&nbsp;<span class="ident" id="7733594">os</span><span class="op" id="7733596">.</span><span class="ident" id="7733597">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7733605">if</span>&nbsp;<span class="ident" id="7733608">err</span>&nbsp;<span class="op" id="7733612">:=</span>&nbsp;<span class="ident" id="7733615">cmd</span><span class="op" id="7733618">.</span><span class="ident" id="7733619">Run</span><span class="op" id="7733622">(</span><span class="op" id="7733623">)</span><span class="op" id="7733624">;</span>&nbsp;<span class="ident" id="7733626">err</span>&nbsp;<span class="op" id="7733630">!=</span>&nbsp;<span class="ident" id="7733633">nil</span>&nbsp;<span class="op" id="7733637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7733641">panic</span><span class="op" id="7733646">(</span><span class="ident" id="7733647">err</span><span class="op" id="7733650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733653">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7733656">return</span>&nbsp;<span class="builtintype" id="7733663">true</span><br>
<span class="lineno"></span><span class="op" id="7733668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7733671">func</span>&nbsp;<span class="ident" id="7733676">endtest</span><span class="op" id="7733683">(</span><span class="op" id="7733684">)</span>&nbsp;<span class="op" id="7733686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7733689">if</span>&nbsp;<span class="ident" id="7733692">pclineTempDir</span>&nbsp;<span class="op" id="7733706">!=</span>&nbsp;<span class="string" id="7733709">&#34;&#34;</span>&nbsp;<span class="op" id="7733712">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733716">os</span><span class="op" id="7733718">.</span><span class="ident" id="7733719">RemoveAll</span><span class="op" id="7733728">(</span><span class="ident" id="7733729">pclineTempDir</span><span class="op" id="7733742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733746">pclineTempDir</span>&nbsp;<span class="op" id="7733760">=</span>&nbsp;<span class="string" id="7733762">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733767">pclinetestBinary</span>&nbsp;<span class="op" id="7733784">=</span>&nbsp;<span class="string" id="7733786">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733790">}</span><br>
<span class="lineno"></span><span class="op" id="7733792">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7733795">func</span>&nbsp;<span class="ident" id="7733800">getTable</span><span class="op" id="7733808">(</span><span class="ident" id="7733809">t</span>&nbsp;<span class="op" id="7733811">*</span><span class="ident" id="7733812">testing</span><span class="op" id="7733819">.</span><span class="ident" id="7733820">T</span><span class="op" id="7733821">)</span>&nbsp;<span class="op" id="7733823">*</span><span class="ident" id="7733824">Table</span>&nbsp;<span class="op" id="7733830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733833">f</span><span class="op" id="7733834">,</span>&nbsp;<span class="ident" id="7733836">tab</span>&nbsp;<span class="op" id="7733840">:=</span>&nbsp;<span class="ident" id="7733843">crack</span><span class="op" id="7733848">(</span><span class="ident" id="7733849">os</span><span class="op" id="7733851">.</span><span class="ident" id="7733852">Args</span><span class="op" id="7733856">[</span><span class="num" id="7733857">0</span><span class="op" id="7733858">]</span><span class="op" id="7733859">,</span>&nbsp;<span class="ident" id="7733861">t</span><span class="op" id="7733862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733865">f</span><span class="op" id="7733866">.</span><span class="ident" id="7733867">Close</span><span class="op" id="7733872">(</span><span class="op" id="7733873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7733876">return</span>&nbsp;<span class="ident" id="7733883">tab</span><br>
<span class="lineno">75</span><span class="op" id="7733887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7733890">func</span>&nbsp;<span class="ident" id="7733895">crack</span><span class="op" id="7733900">(</span><span class="ident" id="7733901">file</span>&nbsp;<span class="builtintype" id="7733906">string</span><span class="op" id="7733912">,</span>&nbsp;<span class="ident" id="7733914">t</span>&nbsp;<span class="op" id="7733916">*</span><span class="ident" id="7733917">testing</span><span class="op" id="7733924">.</span><span class="ident" id="7733925">T</span><span class="op" id="7733926">)</span>&nbsp;<span class="op" id="7733928">(</span><span class="op" id="7733929">*</span><span class="ident" id="7733930">elf</span><span class="op" id="7733933">.</span><span class="ident" id="7733934">File</span><span class="op" id="7733938">,</span>&nbsp;<span class="op" id="7733940">*</span><span class="ident" id="7733941">Table</span><span class="op" id="7733946">)</span>&nbsp;<span class="op" id="7733948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7733951">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733965">f</span><span class="op" id="7733966">,</span>&nbsp;<span class="ident" id="7733968">err</span>&nbsp;<span class="op" id="7733972">:=</span>&nbsp;<span class="ident" id="7733975">elf</span><span class="op" id="7733978">.</span><span class="ident" id="7733979">Open</span><span class="op" id="7733983">(</span><span class="ident" id="7733984">file</span><span class="op" id="7733988">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7733991">if</span>&nbsp;<span class="ident" id="7733994">err</span>&nbsp;<span class="op" id="7733998">!=</span>&nbsp;<span class="ident" id="7734001">nil</span>&nbsp;<span class="op" id="7734005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734009">t</span><span class="op" id="7734010">.</span><span class="ident" id="7734011">Fatal</span><span class="op" id="7734016">(</span><span class="ident" id="7734017">err</span><span class="op" id="7734020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734026">return</span>&nbsp;<span class="ident" id="7734033">parse</span><span class="op" id="7734038">(</span><span class="ident" id="7734039">file</span><span class="op" id="7734043">,</span>&nbsp;<span class="ident" id="7734045">f</span><span class="op" id="7734046">,</span>&nbsp;<span class="ident" id="7734048">t</span><span class="op" id="7734049">)</span><br>
<span class="lineno"></span><span class="op" id="7734051">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="7734054">func</span>&nbsp;<span class="ident" id="7734059">parse</span><span class="op" id="7734064">(</span><span class="ident" id="7734065">file</span>&nbsp;<span class="builtintype" id="7734070">string</span><span class="op" id="7734076">,</span>&nbsp;<span class="ident" id="7734078">f</span>&nbsp;<span class="op" id="7734080">*</span><span class="ident" id="7734081">elf</span><span class="op" id="7734084">.</span><span class="ident" id="7734085">File</span><span class="op" id="7734089">,</span>&nbsp;<span class="ident" id="7734091">t</span>&nbsp;<span class="op" id="7734093">*</span><span class="ident" id="7734094">testing</span><span class="op" id="7734101">.</span><span class="ident" id="7734102">T</span><span class="op" id="7734103">)</span>&nbsp;<span class="op" id="7734105">(</span><span class="op" id="7734106">*</span><span class="ident" id="7734107">elf</span><span class="op" id="7734110">.</span><span class="ident" id="7734111">File</span><span class="op" id="7734115">,</span>&nbsp;<span class="op" id="7734117">*</span><span class="ident" id="7734118">Table</span><span class="op" id="7734123">)</span>&nbsp;<span class="op" id="7734125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734128">symdat</span><span class="op" id="7734134">,</span>&nbsp;<span class="ident" id="7734136">err</span>&nbsp;<span class="op" id="7734140">:=</span>&nbsp;<span class="ident" id="7734143">f</span><span class="op" id="7734144">.</span><span class="ident" id="7734145">Section</span><span class="op" id="7734152">(</span><span class="string" id="7734153">&#34;.gosymtab&#34;</span><span class="op" id="7734164">)</span><span class="op" id="7734165">.</span><span class="ident" id="7734166">Data</span><span class="op" id="7734170">(</span><span class="op" id="7734171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734174">if</span>&nbsp;<span class="ident" id="7734177">err</span>&nbsp;<span class="op" id="7734181">!=</span>&nbsp;<span class="ident" id="7734184">nil</span>&nbsp;<span class="op" id="7734188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734192">f</span><span class="op" id="7734193">.</span><span class="ident" id="7734194">Close</span><span class="op" id="7734199">(</span><span class="op" id="7734200">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734204">t</span><span class="op" id="7734205">.</span><span class="ident" id="7734206">Fatalf</span><span class="op" id="7734212">(</span><span class="string" id="7734213">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7734238">,</span>&nbsp;<span class="ident" id="7734240">file</span><span class="op" id="7734244">,</span>&nbsp;<span class="ident" id="7734246">err</span><span class="op" id="7734249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734255">pclndat</span><span class="op" id="7734262">,</span>&nbsp;<span class="ident" id="7734264">err</span>&nbsp;<span class="op" id="7734268">:=</span>&nbsp;<span class="ident" id="7734271">f</span><span class="op" id="7734272">.</span><span class="ident" id="7734273">Section</span><span class="op" id="7734280">(</span><span class="string" id="7734281">&#34;.gopclntab&#34;</span><span class="op" id="7734293">)</span><span class="op" id="7734294">.</span><span class="ident" id="7734295">Data</span><span class="op" id="7734299">(</span><span class="op" id="7734300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734303">if</span>&nbsp;<span class="ident" id="7734306">err</span>&nbsp;<span class="op" id="7734310">!=</span>&nbsp;<span class="ident" id="7734313">nil</span>&nbsp;<span class="op" id="7734317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734321">f</span><span class="op" id="7734322">.</span><span class="ident" id="7734323">Close</span><span class="op" id="7734328">(</span><span class="op" id="7734329">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734333">t</span><span class="op" id="7734334">.</span><span class="ident" id="7734335">Fatalf</span><span class="op" id="7734341">(</span><span class="string" id="7734342">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="7734368">,</span>&nbsp;<span class="ident" id="7734370">file</span><span class="op" id="7734374">,</span>&nbsp;<span class="ident" id="7734376">err</span><span class="op" id="7734379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734386">pcln</span>&nbsp;<span class="op" id="7734391">:=</span>&nbsp;<span class="ident" id="7734394">NewLineTable</span><span class="op" id="7734406">(</span><span class="ident" id="7734407">pclndat</span><span class="op" id="7734414">,</span>&nbsp;<span class="ident" id="7734416">f</span><span class="op" id="7734417">.</span><span class="ident" id="7734418">Section</span><span class="op" id="7734425">(</span><span class="string" id="7734426">&#34;.text&#34;</span><span class="op" id="7734433">)</span><span class="op" id="7734434">.</span><span class="ident" id="7734435">Addr</span><span class="op" id="7734439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734442">tab</span><span class="op" id="7734445">,</span>&nbsp;<span class="ident" id="7734447">err</span>&nbsp;<span class="op" id="7734451">:=</span>&nbsp;<span class="ident" id="7734454">NewTable</span><span class="op" id="7734462">(</span><span class="ident" id="7734463">symdat</span><span class="op" id="7734469">,</span>&nbsp;<span class="ident" id="7734471">pcln</span><span class="op" id="7734475">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734478">if</span>&nbsp;<span class="ident" id="7734481">err</span>&nbsp;<span class="op" id="7734485">!=</span>&nbsp;<span class="ident" id="7734488">nil</span>&nbsp;<span class="op" id="7734492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734496">f</span><span class="op" id="7734497">.</span><span class="ident" id="7734498">Close</span><span class="op" id="7734503">(</span><span class="op" id="7734504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734508">t</span><span class="op" id="7734509">.</span><span class="ident" id="7734510">Fatalf</span><span class="op" id="7734516">(</span><span class="string" id="7734517">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7734542">,</span>&nbsp;<span class="ident" id="7734544">file</span><span class="op" id="7734548">,</span>&nbsp;<span class="ident" id="7734550">err</span><span class="op" id="7734553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734560">return</span>&nbsp;<span class="ident" id="7734567">f</span><span class="op" id="7734568">,</span>&nbsp;<span class="ident" id="7734570">tab</span><br>
<span class="lineno"></span><span class="op" id="7734574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7734577">var</span>&nbsp;<span class="ident" id="7734581">goarch</span>&nbsp;<span class="op" id="7734588">=</span>&nbsp;<span class="ident" id="7734590">os</span><span class="op" id="7734592">.</span><span class="ident" id="7734593">Getenv</span><span class="op" id="7734599">(</span><span class="string" id="7734600">&#34;O&#34;</span><span class="op" id="7734603">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7734606">func</span>&nbsp;<span class="ident" id="7734611">TestLineFromAline</span><span class="op" id="7734628">(</span><span class="ident" id="7734629">t</span>&nbsp;<span class="op" id="7734631">*</span><span class="ident" id="7734632">testing</span><span class="op" id="7734639">.</span><span class="ident" id="7734640">T</span><span class="op" id="7734641">)</span>&nbsp;<span class="op" id="7734643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734646">if</span>&nbsp;<span class="op" id="7734649">!</span><span class="ident" id="7734650">dotest</span><span class="op" id="7734656">(</span><span class="builtintype" id="7734657">true</span><span class="op" id="7734661">)</span>&nbsp;<span class="op" id="7734663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734667">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734678">defer</span>&nbsp;<span class="ident" id="7734684">endtest</span><span class="op" id="7734691">(</span><span class="op" id="7734692">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734696">tab</span>&nbsp;<span class="op" id="7734700">:=</span>&nbsp;<span class="ident" id="7734703">getTable</span><span class="op" id="7734711">(</span><span class="ident" id="7734712">t</span><span class="op" id="7734713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734716">if</span>&nbsp;<span class="ident" id="7734719">tab</span><span class="op" id="7734722">.</span><span class="ident" id="7734723">go12line</span>&nbsp;<span class="op" id="7734732">!=</span>&nbsp;<span class="ident" id="7734735">nil</span>&nbsp;<span class="op" id="7734739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7734743">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734789">t</span><span class="op" id="7734790">.</span><span class="ident" id="7734791">Skip</span><span class="op" id="7734795">(</span><span class="string" id="7734796">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7734833">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7734840">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734865">pkg</span>&nbsp;<span class="op" id="7734869">:=</span>&nbsp;<span class="ident" id="7734872">tab</span><span class="op" id="7734875">.</span><span class="ident" id="7734876">LookupFunc</span><span class="op" id="7734886">(</span><span class="string" id="7734887">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="7734918">)</span><span class="op" id="7734919">.</span><span class="ident" id="7734920">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734925">if</span>&nbsp;<span class="ident" id="7734928">pkg</span>&nbsp;<span class="op" id="7734932">==</span>&nbsp;<span class="ident" id="7734935">nil</span>&nbsp;<span class="op" id="7734939">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734943">t</span><span class="op" id="7734944">.</span><span class="ident" id="7734945">Fatalf</span><span class="op" id="7734951">(</span><span class="string" id="7734952">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="7734961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7734968">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7735026">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735056">lastline</span>&nbsp;<span class="op" id="7735065">:=</span>&nbsp;<span class="builtinfunc" id="7735068">make</span><span class="op" id="7735072">(</span><span class="keyword" id="7735073">map</span><span class="op" id="7735076">[</span><span class="builtintype" id="7735077">string</span><span class="op" id="7735083">]</span><span class="builtintype" id="7735084">int</span><span class="op" id="7735087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735090">final</span>&nbsp;<span class="op" id="7735096">:=</span>&nbsp;<span class="op" id="7735099">-</span><span class="num" id="7735100">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735103">for</span>&nbsp;<span class="ident" id="7735107">i</span>&nbsp;<span class="op" id="7735109">:=</span>&nbsp;<span class="num" id="7735112">0</span><span class="op" id="7735113">;</span>&nbsp;<span class="ident" id="7735115">i</span>&nbsp;<span class="op" id="7735117">&lt;</span>&nbsp;<span class="num" id="7735119">10000</span><span class="op" id="7735124">;</span>&nbsp;<span class="ident" id="7735126">i</span><span class="op" id="7735127">++</span>&nbsp;<span class="op" id="7735130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735134">path</span><span class="op" id="7735138">,</span>&nbsp;<span class="ident" id="7735140">line</span>&nbsp;<span class="op" id="7735145">:=</span>&nbsp;<span class="ident" id="7735148">pkg</span><span class="op" id="7735151">.</span><span class="ident" id="7735152">lineFromAline</span><span class="op" id="7735165">(</span><span class="ident" id="7735166">i</span><span class="op" id="7735167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7735171">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735200">if</span>&nbsp;<span class="ident" id="7735203">path</span>&nbsp;<span class="op" id="7735208">==</span>&nbsp;<span class="string" id="7735211">&#34;&#34;</span>&nbsp;<span class="op" id="7735214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735219">if</span>&nbsp;<span class="ident" id="7735222">final</span>&nbsp;<span class="op" id="7735228">==</span>&nbsp;<span class="op" id="7735231">-</span><span class="num" id="7735232">1</span>&nbsp;<span class="op" id="7735234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735240">final</span>&nbsp;<span class="op" id="7735246">=</span>&nbsp;<span class="ident" id="7735248">i</span>&nbsp;<span class="op" id="7735250">-</span>&nbsp;<span class="num" id="7735252">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735262">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735273">}</span>&nbsp;<span class="keyword" id="7735275">else</span>&nbsp;<span class="keyword" id="7735280">if</span>&nbsp;<span class="ident" id="7735283">final</span>&nbsp;<span class="op" id="7735289">!=</span>&nbsp;<span class="op" id="7735292">-</span><span class="num" id="7735293">1</span>&nbsp;<span class="op" id="7735295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735300">t</span><span class="op" id="7735301">.</span><span class="ident" id="7735302">Fatalf</span><span class="op" id="7735308">(</span><span class="string" id="7735309">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="7735391">,</span>&nbsp;<span class="ident" id="7735393">final</span><span class="op" id="7735398">,</span>&nbsp;<span class="ident" id="7735400">i</span><span class="op" id="7735401">,</span>&nbsp;<span class="ident" id="7735403">path</span><span class="op" id="7735407">,</span>&nbsp;<span class="ident" id="7735409">line</span><span class="op" id="7735413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7735421">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735478">if</span>&nbsp;<span class="ident" id="7735481">line</span>&nbsp;<span class="op" id="7735486">==</span>&nbsp;<span class="num" id="7735489">1</span>&nbsp;<span class="op" id="7735491">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735496">lastline</span><span class="op" id="7735504">[</span><span class="ident" id="7735505">path</span><span class="op" id="7735509">]</span>&nbsp;<span class="op" id="7735511">=</span>&nbsp;<span class="num" id="7735513">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735518">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7735533">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735578">ll</span><span class="op" id="7735580">,</span>&nbsp;<span class="ident" id="7735582">ok</span>&nbsp;<span class="op" id="7735585">:=</span>&nbsp;<span class="ident" id="7735588">lastline</span><span class="op" id="7735596">[</span><span class="ident" id="7735597">path</span><span class="op" id="7735601">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735605">if</span>&nbsp;<span class="op" id="7735608">!</span><span class="ident" id="7735609">ok</span>&nbsp;<span class="op" id="7735612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735617">t</span><span class="op" id="7735618">.</span><span class="ident" id="7735619">Errorf</span><span class="op" id="7735625">(</span><span class="string" id="7735626">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="7735653">,</span>&nbsp;<span class="ident" id="7735655">path</span><span class="op" id="7735659">,</span>&nbsp;<span class="ident" id="7735661">line</span><span class="op" id="7735665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735669">}</span>&nbsp;<span class="keyword" id="7735671">else</span>&nbsp;<span class="keyword" id="7735676">if</span>&nbsp;<span class="ident" id="7735679">line</span>&nbsp;<span class="op" id="7735684">!=</span>&nbsp;<span class="ident" id="7735687">ll</span><span class="op" id="7735689">+</span><span class="num" id="7735690">1</span>&nbsp;<span class="op" id="7735692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735697">t</span><span class="op" id="7735698">.</span><span class="ident" id="7735699">Fatalf</span><span class="op" id="7735705">(</span><span class="string" id="7735706">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7735754">,</span>&nbsp;<span class="ident" id="7735756">path</span><span class="op" id="7735760">,</span>&nbsp;<span class="ident" id="7735762">ll</span><span class="op" id="7735764">+</span><span class="num" id="7735765">1</span><span class="op" id="7735766">,</span>&nbsp;<span class="ident" id="7735768">line</span><span class="op" id="7735772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735776">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735780">lastline</span><span class="op" id="7735788">[</span><span class="ident" id="7735789">path</span><span class="op" id="7735793">]</span>&nbsp;<span class="op" id="7735795">=</span>&nbsp;<span class="ident" id="7735797">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735806">if</span>&nbsp;<span class="ident" id="7735809">final</span>&nbsp;<span class="op" id="7735815">==</span>&nbsp;<span class="op" id="7735818">-</span><span class="num" id="7735819">1</span>&nbsp;<span class="op" id="7735821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735825">t</span><span class="op" id="7735826">.</span><span class="ident" id="7735827">Errorf</span><span class="op" id="7735833">(</span><span class="string" id="7735834">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="7735863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735866">}</span><br>
<span class="lineno">160</span><span class="op" id="7735868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7735871">func</span>&nbsp;<span class="ident" id="7735876">TestLineAline</span><span class="op" id="7735889">(</span><span class="ident" id="7735890">t</span>&nbsp;<span class="op" id="7735892">*</span><span class="ident" id="7735893">testing</span><span class="op" id="7735900">.</span><span class="ident" id="7735901">T</span><span class="op" id="7735902">)</span>&nbsp;<span class="op" id="7735904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735907">if</span>&nbsp;<span class="op" id="7735910">!</span><span class="ident" id="7735911">dotest</span><span class="op" id="7735917">(</span><span class="builtintype" id="7735918">true</span><span class="op" id="7735922">)</span>&nbsp;<span class="op" id="7735924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735928">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735939">defer</span>&nbsp;<span class="ident" id="7735945">endtest</span><span class="op" id="7735952">(</span><span class="op" id="7735953">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735957">tab</span>&nbsp;<span class="op" id="7735961">:=</span>&nbsp;<span class="ident" id="7735964">getTable</span><span class="op" id="7735972">(</span><span class="ident" id="7735973">t</span><span class="op" id="7735974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735977">if</span>&nbsp;<span class="ident" id="7735980">tab</span><span class="op" id="7735983">.</span><span class="ident" id="7735984">go12line</span>&nbsp;<span class="op" id="7735993">!=</span>&nbsp;<span class="ident" id="7735996">nil</span>&nbsp;<span class="op" id="7736000">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7736004">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736050">t</span><span class="op" id="7736051">.</span><span class="ident" id="7736052">Skip</span><span class="op" id="7736056">(</span><span class="string" id="7736057">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7736094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7736097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736101">for</span>&nbsp;<span class="ident" id="7736105">_</span><span class="op" id="7736106">,</span>&nbsp;<span class="ident" id="7736108">o</span>&nbsp;<span class="op" id="7736110">:=</span>&nbsp;<span class="keyword" id="7736113">range</span>&nbsp;<span class="ident" id="7736119">tab</span><span class="op" id="7736122">.</span><span class="ident" id="7736123">Files</span>&nbsp;<span class="op" id="7736129">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7736133">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7736183">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7736240">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736294">found</span>&nbsp;<span class="op" id="7736300">:=</span>&nbsp;<span class="builtinfunc" id="7736303">make</span><span class="op" id="7736307">(</span><span class="keyword" id="7736308">map</span><span class="op" id="7736311">[</span><span class="builtintype" id="7736312">string</span><span class="op" id="7736318">]</span><span class="builtintype" id="7736319">int</span><span class="op" id="7736322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736326">for</span>&nbsp;<span class="ident" id="7736330">i</span>&nbsp;<span class="op" id="7736332">:=</span>&nbsp;<span class="num" id="7736335">0</span><span class="op" id="7736336">;</span>&nbsp;<span class="ident" id="7736338">i</span>&nbsp;<span class="op" id="7736340">&lt;</span>&nbsp;<span class="num" id="7736342">1000</span><span class="op" id="7736346">;</span>&nbsp;<span class="ident" id="7736348">i</span><span class="op" id="7736349">++</span>&nbsp;<span class="op" id="7736352">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736357">path</span><span class="op" id="7736361">,</span>&nbsp;<span class="ident" id="7736363">line</span>&nbsp;<span class="op" id="7736368">:=</span>&nbsp;<span class="ident" id="7736371">o</span><span class="op" id="7736372">.</span><span class="ident" id="7736373">lineFromAline</span><span class="op" id="7736386">(</span><span class="ident" id="7736387">i</span><span class="op" id="7736388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736393">if</span>&nbsp;<span class="ident" id="7736396">path</span>&nbsp;<span class="op" id="7736401">==</span>&nbsp;<span class="string" id="7736404">&#34;&#34;</span>&nbsp;<span class="op" id="7736407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736413">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7736422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7736428">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736491">if</span>&nbsp;<span class="builtinfunc" id="7736494">len</span><span class="op" id="7736497">(</span><span class="ident" id="7736498">path</span><span class="op" id="7736502">)</span>&nbsp;<span class="op" id="7736504">&gt;</span>&nbsp;<span class="num" id="7736506">4</span>&nbsp;<span class="op" id="7736508">&amp;&amp;</span>&nbsp;<span class="ident" id="7736511">path</span><span class="op" id="7736515">[</span><span class="builtinfunc" id="7736516">len</span><span class="op" id="7736519">(</span><span class="ident" id="7736520">path</span><span class="op" id="7736524">)</span><span class="op" id="7736525">-</span><span class="num" id="7736526">4</span><span class="op" id="7736527">:</span><span class="op" id="7736528">]</span>&nbsp;<span class="op" id="7736530">==</span>&nbsp;<span class="string" id="7736533">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="7736540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736546">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7736558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736564">if</span>&nbsp;<span class="ident" id="7736567">minline</span><span class="op" id="7736574">,</span>&nbsp;<span class="ident" id="7736576">ok</span>&nbsp;<span class="op" id="7736579">:=</span>&nbsp;<span class="ident" id="7736582">found</span><span class="op" id="7736587">[</span><span class="ident" id="7736588">path</span><span class="op" id="7736592">]</span><span class="op" id="7736593">;</span>&nbsp;<span class="ident" id="7736595">path</span>&nbsp;<span class="op" id="7736600">!=</span>&nbsp;<span class="string" id="7736603">&#34;&#34;</span>&nbsp;<span class="op" id="7736606">&amp;&amp;</span>&nbsp;<span class="ident" id="7736609">ok</span>&nbsp;<span class="op" id="7736612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736618">if</span>&nbsp;<span class="ident" id="7736621">minline</span>&nbsp;<span class="op" id="7736629">&gt;=</span>&nbsp;<span class="ident" id="7736632">line</span>&nbsp;<span class="op" id="7736637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7736644">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736684">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7736697">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7736702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736707">found</span><span class="op" id="7736712">[</span><span class="ident" id="7736713">path</span><span class="op" id="7736717">]</span>&nbsp;<span class="op" id="7736719">=</span>&nbsp;<span class="ident" id="7736721">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736730">a</span><span class="op" id="7736731">,</span>&nbsp;<span class="ident" id="7736733">err</span>&nbsp;<span class="op" id="7736737">:=</span>&nbsp;<span class="ident" id="7736740">o</span><span class="op" id="7736741">.</span><span class="ident" id="7736742">alineFromLine</span><span class="op" id="7736755">(</span><span class="ident" id="7736756">path</span><span class="op" id="7736760">,</span>&nbsp;<span class="ident" id="7736762">line</span><span class="op" id="7736766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736771">if</span>&nbsp;<span class="ident" id="7736774">err</span>&nbsp;<span class="op" id="7736778">!=</span>&nbsp;<span class="ident" id="7736781">nil</span>&nbsp;<span class="op" id="7736785">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736791">t</span><span class="op" id="7736792">.</span><span class="ident" id="7736793">Errorf</span><span class="op" id="7736799">(</span><span class="string" id="7736800">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7736883">,</span>&nbsp;<span class="ident" id="7736885">i</span><span class="op" id="7736886">,</span>&nbsp;<span class="ident" id="7736888">o</span><span class="op" id="7736889">.</span><span class="ident" id="7736890">Paths</span><span class="op" id="7736895">[</span><span class="num" id="7736896">0</span><span class="op" id="7736897">]</span><span class="op" id="7736898">.</span><span class="ident" id="7736899">Name</span><span class="op" id="7736903">,</span>&nbsp;<span class="ident" id="7736905">path</span><span class="op" id="7736909">,</span>&nbsp;<span class="ident" id="7736911">line</span><span class="op" id="7736915">,</span>&nbsp;<span class="ident" id="7736917">err</span><span class="op" id="7736920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7736925">}</span>&nbsp;<span class="keyword" id="7736927">else</span>&nbsp;<span class="keyword" id="7736932">if</span>&nbsp;<span class="ident" id="7736935">a</span>&nbsp;<span class="op" id="7736937">!=</span>&nbsp;<span class="ident" id="7736940">i</span>&nbsp;<span class="op" id="7736942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736948">t</span><span class="op" id="7736949">.</span><span class="ident" id="7736950">Errorf</span><span class="op" id="7736956">(</span><span class="string" id="7736957">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="7737041">,</span>&nbsp;<span class="ident" id="7737043">i</span><span class="op" id="7737044">,</span>&nbsp;<span class="ident" id="7737046">o</span><span class="op" id="7737047">.</span><span class="ident" id="7737048">Paths</span><span class="op" id="7737053">[</span><span class="num" id="7737054">0</span><span class="op" id="7737055">]</span><span class="op" id="7737056">.</span><span class="ident" id="7737057">Name</span><span class="op" id="7737061">,</span>&nbsp;<span class="ident" id="7737063">path</span><span class="op" id="7737067">,</span>&nbsp;<span class="ident" id="7737069">line</span><span class="op" id="7737073">,</span>&nbsp;<span class="ident" id="7737075">a</span><span class="op" id="7737076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737085">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737088">}</span><br>
<span class="lineno"></span><span class="op" id="7737090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7737093">func</span>&nbsp;<span class="ident" id="7737098">TestPCLine</span><span class="op" id="7737108">(</span><span class="ident" id="7737109">t</span>&nbsp;<span class="op" id="7737111">*</span><span class="ident" id="7737112">testing</span><span class="op" id="7737119">.</span><span class="ident" id="7737120">T</span><span class="op" id="7737121">)</span>&nbsp;<span class="op" id="7737123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737126">if</span>&nbsp;<span class="op" id="7737129">!</span><span class="ident" id="7737130">dotest</span><span class="op" id="7737136">(</span><span class="builtintype" id="7737137">false</span><span class="op" id="7737142">)</span>&nbsp;<span class="op" id="7737144">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737148">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737159">defer</span>&nbsp;<span class="ident" id="7737165">endtest</span><span class="op" id="7737172">(</span><span class="op" id="7737173">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737177">f</span><span class="op" id="7737178">,</span>&nbsp;<span class="ident" id="7737180">tab</span>&nbsp;<span class="op" id="7737184">:=</span>&nbsp;<span class="ident" id="7737187">crack</span><span class="op" id="7737192">(</span><span class="ident" id="7737193">pclinetestBinary</span><span class="op" id="7737209">,</span>&nbsp;<span class="ident" id="7737211">t</span><span class="op" id="7737212">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737215">text</span>&nbsp;<span class="op" id="7737220">:=</span>&nbsp;<span class="ident" id="7737223">f</span><span class="op" id="7737224">.</span><span class="ident" id="7737225">Section</span><span class="op" id="7737232">(</span><span class="string" id="7737233">&#34;.text&#34;</span><span class="op" id="7737240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737243">textdat</span><span class="op" id="7737250">,</span>&nbsp;<span class="ident" id="7737252">err</span>&nbsp;<span class="op" id="7737256">:=</span>&nbsp;<span class="ident" id="7737259">text</span><span class="op" id="7737263">.</span><span class="ident" id="7737264">Data</span><span class="op" id="7737268">(</span><span class="op" id="7737269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737272">if</span>&nbsp;<span class="ident" id="7737275">err</span>&nbsp;<span class="op" id="7737279">!=</span>&nbsp;<span class="ident" id="7737282">nil</span>&nbsp;<span class="op" id="7737286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737290">t</span><span class="op" id="7737291">.</span><span class="ident" id="7737292">Fatalf</span><span class="op" id="7737298">(</span><span class="string" id="7737299">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="7737318">,</span>&nbsp;<span class="ident" id="7737320">err</span><span class="op" id="7737323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737326">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7737330">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737348">sym</span>&nbsp;<span class="op" id="7737352">:=</span>&nbsp;<span class="ident" id="7737355">tab</span><span class="op" id="7737358">.</span><span class="ident" id="7737359">LookupFunc</span><span class="op" id="7737369">(</span><span class="string" id="7737370">&#34;linefrompc&#34;</span><span class="op" id="7737382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737385">wantLine</span>&nbsp;<span class="op" id="7737394">:=</span>&nbsp;<span class="num" id="7737397">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737400">for</span>&nbsp;<span class="ident" id="7737404">pc</span>&nbsp;<span class="op" id="7737407">:=</span>&nbsp;<span class="ident" id="7737410">sym</span><span class="op" id="7737413">.</span><span class="ident" id="7737414">Entry</span><span class="op" id="7737419">;</span>&nbsp;<span class="ident" id="7737421">pc</span>&nbsp;<span class="op" id="7737424">&lt;</span>&nbsp;<span class="ident" id="7737426">sym</span><span class="op" id="7737429">.</span><span class="ident" id="7737430">End</span><span class="op" id="7737433">;</span>&nbsp;<span class="ident" id="7737435">pc</span><span class="op" id="7737437">++</span>&nbsp;<span class="op" id="7737440">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737444">off</span>&nbsp;<span class="op" id="7737448">:=</span>&nbsp;<span class="ident" id="7737451">pc</span>&nbsp;<span class="op" id="7737454">-</span>&nbsp;<span class="ident" id="7737456">text</span><span class="op" id="7737460">.</span><span class="ident" id="7737461">Addr</span>&nbsp;<span class="comment" id="7737466">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737513">if</span>&nbsp;<span class="ident" id="7737516">textdat</span><span class="op" id="7737523">[</span><span class="ident" id="7737524">off</span><span class="op" id="7737527">]</span>&nbsp;<span class="op" id="7737529">==</span>&nbsp;<span class="num" id="7737532">255</span>&nbsp;<span class="op" id="7737536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737541">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737553">wantLine</span>&nbsp;<span class="op" id="7737562">+=</span>&nbsp;<span class="builtintype" id="7737565">int</span><span class="op" id="7737568">(</span><span class="ident" id="7737569">textdat</span><span class="op" id="7737576">[</span><span class="ident" id="7737577">off</span><span class="op" id="7737580">]</span><span class="op" id="7737581">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737585">t</span><span class="op" id="7737586">.</span><span class="ident" id="7737587">Logf</span><span class="op" id="7737591">(</span><span class="string" id="7737592">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="7737616">,</span>&nbsp;<span class="ident" id="7737618">off</span><span class="op" id="7737621">,</span>&nbsp;<span class="ident" id="7737623">textdat</span><span class="op" id="7737630">[</span><span class="ident" id="7737631">off</span><span class="op" id="7737634">]</span><span class="op" id="7737635">,</span>&nbsp;<span class="ident" id="7737637">sym</span><span class="op" id="7737640">.</span><span class="ident" id="7737641">End</span><span class="op" id="7737644">-</span><span class="ident" id="7737645">pc</span><span class="op" id="7737647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737651">file</span><span class="op" id="7737655">,</span>&nbsp;<span class="ident" id="7737657">line</span><span class="op" id="7737661">,</span>&nbsp;<span class="ident" id="7737663">fn</span>&nbsp;<span class="op" id="7737666">:=</span>&nbsp;<span class="ident" id="7737669">tab</span><span class="op" id="7737672">.</span><span class="ident" id="7737673">PCToLine</span><span class="op" id="7737681">(</span><span class="ident" id="7737682">pc</span><span class="op" id="7737684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737688">if</span>&nbsp;<span class="ident" id="7737691">fn</span>&nbsp;<span class="op" id="7737694">==</span>&nbsp;<span class="ident" id="7737697">nil</span>&nbsp;<span class="op" id="7737701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737706">t</span><span class="op" id="7737707">.</span><span class="ident" id="7737708">Errorf</span><span class="op" id="7737714">(</span><span class="string" id="7737715">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="7737745">,</span>&nbsp;<span class="ident" id="7737747">pc</span><span class="op" id="7737749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737753">}</span>&nbsp;<span class="keyword" id="7737755">else</span>&nbsp;<span class="keyword" id="7737760">if</span>&nbsp;<span class="op" id="7737763">!</span><span class="ident" id="7737764">strings</span><span class="op" id="7737771">.</span><span class="ident" id="7737772">HasSuffix</span><span class="op" id="7737781">(</span><span class="ident" id="7737782">file</span><span class="op" id="7737786">,</span>&nbsp;<span class="string" id="7737788">&#34;pclinetest.asm&#34;</span><span class="op" id="7737804">)</span>&nbsp;<span class="op" id="7737806">||</span>&nbsp;<span class="ident" id="7737809">line</span>&nbsp;<span class="op" id="7737814">!=</span>&nbsp;<span class="ident" id="7737817">wantLine</span>&nbsp;<span class="op" id="7737826">||</span>&nbsp;<span class="ident" id="7737829">fn</span>&nbsp;<span class="op" id="7737832">!=</span>&nbsp;<span class="ident" id="7737835">sym</span>&nbsp;<span class="op" id="7737839">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737844">t</span><span class="op" id="7737845">.</span><span class="ident" id="7737846">Errorf</span><span class="op" id="7737852">(</span><span class="string" id="7737853">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="7737898">,</span>&nbsp;<span class="ident" id="7737900">pc</span><span class="op" id="7737902">,</span>&nbsp;<span class="ident" id="7737904">file</span><span class="op" id="7737908">,</span>&nbsp;<span class="ident" id="7737910">line</span><span class="op" id="7737914">,</span>&nbsp;<span class="ident" id="7737916">fn</span><span class="op" id="7737918">.</span><span class="ident" id="7737919">Name</span><span class="op" id="7737923">,</span>&nbsp;<span class="string" id="7737925">&#34;pclinetest.asm&#34;</span><span class="op" id="7737941">,</span>&nbsp;<span class="ident" id="7737943">wantLine</span><span class="op" id="7737951">,</span>&nbsp;<span class="ident" id="7737953">sym</span><span class="op" id="7737956">.</span><span class="ident" id="7737957">Name</span><span class="op" id="7737961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7737972">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737990">sym</span>&nbsp;<span class="op" id="7737994">=</span>&nbsp;<span class="ident" id="7737996">tab</span><span class="op" id="7737999">.</span><span class="ident" id="7738000">LookupFunc</span><span class="op" id="7738010">(</span><span class="string" id="7738011">&#34;pcfromline&#34;</span><span class="op" id="7738023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738026">lookupline</span>&nbsp;<span class="op" id="7738037">:=</span>&nbsp;<span class="op" id="7738040">-</span><span class="num" id="7738041">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738044">wantLine</span>&nbsp;<span class="op" id="7738053">=</span>&nbsp;<span class="num" id="7738055">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738058">off</span>&nbsp;<span class="op" id="7738062">:=</span>&nbsp;<span class="ident" id="7738065">uint64</span><span class="op" id="7738071">(</span><span class="num" id="7738072">0</span><span class="op" id="7738073">)</span>&nbsp;<span class="comment" id="7738075">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7738121">for</span>&nbsp;<span class="ident" id="7738125">pc</span>&nbsp;<span class="op" id="7738128">:=</span>&nbsp;<span class="ident" id="7738131">sym</span><span class="op" id="7738134">.</span><span class="ident" id="7738135">Value</span><span class="op" id="7738140">;</span>&nbsp;<span class="ident" id="7738142">pc</span>&nbsp;<span class="op" id="7738145">&lt;</span>&nbsp;<span class="ident" id="7738147">sym</span><span class="op" id="7738150">.</span><span class="ident" id="7738151">End</span><span class="op" id="7738154">;</span>&nbsp;<span class="ident" id="7738156">pc</span>&nbsp;<span class="op" id="7738159">+=</span>&nbsp;<span class="num" id="7738162">2</span>&nbsp;<span class="op" id="7738164">+</span>&nbsp;<span class="ident" id="7738166">uint64</span><span class="op" id="7738172">(</span><span class="ident" id="7738173">textdat</span><span class="op" id="7738180">[</span><span class="ident" id="7738181">off</span><span class="op" id="7738184">]</span><span class="op" id="7738185">)</span>&nbsp;<span class="op" id="7738187">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738191">file</span><span class="op" id="7738195">,</span>&nbsp;<span class="ident" id="7738197">line</span><span class="op" id="7738201">,</span>&nbsp;<span class="ident" id="7738203">fn</span>&nbsp;<span class="op" id="7738206">:=</span>&nbsp;<span class="ident" id="7738209">tab</span><span class="op" id="7738212">.</span><span class="ident" id="7738213">PCToLine</span><span class="op" id="7738221">(</span><span class="ident" id="7738222">pc</span><span class="op" id="7738224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738228">off</span>&nbsp;<span class="op" id="7738232">=</span>&nbsp;<span class="ident" id="7738234">pc</span>&nbsp;<span class="op" id="7738237">-</span>&nbsp;<span class="ident" id="7738239">text</span><span class="op" id="7738243">.</span><span class="ident" id="7738244">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7738251">if</span>&nbsp;<span class="ident" id="7738254">textdat</span><span class="op" id="7738261">[</span><span class="ident" id="7738262">off</span><span class="op" id="7738265">]</span>&nbsp;<span class="op" id="7738267">==</span>&nbsp;<span class="num" id="7738270">255</span>&nbsp;<span class="op" id="7738274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7738279">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738287">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738291">wantLine</span>&nbsp;<span class="op" id="7738300">+=</span>&nbsp;<span class="builtintype" id="7738303">int</span><span class="op" id="7738306">(</span><span class="ident" id="7738307">textdat</span><span class="op" id="7738314">[</span><span class="ident" id="7738315">off</span><span class="op" id="7738318">]</span><span class="op" id="7738319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7738323">if</span>&nbsp;<span class="ident" id="7738326">line</span>&nbsp;<span class="op" id="7738331">!=</span>&nbsp;<span class="ident" id="7738334">wantLine</span>&nbsp;<span class="op" id="7738343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738348">t</span><span class="op" id="7738349">.</span><span class="ident" id="7738350">Errorf</span><span class="op" id="7738356">(</span><span class="string" id="7738357">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7738407">,</span>&nbsp;<span class="ident" id="7738409">wantLine</span><span class="op" id="7738417">,</span>&nbsp;<span class="ident" id="7738419">pc</span><span class="op" id="7738421">,</span>&nbsp;<span class="ident" id="7738423">line</span><span class="op" id="7738427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738432">off</span>&nbsp;<span class="op" id="7738436">=</span>&nbsp;<span class="ident" id="7738438">pc</span>&nbsp;<span class="op" id="7738441">+</span>&nbsp;<span class="num" id="7738443">1</span>&nbsp;<span class="op" id="7738445">-</span>&nbsp;<span class="ident" id="7738447">text</span><span class="op" id="7738451">.</span><span class="ident" id="7738452">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7738460">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7738475">if</span>&nbsp;<span class="ident" id="7738478">lookupline</span>&nbsp;<span class="op" id="7738489">==</span>&nbsp;<span class="op" id="7738492">-</span><span class="num" id="7738493">1</span>&nbsp;<span class="op" id="7738495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738500">lookupline</span>&nbsp;<span class="op" id="7738511">=</span>&nbsp;<span class="ident" id="7738513">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7738524">for</span>&nbsp;<span class="op" id="7738528">;</span>&nbsp;<span class="ident" id="7738530">lookupline</span>&nbsp;<span class="op" id="7738541">&lt;=</span>&nbsp;<span class="ident" id="7738544">line</span><span class="op" id="7738548">;</span>&nbsp;<span class="ident" id="7738550">lookupline</span><span class="op" id="7738560">++</span>&nbsp;<span class="op" id="7738563">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738568">pc2</span><span class="op" id="7738571">,</span>&nbsp;<span class="ident" id="7738573">fn2</span><span class="op" id="7738576">,</span>&nbsp;<span class="ident" id="7738578">err</span>&nbsp;<span class="op" id="7738582">:=</span>&nbsp;<span class="ident" id="7738585">tab</span><span class="op" id="7738588">.</span><span class="ident" id="7738589">LineToPC</span><span class="op" id="7738597">(</span><span class="ident" id="7738598">file</span><span class="op" id="7738602">,</span>&nbsp;<span class="ident" id="7738604">lookupline</span><span class="op" id="7738614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7738619">if</span>&nbsp;<span class="ident" id="7738622">lookupline</span>&nbsp;<span class="op" id="7738633">!=</span>&nbsp;<span class="ident" id="7738636">line</span>&nbsp;<span class="op" id="7738641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7738647">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7738685">if</span>&nbsp;<span class="ident" id="7738688">err</span>&nbsp;<span class="op" id="7738692">==</span>&nbsp;<span class="ident" id="7738695">nil</span>&nbsp;<span class="op" id="7738699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738706">t</span><span class="op" id="7738707">.</span><span class="ident" id="7738708">Errorf</span><span class="op" id="7738714">(</span><span class="string" id="7738715">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7738756">,</span>&nbsp;<span class="ident" id="7738758">lookupline</span><span class="op" id="7738768">,</span>&nbsp;<span class="ident" id="7738770">pc2</span><span class="op" id="7738773">,</span>&nbsp;<span class="ident" id="7738775">fn2</span><span class="op" id="7738778">.</span><span class="ident" id="7738779">Name</span><span class="op" id="7738783">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738794">}</span>&nbsp;<span class="keyword" id="7738796">else</span>&nbsp;<span class="keyword" id="7738801">if</span>&nbsp;<span class="ident" id="7738804">err</span>&nbsp;<span class="op" id="7738808">!=</span>&nbsp;<span class="ident" id="7738811">nil</span>&nbsp;<span class="op" id="7738815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738821">t</span><span class="op" id="7738822">.</span><span class="ident" id="7738823">Errorf</span><span class="op" id="7738829">(</span><span class="string" id="7738830">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7738863">,</span>&nbsp;<span class="ident" id="7738865">lookupline</span><span class="op" id="7738875">,</span>&nbsp;<span class="ident" id="7738877">err</span><span class="op" id="7738880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7738885">}</span>&nbsp;<span class="keyword" id="7738887">else</span>&nbsp;<span class="keyword" id="7738892">if</span>&nbsp;<span class="ident" id="7738895">pc</span>&nbsp;<span class="op" id="7738898">!=</span>&nbsp;<span class="ident" id="7738901">pc2</span>&nbsp;<span class="op" id="7738905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7738911">t</span><span class="op" id="7738912">.</span><span class="ident" id="7738913">Errorf</span><span class="op" id="7738919">(</span><span class="string" id="7738920">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7738970">,</span>&nbsp;<span class="ident" id="7738972">pc</span><span class="op" id="7738974">,</span>&nbsp;<span class="ident" id="7738976">fn</span><span class="op" id="7738978">.</span><span class="ident" id="7738979">Name</span><span class="op" id="7738983">,</span>&nbsp;<span class="ident" id="7738985">line</span><span class="op" id="7738989">,</span>&nbsp;<span class="ident" id="7738991">pc2</span><span class="op" id="7738994">,</span>&nbsp;<span class="ident" id="7738996">fn2</span><span class="op" id="7738999">.</span><span class="ident" id="7739000">Name</span><span class="op" id="7739004">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739017">off</span>&nbsp;<span class="op" id="7739021">=</span>&nbsp;<span class="ident" id="7739023">pc</span>&nbsp;<span class="op" id="7739026">+</span>&nbsp;<span class="num" id="7739028">1</span>&nbsp;<span class="op" id="7739030">-</span>&nbsp;<span class="ident" id="7739032">text</span><span class="op" id="7739036">.</span><span class="ident" id="7739037">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739043">}</span><br>
<span class="lineno"></span><span class="op" id="7739045">}</span>
</div>
</body>
</html>
