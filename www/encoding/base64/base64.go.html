<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3524347">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3524402">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3524456">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3524507">//&nbsp;Package&nbsp;base64&nbsp;implements&nbsp;base64&nbsp;encoding&nbsp;as&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;4648.</span><br>
<span class="lineno"></span><span class="keyword" id="3524578">package</span>&nbsp;<span class="ident" id="3524586">base64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3524594">import</span>&nbsp;<span class="op" id="3524601">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3524604">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3524613">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3524619">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3524630">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="3524640">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3524643">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Encodings<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3524664">//&nbsp;An&nbsp;Encoding&nbsp;is&nbsp;a&nbsp;radix&nbsp;64&nbsp;encoding/decoding&nbsp;scheme,&nbsp;defined&nbsp;by&nbsp;a</span><br>
<span class="lineno">20</span><span class="comment" id="3524732">//&nbsp;64-character&nbsp;alphabet.&nbsp;&nbsp;The&nbsp;most&nbsp;common&nbsp;encoding&nbsp;is&nbsp;the&nbsp;&#34;base64&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3524800">//&nbsp;encoding&nbsp;defined&nbsp;in&nbsp;RFC&nbsp;4648&nbsp;and&nbsp;used&nbsp;in&nbsp;MIME&nbsp;(RFC&nbsp;2045)&nbsp;and&nbsp;PEM</span><br>
<span class="lineno"></span><span class="comment" id="3524868">//&nbsp;(RFC&nbsp;1421).&nbsp;&nbsp;RFC&nbsp;4648&nbsp;also&nbsp;defines&nbsp;an&nbsp;alternate&nbsp;encoding,&nbsp;which&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3524938">//&nbsp;the&nbsp;standard&nbsp;encoding&nbsp;with&nbsp;-&nbsp;and&nbsp;_&nbsp;substituted&nbsp;for&nbsp;+&nbsp;and&nbsp;/.</span><br>
<span class="lineno"></span><span class="keyword" id="3525001">type</span>&nbsp;<span class="ident" id="3525006">Encoding</span>&nbsp;<span class="keyword" id="3525015">struct</span>&nbsp;<span class="op" id="3525022">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525025">encode</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3525035">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525043">decodeMap</span>&nbsp;<span class="op" id="3525053">[</span><span class="num" id="3525054">256</span><span class="op" id="3525057">]</span><span class="builtintype" id="3525058">byte</span><br>
<span class="lineno"></span><span class="op" id="3525063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3525066">const</span>&nbsp;<span class="ident" id="3525072">encodeStd</span>&nbsp;<span class="op" id="3525082">=</span>&nbsp;<span class="string" id="3525084">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&#34;</span><br>
<span class="lineno">30</span><span class="keyword" id="3525151">const</span>&nbsp;<span class="ident" id="3525157">encodeURL</span>&nbsp;<span class="op" id="3525167">=</span>&nbsp;<span class="string" id="3525169">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3525237">//&nbsp;NewEncoding&nbsp;returns&nbsp;a&nbsp;new&nbsp;Encoding&nbsp;defined&nbsp;by&nbsp;the&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno"></span><span class="comment" id="3525306">//&nbsp;which&nbsp;must&nbsp;be&nbsp;a&nbsp;64-byte&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3525341">func</span>&nbsp;<span class="ident" id="3525346">NewEncoding</span><span class="op" id="3525357">(</span><span class="ident" id="3525358">encoder</span>&nbsp;<span class="builtintype" id="3525366">string</span><span class="op" id="3525372">)</span>&nbsp;<span class="op" id="3525374">*</span><span class="ident" id="3525375"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span>&nbsp;<span class="op" id="3525384">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525387">e</span>&nbsp;<span class="op" id="3525389">:=</span>&nbsp;<span class="builtinfunc" id="3525392">new</span><span class="op" id="3525395">(</span><span class="ident" id="3525396"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3525404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525407"><a href="/encoding/base64/base64.go.html#3525387">e</a></span><span class="op" id="3525408">.</span><span class="ident" id="3525409">encode</span>&nbsp;<span class="op" id="3525416">=</span>&nbsp;<span class="ident" id="3525418"><a href="/encoding/base64/base64.go.html#3525358">encoder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525427">for</span>&nbsp;<span class="ident" id="3525431">i</span>&nbsp;<span class="op" id="3525433">:=</span>&nbsp;<span class="num" id="3525436">0</span><span class="op" id="3525437">;</span>&nbsp;<span class="ident" id="3525439"><a href="/encoding/base64/base64.go.html#3525431">i</a></span>&nbsp;<span class="op" id="3525441">&lt;</span>&nbsp;<span class="builtinfunc" id="3525443">len</span><span class="op" id="3525446">(</span><span class="ident" id="3525447"><a href="/encoding/base64/base64.go.html#3525387">e</a></span><span class="op" id="3525448">.</span><span class="ident" id="3525449">decodeMap</span><span class="op" id="3525458">)</span><span class="op" id="3525459">;</span>&nbsp;<span class="ident" id="3525461"><a href="/encoding/base64/base64.go.html#3525431">i</a></span><span class="op" id="3525462">++</span>&nbsp;<span class="op" id="3525465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525469"><a href="/encoding/base64/base64.go.html#3525387">e</a></span><span class="op" id="3525470">.</span><span class="ident" id="3525471">decodeMap</span><span class="op" id="3525480">[</span><span class="ident" id="3525481"><a href="/encoding/base64/base64.go.html#3525431">i</a></span><span class="op" id="3525482">]</span>&nbsp;<span class="op" id="3525484">=</span>&nbsp;<span class="num" id="3525486">0xFF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3525492">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525495">for</span>&nbsp;<span class="ident" id="3525499">i</span>&nbsp;<span class="op" id="3525501">:=</span>&nbsp;<span class="num" id="3525504">0</span><span class="op" id="3525505">;</span>&nbsp;<span class="ident" id="3525507"><a href="/encoding/base64/base64.go.html#3525499">i</a></span>&nbsp;<span class="op" id="3525509">&lt;</span>&nbsp;<span class="builtinfunc" id="3525511">len</span><span class="op" id="3525514">(</span><span class="ident" id="3525515"><a href="/encoding/base64/base64.go.html#3525358">encoder</a></span><span class="op" id="3525522">)</span><span class="op" id="3525523">;</span>&nbsp;<span class="ident" id="3525525"><a href="/encoding/base64/base64.go.html#3525499">i</a></span><span class="op" id="3525526">++</span>&nbsp;<span class="op" id="3525529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3525533"><a href="/encoding/base64/base64.go.html#3525387">e</a></span><span class="op" id="3525534">.</span><span class="ident" id="3525535">decodeMap</span><span class="op" id="3525544">[</span><span class="ident" id="3525545"><a href="/encoding/base64/base64.go.html#3525358">encoder</a></span><span class="op" id="3525552">[</span><span class="ident" id="3525553"><a href="/encoding/base64/base64.go.html#3525499">i</a></span><span class="op" id="3525554">]</span><span class="op" id="3525555">]</span>&nbsp;<span class="op" id="3525557">=</span>&nbsp;<span class="builtintype" id="3525559">byte</span><span class="op" id="3525563">(</span><span class="ident" id="3525564"><a href="/encoding/base64/base64.go.html#3525499">i</a></span><span class="op" id="3525565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3525568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525571">return</span>&nbsp;<span class="ident" id="3525578"><a href="/encoding/base64/base64.go.html#3525387">e</a></span><br>
<span class="lineno"></span><span class="op" id="3525580">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3525583">//&nbsp;StdEncoding&nbsp;is&nbsp;the&nbsp;standard&nbsp;base64&nbsp;encoding,&nbsp;as&nbsp;defined&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3525645">//&nbsp;RFC&nbsp;4648.</span><br>
<span class="lineno"></span><span class="keyword" id="3525658">var</span>&nbsp;<span class="ident" id="3525662">StdEncoding</span>&nbsp;<span class="op" id="3525674">=</span>&nbsp;<span class="ident" id="3525676"><a href="/encoding/base64/base64.go.html#3525346">NewEncoding</a></span><span class="op" id="3525687">(</span><span class="ident" id="3525688"><a href="/encoding/base64/base64.go.html#3525072">encodeStd</a></span><span class="op" id="3525697">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="3525700">//&nbsp;URLEncoding&nbsp;is&nbsp;the&nbsp;alternate&nbsp;base64&nbsp;encoding&nbsp;defined&nbsp;in&nbsp;RFC&nbsp;4648.</span><br>
<span class="lineno"></span><span class="comment" id="3525769">//&nbsp;It&nbsp;is&nbsp;typically&nbsp;used&nbsp;in&nbsp;URLs&nbsp;and&nbsp;file&nbsp;names.</span><br>
<span class="lineno"></span><span class="keyword" id="3525817">var</span>&nbsp;<span class="ident" id="3525821">URLEncoding</span>&nbsp;<span class="op" id="3525833">=</span>&nbsp;<span class="ident" id="3525835"><a href="/encoding/base64/base64.go.html#3525346">NewEncoding</a></span><span class="op" id="3525846">(</span><span class="ident" id="3525847"><a href="/encoding/base64/base64.go.html#3525157">encodeURL</a></span><span class="op" id="3525856">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3525859">var</span>&nbsp;<span class="ident" id="3525863">removeNewlinesMapper</span>&nbsp;<span class="op" id="3525884">=</span>&nbsp;<span class="keyword" id="3525886">func</span><span class="op" id="3525890">(</span><span class="ident" id="3525891">r</span>&nbsp;<span class="builtintype" id="3525893">rune</span><span class="op" id="3525897">)</span>&nbsp;<span class="builtintype" id="3525899">rune</span>&nbsp;<span class="op" id="3525904">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525907">if</span>&nbsp;<span class="ident" id="3525910"><a href="/encoding/base64/base64.go.html#3525891">r</a></span>&nbsp;<span class="op" id="3525912">==</span>&nbsp;<span class="string" id="3525915">&#39;\r&#39;</span>&nbsp;<span class="op" id="3525920">||</span>&nbsp;<span class="ident" id="3525923"><a href="/encoding/base64/base64.go.html#3525891">r</a></span>&nbsp;<span class="op" id="3525925">==</span>&nbsp;<span class="string" id="3525928">&#39;\n&#39;</span>&nbsp;<span class="op" id="3525933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525937">return</span>&nbsp;<span class="op" id="3525944">-</span><span class="num" id="3525945">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3525948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3525951">return</span>&nbsp;<span class="ident" id="3525958"><a href="/encoding/base64/base64.go.html#3525891">r</a></span><br>
<span class="lineno"></span><span class="op" id="3525960">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3525963">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Encoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="3525982">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;using&nbsp;the&nbsp;encoding&nbsp;enc,&nbsp;writing</span><br>
<span class="lineno"></span><span class="comment" id="3526036">//&nbsp;EncodedLen(len(src))&nbsp;bytes&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="3526074">//</span><br>
<span class="lineno"></span><span class="comment" id="3526077">//&nbsp;The&nbsp;encoding&nbsp;pads&nbsp;the&nbsp;output&nbsp;to&nbsp;a&nbsp;multiple&nbsp;of&nbsp;4&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="3526135">//&nbsp;so&nbsp;Encode&nbsp;is&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;use&nbsp;on&nbsp;individual&nbsp;blocks</span><br>
<span class="lineno">70</span><span class="comment" id="3526196">//&nbsp;of&nbsp;a&nbsp;large&nbsp;data&nbsp;stream.&nbsp;&nbsp;Use&nbsp;NewEncoder()&nbsp;instead.</span><br>
<span class="lineno"></span><span class="keyword" id="3526250">func</span>&nbsp;<span class="op" id="3526255">(</span><span class="ident" id="3526256">enc</span>&nbsp;<span class="op" id="3526260">*</span><span class="ident" id="3526261"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3526269">)</span>&nbsp;<span class="ident" id="3526271">Encode</span><span class="op" id="3526277">(</span><span class="ident" id="3526278">dst</span><span class="op" id="3526281">,</span>&nbsp;<span class="ident" id="3526283">src</span>&nbsp;<span class="op" id="3526287">[</span><span class="op" id="3526288">]</span><span class="builtintype" id="3526289">byte</span><span class="op" id="3526293">)</span>&nbsp;<span class="op" id="3526295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526298">if</span>&nbsp;<span class="builtinfunc" id="3526301">len</span><span class="op" id="3526304">(</span><span class="ident" id="3526305"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526308">)</span>&nbsp;<span class="op" id="3526310">==</span>&nbsp;<span class="num" id="3526313">0</span>&nbsp;<span class="op" id="3526315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526319">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3526327">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526331">for</span>&nbsp;<span class="builtinfunc" id="3526335">len</span><span class="op" id="3526338">(</span><span class="ident" id="3526339"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526342">)</span>&nbsp;<span class="op" id="3526344">&gt;</span>&nbsp;<span class="num" id="3526346">0</span>&nbsp;<span class="op" id="3526348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526352">var</span>&nbsp;<span class="ident" id="3526356">b0</span><span class="op" id="3526358">,</span>&nbsp;<span class="ident" id="3526360">b1</span><span class="op" id="3526362">,</span>&nbsp;<span class="ident" id="3526364">b2</span><span class="op" id="3526366">,</span>&nbsp;<span class="ident" id="3526368">b3</span>&nbsp;<span class="builtintype" id="3526371">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3526379">//&nbsp;Unpack&nbsp;4x&nbsp;6-bit&nbsp;source&nbsp;blocks&nbsp;into&nbsp;a&nbsp;4&nbsp;byte</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3526428">//&nbsp;destination&nbsp;quantum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526453">switch</span>&nbsp;<span class="builtinfunc" id="3526460">len</span><span class="op" id="3526463">(</span><span class="ident" id="3526464"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526467">)</span>&nbsp;<span class="op" id="3526469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526473">default</span><span class="op" id="3526480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526485"><a href="/encoding/base64/base64.go.html#3526368">b3</a></span>&nbsp;<span class="op" id="3526488">=</span>&nbsp;<span class="ident" id="3526490"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526493">[</span><span class="num" id="3526494">2</span><span class="op" id="3526495">]</span>&nbsp;<span class="op" id="3526497">&amp;</span>&nbsp;<span class="num" id="3526499">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526507"><a href="/encoding/base64/base64.go.html#3526364">b2</a></span>&nbsp;<span class="op" id="3526510">=</span>&nbsp;<span class="ident" id="3526512"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526515">[</span><span class="num" id="3526516">2</span><span class="op" id="3526517">]</span>&nbsp;<span class="op" id="3526519">&gt;&gt;</span>&nbsp;<span class="num" id="3526522">6</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526527">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526541">case</span>&nbsp;<span class="num" id="3526546">2</span><span class="op" id="3526547">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526552"><a href="/encoding/base64/base64.go.html#3526364">b2</a></span>&nbsp;<span class="op" id="3526555">|=</span>&nbsp;<span class="op" id="3526558">(</span><span class="ident" id="3526559"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526562">[</span><span class="num" id="3526563">1</span><span class="op" id="3526564">]</span>&nbsp;<span class="op" id="3526566">&lt;&lt;</span>&nbsp;<span class="num" id="3526569">2</span><span class="op" id="3526570">)</span>&nbsp;<span class="op" id="3526572">&amp;</span>&nbsp;<span class="num" id="3526574">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526582"><a href="/encoding/base64/base64.go.html#3526360">b1</a></span>&nbsp;<span class="op" id="3526585">=</span>&nbsp;<span class="ident" id="3526587"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526590">[</span><span class="num" id="3526591">1</span><span class="op" id="3526592">]</span>&nbsp;<span class="op" id="3526594">&gt;&gt;</span>&nbsp;<span class="num" id="3526597">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526602">fallthrough</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526616">case</span>&nbsp;<span class="num" id="3526621">1</span><span class="op" id="3526622">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526627"><a href="/encoding/base64/base64.go.html#3526360">b1</a></span>&nbsp;<span class="op" id="3526630">|=</span>&nbsp;<span class="op" id="3526633">(</span><span class="ident" id="3526634"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526637">[</span><span class="num" id="3526638">0</span><span class="op" id="3526639">]</span>&nbsp;<span class="op" id="3526641">&lt;&lt;</span>&nbsp;<span class="num" id="3526644">4</span><span class="op" id="3526645">)</span>&nbsp;<span class="op" id="3526647">&amp;</span>&nbsp;<span class="num" id="3526649">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526657"><a href="/encoding/base64/base64.go.html#3526356">b0</a></span>&nbsp;<span class="op" id="3526660">=</span>&nbsp;<span class="ident" id="3526662"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526665">[</span><span class="num" id="3526666">0</span><span class="op" id="3526667">]</span>&nbsp;<span class="op" id="3526669">&gt;&gt;</span>&nbsp;<span class="num" id="3526672">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3526676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3526681">//&nbsp;Encode&nbsp;6-bit&nbsp;blocks&nbsp;using&nbsp;the&nbsp;base64&nbsp;alphabet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526732"><a href="/encoding/base64/base64.go.html#3526278">dst</a></span><span class="op" id="3526735">[</span><span class="num" id="3526736">0</span><span class="op" id="3526737">]</span>&nbsp;<span class="op" id="3526739">=</span>&nbsp;<span class="ident" id="3526741"><a href="/encoding/base64/base64.go.html#3526256">enc</a></span><span class="op" id="3526744">.</span><span class="ident" id="3526745">encode</span><span class="op" id="3526751">[</span><span class="ident" id="3526752"><a href="/encoding/base64/base64.go.html#3526356">b0</a></span><span class="op" id="3526754">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526758"><a href="/encoding/base64/base64.go.html#3526278">dst</a></span><span class="op" id="3526761">[</span><span class="num" id="3526762">1</span><span class="op" id="3526763">]</span>&nbsp;<span class="op" id="3526765">=</span>&nbsp;<span class="ident" id="3526767"><a href="/encoding/base64/base64.go.html#3526256">enc</a></span><span class="op" id="3526770">.</span><span class="ident" id="3526771">encode</span><span class="op" id="3526777">[</span><span class="ident" id="3526778"><a href="/encoding/base64/base64.go.html#3526360">b1</a></span><span class="op" id="3526780">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526784"><a href="/encoding/base64/base64.go.html#3526278">dst</a></span><span class="op" id="3526787">[</span><span class="num" id="3526788">2</span><span class="op" id="3526789">]</span>&nbsp;<span class="op" id="3526791">=</span>&nbsp;<span class="ident" id="3526793"><a href="/encoding/base64/base64.go.html#3526256">enc</a></span><span class="op" id="3526796">.</span><span class="ident" id="3526797">encode</span><span class="op" id="3526803">[</span><span class="ident" id="3526804"><a href="/encoding/base64/base64.go.html#3526364">b2</a></span><span class="op" id="3526806">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526810"><a href="/encoding/base64/base64.go.html#3526278">dst</a></span><span class="op" id="3526813">[</span><span class="num" id="3526814">3</span><span class="op" id="3526815">]</span>&nbsp;<span class="op" id="3526817">=</span>&nbsp;<span class="ident" id="3526819"><a href="/encoding/base64/base64.go.html#3526256">enc</a></span><span class="op" id="3526822">.</span><span class="ident" id="3526823">encode</span><span class="op" id="3526829">[</span><span class="ident" id="3526830"><a href="/encoding/base64/base64.go.html#3526368">b3</a></span><span class="op" id="3526832">]</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3526837">//&nbsp;Pad&nbsp;the&nbsp;final&nbsp;quantum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526864">if</span>&nbsp;<span class="builtinfunc" id="3526867">len</span><span class="op" id="3526870">(</span><span class="ident" id="3526871"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526874">)</span>&nbsp;<span class="op" id="3526876">&lt;</span>&nbsp;<span class="num" id="3526878">3</span>&nbsp;<span class="op" id="3526880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526885"><a href="/encoding/base64/base64.go.html#3526278">dst</a></span><span class="op" id="3526888">[</span><span class="num" id="3526889">3</span><span class="op" id="3526890">]</span>&nbsp;<span class="op" id="3526892">=</span>&nbsp;<span class="string" id="3526894">&#39;=&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526901">if</span>&nbsp;<span class="builtinfunc" id="3526904">len</span><span class="op" id="3526907">(</span><span class="ident" id="3526908"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526911">)</span>&nbsp;<span class="op" id="3526913">&lt;</span>&nbsp;<span class="num" id="3526915">2</span>&nbsp;<span class="op" id="3526917">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526923"><a href="/encoding/base64/base64.go.html#3526278">dst</a></span><span class="op" id="3526926">[</span><span class="num" id="3526927">2</span><span class="op" id="3526928">]</span>&nbsp;<span class="op" id="3526930">=</span>&nbsp;<span class="string" id="3526932">&#39;=&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3526939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3526944">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3526952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526957"><a href="/encoding/base64/base64.go.html#3526283">src</a></span>&nbsp;<span class="op" id="3526961">=</span>&nbsp;<span class="ident" id="3526963"><a href="/encoding/base64/base64.go.html#3526283">src</a></span><span class="op" id="3526966">[</span><span class="num" id="3526967">3</span><span class="op" id="3526968">:</span><span class="op" id="3526969">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3526973"><a href="/encoding/base64/base64.go.html#3526278">dst</a></span>&nbsp;<span class="op" id="3526977">=</span>&nbsp;<span class="ident" id="3526979"><a href="/encoding/base64/base64.go.html#3526278">dst</a></span><span class="op" id="3526982">[</span><span class="num" id="3526983">4</span><span class="op" id="3526984">:</span><span class="op" id="3526985">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3526988">}</span><br>
<span class="lineno"></span><span class="op" id="3526990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="comment" id="3526993">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;base64&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="3527047">func</span>&nbsp;<span class="op" id="3527052">(</span><span class="ident" id="3527053">enc</span>&nbsp;<span class="op" id="3527057">*</span><span class="ident" id="3527058"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3527066">)</span>&nbsp;<span class="ident" id="3527068">EncodeToString</span><span class="op" id="3527082">(</span><span class="ident" id="3527083">src</span>&nbsp;<span class="op" id="3527087">[</span><span class="op" id="3527088">]</span><span class="builtintype" id="3527089">byte</span><span class="op" id="3527093">)</span>&nbsp;<span class="builtintype" id="3527095">string</span>&nbsp;<span class="op" id="3527102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527105">buf</span>&nbsp;<span class="op" id="3527109">:=</span>&nbsp;<span class="builtinfunc" id="3527112">make</span><span class="op" id="3527116">(</span><span class="op" id="3527117">[</span><span class="op" id="3527118">]</span><span class="builtintype" id="3527119">byte</span><span class="op" id="3527123">,</span>&nbsp;<span class="ident" id="3527125"><a href="/encoding/base64/base64.go.html#3527053">enc</a></span><span class="op" id="3527128">.</span><span class="ident" id="3527129">EncodedLen</span><span class="op" id="3527139">(</span><span class="builtinfunc" id="3527140">len</span><span class="op" id="3527143">(</span><span class="ident" id="3527144"><a href="/encoding/base64/base64.go.html#3527083">src</a></span><span class="op" id="3527147">)</span><span class="op" id="3527148">)</span><span class="op" id="3527149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527152"><a href="/encoding/base64/base64.go.html#3527053">enc</a></span><span class="op" id="3527155">.</span><span class="ident" id="3527156">Encode</span><span class="op" id="3527162">(</span><span class="ident" id="3527163"><a href="/encoding/base64/base64.go.html#3527105">buf</a></span><span class="op" id="3527166">,</span>&nbsp;<span class="ident" id="3527168"><a href="/encoding/base64/base64.go.html#3527083">src</a></span><span class="op" id="3527171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527174">return</span>&nbsp;<span class="builtintype" id="3527181">string</span><span class="op" id="3527187">(</span><span class="ident" id="3527188"><a href="/encoding/base64/base64.go.html#3527105">buf</a></span><span class="op" id="3527191">)</span><br>
<span class="lineno">120</span><span class="op" id="3527193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3527196">type</span>&nbsp;<span class="ident" id="3527201">encoder</span>&nbsp;<span class="keyword" id="3527209">struct</span>&nbsp;<span class="op" id="3527216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527219">err</span>&nbsp;&nbsp;<span class="builtintype" id="3527224">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527231">enc</span>&nbsp;&nbsp;<span class="op" id="3527236">*</span><span class="ident" id="3527237"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527247">w</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3527252"><a href="/encoding/base64/base64.go.html#3524613">io</a></span><span class="op" id="3527254">.</span><span class="ident" id="3527255">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527263">buf</span>&nbsp;&nbsp;<span class="op" id="3527268">[</span><span class="num" id="3527269">3</span><span class="op" id="3527270">]</span><span class="builtintype" id="3527271">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3527279">//&nbsp;buffered&nbsp;data&nbsp;waiting&nbsp;to&nbsp;be&nbsp;encoded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527319">nbuf</span>&nbsp;<span class="builtintype" id="3527324">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3527335">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527362">out</span>&nbsp;&nbsp;<span class="op" id="3527367">[</span><span class="num" id="3527368">1024</span><span class="op" id="3527372">]</span><span class="builtintype" id="3527373">byte</span>&nbsp;<span class="comment" id="3527378">//&nbsp;output&nbsp;buffer</span><br>
<span class="lineno"></span><span class="op" id="3527395">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="3527398">func</span>&nbsp;<span class="op" id="3527403">(</span><span class="ident" id="3527404">e</span>&nbsp;<span class="op" id="3527406">*</span><span class="ident" id="3527407"><a href="/encoding/base64/base64.go.html#3527201">encoder</a></span><span class="op" id="3527414">)</span>&nbsp;<span class="ident" id="3527416">Write</span><span class="op" id="3527421">(</span><span class="ident" id="3527422">p</span>&nbsp;<span class="op" id="3527424">[</span><span class="op" id="3527425">]</span><span class="builtintype" id="3527426">byte</span><span class="op" id="3527430">)</span>&nbsp;<span class="op" id="3527432">(</span><span class="ident" id="3527433">n</span>&nbsp;<span class="builtintype" id="3527435">int</span><span class="op" id="3527438">,</span>&nbsp;<span class="ident" id="3527440">err</span>&nbsp;<span class="builtintype" id="3527444">error</span><span class="op" id="3527449">)</span>&nbsp;<span class="op" id="3527451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527454">if</span>&nbsp;<span class="ident" id="3527457"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527458">.</span><span class="ident" id="3527459">err</span>&nbsp;<span class="op" id="3527463">!=</span>&nbsp;<span class="ident" id="3527466">nil</span>&nbsp;<span class="op" id="3527470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527474">return</span>&nbsp;<span class="num" id="3527481">0</span><span class="op" id="3527482">,</span>&nbsp;<span class="ident" id="3527484"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527485">.</span><span class="ident" id="3527486">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3527491">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3527495">//&nbsp;Leading&nbsp;fringe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527515">if</span>&nbsp;<span class="ident" id="3527518"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527519">.</span><span class="ident" id="3527520">nbuf</span>&nbsp;<span class="op" id="3527525">&gt;</span>&nbsp;<span class="num" id="3527527">0</span>&nbsp;<span class="op" id="3527529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527533">var</span>&nbsp;<span class="ident" id="3527537">i</span>&nbsp;<span class="builtintype" id="3527539">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527545">for</span>&nbsp;<span class="ident" id="3527549"><a href="/encoding/base64/base64.go.html#3527537">i</a></span>&nbsp;<span class="op" id="3527551">=</span>&nbsp;<span class="num" id="3527553">0</span><span class="op" id="3527554">;</span>&nbsp;<span class="ident" id="3527556"><a href="/encoding/base64/base64.go.html#3527537">i</a></span>&nbsp;<span class="op" id="3527558">&lt;</span>&nbsp;<span class="builtinfunc" id="3527560">len</span><span class="op" id="3527563">(</span><span class="ident" id="3527564"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3527565">)</span>&nbsp;<span class="op" id="3527567">&amp;&amp;</span>&nbsp;<span class="ident" id="3527570"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527571">.</span><span class="ident" id="3527572">nbuf</span>&nbsp;<span class="op" id="3527577">&lt;</span>&nbsp;<span class="num" id="3527579">3</span><span class="op" id="3527580">;</span>&nbsp;<span class="ident" id="3527582"><a href="/encoding/base64/base64.go.html#3527537">i</a></span><span class="op" id="3527583">++</span>&nbsp;<span class="op" id="3527586">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527591"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527592">.</span><span class="ident" id="3527593">buf</span><span class="op" id="3527596">[</span><span class="ident" id="3527597"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527598">.</span><span class="ident" id="3527599">nbuf</span><span class="op" id="3527603">]</span>&nbsp;<span class="op" id="3527605">=</span>&nbsp;<span class="ident" id="3527607"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3527608">[</span><span class="ident" id="3527609"><a href="/encoding/base64/base64.go.html#3527537">i</a></span><span class="op" id="3527610">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527615"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527616">.</span><span class="ident" id="3527617">nbuf</span><span class="op" id="3527621">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3527626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527630"><a href="/encoding/base64/base64.go.html#3527433">n</a></span>&nbsp;<span class="op" id="3527632">+=</span>&nbsp;<span class="ident" id="3527635"><a href="/encoding/base64/base64.go.html#3527537">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527639"><a href="/encoding/base64/base64.go.html#3527422">p</a></span>&nbsp;<span class="op" id="3527641">=</span>&nbsp;<span class="ident" id="3527643"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3527644">[</span><span class="ident" id="3527645"><a href="/encoding/base64/base64.go.html#3527537">i</a></span><span class="op" id="3527646">:</span><span class="op" id="3527647">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527651">if</span>&nbsp;<span class="ident" id="3527654"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527655">.</span><span class="ident" id="3527656">nbuf</span>&nbsp;<span class="op" id="3527661">&lt;</span>&nbsp;<span class="num" id="3527663">3</span>&nbsp;<span class="op" id="3527665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527670">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3527679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527683"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527684">.</span><span class="ident" id="3527685">enc</span><span class="op" id="3527688">.</span><span class="ident" id="3527689">Encode</span><span class="op" id="3527695">(</span><span class="ident" id="3527696"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527697">.</span><span class="ident" id="3527698">out</span><span class="op" id="3527701">[</span><span class="num" id="3527702">0</span><span class="op" id="3527703">:</span><span class="op" id="3527704">]</span><span class="op" id="3527705">,</span>&nbsp;<span class="ident" id="3527707"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527708">.</span><span class="ident" id="3527709">buf</span><span class="op" id="3527712">[</span><span class="num" id="3527713">0</span><span class="op" id="3527714">:</span><span class="op" id="3527715">]</span><span class="op" id="3527716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527720">if</span>&nbsp;<span class="ident" id="3527723">_</span><span class="op" id="3527724">,</span>&nbsp;<span class="ident" id="3527726"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527727">.</span><span class="ident" id="3527728">err</span>&nbsp;<span class="op" id="3527732">=</span>&nbsp;<span class="ident" id="3527734"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527735">.</span><span class="ident" id="3527736">w</span><span class="op" id="3527737">.</span><span class="ident" id="3527738">Write</span><span class="op" id="3527743">(</span><span class="ident" id="3527744"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527745">.</span><span class="ident" id="3527746">out</span><span class="op" id="3527749">[</span><span class="num" id="3527750">0</span><span class="op" id="3527751">:</span><span class="num" id="3527752">4</span><span class="op" id="3527753">]</span><span class="op" id="3527754">)</span><span class="op" id="3527755">;</span>&nbsp;<span class="ident" id="3527757"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527758">.</span><span class="ident" id="3527759">err</span>&nbsp;<span class="op" id="3527763">!=</span>&nbsp;<span class="ident" id="3527766">nil</span>&nbsp;<span class="op" id="3527770">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527775">return</span>&nbsp;<span class="ident" id="3527782"><a href="/encoding/base64/base64.go.html#3527433">n</a></span><span class="op" id="3527783">,</span>&nbsp;<span class="ident" id="3527785"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527786">.</span><span class="ident" id="3527787">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3527793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527797"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527798">.</span><span class="ident" id="3527799">nbuf</span>&nbsp;<span class="op" id="3527804">=</span>&nbsp;<span class="num" id="3527806">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3527809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3527813">//&nbsp;Large&nbsp;interior&nbsp;chunks.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527840">for</span>&nbsp;<span class="builtinfunc" id="3527844">len</span><span class="op" id="3527847">(</span><span class="ident" id="3527848"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3527849">)</span>&nbsp;<span class="op" id="3527851">&gt;=</span>&nbsp;<span class="num" id="3527854">3</span>&nbsp;<span class="op" id="3527856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527860">nn</span>&nbsp;<span class="op" id="3527863">:=</span>&nbsp;<span class="builtinfunc" id="3527866">len</span><span class="op" id="3527869">(</span><span class="ident" id="3527870"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527871">.</span><span class="ident" id="3527872">out</span><span class="op" id="3527875">)</span>&nbsp;<span class="op" id="3527877">/</span>&nbsp;<span class="num" id="3527879">4</span>&nbsp;<span class="op" id="3527881">*</span>&nbsp;<span class="num" id="3527883">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527887">if</span>&nbsp;<span class="ident" id="3527890"><a href="/encoding/base64/base64.go.html#3527860">nn</a></span>&nbsp;<span class="op" id="3527893">&gt;</span>&nbsp;<span class="builtinfunc" id="3527895">len</span><span class="op" id="3527898">(</span><span class="ident" id="3527899"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3527900">)</span>&nbsp;<span class="op" id="3527902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527907"><a href="/encoding/base64/base64.go.html#3527860">nn</a></span>&nbsp;<span class="op" id="3527910">=</span>&nbsp;<span class="builtinfunc" id="3527912">len</span><span class="op" id="3527915">(</span><span class="ident" id="3527916"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3527917">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527922"><a href="/encoding/base64/base64.go.html#3527860">nn</a></span>&nbsp;<span class="op" id="3527925">-=</span>&nbsp;<span class="ident" id="3527928"><a href="/encoding/base64/base64.go.html#3527860">nn</a></span>&nbsp;<span class="op" id="3527931">%</span>&nbsp;<span class="num" id="3527933">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3527937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3527941"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527942">.</span><span class="ident" id="3527943">enc</span><span class="op" id="3527946">.</span><span class="ident" id="3527947">Encode</span><span class="op" id="3527953">(</span><span class="ident" id="3527954"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527955">.</span><span class="ident" id="3527956">out</span><span class="op" id="3527959">[</span><span class="num" id="3527960">0</span><span class="op" id="3527961">:</span><span class="op" id="3527962">]</span><span class="op" id="3527963">,</span>&nbsp;<span class="ident" id="3527965"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3527966">[</span><span class="num" id="3527967">0</span><span class="op" id="3527968">:</span><span class="ident" id="3527969"><a href="/encoding/base64/base64.go.html#3527860">nn</a></span><span class="op" id="3527971">]</span><span class="op" id="3527972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3527976">if</span>&nbsp;<span class="ident" id="3527979">_</span><span class="op" id="3527980">,</span>&nbsp;<span class="ident" id="3527982"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527983">.</span><span class="ident" id="3527984">err</span>&nbsp;<span class="op" id="3527988">=</span>&nbsp;<span class="ident" id="3527990"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3527991">.</span><span class="ident" id="3527992">w</span><span class="op" id="3527993">.</span><span class="ident" id="3527994">Write</span><span class="op" id="3527999">(</span><span class="ident" id="3528000"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3528001">.</span><span class="ident" id="3528002">out</span><span class="op" id="3528005">[</span><span class="num" id="3528006">0</span>&nbsp;<span class="op" id="3528008">:</span>&nbsp;<span class="ident" id="3528010"><a href="/encoding/base64/base64.go.html#3527860">nn</a></span><span class="op" id="3528012">/</span><span class="num" id="3528013">3</span><span class="op" id="3528014">*</span><span class="num" id="3528015">4</span><span class="op" id="3528016">]</span><span class="op" id="3528017">)</span><span class="op" id="3528018">;</span>&nbsp;<span class="ident" id="3528020"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3528021">.</span><span class="ident" id="3528022">err</span>&nbsp;<span class="op" id="3528026">!=</span>&nbsp;<span class="ident" id="3528029">nil</span>&nbsp;<span class="op" id="3528033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3528038">return</span>&nbsp;<span class="ident" id="3528045"><a href="/encoding/base64/base64.go.html#3527433">n</a></span><span class="op" id="3528046">,</span>&nbsp;<span class="ident" id="3528048"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3528049">.</span><span class="ident" id="3528050">err</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3528056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3528060"><a href="/encoding/base64/base64.go.html#3527433">n</a></span>&nbsp;<span class="op" id="3528062">+=</span>&nbsp;<span class="ident" id="3528065"><a href="/encoding/base64/base64.go.html#3527860">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3528070"><a href="/encoding/base64/base64.go.html#3527422">p</a></span>&nbsp;<span class="op" id="3528072">=</span>&nbsp;<span class="ident" id="3528074"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3528075">[</span><span class="ident" id="3528076"><a href="/encoding/base64/base64.go.html#3527860">nn</a></span><span class="op" id="3528078">:</span><span class="op" id="3528079">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3528082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3528086">//&nbsp;Trailing&nbsp;fringe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3528107">for</span>&nbsp;<span class="ident" id="3528111">i</span>&nbsp;<span class="op" id="3528113">:=</span>&nbsp;<span class="num" id="3528116">0</span><span class="op" id="3528117">;</span>&nbsp;<span class="ident" id="3528119"><a href="/encoding/base64/base64.go.html#3528111">i</a></span>&nbsp;<span class="op" id="3528121">&lt;</span>&nbsp;<span class="builtinfunc" id="3528123">len</span><span class="op" id="3528126">(</span><span class="ident" id="3528127"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3528128">)</span><span class="op" id="3528129">;</span>&nbsp;<span class="ident" id="3528131"><a href="/encoding/base64/base64.go.html#3528111">i</a></span><span class="op" id="3528132">++</span>&nbsp;<span class="op" id="3528135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3528139"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3528140">.</span><span class="ident" id="3528141">buf</span><span class="op" id="3528144">[</span><span class="ident" id="3528145"><a href="/encoding/base64/base64.go.html#3528111">i</a></span><span class="op" id="3528146">]</span>&nbsp;<span class="op" id="3528148">=</span>&nbsp;<span class="ident" id="3528150"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3528151">[</span><span class="ident" id="3528152"><a href="/encoding/base64/base64.go.html#3528111">i</a></span><span class="op" id="3528153">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3528156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3528159"><a href="/encoding/base64/base64.go.html#3527404">e</a></span><span class="op" id="3528160">.</span><span class="ident" id="3528161">nbuf</span>&nbsp;<span class="op" id="3528166">=</span>&nbsp;<span class="builtinfunc" id="3528168">len</span><span class="op" id="3528171">(</span><span class="ident" id="3528172"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3528173">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3528176"><a href="/encoding/base64/base64.go.html#3527433">n</a></span>&nbsp;<span class="op" id="3528178">+=</span>&nbsp;<span class="builtinfunc" id="3528181">len</span><span class="op" id="3528184">(</span><span class="ident" id="3528185"><a href="/encoding/base64/base64.go.html#3527422">p</a></span><span class="op" id="3528186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3528189">return</span><br>
<span class="lineno"></span><span class="op" id="3528196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3528199">//&nbsp;Close&nbsp;flushes&nbsp;any&nbsp;pending&nbsp;output&nbsp;from&nbsp;the&nbsp;encoder.</span><br>
<span class="lineno">180</span><span class="comment" id="3528253">//&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;Write&nbsp;after&nbsp;calling&nbsp;Close.</span><br>
<span class="lineno"></span><span class="keyword" id="3528306">func</span>&nbsp;<span class="op" id="3528311">(</span><span class="ident" id="3528312">e</span>&nbsp;<span class="op" id="3528314">*</span><span class="ident" id="3528315"><a href="/encoding/base64/base64.go.html#3527201">encoder</a></span><span class="op" id="3528322">)</span>&nbsp;<span class="ident" id="3528324">Close</span><span class="op" id="3528329">(</span><span class="op" id="3528330">)</span>&nbsp;<span class="builtintype" id="3528332">error</span>&nbsp;<span class="op" id="3528338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3528341">//&nbsp;If&nbsp;there&#39;s&nbsp;anything&nbsp;left&nbsp;in&nbsp;the&nbsp;buffer,&nbsp;flush&nbsp;it&nbsp;out</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3528398">if</span>&nbsp;<span class="ident" id="3528401"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528402">.</span><span class="ident" id="3528403">err</span>&nbsp;<span class="op" id="3528407">==</span>&nbsp;<span class="ident" id="3528410">nil</span>&nbsp;<span class="op" id="3528414">&amp;&amp;</span>&nbsp;<span class="ident" id="3528417"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528418">.</span><span class="ident" id="3528419">nbuf</span>&nbsp;<span class="op" id="3528424">&gt;</span>&nbsp;<span class="num" id="3528426">0</span>&nbsp;<span class="op" id="3528428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3528432"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528433">.</span><span class="ident" id="3528434">enc</span><span class="op" id="3528437">.</span><span class="ident" id="3528438">Encode</span><span class="op" id="3528444">(</span><span class="ident" id="3528445"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528446">.</span><span class="ident" id="3528447">out</span><span class="op" id="3528450">[</span><span class="num" id="3528451">0</span><span class="op" id="3528452">:</span><span class="op" id="3528453">]</span><span class="op" id="3528454">,</span>&nbsp;<span class="ident" id="3528456"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528457">.</span><span class="ident" id="3528458">buf</span><span class="op" id="3528461">[</span><span class="num" id="3528462">0</span><span class="op" id="3528463">:</span><span class="ident" id="3528464"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528465">.</span><span class="ident" id="3528466">nbuf</span><span class="op" id="3528470">]</span><span class="op" id="3528471">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3528475"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528476">.</span><span class="ident" id="3528477">nbuf</span>&nbsp;<span class="op" id="3528482">=</span>&nbsp;<span class="num" id="3528484">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3528488">_</span><span class="op" id="3528489">,</span>&nbsp;<span class="ident" id="3528491"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528492">.</span><span class="ident" id="3528493">err</span>&nbsp;<span class="op" id="3528497">=</span>&nbsp;<span class="ident" id="3528499"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528500">.</span><span class="ident" id="3528501">w</span><span class="op" id="3528502">.</span><span class="ident" id="3528503">Write</span><span class="op" id="3528508">(</span><span class="ident" id="3528509"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528510">.</span><span class="ident" id="3528511">out</span><span class="op" id="3528514">[</span><span class="num" id="3528515">0</span><span class="op" id="3528516">:</span><span class="num" id="3528517">4</span><span class="op" id="3528518">]</span><span class="op" id="3528519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3528522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3528525">return</span>&nbsp;<span class="ident" id="3528532"><a href="/encoding/base64/base64.go.html#3528312">e</a></span><span class="op" id="3528533">.</span><span class="ident" id="3528534">err</span><br>
<span class="lineno"></span><span class="op" id="3528538">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="3528541">//&nbsp;NewEncoder&nbsp;returns&nbsp;a&nbsp;new&nbsp;base64&nbsp;stream&nbsp;encoder.&nbsp;&nbsp;Data&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3528609">//&nbsp;the&nbsp;returned&nbsp;writer&nbsp;will&nbsp;be&nbsp;encoded&nbsp;using&nbsp;enc&nbsp;and&nbsp;then&nbsp;written&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="3528681">//&nbsp;Base64&nbsp;encodings&nbsp;operate&nbsp;in&nbsp;4-byte&nbsp;blocks;&nbsp;when&nbsp;finished</span><br>
<span class="lineno"></span><span class="comment" id="3528741">//&nbsp;writing,&nbsp;the&nbsp;caller&nbsp;must&nbsp;Close&nbsp;the&nbsp;returned&nbsp;encoder&nbsp;to&nbsp;flush&nbsp;any</span><br>
<span class="lineno">195</span><span class="comment" id="3528809">//&nbsp;partially&nbsp;written&nbsp;blocks.</span><br>
<span class="lineno"></span><span class="keyword" id="3528838">func</span>&nbsp;<span class="ident" id="3528843">NewEncoder</span><span class="op" id="3528853">(</span><span class="ident" id="3528854">enc</span>&nbsp;<span class="op" id="3528858">*</span><span class="ident" id="3528859"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3528867">,</span>&nbsp;<span class="ident" id="3528869">w</span>&nbsp;<span class="ident" id="3528871"><a href="/encoding/base64/base64.go.html#3524613">io</a></span><span class="op" id="3528873">.</span><span class="ident" id="3528874">Writer</span><span class="op" id="3528880">)</span>&nbsp;<span class="ident" id="3528882"><a href="/encoding/base64/base64.go.html#3524613">io</a></span><span class="op" id="3528884">.</span><span class="ident" id="3528885">WriteCloser</span>&nbsp;<span class="op" id="3528897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3528900">return</span>&nbsp;<span class="op" id="3528907">&amp;</span><span class="ident" id="3528908"><a href="/encoding/base64/base64.go.html#3527201">encoder</a></span><span class="op" id="3528915">{</span><span class="ident" id="3528916">enc</span><span class="op" id="3528919">:</span>&nbsp;<span class="ident" id="3528921"><a href="/encoding/base64/base64.go.html#3528854">enc</a></span><span class="op" id="3528924">,</span>&nbsp;<span class="ident" id="3528926">w</span><span class="op" id="3528927">:</span>&nbsp;<span class="ident" id="3528929"><a href="/encoding/base64/base64.go.html#3528869">w</a></span><span class="op" id="3528930">}</span><br>
<span class="lineno"></span><span class="op" id="3528932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="3528935">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;in&nbsp;bytes&nbsp;of&nbsp;the&nbsp;base64&nbsp;encoding</span><br>
<span class="lineno"></span><span class="comment" id="3529000">//&nbsp;of&nbsp;an&nbsp;input&nbsp;buffer&nbsp;of&nbsp;length&nbsp;n.</span><br>
<span class="lineno"></span><span class="keyword" id="3529035">func</span>&nbsp;<span class="op" id="3529040">(</span><span class="ident" id="3529041">enc</span>&nbsp;<span class="op" id="3529045">*</span><span class="ident" id="3529046"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3529054">)</span>&nbsp;<span class="ident" id="3529056">EncodedLen</span><span class="op" id="3529066">(</span><span class="ident" id="3529067">n</span>&nbsp;<span class="builtintype" id="3529069">int</span><span class="op" id="3529072">)</span>&nbsp;<span class="builtintype" id="3529074">int</span>&nbsp;<span class="op" id="3529078">{</span>&nbsp;<span class="keyword" id="3529080">return</span>&nbsp;<span class="op" id="3529087">(</span><span class="ident" id="3529088"><a href="/encoding/base64/base64.go.html#3529067">n</a></span>&nbsp;<span class="op" id="3529090">+</span>&nbsp;<span class="num" id="3529092">2</span><span class="op" id="3529093">)</span>&nbsp;<span class="op" id="3529095">/</span>&nbsp;<span class="num" id="3529097">3</span>&nbsp;<span class="op" id="3529099">*</span>&nbsp;<span class="num" id="3529101">4</span>&nbsp;<span class="op" id="3529103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3529106">/*<br>
<span class="lineno">205</span>&nbsp;*&nbsp;Decoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3529125">type</span>&nbsp;<span class="ident" id="3529130">CorruptInputError</span>&nbsp;<span class="ident" id="3529148">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="3529155">func</span>&nbsp;<span class="op" id="3529160">(</span><span class="ident" id="3529161">e</span>&nbsp;<span class="ident" id="3529163"><a href="/encoding/base64/base64.go.html#3529130">CorruptInputError</a></span><span class="op" id="3529180">)</span>&nbsp;<span class="ident" id="3529182">Error</span><span class="op" id="3529187">(</span><span class="op" id="3529188">)</span>&nbsp;<span class="builtintype" id="3529190">string</span>&nbsp;<span class="op" id="3529197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3529200">return</span>&nbsp;<span class="string" id="3529207">&#34;illegal&nbsp;base64&nbsp;data&nbsp;at&nbsp;input&nbsp;byte&nbsp;&#34;</span>&nbsp;<span class="op" id="3529244">+</span>&nbsp;<span class="ident" id="3529246"><a href="/encoding/base64/base64.go.html#3524619">strconv</a></span><span class="op" id="3529253">.</span><span class="ident" id="3529254">FormatInt</span><span class="op" id="3529263">(</span><span class="ident" id="3529264">int64</span><span class="op" id="3529269">(</span><span class="ident" id="3529270"><a href="/encoding/base64/base64.go.html#3529161">e</a></span><span class="op" id="3529271">)</span><span class="op" id="3529272">,</span>&nbsp;<span class="num" id="3529274">10</span><span class="op" id="3529276">)</span><br>
<span class="lineno"></span><span class="op" id="3529278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3529281">//&nbsp;decode&nbsp;is&nbsp;like&nbsp;Decode&nbsp;but&nbsp;returns&nbsp;an&nbsp;additional&nbsp;&#39;end&#39;&nbsp;value,&nbsp;which</span><br>
<span class="lineno">215</span><span class="comment" id="3529351">//&nbsp;indicates&nbsp;if&nbsp;end-of-message&nbsp;padding&nbsp;was&nbsp;encountered&nbsp;and&nbsp;thus&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="3529419">//&nbsp;additional&nbsp;data&nbsp;is&nbsp;an&nbsp;error.&nbsp;This&nbsp;method&nbsp;assumes&nbsp;that&nbsp;src&nbsp;has&nbsp;been</span><br>
<span class="lineno"></span><span class="comment" id="3529489">//&nbsp;stripped&nbsp;of&nbsp;all&nbsp;supported&nbsp;whitespace&nbsp;(&#39;\r&#39;&nbsp;and&nbsp;&#39;\n&#39;).</span><br>
<span class="lineno"></span><span class="keyword" id="3529546">func</span>&nbsp;<span class="op" id="3529551">(</span><span class="ident" id="3529552">enc</span>&nbsp;<span class="op" id="3529556">*</span><span class="ident" id="3529557"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3529565">)</span>&nbsp;<span class="ident" id="3529567">decode</span><span class="op" id="3529573">(</span><span class="ident" id="3529574">dst</span><span class="op" id="3529577">,</span>&nbsp;<span class="ident" id="3529579">src</span>&nbsp;<span class="op" id="3529583">[</span><span class="op" id="3529584">]</span><span class="builtintype" id="3529585">byte</span><span class="op" id="3529589">)</span>&nbsp;<span class="op" id="3529591">(</span><span class="ident" id="3529592">n</span>&nbsp;<span class="builtintype" id="3529594">int</span><span class="op" id="3529597">,</span>&nbsp;<span class="ident" id="3529599">end</span>&nbsp;<span class="builtintype" id="3529603">bool</span><span class="op" id="3529607">,</span>&nbsp;<span class="ident" id="3529609">err</span>&nbsp;<span class="builtintype" id="3529613">error</span><span class="op" id="3529618">)</span>&nbsp;<span class="op" id="3529620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3529623">olen</span>&nbsp;<span class="op" id="3529628">:=</span>&nbsp;<span class="builtinfunc" id="3529631">len</span><span class="op" id="3529634">(</span><span class="ident" id="3529635"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3529638">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3529641">for</span>&nbsp;<span class="builtinfunc" id="3529645">len</span><span class="op" id="3529648">(</span><span class="ident" id="3529649"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3529652">)</span>&nbsp;<span class="op" id="3529654">&gt;</span>&nbsp;<span class="num" id="3529656">0</span>&nbsp;<span class="op" id="3529658">&amp;&amp;</span>&nbsp;<span class="op" id="3529661">!</span><span class="ident" id="3529662"><a href="/encoding/base64/base64.go.html#3529599">end</a></span>&nbsp;<span class="op" id="3529666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3529670">//&nbsp;Decode&nbsp;quantum&nbsp;using&nbsp;the&nbsp;base64&nbsp;alphabet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3529716">var</span>&nbsp;<span class="ident" id="3529720">dbuf</span>&nbsp;<span class="op" id="3529725">[</span><span class="num" id="3529726">4</span><span class="op" id="3529727">]</span><span class="builtintype" id="3529728">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3529735">dlen</span>&nbsp;<span class="op" id="3529740">:=</span>&nbsp;<span class="num" id="3529743">4</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3529748">for</span>&nbsp;<span class="ident" id="3529752">j</span>&nbsp;<span class="op" id="3529754">:=</span>&nbsp;<span class="keyword" id="3529757">range</span>&nbsp;<span class="ident" id="3529763"><a href="/encoding/base64/base64.go.html#3529720">dbuf</a></span>&nbsp;<span class="op" id="3529768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3529773">if</span>&nbsp;<span class="builtinfunc" id="3529776">len</span><span class="op" id="3529779">(</span><span class="ident" id="3529780"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3529783">)</span>&nbsp;<span class="op" id="3529785">==</span>&nbsp;<span class="num" id="3529788">0</span>&nbsp;<span class="op" id="3529790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3529796">return</span>&nbsp;<span class="ident" id="3529803"><a href="/encoding/base64/base64.go.html#3529592">n</a></span><span class="op" id="3529804">,</span>&nbsp;<span class="builtintype" id="3529806">false</span><span class="op" id="3529811">,</span>&nbsp;<span class="ident" id="3529813"><a href="/encoding/base64/base64.go.html#3529130">CorruptInputError</a></span><span class="op" id="3529830">(</span><span class="ident" id="3529831"><a href="/encoding/base64/base64.go.html#3529623">olen</a></span>&nbsp;<span class="op" id="3529836">-</span>&nbsp;<span class="builtinfunc" id="3529838">len</span><span class="op" id="3529841">(</span><span class="ident" id="3529842"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3529845">)</span>&nbsp;<span class="op" id="3529847">-</span>&nbsp;<span class="ident" id="3529849"><a href="/encoding/base64/base64.go.html#3529752">j</a></span><span class="op" id="3529850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3529855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3529860">in</span>&nbsp;<span class="op" id="3529863">:=</span>&nbsp;<span class="ident" id="3529866"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3529869">[</span><span class="num" id="3529870">0</span><span class="op" id="3529871">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3529876"><a href="/encoding/base64/base64.go.html#3529579">src</a></span>&nbsp;<span class="op" id="3529880">=</span>&nbsp;<span class="ident" id="3529882"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3529885">[</span><span class="num" id="3529886">1</span><span class="op" id="3529887">:</span><span class="op" id="3529888">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3529893">if</span>&nbsp;<span class="ident" id="3529896"><a href="/encoding/base64/base64.go.html#3529860">in</a></span>&nbsp;<span class="op" id="3529899">==</span>&nbsp;<span class="string" id="3529902">&#39;=&#39;</span>&nbsp;<span class="op" id="3529906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3529912">//&nbsp;We&#39;ve&nbsp;reached&nbsp;the&nbsp;end&nbsp;and&nbsp;there&#39;s&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3529961">switch</span>&nbsp;<span class="ident" id="3529968"><a href="/encoding/base64/base64.go.html#3529752">j</a></span>&nbsp;<span class="op" id="3529970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3529976">case</span>&nbsp;<span class="num" id="3529981">0</span><span class="op" id="3529982">,</span>&nbsp;<span class="num" id="3529984">1</span><span class="op" id="3529985">:</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3529992">//&nbsp;incorrect&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530018">return</span>&nbsp;<span class="ident" id="3530025"><a href="/encoding/base64/base64.go.html#3529592">n</a></span><span class="op" id="3530026">,</span>&nbsp;<span class="builtintype" id="3530028">false</span><span class="op" id="3530033">,</span>&nbsp;<span class="ident" id="3530035"><a href="/encoding/base64/base64.go.html#3529130">CorruptInputError</a></span><span class="op" id="3530052">(</span><span class="ident" id="3530053"><a href="/encoding/base64/base64.go.html#3529623">olen</a></span>&nbsp;<span class="op" id="3530058">-</span>&nbsp;<span class="builtinfunc" id="3530060">len</span><span class="op" id="3530063">(</span><span class="ident" id="3530064"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3530067">)</span>&nbsp;<span class="op" id="3530069">-</span>&nbsp;<span class="num" id="3530071">1</span><span class="op" id="3530072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530078">case</span>&nbsp;<span class="num" id="3530083">2</span><span class="op" id="3530084">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3530091">//&nbsp;&#34;==&#34;&nbsp;is&nbsp;expected,&nbsp;the&nbsp;first&nbsp;&#34;=&#34;&nbsp;is&nbsp;already&nbsp;consumed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530152">if</span>&nbsp;<span class="builtinfunc" id="3530155">len</span><span class="op" id="3530158">(</span><span class="ident" id="3530159"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3530162">)</span>&nbsp;<span class="op" id="3530164">==</span>&nbsp;<span class="num" id="3530167">0</span>&nbsp;<span class="op" id="3530169">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3530177">//&nbsp;not&nbsp;enough&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530205">return</span>&nbsp;<span class="ident" id="3530212"><a href="/encoding/base64/base64.go.html#3529592">n</a></span><span class="op" id="3530213">,</span>&nbsp;<span class="builtintype" id="3530215">false</span><span class="op" id="3530220">,</span>&nbsp;<span class="ident" id="3530222"><a href="/encoding/base64/base64.go.html#3529130">CorruptInputError</a></span><span class="op" id="3530239">(</span><span class="ident" id="3530240"><a href="/encoding/base64/base64.go.html#3529623">olen</a></span><span class="op" id="3530244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3530251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530258">if</span>&nbsp;<span class="ident" id="3530261"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3530264">[</span><span class="num" id="3530265">0</span><span class="op" id="3530266">]</span>&nbsp;<span class="op" id="3530268">!=</span>&nbsp;<span class="string" id="3530271">&#39;=&#39;</span>&nbsp;<span class="op" id="3530275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3530283">//&nbsp;incorrect&nbsp;padding</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530310">return</span>&nbsp;<span class="ident" id="3530317"><a href="/encoding/base64/base64.go.html#3529592">n</a></span><span class="op" id="3530318">,</span>&nbsp;<span class="builtintype" id="3530320">false</span><span class="op" id="3530325">,</span>&nbsp;<span class="ident" id="3530327"><a href="/encoding/base64/base64.go.html#3529130">CorruptInputError</a></span><span class="op" id="3530344">(</span><span class="ident" id="3530345"><a href="/encoding/base64/base64.go.html#3529623">olen</a></span>&nbsp;<span class="op" id="3530350">-</span>&nbsp;<span class="builtinfunc" id="3530352">len</span><span class="op" id="3530355">(</span><span class="ident" id="3530356"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3530359">)</span>&nbsp;<span class="op" id="3530361">-</span>&nbsp;<span class="num" id="3530363">1</span><span class="op" id="3530364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3530371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3530378"><a href="/encoding/base64/base64.go.html#3529579">src</a></span>&nbsp;<span class="op" id="3530382">=</span>&nbsp;<span class="ident" id="3530384"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3530387">[</span><span class="num" id="3530388">1</span><span class="op" id="3530389">:</span><span class="op" id="3530390">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3530396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530402">if</span>&nbsp;<span class="builtinfunc" id="3530405">len</span><span class="op" id="3530408">(</span><span class="ident" id="3530409"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3530412">)</span>&nbsp;<span class="op" id="3530414">&gt;</span>&nbsp;<span class="num" id="3530416">0</span>&nbsp;<span class="op" id="3530418">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3530425">//&nbsp;trailing&nbsp;garbage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3530450"><a href="/encoding/base64/base64.go.html#3529609">err</a></span>&nbsp;<span class="op" id="3530454">=</span>&nbsp;<span class="ident" id="3530456"><a href="/encoding/base64/base64.go.html#3529130">CorruptInputError</a></span><span class="op" id="3530473">(</span><span class="ident" id="3530474"><a href="/encoding/base64/base64.go.html#3529623">olen</a></span>&nbsp;<span class="op" id="3530479">-</span>&nbsp;<span class="builtinfunc" id="3530481">len</span><span class="op" id="3530484">(</span><span class="ident" id="3530485"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3530488">)</span><span class="op" id="3530489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3530495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3530501"><a href="/encoding/base64/base64.go.html#3529735">dlen</a></span><span class="op" id="3530505">,</span>&nbsp;<span class="ident" id="3530507"><a href="/encoding/base64/base64.go.html#3529599">end</a></span>&nbsp;<span class="op" id="3530511">=</span>&nbsp;<span class="ident" id="3530513"><a href="/encoding/base64/base64.go.html#3529752">j</a></span><span class="op" id="3530514">,</span>&nbsp;<span class="builtintype" id="3530516">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530525">break</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3530534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3530539"><a href="/encoding/base64/base64.go.html#3529720">dbuf</a></span><span class="op" id="3530543">[</span><span class="ident" id="3530544"><a href="/encoding/base64/base64.go.html#3529752">j</a></span><span class="op" id="3530545">]</span>&nbsp;<span class="op" id="3530547">=</span>&nbsp;<span class="ident" id="3530549"><a href="/encoding/base64/base64.go.html#3529552">enc</a></span><span class="op" id="3530552">.</span><span class="ident" id="3530553">decodeMap</span><span class="op" id="3530562">[</span><span class="ident" id="3530563"><a href="/encoding/base64/base64.go.html#3529860">in</a></span><span class="op" id="3530565">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530570">if</span>&nbsp;<span class="ident" id="3530573"><a href="/encoding/base64/base64.go.html#3529720">dbuf</a></span><span class="op" id="3530577">[</span><span class="ident" id="3530578"><a href="/encoding/base64/base64.go.html#3529752">j</a></span><span class="op" id="3530579">]</span>&nbsp;<span class="op" id="3530581">==</span>&nbsp;<span class="num" id="3530584">0xFF</span>&nbsp;<span class="op" id="3530589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530595">return</span>&nbsp;<span class="ident" id="3530602"><a href="/encoding/base64/base64.go.html#3529592">n</a></span><span class="op" id="3530603">,</span>&nbsp;<span class="builtintype" id="3530605">false</span><span class="op" id="3530610">,</span>&nbsp;<span class="ident" id="3530612"><a href="/encoding/base64/base64.go.html#3529130">CorruptInputError</a></span><span class="op" id="3530629">(</span><span class="ident" id="3530630"><a href="/encoding/base64/base64.go.html#3529623">olen</a></span>&nbsp;<span class="op" id="3530635">-</span>&nbsp;<span class="builtinfunc" id="3530637">len</span><span class="op" id="3530640">(</span><span class="ident" id="3530641"><a href="/encoding/base64/base64.go.html#3529579">src</a></span><span class="op" id="3530644">)</span>&nbsp;<span class="op" id="3530646">-</span>&nbsp;<span class="num" id="3530648">1</span><span class="op" id="3530649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3530654">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3530658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3530663">//&nbsp;Pack&nbsp;4x&nbsp;6-bit&nbsp;source&nbsp;blocks&nbsp;into&nbsp;3&nbsp;byte&nbsp;destination</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3530720">//&nbsp;quantum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530733">switch</span>&nbsp;<span class="ident" id="3530740"><a href="/encoding/base64/base64.go.html#3529735">dlen</a></span>&nbsp;<span class="op" id="3530745">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530749">case</span>&nbsp;<span class="num" id="3530754">4</span><span class="op" id="3530755">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3530760"><a href="/encoding/base64/base64.go.html#3529574">dst</a></span><span class="op" id="3530763">[</span><span class="num" id="3530764">2</span><span class="op" id="3530765">]</span>&nbsp;<span class="op" id="3530767">=</span>&nbsp;<span class="ident" id="3530769"><a href="/encoding/base64/base64.go.html#3529720">dbuf</a></span><span class="op" id="3530773">[</span><span class="num" id="3530774">2</span><span class="op" id="3530775">]</span><span class="op" id="3530776">&lt;&lt;</span><span class="num" id="3530778">6</span>&nbsp;<span class="op" id="3530780">|</span>&nbsp;<span class="ident" id="3530782"><a href="/encoding/base64/base64.go.html#3529720">dbuf</a></span><span class="op" id="3530786">[</span><span class="num" id="3530787">3</span><span class="op" id="3530788">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530793">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530807">case</span>&nbsp;<span class="num" id="3530812">3</span><span class="op" id="3530813">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3530818"><a href="/encoding/base64/base64.go.html#3529574">dst</a></span><span class="op" id="3530821">[</span><span class="num" id="3530822">1</span><span class="op" id="3530823">]</span>&nbsp;<span class="op" id="3530825">=</span>&nbsp;<span class="ident" id="3530827"><a href="/encoding/base64/base64.go.html#3529720">dbuf</a></span><span class="op" id="3530831">[</span><span class="num" id="3530832">1</span><span class="op" id="3530833">]</span><span class="op" id="3530834">&lt;&lt;</span><span class="num" id="3530836">4</span>&nbsp;<span class="op" id="3530838">|</span>&nbsp;<span class="ident" id="3530840"><a href="/encoding/base64/base64.go.html#3529720">dbuf</a></span><span class="op" id="3530844">[</span><span class="num" id="3530845">2</span><span class="op" id="3530846">]</span><span class="op" id="3530847">&gt;&gt;</span><span class="num" id="3530849">2</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530854">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530868">case</span>&nbsp;<span class="num" id="3530873">2</span><span class="op" id="3530874">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3530879"><a href="/encoding/base64/base64.go.html#3529574">dst</a></span><span class="op" id="3530882">[</span><span class="num" id="3530883">0</span><span class="op" id="3530884">]</span>&nbsp;<span class="op" id="3530886">=</span>&nbsp;<span class="ident" id="3530888"><a href="/encoding/base64/base64.go.html#3529720">dbuf</a></span><span class="op" id="3530892">[</span><span class="num" id="3530893">0</span><span class="op" id="3530894">]</span><span class="op" id="3530895">&lt;&lt;</span><span class="num" id="3530897">2</span>&nbsp;<span class="op" id="3530899">|</span>&nbsp;<span class="ident" id="3530901"><a href="/encoding/base64/base64.go.html#3529720">dbuf</a></span><span class="op" id="3530905">[</span><span class="num" id="3530906">1</span><span class="op" id="3530907">]</span><span class="op" id="3530908">&gt;&gt;</span><span class="num" id="3530910">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3530914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3530918"><a href="/encoding/base64/base64.go.html#3529574">dst</a></span>&nbsp;<span class="op" id="3530922">=</span>&nbsp;<span class="ident" id="3530924"><a href="/encoding/base64/base64.go.html#3529574">dst</a></span><span class="op" id="3530927">[</span><span class="num" id="3530928">3</span><span class="op" id="3530929">:</span><span class="op" id="3530930">]</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3530934"><a href="/encoding/base64/base64.go.html#3529592">n</a></span>&nbsp;<span class="op" id="3530936">+=</span>&nbsp;<span class="ident" id="3530939"><a href="/encoding/base64/base64.go.html#3529735">dlen</a></span>&nbsp;<span class="op" id="3530944">-</span>&nbsp;<span class="num" id="3530946">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3530949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3530953">return</span>&nbsp;<span class="ident" id="3530960"><a href="/encoding/base64/base64.go.html#3529592">n</a></span><span class="op" id="3530961">,</span>&nbsp;<span class="ident" id="3530963"><a href="/encoding/base64/base64.go.html#3529599">end</a></span><span class="op" id="3530966">,</span>&nbsp;<span class="ident" id="3530968"><a href="/encoding/base64/base64.go.html#3529609">err</a></span><br>
<span class="lineno"></span><span class="op" id="3530972">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="comment" id="3530975">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;using&nbsp;the&nbsp;encoding&nbsp;enc.&nbsp;&nbsp;It&nbsp;writes&nbsp;at&nbsp;most</span><br>
<span class="lineno"></span><span class="comment" id="3531040">//&nbsp;DecodedLen(len(src))&nbsp;bytes&nbsp;to&nbsp;dst&nbsp;and&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno"></span><span class="comment" id="3531109">//&nbsp;written.&nbsp;&nbsp;If&nbsp;src&nbsp;contains&nbsp;invalid&nbsp;base64&nbsp;data,&nbsp;it&nbsp;will&nbsp;return&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3531178">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;successfully&nbsp;written&nbsp;and&nbsp;CorruptInputError.</span><br>
<span class="lineno">285</span><span class="comment" id="3531241">//&nbsp;New&nbsp;line&nbsp;characters&nbsp;(\r&nbsp;and&nbsp;\n)&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="keyword" id="3531289">func</span>&nbsp;<span class="op" id="3531294">(</span><span class="ident" id="3531295">enc</span>&nbsp;<span class="op" id="3531299">*</span><span class="ident" id="3531300"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3531308">)</span>&nbsp;<span class="ident" id="3531310">Decode</span><span class="op" id="3531316">(</span><span class="ident" id="3531317">dst</span><span class="op" id="3531320">,</span>&nbsp;<span class="ident" id="3531322">src</span>&nbsp;<span class="op" id="3531326">[</span><span class="op" id="3531327">]</span><span class="builtintype" id="3531328">byte</span><span class="op" id="3531332">)</span>&nbsp;<span class="op" id="3531334">(</span><span class="ident" id="3531335">n</span>&nbsp;<span class="builtintype" id="3531337">int</span><span class="op" id="3531340">,</span>&nbsp;<span class="ident" id="3531342">err</span>&nbsp;<span class="builtintype" id="3531346">error</span><span class="op" id="3531351">)</span>&nbsp;<span class="op" id="3531353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531356"><a href="/encoding/base64/base64.go.html#3531322">src</a></span>&nbsp;<span class="op" id="3531360">=</span>&nbsp;<span class="ident" id="3531362"><a href="/encoding/base64/base64.go.html#3524604">bytes</a></span><span class="op" id="3531367">.</span><span class="ident" id="3531368">Map</span><span class="op" id="3531371">(</span><span class="ident" id="3531372"><a href="/encoding/base64/base64.go.html#3525863">removeNewlinesMapper</a></span><span class="op" id="3531392">,</span>&nbsp;<span class="ident" id="3531394"><a href="/encoding/base64/base64.go.html#3531322">src</a></span><span class="op" id="3531397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531400"><a href="/encoding/base64/base64.go.html#3531335">n</a></span><span class="op" id="3531401">,</span>&nbsp;<span class="ident" id="3531403">_</span><span class="op" id="3531404">,</span>&nbsp;<span class="ident" id="3531406"><a href="/encoding/base64/base64.go.html#3531342">err</a></span>&nbsp;<span class="op" id="3531410">=</span>&nbsp;<span class="ident" id="3531412"><a href="/encoding/base64/base64.go.html#3531295">enc</a></span><span class="op" id="3531415">.</span><span class="ident" id="3531416">decode</span><span class="op" id="3531422">(</span><span class="ident" id="3531423"><a href="/encoding/base64/base64.go.html#3531317">dst</a></span><span class="op" id="3531426">,</span>&nbsp;<span class="ident" id="3531428"><a href="/encoding/base64/base64.go.html#3531322">src</a></span><span class="op" id="3531431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3531434">return</span><br>
<span class="lineno">290</span><span class="op" id="3531441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3531444">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;base64&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3531514">func</span>&nbsp;<span class="op" id="3531519">(</span><span class="ident" id="3531520">enc</span>&nbsp;<span class="op" id="3531524">*</span><span class="ident" id="3531525"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3531533">)</span>&nbsp;<span class="ident" id="3531535">DecodeString</span><span class="op" id="3531547">(</span><span class="ident" id="3531548">s</span>&nbsp;<span class="builtintype" id="3531550">string</span><span class="op" id="3531556">)</span>&nbsp;<span class="op" id="3531558">(</span><span class="op" id="3531559">[</span><span class="op" id="3531560">]</span><span class="builtintype" id="3531561">byte</span><span class="op" id="3531565">,</span>&nbsp;<span class="builtintype" id="3531567">error</span><span class="op" id="3531572">)</span>&nbsp;<span class="op" id="3531574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531577"><a href="/encoding/base64/base64.go.html#3531548">s</a></span>&nbsp;<span class="op" id="3531579">=</span>&nbsp;<span class="ident" id="3531581"><a href="/encoding/base64/base64.go.html#3524630">strings</a></span><span class="op" id="3531588">.</span><span class="ident" id="3531589">Map</span><span class="op" id="3531592">(</span><span class="ident" id="3531593"><a href="/encoding/base64/base64.go.html#3525863">removeNewlinesMapper</a></span><span class="op" id="3531613">,</span>&nbsp;<span class="ident" id="3531615"><a href="/encoding/base64/base64.go.html#3531548">s</a></span><span class="op" id="3531616">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531619">dbuf</span>&nbsp;<span class="op" id="3531624">:=</span>&nbsp;<span class="builtinfunc" id="3531627">make</span><span class="op" id="3531631">(</span><span class="op" id="3531632">[</span><span class="op" id="3531633">]</span><span class="builtintype" id="3531634">byte</span><span class="op" id="3531638">,</span>&nbsp;<span class="ident" id="3531640"><a href="/encoding/base64/base64.go.html#3531520">enc</a></span><span class="op" id="3531643">.</span><span class="ident" id="3531644">DecodedLen</span><span class="op" id="3531654">(</span><span class="builtinfunc" id="3531655">len</span><span class="op" id="3531658">(</span><span class="ident" id="3531659"><a href="/encoding/base64/base64.go.html#3531548">s</a></span><span class="op" id="3531660">)</span><span class="op" id="3531661">)</span><span class="op" id="3531662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531665">n</span><span class="op" id="3531666">,</span>&nbsp;<span class="ident" id="3531668">_</span><span class="op" id="3531669">,</span>&nbsp;<span class="ident" id="3531671">err</span>&nbsp;<span class="op" id="3531675">:=</span>&nbsp;<span class="ident" id="3531678"><a href="/encoding/base64/base64.go.html#3531520">enc</a></span><span class="op" id="3531681">.</span><span class="ident" id="3531682">decode</span><span class="op" id="3531688">(</span><span class="ident" id="3531689"><a href="/encoding/base64/base64.go.html#3531619">dbuf</a></span><span class="op" id="3531693">,</span>&nbsp;<span class="op" id="3531695">[</span><span class="op" id="3531696">]</span><span class="builtintype" id="3531697">byte</span><span class="op" id="3531701">(</span><span class="ident" id="3531702"><a href="/encoding/base64/base64.go.html#3531548">s</a></span><span class="op" id="3531703">)</span><span class="op" id="3531704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3531707">return</span>&nbsp;<span class="ident" id="3531714"><a href="/encoding/base64/base64.go.html#3531619">dbuf</a></span><span class="op" id="3531718">[</span><span class="op" id="3531719">:</span><span class="ident" id="3531720"><a href="/encoding/base64/base64.go.html#3531665">n</a></span><span class="op" id="3531721">]</span><span class="op" id="3531722">,</span>&nbsp;<span class="ident" id="3531724"><a href="/encoding/base64/base64.go.html#3531671">err</a></span><br>
<span class="lineno"></span><span class="op" id="3531728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="3531731">type</span>&nbsp;<span class="ident" id="3531736">decoder</span>&nbsp;<span class="keyword" id="3531744">struct</span>&nbsp;<span class="op" id="3531751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531754">err</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3531761">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531768">enc</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531775">*</span><span class="ident" id="3531776"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531786">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3531793"><a href="/encoding/base64/base64.go.html#3524613">io</a></span><span class="op" id="3531795">.</span><span class="ident" id="3531796">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531804">end</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3531811">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3531822">//&nbsp;saw&nbsp;end&nbsp;of&nbsp;message</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531845">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531852">[</span><span class="num" id="3531853">1024</span><span class="op" id="3531857">]</span><span class="builtintype" id="3531858">byte</span>&nbsp;<span class="comment" id="3531863">//&nbsp;leftover&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531882">nbuf</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3531889">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531894">out</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3531901">[</span><span class="op" id="3531902">]</span><span class="builtintype" id="3531903">byte</span>&nbsp;<span class="comment" id="3531908">//&nbsp;leftover&nbsp;decoded&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3531936">outbuf</span>&nbsp;<span class="op" id="3531943">[</span><span class="num" id="3531944">1024</span>&nbsp;<span class="op" id="3531949">/</span>&nbsp;<span class="num" id="3531951">4</span>&nbsp;<span class="op" id="3531953">*</span>&nbsp;<span class="num" id="3531955">3</span><span class="op" id="3531956">]</span><span class="builtintype" id="3531957">byte</span><br>
<span class="lineno"></span><span class="op" id="3531962">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="3531965">func</span>&nbsp;<span class="op" id="3531970">(</span><span class="ident" id="3531971">d</span>&nbsp;<span class="op" id="3531973">*</span><span class="ident" id="3531974"><a href="/encoding/base64/base64.go.html#3531736">decoder</a></span><span class="op" id="3531981">)</span>&nbsp;<span class="ident" id="3531983">Read</span><span class="op" id="3531987">(</span><span class="ident" id="3531988">p</span>&nbsp;<span class="op" id="3531990">[</span><span class="op" id="3531991">]</span><span class="builtintype" id="3531992">byte</span><span class="op" id="3531996">)</span>&nbsp;<span class="op" id="3531998">(</span><span class="ident" id="3531999">n</span>&nbsp;<span class="builtintype" id="3532001">int</span><span class="op" id="3532004">,</span>&nbsp;<span class="ident" id="3532006">err</span>&nbsp;<span class="builtintype" id="3532010">error</span><span class="op" id="3532015">)</span>&nbsp;<span class="op" id="3532017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532020">if</span>&nbsp;<span class="ident" id="3532023"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532024">.</span><span class="ident" id="3532025">err</span>&nbsp;<span class="op" id="3532029">!=</span>&nbsp;<span class="ident" id="3532032">nil</span>&nbsp;<span class="op" id="3532036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532040">return</span>&nbsp;<span class="num" id="3532047">0</span><span class="op" id="3532048">,</span>&nbsp;<span class="ident" id="3532050"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532051">.</span><span class="ident" id="3532052">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3532057">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3532061">//&nbsp;Use&nbsp;leftover&nbsp;decoded&nbsp;output&nbsp;from&nbsp;last&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532109">if</span>&nbsp;<span class="builtinfunc" id="3532112">len</span><span class="op" id="3532115">(</span><span class="ident" id="3532116"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532117">.</span><span class="ident" id="3532118">out</span><span class="op" id="3532121">)</span>&nbsp;<span class="op" id="3532123">&gt;</span>&nbsp;<span class="num" id="3532125">0</span>&nbsp;<span class="op" id="3532127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532131"><a href="/encoding/base64/base64.go.html#3531999">n</a></span>&nbsp;<span class="op" id="3532133">=</span>&nbsp;<span class="builtinfunc" id="3532135">copy</span><span class="op" id="3532139">(</span><span class="ident" id="3532140"><a href="/encoding/base64/base64.go.html#3531988">p</a></span><span class="op" id="3532141">,</span>&nbsp;<span class="ident" id="3532143"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532144">.</span><span class="ident" id="3532145">out</span><span class="op" id="3532148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532152"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532153">.</span><span class="ident" id="3532154">out</span>&nbsp;<span class="op" id="3532158">=</span>&nbsp;<span class="ident" id="3532160"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532161">.</span><span class="ident" id="3532162">out</span><span class="op" id="3532165">[</span><span class="ident" id="3532166"><a href="/encoding/base64/base64.go.html#3531999">n</a></span><span class="op" id="3532167">:</span><span class="op" id="3532168">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532172">return</span>&nbsp;<span class="ident" id="3532179"><a href="/encoding/base64/base64.go.html#3531999">n</a></span><span class="op" id="3532180">,</span>&nbsp;<span class="ident" id="3532182">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3532187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3532191">//&nbsp;Read&nbsp;a&nbsp;chunk.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532209">nn</span>&nbsp;<span class="op" id="3532212">:=</span>&nbsp;<span class="builtinfunc" id="3532215">len</span><span class="op" id="3532218">(</span><span class="ident" id="3532219"><a href="/encoding/base64/base64.go.html#3531988">p</a></span><span class="op" id="3532220">)</span>&nbsp;<span class="op" id="3532222">/</span>&nbsp;<span class="num" id="3532224">3</span>&nbsp;<span class="op" id="3532226">*</span>&nbsp;<span class="num" id="3532228">4</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532231">if</span>&nbsp;<span class="ident" id="3532234"><a href="/encoding/base64/base64.go.html#3532209">nn</a></span>&nbsp;<span class="op" id="3532237">&lt;</span>&nbsp;<span class="num" id="3532239">4</span>&nbsp;<span class="op" id="3532241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532245"><a href="/encoding/base64/base64.go.html#3532209">nn</a></span>&nbsp;<span class="op" id="3532248">=</span>&nbsp;<span class="num" id="3532250">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3532253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532256">if</span>&nbsp;<span class="ident" id="3532259"><a href="/encoding/base64/base64.go.html#3532209">nn</a></span>&nbsp;<span class="op" id="3532262">&gt;</span>&nbsp;<span class="builtinfunc" id="3532264">len</span><span class="op" id="3532267">(</span><span class="ident" id="3532268"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532269">.</span><span class="ident" id="3532270">buf</span><span class="op" id="3532273">)</span>&nbsp;<span class="op" id="3532275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532279"><a href="/encoding/base64/base64.go.html#3532209">nn</a></span>&nbsp;<span class="op" id="3532282">=</span>&nbsp;<span class="builtinfunc" id="3532284">len</span><span class="op" id="3532287">(</span><span class="ident" id="3532288"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532289">.</span><span class="ident" id="3532290">buf</span><span class="op" id="3532293">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3532296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532299"><a href="/encoding/base64/base64.go.html#3532209">nn</a></span><span class="op" id="3532301">,</span>&nbsp;<span class="ident" id="3532303"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532304">.</span><span class="ident" id="3532305">err</span>&nbsp;<span class="op" id="3532309">=</span>&nbsp;<span class="ident" id="3532311"><a href="/encoding/base64/base64.go.html#3524613">io</a></span><span class="op" id="3532313">.</span><span class="ident" id="3532314">ReadAtLeast</span><span class="op" id="3532325">(</span><span class="ident" id="3532326"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532327">.</span><span class="ident" id="3532328">r</span><span class="op" id="3532329">,</span>&nbsp;<span class="ident" id="3532331"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532332">.</span><span class="ident" id="3532333">buf</span><span class="op" id="3532336">[</span><span class="ident" id="3532337"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532338">.</span><span class="ident" id="3532339">nbuf</span><span class="op" id="3532343">:</span><span class="ident" id="3532344"><a href="/encoding/base64/base64.go.html#3532209">nn</a></span><span class="op" id="3532346">]</span><span class="op" id="3532347">,</span>&nbsp;<span class="num" id="3532349">4</span><span class="op" id="3532350">-</span><span class="ident" id="3532351"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532352">.</span><span class="ident" id="3532353">nbuf</span><span class="op" id="3532357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532360"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532361">.</span><span class="ident" id="3532362">nbuf</span>&nbsp;<span class="op" id="3532367">+=</span>&nbsp;<span class="ident" id="3532370"><a href="/encoding/base64/base64.go.html#3532209">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532374">if</span>&nbsp;<span class="ident" id="3532377"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532378">.</span><span class="ident" id="3532379">err</span>&nbsp;<span class="op" id="3532383">!=</span>&nbsp;<span class="ident" id="3532386">nil</span>&nbsp;<span class="op" id="3532390">||</span>&nbsp;<span class="ident" id="3532393"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532394">.</span><span class="ident" id="3532395">nbuf</span>&nbsp;<span class="op" id="3532400">&lt;</span>&nbsp;<span class="num" id="3532402">4</span>&nbsp;<span class="op" id="3532404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532408">return</span>&nbsp;<span class="num" id="3532415">0</span><span class="op" id="3532416">,</span>&nbsp;<span class="ident" id="3532418"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532419">.</span><span class="ident" id="3532420">err</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3532425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3532429">//&nbsp;Decode&nbsp;chunk&nbsp;into&nbsp;p,&nbsp;or&nbsp;d.out&nbsp;and&nbsp;then&nbsp;p&nbsp;if&nbsp;p&nbsp;is&nbsp;too&nbsp;small.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532493">nr</span>&nbsp;<span class="op" id="3532496">:=</span>&nbsp;<span class="ident" id="3532499"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532500">.</span><span class="ident" id="3532501">nbuf</span>&nbsp;<span class="op" id="3532506">/</span>&nbsp;<span class="num" id="3532508">4</span>&nbsp;<span class="op" id="3532510">*</span>&nbsp;<span class="num" id="3532512">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532515">nw</span>&nbsp;<span class="op" id="3532518">:=</span>&nbsp;<span class="ident" id="3532521"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532522">.</span><span class="ident" id="3532523">nbuf</span>&nbsp;<span class="op" id="3532528">/</span>&nbsp;<span class="num" id="3532530">4</span>&nbsp;<span class="op" id="3532532">*</span>&nbsp;<span class="num" id="3532534">3</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532537">if</span>&nbsp;<span class="ident" id="3532540"><a href="/encoding/base64/base64.go.html#3532515">nw</a></span>&nbsp;<span class="op" id="3532543">&gt;</span>&nbsp;<span class="builtinfunc" id="3532545">len</span><span class="op" id="3532548">(</span><span class="ident" id="3532549"><a href="/encoding/base64/base64.go.html#3531988">p</a></span><span class="op" id="3532550">)</span>&nbsp;<span class="op" id="3532552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532556"><a href="/encoding/base64/base64.go.html#3532515">nw</a></span><span class="op" id="3532558">,</span>&nbsp;<span class="ident" id="3532560"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532561">.</span><span class="ident" id="3532562">end</span><span class="op" id="3532565">,</span>&nbsp;<span class="ident" id="3532567"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532568">.</span><span class="ident" id="3532569">err</span>&nbsp;<span class="op" id="3532573">=</span>&nbsp;<span class="ident" id="3532575"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532576">.</span><span class="ident" id="3532577">enc</span><span class="op" id="3532580">.</span><span class="ident" id="3532581">decode</span><span class="op" id="3532587">(</span><span class="ident" id="3532588"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532589">.</span><span class="ident" id="3532590">outbuf</span><span class="op" id="3532596">[</span><span class="num" id="3532597">0</span><span class="op" id="3532598">:</span><span class="op" id="3532599">]</span><span class="op" id="3532600">,</span>&nbsp;<span class="ident" id="3532602"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532603">.</span><span class="ident" id="3532604">buf</span><span class="op" id="3532607">[</span><span class="num" id="3532608">0</span><span class="op" id="3532609">:</span><span class="ident" id="3532610"><a href="/encoding/base64/base64.go.html#3532493">nr</a></span><span class="op" id="3532612">]</span><span class="op" id="3532613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532617"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532618">.</span><span class="ident" id="3532619">out</span>&nbsp;<span class="op" id="3532623">=</span>&nbsp;<span class="ident" id="3532625"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532626">.</span><span class="ident" id="3532627">outbuf</span><span class="op" id="3532633">[</span><span class="num" id="3532634">0</span><span class="op" id="3532635">:</span><span class="ident" id="3532636"><a href="/encoding/base64/base64.go.html#3532515">nw</a></span><span class="op" id="3532638">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532642"><a href="/encoding/base64/base64.go.html#3531999">n</a></span>&nbsp;<span class="op" id="3532644">=</span>&nbsp;<span class="builtinfunc" id="3532646">copy</span><span class="op" id="3532650">(</span><span class="ident" id="3532651"><a href="/encoding/base64/base64.go.html#3531988">p</a></span><span class="op" id="3532652">,</span>&nbsp;<span class="ident" id="3532654"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532655">.</span><span class="ident" id="3532656">out</span><span class="op" id="3532659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532663"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532664">.</span><span class="ident" id="3532665">out</span>&nbsp;<span class="op" id="3532669">=</span>&nbsp;<span class="ident" id="3532671"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532672">.</span><span class="ident" id="3532673">out</span><span class="op" id="3532676">[</span><span class="ident" id="3532677"><a href="/encoding/base64/base64.go.html#3531999">n</a></span><span class="op" id="3532678">:</span><span class="op" id="3532679">]</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3532682">}</span>&nbsp;<span class="keyword" id="3532684">else</span>&nbsp;<span class="op" id="3532689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532693"><a href="/encoding/base64/base64.go.html#3531999">n</a></span><span class="op" id="3532694">,</span>&nbsp;<span class="ident" id="3532696"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532697">.</span><span class="ident" id="3532698">end</span><span class="op" id="3532701">,</span>&nbsp;<span class="ident" id="3532703"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532704">.</span><span class="ident" id="3532705">err</span>&nbsp;<span class="op" id="3532709">=</span>&nbsp;<span class="ident" id="3532711"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532712">.</span><span class="ident" id="3532713">enc</span><span class="op" id="3532716">.</span><span class="ident" id="3532717">decode</span><span class="op" id="3532723">(</span><span class="ident" id="3532724"><a href="/encoding/base64/base64.go.html#3531988">p</a></span><span class="op" id="3532725">,</span>&nbsp;<span class="ident" id="3532727"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532728">.</span><span class="ident" id="3532729">buf</span><span class="op" id="3532732">[</span><span class="num" id="3532733">0</span><span class="op" id="3532734">:</span><span class="ident" id="3532735"><a href="/encoding/base64/base64.go.html#3532493">nr</a></span><span class="op" id="3532737">]</span><span class="op" id="3532738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3532741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532744"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532745">.</span><span class="ident" id="3532746">nbuf</span>&nbsp;<span class="op" id="3532751">-=</span>&nbsp;<span class="ident" id="3532754"><a href="/encoding/base64/base64.go.html#3532493">nr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532758">for</span>&nbsp;<span class="ident" id="3532762">i</span>&nbsp;<span class="op" id="3532764">:=</span>&nbsp;<span class="num" id="3532767">0</span><span class="op" id="3532768">;</span>&nbsp;<span class="ident" id="3532770"><a href="/encoding/base64/base64.go.html#3532762">i</a></span>&nbsp;<span class="op" id="3532772">&lt;</span>&nbsp;<span class="ident" id="3532774"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532775">.</span><span class="ident" id="3532776">nbuf</span><span class="op" id="3532780">;</span>&nbsp;<span class="ident" id="3532782"><a href="/encoding/base64/base64.go.html#3532762">i</a></span><span class="op" id="3532783">++</span>&nbsp;<span class="op" id="3532786">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532790"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532791">.</span><span class="ident" id="3532792">buf</span><span class="op" id="3532795">[</span><span class="ident" id="3532796"><a href="/encoding/base64/base64.go.html#3532762">i</a></span><span class="op" id="3532797">]</span>&nbsp;<span class="op" id="3532799">=</span>&nbsp;<span class="ident" id="3532801"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532802">.</span><span class="ident" id="3532803">buf</span><span class="op" id="3532806">[</span><span class="ident" id="3532807"><a href="/encoding/base64/base64.go.html#3532762">i</a></span><span class="op" id="3532808">+</span><span class="ident" id="3532809"><a href="/encoding/base64/base64.go.html#3532493">nr</a></span><span class="op" id="3532811">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3532814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532818">if</span>&nbsp;<span class="ident" id="3532821"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532822">.</span><span class="ident" id="3532823">err</span>&nbsp;<span class="op" id="3532827">==</span>&nbsp;<span class="ident" id="3532830">nil</span>&nbsp;<span class="op" id="3532834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532838"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532839">.</span><span class="ident" id="3532840">err</span>&nbsp;<span class="op" id="3532844">=</span>&nbsp;<span class="ident" id="3532846"><a href="/encoding/base64/base64.go.html#3532006">err</a></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3532851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3532854">return</span>&nbsp;<span class="ident" id="3532861"><a href="/encoding/base64/base64.go.html#3531999">n</a></span><span class="op" id="3532862">,</span>&nbsp;<span class="ident" id="3532864"><a href="/encoding/base64/base64.go.html#3531971">d</a></span><span class="op" id="3532865">.</span><span class="ident" id="3532866">err</span><br>
<span class="lineno"></span><span class="op" id="3532870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3532873">type</span>&nbsp;<span class="ident" id="3532878">newlineFilteringReader</span>&nbsp;<span class="keyword" id="3532901">struct</span>&nbsp;<span class="op" id="3532908">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532911">wrapped</span>&nbsp;<span class="ident" id="3532919"><a href="/encoding/base64/base64.go.html#3524613">io</a></span><span class="op" id="3532921">.</span><span class="ident" id="3532922">Reader</span><br>
<span class="lineno"></span><span class="op" id="3532929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3532932">func</span>&nbsp;<span class="op" id="3532937">(</span><span class="ident" id="3532938">r</span>&nbsp;<span class="op" id="3532940">*</span><span class="ident" id="3532941"><a href="/encoding/base64/base64.go.html#3532878">newlineFilteringReader</a></span><span class="op" id="3532963">)</span>&nbsp;<span class="ident" id="3532965">Read</span><span class="op" id="3532969">(</span><span class="ident" id="3532970">p</span>&nbsp;<span class="op" id="3532972">[</span><span class="op" id="3532973">]</span><span class="builtintype" id="3532974">byte</span><span class="op" id="3532978">)</span>&nbsp;<span class="op" id="3532980">(</span><span class="builtintype" id="3532981">int</span><span class="op" id="3532984">,</span>&nbsp;<span class="builtintype" id="3532986">error</span><span class="op" id="3532991">)</span>&nbsp;<span class="op" id="3532993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3532996">n</span><span class="op" id="3532997">,</span>&nbsp;<span class="ident" id="3532999">err</span>&nbsp;<span class="op" id="3533003">:=</span>&nbsp;<span class="ident" id="3533006"><a href="/encoding/base64/base64.go.html#3532938">r</a></span><span class="op" id="3533007">.</span><span class="ident" id="3533008">wrapped</span><span class="op" id="3533015">.</span><span class="ident" id="3533016">Read</span><span class="op" id="3533020">(</span><span class="ident" id="3533021"><a href="/encoding/base64/base64.go.html#3532970">p</a></span><span class="op" id="3533022">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3533025">for</span>&nbsp;<span class="ident" id="3533029"><a href="/encoding/base64/base64.go.html#3532996">n</a></span>&nbsp;<span class="op" id="3533031">&gt;</span>&nbsp;<span class="num" id="3533033">0</span>&nbsp;<span class="op" id="3533035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3533039">offset</span>&nbsp;<span class="op" id="3533046">:=</span>&nbsp;<span class="num" id="3533049">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3533053">for</span>&nbsp;<span class="ident" id="3533057">i</span><span class="op" id="3533058">,</span>&nbsp;<span class="ident" id="3533060">b</span>&nbsp;<span class="op" id="3533062">:=</span>&nbsp;<span class="keyword" id="3533065">range</span>&nbsp;<span class="ident" id="3533071"><a href="/encoding/base64/base64.go.html#3532970">p</a></span><span class="op" id="3533072">[</span><span class="num" id="3533073">0</span><span class="op" id="3533074">:</span><span class="ident" id="3533075"><a href="/encoding/base64/base64.go.html#3532996">n</a></span><span class="op" id="3533076">]</span>&nbsp;<span class="op" id="3533078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3533083">if</span>&nbsp;<span class="ident" id="3533086"><a href="/encoding/base64/base64.go.html#3533060">b</a></span>&nbsp;<span class="op" id="3533088">!=</span>&nbsp;<span class="string" id="3533091">&#39;\r&#39;</span>&nbsp;<span class="op" id="3533096">&amp;&amp;</span>&nbsp;<span class="ident" id="3533099"><a href="/encoding/base64/base64.go.html#3533060">b</a></span>&nbsp;<span class="op" id="3533101">!=</span>&nbsp;<span class="string" id="3533104">&#39;\n&#39;</span>&nbsp;<span class="op" id="3533109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3533115">if</span>&nbsp;<span class="ident" id="3533118"><a href="/encoding/base64/base64.go.html#3533057">i</a></span>&nbsp;<span class="op" id="3533120">!=</span>&nbsp;<span class="ident" id="3533123"><a href="/encoding/base64/base64.go.html#3533039">offset</a></span>&nbsp;<span class="op" id="3533130">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3533137"><a href="/encoding/base64/base64.go.html#3532970">p</a></span><span class="op" id="3533138">[</span><span class="ident" id="3533139"><a href="/encoding/base64/base64.go.html#3533039">offset</a></span><span class="op" id="3533145">]</span>&nbsp;<span class="op" id="3533147">=</span>&nbsp;<span class="ident" id="3533149"><a href="/encoding/base64/base64.go.html#3533060">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3533155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3533161"><a href="/encoding/base64/base64.go.html#3533039">offset</a></span><span class="op" id="3533167">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3533173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3533177">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3533181">if</span>&nbsp;<span class="ident" id="3533184"><a href="/encoding/base64/base64.go.html#3533039">offset</a></span>&nbsp;<span class="op" id="3533191">&gt;</span>&nbsp;<span class="num" id="3533193">0</span>&nbsp;<span class="op" id="3533195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3533200">return</span>&nbsp;<span class="ident" id="3533207"><a href="/encoding/base64/base64.go.html#3533039">offset</a></span><span class="op" id="3533213">,</span>&nbsp;<span class="ident" id="3533215"><a href="/encoding/base64/base64.go.html#3532999">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3533221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3533225">//&nbsp;Previous&nbsp;buffer&nbsp;entirely&nbsp;whitespace,&nbsp;read&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3533278"><a href="/encoding/base64/base64.go.html#3532996">n</a></span><span class="op" id="3533279">,</span>&nbsp;<span class="ident" id="3533281"><a href="/encoding/base64/base64.go.html#3532999">err</a></span>&nbsp;<span class="op" id="3533285">=</span>&nbsp;<span class="ident" id="3533287"><a href="/encoding/base64/base64.go.html#3532938">r</a></span><span class="op" id="3533288">.</span><span class="ident" id="3533289">wrapped</span><span class="op" id="3533296">.</span><span class="ident" id="3533297">Read</span><span class="op" id="3533301">(</span><span class="ident" id="3533302"><a href="/encoding/base64/base64.go.html#3532970">p</a></span><span class="op" id="3533303">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3533306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3533309">return</span>&nbsp;<span class="ident" id="3533316"><a href="/encoding/base64/base64.go.html#3532996">n</a></span><span class="op" id="3533317">,</span>&nbsp;<span class="ident" id="3533319"><a href="/encoding/base64/base64.go.html#3532999">err</a></span><br>
<span class="lineno"></span><span class="op" id="3533323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3533326">//&nbsp;NewDecoder&nbsp;constructs&nbsp;a&nbsp;new&nbsp;base64&nbsp;stream&nbsp;decoder.</span><br>
<span class="lineno">385</span><span class="keyword" id="3533380">func</span>&nbsp;<span class="ident" id="3533385">NewDecoder</span><span class="op" id="3533395">(</span><span class="ident" id="3533396">enc</span>&nbsp;<span class="op" id="3533400">*</span><span class="ident" id="3533401"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3533409">,</span>&nbsp;<span class="ident" id="3533411">r</span>&nbsp;<span class="ident" id="3533413"><a href="/encoding/base64/base64.go.html#3524613">io</a></span><span class="op" id="3533415">.</span><span class="ident" id="3533416">Reader</span><span class="op" id="3533422">)</span>&nbsp;<span class="ident" id="3533424"><a href="/encoding/base64/base64.go.html#3524613">io</a></span><span class="op" id="3533426">.</span><span class="ident" id="3533427">Reader</span>&nbsp;<span class="op" id="3533434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3533437">return</span>&nbsp;<span class="op" id="3533444">&amp;</span><span class="ident" id="3533445"><a href="/encoding/base64/base64.go.html#3531736">decoder</a></span><span class="op" id="3533452">{</span><span class="ident" id="3533453">enc</span><span class="op" id="3533456">:</span>&nbsp;<span class="ident" id="3533458"><a href="/encoding/base64/base64.go.html#3533396">enc</a></span><span class="op" id="3533461">,</span>&nbsp;<span class="ident" id="3533463">r</span><span class="op" id="3533464">:</span>&nbsp;<span class="op" id="3533466">&amp;</span><span class="ident" id="3533467"><a href="/encoding/base64/base64.go.html#3532878">newlineFilteringReader</a></span><span class="op" id="3533489">{</span><span class="ident" id="3533490"><a href="/encoding/base64/base64.go.html#3533411">r</a></span><span class="op" id="3533491">}</span><span class="op" id="3533492">}</span><br>
<span class="lineno"></span><span class="op" id="3533494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3533497">//&nbsp;DecodedLen&nbsp;returns&nbsp;the&nbsp;maximum&nbsp;length&nbsp;in&nbsp;bytes&nbsp;of&nbsp;the&nbsp;decoded&nbsp;data</span><br>
<span class="lineno">390</span><span class="comment" id="3533567">//&nbsp;corresponding&nbsp;to&nbsp;n&nbsp;bytes&nbsp;of&nbsp;base64-encoded&nbsp;data.</span><br>
<span class="lineno"></span><span class="keyword" id="3533619">func</span>&nbsp;<span class="op" id="3533624">(</span><span class="ident" id="3533625">enc</span>&nbsp;<span class="op" id="3533629">*</span><span class="ident" id="3533630"><a href="/encoding/base64/base64.go.html#3525006">Encoding</a></span><span class="op" id="3533638">)</span>&nbsp;<span class="ident" id="3533640">DecodedLen</span><span class="op" id="3533650">(</span><span class="ident" id="3533651">n</span>&nbsp;<span class="builtintype" id="3533653">int</span><span class="op" id="3533656">)</span>&nbsp;<span class="builtintype" id="3533658">int</span>&nbsp;<span class="op" id="3533662">{</span>&nbsp;<span class="keyword" id="3533664">return</span>&nbsp;<span class="ident" id="3533671"><a href="/encoding/base64/base64.go.html#3533651">n</a></span>&nbsp;<span class="op" id="3533673">/</span>&nbsp;<span class="num" id="3533675">4</span>&nbsp;<span class="op" id="3533677">*</span>&nbsp;<span class="num" id="3533679">3</span>&nbsp;<span class="op" id="3533681">}</span>
</div>
</body>
</html>
