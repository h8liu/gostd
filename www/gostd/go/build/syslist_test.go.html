<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/build</h2>
<ul>
<li><a href="/gostd/go/build/build.go.html">build.go</a></li>
<li><a href="/gostd/go/build/build_test.go.html">build_test.go</a></li>
<li><a href="/gostd/go/build/deps_test.go.html">deps_test.go</a></li>
<li><a href="/gostd/go/build/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/build/read.go.html">read.go</a></li>
<li><a href="/gostd/go/build/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/go/build/syslist.go.html">syslist.go</a></li>
<li><a href="/gostd/go/build/syslist_test.go.html" class="current">syslist_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7862867">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7862923">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7862977">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7863028">package</span>&nbsp;<span class="ident" id="7863036">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7863043">import</span>&nbsp;<span class="op" id="7863050">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863053">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863064">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7863074">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7863077">var</span>&nbsp;<span class="op" id="7863081">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863084">thisOS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863094">=</span>&nbsp;<span class="ident" id="7863096"><a href="/gostd/go/build/syslist_test.go.html#7863053">runtime</a></span><span class="op" id="7863103">.</span><span class="ident" id="7863104"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863110">thisArch</span>&nbsp;&nbsp;<span class="op" id="7863120">=</span>&nbsp;<span class="ident" id="7863122"><a href="/gostd/go/build/syslist_test.go.html#7863053">runtime</a></span><span class="op" id="7863129">.</span><span class="ident" id="7863130"><a href="/gostd/runtime/extern.go.html#1533781">GOARCH</a></span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863138">otherOS</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7863148">=</span>&nbsp;<span class="ident" id="7863150"><a href="/gostd/go/build/syslist_test.go.html#7863197">anotherOS</a></span><span class="op" id="7863159">(</span><span class="op" id="7863160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863163">otherArch</span>&nbsp;<span class="op" id="7863173">=</span>&nbsp;<span class="ident" id="7863175"><a href="/gostd/go/build/syslist_test.go.html#7863288">anotherArch</a></span><span class="op" id="7863186">(</span><span class="op" id="7863187">)</span><br>
<span class="lineno"></span><span class="op" id="7863189">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7863192">func</span>&nbsp;<span class="ident" id="7863197">anotherOS</span><span class="op" id="7863206">(</span><span class="op" id="7863207">)</span>&nbsp;<span class="builtintype" id="7863209">string</span>&nbsp;<span class="op" id="7863216">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7863219">if</span>&nbsp;<span class="ident" id="7863222"><a href="/gostd/go/build/syslist_test.go.html#7863084">thisOS</a></span>&nbsp;<span class="op" id="7863229">!=</span>&nbsp;<span class="string" id="7863232">&#34;darwin&#34;</span>&nbsp;<span class="op" id="7863241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7863245">return</span>&nbsp;<span class="string" id="7863252">&#34;darwin&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7863265">return</span>&nbsp;<span class="string" id="7863272">&#34;linux&#34;</span><br>
<span class="lineno"></span><span class="op" id="7863280">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7863283">func</span>&nbsp;<span class="ident" id="7863288">anotherArch</span><span class="op" id="7863299">(</span><span class="op" id="7863300">)</span>&nbsp;<span class="builtintype" id="7863302">string</span>&nbsp;<span class="op" id="7863309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7863312">if</span>&nbsp;<span class="ident" id="7863315"><a href="/gostd/go/build/syslist_test.go.html#7863110">thisArch</a></span>&nbsp;<span class="op" id="7863324">!=</span>&nbsp;<span class="string" id="7863327">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7863335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7863339">return</span>&nbsp;<span class="string" id="7863346">&#34;amd64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863355">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7863358">return</span>&nbsp;<span class="string" id="7863365">&#34;386&#34;</span><br>
<span class="lineno"></span><span class="op" id="7863371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7863374">type</span>&nbsp;<span class="ident" id="7863379">GoodFileTest</span>&nbsp;<span class="keyword" id="7863392">struct</span>&nbsp;<span class="op" id="7863399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863402">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7863409">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863417">result</span>&nbsp;<span class="builtintype" id="7863424">bool</span><br>
<span class="lineno"></span><span class="op" id="7863429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7863432">var</span>&nbsp;<span class="ident" id="7863436">tests</span>&nbsp;<span class="op" id="7863442">=</span>&nbsp;<span class="op" id="7863444">[</span><span class="op" id="7863445">]</span><span class="ident" id="7863446"><a href="/gostd/go/build/syslist_test.go.html#7863379">GoodFileTest</a></span><span class="op" id="7863458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863461">{</span><span class="string" id="7863462">&#34;file.go&#34;</span><span class="op" id="7863471">,</span>&nbsp;<span class="builtintype" id="7863473">true</span><span class="op" id="7863477">}</span><span class="op" id="7863478">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863481">{</span><span class="string" id="7863482">&#34;file.c&#34;</span><span class="op" id="7863490">,</span>&nbsp;<span class="builtintype" id="7863492">true</span><span class="op" id="7863496">}</span><span class="op" id="7863497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863500">{</span><span class="string" id="7863501">&#34;file_foo.go&#34;</span><span class="op" id="7863514">,</span>&nbsp;<span class="builtintype" id="7863516">true</span><span class="op" id="7863520">}</span><span class="op" id="7863521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863524">{</span><span class="string" id="7863525">&#34;file_&#34;</span>&nbsp;<span class="op" id="7863533">+</span>&nbsp;<span class="ident" id="7863535"><a href="/gostd/go/build/syslist_test.go.html#7863110">thisArch</a></span>&nbsp;<span class="op" id="7863544">+</span>&nbsp;<span class="string" id="7863546">&#34;.go&#34;</span><span class="op" id="7863551">,</span>&nbsp;<span class="builtintype" id="7863553">true</span><span class="op" id="7863557">}</span><span class="op" id="7863558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863561">{</span><span class="string" id="7863562">&#34;file_&#34;</span>&nbsp;<span class="op" id="7863570">+</span>&nbsp;<span class="ident" id="7863572"><a href="/gostd/go/build/syslist_test.go.html#7863163">otherArch</a></span>&nbsp;<span class="op" id="7863582">+</span>&nbsp;<span class="string" id="7863584">&#34;.go&#34;</span><span class="op" id="7863589">,</span>&nbsp;<span class="builtintype" id="7863591">false</span><span class="op" id="7863596">}</span><span class="op" id="7863597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863600">{</span><span class="string" id="7863601">&#34;file_&#34;</span>&nbsp;<span class="op" id="7863609">+</span>&nbsp;<span class="ident" id="7863611"><a href="/gostd/go/build/syslist_test.go.html#7863084">thisOS</a></span>&nbsp;<span class="op" id="7863618">+</span>&nbsp;<span class="string" id="7863620">&#34;.go&#34;</span><span class="op" id="7863625">,</span>&nbsp;<span class="builtintype" id="7863627">true</span><span class="op" id="7863631">}</span><span class="op" id="7863632">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863635">{</span><span class="string" id="7863636">&#34;file_&#34;</span>&nbsp;<span class="op" id="7863644">+</span>&nbsp;<span class="ident" id="7863646"><a href="/gostd/go/build/syslist_test.go.html#7863138">otherOS</a></span>&nbsp;<span class="op" id="7863654">+</span>&nbsp;<span class="string" id="7863656">&#34;.go&#34;</span><span class="op" id="7863661">,</span>&nbsp;<span class="builtintype" id="7863663">false</span><span class="op" id="7863668">}</span><span class="op" id="7863669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863672">{</span><span class="string" id="7863673">&#34;file_&#34;</span>&nbsp;<span class="op" id="7863681">+</span>&nbsp;<span class="ident" id="7863683"><a href="/gostd/go/build/syslist_test.go.html#7863084">thisOS</a></span>&nbsp;<span class="op" id="7863690">+</span>&nbsp;<span class="string" id="7863692">&#34;_&#34;</span>&nbsp;<span class="op" id="7863696">+</span>&nbsp;<span class="ident" id="7863698"><a href="/gostd/go/build/syslist_test.go.html#7863110">thisArch</a></span>&nbsp;<span class="op" id="7863707">+</span>&nbsp;<span class="string" id="7863709">&#34;.go&#34;</span><span class="op" id="7863714">,</span>&nbsp;<span class="builtintype" id="7863716">true</span><span class="op" id="7863720">}</span><span class="op" id="7863721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863724">{</span><span class="string" id="7863725">&#34;file_&#34;</span>&nbsp;<span class="op" id="7863733">+</span>&nbsp;<span class="ident" id="7863735"><a href="/gostd/go/build/syslist_test.go.html#7863138">otherOS</a></span>&nbsp;<span class="op" id="7863743">+</span>&nbsp;<span class="string" id="7863745">&#34;_&#34;</span>&nbsp;<span class="op" id="7863749">+</span>&nbsp;<span class="ident" id="7863751"><a href="/gostd/go/build/syslist_test.go.html#7863110">thisArch</a></span>&nbsp;<span class="op" id="7863760">+</span>&nbsp;<span class="string" id="7863762">&#34;.go&#34;</span><span class="op" id="7863767">,</span>&nbsp;<span class="builtintype" id="7863769">false</span><span class="op" id="7863774">}</span><span class="op" id="7863775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863778">{</span><span class="string" id="7863779">&#34;file_&#34;</span>&nbsp;<span class="op" id="7863787">+</span>&nbsp;<span class="ident" id="7863789"><a href="/gostd/go/build/syslist_test.go.html#7863084">thisOS</a></span>&nbsp;<span class="op" id="7863796">+</span>&nbsp;<span class="string" id="7863798">&#34;_&#34;</span>&nbsp;<span class="op" id="7863802">+</span>&nbsp;<span class="ident" id="7863804"><a href="/gostd/go/build/syslist_test.go.html#7863163">otherArch</a></span>&nbsp;<span class="op" id="7863814">+</span>&nbsp;<span class="string" id="7863816">&#34;.go&#34;</span><span class="op" id="7863821">,</span>&nbsp;<span class="builtintype" id="7863823">false</span><span class="op" id="7863828">}</span><span class="op" id="7863829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863832">{</span><span class="string" id="7863833">&#34;file_&#34;</span>&nbsp;<span class="op" id="7863841">+</span>&nbsp;<span class="ident" id="7863843"><a href="/gostd/go/build/syslist_test.go.html#7863138">otherOS</a></span>&nbsp;<span class="op" id="7863851">+</span>&nbsp;<span class="string" id="7863853">&#34;_&#34;</span>&nbsp;<span class="op" id="7863857">+</span>&nbsp;<span class="ident" id="7863859"><a href="/gostd/go/build/syslist_test.go.html#7863163">otherArch</a></span>&nbsp;<span class="op" id="7863869">+</span>&nbsp;<span class="string" id="7863871">&#34;.go&#34;</span><span class="op" id="7863876">,</span>&nbsp;<span class="builtintype" id="7863878">false</span><span class="op" id="7863883">}</span><span class="op" id="7863884">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863887">{</span><span class="string" id="7863888">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="7863900">+</span>&nbsp;<span class="ident" id="7863902"><a href="/gostd/go/build/syslist_test.go.html#7863110">thisArch</a></span>&nbsp;<span class="op" id="7863911">+</span>&nbsp;<span class="string" id="7863913">&#34;.go&#34;</span><span class="op" id="7863918">,</span>&nbsp;<span class="builtintype" id="7863920">true</span><span class="op" id="7863924">}</span><span class="op" id="7863925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863928">{</span><span class="string" id="7863929">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="7863941">+</span>&nbsp;<span class="ident" id="7863943"><a href="/gostd/go/build/syslist_test.go.html#7863163">otherArch</a></span>&nbsp;<span class="op" id="7863953">+</span>&nbsp;<span class="string" id="7863955">&#34;.go&#34;</span><span class="op" id="7863960">,</span>&nbsp;<span class="builtintype" id="7863962">false</span><span class="op" id="7863967">}</span><span class="op" id="7863968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863971">{</span><span class="string" id="7863972">&#34;file_&#34;</span>&nbsp;<span class="op" id="7863980">+</span>&nbsp;<span class="ident" id="7863982"><a href="/gostd/go/build/syslist_test.go.html#7863084">thisOS</a></span>&nbsp;<span class="op" id="7863989">+</span>&nbsp;<span class="string" id="7863991">&#34;.c&#34;</span><span class="op" id="7863995">,</span>&nbsp;<span class="builtintype" id="7863997">true</span><span class="op" id="7864001">}</span><span class="op" id="7864002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864005">{</span><span class="string" id="7864006">&#34;file_&#34;</span>&nbsp;<span class="op" id="7864014">+</span>&nbsp;<span class="ident" id="7864016"><a href="/gostd/go/build/syslist_test.go.html#7863138">otherOS</a></span>&nbsp;<span class="op" id="7864024">+</span>&nbsp;<span class="string" id="7864026">&#34;.c&#34;</span><span class="op" id="7864030">,</span>&nbsp;<span class="builtintype" id="7864032">false</span><span class="op" id="7864037">}</span><span class="op" id="7864038">,</span><br>
<span class="lineno"></span><span class="op" id="7864040">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="7864043">func</span>&nbsp;<span class="ident" id="7864048">TestGoodOSArch</span><span class="op" id="7864062">(</span><span class="ident" id="7864063">t</span>&nbsp;<span class="op" id="7864065">*</span><span class="ident" id="7864066"><a href="/gostd/go/build/syslist_test.go.html#7863064">testing</a></span><span class="op" id="7864073">.</span><span class="ident" id="7864074"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7864075">)</span>&nbsp;<span class="op" id="7864077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7864080">for</span>&nbsp;<span class="ident" id="7864084">_</span><span class="op" id="7864085">,</span>&nbsp;<span class="ident" id="7864087">test</span>&nbsp;<span class="op" id="7864092">:=</span>&nbsp;<span class="keyword" id="7864095">range</span>&nbsp;<span class="ident" id="7864101"><a href="/gostd/go/build/syslist_test.go.html#7863436">tests</a></span>&nbsp;<span class="op" id="7864107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7864111">if</span>&nbsp;<span class="ident" id="7864114"><a href="/gostd/go/build/build.go.html#5908209">Default</a></span><span class="op" id="7864121">.</span><span class="ident" id="7864122"><a href="/gostd/go/build/build.go.html#5937020">goodOSArchFile</a></span><span class="op" id="7864136">(</span><span class="ident" id="7864137"><a href="/gostd/go/build/syslist_test.go.html#7864087">test</a></span><span class="op" id="7864141">.</span><span class="ident" id="7864142"><a href="/gostd/go/build/syslist_test.go.html#7863402">name</a></span><span class="op" id="7864146">,</span>&nbsp;<span class="builtinfunc" id="7864148">make</span><span class="op" id="7864152">(</span><span class="keyword" id="7864153">map</span><span class="op" id="7864156">[</span><span class="builtintype" id="7864157">string</span><span class="op" id="7864163">]</span><span class="builtintype" id="7864164">bool</span><span class="op" id="7864168">)</span><span class="op" id="7864169">)</span>&nbsp;<span class="op" id="7864171">!=</span>&nbsp;<span class="ident" id="7864174"><a href="/gostd/go/build/syslist_test.go.html#7864087">test</a></span><span class="op" id="7864178">.</span><span class="ident" id="7864179"><a href="/gostd/go/build/syslist_test.go.html#7863417">result</a></span>&nbsp;<span class="op" id="7864186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864191"><a href="/gostd/go/build/syslist_test.go.html#7864063">t</a></span><span class="op" id="7864192">.</span><span class="ident" id="7864193"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7864199">(</span><span class="string" id="7864200">&#34;goodOSArchFile(%q)&nbsp;!=&nbsp;%v&#34;</span><span class="op" id="7864226">,</span>&nbsp;<span class="ident" id="7864228"><a href="/gostd/go/build/syslist_test.go.html#7864087">test</a></span><span class="op" id="7864232">.</span><span class="ident" id="7864233"><a href="/gostd/go/build/syslist_test.go.html#7863402">name</a></span><span class="op" id="7864237">,</span>&nbsp;<span class="ident" id="7864239"><a href="/gostd/go/build/syslist_test.go.html#7864087">test</a></span><span class="op" id="7864243">.</span><span class="ident" id="7864244"><a href="/gostd/go/build/syslist_test.go.html#7863417">result</a></span><span class="op" id="7864250">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864257">}</span><br>
<span class="lineno"></span><span class="op" id="7864259">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
