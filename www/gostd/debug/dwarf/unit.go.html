<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html" class="current">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4334247">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4334303">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4334357">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4334408">package</span>&nbsp;<span class="ident" id="4334416">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4334423">import</span>&nbsp;<span class="string" id="4334430">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4334441">//&nbsp;DWARF&nbsp;debug&nbsp;info&nbsp;is&nbsp;split&nbsp;into&nbsp;a&nbsp;sequence&nbsp;of&nbsp;compilation&nbsp;units.</span><br>
<span class="lineno">10</span><span class="comment" id="4334508">//&nbsp;Each&nbsp;unit&nbsp;has&nbsp;its&nbsp;own&nbsp;abbreviation&nbsp;table&nbsp;and&nbsp;address&nbsp;size.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4334571">type</span>&nbsp;<span class="ident" id="4334576">unit</span>&nbsp;<span class="keyword" id="4334581">struct</span>&nbsp;<span class="op" id="4334588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4334591">base</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4334598">Offset</span>&nbsp;<span class="comment" id="4334605">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;header&nbsp;within&nbsp;the&nbsp;aggregate&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4334657">off</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4334664">Offset</span>&nbsp;<span class="comment" id="4334671">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;data&nbsp;within&nbsp;the&nbsp;aggregate&nbsp;info</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4334721">data</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4334728">[</span><span class="op" id="4334729">]</span><span class="builtintype" id="4334730">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4334736">atable</span>&nbsp;<span class="ident" id="4334743">abbrevTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4334756">asize</span>&nbsp;&nbsp;<span class="builtintype" id="4334763">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4334768">vers</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4334775">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4334780">is64</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4334787">bool</span>&nbsp;<span class="comment" id="4334792">//&nbsp;True&nbsp;for&nbsp;64-bit&nbsp;DWARF&nbsp;format</span><br>
<span class="lineno">20</span><span class="op" id="4334824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4334827">//&nbsp;Implement&nbsp;the&nbsp;dataFormat&nbsp;interface.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4334867">func</span>&nbsp;<span class="op" id="4334872">(</span><span class="ident" id="4334873">u</span>&nbsp;<span class="op" id="4334875">*</span><span class="ident" id="4334876">unit</span><span class="op" id="4334880">)</span>&nbsp;<span class="ident" id="4334882">version</span><span class="op" id="4334889">(</span><span class="op" id="4334890">)</span>&nbsp;<span class="builtintype" id="4334892">int</span>&nbsp;<span class="op" id="4334896">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4334899">return</span>&nbsp;<span class="ident" id="4334906">u</span><span class="op" id="4334907">.</span><span class="ident" id="4334908">vers</span><br>
<span class="lineno"></span><span class="op" id="4334913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4334916">func</span>&nbsp;<span class="op" id="4334921">(</span><span class="ident" id="4334922">u</span>&nbsp;<span class="op" id="4334924">*</span><span class="ident" id="4334925">unit</span><span class="op" id="4334929">)</span>&nbsp;<span class="ident" id="4334931">dwarf64</span><span class="op" id="4334938">(</span><span class="op" id="4334939">)</span>&nbsp;<span class="op" id="4334941">(</span><span class="builtintype" id="4334942">bool</span><span class="op" id="4334946">,</span>&nbsp;<span class="builtintype" id="4334948">bool</span><span class="op" id="4334952">)</span>&nbsp;<span class="op" id="4334954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4334957">return</span>&nbsp;<span class="ident" id="4334964">u</span><span class="op" id="4334965">.</span><span class="ident" id="4334966">is64</span><span class="op" id="4334970">,</span>&nbsp;<span class="builtintype" id="4334972">true</span><br>
<span class="lineno">30</span><span class="op" id="4334977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4334980">func</span>&nbsp;<span class="op" id="4334985">(</span><span class="ident" id="4334986">u</span>&nbsp;<span class="op" id="4334988">*</span><span class="ident" id="4334989">unit</span><span class="op" id="4334993">)</span>&nbsp;<span class="ident" id="4334995">addrsize</span><span class="op" id="4335003">(</span><span class="op" id="4335004">)</span>&nbsp;<span class="builtintype" id="4335006">int</span>&nbsp;<span class="op" id="4335010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335013">return</span>&nbsp;<span class="ident" id="4335020">u</span><span class="op" id="4335021">.</span><span class="ident" id="4335022">asize</span><br>
<span class="lineno"></span><span class="op" id="4335028">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="4335031">func</span>&nbsp;<span class="op" id="4335036">(</span><span class="ident" id="4335037">d</span>&nbsp;<span class="op" id="4335039">*</span><span class="ident" id="4335040">Data</span><span class="op" id="4335044">)</span>&nbsp;<span class="ident" id="4335046">parseUnits</span><span class="op" id="4335056">(</span><span class="op" id="4335057">)</span>&nbsp;<span class="op" id="4335059">(</span><span class="op" id="4335060">[</span><span class="op" id="4335061">]</span><span class="ident" id="4335062">unit</span><span class="op" id="4335066">,</span>&nbsp;<span class="builtintype" id="4335068">error</span><span class="op" id="4335073">)</span>&nbsp;<span class="op" id="4335075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4335078">//&nbsp;Count&nbsp;units.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335095">nunit</span>&nbsp;<span class="op" id="4335101">:=</span>&nbsp;<span class="num" id="4335104">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335107">b</span>&nbsp;<span class="op" id="4335109">:=</span>&nbsp;<span class="ident" id="4335112">makeBuf</span><span class="op" id="4335119">(</span><span class="ident" id="4335120">d</span><span class="op" id="4335121">,</span>&nbsp;<span class="ident" id="4335123">unknownFormat</span><span class="op" id="4335136">{</span><span class="op" id="4335137">}</span><span class="op" id="4335138">,</span>&nbsp;<span class="string" id="4335140">&#34;info&#34;</span><span class="op" id="4335146">,</span>&nbsp;<span class="num" id="4335148">0</span><span class="op" id="4335149">,</span>&nbsp;<span class="ident" id="4335151">d</span><span class="op" id="4335152">.</span><span class="ident" id="4335153">info</span><span class="op" id="4335157">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335160">for</span>&nbsp;<span class="builtinfunc" id="4335164">len</span><span class="op" id="4335167">(</span><span class="ident" id="4335168">b</span><span class="op" id="4335169">.</span><span class="ident" id="4335170">data</span><span class="op" id="4335174">)</span>&nbsp;<span class="op" id="4335176">&gt;</span>&nbsp;<span class="num" id="4335178">0</span>&nbsp;<span class="op" id="4335180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4335184">len</span>&nbsp;<span class="op" id="4335188">:=</span>&nbsp;<span class="ident" id="4335191">b</span><span class="op" id="4335192">.</span><span class="builtintype" id="4335193">uint32</span><span class="op" id="4335199">(</span><span class="op" id="4335200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335204">if</span>&nbsp;<span class="builtinfunc" id="4335207">len</span>&nbsp;<span class="op" id="4335211">==</span>&nbsp;<span class="num" id="4335214">0xffffffff</span>&nbsp;<span class="op" id="4335225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335230">len64</span>&nbsp;<span class="op" id="4335236">:=</span>&nbsp;<span class="ident" id="4335239">b</span><span class="op" id="4335240">.</span><span class="ident" id="4335241">uint64</span><span class="op" id="4335247">(</span><span class="op" id="4335248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335253">if</span>&nbsp;<span class="ident" id="4335256">len64</span>&nbsp;<span class="op" id="4335262">!=</span>&nbsp;<span class="ident" id="4335265">uint64</span><span class="op" id="4335271">(</span><span class="builtintype" id="4335272">uint32</span><span class="op" id="4335278">(</span><span class="ident" id="4335279">len64</span><span class="op" id="4335284">)</span><span class="op" id="4335285">)</span>&nbsp;<span class="op" id="4335287">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335293">b</span><span class="op" id="4335294">.</span><span class="builtintype" id="4335295">error</span><span class="op" id="4335300">(</span><span class="string" id="4335301">&#34;unit&nbsp;length&nbsp;overflow&#34;</span><span class="op" id="4335323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335329">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4335338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4335343">len</span>&nbsp;<span class="op" id="4335347">=</span>&nbsp;<span class="builtintype" id="4335349">uint32</span><span class="op" id="4335355">(</span><span class="ident" id="4335356">len64</span><span class="op" id="4335361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4335365">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335369">b</span><span class="op" id="4335370">.</span><span class="ident" id="4335371">skip</span><span class="op" id="4335375">(</span><span class="builtintype" id="4335376">int</span><span class="op" id="4335379">(</span><span class="builtinfunc" id="4335380">len</span><span class="op" id="4335383">)</span><span class="op" id="4335384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335388">nunit</span><span class="op" id="4335393">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4335397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335400">if</span>&nbsp;<span class="ident" id="4335403">b</span><span class="op" id="4335404">.</span><span class="ident" id="4335405">err</span>&nbsp;<span class="op" id="4335409">!=</span>&nbsp;<span class="ident" id="4335412">nil</span>&nbsp;<span class="op" id="4335416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335420">return</span>&nbsp;<span class="ident" id="4335427">nil</span><span class="op" id="4335430">,</span>&nbsp;<span class="ident" id="4335432">b</span><span class="op" id="4335433">.</span><span class="ident" id="4335434">err</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4335439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4335443">//&nbsp;Again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335483">b</span>&nbsp;<span class="op" id="4335485">=</span>&nbsp;<span class="ident" id="4335487">makeBuf</span><span class="op" id="4335494">(</span><span class="ident" id="4335495">d</span><span class="op" id="4335496">,</span>&nbsp;<span class="ident" id="4335498">unknownFormat</span><span class="op" id="4335511">{</span><span class="op" id="4335512">}</span><span class="op" id="4335513">,</span>&nbsp;<span class="string" id="4335515">&#34;info&#34;</span><span class="op" id="4335521">,</span>&nbsp;<span class="num" id="4335523">0</span><span class="op" id="4335524">,</span>&nbsp;<span class="ident" id="4335526">d</span><span class="op" id="4335527">.</span><span class="ident" id="4335528">info</span><span class="op" id="4335532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335535">units</span>&nbsp;<span class="op" id="4335541">:=</span>&nbsp;<span class="builtinfunc" id="4335544">make</span><span class="op" id="4335548">(</span><span class="op" id="4335549">[</span><span class="op" id="4335550">]</span><span class="ident" id="4335551">unit</span><span class="op" id="4335555">,</span>&nbsp;<span class="ident" id="4335557">nunit</span><span class="op" id="4335562">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335565">for</span>&nbsp;<span class="ident" id="4335569">i</span>&nbsp;<span class="op" id="4335571">:=</span>&nbsp;<span class="keyword" id="4335574">range</span>&nbsp;<span class="ident" id="4335580">units</span>&nbsp;<span class="op" id="4335586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335590">u</span>&nbsp;<span class="op" id="4335592">:=</span>&nbsp;<span class="op" id="4335595">&amp;</span><span class="ident" id="4335596">units</span><span class="op" id="4335601">[</span><span class="ident" id="4335602">i</span><span class="op" id="4335603">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335607">u</span><span class="op" id="4335608">.</span><span class="ident" id="4335609">base</span>&nbsp;<span class="op" id="4335614">=</span>&nbsp;<span class="ident" id="4335616">b</span><span class="op" id="4335617">.</span><span class="ident" id="4335618">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335624">n</span>&nbsp;<span class="op" id="4335626">:=</span>&nbsp;<span class="ident" id="4335629">b</span><span class="op" id="4335630">.</span><span class="builtintype" id="4335631">uint32</span><span class="op" id="4335637">(</span><span class="op" id="4335638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335642">if</span>&nbsp;<span class="ident" id="4335645">n</span>&nbsp;<span class="op" id="4335647">==</span>&nbsp;<span class="num" id="4335650">0xffffffff</span>&nbsp;<span class="op" id="4335661">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335666">u</span><span class="op" id="4335667">.</span><span class="ident" id="4335668">is64</span>&nbsp;<span class="op" id="4335673">=</span>&nbsp;<span class="builtintype" id="4335675">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335683">n</span>&nbsp;<span class="op" id="4335685">=</span>&nbsp;<span class="builtintype" id="4335687">uint32</span><span class="op" id="4335693">(</span><span class="ident" id="4335694">b</span><span class="op" id="4335695">.</span><span class="ident" id="4335696">uint64</span><span class="op" id="4335702">(</span><span class="op" id="4335703">)</span><span class="op" id="4335704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4335708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335712">vers</span>&nbsp;<span class="op" id="4335717">:=</span>&nbsp;<span class="ident" id="4335720">b</span><span class="op" id="4335721">.</span><span class="builtintype" id="4335722">uint16</span><span class="op" id="4335728">(</span><span class="op" id="4335729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335733">if</span>&nbsp;<span class="ident" id="4335736">vers</span>&nbsp;<span class="op" id="4335741">!=</span>&nbsp;<span class="num" id="4335744">2</span>&nbsp;<span class="op" id="4335746">&amp;&amp;</span>&nbsp;<span class="ident" id="4335749">vers</span>&nbsp;<span class="op" id="4335754">!=</span>&nbsp;<span class="num" id="4335757">3</span>&nbsp;<span class="op" id="4335759">&amp;&amp;</span>&nbsp;<span class="ident" id="4335762">vers</span>&nbsp;<span class="op" id="4335767">!=</span>&nbsp;<span class="num" id="4335770">4</span>&nbsp;<span class="op" id="4335772">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335777">b</span><span class="op" id="4335778">.</span><span class="builtintype" id="4335779">error</span><span class="op" id="4335784">(</span><span class="string" id="4335785">&#34;unsupported&nbsp;DWARF&nbsp;version&nbsp;&#34;</span>&nbsp;<span class="op" id="4335814">+</span>&nbsp;<span class="ident" id="4335816">strconv</span><span class="op" id="4335823">.</span><span class="ident" id="4335824">Itoa</span><span class="op" id="4335828">(</span><span class="builtintype" id="4335829">int</span><span class="op" id="4335832">(</span><span class="ident" id="4335833">vers</span><span class="op" id="4335837">)</span><span class="op" id="4335838">)</span><span class="op" id="4335839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335844">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4335852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335856">u</span><span class="op" id="4335857">.</span><span class="ident" id="4335858">vers</span>&nbsp;<span class="op" id="4335863">=</span>&nbsp;<span class="builtintype" id="4335865">int</span><span class="op" id="4335868">(</span><span class="ident" id="4335869">vers</span><span class="op" id="4335873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335877">atable</span><span class="op" id="4335883">,</span>&nbsp;<span class="ident" id="4335885">err</span>&nbsp;<span class="op" id="4335889">:=</span>&nbsp;<span class="ident" id="4335892">d</span><span class="op" id="4335893">.</span><span class="ident" id="4335894">parseAbbrev</span><span class="op" id="4335905">(</span><span class="ident" id="4335906">b</span><span class="op" id="4335907">.</span><span class="builtintype" id="4335908">uint32</span><span class="op" id="4335914">(</span><span class="op" id="4335915">)</span><span class="op" id="4335916">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335920">if</span>&nbsp;<span class="ident" id="4335923">err</span>&nbsp;<span class="op" id="4335927">!=</span>&nbsp;<span class="ident" id="4335930">nil</span>&nbsp;<span class="op" id="4335934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335939">if</span>&nbsp;<span class="ident" id="4335942">b</span><span class="op" id="4335943">.</span><span class="ident" id="4335944">err</span>&nbsp;<span class="op" id="4335948">==</span>&nbsp;<span class="ident" id="4335951">nil</span>&nbsp;<span class="op" id="4335955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335961">b</span><span class="op" id="4335962">.</span><span class="ident" id="4335963">err</span>&nbsp;<span class="op" id="4335967">=</span>&nbsp;<span class="ident" id="4335969">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4335976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4335981">break</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4335989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4335993">u</span><span class="op" id="4335994">.</span><span class="ident" id="4335995">atable</span>&nbsp;<span class="op" id="4336002">=</span>&nbsp;<span class="ident" id="4336004">atable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4336013">u</span><span class="op" id="4336014">.</span><span class="ident" id="4336015">asize</span>&nbsp;<span class="op" id="4336021">=</span>&nbsp;<span class="builtintype" id="4336023">int</span><span class="op" id="4336026">(</span><span class="ident" id="4336027">b</span><span class="op" id="4336028">.</span><span class="builtintype" id="4336029">uint8</span><span class="op" id="4336034">(</span><span class="op" id="4336035">)</span><span class="op" id="4336036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4336040">u</span><span class="op" id="4336041">.</span><span class="ident" id="4336042">off</span>&nbsp;<span class="op" id="4336046">=</span>&nbsp;<span class="ident" id="4336048">b</span><span class="op" id="4336049">.</span><span class="ident" id="4336050">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4336056">u</span><span class="op" id="4336057">.</span><span class="ident" id="4336058">data</span>&nbsp;<span class="op" id="4336063">=</span>&nbsp;<span class="ident" id="4336065">b</span><span class="op" id="4336066">.</span><span class="ident" id="4336067">bytes</span><span class="op" id="4336072">(</span><span class="builtintype" id="4336073">int</span><span class="op" id="4336076">(</span><span class="ident" id="4336077">n</span>&nbsp;<span class="op" id="4336079">-</span>&nbsp;<span class="op" id="4336081">(</span><span class="num" id="4336082">2</span>&nbsp;<span class="op" id="4336084">+</span>&nbsp;<span class="num" id="4336086">4</span>&nbsp;<span class="op" id="4336088">+</span>&nbsp;<span class="num" id="4336090">1</span><span class="op" id="4336091">)</span><span class="op" id="4336092">)</span><span class="op" id="4336093">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4336096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4336099">if</span>&nbsp;<span class="ident" id="4336102">b</span><span class="op" id="4336103">.</span><span class="ident" id="4336104">err</span>&nbsp;<span class="op" id="4336108">!=</span>&nbsp;<span class="ident" id="4336111">nil</span>&nbsp;<span class="op" id="4336115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4336119">return</span>&nbsp;<span class="ident" id="4336126">nil</span><span class="op" id="4336129">,</span>&nbsp;<span class="ident" id="4336131">b</span><span class="op" id="4336132">.</span><span class="ident" id="4336133">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4336138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4336141">return</span>&nbsp;<span class="ident" id="4336148">units</span><span class="op" id="4336153">,</span>&nbsp;<span class="ident" id="4336155">nil</span><br>
<span class="lineno">90</span><span class="op" id="4336159">}</span>
</div>
</body>
</html>
