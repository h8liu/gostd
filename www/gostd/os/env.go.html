<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html" class="current">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2427347">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2427403">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2427457">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2427508">//&nbsp;General&nbsp;environment&nbsp;variables.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2427543">package</span>&nbsp;<span class="ident" id="2427551">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2427555">import</span>&nbsp;<span class="string" id="2427562">&#34;syscall&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="2427573">//&nbsp;Expand&nbsp;replaces&nbsp;${var}&nbsp;or&nbsp;$var&nbsp;in&nbsp;the&nbsp;string&nbsp;based&nbsp;on&nbsp;the&nbsp;mapping&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="2427652">//&nbsp;For&nbsp;example,&nbsp;os.ExpandEnv(s)&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;os.Expand(s,&nbsp;os.Getenv).</span><br>
<span class="lineno"></span><span class="keyword" id="2427726">func</span>&nbsp;<span class="ident" id="2427731">Expand</span><span class="op" id="2427737">(</span><span class="ident" id="2427738">s</span>&nbsp;<span class="builtintype" id="2427740">string</span><span class="op" id="2427746">,</span>&nbsp;<span class="ident" id="2427748">mapping</span>&nbsp;<span class="keyword" id="2427756">func</span><span class="op" id="2427760">(</span><span class="builtintype" id="2427761">string</span><span class="op" id="2427767">)</span>&nbsp;<span class="builtintype" id="2427769">string</span><span class="op" id="2427775">)</span>&nbsp;<span class="builtintype" id="2427777">string</span>&nbsp;<span class="op" id="2427784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427787">buf</span>&nbsp;<span class="op" id="2427791">:=</span>&nbsp;<span class="builtinfunc" id="2427794">make</span><span class="op" id="2427798">(</span><span class="op" id="2427799">[</span><span class="op" id="2427800">]</span><span class="builtintype" id="2427801">byte</span><span class="op" id="2427805">,</span>&nbsp;<span class="num" id="2427807">0</span><span class="op" id="2427808">,</span>&nbsp;<span class="num" id="2427810">2</span><span class="op" id="2427811">*</span><span class="builtinfunc" id="2427812">len</span><span class="op" id="2427815">(</span><span class="ident" id="2427816"><a href="/gostd/os/env.go.html#2427738">s</a></span><span class="op" id="2427817">)</span><span class="op" id="2427818">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2427821">//&nbsp;${}&nbsp;is&nbsp;all&nbsp;ASCII,&nbsp;so&nbsp;bytes&nbsp;are&nbsp;fine&nbsp;for&nbsp;this&nbsp;operation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427881">i</span>&nbsp;<span class="op" id="2427883">:=</span>&nbsp;<span class="num" id="2427886">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427889">for</span>&nbsp;<span class="ident" id="2427893">j</span>&nbsp;<span class="op" id="2427895">:=</span>&nbsp;<span class="num" id="2427898">0</span><span class="op" id="2427899">;</span>&nbsp;<span class="ident" id="2427901"><a href="/gostd/os/env.go.html#2427893">j</a></span>&nbsp;<span class="op" id="2427903">&lt;</span>&nbsp;<span class="builtinfunc" id="2427905">len</span><span class="op" id="2427908">(</span><span class="ident" id="2427909"><a href="/gostd/os/env.go.html#2427738">s</a></span><span class="op" id="2427910">)</span><span class="op" id="2427911">;</span>&nbsp;<span class="ident" id="2427913"><a href="/gostd/os/env.go.html#2427893">j</a></span><span class="op" id="2427914">++</span>&nbsp;<span class="op" id="2427917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2427921">if</span>&nbsp;<span class="ident" id="2427924"><a href="/gostd/os/env.go.html#2427738">s</a></span><span class="op" id="2427925">[</span><span class="ident" id="2427926"><a href="/gostd/os/env.go.html#2427893">j</a></span><span class="op" id="2427927">]</span>&nbsp;<span class="op" id="2427929">==</span>&nbsp;<span class="string" id="2427932">&#39;$&#39;</span>&nbsp;<span class="op" id="2427936">&amp;&amp;</span>&nbsp;<span class="ident" id="2427939"><a href="/gostd/os/env.go.html#2427893">j</a></span><span class="op" id="2427940">+</span><span class="num" id="2427941">1</span>&nbsp;<span class="op" id="2427943">&lt;</span>&nbsp;<span class="builtinfunc" id="2427945">len</span><span class="op" id="2427948">(</span><span class="ident" id="2427949"><a href="/gostd/os/env.go.html#2427738">s</a></span><span class="op" id="2427950">)</span>&nbsp;<span class="op" id="2427952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427957"><a href="/gostd/os/env.go.html#2427787">buf</a></span>&nbsp;<span class="op" id="2427961">=</span>&nbsp;<span class="builtinfunc" id="2427963">append</span><span class="op" id="2427969">(</span><span class="ident" id="2427970"><a href="/gostd/os/env.go.html#2427787">buf</a></span><span class="op" id="2427973">,</span>&nbsp;<span class="ident" id="2427975"><a href="/gostd/os/env.go.html#2427738">s</a></span><span class="op" id="2427976">[</span><span class="ident" id="2427977"><a href="/gostd/os/env.go.html#2427881">i</a></span><span class="op" id="2427978">:</span><span class="ident" id="2427979"><a href="/gostd/os/env.go.html#2427893">j</a></span><span class="op" id="2427980">]</span><span class="op" id="2427981">...</span><span class="op" id="2427984">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2427989">name</span><span class="op" id="2427993">,</span>&nbsp;<span class="ident" id="2427995">w</span>&nbsp;<span class="op" id="2427997">:=</span>&nbsp;<span class="ident" id="2428000"><a href="/gostd/os/env.go.html#2429081">getShellName</a></span><span class="op" id="2428012">(</span><span class="ident" id="2428013"><a href="/gostd/os/env.go.html#2427738">s</a></span><span class="op" id="2428014">[</span><span class="ident" id="2428015"><a href="/gostd/os/env.go.html#2427893">j</a></span><span class="op" id="2428016">+</span><span class="num" id="2428017">1</span><span class="op" id="2428018">:</span><span class="op" id="2428019">]</span><span class="op" id="2428020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428025"><a href="/gostd/os/env.go.html#2427787">buf</a></span>&nbsp;<span class="op" id="2428029">=</span>&nbsp;<span class="builtinfunc" id="2428031">append</span><span class="op" id="2428037">(</span><span class="ident" id="2428038"><a href="/gostd/os/env.go.html#2427787">buf</a></span><span class="op" id="2428041">,</span>&nbsp;<span class="ident" id="2428043"><a href="/gostd/os/env.go.html#2427748">mapping</a></span><span class="op" id="2428050">(</span><span class="ident" id="2428051"><a href="/gostd/os/env.go.html#2427989">name</a></span><span class="op" id="2428055">)</span><span class="op" id="2428056">...</span><span class="op" id="2428059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428064"><a href="/gostd/os/env.go.html#2427893">j</a></span>&nbsp;<span class="op" id="2428066">+=</span>&nbsp;<span class="ident" id="2428069"><a href="/gostd/os/env.go.html#2427995">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2428074"><a href="/gostd/os/env.go.html#2427881">i</a></span>&nbsp;<span class="op" id="2428076">=</span>&nbsp;<span class="ident" id="2428078"><a href="/gostd/os/env.go.html#2427893">j</a></span>&nbsp;<span class="op" id="2428080">+</span>&nbsp;<span class="num" id="2428082">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2428086">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2428089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428092">return</span>&nbsp;<span class="builtintype" id="2428099">string</span><span class="op" id="2428105">(</span><span class="ident" id="2428106"><a href="/gostd/os/env.go.html#2427787">buf</a></span><span class="op" id="2428109">)</span>&nbsp;<span class="op" id="2428111">+</span>&nbsp;<span class="ident" id="2428113"><a href="/gostd/os/env.go.html#2427738">s</a></span><span class="op" id="2428114">[</span><span class="ident" id="2428115"><a href="/gostd/os/env.go.html#2427881">i</a></span><span class="op" id="2428116">:</span><span class="op" id="2428117">]</span><br>
<span class="lineno"></span><span class="op" id="2428119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2428122">//&nbsp;ExpandEnv&nbsp;replaces&nbsp;${var}&nbsp;or&nbsp;$var&nbsp;in&nbsp;the&nbsp;string&nbsp;according&nbsp;to&nbsp;the&nbsp;values</span><br>
<span class="lineno">30</span><span class="comment" id="2428197">//&nbsp;of&nbsp;the&nbsp;current&nbsp;environment&nbsp;variables.&nbsp;&nbsp;References&nbsp;to&nbsp;undefined</span><br>
<span class="lineno"></span><span class="comment" id="2428263">//&nbsp;variables&nbsp;are&nbsp;replaced&nbsp;by&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2428310">func</span>&nbsp;<span class="ident" id="2428315">ExpandEnv</span><span class="op" id="2428324">(</span><span class="ident" id="2428325">s</span>&nbsp;<span class="builtintype" id="2428327">string</span><span class="op" id="2428333">)</span>&nbsp;<span class="builtintype" id="2428335">string</span>&nbsp;<span class="op" id="2428342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428345">return</span>&nbsp;<span class="ident" id="2428352"><a href="/gostd/os/env.go.html#2427731">Expand</a></span><span class="op" id="2428358">(</span><span class="ident" id="2428359"><a href="/gostd/os/env.go.html#2428325">s</a></span><span class="op" id="2428360">,</span>&nbsp;<span class="ident" id="2428362"><a href="/gostd/os/env.go.html#2429715">Getenv</a></span><span class="op" id="2428368">)</span><br>
<span class="lineno"></span><span class="op" id="2428370">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2428373">//&nbsp;isSpellSpecialVar&nbsp;reports&nbsp;whether&nbsp;the&nbsp;character&nbsp;identifies&nbsp;a&nbsp;special</span><br>
<span class="lineno"></span><span class="comment" id="2428445">//&nbsp;shell&nbsp;variable&nbsp;such&nbsp;as&nbsp;$*.</span><br>
<span class="lineno"></span><span class="keyword" id="2428475">func</span>&nbsp;<span class="ident" id="2428480">isShellSpecialVar</span><span class="op" id="2428497">(</span><span class="ident" id="2428498">c</span>&nbsp;<span class="builtintype" id="2428500">uint8</span><span class="op" id="2428505">)</span>&nbsp;<span class="builtintype" id="2428507">bool</span>&nbsp;<span class="op" id="2428512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428515">switch</span>&nbsp;<span class="ident" id="2428522"><a href="/gostd/os/env.go.html#2428498">c</a></span>&nbsp;<span class="op" id="2428524">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428527">case</span>&nbsp;<span class="string" id="2428532">&#39;*&#39;</span><span class="op" id="2428535">,</span>&nbsp;<span class="string" id="2428537">&#39;#&#39;</span><span class="op" id="2428540">,</span>&nbsp;<span class="string" id="2428542">&#39;$&#39;</span><span class="op" id="2428545">,</span>&nbsp;<span class="string" id="2428547">&#39;@&#39;</span><span class="op" id="2428550">,</span>&nbsp;<span class="string" id="2428552">&#39;!&#39;</span><span class="op" id="2428555">,</span>&nbsp;<span class="string" id="2428557">&#39;?&#39;</span><span class="op" id="2428560">,</span>&nbsp;<span class="string" id="2428562">&#39;0&#39;</span><span class="op" id="2428565">,</span>&nbsp;<span class="string" id="2428567">&#39;1&#39;</span><span class="op" id="2428570">,</span>&nbsp;<span class="string" id="2428572">&#39;2&#39;</span><span class="op" id="2428575">,</span>&nbsp;<span class="string" id="2428577">&#39;3&#39;</span><span class="op" id="2428580">,</span>&nbsp;<span class="string" id="2428582">&#39;4&#39;</span><span class="op" id="2428585">,</span>&nbsp;<span class="string" id="2428587">&#39;5&#39;</span><span class="op" id="2428590">,</span>&nbsp;<span class="string" id="2428592">&#39;6&#39;</span><span class="op" id="2428595">,</span>&nbsp;<span class="string" id="2428597">&#39;7&#39;</span><span class="op" id="2428600">,</span>&nbsp;<span class="string" id="2428602">&#39;8&#39;</span><span class="op" id="2428605">,</span>&nbsp;<span class="string" id="2428607">&#39;9&#39;</span><span class="op" id="2428610">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428614">return</span>&nbsp;<span class="builtintype" id="2428621">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2428627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428630">return</span>&nbsp;<span class="builtintype" id="2428637">false</span><br>
<span class="lineno"></span><span class="op" id="2428643">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="2428646">//&nbsp;isAlphaNum&nbsp;reports&nbsp;whether&nbsp;the&nbsp;byte&nbsp;is&nbsp;an&nbsp;ASCII&nbsp;letter,&nbsp;number,&nbsp;or&nbsp;underscore</span><br>
<span class="lineno"></span><span class="keyword" id="2428727">func</span>&nbsp;<span class="ident" id="2428732">isAlphaNum</span><span class="op" id="2428742">(</span><span class="ident" id="2428743">c</span>&nbsp;<span class="builtintype" id="2428745">uint8</span><span class="op" id="2428750">)</span>&nbsp;<span class="builtintype" id="2428752">bool</span>&nbsp;<span class="op" id="2428757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2428760">return</span>&nbsp;<span class="ident" id="2428767"><a href="/gostd/os/env.go.html#2428743">c</a></span>&nbsp;<span class="op" id="2428769">==</span>&nbsp;<span class="string" id="2428772">&#39;_&#39;</span>&nbsp;<span class="op" id="2428776">||</span>&nbsp;<span class="string" id="2428779">&#39;0&#39;</span>&nbsp;<span class="op" id="2428783">&lt;=</span>&nbsp;<span class="ident" id="2428786"><a href="/gostd/os/env.go.html#2428743">c</a></span>&nbsp;<span class="op" id="2428788">&amp;&amp;</span>&nbsp;<span class="ident" id="2428791"><a href="/gostd/os/env.go.html#2428743">c</a></span>&nbsp;<span class="op" id="2428793">&lt;=</span>&nbsp;<span class="string" id="2428796">&#39;9&#39;</span>&nbsp;<span class="op" id="2428800">||</span>&nbsp;<span class="string" id="2428803">&#39;a&#39;</span>&nbsp;<span class="op" id="2428807">&lt;=</span>&nbsp;<span class="ident" id="2428810"><a href="/gostd/os/env.go.html#2428743">c</a></span>&nbsp;<span class="op" id="2428812">&amp;&amp;</span>&nbsp;<span class="ident" id="2428815"><a href="/gostd/os/env.go.html#2428743">c</a></span>&nbsp;<span class="op" id="2428817">&lt;=</span>&nbsp;<span class="string" id="2428820">&#39;z&#39;</span>&nbsp;<span class="op" id="2428824">||</span>&nbsp;<span class="string" id="2428827">&#39;A&#39;</span>&nbsp;<span class="op" id="2428831">&lt;=</span>&nbsp;<span class="ident" id="2428834"><a href="/gostd/os/env.go.html#2428743">c</a></span>&nbsp;<span class="op" id="2428836">&amp;&amp;</span>&nbsp;<span class="ident" id="2428839"><a href="/gostd/os/env.go.html#2428743">c</a></span>&nbsp;<span class="op" id="2428841">&lt;=</span>&nbsp;<span class="string" id="2428844">&#39;Z&#39;</span><br>
<span class="lineno"></span><span class="op" id="2428848">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2428851">//&nbsp;getName&nbsp;returns&nbsp;the&nbsp;name&nbsp;that&nbsp;begins&nbsp;the&nbsp;string&nbsp;and&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno"></span><span class="comment" id="2428926">//&nbsp;consumed&nbsp;to&nbsp;extract&nbsp;it.&nbsp;&nbsp;If&nbsp;the&nbsp;name&nbsp;is&nbsp;enclosed&nbsp;in&nbsp;{},&nbsp;it&#39;s&nbsp;part&nbsp;of&nbsp;a&nbsp;${}</span><br>
<span class="lineno"></span><span class="comment" id="2429004">//&nbsp;expansion&nbsp;and&nbsp;two&nbsp;more&nbsp;bytes&nbsp;are&nbsp;needed&nbsp;than&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="2429076">func</span>&nbsp;<span class="ident" id="2429081">getShellName</span><span class="op" id="2429093">(</span><span class="ident" id="2429094">s</span>&nbsp;<span class="builtintype" id="2429096">string</span><span class="op" id="2429102">)</span>&nbsp;<span class="op" id="2429104">(</span><span class="builtintype" id="2429105">string</span><span class="op" id="2429111">,</span>&nbsp;<span class="builtintype" id="2429113">int</span><span class="op" id="2429116">)</span>&nbsp;<span class="op" id="2429118">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429121">switch</span>&nbsp;<span class="op" id="2429128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429131">case</span>&nbsp;<span class="ident" id="2429136"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429137">[</span><span class="num" id="2429138">0</span><span class="op" id="2429139">]</span>&nbsp;<span class="op" id="2429141">==</span>&nbsp;<span class="string" id="2429144">&#39;{&#39;</span><span class="op" id="2429147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429151">if</span>&nbsp;<span class="builtinfunc" id="2429154">len</span><span class="op" id="2429157">(</span><span class="ident" id="2429158"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429159">)</span>&nbsp;<span class="op" id="2429161">&gt;</span>&nbsp;<span class="num" id="2429163">2</span>&nbsp;<span class="op" id="2429165">&amp;&amp;</span>&nbsp;<span class="ident" id="2429168"><a href="/gostd/os/env.go.html#2428480">isShellSpecialVar</a></span><span class="op" id="2429185">(</span><span class="ident" id="2429186"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429187">[</span><span class="num" id="2429188">1</span><span class="op" id="2429189">]</span><span class="op" id="2429190">)</span>&nbsp;<span class="op" id="2429192">&amp;&amp;</span>&nbsp;<span class="ident" id="2429195"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429196">[</span><span class="num" id="2429197">2</span><span class="op" id="2429198">]</span>&nbsp;<span class="op" id="2429200">==</span>&nbsp;<span class="string" id="2429203">&#39;}&#39;</span>&nbsp;<span class="op" id="2429207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429212">return</span>&nbsp;<span class="ident" id="2429219"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429220">[</span><span class="num" id="2429221">1</span><span class="op" id="2429222">:</span><span class="num" id="2429223">2</span><span class="op" id="2429224">]</span><span class="op" id="2429225">,</span>&nbsp;<span class="num" id="2429227">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429231">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2429235">//&nbsp;Scan&nbsp;to&nbsp;closing&nbsp;brace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429262">for</span>&nbsp;<span class="ident" id="2429266">i</span>&nbsp;<span class="op" id="2429268">:=</span>&nbsp;<span class="num" id="2429271">1</span><span class="op" id="2429272">;</span>&nbsp;<span class="ident" id="2429274"><a href="/gostd/os/env.go.html#2429266">i</a></span>&nbsp;<span class="op" id="2429276">&lt;</span>&nbsp;<span class="builtinfunc" id="2429278">len</span><span class="op" id="2429281">(</span><span class="ident" id="2429282"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429283">)</span><span class="op" id="2429284">;</span>&nbsp;<span class="ident" id="2429286"><a href="/gostd/os/env.go.html#2429266">i</a></span><span class="op" id="2429287">++</span>&nbsp;<span class="op" id="2429290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429295">if</span>&nbsp;<span class="ident" id="2429298"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429299">[</span><span class="ident" id="2429300"><a href="/gostd/os/env.go.html#2429266">i</a></span><span class="op" id="2429301">]</span>&nbsp;<span class="op" id="2429303">==</span>&nbsp;<span class="string" id="2429306">&#39;}&#39;</span>&nbsp;<span class="op" id="2429310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429316">return</span>&nbsp;<span class="ident" id="2429323"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429324">[</span><span class="num" id="2429325">1</span><span class="op" id="2429326">:</span><span class="ident" id="2429327"><a href="/gostd/os/env.go.html#2429266">i</a></span><span class="op" id="2429328">]</span><span class="op" id="2429329">,</span>&nbsp;<span class="ident" id="2429331"><a href="/gostd/os/env.go.html#2429266">i</a></span>&nbsp;<span class="op" id="2429333">+</span>&nbsp;<span class="num" id="2429335">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429340">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429348">return</span>&nbsp;<span class="string" id="2429355">&#34;&#34;</span><span class="op" id="2429357">,</span>&nbsp;<span class="num" id="2429359">1</span>&nbsp;<span class="comment" id="2429361">//&nbsp;Bad&nbsp;syntax;&nbsp;just&nbsp;eat&nbsp;the&nbsp;brace.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429397">case</span>&nbsp;<span class="ident" id="2429402"><a href="/gostd/os/env.go.html#2428480">isShellSpecialVar</a></span><span class="op" id="2429419">(</span><span class="ident" id="2429420"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429421">[</span><span class="num" id="2429422">0</span><span class="op" id="2429423">]</span><span class="op" id="2429424">)</span><span class="op" id="2429425">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429429">return</span>&nbsp;<span class="ident" id="2429436"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429437">[</span><span class="num" id="2429438">0</span><span class="op" id="2429439">:</span><span class="num" id="2429440">1</span><span class="op" id="2429441">]</span><span class="op" id="2429442">,</span>&nbsp;<span class="num" id="2429444">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429447">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2429450">//&nbsp;Scan&nbsp;alphanumerics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429474">var</span>&nbsp;<span class="ident" id="2429478">i</span>&nbsp;<span class="builtintype" id="2429480">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429485">for</span>&nbsp;<span class="ident" id="2429489"><a href="/gostd/os/env.go.html#2429478">i</a></span>&nbsp;<span class="op" id="2429491">=</span>&nbsp;<span class="num" id="2429493">0</span><span class="op" id="2429494">;</span>&nbsp;<span class="ident" id="2429496"><a href="/gostd/os/env.go.html#2429478">i</a></span>&nbsp;<span class="op" id="2429498">&lt;</span>&nbsp;<span class="builtinfunc" id="2429500">len</span><span class="op" id="2429503">(</span><span class="ident" id="2429504"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429505">)</span>&nbsp;<span class="op" id="2429507">&amp;&amp;</span>&nbsp;<span class="ident" id="2429510"><a href="/gostd/os/env.go.html#2428732">isAlphaNum</a></span><span class="op" id="2429520">(</span><span class="ident" id="2429521"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429522">[</span><span class="ident" id="2429523"><a href="/gostd/os/env.go.html#2429478">i</a></span><span class="op" id="2429524">]</span><span class="op" id="2429525">)</span><span class="op" id="2429526">;</span>&nbsp;<span class="ident" id="2429528"><a href="/gostd/os/env.go.html#2429478">i</a></span><span class="op" id="2429529">++</span>&nbsp;<span class="op" id="2429532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2429535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429538">return</span>&nbsp;<span class="ident" id="2429545"><a href="/gostd/os/env.go.html#2429094">s</a></span><span class="op" id="2429546">[</span><span class="op" id="2429547">:</span><span class="ident" id="2429548"><a href="/gostd/os/env.go.html#2429478">i</a></span><span class="op" id="2429549">]</span><span class="op" id="2429550">,</span>&nbsp;<span class="ident" id="2429552"><a href="/gostd/os/env.go.html#2429478">i</a></span><br>
<span class="lineno">75</span><span class="op" id="2429554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2429557">//&nbsp;Getenv&nbsp;retrieves&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;environment&nbsp;variable&nbsp;named&nbsp;by&nbsp;the&nbsp;key.</span><br>
<span class="lineno"></span><span class="comment" id="2429633">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;value,&nbsp;which&nbsp;will&nbsp;be&nbsp;empty&nbsp;if&nbsp;the&nbsp;variable&nbsp;is&nbsp;not&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2429710">func</span>&nbsp;<span class="ident" id="2429715">Getenv</span><span class="op" id="2429721">(</span><span class="ident" id="2429722">key</span>&nbsp;<span class="builtintype" id="2429726">string</span><span class="op" id="2429732">)</span>&nbsp;<span class="builtintype" id="2429734">string</span>&nbsp;<span class="op" id="2429741">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429744">v</span><span class="op" id="2429745">,</span>&nbsp;<span class="ident" id="2429747">_</span>&nbsp;<span class="op" id="2429749">:=</span>&nbsp;<span class="ident" id="2429752"><a href="/gostd/os/env.go.html#2427562">syscall</a></span><span class="op" id="2429759">.</span><span class="ident" id="2429760"><a href="/gostd/syscall/env_unix.go.html#2478357">Getenv</a></span><span class="op" id="2429766">(</span><span class="ident" id="2429767"><a href="/gostd/os/env.go.html#2429722">key</a></span><span class="op" id="2429770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429773">return</span>&nbsp;<span class="ident" id="2429780"><a href="/gostd/os/env.go.html#2429744">v</a></span><br>
<span class="lineno"></span><span class="op" id="2429782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2429785">//&nbsp;Setenv&nbsp;sets&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;environment&nbsp;variable&nbsp;named&nbsp;by&nbsp;the&nbsp;key.</span><br>
<span class="lineno">85</span><span class="comment" id="2429856">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="keyword" id="2429888">func</span>&nbsp;<span class="ident" id="2429893">Setenv</span><span class="op" id="2429899">(</span><span class="ident" id="2429900">key</span><span class="op" id="2429903">,</span>&nbsp;<span class="ident" id="2429905">value</span>&nbsp;<span class="builtintype" id="2429911">string</span><span class="op" id="2429917">)</span>&nbsp;<span class="builtintype" id="2429919">error</span>&nbsp;<span class="op" id="2429925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2429928">err</span>&nbsp;<span class="op" id="2429932">:=</span>&nbsp;<span class="ident" id="2429935"><a href="/gostd/os/env.go.html#2427562">syscall</a></span><span class="op" id="2429942">.</span><span class="ident" id="2429943"><a href="/gostd/syscall/env_unix.go.html#2478684">Setenv</a></span><span class="op" id="2429949">(</span><span class="ident" id="2429950"><a href="/gostd/os/env.go.html#2429900">key</a></span><span class="op" id="2429953">,</span>&nbsp;<span class="ident" id="2429955"><a href="/gostd/os/env.go.html#2429905">value</a></span><span class="op" id="2429960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429963">if</span>&nbsp;<span class="ident" id="2429966"><a href="/gostd/os/env.go.html#2429928">err</a></span>&nbsp;<span class="op" id="2429970">!=</span>&nbsp;<span class="builtintype" id="2429973">nil</span>&nbsp;<span class="op" id="2429977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2429981">return</span>&nbsp;<span class="ident" id="2429988"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="2430003">(</span><span class="string" id="2430004">&#34;setenv&#34;</span><span class="op" id="2430012">,</span>&nbsp;<span class="ident" id="2430014"><a href="/gostd/os/env.go.html#2429928">err</a></span><span class="op" id="2430017">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430023">return</span>&nbsp;<span class="builtintype" id="2430030">nil</span><br>
<span class="lineno"></span><span class="op" id="2430034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2430037">//&nbsp;Unsetenv&nbsp;unsets&nbsp;a&nbsp;single&nbsp;environment&nbsp;variable.</span><br>
<span class="lineno">95</span><span class="keyword" id="2430087">func</span>&nbsp;<span class="ident" id="2430092">Unsetenv</span><span class="op" id="2430100">(</span><span class="ident" id="2430101">key</span>&nbsp;<span class="builtintype" id="2430105">string</span><span class="op" id="2430111">)</span>&nbsp;<span class="builtintype" id="2430113">error</span>&nbsp;<span class="op" id="2430119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430122">return</span>&nbsp;<span class="ident" id="2430129"><a href="/gostd/os/env.go.html#2427562">syscall</a></span><span class="op" id="2430136">.</span><span class="ident" id="2430137"><a href="/gostd/syscall/env_unix.go.html#2478163">Unsetenv</a></span><span class="op" id="2430145">(</span><span class="ident" id="2430146"><a href="/gostd/os/env.go.html#2430101">key</a></span><span class="op" id="2430149">)</span><br>
<span class="lineno"></span><span class="op" id="2430151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2430154">//&nbsp;Clearenv&nbsp;deletes&nbsp;all&nbsp;environment&nbsp;variables.</span><br>
<span class="lineno">100</span><span class="keyword" id="2430201">func</span>&nbsp;<span class="ident" id="2430206">Clearenv</span><span class="op" id="2430214">(</span><span class="op" id="2430215">)</span>&nbsp;<span class="op" id="2430217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2430220"><a href="/gostd/os/env.go.html#2427562">syscall</a></span><span class="op" id="2430227">.</span><span class="ident" id="2430228"><a href="/gostd/syscall/env_unix.go.html#2479172">Clearenv</a></span><span class="op" id="2430236">(</span><span class="op" id="2430237">)</span><br>
<span class="lineno"></span><span class="op" id="2430239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2430242">//&nbsp;Environ&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;strings&nbsp;representing&nbsp;the&nbsp;environment,</span><br>
<span class="lineno">105</span><span class="comment" id="2430309">//&nbsp;in&nbsp;the&nbsp;form&nbsp;&#34;key=value&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="2430337">func</span>&nbsp;<span class="ident" id="2430342">Environ</span><span class="op" id="2430349">(</span><span class="op" id="2430350">)</span>&nbsp;<span class="op" id="2430352">[</span><span class="op" id="2430353">]</span><span class="builtintype" id="2430354">string</span>&nbsp;<span class="op" id="2430361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2430364">return</span>&nbsp;<span class="ident" id="2430371"><a href="/gostd/os/env.go.html#2427562">syscall</a></span><span class="op" id="2430378">.</span><span class="ident" id="2430379"><a href="/gostd/syscall/env_unix.go.html#2479380">Environ</a></span><span class="op" id="2430386">(</span><span class="op" id="2430387">)</span><br>
<span class="lineno"></span><span class="op" id="2430389">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
