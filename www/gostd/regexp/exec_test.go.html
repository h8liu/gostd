<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html" class="current">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7784792">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7784847">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7784901">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7784952">package</span>&nbsp;<span class="ident" id="7784960">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7784968">import</span>&nbsp;<span class="op" id="7784975">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7784978">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7784987">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7785005">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7785012">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7785018">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7785024">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7785041">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7785058">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7785069">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7785080">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7785091">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7785106">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7785109">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="7785171">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="7785239">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="7785305">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="7785369">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7785437">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="7785501">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="7785573">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="7785644">//</span><br>
<span class="lineno">30</span><span class="comment" id="7785647">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="7785702">//</span><br>
<span class="lineno"></span><span class="comment" id="7785705">//&nbsp;&nbsp;&nbsp;&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="7785716">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7785725">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="7785735">//&nbsp;&nbsp;&nbsp;&nbsp;regexps</span><br>
<span class="lineno"></span><span class="comment" id="7785746">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7785758">//&nbsp;&nbsp;&nbsp;&nbsp;0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="7785769">//&nbsp;&nbsp;&nbsp;&nbsp;-;-</span><br>
<span class="lineno"></span><span class="comment" id="7785776">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="7785803">//&nbsp;&nbsp;&nbsp;&nbsp;-;-</span><br>
<span class="lineno"></span><span class="comment" id="7785810">//&nbsp;&nbsp;&nbsp;&nbsp;-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="7785831">//</span><br>
<span class="lineno"></span><span class="comment" id="7785834">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="7785892">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="7785949">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="7786006">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="7786069">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="7786127">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7786170">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="7786236">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="7786294">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="7786351">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="7786411">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7786468">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="7786535">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="7786600">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7786649">//</span><br>
<span class="lineno"></span><span class="comment" id="7786652">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="7786714">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="7786781">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="7786829">//</span><br>
<span class="lineno"></span><span class="comment" id="7786832">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="7786898">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="7786972">//</span><br>
<span class="lineno">65</span><span class="keyword" id="7786975">func</span>&nbsp;<span class="ident" id="7786980">TestRE2Search</span><span class="op" id="7786993">(</span><span class="ident" id="7786994">t</span>&nbsp;<span class="op" id="7786996">*</span><span class="ident" id="7786997">testing</span><span class="op" id="7787004">.</span><span class="ident" id="7787005">T</span><span class="op" id="7787006">)</span>&nbsp;<span class="op" id="7787008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787011">testRE2</span><span class="op" id="7787018">(</span><span class="ident" id="7787019">t</span><span class="op" id="7787020">,</span>&nbsp;<span class="string" id="7787022">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="7787047">)</span><br>
<span class="lineno"></span><span class="op" id="7787049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7787052">func</span>&nbsp;<span class="ident" id="7787057">testRE2</span><span class="op" id="7787064">(</span><span class="ident" id="7787065">t</span>&nbsp;<span class="op" id="7787067">*</span><span class="ident" id="7787068">testing</span><span class="op" id="7787075">.</span><span class="ident" id="7787076">T</span><span class="op" id="7787077">,</span>&nbsp;<span class="ident" id="7787079">file</span>&nbsp;<span class="builtintype" id="7787084">string</span><span class="op" id="7787090">)</span>&nbsp;<span class="op" id="7787092">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787095">f</span><span class="op" id="7787096">,</span>&nbsp;<span class="ident" id="7787098">err</span>&nbsp;<span class="op" id="7787102">:=</span>&nbsp;<span class="ident" id="7787105">os</span><span class="op" id="7787107">.</span><span class="ident" id="7787108">Open</span><span class="op" id="7787112">(</span><span class="ident" id="7787113">file</span><span class="op" id="7787117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787120">if</span>&nbsp;<span class="ident" id="7787123">err</span>&nbsp;<span class="op" id="7787127">!=</span>&nbsp;<span class="builtintype" id="7787130">nil</span>&nbsp;<span class="op" id="7787134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787138">t</span><span class="op" id="7787139">.</span><span class="ident" id="7787140">Fatal</span><span class="op" id="7787145">(</span><span class="ident" id="7787146">err</span><span class="op" id="7787149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7787152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787155">defer</span>&nbsp;<span class="ident" id="7787161">f</span><span class="op" id="7787162">.</span><span class="ident" id="7787163">Close</span><span class="op" id="7787168">(</span><span class="op" id="7787169">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787172">var</span>&nbsp;<span class="ident" id="7787176">txt</span>&nbsp;<span class="ident" id="7787180">io</span><span class="op" id="7787182">.</span><span class="ident" id="7787183">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787191">if</span>&nbsp;<span class="ident" id="7787194">strings</span><span class="op" id="7787201">.</span><span class="ident" id="7787202">HasSuffix</span><span class="op" id="7787211">(</span><span class="ident" id="7787212">file</span><span class="op" id="7787216">,</span>&nbsp;<span class="string" id="7787218">&#34;.bz2&#34;</span><span class="op" id="7787224">)</span>&nbsp;<span class="op" id="7787226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787230">z</span>&nbsp;<span class="op" id="7787232">:=</span>&nbsp;<span class="ident" id="7787235">bzip2</span><span class="op" id="7787240">.</span><span class="ident" id="7787241">NewReader</span><span class="op" id="7787250">(</span><span class="ident" id="7787251">f</span><span class="op" id="7787252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787256">txt</span>&nbsp;<span class="op" id="7787260">=</span>&nbsp;<span class="ident" id="7787262">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787266">file</span>&nbsp;<span class="op" id="7787271">=</span>&nbsp;<span class="ident" id="7787273">file</span><span class="op" id="7787277">[</span><span class="op" id="7787278">:</span><span class="builtinfunc" id="7787279">len</span><span class="op" id="7787282">(</span><span class="ident" id="7787283">file</span><span class="op" id="7787287">)</span><span class="op" id="7787288">-</span><span class="builtinfunc" id="7787289">len</span><span class="op" id="7787292">(</span><span class="string" id="7787293">&#34;.bz2&#34;</span><span class="op" id="7787299">)</span><span class="op" id="7787300">]</span>&nbsp;<span class="comment" id="7787302">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7787325">}</span>&nbsp;<span class="keyword" id="7787327">else</span>&nbsp;<span class="op" id="7787332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787336">txt</span>&nbsp;<span class="op" id="7787340">=</span>&nbsp;<span class="ident" id="7787342">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7787345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787348">lineno</span>&nbsp;<span class="op" id="7787355">:=</span>&nbsp;<span class="num" id="7787358">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787361">scanner</span>&nbsp;<span class="op" id="7787369">:=</span>&nbsp;<span class="ident" id="7787372">bufio</span><span class="op" id="7787377">.</span><span class="ident" id="7787378">NewScanner</span><span class="op" id="7787388">(</span><span class="ident" id="7787389">txt</span><span class="op" id="7787392">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787395">var</span>&nbsp;<span class="op" id="7787399">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787403">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7787413">[</span><span class="op" id="7787414">]</span><span class="builtintype" id="7787415">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787424">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7787434">[</span><span class="op" id="7787435">]</span><span class="builtintype" id="7787436">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787445">inStrings</span>&nbsp;<span class="builtintype" id="7787455">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787462">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7787472">*</span><span class="ident" id="7787473">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787482">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7787492">*</span><span class="ident" id="7787493">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787502">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7787512">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787518">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7787528">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7787533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787536">for</span>&nbsp;<span class="ident" id="7787540">lineno</span>&nbsp;<span class="op" id="7787547">:=</span>&nbsp;<span class="num" id="7787550">1</span><span class="op" id="7787551">;</span>&nbsp;<span class="ident" id="7787553">scanner</span><span class="op" id="7787560">.</span><span class="ident" id="7787561">Scan</span><span class="op" id="7787565">(</span><span class="op" id="7787566">)</span><span class="op" id="7787567">;</span>&nbsp;<span class="ident" id="7787569">lineno</span><span class="op" id="7787575">++</span>&nbsp;<span class="op" id="7787578">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787582">line</span>&nbsp;<span class="op" id="7787587">:=</span>&nbsp;<span class="ident" id="7787590">scanner</span><span class="op" id="7787597">.</span><span class="ident" id="7787598">Text</span><span class="op" id="7787602">(</span><span class="op" id="7787603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787607">switch</span>&nbsp;<span class="op" id="7787614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787618">case</span>&nbsp;<span class="ident" id="7787623">line</span>&nbsp;<span class="op" id="7787628">==</span>&nbsp;<span class="string" id="7787631">&#34;&#34;</span><span class="op" id="7787633">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787638">t</span><span class="op" id="7787639">.</span><span class="ident" id="7787640">Fatalf</span><span class="op" id="7787646">(</span><span class="string" id="7787647">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="7787677">,</span>&nbsp;<span class="ident" id="7787679">file</span><span class="op" id="7787683">,</span>&nbsp;<span class="ident" id="7787685">lineno</span><span class="op" id="7787691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787695">case</span>&nbsp;<span class="ident" id="7787700">line</span><span class="op" id="7787704">[</span><span class="num" id="7787705">0</span><span class="op" id="7787706">]</span>&nbsp;<span class="op" id="7787708">==</span>&nbsp;<span class="string" id="7787711">&#39;#&#39;</span><span class="op" id="7787714">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787719">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787730">case</span>&nbsp;<span class="string" id="7787735">&#39;A&#39;</span>&nbsp;<span class="op" id="7787739">&lt;=</span>&nbsp;<span class="ident" id="7787742">line</span><span class="op" id="7787746">[</span><span class="num" id="7787747">0</span><span class="op" id="7787748">]</span>&nbsp;<span class="op" id="7787750">&amp;&amp;</span>&nbsp;<span class="ident" id="7787753">line</span><span class="op" id="7787757">[</span><span class="num" id="7787758">0</span><span class="op" id="7787759">]</span>&nbsp;<span class="op" id="7787761">&lt;=</span>&nbsp;<span class="string" id="7787764">&#39;Z&#39;</span><span class="op" id="7787767">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7787772">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787789">t</span><span class="op" id="7787790">.</span><span class="ident" id="7787791">Logf</span><span class="op" id="7787795">(</span><span class="string" id="7787796">&#34;%s\n&#34;</span><span class="op" id="7787802">,</span>&nbsp;<span class="ident" id="7787804">line</span><span class="op" id="7787808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787813">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787824">case</span>&nbsp;<span class="ident" id="7787829">line</span>&nbsp;<span class="op" id="7787834">==</span>&nbsp;<span class="string" id="7787837">&#34;strings&#34;</span><span class="op" id="7787846">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787851">str</span>&nbsp;<span class="op" id="7787855">=</span>&nbsp;<span class="ident" id="7787857">str</span><span class="op" id="7787860">[</span><span class="op" id="7787861">:</span><span class="num" id="7787862">0</span><span class="op" id="7787863">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787868">inStrings</span>&nbsp;<span class="op" id="7787878">=</span>&nbsp;<span class="builtintype" id="7787880">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787887">case</span>&nbsp;<span class="ident" id="7787892">line</span>&nbsp;<span class="op" id="7787897">==</span>&nbsp;<span class="string" id="7787900">&#34;regexps&#34;</span><span class="op" id="7787909">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787914">inStrings</span>&nbsp;<span class="op" id="7787924">=</span>&nbsp;<span class="builtintype" id="7787926">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787934">case</span>&nbsp;<span class="ident" id="7787939">line</span><span class="op" id="7787943">[</span><span class="num" id="7787944">0</span><span class="op" id="7787945">]</span>&nbsp;<span class="op" id="7787947">==</span>&nbsp;<span class="string" id="7787950">&#39;&#34;&#39;</span><span class="op" id="7787953">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7787958">q</span><span class="op" id="7787959">,</span>&nbsp;<span class="ident" id="7787961">err</span>&nbsp;<span class="op" id="7787965">:=</span>&nbsp;<span class="ident" id="7787968">strconv</span><span class="op" id="7787975">.</span><span class="ident" id="7787976">Unquote</span><span class="op" id="7787983">(</span><span class="ident" id="7787984">line</span><span class="op" id="7787988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7787993">if</span>&nbsp;<span class="ident" id="7787996">err</span>&nbsp;<span class="op" id="7788000">!=</span>&nbsp;<span class="builtintype" id="7788003">nil</span>&nbsp;<span class="op" id="7788007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7788013">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788057">t</span><span class="op" id="7788058">.</span><span class="ident" id="7788059">Fatalf</span><span class="op" id="7788065">(</span><span class="string" id="7788066">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7788089">,</span>&nbsp;<span class="ident" id="7788091">file</span><span class="op" id="7788095">,</span>&nbsp;<span class="ident" id="7788097">lineno</span><span class="op" id="7788103">,</span>&nbsp;<span class="ident" id="7788105">line</span><span class="op" id="7788109">,</span>&nbsp;<span class="ident" id="7788111">err</span><span class="op" id="7788114">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7788119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788124">if</span>&nbsp;<span class="ident" id="7788127">inStrings</span>&nbsp;<span class="op" id="7788137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788143">str</span>&nbsp;<span class="op" id="7788147">=</span>&nbsp;<span class="builtinfunc" id="7788149">append</span><span class="op" id="7788155">(</span><span class="ident" id="7788156">str</span><span class="op" id="7788159">,</span>&nbsp;<span class="ident" id="7788161">q</span><span class="op" id="7788162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788168">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7788180">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7788185">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788204">if</span>&nbsp;<span class="builtinfunc" id="7788207">len</span><span class="op" id="7788210">(</span><span class="ident" id="7788211">input</span><span class="op" id="7788216">)</span>&nbsp;<span class="op" id="7788218">!=</span>&nbsp;<span class="num" id="7788221">0</span>&nbsp;<span class="op" id="7788223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788229">t</span><span class="op" id="7788230">.</span><span class="ident" id="7788231">Fatalf</span><span class="op" id="7788237">(</span><span class="string" id="7788238">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="7788291">,</span>&nbsp;<span class="ident" id="7788293">file</span><span class="op" id="7788297">,</span>&nbsp;<span class="ident" id="7788299">lineno</span><span class="op" id="7788305">,</span>&nbsp;<span class="builtinfunc" id="7788307">len</span><span class="op" id="7788310">(</span><span class="ident" id="7788311">input</span><span class="op" id="7788316">)</span><span class="op" id="7788317">,</span>&nbsp;<span class="ident" id="7788319">q</span><span class="op" id="7788320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7788325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788330">re</span><span class="op" id="7788332">,</span>&nbsp;<span class="ident" id="7788334">err</span>&nbsp;<span class="op" id="7788338">=</span>&nbsp;<span class="ident" id="7788340">tryCompile</span><span class="op" id="7788350">(</span><span class="ident" id="7788351">q</span><span class="op" id="7788352">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788357">if</span>&nbsp;<span class="ident" id="7788360">err</span>&nbsp;<span class="op" id="7788364">!=</span>&nbsp;<span class="builtintype" id="7788367">nil</span>&nbsp;<span class="op" id="7788371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788377">if</span>&nbsp;<span class="ident" id="7788380">err</span><span class="op" id="7788383">.</span><span class="ident" id="7788384">Error</span><span class="op" id="7788389">(</span><span class="op" id="7788390">)</span>&nbsp;<span class="op" id="7788392">==</span>&nbsp;<span class="string" id="7788395">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="7788450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7788457">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788520">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7788533">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788539">t</span><span class="op" id="7788540">.</span><span class="ident" id="7788541">Errorf</span><span class="op" id="7788547">(</span><span class="string" id="7788548">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7788572">,</span>&nbsp;<span class="ident" id="7788574">file</span><span class="op" id="7788578">,</span>&nbsp;<span class="ident" id="7788580">lineno</span><span class="op" id="7788586">,</span>&nbsp;<span class="ident" id="7788588">q</span><span class="op" id="7788589">,</span>&nbsp;<span class="ident" id="7788591">err</span><span class="op" id="7788594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788600">if</span>&nbsp;<span class="ident" id="7788603">nfail</span><span class="op" id="7788608">++</span><span class="op" id="7788610">;</span>&nbsp;<span class="ident" id="7788612">nfail</span>&nbsp;<span class="op" id="7788618">&gt;=</span>&nbsp;<span class="num" id="7788621">100</span>&nbsp;<span class="op" id="7788625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788632">t</span><span class="op" id="7788633">.</span><span class="ident" id="7788634">Fatalf</span><span class="op" id="7788640">(</span><span class="string" id="7788641">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7788667">,</span>&nbsp;<span class="ident" id="7788669">nfail</span><span class="op" id="7788674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7788680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788686">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7788698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788703">full</span>&nbsp;<span class="op" id="7788708">:=</span>&nbsp;<span class="string" id="7788711">`\A(?:`</span>&nbsp;<span class="op" id="7788719">+</span>&nbsp;<span class="ident" id="7788721">q</span>&nbsp;<span class="op" id="7788723">+</span>&nbsp;<span class="string" id="7788725">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788734">refull</span><span class="op" id="7788740">,</span>&nbsp;<span class="ident" id="7788742">err</span>&nbsp;<span class="op" id="7788746">=</span>&nbsp;<span class="ident" id="7788748">tryCompile</span><span class="op" id="7788758">(</span><span class="ident" id="7788759">full</span><span class="op" id="7788763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788768">if</span>&nbsp;<span class="ident" id="7788771">err</span>&nbsp;<span class="op" id="7788775">!=</span>&nbsp;<span class="builtintype" id="7788778">nil</span>&nbsp;<span class="op" id="7788782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7788788">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788847">t</span><span class="op" id="7788848">.</span><span class="ident" id="7788849">Fatalf</span><span class="op" id="7788855">(</span><span class="string" id="7788856">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7788885">,</span>&nbsp;<span class="ident" id="7788887">file</span><span class="op" id="7788891">,</span>&nbsp;<span class="ident" id="7788893">lineno</span><span class="op" id="7788899">,</span>&nbsp;<span class="ident" id="7788901">full</span><span class="op" id="7788905">,</span>&nbsp;<span class="ident" id="7788907">err</span><span class="op" id="7788910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7788915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7788920">input</span>&nbsp;<span class="op" id="7788926">=</span>&nbsp;<span class="ident" id="7788928">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7788934">case</span>&nbsp;<span class="ident" id="7788939">line</span><span class="op" id="7788943">[</span><span class="num" id="7788944">0</span><span class="op" id="7788945">]</span>&nbsp;<span class="op" id="7788947">==</span>&nbsp;<span class="string" id="7788950">&#39;-&#39;</span>&nbsp;<span class="op" id="7788954">||</span>&nbsp;<span class="string" id="7788957">&#39;0&#39;</span>&nbsp;<span class="op" id="7788961">&lt;=</span>&nbsp;<span class="ident" id="7788964">line</span><span class="op" id="7788968">[</span><span class="num" id="7788969">0</span><span class="op" id="7788970">]</span>&nbsp;<span class="op" id="7788972">&amp;&amp;</span>&nbsp;<span class="ident" id="7788975">line</span><span class="op" id="7788979">[</span><span class="num" id="7788980">0</span><span class="op" id="7788981">]</span>&nbsp;<span class="op" id="7788983">&lt;=</span>&nbsp;<span class="string" id="7788986">&#39;9&#39;</span><span class="op" id="7788989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7788994">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7789029">ncase</span><span class="op" id="7789034">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7789040">if</span>&nbsp;<span class="ident" id="7789043">re</span>&nbsp;<span class="op" id="7789046">==</span>&nbsp;<span class="builtintype" id="7789049">nil</span>&nbsp;<span class="op" id="7789053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7789059">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7789099">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7789111">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7789116">if</span>&nbsp;<span class="builtinfunc" id="7789119">len</span><span class="op" id="7789122">(</span><span class="ident" id="7789123">input</span><span class="op" id="7789128">)</span>&nbsp;<span class="op" id="7789130">==</span>&nbsp;<span class="num" id="7789133">0</span>&nbsp;<span class="op" id="7789135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7789141">t</span><span class="op" id="7789142">.</span><span class="ident" id="7789143">Fatalf</span><span class="op" id="7789149">(</span><span class="string" id="7789150">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="7789190">,</span>&nbsp;<span class="ident" id="7789192">file</span><span class="op" id="7789196">,</span>&nbsp;<span class="ident" id="7789198">lineno</span><span class="op" id="7789204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7789209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7789214">var</span>&nbsp;<span class="ident" id="7789218">text</span>&nbsp;<span class="builtintype" id="7789223">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7789233">text</span><span class="op" id="7789237">,</span>&nbsp;<span class="ident" id="7789239">input</span>&nbsp;<span class="op" id="7789245">=</span>&nbsp;<span class="ident" id="7789247">input</span><span class="op" id="7789252">[</span><span class="num" id="7789253">0</span><span class="op" id="7789254">]</span><span class="op" id="7789255">,</span>&nbsp;<span class="ident" id="7789257">input</span><span class="op" id="7789262">[</span><span class="num" id="7789263">1</span><span class="op" id="7789264">:</span><span class="op" id="7789265">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7789270">if</span>&nbsp;<span class="op" id="7789273">!</span><span class="ident" id="7789274">isSingleBytes</span><span class="op" id="7789287">(</span><span class="ident" id="7789288">text</span><span class="op" id="7789292">)</span>&nbsp;<span class="op" id="7789294">&amp;&amp;</span>&nbsp;<span class="ident" id="7789297">strings</span><span class="op" id="7789304">.</span><span class="ident" id="7789305">Contains</span><span class="op" id="7789313">(</span><span class="ident" id="7789314">re</span><span class="op" id="7789316">.</span><span class="ident" id="7789317">String</span><span class="op" id="7789323">(</span><span class="op" id="7789324">)</span><span class="op" id="7789325">,</span>&nbsp;<span class="string" id="7789327">`\B`</span><span class="op" id="7789331">)</span>&nbsp;<span class="op" id="7789333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7789339">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7789386">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7789431">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7789479">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7789530">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7789573">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7789585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7789590">res</span>&nbsp;<span class="op" id="7789594">:=</span>&nbsp;<span class="ident" id="7789597">strings</span><span class="op" id="7789604">.</span><span class="ident" id="7789605">Split</span><span class="op" id="7789610">(</span><span class="ident" id="7789611">line</span><span class="op" id="7789615">,</span>&nbsp;<span class="string" id="7789617">&#34;;&#34;</span><span class="op" id="7789620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7789625">if</span>&nbsp;<span class="builtinfunc" id="7789628">len</span><span class="op" id="7789631">(</span><span class="ident" id="7789632">res</span><span class="op" id="7789635">)</span>&nbsp;<span class="op" id="7789637">!=</span>&nbsp;<span class="builtinfunc" id="7789640">len</span><span class="op" id="7789643">(</span><span class="ident" id="7789644">run</span><span class="op" id="7789647">)</span>&nbsp;<span class="op" id="7789649">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7789655">t</span><span class="op" id="7789656">.</span><span class="ident" id="7789657">Fatalf</span><span class="op" id="7789663">(</span><span class="string" id="7789664">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7789702">,</span>&nbsp;<span class="ident" id="7789704">file</span><span class="op" id="7789708">,</span>&nbsp;<span class="ident" id="7789710">lineno</span><span class="op" id="7789716">,</span>&nbsp;<span class="builtinfunc" id="7789718">len</span><span class="op" id="7789721">(</span><span class="ident" id="7789722">res</span><span class="op" id="7789725">)</span><span class="op" id="7789726">,</span>&nbsp;<span class="builtinfunc" id="7789728">len</span><span class="op" id="7789731">(</span><span class="ident" id="7789732">run</span><span class="op" id="7789735">)</span><span class="op" id="7789736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7789741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7789746">for</span>&nbsp;<span class="ident" id="7789750">i</span>&nbsp;<span class="op" id="7789752">:=</span>&nbsp;<span class="keyword" id="7789755">range</span>&nbsp;<span class="ident" id="7789761">res</span>&nbsp;<span class="op" id="7789765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7789771">have</span><span class="op" id="7789775">,</span>&nbsp;<span class="ident" id="7789777">suffix</span>&nbsp;<span class="op" id="7789784">:=</span>&nbsp;<span class="ident" id="7789787">run</span><span class="op" id="7789790">[</span><span class="ident" id="7789791">i</span><span class="op" id="7789792">]</span><span class="op" id="7789793">(</span><span class="ident" id="7789794">re</span><span class="op" id="7789796">,</span>&nbsp;<span class="ident" id="7789798">refull</span><span class="op" id="7789804">,</span>&nbsp;<span class="ident" id="7789806">text</span><span class="op" id="7789810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7789816">want</span>&nbsp;<span class="op" id="7789821">:=</span>&nbsp;<span class="ident" id="7789824">parseResult</span><span class="op" id="7789835">(</span><span class="ident" id="7789836">t</span><span class="op" id="7789837">,</span>&nbsp;<span class="ident" id="7789839">file</span><span class="op" id="7789843">,</span>&nbsp;<span class="ident" id="7789845">lineno</span><span class="op" id="7789851">,</span>&nbsp;<span class="ident" id="7789853">res</span><span class="op" id="7789856">[</span><span class="ident" id="7789857">i</span><span class="op" id="7789858">]</span><span class="op" id="7789859">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7789865">if</span>&nbsp;<span class="op" id="7789868">!</span><span class="ident" id="7789869">same</span><span class="op" id="7789873">(</span><span class="ident" id="7789874">have</span><span class="op" id="7789878">,</span>&nbsp;<span class="ident" id="7789880">want</span><span class="op" id="7789884">)</span>&nbsp;<span class="op" id="7789886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7789893">t</span><span class="op" id="7789894">.</span><span class="ident" id="7789895">Errorf</span><span class="op" id="7789901">(</span><span class="string" id="7789902">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7789953">,</span>&nbsp;<span class="ident" id="7789955">file</span><span class="op" id="7789959">,</span>&nbsp;<span class="ident" id="7789961">lineno</span><span class="op" id="7789967">,</span>&nbsp;<span class="ident" id="7789969">re</span><span class="op" id="7789971">,</span>&nbsp;<span class="ident" id="7789973">suffix</span><span class="op" id="7789979">,</span>&nbsp;<span class="ident" id="7789981">text</span><span class="op" id="7789985">,</span>&nbsp;<span class="ident" id="7789987">have</span><span class="op" id="7789991">,</span>&nbsp;<span class="ident" id="7789993">want</span><span class="op" id="7789997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7790004">if</span>&nbsp;<span class="ident" id="7790007">nfail</span><span class="op" id="7790012">++</span><span class="op" id="7790014">;</span>&nbsp;<span class="ident" id="7790016">nfail</span>&nbsp;<span class="op" id="7790022">&gt;=</span>&nbsp;<span class="num" id="7790025">100</span>&nbsp;<span class="op" id="7790029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790037">t</span><span class="op" id="7790038">.</span><span class="ident" id="7790039">Fatalf</span><span class="op" id="7790045">(</span><span class="string" id="7790046">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7790072">,</span>&nbsp;<span class="ident" id="7790074">nfail</span><span class="op" id="7790079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7790086">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7790093">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7790106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790112">b</span><span class="op" id="7790113">,</span>&nbsp;<span class="ident" id="7790115">suffix</span>&nbsp;<span class="op" id="7790122">:=</span>&nbsp;<span class="ident" id="7790125">match</span><span class="op" id="7790130">[</span><span class="ident" id="7790131">i</span><span class="op" id="7790132">]</span><span class="op" id="7790133">(</span><span class="ident" id="7790134">re</span><span class="op" id="7790136">,</span>&nbsp;<span class="ident" id="7790138">refull</span><span class="op" id="7790144">,</span>&nbsp;<span class="ident" id="7790146">text</span><span class="op" id="7790150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7790156">if</span>&nbsp;<span class="ident" id="7790159">b</span>&nbsp;<span class="op" id="7790161">!=</span>&nbsp;<span class="op" id="7790164">(</span><span class="ident" id="7790165">want</span>&nbsp;<span class="op" id="7790170">!=</span>&nbsp;<span class="builtintype" id="7790173">nil</span><span class="op" id="7790176">)</span>&nbsp;<span class="op" id="7790178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790185">t</span><span class="op" id="7790186">.</span><span class="ident" id="7790187">Errorf</span><span class="op" id="7790193">(</span><span class="string" id="7790194">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7790239">,</span>&nbsp;<span class="ident" id="7790241">file</span><span class="op" id="7790245">,</span>&nbsp;<span class="ident" id="7790247">lineno</span><span class="op" id="7790253">,</span>&nbsp;<span class="ident" id="7790255">re</span><span class="op" id="7790257">,</span>&nbsp;<span class="ident" id="7790259">suffix</span><span class="op" id="7790265">,</span>&nbsp;<span class="ident" id="7790267">text</span><span class="op" id="7790271">,</span>&nbsp;<span class="ident" id="7790273">b</span><span class="op" id="7790274">,</span>&nbsp;<span class="op" id="7790276">!</span><span class="ident" id="7790277">b</span><span class="op" id="7790278">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7790285">if</span>&nbsp;<span class="ident" id="7790288">nfail</span><span class="op" id="7790293">++</span><span class="op" id="7790295">;</span>&nbsp;<span class="ident" id="7790297">nfail</span>&nbsp;<span class="op" id="7790303">&gt;=</span>&nbsp;<span class="num" id="7790306">100</span>&nbsp;<span class="op" id="7790310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790318">t</span><span class="op" id="7790319">.</span><span class="ident" id="7790320">Fatalf</span><span class="op" id="7790326">(</span><span class="string" id="7790327">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7790353">,</span>&nbsp;<span class="ident" id="7790355">nfail</span><span class="op" id="7790360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7790367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7790374">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7790387">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7790392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7790397">default</span><span class="op" id="7790404">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790409">t</span><span class="op" id="7790410">.</span><span class="ident" id="7790411">Fatalf</span><span class="op" id="7790417">(</span><span class="string" id="7790418">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="7790444">,</span>&nbsp;<span class="ident" id="7790446">file</span><span class="op" id="7790450">,</span>&nbsp;<span class="ident" id="7790452">lineno</span><span class="op" id="7790458">,</span>&nbsp;<span class="ident" id="7790460">line</span><span class="op" id="7790464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7790468">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7790471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7790474">if</span>&nbsp;<span class="ident" id="7790477">err</span>&nbsp;<span class="op" id="7790481">:=</span>&nbsp;<span class="ident" id="7790484">scanner</span><span class="op" id="7790491">.</span><span class="ident" id="7790492">Err</span><span class="op" id="7790495">(</span><span class="op" id="7790496">)</span><span class="op" id="7790497">;</span>&nbsp;<span class="ident" id="7790499">err</span>&nbsp;<span class="op" id="7790503">!=</span>&nbsp;<span class="builtintype" id="7790506">nil</span>&nbsp;<span class="op" id="7790510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790514">t</span><span class="op" id="7790515">.</span><span class="ident" id="7790516">Fatalf</span><span class="op" id="7790522">(</span><span class="string" id="7790523">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7790534">,</span>&nbsp;<span class="ident" id="7790536">file</span><span class="op" id="7790540">,</span>&nbsp;<span class="ident" id="7790542">lineno</span><span class="op" id="7790548">,</span>&nbsp;<span class="ident" id="7790550">err</span><span class="op" id="7790553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7790556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7790559">if</span>&nbsp;<span class="builtinfunc" id="7790562">len</span><span class="op" id="7790565">(</span><span class="ident" id="7790566">input</span><span class="op" id="7790571">)</span>&nbsp;<span class="op" id="7790573">!=</span>&nbsp;<span class="num" id="7790576">0</span>&nbsp;<span class="op" id="7790578">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790582">t</span><span class="op" id="7790583">.</span><span class="ident" id="7790584">Fatalf</span><span class="op" id="7790590">(</span><span class="string" id="7790591">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="7790640">,</span>&nbsp;<span class="ident" id="7790642">file</span><span class="op" id="7790646">,</span>&nbsp;<span class="ident" id="7790648">lineno</span><span class="op" id="7790654">,</span>&nbsp;<span class="builtinfunc" id="7790656">len</span><span class="op" id="7790659">(</span><span class="ident" id="7790660">input</span><span class="op" id="7790665">)</span><span class="op" id="7790666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7790669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790672">t</span><span class="op" id="7790673">.</span><span class="ident" id="7790674">Logf</span><span class="op" id="7790678">(</span><span class="string" id="7790679">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="7790696">,</span>&nbsp;<span class="ident" id="7790698">ncase</span><span class="op" id="7790703">)</span><br>
<span class="lineno"></span><span class="op" id="7790705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="7790708">var</span>&nbsp;<span class="ident" id="7790712">run</span>&nbsp;<span class="op" id="7790716">=</span>&nbsp;<span class="op" id="7790718">[</span><span class="op" id="7790719">]</span><span class="keyword" id="7790720">func</span><span class="op" id="7790724">(</span><span class="op" id="7790725">*</span><span class="ident" id="7790726">Regexp</span><span class="op" id="7790732">,</span>&nbsp;<span class="op" id="7790734">*</span><span class="ident" id="7790735">Regexp</span><span class="op" id="7790741">,</span>&nbsp;<span class="builtintype" id="7790743">string</span><span class="op" id="7790749">)</span>&nbsp;<span class="op" id="7790751">(</span><span class="op" id="7790752">[</span><span class="op" id="7790753">]</span><span class="builtintype" id="7790754">int</span><span class="op" id="7790757">,</span>&nbsp;<span class="builtintype" id="7790759">string</span><span class="op" id="7790765">)</span><span class="op" id="7790766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790769">runFull</span><span class="op" id="7790776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790779">runPartial</span><span class="op" id="7790789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790792">runFullLongest</span><span class="op" id="7790806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790809">runPartialLongest</span><span class="op" id="7790826">,</span><br>
<span class="lineno">205</span><span class="op" id="7790828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7790831">func</span>&nbsp;<span class="ident" id="7790836">runFull</span><span class="op" id="7790843">(</span><span class="ident" id="7790844">re</span><span class="op" id="7790846">,</span>&nbsp;<span class="ident" id="7790848">refull</span>&nbsp;<span class="op" id="7790855">*</span><span class="ident" id="7790856">Regexp</span><span class="op" id="7790862">,</span>&nbsp;<span class="ident" id="7790864">text</span>&nbsp;<span class="builtintype" id="7790869">string</span><span class="op" id="7790875">)</span>&nbsp;<span class="op" id="7790877">(</span><span class="op" id="7790878">[</span><span class="op" id="7790879">]</span><span class="builtintype" id="7790880">int</span><span class="op" id="7790883">,</span>&nbsp;<span class="builtintype" id="7790885">string</span><span class="op" id="7790891">)</span>&nbsp;<span class="op" id="7790893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7790896">refull</span><span class="op" id="7790902">.</span><span class="ident" id="7790903">longest</span>&nbsp;<span class="op" id="7790911">=</span>&nbsp;<span class="builtintype" id="7790913">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7790920">return</span>&nbsp;<span class="ident" id="7790927">refull</span><span class="op" id="7790933">.</span><span class="ident" id="7790934">FindStringSubmatchIndex</span><span class="op" id="7790957">(</span><span class="ident" id="7790958">text</span><span class="op" id="7790962">)</span><span class="op" id="7790963">,</span>&nbsp;<span class="string" id="7790965">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="7790974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7790977">func</span>&nbsp;<span class="ident" id="7790982">runPartial</span><span class="op" id="7790992">(</span><span class="ident" id="7790993">re</span><span class="op" id="7790995">,</span>&nbsp;<span class="ident" id="7790997">refull</span>&nbsp;<span class="op" id="7791004">*</span><span class="ident" id="7791005">Regexp</span><span class="op" id="7791011">,</span>&nbsp;<span class="ident" id="7791013">text</span>&nbsp;<span class="builtintype" id="7791018">string</span><span class="op" id="7791024">)</span>&nbsp;<span class="op" id="7791026">(</span><span class="op" id="7791027">[</span><span class="op" id="7791028">]</span><span class="builtintype" id="7791029">int</span><span class="op" id="7791032">,</span>&nbsp;<span class="builtintype" id="7791034">string</span><span class="op" id="7791040">)</span>&nbsp;<span class="op" id="7791042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791045">re</span><span class="op" id="7791047">.</span><span class="ident" id="7791048">longest</span>&nbsp;<span class="op" id="7791056">=</span>&nbsp;<span class="builtintype" id="7791058">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7791065">return</span>&nbsp;<span class="ident" id="7791072">re</span><span class="op" id="7791074">.</span><span class="ident" id="7791075">FindStringSubmatchIndex</span><span class="op" id="7791098">(</span><span class="ident" id="7791099">text</span><span class="op" id="7791103">)</span><span class="op" id="7791104">,</span>&nbsp;<span class="string" id="7791106">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="7791109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7791112">func</span>&nbsp;<span class="ident" id="7791117">runFullLongest</span><span class="op" id="7791131">(</span><span class="ident" id="7791132">re</span><span class="op" id="7791134">,</span>&nbsp;<span class="ident" id="7791136">refull</span>&nbsp;<span class="op" id="7791143">*</span><span class="ident" id="7791144">Regexp</span><span class="op" id="7791150">,</span>&nbsp;<span class="ident" id="7791152">text</span>&nbsp;<span class="builtintype" id="7791157">string</span><span class="op" id="7791163">)</span>&nbsp;<span class="op" id="7791165">(</span><span class="op" id="7791166">[</span><span class="op" id="7791167">]</span><span class="builtintype" id="7791168">int</span><span class="op" id="7791171">,</span>&nbsp;<span class="builtintype" id="7791173">string</span><span class="op" id="7791179">)</span>&nbsp;<span class="op" id="7791181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791184">refull</span><span class="op" id="7791190">.</span><span class="ident" id="7791191">longest</span>&nbsp;<span class="op" id="7791199">=</span>&nbsp;<span class="builtintype" id="7791201">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7791207">return</span>&nbsp;<span class="ident" id="7791214">refull</span><span class="op" id="7791220">.</span><span class="ident" id="7791221">FindStringSubmatchIndex</span><span class="op" id="7791244">(</span><span class="ident" id="7791245">text</span><span class="op" id="7791249">)</span><span class="op" id="7791250">,</span>&nbsp;<span class="string" id="7791252">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="7791269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7791272">func</span>&nbsp;<span class="ident" id="7791277">runPartialLongest</span><span class="op" id="7791294">(</span><span class="ident" id="7791295">re</span><span class="op" id="7791297">,</span>&nbsp;<span class="ident" id="7791299">refull</span>&nbsp;<span class="op" id="7791306">*</span><span class="ident" id="7791307">Regexp</span><span class="op" id="7791313">,</span>&nbsp;<span class="ident" id="7791315">text</span>&nbsp;<span class="builtintype" id="7791320">string</span><span class="op" id="7791326">)</span>&nbsp;<span class="op" id="7791328">(</span><span class="op" id="7791329">[</span><span class="op" id="7791330">]</span><span class="builtintype" id="7791331">int</span><span class="op" id="7791334">,</span>&nbsp;<span class="builtintype" id="7791336">string</span><span class="op" id="7791342">)</span>&nbsp;<span class="op" id="7791344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791347">re</span><span class="op" id="7791349">.</span><span class="ident" id="7791350">longest</span>&nbsp;<span class="op" id="7791358">=</span>&nbsp;<span class="builtintype" id="7791360">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7791366">return</span>&nbsp;<span class="ident" id="7791373">re</span><span class="op" id="7791375">.</span><span class="ident" id="7791376">FindStringSubmatchIndex</span><span class="op" id="7791399">(</span><span class="ident" id="7791400">text</span><span class="op" id="7791404">)</span><span class="op" id="7791405">,</span>&nbsp;<span class="string" id="7791407">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="7791419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7791422">var</span>&nbsp;<span class="ident" id="7791426">match</span>&nbsp;<span class="op" id="7791432">=</span>&nbsp;<span class="op" id="7791434">[</span><span class="op" id="7791435">]</span><span class="keyword" id="7791436">func</span><span class="op" id="7791440">(</span><span class="op" id="7791441">*</span><span class="ident" id="7791442">Regexp</span><span class="op" id="7791448">,</span>&nbsp;<span class="op" id="7791450">*</span><span class="ident" id="7791451">Regexp</span><span class="op" id="7791457">,</span>&nbsp;<span class="builtintype" id="7791459">string</span><span class="op" id="7791465">)</span>&nbsp;<span class="op" id="7791467">(</span><span class="builtintype" id="7791468">bool</span><span class="op" id="7791472">,</span>&nbsp;<span class="builtintype" id="7791474">string</span><span class="op" id="7791480">)</span><span class="op" id="7791481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791484">matchFull</span><span class="op" id="7791493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791496">matchPartial</span><span class="op" id="7791508">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791511">matchFullLongest</span><span class="op" id="7791527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791530">matchPartialLongest</span><span class="op" id="7791549">,</span><br>
<span class="lineno"></span><span class="op" id="7791551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7791554">func</span>&nbsp;<span class="ident" id="7791559">matchFull</span><span class="op" id="7791568">(</span><span class="ident" id="7791569">re</span><span class="op" id="7791571">,</span>&nbsp;<span class="ident" id="7791573">refull</span>&nbsp;<span class="op" id="7791580">*</span><span class="ident" id="7791581">Regexp</span><span class="op" id="7791587">,</span>&nbsp;<span class="ident" id="7791589">text</span>&nbsp;<span class="builtintype" id="7791594">string</span><span class="op" id="7791600">)</span>&nbsp;<span class="op" id="7791602">(</span><span class="builtintype" id="7791603">bool</span><span class="op" id="7791607">,</span>&nbsp;<span class="builtintype" id="7791609">string</span><span class="op" id="7791615">)</span>&nbsp;<span class="op" id="7791617">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791620">refull</span><span class="op" id="7791626">.</span><span class="ident" id="7791627">longest</span>&nbsp;<span class="op" id="7791635">=</span>&nbsp;<span class="builtintype" id="7791637">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7791644">return</span>&nbsp;<span class="ident" id="7791651">refull</span><span class="op" id="7791657">.</span><span class="ident" id="7791658">MatchString</span><span class="op" id="7791669">(</span><span class="ident" id="7791670">text</span><span class="op" id="7791674">)</span><span class="op" id="7791675">,</span>&nbsp;<span class="string" id="7791677">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7791686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7791689">func</span>&nbsp;<span class="ident" id="7791694">matchPartial</span><span class="op" id="7791706">(</span><span class="ident" id="7791707">re</span><span class="op" id="7791709">,</span>&nbsp;<span class="ident" id="7791711">refull</span>&nbsp;<span class="op" id="7791718">*</span><span class="ident" id="7791719">Regexp</span><span class="op" id="7791725">,</span>&nbsp;<span class="ident" id="7791727">text</span>&nbsp;<span class="builtintype" id="7791732">string</span><span class="op" id="7791738">)</span>&nbsp;<span class="op" id="7791740">(</span><span class="builtintype" id="7791741">bool</span><span class="op" id="7791745">,</span>&nbsp;<span class="builtintype" id="7791747">string</span><span class="op" id="7791753">)</span>&nbsp;<span class="op" id="7791755">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791758">re</span><span class="op" id="7791760">.</span><span class="ident" id="7791761">longest</span>&nbsp;<span class="op" id="7791769">=</span>&nbsp;<span class="builtintype" id="7791771">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7791778">return</span>&nbsp;<span class="ident" id="7791785">re</span><span class="op" id="7791787">.</span><span class="ident" id="7791788">MatchString</span><span class="op" id="7791799">(</span><span class="ident" id="7791800">text</span><span class="op" id="7791804">)</span><span class="op" id="7791805">,</span>&nbsp;<span class="string" id="7791807">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7791810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7791813">func</span>&nbsp;<span class="ident" id="7791818">matchFullLongest</span><span class="op" id="7791834">(</span><span class="ident" id="7791835">re</span><span class="op" id="7791837">,</span>&nbsp;<span class="ident" id="7791839">refull</span>&nbsp;<span class="op" id="7791846">*</span><span class="ident" id="7791847">Regexp</span><span class="op" id="7791853">,</span>&nbsp;<span class="ident" id="7791855">text</span>&nbsp;<span class="builtintype" id="7791860">string</span><span class="op" id="7791866">)</span>&nbsp;<span class="op" id="7791868">(</span><span class="builtintype" id="7791869">bool</span><span class="op" id="7791873">,</span>&nbsp;<span class="builtintype" id="7791875">string</span><span class="op" id="7791881">)</span>&nbsp;<span class="op" id="7791883">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7791886">refull</span><span class="op" id="7791892">.</span><span class="ident" id="7791893">longest</span>&nbsp;<span class="op" id="7791901">=</span>&nbsp;<span class="builtintype" id="7791903">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7791909">return</span>&nbsp;<span class="ident" id="7791916">refull</span><span class="op" id="7791922">.</span><span class="ident" id="7791923">MatchString</span><span class="op" id="7791934">(</span><span class="ident" id="7791935">text</span><span class="op" id="7791939">)</span><span class="op" id="7791940">,</span>&nbsp;<span class="string" id="7791942">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7791959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7791962">func</span>&nbsp;<span class="ident" id="7791967">matchPartialLongest</span><span class="op" id="7791986">(</span><span class="ident" id="7791987">re</span><span class="op" id="7791989">,</span>&nbsp;<span class="ident" id="7791991">refull</span>&nbsp;<span class="op" id="7791998">*</span><span class="ident" id="7791999">Regexp</span><span class="op" id="7792005">,</span>&nbsp;<span class="ident" id="7792007">text</span>&nbsp;<span class="builtintype" id="7792012">string</span><span class="op" id="7792018">)</span>&nbsp;<span class="op" id="7792020">(</span><span class="builtintype" id="7792021">bool</span><span class="op" id="7792025">,</span>&nbsp;<span class="builtintype" id="7792027">string</span><span class="op" id="7792033">)</span>&nbsp;<span class="op" id="7792035">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792038">re</span><span class="op" id="7792040">.</span><span class="ident" id="7792041">longest</span>&nbsp;<span class="op" id="7792049">=</span>&nbsp;<span class="builtintype" id="7792051">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792057">return</span>&nbsp;<span class="ident" id="7792064">re</span><span class="op" id="7792066">.</span><span class="ident" id="7792067">MatchString</span><span class="op" id="7792078">(</span><span class="ident" id="7792079">text</span><span class="op" id="7792083">)</span><span class="op" id="7792084">,</span>&nbsp;<span class="string" id="7792086">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7792098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7792101">func</span>&nbsp;<span class="ident" id="7792106">isSingleBytes</span><span class="op" id="7792119">(</span><span class="ident" id="7792120">s</span>&nbsp;<span class="builtintype" id="7792122">string</span><span class="op" id="7792128">)</span>&nbsp;<span class="builtintype" id="7792130">bool</span>&nbsp;<span class="op" id="7792135">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792138">for</span>&nbsp;<span class="ident" id="7792142">_</span><span class="op" id="7792143">,</span>&nbsp;<span class="ident" id="7792145">c</span>&nbsp;<span class="op" id="7792147">:=</span>&nbsp;<span class="keyword" id="7792150">range</span>&nbsp;<span class="ident" id="7792156">s</span>&nbsp;<span class="op" id="7792158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792162">if</span>&nbsp;<span class="ident" id="7792165">c</span>&nbsp;<span class="op" id="7792167">&gt;=</span>&nbsp;<span class="ident" id="7792170">utf8</span><span class="op" id="7792174">.</span><span class="ident" id="7792175">RuneSelf</span>&nbsp;<span class="op" id="7792184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792189">return</span>&nbsp;<span class="builtintype" id="7792196">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7792204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7792207">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792210">return</span>&nbsp;<span class="builtintype" id="7792217">true</span><br>
<span class="lineno"></span><span class="op" id="7792222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7792225">func</span>&nbsp;<span class="ident" id="7792230">tryCompile</span><span class="op" id="7792240">(</span><span class="ident" id="7792241">s</span>&nbsp;<span class="builtintype" id="7792243">string</span><span class="op" id="7792249">)</span>&nbsp;<span class="op" id="7792251">(</span><span class="ident" id="7792252">re</span>&nbsp;<span class="op" id="7792255">*</span><span class="ident" id="7792256">Regexp</span><span class="op" id="7792262">,</span>&nbsp;<span class="ident" id="7792264">err</span>&nbsp;<span class="builtintype" id="7792268">error</span><span class="op" id="7792273">)</span>&nbsp;<span class="op" id="7792275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7792278">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792320">defer</span>&nbsp;<span class="keyword" id="7792326">func</span><span class="op" id="7792330">(</span><span class="op" id="7792331">)</span>&nbsp;<span class="op" id="7792333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792337">if</span>&nbsp;<span class="ident" id="7792340">r</span>&nbsp;<span class="op" id="7792342">:=</span>&nbsp;<span class="builtinfunc" id="7792345">recover</span><span class="op" id="7792352">(</span><span class="op" id="7792353">)</span><span class="op" id="7792354">;</span>&nbsp;<span class="ident" id="7792356">r</span>&nbsp;<span class="op" id="7792358">!=</span>&nbsp;<span class="builtintype" id="7792361">nil</span>&nbsp;<span class="op" id="7792365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792370">err</span>&nbsp;<span class="op" id="7792374">=</span>&nbsp;<span class="ident" id="7792376">fmt</span><span class="op" id="7792379">.</span><span class="ident" id="7792380">Errorf</span><span class="op" id="7792386">(</span><span class="string" id="7792387">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="7792398">,</span>&nbsp;<span class="ident" id="7792400">r</span><span class="op" id="7792401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7792405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7792408">}</span><span class="op" id="7792409">(</span><span class="op" id="7792410">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792413">return</span>&nbsp;<span class="ident" id="7792420">Compile</span><span class="op" id="7792427">(</span><span class="ident" id="7792428">s</span><span class="op" id="7792429">)</span><br>
<span class="lineno"></span><span class="op" id="7792431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7792434">func</span>&nbsp;<span class="ident" id="7792439">parseResult</span><span class="op" id="7792450">(</span><span class="ident" id="7792451">t</span>&nbsp;<span class="op" id="7792453">*</span><span class="ident" id="7792454">testing</span><span class="op" id="7792461">.</span><span class="ident" id="7792462">T</span><span class="op" id="7792463">,</span>&nbsp;<span class="ident" id="7792465">file</span>&nbsp;<span class="builtintype" id="7792470">string</span><span class="op" id="7792476">,</span>&nbsp;<span class="ident" id="7792478">lineno</span>&nbsp;<span class="builtintype" id="7792485">int</span><span class="op" id="7792488">,</span>&nbsp;<span class="ident" id="7792490">res</span>&nbsp;<span class="builtintype" id="7792494">string</span><span class="op" id="7792500">)</span>&nbsp;<span class="op" id="7792502">[</span><span class="op" id="7792503">]</span><span class="builtintype" id="7792504">int</span>&nbsp;<span class="op" id="7792508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7792511">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792546">if</span>&nbsp;<span class="ident" id="7792549">res</span>&nbsp;<span class="op" id="7792553">==</span>&nbsp;<span class="string" id="7792556">&#34;-&#34;</span>&nbsp;<span class="op" id="7792560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792564">return</span>&nbsp;<span class="builtintype" id="7792571">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7792576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7792579">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792627">n</span>&nbsp;<span class="op" id="7792629">:=</span>&nbsp;<span class="num" id="7792632">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792635">for</span>&nbsp;<span class="ident" id="7792639">j</span>&nbsp;<span class="op" id="7792641">:=</span>&nbsp;<span class="num" id="7792644">0</span><span class="op" id="7792645">;</span>&nbsp;<span class="ident" id="7792647">j</span>&nbsp;<span class="op" id="7792649">&lt;</span>&nbsp;<span class="builtinfunc" id="7792651">len</span><span class="op" id="7792654">(</span><span class="ident" id="7792655">res</span><span class="op" id="7792658">)</span><span class="op" id="7792659">;</span>&nbsp;<span class="ident" id="7792661">j</span><span class="op" id="7792662">++</span>&nbsp;<span class="op" id="7792665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792669">if</span>&nbsp;<span class="ident" id="7792672">res</span><span class="op" id="7792675">[</span><span class="ident" id="7792676">j</span><span class="op" id="7792677">]</span>&nbsp;<span class="op" id="7792679">==</span>&nbsp;<span class="string" id="7792682">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7792686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792691">n</span><span class="op" id="7792692">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7792697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7792700">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792703">out</span>&nbsp;<span class="op" id="7792707">:=</span>&nbsp;<span class="builtinfunc" id="7792710">make</span><span class="op" id="7792714">(</span><span class="op" id="7792715">[</span><span class="op" id="7792716">]</span><span class="builtintype" id="7792717">int</span><span class="op" id="7792720">,</span>&nbsp;<span class="num" id="7792722">2</span><span class="op" id="7792723">*</span><span class="ident" id="7792724">n</span><span class="op" id="7792725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792728">i</span>&nbsp;<span class="op" id="7792730">:=</span>&nbsp;<span class="num" id="7792733">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792736">n</span>&nbsp;<span class="op" id="7792738">=</span>&nbsp;<span class="num" id="7792740">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792743">for</span>&nbsp;<span class="ident" id="7792747">j</span>&nbsp;<span class="op" id="7792749">:=</span>&nbsp;<span class="num" id="7792752">0</span><span class="op" id="7792753">;</span>&nbsp;<span class="ident" id="7792755">j</span>&nbsp;<span class="op" id="7792757">&lt;=</span>&nbsp;<span class="builtinfunc" id="7792760">len</span><span class="op" id="7792763">(</span><span class="ident" id="7792764">res</span><span class="op" id="7792767">)</span><span class="op" id="7792768">;</span>&nbsp;<span class="ident" id="7792770">j</span><span class="op" id="7792771">++</span>&nbsp;<span class="op" id="7792774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792778">if</span>&nbsp;<span class="ident" id="7792781">j</span>&nbsp;<span class="op" id="7792783">==</span>&nbsp;<span class="builtinfunc" id="7792786">len</span><span class="op" id="7792789">(</span><span class="ident" id="7792790">res</span><span class="op" id="7792793">)</span>&nbsp;<span class="op" id="7792795">||</span>&nbsp;<span class="ident" id="7792798">res</span><span class="op" id="7792801">[</span><span class="ident" id="7792802">j</span><span class="op" id="7792803">]</span>&nbsp;<span class="op" id="7792805">==</span>&nbsp;<span class="string" id="7792808">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7792812">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7792817">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792868">pair</span>&nbsp;<span class="op" id="7792873">:=</span>&nbsp;<span class="ident" id="7792876">res</span><span class="op" id="7792879">[</span><span class="ident" id="7792880">i</span><span class="op" id="7792881">:</span><span class="ident" id="7792882">j</span><span class="op" id="7792883">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792888">if</span>&nbsp;<span class="ident" id="7792891">pair</span>&nbsp;<span class="op" id="7792896">==</span>&nbsp;<span class="string" id="7792899">&#34;-&#34;</span>&nbsp;<span class="op" id="7792903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792909">out</span><span class="op" id="7792912">[</span><span class="ident" id="7792913">n</span><span class="op" id="7792914">]</span>&nbsp;<span class="op" id="7792916">=</span>&nbsp;<span class="op" id="7792918">-</span><span class="num" id="7792919">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792925">out</span><span class="op" id="7792928">[</span><span class="ident" id="7792929">n</span><span class="op" id="7792930">+</span><span class="num" id="7792931">1</span><span class="op" id="7792932">]</span>&nbsp;<span class="op" id="7792934">=</span>&nbsp;<span class="op" id="7792936">-</span><span class="num" id="7792937">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7792942">}</span>&nbsp;<span class="keyword" id="7792944">else</span>&nbsp;<span class="op" id="7792949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7792955">k</span>&nbsp;<span class="op" id="7792957">:=</span>&nbsp;<span class="ident" id="7792960">strings</span><span class="op" id="7792967">.</span><span class="ident" id="7792968">Index</span><span class="op" id="7792973">(</span><span class="ident" id="7792974">pair</span><span class="op" id="7792978">,</span>&nbsp;<span class="string" id="7792980">&#34;-&#34;</span><span class="op" id="7792983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7792989">if</span>&nbsp;<span class="ident" id="7792992">k</span>&nbsp;<span class="op" id="7792994">&lt;</span>&nbsp;<span class="num" id="7792996">0</span>&nbsp;<span class="op" id="7792998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793005">t</span><span class="op" id="7793006">.</span><span class="ident" id="7793007">Fatalf</span><span class="op" id="7793013">(</span><span class="string" id="7793014">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7793038">,</span>&nbsp;<span class="ident" id="7793040">file</span><span class="op" id="7793044">,</span>&nbsp;<span class="ident" id="7793046">lineno</span><span class="op" id="7793052">,</span>&nbsp;<span class="ident" id="7793054">pair</span><span class="op" id="7793058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793064">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793070">lo</span><span class="op" id="7793072">,</span>&nbsp;<span class="ident" id="7793074">err1</span>&nbsp;<span class="op" id="7793079">:=</span>&nbsp;<span class="ident" id="7793082">strconv</span><span class="op" id="7793089">.</span><span class="ident" id="7793090">Atoi</span><span class="op" id="7793094">(</span><span class="ident" id="7793095">pair</span><span class="op" id="7793099">[</span><span class="op" id="7793100">:</span><span class="ident" id="7793101">k</span><span class="op" id="7793102">]</span><span class="op" id="7793103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793109">hi</span><span class="op" id="7793111">,</span>&nbsp;<span class="ident" id="7793113">err2</span>&nbsp;<span class="op" id="7793118">:=</span>&nbsp;<span class="ident" id="7793121">strconv</span><span class="op" id="7793128">.</span><span class="ident" id="7793129">Atoi</span><span class="op" id="7793133">(</span><span class="ident" id="7793134">pair</span><span class="op" id="7793138">[</span><span class="ident" id="7793139">k</span><span class="op" id="7793140">+</span><span class="num" id="7793141">1</span><span class="op" id="7793142">:</span><span class="op" id="7793143">]</span><span class="op" id="7793144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793150">if</span>&nbsp;<span class="ident" id="7793153">err1</span>&nbsp;<span class="op" id="7793158">!=</span>&nbsp;<span class="builtintype" id="7793161">nil</span>&nbsp;<span class="op" id="7793165">||</span>&nbsp;<span class="ident" id="7793168">err2</span>&nbsp;<span class="op" id="7793173">!=</span>&nbsp;<span class="builtintype" id="7793176">nil</span>&nbsp;<span class="op" id="7793180">||</span>&nbsp;<span class="ident" id="7793183">lo</span>&nbsp;<span class="op" id="7793186">&gt;</span>&nbsp;<span class="ident" id="7793188">hi</span>&nbsp;<span class="op" id="7793191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793198">t</span><span class="op" id="7793199">.</span><span class="ident" id="7793200">Fatalf</span><span class="op" id="7793206">(</span><span class="string" id="7793207">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7793231">,</span>&nbsp;<span class="ident" id="7793233">file</span><span class="op" id="7793237">,</span>&nbsp;<span class="ident" id="7793239">lineno</span><span class="op" id="7793245">,</span>&nbsp;<span class="ident" id="7793247">pair</span><span class="op" id="7793251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793257">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793263">out</span><span class="op" id="7793266">[</span><span class="ident" id="7793267">n</span><span class="op" id="7793268">]</span>&nbsp;<span class="op" id="7793270">=</span>&nbsp;<span class="ident" id="7793272">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793279">out</span><span class="op" id="7793282">[</span><span class="ident" id="7793283">n</span><span class="op" id="7793284">+</span><span class="num" id="7793285">1</span><span class="op" id="7793286">]</span>&nbsp;<span class="op" id="7793288">=</span>&nbsp;<span class="ident" id="7793290">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793301">n</span>&nbsp;<span class="op" id="7793303">+=</span>&nbsp;<span class="num" id="7793306">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793311">i</span>&nbsp;<span class="op" id="7793313">=</span>&nbsp;<span class="ident" id="7793315">j</span>&nbsp;<span class="op" id="7793317">+</span>&nbsp;<span class="num" id="7793319">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793329">return</span>&nbsp;<span class="ident" id="7793336">out</span><br>
<span class="lineno"></span><span class="op" id="7793340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7793343">func</span>&nbsp;<span class="ident" id="7793348">same</span><span class="op" id="7793352">(</span><span class="ident" id="7793353">x</span><span class="op" id="7793354">,</span>&nbsp;<span class="ident" id="7793356">y</span>&nbsp;<span class="op" id="7793358">[</span><span class="op" id="7793359">]</span><span class="builtintype" id="7793360">int</span><span class="op" id="7793363">)</span>&nbsp;<span class="builtintype" id="7793365">bool</span>&nbsp;<span class="op" id="7793370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793373">if</span>&nbsp;<span class="builtinfunc" id="7793376">len</span><span class="op" id="7793379">(</span><span class="ident" id="7793380">x</span><span class="op" id="7793381">)</span>&nbsp;<span class="op" id="7793383">!=</span>&nbsp;<span class="builtinfunc" id="7793386">len</span><span class="op" id="7793389">(</span><span class="ident" id="7793390">y</span><span class="op" id="7793391">)</span>&nbsp;<span class="op" id="7793393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793397">return</span>&nbsp;<span class="builtintype" id="7793404">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793414">for</span>&nbsp;<span class="ident" id="7793418">i</span><span class="op" id="7793419">,</span>&nbsp;<span class="ident" id="7793421">xi</span>&nbsp;<span class="op" id="7793424">:=</span>&nbsp;<span class="keyword" id="7793427">range</span>&nbsp;<span class="ident" id="7793433">x</span>&nbsp;<span class="op" id="7793435">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793439">if</span>&nbsp;<span class="ident" id="7793442">xi</span>&nbsp;<span class="op" id="7793445">!=</span>&nbsp;<span class="ident" id="7793448">y</span><span class="op" id="7793449">[</span><span class="ident" id="7793450">i</span><span class="op" id="7793451">]</span>&nbsp;<span class="op" id="7793453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793458">return</span>&nbsp;<span class="builtintype" id="7793465">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793479">return</span>&nbsp;<span class="builtintype" id="7793486">true</span><br>
<span class="lineno">325</span><span class="op" id="7793491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7793494">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7793551">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="7793611">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="7793663">func</span>&nbsp;<span class="ident" id="7793668">TestFowler</span><span class="op" id="7793678">(</span><span class="ident" id="7793679">t</span>&nbsp;<span class="op" id="7793681">*</span><span class="ident" id="7793682">testing</span><span class="op" id="7793689">.</span><span class="ident" id="7793690">T</span><span class="op" id="7793691">)</span>&nbsp;<span class="op" id="7793693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793696">files</span><span class="op" id="7793701">,</span>&nbsp;<span class="ident" id="7793703">err</span>&nbsp;<span class="op" id="7793707">:=</span>&nbsp;<span class="ident" id="7793710">filepath</span><span class="op" id="7793718">.</span><span class="ident" id="7793719">Glob</span><span class="op" id="7793723">(</span><span class="string" id="7793724">&#34;testdata/*.dat&#34;</span><span class="op" id="7793740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793743">if</span>&nbsp;<span class="ident" id="7793746">err</span>&nbsp;<span class="op" id="7793750">!=</span>&nbsp;<span class="builtintype" id="7793753">nil</span>&nbsp;<span class="op" id="7793757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793761">t</span><span class="op" id="7793762">.</span><span class="ident" id="7793763">Fatal</span><span class="op" id="7793768">(</span><span class="ident" id="7793769">err</span><span class="op" id="7793772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793775">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793778">for</span>&nbsp;<span class="ident" id="7793782">_</span><span class="op" id="7793783">,</span>&nbsp;<span class="ident" id="7793785">file</span>&nbsp;<span class="op" id="7793790">:=</span>&nbsp;<span class="keyword" id="7793793">range</span>&nbsp;<span class="ident" id="7793799">files</span>&nbsp;<span class="op" id="7793805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793809">t</span><span class="op" id="7793810">.</span><span class="ident" id="7793811">Log</span><span class="op" id="7793814">(</span><span class="ident" id="7793815">file</span><span class="op" id="7793819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793823">testFowler</span><span class="op" id="7793833">(</span><span class="ident" id="7793834">t</span><span class="op" id="7793835">,</span>&nbsp;<span class="ident" id="7793837">file</span><span class="op" id="7793841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7793844">}</span><br>
<span class="lineno"></span><span class="op" id="7793846">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7793849">var</span>&nbsp;<span class="ident" id="7793853">notab</span>&nbsp;<span class="op" id="7793859">=</span>&nbsp;<span class="ident" id="7793861">MustCompilePOSIX</span><span class="op" id="7793877">(</span><span class="string" id="7793878">`[^\t]+`</span><span class="op" id="7793886">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7793889">func</span>&nbsp;<span class="ident" id="7793894">testFowler</span><span class="op" id="7793904">(</span><span class="ident" id="7793905">t</span>&nbsp;<span class="op" id="7793907">*</span><span class="ident" id="7793908">testing</span><span class="op" id="7793915">.</span><span class="ident" id="7793916">T</span><span class="op" id="7793917">,</span>&nbsp;<span class="ident" id="7793919">file</span>&nbsp;<span class="builtintype" id="7793924">string</span><span class="op" id="7793930">)</span>&nbsp;<span class="op" id="7793932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793935">f</span><span class="op" id="7793936">,</span>&nbsp;<span class="ident" id="7793938">err</span>&nbsp;<span class="op" id="7793942">:=</span>&nbsp;<span class="ident" id="7793945">os</span><span class="op" id="7793947">.</span><span class="ident" id="7793948">Open</span><span class="op" id="7793952">(</span><span class="ident" id="7793953">file</span><span class="op" id="7793957">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793960">if</span>&nbsp;<span class="ident" id="7793963">err</span>&nbsp;<span class="op" id="7793967">!=</span>&nbsp;<span class="builtintype" id="7793970">nil</span>&nbsp;<span class="op" id="7793974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7793978">t</span><span class="op" id="7793979">.</span><span class="ident" id="7793980">Error</span><span class="op" id="7793985">(</span><span class="ident" id="7793986">err</span><span class="op" id="7793989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7793993">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7794001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794004">defer</span>&nbsp;<span class="ident" id="7794010">f</span><span class="op" id="7794011">.</span><span class="ident" id="7794012">Close</span><span class="op" id="7794017">(</span><span class="op" id="7794018">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794021">b</span>&nbsp;<span class="op" id="7794023">:=</span>&nbsp;<span class="ident" id="7794026">bufio</span><span class="op" id="7794031">.</span><span class="ident" id="7794032">NewReader</span><span class="op" id="7794041">(</span><span class="ident" id="7794042">f</span><span class="op" id="7794043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794046">lineno</span>&nbsp;<span class="op" id="7794053">:=</span>&nbsp;<span class="num" id="7794056">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794059">lastRegexp</span>&nbsp;<span class="op" id="7794070">:=</span>&nbsp;<span class="string" id="7794073">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="7794076">Reading</span><span class="op" id="7794083">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794086">for</span>&nbsp;<span class="op" id="7794090">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794094">lineno</span><span class="op" id="7794100">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794105">line</span><span class="op" id="7794109">,</span>&nbsp;<span class="ident" id="7794111">err</span>&nbsp;<span class="op" id="7794115">:=</span>&nbsp;<span class="ident" id="7794118">b</span><span class="op" id="7794119">.</span><span class="ident" id="7794120">ReadString</span><span class="op" id="7794130">(</span><span class="string" id="7794131">&#39;\n&#39;</span><span class="op" id="7794135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794139">if</span>&nbsp;<span class="ident" id="7794142">err</span>&nbsp;<span class="op" id="7794146">!=</span>&nbsp;<span class="builtintype" id="7794149">nil</span>&nbsp;<span class="op" id="7794153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794158">if</span>&nbsp;<span class="ident" id="7794161">err</span>&nbsp;<span class="op" id="7794165">!=</span>&nbsp;<span class="ident" id="7794168">io</span><span class="op" id="7794170">.</span><span class="ident" id="7794171">EOF</span>&nbsp;<span class="op" id="7794175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794181">t</span><span class="op" id="7794182">.</span><span class="ident" id="7794183">Errorf</span><span class="op" id="7794189">(</span><span class="string" id="7794190">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7794201">,</span>&nbsp;<span class="ident" id="7794203">file</span><span class="op" id="7794207">,</span>&nbsp;<span class="ident" id="7794209">lineno</span><span class="op" id="7794215">,</span>&nbsp;<span class="ident" id="7794217">err</span><span class="op" id="7794220">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7794225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794230">break</span>&nbsp;<span class="ident" id="7794236">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7794246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7794251">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7794314">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7794319">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7794337">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7794408">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7794478">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7794549">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794567">if</span>&nbsp;<span class="ident" id="7794570">line</span><span class="op" id="7794574">[</span><span class="num" id="7794575">0</span><span class="op" id="7794576">]</span>&nbsp;<span class="op" id="7794578">==</span>&nbsp;<span class="string" id="7794581">&#39;#&#39;</span>&nbsp;<span class="op" id="7794585">||</span>&nbsp;<span class="ident" id="7794588">line</span><span class="op" id="7794592">[</span><span class="num" id="7794593">0</span><span class="op" id="7794594">]</span>&nbsp;<span class="op" id="7794596">==</span>&nbsp;<span class="string" id="7794599">&#39;\n&#39;</span>&nbsp;<span class="op" id="7794604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794609">continue</span>&nbsp;<span class="ident" id="7794618">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7794628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794632">line</span>&nbsp;<span class="op" id="7794637">=</span>&nbsp;<span class="ident" id="7794639">line</span><span class="op" id="7794643">[</span><span class="op" id="7794644">:</span><span class="builtinfunc" id="7794645">len</span><span class="op" id="7794648">(</span><span class="ident" id="7794649">line</span><span class="op" id="7794653">)</span><span class="op" id="7794654">-</span><span class="num" id="7794655">1</span><span class="op" id="7794656">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794660">field</span>&nbsp;<span class="op" id="7794666">:=</span>&nbsp;<span class="ident" id="7794669">notab</span><span class="op" id="7794674">.</span><span class="ident" id="7794675">FindAllString</span><span class="op" id="7794688">(</span><span class="ident" id="7794689">line</span><span class="op" id="7794693">,</span>&nbsp;<span class="op" id="7794695">-</span><span class="num" id="7794696">1</span><span class="op" id="7794697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794701">for</span>&nbsp;<span class="ident" id="7794705">i</span><span class="op" id="7794706">,</span>&nbsp;<span class="ident" id="7794708">f</span>&nbsp;<span class="op" id="7794710">:=</span>&nbsp;<span class="keyword" id="7794713">range</span>&nbsp;<span class="ident" id="7794719">field</span>&nbsp;<span class="op" id="7794725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794730">if</span>&nbsp;<span class="ident" id="7794733">f</span>&nbsp;<span class="op" id="7794735">==</span>&nbsp;<span class="string" id="7794738">&#34;NULL&#34;</span>&nbsp;<span class="op" id="7794745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794751">field</span><span class="op" id="7794756">[</span><span class="ident" id="7794757">i</span><span class="op" id="7794758">]</span>&nbsp;<span class="op" id="7794760">=</span>&nbsp;<span class="string" id="7794762">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7794768">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794773">if</span>&nbsp;<span class="ident" id="7794776">f</span>&nbsp;<span class="op" id="7794778">==</span>&nbsp;<span class="string" id="7794781">&#34;NIL&#34;</span>&nbsp;<span class="op" id="7794787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7794793">t</span><span class="op" id="7794794">.</span><span class="ident" id="7794795">Logf</span><span class="op" id="7794799">(</span><span class="string" id="7794800">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="7794817">,</span>&nbsp;<span class="ident" id="7794819">file</span><span class="op" id="7794823">,</span>&nbsp;<span class="ident" id="7794825">lineno</span><span class="op" id="7794831">,</span>&nbsp;<span class="ident" id="7794833">line</span><span class="op" id="7794837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794843">continue</span>&nbsp;<span class="ident" id="7794852">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7794863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7794867">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794871">if</span>&nbsp;<span class="builtinfunc" id="7794874">len</span><span class="op" id="7794877">(</span><span class="ident" id="7794878">field</span><span class="op" id="7794883">)</span>&nbsp;<span class="op" id="7794885">==</span>&nbsp;<span class="num" id="7794888">0</span>&nbsp;<span class="op" id="7794890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7794895">continue</span>&nbsp;<span class="ident" id="7794904">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7794914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7794919">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7794994">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795066">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795138">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795217">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795276">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795281">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BRE&nbsp;&nbsp;&nbsp;&nbsp;(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795321">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERE&nbsp;&nbsp;&nbsp;&nbsp;(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795359">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ARE&nbsp;&nbsp;&nbsp;&nbsp;(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795411">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SRE&nbsp;&nbsp;&nbsp;&nbsp;(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795447">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp;KRE&nbsp;&nbsp;&nbsp;&nbsp;(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795497">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbsp;REG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LRE&nbsp;&nbsp;&nbsp;&nbsp;(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795533">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795538">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795583">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbsp;REG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795627">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;REG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795675">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795726">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbsp;REG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795770">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbsp;REG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795826">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbsp;FNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795888">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbsp;REG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795936">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbsp;REG_ICASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7795970">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbsp;REG_SPAN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796004">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbsp;REG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796054">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796089">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbsp;REG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796127">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbsp;REG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796169">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbsp;REG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796223">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796267">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbsp;REG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796311">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbsp;REG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796347">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796390">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbsp;REG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796449">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbsp;standard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796512">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbsp;REG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796563">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbsp;REG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796614">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;REG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796660">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796705">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbsp;REG_NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796749">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796822">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796894">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796965">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7796970">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797000">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797005">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797066">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797071">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797149">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797214">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797286">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797335">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;skip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797377">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797401">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797406">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797456">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp;:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797497">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;comment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797551">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797583">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797588">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7797643">flag</span>&nbsp;<span class="op" id="7797648">:=</span>&nbsp;<span class="ident" id="7797651">field</span><span class="op" id="7797656">[</span><span class="num" id="7797657">0</span><span class="op" id="7797658">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7797662">switch</span>&nbsp;<span class="ident" id="7797669">flag</span><span class="op" id="7797673">[</span><span class="num" id="7797674">0</span><span class="op" id="7797675">]</span>&nbsp;<span class="op" id="7797677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7797681">case</span>&nbsp;<span class="string" id="7797686">&#39;?&#39;</span><span class="op" id="7797689">,</span>&nbsp;<span class="string" id="7797691">&#39;&amp;&#39;</span><span class="op" id="7797694">,</span>&nbsp;<span class="string" id="7797696">&#39;|&#39;</span><span class="op" id="7797699">,</span>&nbsp;<span class="string" id="7797701">&#39;;&#39;</span><span class="op" id="7797704">,</span>&nbsp;<span class="string" id="7797706">&#39;{&#39;</span><span class="op" id="7797709">,</span>&nbsp;<span class="string" id="7797711">&#39;}&#39;</span><span class="op" id="7797714">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797719">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7797759">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7797786">flag</span>&nbsp;<span class="op" id="7797791">=</span>&nbsp;<span class="ident" id="7797793">flag</span><span class="op" id="7797797">[</span><span class="num" id="7797798">1</span><span class="op" id="7797799">:</span><span class="op" id="7797800">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7797805">if</span>&nbsp;<span class="ident" id="7797808">flag</span>&nbsp;<span class="op" id="7797813">==</span>&nbsp;<span class="string" id="7797816">&#34;&#34;</span>&nbsp;<span class="op" id="7797819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7797825">continue</span>&nbsp;<span class="ident" id="7797834">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7797845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7797849">case</span>&nbsp;<span class="string" id="7797854">&#39;:&#39;</span><span class="op" id="7797857">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7797862">i</span>&nbsp;<span class="op" id="7797864">:=</span>&nbsp;<span class="ident" id="7797867">strings</span><span class="op" id="7797874">.</span><span class="ident" id="7797875">Index</span><span class="op" id="7797880">(</span><span class="ident" id="7797881">flag</span><span class="op" id="7797885">[</span><span class="num" id="7797886">1</span><span class="op" id="7797887">:</span><span class="op" id="7797888">]</span><span class="op" id="7797889">,</span>&nbsp;<span class="string" id="7797891">&#34;:&#34;</span><span class="op" id="7797894">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7797899">if</span>&nbsp;<span class="ident" id="7797902">i</span>&nbsp;<span class="op" id="7797904">&lt;</span>&nbsp;<span class="num" id="7797906">0</span>&nbsp;<span class="op" id="7797908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7797914">t</span><span class="op" id="7797915">.</span><span class="ident" id="7797916">Logf</span><span class="op" id="7797920">(</span><span class="string" id="7797921">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7797931">,</span>&nbsp;<span class="ident" id="7797933">line</span><span class="op" id="7797937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7797943">continue</span>&nbsp;<span class="ident" id="7797952">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7797963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7797968">flag</span>&nbsp;<span class="op" id="7797973">=</span>&nbsp;<span class="ident" id="7797975">flag</span><span class="op" id="7797979">[</span><span class="num" id="7797980">1</span><span class="op" id="7797981">+</span><span class="ident" id="7797982">i</span><span class="op" id="7797983">+</span><span class="num" id="7797984">1</span><span class="op" id="7797985">:</span><span class="op" id="7797986">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7797990">case</span>&nbsp;<span class="string" id="7797995">&#39;C&#39;</span><span class="op" id="7797998">,</span>&nbsp;<span class="string" id="7798000">&#39;N&#39;</span><span class="op" id="7798003">,</span>&nbsp;<span class="string" id="7798005">&#39;T&#39;</span><span class="op" id="7798008">,</span>&nbsp;<span class="string" id="7798010">&#39;0&#39;</span><span class="op" id="7798013">,</span>&nbsp;<span class="string" id="7798015">&#39;1&#39;</span><span class="op" id="7798018">,</span>&nbsp;<span class="string" id="7798020">&#39;2&#39;</span><span class="op" id="7798023">,</span>&nbsp;<span class="string" id="7798025">&#39;3&#39;</span><span class="op" id="7798028">,</span>&nbsp;<span class="string" id="7798030">&#39;4&#39;</span><span class="op" id="7798033">,</span>&nbsp;<span class="string" id="7798035">&#39;5&#39;</span><span class="op" id="7798038">,</span>&nbsp;<span class="string" id="7798040">&#39;6&#39;</span><span class="op" id="7798043">,</span>&nbsp;<span class="string" id="7798045">&#39;7&#39;</span><span class="op" id="7798048">,</span>&nbsp;<span class="string" id="7798050">&#39;8&#39;</span><span class="op" id="7798053">,</span>&nbsp;<span class="string" id="7798055">&#39;9&#39;</span><span class="op" id="7798058">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798063">t</span><span class="op" id="7798064">.</span><span class="ident" id="7798065">Logf</span><span class="op" id="7798069">(</span><span class="string" id="7798070">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7798080">,</span>&nbsp;<span class="ident" id="7798082">line</span><span class="op" id="7798086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7798091">continue</span>&nbsp;<span class="ident" id="7798100">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7798115">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7798193">if</span>&nbsp;<span class="builtinfunc" id="7798196">len</span><span class="op" id="7798199">(</span><span class="ident" id="7798200">field</span><span class="op" id="7798205">)</span>&nbsp;<span class="op" id="7798207">&lt;</span>&nbsp;<span class="num" id="7798209">4</span>&nbsp;<span class="op" id="7798211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798216">t</span><span class="op" id="7798217">.</span><span class="ident" id="7798218">Errorf</span><span class="op" id="7798224">(</span><span class="string" id="7798225">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="7798252">,</span>&nbsp;<span class="ident" id="7798254">file</span><span class="op" id="7798258">,</span>&nbsp;<span class="ident" id="7798260">lineno</span><span class="op" id="7798266">,</span>&nbsp;<span class="ident" id="7798268">line</span><span class="op" id="7798272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7798277">continue</span>&nbsp;<span class="ident" id="7798286">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798296">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7798301">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7798344">if</span>&nbsp;<span class="ident" id="7798347">strings</span><span class="op" id="7798354">.</span><span class="ident" id="7798355">Contains</span><span class="op" id="7798363">(</span><span class="ident" id="7798364">flag</span><span class="op" id="7798368">,</span>&nbsp;<span class="string" id="7798370">&#34;$&#34;</span><span class="op" id="7798373">)</span>&nbsp;<span class="op" id="7798375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798380">f</span>&nbsp;<span class="op" id="7798382">:=</span>&nbsp;<span class="string" id="7798385">`&#34;`</span>&nbsp;<span class="op" id="7798389">+</span>&nbsp;<span class="ident" id="7798391">field</span><span class="op" id="7798396">[</span><span class="num" id="7798397">1</span><span class="op" id="7798398">]</span>&nbsp;<span class="op" id="7798400">+</span>&nbsp;<span class="string" id="7798402">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7798409">if</span>&nbsp;<span class="ident" id="7798412">field</span><span class="op" id="7798417">[</span><span class="num" id="7798418">1</span><span class="op" id="7798419">]</span><span class="op" id="7798420">,</span>&nbsp;<span class="ident" id="7798422">err</span>&nbsp;<span class="op" id="7798426">=</span>&nbsp;<span class="ident" id="7798428">strconv</span><span class="op" id="7798435">.</span><span class="ident" id="7798436">Unquote</span><span class="op" id="7798443">(</span><span class="ident" id="7798444">f</span><span class="op" id="7798445">)</span><span class="op" id="7798446">;</span>&nbsp;<span class="ident" id="7798448">err</span>&nbsp;<span class="op" id="7798452">!=</span>&nbsp;<span class="builtintype" id="7798455">nil</span>&nbsp;<span class="op" id="7798459">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798465">t</span><span class="op" id="7798466">.</span><span class="ident" id="7798467">Errorf</span><span class="op" id="7798473">(</span><span class="string" id="7798474">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7798500">,</span>&nbsp;<span class="ident" id="7798502">file</span><span class="op" id="7798506">,</span>&nbsp;<span class="ident" id="7798508">lineno</span><span class="op" id="7798514">,</span>&nbsp;<span class="ident" id="7798516">f</span><span class="op" id="7798517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798527">f</span>&nbsp;<span class="op" id="7798529">=</span>&nbsp;<span class="string" id="7798531">`&#34;`</span>&nbsp;<span class="op" id="7798535">+</span>&nbsp;<span class="ident" id="7798537">field</span><span class="op" id="7798542">[</span><span class="num" id="7798543">2</span><span class="op" id="7798544">]</span>&nbsp;<span class="op" id="7798546">+</span>&nbsp;<span class="string" id="7798548">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7798555">if</span>&nbsp;<span class="ident" id="7798558">field</span><span class="op" id="7798563">[</span><span class="num" id="7798564">2</span><span class="op" id="7798565">]</span><span class="op" id="7798566">,</span>&nbsp;<span class="ident" id="7798568">err</span>&nbsp;<span class="op" id="7798572">=</span>&nbsp;<span class="ident" id="7798574">strconv</span><span class="op" id="7798581">.</span><span class="ident" id="7798582">Unquote</span><span class="op" id="7798589">(</span><span class="ident" id="7798590">f</span><span class="op" id="7798591">)</span><span class="op" id="7798592">;</span>&nbsp;<span class="ident" id="7798594">err</span>&nbsp;<span class="op" id="7798598">!=</span>&nbsp;<span class="builtintype" id="7798601">nil</span>&nbsp;<span class="op" id="7798605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798611">t</span><span class="op" id="7798612">.</span><span class="ident" id="7798613">Errorf</span><span class="op" id="7798619">(</span><span class="string" id="7798620">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7798646">,</span>&nbsp;<span class="ident" id="7798648">file</span><span class="op" id="7798652">,</span>&nbsp;<span class="ident" id="7798654">lineno</span><span class="op" id="7798660">,</span>&nbsp;<span class="ident" id="7798662">f</span><span class="op" id="7798663">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7798677">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7798752">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7798789">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7798794">if</span>&nbsp;<span class="ident" id="7798797">field</span><span class="op" id="7798802">[</span><span class="num" id="7798803">1</span><span class="op" id="7798804">]</span>&nbsp;<span class="op" id="7798806">==</span>&nbsp;<span class="string" id="7798809">&#34;SAME&#34;</span>&nbsp;<span class="op" id="7798816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798821">field</span><span class="op" id="7798826">[</span><span class="num" id="7798827">1</span><span class="op" id="7798828">]</span>&nbsp;<span class="op" id="7798830">=</span>&nbsp;<span class="ident" id="7798832">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798849">lastRegexp</span>&nbsp;<span class="op" id="7798860">=</span>&nbsp;<span class="ident" id="7798862">field</span><span class="op" id="7798867">[</span><span class="num" id="7798868">1</span><span class="op" id="7798869">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7798874">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798911">text</span>&nbsp;<span class="op" id="7798916">:=</span>&nbsp;<span class="ident" id="7798919">field</span><span class="op" id="7798924">[</span><span class="num" id="7798925">2</span><span class="op" id="7798926">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7798931">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798967">ok</span><span class="op" id="7798969">,</span>&nbsp;<span class="ident" id="7798971">shouldCompile</span><span class="op" id="7798984">,</span>&nbsp;<span class="ident" id="7798986">shouldMatch</span><span class="op" id="7798997">,</span>&nbsp;<span class="ident" id="7798999">pos</span>&nbsp;<span class="op" id="7799003">:=</span>&nbsp;<span class="ident" id="7799006">parseFowlerResult</span><span class="op" id="7799023">(</span><span class="ident" id="7799024">field</span><span class="op" id="7799029">[</span><span class="num" id="7799030">3</span><span class="op" id="7799031">]</span><span class="op" id="7799032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799036">if</span>&nbsp;<span class="op" id="7799039">!</span><span class="ident" id="7799040">ok</span>&nbsp;<span class="op" id="7799043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799048">t</span><span class="op" id="7799049">.</span><span class="ident" id="7799050">Errorf</span><span class="op" id="7799056">(</span><span class="string" id="7799057">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="7799089">,</span>&nbsp;<span class="ident" id="7799091">file</span><span class="op" id="7799095">,</span>&nbsp;<span class="ident" id="7799097">lineno</span><span class="op" id="7799103">,</span>&nbsp;<span class="ident" id="7799105">field</span><span class="op" id="7799110">[</span><span class="num" id="7799111">3</span><span class="op" id="7799112">]</span><span class="op" id="7799113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799118">continue</span>&nbsp;<span class="ident" id="7799127">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799137">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7799142">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799199">Testing</span><span class="op" id="7799206">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7799210">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799285">for</span>&nbsp;<span class="ident" id="7799289">_</span><span class="op" id="7799290">,</span>&nbsp;<span class="ident" id="7799292">c</span>&nbsp;<span class="op" id="7799294">:=</span>&nbsp;<span class="keyword" id="7799297">range</span>&nbsp;<span class="ident" id="7799303">flag</span>&nbsp;<span class="op" id="7799308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799313">pattern</span>&nbsp;<span class="op" id="7799321">:=</span>&nbsp;<span class="ident" id="7799324">field</span><span class="op" id="7799329">[</span><span class="num" id="7799330">1</span><span class="op" id="7799331">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799336">syn</span>&nbsp;<span class="op" id="7799340">:=</span>&nbsp;<span class="ident" id="7799343">syntax</span><span class="op" id="7799349">.</span><span class="ident" id="7799350">POSIX</span>&nbsp;<span class="op" id="7799356">|</span>&nbsp;<span class="ident" id="7799358">syntax</span><span class="op" id="7799364">.</span><span class="ident" id="7799365">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799376">switch</span>&nbsp;<span class="ident" id="7799383">c</span>&nbsp;<span class="op" id="7799385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799390">default</span><span class="op" id="7799397">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799403">continue</span>&nbsp;<span class="ident" id="7799412">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799423">case</span>&nbsp;<span class="string" id="7799428">&#39;E&#39;</span><span class="op" id="7799431">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7799437">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799477">case</span>&nbsp;<span class="string" id="7799482">&#39;L&#39;</span><span class="op" id="7799485">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7799491">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799506">pattern</span>&nbsp;<span class="op" id="7799514">=</span>&nbsp;<span class="ident" id="7799516">QuoteMeta</span><span class="op" id="7799525">(</span><span class="ident" id="7799526">pattern</span><span class="op" id="7799533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799544">for</span>&nbsp;<span class="ident" id="7799548">_</span><span class="op" id="7799549">,</span>&nbsp;<span class="ident" id="7799551">c</span>&nbsp;<span class="op" id="7799553">:=</span>&nbsp;<span class="keyword" id="7799556">range</span>&nbsp;<span class="ident" id="7799562">flag</span>&nbsp;<span class="op" id="7799567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799573">switch</span>&nbsp;<span class="ident" id="7799580">c</span>&nbsp;<span class="op" id="7799582">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799588">case</span>&nbsp;<span class="string" id="7799593">&#39;i&#39;</span><span class="op" id="7799596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799603">syn</span>&nbsp;<span class="op" id="7799607">|=</span>&nbsp;<span class="ident" id="7799610">syntax</span><span class="op" id="7799616">.</span><span class="ident" id="7799617">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799641">re</span><span class="op" id="7799643">,</span>&nbsp;<span class="ident" id="7799645">err</span>&nbsp;<span class="op" id="7799649">:=</span>&nbsp;<span class="ident" id="7799652">compile</span><span class="op" id="7799659">(</span><span class="ident" id="7799660">pattern</span><span class="op" id="7799667">,</span>&nbsp;<span class="ident" id="7799669">syn</span><span class="op" id="7799672">,</span>&nbsp;<span class="builtintype" id="7799674">true</span><span class="op" id="7799678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799683">if</span>&nbsp;<span class="ident" id="7799686">err</span>&nbsp;<span class="op" id="7799690">!=</span>&nbsp;<span class="builtintype" id="7799693">nil</span>&nbsp;<span class="op" id="7799697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799703">if</span>&nbsp;<span class="ident" id="7799706">shouldCompile</span>&nbsp;<span class="op" id="7799720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799727">t</span><span class="op" id="7799728">.</span><span class="ident" id="7799729">Errorf</span><span class="op" id="7799735">(</span><span class="string" id="7799736">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7799764">,</span>&nbsp;<span class="ident" id="7799766">file</span><span class="op" id="7799770">,</span>&nbsp;<span class="ident" id="7799772">lineno</span><span class="op" id="7799778">,</span>&nbsp;<span class="ident" id="7799780">pattern</span><span class="op" id="7799787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799793">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799799">continue</span>&nbsp;<span class="ident" id="7799808">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799824">if</span>&nbsp;<span class="op" id="7799827">!</span><span class="ident" id="7799828">shouldCompile</span>&nbsp;<span class="op" id="7799842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799848">t</span><span class="op" id="7799849">.</span><span class="ident" id="7799850">Errorf</span><span class="op" id="7799856">(</span><span class="string" id="7799857">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7799888">,</span>&nbsp;<span class="ident" id="7799890">file</span><span class="op" id="7799894">,</span>&nbsp;<span class="ident" id="7799896">lineno</span><span class="op" id="7799902">,</span>&nbsp;<span class="ident" id="7799904">pattern</span><span class="op" id="7799911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799917">continue</span>&nbsp;<span class="ident" id="7799926">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7799942">match</span>&nbsp;<span class="op" id="7799948">:=</span>&nbsp;<span class="ident" id="7799951">re</span><span class="op" id="7799953">.</span><span class="ident" id="7799954">MatchString</span><span class="op" id="7799965">(</span><span class="ident" id="7799966">text</span><span class="op" id="7799970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799975">if</span>&nbsp;<span class="ident" id="7799978">match</span>&nbsp;<span class="op" id="7799984">!=</span>&nbsp;<span class="ident" id="7799987">shouldMatch</span>&nbsp;<span class="op" id="7799999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800005">t</span><span class="op" id="7800006">.</span><span class="ident" id="7800007">Errorf</span><span class="op" id="7800013">(</span><span class="string" id="7800014">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7800051">,</span>&nbsp;<span class="ident" id="7800053">file</span><span class="op" id="7800057">,</span>&nbsp;<span class="ident" id="7800059">lineno</span><span class="op" id="7800065">,</span>&nbsp;<span class="ident" id="7800067">pattern</span><span class="op" id="7800074">,</span>&nbsp;<span class="ident" id="7800076">text</span><span class="op" id="7800080">,</span>&nbsp;<span class="ident" id="7800082">match</span><span class="op" id="7800087">,</span>&nbsp;<span class="ident" id="7800089">shouldMatch</span><span class="op" id="7800100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800106">continue</span>&nbsp;<span class="ident" id="7800115">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800131">have</span>&nbsp;<span class="op" id="7800136">:=</span>&nbsp;<span class="ident" id="7800139">re</span><span class="op" id="7800141">.</span><span class="ident" id="7800142">FindStringSubmatchIndex</span><span class="op" id="7800165">(</span><span class="ident" id="7800166">text</span><span class="op" id="7800170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800175">if</span>&nbsp;<span class="op" id="7800178">(</span><span class="builtinfunc" id="7800179">len</span><span class="op" id="7800182">(</span><span class="ident" id="7800183">have</span><span class="op" id="7800187">)</span>&nbsp;<span class="op" id="7800189">&gt;</span>&nbsp;<span class="num" id="7800191">0</span><span class="op" id="7800192">)</span>&nbsp;<span class="op" id="7800194">!=</span>&nbsp;<span class="ident" id="7800197">match</span>&nbsp;<span class="op" id="7800203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800209">t</span><span class="op" id="7800210">.</span><span class="ident" id="7800211">Errorf</span><span class="op" id="7800217">(</span><span class="string" id="7800218">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7800283">,</span>&nbsp;<span class="ident" id="7800285">file</span><span class="op" id="7800289">,</span>&nbsp;<span class="ident" id="7800291">lineno</span><span class="op" id="7800297">,</span>&nbsp;<span class="ident" id="7800299">pattern</span><span class="op" id="7800306">,</span>&nbsp;<span class="ident" id="7800308">text</span><span class="op" id="7800312">,</span>&nbsp;<span class="ident" id="7800314">match</span><span class="op" id="7800319">,</span>&nbsp;<span class="ident" id="7800321">pattern</span><span class="op" id="7800328">,</span>&nbsp;<span class="ident" id="7800330">text</span><span class="op" id="7800334">,</span>&nbsp;<span class="ident" id="7800336">have</span><span class="op" id="7800340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800346">continue</span>&nbsp;<span class="ident" id="7800355">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800371">if</span>&nbsp;<span class="builtinfunc" id="7800374">len</span><span class="op" id="7800377">(</span><span class="ident" id="7800378">have</span><span class="op" id="7800382">)</span>&nbsp;<span class="op" id="7800384">&gt;</span>&nbsp;<span class="builtinfunc" id="7800386">len</span><span class="op" id="7800389">(</span><span class="ident" id="7800390">pos</span><span class="op" id="7800393">)</span>&nbsp;<span class="op" id="7800395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800401">have</span>&nbsp;<span class="op" id="7800406">=</span>&nbsp;<span class="ident" id="7800408">have</span><span class="op" id="7800412">[</span><span class="op" id="7800413">:</span><span class="builtinfunc" id="7800414">len</span><span class="op" id="7800417">(</span><span class="ident" id="7800418">pos</span><span class="op" id="7800421">)</span><span class="op" id="7800422">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800432">if</span>&nbsp;<span class="op" id="7800435">!</span><span class="ident" id="7800436">same</span><span class="op" id="7800440">(</span><span class="ident" id="7800441">have</span><span class="op" id="7800445">,</span>&nbsp;<span class="ident" id="7800447">pos</span><span class="op" id="7800450">)</span>&nbsp;<span class="op" id="7800452">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800458">t</span><span class="op" id="7800459">.</span><span class="ident" id="7800460">Errorf</span><span class="op" id="7800466">(</span><span class="string" id="7800467">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7800516">,</span>&nbsp;<span class="ident" id="7800518">file</span><span class="op" id="7800522">,</span>&nbsp;<span class="ident" id="7800524">lineno</span><span class="op" id="7800530">,</span>&nbsp;<span class="ident" id="7800532">pattern</span><span class="op" id="7800539">,</span>&nbsp;<span class="ident" id="7800541">text</span><span class="op" id="7800545">,</span>&nbsp;<span class="ident" id="7800547">have</span><span class="op" id="7800551">,</span>&nbsp;<span class="ident" id="7800553">pos</span><span class="op" id="7800556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800568">}</span><br>
<span class="lineno"></span><span class="op" id="7800570">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="7800573">func</span>&nbsp;<span class="ident" id="7800578">parseFowlerResult</span><span class="op" id="7800595">(</span><span class="ident" id="7800596">s</span>&nbsp;<span class="builtintype" id="7800598">string</span><span class="op" id="7800604">)</span>&nbsp;<span class="op" id="7800606">(</span><span class="ident" id="7800607">ok</span><span class="op" id="7800609">,</span>&nbsp;<span class="ident" id="7800611">compiled</span><span class="op" id="7800619">,</span>&nbsp;<span class="ident" id="7800621">matched</span>&nbsp;<span class="builtintype" id="7800629">bool</span><span class="op" id="7800633">,</span>&nbsp;<span class="ident" id="7800635">pos</span>&nbsp;<span class="op" id="7800639">[</span><span class="op" id="7800640">]</span><span class="builtintype" id="7800641">int</span><span class="op" id="7800644">)</span>&nbsp;<span class="op" id="7800646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7800649">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7800720">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7800790">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7800859">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7800929">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7800998">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801069">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801144">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801220">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801293">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801369">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801445">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801517">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801592">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801610">switch</span>&nbsp;<span class="op" id="7801617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801620">case</span>&nbsp;<span class="ident" id="7801625">s</span>&nbsp;<span class="op" id="7801627">==</span>&nbsp;<span class="string" id="7801630">&#34;&#34;</span><span class="op" id="7801632">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801636">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801677">ok</span>&nbsp;<span class="op" id="7801680">=</span>&nbsp;<span class="builtintype" id="7801682">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801689">compiled</span>&nbsp;<span class="op" id="7801698">=</span>&nbsp;<span class="builtintype" id="7801700">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801707">matched</span>&nbsp;<span class="op" id="7801715">=</span>&nbsp;<span class="builtintype" id="7801717">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801724">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801732">case</span>&nbsp;<span class="ident" id="7801737">s</span>&nbsp;<span class="op" id="7801739">==</span>&nbsp;<span class="string" id="7801742">&#34;NOMATCH&#34;</span><span class="op" id="7801751">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801755">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801775">ok</span>&nbsp;<span class="op" id="7801778">=</span>&nbsp;<span class="builtintype" id="7801780">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801787">compiled</span>&nbsp;<span class="op" id="7801796">=</span>&nbsp;<span class="builtintype" id="7801798">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801805">matched</span>&nbsp;<span class="op" id="7801813">=</span>&nbsp;<span class="builtintype" id="7801815">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801823">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801831">case</span>&nbsp;<span class="string" id="7801836">&#39;A&#39;</span>&nbsp;<span class="op" id="7801840">&lt;=</span>&nbsp;<span class="ident" id="7801843">s</span><span class="op" id="7801844">[</span><span class="num" id="7801845">0</span><span class="op" id="7801846">]</span>&nbsp;<span class="op" id="7801848">&amp;&amp;</span>&nbsp;<span class="ident" id="7801851">s</span><span class="op" id="7801852">[</span><span class="num" id="7801853">0</span><span class="op" id="7801854">]</span>&nbsp;<span class="op" id="7801856">&lt;=</span>&nbsp;<span class="string" id="7801859">&#39;Z&#39;</span><span class="op" id="7801862">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801866">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801917">ok</span>&nbsp;<span class="op" id="7801920">=</span>&nbsp;<span class="builtintype" id="7801922">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801929">compiled</span>&nbsp;<span class="op" id="7801938">=</span>&nbsp;<span class="builtintype" id="7801940">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801948">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801956">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801959">compiled</span>&nbsp;<span class="op" id="7801968">=</span>&nbsp;<span class="builtintype" id="7801970">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801977">var</span>&nbsp;<span class="ident" id="7801981">x</span>&nbsp;<span class="op" id="7801983">[</span><span class="op" id="7801984">]</span><span class="builtintype" id="7801985">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801990">for</span>&nbsp;<span class="ident" id="7801994">s</span>&nbsp;<span class="op" id="7801996">!=</span>&nbsp;<span class="string" id="7801999">&#34;&#34;</span>&nbsp;<span class="op" id="7802002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802006">var</span>&nbsp;<span class="ident" id="7802010">end</span>&nbsp;<span class="builtintype" id="7802014">byte</span>&nbsp;<span class="op" id="7802019">=</span>&nbsp;<span class="string" id="7802021">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802027">if</span>&nbsp;<span class="builtinfunc" id="7802030">len</span><span class="op" id="7802033">(</span><span class="ident" id="7802034">x</span><span class="op" id="7802035">)</span><span class="op" id="7802036">%</span><span class="num" id="7802037">2</span>&nbsp;<span class="op" id="7802039">==</span>&nbsp;<span class="num" id="7802042">0</span>&nbsp;<span class="op" id="7802044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802049">if</span>&nbsp;<span class="ident" id="7802052">s</span><span class="op" id="7802053">[</span><span class="num" id="7802054">0</span><span class="op" id="7802055">]</span>&nbsp;<span class="op" id="7802057">!=</span>&nbsp;<span class="string" id="7802060">&#39;(&#39;</span>&nbsp;<span class="op" id="7802064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802070">ok</span>&nbsp;<span class="op" id="7802073">=</span>&nbsp;<span class="builtintype" id="7802075">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802085">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802095">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802100">s</span>&nbsp;<span class="op" id="7802102">=</span>&nbsp;<span class="ident" id="7802104">s</span><span class="op" id="7802105">[</span><span class="num" id="7802106">1</span><span class="op" id="7802107">:</span><span class="op" id="7802108">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802113">end</span>&nbsp;<span class="op" id="7802117">=</span>&nbsp;<span class="string" id="7802119">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802129">i</span>&nbsp;<span class="op" id="7802131">:=</span>&nbsp;<span class="num" id="7802134">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802138">for</span>&nbsp;<span class="ident" id="7802142">i</span>&nbsp;<span class="op" id="7802144">&lt;</span>&nbsp;<span class="builtinfunc" id="7802146">len</span><span class="op" id="7802149">(</span><span class="ident" id="7802150">s</span><span class="op" id="7802151">)</span>&nbsp;<span class="op" id="7802153">&amp;&amp;</span>&nbsp;<span class="ident" id="7802156">s</span><span class="op" id="7802157">[</span><span class="ident" id="7802158">i</span><span class="op" id="7802159">]</span>&nbsp;<span class="op" id="7802161">!=</span>&nbsp;<span class="ident" id="7802164">end</span>&nbsp;<span class="op" id="7802168">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802173">i</span><span class="op" id="7802174">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802183">if</span>&nbsp;<span class="ident" id="7802186">i</span>&nbsp;<span class="op" id="7802188">==</span>&nbsp;<span class="num" id="7802191">0</span>&nbsp;<span class="op" id="7802193">||</span>&nbsp;<span class="ident" id="7802196">i</span>&nbsp;<span class="op" id="7802198">==</span>&nbsp;<span class="builtinfunc" id="7802201">len</span><span class="op" id="7802204">(</span><span class="ident" id="7802205">s</span><span class="op" id="7802206">)</span>&nbsp;<span class="op" id="7802208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802213">ok</span>&nbsp;<span class="op" id="7802216">=</span>&nbsp;<span class="builtintype" id="7802218">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802227">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802240">var</span>&nbsp;<span class="ident" id="7802244">v</span>&nbsp;<span class="op" id="7802246">=</span>&nbsp;<span class="op" id="7802248">-</span><span class="num" id="7802249">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802253">var</span>&nbsp;<span class="ident" id="7802257">err</span>&nbsp;<span class="builtintype" id="7802261">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802269">if</span>&nbsp;<span class="ident" id="7802272">s</span><span class="op" id="7802273">[</span><span class="op" id="7802274">:</span><span class="ident" id="7802275">i</span><span class="op" id="7802276">]</span>&nbsp;<span class="op" id="7802278">!=</span>&nbsp;<span class="string" id="7802281">&#34;?&#34;</span>&nbsp;<span class="op" id="7802285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802290">v</span><span class="op" id="7802291">,</span>&nbsp;<span class="ident" id="7802293">err</span>&nbsp;<span class="op" id="7802297">=</span>&nbsp;<span class="ident" id="7802299">strconv</span><span class="op" id="7802306">.</span><span class="ident" id="7802307">Atoi</span><span class="op" id="7802311">(</span><span class="ident" id="7802312">s</span><span class="op" id="7802313">[</span><span class="op" id="7802314">:</span><span class="ident" id="7802315">i</span><span class="op" id="7802316">]</span><span class="op" id="7802317">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802322">if</span>&nbsp;<span class="ident" id="7802325">err</span>&nbsp;<span class="op" id="7802329">!=</span>&nbsp;<span class="builtintype" id="7802332">nil</span>&nbsp;<span class="op" id="7802336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802342">ok</span>&nbsp;<span class="op" id="7802345">=</span>&nbsp;<span class="builtintype" id="7802347">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802357">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802371">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802375">x</span>&nbsp;<span class="op" id="7802377">=</span>&nbsp;<span class="builtinfunc" id="7802379">append</span><span class="op" id="7802385">(</span><span class="ident" id="7802386">x</span><span class="op" id="7802387">,</span>&nbsp;<span class="ident" id="7802389">v</span><span class="op" id="7802390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802394">s</span>&nbsp;<span class="op" id="7802396">=</span>&nbsp;<span class="ident" id="7802398">s</span><span class="op" id="7802399">[</span><span class="ident" id="7802400">i</span><span class="op" id="7802401">+</span><span class="num" id="7802402">1</span><span class="op" id="7802403">:</span><span class="op" id="7802404">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802410">if</span>&nbsp;<span class="builtinfunc" id="7802413">len</span><span class="op" id="7802416">(</span><span class="ident" id="7802417">x</span><span class="op" id="7802418">)</span><span class="op" id="7802419">%</span><span class="num" id="7802420">2</span>&nbsp;<span class="op" id="7802422">!=</span>&nbsp;<span class="num" id="7802425">0</span>&nbsp;<span class="op" id="7802427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802431">ok</span>&nbsp;<span class="op" id="7802434">=</span>&nbsp;<span class="builtintype" id="7802436">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802444">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802455">ok</span>&nbsp;<span class="op" id="7802458">=</span>&nbsp;<span class="builtintype" id="7802460">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802466">matched</span>&nbsp;<span class="op" id="7802474">=</span>&nbsp;<span class="builtintype" id="7802476">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802482">pos</span>&nbsp;<span class="op" id="7802486">=</span>&nbsp;<span class="ident" id="7802488">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802491">return</span><br>
<span class="lineno"></span><span class="op" id="7802498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7802501">var</span>&nbsp;<span class="ident" id="7802505">text</span>&nbsp;<span class="op" id="7802510">[</span><span class="op" id="7802511">]</span><span class="builtintype" id="7802512">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="7802518">func</span>&nbsp;<span class="ident" id="7802523">makeText</span><span class="op" id="7802531">(</span><span class="ident" id="7802532">n</span>&nbsp;<span class="builtintype" id="7802534">int</span><span class="op" id="7802537">)</span>&nbsp;<span class="op" id="7802539">[</span><span class="op" id="7802540">]</span><span class="builtintype" id="7802541">byte</span>&nbsp;<span class="op" id="7802546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802549">if</span>&nbsp;<span class="builtinfunc" id="7802552">len</span><span class="op" id="7802555">(</span><span class="ident" id="7802556">text</span><span class="op" id="7802560">)</span>&nbsp;<span class="op" id="7802562">&gt;=</span>&nbsp;<span class="ident" id="7802565">n</span>&nbsp;<span class="op" id="7802567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802571">return</span>&nbsp;<span class="ident" id="7802578">text</span><span class="op" id="7802582">[</span><span class="op" id="7802583">:</span><span class="ident" id="7802584">n</span><span class="op" id="7802585">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802591">text</span>&nbsp;<span class="op" id="7802596">=</span>&nbsp;<span class="builtinfunc" id="7802598">make</span><span class="op" id="7802602">(</span><span class="op" id="7802603">[</span><span class="op" id="7802604">]</span><span class="builtintype" id="7802605">byte</span><span class="op" id="7802609">,</span>&nbsp;<span class="ident" id="7802611">n</span><span class="op" id="7802612">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802615">x</span>&nbsp;<span class="op" id="7802617">:=</span>&nbsp;<span class="op" id="7802620">^</span><span class="builtintype" id="7802621">uint32</span><span class="op" id="7802627">(</span><span class="num" id="7802628">0</span><span class="op" id="7802629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802632">for</span>&nbsp;<span class="ident" id="7802636">i</span>&nbsp;<span class="op" id="7802638">:=</span>&nbsp;<span class="keyword" id="7802641">range</span>&nbsp;<span class="ident" id="7802647">text</span>&nbsp;<span class="op" id="7802652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802656">x</span>&nbsp;<span class="op" id="7802658">+=</span>&nbsp;<span class="ident" id="7802661">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802665">x</span>&nbsp;<span class="op" id="7802667">^=</span>&nbsp;<span class="num" id="7802670">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802674">if</span>&nbsp;<span class="builtintype" id="7802677">int32</span><span class="op" id="7802682">(</span><span class="ident" id="7802683">x</span><span class="op" id="7802684">)</span>&nbsp;<span class="op" id="7802686">&lt;</span>&nbsp;<span class="num" id="7802688">0</span>&nbsp;<span class="op" id="7802690">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802695">x</span>&nbsp;<span class="op" id="7802697">^=</span>&nbsp;<span class="num" id="7802700">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802717">if</span>&nbsp;<span class="ident" id="7802720">x</span><span class="op" id="7802721">%</span><span class="num" id="7802722">31</span>&nbsp;<span class="op" id="7802725">==</span>&nbsp;<span class="num" id="7802728">0</span>&nbsp;<span class="op" id="7802730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802735">text</span><span class="op" id="7802739">[</span><span class="ident" id="7802740">i</span><span class="op" id="7802741">]</span>&nbsp;<span class="op" id="7802743">=</span>&nbsp;<span class="string" id="7802745">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802752">}</span>&nbsp;<span class="keyword" id="7802754">else</span>&nbsp;<span class="op" id="7802759">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802764">text</span><span class="op" id="7802768">[</span><span class="ident" id="7802769">i</span><span class="op" id="7802770">]</span>&nbsp;<span class="op" id="7802772">=</span>&nbsp;<span class="builtintype" id="7802774">byte</span><span class="op" id="7802778">(</span><span class="ident" id="7802779">x</span><span class="op" id="7802780">%</span><span class="op" id="7802781">(</span><span class="num" id="7802782">0x7E</span><span class="op" id="7802786">+</span><span class="num" id="7802787">1</span><span class="op" id="7802788">-</span><span class="num" id="7802789">0x20</span><span class="op" id="7802793">)</span>&nbsp;<span class="op" id="7802795">+</span>&nbsp;<span class="num" id="7802797">0x20</span><span class="op" id="7802801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802811">return</span>&nbsp;<span class="ident" id="7802818">text</span><br>
<span class="lineno"></span><span class="op" id="7802823">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7802826">func</span>&nbsp;<span class="ident" id="7802831">benchmark</span><span class="op" id="7802840">(</span><span class="ident" id="7802841">b</span>&nbsp;<span class="op" id="7802843">*</span><span class="ident" id="7802844">testing</span><span class="op" id="7802851">.</span><span class="ident" id="7802852">B</span><span class="op" id="7802853">,</span>&nbsp;<span class="ident" id="7802855">re</span>&nbsp;<span class="builtintype" id="7802858">string</span><span class="op" id="7802864">,</span>&nbsp;<span class="ident" id="7802866">n</span>&nbsp;<span class="builtintype" id="7802868">int</span><span class="op" id="7802871">)</span>&nbsp;<span class="op" id="7802873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802876">r</span>&nbsp;<span class="op" id="7802878">:=</span>&nbsp;<span class="ident" id="7802881">MustCompile</span><span class="op" id="7802892">(</span><span class="ident" id="7802893">re</span><span class="op" id="7802895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802898">t</span>&nbsp;<span class="op" id="7802900">:=</span>&nbsp;<span class="ident" id="7802903">makeText</span><span class="op" id="7802911">(</span><span class="ident" id="7802912">n</span><span class="op" id="7802913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802916">b</span><span class="op" id="7802917">.</span><span class="ident" id="7802918">ResetTimer</span><span class="op" id="7802928">(</span><span class="op" id="7802929">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802932">b</span><span class="op" id="7802933">.</span><span class="ident" id="7802934">SetBytes</span><span class="op" id="7802942">(</span><span class="ident" id="7802943">int64</span><span class="op" id="7802948">(</span><span class="ident" id="7802949">n</span><span class="op" id="7802950">)</span><span class="op" id="7802951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802954">for</span>&nbsp;<span class="ident" id="7802958">i</span>&nbsp;<span class="op" id="7802960">:=</span>&nbsp;<span class="num" id="7802963">0</span><span class="op" id="7802964">;</span>&nbsp;<span class="ident" id="7802966">i</span>&nbsp;<span class="op" id="7802968">&lt;</span>&nbsp;<span class="ident" id="7802970">b</span><span class="op" id="7802971">.</span><span class="ident" id="7802972">N</span><span class="op" id="7802973">;</span>&nbsp;<span class="ident" id="7802975">i</span><span class="op" id="7802976">++</span>&nbsp;<span class="op" id="7802979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802983">if</span>&nbsp;<span class="ident" id="7802986">r</span><span class="op" id="7802987">.</span><span class="ident" id="7802988">Match</span><span class="op" id="7802993">(</span><span class="ident" id="7802994">t</span><span class="op" id="7802995">)</span>&nbsp;<span class="op" id="7802997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7803002">b</span><span class="op" id="7803003">.</span><span class="ident" id="7803004">Fatal</span><span class="op" id="7803009">(</span><span class="string" id="7803010">&#34;match!&#34;</span><span class="op" id="7803018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803022">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803025">}</span><br>
<span class="lineno"></span><span class="op" id="7803027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7803030">const</span>&nbsp;<span class="op" id="7803036">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7803039">easy0</span>&nbsp;&nbsp;<span class="op" id="7803046">=</span>&nbsp;<span class="string" id="7803048">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7803079">easy1</span>&nbsp;&nbsp;<span class="op" id="7803086">=</span>&nbsp;<span class="string" id="7803088">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7803139">medium</span>&nbsp;<span class="op" id="7803146">=</span>&nbsp;<span class="string" id="7803148">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7803184">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7803191">=</span>&nbsp;<span class="string" id="7803193">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7803230">parens</span>&nbsp;<span class="op" id="7803237">=</span>&nbsp;<span class="string" id="7803239">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="7803289">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7803293">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="7803336">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7803339">func</span>&nbsp;<span class="ident" id="7803344">BenchmarkMatchEasy0_32</span><span class="op" id="7803366">(</span><span class="ident" id="7803367">b</span>&nbsp;<span class="op" id="7803369">*</span><span class="ident" id="7803370">testing</span><span class="op" id="7803377">.</span><span class="ident" id="7803378">B</span><span class="op" id="7803379">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7803383">{</span>&nbsp;<span class="ident" id="7803385">benchmark</span><span class="op" id="7803394">(</span><span class="ident" id="7803395">b</span><span class="op" id="7803396">,</span>&nbsp;<span class="ident" id="7803398">easy0</span><span class="op" id="7803403">,</span>&nbsp;<span class="num" id="7803405">32</span><span class="op" id="7803407">&lt;&lt;</span><span class="num" id="7803409">0</span><span class="op" id="7803410">)</span>&nbsp;<span class="op" id="7803412">}</span><br>
<span class="lineno"></span><span class="keyword" id="7803414">func</span>&nbsp;<span class="ident" id="7803419">BenchmarkMatchEasy0_1K</span><span class="op" id="7803441">(</span><span class="ident" id="7803442">b</span>&nbsp;<span class="op" id="7803444">*</span><span class="ident" id="7803445">testing</span><span class="op" id="7803452">.</span><span class="ident" id="7803453">B</span><span class="op" id="7803454">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7803458">{</span>&nbsp;<span class="ident" id="7803460">benchmark</span><span class="op" id="7803469">(</span><span class="ident" id="7803470">b</span><span class="op" id="7803471">,</span>&nbsp;<span class="ident" id="7803473">easy0</span><span class="op" id="7803478">,</span>&nbsp;<span class="num" id="7803480">1</span><span class="op" id="7803481">&lt;&lt;</span><span class="num" id="7803483">10</span><span class="op" id="7803485">)</span>&nbsp;<span class="op" id="7803487">}</span><br>
<span class="lineno"></span><span class="keyword" id="7803489">func</span>&nbsp;<span class="ident" id="7803494">BenchmarkMatchEasy0_32K</span><span class="op" id="7803517">(</span><span class="ident" id="7803518">b</span>&nbsp;<span class="op" id="7803520">*</span><span class="ident" id="7803521">testing</span><span class="op" id="7803528">.</span><span class="ident" id="7803529">B</span><span class="op" id="7803530">)</span>&nbsp;&nbsp;<span class="op" id="7803533">{</span>&nbsp;<span class="ident" id="7803535">benchmark</span><span class="op" id="7803544">(</span><span class="ident" id="7803545">b</span><span class="op" id="7803546">,</span>&nbsp;<span class="ident" id="7803548">easy0</span><span class="op" id="7803553">,</span>&nbsp;<span class="num" id="7803555">32</span><span class="op" id="7803557">&lt;&lt;</span><span class="num" id="7803559">10</span><span class="op" id="7803561">)</span>&nbsp;<span class="op" id="7803563">}</span><br>
<span class="lineno">685</span><span class="keyword" id="7803565">func</span>&nbsp;<span class="ident" id="7803570">BenchmarkMatchEasy0_1M</span><span class="op" id="7803592">(</span><span class="ident" id="7803593">b</span>&nbsp;<span class="op" id="7803595">*</span><span class="ident" id="7803596">testing</span><span class="op" id="7803603">.</span><span class="ident" id="7803604">B</span><span class="op" id="7803605">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7803609">{</span>&nbsp;<span class="ident" id="7803611">benchmark</span><span class="op" id="7803620">(</span><span class="ident" id="7803621">b</span><span class="op" id="7803622">,</span>&nbsp;<span class="ident" id="7803624">easy0</span><span class="op" id="7803629">,</span>&nbsp;<span class="num" id="7803631">1</span><span class="op" id="7803632">&lt;&lt;</span><span class="num" id="7803634">20</span><span class="op" id="7803636">)</span>&nbsp;<span class="op" id="7803638">}</span><br>
<span class="lineno"></span><span class="keyword" id="7803640">func</span>&nbsp;<span class="ident" id="7803645">BenchmarkMatchEasy0_32M</span><span class="op" id="7803668">(</span><span class="ident" id="7803669">b</span>&nbsp;<span class="op" id="7803671">*</span><span class="ident" id="7803672">testing</span><span class="op" id="7803679">.</span><span class="ident" id="7803680">B</span><span class="op" id="7803681">)</span>&nbsp;&nbsp;<span class="op" id="7803684">{</span>&nbsp;<span class="ident" id="7803686">benchmark</span><span class="op" id="7803695">(</span><span class="ident" id="7803696">b</span><span class="op" id="7803697">,</span>&nbsp;<span class="ident" id="7803699">easy0</span><span class="op" id="7803704">,</span>&nbsp;<span class="num" id="7803706">32</span><span class="op" id="7803708">&lt;&lt;</span><span class="num" id="7803710">20</span><span class="op" id="7803712">)</span>&nbsp;<span class="op" id="7803714">}</span><br>
<span class="lineno"></span><span class="keyword" id="7803716">func</span>&nbsp;<span class="ident" id="7803721">BenchmarkMatchEasy1_32</span><span class="op" id="7803743">(</span><span class="ident" id="7803744">b</span>&nbsp;<span class="op" id="7803746">*</span><span class="ident" id="7803747">testing</span><span class="op" id="7803754">.</span><span class="ident" id="7803755">B</span><span class="op" id="7803756">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7803760">{</span>&nbsp;<span class="ident" id="7803762">benchmark</span><span class="op" id="7803771">(</span><span class="ident" id="7803772">b</span><span class="op" id="7803773">,</span>&nbsp;<span class="ident" id="7803775">easy1</span><span class="op" id="7803780">,</span>&nbsp;<span class="num" id="7803782">32</span><span class="op" id="7803784">&lt;&lt;</span><span class="num" id="7803786">0</span><span class="op" id="7803787">)</span>&nbsp;<span class="op" id="7803789">}</span><br>
<span class="lineno"></span><span class="keyword" id="7803791">func</span>&nbsp;<span class="ident" id="7803796">BenchmarkMatchEasy1_1K</span><span class="op" id="7803818">(</span><span class="ident" id="7803819">b</span>&nbsp;<span class="op" id="7803821">*</span><span class="ident" id="7803822">testing</span><span class="op" id="7803829">.</span><span class="ident" id="7803830">B</span><span class="op" id="7803831">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7803835">{</span>&nbsp;<span class="ident" id="7803837">benchmark</span><span class="op" id="7803846">(</span><span class="ident" id="7803847">b</span><span class="op" id="7803848">,</span>&nbsp;<span class="ident" id="7803850">easy1</span><span class="op" id="7803855">,</span>&nbsp;<span class="num" id="7803857">1</span><span class="op" id="7803858">&lt;&lt;</span><span class="num" id="7803860">10</span><span class="op" id="7803862">)</span>&nbsp;<span class="op" id="7803864">}</span><br>
<span class="lineno"></span><span class="keyword" id="7803866">func</span>&nbsp;<span class="ident" id="7803871">BenchmarkMatchEasy1_32K</span><span class="op" id="7803894">(</span><span class="ident" id="7803895">b</span>&nbsp;<span class="op" id="7803897">*</span><span class="ident" id="7803898">testing</span><span class="op" id="7803905">.</span><span class="ident" id="7803906">B</span><span class="op" id="7803907">)</span>&nbsp;&nbsp;<span class="op" id="7803910">{</span>&nbsp;<span class="ident" id="7803912">benchmark</span><span class="op" id="7803921">(</span><span class="ident" id="7803922">b</span><span class="op" id="7803923">,</span>&nbsp;<span class="ident" id="7803925">easy1</span><span class="op" id="7803930">,</span>&nbsp;<span class="num" id="7803932">32</span><span class="op" id="7803934">&lt;&lt;</span><span class="num" id="7803936">10</span><span class="op" id="7803938">)</span>&nbsp;<span class="op" id="7803940">}</span><br>
<span class="lineno">690</span><span class="keyword" id="7803942">func</span>&nbsp;<span class="ident" id="7803947">BenchmarkMatchEasy1_1M</span><span class="op" id="7803969">(</span><span class="ident" id="7803970">b</span>&nbsp;<span class="op" id="7803972">*</span><span class="ident" id="7803973">testing</span><span class="op" id="7803980">.</span><span class="ident" id="7803981">B</span><span class="op" id="7803982">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7803986">{</span>&nbsp;<span class="ident" id="7803988">benchmark</span><span class="op" id="7803997">(</span><span class="ident" id="7803998">b</span><span class="op" id="7803999">,</span>&nbsp;<span class="ident" id="7804001">easy1</span><span class="op" id="7804006">,</span>&nbsp;<span class="num" id="7804008">1</span><span class="op" id="7804009">&lt;&lt;</span><span class="num" id="7804011">20</span><span class="op" id="7804013">)</span>&nbsp;<span class="op" id="7804015">}</span><br>
<span class="lineno"></span><span class="keyword" id="7804017">func</span>&nbsp;<span class="ident" id="7804022">BenchmarkMatchEasy1_32M</span><span class="op" id="7804045">(</span><span class="ident" id="7804046">b</span>&nbsp;<span class="op" id="7804048">*</span><span class="ident" id="7804049">testing</span><span class="op" id="7804056">.</span><span class="ident" id="7804057">B</span><span class="op" id="7804058">)</span>&nbsp;&nbsp;<span class="op" id="7804061">{</span>&nbsp;<span class="ident" id="7804063">benchmark</span><span class="op" id="7804072">(</span><span class="ident" id="7804073">b</span><span class="op" id="7804074">,</span>&nbsp;<span class="ident" id="7804076">easy1</span><span class="op" id="7804081">,</span>&nbsp;<span class="num" id="7804083">32</span><span class="op" id="7804085">&lt;&lt;</span><span class="num" id="7804087">20</span><span class="op" id="7804089">)</span>&nbsp;<span class="op" id="7804091">}</span><br>
<span class="lineno"></span><span class="keyword" id="7804093">func</span>&nbsp;<span class="ident" id="7804098">BenchmarkMatchMedium_32</span><span class="op" id="7804121">(</span><span class="ident" id="7804122">b</span>&nbsp;<span class="op" id="7804124">*</span><span class="ident" id="7804125">testing</span><span class="op" id="7804132">.</span><span class="ident" id="7804133">B</span><span class="op" id="7804134">)</span>&nbsp;&nbsp;<span class="op" id="7804137">{</span>&nbsp;<span class="ident" id="7804139">benchmark</span><span class="op" id="7804148">(</span><span class="ident" id="7804149">b</span><span class="op" id="7804150">,</span>&nbsp;<span class="ident" id="7804152">medium</span><span class="op" id="7804158">,</span>&nbsp;<span class="num" id="7804160">32</span><span class="op" id="7804162">&lt;&lt;</span><span class="num" id="7804164">0</span><span class="op" id="7804165">)</span>&nbsp;<span class="op" id="7804167">}</span><br>
<span class="lineno"></span><span class="keyword" id="7804169">func</span>&nbsp;<span class="ident" id="7804174">BenchmarkMatchMedium_1K</span><span class="op" id="7804197">(</span><span class="ident" id="7804198">b</span>&nbsp;<span class="op" id="7804200">*</span><span class="ident" id="7804201">testing</span><span class="op" id="7804208">.</span><span class="ident" id="7804209">B</span><span class="op" id="7804210">)</span>&nbsp;&nbsp;<span class="op" id="7804213">{</span>&nbsp;<span class="ident" id="7804215">benchmark</span><span class="op" id="7804224">(</span><span class="ident" id="7804225">b</span><span class="op" id="7804226">,</span>&nbsp;<span class="ident" id="7804228">medium</span><span class="op" id="7804234">,</span>&nbsp;<span class="num" id="7804236">1</span><span class="op" id="7804237">&lt;&lt;</span><span class="num" id="7804239">10</span><span class="op" id="7804241">)</span>&nbsp;<span class="op" id="7804243">}</span><br>
<span class="lineno"></span><span class="keyword" id="7804245">func</span>&nbsp;<span class="ident" id="7804250">BenchmarkMatchMedium_32K</span><span class="op" id="7804274">(</span><span class="ident" id="7804275">b</span>&nbsp;<span class="op" id="7804277">*</span><span class="ident" id="7804278">testing</span><span class="op" id="7804285">.</span><span class="ident" id="7804286">B</span><span class="op" id="7804287">)</span>&nbsp;<span class="op" id="7804289">{</span>&nbsp;<span class="ident" id="7804291">benchmark</span><span class="op" id="7804300">(</span><span class="ident" id="7804301">b</span><span class="op" id="7804302">,</span>&nbsp;<span class="ident" id="7804304">medium</span><span class="op" id="7804310">,</span>&nbsp;<span class="num" id="7804312">32</span><span class="op" id="7804314">&lt;&lt;</span><span class="num" id="7804316">10</span><span class="op" id="7804318">)</span>&nbsp;<span class="op" id="7804320">}</span><br>
<span class="lineno">695</span><span class="keyword" id="7804322">func</span>&nbsp;<span class="ident" id="7804327">BenchmarkMatchMedium_1M</span><span class="op" id="7804350">(</span><span class="ident" id="7804351">b</span>&nbsp;<span class="op" id="7804353">*</span><span class="ident" id="7804354">testing</span><span class="op" id="7804361">.</span><span class="ident" id="7804362">B</span><span class="op" id="7804363">)</span>&nbsp;&nbsp;<span class="op" id="7804366">{</span>&nbsp;<span class="ident" id="7804368">benchmark</span><span class="op" id="7804377">(</span><span class="ident" id="7804378">b</span><span class="op" id="7804379">,</span>&nbsp;<span class="ident" id="7804381">medium</span><span class="op" id="7804387">,</span>&nbsp;<span class="num" id="7804389">1</span><span class="op" id="7804390">&lt;&lt;</span><span class="num" id="7804392">20</span><span class="op" id="7804394">)</span>&nbsp;<span class="op" id="7804396">}</span><br>
<span class="lineno"></span><span class="keyword" id="7804398">func</span>&nbsp;<span class="ident" id="7804403">BenchmarkMatchMedium_32M</span><span class="op" id="7804427">(</span><span class="ident" id="7804428">b</span>&nbsp;<span class="op" id="7804430">*</span><span class="ident" id="7804431">testing</span><span class="op" id="7804438">.</span><span class="ident" id="7804439">B</span><span class="op" id="7804440">)</span>&nbsp;<span class="op" id="7804442">{</span>&nbsp;<span class="ident" id="7804444">benchmark</span><span class="op" id="7804453">(</span><span class="ident" id="7804454">b</span><span class="op" id="7804455">,</span>&nbsp;<span class="ident" id="7804457">medium</span><span class="op" id="7804463">,</span>&nbsp;<span class="num" id="7804465">32</span><span class="op" id="7804467">&lt;&lt;</span><span class="num" id="7804469">20</span><span class="op" id="7804471">)</span>&nbsp;<span class="op" id="7804473">}</span><br>
<span class="lineno"></span><span class="keyword" id="7804475">func</span>&nbsp;<span class="ident" id="7804480">BenchmarkMatchHard_32</span><span class="op" id="7804501">(</span><span class="ident" id="7804502">b</span>&nbsp;<span class="op" id="7804504">*</span><span class="ident" id="7804505">testing</span><span class="op" id="7804512">.</span><span class="ident" id="7804513">B</span><span class="op" id="7804514">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7804519">{</span>&nbsp;<span class="ident" id="7804521">benchmark</span><span class="op" id="7804530">(</span><span class="ident" id="7804531">b</span><span class="op" id="7804532">,</span>&nbsp;<span class="ident" id="7804534">hard</span><span class="op" id="7804538">,</span>&nbsp;<span class="num" id="7804540">32</span><span class="op" id="7804542">&lt;&lt;</span><span class="num" id="7804544">0</span><span class="op" id="7804545">)</span>&nbsp;<span class="op" id="7804547">}</span><br>
<span class="lineno"></span><span class="keyword" id="7804549">func</span>&nbsp;<span class="ident" id="7804554">BenchmarkMatchHard_1K</span><span class="op" id="7804575">(</span><span class="ident" id="7804576">b</span>&nbsp;<span class="op" id="7804578">*</span><span class="ident" id="7804579">testing</span><span class="op" id="7804586">.</span><span class="ident" id="7804587">B</span><span class="op" id="7804588">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7804593">{</span>&nbsp;<span class="ident" id="7804595">benchmark</span><span class="op" id="7804604">(</span><span class="ident" id="7804605">b</span><span class="op" id="7804606">,</span>&nbsp;<span class="ident" id="7804608">hard</span><span class="op" id="7804612">,</span>&nbsp;<span class="num" id="7804614">1</span><span class="op" id="7804615">&lt;&lt;</span><span class="num" id="7804617">10</span><span class="op" id="7804619">)</span>&nbsp;<span class="op" id="7804621">}</span><br>
<span class="lineno"></span><span class="keyword" id="7804623">func</span>&nbsp;<span class="ident" id="7804628">BenchmarkMatchHard_32K</span><span class="op" id="7804650">(</span><span class="ident" id="7804651">b</span>&nbsp;<span class="op" id="7804653">*</span><span class="ident" id="7804654">testing</span><span class="op" id="7804661">.</span><span class="ident" id="7804662">B</span><span class="op" id="7804663">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7804667">{</span>&nbsp;<span class="ident" id="7804669">benchmark</span><span class="op" id="7804678">(</span><span class="ident" id="7804679">b</span><span class="op" id="7804680">,</span>&nbsp;<span class="ident" id="7804682">hard</span><span class="op" id="7804686">,</span>&nbsp;<span class="num" id="7804688">32</span><span class="op" id="7804690">&lt;&lt;</span><span class="num" id="7804692">10</span><span class="op" id="7804694">)</span>&nbsp;<span class="op" id="7804696">}</span><br>
<span class="lineno">700</span><span class="keyword" id="7804698">func</span>&nbsp;<span class="ident" id="7804703">BenchmarkMatchHard_1M</span><span class="op" id="7804724">(</span><span class="ident" id="7804725">b</span>&nbsp;<span class="op" id="7804727">*</span><span class="ident" id="7804728">testing</span><span class="op" id="7804735">.</span><span class="ident" id="7804736">B</span><span class="op" id="7804737">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7804742">{</span>&nbsp;<span class="ident" id="7804744">benchmark</span><span class="op" id="7804753">(</span><span class="ident" id="7804754">b</span><span class="op" id="7804755">,</span>&nbsp;<span class="ident" id="7804757">hard</span><span class="op" id="7804761">,</span>&nbsp;<span class="num" id="7804763">1</span><span class="op" id="7804764">&lt;&lt;</span><span class="num" id="7804766">20</span><span class="op" id="7804768">)</span>&nbsp;<span class="op" id="7804770">}</span><br>
<span class="lineno"></span><span class="keyword" id="7804772">func</span>&nbsp;<span class="ident" id="7804777">BenchmarkMatchHard_32M</span><span class="op" id="7804799">(</span><span class="ident" id="7804800">b</span>&nbsp;<span class="op" id="7804802">*</span><span class="ident" id="7804803">testing</span><span class="op" id="7804810">.</span><span class="ident" id="7804811">B</span><span class="op" id="7804812">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7804816">{</span>&nbsp;<span class="ident" id="7804818">benchmark</span><span class="op" id="7804827">(</span><span class="ident" id="7804828">b</span><span class="op" id="7804829">,</span>&nbsp;<span class="ident" id="7804831">hard</span><span class="op" id="7804835">,</span>&nbsp;<span class="num" id="7804837">32</span><span class="op" id="7804839">&lt;&lt;</span><span class="num" id="7804841">20</span><span class="op" id="7804843">)</span>&nbsp;<span class="op" id="7804845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7804848">func</span>&nbsp;<span class="ident" id="7804853">TestLongest</span><span class="op" id="7804864">(</span><span class="ident" id="7804865">t</span>&nbsp;<span class="op" id="7804867">*</span><span class="ident" id="7804868">testing</span><span class="op" id="7804875">.</span><span class="ident" id="7804876">T</span><span class="op" id="7804877">)</span>&nbsp;<span class="op" id="7804879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7804882">re</span><span class="op" id="7804884">,</span>&nbsp;<span class="ident" id="7804886">err</span>&nbsp;<span class="op" id="7804890">:=</span>&nbsp;<span class="ident" id="7804893">Compile</span><span class="op" id="7804900">(</span><span class="string" id="7804901">`a(|b)`</span><span class="op" id="7804908">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7804911">if</span>&nbsp;<span class="ident" id="7804914">err</span>&nbsp;<span class="op" id="7804918">!=</span>&nbsp;<span class="builtintype" id="7804921">nil</span>&nbsp;<span class="op" id="7804925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7804929">t</span><span class="op" id="7804930">.</span><span class="ident" id="7804931">Fatal</span><span class="op" id="7804936">(</span><span class="ident" id="7804937">err</span><span class="op" id="7804940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7804943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7804946">if</span>&nbsp;<span class="ident" id="7804949">g</span><span class="op" id="7804950">,</span>&nbsp;<span class="ident" id="7804952">w</span>&nbsp;<span class="op" id="7804954">:=</span>&nbsp;<span class="ident" id="7804957">re</span><span class="op" id="7804959">.</span><span class="ident" id="7804960">FindString</span><span class="op" id="7804970">(</span><span class="string" id="7804971">&#34;ab&#34;</span><span class="op" id="7804975">)</span><span class="op" id="7804976">,</span>&nbsp;<span class="string" id="7804978">&#34;a&#34;</span><span class="op" id="7804981">;</span>&nbsp;<span class="ident" id="7804983">g</span>&nbsp;<span class="op" id="7804985">!=</span>&nbsp;<span class="ident" id="7804988">w</span>&nbsp;<span class="op" id="7804990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7804994">t</span><span class="op" id="7804995">.</span><span class="ident" id="7804996">Errorf</span><span class="op" id="7805002">(</span><span class="string" id="7805003">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7805032">,</span>&nbsp;<span class="ident" id="7805034">g</span><span class="op" id="7805035">,</span>&nbsp;<span class="ident" id="7805037">w</span><span class="op" id="7805038">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7805041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7805044">re</span><span class="op" id="7805046">.</span><span class="ident" id="7805047">Longest</span><span class="op" id="7805054">(</span><span class="op" id="7805055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7805058">if</span>&nbsp;<span class="ident" id="7805061">g</span><span class="op" id="7805062">,</span>&nbsp;<span class="ident" id="7805064">w</span>&nbsp;<span class="op" id="7805066">:=</span>&nbsp;<span class="ident" id="7805069">re</span><span class="op" id="7805071">.</span><span class="ident" id="7805072">FindString</span><span class="op" id="7805082">(</span><span class="string" id="7805083">&#34;ab&#34;</span><span class="op" id="7805087">)</span><span class="op" id="7805088">,</span>&nbsp;<span class="string" id="7805090">&#34;ab&#34;</span><span class="op" id="7805094">;</span>&nbsp;<span class="ident" id="7805096">g</span>&nbsp;<span class="op" id="7805098">!=</span>&nbsp;<span class="ident" id="7805101">w</span>&nbsp;<span class="op" id="7805103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7805107">t</span><span class="op" id="7805108">.</span><span class="ident" id="7805109">Errorf</span><span class="op" id="7805115">(</span><span class="string" id="7805116">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7805147">,</span>&nbsp;<span class="ident" id="7805149">g</span><span class="op" id="7805150">,</span>&nbsp;<span class="ident" id="7805152">w</span><span class="op" id="7805153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7805156">}</span><br>
<span class="lineno">715</span><span class="op" id="7805158">}</span>
</div>
</body>
</html>
