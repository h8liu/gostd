<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html" class="current">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6679748">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6679804">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6679858">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6679909">package</span>&nbsp;<span class="ident" id="6679917">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6679922">import</span>&nbsp;<span class="op" id="6679929">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679932">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679939">&#34;os/exec&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679950">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6679960">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6679963">func</span>&nbsp;<span class="op" id="6679968">(</span><span class="ident" id="6679969">ti</span>&nbsp;<span class="op" id="6679972">*</span><span class="ident" id="6679973">testInterface</span><span class="op" id="6679986">)</span>&nbsp;<span class="ident" id="6679988">setBroadcast</span><span class="op" id="6680000">(</span><span class="ident" id="6680001">suffix</span>&nbsp;<span class="builtintype" id="6680008">int</span><span class="op" id="6680011">)</span>&nbsp;<span class="builtintype" id="6680013">error</span>&nbsp;<span class="op" id="6680019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680022">ti</span><span class="op" id="6680024">.</span><span class="ident" id="6680025">name</span>&nbsp;<span class="op" id="6680030">=</span>&nbsp;<span class="ident" id="6680032">fmt</span><span class="op" id="6680035">.</span><span class="ident" id="6680036">Sprintf</span><span class="op" id="6680043">(</span><span class="string" id="6680044">&#34;gotest%d&#34;</span><span class="op" id="6680054">,</span>&nbsp;<span class="ident" id="6680056">suffix</span><span class="op" id="6680062">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680065">xname</span><span class="op" id="6680070">,</span>&nbsp;<span class="ident" id="6680072">err</span>&nbsp;<span class="op" id="6680076">:=</span>&nbsp;<span class="ident" id="6680079">exec</span><span class="op" id="6680083">.</span><span class="ident" id="6680084">LookPath</span><span class="op" id="6680092">(</span><span class="string" id="6680093">&#34;ip&#34;</span><span class="op" id="6680097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6680100">if</span>&nbsp;<span class="ident" id="6680103">err</span>&nbsp;<span class="op" id="6680107">!=</span>&nbsp;<span class="builtintype" id="6680110">nil</span>&nbsp;<span class="op" id="6680114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6680118">return</span>&nbsp;<span class="ident" id="6680125">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680133">ti</span><span class="op" id="6680135">.</span><span class="ident" id="6680136">setupCmds</span>&nbsp;<span class="op" id="6680146">=</span>&nbsp;<span class="builtinfunc" id="6680148">append</span><span class="op" id="6680154">(</span><span class="ident" id="6680155">ti</span><span class="op" id="6680157">.</span><span class="ident" id="6680158">setupCmds</span><span class="op" id="6680167">,</span>&nbsp;<span class="op" id="6680169">&amp;</span><span class="ident" id="6680170">exec</span><span class="op" id="6680174">.</span><span class="ident" id="6680175">Cmd</span><span class="op" id="6680178">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680182">Path</span><span class="op" id="6680186">:</span>&nbsp;<span class="ident" id="6680188">xname</span><span class="op" id="6680193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680197">Args</span><span class="op" id="6680201">:</span>&nbsp;<span class="op" id="6680203">[</span><span class="op" id="6680204">]</span><span class="builtintype" id="6680205">string</span><span class="op" id="6680211">{</span><span class="string" id="6680212">&#34;ip&#34;</span><span class="op" id="6680216">,</span>&nbsp;<span class="string" id="6680218">&#34;link&#34;</span><span class="op" id="6680224">,</span>&nbsp;<span class="string" id="6680226">&#34;add&#34;</span><span class="op" id="6680231">,</span>&nbsp;<span class="ident" id="6680233">ti</span><span class="op" id="6680235">.</span><span class="ident" id="6680236">name</span><span class="op" id="6680240">,</span>&nbsp;<span class="string" id="6680242">&#34;type&#34;</span><span class="op" id="6680248">,</span>&nbsp;<span class="string" id="6680250">&#34;dummy&#34;</span><span class="op" id="6680257">}</span><span class="op" id="6680258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680261">}</span><span class="op" id="6680262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680265">ti</span><span class="op" id="6680267">.</span><span class="ident" id="6680268">teardownCmds</span>&nbsp;<span class="op" id="6680281">=</span>&nbsp;<span class="builtinfunc" id="6680283">append</span><span class="op" id="6680289">(</span><span class="ident" id="6680290">ti</span><span class="op" id="6680292">.</span><span class="ident" id="6680293">teardownCmds</span><span class="op" id="6680305">,</span>&nbsp;<span class="op" id="6680307">&amp;</span><span class="ident" id="6680308">exec</span><span class="op" id="6680312">.</span><span class="ident" id="6680313">Cmd</span><span class="op" id="6680316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680320">Path</span><span class="op" id="6680324">:</span>&nbsp;<span class="ident" id="6680326">xname</span><span class="op" id="6680331">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680335">Args</span><span class="op" id="6680339">:</span>&nbsp;<span class="op" id="6680341">[</span><span class="op" id="6680342">]</span><span class="builtintype" id="6680343">string</span><span class="op" id="6680349">{</span><span class="string" id="6680350">&#34;ip&#34;</span><span class="op" id="6680354">,</span>&nbsp;<span class="string" id="6680356">&#34;link&#34;</span><span class="op" id="6680362">,</span>&nbsp;<span class="string" id="6680364">&#34;delete&#34;</span><span class="op" id="6680372">,</span>&nbsp;<span class="ident" id="6680374">ti</span><span class="op" id="6680376">.</span><span class="ident" id="6680377">name</span><span class="op" id="6680381">,</span>&nbsp;<span class="string" id="6680383">&#34;type&#34;</span><span class="op" id="6680389">,</span>&nbsp;<span class="string" id="6680391">&#34;dummy&#34;</span><span class="op" id="6680398">}</span><span class="op" id="6680399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680402">}</span><span class="op" id="6680403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6680406">return</span>&nbsp;<span class="builtintype" id="6680413">nil</span><br>
<span class="lineno"></span><span class="op" id="6680417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="6680420">func</span>&nbsp;<span class="op" id="6680425">(</span><span class="ident" id="6680426">ti</span>&nbsp;<span class="op" id="6680429">*</span><span class="ident" id="6680430">testInterface</span><span class="op" id="6680443">)</span>&nbsp;<span class="ident" id="6680445">setPointToPoint</span><span class="op" id="6680460">(</span><span class="ident" id="6680461">suffix</span>&nbsp;<span class="builtintype" id="6680468">int</span><span class="op" id="6680471">,</span>&nbsp;<span class="ident" id="6680473">local</span><span class="op" id="6680478">,</span>&nbsp;<span class="ident" id="6680480">remote</span>&nbsp;<span class="builtintype" id="6680487">string</span><span class="op" id="6680493">)</span>&nbsp;<span class="builtintype" id="6680495">error</span>&nbsp;<span class="op" id="6680501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680504">ti</span><span class="op" id="6680506">.</span><span class="ident" id="6680507">name</span>&nbsp;<span class="op" id="6680512">=</span>&nbsp;<span class="ident" id="6680514">fmt</span><span class="op" id="6680517">.</span><span class="ident" id="6680518">Sprintf</span><span class="op" id="6680525">(</span><span class="string" id="6680526">&#34;gotest%d&#34;</span><span class="op" id="6680536">,</span>&nbsp;<span class="ident" id="6680538">suffix</span><span class="op" id="6680544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680547">ti</span><span class="op" id="6680549">.</span><span class="ident" id="6680550">local</span>&nbsp;<span class="op" id="6680556">=</span>&nbsp;<span class="ident" id="6680558">local</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680565">ti</span><span class="op" id="6680567">.</span><span class="ident" id="6680568">remote</span>&nbsp;<span class="op" id="6680575">=</span>&nbsp;<span class="ident" id="6680577">remote</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680585">xname</span><span class="op" id="6680590">,</span>&nbsp;<span class="ident" id="6680592">err</span>&nbsp;<span class="op" id="6680596">:=</span>&nbsp;<span class="ident" id="6680599">exec</span><span class="op" id="6680603">.</span><span class="ident" id="6680604">LookPath</span><span class="op" id="6680612">(</span><span class="string" id="6680613">&#34;ip&#34;</span><span class="op" id="6680617">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6680620">if</span>&nbsp;<span class="ident" id="6680623">err</span>&nbsp;<span class="op" id="6680627">!=</span>&nbsp;<span class="builtintype" id="6680630">nil</span>&nbsp;<span class="op" id="6680634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6680638">return</span>&nbsp;<span class="ident" id="6680645">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680653">ti</span><span class="op" id="6680655">.</span><span class="ident" id="6680656">setupCmds</span>&nbsp;<span class="op" id="6680666">=</span>&nbsp;<span class="builtinfunc" id="6680668">append</span><span class="op" id="6680674">(</span><span class="ident" id="6680675">ti</span><span class="op" id="6680677">.</span><span class="ident" id="6680678">setupCmds</span><span class="op" id="6680687">,</span>&nbsp;<span class="op" id="6680689">&amp;</span><span class="ident" id="6680690">exec</span><span class="op" id="6680694">.</span><span class="ident" id="6680695">Cmd</span><span class="op" id="6680698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680702">Path</span><span class="op" id="6680706">:</span>&nbsp;<span class="ident" id="6680708">xname</span><span class="op" id="6680713">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680717">Args</span><span class="op" id="6680721">:</span>&nbsp;<span class="op" id="6680723">[</span><span class="op" id="6680724">]</span><span class="builtintype" id="6680725">string</span><span class="op" id="6680731">{</span><span class="string" id="6680732">&#34;ip&#34;</span><span class="op" id="6680736">,</span>&nbsp;<span class="string" id="6680738">&#34;tunnel&#34;</span><span class="op" id="6680746">,</span>&nbsp;<span class="string" id="6680748">&#34;add&#34;</span><span class="op" id="6680753">,</span>&nbsp;<span class="ident" id="6680755">ti</span><span class="op" id="6680757">.</span><span class="ident" id="6680758">name</span><span class="op" id="6680762">,</span>&nbsp;<span class="string" id="6680764">&#34;mode&#34;</span><span class="op" id="6680770">,</span>&nbsp;<span class="string" id="6680772">&#34;gre&#34;</span><span class="op" id="6680777">,</span>&nbsp;<span class="string" id="6680779">&#34;local&#34;</span><span class="op" id="6680786">,</span>&nbsp;<span class="ident" id="6680788">local</span><span class="op" id="6680793">,</span>&nbsp;<span class="string" id="6680795">&#34;remote&#34;</span><span class="op" id="6680803">,</span>&nbsp;<span class="ident" id="6680805">remote</span><span class="op" id="6680811">}</span><span class="op" id="6680812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680815">}</span><span class="op" id="6680816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680819">ti</span><span class="op" id="6680821">.</span><span class="ident" id="6680822">teardownCmds</span>&nbsp;<span class="op" id="6680835">=</span>&nbsp;<span class="builtinfunc" id="6680837">append</span><span class="op" id="6680843">(</span><span class="ident" id="6680844">ti</span><span class="op" id="6680846">.</span><span class="ident" id="6680847">teardownCmds</span><span class="op" id="6680859">,</span>&nbsp;<span class="op" id="6680861">&amp;</span><span class="ident" id="6680862">exec</span><span class="op" id="6680866">.</span><span class="ident" id="6680867">Cmd</span><span class="op" id="6680870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680874">Path</span><span class="op" id="6680878">:</span>&nbsp;<span class="ident" id="6680880">xname</span><span class="op" id="6680885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680889">Args</span><span class="op" id="6680893">:</span>&nbsp;<span class="op" id="6680895">[</span><span class="op" id="6680896">]</span><span class="builtintype" id="6680897">string</span><span class="op" id="6680903">{</span><span class="string" id="6680904">&#34;ip&#34;</span><span class="op" id="6680908">,</span>&nbsp;<span class="string" id="6680910">&#34;tunnel&#34;</span><span class="op" id="6680918">,</span>&nbsp;<span class="string" id="6680920">&#34;del&#34;</span><span class="op" id="6680925">,</span>&nbsp;<span class="ident" id="6680927">ti</span><span class="op" id="6680929">.</span><span class="ident" id="6680930">name</span><span class="op" id="6680934">,</span>&nbsp;<span class="string" id="6680936">&#34;mode&#34;</span><span class="op" id="6680942">,</span>&nbsp;<span class="string" id="6680944">&#34;gre&#34;</span><span class="op" id="6680949">,</span>&nbsp;<span class="string" id="6680951">&#34;local&#34;</span><span class="op" id="6680958">,</span>&nbsp;<span class="ident" id="6680960">local</span><span class="op" id="6680965">,</span>&nbsp;<span class="string" id="6680967">&#34;remote&#34;</span><span class="op" id="6680975">,</span>&nbsp;<span class="ident" id="6680977">remote</span><span class="op" id="6680983">}</span><span class="op" id="6680984">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680987">}</span><span class="op" id="6680988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680991">xname</span><span class="op" id="6680996">,</span>&nbsp;<span class="ident" id="6680998">err</span>&nbsp;<span class="op" id="6681002">=</span>&nbsp;<span class="ident" id="6681004">exec</span><span class="op" id="6681008">.</span><span class="ident" id="6681009">LookPath</span><span class="op" id="6681017">(</span><span class="string" id="6681018">&#34;ifconfig&#34;</span><span class="op" id="6681028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6681031">if</span>&nbsp;<span class="ident" id="6681034">err</span>&nbsp;<span class="op" id="6681038">!=</span>&nbsp;<span class="builtintype" id="6681041">nil</span>&nbsp;<span class="op" id="6681045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6681049">return</span>&nbsp;<span class="ident" id="6681056">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681061">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681064">ti</span><span class="op" id="6681066">.</span><span class="ident" id="6681067">setupCmds</span>&nbsp;<span class="op" id="6681077">=</span>&nbsp;<span class="builtinfunc" id="6681079">append</span><span class="op" id="6681085">(</span><span class="ident" id="6681086">ti</span><span class="op" id="6681088">.</span><span class="ident" id="6681089">setupCmds</span><span class="op" id="6681098">,</span>&nbsp;<span class="op" id="6681100">&amp;</span><span class="ident" id="6681101">exec</span><span class="op" id="6681105">.</span><span class="ident" id="6681106">Cmd</span><span class="op" id="6681109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681113">Path</span><span class="op" id="6681117">:</span>&nbsp;<span class="ident" id="6681119">xname</span><span class="op" id="6681124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681128">Args</span><span class="op" id="6681132">:</span>&nbsp;<span class="op" id="6681134">[</span><span class="op" id="6681135">]</span><span class="builtintype" id="6681136">string</span><span class="op" id="6681142">{</span><span class="string" id="6681143">&#34;ifconfig&#34;</span><span class="op" id="6681153">,</span>&nbsp;<span class="ident" id="6681155">ti</span><span class="op" id="6681157">.</span><span class="ident" id="6681158">name</span><span class="op" id="6681162">,</span>&nbsp;<span class="string" id="6681164">&#34;inet&#34;</span><span class="op" id="6681170">,</span>&nbsp;<span class="ident" id="6681172">local</span><span class="op" id="6681177">,</span>&nbsp;<span class="string" id="6681179">&#34;dstaddr&#34;</span><span class="op" id="6681188">,</span>&nbsp;<span class="ident" id="6681190">remote</span><span class="op" id="6681196">}</span><span class="op" id="6681197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681200">}</span><span class="op" id="6681201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6681204">return</span>&nbsp;<span class="builtintype" id="6681211">nil</span><br>
<span class="lineno">55</span><span class="op" id="6681215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6681218">const</span>&nbsp;<span class="op" id="6681224">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681227">numOfTestIPv4MCAddrs</span>&nbsp;<span class="op" id="6681248">=</span>&nbsp;<span class="num" id="6681250">14</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681254">numOfTestIPv6MCAddrs</span>&nbsp;<span class="op" id="6681275">=</span>&nbsp;<span class="num" id="6681277">18</span><br>
<span class="lineno">60</span><span class="op" id="6681280">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6681283">var</span>&nbsp;<span class="op" id="6681287">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681290">igmpInterfaceTable</span>&nbsp;<span class="op" id="6681309">=</span>&nbsp;<span class="op" id="6681311">[</span><span class="op" id="6681312">]</span><span class="ident" id="6681313">Interface</span><span class="op" id="6681322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681326">{</span><span class="ident" id="6681327">Name</span><span class="op" id="6681331">:</span>&nbsp;<span class="string" id="6681333">&#34;lo&#34;</span><span class="op" id="6681337">}</span><span class="op" id="6681338">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681342">{</span><span class="ident" id="6681343">Name</span><span class="op" id="6681347">:</span>&nbsp;<span class="string" id="6681349">&#34;eth0&#34;</span><span class="op" id="6681355">}</span><span class="op" id="6681356">,</span>&nbsp;<span class="op" id="6681358">{</span><span class="ident" id="6681359">Name</span><span class="op" id="6681363">:</span>&nbsp;<span class="string" id="6681365">&#34;eth1&#34;</span><span class="op" id="6681371">}</span><span class="op" id="6681372">,</span>&nbsp;<span class="op" id="6681374">{</span><span class="ident" id="6681375">Name</span><span class="op" id="6681379">:</span>&nbsp;<span class="string" id="6681381">&#34;eth2&#34;</span><span class="op" id="6681387">}</span><span class="op" id="6681388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681392">{</span><span class="ident" id="6681393">Name</span><span class="op" id="6681397">:</span>&nbsp;<span class="string" id="6681399">&#34;eth0.100&#34;</span><span class="op" id="6681409">}</span><span class="op" id="6681410">,</span>&nbsp;<span class="op" id="6681412">{</span><span class="ident" id="6681413">Name</span><span class="op" id="6681417">:</span>&nbsp;<span class="string" id="6681419">&#34;eth0.101&#34;</span><span class="op" id="6681429">}</span><span class="op" id="6681430">,</span>&nbsp;<span class="op" id="6681432">{</span><span class="ident" id="6681433">Name</span><span class="op" id="6681437">:</span>&nbsp;<span class="string" id="6681439">&#34;eth0.102&#34;</span><span class="op" id="6681449">}</span><span class="op" id="6681450">,</span>&nbsp;<span class="op" id="6681452">{</span><span class="ident" id="6681453">Name</span><span class="op" id="6681457">:</span>&nbsp;<span class="string" id="6681459">&#34;eth0.103&#34;</span><span class="op" id="6681469">}</span><span class="op" id="6681470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681474">{</span><span class="ident" id="6681475">Name</span><span class="op" id="6681479">:</span>&nbsp;<span class="string" id="6681481">&#34;device1tap2&#34;</span><span class="op" id="6681494">}</span><span class="op" id="6681495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681501">igmp6InterfaceTable</span>&nbsp;<span class="op" id="6681521">=</span>&nbsp;<span class="op" id="6681523">[</span><span class="op" id="6681524">]</span><span class="ident" id="6681525">Interface</span><span class="op" id="6681534">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681538">{</span><span class="ident" id="6681539">Name</span><span class="op" id="6681543">:</span>&nbsp;<span class="string" id="6681545">&#34;lo&#34;</span><span class="op" id="6681549">}</span><span class="op" id="6681550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681554">{</span><span class="ident" id="6681555">Name</span><span class="op" id="6681559">:</span>&nbsp;<span class="string" id="6681561">&#34;eth0&#34;</span><span class="op" id="6681567">}</span><span class="op" id="6681568">,</span>&nbsp;<span class="op" id="6681570">{</span><span class="ident" id="6681571">Name</span><span class="op" id="6681575">:</span>&nbsp;<span class="string" id="6681577">&#34;eth1&#34;</span><span class="op" id="6681583">}</span><span class="op" id="6681584">,</span>&nbsp;<span class="op" id="6681586">{</span><span class="ident" id="6681587">Name</span><span class="op" id="6681591">:</span>&nbsp;<span class="string" id="6681593">&#34;eth2&#34;</span><span class="op" id="6681599">}</span><span class="op" id="6681600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681604">{</span><span class="ident" id="6681605">Name</span><span class="op" id="6681609">:</span>&nbsp;<span class="string" id="6681611">&#34;eth0.100&#34;</span><span class="op" id="6681621">}</span><span class="op" id="6681622">,</span>&nbsp;<span class="op" id="6681624">{</span><span class="ident" id="6681625">Name</span><span class="op" id="6681629">:</span>&nbsp;<span class="string" id="6681631">&#34;eth0.101&#34;</span><span class="op" id="6681641">}</span><span class="op" id="6681642">,</span>&nbsp;<span class="op" id="6681644">{</span><span class="ident" id="6681645">Name</span><span class="op" id="6681649">:</span>&nbsp;<span class="string" id="6681651">&#34;eth0.102&#34;</span><span class="op" id="6681661">}</span><span class="op" id="6681662">,</span>&nbsp;<span class="op" id="6681664">{</span><span class="ident" id="6681665">Name</span><span class="op" id="6681669">:</span>&nbsp;<span class="string" id="6681671">&#34;eth0.103&#34;</span><span class="op" id="6681681">}</span><span class="op" id="6681682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681686">{</span><span class="ident" id="6681687">Name</span><span class="op" id="6681691">:</span>&nbsp;<span class="string" id="6681693">&#34;device1tap2&#34;</span><span class="op" id="6681706">}</span><span class="op" id="6681707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681711">{</span><span class="ident" id="6681712">Name</span><span class="op" id="6681716">:</span>&nbsp;<span class="string" id="6681718">&#34;pan0&#34;</span><span class="op" id="6681724">}</span><span class="op" id="6681725">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681728">}</span><br>
<span class="lineno"></span><span class="op" id="6681730">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6681733">func</span>&nbsp;<span class="ident" id="6681738">TestParseProcNet</span><span class="op" id="6681754">(</span><span class="ident" id="6681755">t</span>&nbsp;<span class="op" id="6681757">*</span><span class="ident" id="6681758">testing</span><span class="op" id="6681765">.</span><span class="ident" id="6681766">T</span><span class="op" id="6681767">)</span>&nbsp;<span class="op" id="6681769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6681772">defer</span>&nbsp;<span class="keyword" id="6681778">func</span><span class="op" id="6681782">(</span><span class="op" id="6681783">)</span>&nbsp;<span class="op" id="6681785">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6681789">if</span>&nbsp;<span class="ident" id="6681792">p</span>&nbsp;<span class="op" id="6681794">:=</span>&nbsp;<span class="builtinfunc" id="6681797">recover</span><span class="op" id="6681804">(</span><span class="op" id="6681805">)</span><span class="op" id="6681806">;</span>&nbsp;<span class="ident" id="6681808">p</span>&nbsp;<span class="op" id="6681810">!=</span>&nbsp;<span class="builtintype" id="6681813">nil</span>&nbsp;<span class="op" id="6681817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681822">t</span><span class="op" id="6681823">.</span><span class="ident" id="6681824">Fatalf</span><span class="op" id="6681830">(</span><span class="string" id="6681831">&#34;parseProcNetIGMP&nbsp;or&nbsp;parseProtNetIGMP6&nbsp;panicked:&nbsp;%v&#34;</span><span class="op" id="6681883">,</span>&nbsp;<span class="ident" id="6681885">p</span><span class="op" id="6681886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681893">}</span><span class="op" id="6681894">(</span><span class="op" id="6681895">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6681899">var</span>&nbsp;<span class="ident" id="6681903">ifmat4</span>&nbsp;<span class="op" id="6681910">[</span><span class="op" id="6681911">]</span><span class="ident" id="6681912">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6681918">for</span>&nbsp;<span class="ident" id="6681922">_</span><span class="op" id="6681923">,</span>&nbsp;<span class="ident" id="6681925">ifi</span>&nbsp;<span class="op" id="6681929">:=</span>&nbsp;<span class="keyword" id="6681932">range</span>&nbsp;<span class="ident" id="6681938">igmpInterfaceTable</span>&nbsp;<span class="op" id="6681957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681961">ifmat</span>&nbsp;<span class="op" id="6681967">:=</span>&nbsp;<span class="ident" id="6681970">parseProcNetIGMP</span><span class="op" id="6681986">(</span><span class="string" id="6681987">&#34;testdata/igmp&#34;</span><span class="op" id="6682002">,</span>&nbsp;<span class="op" id="6682004">&amp;</span><span class="ident" id="6682005">ifi</span><span class="op" id="6682008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6682012">ifmat4</span>&nbsp;<span class="op" id="6682019">=</span>&nbsp;<span class="builtinfunc" id="6682021">append</span><span class="op" id="6682027">(</span><span class="ident" id="6682028">ifmat4</span><span class="op" id="6682034">,</span>&nbsp;<span class="ident" id="6682036">ifmat</span><span class="op" id="6682041">...</span><span class="op" id="6682044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682047">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6682050">if</span>&nbsp;<span class="builtinfunc" id="6682053">len</span><span class="op" id="6682056">(</span><span class="ident" id="6682057">ifmat4</span><span class="op" id="6682063">)</span>&nbsp;<span class="op" id="6682065">!=</span>&nbsp;<span class="ident" id="6682068">numOfTestIPv4MCAddrs</span>&nbsp;<span class="op" id="6682089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6682093">t</span><span class="op" id="6682094">.</span><span class="ident" id="6682095">Fatalf</span><span class="op" id="6682101">(</span><span class="string" id="6682102">&#34;parseProcNetIGMP&nbsp;returns&nbsp;%v&nbsp;addresses,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="6682154">,</span>&nbsp;<span class="builtinfunc" id="6682156">len</span><span class="op" id="6682159">(</span><span class="ident" id="6682160">ifmat4</span><span class="op" id="6682166">)</span><span class="op" id="6682167">,</span>&nbsp;<span class="ident" id="6682169">numOfTestIPv4MCAddrs</span><span class="op" id="6682189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6682196">var</span>&nbsp;<span class="ident" id="6682200">ifmat6</span>&nbsp;<span class="op" id="6682207">[</span><span class="op" id="6682208">]</span><span class="ident" id="6682209">Addr</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6682215">for</span>&nbsp;<span class="ident" id="6682219">_</span><span class="op" id="6682220">,</span>&nbsp;<span class="ident" id="6682222">ifi</span>&nbsp;<span class="op" id="6682226">:=</span>&nbsp;<span class="keyword" id="6682229">range</span>&nbsp;<span class="ident" id="6682235">igmp6InterfaceTable</span>&nbsp;<span class="op" id="6682255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6682259">ifmat</span>&nbsp;<span class="op" id="6682265">:=</span>&nbsp;<span class="ident" id="6682268">parseProcNetIGMP6</span><span class="op" id="6682285">(</span><span class="string" id="6682286">&#34;testdata/igmp6&#34;</span><span class="op" id="6682302">,</span>&nbsp;<span class="op" id="6682304">&amp;</span><span class="ident" id="6682305">ifi</span><span class="op" id="6682308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6682312">ifmat6</span>&nbsp;<span class="op" id="6682319">=</span>&nbsp;<span class="builtinfunc" id="6682321">append</span><span class="op" id="6682327">(</span><span class="ident" id="6682328">ifmat6</span><span class="op" id="6682334">,</span>&nbsp;<span class="ident" id="6682336">ifmat</span><span class="op" id="6682341">...</span><span class="op" id="6682344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6682350">if</span>&nbsp;<span class="builtinfunc" id="6682353">len</span><span class="op" id="6682356">(</span><span class="ident" id="6682357">ifmat6</span><span class="op" id="6682363">)</span>&nbsp;<span class="op" id="6682365">!=</span>&nbsp;<span class="ident" id="6682368">numOfTestIPv6MCAddrs</span>&nbsp;<span class="op" id="6682389">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6682393">t</span><span class="op" id="6682394">.</span><span class="ident" id="6682395">Fatalf</span><span class="op" id="6682401">(</span><span class="string" id="6682402">&#34;parseProcNetIGMP6&nbsp;returns&nbsp;%v&nbsp;addresses,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="6682455">,</span>&nbsp;<span class="builtinfunc" id="6682457">len</span><span class="op" id="6682460">(</span><span class="ident" id="6682461">ifmat6</span><span class="op" id="6682467">)</span><span class="op" id="6682468">,</span>&nbsp;<span class="ident" id="6682470">numOfTestIPv6MCAddrs</span><span class="op" id="6682490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682493">}</span><br>
<span class="lineno"></span><span class="op" id="6682495">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
