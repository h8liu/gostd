<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2841399">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2841455">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2841509">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2841560">package</span>&nbsp;<span class="ident" id="2841568">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2841576">import</span>&nbsp;<span class="op" id="2841583">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2841586">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2841592">&#34;path/filepath&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2841609">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2841620">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2841628">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="2841635">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2841638">//&nbsp;Random&nbsp;number&nbsp;state.</span><br>
<span class="lineno"></span><span class="comment" id="2841662">//&nbsp;We&nbsp;generate&nbsp;random&nbsp;temporary&nbsp;file&nbsp;names&nbsp;so&nbsp;that&nbsp;there&#39;s&nbsp;a&nbsp;good</span><br>
<span class="lineno"></span><span class="comment" id="2841728">//&nbsp;chance&nbsp;the&nbsp;file&nbsp;doesn&#39;t&nbsp;exist&nbsp;yet&nbsp;-&nbsp;keeps&nbsp;the&nbsp;number&nbsp;of&nbsp;tries&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2841796">//&nbsp;TempFile&nbsp;to&nbsp;a&nbsp;minimum.</span><br>
<span class="lineno"></span><span class="keyword" id="2841822">var</span>&nbsp;<span class="ident" id="2841826">rand</span>&nbsp;<span class="builtintype" id="2841831">uint32</span><br>
<span class="lineno">20</span><span class="keyword" id="2841838">var</span>&nbsp;<span class="ident" id="2841842">randmu</span>&nbsp;<span class="ident" id="2841849">sync</span><span class="op" id="2841853">.</span><span class="ident" id="2841854">Mutex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2841861">func</span>&nbsp;<span class="ident" id="2841866">reseed</span><span class="op" id="2841872">(</span><span class="op" id="2841873">)</span>&nbsp;<span class="builtintype" id="2841875">uint32</span>&nbsp;<span class="op" id="2841882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841885">return</span>&nbsp;<span class="builtintype" id="2841892">uint32</span><span class="op" id="2841898">(</span><span class="ident" id="2841899">time</span><span class="op" id="2841903">.</span><span class="ident" id="2841904">Now</span><span class="op" id="2841907">(</span><span class="op" id="2841908">)</span><span class="op" id="2841909">.</span><span class="ident" id="2841910">UnixNano</span><span class="op" id="2841918">(</span><span class="op" id="2841919">)</span>&nbsp;<span class="op" id="2841921">+</span>&nbsp;<span class="ident" id="2841923">int64</span><span class="op" id="2841928">(</span><span class="ident" id="2841929">os</span><span class="op" id="2841931">.</span><span class="ident" id="2841932">Getpid</span><span class="op" id="2841938">(</span><span class="op" id="2841939">)</span><span class="op" id="2841940">)</span><span class="op" id="2841941">)</span><br>
<span class="lineno"></span><span class="op" id="2841943">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="2841946">func</span>&nbsp;<span class="ident" id="2841951">nextSuffix</span><span class="op" id="2841961">(</span><span class="op" id="2841962">)</span>&nbsp;<span class="builtintype" id="2841964">string</span>&nbsp;<span class="op" id="2841971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841974">randmu</span><span class="op" id="2841980">.</span><span class="ident" id="2841981">Lock</span><span class="op" id="2841985">(</span><span class="op" id="2841986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841989">r</span>&nbsp;<span class="op" id="2841991">:=</span>&nbsp;<span class="ident" id="2841994">rand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842000">if</span>&nbsp;<span class="ident" id="2842003">r</span>&nbsp;<span class="op" id="2842005">==</span>&nbsp;<span class="num" id="2842008">0</span>&nbsp;<span class="op" id="2842010">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842014">r</span>&nbsp;<span class="op" id="2842016">=</span>&nbsp;<span class="ident" id="2842018">reseed</span><span class="op" id="2842024">(</span><span class="op" id="2842025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2842028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842031">r</span>&nbsp;<span class="op" id="2842033">=</span>&nbsp;<span class="ident" id="2842035">r</span><span class="op" id="2842036">*</span><span class="num" id="2842037">1664525</span>&nbsp;<span class="op" id="2842045">+</span>&nbsp;<span class="num" id="2842047">1013904223</span>&nbsp;<span class="comment" id="2842058">//&nbsp;constants&nbsp;from&nbsp;Numerical&nbsp;Recipes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842095">rand</span>&nbsp;<span class="op" id="2842100">=</span>&nbsp;<span class="ident" id="2842102">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842105">randmu</span><span class="op" id="2842111">.</span><span class="ident" id="2842112">Unlock</span><span class="op" id="2842118">(</span><span class="op" id="2842119">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842122">return</span>&nbsp;<span class="ident" id="2842129">strconv</span><span class="op" id="2842136">.</span><span class="ident" id="2842137">Itoa</span><span class="op" id="2842141">(</span><span class="builtintype" id="2842142">int</span><span class="op" id="2842145">(</span><span class="num" id="2842146">1e9</span>&nbsp;<span class="op" id="2842150">+</span>&nbsp;<span class="ident" id="2842152">r</span><span class="op" id="2842153">%</span><span class="num" id="2842154">1e9</span><span class="op" id="2842157">)</span><span class="op" id="2842158">)</span><span class="op" id="2842159">[</span><span class="num" id="2842160">1</span><span class="op" id="2842161">:</span><span class="op" id="2842162">]</span><br>
<span class="lineno"></span><span class="op" id="2842164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2842167">//&nbsp;TempFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;file&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="2842229">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix,&nbsp;opens&nbsp;the&nbsp;file&nbsp;for&nbsp;reading</span><br>
<span class="lineno">40</span><span class="comment" id="2842294">//&nbsp;and&nbsp;writing,&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="comment" id="2842346">//&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempFile&nbsp;uses&nbsp;the&nbsp;default&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="2842413">//&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="2842454">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempFile&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="2842507">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;file.&nbsp;&nbsp;The&nbsp;caller&nbsp;can&nbsp;use&nbsp;f.Name()</span><br>
<span class="lineno">45</span><span class="comment" id="2842570">//&nbsp;to&nbsp;find&nbsp;the&nbsp;pathname&nbsp;of&nbsp;the&nbsp;file.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="2842642">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;file&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="2842687">func</span>&nbsp;<span class="ident" id="2842692">TempFile</span><span class="op" id="2842700">(</span><span class="ident" id="2842701">dir</span><span class="op" id="2842704">,</span>&nbsp;<span class="ident" id="2842706">prefix</span>&nbsp;<span class="builtintype" id="2842713">string</span><span class="op" id="2842719">)</span>&nbsp;<span class="op" id="2842721">(</span><span class="ident" id="2842722">f</span>&nbsp;<span class="op" id="2842724">*</span><span class="ident" id="2842725">os</span><span class="op" id="2842727">.</span><span class="ident" id="2842728">File</span><span class="op" id="2842732">,</span>&nbsp;<span class="ident" id="2842734">err</span>&nbsp;<span class="builtintype" id="2842738">error</span><span class="op" id="2842743">)</span>&nbsp;<span class="op" id="2842745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842748">if</span>&nbsp;<span class="ident" id="2842751">dir</span>&nbsp;<span class="op" id="2842755">==</span>&nbsp;<span class="string" id="2842758">&#34;&#34;</span>&nbsp;<span class="op" id="2842761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842765">dir</span>&nbsp;<span class="op" id="2842769">=</span>&nbsp;<span class="ident" id="2842771">os</span><span class="op" id="2842773">.</span><span class="ident" id="2842774">TempDir</span><span class="op" id="2842781">(</span><span class="op" id="2842782">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2842785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842789">nconflict</span>&nbsp;<span class="op" id="2842799">:=</span>&nbsp;<span class="num" id="2842802">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842805">for</span>&nbsp;<span class="ident" id="2842809">i</span>&nbsp;<span class="op" id="2842811">:=</span>&nbsp;<span class="num" id="2842814">0</span><span class="op" id="2842815">;</span>&nbsp;<span class="ident" id="2842817">i</span>&nbsp;<span class="op" id="2842819">&lt;</span>&nbsp;<span class="num" id="2842821">10000</span><span class="op" id="2842826">;</span>&nbsp;<span class="ident" id="2842828">i</span><span class="op" id="2842829">++</span>&nbsp;<span class="op" id="2842832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842836">name</span>&nbsp;<span class="op" id="2842841">:=</span>&nbsp;<span class="ident" id="2842844">filepath</span><span class="op" id="2842852">.</span><span class="ident" id="2842853">Join</span><span class="op" id="2842857">(</span><span class="ident" id="2842858">dir</span><span class="op" id="2842861">,</span>&nbsp;<span class="ident" id="2842863">prefix</span><span class="op" id="2842869">+</span><span class="ident" id="2842870">nextSuffix</span><span class="op" id="2842880">(</span><span class="op" id="2842881">)</span><span class="op" id="2842882">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842886">f</span><span class="op" id="2842887">,</span>&nbsp;<span class="ident" id="2842889">err</span>&nbsp;<span class="op" id="2842893">=</span>&nbsp;<span class="ident" id="2842895">os</span><span class="op" id="2842897">.</span><span class="ident" id="2842898">OpenFile</span><span class="op" id="2842906">(</span><span class="ident" id="2842907">name</span><span class="op" id="2842911">,</span>&nbsp;<span class="ident" id="2842913">os</span><span class="op" id="2842915">.</span><span class="ident" id="2842916">O_RDWR</span><span class="op" id="2842922">|</span><span class="ident" id="2842923">os</span><span class="op" id="2842925">.</span><span class="ident" id="2842926">O_CREATE</span><span class="op" id="2842934">|</span><span class="ident" id="2842935">os</span><span class="op" id="2842937">.</span><span class="ident" id="2842938">O_EXCL</span><span class="op" id="2842944">,</span>&nbsp;<span class="num" id="2842946">0600</span><span class="op" id="2842950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842954">if</span>&nbsp;<span class="ident" id="2842957">os</span><span class="op" id="2842959">.</span><span class="ident" id="2842960">IsExist</span><span class="op" id="2842967">(</span><span class="ident" id="2842968">err</span><span class="op" id="2842971">)</span>&nbsp;<span class="op" id="2842973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842978">if</span>&nbsp;<span class="ident" id="2842981">nconflict</span><span class="op" id="2842990">++</span><span class="op" id="2842992">;</span>&nbsp;<span class="ident" id="2842994">nconflict</span>&nbsp;<span class="op" id="2843004">&gt;</span>&nbsp;<span class="num" id="2843006">10</span>&nbsp;<span class="op" id="2843009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843015">rand</span>&nbsp;<span class="op" id="2843020">=</span>&nbsp;<span class="ident" id="2843022">reseed</span><span class="op" id="2843028">(</span><span class="op" id="2843029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2843034">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843039">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2843050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843054">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2843061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843064">return</span><br>
<span class="lineno">65</span><span class="op" id="2843071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2843074">//&nbsp;TempDir&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;directory&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="2843140">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix&nbsp;and&nbsp;returns&nbsp;the&nbsp;path&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2843205">//&nbsp;new&nbsp;directory.&nbsp;&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempDir&nbsp;uses&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="2843269">//&nbsp;default&nbsp;directory&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="2843328">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempDir&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="2843380">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;directory.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="2843454">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;directory&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="2843504">func</span>&nbsp;<span class="ident" id="2843509">TempDir</span><span class="op" id="2843516">(</span><span class="ident" id="2843517">dir</span><span class="op" id="2843520">,</span>&nbsp;<span class="ident" id="2843522">prefix</span>&nbsp;<span class="builtintype" id="2843529">string</span><span class="op" id="2843535">)</span>&nbsp;<span class="op" id="2843537">(</span><span class="ident" id="2843538">name</span>&nbsp;<span class="builtintype" id="2843543">string</span><span class="op" id="2843549">,</span>&nbsp;<span class="ident" id="2843551">err</span>&nbsp;<span class="builtintype" id="2843555">error</span><span class="op" id="2843560">)</span>&nbsp;<span class="op" id="2843562">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843565">if</span>&nbsp;<span class="ident" id="2843568">dir</span>&nbsp;<span class="op" id="2843572">==</span>&nbsp;<span class="string" id="2843575">&#34;&#34;</span>&nbsp;<span class="op" id="2843578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843582">dir</span>&nbsp;<span class="op" id="2843586">=</span>&nbsp;<span class="ident" id="2843588">os</span><span class="op" id="2843590">.</span><span class="ident" id="2843591">TempDir</span><span class="op" id="2843598">(</span><span class="op" id="2843599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2843602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843606">nconflict</span>&nbsp;<span class="op" id="2843616">:=</span>&nbsp;<span class="num" id="2843619">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843622">for</span>&nbsp;<span class="ident" id="2843626">i</span>&nbsp;<span class="op" id="2843628">:=</span>&nbsp;<span class="num" id="2843631">0</span><span class="op" id="2843632">;</span>&nbsp;<span class="ident" id="2843634">i</span>&nbsp;<span class="op" id="2843636">&lt;</span>&nbsp;<span class="num" id="2843638">10000</span><span class="op" id="2843643">;</span>&nbsp;<span class="ident" id="2843645">i</span><span class="op" id="2843646">++</span>&nbsp;<span class="op" id="2843649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843653">try</span>&nbsp;<span class="op" id="2843657">:=</span>&nbsp;<span class="ident" id="2843660">filepath</span><span class="op" id="2843668">.</span><span class="ident" id="2843669">Join</span><span class="op" id="2843673">(</span><span class="ident" id="2843674">dir</span><span class="op" id="2843677">,</span>&nbsp;<span class="ident" id="2843679">prefix</span><span class="op" id="2843685">+</span><span class="ident" id="2843686">nextSuffix</span><span class="op" id="2843696">(</span><span class="op" id="2843697">)</span><span class="op" id="2843698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843702">err</span>&nbsp;<span class="op" id="2843706">=</span>&nbsp;<span class="ident" id="2843708">os</span><span class="op" id="2843710">.</span><span class="ident" id="2843711">Mkdir</span><span class="op" id="2843716">(</span><span class="ident" id="2843717">try</span><span class="op" id="2843720">,</span>&nbsp;<span class="num" id="2843722">0700</span><span class="op" id="2843726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843730">if</span>&nbsp;<span class="ident" id="2843733">os</span><span class="op" id="2843735">.</span><span class="ident" id="2843736">IsExist</span><span class="op" id="2843743">(</span><span class="ident" id="2843744">err</span><span class="op" id="2843747">)</span>&nbsp;<span class="op" id="2843749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843754">if</span>&nbsp;<span class="ident" id="2843757">nconflict</span><span class="op" id="2843766">++</span><span class="op" id="2843768">;</span>&nbsp;<span class="ident" id="2843770">nconflict</span>&nbsp;<span class="op" id="2843780">&gt;</span>&nbsp;<span class="num" id="2843782">10</span>&nbsp;<span class="op" id="2843785">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843791">rand</span>&nbsp;<span class="op" id="2843796">=</span>&nbsp;<span class="ident" id="2843798">reseed</span><span class="op" id="2843804">(</span><span class="op" id="2843805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2843810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843815">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2843826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843830">if</span>&nbsp;<span class="ident" id="2843833">err</span>&nbsp;<span class="op" id="2843837">==</span>&nbsp;<span class="ident" id="2843840">nil</span>&nbsp;<span class="op" id="2843844">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843849">name</span>&nbsp;<span class="op" id="2843854">=</span>&nbsp;<span class="ident" id="2843856">try</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2843862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843866">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2843873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2843876">return</span><br>
<span class="lineno">95</span><span class="op" id="2843883">}</span>
</div>
</body>
</html>
