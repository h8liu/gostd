<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6697731">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6697786">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6697840">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6697891">package</span>&nbsp;<span class="ident" id="6697899">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6697908">import</span>&nbsp;<span class="op" id="6697915">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6697918">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6697930">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6697943">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6697949">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6697966">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6697977">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6697987">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6697990">var</span>&nbsp;<span class="ident" id="6697994">fset</span>&nbsp;<span class="op" id="6697999">=</span>&nbsp;<span class="ident" id="6698001">token</span><span class="op" id="6698006">.</span><span class="ident" id="6698007">NewFileSet</span><span class="op" id="6698017">(</span><span class="op" id="6698018">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6698021">const</span>&nbsp;<span class="comment" id="6698027">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="6698039">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698042">special</span>&nbsp;<span class="op" id="6698050">=</span>&nbsp;<span class="ident" id="6698052">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698058">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698067">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698077">keyword</span><br>
<span class="lineno"></span><span class="op" id="6698085">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6698088">func</span>&nbsp;<span class="ident" id="6698093">tokenclass</span><span class="op" id="6698103">(</span><span class="ident" id="6698104">tok</span>&nbsp;<span class="ident" id="6698108">token</span><span class="op" id="6698113">.</span><span class="ident" id="6698114">Token</span><span class="op" id="6698119">)</span>&nbsp;<span class="builtintype" id="6698121">int</span>&nbsp;<span class="op" id="6698125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698128">switch</span>&nbsp;<span class="op" id="6698135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698138">case</span>&nbsp;<span class="ident" id="6698143">tok</span><span class="op" id="6698146">.</span><span class="ident" id="6698147">IsLiteral</span><span class="op" id="6698156">(</span><span class="op" id="6698157">)</span><span class="op" id="6698158">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698162">return</span>&nbsp;<span class="ident" id="6698169">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698178">case</span>&nbsp;<span class="ident" id="6698183">tok</span><span class="op" id="6698186">.</span><span class="ident" id="6698187">IsOperator</span><span class="op" id="6698197">(</span><span class="op" id="6698198">)</span><span class="op" id="6698199">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698203">return</span>&nbsp;<span class="ident" id="6698210">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698220">case</span>&nbsp;<span class="ident" id="6698225">tok</span><span class="op" id="6698228">.</span><span class="ident" id="6698229">IsKeyword</span><span class="op" id="6698238">(</span><span class="op" id="6698239">)</span><span class="op" id="6698240">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698244">return</span>&nbsp;<span class="ident" id="6698251">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6698263">return</span>&nbsp;<span class="ident" id="6698270">special</span><br>
<span class="lineno">35</span><span class="op" id="6698278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6698281">type</span>&nbsp;<span class="ident" id="6698286">elt</span>&nbsp;<span class="keyword" id="6698290">struct</span>&nbsp;<span class="op" id="6698297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698300">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6698306">token</span><span class="op" id="6698311">.</span><span class="ident" id="6698312">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698319">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6698325">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6698333">class</span>&nbsp;<span class="builtintype" id="6698339">int</span><br>
<span class="lineno"></span><span class="op" id="6698343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6698346">var</span>&nbsp;<span class="ident" id="6698350">tokens</span>&nbsp;<span class="op" id="6698357">=</span>&nbsp;<span class="op" id="6698359">[</span><span class="op" id="6698360">...</span><span class="op" id="6698363">]</span><span class="ident" id="6698364">elt</span><span class="op" id="6698367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6698370">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698389">{</span><span class="ident" id="6698390">token</span><span class="op" id="6698395">.</span><span class="ident" id="6698396">COMMENT</span><span class="op" id="6698403">,</span>&nbsp;<span class="string" id="6698405">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6698422">,</span>&nbsp;<span class="ident" id="6698424">special</span><span class="op" id="6698431">}</span><span class="op" id="6698432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698435">{</span><span class="ident" id="6698436">token</span><span class="op" id="6698441">.</span><span class="ident" id="6698442">COMMENT</span><span class="op" id="6698449">,</span>&nbsp;<span class="string" id="6698451">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="6698468">,</span>&nbsp;<span class="ident" id="6698470">special</span><span class="op" id="6698477">}</span><span class="op" id="6698478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698481">{</span><span class="ident" id="6698482">token</span><span class="op" id="6698487">.</span><span class="ident" id="6698488">COMMENT</span><span class="op" id="6698495">,</span>&nbsp;<span class="string" id="6698497">&#34;/*\r*/&#34;</span><span class="op" id="6698505">,</span>&nbsp;<span class="ident" id="6698507">special</span><span class="op" id="6698514">}</span><span class="op" id="6698515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698518">{</span><span class="ident" id="6698519">token</span><span class="op" id="6698524">.</span><span class="ident" id="6698525">COMMENT</span><span class="op" id="6698532">,</span>&nbsp;<span class="string" id="6698534">&#34;//\r\n&#34;</span><span class="op" id="6698542">,</span>&nbsp;<span class="ident" id="6698544">special</span><span class="op" id="6698551">}</span><span class="op" id="6698552">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6698556">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698596">{</span><span class="ident" id="6698597">token</span><span class="op" id="6698602">.</span><span class="ident" id="6698603">IDENT</span><span class="op" id="6698608">,</span>&nbsp;<span class="string" id="6698610">&#34;foobar&#34;</span><span class="op" id="6698618">,</span>&nbsp;<span class="ident" id="6698620">literal</span><span class="op" id="6698627">}</span><span class="op" id="6698628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698631">{</span><span class="ident" id="6698632">token</span><span class="op" id="6698637">.</span><span class="ident" id="6698638">IDENT</span><span class="op" id="6698643">,</span>&nbsp;<span class="string" id="6698645">&#34;a۰۱۸&#34;</span><span class="op" id="6698654">,</span>&nbsp;<span class="ident" id="6698656">literal</span><span class="op" id="6698663">}</span><span class="op" id="6698664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698667">{</span><span class="ident" id="6698668">token</span><span class="op" id="6698673">.</span><span class="ident" id="6698674">IDENT</span><span class="op" id="6698679">,</span>&nbsp;<span class="string" id="6698681">&#34;foo६४&#34;</span><span class="op" id="6698692">,</span>&nbsp;<span class="ident" id="6698694">literal</span><span class="op" id="6698701">}</span><span class="op" id="6698702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698705">{</span><span class="ident" id="6698706">token</span><span class="op" id="6698711">.</span><span class="ident" id="6698712">IDENT</span><span class="op" id="6698717">,</span>&nbsp;<span class="string" id="6698719">&#34;bar９８７６&#34;</span><span class="op" id="6698736">,</span>&nbsp;<span class="ident" id="6698738">literal</span><span class="op" id="6698745">}</span><span class="op" id="6698746">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698749">{</span><span class="ident" id="6698750">token</span><span class="op" id="6698755">.</span><span class="ident" id="6698756">IDENT</span><span class="op" id="6698761">,</span>&nbsp;<span class="string" id="6698763">&#34;ŝ&#34;</span><span class="op" id="6698767">,</span>&nbsp;<span class="ident" id="6698769">literal</span><span class="op" id="6698776">}</span><span class="op" id="6698777">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6698782">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698807">{</span><span class="ident" id="6698808">token</span><span class="op" id="6698813">.</span><span class="ident" id="6698814">IDENT</span><span class="op" id="6698819">,</span>&nbsp;<span class="string" id="6698821">&#34;ŝfoo&#34;</span><span class="op" id="6698828">,</span>&nbsp;<span class="ident" id="6698830">literal</span><span class="op" id="6698837">}</span><span class="op" id="6698838">,</span>&nbsp;<span class="comment" id="6698840">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698865">{</span><span class="ident" id="6698866">token</span><span class="op" id="6698871">.</span><span class="ident" id="6698872">INT</span><span class="op" id="6698875">,</span>&nbsp;<span class="string" id="6698877">&#34;0&#34;</span><span class="op" id="6698880">,</span>&nbsp;<span class="ident" id="6698882">literal</span><span class="op" id="6698889">}</span><span class="op" id="6698890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698893">{</span><span class="ident" id="6698894">token</span><span class="op" id="6698899">.</span><span class="ident" id="6698900">INT</span><span class="op" id="6698903">,</span>&nbsp;<span class="string" id="6698905">&#34;1&#34;</span><span class="op" id="6698908">,</span>&nbsp;<span class="ident" id="6698910">literal</span><span class="op" id="6698917">}</span><span class="op" id="6698918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698921">{</span><span class="ident" id="6698922">token</span><span class="op" id="6698927">.</span><span class="ident" id="6698928">INT</span><span class="op" id="6698931">,</span>&nbsp;<span class="string" id="6698933">&#34;123456789012345678890&#34;</span><span class="op" id="6698956">,</span>&nbsp;<span class="ident" id="6698958">literal</span><span class="op" id="6698965">}</span><span class="op" id="6698966">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6698969">{</span><span class="ident" id="6698970">token</span><span class="op" id="6698975">.</span><span class="ident" id="6698976">INT</span><span class="op" id="6698979">,</span>&nbsp;<span class="string" id="6698981">&#34;01234567&#34;</span><span class="op" id="6698991">,</span>&nbsp;<span class="ident" id="6698993">literal</span><span class="op" id="6699000">}</span><span class="op" id="6699001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699004">{</span><span class="ident" id="6699005">token</span><span class="op" id="6699010">.</span><span class="ident" id="6699011">INT</span><span class="op" id="6699014">,</span>&nbsp;<span class="string" id="6699016">&#34;0xcafebabe&#34;</span><span class="op" id="6699028">,</span>&nbsp;<span class="ident" id="6699030">literal</span><span class="op" id="6699037">}</span><span class="op" id="6699038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699041">{</span><span class="ident" id="6699042">token</span><span class="op" id="6699047">.</span><span class="ident" id="6699048">FLOAT</span><span class="op" id="6699053">,</span>&nbsp;<span class="string" id="6699055">&#34;0.&#34;</span><span class="op" id="6699059">,</span>&nbsp;<span class="ident" id="6699061">literal</span><span class="op" id="6699068">}</span><span class="op" id="6699069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699072">{</span><span class="ident" id="6699073">token</span><span class="op" id="6699078">.</span><span class="ident" id="6699079">FLOAT</span><span class="op" id="6699084">,</span>&nbsp;<span class="string" id="6699086">&#34;.0&#34;</span><span class="op" id="6699090">,</span>&nbsp;<span class="ident" id="6699092">literal</span><span class="op" id="6699099">}</span><span class="op" id="6699100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699103">{</span><span class="ident" id="6699104">token</span><span class="op" id="6699109">.</span><span class="ident" id="6699110">FLOAT</span><span class="op" id="6699115">,</span>&nbsp;<span class="string" id="6699117">&#34;3.14159265&#34;</span><span class="op" id="6699129">,</span>&nbsp;<span class="ident" id="6699131">literal</span><span class="op" id="6699138">}</span><span class="op" id="6699139">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699142">{</span><span class="ident" id="6699143">token</span><span class="op" id="6699148">.</span><span class="ident" id="6699149">FLOAT</span><span class="op" id="6699154">,</span>&nbsp;<span class="string" id="6699156">&#34;1e0&#34;</span><span class="op" id="6699161">,</span>&nbsp;<span class="ident" id="6699163">literal</span><span class="op" id="6699170">}</span><span class="op" id="6699171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699174">{</span><span class="ident" id="6699175">token</span><span class="op" id="6699180">.</span><span class="ident" id="6699181">FLOAT</span><span class="op" id="6699186">,</span>&nbsp;<span class="string" id="6699188">&#34;1e+100&#34;</span><span class="op" id="6699196">,</span>&nbsp;<span class="ident" id="6699198">literal</span><span class="op" id="6699205">}</span><span class="op" id="6699206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699209">{</span><span class="ident" id="6699210">token</span><span class="op" id="6699215">.</span><span class="ident" id="6699216">FLOAT</span><span class="op" id="6699221">,</span>&nbsp;<span class="string" id="6699223">&#34;1e-100&#34;</span><span class="op" id="6699231">,</span>&nbsp;<span class="ident" id="6699233">literal</span><span class="op" id="6699240">}</span><span class="op" id="6699241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699244">{</span><span class="ident" id="6699245">token</span><span class="op" id="6699250">.</span><span class="ident" id="6699251">FLOAT</span><span class="op" id="6699256">,</span>&nbsp;<span class="string" id="6699258">&#34;2.71828e-1000&#34;</span><span class="op" id="6699273">,</span>&nbsp;<span class="ident" id="6699275">literal</span><span class="op" id="6699282">}</span><span class="op" id="6699283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699286">{</span><span class="ident" id="6699287">token</span><span class="op" id="6699292">.</span><span class="ident" id="6699293">IMAG</span><span class="op" id="6699297">,</span>&nbsp;<span class="string" id="6699299">&#34;0i&#34;</span><span class="op" id="6699303">,</span>&nbsp;<span class="ident" id="6699305">literal</span><span class="op" id="6699312">}</span><span class="op" id="6699313">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699316">{</span><span class="ident" id="6699317">token</span><span class="op" id="6699322">.</span><span class="ident" id="6699323">IMAG</span><span class="op" id="6699327">,</span>&nbsp;<span class="string" id="6699329">&#34;1i&#34;</span><span class="op" id="6699333">,</span>&nbsp;<span class="ident" id="6699335">literal</span><span class="op" id="6699342">}</span><span class="op" id="6699343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699346">{</span><span class="ident" id="6699347">token</span><span class="op" id="6699352">.</span><span class="ident" id="6699353">IMAG</span><span class="op" id="6699357">,</span>&nbsp;<span class="string" id="6699359">&#34;012345678901234567889i&#34;</span><span class="op" id="6699383">,</span>&nbsp;<span class="ident" id="6699385">literal</span><span class="op" id="6699392">}</span><span class="op" id="6699393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699396">{</span><span class="ident" id="6699397">token</span><span class="op" id="6699402">.</span><span class="ident" id="6699403">IMAG</span><span class="op" id="6699407">,</span>&nbsp;<span class="string" id="6699409">&#34;123456789012345678890i&#34;</span><span class="op" id="6699433">,</span>&nbsp;<span class="ident" id="6699435">literal</span><span class="op" id="6699442">}</span><span class="op" id="6699443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699446">{</span><span class="ident" id="6699447">token</span><span class="op" id="6699452">.</span><span class="ident" id="6699453">IMAG</span><span class="op" id="6699457">,</span>&nbsp;<span class="string" id="6699459">&#34;0.i&#34;</span><span class="op" id="6699464">,</span>&nbsp;<span class="ident" id="6699466">literal</span><span class="op" id="6699473">}</span><span class="op" id="6699474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699477">{</span><span class="ident" id="6699478">token</span><span class="op" id="6699483">.</span><span class="ident" id="6699484">IMAG</span><span class="op" id="6699488">,</span>&nbsp;<span class="string" id="6699490">&#34;.0i&#34;</span><span class="op" id="6699495">,</span>&nbsp;<span class="ident" id="6699497">literal</span><span class="op" id="6699504">}</span><span class="op" id="6699505">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699508">{</span><span class="ident" id="6699509">token</span><span class="op" id="6699514">.</span><span class="ident" id="6699515">IMAG</span><span class="op" id="6699519">,</span>&nbsp;<span class="string" id="6699521">&#34;3.14159265i&#34;</span><span class="op" id="6699534">,</span>&nbsp;<span class="ident" id="6699536">literal</span><span class="op" id="6699543">}</span><span class="op" id="6699544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699547">{</span><span class="ident" id="6699548">token</span><span class="op" id="6699553">.</span><span class="ident" id="6699554">IMAG</span><span class="op" id="6699558">,</span>&nbsp;<span class="string" id="6699560">&#34;1e0i&#34;</span><span class="op" id="6699566">,</span>&nbsp;<span class="ident" id="6699568">literal</span><span class="op" id="6699575">}</span><span class="op" id="6699576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699579">{</span><span class="ident" id="6699580">token</span><span class="op" id="6699585">.</span><span class="ident" id="6699586">IMAG</span><span class="op" id="6699590">,</span>&nbsp;<span class="string" id="6699592">&#34;1e+100i&#34;</span><span class="op" id="6699601">,</span>&nbsp;<span class="ident" id="6699603">literal</span><span class="op" id="6699610">}</span><span class="op" id="6699611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699614">{</span><span class="ident" id="6699615">token</span><span class="op" id="6699620">.</span><span class="ident" id="6699621">IMAG</span><span class="op" id="6699625">,</span>&nbsp;<span class="string" id="6699627">&#34;1e-100i&#34;</span><span class="op" id="6699636">,</span>&nbsp;<span class="ident" id="6699638">literal</span><span class="op" id="6699645">}</span><span class="op" id="6699646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699649">{</span><span class="ident" id="6699650">token</span><span class="op" id="6699655">.</span><span class="ident" id="6699656">IMAG</span><span class="op" id="6699660">,</span>&nbsp;<span class="string" id="6699662">&#34;2.71828e-1000i&#34;</span><span class="op" id="6699678">,</span>&nbsp;<span class="ident" id="6699680">literal</span><span class="op" id="6699687">}</span><span class="op" id="6699688">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699691">{</span><span class="ident" id="6699692">token</span><span class="op" id="6699697">.</span><span class="ident" id="6699698">CHAR</span><span class="op" id="6699702">,</span>&nbsp;<span class="string" id="6699704">&#34;&#39;a&#39;&#34;</span><span class="op" id="6699709">,</span>&nbsp;<span class="ident" id="6699711">literal</span><span class="op" id="6699718">}</span><span class="op" id="6699719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699722">{</span><span class="ident" id="6699723">token</span><span class="op" id="6699728">.</span><span class="ident" id="6699729">CHAR</span><span class="op" id="6699733">,</span>&nbsp;<span class="string" id="6699735">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="6699744">,</span>&nbsp;<span class="ident" id="6699746">literal</span><span class="op" id="6699753">}</span><span class="op" id="6699754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699757">{</span><span class="ident" id="6699758">token</span><span class="op" id="6699763">.</span><span class="ident" id="6699764">CHAR</span><span class="op" id="6699768">,</span>&nbsp;<span class="string" id="6699770">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="6699779">,</span>&nbsp;<span class="ident" id="6699781">literal</span><span class="op" id="6699788">}</span><span class="op" id="6699789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699792">{</span><span class="ident" id="6699793">token</span><span class="op" id="6699798">.</span><span class="ident" id="6699799">CHAR</span><span class="op" id="6699803">,</span>&nbsp;<span class="string" id="6699805">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="6699816">,</span>&nbsp;<span class="ident" id="6699818">literal</span><span class="op" id="6699825">}</span><span class="op" id="6699826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699829">{</span><span class="ident" id="6699830">token</span><span class="op" id="6699835">.</span><span class="ident" id="6699836">CHAR</span><span class="op" id="6699840">,</span>&nbsp;<span class="string" id="6699842">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="6699857">,</span>&nbsp;<span class="ident" id="6699859">literal</span><span class="op" id="6699866">}</span><span class="op" id="6699867">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699870">{</span><span class="ident" id="6699871">token</span><span class="op" id="6699876">.</span><span class="ident" id="6699877">STRING</span><span class="op" id="6699883">,</span>&nbsp;<span class="string" id="6699885">&#34;`foobar`&#34;</span><span class="op" id="6699895">,</span>&nbsp;<span class="ident" id="6699897">literal</span><span class="op" id="6699904">}</span><span class="op" id="6699905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699908">{</span><span class="ident" id="6699909">token</span><span class="op" id="6699914">.</span><span class="ident" id="6699915">STRING</span><span class="op" id="6699921">,</span>&nbsp;<span class="string" id="6699923">&#34;`&#34;</span>&nbsp;<span class="op" id="6699927">+</span>&nbsp;<span class="string" id="6699929">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="6699964">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6699968">&#34;`&#34;</span><span class="op" id="6699971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6699975">literal</span><span class="op" id="6699982">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699985">}</span><span class="op" id="6699986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6699989">{</span><span class="ident" id="6699990">token</span><span class="op" id="6699995">.</span><span class="ident" id="6699996">STRING</span><span class="op" id="6700002">,</span>&nbsp;<span class="string" id="6700004">&#34;`\r`&#34;</span><span class="op" id="6700010">,</span>&nbsp;<span class="ident" id="6700012">literal</span><span class="op" id="6700019">}</span><span class="op" id="6700020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700023">{</span><span class="ident" id="6700024">token</span><span class="op" id="6700029">.</span><span class="ident" id="6700030">STRING</span><span class="op" id="6700036">,</span>&nbsp;<span class="string" id="6700038">&#34;`foo\r\nbar`&#34;</span><span class="op" id="6700052">,</span>&nbsp;<span class="ident" id="6700054">literal</span><span class="op" id="6700061">}</span><span class="op" id="6700062">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6700066">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700095">{</span><span class="ident" id="6700096">token</span><span class="op" id="6700101">.</span><span class="ident" id="6700102">ADD</span><span class="op" id="6700105">,</span>&nbsp;<span class="string" id="6700107">&#34;+&#34;</span><span class="op" id="6700110">,</span>&nbsp;<span class="ident" id="6700112">operator</span><span class="op" id="6700120">}</span><span class="op" id="6700121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700124">{</span><span class="ident" id="6700125">token</span><span class="op" id="6700130">.</span><span class="ident" id="6700131">SUB</span><span class="op" id="6700134">,</span>&nbsp;<span class="string" id="6700136">&#34;-&#34;</span><span class="op" id="6700139">,</span>&nbsp;<span class="ident" id="6700141">operator</span><span class="op" id="6700149">}</span><span class="op" id="6700150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700153">{</span><span class="ident" id="6700154">token</span><span class="op" id="6700159">.</span><span class="ident" id="6700160">MUL</span><span class="op" id="6700163">,</span>&nbsp;<span class="string" id="6700165">&#34;*&#34;</span><span class="op" id="6700168">,</span>&nbsp;<span class="ident" id="6700170">operator</span><span class="op" id="6700178">}</span><span class="op" id="6700179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700182">{</span><span class="ident" id="6700183">token</span><span class="op" id="6700188">.</span><span class="ident" id="6700189">QUO</span><span class="op" id="6700192">,</span>&nbsp;<span class="string" id="6700194">&#34;/&#34;</span><span class="op" id="6700197">,</span>&nbsp;<span class="ident" id="6700199">operator</span><span class="op" id="6700207">}</span><span class="op" id="6700208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700211">{</span><span class="ident" id="6700212">token</span><span class="op" id="6700217">.</span><span class="ident" id="6700218">REM</span><span class="op" id="6700221">,</span>&nbsp;<span class="string" id="6700223">&#34;%&#34;</span><span class="op" id="6700226">,</span>&nbsp;<span class="ident" id="6700228">operator</span><span class="op" id="6700236">}</span><span class="op" id="6700237">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700241">{</span><span class="ident" id="6700242">token</span><span class="op" id="6700247">.</span><span class="ident" id="6700248">AND</span><span class="op" id="6700251">,</span>&nbsp;<span class="string" id="6700253">&#34;&amp;&#34;</span><span class="op" id="6700256">,</span>&nbsp;<span class="ident" id="6700258">operator</span><span class="op" id="6700266">}</span><span class="op" id="6700267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700270">{</span><span class="ident" id="6700271">token</span><span class="op" id="6700276">.</span><span class="ident" id="6700277">OR</span><span class="op" id="6700279">,</span>&nbsp;<span class="string" id="6700281">&#34;|&#34;</span><span class="op" id="6700284">,</span>&nbsp;<span class="ident" id="6700286">operator</span><span class="op" id="6700294">}</span><span class="op" id="6700295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700298">{</span><span class="ident" id="6700299">token</span><span class="op" id="6700304">.</span><span class="ident" id="6700305">XOR</span><span class="op" id="6700308">,</span>&nbsp;<span class="string" id="6700310">&#34;^&#34;</span><span class="op" id="6700313">,</span>&nbsp;<span class="ident" id="6700315">operator</span><span class="op" id="6700323">}</span><span class="op" id="6700324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700327">{</span><span class="ident" id="6700328">token</span><span class="op" id="6700333">.</span><span class="ident" id="6700334">SHL</span><span class="op" id="6700337">,</span>&nbsp;<span class="string" id="6700339">&#34;&lt;&lt;&#34;</span><span class="op" id="6700343">,</span>&nbsp;<span class="ident" id="6700345">operator</span><span class="op" id="6700353">}</span><span class="op" id="6700354">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700357">{</span><span class="ident" id="6700358">token</span><span class="op" id="6700363">.</span><span class="ident" id="6700364">SHR</span><span class="op" id="6700367">,</span>&nbsp;<span class="string" id="6700369">&#34;&gt;&gt;&#34;</span><span class="op" id="6700373">,</span>&nbsp;<span class="ident" id="6700375">operator</span><span class="op" id="6700383">}</span><span class="op" id="6700384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700387">{</span><span class="ident" id="6700388">token</span><span class="op" id="6700393">.</span><span class="ident" id="6700394">AND_NOT</span><span class="op" id="6700401">,</span>&nbsp;<span class="string" id="6700403">&#34;&amp;^&#34;</span><span class="op" id="6700407">,</span>&nbsp;<span class="ident" id="6700409">operator</span><span class="op" id="6700417">}</span><span class="op" id="6700418">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700422">{</span><span class="ident" id="6700423">token</span><span class="op" id="6700428">.</span><span class="ident" id="6700429">ADD_ASSIGN</span><span class="op" id="6700439">,</span>&nbsp;<span class="string" id="6700441">&#34;+=&#34;</span><span class="op" id="6700445">,</span>&nbsp;<span class="ident" id="6700447">operator</span><span class="op" id="6700455">}</span><span class="op" id="6700456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700459">{</span><span class="ident" id="6700460">token</span><span class="op" id="6700465">.</span><span class="ident" id="6700466">SUB_ASSIGN</span><span class="op" id="6700476">,</span>&nbsp;<span class="string" id="6700478">&#34;-=&#34;</span><span class="op" id="6700482">,</span>&nbsp;<span class="ident" id="6700484">operator</span><span class="op" id="6700492">}</span><span class="op" id="6700493">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700496">{</span><span class="ident" id="6700497">token</span><span class="op" id="6700502">.</span><span class="ident" id="6700503">MUL_ASSIGN</span><span class="op" id="6700513">,</span>&nbsp;<span class="string" id="6700515">&#34;*=&#34;</span><span class="op" id="6700519">,</span>&nbsp;<span class="ident" id="6700521">operator</span><span class="op" id="6700529">}</span><span class="op" id="6700530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700533">{</span><span class="ident" id="6700534">token</span><span class="op" id="6700539">.</span><span class="ident" id="6700540">QUO_ASSIGN</span><span class="op" id="6700550">,</span>&nbsp;<span class="string" id="6700552">&#34;/=&#34;</span><span class="op" id="6700556">,</span>&nbsp;<span class="ident" id="6700558">operator</span><span class="op" id="6700566">}</span><span class="op" id="6700567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700570">{</span><span class="ident" id="6700571">token</span><span class="op" id="6700576">.</span><span class="ident" id="6700577">REM_ASSIGN</span><span class="op" id="6700587">,</span>&nbsp;<span class="string" id="6700589">&#34;%=&#34;</span><span class="op" id="6700593">,</span>&nbsp;<span class="ident" id="6700595">operator</span><span class="op" id="6700603">}</span><span class="op" id="6700604">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700608">{</span><span class="ident" id="6700609">token</span><span class="op" id="6700614">.</span><span class="ident" id="6700615">AND_ASSIGN</span><span class="op" id="6700625">,</span>&nbsp;<span class="string" id="6700627">&#34;&amp;=&#34;</span><span class="op" id="6700631">,</span>&nbsp;<span class="ident" id="6700633">operator</span><span class="op" id="6700641">}</span><span class="op" id="6700642">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700645">{</span><span class="ident" id="6700646">token</span><span class="op" id="6700651">.</span><span class="ident" id="6700652">OR_ASSIGN</span><span class="op" id="6700661">,</span>&nbsp;<span class="string" id="6700663">&#34;|=&#34;</span><span class="op" id="6700667">,</span>&nbsp;<span class="ident" id="6700669">operator</span><span class="op" id="6700677">}</span><span class="op" id="6700678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700681">{</span><span class="ident" id="6700682">token</span><span class="op" id="6700687">.</span><span class="ident" id="6700688">XOR_ASSIGN</span><span class="op" id="6700698">,</span>&nbsp;<span class="string" id="6700700">&#34;^=&#34;</span><span class="op" id="6700704">,</span>&nbsp;<span class="ident" id="6700706">operator</span><span class="op" id="6700714">}</span><span class="op" id="6700715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700718">{</span><span class="ident" id="6700719">token</span><span class="op" id="6700724">.</span><span class="ident" id="6700725">SHL_ASSIGN</span><span class="op" id="6700735">,</span>&nbsp;<span class="string" id="6700737">&#34;&lt;&lt;=&#34;</span><span class="op" id="6700742">,</span>&nbsp;<span class="ident" id="6700744">operator</span><span class="op" id="6700752">}</span><span class="op" id="6700753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700756">{</span><span class="ident" id="6700757">token</span><span class="op" id="6700762">.</span><span class="ident" id="6700763">SHR_ASSIGN</span><span class="op" id="6700773">,</span>&nbsp;<span class="string" id="6700775">&#34;&gt;&gt;=&#34;</span><span class="op" id="6700780">,</span>&nbsp;<span class="ident" id="6700782">operator</span><span class="op" id="6700790">}</span><span class="op" id="6700791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700794">{</span><span class="ident" id="6700795">token</span><span class="op" id="6700800">.</span><span class="ident" id="6700801">AND_NOT_ASSIGN</span><span class="op" id="6700815">,</span>&nbsp;<span class="string" id="6700817">&#34;&amp;^=&#34;</span><span class="op" id="6700822">,</span>&nbsp;<span class="ident" id="6700824">operator</span><span class="op" id="6700832">}</span><span class="op" id="6700833">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700837">{</span><span class="ident" id="6700838">token</span><span class="op" id="6700843">.</span><span class="ident" id="6700844">LAND</span><span class="op" id="6700848">,</span>&nbsp;<span class="string" id="6700850">&#34;&amp;&amp;&#34;</span><span class="op" id="6700854">,</span>&nbsp;<span class="ident" id="6700856">operator</span><span class="op" id="6700864">}</span><span class="op" id="6700865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700868">{</span><span class="ident" id="6700869">token</span><span class="op" id="6700874">.</span><span class="ident" id="6700875">LOR</span><span class="op" id="6700878">,</span>&nbsp;<span class="string" id="6700880">&#34;||&#34;</span><span class="op" id="6700884">,</span>&nbsp;<span class="ident" id="6700886">operator</span><span class="op" id="6700894">}</span><span class="op" id="6700895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700898">{</span><span class="ident" id="6700899">token</span><span class="op" id="6700904">.</span><span class="ident" id="6700905">ARROW</span><span class="op" id="6700910">,</span>&nbsp;<span class="string" id="6700912">&#34;&lt;-&#34;</span><span class="op" id="6700916">,</span>&nbsp;<span class="ident" id="6700918">operator</span><span class="op" id="6700926">}</span><span class="op" id="6700927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700930">{</span><span class="ident" id="6700931">token</span><span class="op" id="6700936">.</span><span class="ident" id="6700937">INC</span><span class="op" id="6700940">,</span>&nbsp;<span class="string" id="6700942">&#34;++&#34;</span><span class="op" id="6700946">,</span>&nbsp;<span class="ident" id="6700948">operator</span><span class="op" id="6700956">}</span><span class="op" id="6700957">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700960">{</span><span class="ident" id="6700961">token</span><span class="op" id="6700966">.</span><span class="ident" id="6700967">DEC</span><span class="op" id="6700970">,</span>&nbsp;<span class="string" id="6700972">&#34;--&#34;</span><span class="op" id="6700976">,</span>&nbsp;<span class="ident" id="6700978">operator</span><span class="op" id="6700986">}</span><span class="op" id="6700987">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6700991">{</span><span class="ident" id="6700992">token</span><span class="op" id="6700997">.</span><span class="ident" id="6700998">EQL</span><span class="op" id="6701001">,</span>&nbsp;<span class="string" id="6701003">&#34;==&#34;</span><span class="op" id="6701007">,</span>&nbsp;<span class="ident" id="6701009">operator</span><span class="op" id="6701017">}</span><span class="op" id="6701018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701021">{</span><span class="ident" id="6701022">token</span><span class="op" id="6701027">.</span><span class="ident" id="6701028">LSS</span><span class="op" id="6701031">,</span>&nbsp;<span class="string" id="6701033">&#34;&lt;&#34;</span><span class="op" id="6701036">,</span>&nbsp;<span class="ident" id="6701038">operator</span><span class="op" id="6701046">}</span><span class="op" id="6701047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701050">{</span><span class="ident" id="6701051">token</span><span class="op" id="6701056">.</span><span class="ident" id="6701057">GTR</span><span class="op" id="6701060">,</span>&nbsp;<span class="string" id="6701062">&#34;&gt;&#34;</span><span class="op" id="6701065">,</span>&nbsp;<span class="ident" id="6701067">operator</span><span class="op" id="6701075">}</span><span class="op" id="6701076">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701079">{</span><span class="ident" id="6701080">token</span><span class="op" id="6701085">.</span><span class="ident" id="6701086">ASSIGN</span><span class="op" id="6701092">,</span>&nbsp;<span class="string" id="6701094">&#34;=&#34;</span><span class="op" id="6701097">,</span>&nbsp;<span class="ident" id="6701099">operator</span><span class="op" id="6701107">}</span><span class="op" id="6701108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701111">{</span><span class="ident" id="6701112">token</span><span class="op" id="6701117">.</span><span class="ident" id="6701118">NOT</span><span class="op" id="6701121">,</span>&nbsp;<span class="string" id="6701123">&#34;!&#34;</span><span class="op" id="6701126">,</span>&nbsp;<span class="ident" id="6701128">operator</span><span class="op" id="6701136">}</span><span class="op" id="6701137">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701141">{</span><span class="ident" id="6701142">token</span><span class="op" id="6701147">.</span><span class="ident" id="6701148">NEQ</span><span class="op" id="6701151">,</span>&nbsp;<span class="string" id="6701153">&#34;!=&#34;</span><span class="op" id="6701157">,</span>&nbsp;<span class="ident" id="6701159">operator</span><span class="op" id="6701167">}</span><span class="op" id="6701168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701171">{</span><span class="ident" id="6701172">token</span><span class="op" id="6701177">.</span><span class="ident" id="6701178">LEQ</span><span class="op" id="6701181">,</span>&nbsp;<span class="string" id="6701183">&#34;&lt;=&#34;</span><span class="op" id="6701187">,</span>&nbsp;<span class="ident" id="6701189">operator</span><span class="op" id="6701197">}</span><span class="op" id="6701198">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701201">{</span><span class="ident" id="6701202">token</span><span class="op" id="6701207">.</span><span class="ident" id="6701208">GEQ</span><span class="op" id="6701211">,</span>&nbsp;<span class="string" id="6701213">&#34;&gt;=&#34;</span><span class="op" id="6701217">,</span>&nbsp;<span class="ident" id="6701219">operator</span><span class="op" id="6701227">}</span><span class="op" id="6701228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701231">{</span><span class="ident" id="6701232">token</span><span class="op" id="6701237">.</span><span class="ident" id="6701238">DEFINE</span><span class="op" id="6701244">,</span>&nbsp;<span class="string" id="6701246">&#34;:=&#34;</span><span class="op" id="6701250">,</span>&nbsp;<span class="ident" id="6701252">operator</span><span class="op" id="6701260">}</span><span class="op" id="6701261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701264">{</span><span class="ident" id="6701265">token</span><span class="op" id="6701270">.</span><span class="ident" id="6701271">ELLIPSIS</span><span class="op" id="6701279">,</span>&nbsp;<span class="string" id="6701281">&#34;...&#34;</span><span class="op" id="6701286">,</span>&nbsp;<span class="ident" id="6701288">operator</span><span class="op" id="6701296">}</span><span class="op" id="6701297">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701301">{</span><span class="ident" id="6701302">token</span><span class="op" id="6701307">.</span><span class="ident" id="6701308">LPAREN</span><span class="op" id="6701314">,</span>&nbsp;<span class="string" id="6701316">&#34;(&#34;</span><span class="op" id="6701319">,</span>&nbsp;<span class="ident" id="6701321">operator</span><span class="op" id="6701329">}</span><span class="op" id="6701330">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701333">{</span><span class="ident" id="6701334">token</span><span class="op" id="6701339">.</span><span class="ident" id="6701340">LBRACK</span><span class="op" id="6701346">,</span>&nbsp;<span class="string" id="6701348">&#34;[&#34;</span><span class="op" id="6701351">,</span>&nbsp;<span class="ident" id="6701353">operator</span><span class="op" id="6701361">}</span><span class="op" id="6701362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701365">{</span><span class="ident" id="6701366">token</span><span class="op" id="6701371">.</span><span class="ident" id="6701372">LBRACE</span><span class="op" id="6701378">,</span>&nbsp;<span class="string" id="6701380">&#34;{&#34;</span><span class="op" id="6701383">,</span>&nbsp;<span class="ident" id="6701385">operator</span><span class="op" id="6701393">}</span><span class="op" id="6701394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701397">{</span><span class="ident" id="6701398">token</span><span class="op" id="6701403">.</span><span class="ident" id="6701404">COMMA</span><span class="op" id="6701409">,</span>&nbsp;<span class="string" id="6701411">&#34;,&#34;</span><span class="op" id="6701414">,</span>&nbsp;<span class="ident" id="6701416">operator</span><span class="op" id="6701424">}</span><span class="op" id="6701425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701428">{</span><span class="ident" id="6701429">token</span><span class="op" id="6701434">.</span><span class="ident" id="6701435">PERIOD</span><span class="op" id="6701441">,</span>&nbsp;<span class="string" id="6701443">&#34;.&#34;</span><span class="op" id="6701446">,</span>&nbsp;<span class="ident" id="6701448">operator</span><span class="op" id="6701456">}</span><span class="op" id="6701457">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701461">{</span><span class="ident" id="6701462">token</span><span class="op" id="6701467">.</span><span class="ident" id="6701468">RPAREN</span><span class="op" id="6701474">,</span>&nbsp;<span class="string" id="6701476">&#34;)&#34;</span><span class="op" id="6701479">,</span>&nbsp;<span class="ident" id="6701481">operator</span><span class="op" id="6701489">}</span><span class="op" id="6701490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701493">{</span><span class="ident" id="6701494">token</span><span class="op" id="6701499">.</span><span class="ident" id="6701500">RBRACK</span><span class="op" id="6701506">,</span>&nbsp;<span class="string" id="6701508">&#34;]&#34;</span><span class="op" id="6701511">,</span>&nbsp;<span class="ident" id="6701513">operator</span><span class="op" id="6701521">}</span><span class="op" id="6701522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701525">{</span><span class="ident" id="6701526">token</span><span class="op" id="6701531">.</span><span class="ident" id="6701532">RBRACE</span><span class="op" id="6701538">,</span>&nbsp;<span class="string" id="6701540">&#34;}&#34;</span><span class="op" id="6701543">,</span>&nbsp;<span class="ident" id="6701545">operator</span><span class="op" id="6701553">}</span><span class="op" id="6701554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701557">{</span><span class="ident" id="6701558">token</span><span class="op" id="6701563">.</span><span class="ident" id="6701564">SEMICOLON</span><span class="op" id="6701573">,</span>&nbsp;<span class="string" id="6701575">&#34;;&#34;</span><span class="op" id="6701578">,</span>&nbsp;<span class="ident" id="6701580">operator</span><span class="op" id="6701588">}</span><span class="op" id="6701589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701592">{</span><span class="ident" id="6701593">token</span><span class="op" id="6701598">.</span><span class="ident" id="6701599">COLON</span><span class="op" id="6701604">,</span>&nbsp;<span class="string" id="6701606">&#34;:&#34;</span><span class="op" id="6701609">,</span>&nbsp;<span class="ident" id="6701611">operator</span><span class="op" id="6701619">}</span><span class="op" id="6701620">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6701624">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701637">{</span><span class="ident" id="6701638">token</span><span class="op" id="6701643">.</span><span class="ident" id="6701644">BREAK</span><span class="op" id="6701649">,</span>&nbsp;<span class="string" id="6701651">&#34;break&#34;</span><span class="op" id="6701658">,</span>&nbsp;<span class="ident" id="6701660">keyword</span><span class="op" id="6701667">}</span><span class="op" id="6701668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701671">{</span><span class="ident" id="6701672">token</span><span class="op" id="6701677">.</span><span class="ident" id="6701678">CASE</span><span class="op" id="6701682">,</span>&nbsp;<span class="string" id="6701684">&#34;case&#34;</span><span class="op" id="6701690">,</span>&nbsp;<span class="ident" id="6701692">keyword</span><span class="op" id="6701699">}</span><span class="op" id="6701700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701703">{</span><span class="ident" id="6701704">token</span><span class="op" id="6701709">.</span><span class="ident" id="6701710">CHAN</span><span class="op" id="6701714">,</span>&nbsp;<span class="string" id="6701716">&#34;chan&#34;</span><span class="op" id="6701722">,</span>&nbsp;<span class="ident" id="6701724">keyword</span><span class="op" id="6701731">}</span><span class="op" id="6701732">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701735">{</span><span class="ident" id="6701736">token</span><span class="op" id="6701741">.</span><span class="ident" id="6701742">CONST</span><span class="op" id="6701747">,</span>&nbsp;<span class="string" id="6701749">&#34;const&#34;</span><span class="op" id="6701756">,</span>&nbsp;<span class="ident" id="6701758">keyword</span><span class="op" id="6701765">}</span><span class="op" id="6701766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701769">{</span><span class="ident" id="6701770">token</span><span class="op" id="6701775">.</span><span class="ident" id="6701776">CONTINUE</span><span class="op" id="6701784">,</span>&nbsp;<span class="string" id="6701786">&#34;continue&#34;</span><span class="op" id="6701796">,</span>&nbsp;<span class="ident" id="6701798">keyword</span><span class="op" id="6701805">}</span><span class="op" id="6701806">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701810">{</span><span class="ident" id="6701811">token</span><span class="op" id="6701816">.</span><span class="ident" id="6701817">DEFAULT</span><span class="op" id="6701824">,</span>&nbsp;<span class="string" id="6701826">&#34;default&#34;</span><span class="op" id="6701835">,</span>&nbsp;<span class="ident" id="6701837">keyword</span><span class="op" id="6701844">}</span><span class="op" id="6701845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701848">{</span><span class="ident" id="6701849">token</span><span class="op" id="6701854">.</span><span class="ident" id="6701855">DEFER</span><span class="op" id="6701860">,</span>&nbsp;<span class="string" id="6701862">&#34;defer&#34;</span><span class="op" id="6701869">,</span>&nbsp;<span class="ident" id="6701871">keyword</span><span class="op" id="6701878">}</span><span class="op" id="6701879">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701882">{</span><span class="ident" id="6701883">token</span><span class="op" id="6701888">.</span><span class="ident" id="6701889">ELSE</span><span class="op" id="6701893">,</span>&nbsp;<span class="string" id="6701895">&#34;else&#34;</span><span class="op" id="6701901">,</span>&nbsp;<span class="ident" id="6701903">keyword</span><span class="op" id="6701910">}</span><span class="op" id="6701911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701914">{</span><span class="ident" id="6701915">token</span><span class="op" id="6701920">.</span><span class="ident" id="6701921">FALLTHROUGH</span><span class="op" id="6701932">,</span>&nbsp;<span class="string" id="6701934">&#34;fallthrough&#34;</span><span class="op" id="6701947">,</span>&nbsp;<span class="ident" id="6701949">keyword</span><span class="op" id="6701956">}</span><span class="op" id="6701957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701960">{</span><span class="ident" id="6701961">token</span><span class="op" id="6701966">.</span><span class="ident" id="6701967">FOR</span><span class="op" id="6701970">,</span>&nbsp;<span class="string" id="6701972">&#34;for&#34;</span><span class="op" id="6701977">,</span>&nbsp;<span class="ident" id="6701979">keyword</span><span class="op" id="6701986">}</span><span class="op" id="6701987">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6701991">{</span><span class="ident" id="6701992">token</span><span class="op" id="6701997">.</span><span class="ident" id="6701998">FUNC</span><span class="op" id="6702002">,</span>&nbsp;<span class="string" id="6702004">&#34;func&#34;</span><span class="op" id="6702010">,</span>&nbsp;<span class="ident" id="6702012">keyword</span><span class="op" id="6702019">}</span><span class="op" id="6702020">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702023">{</span><span class="ident" id="6702024">token</span><span class="op" id="6702029">.</span><span class="ident" id="6702030">GO</span><span class="op" id="6702032">,</span>&nbsp;<span class="string" id="6702034">&#34;go&#34;</span><span class="op" id="6702038">,</span>&nbsp;<span class="ident" id="6702040">keyword</span><span class="op" id="6702047">}</span><span class="op" id="6702048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702051">{</span><span class="ident" id="6702052">token</span><span class="op" id="6702057">.</span><span class="ident" id="6702058">GOTO</span><span class="op" id="6702062">,</span>&nbsp;<span class="string" id="6702064">&#34;goto&#34;</span><span class="op" id="6702070">,</span>&nbsp;<span class="ident" id="6702072">keyword</span><span class="op" id="6702079">}</span><span class="op" id="6702080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702083">{</span><span class="ident" id="6702084">token</span><span class="op" id="6702089">.</span><span class="ident" id="6702090">IF</span><span class="op" id="6702092">,</span>&nbsp;<span class="string" id="6702094">&#34;if&#34;</span><span class="op" id="6702098">,</span>&nbsp;<span class="ident" id="6702100">keyword</span><span class="op" id="6702107">}</span><span class="op" id="6702108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702111">{</span><span class="ident" id="6702112">token</span><span class="op" id="6702117">.</span><span class="ident" id="6702118">IMPORT</span><span class="op" id="6702124">,</span>&nbsp;<span class="string" id="6702126">&#34;import&#34;</span><span class="op" id="6702134">,</span>&nbsp;<span class="ident" id="6702136">keyword</span><span class="op" id="6702143">}</span><span class="op" id="6702144">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702148">{</span><span class="ident" id="6702149">token</span><span class="op" id="6702154">.</span><span class="ident" id="6702155">INTERFACE</span><span class="op" id="6702164">,</span>&nbsp;<span class="string" id="6702166">&#34;interface&#34;</span><span class="op" id="6702177">,</span>&nbsp;<span class="ident" id="6702179">keyword</span><span class="op" id="6702186">}</span><span class="op" id="6702187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702190">{</span><span class="ident" id="6702191">token</span><span class="op" id="6702196">.</span><span class="ident" id="6702197">MAP</span><span class="op" id="6702200">,</span>&nbsp;<span class="string" id="6702202">&#34;map&#34;</span><span class="op" id="6702207">,</span>&nbsp;<span class="ident" id="6702209">keyword</span><span class="op" id="6702216">}</span><span class="op" id="6702217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702220">{</span><span class="ident" id="6702221">token</span><span class="op" id="6702226">.</span><span class="ident" id="6702227">PACKAGE</span><span class="op" id="6702234">,</span>&nbsp;<span class="string" id="6702236">&#34;package&#34;</span><span class="op" id="6702245">,</span>&nbsp;<span class="ident" id="6702247">keyword</span><span class="op" id="6702254">}</span><span class="op" id="6702255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702258">{</span><span class="ident" id="6702259">token</span><span class="op" id="6702264">.</span><span class="ident" id="6702265">RANGE</span><span class="op" id="6702270">,</span>&nbsp;<span class="string" id="6702272">&#34;range&#34;</span><span class="op" id="6702279">,</span>&nbsp;<span class="ident" id="6702281">keyword</span><span class="op" id="6702288">}</span><span class="op" id="6702289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702292">{</span><span class="ident" id="6702293">token</span><span class="op" id="6702298">.</span><span class="ident" id="6702299">RETURN</span><span class="op" id="6702305">,</span>&nbsp;<span class="string" id="6702307">&#34;return&#34;</span><span class="op" id="6702315">,</span>&nbsp;<span class="ident" id="6702317">keyword</span><span class="op" id="6702324">}</span><span class="op" id="6702325">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702329">{</span><span class="ident" id="6702330">token</span><span class="op" id="6702335">.</span><span class="ident" id="6702336">SELECT</span><span class="op" id="6702342">,</span>&nbsp;<span class="string" id="6702344">&#34;select&#34;</span><span class="op" id="6702352">,</span>&nbsp;<span class="ident" id="6702354">keyword</span><span class="op" id="6702361">}</span><span class="op" id="6702362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702365">{</span><span class="ident" id="6702366">token</span><span class="op" id="6702371">.</span><span class="ident" id="6702372">STRUCT</span><span class="op" id="6702378">,</span>&nbsp;<span class="string" id="6702380">&#34;struct&#34;</span><span class="op" id="6702388">,</span>&nbsp;<span class="ident" id="6702390">keyword</span><span class="op" id="6702397">}</span><span class="op" id="6702398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702401">{</span><span class="ident" id="6702402">token</span><span class="op" id="6702407">.</span><span class="ident" id="6702408">SWITCH</span><span class="op" id="6702414">,</span>&nbsp;<span class="string" id="6702416">&#34;switch&#34;</span><span class="op" id="6702424">,</span>&nbsp;<span class="ident" id="6702426">keyword</span><span class="op" id="6702433">}</span><span class="op" id="6702434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702437">{</span><span class="ident" id="6702438">token</span><span class="op" id="6702443">.</span><span class="ident" id="6702444">TYPE</span><span class="op" id="6702448">,</span>&nbsp;<span class="string" id="6702450">&#34;type&#34;</span><span class="op" id="6702456">,</span>&nbsp;<span class="ident" id="6702458">keyword</span><span class="op" id="6702465">}</span><span class="op" id="6702466">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702469">{</span><span class="ident" id="6702470">token</span><span class="op" id="6702475">.</span><span class="ident" id="6702476">VAR</span><span class="op" id="6702479">,</span>&nbsp;<span class="string" id="6702481">&#34;var&#34;</span><span class="op" id="6702486">,</span>&nbsp;<span class="ident" id="6702488">keyword</span><span class="op" id="6702495">}</span><span class="op" id="6702496">,</span><br>
<span class="lineno"></span><span class="op" id="6702498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702501">const</span>&nbsp;<span class="ident" id="6702507">whitespace</span>&nbsp;<span class="op" id="6702518">=</span>&nbsp;<span class="string" id="6702520">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="6702535">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="6702558">var</span>&nbsp;<span class="ident" id="6702562">source</span>&nbsp;<span class="op" id="6702569">=</span>&nbsp;<span class="keyword" id="6702571">func</span><span class="op" id="6702575">(</span><span class="op" id="6702576">)</span>&nbsp;<span class="op" id="6702578">[</span><span class="op" id="6702579">]</span><span class="builtintype" id="6702580">byte</span>&nbsp;<span class="op" id="6702585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702588">var</span>&nbsp;<span class="ident" id="6702592">src</span>&nbsp;<span class="op" id="6702596">[</span><span class="op" id="6702597">]</span><span class="builtintype" id="6702598">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702604">for</span>&nbsp;<span class="ident" id="6702608">_</span><span class="op" id="6702609">,</span>&nbsp;<span class="ident" id="6702611">t</span>&nbsp;<span class="op" id="6702613">:=</span>&nbsp;<span class="keyword" id="6702616">range</span>&nbsp;<span class="ident" id="6702622">tokens</span>&nbsp;<span class="op" id="6702629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6702633">src</span>&nbsp;<span class="op" id="6702637">=</span>&nbsp;<span class="builtinfunc" id="6702639">append</span><span class="op" id="6702645">(</span><span class="ident" id="6702646">src</span><span class="op" id="6702649">,</span>&nbsp;<span class="ident" id="6702651">t</span><span class="op" id="6702652">.</span><span class="ident" id="6702653">lit</span><span class="op" id="6702656">...</span><span class="op" id="6702659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6702663">src</span>&nbsp;<span class="op" id="6702667">=</span>&nbsp;<span class="builtinfunc" id="6702669">append</span><span class="op" id="6702675">(</span><span class="ident" id="6702676">src</span><span class="op" id="6702679">,</span>&nbsp;<span class="ident" id="6702681">whitespace</span><span class="op" id="6702691">...</span><span class="op" id="6702694">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702700">return</span>&nbsp;<span class="ident" id="6702707">src</span><br>
<span class="lineno"></span><span class="op" id="6702711">}</span><span class="op" id="6702712">(</span><span class="op" id="6702713">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702716">func</span>&nbsp;<span class="ident" id="6702721">newlineCount</span><span class="op" id="6702733">(</span><span class="ident" id="6702734">s</span>&nbsp;<span class="builtintype" id="6702736">string</span><span class="op" id="6702742">)</span>&nbsp;<span class="builtintype" id="6702744">int</span>&nbsp;<span class="op" id="6702748">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6702751">n</span>&nbsp;<span class="op" id="6702753">:=</span>&nbsp;<span class="num" id="6702756">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702759">for</span>&nbsp;<span class="ident" id="6702763">i</span>&nbsp;<span class="op" id="6702765">:=</span>&nbsp;<span class="num" id="6702768">0</span><span class="op" id="6702769">;</span>&nbsp;<span class="ident" id="6702771">i</span>&nbsp;<span class="op" id="6702773">&lt;</span>&nbsp;<span class="builtinfunc" id="6702775">len</span><span class="op" id="6702778">(</span><span class="ident" id="6702779">s</span><span class="op" id="6702780">)</span><span class="op" id="6702781">;</span>&nbsp;<span class="ident" id="6702783">i</span><span class="op" id="6702784">++</span>&nbsp;<span class="op" id="6702787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702791">if</span>&nbsp;<span class="ident" id="6702794">s</span><span class="op" id="6702795">[</span><span class="ident" id="6702796">i</span><span class="op" id="6702797">]</span>&nbsp;<span class="op" id="6702799">==</span>&nbsp;<span class="string" id="6702802">&#39;\n&#39;</span>&nbsp;<span class="op" id="6702807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6702812">n</span><span class="op" id="6702813">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702818">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6702821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702824">return</span>&nbsp;<span class="ident" id="6702831">n</span><br>
<span class="lineno"></span><span class="op" id="6702833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702836">func</span>&nbsp;<span class="ident" id="6702841">checkPos</span><span class="op" id="6702849">(</span><span class="ident" id="6702850">t</span>&nbsp;<span class="op" id="6702852">*</span><span class="ident" id="6702853">testing</span><span class="op" id="6702860">.</span><span class="ident" id="6702861">T</span><span class="op" id="6702862">,</span>&nbsp;<span class="ident" id="6702864">lit</span>&nbsp;<span class="builtintype" id="6702868">string</span><span class="op" id="6702874">,</span>&nbsp;<span class="ident" id="6702876">p</span>&nbsp;<span class="ident" id="6702878">token</span><span class="op" id="6702883">.</span><span class="ident" id="6702884">Pos</span><span class="op" id="6702887">,</span>&nbsp;<span class="ident" id="6702889">expected</span>&nbsp;<span class="ident" id="6702898">token</span><span class="op" id="6702903">.</span><span class="ident" id="6702904">Position</span><span class="op" id="6702912">)</span>&nbsp;<span class="op" id="6702914">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6702917">pos</span>&nbsp;<span class="op" id="6702921">:=</span>&nbsp;<span class="ident" id="6702924">fset</span><span class="op" id="6702928">.</span><span class="ident" id="6702929">Position</span><span class="op" id="6702937">(</span><span class="ident" id="6702938">p</span><span class="op" id="6702939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6702942">if</span>&nbsp;<span class="ident" id="6702945">pos</span><span class="op" id="6702948">.</span><span class="ident" id="6702949">Filename</span>&nbsp;<span class="op" id="6702958">!=</span>&nbsp;<span class="ident" id="6702961">expected</span><span class="op" id="6702969">.</span><span class="ident" id="6702970">Filename</span>&nbsp;<span class="op" id="6702979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6702983">t</span><span class="op" id="6702984">.</span><span class="ident" id="6702985">Errorf</span><span class="op" id="6702991">(</span><span class="string" id="6702992">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6703034">,</span>&nbsp;<span class="ident" id="6703036">lit</span><span class="op" id="6703039">,</span>&nbsp;<span class="ident" id="6703041">pos</span><span class="op" id="6703044">.</span><span class="ident" id="6703045">Filename</span><span class="op" id="6703053">,</span>&nbsp;<span class="ident" id="6703055">expected</span><span class="op" id="6703063">.</span><span class="ident" id="6703064">Filename</span><span class="op" id="6703072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6703078">if</span>&nbsp;<span class="ident" id="6703081">pos</span><span class="op" id="6703084">.</span><span class="ident" id="6703085">Offset</span>&nbsp;<span class="op" id="6703092">!=</span>&nbsp;<span class="ident" id="6703095">expected</span><span class="op" id="6703103">.</span><span class="ident" id="6703104">Offset</span>&nbsp;<span class="op" id="6703111">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703115">t</span><span class="op" id="6703116">.</span><span class="ident" id="6703117">Errorf</span><span class="op" id="6703123">(</span><span class="string" id="6703124">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6703166">,</span>&nbsp;<span class="ident" id="6703168">lit</span><span class="op" id="6703171">,</span>&nbsp;<span class="ident" id="6703173">pos</span><span class="op" id="6703176">.</span><span class="ident" id="6703177">Offset</span><span class="op" id="6703183">,</span>&nbsp;<span class="ident" id="6703185">expected</span><span class="op" id="6703193">.</span><span class="ident" id="6703194">Offset</span><span class="op" id="6703200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6703206">if</span>&nbsp;<span class="ident" id="6703209">pos</span><span class="op" id="6703212">.</span><span class="ident" id="6703213">Line</span>&nbsp;<span class="op" id="6703218">!=</span>&nbsp;<span class="ident" id="6703221">expected</span><span class="op" id="6703229">.</span><span class="ident" id="6703230">Line</span>&nbsp;<span class="op" id="6703235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703239">t</span><span class="op" id="6703240">.</span><span class="ident" id="6703241">Errorf</span><span class="op" id="6703247">(</span><span class="string" id="6703248">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6703286">,</span>&nbsp;<span class="ident" id="6703288">lit</span><span class="op" id="6703291">,</span>&nbsp;<span class="ident" id="6703293">pos</span><span class="op" id="6703296">.</span><span class="ident" id="6703297">Line</span><span class="op" id="6703301">,</span>&nbsp;<span class="ident" id="6703303">expected</span><span class="op" id="6703311">.</span><span class="ident" id="6703312">Line</span><span class="op" id="6703316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703319">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6703322">if</span>&nbsp;<span class="ident" id="6703325">pos</span><span class="op" id="6703328">.</span><span class="ident" id="6703329">Column</span>&nbsp;<span class="op" id="6703336">!=</span>&nbsp;<span class="ident" id="6703339">expected</span><span class="op" id="6703347">.</span><span class="ident" id="6703348">Column</span>&nbsp;<span class="op" id="6703355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703359">t</span><span class="op" id="6703360">.</span><span class="ident" id="6703361">Errorf</span><span class="op" id="6703367">(</span><span class="string" id="6703368">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6703408">,</span>&nbsp;<span class="ident" id="6703410">lit</span><span class="op" id="6703413">,</span>&nbsp;<span class="ident" id="6703415">pos</span><span class="op" id="6703418">.</span><span class="ident" id="6703419">Column</span><span class="op" id="6703425">,</span>&nbsp;<span class="ident" id="6703427">expected</span><span class="op" id="6703435">.</span><span class="ident" id="6703436">Column</span><span class="op" id="6703442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703445">}</span><br>
<span class="lineno"></span><span class="op" id="6703447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="6703450">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="6703510">func</span>&nbsp;<span class="ident" id="6703515">TestScan</span><span class="op" id="6703523">(</span><span class="ident" id="6703524">t</span>&nbsp;<span class="op" id="6703526">*</span><span class="ident" id="6703527">testing</span><span class="op" id="6703534">.</span><span class="ident" id="6703535">T</span><span class="op" id="6703536">)</span>&nbsp;<span class="op" id="6703538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703541">whitespace_linecount</span>&nbsp;<span class="op" id="6703562">:=</span>&nbsp;<span class="ident" id="6703565">newlineCount</span><span class="op" id="6703577">(</span><span class="ident" id="6703578">whitespace</span><span class="op" id="6703588">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6703592">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703610">eh</span>&nbsp;<span class="op" id="6703613">:=</span>&nbsp;<span class="keyword" id="6703616">func</span><span class="op" id="6703620">(</span><span class="ident" id="6703621">_</span>&nbsp;<span class="ident" id="6703623">token</span><span class="op" id="6703628">.</span><span class="ident" id="6703629">Position</span><span class="op" id="6703637">,</span>&nbsp;<span class="ident" id="6703639">msg</span>&nbsp;<span class="builtintype" id="6703643">string</span><span class="op" id="6703649">)</span>&nbsp;<span class="op" id="6703651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703655">t</span><span class="op" id="6703656">.</span><span class="ident" id="6703657">Errorf</span><span class="op" id="6703663">(</span><span class="string" id="6703664">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="6703697">,</span>&nbsp;<span class="ident" id="6703699">msg</span><span class="op" id="6703702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6703709">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6703725">var</span>&nbsp;<span class="ident" id="6703729">s</span>&nbsp;<span class="ident" id="6703731">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703740">s</span><span class="op" id="6703741">.</span><span class="ident" id="6703742">Init</span><span class="op" id="6703746">(</span><span class="ident" id="6703747">fset</span><span class="op" id="6703751">.</span><span class="ident" id="6703752">AddFile</span><span class="op" id="6703759">(</span><span class="string" id="6703760">&#34;&#34;</span><span class="op" id="6703762">,</span>&nbsp;<span class="ident" id="6703764">fset</span><span class="op" id="6703768">.</span><span class="ident" id="6703769">Base</span><span class="op" id="6703773">(</span><span class="op" id="6703774">)</span><span class="op" id="6703775">,</span>&nbsp;<span class="builtinfunc" id="6703777">len</span><span class="op" id="6703780">(</span><span class="ident" id="6703781">source</span><span class="op" id="6703787">)</span><span class="op" id="6703788">)</span><span class="op" id="6703789">,</span>&nbsp;<span class="ident" id="6703791">source</span><span class="op" id="6703797">,</span>&nbsp;<span class="ident" id="6703799">eh</span><span class="op" id="6703801">,</span>&nbsp;<span class="ident" id="6703803">ScanComments</span><span class="op" id="6703815">|</span><span class="ident" id="6703816">dontInsertSemis</span><span class="op" id="6703831">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6703835">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703864">epos</span>&nbsp;<span class="op" id="6703869">:=</span>&nbsp;<span class="ident" id="6703872">token</span><span class="op" id="6703877">.</span><span class="ident" id="6703878">Position</span><span class="op" id="6703886">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703890">Filename</span><span class="op" id="6703898">:</span>&nbsp;<span class="string" id="6703900">&#34;&#34;</span><span class="op" id="6703902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703906">Offset</span><span class="op" id="6703912">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="6703916">0</span><span class="op" id="6703917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703921">Line</span><span class="op" id="6703925">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6703931">1</span><span class="op" id="6703932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703936">Column</span><span class="op" id="6703942">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="6703946">1</span><span class="op" id="6703947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6703950">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703954">index</span>&nbsp;<span class="op" id="6703960">:=</span>&nbsp;<span class="num" id="6703963">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6703966">for</span>&nbsp;<span class="op" id="6703970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6703974">pos</span><span class="op" id="6703977">,</span>&nbsp;<span class="ident" id="6703979">tok</span><span class="op" id="6703982">,</span>&nbsp;<span class="ident" id="6703984">lit</span>&nbsp;<span class="op" id="6703988">:=</span>&nbsp;<span class="ident" id="6703991">s</span><span class="op" id="6703992">.</span><span class="ident" id="6703993">Scan</span><span class="op" id="6703997">(</span><span class="op" id="6703998">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6704003">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704023">if</span>&nbsp;<span class="ident" id="6704026">tok</span>&nbsp;<span class="op" id="6704030">==</span>&nbsp;<span class="ident" id="6704033">token</span><span class="op" id="6704038">.</span><span class="ident" id="6704039">EOF</span>&nbsp;<span class="op" id="6704043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6704048">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704073">epos</span><span class="op" id="6704077">.</span><span class="ident" id="6704078">Line</span>&nbsp;<span class="op" id="6704083">=</span>&nbsp;<span class="ident" id="6704085">newlineCount</span><span class="op" id="6704097">(</span><span class="builtintype" id="6704098">string</span><span class="op" id="6704104">(</span><span class="ident" id="6704105">source</span><span class="op" id="6704111">)</span><span class="op" id="6704112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704117">epos</span><span class="op" id="6704121">.</span><span class="ident" id="6704122">Column</span>&nbsp;<span class="op" id="6704129">=</span>&nbsp;<span class="num" id="6704131">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704139">checkPos</span><span class="op" id="6704147">(</span><span class="ident" id="6704148">t</span><span class="op" id="6704149">,</span>&nbsp;<span class="ident" id="6704151">lit</span><span class="op" id="6704154">,</span>&nbsp;<span class="ident" id="6704156">pos</span><span class="op" id="6704159">,</span>&nbsp;<span class="ident" id="6704161">epos</span><span class="op" id="6704165">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6704170">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704187">e</span>&nbsp;<span class="op" id="6704189">:=</span>&nbsp;<span class="ident" id="6704192">elt</span><span class="op" id="6704195">{</span><span class="ident" id="6704196">token</span><span class="op" id="6704201">.</span><span class="ident" id="6704202">EOF</span><span class="op" id="6704205">,</span>&nbsp;<span class="string" id="6704207">&#34;&#34;</span><span class="op" id="6704209">,</span>&nbsp;<span class="ident" id="6704211">special</span><span class="op" id="6704218">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704222">if</span>&nbsp;<span class="ident" id="6704225">index</span>&nbsp;<span class="op" id="6704231">&lt;</span>&nbsp;<span class="builtinfunc" id="6704233">len</span><span class="op" id="6704236">(</span><span class="ident" id="6704237">tokens</span><span class="op" id="6704243">)</span>&nbsp;<span class="op" id="6704245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704250">e</span>&nbsp;<span class="op" id="6704252">=</span>&nbsp;<span class="ident" id="6704254">tokens</span><span class="op" id="6704260">[</span><span class="ident" id="6704261">index</span><span class="op" id="6704266">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704271">index</span><span class="op" id="6704276">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704285">if</span>&nbsp;<span class="ident" id="6704288">tok</span>&nbsp;<span class="op" id="6704292">!=</span>&nbsp;<span class="ident" id="6704295">e</span><span class="op" id="6704296">.</span><span class="ident" id="6704297">tok</span>&nbsp;<span class="op" id="6704301">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704306">t</span><span class="op" id="6704307">.</span><span class="ident" id="6704308">Errorf</span><span class="op" id="6704314">(</span><span class="string" id="6704315">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6704354">,</span>&nbsp;<span class="ident" id="6704356">lit</span><span class="op" id="6704359">,</span>&nbsp;<span class="ident" id="6704361">tok</span><span class="op" id="6704364">,</span>&nbsp;<span class="ident" id="6704366">e</span><span class="op" id="6704367">.</span><span class="ident" id="6704368">tok</span><span class="op" id="6704371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6704380">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704403">if</span>&nbsp;<span class="ident" id="6704406">tokenclass</span><span class="op" id="6704416">(</span><span class="ident" id="6704417">tok</span><span class="op" id="6704420">)</span>&nbsp;<span class="op" id="6704422">!=</span>&nbsp;<span class="ident" id="6704425">e</span><span class="op" id="6704426">.</span><span class="ident" id="6704427">class</span>&nbsp;<span class="op" id="6704433">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704438">t</span><span class="op" id="6704439">.</span><span class="ident" id="6704440">Errorf</span><span class="op" id="6704446">(</span><span class="string" id="6704447">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6704486">,</span>&nbsp;<span class="ident" id="6704488">lit</span><span class="op" id="6704491">,</span>&nbsp;<span class="ident" id="6704493">tokenclass</span><span class="op" id="6704503">(</span><span class="ident" id="6704504">tok</span><span class="op" id="6704507">)</span><span class="op" id="6704508">,</span>&nbsp;<span class="ident" id="6704510">e</span><span class="op" id="6704511">.</span><span class="ident" id="6704512">class</span><span class="op" id="6704517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6704526">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704545">elit</span>&nbsp;<span class="op" id="6704550">:=</span>&nbsp;<span class="string" id="6704553">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704558">switch</span>&nbsp;<span class="ident" id="6704565">e</span><span class="op" id="6704566">.</span><span class="ident" id="6704567">tok</span>&nbsp;<span class="op" id="6704571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704575">case</span>&nbsp;<span class="ident" id="6704580">token</span><span class="op" id="6704585">.</span><span class="ident" id="6704586">COMMENT</span><span class="op" id="6704593">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6704598">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704623">elit</span>&nbsp;<span class="op" id="6704628">=</span>&nbsp;<span class="builtintype" id="6704630">string</span><span class="op" id="6704636">(</span><span class="ident" id="6704637">stripCR</span><span class="op" id="6704644">(</span><span class="op" id="6704645">[</span><span class="op" id="6704646">]</span><span class="builtintype" id="6704647">byte</span><span class="op" id="6704651">(</span><span class="ident" id="6704652">e</span><span class="op" id="6704653">.</span><span class="ident" id="6704654">lit</span><span class="op" id="6704657">)</span><span class="op" id="6704658">)</span><span class="op" id="6704659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6704664">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704716">if</span>&nbsp;<span class="ident" id="6704719">elit</span><span class="op" id="6704723">[</span><span class="num" id="6704724">1</span><span class="op" id="6704725">]</span>&nbsp;<span class="op" id="6704727">==</span>&nbsp;<span class="string" id="6704730">&#39;/&#39;</span>&nbsp;<span class="op" id="6704734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704740">elit</span>&nbsp;<span class="op" id="6704745">=</span>&nbsp;<span class="ident" id="6704747">elit</span><span class="op" id="6704751">[</span><span class="num" id="6704752">0</span>&nbsp;<span class="op" id="6704754">:</span>&nbsp;<span class="builtinfunc" id="6704756">len</span><span class="op" id="6704759">(</span><span class="ident" id="6704760">elit</span><span class="op" id="6704764">)</span><span class="op" id="6704765">-</span><span class="num" id="6704766">1</span><span class="op" id="6704767">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6704772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704776">case</span>&nbsp;<span class="ident" id="6704781">token</span><span class="op" id="6704786">.</span><span class="ident" id="6704787">IDENT</span><span class="op" id="6704792">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704797">elit</span>&nbsp;<span class="op" id="6704802">=</span>&nbsp;<span class="ident" id="6704804">e</span><span class="op" id="6704805">.</span><span class="ident" id="6704806">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704812">case</span>&nbsp;<span class="ident" id="6704817">token</span><span class="op" id="6704822">.</span><span class="ident" id="6704823">SEMICOLON</span><span class="op" id="6704832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704837">elit</span>&nbsp;<span class="op" id="6704842">=</span>&nbsp;<span class="string" id="6704844">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704850">default</span><span class="op" id="6704857">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704862">if</span>&nbsp;<span class="ident" id="6704865">e</span><span class="op" id="6704866">.</span><span class="ident" id="6704867">tok</span><span class="op" id="6704870">.</span><span class="ident" id="6704871">IsLiteral</span><span class="op" id="6704880">(</span><span class="op" id="6704881">)</span>&nbsp;<span class="op" id="6704883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6704889">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704926">elit</span>&nbsp;<span class="op" id="6704931">=</span>&nbsp;<span class="ident" id="6704933">e</span><span class="op" id="6704934">.</span><span class="ident" id="6704935">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6704943">if</span>&nbsp;<span class="ident" id="6704946">elit</span><span class="op" id="6704950">[</span><span class="num" id="6704951">0</span><span class="op" id="6704952">]</span>&nbsp;<span class="op" id="6704954">==</span>&nbsp;<span class="string" id="6704957">&#39;`&#39;</span>&nbsp;<span class="op" id="6704961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6704968">elit</span>&nbsp;<span class="op" id="6704973">=</span>&nbsp;<span class="builtintype" id="6704975">string</span><span class="op" id="6704981">(</span><span class="ident" id="6704982">stripCR</span><span class="op" id="6704989">(</span><span class="op" id="6704990">[</span><span class="op" id="6704991">]</span><span class="builtintype" id="6704992">byte</span><span class="op" id="6704996">(</span><span class="ident" id="6704997">elit</span><span class="op" id="6705001">)</span><span class="op" id="6705002">)</span><span class="op" id="6705003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705014">}</span>&nbsp;<span class="keyword" id="6705016">else</span>&nbsp;<span class="keyword" id="6705021">if</span>&nbsp;<span class="ident" id="6705024">e</span><span class="op" id="6705025">.</span><span class="ident" id="6705026">tok</span><span class="op" id="6705029">.</span><span class="ident" id="6705030">IsKeyword</span><span class="op" id="6705039">(</span><span class="op" id="6705040">)</span>&nbsp;<span class="op" id="6705042">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705048">elit</span>&nbsp;<span class="op" id="6705053">=</span>&nbsp;<span class="ident" id="6705055">e</span><span class="op" id="6705056">.</span><span class="ident" id="6705057">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705072">if</span>&nbsp;<span class="ident" id="6705075">lit</span>&nbsp;<span class="op" id="6705079">!=</span>&nbsp;<span class="ident" id="6705082">elit</span>&nbsp;<span class="op" id="6705087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705092">t</span><span class="op" id="6705093">.</span><span class="ident" id="6705094">Errorf</span><span class="op" id="6705100">(</span><span class="string" id="6705101">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6705142">,</span>&nbsp;<span class="ident" id="6705144">lit</span><span class="op" id="6705147">,</span>&nbsp;<span class="ident" id="6705149">lit</span><span class="op" id="6705152">,</span>&nbsp;<span class="ident" id="6705154">elit</span><span class="op" id="6705158">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705167">if</span>&nbsp;<span class="ident" id="6705170">tok</span>&nbsp;<span class="op" id="6705174">==</span>&nbsp;<span class="ident" id="6705177">token</span><span class="op" id="6705182">.</span><span class="ident" id="6705183">EOF</span>&nbsp;<span class="op" id="6705187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705192">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705200">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6705205">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705226">epos</span><span class="op" id="6705230">.</span><span class="ident" id="6705231">Offset</span>&nbsp;<span class="op" id="6705238">+=</span>&nbsp;<span class="builtinfunc" id="6705241">len</span><span class="op" id="6705244">(</span><span class="ident" id="6705245">e</span><span class="op" id="6705246">.</span><span class="ident" id="6705247">lit</span><span class="op" id="6705250">)</span>&nbsp;<span class="op" id="6705252">+</span>&nbsp;<span class="builtinfunc" id="6705254">len</span><span class="op" id="6705257">(</span><span class="ident" id="6705258">whitespace</span><span class="op" id="6705268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705272">epos</span><span class="op" id="6705276">.</span><span class="ident" id="6705277">Line</span>&nbsp;<span class="op" id="6705282">+=</span>&nbsp;<span class="ident" id="6705285">newlineCount</span><span class="op" id="6705297">(</span><span class="ident" id="6705298">e</span><span class="op" id="6705299">.</span><span class="ident" id="6705300">lit</span><span class="op" id="6705303">)</span>&nbsp;<span class="op" id="6705305">+</span>&nbsp;<span class="ident" id="6705307">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705334">if</span>&nbsp;<span class="ident" id="6705337">s</span><span class="op" id="6705338">.</span><span class="ident" id="6705339">ErrorCount</span>&nbsp;<span class="op" id="6705350">!=</span>&nbsp;<span class="num" id="6705353">0</span>&nbsp;<span class="op" id="6705355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705359">t</span><span class="op" id="6705360">.</span><span class="ident" id="6705361">Errorf</span><span class="op" id="6705367">(</span><span class="string" id="6705368">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6705385">,</span>&nbsp;<span class="ident" id="6705387">s</span><span class="op" id="6705388">.</span><span class="ident" id="6705389">ErrorCount</span><span class="op" id="6705399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705402">}</span><br>
<span class="lineno">310</span><span class="op" id="6705404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6705407">func</span>&nbsp;<span class="ident" id="6705412">checkSemi</span><span class="op" id="6705421">(</span><span class="ident" id="6705422">t</span>&nbsp;<span class="op" id="6705424">*</span><span class="ident" id="6705425">testing</span><span class="op" id="6705432">.</span><span class="ident" id="6705433">T</span><span class="op" id="6705434">,</span>&nbsp;<span class="ident" id="6705436">line</span>&nbsp;<span class="builtintype" id="6705441">string</span><span class="op" id="6705447">,</span>&nbsp;<span class="ident" id="6705449">mode</span>&nbsp;<span class="ident" id="6705454">Mode</span><span class="op" id="6705458">)</span>&nbsp;<span class="op" id="6705460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705463">var</span>&nbsp;<span class="ident" id="6705467">S</span>&nbsp;<span class="ident" id="6705469">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705478">file</span>&nbsp;<span class="op" id="6705483">:=</span>&nbsp;<span class="ident" id="6705486">fset</span><span class="op" id="6705490">.</span><span class="ident" id="6705491">AddFile</span><span class="op" id="6705498">(</span><span class="string" id="6705499">&#34;TestSemis&#34;</span><span class="op" id="6705510">,</span>&nbsp;<span class="ident" id="6705512">fset</span><span class="op" id="6705516">.</span><span class="ident" id="6705517">Base</span><span class="op" id="6705521">(</span><span class="op" id="6705522">)</span><span class="op" id="6705523">,</span>&nbsp;<span class="builtinfunc" id="6705525">len</span><span class="op" id="6705528">(</span><span class="ident" id="6705529">line</span><span class="op" id="6705533">)</span><span class="op" id="6705534">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705537">S</span><span class="op" id="6705538">.</span><span class="ident" id="6705539">Init</span><span class="op" id="6705543">(</span><span class="ident" id="6705544">file</span><span class="op" id="6705548">,</span>&nbsp;<span class="op" id="6705550">[</span><span class="op" id="6705551">]</span><span class="builtintype" id="6705552">byte</span><span class="op" id="6705556">(</span><span class="ident" id="6705557">line</span><span class="op" id="6705561">)</span><span class="op" id="6705562">,</span>&nbsp;<span class="builtintype" id="6705564">nil</span><span class="op" id="6705567">,</span>&nbsp;<span class="ident" id="6705569">mode</span><span class="op" id="6705573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705576">pos</span><span class="op" id="6705579">,</span>&nbsp;<span class="ident" id="6705581">tok</span><span class="op" id="6705584">,</span>&nbsp;<span class="ident" id="6705586">lit</span>&nbsp;<span class="op" id="6705590">:=</span>&nbsp;<span class="ident" id="6705593">S</span><span class="op" id="6705594">.</span><span class="ident" id="6705595">Scan</span><span class="op" id="6705599">(</span><span class="op" id="6705600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705603">for</span>&nbsp;<span class="ident" id="6705607">tok</span>&nbsp;<span class="op" id="6705611">!=</span>&nbsp;<span class="ident" id="6705614">token</span><span class="op" id="6705619">.</span><span class="ident" id="6705620">EOF</span>&nbsp;<span class="op" id="6705624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705628">if</span>&nbsp;<span class="ident" id="6705631">tok</span>&nbsp;<span class="op" id="6705635">==</span>&nbsp;<span class="ident" id="6705638">token</span><span class="op" id="6705643">.</span><span class="ident" id="6705644">ILLEGAL</span>&nbsp;<span class="op" id="6705652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6705657">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6705704">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705746">semiLit</span>&nbsp;<span class="op" id="6705754">:=</span>&nbsp;<span class="string" id="6705757">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705765">if</span>&nbsp;<span class="ident" id="6705768">lit</span><span class="op" id="6705771">[</span><span class="num" id="6705772">0</span><span class="op" id="6705773">]</span>&nbsp;<span class="op" id="6705775">==</span>&nbsp;<span class="string" id="6705778">&#39;#&#39;</span>&nbsp;<span class="op" id="6705782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705788">semiLit</span>&nbsp;<span class="op" id="6705796">=</span>&nbsp;<span class="string" id="6705798">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6705805">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6705810">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705847">semiPos</span>&nbsp;<span class="op" id="6705855">:=</span>&nbsp;<span class="ident" id="6705858">file</span><span class="op" id="6705862">.</span><span class="ident" id="6705863">Position</span><span class="op" id="6705871">(</span><span class="ident" id="6705872">pos</span><span class="op" id="6705875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705880">semiPos</span><span class="op" id="6705887">.</span><span class="ident" id="6705888">Offset</span><span class="op" id="6705894">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705900">semiPos</span><span class="op" id="6705907">.</span><span class="ident" id="6705908">Column</span><span class="op" id="6705914">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6705920">pos</span><span class="op" id="6705923">,</span>&nbsp;<span class="ident" id="6705925">tok</span><span class="op" id="6705928">,</span>&nbsp;<span class="ident" id="6705930">lit</span>&nbsp;<span class="op" id="6705934">=</span>&nbsp;<span class="ident" id="6705936">S</span><span class="op" id="6705937">.</span><span class="ident" id="6705938">Scan</span><span class="op" id="6705942">(</span><span class="op" id="6705943">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705948">if</span>&nbsp;<span class="ident" id="6705951">tok</span>&nbsp;<span class="op" id="6705955">==</span>&nbsp;<span class="ident" id="6705958">token</span><span class="op" id="6705963">.</span><span class="ident" id="6705964">SEMICOLON</span>&nbsp;<span class="op" id="6705974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6705980">if</span>&nbsp;<span class="ident" id="6705983">lit</span>&nbsp;<span class="op" id="6705987">!=</span>&nbsp;<span class="ident" id="6705990">semiLit</span>&nbsp;<span class="op" id="6705998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706005">t</span><span class="op" id="6706006">.</span><span class="ident" id="6706007">Errorf</span><span class="op" id="6706013">(</span><span class="string" id="6706014">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="6706055">,</span>&nbsp;<span class="ident" id="6706057">line</span><span class="op" id="6706061">,</span>&nbsp;<span class="ident" id="6706063">lit</span><span class="op" id="6706066">,</span>&nbsp;<span class="ident" id="6706068">semiLit</span><span class="op" id="6706075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706087">checkPos</span><span class="op" id="6706095">(</span><span class="ident" id="6706096">t</span><span class="op" id="6706097">,</span>&nbsp;<span class="ident" id="6706099">line</span><span class="op" id="6706103">,</span>&nbsp;<span class="ident" id="6706105">pos</span><span class="op" id="6706108">,</span>&nbsp;<span class="ident" id="6706110">semiPos</span><span class="op" id="6706117">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706122">}</span>&nbsp;<span class="keyword" id="6706124">else</span>&nbsp;<span class="op" id="6706129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706135">t</span><span class="op" id="6706136">.</span><span class="ident" id="6706137">Errorf</span><span class="op" id="6706143">(</span><span class="string" id="6706144">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="6706182">,</span>&nbsp;<span class="ident" id="6706184">line</span><span class="op" id="6706188">,</span>&nbsp;<span class="ident" id="6706190">tok</span><span class="op" id="6706193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706202">}</span>&nbsp;<span class="keyword" id="6706204">else</span>&nbsp;<span class="keyword" id="6706209">if</span>&nbsp;<span class="ident" id="6706212">tok</span>&nbsp;<span class="op" id="6706216">==</span>&nbsp;<span class="ident" id="6706219">token</span><span class="op" id="6706224">.</span><span class="ident" id="6706225">SEMICOLON</span>&nbsp;<span class="op" id="6706235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706240">t</span><span class="op" id="6706241">.</span><span class="ident" id="6706242">Errorf</span><span class="op" id="6706248">(</span><span class="string" id="6706249">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="6706289">,</span>&nbsp;<span class="ident" id="6706291">line</span><span class="op" id="6706295">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6706303">pos</span><span class="op" id="6706306">,</span>&nbsp;<span class="ident" id="6706308">tok</span><span class="op" id="6706311">,</span>&nbsp;<span class="ident" id="6706313">lit</span>&nbsp;<span class="op" id="6706317">=</span>&nbsp;<span class="ident" id="6706319">S</span><span class="op" id="6706320">.</span><span class="ident" id="6706321">Scan</span><span class="op" id="6706325">(</span><span class="op" id="6706326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6706329">}</span><br>
<span class="lineno"></span><span class="op" id="6706331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="6706334">var</span>&nbsp;<span class="ident" id="6706338">lines</span>&nbsp;<span class="op" id="6706344">=</span>&nbsp;<span class="op" id="6706346">[</span><span class="op" id="6706347">]</span><span class="builtintype" id="6706348">string</span><span class="op" id="6706354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6706357">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6706407">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706459">&#34;&#34;</span><span class="op" id="6706461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706464">&#34;\ufeff#;&#34;</span><span class="op" id="6706474">,</span>&nbsp;<span class="comment" id="6706476">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706501">&#34;#;&#34;</span><span class="op" id="6706505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706508">&#34;foo$\n&#34;</span><span class="op" id="6706516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706519">&#34;123$\n&#34;</span><span class="op" id="6706527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706530">&#34;1.2$\n&#34;</span><span class="op" id="6706538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706541">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="6706549">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706552">`&#34;x&#34;`</span>&nbsp;<span class="op" id="6706558">+</span>&nbsp;<span class="string" id="6706560">&#34;$\n&#34;</span><span class="op" id="6706565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706568">&#34;`x`$\n&#34;</span><span class="op" id="6706576">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706580">&#34;+\n&#34;</span><span class="op" id="6706585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706588">&#34;-\n&#34;</span><span class="op" id="6706593">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706596">&#34;*\n&#34;</span><span class="op" id="6706601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706604">&#34;/\n&#34;</span><span class="op" id="6706609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706612">&#34;%\n&#34;</span><span class="op" id="6706617">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706621">&#34;&amp;\n&#34;</span><span class="op" id="6706626">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706629">&#34;|\n&#34;</span><span class="op" id="6706634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706637">&#34;^\n&#34;</span><span class="op" id="6706642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706645">&#34;&lt;&lt;\n&#34;</span><span class="op" id="6706651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706654">&#34;&gt;&gt;\n&#34;</span><span class="op" id="6706660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706663">&#34;&amp;^\n&#34;</span><span class="op" id="6706669">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706673">&#34;+=\n&#34;</span><span class="op" id="6706679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706682">&#34;-=\n&#34;</span><span class="op" id="6706688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706691">&#34;*=\n&#34;</span><span class="op" id="6706697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706700">&#34;/=\n&#34;</span><span class="op" id="6706706">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706709">&#34;%=\n&#34;</span><span class="op" id="6706715">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706719">&#34;&amp;=\n&#34;</span><span class="op" id="6706725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706728">&#34;|=\n&#34;</span><span class="op" id="6706734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706737">&#34;^=\n&#34;</span><span class="op" id="6706743">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706746">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="6706753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706756">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="6706763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706766">&#34;&amp;^=\n&#34;</span><span class="op" id="6706773">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706777">&#34;&amp;&amp;\n&#34;</span><span class="op" id="6706783">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706786">&#34;||\n&#34;</span><span class="op" id="6706792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706795">&#34;&lt;-\n&#34;</span><span class="op" id="6706801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706804">&#34;++$\n&#34;</span><span class="op" id="6706811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706814">&#34;--$\n&#34;</span><span class="op" id="6706821">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706825">&#34;==\n&#34;</span><span class="op" id="6706831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706834">&#34;&lt;\n&#34;</span><span class="op" id="6706839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706842">&#34;&gt;\n&#34;</span><span class="op" id="6706847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706850">&#34;=\n&#34;</span><span class="op" id="6706855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706858">&#34;!\n&#34;</span><span class="op" id="6706863">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706867">&#34;!=\n&#34;</span><span class="op" id="6706873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706876">&#34;&lt;=\n&#34;</span><span class="op" id="6706882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706885">&#34;&gt;=\n&#34;</span><span class="op" id="6706891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706894">&#34;:=\n&#34;</span><span class="op" id="6706900">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706903">&#34;...\n&#34;</span><span class="op" id="6706910">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706914">&#34;(\n&#34;</span><span class="op" id="6706919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706922">&#34;[\n&#34;</span><span class="op" id="6706927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706930">&#34;{\n&#34;</span><span class="op" id="6706935">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706938">&#34;,\n&#34;</span><span class="op" id="6706943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706946">&#34;.\n&#34;</span><span class="op" id="6706951">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706955">&#34;)$\n&#34;</span><span class="op" id="6706961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706964">&#34;]$\n&#34;</span><span class="op" id="6706970">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706973">&#34;}$\n&#34;</span><span class="op" id="6706979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706982">&#34;#;\n&#34;</span><span class="op" id="6706988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6706991">&#34;:\n&#34;</span><span class="op" id="6706996">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707000">&#34;break$\n&#34;</span><span class="op" id="6707010">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707013">&#34;case\n&#34;</span><span class="op" id="6707021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707024">&#34;chan\n&#34;</span><span class="op" id="6707032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707035">&#34;const\n&#34;</span><span class="op" id="6707044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707047">&#34;continue$\n&#34;</span><span class="op" id="6707060">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707064">&#34;default\n&#34;</span><span class="op" id="6707075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707078">&#34;defer\n&#34;</span><span class="op" id="6707087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707090">&#34;else\n&#34;</span><span class="op" id="6707098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707101">&#34;fallthrough$\n&#34;</span><span class="op" id="6707117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707120">&#34;for\n&#34;</span><span class="op" id="6707127">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707131">&#34;func\n&#34;</span><span class="op" id="6707139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707142">&#34;go\n&#34;</span><span class="op" id="6707148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707151">&#34;goto\n&#34;</span><span class="op" id="6707159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707162">&#34;if\n&#34;</span><span class="op" id="6707168">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707171">&#34;import\n&#34;</span><span class="op" id="6707181">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707185">&#34;interface\n&#34;</span><span class="op" id="6707198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707201">&#34;map\n&#34;</span><span class="op" id="6707208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707211">&#34;package\n&#34;</span><span class="op" id="6707222">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707225">&#34;range\n&#34;</span><span class="op" id="6707234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707237">&#34;return$\n&#34;</span><span class="op" id="6707248">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707252">&#34;select\n&#34;</span><span class="op" id="6707262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707265">&#34;struct\n&#34;</span><span class="op" id="6707275">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707278">&#34;switch\n&#34;</span><span class="op" id="6707288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707291">&#34;type\n&#34;</span><span class="op" id="6707299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707302">&#34;var\n&#34;</span><span class="op" id="6707309">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707313">&#34;foo$//comment\n&#34;</span><span class="op" id="6707330">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707333">&#34;foo$//comment&#34;</span><span class="op" id="6707348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707351">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="6707370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707373">&#34;foo$/*\n*/&#34;</span><span class="op" id="6707385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707388">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="6707411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707414">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6707430">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707434">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="6707456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707459">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="6707479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707482">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="6707505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707508">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="6707524">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707527">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="6707563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707566">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="6707595">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707599">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="6707626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707629">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="6707662">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707665">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="6707736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707739">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="6707779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707782">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="6707825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707828">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="6707871">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707875">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="6707942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6707945">&#34;package&nbsp;main$&#34;</span><span class="op" id="6707960">,</span><br>
<span class="lineno"></span><span class="op" id="6707962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6707965">func</span>&nbsp;<span class="ident" id="6707970">TestSemis</span><span class="op" id="6707979">(</span><span class="ident" id="6707980">t</span>&nbsp;<span class="op" id="6707982">*</span><span class="ident" id="6707983">testing</span><span class="op" id="6707990">.</span><span class="ident" id="6707991">T</span><span class="op" id="6707992">)</span>&nbsp;<span class="op" id="6707994">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6707997">for</span>&nbsp;<span class="ident" id="6708001">_</span><span class="op" id="6708002">,</span>&nbsp;<span class="ident" id="6708004">line</span>&nbsp;<span class="op" id="6708009">:=</span>&nbsp;<span class="keyword" id="6708012">range</span>&nbsp;<span class="ident" id="6708018">lines</span>&nbsp;<span class="op" id="6708024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708028">checkSemi</span><span class="op" id="6708037">(</span><span class="ident" id="6708038">t</span><span class="op" id="6708039">,</span>&nbsp;<span class="ident" id="6708041">line</span><span class="op" id="6708045">,</span>&nbsp;<span class="num" id="6708047">0</span><span class="op" id="6708048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708052">checkSemi</span><span class="op" id="6708061">(</span><span class="ident" id="6708062">t</span><span class="op" id="6708063">,</span>&nbsp;<span class="ident" id="6708065">line</span><span class="op" id="6708069">,</span>&nbsp;<span class="ident" id="6708071">ScanComments</span><span class="op" id="6708083">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6708088">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6708153">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6708194">for</span>&nbsp;<span class="ident" id="6708198">i</span>&nbsp;<span class="op" id="6708200">:=</span>&nbsp;<span class="builtinfunc" id="6708203">len</span><span class="op" id="6708206">(</span><span class="ident" id="6708207">line</span><span class="op" id="6708211">)</span>&nbsp;<span class="op" id="6708213">-</span>&nbsp;<span class="num" id="6708215">1</span><span class="op" id="6708216">;</span>&nbsp;<span class="ident" id="6708218">i</span>&nbsp;<span class="op" id="6708220">&gt;=</span>&nbsp;<span class="num" id="6708223">0</span>&nbsp;<span class="op" id="6708225">&amp;&amp;</span>&nbsp;<span class="ident" id="6708228">line</span><span class="op" id="6708232">[</span><span class="ident" id="6708233">i</span><span class="op" id="6708234">]</span>&nbsp;<span class="op" id="6708236">==</span>&nbsp;<span class="string" id="6708239">&#39;\n&#39;</span><span class="op" id="6708243">;</span>&nbsp;<span class="ident" id="6708245">i</span><span class="op" id="6708246">--</span>&nbsp;<span class="op" id="6708249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708254">checkSemi</span><span class="op" id="6708263">(</span><span class="ident" id="6708264">t</span><span class="op" id="6708265">,</span>&nbsp;<span class="ident" id="6708267">line</span><span class="op" id="6708271">[</span><span class="num" id="6708272">0</span><span class="op" id="6708273">:</span><span class="ident" id="6708274">i</span><span class="op" id="6708275">]</span><span class="op" id="6708276">,</span>&nbsp;<span class="num" id="6708278">0</span><span class="op" id="6708279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708284">checkSemi</span><span class="op" id="6708293">(</span><span class="ident" id="6708294">t</span><span class="op" id="6708295">,</span>&nbsp;<span class="ident" id="6708297">line</span><span class="op" id="6708301">[</span><span class="num" id="6708302">0</span><span class="op" id="6708303">:</span><span class="ident" id="6708304">i</span><span class="op" id="6708305">]</span><span class="op" id="6708306">,</span>&nbsp;<span class="ident" id="6708308">ScanComments</span><span class="op" id="6708320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708324">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708327">}</span><br>
<span class="lineno"></span><span class="op" id="6708329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6708332">type</span>&nbsp;<span class="ident" id="6708337">segment</span>&nbsp;<span class="keyword" id="6708345">struct</span>&nbsp;<span class="op" id="6708352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708355">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="6708364">string</span>&nbsp;<span class="comment" id="6708371">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708397">filename</span>&nbsp;<span class="builtintype" id="6708406">string</span>&nbsp;<span class="comment" id="6708413">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6708444">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6708453">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6708460">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="6708493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6708496">var</span>&nbsp;<span class="ident" id="6708500">segments</span>&nbsp;<span class="op" id="6708509">=</span>&nbsp;<span class="op" id="6708511">[</span><span class="op" id="6708512">]</span><span class="ident" id="6708513">segment</span><span class="op" id="6708520">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6708523">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708600">{</span><span class="string" id="6708601">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="6708610">,</span>&nbsp;<span class="ident" id="6708612">filepath</span><span class="op" id="6708620">.</span><span class="ident" id="6708621">Join</span><span class="op" id="6708625">(</span><span class="string" id="6708626">&#34;dir&#34;</span><span class="op" id="6708631">,</span>&nbsp;<span class="string" id="6708633">&#34;TestLineComments&#34;</span><span class="op" id="6708651">)</span><span class="op" id="6708652">,</span>&nbsp;<span class="num" id="6708654">1</span><span class="op" id="6708655">}</span><span class="op" id="6708656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708659">{</span><span class="string" id="6708660">&#34;\nline2&#34;</span><span class="op" id="6708669">,</span>&nbsp;<span class="ident" id="6708671">filepath</span><span class="op" id="6708679">.</span><span class="ident" id="6708680">Join</span><span class="op" id="6708684">(</span><span class="string" id="6708685">&#34;dir&#34;</span><span class="op" id="6708690">,</span>&nbsp;<span class="string" id="6708692">&#34;TestLineComments&#34;</span><span class="op" id="6708710">)</span><span class="op" id="6708711">,</span>&nbsp;<span class="num" id="6708713">2</span><span class="op" id="6708714">}</span><span class="op" id="6708715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708718">{</span><span class="string" id="6708719">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="6708749">,</span>&nbsp;<span class="ident" id="6708751">filepath</span><span class="op" id="6708759">.</span><span class="ident" id="6708760">Join</span><span class="op" id="6708764">(</span><span class="string" id="6708765">&#34;dir&#34;</span><span class="op" id="6708770">,</span>&nbsp;<span class="string" id="6708772">&#34;TestLineComments&#34;</span><span class="op" id="6708790">)</span><span class="op" id="6708791">,</span>&nbsp;<span class="num" id="6708793">3</span><span class="op" id="6708794">}</span><span class="op" id="6708795">,</span>&nbsp;<span class="comment" id="6708797">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708827">{</span><span class="string" id="6708828">&#34;\nline4&#34;</span><span class="op" id="6708837">,</span>&nbsp;<span class="ident" id="6708839">filepath</span><span class="op" id="6708847">.</span><span class="ident" id="6708848">Join</span><span class="op" id="6708852">(</span><span class="string" id="6708853">&#34;dir&#34;</span><span class="op" id="6708858">,</span>&nbsp;<span class="string" id="6708860">&#34;TestLineComments&#34;</span><span class="op" id="6708878">)</span><span class="op" id="6708879">,</span>&nbsp;<span class="num" id="6708881">4</span><span class="op" id="6708882">}</span><span class="op" id="6708883">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708886">{</span><span class="string" id="6708887">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="6708921">,</span>&nbsp;<span class="ident" id="6708923">filepath</span><span class="op" id="6708931">.</span><span class="ident" id="6708932">Join</span><span class="op" id="6708936">(</span><span class="string" id="6708937">&#34;dir&#34;</span><span class="op" id="6708942">,</span>&nbsp;<span class="string" id="6708944">&#34;File1.go&#34;</span><span class="op" id="6708954">)</span><span class="op" id="6708955">,</span>&nbsp;<span class="num" id="6708957">100</span><span class="op" id="6708960">}</span><span class="op" id="6708961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6708964">{</span><span class="string" id="6708965">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="6708992">,</span>&nbsp;<span class="string" id="6708994">&#34;&#34;</span><span class="op" id="6708996">,</span>&nbsp;<span class="num" id="6708998">42</span><span class="op" id="6709000">}</span><span class="op" id="6709001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709004">{</span><span class="string" id="6709005">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="6709039">,</span>&nbsp;<span class="ident" id="6709041">filepath</span><span class="op" id="6709049">.</span><span class="ident" id="6709050">Join</span><span class="op" id="6709054">(</span><span class="string" id="6709055">&#34;dir&#34;</span><span class="op" id="6709060">,</span>&nbsp;<span class="string" id="6709062">&#34;File2.go&#34;</span><span class="op" id="6709072">)</span><span class="op" id="6709073">,</span>&nbsp;<span class="num" id="6709075">200</span><span class="op" id="6709078">}</span><span class="op" id="6709079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709082">{</span><span class="string" id="6709083">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="6709112">,</span>&nbsp;<span class="ident" id="6709114">filepath</span><span class="op" id="6709122">.</span><span class="ident" id="6709123">Join</span><span class="op" id="6709127">(</span><span class="string" id="6709128">&#34;dir&#34;</span><span class="op" id="6709133">,</span>&nbsp;<span class="string" id="6709135">&#34;foo&#34;</span><span class="op" id="6709140">)</span><span class="op" id="6709141">,</span>&nbsp;<span class="num" id="6709143">42</span><span class="op" id="6709145">}</span><span class="op" id="6709146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709149">{</span><span class="string" id="6709150">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="6709178">,</span>&nbsp;<span class="ident" id="6709180">filepath</span><span class="op" id="6709188">.</span><span class="ident" id="6709189">Join</span><span class="op" id="6709193">(</span><span class="string" id="6709194">&#34;dir&#34;</span><span class="op" id="6709199">,</span>&nbsp;<span class="string" id="6709201">&#34;foo&#34;</span><span class="op" id="6709206">)</span><span class="op" id="6709207">,</span>&nbsp;<span class="num" id="6709209">44</span><span class="op" id="6709211">}</span><span class="op" id="6709212">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6709224">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709254">{</span><span class="string" id="6709255">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="6709282">,</span>&nbsp;<span class="ident" id="6709284">filepath</span><span class="op" id="6709292">.</span><span class="ident" id="6709293">Join</span><span class="op" id="6709297">(</span><span class="string" id="6709298">&#34;dir&#34;</span><span class="op" id="6709303">,</span>&nbsp;<span class="string" id="6709305">&#34;foo&#34;</span><span class="op" id="6709310">)</span><span class="op" id="6709311">,</span>&nbsp;<span class="num" id="6709313">46</span><span class="op" id="6709315">}</span><span class="op" id="6709316">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6709329">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709359">{</span><span class="string" id="6709360">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="6709398">,</span>&nbsp;<span class="ident" id="6709400">filepath</span><span class="op" id="6709408">.</span><span class="ident" id="6709409">Join</span><span class="op" id="6709413">(</span><span class="string" id="6709414">&#34;dir&#34;</span><span class="op" id="6709419">,</span>&nbsp;<span class="string" id="6709421">&#34;foo&#34;</span><span class="op" id="6709426">)</span><span class="op" id="6709427">,</span>&nbsp;<span class="num" id="6709429">48</span><span class="op" id="6709431">}</span><span class="op" id="6709432">,</span>&nbsp;<span class="comment" id="6709434">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709464">{</span><span class="string" id="6709465">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="6709494">,</span>&nbsp;<span class="ident" id="6709496">filepath</span><span class="op" id="6709504">.</span><span class="ident" id="6709505">Join</span><span class="op" id="6709509">(</span><span class="string" id="6709510">&#34;dir&#34;</span><span class="op" id="6709515">,</span>&nbsp;<span class="string" id="6709517">&#34;foo&#34;</span><span class="op" id="6709522">)</span><span class="op" id="6709523">,</span>&nbsp;<span class="num" id="6709525">42</span><span class="op" id="6709527">}</span><span class="op" id="6709528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709531">{</span><span class="string" id="6709532">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="6709572">,</span>&nbsp;<span class="ident" id="6709574">filepath</span><span class="op" id="6709582">.</span><span class="ident" id="6709583">Join</span><span class="op" id="6709587">(</span><span class="string" id="6709588">&#34;dir&#34;</span><span class="op" id="6709593">,</span>&nbsp;<span class="string" id="6709595">&#34;a&#34;</span><span class="op" id="6709598">,</span>&nbsp;<span class="string" id="6709600">&#34;b&#34;</span><span class="op" id="6709603">,</span>&nbsp;<span class="string" id="6709605">&#34;c&#34;</span><span class="op" id="6709608">,</span>&nbsp;<span class="string" id="6709610">&#34;File1.go&#34;</span><span class="op" id="6709620">)</span><span class="op" id="6709621">,</span>&nbsp;<span class="num" id="6709623">100</span><span class="op" id="6709626">}</span><span class="op" id="6709627">,</span><br>
<span class="lineno"></span><span class="op" id="6709629">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="6709632">var</span>&nbsp;<span class="ident" id="6709636">unixsegments</span>&nbsp;<span class="op" id="6709649">=</span>&nbsp;<span class="op" id="6709651">[</span><span class="op" id="6709652">]</span><span class="ident" id="6709653">segment</span><span class="op" id="6709660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709663">{</span><span class="string" id="6709664">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="6709692">,</span>&nbsp;<span class="string" id="6709694">&#34;/bar&#34;</span><span class="op" id="6709700">,</span>&nbsp;<span class="num" id="6709702">42</span><span class="op" id="6709704">}</span><span class="op" id="6709705">,</span><br>
<span class="lineno"></span><span class="op" id="6709707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="6709710">var</span>&nbsp;<span class="ident" id="6709714">winsegments</span>&nbsp;<span class="op" id="6709726">=</span>&nbsp;<span class="op" id="6709728">[</span><span class="op" id="6709729">]</span><span class="ident" id="6709730">segment</span><span class="op" id="6709737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709740">{</span><span class="string" id="6709741">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="6709772">,</span>&nbsp;<span class="string" id="6709774">&#34;c:\\bar&#34;</span><span class="op" id="6709783">,</span>&nbsp;<span class="num" id="6709785">42</span><span class="op" id="6709787">}</span><span class="op" id="6709788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6709791">{</span><span class="string" id="6709792">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="6709835">,</span>&nbsp;<span class="string" id="6709837">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="6709856">,</span>&nbsp;<span class="num" id="6709858">100</span><span class="op" id="6709861">}</span><span class="op" id="6709862">,</span><br>
<span class="lineno"></span><span class="op" id="6709864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="6709867">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="6709953">func</span>&nbsp;<span class="ident" id="6709958">TestLineComments</span><span class="op" id="6709974">(</span><span class="ident" id="6709975">t</span>&nbsp;<span class="op" id="6709977">*</span><span class="ident" id="6709978">testing</span><span class="op" id="6709985">.</span><span class="ident" id="6709986">T</span><span class="op" id="6709987">)</span>&nbsp;<span class="op" id="6709989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6709992">segs</span>&nbsp;<span class="op" id="6709997">:=</span>&nbsp;<span class="ident" id="6710000">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710010">if</span>&nbsp;<span class="ident" id="6710013">runtime</span><span class="op" id="6710020">.</span><span class="ident" id="6710021">GOOS</span>&nbsp;<span class="op" id="6710026">==</span>&nbsp;<span class="string" id="6710029">&#34;windows&#34;</span>&nbsp;<span class="op" id="6710039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710043">segs</span>&nbsp;<span class="op" id="6710048">=</span>&nbsp;<span class="builtinfunc" id="6710050">append</span><span class="op" id="6710056">(</span><span class="ident" id="6710057">segs</span><span class="op" id="6710061">,</span>&nbsp;<span class="ident" id="6710063">winsegments</span><span class="op" id="6710074">...</span><span class="op" id="6710077">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710080">}</span>&nbsp;<span class="keyword" id="6710082">else</span>&nbsp;<span class="op" id="6710087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710091">segs</span>&nbsp;<span class="op" id="6710096">=</span>&nbsp;<span class="builtinfunc" id="6710098">append</span><span class="op" id="6710104">(</span><span class="ident" id="6710105">segs</span><span class="op" id="6710109">,</span>&nbsp;<span class="ident" id="6710111">unixsegments</span><span class="op" id="6710123">...</span><span class="op" id="6710126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6710133">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710149">var</span>&nbsp;<span class="ident" id="6710153">src</span>&nbsp;<span class="builtintype" id="6710157">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710165">for</span>&nbsp;<span class="ident" id="6710169">_</span><span class="op" id="6710170">,</span>&nbsp;<span class="ident" id="6710172">e</span>&nbsp;<span class="op" id="6710174">:=</span>&nbsp;<span class="keyword" id="6710177">range</span>&nbsp;<span class="ident" id="6710183">segs</span>&nbsp;<span class="op" id="6710188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710192">src</span>&nbsp;<span class="op" id="6710196">+=</span>&nbsp;<span class="ident" id="6710199">e</span><span class="op" id="6710200">.</span><span class="ident" id="6710201">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6710214">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710230">var</span>&nbsp;<span class="ident" id="6710234">S</span>&nbsp;<span class="ident" id="6710236">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710245">file</span>&nbsp;<span class="op" id="6710250">:=</span>&nbsp;<span class="ident" id="6710253">fset</span><span class="op" id="6710257">.</span><span class="ident" id="6710258">AddFile</span><span class="op" id="6710265">(</span><span class="ident" id="6710266">filepath</span><span class="op" id="6710274">.</span><span class="ident" id="6710275">Join</span><span class="op" id="6710279">(</span><span class="string" id="6710280">&#34;dir&#34;</span><span class="op" id="6710285">,</span>&nbsp;<span class="string" id="6710287">&#34;TestLineComments&#34;</span><span class="op" id="6710305">)</span><span class="op" id="6710306">,</span>&nbsp;<span class="ident" id="6710308">fset</span><span class="op" id="6710312">.</span><span class="ident" id="6710313">Base</span><span class="op" id="6710317">(</span><span class="op" id="6710318">)</span><span class="op" id="6710319">,</span>&nbsp;<span class="builtinfunc" id="6710321">len</span><span class="op" id="6710324">(</span><span class="ident" id="6710325">src</span><span class="op" id="6710328">)</span><span class="op" id="6710329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710332">S</span><span class="op" id="6710333">.</span><span class="ident" id="6710334">Init</span><span class="op" id="6710338">(</span><span class="ident" id="6710339">file</span><span class="op" id="6710343">,</span>&nbsp;<span class="op" id="6710345">[</span><span class="op" id="6710346">]</span><span class="builtintype" id="6710347">byte</span><span class="op" id="6710351">(</span><span class="ident" id="6710352">src</span><span class="op" id="6710355">)</span><span class="op" id="6710356">,</span>&nbsp;<span class="builtintype" id="6710358">nil</span><span class="op" id="6710361">,</span>&nbsp;<span class="ident" id="6710363">dontInsertSemis</span><span class="op" id="6710378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710381">for</span>&nbsp;<span class="ident" id="6710385">_</span><span class="op" id="6710386">,</span>&nbsp;<span class="ident" id="6710388">s</span>&nbsp;<span class="op" id="6710390">:=</span>&nbsp;<span class="keyword" id="6710393">range</span>&nbsp;<span class="ident" id="6710399">segs</span>&nbsp;<span class="op" id="6710404">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710408">p</span><span class="op" id="6710409">,</span>&nbsp;<span class="ident" id="6710411">_</span><span class="op" id="6710412">,</span>&nbsp;<span class="ident" id="6710414">lit</span>&nbsp;<span class="op" id="6710418">:=</span>&nbsp;<span class="ident" id="6710421">S</span><span class="op" id="6710422">.</span><span class="ident" id="6710423">Scan</span><span class="op" id="6710427">(</span><span class="op" id="6710428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710432">pos</span>&nbsp;<span class="op" id="6710436">:=</span>&nbsp;<span class="ident" id="6710439">file</span><span class="op" id="6710443">.</span><span class="ident" id="6710444">Position</span><span class="op" id="6710452">(</span><span class="ident" id="6710453">p</span><span class="op" id="6710454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710458">checkPos</span><span class="op" id="6710466">(</span><span class="ident" id="6710467">t</span><span class="op" id="6710468">,</span>&nbsp;<span class="ident" id="6710470">lit</span><span class="op" id="6710473">,</span>&nbsp;<span class="ident" id="6710475">p</span><span class="op" id="6710476">,</span>&nbsp;<span class="ident" id="6710478">token</span><span class="op" id="6710483">.</span><span class="ident" id="6710484">Position</span><span class="op" id="6710492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710497">Filename</span><span class="op" id="6710505">:</span>&nbsp;<span class="ident" id="6710507">s</span><span class="op" id="6710508">.</span><span class="ident" id="6710509">filename</span><span class="op" id="6710517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710522">Offset</span><span class="op" id="6710528">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6710532">pos</span><span class="op" id="6710535">.</span><span class="ident" id="6710536">Offset</span><span class="op" id="6710542">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710547">Line</span><span class="op" id="6710551">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710557">s</span><span class="op" id="6710558">.</span><span class="ident" id="6710559">line</span><span class="op" id="6710563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710568">Column</span><span class="op" id="6710574">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6710578">pos</span><span class="op" id="6710581">.</span><span class="ident" id="6710582">Column</span><span class="op" id="6710588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710592">}</span><span class="op" id="6710593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710600">if</span>&nbsp;<span class="ident" id="6710603">S</span><span class="op" id="6710604">.</span><span class="ident" id="6710605">ErrorCount</span>&nbsp;<span class="op" id="6710616">!=</span>&nbsp;<span class="num" id="6710619">0</span>&nbsp;<span class="op" id="6710621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710625">t</span><span class="op" id="6710626">.</span><span class="ident" id="6710627">Errorf</span><span class="op" id="6710633">(</span><span class="string" id="6710634">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6710651">,</span>&nbsp;<span class="ident" id="6710653">S</span><span class="op" id="6710654">.</span><span class="ident" id="6710655">ErrorCount</span><span class="op" id="6710665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6710668">}</span><br>
<span class="lineno"></span><span class="op" id="6710670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="6710673">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="6710750">func</span>&nbsp;<span class="ident" id="6710755">TestInit</span><span class="op" id="6710763">(</span><span class="ident" id="6710764">t</span>&nbsp;<span class="op" id="6710766">*</span><span class="ident" id="6710767">testing</span><span class="op" id="6710774">.</span><span class="ident" id="6710775">T</span><span class="op" id="6710776">)</span>&nbsp;<span class="op" id="6710778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710781">var</span>&nbsp;<span class="ident" id="6710785">s</span>&nbsp;<span class="ident" id="6710787">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6710797">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710810">src1</span>&nbsp;<span class="op" id="6710815">:=</span>&nbsp;<span class="string" id="6710818">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710833">f1</span>&nbsp;<span class="op" id="6710836">:=</span>&nbsp;<span class="ident" id="6710839">fset</span><span class="op" id="6710843">.</span><span class="ident" id="6710844">AddFile</span><span class="op" id="6710851">(</span><span class="string" id="6710852">&#34;src1&#34;</span><span class="op" id="6710858">,</span>&nbsp;<span class="ident" id="6710860">fset</span><span class="op" id="6710864">.</span><span class="ident" id="6710865">Base</span><span class="op" id="6710869">(</span><span class="op" id="6710870">)</span><span class="op" id="6710871">,</span>&nbsp;<span class="builtinfunc" id="6710873">len</span><span class="op" id="6710876">(</span><span class="ident" id="6710877">src1</span><span class="op" id="6710881">)</span><span class="op" id="6710882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710885">s</span><span class="op" id="6710886">.</span><span class="ident" id="6710887">Init</span><span class="op" id="6710891">(</span><span class="ident" id="6710892">f1</span><span class="op" id="6710894">,</span>&nbsp;<span class="op" id="6710896">[</span><span class="op" id="6710897">]</span><span class="builtintype" id="6710898">byte</span><span class="op" id="6710902">(</span><span class="ident" id="6710903">src1</span><span class="op" id="6710907">)</span><span class="op" id="6710908">,</span>&nbsp;<span class="builtintype" id="6710910">nil</span><span class="op" id="6710913">,</span>&nbsp;<span class="ident" id="6710915">dontInsertSemis</span><span class="op" id="6710930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710933">if</span>&nbsp;<span class="ident" id="6710936">f1</span><span class="op" id="6710938">.</span><span class="ident" id="6710939">Size</span><span class="op" id="6710943">(</span><span class="op" id="6710944">)</span>&nbsp;<span class="op" id="6710946">!=</span>&nbsp;<span class="builtinfunc" id="6710949">len</span><span class="op" id="6710952">(</span><span class="ident" id="6710953">src1</span><span class="op" id="6710957">)</span>&nbsp;<span class="op" id="6710959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6710963">t</span><span class="op" id="6710964">.</span><span class="ident" id="6710965">Errorf</span><span class="op" id="6710971">(</span><span class="string" id="6710972">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6711008">,</span>&nbsp;<span class="ident" id="6711010">f1</span><span class="op" id="6711012">.</span><span class="ident" id="6711013">Size</span><span class="op" id="6711017">(</span><span class="op" id="6711018">)</span><span class="op" id="6711019">,</span>&nbsp;<span class="builtinfunc" id="6711021">len</span><span class="op" id="6711024">(</span><span class="ident" id="6711025">src1</span><span class="op" id="6711029">)</span><span class="op" id="6711030">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711036">s</span><span class="op" id="6711037">.</span><span class="ident" id="6711038">Scan</span><span class="op" id="6711042">(</span><span class="op" id="6711043">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6711058">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711065">s</span><span class="op" id="6711066">.</span><span class="ident" id="6711067">Scan</span><span class="op" id="6711071">(</span><span class="op" id="6711072">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6711087">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711096">_</span><span class="op" id="6711097">,</span>&nbsp;<span class="ident" id="6711099">tok</span><span class="op" id="6711102">,</span>&nbsp;<span class="ident" id="6711104">_</span>&nbsp;<span class="op" id="6711106">:=</span>&nbsp;<span class="ident" id="6711109">s</span><span class="op" id="6711110">.</span><span class="ident" id="6711111">Scan</span><span class="op" id="6711115">(</span><span class="op" id="6711116">)</span>&nbsp;<span class="comment" id="6711118">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711124">if</span>&nbsp;<span class="ident" id="6711127">tok</span>&nbsp;<span class="op" id="6711131">!=</span>&nbsp;<span class="ident" id="6711134">token</span><span class="op" id="6711139">.</span><span class="ident" id="6711140">LBRACE</span>&nbsp;<span class="op" id="6711147">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711151">t</span><span class="op" id="6711152">.</span><span class="ident" id="6711153">Errorf</span><span class="op" id="6711159">(</span><span class="string" id="6711160">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6711192">,</span>&nbsp;<span class="ident" id="6711194">tok</span><span class="op" id="6711197">,</span>&nbsp;<span class="ident" id="6711199">token</span><span class="op" id="6711204">.</span><span class="ident" id="6711205">LBRACE</span><span class="op" id="6711211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6711218">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711231">src2</span>&nbsp;<span class="op" id="6711236">:=</span>&nbsp;<span class="string" id="6711239">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711254">f2</span>&nbsp;<span class="op" id="6711257">:=</span>&nbsp;<span class="ident" id="6711260">fset</span><span class="op" id="6711264">.</span><span class="ident" id="6711265">AddFile</span><span class="op" id="6711272">(</span><span class="string" id="6711273">&#34;src2&#34;</span><span class="op" id="6711279">,</span>&nbsp;<span class="ident" id="6711281">fset</span><span class="op" id="6711285">.</span><span class="ident" id="6711286">Base</span><span class="op" id="6711290">(</span><span class="op" id="6711291">)</span><span class="op" id="6711292">,</span>&nbsp;<span class="builtinfunc" id="6711294">len</span><span class="op" id="6711297">(</span><span class="ident" id="6711298">src2</span><span class="op" id="6711302">)</span><span class="op" id="6711303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711306">s</span><span class="op" id="6711307">.</span><span class="ident" id="6711308">Init</span><span class="op" id="6711312">(</span><span class="ident" id="6711313">f2</span><span class="op" id="6711315">,</span>&nbsp;<span class="op" id="6711317">[</span><span class="op" id="6711318">]</span><span class="builtintype" id="6711319">byte</span><span class="op" id="6711323">(</span><span class="ident" id="6711324">src2</span><span class="op" id="6711328">)</span><span class="op" id="6711329">,</span>&nbsp;<span class="builtintype" id="6711331">nil</span><span class="op" id="6711334">,</span>&nbsp;<span class="ident" id="6711336">dontInsertSemis</span><span class="op" id="6711351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711354">if</span>&nbsp;<span class="ident" id="6711357">f2</span><span class="op" id="6711359">.</span><span class="ident" id="6711360">Size</span><span class="op" id="6711364">(</span><span class="op" id="6711365">)</span>&nbsp;<span class="op" id="6711367">!=</span>&nbsp;<span class="builtinfunc" id="6711370">len</span><span class="op" id="6711373">(</span><span class="ident" id="6711374">src2</span><span class="op" id="6711378">)</span>&nbsp;<span class="op" id="6711380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711384">t</span><span class="op" id="6711385">.</span><span class="ident" id="6711386">Errorf</span><span class="op" id="6711392">(</span><span class="string" id="6711393">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6711429">,</span>&nbsp;<span class="ident" id="6711431">f2</span><span class="op" id="6711433">.</span><span class="ident" id="6711434">Size</span><span class="op" id="6711438">(</span><span class="op" id="6711439">)</span><span class="op" id="6711440">,</span>&nbsp;<span class="builtinfunc" id="6711442">len</span><span class="op" id="6711445">(</span><span class="ident" id="6711446">src2</span><span class="op" id="6711450">)</span><span class="op" id="6711451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711454">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711457">_</span><span class="op" id="6711458">,</span>&nbsp;<span class="ident" id="6711460">tok</span><span class="op" id="6711463">,</span>&nbsp;<span class="ident" id="6711465">_</span>&nbsp;<span class="op" id="6711467">=</span>&nbsp;<span class="ident" id="6711469">s</span><span class="op" id="6711470">.</span><span class="ident" id="6711471">Scan</span><span class="op" id="6711475">(</span><span class="op" id="6711476">)</span>&nbsp;<span class="comment" id="6711478">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711485">if</span>&nbsp;<span class="ident" id="6711488">tok</span>&nbsp;<span class="op" id="6711492">!=</span>&nbsp;<span class="ident" id="6711495">token</span><span class="op" id="6711500">.</span><span class="ident" id="6711501">GO</span>&nbsp;<span class="op" id="6711504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711508">t</span><span class="op" id="6711509">.</span><span class="ident" id="6711510">Errorf</span><span class="op" id="6711516">(</span><span class="string" id="6711517">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6711549">,</span>&nbsp;<span class="ident" id="6711551">tok</span><span class="op" id="6711554">,</span>&nbsp;<span class="ident" id="6711556">token</span><span class="op" id="6711561">.</span><span class="ident" id="6711562">GO</span><span class="op" id="6711564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711571">if</span>&nbsp;<span class="ident" id="6711574">s</span><span class="op" id="6711575">.</span><span class="ident" id="6711576">ErrorCount</span>&nbsp;<span class="op" id="6711587">!=</span>&nbsp;<span class="num" id="6711590">0</span>&nbsp;<span class="op" id="6711592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6711596">t</span><span class="op" id="6711597">.</span><span class="ident" id="6711598">Errorf</span><span class="op" id="6711604">(</span><span class="string" id="6711605">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6711622">,</span>&nbsp;<span class="ident" id="6711624">s</span><span class="op" id="6711625">.</span><span class="ident" id="6711626">ErrorCount</span><span class="op" id="6711636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6711639">}</span><br>
<span class="lineno"></span><span class="op" id="6711641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="6711644">func</span>&nbsp;<span class="ident" id="6711649">TestStdErrorHander</span><span class="op" id="6711667">(</span><span class="ident" id="6711668">t</span>&nbsp;<span class="op" id="6711670">*</span><span class="ident" id="6711671">testing</span><span class="op" id="6711678">.</span><span class="ident" id="6711679">T</span><span class="op" id="6711680">)</span>&nbsp;<span class="op" id="6711682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711685">const</span>&nbsp;<span class="ident" id="6711691">src</span>&nbsp;<span class="op" id="6711695">=</span>&nbsp;<span class="string" id="6711697">&#34;@\n&#34;</span>&nbsp;<span class="op" id="6711703">+</span>&nbsp;<span class="comment" id="6711705">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6711744">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="6711752">+</span>&nbsp;<span class="comment" id="6711754">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6711787">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="6711807">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6711811">&#34;@\n&#34;</span>&nbsp;<span class="op" id="6711817">+</span>&nbsp;<span class="comment" id="6711819">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6711854">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="6711873">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6711877">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="6711885">+</span>&nbsp;<span class="comment" id="6711887">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6711926">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="6711945">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6711949">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="6711957">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6711990">var</span>&nbsp;<span class="ident" id="6711994">list</span>&nbsp;<span class="ident" id="6711999">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712010">eh</span>&nbsp;<span class="op" id="6712013">:=</span>&nbsp;<span class="keyword" id="6712016">func</span><span class="op" id="6712020">(</span><span class="ident" id="6712021">pos</span>&nbsp;<span class="ident" id="6712025">token</span><span class="op" id="6712030">.</span><span class="ident" id="6712031">Position</span><span class="op" id="6712039">,</span>&nbsp;<span class="ident" id="6712041">msg</span>&nbsp;<span class="builtintype" id="6712045">string</span><span class="op" id="6712051">)</span>&nbsp;<span class="op" id="6712053">{</span>&nbsp;<span class="ident" id="6712055">list</span><span class="op" id="6712059">.</span><span class="ident" id="6712060">Add</span><span class="op" id="6712063">(</span><span class="ident" id="6712064">pos</span><span class="op" id="6712067">,</span>&nbsp;<span class="ident" id="6712069">msg</span><span class="op" id="6712072">)</span>&nbsp;<span class="op" id="6712074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712078">var</span>&nbsp;<span class="ident" id="6712082">s</span>&nbsp;<span class="ident" id="6712084">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712093">s</span><span class="op" id="6712094">.</span><span class="ident" id="6712095">Init</span><span class="op" id="6712099">(</span><span class="ident" id="6712100">fset</span><span class="op" id="6712104">.</span><span class="ident" id="6712105">AddFile</span><span class="op" id="6712112">(</span><span class="string" id="6712113">&#34;File1&#34;</span><span class="op" id="6712120">,</span>&nbsp;<span class="ident" id="6712122">fset</span><span class="op" id="6712126">.</span><span class="ident" id="6712127">Base</span><span class="op" id="6712131">(</span><span class="op" id="6712132">)</span><span class="op" id="6712133">,</span>&nbsp;<span class="builtinfunc" id="6712135">len</span><span class="op" id="6712138">(</span><span class="ident" id="6712139">src</span><span class="op" id="6712142">)</span><span class="op" id="6712143">)</span><span class="op" id="6712144">,</span>&nbsp;<span class="op" id="6712146">[</span><span class="op" id="6712147">]</span><span class="builtintype" id="6712148">byte</span><span class="op" id="6712152">(</span><span class="ident" id="6712153">src</span><span class="op" id="6712156">)</span><span class="op" id="6712157">,</span>&nbsp;<span class="ident" id="6712159">eh</span><span class="op" id="6712161">,</span>&nbsp;<span class="ident" id="6712163">dontInsertSemis</span><span class="op" id="6712178">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712181">for</span>&nbsp;<span class="op" id="6712185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712189">if</span>&nbsp;<span class="ident" id="6712192">_</span><span class="op" id="6712193">,</span>&nbsp;<span class="ident" id="6712195">tok</span><span class="op" id="6712198">,</span>&nbsp;<span class="ident" id="6712200">_</span>&nbsp;<span class="op" id="6712202">:=</span>&nbsp;<span class="ident" id="6712205">s</span><span class="op" id="6712206">.</span><span class="ident" id="6712207">Scan</span><span class="op" id="6712211">(</span><span class="op" id="6712212">)</span><span class="op" id="6712213">;</span>&nbsp;<span class="ident" id="6712215">tok</span>&nbsp;<span class="op" id="6712219">==</span>&nbsp;<span class="ident" id="6712222">token</span><span class="op" id="6712227">.</span><span class="ident" id="6712228">EOF</span>&nbsp;<span class="op" id="6712232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712237">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712248">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712252">if</span>&nbsp;<span class="builtinfunc" id="6712255">len</span><span class="op" id="6712258">(</span><span class="ident" id="6712259">list</span><span class="op" id="6712263">)</span>&nbsp;<span class="op" id="6712265">!=</span>&nbsp;<span class="ident" id="6712268">s</span><span class="op" id="6712269">.</span><span class="ident" id="6712270">ErrorCount</span>&nbsp;<span class="op" id="6712281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712285">t</span><span class="op" id="6712286">.</span><span class="ident" id="6712287">Errorf</span><span class="op" id="6712293">(</span><span class="string" id="6712294">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6712324">,</span>&nbsp;<span class="builtinfunc" id="6712326">len</span><span class="op" id="6712329">(</span><span class="ident" id="6712330">list</span><span class="op" id="6712334">)</span><span class="op" id="6712335">,</span>&nbsp;<span class="ident" id="6712337">s</span><span class="op" id="6712338">.</span><span class="ident" id="6712339">ErrorCount</span><span class="op" id="6712349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712356">if</span>&nbsp;<span class="builtinfunc" id="6712359">len</span><span class="op" id="6712362">(</span><span class="ident" id="6712363">list</span><span class="op" id="6712367">)</span>&nbsp;<span class="op" id="6712369">!=</span>&nbsp;<span class="num" id="6712372">9</span>&nbsp;<span class="op" id="6712374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712378">t</span><span class="op" id="6712379">.</span><span class="ident" id="6712380">Errorf</span><span class="op" id="6712386">(</span><span class="string" id="6712387">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="6712420">,</span>&nbsp;<span class="builtinfunc" id="6712422">len</span><span class="op" id="6712425">(</span><span class="ident" id="6712426">list</span><span class="op" id="6712430">)</span><span class="op" id="6712431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712435">PrintError</span><span class="op" id="6712445">(</span><span class="ident" id="6712446">os</span><span class="op" id="6712448">.</span><span class="ident" id="6712449">Stderr</span><span class="op" id="6712455">,</span>&nbsp;<span class="ident" id="6712457">list</span><span class="op" id="6712461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712468">list</span><span class="op" id="6712472">.</span><span class="ident" id="6712473">Sort</span><span class="op" id="6712477">(</span><span class="op" id="6712478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712481">if</span>&nbsp;<span class="builtinfunc" id="6712484">len</span><span class="op" id="6712487">(</span><span class="ident" id="6712488">list</span><span class="op" id="6712492">)</span>&nbsp;<span class="op" id="6712494">!=</span>&nbsp;<span class="num" id="6712497">9</span>&nbsp;<span class="op" id="6712499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712503">t</span><span class="op" id="6712504">.</span><span class="ident" id="6712505">Errorf</span><span class="op" id="6712511">(</span><span class="string" id="6712512">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="6712548">,</span>&nbsp;<span class="builtinfunc" id="6712550">len</span><span class="op" id="6712553">(</span><span class="ident" id="6712554">list</span><span class="op" id="6712558">)</span><span class="op" id="6712559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712563">PrintError</span><span class="op" id="6712573">(</span><span class="ident" id="6712574">os</span><span class="op" id="6712576">.</span><span class="ident" id="6712577">Stderr</span><span class="op" id="6712583">,</span>&nbsp;<span class="ident" id="6712585">list</span><span class="op" id="6712589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712592">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712596">list</span><span class="op" id="6712600">.</span><span class="ident" id="6712601">RemoveMultiples</span><span class="op" id="6712616">(</span><span class="op" id="6712617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6712620">if</span>&nbsp;<span class="builtinfunc" id="6712623">len</span><span class="op" id="6712626">(</span><span class="ident" id="6712627">list</span><span class="op" id="6712631">)</span>&nbsp;<span class="op" id="6712633">!=</span>&nbsp;<span class="num" id="6712636">4</span>&nbsp;<span class="op" id="6712638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712642">t</span><span class="op" id="6712643">.</span><span class="ident" id="6712644">Errorf</span><span class="op" id="6712650">(</span><span class="string" id="6712651">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="6712693">,</span>&nbsp;<span class="builtinfunc" id="6712695">len</span><span class="op" id="6712698">(</span><span class="ident" id="6712699">list</span><span class="op" id="6712703">)</span><span class="op" id="6712704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712708">PrintError</span><span class="op" id="6712718">(</span><span class="ident" id="6712719">os</span><span class="op" id="6712721">.</span><span class="ident" id="6712722">Stderr</span><span class="op" id="6712728">,</span>&nbsp;<span class="ident" id="6712730">list</span><span class="op" id="6712734">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6712737">}</span><br>
<span class="lineno"></span><span class="op" id="6712739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6712742">type</span>&nbsp;<span class="ident" id="6712747">errorCollector</span>&nbsp;<span class="keyword" id="6712762">struct</span>&nbsp;<span class="op" id="6712769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712772">cnt</span>&nbsp;<span class="builtintype" id="6712776">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6712791">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712824">msg</span>&nbsp;<span class="builtintype" id="6712828">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6712843">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6712878">pos</span>&nbsp;<span class="ident" id="6712882">token</span><span class="op" id="6712887">.</span><span class="ident" id="6712888">Position</span>&nbsp;<span class="comment" id="6712897">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="6712932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6712935">func</span>&nbsp;<span class="ident" id="6712940">checkError</span><span class="op" id="6712950">(</span><span class="ident" id="6712951">t</span>&nbsp;<span class="op" id="6712953">*</span><span class="ident" id="6712954">testing</span><span class="op" id="6712961">.</span><span class="ident" id="6712962">T</span><span class="op" id="6712963">,</span>&nbsp;<span class="ident" id="6712965">src</span>&nbsp;<span class="builtintype" id="6712969">string</span><span class="op" id="6712975">,</span>&nbsp;<span class="ident" id="6712977">tok</span>&nbsp;<span class="ident" id="6712981">token</span><span class="op" id="6712986">.</span><span class="ident" id="6712987">Token</span><span class="op" id="6712992">,</span>&nbsp;<span class="ident" id="6712994">pos</span>&nbsp;<span class="builtintype" id="6712998">int</span><span class="op" id="6713001">,</span>&nbsp;<span class="ident" id="6713003">lit</span><span class="op" id="6713006">,</span>&nbsp;<span class="ident" id="6713008">err</span>&nbsp;<span class="builtintype" id="6713012">string</span><span class="op" id="6713018">)</span>&nbsp;<span class="op" id="6713020">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6713023">var</span>&nbsp;<span class="ident" id="6713027">s</span>&nbsp;<span class="ident" id="6713029">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6713038">var</span>&nbsp;<span class="ident" id="6713042">h</span>&nbsp;<span class="ident" id="6713044">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713060">eh</span>&nbsp;<span class="op" id="6713063">:=</span>&nbsp;<span class="keyword" id="6713066">func</span><span class="op" id="6713070">(</span><span class="ident" id="6713071">pos</span>&nbsp;<span class="ident" id="6713075">token</span><span class="op" id="6713080">.</span><span class="ident" id="6713081">Position</span><span class="op" id="6713089">,</span>&nbsp;<span class="ident" id="6713091">msg</span>&nbsp;<span class="builtintype" id="6713095">string</span><span class="op" id="6713101">)</span>&nbsp;<span class="op" id="6713103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713107">h</span><span class="op" id="6713108">.</span><span class="ident" id="6713109">cnt</span><span class="op" id="6713112">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713117">h</span><span class="op" id="6713118">.</span><span class="ident" id="6713119">msg</span>&nbsp;<span class="op" id="6713123">=</span>&nbsp;<span class="ident" id="6713125">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713131">h</span><span class="op" id="6713132">.</span><span class="ident" id="6713133">pos</span>&nbsp;<span class="op" id="6713137">=</span>&nbsp;<span class="ident" id="6713139">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713147">s</span><span class="op" id="6713148">.</span><span class="ident" id="6713149">Init</span><span class="op" id="6713153">(</span><span class="ident" id="6713154">fset</span><span class="op" id="6713158">.</span><span class="ident" id="6713159">AddFile</span><span class="op" id="6713166">(</span><span class="string" id="6713167">&#34;&#34;</span><span class="op" id="6713169">,</span>&nbsp;<span class="ident" id="6713171">fset</span><span class="op" id="6713175">.</span><span class="ident" id="6713176">Base</span><span class="op" id="6713180">(</span><span class="op" id="6713181">)</span><span class="op" id="6713182">,</span>&nbsp;<span class="builtinfunc" id="6713184">len</span><span class="op" id="6713187">(</span><span class="ident" id="6713188">src</span><span class="op" id="6713191">)</span><span class="op" id="6713192">)</span><span class="op" id="6713193">,</span>&nbsp;<span class="op" id="6713195">[</span><span class="op" id="6713196">]</span><span class="builtintype" id="6713197">byte</span><span class="op" id="6713201">(</span><span class="ident" id="6713202">src</span><span class="op" id="6713205">)</span><span class="op" id="6713206">,</span>&nbsp;<span class="ident" id="6713208">eh</span><span class="op" id="6713210">,</span>&nbsp;<span class="ident" id="6713212">ScanComments</span><span class="op" id="6713224">|</span><span class="ident" id="6713225">dontInsertSemis</span><span class="op" id="6713240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713243">_</span><span class="op" id="6713244">,</span>&nbsp;<span class="ident" id="6713246">tok0</span><span class="op" id="6713250">,</span>&nbsp;<span class="ident" id="6713252">lit0</span>&nbsp;<span class="op" id="6713257">:=</span>&nbsp;<span class="ident" id="6713260">s</span><span class="op" id="6713261">.</span><span class="ident" id="6713262">Scan</span><span class="op" id="6713266">(</span><span class="op" id="6713267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6713270">if</span>&nbsp;<span class="ident" id="6713273">tok0</span>&nbsp;<span class="op" id="6713278">!=</span>&nbsp;<span class="ident" id="6713281">tok</span>&nbsp;<span class="op" id="6713285">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713289">t</span><span class="op" id="6713290">.</span><span class="ident" id="6713291">Errorf</span><span class="op" id="6713297">(</span><span class="string" id="6713298">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="6713323">,</span>&nbsp;<span class="ident" id="6713325">src</span><span class="op" id="6713328">,</span>&nbsp;<span class="ident" id="6713330">tok0</span><span class="op" id="6713334">,</span>&nbsp;<span class="ident" id="6713336">tok</span><span class="op" id="6713339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6713345">if</span>&nbsp;<span class="ident" id="6713348">tok0</span>&nbsp;<span class="op" id="6713353">!=</span>&nbsp;<span class="ident" id="6713356">token</span><span class="op" id="6713361">.</span><span class="ident" id="6713362">ILLEGAL</span>&nbsp;<span class="op" id="6713370">&amp;&amp;</span>&nbsp;<span class="ident" id="6713373">lit0</span>&nbsp;<span class="op" id="6713378">!=</span>&nbsp;<span class="ident" id="6713381">lit</span>&nbsp;<span class="op" id="6713385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713389">t</span><span class="op" id="6713390">.</span><span class="ident" id="6713391">Errorf</span><span class="op" id="6713397">(</span><span class="string" id="6713398">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6713431">,</span>&nbsp;<span class="ident" id="6713433">src</span><span class="op" id="6713436">,</span>&nbsp;<span class="ident" id="6713438">lit0</span><span class="op" id="6713442">,</span>&nbsp;<span class="ident" id="6713444">lit</span><span class="op" id="6713447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713450">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713453">cnt</span>&nbsp;<span class="op" id="6713457">:=</span>&nbsp;<span class="num" id="6713460">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6713463">if</span>&nbsp;<span class="ident" id="6713466">err</span>&nbsp;<span class="op" id="6713470">!=</span>&nbsp;<span class="string" id="6713473">&#34;&#34;</span>&nbsp;<span class="op" id="6713476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713480">cnt</span>&nbsp;<span class="op" id="6713484">=</span>&nbsp;<span class="num" id="6713486">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6713492">if</span>&nbsp;<span class="ident" id="6713495">h</span><span class="op" id="6713496">.</span><span class="ident" id="6713497">cnt</span>&nbsp;<span class="op" id="6713501">!=</span>&nbsp;<span class="ident" id="6713504">cnt</span>&nbsp;<span class="op" id="6713508">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713512">t</span><span class="op" id="6713513">.</span><span class="ident" id="6713514">Errorf</span><span class="op" id="6713520">(</span><span class="string" id="6713521">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6713550">,</span>&nbsp;<span class="ident" id="6713552">src</span><span class="op" id="6713555">,</span>&nbsp;<span class="ident" id="6713557">h</span><span class="op" id="6713558">.</span><span class="ident" id="6713559">cnt</span><span class="op" id="6713562">,</span>&nbsp;<span class="ident" id="6713564">cnt</span><span class="op" id="6713567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6713573">if</span>&nbsp;<span class="ident" id="6713576">h</span><span class="op" id="6713577">.</span><span class="ident" id="6713578">msg</span>&nbsp;<span class="op" id="6713582">!=</span>&nbsp;<span class="ident" id="6713585">err</span>&nbsp;<span class="op" id="6713589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713593">t</span><span class="op" id="6713594">.</span><span class="ident" id="6713595">Errorf</span><span class="op" id="6713601">(</span><span class="string" id="6713602">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6713631">,</span>&nbsp;<span class="ident" id="6713633">src</span><span class="op" id="6713636">,</span>&nbsp;<span class="ident" id="6713638">h</span><span class="op" id="6713639">.</span><span class="ident" id="6713640">msg</span><span class="op" id="6713643">,</span>&nbsp;<span class="ident" id="6713645">err</span><span class="op" id="6713648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713651">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6713654">if</span>&nbsp;<span class="ident" id="6713657">h</span><span class="op" id="6713658">.</span><span class="ident" id="6713659">pos</span><span class="op" id="6713662">.</span><span class="ident" id="6713663">Offset</span>&nbsp;<span class="op" id="6713670">!=</span>&nbsp;<span class="ident" id="6713673">pos</span>&nbsp;<span class="op" id="6713677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713681">t</span><span class="op" id="6713682">.</span><span class="ident" id="6713683">Errorf</span><span class="op" id="6713689">(</span><span class="string" id="6713690">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6713722">,</span>&nbsp;<span class="ident" id="6713724">src</span><span class="op" id="6713727">,</span>&nbsp;<span class="ident" id="6713729">h</span><span class="op" id="6713730">.</span><span class="ident" id="6713731">pos</span><span class="op" id="6713734">.</span><span class="ident" id="6713735">Offset</span><span class="op" id="6713741">,</span>&nbsp;<span class="ident" id="6713743">pos</span><span class="op" id="6713746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713749">}</span><br>
<span class="lineno"></span><span class="op" id="6713751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="6713754">var</span>&nbsp;<span class="ident" id="6713758">errors</span>&nbsp;<span class="op" id="6713765">=</span>&nbsp;<span class="op" id="6713767">[</span><span class="op" id="6713768">]</span><span class="keyword" id="6713769">struct</span>&nbsp;<span class="op" id="6713776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713779">src</span>&nbsp;<span class="builtintype" id="6713783">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713791">tok</span>&nbsp;<span class="ident" id="6713795">token</span><span class="op" id="6713800">.</span><span class="ident" id="6713801">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713808">pos</span>&nbsp;<span class="builtintype" id="6713812">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713817">lit</span>&nbsp;<span class="builtintype" id="6713821">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6713829">err</span>&nbsp;<span class="builtintype" id="6713833">string</span><br>
<span class="lineno"></span><span class="op" id="6713840">}</span><span class="op" id="6713841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713844">{</span><span class="string" id="6713845">&#34;\a&#34;</span><span class="op" id="6713849">,</span>&nbsp;<span class="ident" id="6713851">token</span><span class="op" id="6713856">.</span><span class="ident" id="6713857">ILLEGAL</span><span class="op" id="6713864">,</span>&nbsp;<span class="num" id="6713866">0</span><span class="op" id="6713867">,</span>&nbsp;<span class="string" id="6713869">&#34;&#34;</span><span class="op" id="6713871">,</span>&nbsp;<span class="string" id="6713873">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="6713899">}</span><span class="op" id="6713900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713903">{</span><span class="string" id="6713904">`#`</span><span class="op" id="6713907">,</span>&nbsp;<span class="ident" id="6713909">token</span><span class="op" id="6713914">.</span><span class="ident" id="6713915">ILLEGAL</span><span class="op" id="6713922">,</span>&nbsp;<span class="num" id="6713924">0</span><span class="op" id="6713925">,</span>&nbsp;<span class="string" id="6713927">&#34;&#34;</span><span class="op" id="6713929">,</span>&nbsp;<span class="string" id="6713931">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="6713961">}</span><span class="op" id="6713962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6713965">{</span><span class="string" id="6713966">`…`</span><span class="op" id="6713971">,</span>&nbsp;<span class="ident" id="6713973">token</span><span class="op" id="6713978">.</span><span class="ident" id="6713979">ILLEGAL</span><span class="op" id="6713986">,</span>&nbsp;<span class="num" id="6713988">0</span><span class="op" id="6713989">,</span>&nbsp;<span class="string" id="6713991">&#34;&#34;</span><span class="op" id="6713993">,</span>&nbsp;<span class="string" id="6713995">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="6714027">}</span><span class="op" id="6714028">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714031">{</span><span class="string" id="6714032">`&#39;&nbsp;&#39;`</span><span class="op" id="6714037">,</span>&nbsp;<span class="ident" id="6714039">token</span><span class="op" id="6714044">.</span><span class="ident" id="6714045">CHAR</span><span class="op" id="6714049">,</span>&nbsp;<span class="num" id="6714051">0</span><span class="op" id="6714052">,</span>&nbsp;<span class="string" id="6714054">`&#39;&nbsp;&#39;`</span><span class="op" id="6714059">,</span>&nbsp;<span class="string" id="6714061">&#34;&#34;</span><span class="op" id="6714063">}</span><span class="op" id="6714064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714067">{</span><span class="string" id="6714068">`&#39;&#39;`</span><span class="op" id="6714072">,</span>&nbsp;<span class="ident" id="6714074">token</span><span class="op" id="6714079">.</span><span class="ident" id="6714080">CHAR</span><span class="op" id="6714084">,</span>&nbsp;<span class="num" id="6714086">0</span><span class="op" id="6714087">,</span>&nbsp;<span class="string" id="6714089">`&#39;&#39;`</span><span class="op" id="6714093">,</span>&nbsp;<span class="string" id="6714095">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="6714117">}</span><span class="op" id="6714118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714121">{</span><span class="string" id="6714122">`&#39;12&#39;`</span><span class="op" id="6714128">,</span>&nbsp;<span class="ident" id="6714130">token</span><span class="op" id="6714135">.</span><span class="ident" id="6714136">CHAR</span><span class="op" id="6714140">,</span>&nbsp;<span class="num" id="6714142">0</span><span class="op" id="6714143">,</span>&nbsp;<span class="string" id="6714145">`&#39;12&#39;`</span><span class="op" id="6714151">,</span>&nbsp;<span class="string" id="6714153">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="6714175">}</span><span class="op" id="6714176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714179">{</span><span class="string" id="6714180">`&#39;123&#39;`</span><span class="op" id="6714187">,</span>&nbsp;<span class="ident" id="6714189">token</span><span class="op" id="6714194">.</span><span class="ident" id="6714195">CHAR</span><span class="op" id="6714199">,</span>&nbsp;<span class="num" id="6714201">0</span><span class="op" id="6714202">,</span>&nbsp;<span class="string" id="6714204">`&#39;123&#39;`</span><span class="op" id="6714211">,</span>&nbsp;<span class="string" id="6714213">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="6714235">}</span><span class="op" id="6714236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714239">{</span><span class="string" id="6714240">`&#39;\0&#39;`</span><span class="op" id="6714246">,</span>&nbsp;<span class="ident" id="6714248">token</span><span class="op" id="6714253">.</span><span class="ident" id="6714254">CHAR</span><span class="op" id="6714258">,</span>&nbsp;<span class="num" id="6714260">3</span><span class="op" id="6714261">,</span>&nbsp;<span class="string" id="6714263">`&#39;\0&#39;`</span><span class="op" id="6714269">,</span>&nbsp;<span class="string" id="6714271">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6714320">}</span><span class="op" id="6714321">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714324">{</span><span class="string" id="6714325">`&#39;\07&#39;`</span><span class="op" id="6714332">,</span>&nbsp;<span class="ident" id="6714334">token</span><span class="op" id="6714339">.</span><span class="ident" id="6714340">CHAR</span><span class="op" id="6714344">,</span>&nbsp;<span class="num" id="6714346">4</span><span class="op" id="6714347">,</span>&nbsp;<span class="string" id="6714349">`&#39;\07&#39;`</span><span class="op" id="6714356">,</span>&nbsp;<span class="string" id="6714358">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6714407">}</span><span class="op" id="6714408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714411">{</span><span class="string" id="6714412">`&#39;\8&#39;`</span><span class="op" id="6714418">,</span>&nbsp;<span class="ident" id="6714420">token</span><span class="op" id="6714425">.</span><span class="ident" id="6714426">CHAR</span><span class="op" id="6714430">,</span>&nbsp;<span class="num" id="6714432">2</span><span class="op" id="6714433">,</span>&nbsp;<span class="string" id="6714435">`&#39;\8&#39;`</span><span class="op" id="6714441">,</span>&nbsp;<span class="string" id="6714443">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6714468">}</span><span class="op" id="6714469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714472">{</span><span class="string" id="6714473">`&#39;\08&#39;`</span><span class="op" id="6714480">,</span>&nbsp;<span class="ident" id="6714482">token</span><span class="op" id="6714487">.</span><span class="ident" id="6714488">CHAR</span><span class="op" id="6714492">,</span>&nbsp;<span class="num" id="6714494">3</span><span class="op" id="6714495">,</span>&nbsp;<span class="string" id="6714497">`&#39;\08&#39;`</span><span class="op" id="6714504">,</span>&nbsp;<span class="string" id="6714506">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6714555">}</span><span class="op" id="6714556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714559">{</span><span class="string" id="6714560">`&#39;\x&#39;`</span><span class="op" id="6714566">,</span>&nbsp;<span class="ident" id="6714568">token</span><span class="op" id="6714573">.</span><span class="ident" id="6714574">CHAR</span><span class="op" id="6714578">,</span>&nbsp;<span class="num" id="6714580">3</span><span class="op" id="6714581">,</span>&nbsp;<span class="string" id="6714583">`&#39;\x&#39;`</span><span class="op" id="6714589">,</span>&nbsp;<span class="string" id="6714591">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6714640">}</span><span class="op" id="6714641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714644">{</span><span class="string" id="6714645">`&#39;\x0&#39;`</span><span class="op" id="6714652">,</span>&nbsp;<span class="ident" id="6714654">token</span><span class="op" id="6714659">.</span><span class="ident" id="6714660">CHAR</span><span class="op" id="6714664">,</span>&nbsp;<span class="num" id="6714666">4</span><span class="op" id="6714667">,</span>&nbsp;<span class="string" id="6714669">`&#39;\x0&#39;`</span><span class="op" id="6714676">,</span>&nbsp;<span class="string" id="6714678">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6714727">}</span><span class="op" id="6714728">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714731">{</span><span class="string" id="6714732">`&#39;\x0g&#39;`</span><span class="op" id="6714740">,</span>&nbsp;<span class="ident" id="6714742">token</span><span class="op" id="6714747">.</span><span class="ident" id="6714748">CHAR</span><span class="op" id="6714752">,</span>&nbsp;<span class="num" id="6714754">4</span><span class="op" id="6714755">,</span>&nbsp;<span class="string" id="6714757">`&#39;\x0g&#39;`</span><span class="op" id="6714765">,</span>&nbsp;<span class="string" id="6714767">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6714816">}</span><span class="op" id="6714817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714820">{</span><span class="string" id="6714821">`&#39;\u&#39;`</span><span class="op" id="6714827">,</span>&nbsp;<span class="ident" id="6714829">token</span><span class="op" id="6714834">.</span><span class="ident" id="6714835">CHAR</span><span class="op" id="6714839">,</span>&nbsp;<span class="num" id="6714841">3</span><span class="op" id="6714842">,</span>&nbsp;<span class="string" id="6714844">`&#39;\u&#39;`</span><span class="op" id="6714850">,</span>&nbsp;<span class="string" id="6714852">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6714901">}</span><span class="op" id="6714902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714905">{</span><span class="string" id="6714906">`&#39;\u0&#39;`</span><span class="op" id="6714913">,</span>&nbsp;<span class="ident" id="6714915">token</span><span class="op" id="6714920">.</span><span class="ident" id="6714921">CHAR</span><span class="op" id="6714925">,</span>&nbsp;<span class="num" id="6714927">4</span><span class="op" id="6714928">,</span>&nbsp;<span class="string" id="6714930">`&#39;\u0&#39;`</span><span class="op" id="6714937">,</span>&nbsp;<span class="string" id="6714939">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6714988">}</span><span class="op" id="6714989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6714992">{</span><span class="string" id="6714993">`&#39;\u00&#39;`</span><span class="op" id="6715001">,</span>&nbsp;<span class="ident" id="6715003">token</span><span class="op" id="6715008">.</span><span class="ident" id="6715009">CHAR</span><span class="op" id="6715013">,</span>&nbsp;<span class="num" id="6715015">5</span><span class="op" id="6715016">,</span>&nbsp;<span class="string" id="6715018">`&#39;\u00&#39;`</span><span class="op" id="6715026">,</span>&nbsp;<span class="string" id="6715028">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6715077">}</span><span class="op" id="6715078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715081">{</span><span class="string" id="6715082">`&#39;\u000&#39;`</span><span class="op" id="6715091">,</span>&nbsp;<span class="ident" id="6715093">token</span><span class="op" id="6715098">.</span><span class="ident" id="6715099">CHAR</span><span class="op" id="6715103">,</span>&nbsp;<span class="num" id="6715105">6</span><span class="op" id="6715106">,</span>&nbsp;<span class="string" id="6715108">`&#39;\u000&#39;`</span><span class="op" id="6715117">,</span>&nbsp;<span class="string" id="6715119">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6715168">}</span><span class="op" id="6715169">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715172">{</span><span class="string" id="6715173">`&#39;\u000`</span><span class="op" id="6715181">,</span>&nbsp;<span class="ident" id="6715183">token</span><span class="op" id="6715188">.</span><span class="ident" id="6715189">CHAR</span><span class="op" id="6715193">,</span>&nbsp;<span class="num" id="6715195">6</span><span class="op" id="6715196">,</span>&nbsp;<span class="string" id="6715198">`&#39;\u000`</span><span class="op" id="6715206">,</span>&nbsp;<span class="string" id="6715208">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6715240">}</span><span class="op" id="6715241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715244">{</span><span class="string" id="6715245">`&#39;\u0000&#39;`</span><span class="op" id="6715255">,</span>&nbsp;<span class="ident" id="6715257">token</span><span class="op" id="6715262">.</span><span class="ident" id="6715263">CHAR</span><span class="op" id="6715267">,</span>&nbsp;<span class="num" id="6715269">0</span><span class="op" id="6715270">,</span>&nbsp;<span class="string" id="6715272">`&#39;\u0000&#39;`</span><span class="op" id="6715282">,</span>&nbsp;<span class="string" id="6715284">&#34;&#34;</span><span class="op" id="6715286">}</span><span class="op" id="6715287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715290">{</span><span class="string" id="6715291">`&#39;\U&#39;`</span><span class="op" id="6715297">,</span>&nbsp;<span class="ident" id="6715299">token</span><span class="op" id="6715304">.</span><span class="ident" id="6715305">CHAR</span><span class="op" id="6715309">,</span>&nbsp;<span class="num" id="6715311">3</span><span class="op" id="6715312">,</span>&nbsp;<span class="string" id="6715314">`&#39;\U&#39;`</span><span class="op" id="6715320">,</span>&nbsp;<span class="string" id="6715322">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6715371">}</span><span class="op" id="6715372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715375">{</span><span class="string" id="6715376">`&#39;\U0&#39;`</span><span class="op" id="6715383">,</span>&nbsp;<span class="ident" id="6715385">token</span><span class="op" id="6715390">.</span><span class="ident" id="6715391">CHAR</span><span class="op" id="6715395">,</span>&nbsp;<span class="num" id="6715397">4</span><span class="op" id="6715398">,</span>&nbsp;<span class="string" id="6715400">`&#39;\U0&#39;`</span><span class="op" id="6715407">,</span>&nbsp;<span class="string" id="6715409">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6715458">}</span><span class="op" id="6715459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715462">{</span><span class="string" id="6715463">`&#39;\U00&#39;`</span><span class="op" id="6715471">,</span>&nbsp;<span class="ident" id="6715473">token</span><span class="op" id="6715478">.</span><span class="ident" id="6715479">CHAR</span><span class="op" id="6715483">,</span>&nbsp;<span class="num" id="6715485">5</span><span class="op" id="6715486">,</span>&nbsp;<span class="string" id="6715488">`&#39;\U00&#39;`</span><span class="op" id="6715496">,</span>&nbsp;<span class="string" id="6715498">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6715547">}</span><span class="op" id="6715548">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715551">{</span><span class="string" id="6715552">`&#39;\U000&#39;`</span><span class="op" id="6715561">,</span>&nbsp;<span class="ident" id="6715563">token</span><span class="op" id="6715568">.</span><span class="ident" id="6715569">CHAR</span><span class="op" id="6715573">,</span>&nbsp;<span class="num" id="6715575">6</span><span class="op" id="6715576">,</span>&nbsp;<span class="string" id="6715578">`&#39;\U000&#39;`</span><span class="op" id="6715587">,</span>&nbsp;<span class="string" id="6715589">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6715638">}</span><span class="op" id="6715639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715642">{</span><span class="string" id="6715643">`&#39;\U0000&#39;`</span><span class="op" id="6715653">,</span>&nbsp;<span class="ident" id="6715655">token</span><span class="op" id="6715660">.</span><span class="ident" id="6715661">CHAR</span><span class="op" id="6715665">,</span>&nbsp;<span class="num" id="6715667">7</span><span class="op" id="6715668">,</span>&nbsp;<span class="string" id="6715670">`&#39;\U0000&#39;`</span><span class="op" id="6715680">,</span>&nbsp;<span class="string" id="6715682">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6715731">}</span><span class="op" id="6715732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715735">{</span><span class="string" id="6715736">`&#39;\U00000&#39;`</span><span class="op" id="6715747">,</span>&nbsp;<span class="ident" id="6715749">token</span><span class="op" id="6715754">.</span><span class="ident" id="6715755">CHAR</span><span class="op" id="6715759">,</span>&nbsp;<span class="num" id="6715761">8</span><span class="op" id="6715762">,</span>&nbsp;<span class="string" id="6715764">`&#39;\U00000&#39;`</span><span class="op" id="6715775">,</span>&nbsp;<span class="string" id="6715777">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6715826">}</span><span class="op" id="6715827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715830">{</span><span class="string" id="6715831">`&#39;\U000000&#39;`</span><span class="op" id="6715843">,</span>&nbsp;<span class="ident" id="6715845">token</span><span class="op" id="6715850">.</span><span class="ident" id="6715851">CHAR</span><span class="op" id="6715855">,</span>&nbsp;<span class="num" id="6715857">9</span><span class="op" id="6715858">,</span>&nbsp;<span class="string" id="6715860">`&#39;\U000000&#39;`</span><span class="op" id="6715872">,</span>&nbsp;<span class="string" id="6715874">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6715923">}</span><span class="op" id="6715924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6715927">{</span><span class="string" id="6715928">`&#39;\U0000000&#39;`</span><span class="op" id="6715941">,</span>&nbsp;<span class="ident" id="6715943">token</span><span class="op" id="6715948">.</span><span class="ident" id="6715949">CHAR</span><span class="op" id="6715953">,</span>&nbsp;<span class="num" id="6715955">10</span><span class="op" id="6715957">,</span>&nbsp;<span class="string" id="6715959">`&#39;\U0000000&#39;`</span><span class="op" id="6715972">,</span>&nbsp;<span class="string" id="6715974">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="6716023">}</span><span class="op" id="6716024">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716027">{</span><span class="string" id="6716028">`&#39;\U0000000`</span><span class="op" id="6716040">,</span>&nbsp;<span class="ident" id="6716042">token</span><span class="op" id="6716047">.</span><span class="ident" id="6716048">CHAR</span><span class="op" id="6716052">,</span>&nbsp;<span class="num" id="6716054">10</span><span class="op" id="6716056">,</span>&nbsp;<span class="string" id="6716058">`&#39;\U0000000`</span><span class="op" id="6716070">,</span>&nbsp;<span class="string" id="6716072">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716104">}</span><span class="op" id="6716105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716108">{</span><span class="string" id="6716109">`&#39;\U00000000&#39;`</span><span class="op" id="6716123">,</span>&nbsp;<span class="ident" id="6716125">token</span><span class="op" id="6716130">.</span><span class="ident" id="6716131">CHAR</span><span class="op" id="6716135">,</span>&nbsp;<span class="num" id="6716137">0</span><span class="op" id="6716138">,</span>&nbsp;<span class="string" id="6716140">`&#39;\U00000000&#39;`</span><span class="op" id="6716154">,</span>&nbsp;<span class="string" id="6716156">&#34;&#34;</span><span class="op" id="6716158">}</span><span class="op" id="6716159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716162">{</span><span class="string" id="6716163">`&#39;\Uffffffff&#39;`</span><span class="op" id="6716177">,</span>&nbsp;<span class="ident" id="6716179">token</span><span class="op" id="6716184">.</span><span class="ident" id="6716185">CHAR</span><span class="op" id="6716189">,</span>&nbsp;<span class="num" id="6716191">2</span><span class="op" id="6716192">,</span>&nbsp;<span class="string" id="6716194">`&#39;\Uffffffff&#39;`</span><span class="op" id="6716208">,</span>&nbsp;<span class="string" id="6716210">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="6716257">}</span><span class="op" id="6716258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716261">{</span><span class="string" id="6716262">`&#39;`</span><span class="op" id="6716265">,</span>&nbsp;<span class="ident" id="6716267">token</span><span class="op" id="6716272">.</span><span class="ident" id="6716273">CHAR</span><span class="op" id="6716277">,</span>&nbsp;<span class="num" id="6716279">0</span><span class="op" id="6716280">,</span>&nbsp;<span class="string" id="6716282">`&#39;`</span><span class="op" id="6716285">,</span>&nbsp;<span class="string" id="6716287">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716316">}</span><span class="op" id="6716317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716320">{</span><span class="string" id="6716321">`&#39;\`</span><span class="op" id="6716325">,</span>&nbsp;<span class="ident" id="6716327">token</span><span class="op" id="6716332">.</span><span class="ident" id="6716333">CHAR</span><span class="op" id="6716337">,</span>&nbsp;<span class="num" id="6716339">2</span><span class="op" id="6716340">,</span>&nbsp;<span class="string" id="6716342">`&#39;\`</span><span class="op" id="6716346">,</span>&nbsp;<span class="string" id="6716348">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716380">}</span><span class="op" id="6716381">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716384">{</span><span class="string" id="6716385">&#34;&#39;\n&#34;</span><span class="op" id="6716390">,</span>&nbsp;<span class="ident" id="6716392">token</span><span class="op" id="6716397">.</span><span class="ident" id="6716398">CHAR</span><span class="op" id="6716402">,</span>&nbsp;<span class="num" id="6716404">0</span><span class="op" id="6716405">,</span>&nbsp;<span class="string" id="6716407">&#34;&#39;&#34;</span><span class="op" id="6716410">,</span>&nbsp;<span class="string" id="6716412">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716441">}</span><span class="op" id="6716442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716445">{</span><span class="string" id="6716446">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6716454">,</span>&nbsp;<span class="ident" id="6716456">token</span><span class="op" id="6716461">.</span><span class="ident" id="6716462">CHAR</span><span class="op" id="6716466">,</span>&nbsp;<span class="num" id="6716468">0</span><span class="op" id="6716469">,</span>&nbsp;<span class="string" id="6716471">&#34;&#39;&#34;</span><span class="op" id="6716474">,</span>&nbsp;<span class="string" id="6716476">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716505">}</span><span class="op" id="6716506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716509">{</span><span class="string" id="6716510">`&#34;&#34;`</span><span class="op" id="6716514">,</span>&nbsp;<span class="ident" id="6716516">token</span><span class="op" id="6716521">.</span><span class="ident" id="6716522">STRING</span><span class="op" id="6716528">,</span>&nbsp;<span class="num" id="6716530">0</span><span class="op" id="6716531">,</span>&nbsp;<span class="string" id="6716533">`&#34;&#34;`</span><span class="op" id="6716537">,</span>&nbsp;<span class="string" id="6716539">&#34;&#34;</span><span class="op" id="6716541">}</span><span class="op" id="6716542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716545">{</span><span class="string" id="6716546">`&#34;abc`</span><span class="op" id="6716552">,</span>&nbsp;<span class="ident" id="6716554">token</span><span class="op" id="6716559">.</span><span class="ident" id="6716560">STRING</span><span class="op" id="6716566">,</span>&nbsp;<span class="num" id="6716568">0</span><span class="op" id="6716569">,</span>&nbsp;<span class="string" id="6716571">`&#34;abc`</span><span class="op" id="6716577">,</span>&nbsp;<span class="string" id="6716579">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716610">}</span><span class="op" id="6716611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716614">{</span><span class="string" id="6716615">&#34;\&#34;abc\n&#34;</span><span class="op" id="6716624">,</span>&nbsp;<span class="ident" id="6716626">token</span><span class="op" id="6716631">.</span><span class="ident" id="6716632">STRING</span><span class="op" id="6716638">,</span>&nbsp;<span class="num" id="6716640">0</span><span class="op" id="6716641">,</span>&nbsp;<span class="string" id="6716643">`&#34;abc`</span><span class="op" id="6716649">,</span>&nbsp;<span class="string" id="6716651">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716682">}</span><span class="op" id="6716683">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716686">{</span><span class="string" id="6716687">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6716699">,</span>&nbsp;<span class="ident" id="6716701">token</span><span class="op" id="6716706">.</span><span class="ident" id="6716707">STRING</span><span class="op" id="6716713">,</span>&nbsp;<span class="num" id="6716715">0</span><span class="op" id="6716716">,</span>&nbsp;<span class="string" id="6716718">`&#34;abc`</span><span class="op" id="6716724">,</span>&nbsp;<span class="string" id="6716726">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716757">}</span><span class="op" id="6716758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716761">{</span><span class="string" id="6716762">&#34;``&#34;</span><span class="op" id="6716766">,</span>&nbsp;<span class="ident" id="6716768">token</span><span class="op" id="6716773">.</span><span class="ident" id="6716774">STRING</span><span class="op" id="6716780">,</span>&nbsp;<span class="num" id="6716782">0</span><span class="op" id="6716783">,</span>&nbsp;<span class="string" id="6716785">&#34;``&#34;</span><span class="op" id="6716789">,</span>&nbsp;<span class="string" id="6716791">&#34;&#34;</span><span class="op" id="6716793">}</span><span class="op" id="6716794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716797">{</span><span class="string" id="6716798">&#34;`&#34;</span><span class="op" id="6716801">,</span>&nbsp;<span class="ident" id="6716803">token</span><span class="op" id="6716808">.</span><span class="ident" id="6716809">STRING</span><span class="op" id="6716815">,</span>&nbsp;<span class="num" id="6716817">0</span><span class="op" id="6716818">,</span>&nbsp;<span class="string" id="6716820">&#34;`&#34;</span><span class="op" id="6716823">,</span>&nbsp;<span class="string" id="6716825">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716860">}</span><span class="op" id="6716861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716864">{</span><span class="string" id="6716865">&#34;/**/&#34;</span><span class="op" id="6716871">,</span>&nbsp;<span class="ident" id="6716873">token</span><span class="op" id="6716878">.</span><span class="ident" id="6716879">COMMENT</span><span class="op" id="6716886">,</span>&nbsp;<span class="num" id="6716888">0</span><span class="op" id="6716889">,</span>&nbsp;<span class="string" id="6716891">&#34;/**/&#34;</span><span class="op" id="6716897">,</span>&nbsp;<span class="string" id="6716899">&#34;&#34;</span><span class="op" id="6716901">}</span><span class="op" id="6716902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716905">{</span><span class="string" id="6716906">&#34;/*&#34;</span><span class="op" id="6716910">,</span>&nbsp;<span class="ident" id="6716912">token</span><span class="op" id="6716917">.</span><span class="ident" id="6716918">COMMENT</span><span class="op" id="6716925">,</span>&nbsp;<span class="num" id="6716927">0</span><span class="op" id="6716928">,</span>&nbsp;<span class="string" id="6716930">&#34;/*&#34;</span><span class="op" id="6716934">,</span>&nbsp;<span class="string" id="6716936">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6716960">}</span><span class="op" id="6716961">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716964">{</span><span class="string" id="6716965">&#34;077&#34;</span><span class="op" id="6716970">,</span>&nbsp;<span class="ident" id="6716972">token</span><span class="op" id="6716977">.</span><span class="ident" id="6716978">INT</span><span class="op" id="6716981">,</span>&nbsp;<span class="num" id="6716983">0</span><span class="op" id="6716984">,</span>&nbsp;<span class="string" id="6716986">&#34;077&#34;</span><span class="op" id="6716991">,</span>&nbsp;<span class="string" id="6716993">&#34;&#34;</span><span class="op" id="6716995">}</span><span class="op" id="6716996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6716999">{</span><span class="string" id="6717000">&#34;078.&#34;</span><span class="op" id="6717006">,</span>&nbsp;<span class="ident" id="6717008">token</span><span class="op" id="6717013">.</span><span class="ident" id="6717014">FLOAT</span><span class="op" id="6717019">,</span>&nbsp;<span class="num" id="6717021">0</span><span class="op" id="6717022">,</span>&nbsp;<span class="string" id="6717024">&#34;078.&#34;</span><span class="op" id="6717030">,</span>&nbsp;<span class="string" id="6717032">&#34;&#34;</span><span class="op" id="6717034">}</span><span class="op" id="6717035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717038">{</span><span class="string" id="6717039">&#34;07801234567.&#34;</span><span class="op" id="6717053">,</span>&nbsp;<span class="ident" id="6717055">token</span><span class="op" id="6717060">.</span><span class="ident" id="6717061">FLOAT</span><span class="op" id="6717066">,</span>&nbsp;<span class="num" id="6717068">0</span><span class="op" id="6717069">,</span>&nbsp;<span class="string" id="6717071">&#34;07801234567.&#34;</span><span class="op" id="6717085">,</span>&nbsp;<span class="string" id="6717087">&#34;&#34;</span><span class="op" id="6717089">}</span><span class="op" id="6717090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717093">{</span><span class="string" id="6717094">&#34;078e0&#34;</span><span class="op" id="6717101">,</span>&nbsp;<span class="ident" id="6717103">token</span><span class="op" id="6717108">.</span><span class="ident" id="6717109">FLOAT</span><span class="op" id="6717114">,</span>&nbsp;<span class="num" id="6717116">0</span><span class="op" id="6717117">,</span>&nbsp;<span class="string" id="6717119">&#34;078e0&#34;</span><span class="op" id="6717126">,</span>&nbsp;<span class="string" id="6717128">&#34;&#34;</span><span class="op" id="6717130">}</span><span class="op" id="6717131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717134">{</span><span class="string" id="6717135">&#34;078&#34;</span><span class="op" id="6717140">,</span>&nbsp;<span class="ident" id="6717142">token</span><span class="op" id="6717147">.</span><span class="ident" id="6717148">INT</span><span class="op" id="6717151">,</span>&nbsp;<span class="num" id="6717153">0</span><span class="op" id="6717154">,</span>&nbsp;<span class="string" id="6717156">&#34;078&#34;</span><span class="op" id="6717161">,</span>&nbsp;<span class="string" id="6717163">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6717185">}</span><span class="op" id="6717186">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717189">{</span><span class="string" id="6717190">&#34;07800000009&#34;</span><span class="op" id="6717203">,</span>&nbsp;<span class="ident" id="6717205">token</span><span class="op" id="6717210">.</span><span class="ident" id="6717211">INT</span><span class="op" id="6717214">,</span>&nbsp;<span class="num" id="6717216">0</span><span class="op" id="6717217">,</span>&nbsp;<span class="string" id="6717219">&#34;07800000009&#34;</span><span class="op" id="6717232">,</span>&nbsp;<span class="string" id="6717234">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6717256">}</span><span class="op" id="6717257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717260">{</span><span class="string" id="6717261">&#34;0x&#34;</span><span class="op" id="6717265">,</span>&nbsp;<span class="ident" id="6717267">token</span><span class="op" id="6717272">.</span><span class="ident" id="6717273">INT</span><span class="op" id="6717276">,</span>&nbsp;<span class="num" id="6717278">0</span><span class="op" id="6717279">,</span>&nbsp;<span class="string" id="6717281">&#34;0x&#34;</span><span class="op" id="6717285">,</span>&nbsp;<span class="string" id="6717287">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6717315">}</span><span class="op" id="6717316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717319">{</span><span class="string" id="6717320">&#34;0X&#34;</span><span class="op" id="6717324">,</span>&nbsp;<span class="ident" id="6717326">token</span><span class="op" id="6717331">.</span><span class="ident" id="6717332">INT</span><span class="op" id="6717335">,</span>&nbsp;<span class="num" id="6717337">0</span><span class="op" id="6717338">,</span>&nbsp;<span class="string" id="6717340">&#34;0X&#34;</span><span class="op" id="6717344">,</span>&nbsp;<span class="string" id="6717346">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6717374">}</span><span class="op" id="6717375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717378">{</span><span class="string" id="6717379">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="6717395">,</span>&nbsp;<span class="ident" id="6717397">token</span><span class="op" id="6717402">.</span><span class="ident" id="6717403">STRING</span><span class="op" id="6717409">,</span>&nbsp;<span class="num" id="6717411">4</span><span class="op" id="6717412">,</span>&nbsp;<span class="string" id="6717414">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="6717430">,</span>&nbsp;<span class="string" id="6717432">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6717455">}</span><span class="op" id="6717456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717459">{</span><span class="string" id="6717460">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="6717476">,</span>&nbsp;<span class="ident" id="6717478">token</span><span class="op" id="6717483">.</span><span class="ident" id="6717484">STRING</span><span class="op" id="6717490">,</span>&nbsp;<span class="num" id="6717492">4</span><span class="op" id="6717493">,</span>&nbsp;<span class="string" id="6717495">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="6717511">,</span>&nbsp;<span class="string" id="6717513">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6717537">}</span><span class="op" id="6717538">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717541">{</span><span class="string" id="6717542">&#34;\ufeff\ufeff&#34;</span><span class="op" id="6717556">,</span>&nbsp;<span class="ident" id="6717558">token</span><span class="op" id="6717563">.</span><span class="ident" id="6717564">ILLEGAL</span><span class="op" id="6717571">,</span>&nbsp;<span class="num" id="6717573">3</span><span class="op" id="6717574">,</span>&nbsp;<span class="string" id="6717576">&#34;\ufeff\ufeff&#34;</span><span class="op" id="6717590">,</span>&nbsp;<span class="string" id="6717592">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="6717617">}</span><span class="op" id="6717618">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6717643">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717673">{</span><span class="string" id="6717674">&#34;//\ufeff&#34;</span><span class="op" id="6717684">,</span>&nbsp;<span class="ident" id="6717686">token</span><span class="op" id="6717691">.</span><span class="ident" id="6717692">COMMENT</span><span class="op" id="6717699">,</span>&nbsp;<span class="num" id="6717701">2</span><span class="op" id="6717702">,</span>&nbsp;<span class="string" id="6717704">&#34;//\ufeff&#34;</span><span class="op" id="6717714">,</span>&nbsp;<span class="string" id="6717716">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="6717741">}</span><span class="op" id="6717742">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6717775">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717805">{</span><span class="string" id="6717806">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="6717816">+</span>&nbsp;<span class="string" id="6717818">`&#39;`</span><span class="op" id="6717821">,</span>&nbsp;<span class="ident" id="6717823">token</span><span class="op" id="6717828">.</span><span class="ident" id="6717829">CHAR</span><span class="op" id="6717833">,</span>&nbsp;<span class="num" id="6717835">1</span><span class="op" id="6717836">,</span>&nbsp;<span class="string" id="6717838">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="6717848">+</span>&nbsp;<span class="string" id="6717850">`&#39;`</span><span class="op" id="6717853">,</span>&nbsp;<span class="string" id="6717855">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="6717880">}</span><span class="op" id="6717881">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6717907">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6717937">{</span><span class="string" id="6717938">`&#34;`</span>&nbsp;<span class="op" id="6717942">+</span>&nbsp;<span class="string" id="6717944">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="6717959">+</span>&nbsp;<span class="string" id="6717961">`&#34;`</span><span class="op" id="6717964">,</span>&nbsp;<span class="ident" id="6717966">token</span><span class="op" id="6717971">.</span><span class="ident" id="6717972">STRING</span><span class="op" id="6717978">,</span>&nbsp;<span class="num" id="6717980">4</span><span class="op" id="6717981">,</span>&nbsp;<span class="string" id="6717983">`&#34;`</span>&nbsp;<span class="op" id="6717987">+</span>&nbsp;<span class="string" id="6717989">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="6718004">+</span>&nbsp;<span class="string" id="6718006">`&#34;`</span><span class="op" id="6718009">,</span>&nbsp;<span class="string" id="6718011">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="6718036">}</span><span class="op" id="6718037">,</span>&nbsp;<span class="comment" id="6718039">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="6718068">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="6718071">func</span>&nbsp;<span class="ident" id="6718076">TestScanErrors</span><span class="op" id="6718090">(</span><span class="ident" id="6718091">t</span>&nbsp;<span class="op" id="6718093">*</span><span class="ident" id="6718094">testing</span><span class="op" id="6718101">.</span><span class="ident" id="6718102">T</span><span class="op" id="6718103">)</span>&nbsp;<span class="op" id="6718105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718108">for</span>&nbsp;<span class="ident" id="6718112">_</span><span class="op" id="6718113">,</span>&nbsp;<span class="ident" id="6718115">e</span>&nbsp;<span class="op" id="6718117">:=</span>&nbsp;<span class="keyword" id="6718120">range</span>&nbsp;<span class="ident" id="6718126">errors</span>&nbsp;<span class="op" id="6718133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718137">checkError</span><span class="op" id="6718147">(</span><span class="ident" id="6718148">t</span><span class="op" id="6718149">,</span>&nbsp;<span class="ident" id="6718151">e</span><span class="op" id="6718152">.</span><span class="ident" id="6718153">src</span><span class="op" id="6718156">,</span>&nbsp;<span class="ident" id="6718158">e</span><span class="op" id="6718159">.</span><span class="ident" id="6718160">tok</span><span class="op" id="6718163">,</span>&nbsp;<span class="ident" id="6718165">e</span><span class="op" id="6718166">.</span><span class="ident" id="6718167">pos</span><span class="op" id="6718170">,</span>&nbsp;<span class="ident" id="6718172">e</span><span class="op" id="6718173">.</span><span class="ident" id="6718174">lit</span><span class="op" id="6718177">,</span>&nbsp;<span class="ident" id="6718179">e</span><span class="op" id="6718180">.</span><span class="ident" id="6718181">err</span><span class="op" id="6718184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6718187">}</span><br>
<span class="lineno">735</span><span class="op" id="6718189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6718192">func</span>&nbsp;<span class="ident" id="6718197">BenchmarkScan</span><span class="op" id="6718210">(</span><span class="ident" id="6718211">b</span>&nbsp;<span class="op" id="6718213">*</span><span class="ident" id="6718214">testing</span><span class="op" id="6718221">.</span><span class="ident" id="6718222">B</span><span class="op" id="6718223">)</span>&nbsp;<span class="op" id="6718225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718228">b</span><span class="op" id="6718229">.</span><span class="ident" id="6718230">StopTimer</span><span class="op" id="6718239">(</span><span class="op" id="6718240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718243">fset</span>&nbsp;<span class="op" id="6718248">:=</span>&nbsp;<span class="ident" id="6718251">token</span><span class="op" id="6718256">.</span><span class="ident" id="6718257">NewFileSet</span><span class="op" id="6718267">(</span><span class="op" id="6718268">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718271">file</span>&nbsp;<span class="op" id="6718276">:=</span>&nbsp;<span class="ident" id="6718279">fset</span><span class="op" id="6718283">.</span><span class="ident" id="6718284">AddFile</span><span class="op" id="6718291">(</span><span class="string" id="6718292">&#34;&#34;</span><span class="op" id="6718294">,</span>&nbsp;<span class="ident" id="6718296">fset</span><span class="op" id="6718300">.</span><span class="ident" id="6718301">Base</span><span class="op" id="6718305">(</span><span class="op" id="6718306">)</span><span class="op" id="6718307">,</span>&nbsp;<span class="builtinfunc" id="6718309">len</span><span class="op" id="6718312">(</span><span class="ident" id="6718313">source</span><span class="op" id="6718319">)</span><span class="op" id="6718320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718323">var</span>&nbsp;<span class="ident" id="6718327">s</span>&nbsp;<span class="ident" id="6718329">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718338">b</span><span class="op" id="6718339">.</span><span class="ident" id="6718340">StartTimer</span><span class="op" id="6718350">(</span><span class="op" id="6718351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718354">for</span>&nbsp;<span class="ident" id="6718358">i</span>&nbsp;<span class="op" id="6718360">:=</span>&nbsp;<span class="num" id="6718363">0</span><span class="op" id="6718364">;</span>&nbsp;<span class="ident" id="6718366">i</span>&nbsp;<span class="op" id="6718368">&lt;</span>&nbsp;<span class="ident" id="6718370">b</span><span class="op" id="6718371">.</span><span class="ident" id="6718372">N</span><span class="op" id="6718373">;</span>&nbsp;<span class="ident" id="6718375">i</span><span class="op" id="6718376">++</span>&nbsp;<span class="op" id="6718379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718383">s</span><span class="op" id="6718384">.</span><span class="ident" id="6718385">Init</span><span class="op" id="6718389">(</span><span class="ident" id="6718390">file</span><span class="op" id="6718394">,</span>&nbsp;<span class="ident" id="6718396">source</span><span class="op" id="6718402">,</span>&nbsp;<span class="builtintype" id="6718404">nil</span><span class="op" id="6718407">,</span>&nbsp;<span class="ident" id="6718409">ScanComments</span><span class="op" id="6718421">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718425">for</span>&nbsp;<span class="op" id="6718429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718434">_</span><span class="op" id="6718435">,</span>&nbsp;<span class="ident" id="6718437">tok</span><span class="op" id="6718440">,</span>&nbsp;<span class="ident" id="6718442">_</span>&nbsp;<span class="op" id="6718444">:=</span>&nbsp;<span class="ident" id="6718447">s</span><span class="op" id="6718448">.</span><span class="ident" id="6718449">Scan</span><span class="op" id="6718453">(</span><span class="op" id="6718454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718459">if</span>&nbsp;<span class="ident" id="6718462">tok</span>&nbsp;<span class="op" id="6718466">==</span>&nbsp;<span class="ident" id="6718469">token</span><span class="op" id="6718474">.</span><span class="ident" id="6718475">EOF</span>&nbsp;<span class="op" id="6718479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718485">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6718494">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6718498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6718501">}</span><br>
<span class="lineno"></span><span class="op" id="6718503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6718506">func</span>&nbsp;<span class="ident" id="6718511">BenchmarkScanFile</span><span class="op" id="6718528">(</span><span class="ident" id="6718529">b</span>&nbsp;<span class="op" id="6718531">*</span><span class="ident" id="6718532">testing</span><span class="op" id="6718539">.</span><span class="ident" id="6718540">B</span><span class="op" id="6718541">)</span>&nbsp;<span class="op" id="6718543">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718546">b</span><span class="op" id="6718547">.</span><span class="ident" id="6718548">StopTimer</span><span class="op" id="6718557">(</span><span class="op" id="6718558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718561">const</span>&nbsp;<span class="ident" id="6718567">filename</span>&nbsp;<span class="op" id="6718576">=</span>&nbsp;<span class="string" id="6718578">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718592">src</span><span class="op" id="6718595">,</span>&nbsp;<span class="ident" id="6718597">err</span>&nbsp;<span class="op" id="6718601">:=</span>&nbsp;<span class="ident" id="6718604">ioutil</span><span class="op" id="6718610">.</span><span class="ident" id="6718611">ReadFile</span><span class="op" id="6718619">(</span><span class="ident" id="6718620">filename</span><span class="op" id="6718628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718631">if</span>&nbsp;<span class="ident" id="6718634">err</span>&nbsp;<span class="op" id="6718638">!=</span>&nbsp;<span class="builtintype" id="6718641">nil</span>&nbsp;<span class="op" id="6718645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6718649">panic</span><span class="op" id="6718654">(</span><span class="ident" id="6718655">err</span><span class="op" id="6718658">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6718661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718664">fset</span>&nbsp;<span class="op" id="6718669">:=</span>&nbsp;<span class="ident" id="6718672">token</span><span class="op" id="6718677">.</span><span class="ident" id="6718678">NewFileSet</span><span class="op" id="6718688">(</span><span class="op" id="6718689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718692">file</span>&nbsp;<span class="op" id="6718697">:=</span>&nbsp;<span class="ident" id="6718700">fset</span><span class="op" id="6718704">.</span><span class="ident" id="6718705">AddFile</span><span class="op" id="6718712">(</span><span class="ident" id="6718713">filename</span><span class="op" id="6718721">,</span>&nbsp;<span class="ident" id="6718723">fset</span><span class="op" id="6718727">.</span><span class="ident" id="6718728">Base</span><span class="op" id="6718732">(</span><span class="op" id="6718733">)</span><span class="op" id="6718734">,</span>&nbsp;<span class="builtinfunc" id="6718736">len</span><span class="op" id="6718739">(</span><span class="ident" id="6718740">src</span><span class="op" id="6718743">)</span><span class="op" id="6718744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718747">b</span><span class="op" id="6718748">.</span><span class="ident" id="6718749">SetBytes</span><span class="op" id="6718757">(</span><span class="ident" id="6718758">int64</span><span class="op" id="6718763">(</span><span class="builtinfunc" id="6718764">len</span><span class="op" id="6718767">(</span><span class="ident" id="6718768">src</span><span class="op" id="6718771">)</span><span class="op" id="6718772">)</span><span class="op" id="6718773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718776">var</span>&nbsp;<span class="ident" id="6718780">s</span>&nbsp;<span class="ident" id="6718782">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718791">b</span><span class="op" id="6718792">.</span><span class="ident" id="6718793">StartTimer</span><span class="op" id="6718803">(</span><span class="op" id="6718804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718807">for</span>&nbsp;<span class="ident" id="6718811">i</span>&nbsp;<span class="op" id="6718813">:=</span>&nbsp;<span class="num" id="6718816">0</span><span class="op" id="6718817">;</span>&nbsp;<span class="ident" id="6718819">i</span>&nbsp;<span class="op" id="6718821">&lt;</span>&nbsp;<span class="ident" id="6718823">b</span><span class="op" id="6718824">.</span><span class="ident" id="6718825">N</span><span class="op" id="6718826">;</span>&nbsp;<span class="ident" id="6718828">i</span><span class="op" id="6718829">++</span>&nbsp;<span class="op" id="6718832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718836">s</span><span class="op" id="6718837">.</span><span class="ident" id="6718838">Init</span><span class="op" id="6718842">(</span><span class="ident" id="6718843">file</span><span class="op" id="6718847">,</span>&nbsp;<span class="ident" id="6718849">src</span><span class="op" id="6718852">,</span>&nbsp;<span class="builtintype" id="6718854">nil</span><span class="op" id="6718857">,</span>&nbsp;<span class="ident" id="6718859">ScanComments</span><span class="op" id="6718871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718875">for</span>&nbsp;<span class="op" id="6718879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6718884">_</span><span class="op" id="6718885">,</span>&nbsp;<span class="ident" id="6718887">tok</span><span class="op" id="6718890">,</span>&nbsp;<span class="ident" id="6718892">_</span>&nbsp;<span class="op" id="6718894">:=</span>&nbsp;<span class="ident" id="6718897">s</span><span class="op" id="6718898">.</span><span class="ident" id="6718899">Scan</span><span class="op" id="6718903">(</span><span class="op" id="6718904">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718909">if</span>&nbsp;<span class="ident" id="6718912">tok</span>&nbsp;<span class="op" id="6718916">==</span>&nbsp;<span class="ident" id="6718919">token</span><span class="op" id="6718924">.</span><span class="ident" id="6718925">EOF</span>&nbsp;<span class="op" id="6718929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6718935">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6718944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6718948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6718951">}</span><br>
<span class="lineno">775</span><span class="op" id="6718953">}</span>
</div>
</body>
</html>
