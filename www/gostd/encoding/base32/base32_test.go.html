<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/base32</h2>
<ul>
<li><a href="/gostd/encoding/base32/base32.go.html">base32.go</a></li>
<li><a href="/gostd/encoding/base32/base32_test.go.html">base32_test.go</a></li>
<li><a href="/gostd/encoding/base32/example_test.go.html">example_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7678953">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7679008">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7679062">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7679113">package</span>&nbsp;<span class="ident" id="7679121">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7679129">import</span>&nbsp;<span class="op" id="7679136">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7679139">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7679148">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7679154">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7679167">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7679178">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7679188">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7679191">type</span>&nbsp;<span class="ident" id="7679196">testpair</span>&nbsp;<span class="keyword" id="7679205">struct</span>&nbsp;<span class="op" id="7679212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679215">decoded</span><span class="op" id="7679222">,</span>&nbsp;<span class="ident" id="7679224">encoded</span>&nbsp;<span class="builtintype" id="7679232">string</span><br>
<span class="lineno"></span><span class="op" id="7679239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7679242">var</span>&nbsp;<span class="ident" id="7679246">pairs</span>&nbsp;<span class="op" id="7679252">=</span>&nbsp;<span class="op" id="7679254">[</span><span class="op" id="7679255">]</span><span class="ident" id="7679256">testpair</span><span class="op" id="7679264">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7679267">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679289">{</span><span class="string" id="7679290">&#34;&#34;</span><span class="op" id="7679292">,</span>&nbsp;<span class="string" id="7679294">&#34;&#34;</span><span class="op" id="7679296">}</span><span class="op" id="7679297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679300">{</span><span class="string" id="7679301">&#34;f&#34;</span><span class="op" id="7679304">,</span>&nbsp;<span class="string" id="7679306">&#34;MY======&#34;</span><span class="op" id="7679316">}</span><span class="op" id="7679317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679320">{</span><span class="string" id="7679321">&#34;fo&#34;</span><span class="op" id="7679325">,</span>&nbsp;<span class="string" id="7679327">&#34;MZXQ====&#34;</span><span class="op" id="7679337">}</span><span class="op" id="7679338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679341">{</span><span class="string" id="7679342">&#34;foo&#34;</span><span class="op" id="7679347">,</span>&nbsp;<span class="string" id="7679349">&#34;MZXW6===&#34;</span><span class="op" id="7679359">}</span><span class="op" id="7679360">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679363">{</span><span class="string" id="7679364">&#34;foob&#34;</span><span class="op" id="7679370">,</span>&nbsp;<span class="string" id="7679372">&#34;MZXW6YQ=&#34;</span><span class="op" id="7679382">}</span><span class="op" id="7679383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679386">{</span><span class="string" id="7679387">&#34;fooba&#34;</span><span class="op" id="7679394">,</span>&nbsp;<span class="string" id="7679396">&#34;MZXW6YTB&#34;</span><span class="op" id="7679406">}</span><span class="op" id="7679407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679410">{</span><span class="string" id="7679411">&#34;foobar&#34;</span><span class="op" id="7679419">,</span>&nbsp;<span class="string" id="7679421">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7679439">}</span><span class="op" id="7679440">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7679444">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679488">{</span><span class="string" id="7679489">&#34;sure.&#34;</span><span class="op" id="7679496">,</span>&nbsp;<span class="string" id="7679498">&#34;ON2XEZJO&#34;</span><span class="op" id="7679508">}</span><span class="op" id="7679509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679512">{</span><span class="string" id="7679513">&#34;sure&#34;</span><span class="op" id="7679519">,</span>&nbsp;<span class="string" id="7679521">&#34;ON2XEZI=&#34;</span><span class="op" id="7679531">}</span><span class="op" id="7679532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679535">{</span><span class="string" id="7679536">&#34;sur&#34;</span><span class="op" id="7679541">,</span>&nbsp;<span class="string" id="7679543">&#34;ON2XE===&#34;</span><span class="op" id="7679553">}</span><span class="op" id="7679554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679557">{</span><span class="string" id="7679558">&#34;su&#34;</span><span class="op" id="7679562">,</span>&nbsp;<span class="string" id="7679564">&#34;ON2Q====&#34;</span><span class="op" id="7679574">}</span><span class="op" id="7679575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679578">{</span><span class="string" id="7679579">&#34;leasure.&#34;</span><span class="op" id="7679589">,</span>&nbsp;<span class="string" id="7679591">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="7679609">}</span><span class="op" id="7679610">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679613">{</span><span class="string" id="7679614">&#34;easure.&#34;</span><span class="op" id="7679623">,</span>&nbsp;<span class="string" id="7679625">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="7679643">}</span><span class="op" id="7679644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679647">{</span><span class="string" id="7679648">&#34;asure.&#34;</span><span class="op" id="7679656">,</span>&nbsp;<span class="string" id="7679658">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="7679676">}</span><span class="op" id="7679677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679680">{</span><span class="string" id="7679681">&#34;sure.&#34;</span><span class="op" id="7679688">,</span>&nbsp;<span class="string" id="7679690">&#34;ON2XEZJO&#34;</span><span class="op" id="7679700">}</span><span class="op" id="7679701">,</span><br>
<span class="lineno"></span><span class="op" id="7679703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7679706">var</span>&nbsp;<span class="ident" id="7679710">bigtest</span>&nbsp;<span class="op" id="7679718">=</span>&nbsp;<span class="ident" id="7679720">testpair</span><span class="op" id="7679728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7679731">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="7679767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7679770">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="7679828">,</span><br>
<span class="lineno"></span><span class="op" id="7679830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="7679833">func</span>&nbsp;<span class="ident" id="7679838">testEqual</span><span class="op" id="7679847">(</span><span class="ident" id="7679848">t</span>&nbsp;<span class="op" id="7679850">*</span><span class="ident" id="7679851">testing</span><span class="op" id="7679858">.</span><span class="ident" id="7679859">T</span><span class="op" id="7679860">,</span>&nbsp;<span class="ident" id="7679862">msg</span>&nbsp;<span class="builtintype" id="7679866">string</span><span class="op" id="7679872">,</span>&nbsp;<span class="ident" id="7679874">args</span>&nbsp;<span class="op" id="7679879">...</span><span class="keyword" id="7679882">interface</span><span class="op" id="7679891">{</span><span class="op" id="7679892">}</span><span class="op" id="7679893">)</span>&nbsp;<span class="builtintype" id="7679895">bool</span>&nbsp;<span class="op" id="7679900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7679903">if</span>&nbsp;<span class="ident" id="7679906">args</span><span class="op" id="7679910">[</span><span class="builtinfunc" id="7679911">len</span><span class="op" id="7679914">(</span><span class="ident" id="7679915">args</span><span class="op" id="7679919">)</span><span class="op" id="7679920">-</span><span class="num" id="7679921">2</span><span class="op" id="7679922">]</span>&nbsp;<span class="op" id="7679924">!=</span>&nbsp;<span class="ident" id="7679927">args</span><span class="op" id="7679931">[</span><span class="builtinfunc" id="7679932">len</span><span class="op" id="7679935">(</span><span class="ident" id="7679936">args</span><span class="op" id="7679940">)</span><span class="op" id="7679941">-</span><span class="num" id="7679942">1</span><span class="op" id="7679943">]</span>&nbsp;<span class="op" id="7679945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679949">t</span><span class="op" id="7679950">.</span><span class="ident" id="7679951">Errorf</span><span class="op" id="7679957">(</span><span class="ident" id="7679958">msg</span><span class="op" id="7679961">,</span>&nbsp;<span class="ident" id="7679963">args</span><span class="op" id="7679967">...</span><span class="op" id="7679970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7679974">return</span>&nbsp;<span class="builtintype" id="7679981">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679988">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7679991">return</span>&nbsp;<span class="builtintype" id="7679998">true</span><br>
<span class="lineno"></span><span class="op" id="7680003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7680006">func</span>&nbsp;<span class="ident" id="7680011">TestEncode</span><span class="op" id="7680021">(</span><span class="ident" id="7680022">t</span>&nbsp;<span class="op" id="7680024">*</span><span class="ident" id="7680025">testing</span><span class="op" id="7680032">.</span><span class="ident" id="7680033">T</span><span class="op" id="7680034">)</span>&nbsp;<span class="op" id="7680036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680039">for</span>&nbsp;<span class="ident" id="7680043">_</span><span class="op" id="7680044">,</span>&nbsp;<span class="ident" id="7680046">p</span>&nbsp;<span class="op" id="7680048">:=</span>&nbsp;<span class="keyword" id="7680051">range</span>&nbsp;<span class="ident" id="7680057">pairs</span>&nbsp;<span class="op" id="7680063">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680067">got</span>&nbsp;<span class="op" id="7680071">:=</span>&nbsp;<span class="ident" id="7680074">StdEncoding</span><span class="op" id="7680085">.</span><span class="ident" id="7680086">EncodeToString</span><span class="op" id="7680100">(</span><span class="op" id="7680101">[</span><span class="op" id="7680102">]</span><span class="builtintype" id="7680103">byte</span><span class="op" id="7680107">(</span><span class="ident" id="7680108">p</span><span class="op" id="7680109">.</span><span class="ident" id="7680110">decoded</span><span class="op" id="7680117">)</span><span class="op" id="7680118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680122">testEqual</span><span class="op" id="7680131">(</span><span class="ident" id="7680132">t</span><span class="op" id="7680133">,</span>&nbsp;<span class="string" id="7680135">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7680161">,</span>&nbsp;<span class="ident" id="7680163">p</span><span class="op" id="7680164">.</span><span class="ident" id="7680165">decoded</span><span class="op" id="7680172">,</span>&nbsp;<span class="ident" id="7680174">got</span><span class="op" id="7680177">,</span>&nbsp;<span class="ident" id="7680179">p</span><span class="op" id="7680180">.</span><span class="ident" id="7680181">encoded</span><span class="op" id="7680188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7680191">}</span><br>
<span class="lineno"></span><span class="op" id="7680193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7680196">func</span>&nbsp;<span class="ident" id="7680201">TestEncoder</span><span class="op" id="7680212">(</span><span class="ident" id="7680213">t</span>&nbsp;<span class="op" id="7680215">*</span><span class="ident" id="7680216">testing</span><span class="op" id="7680223">.</span><span class="ident" id="7680224">T</span><span class="op" id="7680225">)</span>&nbsp;<span class="op" id="7680227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680230">for</span>&nbsp;<span class="ident" id="7680234">_</span><span class="op" id="7680235">,</span>&nbsp;<span class="ident" id="7680237">p</span>&nbsp;<span class="op" id="7680239">:=</span>&nbsp;<span class="keyword" id="7680242">range</span>&nbsp;<span class="ident" id="7680248">pairs</span>&nbsp;<span class="op" id="7680254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680258">bb</span>&nbsp;<span class="op" id="7680261">:=</span>&nbsp;<span class="op" id="7680264">&amp;</span><span class="ident" id="7680265">bytes</span><span class="op" id="7680270">.</span><span class="ident" id="7680271">Buffer</span><span class="op" id="7680277">{</span><span class="op" id="7680278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680282">encoder</span>&nbsp;<span class="op" id="7680290">:=</span>&nbsp;<span class="ident" id="7680293">NewEncoder</span><span class="op" id="7680303">(</span><span class="ident" id="7680304">StdEncoding</span><span class="op" id="7680315">,</span>&nbsp;<span class="ident" id="7680317">bb</span><span class="op" id="7680319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680323">encoder</span><span class="op" id="7680330">.</span><span class="ident" id="7680331">Write</span><span class="op" id="7680336">(</span><span class="op" id="7680337">[</span><span class="op" id="7680338">]</span><span class="builtintype" id="7680339">byte</span><span class="op" id="7680343">(</span><span class="ident" id="7680344">p</span><span class="op" id="7680345">.</span><span class="ident" id="7680346">decoded</span><span class="op" id="7680353">)</span><span class="op" id="7680354">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680358">encoder</span><span class="op" id="7680365">.</span><span class="ident" id="7680366">Close</span><span class="op" id="7680371">(</span><span class="op" id="7680372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680376">testEqual</span><span class="op" id="7680385">(</span><span class="ident" id="7680386">t</span><span class="op" id="7680387">,</span>&nbsp;<span class="string" id="7680389">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7680415">,</span>&nbsp;<span class="ident" id="7680417">p</span><span class="op" id="7680418">.</span><span class="ident" id="7680419">decoded</span><span class="op" id="7680426">,</span>&nbsp;<span class="ident" id="7680428">bb</span><span class="op" id="7680430">.</span><span class="ident" id="7680431">String</span><span class="op" id="7680437">(</span><span class="op" id="7680438">)</span><span class="op" id="7680439">,</span>&nbsp;<span class="ident" id="7680441">p</span><span class="op" id="7680442">.</span><span class="ident" id="7680443">encoded</span><span class="op" id="7680450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7680453">}</span><br>
<span class="lineno"></span><span class="op" id="7680455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7680458">func</span>&nbsp;<span class="ident" id="7680463">TestEncoderBuffering</span><span class="op" id="7680483">(</span><span class="ident" id="7680484">t</span>&nbsp;<span class="op" id="7680486">*</span><span class="ident" id="7680487">testing</span><span class="op" id="7680494">.</span><span class="ident" id="7680495">T</span><span class="op" id="7680496">)</span>&nbsp;<span class="op" id="7680498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680501">input</span>&nbsp;<span class="op" id="7680507">:=</span>&nbsp;<span class="op" id="7680510">[</span><span class="op" id="7680511">]</span><span class="builtintype" id="7680512">byte</span><span class="op" id="7680516">(</span><span class="ident" id="7680517">bigtest</span><span class="op" id="7680524">.</span><span class="ident" id="7680525">decoded</span><span class="op" id="7680532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680535">for</span>&nbsp;<span class="ident" id="7680539">bs</span>&nbsp;<span class="op" id="7680542">:=</span>&nbsp;<span class="num" id="7680545">1</span><span class="op" id="7680546">;</span>&nbsp;<span class="ident" id="7680548">bs</span>&nbsp;<span class="op" id="7680551">&lt;=</span>&nbsp;<span class="num" id="7680554">12</span><span class="op" id="7680556">;</span>&nbsp;<span class="ident" id="7680558">bs</span><span class="op" id="7680560">++</span>&nbsp;<span class="op" id="7680563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680567">bb</span>&nbsp;<span class="op" id="7680570">:=</span>&nbsp;<span class="op" id="7680573">&amp;</span><span class="ident" id="7680574">bytes</span><span class="op" id="7680579">.</span><span class="ident" id="7680580">Buffer</span><span class="op" id="7680586">{</span><span class="op" id="7680587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680591">encoder</span>&nbsp;<span class="op" id="7680599">:=</span>&nbsp;<span class="ident" id="7680602">NewEncoder</span><span class="op" id="7680612">(</span><span class="ident" id="7680613">StdEncoding</span><span class="op" id="7680624">,</span>&nbsp;<span class="ident" id="7680626">bb</span><span class="op" id="7680628">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680632">for</span>&nbsp;<span class="ident" id="7680636">pos</span>&nbsp;<span class="op" id="7680640">:=</span>&nbsp;<span class="num" id="7680643">0</span><span class="op" id="7680644">;</span>&nbsp;<span class="ident" id="7680646">pos</span>&nbsp;<span class="op" id="7680650">&lt;</span>&nbsp;<span class="builtinfunc" id="7680652">len</span><span class="op" id="7680655">(</span><span class="ident" id="7680656">input</span><span class="op" id="7680661">)</span><span class="op" id="7680662">;</span>&nbsp;<span class="ident" id="7680664">pos</span>&nbsp;<span class="op" id="7680668">+=</span>&nbsp;<span class="ident" id="7680671">bs</span>&nbsp;<span class="op" id="7680674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680679">end</span>&nbsp;<span class="op" id="7680683">:=</span>&nbsp;<span class="ident" id="7680686">pos</span>&nbsp;<span class="op" id="7680690">+</span>&nbsp;<span class="ident" id="7680692">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680698">if</span>&nbsp;<span class="ident" id="7680701">end</span>&nbsp;<span class="op" id="7680705">&gt;</span>&nbsp;<span class="builtinfunc" id="7680707">len</span><span class="op" id="7680710">(</span><span class="ident" id="7680711">input</span><span class="op" id="7680716">)</span>&nbsp;<span class="op" id="7680718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680724">end</span>&nbsp;<span class="op" id="7680728">=</span>&nbsp;<span class="builtinfunc" id="7680730">len</span><span class="op" id="7680733">(</span><span class="ident" id="7680734">input</span><span class="op" id="7680739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7680744">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680749">n</span><span class="op" id="7680750">,</span>&nbsp;<span class="ident" id="7680752">err</span>&nbsp;<span class="op" id="7680756">:=</span>&nbsp;<span class="ident" id="7680759">encoder</span><span class="op" id="7680766">.</span><span class="ident" id="7680767">Write</span><span class="op" id="7680772">(</span><span class="ident" id="7680773">input</span><span class="op" id="7680778">[</span><span class="ident" id="7680779">pos</span><span class="op" id="7680782">:</span><span class="ident" id="7680783">end</span><span class="op" id="7680786">]</span><span class="op" id="7680787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680792">testEqual</span><span class="op" id="7680801">(</span><span class="ident" id="7680802">t</span><span class="op" id="7680803">,</span>&nbsp;<span class="string" id="7680805">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7680839">,</span>&nbsp;<span class="ident" id="7680841">input</span><span class="op" id="7680846">[</span><span class="ident" id="7680847">pos</span><span class="op" id="7680850">:</span><span class="ident" id="7680851">end</span><span class="op" id="7680854">]</span><span class="op" id="7680855">,</span>&nbsp;<span class="ident" id="7680857">err</span><span class="op" id="7680860">,</span>&nbsp;<span class="builtintype" id="7680862">error</span><span class="op" id="7680867">(</span><span class="ident" id="7680868">nil</span><span class="op" id="7680871">)</span><span class="op" id="7680872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680877">testEqual</span><span class="op" id="7680886">(</span><span class="ident" id="7680887">t</span><span class="op" id="7680888">,</span>&nbsp;<span class="string" id="7680890">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7680925">,</span>&nbsp;<span class="ident" id="7680927">input</span><span class="op" id="7680932">[</span><span class="ident" id="7680933">pos</span><span class="op" id="7680936">:</span><span class="ident" id="7680937">end</span><span class="op" id="7680940">]</span><span class="op" id="7680941">,</span>&nbsp;<span class="ident" id="7680943">n</span><span class="op" id="7680944">,</span>&nbsp;<span class="ident" id="7680946">end</span><span class="op" id="7680949">-</span><span class="ident" id="7680950">pos</span><span class="op" id="7680953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7680957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680961">err</span>&nbsp;<span class="op" id="7680965">:=</span>&nbsp;<span class="ident" id="7680968">encoder</span><span class="op" id="7680975">.</span><span class="ident" id="7680976">Close</span><span class="op" id="7680981">(</span><span class="op" id="7680982">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680986">testEqual</span><span class="op" id="7680995">(</span><span class="ident" id="7680996">t</span><span class="op" id="7680997">,</span>&nbsp;<span class="string" id="7680999">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7681029">,</span>&nbsp;<span class="ident" id="7681031">err</span><span class="op" id="7681034">,</span>&nbsp;<span class="builtintype" id="7681036">error</span><span class="op" id="7681041">(</span><span class="ident" id="7681042">nil</span><span class="op" id="7681045">)</span><span class="op" id="7681046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681050">testEqual</span><span class="op" id="7681059">(</span><span class="ident" id="7681060">t</span><span class="op" id="7681061">,</span>&nbsp;<span class="string" id="7681063">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7681096">,</span>&nbsp;<span class="ident" id="7681098">bs</span><span class="op" id="7681100">,</span>&nbsp;<span class="ident" id="7681102">bigtest</span><span class="op" id="7681109">.</span><span class="ident" id="7681110">decoded</span><span class="op" id="7681117">,</span>&nbsp;<span class="ident" id="7681119">bb</span><span class="op" id="7681121">.</span><span class="ident" id="7681122">String</span><span class="op" id="7681128">(</span><span class="op" id="7681129">)</span><span class="op" id="7681130">,</span>&nbsp;<span class="ident" id="7681132">bigtest</span><span class="op" id="7681139">.</span><span class="ident" id="7681140">encoded</span><span class="op" id="7681147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681150">}</span><br>
<span class="lineno"></span><span class="op" id="7681152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7681155">func</span>&nbsp;<span class="ident" id="7681160">TestDecode</span><span class="op" id="7681170">(</span><span class="ident" id="7681171">t</span>&nbsp;<span class="op" id="7681173">*</span><span class="ident" id="7681174">testing</span><span class="op" id="7681181">.</span><span class="ident" id="7681182">T</span><span class="op" id="7681183">)</span>&nbsp;<span class="op" id="7681185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681188">for</span>&nbsp;<span class="ident" id="7681192">_</span><span class="op" id="7681193">,</span>&nbsp;<span class="ident" id="7681195">p</span>&nbsp;<span class="op" id="7681197">:=</span>&nbsp;<span class="keyword" id="7681200">range</span>&nbsp;<span class="ident" id="7681206">pairs</span>&nbsp;<span class="op" id="7681212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681216">dbuf</span>&nbsp;<span class="op" id="7681221">:=</span>&nbsp;<span class="builtinfunc" id="7681224">make</span><span class="op" id="7681228">(</span><span class="op" id="7681229">[</span><span class="op" id="7681230">]</span><span class="builtintype" id="7681231">byte</span><span class="op" id="7681235">,</span>&nbsp;<span class="ident" id="7681237">StdEncoding</span><span class="op" id="7681248">.</span><span class="ident" id="7681249">DecodedLen</span><span class="op" id="7681259">(</span><span class="builtinfunc" id="7681260">len</span><span class="op" id="7681263">(</span><span class="ident" id="7681264">p</span><span class="op" id="7681265">.</span><span class="ident" id="7681266">encoded</span><span class="op" id="7681273">)</span><span class="op" id="7681274">)</span><span class="op" id="7681275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681279">count</span><span class="op" id="7681284">,</span>&nbsp;<span class="ident" id="7681286">end</span><span class="op" id="7681289">,</span>&nbsp;<span class="ident" id="7681291">err</span>&nbsp;<span class="op" id="7681295">:=</span>&nbsp;<span class="ident" id="7681298">StdEncoding</span><span class="op" id="7681309">.</span><span class="ident" id="7681310">decode</span><span class="op" id="7681316">(</span><span class="ident" id="7681317">dbuf</span><span class="op" id="7681321">,</span>&nbsp;<span class="op" id="7681323">[</span><span class="op" id="7681324">]</span><span class="builtintype" id="7681325">byte</span><span class="op" id="7681329">(</span><span class="ident" id="7681330">p</span><span class="op" id="7681331">.</span><span class="ident" id="7681332">encoded</span><span class="op" id="7681339">)</span><span class="op" id="7681340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681344">testEqual</span><span class="op" id="7681353">(</span><span class="ident" id="7681354">t</span><span class="op" id="7681355">,</span>&nbsp;<span class="string" id="7681357">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7681389">,</span>&nbsp;<span class="ident" id="7681391">p</span><span class="op" id="7681392">.</span><span class="ident" id="7681393">encoded</span><span class="op" id="7681400">,</span>&nbsp;<span class="ident" id="7681402">err</span><span class="op" id="7681405">,</span>&nbsp;<span class="builtintype" id="7681407">error</span><span class="op" id="7681412">(</span><span class="ident" id="7681413">nil</span><span class="op" id="7681416">)</span><span class="op" id="7681417">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681421">testEqual</span><span class="op" id="7681430">(</span><span class="ident" id="7681431">t</span><span class="op" id="7681432">,</span>&nbsp;<span class="string" id="7681434">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7681467">,</span>&nbsp;<span class="ident" id="7681469">p</span><span class="op" id="7681470">.</span><span class="ident" id="7681471">encoded</span><span class="op" id="7681478">,</span>&nbsp;<span class="ident" id="7681480">count</span><span class="op" id="7681485">,</span>&nbsp;<span class="builtinfunc" id="7681487">len</span><span class="op" id="7681490">(</span><span class="ident" id="7681491">p</span><span class="op" id="7681492">.</span><span class="ident" id="7681493">decoded</span><span class="op" id="7681500">)</span><span class="op" id="7681501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681505">if</span>&nbsp;<span class="builtinfunc" id="7681508">len</span><span class="op" id="7681511">(</span><span class="ident" id="7681512">p</span><span class="op" id="7681513">.</span><span class="ident" id="7681514">encoded</span><span class="op" id="7681521">)</span>&nbsp;<span class="op" id="7681523">&gt;</span>&nbsp;<span class="num" id="7681525">0</span>&nbsp;<span class="op" id="7681527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681532">testEqual</span><span class="op" id="7681541">(</span><span class="ident" id="7681542">t</span><span class="op" id="7681543">,</span>&nbsp;<span class="string" id="7681545">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7681575">,</span>&nbsp;<span class="ident" id="7681577">p</span><span class="op" id="7681578">.</span><span class="ident" id="7681579">encoded</span><span class="op" id="7681586">,</span>&nbsp;<span class="ident" id="7681588">end</span><span class="op" id="7681591">,</span>&nbsp;<span class="op" id="7681593">(</span><span class="ident" id="7681594">p</span><span class="op" id="7681595">.</span><span class="ident" id="7681596">encoded</span><span class="op" id="7681603">[</span><span class="builtinfunc" id="7681604">len</span><span class="op" id="7681607">(</span><span class="ident" id="7681608">p</span><span class="op" id="7681609">.</span><span class="ident" id="7681610">encoded</span><span class="op" id="7681617">)</span><span class="op" id="7681618">-</span><span class="num" id="7681619">1</span><span class="op" id="7681620">]</span>&nbsp;<span class="op" id="7681622">==</span>&nbsp;<span class="string" id="7681625">&#39;=&#39;</span><span class="op" id="7681628">)</span><span class="op" id="7681629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681637">testEqual</span><span class="op" id="7681646">(</span><span class="ident" id="7681647">t</span><span class="op" id="7681648">,</span>&nbsp;<span class="string" id="7681650">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7681676">,</span>&nbsp;<span class="ident" id="7681678">p</span><span class="op" id="7681679">.</span><span class="ident" id="7681680">encoded</span><span class="op" id="7681687">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7681692">string</span><span class="op" id="7681698">(</span><span class="ident" id="7681699">dbuf</span><span class="op" id="7681703">[</span><span class="num" id="7681704">0</span><span class="op" id="7681705">:</span><span class="ident" id="7681706">count</span><span class="op" id="7681711">]</span><span class="op" id="7681712">)</span><span class="op" id="7681713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681718">p</span><span class="op" id="7681719">.</span><span class="ident" id="7681720">decoded</span><span class="op" id="7681727">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681732">dbuf</span><span class="op" id="7681736">,</span>&nbsp;<span class="ident" id="7681738">err</span>&nbsp;<span class="op" id="7681742">=</span>&nbsp;<span class="ident" id="7681744">StdEncoding</span><span class="op" id="7681755">.</span><span class="ident" id="7681756">DecodeString</span><span class="op" id="7681768">(</span><span class="ident" id="7681769">p</span><span class="op" id="7681770">.</span><span class="ident" id="7681771">encoded</span><span class="op" id="7681778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681782">testEqual</span><span class="op" id="7681791">(</span><span class="ident" id="7681792">t</span><span class="op" id="7681793">,</span>&nbsp;<span class="string" id="7681795">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7681833">,</span>&nbsp;<span class="ident" id="7681835">p</span><span class="op" id="7681836">.</span><span class="ident" id="7681837">encoded</span><span class="op" id="7681844">,</span>&nbsp;<span class="ident" id="7681846">err</span><span class="op" id="7681849">,</span>&nbsp;<span class="builtintype" id="7681851">error</span><span class="op" id="7681856">(</span><span class="ident" id="7681857">nil</span><span class="op" id="7681860">)</span><span class="op" id="7681861">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681865">testEqual</span><span class="op" id="7681874">(</span><span class="ident" id="7681875">t</span><span class="op" id="7681876">,</span>&nbsp;<span class="string" id="7681878">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7681910">,</span>&nbsp;<span class="ident" id="7681912">p</span><span class="op" id="7681913">.</span><span class="ident" id="7681914">encoded</span><span class="op" id="7681921">,</span>&nbsp;<span class="builtintype" id="7681923">string</span><span class="op" id="7681929">(</span><span class="ident" id="7681930">dbuf</span><span class="op" id="7681934">)</span><span class="op" id="7681935">,</span>&nbsp;<span class="ident" id="7681937">p</span><span class="op" id="7681938">.</span><span class="ident" id="7681939">decoded</span><span class="op" id="7681946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681949">}</span><br>
<span class="lineno"></span><span class="op" id="7681951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7681954">func</span>&nbsp;<span class="ident" id="7681959">TestDecoder</span><span class="op" id="7681970">(</span><span class="ident" id="7681971">t</span>&nbsp;<span class="op" id="7681973">*</span><span class="ident" id="7681974">testing</span><span class="op" id="7681981">.</span><span class="ident" id="7681982">T</span><span class="op" id="7681983">)</span>&nbsp;<span class="op" id="7681985">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681988">for</span>&nbsp;<span class="ident" id="7681992">_</span><span class="op" id="7681993">,</span>&nbsp;<span class="ident" id="7681995">p</span>&nbsp;<span class="op" id="7681997">:=</span>&nbsp;<span class="keyword" id="7682000">range</span>&nbsp;<span class="ident" id="7682006">pairs</span>&nbsp;<span class="op" id="7682012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682016">decoder</span>&nbsp;<span class="op" id="7682024">:=</span>&nbsp;<span class="ident" id="7682027">NewDecoder</span><span class="op" id="7682037">(</span><span class="ident" id="7682038">StdEncoding</span><span class="op" id="7682049">,</span>&nbsp;<span class="ident" id="7682051">strings</span><span class="op" id="7682058">.</span><span class="ident" id="7682059">NewReader</span><span class="op" id="7682068">(</span><span class="ident" id="7682069">p</span><span class="op" id="7682070">.</span><span class="ident" id="7682071">encoded</span><span class="op" id="7682078">)</span><span class="op" id="7682079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682083">dbuf</span>&nbsp;<span class="op" id="7682088">:=</span>&nbsp;<span class="builtinfunc" id="7682091">make</span><span class="op" id="7682095">(</span><span class="op" id="7682096">[</span><span class="op" id="7682097">]</span><span class="builtintype" id="7682098">byte</span><span class="op" id="7682102">,</span>&nbsp;<span class="ident" id="7682104">StdEncoding</span><span class="op" id="7682115">.</span><span class="ident" id="7682116">DecodedLen</span><span class="op" id="7682126">(</span><span class="builtinfunc" id="7682127">len</span><span class="op" id="7682130">(</span><span class="ident" id="7682131">p</span><span class="op" id="7682132">.</span><span class="ident" id="7682133">encoded</span><span class="op" id="7682140">)</span><span class="op" id="7682141">)</span><span class="op" id="7682142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682146">count</span><span class="op" id="7682151">,</span>&nbsp;<span class="ident" id="7682153">err</span>&nbsp;<span class="op" id="7682157">:=</span>&nbsp;<span class="ident" id="7682160">decoder</span><span class="op" id="7682167">.</span><span class="ident" id="7682168">Read</span><span class="op" id="7682172">(</span><span class="ident" id="7682173">dbuf</span><span class="op" id="7682177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682181">if</span>&nbsp;<span class="ident" id="7682184">err</span>&nbsp;<span class="op" id="7682188">!=</span>&nbsp;<span class="ident" id="7682191">nil</span>&nbsp;<span class="op" id="7682195">&amp;&amp;</span>&nbsp;<span class="ident" id="7682198">err</span>&nbsp;<span class="op" id="7682202">!=</span>&nbsp;<span class="ident" id="7682205">io</span><span class="op" id="7682207">.</span><span class="ident" id="7682208">EOF</span>&nbsp;<span class="op" id="7682212">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682217">t</span><span class="op" id="7682218">.</span><span class="ident" id="7682219">Fatal</span><span class="op" id="7682224">(</span><span class="string" id="7682225">&#34;Read&nbsp;failed&#34;</span><span class="op" id="7682238">,</span>&nbsp;<span class="ident" id="7682240">err</span><span class="op" id="7682243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682251">testEqual</span><span class="op" id="7682260">(</span><span class="ident" id="7682261">t</span><span class="op" id="7682262">,</span>&nbsp;<span class="string" id="7682264">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7682299">,</span>&nbsp;<span class="ident" id="7682301">p</span><span class="op" id="7682302">.</span><span class="ident" id="7682303">encoded</span><span class="op" id="7682310">,</span>&nbsp;<span class="ident" id="7682312">count</span><span class="op" id="7682317">,</span>&nbsp;<span class="builtinfunc" id="7682319">len</span><span class="op" id="7682322">(</span><span class="ident" id="7682323">p</span><span class="op" id="7682324">.</span><span class="ident" id="7682325">decoded</span><span class="op" id="7682332">)</span><span class="op" id="7682333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682337">testEqual</span><span class="op" id="7682346">(</span><span class="ident" id="7682347">t</span><span class="op" id="7682348">,</span>&nbsp;<span class="string" id="7682350">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7682380">,</span>&nbsp;<span class="ident" id="7682382">p</span><span class="op" id="7682383">.</span><span class="ident" id="7682384">encoded</span><span class="op" id="7682391">,</span>&nbsp;<span class="builtintype" id="7682393">string</span><span class="op" id="7682399">(</span><span class="ident" id="7682400">dbuf</span><span class="op" id="7682404">[</span><span class="num" id="7682405">0</span><span class="op" id="7682406">:</span><span class="ident" id="7682407">count</span><span class="op" id="7682412">]</span><span class="op" id="7682413">)</span><span class="op" id="7682414">,</span>&nbsp;<span class="ident" id="7682416">p</span><span class="op" id="7682417">.</span><span class="ident" id="7682418">decoded</span><span class="op" id="7682425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682429">if</span>&nbsp;<span class="ident" id="7682432">err</span>&nbsp;<span class="op" id="7682436">!=</span>&nbsp;<span class="ident" id="7682439">io</span><span class="op" id="7682441">.</span><span class="ident" id="7682442">EOF</span>&nbsp;<span class="op" id="7682446">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682451">count</span><span class="op" id="7682456">,</span>&nbsp;<span class="ident" id="7682458">err</span>&nbsp;<span class="op" id="7682462">=</span>&nbsp;<span class="ident" id="7682464">decoder</span><span class="op" id="7682471">.</span><span class="ident" id="7682472">Read</span><span class="op" id="7682476">(</span><span class="ident" id="7682477">dbuf</span><span class="op" id="7682481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682489">testEqual</span><span class="op" id="7682498">(</span><span class="ident" id="7682499">t</span><span class="op" id="7682500">,</span>&nbsp;<span class="string" id="7682502">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7682530">,</span>&nbsp;<span class="ident" id="7682532">p</span><span class="op" id="7682533">.</span><span class="ident" id="7682534">encoded</span><span class="op" id="7682541">,</span>&nbsp;<span class="ident" id="7682543">err</span><span class="op" id="7682546">,</span>&nbsp;<span class="ident" id="7682548">io</span><span class="op" id="7682550">.</span><span class="ident" id="7682551">EOF</span><span class="op" id="7682554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682557">}</span><br>
<span class="lineno"></span><span class="op" id="7682559">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="7682562">func</span>&nbsp;<span class="ident" id="7682567">TestDecoderBuffering</span><span class="op" id="7682587">(</span><span class="ident" id="7682588">t</span>&nbsp;<span class="op" id="7682590">*</span><span class="ident" id="7682591">testing</span><span class="op" id="7682598">.</span><span class="ident" id="7682599">T</span><span class="op" id="7682600">)</span>&nbsp;<span class="op" id="7682602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682605">for</span>&nbsp;<span class="ident" id="7682609">bs</span>&nbsp;<span class="op" id="7682612">:=</span>&nbsp;<span class="num" id="7682615">1</span><span class="op" id="7682616">;</span>&nbsp;<span class="ident" id="7682618">bs</span>&nbsp;<span class="op" id="7682621">&lt;=</span>&nbsp;<span class="num" id="7682624">12</span><span class="op" id="7682626">;</span>&nbsp;<span class="ident" id="7682628">bs</span><span class="op" id="7682630">++</span>&nbsp;<span class="op" id="7682633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682637">decoder</span>&nbsp;<span class="op" id="7682645">:=</span>&nbsp;<span class="ident" id="7682648">NewDecoder</span><span class="op" id="7682658">(</span><span class="ident" id="7682659">StdEncoding</span><span class="op" id="7682670">,</span>&nbsp;<span class="ident" id="7682672">strings</span><span class="op" id="7682679">.</span><span class="ident" id="7682680">NewReader</span><span class="op" id="7682689">(</span><span class="ident" id="7682690">bigtest</span><span class="op" id="7682697">.</span><span class="ident" id="7682698">encoded</span><span class="op" id="7682705">)</span><span class="op" id="7682706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682710">buf</span>&nbsp;<span class="op" id="7682714">:=</span>&nbsp;<span class="builtinfunc" id="7682717">make</span><span class="op" id="7682721">(</span><span class="op" id="7682722">[</span><span class="op" id="7682723">]</span><span class="builtintype" id="7682724">byte</span><span class="op" id="7682728">,</span>&nbsp;<span class="builtinfunc" id="7682730">len</span><span class="op" id="7682733">(</span><span class="ident" id="7682734">bigtest</span><span class="op" id="7682741">.</span><span class="ident" id="7682742">decoded</span><span class="op" id="7682749">)</span><span class="op" id="7682750">+</span><span class="num" id="7682751">12</span><span class="op" id="7682753">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682757">var</span>&nbsp;<span class="ident" id="7682761">total</span>&nbsp;<span class="builtintype" id="7682767">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682773">for</span>&nbsp;<span class="ident" id="7682777">total</span>&nbsp;<span class="op" id="7682783">=</span>&nbsp;<span class="num" id="7682785">0</span><span class="op" id="7682786">;</span>&nbsp;<span class="ident" id="7682788">total</span>&nbsp;<span class="op" id="7682794">&lt;</span>&nbsp;<span class="builtinfunc" id="7682796">len</span><span class="op" id="7682799">(</span><span class="ident" id="7682800">bigtest</span><span class="op" id="7682807">.</span><span class="ident" id="7682808">decoded</span><span class="op" id="7682815">)</span><span class="op" id="7682816">;</span>&nbsp;<span class="op" id="7682818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682823">n</span><span class="op" id="7682824">,</span>&nbsp;<span class="ident" id="7682826">err</span>&nbsp;<span class="op" id="7682830">:=</span>&nbsp;<span class="ident" id="7682833">decoder</span><span class="op" id="7682840">.</span><span class="ident" id="7682841">Read</span><span class="op" id="7682845">(</span><span class="ident" id="7682846">buf</span><span class="op" id="7682849">[</span><span class="ident" id="7682850">total</span>&nbsp;<span class="op" id="7682856">:</span>&nbsp;<span class="ident" id="7682858">total</span><span class="op" id="7682863">+</span><span class="ident" id="7682864">bs</span><span class="op" id="7682866">]</span><span class="op" id="7682867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682872">testEqual</span><span class="op" id="7682881">(</span><span class="ident" id="7682882">t</span><span class="op" id="7682883">,</span>&nbsp;<span class="string" id="7682885">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="7682930">,</span>&nbsp;<span class="ident" id="7682932">bigtest</span><span class="op" id="7682939">.</span><span class="ident" id="7682940">encoded</span><span class="op" id="7682947">,</span>&nbsp;<span class="ident" id="7682949">total</span><span class="op" id="7682954">,</span>&nbsp;<span class="ident" id="7682956">n</span><span class="op" id="7682957">,</span>&nbsp;<span class="ident" id="7682959">err</span><span class="op" id="7682962">,</span>&nbsp;<span class="builtintype" id="7682964">error</span><span class="op" id="7682969">(</span><span class="ident" id="7682970">nil</span><span class="op" id="7682973">)</span><span class="op" id="7682974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682979">total</span>&nbsp;<span class="op" id="7682985">+=</span>&nbsp;<span class="ident" id="7682988">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682996">testEqual</span><span class="op" id="7683005">(</span><span class="ident" id="7683006">t</span><span class="op" id="7683007">,</span>&nbsp;<span class="string" id="7683009">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7683042">,</span>&nbsp;<span class="ident" id="7683044">bs</span><span class="op" id="7683046">,</span>&nbsp;<span class="ident" id="7683048">bigtest</span><span class="op" id="7683055">.</span><span class="ident" id="7683056">encoded</span><span class="op" id="7683063">,</span>&nbsp;<span class="builtintype" id="7683065">string</span><span class="op" id="7683071">(</span><span class="ident" id="7683072">buf</span><span class="op" id="7683075">[</span><span class="num" id="7683076">0</span><span class="op" id="7683077">:</span><span class="ident" id="7683078">total</span><span class="op" id="7683083">]</span><span class="op" id="7683084">)</span><span class="op" id="7683085">,</span>&nbsp;<span class="ident" id="7683087">bigtest</span><span class="op" id="7683094">.</span><span class="ident" id="7683095">decoded</span><span class="op" id="7683102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683105">}</span><br>
<span class="lineno"></span><span class="op" id="7683107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7683110">func</span>&nbsp;<span class="ident" id="7683115">TestDecodeCorrupt</span><span class="op" id="7683132">(</span><span class="ident" id="7683133">t</span>&nbsp;<span class="op" id="7683135">*</span><span class="ident" id="7683136">testing</span><span class="op" id="7683143">.</span><span class="ident" id="7683144">T</span><span class="op" id="7683145">)</span>&nbsp;<span class="op" id="7683147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683150">testCases</span>&nbsp;<span class="op" id="7683160">:=</span>&nbsp;<span class="op" id="7683163">[</span><span class="op" id="7683164">]</span><span class="keyword" id="7683165">struct</span>&nbsp;<span class="op" id="7683172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683176">input</span>&nbsp;&nbsp;<span class="builtintype" id="7683183">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683192">offset</span>&nbsp;<span class="builtintype" id="7683199">int</span>&nbsp;<span class="comment" id="7683203">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683231">}</span><span class="op" id="7683232">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683236">{</span><span class="string" id="7683237">&#34;&#34;</span><span class="op" id="7683239">,</span>&nbsp;<span class="op" id="7683241">-</span><span class="num" id="7683242">1</span><span class="op" id="7683243">}</span><span class="op" id="7683244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683248">{</span><span class="string" id="7683249">&#34;!!!!&#34;</span><span class="op" id="7683255">,</span>&nbsp;<span class="num" id="7683257">0</span><span class="op" id="7683258">}</span><span class="op" id="7683259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683263">{</span><span class="string" id="7683264">&#34;x===&#34;</span><span class="op" id="7683270">,</span>&nbsp;<span class="num" id="7683272">0</span><span class="op" id="7683273">}</span><span class="op" id="7683274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683278">{</span><span class="string" id="7683279">&#34;AA=A====&#34;</span><span class="op" id="7683289">,</span>&nbsp;<span class="num" id="7683291">2</span><span class="op" id="7683292">}</span><span class="op" id="7683293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683297">{</span><span class="string" id="7683298">&#34;AAA=AAAA&#34;</span><span class="op" id="7683308">,</span>&nbsp;<span class="num" id="7683310">3</span><span class="op" id="7683311">}</span><span class="op" id="7683312">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683316">{</span><span class="string" id="7683317">&#34;MMMMMMMMM&#34;</span><span class="op" id="7683328">,</span>&nbsp;<span class="num" id="7683330">8</span><span class="op" id="7683331">}</span><span class="op" id="7683332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683336">{</span><span class="string" id="7683337">&#34;MMMMMM&#34;</span><span class="op" id="7683345">,</span>&nbsp;<span class="num" id="7683347">0</span><span class="op" id="7683348">}</span><span class="op" id="7683349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683353">{</span><span class="string" id="7683354">&#34;A=&#34;</span><span class="op" id="7683358">,</span>&nbsp;<span class="num" id="7683360">1</span><span class="op" id="7683361">}</span><span class="op" id="7683362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683366">{</span><span class="string" id="7683367">&#34;AA=&#34;</span><span class="op" id="7683372">,</span>&nbsp;<span class="num" id="7683374">3</span><span class="op" id="7683375">}</span><span class="op" id="7683376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683380">{</span><span class="string" id="7683381">&#34;AA==&#34;</span><span class="op" id="7683387">,</span>&nbsp;<span class="num" id="7683389">4</span><span class="op" id="7683390">}</span><span class="op" id="7683391">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683395">{</span><span class="string" id="7683396">&#34;AA===&#34;</span><span class="op" id="7683403">,</span>&nbsp;<span class="num" id="7683405">5</span><span class="op" id="7683406">}</span><span class="op" id="7683407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683411">{</span><span class="string" id="7683412">&#34;AAAA=&#34;</span><span class="op" id="7683419">,</span>&nbsp;<span class="num" id="7683421">5</span><span class="op" id="7683422">}</span><span class="op" id="7683423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683427">{</span><span class="string" id="7683428">&#34;AAAA==&#34;</span><span class="op" id="7683436">,</span>&nbsp;<span class="num" id="7683438">6</span><span class="op" id="7683439">}</span><span class="op" id="7683440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683444">{</span><span class="string" id="7683445">&#34;AAAAA=&#34;</span><span class="op" id="7683453">,</span>&nbsp;<span class="num" id="7683455">6</span><span class="op" id="7683456">}</span><span class="op" id="7683457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683461">{</span><span class="string" id="7683462">&#34;AAAAA==&#34;</span><span class="op" id="7683471">,</span>&nbsp;<span class="num" id="7683473">7</span><span class="op" id="7683474">}</span><span class="op" id="7683475">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683479">{</span><span class="string" id="7683480">&#34;A=======&#34;</span><span class="op" id="7683490">,</span>&nbsp;<span class="num" id="7683492">1</span><span class="op" id="7683493">}</span><span class="op" id="7683494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683498">{</span><span class="string" id="7683499">&#34;AA======&#34;</span><span class="op" id="7683509">,</span>&nbsp;<span class="op" id="7683511">-</span><span class="num" id="7683512">1</span><span class="op" id="7683513">}</span><span class="op" id="7683514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683518">{</span><span class="string" id="7683519">&#34;AAA=====&#34;</span><span class="op" id="7683529">,</span>&nbsp;<span class="num" id="7683531">3</span><span class="op" id="7683532">}</span><span class="op" id="7683533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683537">{</span><span class="string" id="7683538">&#34;AAAA====&#34;</span><span class="op" id="7683548">,</span>&nbsp;<span class="op" id="7683550">-</span><span class="num" id="7683551">1</span><span class="op" id="7683552">}</span><span class="op" id="7683553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683557">{</span><span class="string" id="7683558">&#34;AAAAA===&#34;</span><span class="op" id="7683568">,</span>&nbsp;<span class="op" id="7683570">-</span><span class="num" id="7683571">1</span><span class="op" id="7683572">}</span><span class="op" id="7683573">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683577">{</span><span class="string" id="7683578">&#34;AAAAAA==&#34;</span><span class="op" id="7683588">,</span>&nbsp;<span class="num" id="7683590">6</span><span class="op" id="7683591">}</span><span class="op" id="7683592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683596">{</span><span class="string" id="7683597">&#34;AAAAAAA=&#34;</span><span class="op" id="7683607">,</span>&nbsp;<span class="op" id="7683609">-</span><span class="num" id="7683610">1</span><span class="op" id="7683611">}</span><span class="op" id="7683612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683616">{</span><span class="string" id="7683617">&#34;AAAAAAAA&#34;</span><span class="op" id="7683627">,</span>&nbsp;<span class="op" id="7683629">-</span><span class="num" id="7683630">1</span><span class="op" id="7683631">}</span><span class="op" id="7683632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683638">for</span>&nbsp;<span class="ident" id="7683642">_</span><span class="op" id="7683643">,</span>&nbsp;<span class="ident" id="7683645">tc</span>&nbsp;<span class="op" id="7683648">:=</span>&nbsp;<span class="keyword" id="7683651">range</span>&nbsp;<span class="ident" id="7683657">testCases</span>&nbsp;<span class="op" id="7683667">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683671">dbuf</span>&nbsp;<span class="op" id="7683676">:=</span>&nbsp;<span class="builtinfunc" id="7683679">make</span><span class="op" id="7683683">(</span><span class="op" id="7683684">[</span><span class="op" id="7683685">]</span><span class="builtintype" id="7683686">byte</span><span class="op" id="7683690">,</span>&nbsp;<span class="ident" id="7683692">StdEncoding</span><span class="op" id="7683703">.</span><span class="ident" id="7683704">DecodedLen</span><span class="op" id="7683714">(</span><span class="builtinfunc" id="7683715">len</span><span class="op" id="7683718">(</span><span class="ident" id="7683719">tc</span><span class="op" id="7683721">.</span><span class="ident" id="7683722">input</span><span class="op" id="7683727">)</span><span class="op" id="7683728">)</span><span class="op" id="7683729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683733">_</span><span class="op" id="7683734">,</span>&nbsp;<span class="ident" id="7683736">err</span>&nbsp;<span class="op" id="7683740">:=</span>&nbsp;<span class="ident" id="7683743">StdEncoding</span><span class="op" id="7683754">.</span><span class="ident" id="7683755">Decode</span><span class="op" id="7683761">(</span><span class="ident" id="7683762">dbuf</span><span class="op" id="7683766">,</span>&nbsp;<span class="op" id="7683768">[</span><span class="op" id="7683769">]</span><span class="builtintype" id="7683770">byte</span><span class="op" id="7683774">(</span><span class="ident" id="7683775">tc</span><span class="op" id="7683777">.</span><span class="ident" id="7683778">input</span><span class="op" id="7683783">)</span><span class="op" id="7683784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683788">if</span>&nbsp;<span class="ident" id="7683791">tc</span><span class="op" id="7683793">.</span><span class="ident" id="7683794">offset</span>&nbsp;<span class="op" id="7683801">==</span>&nbsp;<span class="op" id="7683804">-</span><span class="num" id="7683805">1</span>&nbsp;<span class="op" id="7683807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683812">if</span>&nbsp;<span class="ident" id="7683815">err</span>&nbsp;<span class="op" id="7683819">!=</span>&nbsp;<span class="ident" id="7683822">nil</span>&nbsp;<span class="op" id="7683826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683832">t</span><span class="op" id="7683833">.</span><span class="ident" id="7683834">Error</span><span class="op" id="7683839">(</span><span class="string" id="7683840">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="7683879">,</span>&nbsp;<span class="ident" id="7683881">tc</span><span class="op" id="7683883">.</span><span class="ident" id="7683884">input</span><span class="op" id="7683889">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683899">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683914">switch</span>&nbsp;<span class="ident" id="7683921">err</span>&nbsp;<span class="op" id="7683925">:=</span>&nbsp;<span class="ident" id="7683928">err</span><span class="op" id="7683931">.</span><span class="op" id="7683932">(</span><span class="keyword" id="7683933">type</span><span class="op" id="7683937">)</span>&nbsp;<span class="op" id="7683939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683943">case</span>&nbsp;<span class="ident" id="7683948">CorruptInputError</span><span class="op" id="7683965">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683970">testEqual</span><span class="op" id="7683979">(</span><span class="ident" id="7683980">t</span><span class="op" id="7683981">,</span>&nbsp;<span class="string" id="7683983">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7684023">,</span>&nbsp;<span class="ident" id="7684025">tc</span><span class="op" id="7684027">.</span><span class="ident" id="7684028">input</span><span class="op" id="7684033">,</span>&nbsp;<span class="builtintype" id="7684035">int</span><span class="op" id="7684038">(</span><span class="ident" id="7684039">err</span><span class="op" id="7684042">)</span><span class="op" id="7684043">,</span>&nbsp;<span class="ident" id="7684045">tc</span><span class="op" id="7684047">.</span><span class="ident" id="7684048">offset</span><span class="op" id="7684054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684058">default</span><span class="op" id="7684065">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684070">t</span><span class="op" id="7684071">.</span><span class="ident" id="7684072">Error</span><span class="op" id="7684077">(</span><span class="string" id="7684078">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="7684118">,</span>&nbsp;<span class="ident" id="7684120">tc</span><span class="op" id="7684122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684129">}</span><br>
<span class="lineno">185</span><span class="op" id="7684131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7684134">func</span>&nbsp;<span class="ident" id="7684139">TestBig</span><span class="op" id="7684146">(</span><span class="ident" id="7684147">t</span>&nbsp;<span class="op" id="7684149">*</span><span class="ident" id="7684150">testing</span><span class="op" id="7684157">.</span><span class="ident" id="7684158">T</span><span class="op" id="7684159">)</span>&nbsp;<span class="op" id="7684161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684164">n</span>&nbsp;<span class="op" id="7684166">:=</span>&nbsp;<span class="num" id="7684169">3</span><span class="op" id="7684170">*</span><span class="num" id="7684171">1000</span>&nbsp;<span class="op" id="7684176">+</span>&nbsp;<span class="num" id="7684178">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684181">raw</span>&nbsp;<span class="op" id="7684185">:=</span>&nbsp;<span class="builtinfunc" id="7684188">make</span><span class="op" id="7684192">(</span><span class="op" id="7684193">[</span><span class="op" id="7684194">]</span><span class="builtintype" id="7684195">byte</span><span class="op" id="7684199">,</span>&nbsp;<span class="ident" id="7684201">n</span><span class="op" id="7684202">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684205">const</span>&nbsp;<span class="ident" id="7684211">alpha</span>&nbsp;<span class="op" id="7684217">=</span>&nbsp;<span class="string" id="7684219">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684285">for</span>&nbsp;<span class="ident" id="7684289">i</span>&nbsp;<span class="op" id="7684291">:=</span>&nbsp;<span class="num" id="7684294">0</span><span class="op" id="7684295">;</span>&nbsp;<span class="ident" id="7684297">i</span>&nbsp;<span class="op" id="7684299">&lt;</span>&nbsp;<span class="ident" id="7684301">n</span><span class="op" id="7684302">;</span>&nbsp;<span class="ident" id="7684304">i</span><span class="op" id="7684305">++</span>&nbsp;<span class="op" id="7684308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684312">raw</span><span class="op" id="7684315">[</span><span class="ident" id="7684316">i</span><span class="op" id="7684317">]</span>&nbsp;<span class="op" id="7684319">=</span>&nbsp;<span class="ident" id="7684321">alpha</span><span class="op" id="7684326">[</span><span class="ident" id="7684327">i</span><span class="op" id="7684328">%</span><span class="builtinfunc" id="7684329">len</span><span class="op" id="7684332">(</span><span class="ident" id="7684333">alpha</span><span class="op" id="7684338">)</span><span class="op" id="7684339">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684345">encoded</span>&nbsp;<span class="op" id="7684353">:=</span>&nbsp;<span class="builtinfunc" id="7684356">new</span><span class="op" id="7684359">(</span><span class="ident" id="7684360">bytes</span><span class="op" id="7684365">.</span><span class="ident" id="7684366">Buffer</span><span class="op" id="7684372">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684375">w</span>&nbsp;<span class="op" id="7684377">:=</span>&nbsp;<span class="ident" id="7684380">NewEncoder</span><span class="op" id="7684390">(</span><span class="ident" id="7684391">StdEncoding</span><span class="op" id="7684402">,</span>&nbsp;<span class="ident" id="7684404">encoded</span><span class="op" id="7684411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684414">nn</span><span class="op" id="7684416">,</span>&nbsp;<span class="ident" id="7684418">err</span>&nbsp;<span class="op" id="7684422">:=</span>&nbsp;<span class="ident" id="7684425">w</span><span class="op" id="7684426">.</span><span class="ident" id="7684427">Write</span><span class="op" id="7684432">(</span><span class="ident" id="7684433">raw</span><span class="op" id="7684436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684439">if</span>&nbsp;<span class="ident" id="7684442">nn</span>&nbsp;<span class="op" id="7684445">!=</span>&nbsp;<span class="ident" id="7684448">n</span>&nbsp;<span class="op" id="7684450">||</span>&nbsp;<span class="ident" id="7684453">err</span>&nbsp;<span class="op" id="7684457">!=</span>&nbsp;<span class="ident" id="7684460">nil</span>&nbsp;<span class="op" id="7684464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684468">t</span><span class="op" id="7684469">.</span><span class="ident" id="7684470">Fatalf</span><span class="op" id="7684476">(</span><span class="string" id="7684477">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="7684519">,</span>&nbsp;<span class="ident" id="7684521">nn</span><span class="op" id="7684523">,</span>&nbsp;<span class="ident" id="7684525">err</span><span class="op" id="7684528">,</span>&nbsp;<span class="ident" id="7684530">n</span><span class="op" id="7684531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684534">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684537">err</span>&nbsp;<span class="op" id="7684541">=</span>&nbsp;<span class="ident" id="7684543">w</span><span class="op" id="7684544">.</span><span class="ident" id="7684545">Close</span><span class="op" id="7684550">(</span><span class="op" id="7684551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684554">if</span>&nbsp;<span class="ident" id="7684557">err</span>&nbsp;<span class="op" id="7684561">!=</span>&nbsp;<span class="ident" id="7684564">nil</span>&nbsp;<span class="op" id="7684568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684572">t</span><span class="op" id="7684573">.</span><span class="ident" id="7684574">Fatalf</span><span class="op" id="7684580">(</span><span class="string" id="7684581">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7684612">,</span>&nbsp;<span class="ident" id="7684614">err</span><span class="op" id="7684617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684623">decoded</span><span class="op" id="7684630">,</span>&nbsp;<span class="ident" id="7684632">err</span>&nbsp;<span class="op" id="7684636">:=</span>&nbsp;<span class="ident" id="7684639">ioutil</span><span class="op" id="7684645">.</span><span class="ident" id="7684646">ReadAll</span><span class="op" id="7684653">(</span><span class="ident" id="7684654">NewDecoder</span><span class="op" id="7684664">(</span><span class="ident" id="7684665">StdEncoding</span><span class="op" id="7684676">,</span>&nbsp;<span class="ident" id="7684678">encoded</span><span class="op" id="7684685">)</span><span class="op" id="7684686">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684689">if</span>&nbsp;<span class="ident" id="7684692">err</span>&nbsp;<span class="op" id="7684696">!=</span>&nbsp;<span class="ident" id="7684699">nil</span>&nbsp;<span class="op" id="7684703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684707">t</span><span class="op" id="7684708">.</span><span class="ident" id="7684709">Fatalf</span><span class="op" id="7684715">(</span><span class="string" id="7684716">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="7684753">,</span>&nbsp;<span class="ident" id="7684755">err</span><span class="op" id="7684758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684765">if</span>&nbsp;<span class="op" id="7684768">!</span><span class="ident" id="7684769">bytes</span><span class="op" id="7684774">.</span><span class="ident" id="7684775">Equal</span><span class="op" id="7684780">(</span><span class="ident" id="7684781">raw</span><span class="op" id="7684784">,</span>&nbsp;<span class="ident" id="7684786">decoded</span><span class="op" id="7684793">)</span>&nbsp;<span class="op" id="7684795">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684799">var</span>&nbsp;<span class="ident" id="7684803">i</span>&nbsp;<span class="builtintype" id="7684805">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684811">for</span>&nbsp;<span class="ident" id="7684815">i</span>&nbsp;<span class="op" id="7684817">=</span>&nbsp;<span class="num" id="7684819">0</span><span class="op" id="7684820">;</span>&nbsp;<span class="ident" id="7684822">i</span>&nbsp;<span class="op" id="7684824">&lt;</span>&nbsp;<span class="builtinfunc" id="7684826">len</span><span class="op" id="7684829">(</span><span class="ident" id="7684830">decoded</span><span class="op" id="7684837">)</span>&nbsp;<span class="op" id="7684839">&amp;&amp;</span>&nbsp;<span class="ident" id="7684842">i</span>&nbsp;<span class="op" id="7684844">&lt;</span>&nbsp;<span class="builtinfunc" id="7684846">len</span><span class="op" id="7684849">(</span><span class="ident" id="7684850">raw</span><span class="op" id="7684853">)</span><span class="op" id="7684854">;</span>&nbsp;<span class="ident" id="7684856">i</span><span class="op" id="7684857">++</span>&nbsp;<span class="op" id="7684860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684865">if</span>&nbsp;<span class="ident" id="7684868">decoded</span><span class="op" id="7684875">[</span><span class="ident" id="7684876">i</span><span class="op" id="7684877">]</span>&nbsp;<span class="op" id="7684879">!=</span>&nbsp;<span class="ident" id="7684882">raw</span><span class="op" id="7684885">[</span><span class="ident" id="7684886">i</span><span class="op" id="7684887">]</span>&nbsp;<span class="op" id="7684889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684895">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684904">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684912">t</span><span class="op" id="7684913">.</span><span class="ident" id="7684914">Errorf</span><span class="op" id="7684920">(</span><span class="string" id="7684921">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="7684973">,</span>&nbsp;<span class="ident" id="7684975">n</span><span class="op" id="7684976">,</span>&nbsp;<span class="ident" id="7684978">i</span><span class="op" id="7684979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684982">}</span><br>
<span class="lineno"></span><span class="op" id="7684984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="7684987">func</span>&nbsp;<span class="ident" id="7684992">testStringEncoding</span><span class="op" id="7685010">(</span><span class="ident" id="7685011">t</span>&nbsp;<span class="op" id="7685013">*</span><span class="ident" id="7685014">testing</span><span class="op" id="7685021">.</span><span class="ident" id="7685022">T</span><span class="op" id="7685023">,</span>&nbsp;<span class="ident" id="7685025">expected</span>&nbsp;<span class="builtintype" id="7685034">string</span><span class="op" id="7685040">,</span>&nbsp;<span class="ident" id="7685042">examples</span>&nbsp;<span class="op" id="7685051">[</span><span class="op" id="7685052">]</span><span class="builtintype" id="7685053">string</span><span class="op" id="7685059">)</span>&nbsp;<span class="op" id="7685061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685064">for</span>&nbsp;<span class="ident" id="7685068">_</span><span class="op" id="7685069">,</span>&nbsp;<span class="ident" id="7685071">e</span>&nbsp;<span class="op" id="7685073">:=</span>&nbsp;<span class="keyword" id="7685076">range</span>&nbsp;<span class="ident" id="7685082">examples</span>&nbsp;<span class="op" id="7685091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685095">buf</span><span class="op" id="7685098">,</span>&nbsp;<span class="ident" id="7685100">err</span>&nbsp;<span class="op" id="7685104">:=</span>&nbsp;<span class="ident" id="7685107">StdEncoding</span><span class="op" id="7685118">.</span><span class="ident" id="7685119">DecodeString</span><span class="op" id="7685131">(</span><span class="ident" id="7685132">e</span><span class="op" id="7685133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685137">if</span>&nbsp;<span class="ident" id="7685140">err</span>&nbsp;<span class="op" id="7685144">!=</span>&nbsp;<span class="ident" id="7685147">nil</span>&nbsp;<span class="op" id="7685151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685156">t</span><span class="op" id="7685157">.</span><span class="ident" id="7685158">Errorf</span><span class="op" id="7685164">(</span><span class="string" id="7685165">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7685188">,</span>&nbsp;<span class="ident" id="7685190">e</span><span class="op" id="7685191">,</span>&nbsp;<span class="ident" id="7685193">err</span><span class="op" id="7685196">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685201">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685216">if</span>&nbsp;<span class="ident" id="7685219">s</span>&nbsp;<span class="op" id="7685221">:=</span>&nbsp;<span class="builtintype" id="7685224">string</span><span class="op" id="7685230">(</span><span class="ident" id="7685231">buf</span><span class="op" id="7685234">)</span><span class="op" id="7685235">;</span>&nbsp;<span class="ident" id="7685237">s</span>&nbsp;<span class="op" id="7685239">!=</span>&nbsp;<span class="ident" id="7685242">expected</span>&nbsp;<span class="op" id="7685251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685256">t</span><span class="op" id="7685257">.</span><span class="ident" id="7685258">Errorf</span><span class="op" id="7685264">(</span><span class="string" id="7685265">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7685291">,</span>&nbsp;<span class="ident" id="7685293">e</span><span class="op" id="7685294">,</span>&nbsp;<span class="ident" id="7685296">s</span><span class="op" id="7685297">,</span>&nbsp;<span class="ident" id="7685299">expected</span><span class="op" id="7685307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685311">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685314">}</span><br>
<span class="lineno"></span><span class="op" id="7685316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7685319">func</span>&nbsp;<span class="ident" id="7685324">TestNewLineCharacters</span><span class="op" id="7685345">(</span><span class="ident" id="7685346">t</span>&nbsp;<span class="op" id="7685348">*</span><span class="ident" id="7685349">testing</span><span class="op" id="7685356">.</span><span class="ident" id="7685357">T</span><span class="op" id="7685358">)</span>&nbsp;<span class="op" id="7685360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7685363">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685433">examples</span>&nbsp;<span class="op" id="7685442">:=</span>&nbsp;<span class="op" id="7685445">[</span><span class="op" id="7685446">]</span><span class="builtintype" id="7685447">string</span><span class="op" id="7685453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685457">&#34;ON2XEZI=&#34;</span><span class="op" id="7685467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685471">&#34;ON2XEZI=\r&#34;</span><span class="op" id="7685483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685487">&#34;ON2XEZI=\n&#34;</span><span class="op" id="7685499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685503">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="7685517">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685521">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="7685535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685539">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="7685553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685557">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="7685571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685575">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="7685587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685591">&#34;ON2XEZI\n=&#34;</span><span class="op" id="7685603">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685609">testStringEncoding</span><span class="op" id="7685627">(</span><span class="ident" id="7685628">t</span><span class="op" id="7685629">,</span>&nbsp;<span class="string" id="7685631">&#34;sure&#34;</span><span class="op" id="7685637">,</span>&nbsp;<span class="ident" id="7685639">examples</span><span class="op" id="7685647">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7685651">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685723">examples</span>&nbsp;<span class="op" id="7685732">=</span>&nbsp;<span class="op" id="7685734">[</span><span class="op" id="7685735">]</span><span class="builtintype" id="7685736">string</span><span class="op" id="7685742">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685746">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7685764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7685768">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="7685790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685796">testStringEncoding</span><span class="op" id="7685814">(</span><span class="ident" id="7685815">t</span><span class="op" id="7685816">,</span>&nbsp;<span class="string" id="7685818">&#34;foobar&#34;</span><span class="op" id="7685826">,</span>&nbsp;<span class="ident" id="7685828">examples</span><span class="op" id="7685836">)</span><br>
<span class="lineno"></span><span class="op" id="7685838">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="7685841">func</span>&nbsp;<span class="ident" id="7685846">TestDecoderIssue4779</span><span class="op" id="7685866">(</span><span class="ident" id="7685867">t</span>&nbsp;<span class="op" id="7685869">*</span><span class="ident" id="7685870">testing</span><span class="op" id="7685877">.</span><span class="ident" id="7685878">T</span><span class="op" id="7685879">)</span>&nbsp;<span class="op" id="7685881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685884">encoded</span>&nbsp;<span class="op" id="7685892">:=</span>&nbsp;<span class="string" id="7685895">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7686629">encodedShort</span>&nbsp;<span class="op" id="7686642">:=</span>&nbsp;<span class="ident" id="7686645">strings</span><span class="op" id="7686652">.</span><span class="ident" id="7686653">Replace</span><span class="op" id="7686660">(</span><span class="ident" id="7686661">encoded</span><span class="op" id="7686668">,</span>&nbsp;<span class="string" id="7686670">&#34;\n&#34;</span><span class="op" id="7686674">,</span>&nbsp;<span class="string" id="7686676">&#34;&#34;</span><span class="op" id="7686678">,</span>&nbsp;<span class="op" id="7686680">-</span><span class="num" id="7686681">1</span><span class="op" id="7686682">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7686686">dec</span>&nbsp;<span class="op" id="7686690">:=</span>&nbsp;<span class="ident" id="7686693">NewDecoder</span><span class="op" id="7686703">(</span><span class="ident" id="7686704">StdEncoding</span><span class="op" id="7686715">,</span>&nbsp;<span class="ident" id="7686717">strings</span><span class="op" id="7686724">.</span><span class="ident" id="7686725">NewReader</span><span class="op" id="7686734">(</span><span class="ident" id="7686735">encoded</span><span class="op" id="7686742">)</span><span class="op" id="7686743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7686746">res1</span><span class="op" id="7686750">,</span>&nbsp;<span class="ident" id="7686752">err</span>&nbsp;<span class="op" id="7686756">:=</span>&nbsp;<span class="ident" id="7686759">ioutil</span><span class="op" id="7686765">.</span><span class="ident" id="7686766">ReadAll</span><span class="op" id="7686773">(</span><span class="ident" id="7686774">dec</span><span class="op" id="7686777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7686780">if</span>&nbsp;<span class="ident" id="7686783">err</span>&nbsp;<span class="op" id="7686787">!=</span>&nbsp;<span class="ident" id="7686790">nil</span>&nbsp;<span class="op" id="7686794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7686798">t</span><span class="op" id="7686799">.</span><span class="ident" id="7686800">Errorf</span><span class="op" id="7686806">(</span><span class="string" id="7686807">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7686827">,</span>&nbsp;<span class="ident" id="7686829">err</span><span class="op" id="7686832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7686835">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7686839">dec</span>&nbsp;<span class="op" id="7686843">=</span>&nbsp;<span class="ident" id="7686845">NewDecoder</span><span class="op" id="7686855">(</span><span class="ident" id="7686856">StdEncoding</span><span class="op" id="7686867">,</span>&nbsp;<span class="ident" id="7686869">strings</span><span class="op" id="7686876">.</span><span class="ident" id="7686877">NewReader</span><span class="op" id="7686886">(</span><span class="ident" id="7686887">encodedShort</span><span class="op" id="7686899">)</span><span class="op" id="7686900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7686903">var</span>&nbsp;<span class="ident" id="7686907">res2</span>&nbsp;<span class="op" id="7686912">[</span><span class="op" id="7686913">]</span><span class="builtintype" id="7686914">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7686920">res2</span><span class="op" id="7686924">,</span>&nbsp;<span class="ident" id="7686926">err</span>&nbsp;<span class="op" id="7686930">=</span>&nbsp;<span class="ident" id="7686932">ioutil</span><span class="op" id="7686938">.</span><span class="ident" id="7686939">ReadAll</span><span class="op" id="7686946">(</span><span class="ident" id="7686947">dec</span><span class="op" id="7686950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7686953">if</span>&nbsp;<span class="ident" id="7686956">err</span>&nbsp;<span class="op" id="7686960">!=</span>&nbsp;<span class="ident" id="7686963">nil</span>&nbsp;<span class="op" id="7686967">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7686971">t</span><span class="op" id="7686972">.</span><span class="ident" id="7686973">Errorf</span><span class="op" id="7686979">(</span><span class="string" id="7686980">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7687000">,</span>&nbsp;<span class="ident" id="7687002">err</span><span class="op" id="7687005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7687008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7687012">if</span>&nbsp;<span class="op" id="7687015">!</span><span class="ident" id="7687016">bytes</span><span class="op" id="7687021">.</span><span class="ident" id="7687022">Equal</span><span class="op" id="7687027">(</span><span class="ident" id="7687028">res1</span><span class="op" id="7687032">,</span>&nbsp;<span class="ident" id="7687034">res2</span><span class="op" id="7687038">)</span>&nbsp;<span class="op" id="7687040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7687044">t</span><span class="op" id="7687045">.</span><span class="ident" id="7687046">Error</span><span class="op" id="7687051">(</span><span class="string" id="7687052">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="7687079">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7687082">}</span><br>
<span class="lineno"></span><span class="op" id="7687084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7687087">func</span>&nbsp;<span class="ident" id="7687092">BenchmarkEncodeToString</span><span class="op" id="7687115">(</span><span class="ident" id="7687116">b</span>&nbsp;<span class="op" id="7687118">*</span><span class="ident" id="7687119">testing</span><span class="op" id="7687126">.</span><span class="ident" id="7687127">B</span><span class="op" id="7687128">)</span>&nbsp;<span class="op" id="7687130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7687133">data</span>&nbsp;<span class="op" id="7687138">:=</span>&nbsp;<span class="builtinfunc" id="7687141">make</span><span class="op" id="7687145">(</span><span class="op" id="7687146">[</span><span class="op" id="7687147">]</span><span class="builtintype" id="7687148">byte</span><span class="op" id="7687152">,</span>&nbsp;<span class="num" id="7687154">8192</span><span class="op" id="7687158">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7687161">b</span><span class="op" id="7687162">.</span><span class="ident" id="7687163">SetBytes</span><span class="op" id="7687171">(</span><span class="ident" id="7687172">int64</span><span class="op" id="7687177">(</span><span class="builtinfunc" id="7687178">len</span><span class="op" id="7687181">(</span><span class="ident" id="7687182">data</span><span class="op" id="7687186">)</span><span class="op" id="7687187">)</span><span class="op" id="7687188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7687191">for</span>&nbsp;<span class="ident" id="7687195">i</span>&nbsp;<span class="op" id="7687197">:=</span>&nbsp;<span class="num" id="7687200">0</span><span class="op" id="7687201">;</span>&nbsp;<span class="ident" id="7687203">i</span>&nbsp;<span class="op" id="7687205">&lt;</span>&nbsp;<span class="ident" id="7687207">b</span><span class="op" id="7687208">.</span><span class="ident" id="7687209">N</span><span class="op" id="7687210">;</span>&nbsp;<span class="ident" id="7687212">i</span><span class="op" id="7687213">++</span>&nbsp;<span class="op" id="7687216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7687220">StdEncoding</span><span class="op" id="7687231">.</span><span class="ident" id="7687232">EncodeToString</span><span class="op" id="7687246">(</span><span class="ident" id="7687247">data</span><span class="op" id="7687251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7687254">}</span><br>
<span class="lineno"></span><span class="op" id="7687256">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="7687259">func</span>&nbsp;<span class="ident" id="7687264">BenchmarkDecodeString</span><span class="op" id="7687285">(</span><span class="ident" id="7687286">b</span>&nbsp;<span class="op" id="7687288">*</span><span class="ident" id="7687289">testing</span><span class="op" id="7687296">.</span><span class="ident" id="7687297">B</span><span class="op" id="7687298">)</span>&nbsp;<span class="op" id="7687300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7687303">data</span>&nbsp;<span class="op" id="7687308">:=</span>&nbsp;<span class="ident" id="7687311">StdEncoding</span><span class="op" id="7687322">.</span><span class="ident" id="7687323">EncodeToString</span><span class="op" id="7687337">(</span><span class="builtinfunc" id="7687338">make</span><span class="op" id="7687342">(</span><span class="op" id="7687343">[</span><span class="op" id="7687344">]</span><span class="builtintype" id="7687345">byte</span><span class="op" id="7687349">,</span>&nbsp;<span class="num" id="7687351">8192</span><span class="op" id="7687355">)</span><span class="op" id="7687356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7687359">b</span><span class="op" id="7687360">.</span><span class="ident" id="7687361">SetBytes</span><span class="op" id="7687369">(</span><span class="ident" id="7687370">int64</span><span class="op" id="7687375">(</span><span class="builtinfunc" id="7687376">len</span><span class="op" id="7687379">(</span><span class="ident" id="7687380">data</span><span class="op" id="7687384">)</span><span class="op" id="7687385">)</span><span class="op" id="7687386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7687389">for</span>&nbsp;<span class="ident" id="7687393">i</span>&nbsp;<span class="op" id="7687395">:=</span>&nbsp;<span class="num" id="7687398">0</span><span class="op" id="7687399">;</span>&nbsp;<span class="ident" id="7687401">i</span>&nbsp;<span class="op" id="7687403">&lt;</span>&nbsp;<span class="ident" id="7687405">b</span><span class="op" id="7687406">.</span><span class="ident" id="7687407">N</span><span class="op" id="7687408">;</span>&nbsp;<span class="ident" id="7687410">i</span><span class="op" id="7687411">++</span>&nbsp;<span class="op" id="7687414">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7687418">StdEncoding</span><span class="op" id="7687429">.</span><span class="ident" id="7687430">DecodeString</span><span class="op" id="7687442">(</span><span class="ident" id="7687443">data</span><span class="op" id="7687447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7687450">}</span><br>
<span class="lineno"></span><span class="op" id="7687452">}</span>
</div>
</body>
</html>
