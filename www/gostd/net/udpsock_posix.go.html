<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html" class="current">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3387044">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3387100">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3387154">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3387205">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;nacl&nbsp;netbsd&nbsp;openbsd&nbsp;solaris&nbsp;windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3387283">package</span>&nbsp;<span class="ident" id="3387291">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3387296">import</span>&nbsp;<span class="op" id="3387303">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3387306">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3387317">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3387324">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3387327">func</span>&nbsp;<span class="ident" id="3387332">sockaddrToUDP</span><span class="op" id="3387345">(</span><span class="ident" id="3387346">sa</span>&nbsp;<span class="ident" id="3387349"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3387356">.</span><span class="ident" id="3387357"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="3387365">)</span>&nbsp;<span class="ident" id="3387367"><a href="/gostd/net/net.go.html#3334179">Addr</a></span>&nbsp;<span class="op" id="3387372">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387375">switch</span>&nbsp;<span class="ident" id="3387382">sa</span>&nbsp;<span class="op" id="3387385">:=</span>&nbsp;<span class="ident" id="3387388"><a href="/gostd/net/udpsock_posix.go.html#3387346">sa</a></span><span class="op" id="3387390">.</span><span class="op" id="3387391">(</span><span class="keyword" id="3387392">type</span><span class="op" id="3387396">)</span>&nbsp;<span class="op" id="3387398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387401">case</span>&nbsp;<span class="op" id="3387406">*</span><span class="ident" id="3387407"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3387414">.</span><span class="ident" id="3387415"><a href="/gostd/syscall/syscall_unix.go.html#2547205">SockaddrInet4</a></span><span class="op" id="3387428">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387432">return</span>&nbsp;<span class="op" id="3387439">&amp;</span><span class="ident" id="3387440"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3387447">{</span><span class="ident" id="3387448"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3387450">:</span>&nbsp;<span class="ident" id="3387452"><a href="/gostd/net/udpsock_posix.go.html#3387382">sa</a></span><span class="op" id="3387454">.</span><span class="ident" id="3387455"><a href="/gostd/syscall/syscall_unix.go.html#2547239">Addr</a></span><span class="op" id="3387459">[</span><span class="num" id="3387460">0</span><span class="op" id="3387461">:</span><span class="op" id="3387462">]</span><span class="op" id="3387463">,</span>&nbsp;<span class="ident" id="3387465"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="3387469">:</span>&nbsp;<span class="ident" id="3387471"><a href="/gostd/net/udpsock_posix.go.html#3387382">sa</a></span><span class="op" id="3387473">.</span><span class="ident" id="3387474"><a href="/gostd/syscall/syscall_unix.go.html#2547229">Port</a></span><span class="op" id="3387478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387481">case</span>&nbsp;<span class="op" id="3387486">*</span><span class="ident" id="3387487"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3387494">.</span><span class="ident" id="3387495"><a href="/gostd/syscall/syscall_unix.go.html#2547283">SockaddrInet6</a></span><span class="op" id="3387508">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387512">return</span>&nbsp;<span class="op" id="3387519">&amp;</span><span class="ident" id="3387520"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3387527">{</span><span class="ident" id="3387528"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3387530">:</span>&nbsp;<span class="ident" id="3387532"><a href="/gostd/net/udpsock_posix.go.html#3387382">sa</a></span><span class="op" id="3387534">.</span><span class="ident" id="3387535"><a href="/gostd/syscall/syscall_unix.go.html#2547334">Addr</a></span><span class="op" id="3387539">[</span><span class="num" id="3387540">0</span><span class="op" id="3387541">:</span><span class="op" id="3387542">]</span><span class="op" id="3387543">,</span>&nbsp;<span class="ident" id="3387545"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="3387549">:</span>&nbsp;<span class="ident" id="3387551"><a href="/gostd/net/udpsock_posix.go.html#3387382">sa</a></span><span class="op" id="3387553">.</span><span class="ident" id="3387554"><a href="/gostd/syscall/syscall_unix.go.html#2547307">Port</a></span><span class="op" id="3387558">,</span>&nbsp;<span class="ident" id="3387560"><a href="/gostd/net/udpsock.go.html#3385879">Zone</a></span><span class="op" id="3387564">:</span>&nbsp;<span class="ident" id="3387566"><a href="/gostd/net/ipsock.go.html#3317149">zoneToString</a></span><span class="op" id="3387578">(</span><span class="builtintype" id="3387579">int</span><span class="op" id="3387582">(</span><span class="ident" id="3387583"><a href="/gostd/net/udpsock_posix.go.html#3387382">sa</a></span><span class="op" id="3387585">.</span><span class="ident" id="3387586"><a href="/gostd/syscall/syscall_unix.go.html#2547319">ZoneId</a></span><span class="op" id="3387592">)</span><span class="op" id="3387593">)</span><span class="op" id="3387594">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3387597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387600">return</span>&nbsp;<span class="builtintype" id="3387607">nil</span><br>
<span class="lineno"></span><span class="op" id="3387611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3387614">func</span>&nbsp;<span class="op" id="3387619">(</span><span class="ident" id="3387620">a</span>&nbsp;<span class="op" id="3387622">*</span><span class="ident" id="3387623"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3387630">)</span>&nbsp;<span class="ident" id="3387632">family</span><span class="op" id="3387638">(</span><span class="op" id="3387639">)</span>&nbsp;<span class="builtintype" id="3387641">int</span>&nbsp;<span class="op" id="3387645">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387648">if</span>&nbsp;<span class="ident" id="3387651"><a href="/gostd/net/udpsock_posix.go.html#3387620">a</a></span>&nbsp;<span class="op" id="3387653">==</span>&nbsp;<span class="builtintype" id="3387656">nil</span>&nbsp;<span class="op" id="3387660">||</span>&nbsp;<span class="builtinfunc" id="3387663">len</span><span class="op" id="3387666">(</span><span class="ident" id="3387667"><a href="/gostd/net/udpsock_posix.go.html#3387620">a</a></span><span class="op" id="3387668">.</span><span class="ident" id="3387669"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3387671">)</span>&nbsp;<span class="op" id="3387673">&lt;=</span>&nbsp;<span class="ident" id="3387676"><a href="/gostd/net/ip.go.html#3285851">IPv4len</a></span>&nbsp;<span class="op" id="3387684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387688">return</span>&nbsp;<span class="ident" id="3387695"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3387702">.</span><span class="ident" id="3387703"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2551244">AF_INET</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3387712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387715">if</span>&nbsp;<span class="ident" id="3387718"><a href="/gostd/net/udpsock_posix.go.html#3387620">a</a></span><span class="op" id="3387719">.</span><span class="ident" id="3387720"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3387722">.</span><span class="ident" id="3387723"><a href="/gostd/net/ip.go.html#3290039">To4</a></span><span class="op" id="3387726">(</span><span class="op" id="3387727">)</span>&nbsp;<span class="op" id="3387729">!=</span>&nbsp;<span class="builtintype" id="3387732">nil</span>&nbsp;<span class="op" id="3387736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387740">return</span>&nbsp;<span class="ident" id="3387747"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3387754">.</span><span class="ident" id="3387755"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2551244">AF_INET</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3387764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387767">return</span>&nbsp;<span class="ident" id="3387774"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3387781">.</span><span class="ident" id="3387782"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2551284">AF_INET6</a></span><br>
<span class="lineno"></span><span class="op" id="3387791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3387794">func</span>&nbsp;<span class="op" id="3387799">(</span><span class="ident" id="3387800">a</span>&nbsp;<span class="op" id="3387802">*</span><span class="ident" id="3387803"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3387810">)</span>&nbsp;<span class="ident" id="3387812">isWildcard</span><span class="op" id="3387822">(</span><span class="op" id="3387823">)</span>&nbsp;<span class="builtintype" id="3387825">bool</span>&nbsp;<span class="op" id="3387830">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387833">if</span>&nbsp;<span class="ident" id="3387836"><a href="/gostd/net/udpsock_posix.go.html#3387800">a</a></span>&nbsp;<span class="op" id="3387838">==</span>&nbsp;<span class="builtintype" id="3387841">nil</span>&nbsp;<span class="op" id="3387845">||</span>&nbsp;<span class="ident" id="3387848"><a href="/gostd/net/udpsock_posix.go.html#3387800">a</a></span><span class="op" id="3387849">.</span><span class="ident" id="3387850"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span>&nbsp;<span class="op" id="3387853">==</span>&nbsp;<span class="builtintype" id="3387856">nil</span>&nbsp;<span class="op" id="3387860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387864">return</span>&nbsp;<span class="builtintype" id="3387871">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3387877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387880">return</span>&nbsp;<span class="ident" id="3387887"><a href="/gostd/net/udpsock_posix.go.html#3387800">a</a></span><span class="op" id="3387888">.</span><span class="ident" id="3387889"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3387891">.</span><span class="ident" id="3387892"><a href="/gostd/net/ip.go.html#3288341">IsUnspecified</a></span><span class="op" id="3387905">(</span><span class="op" id="3387906">)</span><br>
<span class="lineno"></span><span class="op" id="3387908">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="3387911">func</span>&nbsp;<span class="op" id="3387916">(</span><span class="ident" id="3387917">a</span>&nbsp;<span class="op" id="3387919">*</span><span class="ident" id="3387920"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3387927">)</span>&nbsp;<span class="ident" id="3387929">sockaddr</span><span class="op" id="3387937">(</span><span class="ident" id="3387938">family</span>&nbsp;<span class="builtintype" id="3387945">int</span><span class="op" id="3387948">)</span>&nbsp;<span class="op" id="3387950">(</span><span class="ident" id="3387951"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3387958">.</span><span class="ident" id="3387959"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="3387967">,</span>&nbsp;<span class="builtintype" id="3387969">error</span><span class="op" id="3387974">)</span>&nbsp;<span class="op" id="3387976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387979">if</span>&nbsp;<span class="ident" id="3387982"><a href="/gostd/net/udpsock_posix.go.html#3387917">a</a></span>&nbsp;<span class="op" id="3387984">==</span>&nbsp;<span class="builtintype" id="3387987">nil</span>&nbsp;<span class="op" id="3387991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3387995">return</span>&nbsp;<span class="builtintype" id="3388002">nil</span><span class="op" id="3388005">,</span>&nbsp;<span class="builtintype" id="3388007">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3388012">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3388015">return</span>&nbsp;<span class="ident" id="3388022"><a href="/gostd/net/ipsock_posix.go.html#3322112">ipToSockaddr</a></span><span class="op" id="3388034">(</span><span class="ident" id="3388035"><a href="/gostd/net/udpsock_posix.go.html#3387938">family</a></span><span class="op" id="3388041">,</span>&nbsp;<span class="ident" id="3388043"><a href="/gostd/net/udpsock_posix.go.html#3387917">a</a></span><span class="op" id="3388044">.</span><span class="ident" id="3388045"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3388047">,</span>&nbsp;<span class="ident" id="3388049"><a href="/gostd/net/udpsock_posix.go.html#3387917">a</a></span><span class="op" id="3388050">.</span><span class="ident" id="3388051"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="3388055">,</span>&nbsp;<span class="ident" id="3388057"><a href="/gostd/net/udpsock_posix.go.html#3387917">a</a></span><span class="op" id="3388058">.</span><span class="ident" id="3388059"><a href="/gostd/net/udpsock.go.html#3385879">Zone</a></span><span class="op" id="3388063">)</span><br>
<span class="lineno"></span><span class="op" id="3388065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3388068">//&nbsp;UDPConn&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Conn&nbsp;and&nbsp;PacketConn&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="comment" id="3388139">//&nbsp;for&nbsp;UDP&nbsp;network&nbsp;connections.</span><br>
<span class="lineno">50</span><span class="keyword" id="3388171">type</span>&nbsp;<span class="ident" id="3388176">UDPConn</span>&nbsp;<span class="keyword" id="3388184">struct</span>&nbsp;<span class="op" id="3388191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3388194"><a href="/gostd/net/net.go.html#3336184">conn</a></span><br>
<span class="lineno"></span><span class="op" id="3388199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3388202">func</span>&nbsp;<span class="ident" id="3388207">newUDPConn</span><span class="op" id="3388217">(</span><span class="ident" id="3388218">fd</span>&nbsp;<span class="op" id="3388221">*</span><span class="ident" id="3388222"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3388227">)</span>&nbsp;<span class="op" id="3388229">*</span><span class="ident" id="3388230"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span>&nbsp;<span class="op" id="3388238">{</span>&nbsp;<span class="keyword" id="3388240">return</span>&nbsp;<span class="op" id="3388247">&amp;</span><span class="ident" id="3388248"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3388255">{</span><span class="ident" id="3388256"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3388260">{</span><span class="ident" id="3388261"><a href="/gostd/net/udpsock_posix.go.html#3388218">fd</a></span><span class="op" id="3388263">}</span><span class="op" id="3388264">}</span>&nbsp;<span class="op" id="3388266">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="3388269">//&nbsp;ReadFromUDP&nbsp;reads&nbsp;a&nbsp;UDP&nbsp;packet&nbsp;from&nbsp;c,&nbsp;copying&nbsp;the&nbsp;payload&nbsp;into&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="3388339">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;into&nbsp;b&nbsp;and&nbsp;the&nbsp;return&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="3388410">//&nbsp;that&nbsp;was&nbsp;on&nbsp;the&nbsp;packet.</span><br>
<span class="lineno"></span><span class="comment" id="3388437">//</span><br>
<span class="lineno">60</span><span class="comment" id="3388440">//&nbsp;ReadFromUDP&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;an&nbsp;error&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3388504">//&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3388571">//&nbsp;SetReadDeadline.</span><br>
<span class="lineno"></span><span class="keyword" id="3388591">func</span>&nbsp;<span class="op" id="3388596">(</span><span class="ident" id="3388597">c</span>&nbsp;<span class="op" id="3388599">*</span><span class="ident" id="3388600"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3388607">)</span>&nbsp;<span class="ident" id="3388609">ReadFromUDP</span><span class="op" id="3388620">(</span><span class="ident" id="3388621">b</span>&nbsp;<span class="op" id="3388623">[</span><span class="op" id="3388624">]</span><span class="builtintype" id="3388625">byte</span><span class="op" id="3388629">)</span>&nbsp;<span class="op" id="3388631">(</span><span class="ident" id="3388632">n</span>&nbsp;<span class="builtintype" id="3388634">int</span><span class="op" id="3388637">,</span>&nbsp;<span class="ident" id="3388639">addr</span>&nbsp;<span class="op" id="3388644">*</span><span class="ident" id="3388645"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3388652">,</span>&nbsp;<span class="ident" id="3388654">err</span>&nbsp;<span class="builtintype" id="3388658">error</span><span class="op" id="3388663">)</span>&nbsp;<span class="op" id="3388665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3388668">if</span>&nbsp;<span class="op" id="3388671">!</span><span class="ident" id="3388672"><a href="/gostd/net/udpsock_posix.go.html#3388597">c</a></span><span class="op" id="3388673">.</span><span class="ident" id="3388674"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3388676">(</span><span class="op" id="3388677">)</span>&nbsp;<span class="op" id="3388679">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3388683">return</span>&nbsp;<span class="num" id="3388690">0</span><span class="op" id="3388691">,</span>&nbsp;<span class="builtintype" id="3388693">nil</span><span class="op" id="3388696">,</span>&nbsp;<span class="ident" id="3388698"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3388705">.</span><span class="ident" id="3388706"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3388714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3388717"><a href="/gostd/net/udpsock_posix.go.html#3388632">n</a></span><span class="op" id="3388718">,</span>&nbsp;<span class="ident" id="3388720">sa</span><span class="op" id="3388722">,</span>&nbsp;<span class="ident" id="3388724"><a href="/gostd/net/udpsock_posix.go.html#3388654">err</a></span>&nbsp;<span class="op" id="3388728">:=</span>&nbsp;<span class="ident" id="3388731"><a href="/gostd/net/udpsock_posix.go.html#3388597">c</a></span><span class="op" id="3388732">.</span><span class="ident" id="3388733"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3388735">.</span><span class="ident" id="3388736"><a href="/gostd/net/fd_unix.go.html#3262995">readFrom</a></span><span class="op" id="3388744">(</span><span class="ident" id="3388745"><a href="/gostd/net/udpsock_posix.go.html#3388621">b</a></span><span class="op" id="3388746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3388749">switch</span>&nbsp;<span class="ident" id="3388756">sa</span>&nbsp;<span class="op" id="3388759">:=</span>&nbsp;<span class="ident" id="3388762"><a href="/gostd/net/udpsock_posix.go.html#3388720">sa</a></span><span class="op" id="3388764">.</span><span class="op" id="3388765">(</span><span class="keyword" id="3388766">type</span><span class="op" id="3388770">)</span>&nbsp;<span class="op" id="3388772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3388775">case</span>&nbsp;<span class="op" id="3388780">*</span><span class="ident" id="3388781"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3388788">.</span><span class="ident" id="3388789"><a href="/gostd/syscall/syscall_unix.go.html#2547205">SockaddrInet4</a></span><span class="op" id="3388802">:</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3388806"><a href="/gostd/net/udpsock_posix.go.html#3388639">addr</a></span>&nbsp;<span class="op" id="3388811">=</span>&nbsp;<span class="op" id="3388813">&amp;</span><span class="ident" id="3388814"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3388821">{</span><span class="ident" id="3388822"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3388824">:</span>&nbsp;<span class="ident" id="3388826"><a href="/gostd/net/udpsock_posix.go.html#3388756">sa</a></span><span class="op" id="3388828">.</span><span class="ident" id="3388829"><a href="/gostd/syscall/syscall_unix.go.html#2547239">Addr</a></span><span class="op" id="3388833">[</span><span class="num" id="3388834">0</span><span class="op" id="3388835">:</span><span class="op" id="3388836">]</span><span class="op" id="3388837">,</span>&nbsp;<span class="ident" id="3388839"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="3388843">:</span>&nbsp;<span class="ident" id="3388845"><a href="/gostd/net/udpsock_posix.go.html#3388756">sa</a></span><span class="op" id="3388847">.</span><span class="ident" id="3388848"><a href="/gostd/syscall/syscall_unix.go.html#2547229">Port</a></span><span class="op" id="3388852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3388855">case</span>&nbsp;<span class="op" id="3388860">*</span><span class="ident" id="3388861"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3388868">.</span><span class="ident" id="3388869"><a href="/gostd/syscall/syscall_unix.go.html#2547283">SockaddrInet6</a></span><span class="op" id="3388882">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3388886"><a href="/gostd/net/udpsock_posix.go.html#3388639">addr</a></span>&nbsp;<span class="op" id="3388891">=</span>&nbsp;<span class="op" id="3388893">&amp;</span><span class="ident" id="3388894"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3388901">{</span><span class="ident" id="3388902"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3388904">:</span>&nbsp;<span class="ident" id="3388906"><a href="/gostd/net/udpsock_posix.go.html#3388756">sa</a></span><span class="op" id="3388908">.</span><span class="ident" id="3388909"><a href="/gostd/syscall/syscall_unix.go.html#2547334">Addr</a></span><span class="op" id="3388913">[</span><span class="num" id="3388914">0</span><span class="op" id="3388915">:</span><span class="op" id="3388916">]</span><span class="op" id="3388917">,</span>&nbsp;<span class="ident" id="3388919"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="3388923">:</span>&nbsp;<span class="ident" id="3388925"><a href="/gostd/net/udpsock_posix.go.html#3388756">sa</a></span><span class="op" id="3388927">.</span><span class="ident" id="3388928"><a href="/gostd/syscall/syscall_unix.go.html#2547307">Port</a></span><span class="op" id="3388932">,</span>&nbsp;<span class="ident" id="3388934"><a href="/gostd/net/udpsock.go.html#3385879">Zone</a></span><span class="op" id="3388938">:</span>&nbsp;<span class="ident" id="3388940"><a href="/gostd/net/ipsock.go.html#3317149">zoneToString</a></span><span class="op" id="3388952">(</span><span class="builtintype" id="3388953">int</span><span class="op" id="3388956">(</span><span class="ident" id="3388957"><a href="/gostd/net/udpsock_posix.go.html#3388756">sa</a></span><span class="op" id="3388959">.</span><span class="ident" id="3388960"><a href="/gostd/syscall/syscall_unix.go.html#2547319">ZoneId</a></span><span class="op" id="3388966">)</span><span class="op" id="3388967">)</span><span class="op" id="3388968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3388971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3388974">return</span><br>
<span class="lineno">75</span><span class="op" id="3388981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3388984">//&nbsp;ReadFrom&nbsp;implements&nbsp;the&nbsp;PacketConn&nbsp;ReadFrom&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="3389039">func</span>&nbsp;<span class="op" id="3389044">(</span><span class="ident" id="3389045">c</span>&nbsp;<span class="op" id="3389047">*</span><span class="ident" id="3389048"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3389055">)</span>&nbsp;<span class="ident" id="3389057">ReadFrom</span><span class="op" id="3389065">(</span><span class="ident" id="3389066">b</span>&nbsp;<span class="op" id="3389068">[</span><span class="op" id="3389069">]</span><span class="builtintype" id="3389070">byte</span><span class="op" id="3389074">)</span>&nbsp;<span class="op" id="3389076">(</span><span class="builtintype" id="3389077">int</span><span class="op" id="3389080">,</span>&nbsp;<span class="ident" id="3389082"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><span class="op" id="3389086">,</span>&nbsp;<span class="builtintype" id="3389088">error</span><span class="op" id="3389093">)</span>&nbsp;<span class="op" id="3389095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389098">if</span>&nbsp;<span class="op" id="3389101">!</span><span class="ident" id="3389102"><a href="/gostd/net/udpsock_posix.go.html#3389045">c</a></span><span class="op" id="3389103">.</span><span class="ident" id="3389104"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3389106">(</span><span class="op" id="3389107">)</span>&nbsp;<span class="op" id="3389109">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389113">return</span>&nbsp;<span class="num" id="3389120">0</span><span class="op" id="3389121">,</span>&nbsp;<span class="builtintype" id="3389123">nil</span><span class="op" id="3389126">,</span>&nbsp;<span class="ident" id="3389128"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3389135">.</span><span class="ident" id="3389136"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3389144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3389147">n</span><span class="op" id="3389148">,</span>&nbsp;<span class="ident" id="3389150">addr</span><span class="op" id="3389154">,</span>&nbsp;<span class="ident" id="3389156">err</span>&nbsp;<span class="op" id="3389160">:=</span>&nbsp;<span class="ident" id="3389163"><a href="/gostd/net/udpsock_posix.go.html#3389045">c</a></span><span class="op" id="3389164">.</span><span class="ident" id="3389165"><a href="/gostd/net/udpsock_posix.go.html#3388609">ReadFromUDP</a></span><span class="op" id="3389176">(</span><span class="ident" id="3389177"><a href="/gostd/net/udpsock_posix.go.html#3389066">b</a></span><span class="op" id="3389178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389181">return</span>&nbsp;<span class="ident" id="3389188"><a href="/gostd/net/udpsock_posix.go.html#3389147">n</a></span><span class="op" id="3389189">,</span>&nbsp;<span class="ident" id="3389191"><a href="/gostd/net/udpsock_posix.go.html#3389150">addr</a></span><span class="op" id="3389195">.</span><span class="ident" id="3389196"><a href="/gostd/net/udpsock.go.html#3386263">toAddr</a></span><span class="op" id="3389202">(</span><span class="op" id="3389203">)</span><span class="op" id="3389204">,</span>&nbsp;<span class="ident" id="3389206"><a href="/gostd/net/udpsock_posix.go.html#3389156">err</a></span><br>
<span class="lineno"></span><span class="op" id="3389210">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="3389213">//&nbsp;ReadMsgUDP&nbsp;reads&nbsp;a&nbsp;packet&nbsp;from&nbsp;c,&nbsp;copying&nbsp;the&nbsp;payload&nbsp;into&nbsp;b&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3389281">//&nbsp;the&nbsp;associated&nbsp;out-of-band&nbsp;data&nbsp;into&nbsp;oob.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="3389349">//&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;into&nbsp;b,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;into&nbsp;oob,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3389417">//&nbsp;flags&nbsp;that&nbsp;were&nbsp;set&nbsp;on&nbsp;the&nbsp;packet&nbsp;and&nbsp;the&nbsp;source&nbsp;address&nbsp;of&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="3389484">//&nbsp;packet.</span><br>
<span class="lineno"></span><span class="keyword" id="3389495">func</span>&nbsp;<span class="op" id="3389500">(</span><span class="ident" id="3389501">c</span>&nbsp;<span class="op" id="3389503">*</span><span class="ident" id="3389504"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3389511">)</span>&nbsp;<span class="ident" id="3389513">ReadMsgUDP</span><span class="op" id="3389523">(</span><span class="ident" id="3389524">b</span><span class="op" id="3389525">,</span>&nbsp;<span class="ident" id="3389527">oob</span>&nbsp;<span class="op" id="3389531">[</span><span class="op" id="3389532">]</span><span class="builtintype" id="3389533">byte</span><span class="op" id="3389537">)</span>&nbsp;<span class="op" id="3389539">(</span><span class="ident" id="3389540">n</span><span class="op" id="3389541">,</span>&nbsp;<span class="ident" id="3389543">oobn</span><span class="op" id="3389547">,</span>&nbsp;<span class="ident" id="3389549">flags</span>&nbsp;<span class="builtintype" id="3389555">int</span><span class="op" id="3389558">,</span>&nbsp;<span class="ident" id="3389560">addr</span>&nbsp;<span class="op" id="3389565">*</span><span class="ident" id="3389566"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3389573">,</span>&nbsp;<span class="ident" id="3389575">err</span>&nbsp;<span class="builtintype" id="3389579">error</span><span class="op" id="3389584">)</span>&nbsp;<span class="op" id="3389586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389589">if</span>&nbsp;<span class="op" id="3389592">!</span><span class="ident" id="3389593"><a href="/gostd/net/udpsock_posix.go.html#3389501">c</a></span><span class="op" id="3389594">.</span><span class="ident" id="3389595"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3389597">(</span><span class="op" id="3389598">)</span>&nbsp;<span class="op" id="3389600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389604">return</span>&nbsp;<span class="num" id="3389611">0</span><span class="op" id="3389612">,</span>&nbsp;<span class="num" id="3389614">0</span><span class="op" id="3389615">,</span>&nbsp;<span class="num" id="3389617">0</span><span class="op" id="3389618">,</span>&nbsp;<span class="builtintype" id="3389620">nil</span><span class="op" id="3389623">,</span>&nbsp;<span class="ident" id="3389625"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3389632">.</span><span class="ident" id="3389633"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3389641">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389644">var</span>&nbsp;<span class="ident" id="3389648">sa</span>&nbsp;<span class="ident" id="3389651"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3389658">.</span><span class="ident" id="3389659"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3389669"><a href="/gostd/net/udpsock_posix.go.html#3389540">n</a></span><span class="op" id="3389670">,</span>&nbsp;<span class="ident" id="3389672"><a href="/gostd/net/udpsock_posix.go.html#3389543">oobn</a></span><span class="op" id="3389676">,</span>&nbsp;<span class="ident" id="3389678"><a href="/gostd/net/udpsock_posix.go.html#3389549">flags</a></span><span class="op" id="3389683">,</span>&nbsp;<span class="ident" id="3389685"><a href="/gostd/net/udpsock_posix.go.html#3389648">sa</a></span><span class="op" id="3389687">,</span>&nbsp;<span class="ident" id="3389689"><a href="/gostd/net/udpsock_posix.go.html#3389575">err</a></span>&nbsp;<span class="op" id="3389693">=</span>&nbsp;<span class="ident" id="3389695"><a href="/gostd/net/udpsock_posix.go.html#3389501">c</a></span><span class="op" id="3389696">.</span><span class="ident" id="3389697"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3389699">.</span><span class="ident" id="3389700"><a href="/gostd/net/fd_unix.go.html#3263587">readMsg</a></span><span class="op" id="3389707">(</span><span class="ident" id="3389708"><a href="/gostd/net/udpsock_posix.go.html#3389524">b</a></span><span class="op" id="3389709">,</span>&nbsp;<span class="ident" id="3389711"><a href="/gostd/net/udpsock_posix.go.html#3389527">oob</a></span><span class="op" id="3389714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389717">switch</span>&nbsp;<span class="ident" id="3389724">sa</span>&nbsp;<span class="op" id="3389727">:=</span>&nbsp;<span class="ident" id="3389730"><a href="/gostd/net/udpsock_posix.go.html#3389648">sa</a></span><span class="op" id="3389732">.</span><span class="op" id="3389733">(</span><span class="keyword" id="3389734">type</span><span class="op" id="3389738">)</span>&nbsp;<span class="op" id="3389740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389743">case</span>&nbsp;<span class="op" id="3389748">*</span><span class="ident" id="3389749"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3389756">.</span><span class="ident" id="3389757"><a href="/gostd/syscall/syscall_unix.go.html#2547205">SockaddrInet4</a></span><span class="op" id="3389770">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3389774"><a href="/gostd/net/udpsock_posix.go.html#3389560">addr</a></span>&nbsp;<span class="op" id="3389779">=</span>&nbsp;<span class="op" id="3389781">&amp;</span><span class="ident" id="3389782"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3389789">{</span><span class="ident" id="3389790"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3389792">:</span>&nbsp;<span class="ident" id="3389794"><a href="/gostd/net/udpsock_posix.go.html#3389724">sa</a></span><span class="op" id="3389796">.</span><span class="ident" id="3389797"><a href="/gostd/syscall/syscall_unix.go.html#2547239">Addr</a></span><span class="op" id="3389801">[</span><span class="num" id="3389802">0</span><span class="op" id="3389803">:</span><span class="op" id="3389804">]</span><span class="op" id="3389805">,</span>&nbsp;<span class="ident" id="3389807"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="3389811">:</span>&nbsp;<span class="ident" id="3389813"><a href="/gostd/net/udpsock_posix.go.html#3389724">sa</a></span><span class="op" id="3389815">.</span><span class="ident" id="3389816"><a href="/gostd/syscall/syscall_unix.go.html#2547229">Port</a></span><span class="op" id="3389820">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389823">case</span>&nbsp;<span class="op" id="3389828">*</span><span class="ident" id="3389829"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3389836">.</span><span class="ident" id="3389837"><a href="/gostd/syscall/syscall_unix.go.html#2547283">SockaddrInet6</a></span><span class="op" id="3389850">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3389854"><a href="/gostd/net/udpsock_posix.go.html#3389560">addr</a></span>&nbsp;<span class="op" id="3389859">=</span>&nbsp;<span class="op" id="3389861">&amp;</span><span class="ident" id="3389862"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3389869">{</span><span class="ident" id="3389870"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3389872">:</span>&nbsp;<span class="ident" id="3389874"><a href="/gostd/net/udpsock_posix.go.html#3389724">sa</a></span><span class="op" id="3389876">.</span><span class="ident" id="3389877"><a href="/gostd/syscall/syscall_unix.go.html#2547334">Addr</a></span><span class="op" id="3389881">[</span><span class="num" id="3389882">0</span><span class="op" id="3389883">:</span><span class="op" id="3389884">]</span><span class="op" id="3389885">,</span>&nbsp;<span class="ident" id="3389887"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="3389891">:</span>&nbsp;<span class="ident" id="3389893"><a href="/gostd/net/udpsock_posix.go.html#3389724">sa</a></span><span class="op" id="3389895">.</span><span class="ident" id="3389896"><a href="/gostd/syscall/syscall_unix.go.html#2547307">Port</a></span><span class="op" id="3389900">,</span>&nbsp;<span class="ident" id="3389902"><a href="/gostd/net/udpsock.go.html#3385879">Zone</a></span><span class="op" id="3389906">:</span>&nbsp;<span class="ident" id="3389908"><a href="/gostd/net/ipsock.go.html#3317149">zoneToString</a></span><span class="op" id="3389920">(</span><span class="builtintype" id="3389921">int</span><span class="op" id="3389924">(</span><span class="ident" id="3389925"><a href="/gostd/net/udpsock_posix.go.html#3389724">sa</a></span><span class="op" id="3389927">.</span><span class="ident" id="3389928"><a href="/gostd/syscall/syscall_unix.go.html#2547319">ZoneId</a></span><span class="op" id="3389934">)</span><span class="op" id="3389935">)</span><span class="op" id="3389936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3389939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3389942">return</span><br>
<span class="lineno"></span><span class="op" id="3389949">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="3389952">//&nbsp;WriteToUDP&nbsp;writes&nbsp;a&nbsp;UDP&nbsp;packet&nbsp;to&nbsp;addr&nbsp;via&nbsp;c,&nbsp;copying&nbsp;the&nbsp;payload</span><br>
<span class="lineno"></span><span class="comment" id="3390021">//&nbsp;from&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="3390032">//</span><br>
<span class="lineno"></span><span class="comment" id="3390035">//&nbsp;WriteToUDP&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;an&nbsp;error&nbsp;with</span><br>
<span class="lineno">110</span><span class="comment" id="3390098">//&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3390165">//&nbsp;SetWriteDeadline.&nbsp;&nbsp;On&nbsp;packet-oriented&nbsp;connections,&nbsp;write&nbsp;timeouts</span><br>
<span class="lineno"></span><span class="comment" id="3390234">//&nbsp;are&nbsp;rare.</span><br>
<span class="lineno"></span><span class="keyword" id="3390247">func</span>&nbsp;<span class="op" id="3390252">(</span><span class="ident" id="3390253">c</span>&nbsp;<span class="op" id="3390255">*</span><span class="ident" id="3390256"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3390263">)</span>&nbsp;<span class="ident" id="3390265">WriteToUDP</span><span class="op" id="3390275">(</span><span class="ident" id="3390276">b</span>&nbsp;<span class="op" id="3390278">[</span><span class="op" id="3390279">]</span><span class="builtintype" id="3390280">byte</span><span class="op" id="3390284">,</span>&nbsp;<span class="ident" id="3390286">addr</span>&nbsp;<span class="op" id="3390291">*</span><span class="ident" id="3390292"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3390299">)</span>&nbsp;<span class="op" id="3390301">(</span><span class="builtintype" id="3390302">int</span><span class="op" id="3390305">,</span>&nbsp;<span class="builtintype" id="3390307">error</span><span class="op" id="3390312">)</span>&nbsp;<span class="op" id="3390314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390317">if</span>&nbsp;<span class="op" id="3390320">!</span><span class="ident" id="3390321"><a href="/gostd/net/udpsock_posix.go.html#3390253">c</a></span><span class="op" id="3390322">.</span><span class="ident" id="3390323"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3390325">(</span><span class="op" id="3390326">)</span>&nbsp;<span class="op" id="3390328">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390332">return</span>&nbsp;<span class="num" id="3390339">0</span><span class="op" id="3390340">,</span>&nbsp;<span class="ident" id="3390342"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3390349">.</span><span class="ident" id="3390350"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3390358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390361">if</span>&nbsp;<span class="ident" id="3390364"><a href="/gostd/net/udpsock_posix.go.html#3390253">c</a></span><span class="op" id="3390365">.</span><span class="ident" id="3390366"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3390368">.</span><span class="ident" id="3390369"><a href="/gostd/net/fd_unix.go.html#3257544">isConnected</a></span>&nbsp;<span class="op" id="3390381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390385">return</span>&nbsp;<span class="num" id="3390392">0</span><span class="op" id="3390393">,</span>&nbsp;<span class="op" id="3390395">&amp;</span><span class="ident" id="3390396"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3390403">{</span><span class="string" id="3390404">&#34;write&#34;</span><span class="op" id="3390411">,</span>&nbsp;<span class="ident" id="3390413"><a href="/gostd/net/udpsock_posix.go.html#3390253">c</a></span><span class="op" id="3390414">.</span><span class="ident" id="3390415"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3390417">.</span><span class="ident" id="3390418"><a href="/gostd/net/fd_unix.go.html#3257562">net</a></span><span class="op" id="3390421">,</span>&nbsp;<span class="ident" id="3390423"><a href="/gostd/net/udpsock_posix.go.html#3390286">addr</a></span><span class="op" id="3390427">,</span>&nbsp;<span class="ident" id="3390429"><a href="/gostd/net/net.go.html#3341315">ErrWriteToConnected</a></span><span class="op" id="3390448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3390451">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390454">if</span>&nbsp;<span class="ident" id="3390457"><a href="/gostd/net/udpsock_posix.go.html#3390286">addr</a></span>&nbsp;<span class="op" id="3390462">==</span>&nbsp;<span class="builtintype" id="3390465">nil</span>&nbsp;<span class="op" id="3390469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390473">return</span>&nbsp;<span class="num" id="3390480">0</span><span class="op" id="3390481">,</span>&nbsp;<span class="op" id="3390483">&amp;</span><span class="ident" id="3390484"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3390491">{</span><span class="ident" id="3390492"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3390494">:</span>&nbsp;<span class="string" id="3390496">&#34;write&#34;</span><span class="op" id="3390503">,</span>&nbsp;<span class="ident" id="3390505"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3390508">:</span>&nbsp;<span class="ident" id="3390510"><a href="/gostd/net/udpsock_posix.go.html#3390253">c</a></span><span class="op" id="3390511">.</span><span class="ident" id="3390512"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3390514">.</span><span class="ident" id="3390515"><a href="/gostd/net/fd_unix.go.html#3257562">net</a></span><span class="op" id="3390518">,</span>&nbsp;<span class="ident" id="3390520"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3390524">:</span>&nbsp;<span class="builtintype" id="3390526">nil</span><span class="op" id="3390529">,</span>&nbsp;<span class="ident" id="3390531"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3390534">:</span>&nbsp;<span class="ident" id="3390536"><a href="/gostd/net/net.go.html#3341102">errMissingAddress</a></span><span class="op" id="3390553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3390556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3390559">sa</span><span class="op" id="3390561">,</span>&nbsp;<span class="ident" id="3390563">err</span>&nbsp;<span class="op" id="3390567">:=</span>&nbsp;<span class="ident" id="3390570"><a href="/gostd/net/udpsock_posix.go.html#3390286">addr</a></span><span class="op" id="3390574">.</span><span class="ident" id="3390575"><a href="/gostd/net/udpsock_posix.go.html#3387929">sockaddr</a></span><span class="op" id="3390583">(</span><span class="ident" id="3390584"><a href="/gostd/net/udpsock_posix.go.html#3390253">c</a></span><span class="op" id="3390585">.</span><span class="ident" id="3390586"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3390588">.</span><span class="ident" id="3390589"><a href="/gostd/net/fd_unix.go.html#3257510">family</a></span><span class="op" id="3390595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390598">if</span>&nbsp;<span class="ident" id="3390601"><a href="/gostd/net/udpsock_posix.go.html#3390563">err</a></span>&nbsp;<span class="op" id="3390605">!=</span>&nbsp;<span class="builtintype" id="3390608">nil</span>&nbsp;<span class="op" id="3390612">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390616">return</span>&nbsp;<span class="num" id="3390623">0</span><span class="op" id="3390624">,</span>&nbsp;<span class="op" id="3390626">&amp;</span><span class="ident" id="3390627"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3390634">{</span><span class="string" id="3390635">&#34;write&#34;</span><span class="op" id="3390642">,</span>&nbsp;<span class="ident" id="3390644"><a href="/gostd/net/udpsock_posix.go.html#3390253">c</a></span><span class="op" id="3390645">.</span><span class="ident" id="3390646"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3390648">.</span><span class="ident" id="3390649"><a href="/gostd/net/fd_unix.go.html#3257562">net</a></span><span class="op" id="3390652">,</span>&nbsp;<span class="ident" id="3390654"><a href="/gostd/net/udpsock_posix.go.html#3390286">addr</a></span><span class="op" id="3390658">,</span>&nbsp;<span class="ident" id="3390660"><a href="/gostd/net/udpsock_posix.go.html#3390563">err</a></span><span class="op" id="3390663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3390666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390669">return</span>&nbsp;<span class="ident" id="3390676"><a href="/gostd/net/udpsock_posix.go.html#3390253">c</a></span><span class="op" id="3390677">.</span><span class="ident" id="3390678"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3390680">.</span><span class="ident" id="3390681"><a href="/gostd/net/fd_unix.go.html#3265101">writeTo</a></span><span class="op" id="3390688">(</span><span class="ident" id="3390689"><a href="/gostd/net/udpsock_posix.go.html#3390276">b</a></span><span class="op" id="3390690">,</span>&nbsp;<span class="ident" id="3390692"><a href="/gostd/net/udpsock_posix.go.html#3390559">sa</a></span><span class="op" id="3390694">)</span><br>
<span class="lineno"></span><span class="op" id="3390696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3390699">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;PacketConn&nbsp;WriteTo&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="3390752">func</span>&nbsp;<span class="op" id="3390757">(</span><span class="ident" id="3390758">c</span>&nbsp;<span class="op" id="3390760">*</span><span class="ident" id="3390761"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3390768">)</span>&nbsp;<span class="ident" id="3390770">WriteTo</span><span class="op" id="3390777">(</span><span class="ident" id="3390778">b</span>&nbsp;<span class="op" id="3390780">[</span><span class="op" id="3390781">]</span><span class="builtintype" id="3390782">byte</span><span class="op" id="3390786">,</span>&nbsp;<span class="ident" id="3390788">addr</span>&nbsp;<span class="ident" id="3390793"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><span class="op" id="3390797">)</span>&nbsp;<span class="op" id="3390799">(</span><span class="builtintype" id="3390800">int</span><span class="op" id="3390803">,</span>&nbsp;<span class="builtintype" id="3390805">error</span><span class="op" id="3390810">)</span>&nbsp;<span class="op" id="3390812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390815">if</span>&nbsp;<span class="op" id="3390818">!</span><span class="ident" id="3390819"><a href="/gostd/net/udpsock_posix.go.html#3390758">c</a></span><span class="op" id="3390820">.</span><span class="ident" id="3390821"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3390823">(</span><span class="op" id="3390824">)</span>&nbsp;<span class="op" id="3390826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390830">return</span>&nbsp;<span class="num" id="3390837">0</span><span class="op" id="3390838">,</span>&nbsp;<span class="ident" id="3390840"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3390847">.</span><span class="ident" id="3390848"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3390856">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3390859">a</span><span class="op" id="3390860">,</span>&nbsp;<span class="ident" id="3390862">ok</span>&nbsp;<span class="op" id="3390865">:=</span>&nbsp;<span class="ident" id="3390868"><a href="/gostd/net/udpsock_posix.go.html#3390788">addr</a></span><span class="op" id="3390872">.</span><span class="op" id="3390873">(</span><span class="op" id="3390874">*</span><span class="ident" id="3390875"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3390882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390885">if</span>&nbsp;<span class="op" id="3390888">!</span><span class="ident" id="3390889"><a href="/gostd/net/udpsock_posix.go.html#3390862">ok</a></span>&nbsp;<span class="op" id="3390892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390896">return</span>&nbsp;<span class="num" id="3390903">0</span><span class="op" id="3390904">,</span>&nbsp;<span class="op" id="3390906">&amp;</span><span class="ident" id="3390907"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3390914">{</span><span class="string" id="3390915">&#34;write&#34;</span><span class="op" id="3390922">,</span>&nbsp;<span class="ident" id="3390924"><a href="/gostd/net/udpsock_posix.go.html#3390758">c</a></span><span class="op" id="3390925">.</span><span class="ident" id="3390926"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3390928">.</span><span class="ident" id="3390929"><a href="/gostd/net/fd_unix.go.html#3257562">net</a></span><span class="op" id="3390932">,</span>&nbsp;<span class="ident" id="3390934"><a href="/gostd/net/udpsock_posix.go.html#3390788">addr</a></span><span class="op" id="3390938">,</span>&nbsp;<span class="ident" id="3390940"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3390947">.</span><span class="ident" id="3390948"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><span class="op" id="3390954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3390957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3390960">return</span>&nbsp;<span class="ident" id="3390967"><a href="/gostd/net/udpsock_posix.go.html#3390758">c</a></span><span class="op" id="3390968">.</span><span class="ident" id="3390969"><a href="/gostd/net/udpsock_posix.go.html#3390265">WriteToUDP</a></span><span class="op" id="3390979">(</span><span class="ident" id="3390980"><a href="/gostd/net/udpsock_posix.go.html#3390778">b</a></span><span class="op" id="3390981">,</span>&nbsp;<span class="ident" id="3390983"><a href="/gostd/net/udpsock_posix.go.html#3390859">a</a></span><span class="op" id="3390984">)</span><br>
<span class="lineno">140</span><span class="op" id="3390986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3390989">//&nbsp;WriteMsgUDP&nbsp;writes&nbsp;a&nbsp;packet&nbsp;to&nbsp;addr&nbsp;via&nbsp;c,&nbsp;copying&nbsp;the&nbsp;payload&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="3391060">//&nbsp;b&nbsp;and&nbsp;the&nbsp;associated&nbsp;out-of-band&nbsp;data&nbsp;from&nbsp;oob.&nbsp;&nbsp;It&nbsp;returns&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3391127">//&nbsp;number&nbsp;of&nbsp;payload&nbsp;and&nbsp;out-of-band&nbsp;bytes&nbsp;written.</span><br>
<span class="lineno">145</span><span class="keyword" id="3391179">func</span>&nbsp;<span class="op" id="3391184">(</span><span class="ident" id="3391185">c</span>&nbsp;<span class="op" id="3391187">*</span><span class="ident" id="3391188"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3391195">)</span>&nbsp;<span class="ident" id="3391197">WriteMsgUDP</span><span class="op" id="3391208">(</span><span class="ident" id="3391209">b</span><span class="op" id="3391210">,</span>&nbsp;<span class="ident" id="3391212">oob</span>&nbsp;<span class="op" id="3391216">[</span><span class="op" id="3391217">]</span><span class="builtintype" id="3391218">byte</span><span class="op" id="3391222">,</span>&nbsp;<span class="ident" id="3391224">addr</span>&nbsp;<span class="op" id="3391229">*</span><span class="ident" id="3391230"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3391237">)</span>&nbsp;<span class="op" id="3391239">(</span><span class="ident" id="3391240">n</span><span class="op" id="3391241">,</span>&nbsp;<span class="ident" id="3391243">oobn</span>&nbsp;<span class="builtintype" id="3391248">int</span><span class="op" id="3391251">,</span>&nbsp;<span class="ident" id="3391253">err</span>&nbsp;<span class="builtintype" id="3391257">error</span><span class="op" id="3391262">)</span>&nbsp;<span class="op" id="3391264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391267">if</span>&nbsp;<span class="op" id="3391270">!</span><span class="ident" id="3391271"><a href="/gostd/net/udpsock_posix.go.html#3391185">c</a></span><span class="op" id="3391272">.</span><span class="ident" id="3391273"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3391275">(</span><span class="op" id="3391276">)</span>&nbsp;<span class="op" id="3391278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391282">return</span>&nbsp;<span class="num" id="3391289">0</span><span class="op" id="3391290">,</span>&nbsp;<span class="num" id="3391292">0</span><span class="op" id="3391293">,</span>&nbsp;<span class="ident" id="3391295"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3391302">.</span><span class="ident" id="3391303"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3391311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391314">if</span>&nbsp;<span class="ident" id="3391317"><a href="/gostd/net/udpsock_posix.go.html#3391185">c</a></span><span class="op" id="3391318">.</span><span class="ident" id="3391319"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3391321">.</span><span class="ident" id="3391322"><a href="/gostd/net/fd_unix.go.html#3257544">isConnected</a></span>&nbsp;<span class="op" id="3391334">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391338">return</span>&nbsp;<span class="num" id="3391345">0</span><span class="op" id="3391346">,</span>&nbsp;<span class="num" id="3391348">0</span><span class="op" id="3391349">,</span>&nbsp;<span class="op" id="3391351">&amp;</span><span class="ident" id="3391352"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3391359">{</span><span class="string" id="3391360">&#34;write&#34;</span><span class="op" id="3391367">,</span>&nbsp;<span class="ident" id="3391369"><a href="/gostd/net/udpsock_posix.go.html#3391185">c</a></span><span class="op" id="3391370">.</span><span class="ident" id="3391371"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3391373">.</span><span class="ident" id="3391374"><a href="/gostd/net/fd_unix.go.html#3257562">net</a></span><span class="op" id="3391377">,</span>&nbsp;<span class="ident" id="3391379"><a href="/gostd/net/udpsock_posix.go.html#3391224">addr</a></span><span class="op" id="3391383">,</span>&nbsp;<span class="ident" id="3391385"><a href="/gostd/net/net.go.html#3341315">ErrWriteToConnected</a></span><span class="op" id="3391404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3391407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391410">if</span>&nbsp;<span class="ident" id="3391413"><a href="/gostd/net/udpsock_posix.go.html#3391224">addr</a></span>&nbsp;<span class="op" id="3391418">==</span>&nbsp;<span class="builtintype" id="3391421">nil</span>&nbsp;<span class="op" id="3391425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391429">return</span>&nbsp;<span class="num" id="3391436">0</span><span class="op" id="3391437">,</span>&nbsp;<span class="num" id="3391439">0</span><span class="op" id="3391440">,</span>&nbsp;<span class="op" id="3391442">&amp;</span><span class="ident" id="3391443"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3391450">{</span><span class="ident" id="3391451"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3391453">:</span>&nbsp;<span class="string" id="3391455">&#34;write&#34;</span><span class="op" id="3391462">,</span>&nbsp;<span class="ident" id="3391464"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3391467">:</span>&nbsp;<span class="ident" id="3391469"><a href="/gostd/net/udpsock_posix.go.html#3391185">c</a></span><span class="op" id="3391470">.</span><span class="ident" id="3391471"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3391473">.</span><span class="ident" id="3391474"><a href="/gostd/net/fd_unix.go.html#3257562">net</a></span><span class="op" id="3391477">,</span>&nbsp;<span class="ident" id="3391479"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3391483">:</span>&nbsp;<span class="builtintype" id="3391485">nil</span><span class="op" id="3391488">,</span>&nbsp;<span class="ident" id="3391490"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3391493">:</span>&nbsp;<span class="ident" id="3391495"><a href="/gostd/net/net.go.html#3341102">errMissingAddress</a></span><span class="op" id="3391512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3391515">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3391518">sa</span><span class="op" id="3391520">,</span>&nbsp;<span class="ident" id="3391522"><a href="/gostd/net/udpsock_posix.go.html#3391253">err</a></span>&nbsp;<span class="op" id="3391526">:=</span>&nbsp;<span class="ident" id="3391529"><a href="/gostd/net/udpsock_posix.go.html#3391224">addr</a></span><span class="op" id="3391533">.</span><span class="ident" id="3391534"><a href="/gostd/net/udpsock_posix.go.html#3387929">sockaddr</a></span><span class="op" id="3391542">(</span><span class="ident" id="3391543"><a href="/gostd/net/udpsock_posix.go.html#3391185">c</a></span><span class="op" id="3391544">.</span><span class="ident" id="3391545"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3391547">.</span><span class="ident" id="3391548"><a href="/gostd/net/fd_unix.go.html#3257510">family</a></span><span class="op" id="3391554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391557">if</span>&nbsp;<span class="ident" id="3391560"><a href="/gostd/net/udpsock_posix.go.html#3391253">err</a></span>&nbsp;<span class="op" id="3391564">!=</span>&nbsp;<span class="builtintype" id="3391567">nil</span>&nbsp;<span class="op" id="3391571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391575">return</span>&nbsp;<span class="num" id="3391582">0</span><span class="op" id="3391583">,</span>&nbsp;<span class="num" id="3391585">0</span><span class="op" id="3391586">,</span>&nbsp;<span class="op" id="3391588">&amp;</span><span class="ident" id="3391589"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3391596">{</span><span class="string" id="3391597">&#34;write&#34;</span><span class="op" id="3391604">,</span>&nbsp;<span class="ident" id="3391606"><a href="/gostd/net/udpsock_posix.go.html#3391185">c</a></span><span class="op" id="3391607">.</span><span class="ident" id="3391608"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3391610">.</span><span class="ident" id="3391611"><a href="/gostd/net/fd_unix.go.html#3257562">net</a></span><span class="op" id="3391614">,</span>&nbsp;<span class="ident" id="3391616"><a href="/gostd/net/udpsock_posix.go.html#3391224">addr</a></span><span class="op" id="3391620">,</span>&nbsp;<span class="ident" id="3391622"><a href="/gostd/net/udpsock_posix.go.html#3391253">err</a></span><span class="op" id="3391625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3391628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391631">return</span>&nbsp;<span class="ident" id="3391638"><a href="/gostd/net/udpsock_posix.go.html#3391185">c</a></span><span class="op" id="3391639">.</span><span class="ident" id="3391640"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3391642">.</span><span class="ident" id="3391643"><a href="/gostd/net/fd_unix.go.html#3265622">writeMsg</a></span><span class="op" id="3391651">(</span><span class="ident" id="3391652"><a href="/gostd/net/udpsock_posix.go.html#3391209">b</a></span><span class="op" id="3391653">,</span>&nbsp;<span class="ident" id="3391655"><a href="/gostd/net/udpsock_posix.go.html#3391212">oob</a></span><span class="op" id="3391658">,</span>&nbsp;<span class="ident" id="3391660"><a href="/gostd/net/udpsock_posix.go.html#3391518">sa</a></span><span class="op" id="3391662">)</span><br>
<span class="lineno">160</span><span class="op" id="3391664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3391667">//&nbsp;DialUDP&nbsp;connects&nbsp;to&nbsp;the&nbsp;remote&nbsp;address&nbsp;raddr&nbsp;on&nbsp;the&nbsp;network&nbsp;net,</span><br>
<span class="lineno"></span><span class="comment" id="3391735">//&nbsp;which&nbsp;must&nbsp;be&nbsp;&#34;udp&#34;,&nbsp;&#34;udp4&#34;,&nbsp;or&nbsp;&#34;udp6&#34;.&nbsp;&nbsp;If&nbsp;laddr&nbsp;is&nbsp;not&nbsp;nil,&nbsp;it&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3391806">//&nbsp;used&nbsp;as&nbsp;the&nbsp;local&nbsp;address&nbsp;for&nbsp;the&nbsp;connection.</span><br>
<span class="lineno">165</span><span class="keyword" id="3391855">func</span>&nbsp;<span class="ident" id="3391860">DialUDP</span><span class="op" id="3391867">(</span><span class="ident" id="3391868">net</span>&nbsp;<span class="builtintype" id="3391872">string</span><span class="op" id="3391878">,</span>&nbsp;<span class="ident" id="3391880">laddr</span><span class="op" id="3391885">,</span>&nbsp;<span class="ident" id="3391887">raddr</span>&nbsp;<span class="op" id="3391893">*</span><span class="ident" id="3391894"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3391901">)</span>&nbsp;<span class="op" id="3391903">(</span><span class="op" id="3391904">*</span><span class="ident" id="3391905"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3391912">,</span>&nbsp;<span class="builtintype" id="3391914">error</span><span class="op" id="3391919">)</span>&nbsp;<span class="op" id="3391921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391924">switch</span>&nbsp;<span class="ident" id="3391931"><a href="/gostd/net/udpsock_posix.go.html#3391868">net</a></span>&nbsp;<span class="op" id="3391935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391938">case</span>&nbsp;<span class="string" id="3391943">&#34;udp&#34;</span><span class="op" id="3391948">,</span>&nbsp;<span class="string" id="3391950">&#34;udp4&#34;</span><span class="op" id="3391956">,</span>&nbsp;<span class="string" id="3391958">&#34;udp6&#34;</span><span class="op" id="3391964">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391967">default</span><span class="op" id="3391974">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3391978">return</span>&nbsp;<span class="builtintype" id="3391985">nil</span><span class="op" id="3391988">,</span>&nbsp;<span class="op" id="3391990">&amp;</span><span class="ident" id="3391991"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3391998">{</span><span class="ident" id="3391999"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3392001">:</span>&nbsp;<span class="string" id="3392003">&#34;dial&#34;</span><span class="op" id="3392009">,</span>&nbsp;<span class="ident" id="3392011"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3392014">:</span>&nbsp;<span class="ident" id="3392016"><a href="/gostd/net/udpsock_posix.go.html#3391868">net</a></span><span class="op" id="3392019">,</span>&nbsp;<span class="ident" id="3392021"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3392025">:</span>&nbsp;<span class="ident" id="3392027"><a href="/gostd/net/udpsock_posix.go.html#3391887">raddr</a></span><span class="op" id="3392032">,</span>&nbsp;<span class="ident" id="3392034"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3392037">:</span>&nbsp;<span class="ident" id="3392039"><a href="/gostd/net/net.go.html#3342949">UnknownNetworkError</a></span><span class="op" id="3392058">(</span><span class="ident" id="3392059"><a href="/gostd/net/udpsock_posix.go.html#3391868">net</a></span><span class="op" id="3392062">)</span><span class="op" id="3392063">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3392066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3392069">if</span>&nbsp;<span class="ident" id="3392072"><a href="/gostd/net/udpsock_posix.go.html#3391887">raddr</a></span>&nbsp;<span class="op" id="3392078">==</span>&nbsp;<span class="builtintype" id="3392081">nil</span>&nbsp;<span class="op" id="3392085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3392089">return</span>&nbsp;<span class="builtintype" id="3392096">nil</span><span class="op" id="3392099">,</span>&nbsp;<span class="op" id="3392101">&amp;</span><span class="ident" id="3392102"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3392109">{</span><span class="ident" id="3392110"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3392112">:</span>&nbsp;<span class="string" id="3392114">&#34;dial&#34;</span><span class="op" id="3392120">,</span>&nbsp;<span class="ident" id="3392122"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3392125">:</span>&nbsp;<span class="ident" id="3392127"><a href="/gostd/net/udpsock_posix.go.html#3391868">net</a></span><span class="op" id="3392130">,</span>&nbsp;<span class="ident" id="3392132"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3392136">:</span>&nbsp;<span class="builtintype" id="3392138">nil</span><span class="op" id="3392141">,</span>&nbsp;<span class="ident" id="3392143"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3392146">:</span>&nbsp;<span class="ident" id="3392148"><a href="/gostd/net/net.go.html#3341102">errMissingAddress</a></span><span class="op" id="3392165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3392168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3392171">return</span>&nbsp;<span class="ident" id="3392178"><a href="/gostd/net/udpsock_posix.go.html#3392225">dialUDP</a></span><span class="op" id="3392185">(</span><span class="ident" id="3392186"><a href="/gostd/net/udpsock_posix.go.html#3391868">net</a></span><span class="op" id="3392189">,</span>&nbsp;<span class="ident" id="3392191"><a href="/gostd/net/udpsock_posix.go.html#3391880">laddr</a></span><span class="op" id="3392196">,</span>&nbsp;<span class="ident" id="3392198"><a href="/gostd/net/udpsock_posix.go.html#3391887">raddr</a></span><span class="op" id="3392203">,</span>&nbsp;<span class="ident" id="3392205"><a href="/gostd/net/net.go.html#3342276">noDeadline</a></span><span class="op" id="3392215">)</span><br>
<span class="lineno">175</span><span class="op" id="3392217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3392220">func</span>&nbsp;<span class="ident" id="3392225">dialUDP</span><span class="op" id="3392232">(</span><span class="ident" id="3392233">net</span>&nbsp;<span class="builtintype" id="3392237">string</span><span class="op" id="3392243">,</span>&nbsp;<span class="ident" id="3392245">laddr</span><span class="op" id="3392250">,</span>&nbsp;<span class="ident" id="3392252">raddr</span>&nbsp;<span class="op" id="3392258">*</span><span class="ident" id="3392259"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3392266">,</span>&nbsp;<span class="ident" id="3392268">deadline</span>&nbsp;<span class="ident" id="3392277"><a href="/gostd/net/udpsock_posix.go.html#3387317">time</a></span><span class="op" id="3392281">.</span><span class="ident" id="3392282"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3392286">)</span>&nbsp;<span class="op" id="3392288">(</span><span class="op" id="3392289">*</span><span class="ident" id="3392290"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3392297">,</span>&nbsp;<span class="builtintype" id="3392299">error</span><span class="op" id="3392304">)</span>&nbsp;<span class="op" id="3392306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3392309">fd</span><span class="op" id="3392311">,</span>&nbsp;<span class="ident" id="3392313">err</span>&nbsp;<span class="op" id="3392317">:=</span>&nbsp;<span class="ident" id="3392320"><a href="/gostd/net/ipsock_posix.go.html#3321835">internetSocket</a></span><span class="op" id="3392334">(</span><span class="ident" id="3392335"><a href="/gostd/net/udpsock_posix.go.html#3392233">net</a></span><span class="op" id="3392338">,</span>&nbsp;<span class="ident" id="3392340"><a href="/gostd/net/udpsock_posix.go.html#3392245">laddr</a></span><span class="op" id="3392345">,</span>&nbsp;<span class="ident" id="3392347"><a href="/gostd/net/udpsock_posix.go.html#3392252">raddr</a></span><span class="op" id="3392352">,</span>&nbsp;<span class="ident" id="3392354"><a href="/gostd/net/udpsock_posix.go.html#3392268">deadline</a></span><span class="op" id="3392362">,</span>&nbsp;<span class="ident" id="3392364"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3392371">.</span><span class="ident" id="3392372"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591788">SOCK_DGRAM</a></span><span class="op" id="3392382">,</span>&nbsp;<span class="num" id="3392384">0</span><span class="op" id="3392385">,</span>&nbsp;<span class="string" id="3392387">&#34;dial&#34;</span><span class="op" id="3392393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3392396">if</span>&nbsp;<span class="ident" id="3392399"><a href="/gostd/net/udpsock_posix.go.html#3392313">err</a></span>&nbsp;<span class="op" id="3392403">!=</span>&nbsp;<span class="builtintype" id="3392406">nil</span>&nbsp;<span class="op" id="3392410">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3392414">return</span>&nbsp;<span class="builtintype" id="3392421">nil</span><span class="op" id="3392424">,</span>&nbsp;<span class="op" id="3392426">&amp;</span><span class="ident" id="3392427"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3392434">{</span><span class="ident" id="3392435"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3392437">:</span>&nbsp;<span class="string" id="3392439">&#34;dial&#34;</span><span class="op" id="3392445">,</span>&nbsp;<span class="ident" id="3392447"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3392450">:</span>&nbsp;<span class="ident" id="3392452"><a href="/gostd/net/udpsock_posix.go.html#3392233">net</a></span><span class="op" id="3392455">,</span>&nbsp;<span class="ident" id="3392457"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3392461">:</span>&nbsp;<span class="ident" id="3392463"><a href="/gostd/net/udpsock_posix.go.html#3392252">raddr</a></span><span class="op" id="3392468">,</span>&nbsp;<span class="ident" id="3392470"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3392473">:</span>&nbsp;<span class="ident" id="3392475"><a href="/gostd/net/udpsock_posix.go.html#3392313">err</a></span><span class="op" id="3392478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3392481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3392484">return</span>&nbsp;<span class="ident" id="3392491"><a href="/gostd/net/udpsock_posix.go.html#3388207">newUDPConn</a></span><span class="op" id="3392501">(</span><span class="ident" id="3392502"><a href="/gostd/net/udpsock_posix.go.html#3392309">fd</a></span><span class="op" id="3392504">)</span><span class="op" id="3392505">,</span>&nbsp;<span class="builtintype" id="3392507">nil</span><br>
<span class="lineno"></span><span class="op" id="3392511">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="3392514">//&nbsp;ListenUDP&nbsp;listens&nbsp;for&nbsp;incoming&nbsp;UDP&nbsp;packets&nbsp;addressed&nbsp;to&nbsp;the&nbsp;local</span><br>
<span class="lineno"></span><span class="comment" id="3392583">//&nbsp;address&nbsp;laddr.&nbsp;&nbsp;Net&nbsp;must&nbsp;be&nbsp;&#34;udp&#34;,&nbsp;&#34;udp4&#34;,&nbsp;or&nbsp;&#34;udp6&#34;.&nbsp;&nbsp;If&nbsp;laddr&nbsp;has</span><br>
<span class="lineno"></span><span class="comment" id="3392654">//&nbsp;a&nbsp;port&nbsp;of&nbsp;0,&nbsp;ListenUDP&nbsp;will&nbsp;choose&nbsp;an&nbsp;available&nbsp;port.</span><br>
<span class="lineno"></span><span class="comment" id="3392711">//&nbsp;The&nbsp;LocalAddr&nbsp;method&nbsp;of&nbsp;the&nbsp;returned&nbsp;UDPConn&nbsp;can&nbsp;be&nbsp;used&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3392774">//&nbsp;discover&nbsp;the&nbsp;port.&nbsp;&nbsp;The&nbsp;returned&nbsp;connection&#39;s&nbsp;ReadFrom&nbsp;and&nbsp;WriteTo</span><br>
<span class="lineno">190</span><span class="comment" id="3392844">//&nbsp;methods&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;receive&nbsp;and&nbsp;send&nbsp;UDP&nbsp;packets&nbsp;with&nbsp;per-packet</span><br>
<span class="lineno"></span><span class="comment" id="3392915">//&nbsp;addressing.</span><br>
<span class="lineno"></span><span class="keyword" id="3392930">func</span>&nbsp;<span class="ident" id="3392935">ListenUDP</span><span class="op" id="3392944">(</span><span class="ident" id="3392945">net</span>&nbsp;<span class="builtintype" id="3392949">string</span><span class="op" id="3392955">,</span>&nbsp;<span class="ident" id="3392957">laddr</span>&nbsp;<span class="op" id="3392963">*</span><span class="ident" id="3392964"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3392971">)</span>&nbsp;<span class="op" id="3392973">(</span><span class="op" id="3392974">*</span><span class="ident" id="3392975"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3392982">,</span>&nbsp;<span class="builtintype" id="3392984">error</span><span class="op" id="3392989">)</span>&nbsp;<span class="op" id="3392991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3392994">switch</span>&nbsp;<span class="ident" id="3393001"><a href="/gostd/net/udpsock_posix.go.html#3392945">net</a></span>&nbsp;<span class="op" id="3393005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393008">case</span>&nbsp;<span class="string" id="3393013">&#34;udp&#34;</span><span class="op" id="3393018">,</span>&nbsp;<span class="string" id="3393020">&#34;udp4&#34;</span><span class="op" id="3393026">,</span>&nbsp;<span class="string" id="3393028">&#34;udp6&#34;</span><span class="op" id="3393034">:</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393037">default</span><span class="op" id="3393044">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393048">return</span>&nbsp;<span class="builtintype" id="3393055">nil</span><span class="op" id="3393058">,</span>&nbsp;<span class="op" id="3393060">&amp;</span><span class="ident" id="3393061"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3393068">{</span><span class="ident" id="3393069"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3393071">:</span>&nbsp;<span class="string" id="3393073">&#34;listen&#34;</span><span class="op" id="3393081">,</span>&nbsp;<span class="ident" id="3393083"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3393086">:</span>&nbsp;<span class="ident" id="3393088"><a href="/gostd/net/udpsock_posix.go.html#3392945">net</a></span><span class="op" id="3393091">,</span>&nbsp;<span class="ident" id="3393093"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3393097">:</span>&nbsp;<span class="ident" id="3393099"><a href="/gostd/net/udpsock_posix.go.html#3392957">laddr</a></span><span class="op" id="3393104">,</span>&nbsp;<span class="ident" id="3393106"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3393109">:</span>&nbsp;<span class="ident" id="3393111"><a href="/gostd/net/net.go.html#3342949">UnknownNetworkError</a></span><span class="op" id="3393130">(</span><span class="ident" id="3393131"><a href="/gostd/net/udpsock_posix.go.html#3392945">net</a></span><span class="op" id="3393134">)</span><span class="op" id="3393135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3393138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393141">if</span>&nbsp;<span class="ident" id="3393144"><a href="/gostd/net/udpsock_posix.go.html#3392957">laddr</a></span>&nbsp;<span class="op" id="3393150">==</span>&nbsp;<span class="builtintype" id="3393153">nil</span>&nbsp;<span class="op" id="3393157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3393161"><a href="/gostd/net/udpsock_posix.go.html#3392957">laddr</a></span>&nbsp;<span class="op" id="3393167">=</span>&nbsp;<span class="op" id="3393169">&amp;</span><span class="ident" id="3393170"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3393177">{</span><span class="op" id="3393178">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3393181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3393184">fd</span><span class="op" id="3393186">,</span>&nbsp;<span class="ident" id="3393188">err</span>&nbsp;<span class="op" id="3393192">:=</span>&nbsp;<span class="ident" id="3393195"><a href="/gostd/net/ipsock_posix.go.html#3321835">internetSocket</a></span><span class="op" id="3393209">(</span><span class="ident" id="3393210"><a href="/gostd/net/udpsock_posix.go.html#3392945">net</a></span><span class="op" id="3393213">,</span>&nbsp;<span class="ident" id="3393215"><a href="/gostd/net/udpsock_posix.go.html#3392957">laddr</a></span><span class="op" id="3393220">,</span>&nbsp;<span class="builtintype" id="3393222">nil</span><span class="op" id="3393225">,</span>&nbsp;<span class="ident" id="3393227"><a href="/gostd/net/net.go.html#3342276">noDeadline</a></span><span class="op" id="3393237">,</span>&nbsp;<span class="ident" id="3393239"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3393246">.</span><span class="ident" id="3393247"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591788">SOCK_DGRAM</a></span><span class="op" id="3393257">,</span>&nbsp;<span class="num" id="3393259">0</span><span class="op" id="3393260">,</span>&nbsp;<span class="string" id="3393262">&#34;listen&#34;</span><span class="op" id="3393270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393273">if</span>&nbsp;<span class="ident" id="3393276"><a href="/gostd/net/udpsock_posix.go.html#3393188">err</a></span>&nbsp;<span class="op" id="3393280">!=</span>&nbsp;<span class="builtintype" id="3393283">nil</span>&nbsp;<span class="op" id="3393287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393291">return</span>&nbsp;<span class="builtintype" id="3393298">nil</span><span class="op" id="3393301">,</span>&nbsp;<span class="op" id="3393303">&amp;</span><span class="ident" id="3393304"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3393311">{</span><span class="ident" id="3393312"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3393314">:</span>&nbsp;<span class="string" id="3393316">&#34;listen&#34;</span><span class="op" id="3393324">,</span>&nbsp;<span class="ident" id="3393326"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3393329">:</span>&nbsp;<span class="ident" id="3393331"><a href="/gostd/net/udpsock_posix.go.html#3392945">net</a></span><span class="op" id="3393334">,</span>&nbsp;<span class="ident" id="3393336"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3393340">:</span>&nbsp;<span class="ident" id="3393342"><a href="/gostd/net/udpsock_posix.go.html#3392957">laddr</a></span><span class="op" id="3393347">,</span>&nbsp;<span class="ident" id="3393349"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3393352">:</span>&nbsp;<span class="ident" id="3393354"><a href="/gostd/net/udpsock_posix.go.html#3393188">err</a></span><span class="op" id="3393357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3393360">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393363">return</span>&nbsp;<span class="ident" id="3393370"><a href="/gostd/net/udpsock_posix.go.html#3388207">newUDPConn</a></span><span class="op" id="3393380">(</span><span class="ident" id="3393381"><a href="/gostd/net/udpsock_posix.go.html#3393184">fd</a></span><span class="op" id="3393383">)</span><span class="op" id="3393384">,</span>&nbsp;<span class="builtintype" id="3393386">nil</span><br>
<span class="lineno"></span><span class="op" id="3393390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3393393">//&nbsp;ListenMulticastUDP&nbsp;listens&nbsp;for&nbsp;incoming&nbsp;multicast&nbsp;UDP&nbsp;packets</span><br>
<span class="lineno"></span><span class="comment" id="3393458">//&nbsp;addressed&nbsp;to&nbsp;the&nbsp;group&nbsp;address&nbsp;gaddr&nbsp;on&nbsp;ifi,&nbsp;which&nbsp;specifies&nbsp;the</span><br>
<span class="lineno">210</span><span class="comment" id="3393526">//&nbsp;interface&nbsp;to&nbsp;join.&nbsp;&nbsp;ListenMulticastUDP&nbsp;uses&nbsp;default&nbsp;multicast</span><br>
<span class="lineno"></span><span class="comment" id="3393591">//&nbsp;interface&nbsp;if&nbsp;ifi&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="3393619">func</span>&nbsp;<span class="ident" id="3393624">ListenMulticastUDP</span><span class="op" id="3393642">(</span><span class="ident" id="3393643">net</span>&nbsp;<span class="builtintype" id="3393647">string</span><span class="op" id="3393653">,</span>&nbsp;<span class="ident" id="3393655">ifi</span>&nbsp;<span class="op" id="3393659">*</span><span class="ident" id="3393660"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="3393669">,</span>&nbsp;<span class="ident" id="3393671">gaddr</span>&nbsp;<span class="op" id="3393677">*</span><span class="ident" id="3393678"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="3393685">)</span>&nbsp;<span class="op" id="3393687">(</span><span class="op" id="3393688">*</span><span class="ident" id="3393689"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3393696">,</span>&nbsp;<span class="builtintype" id="3393698">error</span><span class="op" id="3393703">)</span>&nbsp;<span class="op" id="3393705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393708">switch</span>&nbsp;<span class="ident" id="3393715"><a href="/gostd/net/udpsock_posix.go.html#3393643">net</a></span>&nbsp;<span class="op" id="3393719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393722">case</span>&nbsp;<span class="string" id="3393727">&#34;udp&#34;</span><span class="op" id="3393732">,</span>&nbsp;<span class="string" id="3393734">&#34;udp4&#34;</span><span class="op" id="3393740">,</span>&nbsp;<span class="string" id="3393742">&#34;udp6&#34;</span><span class="op" id="3393748">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393751">default</span><span class="op" id="3393758">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393762">return</span>&nbsp;<span class="builtintype" id="3393769">nil</span><span class="op" id="3393772">,</span>&nbsp;<span class="op" id="3393774">&amp;</span><span class="ident" id="3393775"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3393782">{</span><span class="ident" id="3393783"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3393785">:</span>&nbsp;<span class="string" id="3393787">&#34;listen&#34;</span><span class="op" id="3393795">,</span>&nbsp;<span class="ident" id="3393797"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3393800">:</span>&nbsp;<span class="ident" id="3393802"><a href="/gostd/net/udpsock_posix.go.html#3393643">net</a></span><span class="op" id="3393805">,</span>&nbsp;<span class="ident" id="3393807"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3393811">:</span>&nbsp;<span class="ident" id="3393813"><a href="/gostd/net/udpsock_posix.go.html#3393671">gaddr</a></span><span class="op" id="3393818">,</span>&nbsp;<span class="ident" id="3393820"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3393823">:</span>&nbsp;<span class="ident" id="3393825"><a href="/gostd/net/net.go.html#3342949">UnknownNetworkError</a></span><span class="op" id="3393844">(</span><span class="ident" id="3393845"><a href="/gostd/net/udpsock_posix.go.html#3393643">net</a></span><span class="op" id="3393848">)</span><span class="op" id="3393849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3393852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393855">if</span>&nbsp;<span class="ident" id="3393858"><a href="/gostd/net/udpsock_posix.go.html#3393671">gaddr</a></span>&nbsp;<span class="op" id="3393864">==</span>&nbsp;<span class="builtintype" id="3393867">nil</span>&nbsp;<span class="op" id="3393871">||</span>&nbsp;<span class="ident" id="3393874"><a href="/gostd/net/udpsock_posix.go.html#3393671">gaddr</a></span><span class="op" id="3393879">.</span><span class="ident" id="3393880"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span>&nbsp;<span class="op" id="3393883">==</span>&nbsp;<span class="builtintype" id="3393886">nil</span>&nbsp;<span class="op" id="3393890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3393894">return</span>&nbsp;<span class="builtintype" id="3393901">nil</span><span class="op" id="3393904">,</span>&nbsp;<span class="op" id="3393906">&amp;</span><span class="ident" id="3393907"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3393914">{</span><span class="ident" id="3393915"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3393917">:</span>&nbsp;<span class="string" id="3393919">&#34;listen&#34;</span><span class="op" id="3393927">,</span>&nbsp;<span class="ident" id="3393929"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3393932">:</span>&nbsp;<span class="ident" id="3393934"><a href="/gostd/net/udpsock_posix.go.html#3393643">net</a></span><span class="op" id="3393937">,</span>&nbsp;<span class="ident" id="3393939"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3393943">:</span>&nbsp;<span class="builtintype" id="3393945">nil</span><span class="op" id="3393948">,</span>&nbsp;<span class="ident" id="3393950"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3393953">:</span>&nbsp;<span class="ident" id="3393955"><a href="/gostd/net/net.go.html#3341102">errMissingAddress</a></span><span class="op" id="3393972">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3393975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3393978">fd</span><span class="op" id="3393980">,</span>&nbsp;<span class="ident" id="3393982">err</span>&nbsp;<span class="op" id="3393986">:=</span>&nbsp;<span class="ident" id="3393989"><a href="/gostd/net/ipsock_posix.go.html#3321835">internetSocket</a></span><span class="op" id="3394003">(</span><span class="ident" id="3394004"><a href="/gostd/net/udpsock_posix.go.html#3393643">net</a></span><span class="op" id="3394007">,</span>&nbsp;<span class="ident" id="3394009"><a href="/gostd/net/udpsock_posix.go.html#3393671">gaddr</a></span><span class="op" id="3394014">,</span>&nbsp;<span class="builtintype" id="3394016">nil</span><span class="op" id="3394019">,</span>&nbsp;<span class="ident" id="3394021"><a href="/gostd/net/net.go.html#3342276">noDeadline</a></span><span class="op" id="3394031">,</span>&nbsp;<span class="ident" id="3394033"><a href="/gostd/net/udpsock_posix.go.html#3387306">syscall</a></span><span class="op" id="3394040">.</span><span class="ident" id="3394041"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591788">SOCK_DGRAM</a></span><span class="op" id="3394051">,</span>&nbsp;<span class="num" id="3394053">0</span><span class="op" id="3394054">,</span>&nbsp;<span class="string" id="3394056">&#34;listen&#34;</span><span class="op" id="3394064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394067">if</span>&nbsp;<span class="ident" id="3394070"><a href="/gostd/net/udpsock_posix.go.html#3393982">err</a></span>&nbsp;<span class="op" id="3394074">!=</span>&nbsp;<span class="builtintype" id="3394077">nil</span>&nbsp;<span class="op" id="3394081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394085">return</span>&nbsp;<span class="builtintype" id="3394092">nil</span><span class="op" id="3394095">,</span>&nbsp;<span class="op" id="3394097">&amp;</span><span class="ident" id="3394098"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3394105">{</span><span class="ident" id="3394106"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3394108">:</span>&nbsp;<span class="string" id="3394110">&#34;listen&#34;</span><span class="op" id="3394118">,</span>&nbsp;<span class="ident" id="3394120"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3394123">:</span>&nbsp;<span class="ident" id="3394125"><a href="/gostd/net/udpsock_posix.go.html#3393643">net</a></span><span class="op" id="3394128">,</span>&nbsp;<span class="ident" id="3394130"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3394134">:</span>&nbsp;<span class="ident" id="3394136"><a href="/gostd/net/udpsock_posix.go.html#3393671">gaddr</a></span><span class="op" id="3394141">,</span>&nbsp;<span class="ident" id="3394143"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3394146">:</span>&nbsp;<span class="ident" id="3394148"><a href="/gostd/net/udpsock_posix.go.html#3393982">err</a></span><span class="op" id="3394151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3394154">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3394157">c</span>&nbsp;<span class="op" id="3394159">:=</span>&nbsp;<span class="ident" id="3394162"><a href="/gostd/net/udpsock_posix.go.html#3388207">newUDPConn</a></span><span class="op" id="3394172">(</span><span class="ident" id="3394173"><a href="/gostd/net/udpsock_posix.go.html#3393978">fd</a></span><span class="op" id="3394175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394178">if</span>&nbsp;<span class="ident" id="3394181">ip4</span>&nbsp;<span class="op" id="3394185">:=</span>&nbsp;<span class="ident" id="3394188"><a href="/gostd/net/udpsock_posix.go.html#3393671">gaddr</a></span><span class="op" id="3394193">.</span><span class="ident" id="3394194"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3394196">.</span><span class="ident" id="3394197"><a href="/gostd/net/ip.go.html#3290039">To4</a></span><span class="op" id="3394200">(</span><span class="op" id="3394201">)</span><span class="op" id="3394202">;</span>&nbsp;<span class="ident" id="3394204"><a href="/gostd/net/udpsock_posix.go.html#3394181">ip4</a></span>&nbsp;<span class="op" id="3394208">!=</span>&nbsp;<span class="builtintype" id="3394211">nil</span>&nbsp;<span class="op" id="3394215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394219">if</span>&nbsp;<span class="ident" id="3394222">err</span>&nbsp;<span class="op" id="3394226">:=</span>&nbsp;<span class="ident" id="3394229"><a href="/gostd/net/udpsock_posix.go.html#3394585">listenIPv4MulticastUDP</a></span><span class="op" id="3394251">(</span><span class="ident" id="3394252"><a href="/gostd/net/udpsock_posix.go.html#3394157">c</a></span><span class="op" id="3394253">,</span>&nbsp;<span class="ident" id="3394255"><a href="/gostd/net/udpsock_posix.go.html#3393655">ifi</a></span><span class="op" id="3394258">,</span>&nbsp;<span class="ident" id="3394260"><a href="/gostd/net/udpsock_posix.go.html#3394181">ip4</a></span><span class="op" id="3394263">)</span><span class="op" id="3394264">;</span>&nbsp;<span class="ident" id="3394266"><a href="/gostd/net/udpsock_posix.go.html#3394222">err</a></span>&nbsp;<span class="op" id="3394270">!=</span>&nbsp;<span class="builtintype" id="3394273">nil</span>&nbsp;<span class="op" id="3394277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3394282"><a href="/gostd/net/udpsock_posix.go.html#3394157">c</a></span><span class="op" id="3394283">.</span><span class="ident" id="3394284"><a href="/gostd/net/net.go.html#3336674">Close</a></span><span class="op" id="3394289">(</span><span class="op" id="3394290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394295">return</span>&nbsp;<span class="builtintype" id="3394302">nil</span><span class="op" id="3394305">,</span>&nbsp;<span class="op" id="3394307">&amp;</span><span class="ident" id="3394308"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3394315">{</span><span class="ident" id="3394316"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3394318">:</span>&nbsp;<span class="string" id="3394320">&#34;listen&#34;</span><span class="op" id="3394328">,</span>&nbsp;<span class="ident" id="3394330"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3394333">:</span>&nbsp;<span class="ident" id="3394335"><a href="/gostd/net/udpsock_posix.go.html#3393643">net</a></span><span class="op" id="3394338">,</span>&nbsp;<span class="ident" id="3394340"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3394344">:</span>&nbsp;<span class="op" id="3394346">&amp;</span><span class="ident" id="3394347"><a href="/gostd/net/iprawsock.go.html#3301118">IPAddr</a></span><span class="op" id="3394353">{</span><span class="ident" id="3394354"><a href="/gostd/net/iprawsock.go.html#3301135">IP</a></span><span class="op" id="3394356">:</span>&nbsp;<span class="ident" id="3394358"><a href="/gostd/net/udpsock_posix.go.html#3394181">ip4</a></span><span class="op" id="3394361">}</span><span class="op" id="3394362">,</span>&nbsp;<span class="ident" id="3394364"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3394367">:</span>&nbsp;<span class="ident" id="3394369"><a href="/gostd/net/udpsock_posix.go.html#3394222">err</a></span><span class="op" id="3394372">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3394376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3394379">}</span>&nbsp;<span class="keyword" id="3394381">else</span>&nbsp;<span class="op" id="3394386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394390">if</span>&nbsp;<span class="ident" id="3394393">err</span>&nbsp;<span class="op" id="3394397">:=</span>&nbsp;<span class="ident" id="3394400"><a href="/gostd/net/udpsock_posix.go.html#3394921">listenIPv6MulticastUDP</a></span><span class="op" id="3394422">(</span><span class="ident" id="3394423"><a href="/gostd/net/udpsock_posix.go.html#3394157">c</a></span><span class="op" id="3394424">,</span>&nbsp;<span class="ident" id="3394426"><a href="/gostd/net/udpsock_posix.go.html#3393655">ifi</a></span><span class="op" id="3394429">,</span>&nbsp;<span class="ident" id="3394431"><a href="/gostd/net/udpsock_posix.go.html#3393671">gaddr</a></span><span class="op" id="3394436">.</span><span class="ident" id="3394437"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3394439">)</span><span class="op" id="3394440">;</span>&nbsp;<span class="ident" id="3394442"><a href="/gostd/net/udpsock_posix.go.html#3394393">err</a></span>&nbsp;<span class="op" id="3394446">!=</span>&nbsp;<span class="builtintype" id="3394449">nil</span>&nbsp;<span class="op" id="3394453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3394458"><a href="/gostd/net/udpsock_posix.go.html#3394157">c</a></span><span class="op" id="3394459">.</span><span class="ident" id="3394460"><a href="/gostd/net/net.go.html#3336674">Close</a></span><span class="op" id="3394465">(</span><span class="op" id="3394466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394471">return</span>&nbsp;<span class="builtintype" id="3394478">nil</span><span class="op" id="3394481">,</span>&nbsp;<span class="op" id="3394483">&amp;</span><span class="ident" id="3394484"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3394491">{</span><span class="ident" id="3394492"><a href="/gostd/net/net.go.html#3341659">Op</a></span><span class="op" id="3394494">:</span>&nbsp;<span class="string" id="3394496">&#34;listen&#34;</span><span class="op" id="3394504">,</span>&nbsp;<span class="ident" id="3394506"><a href="/gostd/net/net.go.html#3341758">Net</a></span><span class="op" id="3394509">:</span>&nbsp;<span class="ident" id="3394511"><a href="/gostd/net/udpsock_posix.go.html#3393643">net</a></span><span class="op" id="3394514">,</span>&nbsp;<span class="ident" id="3394516"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3394520">:</span>&nbsp;<span class="op" id="3394522">&amp;</span><span class="ident" id="3394523"><a href="/gostd/net/iprawsock.go.html#3301118">IPAddr</a></span><span class="op" id="3394529">{</span><span class="ident" id="3394530"><a href="/gostd/net/iprawsock.go.html#3301135">IP</a></span><span class="op" id="3394532">:</span>&nbsp;<span class="ident" id="3394534"><a href="/gostd/net/udpsock_posix.go.html#3393671">gaddr</a></span><span class="op" id="3394539">.</span><span class="ident" id="3394540"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="3394542">}</span><span class="op" id="3394543">,</span>&nbsp;<span class="ident" id="3394545"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3394548">:</span>&nbsp;<span class="ident" id="3394550"><a href="/gostd/net/udpsock_posix.go.html#3394393">err</a></span><span class="op" id="3394553">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3394557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3394560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394563">return</span>&nbsp;<span class="ident" id="3394570"><a href="/gostd/net/udpsock_posix.go.html#3394157">c</a></span><span class="op" id="3394571">,</span>&nbsp;<span class="builtintype" id="3394573">nil</span><br>
<span class="lineno"></span><span class="op" id="3394577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="3394580">func</span>&nbsp;<span class="ident" id="3394585">listenIPv4MulticastUDP</span><span class="op" id="3394607">(</span><span class="ident" id="3394608">c</span>&nbsp;<span class="op" id="3394610">*</span><span class="ident" id="3394611"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3394618">,</span>&nbsp;<span class="ident" id="3394620">ifi</span>&nbsp;<span class="op" id="3394624">*</span><span class="ident" id="3394625"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="3394634">,</span>&nbsp;<span class="ident" id="3394636">ip</span>&nbsp;<span class="ident" id="3394639"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3394641">)</span>&nbsp;<span class="builtintype" id="3394643">error</span>&nbsp;<span class="op" id="3394649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394652">if</span>&nbsp;<span class="ident" id="3394655"><a href="/gostd/net/udpsock_posix.go.html#3394620">ifi</a></span>&nbsp;<span class="op" id="3394659">!=</span>&nbsp;<span class="builtintype" id="3394662">nil</span>&nbsp;<span class="op" id="3394666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394670">if</span>&nbsp;<span class="ident" id="3394673">err</span>&nbsp;<span class="op" id="3394677">:=</span>&nbsp;<span class="ident" id="3394680"><a href="/gostd/net/sockoptip_linux.go.html#3370964">setIPv4MulticastInterface</a></span><span class="op" id="3394705">(</span><span class="ident" id="3394706"><a href="/gostd/net/udpsock_posix.go.html#3394608">c</a></span><span class="op" id="3394707">.</span><span class="ident" id="3394708"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3394710">,</span>&nbsp;<span class="ident" id="3394712"><a href="/gostd/net/udpsock_posix.go.html#3394620">ifi</a></span><span class="op" id="3394715">)</span><span class="op" id="3394716">;</span>&nbsp;<span class="ident" id="3394718"><a href="/gostd/net/udpsock_posix.go.html#3394673">err</a></span>&nbsp;<span class="op" id="3394722">!=</span>&nbsp;<span class="builtintype" id="3394725">nil</span>&nbsp;<span class="op" id="3394729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394734">return</span>&nbsp;<span class="ident" id="3394741"><a href="/gostd/net/udpsock_posix.go.html#3394673">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3394747">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3394750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394753">if</span>&nbsp;<span class="ident" id="3394756">err</span>&nbsp;<span class="op" id="3394760">:=</span>&nbsp;<span class="ident" id="3394763"><a href="/gostd/net/sockoptip_linux.go.html#3371328">setIPv4MulticastLoopback</a></span><span class="op" id="3394787">(</span><span class="ident" id="3394788"><a href="/gostd/net/udpsock_posix.go.html#3394608">c</a></span><span class="op" id="3394789">.</span><span class="ident" id="3394790"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3394792">,</span>&nbsp;<span class="builtintype" id="3394794">false</span><span class="op" id="3394799">)</span><span class="op" id="3394800">;</span>&nbsp;<span class="ident" id="3394802"><a href="/gostd/net/udpsock_posix.go.html#3394756">err</a></span>&nbsp;<span class="op" id="3394806">!=</span>&nbsp;<span class="builtintype" id="3394809">nil</span>&nbsp;<span class="op" id="3394813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394817">return</span>&nbsp;<span class="ident" id="3394824"><a href="/gostd/net/udpsock_posix.go.html#3394756">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3394829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394832">if</span>&nbsp;<span class="ident" id="3394835">err</span>&nbsp;<span class="op" id="3394839">:=</span>&nbsp;<span class="ident" id="3394842"><a href="/gostd/net/sockoptip_posix.go.html#3371861">joinIPv4Group</a></span><span class="op" id="3394855">(</span><span class="ident" id="3394856"><a href="/gostd/net/udpsock_posix.go.html#3394608">c</a></span><span class="op" id="3394857">.</span><span class="ident" id="3394858"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3394860">,</span>&nbsp;<span class="ident" id="3394862"><a href="/gostd/net/udpsock_posix.go.html#3394620">ifi</a></span><span class="op" id="3394865">,</span>&nbsp;<span class="ident" id="3394867"><a href="/gostd/net/udpsock_posix.go.html#3394636">ip</a></span><span class="op" id="3394869">)</span><span class="op" id="3394870">;</span>&nbsp;<span class="ident" id="3394872"><a href="/gostd/net/udpsock_posix.go.html#3394835">err</a></span>&nbsp;<span class="op" id="3394876">!=</span>&nbsp;<span class="builtintype" id="3394879">nil</span>&nbsp;<span class="op" id="3394883">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394887">return</span>&nbsp;<span class="ident" id="3394894"><a href="/gostd/net/udpsock_posix.go.html#3394835">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3394899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394902">return</span>&nbsp;<span class="builtintype" id="3394909">nil</span><br>
<span class="lineno"></span><span class="op" id="3394913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="3394916">func</span>&nbsp;<span class="ident" id="3394921">listenIPv6MulticastUDP</span><span class="op" id="3394943">(</span><span class="ident" id="3394944">c</span>&nbsp;<span class="op" id="3394946">*</span><span class="ident" id="3394947"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="3394954">,</span>&nbsp;<span class="ident" id="3394956">ifi</span>&nbsp;<span class="op" id="3394960">*</span><span class="ident" id="3394961"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="3394970">,</span>&nbsp;<span class="ident" id="3394972">ip</span>&nbsp;<span class="ident" id="3394975"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3394977">)</span>&nbsp;<span class="builtintype" id="3394979">error</span>&nbsp;<span class="op" id="3394985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3394988">if</span>&nbsp;<span class="ident" id="3394991"><a href="/gostd/net/udpsock_posix.go.html#3394956">ifi</a></span>&nbsp;<span class="op" id="3394995">!=</span>&nbsp;<span class="builtintype" id="3394998">nil</span>&nbsp;<span class="op" id="3395002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3395006">if</span>&nbsp;<span class="ident" id="3395009">err</span>&nbsp;<span class="op" id="3395013">:=</span>&nbsp;<span class="ident" id="3395016"><a href="/gostd/net/sockoptip_posix.go.html#3372275">setIPv6MulticastInterface</a></span><span class="op" id="3395041">(</span><span class="ident" id="3395042"><a href="/gostd/net/udpsock_posix.go.html#3394944">c</a></span><span class="op" id="3395043">.</span><span class="ident" id="3395044"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3395046">,</span>&nbsp;<span class="ident" id="3395048"><a href="/gostd/net/udpsock_posix.go.html#3394956">ifi</a></span><span class="op" id="3395051">)</span><span class="op" id="3395052">;</span>&nbsp;<span class="ident" id="3395054"><a href="/gostd/net/udpsock_posix.go.html#3395009">err</a></span>&nbsp;<span class="op" id="3395058">!=</span>&nbsp;<span class="builtintype" id="3395061">nil</span>&nbsp;<span class="op" id="3395065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3395070">return</span>&nbsp;<span class="ident" id="3395077"><a href="/gostd/net/udpsock_posix.go.html#3395009">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3395083">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3395086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3395089">if</span>&nbsp;<span class="ident" id="3395092">err</span>&nbsp;<span class="op" id="3395096">:=</span>&nbsp;<span class="ident" id="3395099"><a href="/gostd/net/sockoptip_posix.go.html#3372589">setIPv6MulticastLoopback</a></span><span class="op" id="3395123">(</span><span class="ident" id="3395124"><a href="/gostd/net/udpsock_posix.go.html#3394944">c</a></span><span class="op" id="3395125">.</span><span class="ident" id="3395126"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3395128">,</span>&nbsp;<span class="builtintype" id="3395130">false</span><span class="op" id="3395135">)</span><span class="op" id="3395136">;</span>&nbsp;<span class="ident" id="3395138"><a href="/gostd/net/udpsock_posix.go.html#3395092">err</a></span>&nbsp;<span class="op" id="3395142">!=</span>&nbsp;<span class="builtintype" id="3395145">nil</span>&nbsp;<span class="op" id="3395149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3395153">return</span>&nbsp;<span class="ident" id="3395160"><a href="/gostd/net/udpsock_posix.go.html#3395092">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3395165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3395168">if</span>&nbsp;<span class="ident" id="3395171">err</span>&nbsp;<span class="op" id="3395175">:=</span>&nbsp;<span class="ident" id="3395178"><a href="/gostd/net/sockoptip_posix.go.html#3372858">joinIPv6Group</a></span><span class="op" id="3395191">(</span><span class="ident" id="3395192"><a href="/gostd/net/udpsock_posix.go.html#3394944">c</a></span><span class="op" id="3395193">.</span><span class="ident" id="3395194"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3395196">,</span>&nbsp;<span class="ident" id="3395198"><a href="/gostd/net/udpsock_posix.go.html#3394956">ifi</a></span><span class="op" id="3395201">,</span>&nbsp;<span class="ident" id="3395203"><a href="/gostd/net/udpsock_posix.go.html#3394972">ip</a></span><span class="op" id="3395205">)</span><span class="op" id="3395206">;</span>&nbsp;<span class="ident" id="3395208"><a href="/gostd/net/udpsock_posix.go.html#3395171">err</a></span>&nbsp;<span class="op" id="3395212">!=</span>&nbsp;<span class="builtintype" id="3395215">nil</span>&nbsp;<span class="op" id="3395219">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3395223">return</span>&nbsp;<span class="ident" id="3395230"><a href="/gostd/net/udpsock_posix.go.html#3395171">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3395235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3395238">return</span>&nbsp;<span class="builtintype" id="3395245">nil</span><br>
<span class="lineno"></span><span class="op" id="3395249">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
