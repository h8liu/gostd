<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html" class="current">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7134889">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7134944">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7134998">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7135049">package</span>&nbsp;<span class="ident" id="7135057">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135065">import</span>&nbsp;<span class="op" id="7135072">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135075">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135084">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135102">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135109">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135115">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135121">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135138">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135155">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135166">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135177">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135188">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7135203">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7135206">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="7135268">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="7135336">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="7135402">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="7135466">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7135534">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="7135598">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="7135670">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="7135741">//</span><br>
<span class="lineno">30</span><span class="comment" id="7135744">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="7135799">//</span><br>
<span class="lineno"></span><span class="comment" id="7135802">//&nbsp;&nbsp;&nbsp;&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="7135813">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7135822">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="7135832">//&nbsp;&nbsp;&nbsp;&nbsp;regexps</span><br>
<span class="lineno"></span><span class="comment" id="7135843">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7135855">//&nbsp;&nbsp;&nbsp;&nbsp;0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="7135866">//&nbsp;&nbsp;&nbsp;&nbsp;-;-</span><br>
<span class="lineno"></span><span class="comment" id="7135873">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="7135900">//&nbsp;&nbsp;&nbsp;&nbsp;-;-</span><br>
<span class="lineno"></span><span class="comment" id="7135907">//&nbsp;&nbsp;&nbsp;&nbsp;-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="7135928">//</span><br>
<span class="lineno"></span><span class="comment" id="7135931">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="7135989">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="7136046">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="7136103">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="7136166">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="7136224">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7136267">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="7136333">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="7136391">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="7136448">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="7136508">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7136565">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="7136632">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="7136697">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7136746">//</span><br>
<span class="lineno"></span><span class="comment" id="7136749">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="7136811">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="7136878">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="7136926">//</span><br>
<span class="lineno"></span><span class="comment" id="7136929">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="7136995">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="7137069">//</span><br>
<span class="lineno">65</span><span class="keyword" id="7137072">func</span>&nbsp;<span class="ident" id="7137077">TestRE2Search</span><span class="op" id="7137090">(</span><span class="ident" id="7137091">t</span>&nbsp;<span class="op" id="7137093">*</span><span class="ident" id="7137094">testing</span><span class="op" id="7137101">.</span><span class="ident" id="7137102">T</span><span class="op" id="7137103">)</span>&nbsp;<span class="op" id="7137105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137108">testRE2</span><span class="op" id="7137115">(</span><span class="ident" id="7137116">t</span><span class="op" id="7137117">,</span>&nbsp;<span class="string" id="7137119">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="7137144">)</span><br>
<span class="lineno"></span><span class="op" id="7137146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7137149">func</span>&nbsp;<span class="ident" id="7137154">testRE2</span><span class="op" id="7137161">(</span><span class="ident" id="7137162">t</span>&nbsp;<span class="op" id="7137164">*</span><span class="ident" id="7137165">testing</span><span class="op" id="7137172">.</span><span class="ident" id="7137173">T</span><span class="op" id="7137174">,</span>&nbsp;<span class="ident" id="7137176">file</span>&nbsp;<span class="builtintype" id="7137181">string</span><span class="op" id="7137187">)</span>&nbsp;<span class="op" id="7137189">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137192">f</span><span class="op" id="7137193">,</span>&nbsp;<span class="ident" id="7137195">err</span>&nbsp;<span class="op" id="7137199">:=</span>&nbsp;<span class="ident" id="7137202">os</span><span class="op" id="7137204">.</span><span class="ident" id="7137205">Open</span><span class="op" id="7137209">(</span><span class="ident" id="7137210">file</span><span class="op" id="7137214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137217">if</span>&nbsp;<span class="ident" id="7137220">err</span>&nbsp;<span class="op" id="7137224">!=</span>&nbsp;<span class="builtintype" id="7137227">nil</span>&nbsp;<span class="op" id="7137231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137235">t</span><span class="op" id="7137236">.</span><span class="ident" id="7137237">Fatal</span><span class="op" id="7137242">(</span><span class="ident" id="7137243">err</span><span class="op" id="7137246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137252">defer</span>&nbsp;<span class="ident" id="7137258">f</span><span class="op" id="7137259">.</span><span class="ident" id="7137260">Close</span><span class="op" id="7137265">(</span><span class="op" id="7137266">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137269">var</span>&nbsp;<span class="ident" id="7137273">txt</span>&nbsp;<span class="ident" id="7137277">io</span><span class="op" id="7137279">.</span><span class="ident" id="7137280">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137288">if</span>&nbsp;<span class="ident" id="7137291">strings</span><span class="op" id="7137298">.</span><span class="ident" id="7137299">HasSuffix</span><span class="op" id="7137308">(</span><span class="ident" id="7137309">file</span><span class="op" id="7137313">,</span>&nbsp;<span class="string" id="7137315">&#34;.bz2&#34;</span><span class="op" id="7137321">)</span>&nbsp;<span class="op" id="7137323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137327">z</span>&nbsp;<span class="op" id="7137329">:=</span>&nbsp;<span class="ident" id="7137332">bzip2</span><span class="op" id="7137337">.</span><span class="ident" id="7137338">NewReader</span><span class="op" id="7137347">(</span><span class="ident" id="7137348">f</span><span class="op" id="7137349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137353">txt</span>&nbsp;<span class="op" id="7137357">=</span>&nbsp;<span class="ident" id="7137359">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137363">file</span>&nbsp;<span class="op" id="7137368">=</span>&nbsp;<span class="ident" id="7137370">file</span><span class="op" id="7137374">[</span><span class="op" id="7137375">:</span><span class="builtinfunc" id="7137376">len</span><span class="op" id="7137379">(</span><span class="ident" id="7137380">file</span><span class="op" id="7137384">)</span><span class="op" id="7137385">-</span><span class="builtinfunc" id="7137386">len</span><span class="op" id="7137389">(</span><span class="string" id="7137390">&#34;.bz2&#34;</span><span class="op" id="7137396">)</span><span class="op" id="7137397">]</span>&nbsp;<span class="comment" id="7137399">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137422">}</span>&nbsp;<span class="keyword" id="7137424">else</span>&nbsp;<span class="op" id="7137429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137433">txt</span>&nbsp;<span class="op" id="7137437">=</span>&nbsp;<span class="ident" id="7137439">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137445">lineno</span>&nbsp;<span class="op" id="7137452">:=</span>&nbsp;<span class="num" id="7137455">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137458">scanner</span>&nbsp;<span class="op" id="7137466">:=</span>&nbsp;<span class="ident" id="7137469">bufio</span><span class="op" id="7137474">.</span><span class="ident" id="7137475">NewScanner</span><span class="op" id="7137485">(</span><span class="ident" id="7137486">txt</span><span class="op" id="7137489">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137492">var</span>&nbsp;<span class="op" id="7137496">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137500">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137510">[</span><span class="op" id="7137511">]</span><span class="builtintype" id="7137512">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137521">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137531">[</span><span class="op" id="7137532">]</span><span class="builtintype" id="7137533">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137542">inStrings</span>&nbsp;<span class="builtintype" id="7137552">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137559">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137569">*</span><span class="ident" id="7137570">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137579">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137589">*</span><span class="ident" id="7137590">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137599">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7137609">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137615">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7137625">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137633">for</span>&nbsp;<span class="ident" id="7137637">lineno</span>&nbsp;<span class="op" id="7137644">:=</span>&nbsp;<span class="num" id="7137647">1</span><span class="op" id="7137648">;</span>&nbsp;<span class="ident" id="7137650">scanner</span><span class="op" id="7137657">.</span><span class="ident" id="7137658">Scan</span><span class="op" id="7137662">(</span><span class="op" id="7137663">)</span><span class="op" id="7137664">;</span>&nbsp;<span class="ident" id="7137666">lineno</span><span class="op" id="7137672">++</span>&nbsp;<span class="op" id="7137675">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137679">line</span>&nbsp;<span class="op" id="7137684">:=</span>&nbsp;<span class="ident" id="7137687">scanner</span><span class="op" id="7137694">.</span><span class="ident" id="7137695">Text</span><span class="op" id="7137699">(</span><span class="op" id="7137700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137704">switch</span>&nbsp;<span class="op" id="7137711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137715">case</span>&nbsp;<span class="ident" id="7137720">line</span>&nbsp;<span class="op" id="7137725">==</span>&nbsp;<span class="string" id="7137728">&#34;&#34;</span><span class="op" id="7137730">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137735">t</span><span class="op" id="7137736">.</span><span class="ident" id="7137737">Fatalf</span><span class="op" id="7137743">(</span><span class="string" id="7137744">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="7137774">,</span>&nbsp;<span class="ident" id="7137776">file</span><span class="op" id="7137780">,</span>&nbsp;<span class="ident" id="7137782">lineno</span><span class="op" id="7137788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137792">case</span>&nbsp;<span class="ident" id="7137797">line</span><span class="op" id="7137801">[</span><span class="num" id="7137802">0</span><span class="op" id="7137803">]</span>&nbsp;<span class="op" id="7137805">==</span>&nbsp;<span class="string" id="7137808">&#39;#&#39;</span><span class="op" id="7137811">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137816">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137827">case</span>&nbsp;<span class="string" id="7137832">&#39;A&#39;</span>&nbsp;<span class="op" id="7137836">&lt;=</span>&nbsp;<span class="ident" id="7137839">line</span><span class="op" id="7137843">[</span><span class="num" id="7137844">0</span><span class="op" id="7137845">]</span>&nbsp;<span class="op" id="7137847">&amp;&amp;</span>&nbsp;<span class="ident" id="7137850">line</span><span class="op" id="7137854">[</span><span class="num" id="7137855">0</span><span class="op" id="7137856">]</span>&nbsp;<span class="op" id="7137858">&lt;=</span>&nbsp;<span class="string" id="7137861">&#39;Z&#39;</span><span class="op" id="7137864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7137869">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137886">t</span><span class="op" id="7137887">.</span><span class="ident" id="7137888">Logf</span><span class="op" id="7137892">(</span><span class="string" id="7137893">&#34;%s\n&#34;</span><span class="op" id="7137899">,</span>&nbsp;<span class="ident" id="7137901">line</span><span class="op" id="7137905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137910">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137921">case</span>&nbsp;<span class="ident" id="7137926">line</span>&nbsp;<span class="op" id="7137931">==</span>&nbsp;<span class="string" id="7137934">&#34;strings&#34;</span><span class="op" id="7137943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137948">str</span>&nbsp;<span class="op" id="7137952">=</span>&nbsp;<span class="ident" id="7137954">str</span><span class="op" id="7137957">[</span><span class="op" id="7137958">:</span><span class="num" id="7137959">0</span><span class="op" id="7137960">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137965">inStrings</span>&nbsp;<span class="op" id="7137975">=</span>&nbsp;<span class="builtintype" id="7137977">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137984">case</span>&nbsp;<span class="ident" id="7137989">line</span>&nbsp;<span class="op" id="7137994">==</span>&nbsp;<span class="string" id="7137997">&#34;regexps&#34;</span><span class="op" id="7138006">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138011">inStrings</span>&nbsp;<span class="op" id="7138021">=</span>&nbsp;<span class="builtintype" id="7138023">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138031">case</span>&nbsp;<span class="ident" id="7138036">line</span><span class="op" id="7138040">[</span><span class="num" id="7138041">0</span><span class="op" id="7138042">]</span>&nbsp;<span class="op" id="7138044">==</span>&nbsp;<span class="string" id="7138047">&#39;&#34;&#39;</span><span class="op" id="7138050">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138055">q</span><span class="op" id="7138056">,</span>&nbsp;<span class="ident" id="7138058">err</span>&nbsp;<span class="op" id="7138062">:=</span>&nbsp;<span class="ident" id="7138065">strconv</span><span class="op" id="7138072">.</span><span class="ident" id="7138073">Unquote</span><span class="op" id="7138080">(</span><span class="ident" id="7138081">line</span><span class="op" id="7138085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138090">if</span>&nbsp;<span class="ident" id="7138093">err</span>&nbsp;<span class="op" id="7138097">!=</span>&nbsp;<span class="builtintype" id="7138100">nil</span>&nbsp;<span class="op" id="7138104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7138110">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138154">t</span><span class="op" id="7138155">.</span><span class="ident" id="7138156">Fatalf</span><span class="op" id="7138162">(</span><span class="string" id="7138163">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7138186">,</span>&nbsp;<span class="ident" id="7138188">file</span><span class="op" id="7138192">,</span>&nbsp;<span class="ident" id="7138194">lineno</span><span class="op" id="7138200">,</span>&nbsp;<span class="ident" id="7138202">line</span><span class="op" id="7138206">,</span>&nbsp;<span class="ident" id="7138208">err</span><span class="op" id="7138211">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138221">if</span>&nbsp;<span class="ident" id="7138224">inStrings</span>&nbsp;<span class="op" id="7138234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138240">str</span>&nbsp;<span class="op" id="7138244">=</span>&nbsp;<span class="builtinfunc" id="7138246">append</span><span class="op" id="7138252">(</span><span class="ident" id="7138253">str</span><span class="op" id="7138256">,</span>&nbsp;<span class="ident" id="7138258">q</span><span class="op" id="7138259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138265">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138277">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7138282">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138301">if</span>&nbsp;<span class="builtinfunc" id="7138304">len</span><span class="op" id="7138307">(</span><span class="ident" id="7138308">input</span><span class="op" id="7138313">)</span>&nbsp;<span class="op" id="7138315">!=</span>&nbsp;<span class="num" id="7138318">0</span>&nbsp;<span class="op" id="7138320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138326">t</span><span class="op" id="7138327">.</span><span class="ident" id="7138328">Fatalf</span><span class="op" id="7138334">(</span><span class="string" id="7138335">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="7138388">,</span>&nbsp;<span class="ident" id="7138390">file</span><span class="op" id="7138394">,</span>&nbsp;<span class="ident" id="7138396">lineno</span><span class="op" id="7138402">,</span>&nbsp;<span class="builtinfunc" id="7138404">len</span><span class="op" id="7138407">(</span><span class="ident" id="7138408">input</span><span class="op" id="7138413">)</span><span class="op" id="7138414">,</span>&nbsp;<span class="ident" id="7138416">q</span><span class="op" id="7138417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138427">re</span><span class="op" id="7138429">,</span>&nbsp;<span class="ident" id="7138431">err</span>&nbsp;<span class="op" id="7138435">=</span>&nbsp;<span class="ident" id="7138437">tryCompile</span><span class="op" id="7138447">(</span><span class="ident" id="7138448">q</span><span class="op" id="7138449">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138454">if</span>&nbsp;<span class="ident" id="7138457">err</span>&nbsp;<span class="op" id="7138461">!=</span>&nbsp;<span class="builtintype" id="7138464">nil</span>&nbsp;<span class="op" id="7138468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138474">if</span>&nbsp;<span class="ident" id="7138477">err</span><span class="op" id="7138480">.</span><span class="ident" id="7138481">Error</span><span class="op" id="7138486">(</span><span class="op" id="7138487">)</span>&nbsp;<span class="op" id="7138489">==</span>&nbsp;<span class="string" id="7138492">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="7138547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7138554">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138617">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138630">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138636">t</span><span class="op" id="7138637">.</span><span class="ident" id="7138638">Errorf</span><span class="op" id="7138644">(</span><span class="string" id="7138645">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7138669">,</span>&nbsp;<span class="ident" id="7138671">file</span><span class="op" id="7138675">,</span>&nbsp;<span class="ident" id="7138677">lineno</span><span class="op" id="7138683">,</span>&nbsp;<span class="ident" id="7138685">q</span><span class="op" id="7138686">,</span>&nbsp;<span class="ident" id="7138688">err</span><span class="op" id="7138691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138697">if</span>&nbsp;<span class="ident" id="7138700">nfail</span><span class="op" id="7138705">++</span><span class="op" id="7138707">;</span>&nbsp;<span class="ident" id="7138709">nfail</span>&nbsp;<span class="op" id="7138715">&gt;=</span>&nbsp;<span class="num" id="7138718">100</span>&nbsp;<span class="op" id="7138722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138729">t</span><span class="op" id="7138730">.</span><span class="ident" id="7138731">Fatalf</span><span class="op" id="7138737">(</span><span class="string" id="7138738">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7138764">,</span>&nbsp;<span class="ident" id="7138766">nfail</span><span class="op" id="7138771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138783">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138800">full</span>&nbsp;<span class="op" id="7138805">:=</span>&nbsp;<span class="string" id="7138808">`\A(?:`</span>&nbsp;<span class="op" id="7138816">+</span>&nbsp;<span class="ident" id="7138818">q</span>&nbsp;<span class="op" id="7138820">+</span>&nbsp;<span class="string" id="7138822">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138831">refull</span><span class="op" id="7138837">,</span>&nbsp;<span class="ident" id="7138839">err</span>&nbsp;<span class="op" id="7138843">=</span>&nbsp;<span class="ident" id="7138845">tryCompile</span><span class="op" id="7138855">(</span><span class="ident" id="7138856">full</span><span class="op" id="7138860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138865">if</span>&nbsp;<span class="ident" id="7138868">err</span>&nbsp;<span class="op" id="7138872">!=</span>&nbsp;<span class="builtintype" id="7138875">nil</span>&nbsp;<span class="op" id="7138879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7138885">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138944">t</span><span class="op" id="7138945">.</span><span class="ident" id="7138946">Fatalf</span><span class="op" id="7138952">(</span><span class="string" id="7138953">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7138982">,</span>&nbsp;<span class="ident" id="7138984">file</span><span class="op" id="7138988">,</span>&nbsp;<span class="ident" id="7138990">lineno</span><span class="op" id="7138996">,</span>&nbsp;<span class="ident" id="7138998">full</span><span class="op" id="7139002">,</span>&nbsp;<span class="ident" id="7139004">err</span><span class="op" id="7139007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7139012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139017">input</span>&nbsp;<span class="op" id="7139023">=</span>&nbsp;<span class="ident" id="7139025">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139031">case</span>&nbsp;<span class="ident" id="7139036">line</span><span class="op" id="7139040">[</span><span class="num" id="7139041">0</span><span class="op" id="7139042">]</span>&nbsp;<span class="op" id="7139044">==</span>&nbsp;<span class="string" id="7139047">&#39;-&#39;</span>&nbsp;<span class="op" id="7139051">||</span>&nbsp;<span class="string" id="7139054">&#39;0&#39;</span>&nbsp;<span class="op" id="7139058">&lt;=</span>&nbsp;<span class="ident" id="7139061">line</span><span class="op" id="7139065">[</span><span class="num" id="7139066">0</span><span class="op" id="7139067">]</span>&nbsp;<span class="op" id="7139069">&amp;&amp;</span>&nbsp;<span class="ident" id="7139072">line</span><span class="op" id="7139076">[</span><span class="num" id="7139077">0</span><span class="op" id="7139078">]</span>&nbsp;<span class="op" id="7139080">&lt;=</span>&nbsp;<span class="string" id="7139083">&#39;9&#39;</span><span class="op" id="7139086">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7139091">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139126">ncase</span><span class="op" id="7139131">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139137">if</span>&nbsp;<span class="ident" id="7139140">re</span>&nbsp;<span class="op" id="7139143">==</span>&nbsp;<span class="builtintype" id="7139146">nil</span>&nbsp;<span class="op" id="7139150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7139156">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139196">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7139208">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139213">if</span>&nbsp;<span class="builtinfunc" id="7139216">len</span><span class="op" id="7139219">(</span><span class="ident" id="7139220">input</span><span class="op" id="7139225">)</span>&nbsp;<span class="op" id="7139227">==</span>&nbsp;<span class="num" id="7139230">0</span>&nbsp;<span class="op" id="7139232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139238">t</span><span class="op" id="7139239">.</span><span class="ident" id="7139240">Fatalf</span><span class="op" id="7139246">(</span><span class="string" id="7139247">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="7139287">,</span>&nbsp;<span class="ident" id="7139289">file</span><span class="op" id="7139293">,</span>&nbsp;<span class="ident" id="7139295">lineno</span><span class="op" id="7139301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7139306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139311">var</span>&nbsp;<span class="ident" id="7139315">text</span>&nbsp;<span class="builtintype" id="7139320">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139330">text</span><span class="op" id="7139334">,</span>&nbsp;<span class="ident" id="7139336">input</span>&nbsp;<span class="op" id="7139342">=</span>&nbsp;<span class="ident" id="7139344">input</span><span class="op" id="7139349">[</span><span class="num" id="7139350">0</span><span class="op" id="7139351">]</span><span class="op" id="7139352">,</span>&nbsp;<span class="ident" id="7139354">input</span><span class="op" id="7139359">[</span><span class="num" id="7139360">1</span><span class="op" id="7139361">:</span><span class="op" id="7139362">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139367">if</span>&nbsp;<span class="op" id="7139370">!</span><span class="ident" id="7139371">isSingleBytes</span><span class="op" id="7139384">(</span><span class="ident" id="7139385">text</span><span class="op" id="7139389">)</span>&nbsp;<span class="op" id="7139391">&amp;&amp;</span>&nbsp;<span class="ident" id="7139394">strings</span><span class="op" id="7139401">.</span><span class="ident" id="7139402">Contains</span><span class="op" id="7139410">(</span><span class="ident" id="7139411">re</span><span class="op" id="7139413">.</span><span class="ident" id="7139414">String</span><span class="op" id="7139420">(</span><span class="op" id="7139421">)</span><span class="op" id="7139422">,</span>&nbsp;<span class="string" id="7139424">`\B`</span><span class="op" id="7139428">)</span>&nbsp;<span class="op" id="7139430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7139436">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7139483">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7139528">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7139576">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7139627">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139670">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7139682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139687">res</span>&nbsp;<span class="op" id="7139691">:=</span>&nbsp;<span class="ident" id="7139694">strings</span><span class="op" id="7139701">.</span><span class="ident" id="7139702">Split</span><span class="op" id="7139707">(</span><span class="ident" id="7139708">line</span><span class="op" id="7139712">,</span>&nbsp;<span class="string" id="7139714">&#34;;&#34;</span><span class="op" id="7139717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139722">if</span>&nbsp;<span class="builtinfunc" id="7139725">len</span><span class="op" id="7139728">(</span><span class="ident" id="7139729">res</span><span class="op" id="7139732">)</span>&nbsp;<span class="op" id="7139734">!=</span>&nbsp;<span class="builtinfunc" id="7139737">len</span><span class="op" id="7139740">(</span><span class="ident" id="7139741">run</span><span class="op" id="7139744">)</span>&nbsp;<span class="op" id="7139746">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139752">t</span><span class="op" id="7139753">.</span><span class="ident" id="7139754">Fatalf</span><span class="op" id="7139760">(</span><span class="string" id="7139761">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7139799">,</span>&nbsp;<span class="ident" id="7139801">file</span><span class="op" id="7139805">,</span>&nbsp;<span class="ident" id="7139807">lineno</span><span class="op" id="7139813">,</span>&nbsp;<span class="builtinfunc" id="7139815">len</span><span class="op" id="7139818">(</span><span class="ident" id="7139819">res</span><span class="op" id="7139822">)</span><span class="op" id="7139823">,</span>&nbsp;<span class="builtinfunc" id="7139825">len</span><span class="op" id="7139828">(</span><span class="ident" id="7139829">run</span><span class="op" id="7139832">)</span><span class="op" id="7139833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7139838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139843">for</span>&nbsp;<span class="ident" id="7139847">i</span>&nbsp;<span class="op" id="7139849">:=</span>&nbsp;<span class="keyword" id="7139852">range</span>&nbsp;<span class="ident" id="7139858">res</span>&nbsp;<span class="op" id="7139862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139868">have</span><span class="op" id="7139872">,</span>&nbsp;<span class="ident" id="7139874">suffix</span>&nbsp;<span class="op" id="7139881">:=</span>&nbsp;<span class="ident" id="7139884">run</span><span class="op" id="7139887">[</span><span class="ident" id="7139888">i</span><span class="op" id="7139889">]</span><span class="op" id="7139890">(</span><span class="ident" id="7139891">re</span><span class="op" id="7139893">,</span>&nbsp;<span class="ident" id="7139895">refull</span><span class="op" id="7139901">,</span>&nbsp;<span class="ident" id="7139903">text</span><span class="op" id="7139907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139913">want</span>&nbsp;<span class="op" id="7139918">:=</span>&nbsp;<span class="ident" id="7139921">parseResult</span><span class="op" id="7139932">(</span><span class="ident" id="7139933">t</span><span class="op" id="7139934">,</span>&nbsp;<span class="ident" id="7139936">file</span><span class="op" id="7139940">,</span>&nbsp;<span class="ident" id="7139942">lineno</span><span class="op" id="7139948">,</span>&nbsp;<span class="ident" id="7139950">res</span><span class="op" id="7139953">[</span><span class="ident" id="7139954">i</span><span class="op" id="7139955">]</span><span class="op" id="7139956">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7139962">if</span>&nbsp;<span class="op" id="7139965">!</span><span class="ident" id="7139966">same</span><span class="op" id="7139970">(</span><span class="ident" id="7139971">have</span><span class="op" id="7139975">,</span>&nbsp;<span class="ident" id="7139977">want</span><span class="op" id="7139981">)</span>&nbsp;<span class="op" id="7139983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7139990">t</span><span class="op" id="7139991">.</span><span class="ident" id="7139992">Errorf</span><span class="op" id="7139998">(</span><span class="string" id="7139999">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7140050">,</span>&nbsp;<span class="ident" id="7140052">file</span><span class="op" id="7140056">,</span>&nbsp;<span class="ident" id="7140058">lineno</span><span class="op" id="7140064">,</span>&nbsp;<span class="ident" id="7140066">re</span><span class="op" id="7140068">,</span>&nbsp;<span class="ident" id="7140070">suffix</span><span class="op" id="7140076">,</span>&nbsp;<span class="ident" id="7140078">text</span><span class="op" id="7140082">,</span>&nbsp;<span class="ident" id="7140084">have</span><span class="op" id="7140088">,</span>&nbsp;<span class="ident" id="7140090">want</span><span class="op" id="7140094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7140101">if</span>&nbsp;<span class="ident" id="7140104">nfail</span><span class="op" id="7140109">++</span><span class="op" id="7140111">;</span>&nbsp;<span class="ident" id="7140113">nfail</span>&nbsp;<span class="op" id="7140119">&gt;=</span>&nbsp;<span class="num" id="7140122">100</span>&nbsp;<span class="op" id="7140126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140134">t</span><span class="op" id="7140135">.</span><span class="ident" id="7140136">Fatalf</span><span class="op" id="7140142">(</span><span class="string" id="7140143">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7140169">,</span>&nbsp;<span class="ident" id="7140171">nfail</span><span class="op" id="7140176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140183">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7140190">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140209">b</span><span class="op" id="7140210">,</span>&nbsp;<span class="ident" id="7140212">suffix</span>&nbsp;<span class="op" id="7140219">:=</span>&nbsp;<span class="ident" id="7140222">match</span><span class="op" id="7140227">[</span><span class="ident" id="7140228">i</span><span class="op" id="7140229">]</span><span class="op" id="7140230">(</span><span class="ident" id="7140231">re</span><span class="op" id="7140233">,</span>&nbsp;<span class="ident" id="7140235">refull</span><span class="op" id="7140241">,</span>&nbsp;<span class="ident" id="7140243">text</span><span class="op" id="7140247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7140253">if</span>&nbsp;<span class="ident" id="7140256">b</span>&nbsp;<span class="op" id="7140258">!=</span>&nbsp;<span class="op" id="7140261">(</span><span class="ident" id="7140262">want</span>&nbsp;<span class="op" id="7140267">!=</span>&nbsp;<span class="builtintype" id="7140270">nil</span><span class="op" id="7140273">)</span>&nbsp;<span class="op" id="7140275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140282">t</span><span class="op" id="7140283">.</span><span class="ident" id="7140284">Errorf</span><span class="op" id="7140290">(</span><span class="string" id="7140291">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7140336">,</span>&nbsp;<span class="ident" id="7140338">file</span><span class="op" id="7140342">,</span>&nbsp;<span class="ident" id="7140344">lineno</span><span class="op" id="7140350">,</span>&nbsp;<span class="ident" id="7140352">re</span><span class="op" id="7140354">,</span>&nbsp;<span class="ident" id="7140356">suffix</span><span class="op" id="7140362">,</span>&nbsp;<span class="ident" id="7140364">text</span><span class="op" id="7140368">,</span>&nbsp;<span class="ident" id="7140370">b</span><span class="op" id="7140371">,</span>&nbsp;<span class="op" id="7140373">!</span><span class="ident" id="7140374">b</span><span class="op" id="7140375">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7140382">if</span>&nbsp;<span class="ident" id="7140385">nfail</span><span class="op" id="7140390">++</span><span class="op" id="7140392">;</span>&nbsp;<span class="ident" id="7140394">nfail</span>&nbsp;<span class="op" id="7140400">&gt;=</span>&nbsp;<span class="num" id="7140403">100</span>&nbsp;<span class="op" id="7140407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140415">t</span><span class="op" id="7140416">.</span><span class="ident" id="7140417">Fatalf</span><span class="op" id="7140423">(</span><span class="string" id="7140424">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7140450">,</span>&nbsp;<span class="ident" id="7140452">nfail</span><span class="op" id="7140457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7140471">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140484">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7140494">default</span><span class="op" id="7140501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140506">t</span><span class="op" id="7140507">.</span><span class="ident" id="7140508">Fatalf</span><span class="op" id="7140514">(</span><span class="string" id="7140515">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="7140541">,</span>&nbsp;<span class="ident" id="7140543">file</span><span class="op" id="7140547">,</span>&nbsp;<span class="ident" id="7140549">lineno</span><span class="op" id="7140555">,</span>&nbsp;<span class="ident" id="7140557">line</span><span class="op" id="7140561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140565">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7140571">if</span>&nbsp;<span class="ident" id="7140574">err</span>&nbsp;<span class="op" id="7140578">:=</span>&nbsp;<span class="ident" id="7140581">scanner</span><span class="op" id="7140588">.</span><span class="ident" id="7140589">Err</span><span class="op" id="7140592">(</span><span class="op" id="7140593">)</span><span class="op" id="7140594">;</span>&nbsp;<span class="ident" id="7140596">err</span>&nbsp;<span class="op" id="7140600">!=</span>&nbsp;<span class="builtintype" id="7140603">nil</span>&nbsp;<span class="op" id="7140607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140611">t</span><span class="op" id="7140612">.</span><span class="ident" id="7140613">Fatalf</span><span class="op" id="7140619">(</span><span class="string" id="7140620">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7140631">,</span>&nbsp;<span class="ident" id="7140633">file</span><span class="op" id="7140637">,</span>&nbsp;<span class="ident" id="7140639">lineno</span><span class="op" id="7140645">,</span>&nbsp;<span class="ident" id="7140647">err</span><span class="op" id="7140650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7140656">if</span>&nbsp;<span class="builtinfunc" id="7140659">len</span><span class="op" id="7140662">(</span><span class="ident" id="7140663">input</span><span class="op" id="7140668">)</span>&nbsp;<span class="op" id="7140670">!=</span>&nbsp;<span class="num" id="7140673">0</span>&nbsp;<span class="op" id="7140675">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140679">t</span><span class="op" id="7140680">.</span><span class="ident" id="7140681">Fatalf</span><span class="op" id="7140687">(</span><span class="string" id="7140688">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="7140737">,</span>&nbsp;<span class="ident" id="7140739">file</span><span class="op" id="7140743">,</span>&nbsp;<span class="ident" id="7140745">lineno</span><span class="op" id="7140751">,</span>&nbsp;<span class="builtinfunc" id="7140753">len</span><span class="op" id="7140756">(</span><span class="ident" id="7140757">input</span><span class="op" id="7140762">)</span><span class="op" id="7140763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140769">t</span><span class="op" id="7140770">.</span><span class="ident" id="7140771">Logf</span><span class="op" id="7140775">(</span><span class="string" id="7140776">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="7140793">,</span>&nbsp;<span class="ident" id="7140795">ncase</span><span class="op" id="7140800">)</span><br>
<span class="lineno"></span><span class="op" id="7140802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="7140805">var</span>&nbsp;<span class="ident" id="7140809">run</span>&nbsp;<span class="op" id="7140813">=</span>&nbsp;<span class="op" id="7140815">[</span><span class="op" id="7140816">]</span><span class="keyword" id="7140817">func</span><span class="op" id="7140821">(</span><span class="op" id="7140822">*</span><span class="ident" id="7140823">Regexp</span><span class="op" id="7140829">,</span>&nbsp;<span class="op" id="7140831">*</span><span class="ident" id="7140832">Regexp</span><span class="op" id="7140838">,</span>&nbsp;<span class="builtintype" id="7140840">string</span><span class="op" id="7140846">)</span>&nbsp;<span class="op" id="7140848">(</span><span class="op" id="7140849">[</span><span class="op" id="7140850">]</span><span class="builtintype" id="7140851">int</span><span class="op" id="7140854">,</span>&nbsp;<span class="builtintype" id="7140856">string</span><span class="op" id="7140862">)</span><span class="op" id="7140863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140866">runFull</span><span class="op" id="7140873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140876">runPartial</span><span class="op" id="7140886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140889">runFullLongest</span><span class="op" id="7140903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140906">runPartialLongest</span><span class="op" id="7140923">,</span><br>
<span class="lineno">205</span><span class="op" id="7140925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7140928">func</span>&nbsp;<span class="ident" id="7140933">runFull</span><span class="op" id="7140940">(</span><span class="ident" id="7140941">re</span><span class="op" id="7140943">,</span>&nbsp;<span class="ident" id="7140945">refull</span>&nbsp;<span class="op" id="7140952">*</span><span class="ident" id="7140953">Regexp</span><span class="op" id="7140959">,</span>&nbsp;<span class="ident" id="7140961">text</span>&nbsp;<span class="builtintype" id="7140966">string</span><span class="op" id="7140972">)</span>&nbsp;<span class="op" id="7140974">(</span><span class="op" id="7140975">[</span><span class="op" id="7140976">]</span><span class="builtintype" id="7140977">int</span><span class="op" id="7140980">,</span>&nbsp;<span class="builtintype" id="7140982">string</span><span class="op" id="7140988">)</span>&nbsp;<span class="op" id="7140990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140993">refull</span><span class="op" id="7140999">.</span><span class="ident" id="7141000">longest</span>&nbsp;<span class="op" id="7141008">=</span>&nbsp;<span class="builtintype" id="7141010">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7141017">return</span>&nbsp;<span class="ident" id="7141024">refull</span><span class="op" id="7141030">.</span><span class="ident" id="7141031">FindStringSubmatchIndex</span><span class="op" id="7141054">(</span><span class="ident" id="7141055">text</span><span class="op" id="7141059">)</span><span class="op" id="7141060">,</span>&nbsp;<span class="string" id="7141062">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="7141071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7141074">func</span>&nbsp;<span class="ident" id="7141079">runPartial</span><span class="op" id="7141089">(</span><span class="ident" id="7141090">re</span><span class="op" id="7141092">,</span>&nbsp;<span class="ident" id="7141094">refull</span>&nbsp;<span class="op" id="7141101">*</span><span class="ident" id="7141102">Regexp</span><span class="op" id="7141108">,</span>&nbsp;<span class="ident" id="7141110">text</span>&nbsp;<span class="builtintype" id="7141115">string</span><span class="op" id="7141121">)</span>&nbsp;<span class="op" id="7141123">(</span><span class="op" id="7141124">[</span><span class="op" id="7141125">]</span><span class="builtintype" id="7141126">int</span><span class="op" id="7141129">,</span>&nbsp;<span class="builtintype" id="7141131">string</span><span class="op" id="7141137">)</span>&nbsp;<span class="op" id="7141139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141142">re</span><span class="op" id="7141144">.</span><span class="ident" id="7141145">longest</span>&nbsp;<span class="op" id="7141153">=</span>&nbsp;<span class="builtintype" id="7141155">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7141162">return</span>&nbsp;<span class="ident" id="7141169">re</span><span class="op" id="7141171">.</span><span class="ident" id="7141172">FindStringSubmatchIndex</span><span class="op" id="7141195">(</span><span class="ident" id="7141196">text</span><span class="op" id="7141200">)</span><span class="op" id="7141201">,</span>&nbsp;<span class="string" id="7141203">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="7141206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7141209">func</span>&nbsp;<span class="ident" id="7141214">runFullLongest</span><span class="op" id="7141228">(</span><span class="ident" id="7141229">re</span><span class="op" id="7141231">,</span>&nbsp;<span class="ident" id="7141233">refull</span>&nbsp;<span class="op" id="7141240">*</span><span class="ident" id="7141241">Regexp</span><span class="op" id="7141247">,</span>&nbsp;<span class="ident" id="7141249">text</span>&nbsp;<span class="builtintype" id="7141254">string</span><span class="op" id="7141260">)</span>&nbsp;<span class="op" id="7141262">(</span><span class="op" id="7141263">[</span><span class="op" id="7141264">]</span><span class="builtintype" id="7141265">int</span><span class="op" id="7141268">,</span>&nbsp;<span class="builtintype" id="7141270">string</span><span class="op" id="7141276">)</span>&nbsp;<span class="op" id="7141278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141281">refull</span><span class="op" id="7141287">.</span><span class="ident" id="7141288">longest</span>&nbsp;<span class="op" id="7141296">=</span>&nbsp;<span class="builtintype" id="7141298">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7141304">return</span>&nbsp;<span class="ident" id="7141311">refull</span><span class="op" id="7141317">.</span><span class="ident" id="7141318">FindStringSubmatchIndex</span><span class="op" id="7141341">(</span><span class="ident" id="7141342">text</span><span class="op" id="7141346">)</span><span class="op" id="7141347">,</span>&nbsp;<span class="string" id="7141349">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="7141366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7141369">func</span>&nbsp;<span class="ident" id="7141374">runPartialLongest</span><span class="op" id="7141391">(</span><span class="ident" id="7141392">re</span><span class="op" id="7141394">,</span>&nbsp;<span class="ident" id="7141396">refull</span>&nbsp;<span class="op" id="7141403">*</span><span class="ident" id="7141404">Regexp</span><span class="op" id="7141410">,</span>&nbsp;<span class="ident" id="7141412">text</span>&nbsp;<span class="builtintype" id="7141417">string</span><span class="op" id="7141423">)</span>&nbsp;<span class="op" id="7141425">(</span><span class="op" id="7141426">[</span><span class="op" id="7141427">]</span><span class="builtintype" id="7141428">int</span><span class="op" id="7141431">,</span>&nbsp;<span class="builtintype" id="7141433">string</span><span class="op" id="7141439">)</span>&nbsp;<span class="op" id="7141441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141444">re</span><span class="op" id="7141446">.</span><span class="ident" id="7141447">longest</span>&nbsp;<span class="op" id="7141455">=</span>&nbsp;<span class="builtintype" id="7141457">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7141463">return</span>&nbsp;<span class="ident" id="7141470">re</span><span class="op" id="7141472">.</span><span class="ident" id="7141473">FindStringSubmatchIndex</span><span class="op" id="7141496">(</span><span class="ident" id="7141497">text</span><span class="op" id="7141501">)</span><span class="op" id="7141502">,</span>&nbsp;<span class="string" id="7141504">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="7141516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7141519">var</span>&nbsp;<span class="ident" id="7141523">match</span>&nbsp;<span class="op" id="7141529">=</span>&nbsp;<span class="op" id="7141531">[</span><span class="op" id="7141532">]</span><span class="keyword" id="7141533">func</span><span class="op" id="7141537">(</span><span class="op" id="7141538">*</span><span class="ident" id="7141539">Regexp</span><span class="op" id="7141545">,</span>&nbsp;<span class="op" id="7141547">*</span><span class="ident" id="7141548">Regexp</span><span class="op" id="7141554">,</span>&nbsp;<span class="builtintype" id="7141556">string</span><span class="op" id="7141562">)</span>&nbsp;<span class="op" id="7141564">(</span><span class="builtintype" id="7141565">bool</span><span class="op" id="7141569">,</span>&nbsp;<span class="builtintype" id="7141571">string</span><span class="op" id="7141577">)</span><span class="op" id="7141578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141581">matchFull</span><span class="op" id="7141590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141593">matchPartial</span><span class="op" id="7141605">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141608">matchFullLongest</span><span class="op" id="7141624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141627">matchPartialLongest</span><span class="op" id="7141646">,</span><br>
<span class="lineno"></span><span class="op" id="7141648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7141651">func</span>&nbsp;<span class="ident" id="7141656">matchFull</span><span class="op" id="7141665">(</span><span class="ident" id="7141666">re</span><span class="op" id="7141668">,</span>&nbsp;<span class="ident" id="7141670">refull</span>&nbsp;<span class="op" id="7141677">*</span><span class="ident" id="7141678">Regexp</span><span class="op" id="7141684">,</span>&nbsp;<span class="ident" id="7141686">text</span>&nbsp;<span class="builtintype" id="7141691">string</span><span class="op" id="7141697">)</span>&nbsp;<span class="op" id="7141699">(</span><span class="builtintype" id="7141700">bool</span><span class="op" id="7141704">,</span>&nbsp;<span class="builtintype" id="7141706">string</span><span class="op" id="7141712">)</span>&nbsp;<span class="op" id="7141714">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141717">refull</span><span class="op" id="7141723">.</span><span class="ident" id="7141724">longest</span>&nbsp;<span class="op" id="7141732">=</span>&nbsp;<span class="builtintype" id="7141734">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7141741">return</span>&nbsp;<span class="ident" id="7141748">refull</span><span class="op" id="7141754">.</span><span class="ident" id="7141755">MatchString</span><span class="op" id="7141766">(</span><span class="ident" id="7141767">text</span><span class="op" id="7141771">)</span><span class="op" id="7141772">,</span>&nbsp;<span class="string" id="7141774">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7141783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7141786">func</span>&nbsp;<span class="ident" id="7141791">matchPartial</span><span class="op" id="7141803">(</span><span class="ident" id="7141804">re</span><span class="op" id="7141806">,</span>&nbsp;<span class="ident" id="7141808">refull</span>&nbsp;<span class="op" id="7141815">*</span><span class="ident" id="7141816">Regexp</span><span class="op" id="7141822">,</span>&nbsp;<span class="ident" id="7141824">text</span>&nbsp;<span class="builtintype" id="7141829">string</span><span class="op" id="7141835">)</span>&nbsp;<span class="op" id="7141837">(</span><span class="builtintype" id="7141838">bool</span><span class="op" id="7141842">,</span>&nbsp;<span class="builtintype" id="7141844">string</span><span class="op" id="7141850">)</span>&nbsp;<span class="op" id="7141852">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141855">re</span><span class="op" id="7141857">.</span><span class="ident" id="7141858">longest</span>&nbsp;<span class="op" id="7141866">=</span>&nbsp;<span class="builtintype" id="7141868">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7141875">return</span>&nbsp;<span class="ident" id="7141882">re</span><span class="op" id="7141884">.</span><span class="ident" id="7141885">MatchString</span><span class="op" id="7141896">(</span><span class="ident" id="7141897">text</span><span class="op" id="7141901">)</span><span class="op" id="7141902">,</span>&nbsp;<span class="string" id="7141904">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7141907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7141910">func</span>&nbsp;<span class="ident" id="7141915">matchFullLongest</span><span class="op" id="7141931">(</span><span class="ident" id="7141932">re</span><span class="op" id="7141934">,</span>&nbsp;<span class="ident" id="7141936">refull</span>&nbsp;<span class="op" id="7141943">*</span><span class="ident" id="7141944">Regexp</span><span class="op" id="7141950">,</span>&nbsp;<span class="ident" id="7141952">text</span>&nbsp;<span class="builtintype" id="7141957">string</span><span class="op" id="7141963">)</span>&nbsp;<span class="op" id="7141965">(</span><span class="builtintype" id="7141966">bool</span><span class="op" id="7141970">,</span>&nbsp;<span class="builtintype" id="7141972">string</span><span class="op" id="7141978">)</span>&nbsp;<span class="op" id="7141980">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7141983">refull</span><span class="op" id="7141989">.</span><span class="ident" id="7141990">longest</span>&nbsp;<span class="op" id="7141998">=</span>&nbsp;<span class="builtintype" id="7142000">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142006">return</span>&nbsp;<span class="ident" id="7142013">refull</span><span class="op" id="7142019">.</span><span class="ident" id="7142020">MatchString</span><span class="op" id="7142031">(</span><span class="ident" id="7142032">text</span><span class="op" id="7142036">)</span><span class="op" id="7142037">,</span>&nbsp;<span class="string" id="7142039">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7142056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7142059">func</span>&nbsp;<span class="ident" id="7142064">matchPartialLongest</span><span class="op" id="7142083">(</span><span class="ident" id="7142084">re</span><span class="op" id="7142086">,</span>&nbsp;<span class="ident" id="7142088">refull</span>&nbsp;<span class="op" id="7142095">*</span><span class="ident" id="7142096">Regexp</span><span class="op" id="7142102">,</span>&nbsp;<span class="ident" id="7142104">text</span>&nbsp;<span class="builtintype" id="7142109">string</span><span class="op" id="7142115">)</span>&nbsp;<span class="op" id="7142117">(</span><span class="builtintype" id="7142118">bool</span><span class="op" id="7142122">,</span>&nbsp;<span class="builtintype" id="7142124">string</span><span class="op" id="7142130">)</span>&nbsp;<span class="op" id="7142132">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7142135">re</span><span class="op" id="7142137">.</span><span class="ident" id="7142138">longest</span>&nbsp;<span class="op" id="7142146">=</span>&nbsp;<span class="builtintype" id="7142148">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142154">return</span>&nbsp;<span class="ident" id="7142161">re</span><span class="op" id="7142163">.</span><span class="ident" id="7142164">MatchString</span><span class="op" id="7142175">(</span><span class="ident" id="7142176">text</span><span class="op" id="7142180">)</span><span class="op" id="7142181">,</span>&nbsp;<span class="string" id="7142183">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7142195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7142198">func</span>&nbsp;<span class="ident" id="7142203">isSingleBytes</span><span class="op" id="7142216">(</span><span class="ident" id="7142217">s</span>&nbsp;<span class="builtintype" id="7142219">string</span><span class="op" id="7142225">)</span>&nbsp;<span class="builtintype" id="7142227">bool</span>&nbsp;<span class="op" id="7142232">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142235">for</span>&nbsp;<span class="ident" id="7142239">_</span><span class="op" id="7142240">,</span>&nbsp;<span class="ident" id="7142242">c</span>&nbsp;<span class="op" id="7142244">:=</span>&nbsp;<span class="keyword" id="7142247">range</span>&nbsp;<span class="ident" id="7142253">s</span>&nbsp;<span class="op" id="7142255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142259">if</span>&nbsp;<span class="ident" id="7142262">c</span>&nbsp;<span class="op" id="7142264">&gt;=</span>&nbsp;<span class="ident" id="7142267">utf8</span><span class="op" id="7142271">.</span><span class="ident" id="7142272">RuneSelf</span>&nbsp;<span class="op" id="7142281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142286">return</span>&nbsp;<span class="builtintype" id="7142293">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142304">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142307">return</span>&nbsp;<span class="builtintype" id="7142314">true</span><br>
<span class="lineno"></span><span class="op" id="7142319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7142322">func</span>&nbsp;<span class="ident" id="7142327">tryCompile</span><span class="op" id="7142337">(</span><span class="ident" id="7142338">s</span>&nbsp;<span class="builtintype" id="7142340">string</span><span class="op" id="7142346">)</span>&nbsp;<span class="op" id="7142348">(</span><span class="ident" id="7142349">re</span>&nbsp;<span class="op" id="7142352">*</span><span class="ident" id="7142353">Regexp</span><span class="op" id="7142359">,</span>&nbsp;<span class="ident" id="7142361">err</span>&nbsp;<span class="builtintype" id="7142365">error</span><span class="op" id="7142370">)</span>&nbsp;<span class="op" id="7142372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142375">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142417">defer</span>&nbsp;<span class="keyword" id="7142423">func</span><span class="op" id="7142427">(</span><span class="op" id="7142428">)</span>&nbsp;<span class="op" id="7142430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142434">if</span>&nbsp;<span class="ident" id="7142437">r</span>&nbsp;<span class="op" id="7142439">:=</span>&nbsp;<span class="builtinfunc" id="7142442">recover</span><span class="op" id="7142449">(</span><span class="op" id="7142450">)</span><span class="op" id="7142451">;</span>&nbsp;<span class="ident" id="7142453">r</span>&nbsp;<span class="op" id="7142455">!=</span>&nbsp;<span class="builtintype" id="7142458">nil</span>&nbsp;<span class="op" id="7142462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7142467">err</span>&nbsp;<span class="op" id="7142471">=</span>&nbsp;<span class="ident" id="7142473">fmt</span><span class="op" id="7142476">.</span><span class="ident" id="7142477">Errorf</span><span class="op" id="7142483">(</span><span class="string" id="7142484">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="7142495">,</span>&nbsp;<span class="ident" id="7142497">r</span><span class="op" id="7142498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142505">}</span><span class="op" id="7142506">(</span><span class="op" id="7142507">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142510">return</span>&nbsp;<span class="ident" id="7142517">Compile</span><span class="op" id="7142524">(</span><span class="ident" id="7142525">s</span><span class="op" id="7142526">)</span><br>
<span class="lineno"></span><span class="op" id="7142528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7142531">func</span>&nbsp;<span class="ident" id="7142536">parseResult</span><span class="op" id="7142547">(</span><span class="ident" id="7142548">t</span>&nbsp;<span class="op" id="7142550">*</span><span class="ident" id="7142551">testing</span><span class="op" id="7142558">.</span><span class="ident" id="7142559">T</span><span class="op" id="7142560">,</span>&nbsp;<span class="ident" id="7142562">file</span>&nbsp;<span class="builtintype" id="7142567">string</span><span class="op" id="7142573">,</span>&nbsp;<span class="ident" id="7142575">lineno</span>&nbsp;<span class="builtintype" id="7142582">int</span><span class="op" id="7142585">,</span>&nbsp;<span class="ident" id="7142587">res</span>&nbsp;<span class="builtintype" id="7142591">string</span><span class="op" id="7142597">)</span>&nbsp;<span class="op" id="7142599">[</span><span class="op" id="7142600">]</span><span class="builtintype" id="7142601">int</span>&nbsp;<span class="op" id="7142605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142608">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142643">if</span>&nbsp;<span class="ident" id="7142646">res</span>&nbsp;<span class="op" id="7142650">==</span>&nbsp;<span class="string" id="7142653">&#34;-&#34;</span>&nbsp;<span class="op" id="7142657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142661">return</span>&nbsp;<span class="builtintype" id="7142668">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142676">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7142724">n</span>&nbsp;<span class="op" id="7142726">:=</span>&nbsp;<span class="num" id="7142729">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142732">for</span>&nbsp;<span class="ident" id="7142736">j</span>&nbsp;<span class="op" id="7142738">:=</span>&nbsp;<span class="num" id="7142741">0</span><span class="op" id="7142742">;</span>&nbsp;<span class="ident" id="7142744">j</span>&nbsp;<span class="op" id="7142746">&lt;</span>&nbsp;<span class="builtinfunc" id="7142748">len</span><span class="op" id="7142751">(</span><span class="ident" id="7142752">res</span><span class="op" id="7142755">)</span><span class="op" id="7142756">;</span>&nbsp;<span class="ident" id="7142758">j</span><span class="op" id="7142759">++</span>&nbsp;<span class="op" id="7142762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142766">if</span>&nbsp;<span class="ident" id="7142769">res</span><span class="op" id="7142772">[</span><span class="ident" id="7142773">j</span><span class="op" id="7142774">]</span>&nbsp;<span class="op" id="7142776">==</span>&nbsp;<span class="string" id="7142779">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7142783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7142788">n</span><span class="op" id="7142789">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142797">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7142800">out</span>&nbsp;<span class="op" id="7142804">:=</span>&nbsp;<span class="builtinfunc" id="7142807">make</span><span class="op" id="7142811">(</span><span class="op" id="7142812">[</span><span class="op" id="7142813">]</span><span class="builtintype" id="7142814">int</span><span class="op" id="7142817">,</span>&nbsp;<span class="num" id="7142819">2</span><span class="op" id="7142820">*</span><span class="ident" id="7142821">n</span><span class="op" id="7142822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7142825">i</span>&nbsp;<span class="op" id="7142827">:=</span>&nbsp;<span class="num" id="7142830">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7142833">n</span>&nbsp;<span class="op" id="7142835">=</span>&nbsp;<span class="num" id="7142837">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142840">for</span>&nbsp;<span class="ident" id="7142844">j</span>&nbsp;<span class="op" id="7142846">:=</span>&nbsp;<span class="num" id="7142849">0</span><span class="op" id="7142850">;</span>&nbsp;<span class="ident" id="7142852">j</span>&nbsp;<span class="op" id="7142854">&lt;=</span>&nbsp;<span class="builtinfunc" id="7142857">len</span><span class="op" id="7142860">(</span><span class="ident" id="7142861">res</span><span class="op" id="7142864">)</span><span class="op" id="7142865">;</span>&nbsp;<span class="ident" id="7142867">j</span><span class="op" id="7142868">++</span>&nbsp;<span class="op" id="7142871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142875">if</span>&nbsp;<span class="ident" id="7142878">j</span>&nbsp;<span class="op" id="7142880">==</span>&nbsp;<span class="builtinfunc" id="7142883">len</span><span class="op" id="7142886">(</span><span class="ident" id="7142887">res</span><span class="op" id="7142890">)</span>&nbsp;<span class="op" id="7142892">||</span>&nbsp;<span class="ident" id="7142895">res</span><span class="op" id="7142898">[</span><span class="ident" id="7142899">j</span><span class="op" id="7142900">]</span>&nbsp;<span class="op" id="7142902">==</span>&nbsp;<span class="string" id="7142905">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7142909">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142914">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7142965">pair</span>&nbsp;<span class="op" id="7142970">:=</span>&nbsp;<span class="ident" id="7142973">res</span><span class="op" id="7142976">[</span><span class="ident" id="7142977">i</span><span class="op" id="7142978">:</span><span class="ident" id="7142979">j</span><span class="op" id="7142980">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7142985">if</span>&nbsp;<span class="ident" id="7142988">pair</span>&nbsp;<span class="op" id="7142993">==</span>&nbsp;<span class="string" id="7142996">&#34;-&#34;</span>&nbsp;<span class="op" id="7143000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143006">out</span><span class="op" id="7143009">[</span><span class="ident" id="7143010">n</span><span class="op" id="7143011">]</span>&nbsp;<span class="op" id="7143013">=</span>&nbsp;<span class="op" id="7143015">-</span><span class="num" id="7143016">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143022">out</span><span class="op" id="7143025">[</span><span class="ident" id="7143026">n</span><span class="op" id="7143027">+</span><span class="num" id="7143028">1</span><span class="op" id="7143029">]</span>&nbsp;<span class="op" id="7143031">=</span>&nbsp;<span class="op" id="7143033">-</span><span class="num" id="7143034">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143039">}</span>&nbsp;<span class="keyword" id="7143041">else</span>&nbsp;<span class="op" id="7143046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143052">k</span>&nbsp;<span class="op" id="7143054">:=</span>&nbsp;<span class="ident" id="7143057">strings</span><span class="op" id="7143064">.</span><span class="ident" id="7143065">Index</span><span class="op" id="7143070">(</span><span class="ident" id="7143071">pair</span><span class="op" id="7143075">,</span>&nbsp;<span class="string" id="7143077">&#34;-&#34;</span><span class="op" id="7143080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143086">if</span>&nbsp;<span class="ident" id="7143089">k</span>&nbsp;<span class="op" id="7143091">&lt;</span>&nbsp;<span class="num" id="7143093">0</span>&nbsp;<span class="op" id="7143095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143102">t</span><span class="op" id="7143103">.</span><span class="ident" id="7143104">Fatalf</span><span class="op" id="7143110">(</span><span class="string" id="7143111">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7143135">,</span>&nbsp;<span class="ident" id="7143137">file</span><span class="op" id="7143141">,</span>&nbsp;<span class="ident" id="7143143">lineno</span><span class="op" id="7143149">,</span>&nbsp;<span class="ident" id="7143151">pair</span><span class="op" id="7143155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143161">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143167">lo</span><span class="op" id="7143169">,</span>&nbsp;<span class="ident" id="7143171">err1</span>&nbsp;<span class="op" id="7143176">:=</span>&nbsp;<span class="ident" id="7143179">strconv</span><span class="op" id="7143186">.</span><span class="ident" id="7143187">Atoi</span><span class="op" id="7143191">(</span><span class="ident" id="7143192">pair</span><span class="op" id="7143196">[</span><span class="op" id="7143197">:</span><span class="ident" id="7143198">k</span><span class="op" id="7143199">]</span><span class="op" id="7143200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143206">hi</span><span class="op" id="7143208">,</span>&nbsp;<span class="ident" id="7143210">err2</span>&nbsp;<span class="op" id="7143215">:=</span>&nbsp;<span class="ident" id="7143218">strconv</span><span class="op" id="7143225">.</span><span class="ident" id="7143226">Atoi</span><span class="op" id="7143230">(</span><span class="ident" id="7143231">pair</span><span class="op" id="7143235">[</span><span class="ident" id="7143236">k</span><span class="op" id="7143237">+</span><span class="num" id="7143238">1</span><span class="op" id="7143239">:</span><span class="op" id="7143240">]</span><span class="op" id="7143241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143247">if</span>&nbsp;<span class="ident" id="7143250">err1</span>&nbsp;<span class="op" id="7143255">!=</span>&nbsp;<span class="builtintype" id="7143258">nil</span>&nbsp;<span class="op" id="7143262">||</span>&nbsp;<span class="ident" id="7143265">err2</span>&nbsp;<span class="op" id="7143270">!=</span>&nbsp;<span class="builtintype" id="7143273">nil</span>&nbsp;<span class="op" id="7143277">||</span>&nbsp;<span class="ident" id="7143280">lo</span>&nbsp;<span class="op" id="7143283">&gt;</span>&nbsp;<span class="ident" id="7143285">hi</span>&nbsp;<span class="op" id="7143288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143295">t</span><span class="op" id="7143296">.</span><span class="ident" id="7143297">Fatalf</span><span class="op" id="7143303">(</span><span class="string" id="7143304">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7143328">,</span>&nbsp;<span class="ident" id="7143330">file</span><span class="op" id="7143334">,</span>&nbsp;<span class="ident" id="7143336">lineno</span><span class="op" id="7143342">,</span>&nbsp;<span class="ident" id="7143344">pair</span><span class="op" id="7143348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143354">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143360">out</span><span class="op" id="7143363">[</span><span class="ident" id="7143364">n</span><span class="op" id="7143365">]</span>&nbsp;<span class="op" id="7143367">=</span>&nbsp;<span class="ident" id="7143369">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143376">out</span><span class="op" id="7143379">[</span><span class="ident" id="7143380">n</span><span class="op" id="7143381">+</span><span class="num" id="7143382">1</span><span class="op" id="7143383">]</span>&nbsp;<span class="op" id="7143385">=</span>&nbsp;<span class="ident" id="7143387">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143398">n</span>&nbsp;<span class="op" id="7143400">+=</span>&nbsp;<span class="num" id="7143403">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143408">i</span>&nbsp;<span class="op" id="7143410">=</span>&nbsp;<span class="ident" id="7143412">j</span>&nbsp;<span class="op" id="7143414">+</span>&nbsp;<span class="num" id="7143416">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143426">return</span>&nbsp;<span class="ident" id="7143433">out</span><br>
<span class="lineno"></span><span class="op" id="7143437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7143440">func</span>&nbsp;<span class="ident" id="7143445">same</span><span class="op" id="7143449">(</span><span class="ident" id="7143450">x</span><span class="op" id="7143451">,</span>&nbsp;<span class="ident" id="7143453">y</span>&nbsp;<span class="op" id="7143455">[</span><span class="op" id="7143456">]</span><span class="builtintype" id="7143457">int</span><span class="op" id="7143460">)</span>&nbsp;<span class="builtintype" id="7143462">bool</span>&nbsp;<span class="op" id="7143467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143470">if</span>&nbsp;<span class="builtinfunc" id="7143473">len</span><span class="op" id="7143476">(</span><span class="ident" id="7143477">x</span><span class="op" id="7143478">)</span>&nbsp;<span class="op" id="7143480">!=</span>&nbsp;<span class="builtinfunc" id="7143483">len</span><span class="op" id="7143486">(</span><span class="ident" id="7143487">y</span><span class="op" id="7143488">)</span>&nbsp;<span class="op" id="7143490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143494">return</span>&nbsp;<span class="builtintype" id="7143501">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143511">for</span>&nbsp;<span class="ident" id="7143515">i</span><span class="op" id="7143516">,</span>&nbsp;<span class="ident" id="7143518">xi</span>&nbsp;<span class="op" id="7143521">:=</span>&nbsp;<span class="keyword" id="7143524">range</span>&nbsp;<span class="ident" id="7143530">x</span>&nbsp;<span class="op" id="7143532">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143536">if</span>&nbsp;<span class="ident" id="7143539">xi</span>&nbsp;<span class="op" id="7143542">!=</span>&nbsp;<span class="ident" id="7143545">y</span><span class="op" id="7143546">[</span><span class="ident" id="7143547">i</span><span class="op" id="7143548">]</span>&nbsp;<span class="op" id="7143550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143555">return</span>&nbsp;<span class="builtintype" id="7143562">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143576">return</span>&nbsp;<span class="builtintype" id="7143583">true</span><br>
<span class="lineno">325</span><span class="op" id="7143588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7143591">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7143648">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="7143708">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="7143760">func</span>&nbsp;<span class="ident" id="7143765">TestFowler</span><span class="op" id="7143775">(</span><span class="ident" id="7143776">t</span>&nbsp;<span class="op" id="7143778">*</span><span class="ident" id="7143779">testing</span><span class="op" id="7143786">.</span><span class="ident" id="7143787">T</span><span class="op" id="7143788">)</span>&nbsp;<span class="op" id="7143790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143793">files</span><span class="op" id="7143798">,</span>&nbsp;<span class="ident" id="7143800">err</span>&nbsp;<span class="op" id="7143804">:=</span>&nbsp;<span class="ident" id="7143807">filepath</span><span class="op" id="7143815">.</span><span class="ident" id="7143816">Glob</span><span class="op" id="7143820">(</span><span class="string" id="7143821">&#34;testdata/*.dat&#34;</span><span class="op" id="7143837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143840">if</span>&nbsp;<span class="ident" id="7143843">err</span>&nbsp;<span class="op" id="7143847">!=</span>&nbsp;<span class="builtintype" id="7143850">nil</span>&nbsp;<span class="op" id="7143854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143858">t</span><span class="op" id="7143859">.</span><span class="ident" id="7143860">Fatal</span><span class="op" id="7143865">(</span><span class="ident" id="7143866">err</span><span class="op" id="7143869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143872">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7143875">for</span>&nbsp;<span class="ident" id="7143879">_</span><span class="op" id="7143880">,</span>&nbsp;<span class="ident" id="7143882">file</span>&nbsp;<span class="op" id="7143887">:=</span>&nbsp;<span class="keyword" id="7143890">range</span>&nbsp;<span class="ident" id="7143896">files</span>&nbsp;<span class="op" id="7143902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143906">t</span><span class="op" id="7143907">.</span><span class="ident" id="7143908">Log</span><span class="op" id="7143911">(</span><span class="ident" id="7143912">file</span><span class="op" id="7143916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7143920">testFowler</span><span class="op" id="7143930">(</span><span class="ident" id="7143931">t</span><span class="op" id="7143932">,</span>&nbsp;<span class="ident" id="7143934">file</span><span class="op" id="7143938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143941">}</span><br>
<span class="lineno"></span><span class="op" id="7143943">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7143946">var</span>&nbsp;<span class="ident" id="7143950">notab</span>&nbsp;<span class="op" id="7143956">=</span>&nbsp;<span class="ident" id="7143958">MustCompilePOSIX</span><span class="op" id="7143974">(</span><span class="string" id="7143975">`[^\t]+`</span><span class="op" id="7143983">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7143986">func</span>&nbsp;<span class="ident" id="7143991">testFowler</span><span class="op" id="7144001">(</span><span class="ident" id="7144002">t</span>&nbsp;<span class="op" id="7144004">*</span><span class="ident" id="7144005">testing</span><span class="op" id="7144012">.</span><span class="ident" id="7144013">T</span><span class="op" id="7144014">,</span>&nbsp;<span class="ident" id="7144016">file</span>&nbsp;<span class="builtintype" id="7144021">string</span><span class="op" id="7144027">)</span>&nbsp;<span class="op" id="7144029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144032">f</span><span class="op" id="7144033">,</span>&nbsp;<span class="ident" id="7144035">err</span>&nbsp;<span class="op" id="7144039">:=</span>&nbsp;<span class="ident" id="7144042">os</span><span class="op" id="7144044">.</span><span class="ident" id="7144045">Open</span><span class="op" id="7144049">(</span><span class="ident" id="7144050">file</span><span class="op" id="7144054">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144057">if</span>&nbsp;<span class="ident" id="7144060">err</span>&nbsp;<span class="op" id="7144064">!=</span>&nbsp;<span class="builtintype" id="7144067">nil</span>&nbsp;<span class="op" id="7144071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144075">t</span><span class="op" id="7144076">.</span><span class="ident" id="7144077">Error</span><span class="op" id="7144082">(</span><span class="ident" id="7144083">err</span><span class="op" id="7144086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144090">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144101">defer</span>&nbsp;<span class="ident" id="7144107">f</span><span class="op" id="7144108">.</span><span class="ident" id="7144109">Close</span><span class="op" id="7144114">(</span><span class="op" id="7144115">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144118">b</span>&nbsp;<span class="op" id="7144120">:=</span>&nbsp;<span class="ident" id="7144123">bufio</span><span class="op" id="7144128">.</span><span class="ident" id="7144129">NewReader</span><span class="op" id="7144138">(</span><span class="ident" id="7144139">f</span><span class="op" id="7144140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144143">lineno</span>&nbsp;<span class="op" id="7144150">:=</span>&nbsp;<span class="num" id="7144153">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144156">lastRegexp</span>&nbsp;<span class="op" id="7144167">:=</span>&nbsp;<span class="string" id="7144170">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="7144173">Reading</span><span class="op" id="7144180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144183">for</span>&nbsp;<span class="op" id="7144187">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144191">lineno</span><span class="op" id="7144197">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144202">line</span><span class="op" id="7144206">,</span>&nbsp;<span class="ident" id="7144208">err</span>&nbsp;<span class="op" id="7144212">:=</span>&nbsp;<span class="ident" id="7144215">b</span><span class="op" id="7144216">.</span><span class="ident" id="7144217">ReadString</span><span class="op" id="7144227">(</span><span class="string" id="7144228">&#39;\n&#39;</span><span class="op" id="7144232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144236">if</span>&nbsp;<span class="ident" id="7144239">err</span>&nbsp;<span class="op" id="7144243">!=</span>&nbsp;<span class="builtintype" id="7144246">nil</span>&nbsp;<span class="op" id="7144250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144255">if</span>&nbsp;<span class="ident" id="7144258">err</span>&nbsp;<span class="op" id="7144262">!=</span>&nbsp;<span class="ident" id="7144265">io</span><span class="op" id="7144267">.</span><span class="ident" id="7144268">EOF</span>&nbsp;<span class="op" id="7144272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144278">t</span><span class="op" id="7144279">.</span><span class="ident" id="7144280">Errorf</span><span class="op" id="7144286">(</span><span class="string" id="7144287">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7144298">,</span>&nbsp;<span class="ident" id="7144300">file</span><span class="op" id="7144304">,</span>&nbsp;<span class="ident" id="7144306">lineno</span><span class="op" id="7144312">,</span>&nbsp;<span class="ident" id="7144314">err</span><span class="op" id="7144317">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144327">break</span>&nbsp;<span class="ident" id="7144333">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7144348">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7144411">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7144416">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7144434">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7144505">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7144575">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7144646">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144664">if</span>&nbsp;<span class="ident" id="7144667">line</span><span class="op" id="7144671">[</span><span class="num" id="7144672">0</span><span class="op" id="7144673">]</span>&nbsp;<span class="op" id="7144675">==</span>&nbsp;<span class="string" id="7144678">&#39;#&#39;</span>&nbsp;<span class="op" id="7144682">||</span>&nbsp;<span class="ident" id="7144685">line</span><span class="op" id="7144689">[</span><span class="num" id="7144690">0</span><span class="op" id="7144691">]</span>&nbsp;<span class="op" id="7144693">==</span>&nbsp;<span class="string" id="7144696">&#39;\n&#39;</span>&nbsp;<span class="op" id="7144701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144706">continue</span>&nbsp;<span class="ident" id="7144715">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144729">line</span>&nbsp;<span class="op" id="7144734">=</span>&nbsp;<span class="ident" id="7144736">line</span><span class="op" id="7144740">[</span><span class="op" id="7144741">:</span><span class="builtinfunc" id="7144742">len</span><span class="op" id="7144745">(</span><span class="ident" id="7144746">line</span><span class="op" id="7144750">)</span><span class="op" id="7144751">-</span><span class="num" id="7144752">1</span><span class="op" id="7144753">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144757">field</span>&nbsp;<span class="op" id="7144763">:=</span>&nbsp;<span class="ident" id="7144766">notab</span><span class="op" id="7144771">.</span><span class="ident" id="7144772">FindAllString</span><span class="op" id="7144785">(</span><span class="ident" id="7144786">line</span><span class="op" id="7144790">,</span>&nbsp;<span class="op" id="7144792">-</span><span class="num" id="7144793">1</span><span class="op" id="7144794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144798">for</span>&nbsp;<span class="ident" id="7144802">i</span><span class="op" id="7144803">,</span>&nbsp;<span class="ident" id="7144805">f</span>&nbsp;<span class="op" id="7144807">:=</span>&nbsp;<span class="keyword" id="7144810">range</span>&nbsp;<span class="ident" id="7144816">field</span>&nbsp;<span class="op" id="7144822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144827">if</span>&nbsp;<span class="ident" id="7144830">f</span>&nbsp;<span class="op" id="7144832">==</span>&nbsp;<span class="string" id="7144835">&#34;NULL&#34;</span>&nbsp;<span class="op" id="7144842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144848">field</span><span class="op" id="7144853">[</span><span class="ident" id="7144854">i</span><span class="op" id="7144855">]</span>&nbsp;<span class="op" id="7144857">=</span>&nbsp;<span class="string" id="7144859">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144865">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144870">if</span>&nbsp;<span class="ident" id="7144873">f</span>&nbsp;<span class="op" id="7144875">==</span>&nbsp;<span class="string" id="7144878">&#34;NIL&#34;</span>&nbsp;<span class="op" id="7144884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144890">t</span><span class="op" id="7144891">.</span><span class="ident" id="7144892">Logf</span><span class="op" id="7144896">(</span><span class="string" id="7144897">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="7144914">,</span>&nbsp;<span class="ident" id="7144916">file</span><span class="op" id="7144920">,</span>&nbsp;<span class="ident" id="7144922">lineno</span><span class="op" id="7144928">,</span>&nbsp;<span class="ident" id="7144930">line</span><span class="op" id="7144934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144940">continue</span>&nbsp;<span class="ident" id="7144949">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144964">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144968">if</span>&nbsp;<span class="builtinfunc" id="7144971">len</span><span class="op" id="7144974">(</span><span class="ident" id="7144975">field</span><span class="op" id="7144980">)</span>&nbsp;<span class="op" id="7144982">==</span>&nbsp;<span class="num" id="7144985">0</span>&nbsp;<span class="op" id="7144987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144992">continue</span>&nbsp;<span class="ident" id="7145001">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7145011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145016">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145091">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145163">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145235">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145314">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145373">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145378">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BRE&nbsp;&nbsp;&nbsp;&nbsp;(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145418">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERE&nbsp;&nbsp;&nbsp;&nbsp;(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145456">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ARE&nbsp;&nbsp;&nbsp;&nbsp;(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145508">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SRE&nbsp;&nbsp;&nbsp;&nbsp;(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145544">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp;KRE&nbsp;&nbsp;&nbsp;&nbsp;(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145594">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbsp;REG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LRE&nbsp;&nbsp;&nbsp;&nbsp;(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145630">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145635">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145680">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbsp;REG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145724">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;REG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145772">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145823">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbsp;REG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145867">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbsp;REG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145923">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbsp;FNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7145985">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbsp;REG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146033">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbsp;REG_ICASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146067">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbsp;REG_SPAN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146101">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbsp;REG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146151">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146186">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbsp;REG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146224">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbsp;REG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146266">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbsp;REG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146320">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146364">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbsp;REG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146408">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbsp;REG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146444">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146487">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbsp;REG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146546">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbsp;standard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146609">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbsp;REG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146660">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbsp;REG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146711">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;REG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146757">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146802">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbsp;REG_NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146846">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146919">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7146991">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147062">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147067">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147097">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147102">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147163">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147168">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147246">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147311">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147383">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147432">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;skip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147474">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147498">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147503">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147553">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp;:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147594">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;comment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147648">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147680">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147685">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7147740">flag</span>&nbsp;<span class="op" id="7147745">:=</span>&nbsp;<span class="ident" id="7147748">field</span><span class="op" id="7147753">[</span><span class="num" id="7147754">0</span><span class="op" id="7147755">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7147759">switch</span>&nbsp;<span class="ident" id="7147766">flag</span><span class="op" id="7147770">[</span><span class="num" id="7147771">0</span><span class="op" id="7147772">]</span>&nbsp;<span class="op" id="7147774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7147778">case</span>&nbsp;<span class="string" id="7147783">&#39;?&#39;</span><span class="op" id="7147786">,</span>&nbsp;<span class="string" id="7147788">&#39;&amp;&#39;</span><span class="op" id="7147791">,</span>&nbsp;<span class="string" id="7147793">&#39;|&#39;</span><span class="op" id="7147796">,</span>&nbsp;<span class="string" id="7147798">&#39;;&#39;</span><span class="op" id="7147801">,</span>&nbsp;<span class="string" id="7147803">&#39;{&#39;</span><span class="op" id="7147806">,</span>&nbsp;<span class="string" id="7147808">&#39;}&#39;</span><span class="op" id="7147811">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147816">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7147856">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7147883">flag</span>&nbsp;<span class="op" id="7147888">=</span>&nbsp;<span class="ident" id="7147890">flag</span><span class="op" id="7147894">[</span><span class="num" id="7147895">1</span><span class="op" id="7147896">:</span><span class="op" id="7147897">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7147902">if</span>&nbsp;<span class="ident" id="7147905">flag</span>&nbsp;<span class="op" id="7147910">==</span>&nbsp;<span class="string" id="7147913">&#34;&#34;</span>&nbsp;<span class="op" id="7147916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7147922">continue</span>&nbsp;<span class="ident" id="7147931">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7147942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7147946">case</span>&nbsp;<span class="string" id="7147951">&#39;:&#39;</span><span class="op" id="7147954">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7147959">i</span>&nbsp;<span class="op" id="7147961">:=</span>&nbsp;<span class="ident" id="7147964">strings</span><span class="op" id="7147971">.</span><span class="ident" id="7147972">Index</span><span class="op" id="7147977">(</span><span class="ident" id="7147978">flag</span><span class="op" id="7147982">[</span><span class="num" id="7147983">1</span><span class="op" id="7147984">:</span><span class="op" id="7147985">]</span><span class="op" id="7147986">,</span>&nbsp;<span class="string" id="7147988">&#34;:&#34;</span><span class="op" id="7147991">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7147996">if</span>&nbsp;<span class="ident" id="7147999">i</span>&nbsp;<span class="op" id="7148001">&lt;</span>&nbsp;<span class="num" id="7148003">0</span>&nbsp;<span class="op" id="7148005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148011">t</span><span class="op" id="7148012">.</span><span class="ident" id="7148013">Logf</span><span class="op" id="7148017">(</span><span class="string" id="7148018">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7148028">,</span>&nbsp;<span class="ident" id="7148030">line</span><span class="op" id="7148034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7148040">continue</span>&nbsp;<span class="ident" id="7148049">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7148060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148065">flag</span>&nbsp;<span class="op" id="7148070">=</span>&nbsp;<span class="ident" id="7148072">flag</span><span class="op" id="7148076">[</span><span class="num" id="7148077">1</span><span class="op" id="7148078">+</span><span class="ident" id="7148079">i</span><span class="op" id="7148080">+</span><span class="num" id="7148081">1</span><span class="op" id="7148082">:</span><span class="op" id="7148083">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7148087">case</span>&nbsp;<span class="string" id="7148092">&#39;C&#39;</span><span class="op" id="7148095">,</span>&nbsp;<span class="string" id="7148097">&#39;N&#39;</span><span class="op" id="7148100">,</span>&nbsp;<span class="string" id="7148102">&#39;T&#39;</span><span class="op" id="7148105">,</span>&nbsp;<span class="string" id="7148107">&#39;0&#39;</span><span class="op" id="7148110">,</span>&nbsp;<span class="string" id="7148112">&#39;1&#39;</span><span class="op" id="7148115">,</span>&nbsp;<span class="string" id="7148117">&#39;2&#39;</span><span class="op" id="7148120">,</span>&nbsp;<span class="string" id="7148122">&#39;3&#39;</span><span class="op" id="7148125">,</span>&nbsp;<span class="string" id="7148127">&#39;4&#39;</span><span class="op" id="7148130">,</span>&nbsp;<span class="string" id="7148132">&#39;5&#39;</span><span class="op" id="7148135">,</span>&nbsp;<span class="string" id="7148137">&#39;6&#39;</span><span class="op" id="7148140">,</span>&nbsp;<span class="string" id="7148142">&#39;7&#39;</span><span class="op" id="7148145">,</span>&nbsp;<span class="string" id="7148147">&#39;8&#39;</span><span class="op" id="7148150">,</span>&nbsp;<span class="string" id="7148152">&#39;9&#39;</span><span class="op" id="7148155">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148160">t</span><span class="op" id="7148161">.</span><span class="ident" id="7148162">Logf</span><span class="op" id="7148166">(</span><span class="string" id="7148167">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7148177">,</span>&nbsp;<span class="ident" id="7148179">line</span><span class="op" id="7148183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7148188">continue</span>&nbsp;<span class="ident" id="7148197">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7148207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7148212">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7148290">if</span>&nbsp;<span class="builtinfunc" id="7148293">len</span><span class="op" id="7148296">(</span><span class="ident" id="7148297">field</span><span class="op" id="7148302">)</span>&nbsp;<span class="op" id="7148304">&lt;</span>&nbsp;<span class="num" id="7148306">4</span>&nbsp;<span class="op" id="7148308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148313">t</span><span class="op" id="7148314">.</span><span class="ident" id="7148315">Errorf</span><span class="op" id="7148321">(</span><span class="string" id="7148322">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="7148349">,</span>&nbsp;<span class="ident" id="7148351">file</span><span class="op" id="7148355">,</span>&nbsp;<span class="ident" id="7148357">lineno</span><span class="op" id="7148363">,</span>&nbsp;<span class="ident" id="7148365">line</span><span class="op" id="7148369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7148374">continue</span>&nbsp;<span class="ident" id="7148383">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7148393">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7148398">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7148441">if</span>&nbsp;<span class="ident" id="7148444">strings</span><span class="op" id="7148451">.</span><span class="ident" id="7148452">Contains</span><span class="op" id="7148460">(</span><span class="ident" id="7148461">flag</span><span class="op" id="7148465">,</span>&nbsp;<span class="string" id="7148467">&#34;$&#34;</span><span class="op" id="7148470">)</span>&nbsp;<span class="op" id="7148472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148477">f</span>&nbsp;<span class="op" id="7148479">:=</span>&nbsp;<span class="string" id="7148482">`&#34;`</span>&nbsp;<span class="op" id="7148486">+</span>&nbsp;<span class="ident" id="7148488">field</span><span class="op" id="7148493">[</span><span class="num" id="7148494">1</span><span class="op" id="7148495">]</span>&nbsp;<span class="op" id="7148497">+</span>&nbsp;<span class="string" id="7148499">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7148506">if</span>&nbsp;<span class="ident" id="7148509">field</span><span class="op" id="7148514">[</span><span class="num" id="7148515">1</span><span class="op" id="7148516">]</span><span class="op" id="7148517">,</span>&nbsp;<span class="ident" id="7148519">err</span>&nbsp;<span class="op" id="7148523">=</span>&nbsp;<span class="ident" id="7148525">strconv</span><span class="op" id="7148532">.</span><span class="ident" id="7148533">Unquote</span><span class="op" id="7148540">(</span><span class="ident" id="7148541">f</span><span class="op" id="7148542">)</span><span class="op" id="7148543">;</span>&nbsp;<span class="ident" id="7148545">err</span>&nbsp;<span class="op" id="7148549">!=</span>&nbsp;<span class="builtintype" id="7148552">nil</span>&nbsp;<span class="op" id="7148556">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148562">t</span><span class="op" id="7148563">.</span><span class="ident" id="7148564">Errorf</span><span class="op" id="7148570">(</span><span class="string" id="7148571">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7148597">,</span>&nbsp;<span class="ident" id="7148599">file</span><span class="op" id="7148603">,</span>&nbsp;<span class="ident" id="7148605">lineno</span><span class="op" id="7148611">,</span>&nbsp;<span class="ident" id="7148613">f</span><span class="op" id="7148614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7148619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148624">f</span>&nbsp;<span class="op" id="7148626">=</span>&nbsp;<span class="string" id="7148628">`&#34;`</span>&nbsp;<span class="op" id="7148632">+</span>&nbsp;<span class="ident" id="7148634">field</span><span class="op" id="7148639">[</span><span class="num" id="7148640">2</span><span class="op" id="7148641">]</span>&nbsp;<span class="op" id="7148643">+</span>&nbsp;<span class="string" id="7148645">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7148652">if</span>&nbsp;<span class="ident" id="7148655">field</span><span class="op" id="7148660">[</span><span class="num" id="7148661">2</span><span class="op" id="7148662">]</span><span class="op" id="7148663">,</span>&nbsp;<span class="ident" id="7148665">err</span>&nbsp;<span class="op" id="7148669">=</span>&nbsp;<span class="ident" id="7148671">strconv</span><span class="op" id="7148678">.</span><span class="ident" id="7148679">Unquote</span><span class="op" id="7148686">(</span><span class="ident" id="7148687">f</span><span class="op" id="7148688">)</span><span class="op" id="7148689">;</span>&nbsp;<span class="ident" id="7148691">err</span>&nbsp;<span class="op" id="7148695">!=</span>&nbsp;<span class="builtintype" id="7148698">nil</span>&nbsp;<span class="op" id="7148702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148708">t</span><span class="op" id="7148709">.</span><span class="ident" id="7148710">Errorf</span><span class="op" id="7148716">(</span><span class="string" id="7148717">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7148743">,</span>&nbsp;<span class="ident" id="7148745">file</span><span class="op" id="7148749">,</span>&nbsp;<span class="ident" id="7148751">lineno</span><span class="op" id="7148757">,</span>&nbsp;<span class="ident" id="7148759">f</span><span class="op" id="7148760">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7148765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7148769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7148774">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7148849">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7148886">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7148891">if</span>&nbsp;<span class="ident" id="7148894">field</span><span class="op" id="7148899">[</span><span class="num" id="7148900">1</span><span class="op" id="7148901">]</span>&nbsp;<span class="op" id="7148903">==</span>&nbsp;<span class="string" id="7148906">&#34;SAME&#34;</span>&nbsp;<span class="op" id="7148913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148918">field</span><span class="op" id="7148923">[</span><span class="num" id="7148924">1</span><span class="op" id="7148925">]</span>&nbsp;<span class="op" id="7148927">=</span>&nbsp;<span class="ident" id="7148929">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7148942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7148946">lastRegexp</span>&nbsp;<span class="op" id="7148957">=</span>&nbsp;<span class="ident" id="7148959">field</span><span class="op" id="7148964">[</span><span class="num" id="7148965">1</span><span class="op" id="7148966">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7148971">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149008">text</span>&nbsp;<span class="op" id="7149013">:=</span>&nbsp;<span class="ident" id="7149016">field</span><span class="op" id="7149021">[</span><span class="num" id="7149022">2</span><span class="op" id="7149023">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7149028">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149064">ok</span><span class="op" id="7149066">,</span>&nbsp;<span class="ident" id="7149068">shouldCompile</span><span class="op" id="7149081">,</span>&nbsp;<span class="ident" id="7149083">shouldMatch</span><span class="op" id="7149094">,</span>&nbsp;<span class="ident" id="7149096">pos</span>&nbsp;<span class="op" id="7149100">:=</span>&nbsp;<span class="ident" id="7149103">parseFowlerResult</span><span class="op" id="7149120">(</span><span class="ident" id="7149121">field</span><span class="op" id="7149126">[</span><span class="num" id="7149127">3</span><span class="op" id="7149128">]</span><span class="op" id="7149129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149133">if</span>&nbsp;<span class="op" id="7149136">!</span><span class="ident" id="7149137">ok</span>&nbsp;<span class="op" id="7149140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149145">t</span><span class="op" id="7149146">.</span><span class="ident" id="7149147">Errorf</span><span class="op" id="7149153">(</span><span class="string" id="7149154">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="7149186">,</span>&nbsp;<span class="ident" id="7149188">file</span><span class="op" id="7149192">,</span>&nbsp;<span class="ident" id="7149194">lineno</span><span class="op" id="7149200">,</span>&nbsp;<span class="ident" id="7149202">field</span><span class="op" id="7149207">[</span><span class="num" id="7149208">3</span><span class="op" id="7149209">]</span><span class="op" id="7149210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149215">continue</span>&nbsp;<span class="ident" id="7149224">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7149234">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7149239">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149296">Testing</span><span class="op" id="7149303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7149307">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149382">for</span>&nbsp;<span class="ident" id="7149386">_</span><span class="op" id="7149387">,</span>&nbsp;<span class="ident" id="7149389">c</span>&nbsp;<span class="op" id="7149391">:=</span>&nbsp;<span class="keyword" id="7149394">range</span>&nbsp;<span class="ident" id="7149400">flag</span>&nbsp;<span class="op" id="7149405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149410">pattern</span>&nbsp;<span class="op" id="7149418">:=</span>&nbsp;<span class="ident" id="7149421">field</span><span class="op" id="7149426">[</span><span class="num" id="7149427">1</span><span class="op" id="7149428">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149433">syn</span>&nbsp;<span class="op" id="7149437">:=</span>&nbsp;<span class="ident" id="7149440">syntax</span><span class="op" id="7149446">.</span><span class="ident" id="7149447">POSIX</span>&nbsp;<span class="op" id="7149453">|</span>&nbsp;<span class="ident" id="7149455">syntax</span><span class="op" id="7149461">.</span><span class="ident" id="7149462">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149473">switch</span>&nbsp;<span class="ident" id="7149480">c</span>&nbsp;<span class="op" id="7149482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149487">default</span><span class="op" id="7149494">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149500">continue</span>&nbsp;<span class="ident" id="7149509">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149520">case</span>&nbsp;<span class="string" id="7149525">&#39;E&#39;</span><span class="op" id="7149528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7149534">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149574">case</span>&nbsp;<span class="string" id="7149579">&#39;L&#39;</span><span class="op" id="7149582">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7149588">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149603">pattern</span>&nbsp;<span class="op" id="7149611">=</span>&nbsp;<span class="ident" id="7149613">QuoteMeta</span><span class="op" id="7149622">(</span><span class="ident" id="7149623">pattern</span><span class="op" id="7149630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7149635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149641">for</span>&nbsp;<span class="ident" id="7149645">_</span><span class="op" id="7149646">,</span>&nbsp;<span class="ident" id="7149648">c</span>&nbsp;<span class="op" id="7149650">:=</span>&nbsp;<span class="keyword" id="7149653">range</span>&nbsp;<span class="ident" id="7149659">flag</span>&nbsp;<span class="op" id="7149664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149670">switch</span>&nbsp;<span class="ident" id="7149677">c</span>&nbsp;<span class="op" id="7149679">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149685">case</span>&nbsp;<span class="string" id="7149690">&#39;i&#39;</span><span class="op" id="7149693">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149700">syn</span>&nbsp;<span class="op" id="7149704">|=</span>&nbsp;<span class="ident" id="7149707">syntax</span><span class="op" id="7149713">.</span><span class="ident" id="7149714">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7149727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7149732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149738">re</span><span class="op" id="7149740">,</span>&nbsp;<span class="ident" id="7149742">err</span>&nbsp;<span class="op" id="7149746">:=</span>&nbsp;<span class="ident" id="7149749">compile</span><span class="op" id="7149756">(</span><span class="ident" id="7149757">pattern</span><span class="op" id="7149764">,</span>&nbsp;<span class="ident" id="7149766">syn</span><span class="op" id="7149769">,</span>&nbsp;<span class="builtintype" id="7149771">true</span><span class="op" id="7149775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149780">if</span>&nbsp;<span class="ident" id="7149783">err</span>&nbsp;<span class="op" id="7149787">!=</span>&nbsp;<span class="builtintype" id="7149790">nil</span>&nbsp;<span class="op" id="7149794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149800">if</span>&nbsp;<span class="ident" id="7149803">shouldCompile</span>&nbsp;<span class="op" id="7149817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149824">t</span><span class="op" id="7149825">.</span><span class="ident" id="7149826">Errorf</span><span class="op" id="7149832">(</span><span class="string" id="7149833">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7149861">,</span>&nbsp;<span class="ident" id="7149863">file</span><span class="op" id="7149867">,</span>&nbsp;<span class="ident" id="7149869">lineno</span><span class="op" id="7149875">,</span>&nbsp;<span class="ident" id="7149877">pattern</span><span class="op" id="7149884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7149890">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149896">continue</span>&nbsp;<span class="ident" id="7149905">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7149916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7149921">if</span>&nbsp;<span class="op" id="7149924">!</span><span class="ident" id="7149925">shouldCompile</span>&nbsp;<span class="op" id="7149939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7149945">t</span><span class="op" id="7149946">.</span><span class="ident" id="7149947">Errorf</span><span class="op" id="7149953">(</span><span class="string" id="7149954">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7149985">,</span>&nbsp;<span class="ident" id="7149987">file</span><span class="op" id="7149991">,</span>&nbsp;<span class="ident" id="7149993">lineno</span><span class="op" id="7149999">,</span>&nbsp;<span class="ident" id="7150001">pattern</span><span class="op" id="7150008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7150014">continue</span>&nbsp;<span class="ident" id="7150023">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7150034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7150039">match</span>&nbsp;<span class="op" id="7150045">:=</span>&nbsp;<span class="ident" id="7150048">re</span><span class="op" id="7150050">.</span><span class="ident" id="7150051">MatchString</span><span class="op" id="7150062">(</span><span class="ident" id="7150063">text</span><span class="op" id="7150067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7150072">if</span>&nbsp;<span class="ident" id="7150075">match</span>&nbsp;<span class="op" id="7150081">!=</span>&nbsp;<span class="ident" id="7150084">shouldMatch</span>&nbsp;<span class="op" id="7150096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7150102">t</span><span class="op" id="7150103">.</span><span class="ident" id="7150104">Errorf</span><span class="op" id="7150110">(</span><span class="string" id="7150111">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7150148">,</span>&nbsp;<span class="ident" id="7150150">file</span><span class="op" id="7150154">,</span>&nbsp;<span class="ident" id="7150156">lineno</span><span class="op" id="7150162">,</span>&nbsp;<span class="ident" id="7150164">pattern</span><span class="op" id="7150171">,</span>&nbsp;<span class="ident" id="7150173">text</span><span class="op" id="7150177">,</span>&nbsp;<span class="ident" id="7150179">match</span><span class="op" id="7150184">,</span>&nbsp;<span class="ident" id="7150186">shouldMatch</span><span class="op" id="7150197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7150203">continue</span>&nbsp;<span class="ident" id="7150212">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7150223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7150228">have</span>&nbsp;<span class="op" id="7150233">:=</span>&nbsp;<span class="ident" id="7150236">re</span><span class="op" id="7150238">.</span><span class="ident" id="7150239">FindStringSubmatchIndex</span><span class="op" id="7150262">(</span><span class="ident" id="7150263">text</span><span class="op" id="7150267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7150272">if</span>&nbsp;<span class="op" id="7150275">(</span><span class="builtinfunc" id="7150276">len</span><span class="op" id="7150279">(</span><span class="ident" id="7150280">have</span><span class="op" id="7150284">)</span>&nbsp;<span class="op" id="7150286">&gt;</span>&nbsp;<span class="num" id="7150288">0</span><span class="op" id="7150289">)</span>&nbsp;<span class="op" id="7150291">!=</span>&nbsp;<span class="ident" id="7150294">match</span>&nbsp;<span class="op" id="7150300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7150306">t</span><span class="op" id="7150307">.</span><span class="ident" id="7150308">Errorf</span><span class="op" id="7150314">(</span><span class="string" id="7150315">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7150380">,</span>&nbsp;<span class="ident" id="7150382">file</span><span class="op" id="7150386">,</span>&nbsp;<span class="ident" id="7150388">lineno</span><span class="op" id="7150394">,</span>&nbsp;<span class="ident" id="7150396">pattern</span><span class="op" id="7150403">,</span>&nbsp;<span class="ident" id="7150405">text</span><span class="op" id="7150409">,</span>&nbsp;<span class="ident" id="7150411">match</span><span class="op" id="7150416">,</span>&nbsp;<span class="ident" id="7150418">pattern</span><span class="op" id="7150425">,</span>&nbsp;<span class="ident" id="7150427">text</span><span class="op" id="7150431">,</span>&nbsp;<span class="ident" id="7150433">have</span><span class="op" id="7150437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7150443">continue</span>&nbsp;<span class="ident" id="7150452">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7150463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7150468">if</span>&nbsp;<span class="builtinfunc" id="7150471">len</span><span class="op" id="7150474">(</span><span class="ident" id="7150475">have</span><span class="op" id="7150479">)</span>&nbsp;<span class="op" id="7150481">&gt;</span>&nbsp;<span class="builtinfunc" id="7150483">len</span><span class="op" id="7150486">(</span><span class="ident" id="7150487">pos</span><span class="op" id="7150490">)</span>&nbsp;<span class="op" id="7150492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7150498">have</span>&nbsp;<span class="op" id="7150503">=</span>&nbsp;<span class="ident" id="7150505">have</span><span class="op" id="7150509">[</span><span class="op" id="7150510">:</span><span class="builtinfunc" id="7150511">len</span><span class="op" id="7150514">(</span><span class="ident" id="7150515">pos</span><span class="op" id="7150518">)</span><span class="op" id="7150519">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7150524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7150529">if</span>&nbsp;<span class="op" id="7150532">!</span><span class="ident" id="7150533">same</span><span class="op" id="7150537">(</span><span class="ident" id="7150538">have</span><span class="op" id="7150542">,</span>&nbsp;<span class="ident" id="7150544">pos</span><span class="op" id="7150547">)</span>&nbsp;<span class="op" id="7150549">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7150555">t</span><span class="op" id="7150556">.</span><span class="ident" id="7150557">Errorf</span><span class="op" id="7150563">(</span><span class="string" id="7150564">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7150613">,</span>&nbsp;<span class="ident" id="7150615">file</span><span class="op" id="7150619">,</span>&nbsp;<span class="ident" id="7150621">lineno</span><span class="op" id="7150627">,</span>&nbsp;<span class="ident" id="7150629">pattern</span><span class="op" id="7150636">,</span>&nbsp;<span class="ident" id="7150638">text</span><span class="op" id="7150642">,</span>&nbsp;<span class="ident" id="7150644">have</span><span class="op" id="7150648">,</span>&nbsp;<span class="ident" id="7150650">pos</span><span class="op" id="7150653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7150658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7150662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7150665">}</span><br>
<span class="lineno"></span><span class="op" id="7150667">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="7150670">func</span>&nbsp;<span class="ident" id="7150675">parseFowlerResult</span><span class="op" id="7150692">(</span><span class="ident" id="7150693">s</span>&nbsp;<span class="builtintype" id="7150695">string</span><span class="op" id="7150701">)</span>&nbsp;<span class="op" id="7150703">(</span><span class="ident" id="7150704">ok</span><span class="op" id="7150706">,</span>&nbsp;<span class="ident" id="7150708">compiled</span><span class="op" id="7150716">,</span>&nbsp;<span class="ident" id="7150718">matched</span>&nbsp;<span class="builtintype" id="7150726">bool</span><span class="op" id="7150730">,</span>&nbsp;<span class="ident" id="7150732">pos</span>&nbsp;<span class="op" id="7150736">[</span><span class="op" id="7150737">]</span><span class="builtintype" id="7150738">int</span><span class="op" id="7150741">)</span>&nbsp;<span class="op" id="7150743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7150746">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7150817">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7150887">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7150956">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151026">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151095">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151166">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151241">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151317">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151390">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151466">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151542">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151614">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151689">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7151707">switch</span>&nbsp;<span class="op" id="7151714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7151717">case</span>&nbsp;<span class="ident" id="7151722">s</span>&nbsp;<span class="op" id="7151724">==</span>&nbsp;<span class="string" id="7151727">&#34;&#34;</span><span class="op" id="7151729">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151733">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7151774">ok</span>&nbsp;<span class="op" id="7151777">=</span>&nbsp;<span class="builtintype" id="7151779">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7151786">compiled</span>&nbsp;<span class="op" id="7151795">=</span>&nbsp;<span class="builtintype" id="7151797">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7151804">matched</span>&nbsp;<span class="op" id="7151812">=</span>&nbsp;<span class="builtintype" id="7151814">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7151821">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7151829">case</span>&nbsp;<span class="ident" id="7151834">s</span>&nbsp;<span class="op" id="7151836">==</span>&nbsp;<span class="string" id="7151839">&#34;NOMATCH&#34;</span><span class="op" id="7151848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151852">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7151872">ok</span>&nbsp;<span class="op" id="7151875">=</span>&nbsp;<span class="builtintype" id="7151877">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7151884">compiled</span>&nbsp;<span class="op" id="7151893">=</span>&nbsp;<span class="builtintype" id="7151895">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7151902">matched</span>&nbsp;<span class="op" id="7151910">=</span>&nbsp;<span class="builtintype" id="7151912">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7151920">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7151928">case</span>&nbsp;<span class="string" id="7151933">&#39;A&#39;</span>&nbsp;<span class="op" id="7151937">&lt;=</span>&nbsp;<span class="ident" id="7151940">s</span><span class="op" id="7151941">[</span><span class="num" id="7151942">0</span><span class="op" id="7151943">]</span>&nbsp;<span class="op" id="7151945">&amp;&amp;</span>&nbsp;<span class="ident" id="7151948">s</span><span class="op" id="7151949">[</span><span class="num" id="7151950">0</span><span class="op" id="7151951">]</span>&nbsp;<span class="op" id="7151953">&lt;=</span>&nbsp;<span class="string" id="7151956">&#39;Z&#39;</span><span class="op" id="7151959">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7151963">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152014">ok</span>&nbsp;<span class="op" id="7152017">=</span>&nbsp;<span class="builtintype" id="7152019">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152026">compiled</span>&nbsp;<span class="op" id="7152035">=</span>&nbsp;<span class="builtintype" id="7152037">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152045">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152053">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152056">compiled</span>&nbsp;<span class="op" id="7152065">=</span>&nbsp;<span class="builtintype" id="7152067">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152074">var</span>&nbsp;<span class="ident" id="7152078">x</span>&nbsp;<span class="op" id="7152080">[</span><span class="op" id="7152081">]</span><span class="builtintype" id="7152082">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152087">for</span>&nbsp;<span class="ident" id="7152091">s</span>&nbsp;<span class="op" id="7152093">!=</span>&nbsp;<span class="string" id="7152096">&#34;&#34;</span>&nbsp;<span class="op" id="7152099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152103">var</span>&nbsp;<span class="ident" id="7152107">end</span>&nbsp;<span class="builtintype" id="7152111">byte</span>&nbsp;<span class="op" id="7152116">=</span>&nbsp;<span class="string" id="7152118">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152124">if</span>&nbsp;<span class="builtinfunc" id="7152127">len</span><span class="op" id="7152130">(</span><span class="ident" id="7152131">x</span><span class="op" id="7152132">)</span><span class="op" id="7152133">%</span><span class="num" id="7152134">2</span>&nbsp;<span class="op" id="7152136">==</span>&nbsp;<span class="num" id="7152139">0</span>&nbsp;<span class="op" id="7152141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152146">if</span>&nbsp;<span class="ident" id="7152149">s</span><span class="op" id="7152150">[</span><span class="num" id="7152151">0</span><span class="op" id="7152152">]</span>&nbsp;<span class="op" id="7152154">!=</span>&nbsp;<span class="string" id="7152157">&#39;(&#39;</span>&nbsp;<span class="op" id="7152161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152167">ok</span>&nbsp;<span class="op" id="7152170">=</span>&nbsp;<span class="builtintype" id="7152172">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152182">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152192">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152197">s</span>&nbsp;<span class="op" id="7152199">=</span>&nbsp;<span class="ident" id="7152201">s</span><span class="op" id="7152202">[</span><span class="num" id="7152203">1</span><span class="op" id="7152204">:</span><span class="op" id="7152205">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152210">end</span>&nbsp;<span class="op" id="7152214">=</span>&nbsp;<span class="string" id="7152216">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152226">i</span>&nbsp;<span class="op" id="7152228">:=</span>&nbsp;<span class="num" id="7152231">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152235">for</span>&nbsp;<span class="ident" id="7152239">i</span>&nbsp;<span class="op" id="7152241">&lt;</span>&nbsp;<span class="builtinfunc" id="7152243">len</span><span class="op" id="7152246">(</span><span class="ident" id="7152247">s</span><span class="op" id="7152248">)</span>&nbsp;<span class="op" id="7152250">&amp;&amp;</span>&nbsp;<span class="ident" id="7152253">s</span><span class="op" id="7152254">[</span><span class="ident" id="7152255">i</span><span class="op" id="7152256">]</span>&nbsp;<span class="op" id="7152258">!=</span>&nbsp;<span class="ident" id="7152261">end</span>&nbsp;<span class="op" id="7152265">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152270">i</span><span class="op" id="7152271">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152280">if</span>&nbsp;<span class="ident" id="7152283">i</span>&nbsp;<span class="op" id="7152285">==</span>&nbsp;<span class="num" id="7152288">0</span>&nbsp;<span class="op" id="7152290">||</span>&nbsp;<span class="ident" id="7152293">i</span>&nbsp;<span class="op" id="7152295">==</span>&nbsp;<span class="builtinfunc" id="7152298">len</span><span class="op" id="7152301">(</span><span class="ident" id="7152302">s</span><span class="op" id="7152303">)</span>&nbsp;<span class="op" id="7152305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152310">ok</span>&nbsp;<span class="op" id="7152313">=</span>&nbsp;<span class="builtintype" id="7152315">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152324">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152337">var</span>&nbsp;<span class="ident" id="7152341">v</span>&nbsp;<span class="op" id="7152343">=</span>&nbsp;<span class="op" id="7152345">-</span><span class="num" id="7152346">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152350">var</span>&nbsp;<span class="ident" id="7152354">err</span>&nbsp;<span class="builtintype" id="7152358">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152366">if</span>&nbsp;<span class="ident" id="7152369">s</span><span class="op" id="7152370">[</span><span class="op" id="7152371">:</span><span class="ident" id="7152372">i</span><span class="op" id="7152373">]</span>&nbsp;<span class="op" id="7152375">!=</span>&nbsp;<span class="string" id="7152378">&#34;?&#34;</span>&nbsp;<span class="op" id="7152382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152387">v</span><span class="op" id="7152388">,</span>&nbsp;<span class="ident" id="7152390">err</span>&nbsp;<span class="op" id="7152394">=</span>&nbsp;<span class="ident" id="7152396">strconv</span><span class="op" id="7152403">.</span><span class="ident" id="7152404">Atoi</span><span class="op" id="7152408">(</span><span class="ident" id="7152409">s</span><span class="op" id="7152410">[</span><span class="op" id="7152411">:</span><span class="ident" id="7152412">i</span><span class="op" id="7152413">]</span><span class="op" id="7152414">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152419">if</span>&nbsp;<span class="ident" id="7152422">err</span>&nbsp;<span class="op" id="7152426">!=</span>&nbsp;<span class="builtintype" id="7152429">nil</span>&nbsp;<span class="op" id="7152433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152439">ok</span>&nbsp;<span class="op" id="7152442">=</span>&nbsp;<span class="builtintype" id="7152444">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152454">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152468">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152472">x</span>&nbsp;<span class="op" id="7152474">=</span>&nbsp;<span class="builtinfunc" id="7152476">append</span><span class="op" id="7152482">(</span><span class="ident" id="7152483">x</span><span class="op" id="7152484">,</span>&nbsp;<span class="ident" id="7152486">v</span><span class="op" id="7152487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152491">s</span>&nbsp;<span class="op" id="7152493">=</span>&nbsp;<span class="ident" id="7152495">s</span><span class="op" id="7152496">[</span><span class="ident" id="7152497">i</span><span class="op" id="7152498">+</span><span class="num" id="7152499">1</span><span class="op" id="7152500">:</span><span class="op" id="7152501">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152507">if</span>&nbsp;<span class="builtinfunc" id="7152510">len</span><span class="op" id="7152513">(</span><span class="ident" id="7152514">x</span><span class="op" id="7152515">)</span><span class="op" id="7152516">%</span><span class="num" id="7152517">2</span>&nbsp;<span class="op" id="7152519">!=</span>&nbsp;<span class="num" id="7152522">0</span>&nbsp;<span class="op" id="7152524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152528">ok</span>&nbsp;<span class="op" id="7152531">=</span>&nbsp;<span class="builtintype" id="7152533">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152541">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152552">ok</span>&nbsp;<span class="op" id="7152555">=</span>&nbsp;<span class="builtintype" id="7152557">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152563">matched</span>&nbsp;<span class="op" id="7152571">=</span>&nbsp;<span class="builtintype" id="7152573">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152579">pos</span>&nbsp;<span class="op" id="7152583">=</span>&nbsp;<span class="ident" id="7152585">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152588">return</span><br>
<span class="lineno"></span><span class="op" id="7152595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7152598">var</span>&nbsp;<span class="ident" id="7152602">text</span>&nbsp;<span class="op" id="7152607">[</span><span class="op" id="7152608">]</span><span class="builtintype" id="7152609">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="7152615">func</span>&nbsp;<span class="ident" id="7152620">makeText</span><span class="op" id="7152628">(</span><span class="ident" id="7152629">n</span>&nbsp;<span class="builtintype" id="7152631">int</span><span class="op" id="7152634">)</span>&nbsp;<span class="op" id="7152636">[</span><span class="op" id="7152637">]</span><span class="builtintype" id="7152638">byte</span>&nbsp;<span class="op" id="7152643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152646">if</span>&nbsp;<span class="builtinfunc" id="7152649">len</span><span class="op" id="7152652">(</span><span class="ident" id="7152653">text</span><span class="op" id="7152657">)</span>&nbsp;<span class="op" id="7152659">&gt;=</span>&nbsp;<span class="ident" id="7152662">n</span>&nbsp;<span class="op" id="7152664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152668">return</span>&nbsp;<span class="ident" id="7152675">text</span><span class="op" id="7152679">[</span><span class="op" id="7152680">:</span><span class="ident" id="7152681">n</span><span class="op" id="7152682">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152688">text</span>&nbsp;<span class="op" id="7152693">=</span>&nbsp;<span class="builtinfunc" id="7152695">make</span><span class="op" id="7152699">(</span><span class="op" id="7152700">[</span><span class="op" id="7152701">]</span><span class="builtintype" id="7152702">byte</span><span class="op" id="7152706">,</span>&nbsp;<span class="ident" id="7152708">n</span><span class="op" id="7152709">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152712">x</span>&nbsp;<span class="op" id="7152714">:=</span>&nbsp;<span class="op" id="7152717">^</span><span class="builtintype" id="7152718">uint32</span><span class="op" id="7152724">(</span><span class="num" id="7152725">0</span><span class="op" id="7152726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152729">for</span>&nbsp;<span class="ident" id="7152733">i</span>&nbsp;<span class="op" id="7152735">:=</span>&nbsp;<span class="keyword" id="7152738">range</span>&nbsp;<span class="ident" id="7152744">text</span>&nbsp;<span class="op" id="7152749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152753">x</span>&nbsp;<span class="op" id="7152755">+=</span>&nbsp;<span class="ident" id="7152758">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152762">x</span>&nbsp;<span class="op" id="7152764">^=</span>&nbsp;<span class="num" id="7152767">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152771">if</span>&nbsp;<span class="builtintype" id="7152774">int32</span><span class="op" id="7152779">(</span><span class="ident" id="7152780">x</span><span class="op" id="7152781">)</span>&nbsp;<span class="op" id="7152783">&lt;</span>&nbsp;<span class="num" id="7152785">0</span>&nbsp;<span class="op" id="7152787">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152792">x</span>&nbsp;<span class="op" id="7152794">^=</span>&nbsp;<span class="num" id="7152797">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152814">if</span>&nbsp;<span class="ident" id="7152817">x</span><span class="op" id="7152818">%</span><span class="num" id="7152819">31</span>&nbsp;<span class="op" id="7152822">==</span>&nbsp;<span class="num" id="7152825">0</span>&nbsp;<span class="op" id="7152827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152832">text</span><span class="op" id="7152836">[</span><span class="ident" id="7152837">i</span><span class="op" id="7152838">]</span>&nbsp;<span class="op" id="7152840">=</span>&nbsp;<span class="string" id="7152842">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152849">}</span>&nbsp;<span class="keyword" id="7152851">else</span>&nbsp;<span class="op" id="7152856">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152861">text</span><span class="op" id="7152865">[</span><span class="ident" id="7152866">i</span><span class="op" id="7152867">]</span>&nbsp;<span class="op" id="7152869">=</span>&nbsp;<span class="builtintype" id="7152871">byte</span><span class="op" id="7152875">(</span><span class="ident" id="7152876">x</span><span class="op" id="7152877">%</span><span class="op" id="7152878">(</span><span class="num" id="7152879">0x7E</span><span class="op" id="7152883">+</span><span class="num" id="7152884">1</span><span class="op" id="7152885">-</span><span class="num" id="7152886">0x20</span><span class="op" id="7152890">)</span>&nbsp;<span class="op" id="7152892">+</span>&nbsp;<span class="num" id="7152894">0x20</span><span class="op" id="7152898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7152905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7152908">return</span>&nbsp;<span class="ident" id="7152915">text</span><br>
<span class="lineno"></span><span class="op" id="7152920">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7152923">func</span>&nbsp;<span class="ident" id="7152928">benchmark</span><span class="op" id="7152937">(</span><span class="ident" id="7152938">b</span>&nbsp;<span class="op" id="7152940">*</span><span class="ident" id="7152941">testing</span><span class="op" id="7152948">.</span><span class="ident" id="7152949">B</span><span class="op" id="7152950">,</span>&nbsp;<span class="ident" id="7152952">re</span>&nbsp;<span class="builtintype" id="7152955">string</span><span class="op" id="7152961">,</span>&nbsp;<span class="ident" id="7152963">n</span>&nbsp;<span class="builtintype" id="7152965">int</span><span class="op" id="7152968">)</span>&nbsp;<span class="op" id="7152970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152973">r</span>&nbsp;<span class="op" id="7152975">:=</span>&nbsp;<span class="ident" id="7152978">MustCompile</span><span class="op" id="7152989">(</span><span class="ident" id="7152990">re</span><span class="op" id="7152992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7152995">t</span>&nbsp;<span class="op" id="7152997">:=</span>&nbsp;<span class="ident" id="7153000">makeText</span><span class="op" id="7153008">(</span><span class="ident" id="7153009">n</span><span class="op" id="7153010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7153013">b</span><span class="op" id="7153014">.</span><span class="ident" id="7153015">ResetTimer</span><span class="op" id="7153025">(</span><span class="op" id="7153026">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7153029">b</span><span class="op" id="7153030">.</span><span class="ident" id="7153031">SetBytes</span><span class="op" id="7153039">(</span><span class="builtintype" id="7153040">int64</span><span class="op" id="7153045">(</span><span class="ident" id="7153046">n</span><span class="op" id="7153047">)</span><span class="op" id="7153048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7153051">for</span>&nbsp;<span class="ident" id="7153055">i</span>&nbsp;<span class="op" id="7153057">:=</span>&nbsp;<span class="num" id="7153060">0</span><span class="op" id="7153061">;</span>&nbsp;<span class="ident" id="7153063">i</span>&nbsp;<span class="op" id="7153065">&lt;</span>&nbsp;<span class="ident" id="7153067">b</span><span class="op" id="7153068">.</span><span class="ident" id="7153069">N</span><span class="op" id="7153070">;</span>&nbsp;<span class="ident" id="7153072">i</span><span class="op" id="7153073">++</span>&nbsp;<span class="op" id="7153076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7153080">if</span>&nbsp;<span class="ident" id="7153083">r</span><span class="op" id="7153084">.</span><span class="ident" id="7153085">Match</span><span class="op" id="7153090">(</span><span class="ident" id="7153091">t</span><span class="op" id="7153092">)</span>&nbsp;<span class="op" id="7153094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7153099">b</span><span class="op" id="7153100">.</span><span class="ident" id="7153101">Fatal</span><span class="op" id="7153106">(</span><span class="string" id="7153107">&#34;match!&#34;</span><span class="op" id="7153115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7153119">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7153122">}</span><br>
<span class="lineno"></span><span class="op" id="7153124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7153127">const</span>&nbsp;<span class="op" id="7153133">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7153136">easy0</span>&nbsp;&nbsp;<span class="op" id="7153143">=</span>&nbsp;<span class="string" id="7153145">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7153176">easy1</span>&nbsp;&nbsp;<span class="op" id="7153183">=</span>&nbsp;<span class="string" id="7153185">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7153236">medium</span>&nbsp;<span class="op" id="7153243">=</span>&nbsp;<span class="string" id="7153245">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7153281">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7153288">=</span>&nbsp;<span class="string" id="7153290">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7153327">parens</span>&nbsp;<span class="op" id="7153334">=</span>&nbsp;<span class="string" id="7153336">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="7153386">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7153390">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="7153433">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7153436">func</span>&nbsp;<span class="ident" id="7153441">BenchmarkMatchEasy0_32</span><span class="op" id="7153463">(</span><span class="ident" id="7153464">b</span>&nbsp;<span class="op" id="7153466">*</span><span class="ident" id="7153467">testing</span><span class="op" id="7153474">.</span><span class="ident" id="7153475">B</span><span class="op" id="7153476">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7153480">{</span>&nbsp;<span class="ident" id="7153482">benchmark</span><span class="op" id="7153491">(</span><span class="ident" id="7153492">b</span><span class="op" id="7153493">,</span>&nbsp;<span class="ident" id="7153495">easy0</span><span class="op" id="7153500">,</span>&nbsp;<span class="num" id="7153502">32</span><span class="op" id="7153504">&lt;&lt;</span><span class="num" id="7153506">0</span><span class="op" id="7153507">)</span>&nbsp;<span class="op" id="7153509">}</span><br>
<span class="lineno"></span><span class="keyword" id="7153511">func</span>&nbsp;<span class="ident" id="7153516">BenchmarkMatchEasy0_1K</span><span class="op" id="7153538">(</span><span class="ident" id="7153539">b</span>&nbsp;<span class="op" id="7153541">*</span><span class="ident" id="7153542">testing</span><span class="op" id="7153549">.</span><span class="ident" id="7153550">B</span><span class="op" id="7153551">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7153555">{</span>&nbsp;<span class="ident" id="7153557">benchmark</span><span class="op" id="7153566">(</span><span class="ident" id="7153567">b</span><span class="op" id="7153568">,</span>&nbsp;<span class="ident" id="7153570">easy0</span><span class="op" id="7153575">,</span>&nbsp;<span class="num" id="7153577">1</span><span class="op" id="7153578">&lt;&lt;</span><span class="num" id="7153580">10</span><span class="op" id="7153582">)</span>&nbsp;<span class="op" id="7153584">}</span><br>
<span class="lineno"></span><span class="keyword" id="7153586">func</span>&nbsp;<span class="ident" id="7153591">BenchmarkMatchEasy0_32K</span><span class="op" id="7153614">(</span><span class="ident" id="7153615">b</span>&nbsp;<span class="op" id="7153617">*</span><span class="ident" id="7153618">testing</span><span class="op" id="7153625">.</span><span class="ident" id="7153626">B</span><span class="op" id="7153627">)</span>&nbsp;&nbsp;<span class="op" id="7153630">{</span>&nbsp;<span class="ident" id="7153632">benchmark</span><span class="op" id="7153641">(</span><span class="ident" id="7153642">b</span><span class="op" id="7153643">,</span>&nbsp;<span class="ident" id="7153645">easy0</span><span class="op" id="7153650">,</span>&nbsp;<span class="num" id="7153652">32</span><span class="op" id="7153654">&lt;&lt;</span><span class="num" id="7153656">10</span><span class="op" id="7153658">)</span>&nbsp;<span class="op" id="7153660">}</span><br>
<span class="lineno">685</span><span class="keyword" id="7153662">func</span>&nbsp;<span class="ident" id="7153667">BenchmarkMatchEasy0_1M</span><span class="op" id="7153689">(</span><span class="ident" id="7153690">b</span>&nbsp;<span class="op" id="7153692">*</span><span class="ident" id="7153693">testing</span><span class="op" id="7153700">.</span><span class="ident" id="7153701">B</span><span class="op" id="7153702">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7153706">{</span>&nbsp;<span class="ident" id="7153708">benchmark</span><span class="op" id="7153717">(</span><span class="ident" id="7153718">b</span><span class="op" id="7153719">,</span>&nbsp;<span class="ident" id="7153721">easy0</span><span class="op" id="7153726">,</span>&nbsp;<span class="num" id="7153728">1</span><span class="op" id="7153729">&lt;&lt;</span><span class="num" id="7153731">20</span><span class="op" id="7153733">)</span>&nbsp;<span class="op" id="7153735">}</span><br>
<span class="lineno"></span><span class="keyword" id="7153737">func</span>&nbsp;<span class="ident" id="7153742">BenchmarkMatchEasy0_32M</span><span class="op" id="7153765">(</span><span class="ident" id="7153766">b</span>&nbsp;<span class="op" id="7153768">*</span><span class="ident" id="7153769">testing</span><span class="op" id="7153776">.</span><span class="ident" id="7153777">B</span><span class="op" id="7153778">)</span>&nbsp;&nbsp;<span class="op" id="7153781">{</span>&nbsp;<span class="ident" id="7153783">benchmark</span><span class="op" id="7153792">(</span><span class="ident" id="7153793">b</span><span class="op" id="7153794">,</span>&nbsp;<span class="ident" id="7153796">easy0</span><span class="op" id="7153801">,</span>&nbsp;<span class="num" id="7153803">32</span><span class="op" id="7153805">&lt;&lt;</span><span class="num" id="7153807">20</span><span class="op" id="7153809">)</span>&nbsp;<span class="op" id="7153811">}</span><br>
<span class="lineno"></span><span class="keyword" id="7153813">func</span>&nbsp;<span class="ident" id="7153818">BenchmarkMatchEasy1_32</span><span class="op" id="7153840">(</span><span class="ident" id="7153841">b</span>&nbsp;<span class="op" id="7153843">*</span><span class="ident" id="7153844">testing</span><span class="op" id="7153851">.</span><span class="ident" id="7153852">B</span><span class="op" id="7153853">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7153857">{</span>&nbsp;<span class="ident" id="7153859">benchmark</span><span class="op" id="7153868">(</span><span class="ident" id="7153869">b</span><span class="op" id="7153870">,</span>&nbsp;<span class="ident" id="7153872">easy1</span><span class="op" id="7153877">,</span>&nbsp;<span class="num" id="7153879">32</span><span class="op" id="7153881">&lt;&lt;</span><span class="num" id="7153883">0</span><span class="op" id="7153884">)</span>&nbsp;<span class="op" id="7153886">}</span><br>
<span class="lineno"></span><span class="keyword" id="7153888">func</span>&nbsp;<span class="ident" id="7153893">BenchmarkMatchEasy1_1K</span><span class="op" id="7153915">(</span><span class="ident" id="7153916">b</span>&nbsp;<span class="op" id="7153918">*</span><span class="ident" id="7153919">testing</span><span class="op" id="7153926">.</span><span class="ident" id="7153927">B</span><span class="op" id="7153928">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7153932">{</span>&nbsp;<span class="ident" id="7153934">benchmark</span><span class="op" id="7153943">(</span><span class="ident" id="7153944">b</span><span class="op" id="7153945">,</span>&nbsp;<span class="ident" id="7153947">easy1</span><span class="op" id="7153952">,</span>&nbsp;<span class="num" id="7153954">1</span><span class="op" id="7153955">&lt;&lt;</span><span class="num" id="7153957">10</span><span class="op" id="7153959">)</span>&nbsp;<span class="op" id="7153961">}</span><br>
<span class="lineno"></span><span class="keyword" id="7153963">func</span>&nbsp;<span class="ident" id="7153968">BenchmarkMatchEasy1_32K</span><span class="op" id="7153991">(</span><span class="ident" id="7153992">b</span>&nbsp;<span class="op" id="7153994">*</span><span class="ident" id="7153995">testing</span><span class="op" id="7154002">.</span><span class="ident" id="7154003">B</span><span class="op" id="7154004">)</span>&nbsp;&nbsp;<span class="op" id="7154007">{</span>&nbsp;<span class="ident" id="7154009">benchmark</span><span class="op" id="7154018">(</span><span class="ident" id="7154019">b</span><span class="op" id="7154020">,</span>&nbsp;<span class="ident" id="7154022">easy1</span><span class="op" id="7154027">,</span>&nbsp;<span class="num" id="7154029">32</span><span class="op" id="7154031">&lt;&lt;</span><span class="num" id="7154033">10</span><span class="op" id="7154035">)</span>&nbsp;<span class="op" id="7154037">}</span><br>
<span class="lineno">690</span><span class="keyword" id="7154039">func</span>&nbsp;<span class="ident" id="7154044">BenchmarkMatchEasy1_1M</span><span class="op" id="7154066">(</span><span class="ident" id="7154067">b</span>&nbsp;<span class="op" id="7154069">*</span><span class="ident" id="7154070">testing</span><span class="op" id="7154077">.</span><span class="ident" id="7154078">B</span><span class="op" id="7154079">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7154083">{</span>&nbsp;<span class="ident" id="7154085">benchmark</span><span class="op" id="7154094">(</span><span class="ident" id="7154095">b</span><span class="op" id="7154096">,</span>&nbsp;<span class="ident" id="7154098">easy1</span><span class="op" id="7154103">,</span>&nbsp;<span class="num" id="7154105">1</span><span class="op" id="7154106">&lt;&lt;</span><span class="num" id="7154108">20</span><span class="op" id="7154110">)</span>&nbsp;<span class="op" id="7154112">}</span><br>
<span class="lineno"></span><span class="keyword" id="7154114">func</span>&nbsp;<span class="ident" id="7154119">BenchmarkMatchEasy1_32M</span><span class="op" id="7154142">(</span><span class="ident" id="7154143">b</span>&nbsp;<span class="op" id="7154145">*</span><span class="ident" id="7154146">testing</span><span class="op" id="7154153">.</span><span class="ident" id="7154154">B</span><span class="op" id="7154155">)</span>&nbsp;&nbsp;<span class="op" id="7154158">{</span>&nbsp;<span class="ident" id="7154160">benchmark</span><span class="op" id="7154169">(</span><span class="ident" id="7154170">b</span><span class="op" id="7154171">,</span>&nbsp;<span class="ident" id="7154173">easy1</span><span class="op" id="7154178">,</span>&nbsp;<span class="num" id="7154180">32</span><span class="op" id="7154182">&lt;&lt;</span><span class="num" id="7154184">20</span><span class="op" id="7154186">)</span>&nbsp;<span class="op" id="7154188">}</span><br>
<span class="lineno"></span><span class="keyword" id="7154190">func</span>&nbsp;<span class="ident" id="7154195">BenchmarkMatchMedium_32</span><span class="op" id="7154218">(</span><span class="ident" id="7154219">b</span>&nbsp;<span class="op" id="7154221">*</span><span class="ident" id="7154222">testing</span><span class="op" id="7154229">.</span><span class="ident" id="7154230">B</span><span class="op" id="7154231">)</span>&nbsp;&nbsp;<span class="op" id="7154234">{</span>&nbsp;<span class="ident" id="7154236">benchmark</span><span class="op" id="7154245">(</span><span class="ident" id="7154246">b</span><span class="op" id="7154247">,</span>&nbsp;<span class="ident" id="7154249">medium</span><span class="op" id="7154255">,</span>&nbsp;<span class="num" id="7154257">32</span><span class="op" id="7154259">&lt;&lt;</span><span class="num" id="7154261">0</span><span class="op" id="7154262">)</span>&nbsp;<span class="op" id="7154264">}</span><br>
<span class="lineno"></span><span class="keyword" id="7154266">func</span>&nbsp;<span class="ident" id="7154271">BenchmarkMatchMedium_1K</span><span class="op" id="7154294">(</span><span class="ident" id="7154295">b</span>&nbsp;<span class="op" id="7154297">*</span><span class="ident" id="7154298">testing</span><span class="op" id="7154305">.</span><span class="ident" id="7154306">B</span><span class="op" id="7154307">)</span>&nbsp;&nbsp;<span class="op" id="7154310">{</span>&nbsp;<span class="ident" id="7154312">benchmark</span><span class="op" id="7154321">(</span><span class="ident" id="7154322">b</span><span class="op" id="7154323">,</span>&nbsp;<span class="ident" id="7154325">medium</span><span class="op" id="7154331">,</span>&nbsp;<span class="num" id="7154333">1</span><span class="op" id="7154334">&lt;&lt;</span><span class="num" id="7154336">10</span><span class="op" id="7154338">)</span>&nbsp;<span class="op" id="7154340">}</span><br>
<span class="lineno"></span><span class="keyword" id="7154342">func</span>&nbsp;<span class="ident" id="7154347">BenchmarkMatchMedium_32K</span><span class="op" id="7154371">(</span><span class="ident" id="7154372">b</span>&nbsp;<span class="op" id="7154374">*</span><span class="ident" id="7154375">testing</span><span class="op" id="7154382">.</span><span class="ident" id="7154383">B</span><span class="op" id="7154384">)</span>&nbsp;<span class="op" id="7154386">{</span>&nbsp;<span class="ident" id="7154388">benchmark</span><span class="op" id="7154397">(</span><span class="ident" id="7154398">b</span><span class="op" id="7154399">,</span>&nbsp;<span class="ident" id="7154401">medium</span><span class="op" id="7154407">,</span>&nbsp;<span class="num" id="7154409">32</span><span class="op" id="7154411">&lt;&lt;</span><span class="num" id="7154413">10</span><span class="op" id="7154415">)</span>&nbsp;<span class="op" id="7154417">}</span><br>
<span class="lineno">695</span><span class="keyword" id="7154419">func</span>&nbsp;<span class="ident" id="7154424">BenchmarkMatchMedium_1M</span><span class="op" id="7154447">(</span><span class="ident" id="7154448">b</span>&nbsp;<span class="op" id="7154450">*</span><span class="ident" id="7154451">testing</span><span class="op" id="7154458">.</span><span class="ident" id="7154459">B</span><span class="op" id="7154460">)</span>&nbsp;&nbsp;<span class="op" id="7154463">{</span>&nbsp;<span class="ident" id="7154465">benchmark</span><span class="op" id="7154474">(</span><span class="ident" id="7154475">b</span><span class="op" id="7154476">,</span>&nbsp;<span class="ident" id="7154478">medium</span><span class="op" id="7154484">,</span>&nbsp;<span class="num" id="7154486">1</span><span class="op" id="7154487">&lt;&lt;</span><span class="num" id="7154489">20</span><span class="op" id="7154491">)</span>&nbsp;<span class="op" id="7154493">}</span><br>
<span class="lineno"></span><span class="keyword" id="7154495">func</span>&nbsp;<span class="ident" id="7154500">BenchmarkMatchMedium_32M</span><span class="op" id="7154524">(</span><span class="ident" id="7154525">b</span>&nbsp;<span class="op" id="7154527">*</span><span class="ident" id="7154528">testing</span><span class="op" id="7154535">.</span><span class="ident" id="7154536">B</span><span class="op" id="7154537">)</span>&nbsp;<span class="op" id="7154539">{</span>&nbsp;<span class="ident" id="7154541">benchmark</span><span class="op" id="7154550">(</span><span class="ident" id="7154551">b</span><span class="op" id="7154552">,</span>&nbsp;<span class="ident" id="7154554">medium</span><span class="op" id="7154560">,</span>&nbsp;<span class="num" id="7154562">32</span><span class="op" id="7154564">&lt;&lt;</span><span class="num" id="7154566">20</span><span class="op" id="7154568">)</span>&nbsp;<span class="op" id="7154570">}</span><br>
<span class="lineno"></span><span class="keyword" id="7154572">func</span>&nbsp;<span class="ident" id="7154577">BenchmarkMatchHard_32</span><span class="op" id="7154598">(</span><span class="ident" id="7154599">b</span>&nbsp;<span class="op" id="7154601">*</span><span class="ident" id="7154602">testing</span><span class="op" id="7154609">.</span><span class="ident" id="7154610">B</span><span class="op" id="7154611">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7154616">{</span>&nbsp;<span class="ident" id="7154618">benchmark</span><span class="op" id="7154627">(</span><span class="ident" id="7154628">b</span><span class="op" id="7154629">,</span>&nbsp;<span class="ident" id="7154631">hard</span><span class="op" id="7154635">,</span>&nbsp;<span class="num" id="7154637">32</span><span class="op" id="7154639">&lt;&lt;</span><span class="num" id="7154641">0</span><span class="op" id="7154642">)</span>&nbsp;<span class="op" id="7154644">}</span><br>
<span class="lineno"></span><span class="keyword" id="7154646">func</span>&nbsp;<span class="ident" id="7154651">BenchmarkMatchHard_1K</span><span class="op" id="7154672">(</span><span class="ident" id="7154673">b</span>&nbsp;<span class="op" id="7154675">*</span><span class="ident" id="7154676">testing</span><span class="op" id="7154683">.</span><span class="ident" id="7154684">B</span><span class="op" id="7154685">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7154690">{</span>&nbsp;<span class="ident" id="7154692">benchmark</span><span class="op" id="7154701">(</span><span class="ident" id="7154702">b</span><span class="op" id="7154703">,</span>&nbsp;<span class="ident" id="7154705">hard</span><span class="op" id="7154709">,</span>&nbsp;<span class="num" id="7154711">1</span><span class="op" id="7154712">&lt;&lt;</span><span class="num" id="7154714">10</span><span class="op" id="7154716">)</span>&nbsp;<span class="op" id="7154718">}</span><br>
<span class="lineno"></span><span class="keyword" id="7154720">func</span>&nbsp;<span class="ident" id="7154725">BenchmarkMatchHard_32K</span><span class="op" id="7154747">(</span><span class="ident" id="7154748">b</span>&nbsp;<span class="op" id="7154750">*</span><span class="ident" id="7154751">testing</span><span class="op" id="7154758">.</span><span class="ident" id="7154759">B</span><span class="op" id="7154760">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7154764">{</span>&nbsp;<span class="ident" id="7154766">benchmark</span><span class="op" id="7154775">(</span><span class="ident" id="7154776">b</span><span class="op" id="7154777">,</span>&nbsp;<span class="ident" id="7154779">hard</span><span class="op" id="7154783">,</span>&nbsp;<span class="num" id="7154785">32</span><span class="op" id="7154787">&lt;&lt;</span><span class="num" id="7154789">10</span><span class="op" id="7154791">)</span>&nbsp;<span class="op" id="7154793">}</span><br>
<span class="lineno">700</span><span class="keyword" id="7154795">func</span>&nbsp;<span class="ident" id="7154800">BenchmarkMatchHard_1M</span><span class="op" id="7154821">(</span><span class="ident" id="7154822">b</span>&nbsp;<span class="op" id="7154824">*</span><span class="ident" id="7154825">testing</span><span class="op" id="7154832">.</span><span class="ident" id="7154833">B</span><span class="op" id="7154834">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7154839">{</span>&nbsp;<span class="ident" id="7154841">benchmark</span><span class="op" id="7154850">(</span><span class="ident" id="7154851">b</span><span class="op" id="7154852">,</span>&nbsp;<span class="ident" id="7154854">hard</span><span class="op" id="7154858">,</span>&nbsp;<span class="num" id="7154860">1</span><span class="op" id="7154861">&lt;&lt;</span><span class="num" id="7154863">20</span><span class="op" id="7154865">)</span>&nbsp;<span class="op" id="7154867">}</span><br>
<span class="lineno"></span><span class="keyword" id="7154869">func</span>&nbsp;<span class="ident" id="7154874">BenchmarkMatchHard_32M</span><span class="op" id="7154896">(</span><span class="ident" id="7154897">b</span>&nbsp;<span class="op" id="7154899">*</span><span class="ident" id="7154900">testing</span><span class="op" id="7154907">.</span><span class="ident" id="7154908">B</span><span class="op" id="7154909">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7154913">{</span>&nbsp;<span class="ident" id="7154915">benchmark</span><span class="op" id="7154924">(</span><span class="ident" id="7154925">b</span><span class="op" id="7154926">,</span>&nbsp;<span class="ident" id="7154928">hard</span><span class="op" id="7154932">,</span>&nbsp;<span class="num" id="7154934">32</span><span class="op" id="7154936">&lt;&lt;</span><span class="num" id="7154938">20</span><span class="op" id="7154940">)</span>&nbsp;<span class="op" id="7154942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7154945">func</span>&nbsp;<span class="ident" id="7154950">TestLongest</span><span class="op" id="7154961">(</span><span class="ident" id="7154962">t</span>&nbsp;<span class="op" id="7154964">*</span><span class="ident" id="7154965">testing</span><span class="op" id="7154972">.</span><span class="ident" id="7154973">T</span><span class="op" id="7154974">)</span>&nbsp;<span class="op" id="7154976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7154979">re</span><span class="op" id="7154981">,</span>&nbsp;<span class="ident" id="7154983">err</span>&nbsp;<span class="op" id="7154987">:=</span>&nbsp;<span class="ident" id="7154990">Compile</span><span class="op" id="7154997">(</span><span class="string" id="7154998">`a(|b)`</span><span class="op" id="7155005">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7155008">if</span>&nbsp;<span class="ident" id="7155011">err</span>&nbsp;<span class="op" id="7155015">!=</span>&nbsp;<span class="builtintype" id="7155018">nil</span>&nbsp;<span class="op" id="7155022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7155026">t</span><span class="op" id="7155027">.</span><span class="ident" id="7155028">Fatal</span><span class="op" id="7155033">(</span><span class="ident" id="7155034">err</span><span class="op" id="7155037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7155040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7155043">if</span>&nbsp;<span class="ident" id="7155046">g</span><span class="op" id="7155047">,</span>&nbsp;<span class="ident" id="7155049">w</span>&nbsp;<span class="op" id="7155051">:=</span>&nbsp;<span class="ident" id="7155054">re</span><span class="op" id="7155056">.</span><span class="ident" id="7155057">FindString</span><span class="op" id="7155067">(</span><span class="string" id="7155068">&#34;ab&#34;</span><span class="op" id="7155072">)</span><span class="op" id="7155073">,</span>&nbsp;<span class="string" id="7155075">&#34;a&#34;</span><span class="op" id="7155078">;</span>&nbsp;<span class="ident" id="7155080">g</span>&nbsp;<span class="op" id="7155082">!=</span>&nbsp;<span class="ident" id="7155085">w</span>&nbsp;<span class="op" id="7155087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7155091">t</span><span class="op" id="7155092">.</span><span class="ident" id="7155093">Errorf</span><span class="op" id="7155099">(</span><span class="string" id="7155100">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7155129">,</span>&nbsp;<span class="ident" id="7155131">g</span><span class="op" id="7155132">,</span>&nbsp;<span class="ident" id="7155134">w</span><span class="op" id="7155135">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7155138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7155141">re</span><span class="op" id="7155143">.</span><span class="ident" id="7155144">Longest</span><span class="op" id="7155151">(</span><span class="op" id="7155152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7155155">if</span>&nbsp;<span class="ident" id="7155158">g</span><span class="op" id="7155159">,</span>&nbsp;<span class="ident" id="7155161">w</span>&nbsp;<span class="op" id="7155163">:=</span>&nbsp;<span class="ident" id="7155166">re</span><span class="op" id="7155168">.</span><span class="ident" id="7155169">FindString</span><span class="op" id="7155179">(</span><span class="string" id="7155180">&#34;ab&#34;</span><span class="op" id="7155184">)</span><span class="op" id="7155185">,</span>&nbsp;<span class="string" id="7155187">&#34;ab&#34;</span><span class="op" id="7155191">;</span>&nbsp;<span class="ident" id="7155193">g</span>&nbsp;<span class="op" id="7155195">!=</span>&nbsp;<span class="ident" id="7155198">w</span>&nbsp;<span class="op" id="7155200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7155204">t</span><span class="op" id="7155205">.</span><span class="ident" id="7155206">Errorf</span><span class="op" id="7155212">(</span><span class="string" id="7155213">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7155244">,</span>&nbsp;<span class="ident" id="7155246">g</span><span class="op" id="7155247">,</span>&nbsp;<span class="ident" id="7155249">w</span><span class="op" id="7155250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7155253">}</span><br>
<span class="lineno">715</span><span class="op" id="7155255">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
