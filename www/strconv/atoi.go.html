<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1568617">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1568672">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1568726">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1568777">package</span>&nbsp;<span class="ident" id="1568785">strconv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1568794">import</span>&nbsp;<span class="string" id="1568801">&#34;errors&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1568811">//&nbsp;ErrRange&nbsp;indicates&nbsp;that&nbsp;a&nbsp;value&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;for&nbsp;the&nbsp;target&nbsp;type.</span><br>
<span class="lineno">10</span><span class="keyword" id="1568883">var</span>&nbsp;<span class="ident" id="1568887">ErrRange</span>&nbsp;<span class="op" id="1568896">=</span>&nbsp;<span class="ident" id="1568898"><a href="/strconv/atoi.go.html#1568801">errors</a></span><span class="op" id="1568904">.</span><span class="ident" id="1568905">New</span><span class="op" id="1568908">(</span><span class="string" id="1568909">&#34;value&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="1568929">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1568932">//&nbsp;ErrSyntax&nbsp;indicates&nbsp;that&nbsp;a&nbsp;value&nbsp;does&nbsp;not&nbsp;have&nbsp;the&nbsp;right&nbsp;syntax&nbsp;for&nbsp;the&nbsp;target&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1569020">var</span>&nbsp;<span class="ident" id="1569024">ErrSyntax</span>&nbsp;<span class="op" id="1569034">=</span>&nbsp;<span class="ident" id="1569036"><a href="/strconv/atoi.go.html#1568801">errors</a></span><span class="op" id="1569042">.</span><span class="ident" id="1569043">New</span><span class="op" id="1569046">(</span><span class="string" id="1569047">&#34;invalid&nbsp;syntax&#34;</span><span class="op" id="1569063">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="1569066">//&nbsp;A&nbsp;NumError&nbsp;records&nbsp;a&nbsp;failed&nbsp;conversion.</span><br>
<span class="lineno"></span><span class="keyword" id="1569109">type</span>&nbsp;<span class="ident" id="1569114">NumError</span>&nbsp;<span class="keyword" id="1569123">struct</span>&nbsp;<span class="op" id="1569130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1569133">Func</span>&nbsp;<span class="builtintype" id="1569138">string</span>&nbsp;<span class="comment" id="1569145">//&nbsp;the&nbsp;failing&nbsp;function&nbsp;(ParseBool,&nbsp;ParseInt,&nbsp;ParseUint,&nbsp;ParseFloat)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1569215">Num</span>&nbsp;&nbsp;<span class="builtintype" id="1569220">string</span>&nbsp;<span class="comment" id="1569227">//&nbsp;the&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1569241">Err</span>&nbsp;&nbsp;<span class="builtintype" id="1569246">error</span>&nbsp;&nbsp;<span class="comment" id="1569253">//&nbsp;the&nbsp;reason&nbsp;the&nbsp;conversion&nbsp;failed&nbsp;(ErrRange,&nbsp;ErrSyntax)</span><br>
<span class="lineno">20</span><span class="op" id="1569311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1569314">func</span>&nbsp;<span class="op" id="1569319">(</span><span class="ident" id="1569320">e</span>&nbsp;<span class="op" id="1569322">*</span><span class="ident" id="1569323"><a href="/strconv/atoi.go.html#1569114">NumError</a></span><span class="op" id="1569331">)</span>&nbsp;<span class="ident" id="1569333">Error</span><span class="op" id="1569338">(</span><span class="op" id="1569339">)</span>&nbsp;<span class="builtintype" id="1569341">string</span>&nbsp;<span class="op" id="1569348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569351">return</span>&nbsp;<span class="string" id="1569358">&#34;strconv.&#34;</span>&nbsp;<span class="op" id="1569369">+</span>&nbsp;<span class="ident" id="1569371"><a href="/strconv/atoi.go.html#1569320">e</a></span><span class="op" id="1569372">.</span><span class="ident" id="1569373">Func</span>&nbsp;<span class="op" id="1569378">+</span>&nbsp;<span class="string" id="1569380">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="1569385">+</span>&nbsp;<span class="string" id="1569387">&#34;parsing&nbsp;&#34;</span>&nbsp;<span class="op" id="1569398">+</span>&nbsp;<span class="ident" id="1569400"><a href="/strconv/quote.go.html#1628003">Quote</a></span><span class="op" id="1569405">(</span><span class="ident" id="1569406"><a href="/strconv/atoi.go.html#1569320">e</a></span><span class="op" id="1569407">.</span><span class="ident" id="1569408">Num</span><span class="op" id="1569411">)</span>&nbsp;<span class="op" id="1569413">+</span>&nbsp;<span class="string" id="1569415">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="1569420">+</span>&nbsp;<span class="ident" id="1569422"><a href="/strconv/atoi.go.html#1569320">e</a></span><span class="op" id="1569423">.</span><span class="ident" id="1569424">Err</span><span class="op" id="1569427">.</span><span class="ident" id="1569428">Error</span><span class="op" id="1569433">(</span><span class="op" id="1569434">)</span><br>
<span class="lineno"></span><span class="op" id="1569436">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="1569439">func</span>&nbsp;<span class="ident" id="1569444">syntaxError</span><span class="op" id="1569455">(</span><span class="ident" id="1569456">fn</span><span class="op" id="1569458">,</span>&nbsp;<span class="ident" id="1569460">str</span>&nbsp;<span class="builtintype" id="1569464">string</span><span class="op" id="1569470">)</span>&nbsp;<span class="op" id="1569472">*</span><span class="ident" id="1569473"><a href="/strconv/atoi.go.html#1569114">NumError</a></span>&nbsp;<span class="op" id="1569482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569485">return</span>&nbsp;<span class="op" id="1569492">&amp;</span><span class="ident" id="1569493"><a href="/strconv/atoi.go.html#1569114">NumError</a></span><span class="op" id="1569501">{</span><span class="ident" id="1569502"><a href="/strconv/atoi.go.html#1569456">fn</a></span><span class="op" id="1569504">,</span>&nbsp;<span class="ident" id="1569506"><a href="/strconv/atoi.go.html#1569460">str</a></span><span class="op" id="1569509">,</span>&nbsp;<span class="ident" id="1569511"><a href="/strconv/atoi.go.html#1569024">ErrSyntax</a></span><span class="op" id="1569520">}</span><br>
<span class="lineno"></span><span class="op" id="1569522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1569525">func</span>&nbsp;<span class="ident" id="1569530">rangeError</span><span class="op" id="1569540">(</span><span class="ident" id="1569541">fn</span><span class="op" id="1569543">,</span>&nbsp;<span class="ident" id="1569545">str</span>&nbsp;<span class="builtintype" id="1569549">string</span><span class="op" id="1569555">)</span>&nbsp;<span class="op" id="1569557">*</span><span class="ident" id="1569558"><a href="/strconv/atoi.go.html#1569114">NumError</a></span>&nbsp;<span class="op" id="1569567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569570">return</span>&nbsp;<span class="op" id="1569577">&amp;</span><span class="ident" id="1569578"><a href="/strconv/atoi.go.html#1569114">NumError</a></span><span class="op" id="1569586">{</span><span class="ident" id="1569587"><a href="/strconv/atoi.go.html#1569541">fn</a></span><span class="op" id="1569589">,</span>&nbsp;<span class="ident" id="1569591"><a href="/strconv/atoi.go.html#1569545">str</a></span><span class="op" id="1569594">,</span>&nbsp;<span class="ident" id="1569596"><a href="/strconv/atoi.go.html#1568887">ErrRange</a></span><span class="op" id="1569604">}</span><br>
<span class="lineno"></span><span class="op" id="1569606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1569609">const</span>&nbsp;<span class="ident" id="1569615">intSize</span>&nbsp;<span class="op" id="1569623">=</span>&nbsp;<span class="num" id="1569625">32</span>&nbsp;<span class="op" id="1569628">&lt;&lt;</span>&nbsp;<span class="op" id="1569631">(</span><span class="op" id="1569632">^</span><span class="builtintype" id="1569633">uint</span><span class="op" id="1569637">(</span><span class="num" id="1569638">0</span><span class="op" id="1569639">)</span>&nbsp;<span class="op" id="1569641">&gt;&gt;</span>&nbsp;<span class="num" id="1569644">63</span><span class="op" id="1569646">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="1569649">//&nbsp;IntSize&nbsp;is&nbsp;the&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;an&nbsp;int&nbsp;or&nbsp;uint&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="1569705">const</span>&nbsp;<span class="ident" id="1569711">IntSize</span>&nbsp;<span class="op" id="1569719">=</span>&nbsp;<span class="ident" id="1569721"><a href="/strconv/atoi.go.html#1569615">intSize</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1569730">//&nbsp;Return&nbsp;the&nbsp;first&nbsp;number&nbsp;n&nbsp;such&nbsp;that&nbsp;n*base&nbsp;&gt;=&nbsp;1&lt;&lt;64.</span><br>
<span class="lineno">40</span><span class="keyword" id="1569786">func</span>&nbsp;<span class="ident" id="1569791">cutoff64</span><span class="op" id="1569799">(</span><span class="ident" id="1569800">base</span>&nbsp;<span class="builtintype" id="1569805">int</span><span class="op" id="1569808">)</span>&nbsp;<span class="ident" id="1569810">uint64</span>&nbsp;<span class="op" id="1569817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569820">if</span>&nbsp;<span class="ident" id="1569823"><a href="/strconv/atoi.go.html#1569800">base</a></span>&nbsp;<span class="op" id="1569828">&lt;</span>&nbsp;<span class="num" id="1569830">2</span>&nbsp;<span class="op" id="1569832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569836">return</span>&nbsp;<span class="num" id="1569843">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1569846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569849">return</span>&nbsp;<span class="op" id="1569856">(</span><span class="num" id="1569857">1</span><span class="op" id="1569858">&lt;&lt;</span><span class="num" id="1569860">64</span><span class="op" id="1569862">-</span><span class="num" id="1569863">1</span><span class="op" id="1569864">)</span><span class="op" id="1569865">/</span><span class="ident" id="1569866">uint64</span><span class="op" id="1569872">(</span><span class="ident" id="1569873"><a href="/strconv/atoi.go.html#1569800">base</a></span><span class="op" id="1569877">)</span>&nbsp;<span class="op" id="1569879">+</span>&nbsp;<span class="num" id="1569881">1</span><br>
<span class="lineno">45</span><span class="op" id="1569883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1569886">//&nbsp;ParseUint&nbsp;is&nbsp;like&nbsp;ParseInt&nbsp;but&nbsp;for&nbsp;unsigned&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="keyword" id="1569942">func</span>&nbsp;<span class="ident" id="1569947">ParseUint</span><span class="op" id="1569956">(</span><span class="ident" id="1569957">s</span>&nbsp;<span class="builtintype" id="1569959">string</span><span class="op" id="1569965">,</span>&nbsp;<span class="ident" id="1569967">base</span>&nbsp;<span class="builtintype" id="1569972">int</span><span class="op" id="1569975">,</span>&nbsp;<span class="ident" id="1569977">bitSize</span>&nbsp;<span class="builtintype" id="1569985">int</span><span class="op" id="1569988">)</span>&nbsp;<span class="op" id="1569990">(</span><span class="ident" id="1569991">n</span>&nbsp;<span class="ident" id="1569993">uint64</span><span class="op" id="1569999">,</span>&nbsp;<span class="ident" id="1570001">err</span>&nbsp;<span class="builtintype" id="1570005">error</span><span class="op" id="1570010">)</span>&nbsp;<span class="op" id="1570012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570015">var</span>&nbsp;<span class="ident" id="1570019">cutoff</span><span class="op" id="1570025">,</span>&nbsp;<span class="ident" id="1570027">maxVal</span>&nbsp;<span class="ident" id="1570034">uint64</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570043">if</span>&nbsp;<span class="ident" id="1570046"><a href="/strconv/atoi.go.html#1569977">bitSize</a></span>&nbsp;<span class="op" id="1570054">==</span>&nbsp;<span class="num" id="1570057">0</span>&nbsp;<span class="op" id="1570059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570063"><a href="/strconv/atoi.go.html#1569977">bitSize</a></span>&nbsp;<span class="op" id="1570071">=</span>&nbsp;<span class="builtintype" id="1570073">int</span><span class="op" id="1570076">(</span><span class="ident" id="1570077"><a href="/strconv/atoi.go.html#1569711">IntSize</a></span><span class="op" id="1570084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1570087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570091">s0</span>&nbsp;<span class="op" id="1570094">:=</span>&nbsp;<span class="ident" id="1570097"><a href="/strconv/atoi.go.html#1569957">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570100">switch</span>&nbsp;<span class="op" id="1570107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570110">case</span>&nbsp;<span class="builtinfunc" id="1570115">len</span><span class="op" id="1570118">(</span><span class="ident" id="1570119"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570120">)</span>&nbsp;<span class="op" id="1570122">&lt;</span>&nbsp;<span class="num" id="1570124">1</span><span class="op" id="1570125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570129"><a href="/strconv/atoi.go.html#1570001">err</a></span>&nbsp;<span class="op" id="1570133">=</span>&nbsp;<span class="ident" id="1570135"><a href="/strconv/atoi.go.html#1569024">ErrSyntax</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570147">goto</span>&nbsp;<span class="ident" id="1570152">Error</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570160">case</span>&nbsp;<span class="num" id="1570165">2</span>&nbsp;<span class="op" id="1570167">&lt;=</span>&nbsp;<span class="ident" id="1570170"><a href="/strconv/atoi.go.html#1569967">base</a></span>&nbsp;<span class="op" id="1570175">&amp;&amp;</span>&nbsp;<span class="ident" id="1570178"><a href="/strconv/atoi.go.html#1569967">base</a></span>&nbsp;<span class="op" id="1570183">&lt;=</span>&nbsp;<span class="num" id="1570186">36</span><span class="op" id="1570188">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1570192">//&nbsp;valid&nbsp;base;&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570223">case</span>&nbsp;<span class="ident" id="1570228"><a href="/strconv/atoi.go.html#1569967">base</a></span>&nbsp;<span class="op" id="1570233">==</span>&nbsp;<span class="num" id="1570236">0</span><span class="op" id="1570237">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1570241">//&nbsp;Look&nbsp;for&nbsp;octal,&nbsp;hex&nbsp;prefix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570274">switch</span>&nbsp;<span class="op" id="1570281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570285">case</span>&nbsp;<span class="ident" id="1570290"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570291">[</span><span class="num" id="1570292">0</span><span class="op" id="1570293">]</span>&nbsp;<span class="op" id="1570295">==</span>&nbsp;<span class="string" id="1570298">&#39;0&#39;</span>&nbsp;<span class="op" id="1570302">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1570305">len</span><span class="op" id="1570308">(</span><span class="ident" id="1570309"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570310">)</span>&nbsp;<span class="op" id="1570312">&gt;</span>&nbsp;<span class="num" id="1570314">1</span>&nbsp;<span class="op" id="1570316">&amp;&amp;</span>&nbsp;<span class="op" id="1570319">(</span><span class="ident" id="1570320"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570321">[</span><span class="num" id="1570322">1</span><span class="op" id="1570323">]</span>&nbsp;<span class="op" id="1570325">==</span>&nbsp;<span class="string" id="1570328">&#39;x&#39;</span>&nbsp;<span class="op" id="1570332">||</span>&nbsp;<span class="ident" id="1570335"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570336">[</span><span class="num" id="1570337">1</span><span class="op" id="1570338">]</span>&nbsp;<span class="op" id="1570340">==</span>&nbsp;<span class="string" id="1570343">&#39;X&#39;</span><span class="op" id="1570346">)</span><span class="op" id="1570347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570352"><a href="/strconv/atoi.go.html#1569967">base</a></span>&nbsp;<span class="op" id="1570357">=</span>&nbsp;<span class="num" id="1570359">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570365"><a href="/strconv/atoi.go.html#1569957">s</a></span>&nbsp;<span class="op" id="1570367">=</span>&nbsp;<span class="ident" id="1570369"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570370">[</span><span class="num" id="1570371">2</span><span class="op" id="1570372">:</span><span class="op" id="1570373">]</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570378">if</span>&nbsp;<span class="builtinfunc" id="1570381">len</span><span class="op" id="1570384">(</span><span class="ident" id="1570385"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570386">)</span>&nbsp;<span class="op" id="1570388">&lt;</span>&nbsp;<span class="num" id="1570390">1</span>&nbsp;<span class="op" id="1570392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570398"><a href="/strconv/atoi.go.html#1570001">err</a></span>&nbsp;<span class="op" id="1570402">=</span>&nbsp;<span class="ident" id="1570404"><a href="/strconv/atoi.go.html#1569024">ErrSyntax</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570418">goto</span>&nbsp;<span class="ident" id="1570423">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1570432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570436">case</span>&nbsp;<span class="ident" id="1570441"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570442">[</span><span class="num" id="1570443">0</span><span class="op" id="1570444">]</span>&nbsp;<span class="op" id="1570446">==</span>&nbsp;<span class="string" id="1570449">&#39;0&#39;</span><span class="op" id="1570452">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570457"><a href="/strconv/atoi.go.html#1569967">base</a></span>&nbsp;<span class="op" id="1570462">=</span>&nbsp;<span class="num" id="1570464">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570468">default</span><span class="op" id="1570475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570480"><a href="/strconv/atoi.go.html#1569967">base</a></span>&nbsp;<span class="op" id="1570485">=</span>&nbsp;<span class="num" id="1570487">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1570492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570496">default</span><span class="op" id="1570503">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570507"><a href="/strconv/atoi.go.html#1570001">err</a></span>&nbsp;<span class="op" id="1570511">=</span>&nbsp;<span class="ident" id="1570513"><a href="/strconv/atoi.go.html#1568801">errors</a></span><span class="op" id="1570519">.</span><span class="ident" id="1570520">New</span><span class="op" id="1570523">(</span><span class="string" id="1570524">&#34;invalid&nbsp;base&nbsp;&#34;</span>&nbsp;<span class="op" id="1570540">+</span>&nbsp;<span class="ident" id="1570542"><a href="/strconv/itoa.go.html#1623259">Itoa</a></span><span class="op" id="1570546">(</span><span class="ident" id="1570547"><a href="/strconv/atoi.go.html#1569967">base</a></span><span class="op" id="1570551">)</span><span class="op" id="1570552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570556">goto</span>&nbsp;<span class="ident" id="1570561">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1570568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570572"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1570574">=</span>&nbsp;<span class="num" id="1570576">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570579"><a href="/strconv/atoi.go.html#1570019">cutoff</a></span>&nbsp;<span class="op" id="1570586">=</span>&nbsp;<span class="ident" id="1570588"><a href="/strconv/atoi.go.html#1569791">cutoff64</a></span><span class="op" id="1570596">(</span><span class="ident" id="1570597"><a href="/strconv/atoi.go.html#1569967">base</a></span><span class="op" id="1570601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570604"><a href="/strconv/atoi.go.html#1570027">maxVal</a></span>&nbsp;<span class="op" id="1570611">=</span>&nbsp;<span class="num" id="1570613">1</span><span class="op" id="1570614">&lt;&lt;</span><span class="builtintype" id="1570616">uint</span><span class="op" id="1570620">(</span><span class="ident" id="1570621"><a href="/strconv/atoi.go.html#1569977">bitSize</a></span><span class="op" id="1570628">)</span>&nbsp;<span class="op" id="1570630">-</span>&nbsp;<span class="num" id="1570632">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570636">for</span>&nbsp;<span class="ident" id="1570640">i</span>&nbsp;<span class="op" id="1570642">:=</span>&nbsp;<span class="num" id="1570645">0</span><span class="op" id="1570646">;</span>&nbsp;<span class="ident" id="1570648"><a href="/strconv/atoi.go.html#1570640">i</a></span>&nbsp;<span class="op" id="1570650">&lt;</span>&nbsp;<span class="builtinfunc" id="1570652">len</span><span class="op" id="1570655">(</span><span class="ident" id="1570656"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570657">)</span><span class="op" id="1570658">;</span>&nbsp;<span class="ident" id="1570660"><a href="/strconv/atoi.go.html#1570640">i</a></span><span class="op" id="1570661">++</span>&nbsp;<span class="op" id="1570664">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570668">var</span>&nbsp;<span class="ident" id="1570672">v</span>&nbsp;<span class="builtintype" id="1570674">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570681">d</span>&nbsp;<span class="op" id="1570683">:=</span>&nbsp;<span class="ident" id="1570686"><a href="/strconv/atoi.go.html#1569957">s</a></span><span class="op" id="1570687">[</span><span class="ident" id="1570688"><a href="/strconv/atoi.go.html#1570640">i</a></span><span class="op" id="1570689">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570693">switch</span>&nbsp;<span class="op" id="1570700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570704">case</span>&nbsp;<span class="string" id="1570709">&#39;0&#39;</span>&nbsp;<span class="op" id="1570713">&lt;=</span>&nbsp;<span class="ident" id="1570716"><a href="/strconv/atoi.go.html#1570681">d</a></span>&nbsp;<span class="op" id="1570718">&amp;&amp;</span>&nbsp;<span class="ident" id="1570721"><a href="/strconv/atoi.go.html#1570681">d</a></span>&nbsp;<span class="op" id="1570723">&lt;=</span>&nbsp;<span class="string" id="1570726">&#39;9&#39;</span><span class="op" id="1570729">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570734"><a href="/strconv/atoi.go.html#1570672">v</a></span>&nbsp;<span class="op" id="1570736">=</span>&nbsp;<span class="ident" id="1570738"><a href="/strconv/atoi.go.html#1570681">d</a></span>&nbsp;<span class="op" id="1570740">-</span>&nbsp;<span class="string" id="1570742">&#39;0&#39;</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570748">case</span>&nbsp;<span class="string" id="1570753">&#39;a&#39;</span>&nbsp;<span class="op" id="1570757">&lt;=</span>&nbsp;<span class="ident" id="1570760"><a href="/strconv/atoi.go.html#1570681">d</a></span>&nbsp;<span class="op" id="1570762">&amp;&amp;</span>&nbsp;<span class="ident" id="1570765"><a href="/strconv/atoi.go.html#1570681">d</a></span>&nbsp;<span class="op" id="1570767">&lt;=</span>&nbsp;<span class="string" id="1570770">&#39;z&#39;</span><span class="op" id="1570773">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570778"><a href="/strconv/atoi.go.html#1570672">v</a></span>&nbsp;<span class="op" id="1570780">=</span>&nbsp;<span class="ident" id="1570782"><a href="/strconv/atoi.go.html#1570681">d</a></span>&nbsp;<span class="op" id="1570784">-</span>&nbsp;<span class="string" id="1570786">&#39;a&#39;</span>&nbsp;<span class="op" id="1570790">+</span>&nbsp;<span class="num" id="1570792">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570797">case</span>&nbsp;<span class="string" id="1570802">&#39;A&#39;</span>&nbsp;<span class="op" id="1570806">&lt;=</span>&nbsp;<span class="ident" id="1570809"><a href="/strconv/atoi.go.html#1570681">d</a></span>&nbsp;<span class="op" id="1570811">&amp;&amp;</span>&nbsp;<span class="ident" id="1570814"><a href="/strconv/atoi.go.html#1570681">d</a></span>&nbsp;<span class="op" id="1570816">&lt;=</span>&nbsp;<span class="string" id="1570819">&#39;Z&#39;</span><span class="op" id="1570822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570827"><a href="/strconv/atoi.go.html#1570672">v</a></span>&nbsp;<span class="op" id="1570829">=</span>&nbsp;<span class="ident" id="1570831"><a href="/strconv/atoi.go.html#1570681">d</a></span>&nbsp;<span class="op" id="1570833">-</span>&nbsp;<span class="string" id="1570835">&#39;A&#39;</span>&nbsp;<span class="op" id="1570839">+</span>&nbsp;<span class="num" id="1570841">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570846">default</span><span class="op" id="1570853">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570858"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1570860">=</span>&nbsp;<span class="num" id="1570862">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570867"><a href="/strconv/atoi.go.html#1570001">err</a></span>&nbsp;<span class="op" id="1570871">=</span>&nbsp;<span class="ident" id="1570873"><a href="/strconv/atoi.go.html#1569024">ErrSyntax</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570886">goto</span>&nbsp;<span class="ident" id="1570891">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1570899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570903">if</span>&nbsp;<span class="builtintype" id="1570906">int</span><span class="op" id="1570909">(</span><span class="ident" id="1570910"><a href="/strconv/atoi.go.html#1570672">v</a></span><span class="op" id="1570911">)</span>&nbsp;<span class="op" id="1570913">&gt;=</span>&nbsp;<span class="ident" id="1570916"><a href="/strconv/atoi.go.html#1569967">base</a></span>&nbsp;<span class="op" id="1570921">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570926"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1570928">=</span>&nbsp;<span class="num" id="1570930">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1570935"><a href="/strconv/atoi.go.html#1570001">err</a></span>&nbsp;<span class="op" id="1570939">=</span>&nbsp;<span class="ident" id="1570941"><a href="/strconv/atoi.go.html#1569024">ErrSyntax</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570954">goto</span>&nbsp;<span class="ident" id="1570959">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1570967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1570972">if</span>&nbsp;<span class="ident" id="1570975"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1570977">&gt;=</span>&nbsp;<span class="ident" id="1570980"><a href="/strconv/atoi.go.html#1570019">cutoff</a></span>&nbsp;<span class="op" id="1570987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1570992">//&nbsp;n*base&nbsp;overflows</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1571015"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1571017">=</span>&nbsp;<span class="num" id="1571019">1</span><span class="op" id="1571020">&lt;&lt;</span><span class="num" id="1571022">64</span>&nbsp;<span class="op" id="1571025">-</span>&nbsp;<span class="num" id="1571027">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1571032"><a href="/strconv/atoi.go.html#1570001">err</a></span>&nbsp;<span class="op" id="1571036">=</span>&nbsp;<span class="ident" id="1571038"><a href="/strconv/atoi.go.html#1568887">ErrRange</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1571050">goto</span>&nbsp;<span class="ident" id="1571055">Error</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1571063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1571067"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1571069">*=</span>&nbsp;<span class="ident" id="1571072">uint64</span><span class="op" id="1571078">(</span><span class="ident" id="1571079"><a href="/strconv/atoi.go.html#1569967">base</a></span><span class="op" id="1571083">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1571088">n1</span>&nbsp;<span class="op" id="1571091">:=</span>&nbsp;<span class="ident" id="1571094"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1571096">+</span>&nbsp;<span class="ident" id="1571098">uint64</span><span class="op" id="1571104">(</span><span class="ident" id="1571105"><a href="/strconv/atoi.go.html#1570672">v</a></span><span class="op" id="1571106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1571110">if</span>&nbsp;<span class="ident" id="1571113"><a href="/strconv/atoi.go.html#1571088">n1</a></span>&nbsp;<span class="op" id="1571116">&lt;</span>&nbsp;<span class="ident" id="1571118"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1571120">||</span>&nbsp;<span class="ident" id="1571123"><a href="/strconv/atoi.go.html#1571088">n1</a></span>&nbsp;<span class="op" id="1571126">&gt;</span>&nbsp;<span class="ident" id="1571128"><a href="/strconv/atoi.go.html#1570027">maxVal</a></span>&nbsp;<span class="op" id="1571135">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1571140">//&nbsp;n+v&nbsp;overflows</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1571160"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1571162">=</span>&nbsp;<span class="num" id="1571164">1</span><span class="op" id="1571165">&lt;&lt;</span><span class="num" id="1571167">64</span>&nbsp;<span class="op" id="1571170">-</span>&nbsp;<span class="num" id="1571172">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1571177"><a href="/strconv/atoi.go.html#1570001">err</a></span>&nbsp;<span class="op" id="1571181">=</span>&nbsp;<span class="ident" id="1571183"><a href="/strconv/atoi.go.html#1568887">ErrRange</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1571195">goto</span>&nbsp;<span class="ident" id="1571200">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1571208">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1571212"><a href="/strconv/atoi.go.html#1569991">n</a></span>&nbsp;<span class="op" id="1571214">=</span>&nbsp;<span class="ident" id="1571216"><a href="/strconv/atoi.go.html#1571088">n1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1571220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1571224">return</span>&nbsp;<span class="ident" id="1571231"><a href="/strconv/atoi.go.html#1569991">n</a></span><span class="op" id="1571232">,</span>&nbsp;<span class="ident" id="1571234">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="ident" id="1571239">Error</span><span class="op" id="1571244">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1571247">return</span>&nbsp;<span class="ident" id="1571254"><a href="/strconv/atoi.go.html#1569991">n</a></span><span class="op" id="1571255">,</span>&nbsp;<span class="op" id="1571257">&amp;</span><span class="ident" id="1571258"><a href="/strconv/atoi.go.html#1569114">NumError</a></span><span class="op" id="1571266">{</span><span class="string" id="1571267">&#34;ParseUint&#34;</span><span class="op" id="1571278">,</span>&nbsp;<span class="ident" id="1571280"><a href="/strconv/atoi.go.html#1570091">s0</a></span><span class="op" id="1571282">,</span>&nbsp;<span class="ident" id="1571284"><a href="/strconv/atoi.go.html#1570001">err</a></span><span class="op" id="1571287">}</span><br>
<span class="lineno"></span><span class="op" id="1571289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1571292">//&nbsp;ParseInt&nbsp;interprets&nbsp;a&nbsp;string&nbsp;s&nbsp;in&nbsp;the&nbsp;given&nbsp;base&nbsp;(2&nbsp;to&nbsp;36)&nbsp;and</span><br>
<span class="lineno">135</span><span class="comment" id="1571358">//&nbsp;returns&nbsp;the&nbsp;corresponding&nbsp;value&nbsp;i.&nbsp;&nbsp;If&nbsp;base&nbsp;==&nbsp;0,&nbsp;the&nbsp;base&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1571423">//&nbsp;implied&nbsp;by&nbsp;the&nbsp;string&#39;s&nbsp;prefix:&nbsp;base&nbsp;16&nbsp;for&nbsp;&#34;0x&#34;,&nbsp;base&nbsp;8&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1571487">//&nbsp;&#34;0&#34;,&nbsp;and&nbsp;base&nbsp;10&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="1571518">//</span><br>
<span class="lineno"></span><span class="comment" id="1571521">//&nbsp;The&nbsp;bitSize&nbsp;argument&nbsp;specifies&nbsp;the&nbsp;integer&nbsp;type</span><br>
<span class="lineno">140</span><span class="comment" id="1571572">//&nbsp;that&nbsp;the&nbsp;result&nbsp;must&nbsp;fit&nbsp;into.&nbsp;&nbsp;Bit&nbsp;sizes&nbsp;0,&nbsp;8,&nbsp;16,&nbsp;32,&nbsp;and&nbsp;64</span><br>
<span class="lineno"></span><span class="comment" id="1571638">//&nbsp;correspond&nbsp;to&nbsp;int,&nbsp;int8,&nbsp;int16,&nbsp;int32,&nbsp;and&nbsp;int64.</span><br>
<span class="lineno"></span><span class="comment" id="1571691">//</span><br>
<span class="lineno"></span><span class="comment" id="1571694">//&nbsp;The&nbsp;errors&nbsp;that&nbsp;ParseInt&nbsp;returns&nbsp;have&nbsp;concrete&nbsp;type&nbsp;*NumError</span><br>
<span class="lineno"></span><span class="comment" id="1571759">//&nbsp;and&nbsp;include&nbsp;err.Num&nbsp;=&nbsp;s.&nbsp;&nbsp;If&nbsp;s&nbsp;is&nbsp;empty&nbsp;or&nbsp;contains&nbsp;invalid</span><br>
<span class="lineno">145</span><span class="comment" id="1571822">//&nbsp;digits,&nbsp;err.Err&nbsp;=&nbsp;ErrSyntax&nbsp;and&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;0;</span><br>
<span class="lineno"></span><span class="comment" id="1571882">//&nbsp;if&nbsp;the&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;s&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;by&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="1571944">//&nbsp;signed&nbsp;integer&nbsp;of&nbsp;the&nbsp;given&nbsp;size,&nbsp;err.Err&nbsp;=&nbsp;ErrRange&nbsp;and&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1572008">//&nbsp;returned&nbsp;value&nbsp;is&nbsp;the&nbsp;maximum&nbsp;magnitude&nbsp;integer&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1572066">//&nbsp;appropriate&nbsp;bitSize&nbsp;and&nbsp;sign.</span><br>
<span class="lineno">150</span><span class="keyword" id="1572099">func</span>&nbsp;<span class="ident" id="1572104">ParseInt</span><span class="op" id="1572112">(</span><span class="ident" id="1572113">s</span>&nbsp;<span class="builtintype" id="1572115">string</span><span class="op" id="1572121">,</span>&nbsp;<span class="ident" id="1572123">base</span>&nbsp;<span class="builtintype" id="1572128">int</span><span class="op" id="1572131">,</span>&nbsp;<span class="ident" id="1572133">bitSize</span>&nbsp;<span class="builtintype" id="1572141">int</span><span class="op" id="1572144">)</span>&nbsp;<span class="op" id="1572146">(</span><span class="ident" id="1572147">i</span>&nbsp;<span class="ident" id="1572149">int64</span><span class="op" id="1572154">,</span>&nbsp;<span class="ident" id="1572156">err</span>&nbsp;<span class="builtintype" id="1572160">error</span><span class="op" id="1572165">)</span>&nbsp;<span class="op" id="1572167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572170">const</span>&nbsp;<span class="ident" id="1572176">fnParseInt</span>&nbsp;<span class="op" id="1572187">=</span>&nbsp;<span class="string" id="1572189">&#34;ParseInt&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572202">if</span>&nbsp;<span class="ident" id="1572205"><a href="/strconv/atoi.go.html#1572133">bitSize</a></span>&nbsp;<span class="op" id="1572213">==</span>&nbsp;<span class="num" id="1572216">0</span>&nbsp;<span class="op" id="1572218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572222"><a href="/strconv/atoi.go.html#1572133">bitSize</a></span>&nbsp;<span class="op" id="1572230">=</span>&nbsp;<span class="builtintype" id="1572232">int</span><span class="op" id="1572235">(</span><span class="ident" id="1572236"><a href="/strconv/atoi.go.html#1569711">IntSize</a></span><span class="op" id="1572243">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1572246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1572250">//&nbsp;Empty&nbsp;string&nbsp;bad.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572272">if</span>&nbsp;<span class="builtinfunc" id="1572275">len</span><span class="op" id="1572278">(</span><span class="ident" id="1572279"><a href="/strconv/atoi.go.html#1572113">s</a></span><span class="op" id="1572280">)</span>&nbsp;<span class="op" id="1572282">==</span>&nbsp;<span class="num" id="1572285">0</span>&nbsp;<span class="op" id="1572287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572291">return</span>&nbsp;<span class="num" id="1572298">0</span><span class="op" id="1572299">,</span>&nbsp;<span class="ident" id="1572301"><a href="/strconv/atoi.go.html#1569444">syntaxError</a></span><span class="op" id="1572312">(</span><span class="ident" id="1572313"><a href="/strconv/atoi.go.html#1572176">fnParseInt</a></span><span class="op" id="1572323">,</span>&nbsp;<span class="ident" id="1572325"><a href="/strconv/atoi.go.html#1572113">s</a></span><span class="op" id="1572326">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1572329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1572333">//&nbsp;Pick&nbsp;off&nbsp;leading&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572360">s0</span>&nbsp;<span class="op" id="1572363">:=</span>&nbsp;<span class="ident" id="1572366"><a href="/strconv/atoi.go.html#1572113">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572369">neg</span>&nbsp;<span class="op" id="1572373">:=</span>&nbsp;<span class="ident" id="1572376">false</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572383">if</span>&nbsp;<span class="ident" id="1572386"><a href="/strconv/atoi.go.html#1572113">s</a></span><span class="op" id="1572387">[</span><span class="num" id="1572388">0</span><span class="op" id="1572389">]</span>&nbsp;<span class="op" id="1572391">==</span>&nbsp;<span class="string" id="1572394">&#39;+&#39;</span>&nbsp;<span class="op" id="1572398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572402"><a href="/strconv/atoi.go.html#1572113">s</a></span>&nbsp;<span class="op" id="1572404">=</span>&nbsp;<span class="ident" id="1572406"><a href="/strconv/atoi.go.html#1572113">s</a></span><span class="op" id="1572407">[</span><span class="num" id="1572408">1</span><span class="op" id="1572409">:</span><span class="op" id="1572410">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1572413">}</span>&nbsp;<span class="keyword" id="1572415">else</span>&nbsp;<span class="keyword" id="1572420">if</span>&nbsp;<span class="ident" id="1572423"><a href="/strconv/atoi.go.html#1572113">s</a></span><span class="op" id="1572424">[</span><span class="num" id="1572425">0</span><span class="op" id="1572426">]</span>&nbsp;<span class="op" id="1572428">==</span>&nbsp;<span class="string" id="1572431">&#39;-&#39;</span>&nbsp;<span class="op" id="1572435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572439"><a href="/strconv/atoi.go.html#1572369">neg</a></span>&nbsp;<span class="op" id="1572443">=</span>&nbsp;<span class="ident" id="1572445">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572452"><a href="/strconv/atoi.go.html#1572113">s</a></span>&nbsp;<span class="op" id="1572454">=</span>&nbsp;<span class="ident" id="1572456"><a href="/strconv/atoi.go.html#1572113">s</a></span><span class="op" id="1572457">[</span><span class="num" id="1572458">1</span><span class="op" id="1572459">:</span><span class="op" id="1572460">]</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1572463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1572467">//&nbsp;Convert&nbsp;unsigned&nbsp;and&nbsp;check&nbsp;range.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572505">var</span>&nbsp;<span class="ident" id="1572509">un</span>&nbsp;<span class="ident" id="1572512">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572520"><a href="/strconv/atoi.go.html#1572509">un</a></span><span class="op" id="1572522">,</span>&nbsp;<span class="ident" id="1572524"><a href="/strconv/atoi.go.html#1572156">err</a></span>&nbsp;<span class="op" id="1572528">=</span>&nbsp;<span class="ident" id="1572530"><a href="/strconv/atoi.go.html#1569947">ParseUint</a></span><span class="op" id="1572539">(</span><span class="ident" id="1572540"><a href="/strconv/atoi.go.html#1572113">s</a></span><span class="op" id="1572541">,</span>&nbsp;<span class="ident" id="1572543"><a href="/strconv/atoi.go.html#1572123">base</a></span><span class="op" id="1572547">,</span>&nbsp;<span class="ident" id="1572549"><a href="/strconv/atoi.go.html#1572133">bitSize</a></span><span class="op" id="1572556">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572559">if</span>&nbsp;<span class="ident" id="1572562"><a href="/strconv/atoi.go.html#1572156">err</a></span>&nbsp;<span class="op" id="1572566">!=</span>&nbsp;<span class="ident" id="1572569">nil</span>&nbsp;<span class="op" id="1572573">&amp;&amp;</span>&nbsp;<span class="ident" id="1572576"><a href="/strconv/atoi.go.html#1572156">err</a></span><span class="op" id="1572579">.</span><span class="op" id="1572580">(</span><span class="op" id="1572581">*</span><span class="ident" id="1572582"><a href="/strconv/atoi.go.html#1569114">NumError</a></span><span class="op" id="1572590">)</span><span class="op" id="1572591">.</span><span class="ident" id="1572592">Err</span>&nbsp;<span class="op" id="1572596">!=</span>&nbsp;<span class="ident" id="1572599"><a href="/strconv/atoi.go.html#1568887">ErrRange</a></span>&nbsp;<span class="op" id="1572608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572612"><a href="/strconv/atoi.go.html#1572156">err</a></span><span class="op" id="1572615">.</span><span class="op" id="1572616">(</span><span class="op" id="1572617">*</span><span class="ident" id="1572618"><a href="/strconv/atoi.go.html#1569114">NumError</a></span><span class="op" id="1572626">)</span><span class="op" id="1572627">.</span><span class="ident" id="1572628">Func</span>&nbsp;<span class="op" id="1572633">=</span>&nbsp;<span class="ident" id="1572635"><a href="/strconv/atoi.go.html#1572176">fnParseInt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572648"><a href="/strconv/atoi.go.html#1572156">err</a></span><span class="op" id="1572651">.</span><span class="op" id="1572652">(</span><span class="op" id="1572653">*</span><span class="ident" id="1572654"><a href="/strconv/atoi.go.html#1569114">NumError</a></span><span class="op" id="1572662">)</span><span class="op" id="1572663">.</span><span class="ident" id="1572664">Num</span>&nbsp;<span class="op" id="1572668">=</span>&nbsp;<span class="ident" id="1572670"><a href="/strconv/atoi.go.html#1572360">s0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572675">return</span>&nbsp;<span class="num" id="1572682">0</span><span class="op" id="1572683">,</span>&nbsp;<span class="ident" id="1572685"><a href="/strconv/atoi.go.html#1572156">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1572690">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572693">cutoff</span>&nbsp;<span class="op" id="1572700">:=</span>&nbsp;<span class="ident" id="1572703">uint64</span><span class="op" id="1572709">(</span><span class="num" id="1572710">1</span>&nbsp;<span class="op" id="1572712">&lt;&lt;</span>&nbsp;<span class="builtintype" id="1572715">uint</span><span class="op" id="1572719">(</span><span class="ident" id="1572720"><a href="/strconv/atoi.go.html#1572133">bitSize</a></span><span class="op" id="1572727">-</span><span class="num" id="1572728">1</span><span class="op" id="1572729">)</span><span class="op" id="1572730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572733">if</span>&nbsp;<span class="op" id="1572736">!</span><span class="ident" id="1572737"><a href="/strconv/atoi.go.html#1572369">neg</a></span>&nbsp;<span class="op" id="1572741">&amp;&amp;</span>&nbsp;<span class="ident" id="1572744"><a href="/strconv/atoi.go.html#1572509">un</a></span>&nbsp;<span class="op" id="1572747">&gt;=</span>&nbsp;<span class="ident" id="1572750"><a href="/strconv/atoi.go.html#1572693">cutoff</a></span>&nbsp;<span class="op" id="1572757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572761">return</span>&nbsp;<span class="ident" id="1572768">int64</span><span class="op" id="1572773">(</span><span class="ident" id="1572774"><a href="/strconv/atoi.go.html#1572693">cutoff</a></span>&nbsp;<span class="op" id="1572781">-</span>&nbsp;<span class="num" id="1572783">1</span><span class="op" id="1572784">)</span><span class="op" id="1572785">,</span>&nbsp;<span class="ident" id="1572787"><a href="/strconv/atoi.go.html#1569530">rangeError</a></span><span class="op" id="1572797">(</span><span class="ident" id="1572798"><a href="/strconv/atoi.go.html#1572176">fnParseInt</a></span><span class="op" id="1572808">,</span>&nbsp;<span class="ident" id="1572810"><a href="/strconv/atoi.go.html#1572360">s0</a></span><span class="op" id="1572812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1572815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572818">if</span>&nbsp;<span class="ident" id="1572821"><a href="/strconv/atoi.go.html#1572369">neg</a></span>&nbsp;<span class="op" id="1572825">&amp;&amp;</span>&nbsp;<span class="ident" id="1572828"><a href="/strconv/atoi.go.html#1572509">un</a></span>&nbsp;<span class="op" id="1572831">&gt;</span>&nbsp;<span class="ident" id="1572833"><a href="/strconv/atoi.go.html#1572693">cutoff</a></span>&nbsp;<span class="op" id="1572840">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572844">return</span>&nbsp;<span class="op" id="1572851">-</span><span class="ident" id="1572852">int64</span><span class="op" id="1572857">(</span><span class="ident" id="1572858"><a href="/strconv/atoi.go.html#1572693">cutoff</a></span><span class="op" id="1572864">)</span><span class="op" id="1572865">,</span>&nbsp;<span class="ident" id="1572867"><a href="/strconv/atoi.go.html#1569530">rangeError</a></span><span class="op" id="1572877">(</span><span class="ident" id="1572878"><a href="/strconv/atoi.go.html#1572176">fnParseInt</a></span><span class="op" id="1572888">,</span>&nbsp;<span class="ident" id="1572890"><a href="/strconv/atoi.go.html#1572360">s0</a></span><span class="op" id="1572892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1572895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572898">n</span>&nbsp;<span class="op" id="1572900">:=</span>&nbsp;<span class="ident" id="1572903">int64</span><span class="op" id="1572908">(</span><span class="ident" id="1572909"><a href="/strconv/atoi.go.html#1572509">un</a></span><span class="op" id="1572911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572914">if</span>&nbsp;<span class="ident" id="1572917"><a href="/strconv/atoi.go.html#1572369">neg</a></span>&nbsp;<span class="op" id="1572921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1572925"><a href="/strconv/atoi.go.html#1572898">n</a></span>&nbsp;<span class="op" id="1572927">=</span>&nbsp;<span class="op" id="1572929">-</span><span class="ident" id="1572930"><a href="/strconv/atoi.go.html#1572898">n</a></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1572933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1572936">return</span>&nbsp;<span class="ident" id="1572943"><a href="/strconv/atoi.go.html#1572898">n</a></span><span class="op" id="1572944">,</span>&nbsp;<span class="ident" id="1572946">nil</span><br>
<span class="lineno"></span><span class="op" id="1572950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1572953">//&nbsp;Atoi&nbsp;is&nbsp;shorthand&nbsp;for&nbsp;ParseInt(s,&nbsp;10,&nbsp;0).</span><br>
<span class="lineno">195</span><span class="keyword" id="1572998">func</span>&nbsp;<span class="ident" id="1573003">Atoi</span><span class="op" id="1573007">(</span><span class="ident" id="1573008">s</span>&nbsp;<span class="builtintype" id="1573010">string</span><span class="op" id="1573016">)</span>&nbsp;<span class="op" id="1573018">(</span><span class="ident" id="1573019">i</span>&nbsp;<span class="builtintype" id="1573021">int</span><span class="op" id="1573024">,</span>&nbsp;<span class="ident" id="1573026">err</span>&nbsp;<span class="builtintype" id="1573030">error</span><span class="op" id="1573035">)</span>&nbsp;<span class="op" id="1573037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1573040">i64</span><span class="op" id="1573043">,</span>&nbsp;<span class="ident" id="1573045"><a href="/strconv/atoi.go.html#1573026">err</a></span>&nbsp;<span class="op" id="1573049">:=</span>&nbsp;<span class="ident" id="1573052"><a href="/strconv/atoi.go.html#1572104">ParseInt</a></span><span class="op" id="1573060">(</span><span class="ident" id="1573061"><a href="/strconv/atoi.go.html#1573008">s</a></span><span class="op" id="1573062">,</span>&nbsp;<span class="num" id="1573064">10</span><span class="op" id="1573066">,</span>&nbsp;<span class="num" id="1573068">0</span><span class="op" id="1573069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1573072">return</span>&nbsp;<span class="builtintype" id="1573079">int</span><span class="op" id="1573082">(</span><span class="ident" id="1573083"><a href="/strconv/atoi.go.html#1573040">i64</a></span><span class="op" id="1573086">)</span><span class="op" id="1573087">,</span>&nbsp;<span class="ident" id="1573089"><a href="/strconv/atoi.go.html#1573026">err</a></span><br>
<span class="lineno"></span><span class="op" id="1573093">}</span>
</div>
</body>
</html>
