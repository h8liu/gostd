<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/macho</h2>
<ul>
<li><a href="/gostd/debug/macho/fat.go.html">fat.go</a></li>
<li><a href="/gostd/debug/macho/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/macho/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/macho/macho.go.html">macho.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7656089">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7656145">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7656199">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7656250">package</span>&nbsp;<span class="ident" id="7656258">macho</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7656265">import</span>&nbsp;<span class="op" id="7656272">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7656275">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7656286">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7656296">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7656299">type</span>&nbsp;<span class="ident" id="7656304">fileTest</span>&nbsp;<span class="keyword" id="7656313">struct</span>&nbsp;<span class="op" id="7656320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656323">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7656332">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656340">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7656349">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656361">segments</span>&nbsp;<span class="op" id="7656370">[</span><span class="op" id="7656371">]</span><span class="op" id="7656372">*</span><span class="ident" id="7656373">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656388">sections</span>&nbsp;<span class="op" id="7656397">[</span><span class="op" id="7656398">]</span><span class="op" id="7656399">*</span><span class="ident" id="7656400">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="7656414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7656417">var</span>&nbsp;<span class="ident" id="7656421">fileTests</span>&nbsp;<span class="op" id="7656431">=</span>&nbsp;<span class="op" id="7656433">[</span><span class="op" id="7656434">]</span><span class="ident" id="7656435">fileTest</span><span class="op" id="7656443">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7656450">&#34;testdata/gcc-386-darwin-exec&#34;</span><span class="op" id="7656480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656484">FileHeader</span><span class="op" id="7656494">{</span><span class="num" id="7656495">0xfeedface</span><span class="op" id="7656505">,</span>&nbsp;<span class="ident" id="7656507">Cpu386</span><span class="op" id="7656513">,</span>&nbsp;<span class="num" id="7656515">0x3</span><span class="op" id="7656518">,</span>&nbsp;<span class="num" id="7656520">0x2</span><span class="op" id="7656523">,</span>&nbsp;<span class="num" id="7656525">0xc</span><span class="op" id="7656528">,</span>&nbsp;<span class="num" id="7656530">0x3c0</span><span class="op" id="7656535">,</span>&nbsp;<span class="num" id="7656537">0x85</span><span class="op" id="7656541">}</span><span class="op" id="7656542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656546">[</span><span class="op" id="7656547">]</span><span class="op" id="7656548">*</span><span class="ident" id="7656549">SegmentHeader</span><span class="op" id="7656562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656567">{</span><span class="ident" id="7656568">LoadCmdSegment</span><span class="op" id="7656582">,</span>&nbsp;<span class="num" id="7656584">0x38</span><span class="op" id="7656588">,</span>&nbsp;<span class="string" id="7656590">&#34;__PAGEZERO&#34;</span><span class="op" id="7656602">,</span>&nbsp;<span class="num" id="7656604">0x0</span><span class="op" id="7656607">,</span>&nbsp;<span class="num" id="7656609">0x1000</span><span class="op" id="7656615">,</span>&nbsp;<span class="num" id="7656617">0x0</span><span class="op" id="7656620">,</span>&nbsp;<span class="num" id="7656622">0x0</span><span class="op" id="7656625">,</span>&nbsp;<span class="num" id="7656627">0x0</span><span class="op" id="7656630">,</span>&nbsp;<span class="num" id="7656632">0x0</span><span class="op" id="7656635">,</span>&nbsp;<span class="num" id="7656637">0x0</span><span class="op" id="7656640">,</span>&nbsp;<span class="num" id="7656642">0x0</span><span class="op" id="7656645">}</span><span class="op" id="7656646">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656651">{</span><span class="ident" id="7656652">LoadCmdSegment</span><span class="op" id="7656666">,</span>&nbsp;<span class="num" id="7656668">0xc0</span><span class="op" id="7656672">,</span>&nbsp;<span class="string" id="7656674">&#34;__TEXT&#34;</span><span class="op" id="7656682">,</span>&nbsp;<span class="num" id="7656684">0x1000</span><span class="op" id="7656690">,</span>&nbsp;<span class="num" id="7656692">0x1000</span><span class="op" id="7656698">,</span>&nbsp;<span class="num" id="7656700">0x0</span><span class="op" id="7656703">,</span>&nbsp;<span class="num" id="7656705">0x1000</span><span class="op" id="7656711">,</span>&nbsp;<span class="num" id="7656713">0x7</span><span class="op" id="7656716">,</span>&nbsp;<span class="num" id="7656718">0x5</span><span class="op" id="7656721">,</span>&nbsp;<span class="num" id="7656723">0x2</span><span class="op" id="7656726">,</span>&nbsp;<span class="num" id="7656728">0x0</span><span class="op" id="7656731">}</span><span class="op" id="7656732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656737">{</span><span class="ident" id="7656738">LoadCmdSegment</span><span class="op" id="7656752">,</span>&nbsp;<span class="num" id="7656754">0xc0</span><span class="op" id="7656758">,</span>&nbsp;<span class="string" id="7656760">&#34;__DATA&#34;</span><span class="op" id="7656768">,</span>&nbsp;<span class="num" id="7656770">0x2000</span><span class="op" id="7656776">,</span>&nbsp;<span class="num" id="7656778">0x1000</span><span class="op" id="7656784">,</span>&nbsp;<span class="num" id="7656786">0x1000</span><span class="op" id="7656792">,</span>&nbsp;<span class="num" id="7656794">0x1000</span><span class="op" id="7656800">,</span>&nbsp;<span class="num" id="7656802">0x7</span><span class="op" id="7656805">,</span>&nbsp;<span class="num" id="7656807">0x3</span><span class="op" id="7656810">,</span>&nbsp;<span class="num" id="7656812">0x2</span><span class="op" id="7656815">,</span>&nbsp;<span class="num" id="7656817">0x0</span><span class="op" id="7656820">}</span><span class="op" id="7656821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656826">{</span><span class="ident" id="7656827">LoadCmdSegment</span><span class="op" id="7656841">,</span>&nbsp;<span class="num" id="7656843">0x7c</span><span class="op" id="7656847">,</span>&nbsp;<span class="string" id="7656849">&#34;__IMPORT&#34;</span><span class="op" id="7656859">,</span>&nbsp;<span class="num" id="7656861">0x3000</span><span class="op" id="7656867">,</span>&nbsp;<span class="num" id="7656869">0x1000</span><span class="op" id="7656875">,</span>&nbsp;<span class="num" id="7656877">0x2000</span><span class="op" id="7656883">,</span>&nbsp;<span class="num" id="7656885">0x1000</span><span class="op" id="7656891">,</span>&nbsp;<span class="num" id="7656893">0x7</span><span class="op" id="7656896">,</span>&nbsp;<span class="num" id="7656898">0x7</span><span class="op" id="7656901">,</span>&nbsp;<span class="num" id="7656903">0x1</span><span class="op" id="7656906">,</span>&nbsp;<span class="num" id="7656908">0x0</span><span class="op" id="7656911">}</span><span class="op" id="7656912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656917">{</span><span class="ident" id="7656918">LoadCmdSegment</span><span class="op" id="7656932">,</span>&nbsp;<span class="num" id="7656934">0x38</span><span class="op" id="7656938">,</span>&nbsp;<span class="string" id="7656940">&#34;__LINKEDIT&#34;</span><span class="op" id="7656952">,</span>&nbsp;<span class="num" id="7656954">0x4000</span><span class="op" id="7656960">,</span>&nbsp;<span class="num" id="7656962">0x1000</span><span class="op" id="7656968">,</span>&nbsp;<span class="num" id="7656970">0x3000</span><span class="op" id="7656976">,</span>&nbsp;<span class="num" id="7656978">0x12c</span><span class="op" id="7656983">,</span>&nbsp;<span class="num" id="7656985">0x7</span><span class="op" id="7656988">,</span>&nbsp;<span class="num" id="7656990">0x1</span><span class="op" id="7656993">,</span>&nbsp;<span class="num" id="7656995">0x0</span><span class="op" id="7656998">,</span>&nbsp;<span class="num" id="7657000">0x0</span><span class="op" id="7657003">}</span><span class="op" id="7657004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657009">nil</span><span class="op" id="7657012">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657017">nil</span><span class="op" id="7657020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657025">nil</span><span class="op" id="7657028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657033">nil</span><span class="op" id="7657036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657041">nil</span><span class="op" id="7657044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657049">nil</span><span class="op" id="7657052">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657057">nil</span><span class="op" id="7657060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657064">}</span><span class="op" id="7657065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657069">[</span><span class="op" id="7657070">]</span><span class="op" id="7657071">*</span><span class="ident" id="7657072">SectionHeader</span><span class="op" id="7657085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657090">{</span><span class="string" id="7657091">&#34;__text&#34;</span><span class="op" id="7657099">,</span>&nbsp;<span class="string" id="7657101">&#34;__TEXT&#34;</span><span class="op" id="7657109">,</span>&nbsp;<span class="num" id="7657111">0x1f68</span><span class="op" id="7657117">,</span>&nbsp;<span class="num" id="7657119">0x88</span><span class="op" id="7657123">,</span>&nbsp;<span class="num" id="7657125">0xf68</span><span class="op" id="7657130">,</span>&nbsp;<span class="num" id="7657132">0x2</span><span class="op" id="7657135">,</span>&nbsp;<span class="num" id="7657137">0x0</span><span class="op" id="7657140">,</span>&nbsp;<span class="num" id="7657142">0x0</span><span class="op" id="7657145">,</span>&nbsp;<span class="num" id="7657147">0x80000400</span><span class="op" id="7657157">}</span><span class="op" id="7657158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657163">{</span><span class="string" id="7657164">&#34;__cstring&#34;</span><span class="op" id="7657175">,</span>&nbsp;<span class="string" id="7657177">&#34;__TEXT&#34;</span><span class="op" id="7657185">,</span>&nbsp;<span class="num" id="7657187">0x1ff0</span><span class="op" id="7657193">,</span>&nbsp;<span class="num" id="7657195">0xd</span><span class="op" id="7657198">,</span>&nbsp;<span class="num" id="7657200">0xff0</span><span class="op" id="7657205">,</span>&nbsp;<span class="num" id="7657207">0x0</span><span class="op" id="7657210">,</span>&nbsp;<span class="num" id="7657212">0x0</span><span class="op" id="7657215">,</span>&nbsp;<span class="num" id="7657217">0x0</span><span class="op" id="7657220">,</span>&nbsp;<span class="num" id="7657222">0x2</span><span class="op" id="7657225">}</span><span class="op" id="7657226">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657231">{</span><span class="string" id="7657232">&#34;__data&#34;</span><span class="op" id="7657240">,</span>&nbsp;<span class="string" id="7657242">&#34;__DATA&#34;</span><span class="op" id="7657250">,</span>&nbsp;<span class="num" id="7657252">0x2000</span><span class="op" id="7657258">,</span>&nbsp;<span class="num" id="7657260">0x14</span><span class="op" id="7657264">,</span>&nbsp;<span class="num" id="7657266">0x1000</span><span class="op" id="7657272">,</span>&nbsp;<span class="num" id="7657274">0x2</span><span class="op" id="7657277">,</span>&nbsp;<span class="num" id="7657279">0x0</span><span class="op" id="7657282">,</span>&nbsp;<span class="num" id="7657284">0x0</span><span class="op" id="7657287">,</span>&nbsp;<span class="num" id="7657289">0x0</span><span class="op" id="7657292">}</span><span class="op" id="7657293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657298">{</span><span class="string" id="7657299">&#34;__dyld&#34;</span><span class="op" id="7657307">,</span>&nbsp;<span class="string" id="7657309">&#34;__DATA&#34;</span><span class="op" id="7657317">,</span>&nbsp;<span class="num" id="7657319">0x2014</span><span class="op" id="7657325">,</span>&nbsp;<span class="num" id="7657327">0x1c</span><span class="op" id="7657331">,</span>&nbsp;<span class="num" id="7657333">0x1014</span><span class="op" id="7657339">,</span>&nbsp;<span class="num" id="7657341">0x2</span><span class="op" id="7657344">,</span>&nbsp;<span class="num" id="7657346">0x0</span><span class="op" id="7657349">,</span>&nbsp;<span class="num" id="7657351">0x0</span><span class="op" id="7657354">,</span>&nbsp;<span class="num" id="7657356">0x0</span><span class="op" id="7657359">}</span><span class="op" id="7657360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657365">{</span><span class="string" id="7657366">&#34;__jump_table&#34;</span><span class="op" id="7657380">,</span>&nbsp;<span class="string" id="7657382">&#34;__IMPORT&#34;</span><span class="op" id="7657392">,</span>&nbsp;<span class="num" id="7657394">0x3000</span><span class="op" id="7657400">,</span>&nbsp;<span class="num" id="7657402">0xa</span><span class="op" id="7657405">,</span>&nbsp;<span class="num" id="7657407">0x2000</span><span class="op" id="7657413">,</span>&nbsp;<span class="num" id="7657415">0x6</span><span class="op" id="7657418">,</span>&nbsp;<span class="num" id="7657420">0x0</span><span class="op" id="7657423">,</span>&nbsp;<span class="num" id="7657425">0x0</span><span class="op" id="7657428">,</span>&nbsp;<span class="num" id="7657430">0x4000008</span><span class="op" id="7657439">}</span><span class="op" id="7657440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657444">}</span><span class="op" id="7657445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657448">}</span><span class="op" id="7657449">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7657456">&#34;testdata/gcc-amd64-darwin-exec&#34;</span><span class="op" id="7657488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657492">FileHeader</span><span class="op" id="7657502">{</span><span class="num" id="7657503">0xfeedfacf</span><span class="op" id="7657513">,</span>&nbsp;<span class="ident" id="7657515">CpuAmd64</span><span class="op" id="7657523">,</span>&nbsp;<span class="num" id="7657525">0x80000003</span><span class="op" id="7657535">,</span>&nbsp;<span class="num" id="7657537">0x2</span><span class="op" id="7657540">,</span>&nbsp;<span class="num" id="7657542">0xb</span><span class="op" id="7657545">,</span>&nbsp;<span class="num" id="7657547">0x568</span><span class="op" id="7657552">,</span>&nbsp;<span class="num" id="7657554">0x85</span><span class="op" id="7657558">}</span><span class="op" id="7657559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657563">[</span><span class="op" id="7657564">]</span><span class="op" id="7657565">*</span><span class="ident" id="7657566">SegmentHeader</span><span class="op" id="7657579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657584">{</span><span class="ident" id="7657585">LoadCmdSegment64</span><span class="op" id="7657601">,</span>&nbsp;<span class="num" id="7657603">0x48</span><span class="op" id="7657607">,</span>&nbsp;<span class="string" id="7657609">&#34;__PAGEZERO&#34;</span><span class="op" id="7657621">,</span>&nbsp;<span class="num" id="7657623">0x0</span><span class="op" id="7657626">,</span>&nbsp;<span class="num" id="7657628">0x100000000</span><span class="op" id="7657639">,</span>&nbsp;<span class="num" id="7657641">0x0</span><span class="op" id="7657644">,</span>&nbsp;<span class="num" id="7657646">0x0</span><span class="op" id="7657649">,</span>&nbsp;<span class="num" id="7657651">0x0</span><span class="op" id="7657654">,</span>&nbsp;<span class="num" id="7657656">0x0</span><span class="op" id="7657659">,</span>&nbsp;<span class="num" id="7657661">0x0</span><span class="op" id="7657664">,</span>&nbsp;<span class="num" id="7657666">0x0</span><span class="op" id="7657669">}</span><span class="op" id="7657670">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657675">{</span><span class="ident" id="7657676">LoadCmdSegment64</span><span class="op" id="7657692">,</span>&nbsp;<span class="num" id="7657694">0x1d8</span><span class="op" id="7657699">,</span>&nbsp;<span class="string" id="7657701">&#34;__TEXT&#34;</span><span class="op" id="7657709">,</span>&nbsp;<span class="num" id="7657711">0x100000000</span><span class="op" id="7657722">,</span>&nbsp;<span class="num" id="7657724">0x1000</span><span class="op" id="7657730">,</span>&nbsp;<span class="num" id="7657732">0x0</span><span class="op" id="7657735">,</span>&nbsp;<span class="num" id="7657737">0x1000</span><span class="op" id="7657743">,</span>&nbsp;<span class="num" id="7657745">0x7</span><span class="op" id="7657748">,</span>&nbsp;<span class="num" id="7657750">0x5</span><span class="op" id="7657753">,</span>&nbsp;<span class="num" id="7657755">0x5</span><span class="op" id="7657758">,</span>&nbsp;<span class="num" id="7657760">0x0</span><span class="op" id="7657763">}</span><span class="op" id="7657764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657769">{</span><span class="ident" id="7657770">LoadCmdSegment64</span><span class="op" id="7657786">,</span>&nbsp;<span class="num" id="7657788">0x138</span><span class="op" id="7657793">,</span>&nbsp;<span class="string" id="7657795">&#34;__DATA&#34;</span><span class="op" id="7657803">,</span>&nbsp;<span class="num" id="7657805">0x100001000</span><span class="op" id="7657816">,</span>&nbsp;<span class="num" id="7657818">0x1000</span><span class="op" id="7657824">,</span>&nbsp;<span class="num" id="7657826">0x1000</span><span class="op" id="7657832">,</span>&nbsp;<span class="num" id="7657834">0x1000</span><span class="op" id="7657840">,</span>&nbsp;<span class="num" id="7657842">0x7</span><span class="op" id="7657845">,</span>&nbsp;<span class="num" id="7657847">0x3</span><span class="op" id="7657850">,</span>&nbsp;<span class="num" id="7657852">0x3</span><span class="op" id="7657855">,</span>&nbsp;<span class="num" id="7657857">0x0</span><span class="op" id="7657860">}</span><span class="op" id="7657861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657866">{</span><span class="ident" id="7657867">LoadCmdSegment64</span><span class="op" id="7657883">,</span>&nbsp;<span class="num" id="7657885">0x48</span><span class="op" id="7657889">,</span>&nbsp;<span class="string" id="7657891">&#34;__LINKEDIT&#34;</span><span class="op" id="7657903">,</span>&nbsp;<span class="num" id="7657905">0x100002000</span><span class="op" id="7657916">,</span>&nbsp;<span class="num" id="7657918">0x1000</span><span class="op" id="7657924">,</span>&nbsp;<span class="num" id="7657926">0x2000</span><span class="op" id="7657932">,</span>&nbsp;<span class="num" id="7657934">0x140</span><span class="op" id="7657939">,</span>&nbsp;<span class="num" id="7657941">0x7</span><span class="op" id="7657944">,</span>&nbsp;<span class="num" id="7657946">0x1</span><span class="op" id="7657949">,</span>&nbsp;<span class="num" id="7657951">0x0</span><span class="op" id="7657954">,</span>&nbsp;<span class="num" id="7657956">0x0</span><span class="op" id="7657959">}</span><span class="op" id="7657960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657965">nil</span><span class="op" id="7657968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657973">nil</span><span class="op" id="7657976">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657981">nil</span><span class="op" id="7657984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657989">nil</span><span class="op" id="7657992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657997">nil</span><span class="op" id="7658000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658005">nil</span><span class="op" id="7658008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658013">nil</span><span class="op" id="7658016">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658020">}</span><span class="op" id="7658021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658025">[</span><span class="op" id="7658026">]</span><span class="op" id="7658027">*</span><span class="ident" id="7658028">SectionHeader</span><span class="op" id="7658041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658046">{</span><span class="string" id="7658047">&#34;__text&#34;</span><span class="op" id="7658055">,</span>&nbsp;<span class="string" id="7658057">&#34;__TEXT&#34;</span><span class="op" id="7658065">,</span>&nbsp;<span class="num" id="7658067">0x100000f14</span><span class="op" id="7658078">,</span>&nbsp;<span class="num" id="7658080">0x6d</span><span class="op" id="7658084">,</span>&nbsp;<span class="num" id="7658086">0xf14</span><span class="op" id="7658091">,</span>&nbsp;<span class="num" id="7658093">0x2</span><span class="op" id="7658096">,</span>&nbsp;<span class="num" id="7658098">0x0</span><span class="op" id="7658101">,</span>&nbsp;<span class="num" id="7658103">0x0</span><span class="op" id="7658106">,</span>&nbsp;<span class="num" id="7658108">0x80000400</span><span class="op" id="7658118">}</span><span class="op" id="7658119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658124">{</span><span class="string" id="7658125">&#34;__symbol_stub1&#34;</span><span class="op" id="7658141">,</span>&nbsp;<span class="string" id="7658143">&#34;__TEXT&#34;</span><span class="op" id="7658151">,</span>&nbsp;<span class="num" id="7658153">0x100000f81</span><span class="op" id="7658164">,</span>&nbsp;<span class="num" id="7658166">0xc</span><span class="op" id="7658169">,</span>&nbsp;<span class="num" id="7658171">0xf81</span><span class="op" id="7658176">,</span>&nbsp;<span class="num" id="7658178">0x0</span><span class="op" id="7658181">,</span>&nbsp;<span class="num" id="7658183">0x0</span><span class="op" id="7658186">,</span>&nbsp;<span class="num" id="7658188">0x0</span><span class="op" id="7658191">,</span>&nbsp;<span class="num" id="7658193">0x80000408</span><span class="op" id="7658203">}</span><span class="op" id="7658204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658209">{</span><span class="string" id="7658210">&#34;__stub_helper&#34;</span><span class="op" id="7658225">,</span>&nbsp;<span class="string" id="7658227">&#34;__TEXT&#34;</span><span class="op" id="7658235">,</span>&nbsp;<span class="num" id="7658237">0x100000f90</span><span class="op" id="7658248">,</span>&nbsp;<span class="num" id="7658250">0x18</span><span class="op" id="7658254">,</span>&nbsp;<span class="num" id="7658256">0xf90</span><span class="op" id="7658261">,</span>&nbsp;<span class="num" id="7658263">0x2</span><span class="op" id="7658266">,</span>&nbsp;<span class="num" id="7658268">0x0</span><span class="op" id="7658271">,</span>&nbsp;<span class="num" id="7658273">0x0</span><span class="op" id="7658276">,</span>&nbsp;<span class="num" id="7658278">0x0</span><span class="op" id="7658281">}</span><span class="op" id="7658282">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658287">{</span><span class="string" id="7658288">&#34;__cstring&#34;</span><span class="op" id="7658299">,</span>&nbsp;<span class="string" id="7658301">&#34;__TEXT&#34;</span><span class="op" id="7658309">,</span>&nbsp;<span class="num" id="7658311">0x100000fa8</span><span class="op" id="7658322">,</span>&nbsp;<span class="num" id="7658324">0xd</span><span class="op" id="7658327">,</span>&nbsp;<span class="num" id="7658329">0xfa8</span><span class="op" id="7658334">,</span>&nbsp;<span class="num" id="7658336">0x0</span><span class="op" id="7658339">,</span>&nbsp;<span class="num" id="7658341">0x0</span><span class="op" id="7658344">,</span>&nbsp;<span class="num" id="7658346">0x0</span><span class="op" id="7658349">,</span>&nbsp;<span class="num" id="7658351">0x2</span><span class="op" id="7658354">}</span><span class="op" id="7658355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658360">{</span><span class="string" id="7658361">&#34;__eh_frame&#34;</span><span class="op" id="7658373">,</span>&nbsp;<span class="string" id="7658375">&#34;__TEXT&#34;</span><span class="op" id="7658383">,</span>&nbsp;<span class="num" id="7658385">0x100000fb8</span><span class="op" id="7658396">,</span>&nbsp;<span class="num" id="7658398">0x48</span><span class="op" id="7658402">,</span>&nbsp;<span class="num" id="7658404">0xfb8</span><span class="op" id="7658409">,</span>&nbsp;<span class="num" id="7658411">0x3</span><span class="op" id="7658414">,</span>&nbsp;<span class="num" id="7658416">0x0</span><span class="op" id="7658419">,</span>&nbsp;<span class="num" id="7658421">0x0</span><span class="op" id="7658424">,</span>&nbsp;<span class="num" id="7658426">0x6000000b</span><span class="op" id="7658436">}</span><span class="op" id="7658437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658442">{</span><span class="string" id="7658443">&#34;__data&#34;</span><span class="op" id="7658451">,</span>&nbsp;<span class="string" id="7658453">&#34;__DATA&#34;</span><span class="op" id="7658461">,</span>&nbsp;<span class="num" id="7658463">0x100001000</span><span class="op" id="7658474">,</span>&nbsp;<span class="num" id="7658476">0x1c</span><span class="op" id="7658480">,</span>&nbsp;<span class="num" id="7658482">0x1000</span><span class="op" id="7658488">,</span>&nbsp;<span class="num" id="7658490">0x3</span><span class="op" id="7658493">,</span>&nbsp;<span class="num" id="7658495">0x0</span><span class="op" id="7658498">,</span>&nbsp;<span class="num" id="7658500">0x0</span><span class="op" id="7658503">,</span>&nbsp;<span class="num" id="7658505">0x0</span><span class="op" id="7658508">}</span><span class="op" id="7658509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658514">{</span><span class="string" id="7658515">&#34;__dyld&#34;</span><span class="op" id="7658523">,</span>&nbsp;<span class="string" id="7658525">&#34;__DATA&#34;</span><span class="op" id="7658533">,</span>&nbsp;<span class="num" id="7658535">0x100001020</span><span class="op" id="7658546">,</span>&nbsp;<span class="num" id="7658548">0x38</span><span class="op" id="7658552">,</span>&nbsp;<span class="num" id="7658554">0x1020</span><span class="op" id="7658560">,</span>&nbsp;<span class="num" id="7658562">0x3</span><span class="op" id="7658565">,</span>&nbsp;<span class="num" id="7658567">0x0</span><span class="op" id="7658570">,</span>&nbsp;<span class="num" id="7658572">0x0</span><span class="op" id="7658575">,</span>&nbsp;<span class="num" id="7658577">0x0</span><span class="op" id="7658580">}</span><span class="op" id="7658581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658586">{</span><span class="string" id="7658587">&#34;__la_symbol_ptr&#34;</span><span class="op" id="7658604">,</span>&nbsp;<span class="string" id="7658606">&#34;__DATA&#34;</span><span class="op" id="7658614">,</span>&nbsp;<span class="num" id="7658616">0x100001058</span><span class="op" id="7658627">,</span>&nbsp;<span class="num" id="7658629">0x10</span><span class="op" id="7658633">,</span>&nbsp;<span class="num" id="7658635">0x1058</span><span class="op" id="7658641">,</span>&nbsp;<span class="num" id="7658643">0x2</span><span class="op" id="7658646">,</span>&nbsp;<span class="num" id="7658648">0x0</span><span class="op" id="7658651">,</span>&nbsp;<span class="num" id="7658653">0x0</span><span class="op" id="7658656">,</span>&nbsp;<span class="num" id="7658658">0x7</span><span class="op" id="7658661">}</span><span class="op" id="7658662">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658666">}</span><span class="op" id="7658667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658670">}</span><span class="op" id="7658671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7658678">&#34;testdata/gcc-amd64-darwin-exec-debug&#34;</span><span class="op" id="7658716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658720">FileHeader</span><span class="op" id="7658730">{</span><span class="num" id="7658731">0xfeedfacf</span><span class="op" id="7658741">,</span>&nbsp;<span class="ident" id="7658743">CpuAmd64</span><span class="op" id="7658751">,</span>&nbsp;<span class="num" id="7658753">0x80000003</span><span class="op" id="7658763">,</span>&nbsp;<span class="num" id="7658765">0xa</span><span class="op" id="7658768">,</span>&nbsp;<span class="num" id="7658770">0x4</span><span class="op" id="7658773">,</span>&nbsp;<span class="num" id="7658775">0x5a0</span><span class="op" id="7658780">,</span>&nbsp;<span class="num" id="7658782">0</span><span class="op" id="7658783">}</span><span class="op" id="7658784">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658788">[</span><span class="op" id="7658789">]</span><span class="op" id="7658790">*</span><span class="ident" id="7658791">SegmentHeader</span><span class="op" id="7658804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658809">nil</span><span class="op" id="7658812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658817">{</span><span class="ident" id="7658818">LoadCmdSegment64</span><span class="op" id="7658834">,</span>&nbsp;<span class="num" id="7658836">0x1d8</span><span class="op" id="7658841">,</span>&nbsp;<span class="string" id="7658843">&#34;__TEXT&#34;</span><span class="op" id="7658851">,</span>&nbsp;<span class="num" id="7658853">0x100000000</span><span class="op" id="7658864">,</span>&nbsp;<span class="num" id="7658866">0x1000</span><span class="op" id="7658872">,</span>&nbsp;<span class="num" id="7658874">0x0</span><span class="op" id="7658877">,</span>&nbsp;<span class="num" id="7658879">0x0</span><span class="op" id="7658882">,</span>&nbsp;<span class="num" id="7658884">0x7</span><span class="op" id="7658887">,</span>&nbsp;<span class="num" id="7658889">0x5</span><span class="op" id="7658892">,</span>&nbsp;<span class="num" id="7658894">0x5</span><span class="op" id="7658897">,</span>&nbsp;<span class="num" id="7658899">0x0</span><span class="op" id="7658902">}</span><span class="op" id="7658903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658908">{</span><span class="ident" id="7658909">LoadCmdSegment64</span><span class="op" id="7658925">,</span>&nbsp;<span class="num" id="7658927">0x138</span><span class="op" id="7658932">,</span>&nbsp;<span class="string" id="7658934">&#34;__DATA&#34;</span><span class="op" id="7658942">,</span>&nbsp;<span class="num" id="7658944">0x100001000</span><span class="op" id="7658955">,</span>&nbsp;<span class="num" id="7658957">0x1000</span><span class="op" id="7658963">,</span>&nbsp;<span class="num" id="7658965">0x0</span><span class="op" id="7658968">,</span>&nbsp;<span class="num" id="7658970">0x0</span><span class="op" id="7658973">,</span>&nbsp;<span class="num" id="7658975">0x7</span><span class="op" id="7658978">,</span>&nbsp;<span class="num" id="7658980">0x3</span><span class="op" id="7658983">,</span>&nbsp;<span class="num" id="7658985">0x3</span><span class="op" id="7658988">,</span>&nbsp;<span class="num" id="7658990">0x0</span><span class="op" id="7658993">}</span><span class="op" id="7658994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658999">{</span><span class="ident" id="7659000">LoadCmdSegment64</span><span class="op" id="7659016">,</span>&nbsp;<span class="num" id="7659018">0x278</span><span class="op" id="7659023">,</span>&nbsp;<span class="string" id="7659025">&#34;__DWARF&#34;</span><span class="op" id="7659034">,</span>&nbsp;<span class="num" id="7659036">0x100002000</span><span class="op" id="7659047">,</span>&nbsp;<span class="num" id="7659049">0x1000</span><span class="op" id="7659055">,</span>&nbsp;<span class="num" id="7659057">0x1000</span><span class="op" id="7659063">,</span>&nbsp;<span class="num" id="7659065">0x1bc</span><span class="op" id="7659070">,</span>&nbsp;<span class="num" id="7659072">0x7</span><span class="op" id="7659075">,</span>&nbsp;<span class="num" id="7659077">0x3</span><span class="op" id="7659080">,</span>&nbsp;<span class="num" id="7659082">0x7</span><span class="op" id="7659085">,</span>&nbsp;<span class="num" id="7659087">0x0</span><span class="op" id="7659090">}</span><span class="op" id="7659091">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659095">}</span><span class="op" id="7659096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659100">[</span><span class="op" id="7659101">]</span><span class="op" id="7659102">*</span><span class="ident" id="7659103">SectionHeader</span><span class="op" id="7659116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659121">{</span><span class="string" id="7659122">&#34;__text&#34;</span><span class="op" id="7659130">,</span>&nbsp;<span class="string" id="7659132">&#34;__TEXT&#34;</span><span class="op" id="7659140">,</span>&nbsp;<span class="num" id="7659142">0x100000f14</span><span class="op" id="7659153">,</span>&nbsp;<span class="num" id="7659155">0x0</span><span class="op" id="7659158">,</span>&nbsp;<span class="num" id="7659160">0x0</span><span class="op" id="7659163">,</span>&nbsp;<span class="num" id="7659165">0x2</span><span class="op" id="7659168">,</span>&nbsp;<span class="num" id="7659170">0x0</span><span class="op" id="7659173">,</span>&nbsp;<span class="num" id="7659175">0x0</span><span class="op" id="7659178">,</span>&nbsp;<span class="num" id="7659180">0x80000400</span><span class="op" id="7659190">}</span><span class="op" id="7659191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659196">{</span><span class="string" id="7659197">&#34;__symbol_stub1&#34;</span><span class="op" id="7659213">,</span>&nbsp;<span class="string" id="7659215">&#34;__TEXT&#34;</span><span class="op" id="7659223">,</span>&nbsp;<span class="num" id="7659225">0x100000f81</span><span class="op" id="7659236">,</span>&nbsp;<span class="num" id="7659238">0x0</span><span class="op" id="7659241">,</span>&nbsp;<span class="num" id="7659243">0x0</span><span class="op" id="7659246">,</span>&nbsp;<span class="num" id="7659248">0x0</span><span class="op" id="7659251">,</span>&nbsp;<span class="num" id="7659253">0x0</span><span class="op" id="7659256">,</span>&nbsp;<span class="num" id="7659258">0x0</span><span class="op" id="7659261">,</span>&nbsp;<span class="num" id="7659263">0x80000408</span><span class="op" id="7659273">}</span><span class="op" id="7659274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659279">{</span><span class="string" id="7659280">&#34;__stub_helper&#34;</span><span class="op" id="7659295">,</span>&nbsp;<span class="string" id="7659297">&#34;__TEXT&#34;</span><span class="op" id="7659305">,</span>&nbsp;<span class="num" id="7659307">0x100000f90</span><span class="op" id="7659318">,</span>&nbsp;<span class="num" id="7659320">0x0</span><span class="op" id="7659323">,</span>&nbsp;<span class="num" id="7659325">0x0</span><span class="op" id="7659328">,</span>&nbsp;<span class="num" id="7659330">0x2</span><span class="op" id="7659333">,</span>&nbsp;<span class="num" id="7659335">0x0</span><span class="op" id="7659338">,</span>&nbsp;<span class="num" id="7659340">0x0</span><span class="op" id="7659343">,</span>&nbsp;<span class="num" id="7659345">0x0</span><span class="op" id="7659348">}</span><span class="op" id="7659349">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659354">{</span><span class="string" id="7659355">&#34;__cstring&#34;</span><span class="op" id="7659366">,</span>&nbsp;<span class="string" id="7659368">&#34;__TEXT&#34;</span><span class="op" id="7659376">,</span>&nbsp;<span class="num" id="7659378">0x100000fa8</span><span class="op" id="7659389">,</span>&nbsp;<span class="num" id="7659391">0x0</span><span class="op" id="7659394">,</span>&nbsp;<span class="num" id="7659396">0x0</span><span class="op" id="7659399">,</span>&nbsp;<span class="num" id="7659401">0x0</span><span class="op" id="7659404">,</span>&nbsp;<span class="num" id="7659406">0x0</span><span class="op" id="7659409">,</span>&nbsp;<span class="num" id="7659411">0x0</span><span class="op" id="7659414">,</span>&nbsp;<span class="num" id="7659416">0x2</span><span class="op" id="7659419">}</span><span class="op" id="7659420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659425">{</span><span class="string" id="7659426">&#34;__eh_frame&#34;</span><span class="op" id="7659438">,</span>&nbsp;<span class="string" id="7659440">&#34;__TEXT&#34;</span><span class="op" id="7659448">,</span>&nbsp;<span class="num" id="7659450">0x100000fb8</span><span class="op" id="7659461">,</span>&nbsp;<span class="num" id="7659463">0x0</span><span class="op" id="7659466">,</span>&nbsp;<span class="num" id="7659468">0x0</span><span class="op" id="7659471">,</span>&nbsp;<span class="num" id="7659473">0x3</span><span class="op" id="7659476">,</span>&nbsp;<span class="num" id="7659478">0x0</span><span class="op" id="7659481">,</span>&nbsp;<span class="num" id="7659483">0x0</span><span class="op" id="7659486">,</span>&nbsp;<span class="num" id="7659488">0x6000000b</span><span class="op" id="7659498">}</span><span class="op" id="7659499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659504">{</span><span class="string" id="7659505">&#34;__data&#34;</span><span class="op" id="7659513">,</span>&nbsp;<span class="string" id="7659515">&#34;__DATA&#34;</span><span class="op" id="7659523">,</span>&nbsp;<span class="num" id="7659525">0x100001000</span><span class="op" id="7659536">,</span>&nbsp;<span class="num" id="7659538">0x0</span><span class="op" id="7659541">,</span>&nbsp;<span class="num" id="7659543">0x0</span><span class="op" id="7659546">,</span>&nbsp;<span class="num" id="7659548">0x3</span><span class="op" id="7659551">,</span>&nbsp;<span class="num" id="7659553">0x0</span><span class="op" id="7659556">,</span>&nbsp;<span class="num" id="7659558">0x0</span><span class="op" id="7659561">,</span>&nbsp;<span class="num" id="7659563">0x0</span><span class="op" id="7659566">}</span><span class="op" id="7659567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659572">{</span><span class="string" id="7659573">&#34;__dyld&#34;</span><span class="op" id="7659581">,</span>&nbsp;<span class="string" id="7659583">&#34;__DATA&#34;</span><span class="op" id="7659591">,</span>&nbsp;<span class="num" id="7659593">0x100001020</span><span class="op" id="7659604">,</span>&nbsp;<span class="num" id="7659606">0x0</span><span class="op" id="7659609">,</span>&nbsp;<span class="num" id="7659611">0x0</span><span class="op" id="7659614">,</span>&nbsp;<span class="num" id="7659616">0x3</span><span class="op" id="7659619">,</span>&nbsp;<span class="num" id="7659621">0x0</span><span class="op" id="7659624">,</span>&nbsp;<span class="num" id="7659626">0x0</span><span class="op" id="7659629">,</span>&nbsp;<span class="num" id="7659631">0x0</span><span class="op" id="7659634">}</span><span class="op" id="7659635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659640">{</span><span class="string" id="7659641">&#34;__la_symbol_ptr&#34;</span><span class="op" id="7659658">,</span>&nbsp;<span class="string" id="7659660">&#34;__DATA&#34;</span><span class="op" id="7659668">,</span>&nbsp;<span class="num" id="7659670">0x100001058</span><span class="op" id="7659681">,</span>&nbsp;<span class="num" id="7659683">0x0</span><span class="op" id="7659686">,</span>&nbsp;<span class="num" id="7659688">0x0</span><span class="op" id="7659691">,</span>&nbsp;<span class="num" id="7659693">0x2</span><span class="op" id="7659696">,</span>&nbsp;<span class="num" id="7659698">0x0</span><span class="op" id="7659701">,</span>&nbsp;<span class="num" id="7659703">0x0</span><span class="op" id="7659706">,</span>&nbsp;<span class="num" id="7659708">0x7</span><span class="op" id="7659711">}</span><span class="op" id="7659712">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659717">{</span><span class="string" id="7659718">&#34;__debug_abbrev&#34;</span><span class="op" id="7659734">,</span>&nbsp;<span class="string" id="7659736">&#34;__DWARF&#34;</span><span class="op" id="7659745">,</span>&nbsp;<span class="num" id="7659747">0x100002000</span><span class="op" id="7659758">,</span>&nbsp;<span class="num" id="7659760">0x36</span><span class="op" id="7659764">,</span>&nbsp;<span class="num" id="7659766">0x1000</span><span class="op" id="7659772">,</span>&nbsp;<span class="num" id="7659774">0x0</span><span class="op" id="7659777">,</span>&nbsp;<span class="num" id="7659779">0x0</span><span class="op" id="7659782">,</span>&nbsp;<span class="num" id="7659784">0x0</span><span class="op" id="7659787">,</span>&nbsp;<span class="num" id="7659789">0x0</span><span class="op" id="7659792">}</span><span class="op" id="7659793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659798">{</span><span class="string" id="7659799">&#34;__debug_aranges&#34;</span><span class="op" id="7659816">,</span>&nbsp;<span class="string" id="7659818">&#34;__DWARF&#34;</span><span class="op" id="7659827">,</span>&nbsp;<span class="num" id="7659829">0x100002036</span><span class="op" id="7659840">,</span>&nbsp;<span class="num" id="7659842">0x30</span><span class="op" id="7659846">,</span>&nbsp;<span class="num" id="7659848">0x1036</span><span class="op" id="7659854">,</span>&nbsp;<span class="num" id="7659856">0x0</span><span class="op" id="7659859">,</span>&nbsp;<span class="num" id="7659861">0x0</span><span class="op" id="7659864">,</span>&nbsp;<span class="num" id="7659866">0x0</span><span class="op" id="7659869">,</span>&nbsp;<span class="num" id="7659871">0x0</span><span class="op" id="7659874">}</span><span class="op" id="7659875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659880">{</span><span class="string" id="7659881">&#34;__debug_frame&#34;</span><span class="op" id="7659896">,</span>&nbsp;<span class="string" id="7659898">&#34;__DWARF&#34;</span><span class="op" id="7659907">,</span>&nbsp;<span class="num" id="7659909">0x100002066</span><span class="op" id="7659920">,</span>&nbsp;<span class="num" id="7659922">0x40</span><span class="op" id="7659926">,</span>&nbsp;<span class="num" id="7659928">0x1066</span><span class="op" id="7659934">,</span>&nbsp;<span class="num" id="7659936">0x0</span><span class="op" id="7659939">,</span>&nbsp;<span class="num" id="7659941">0x0</span><span class="op" id="7659944">,</span>&nbsp;<span class="num" id="7659946">0x0</span><span class="op" id="7659949">,</span>&nbsp;<span class="num" id="7659951">0x0</span><span class="op" id="7659954">}</span><span class="op" id="7659955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659960">{</span><span class="string" id="7659961">&#34;__debug_info&#34;</span><span class="op" id="7659975">,</span>&nbsp;<span class="string" id="7659977">&#34;__DWARF&#34;</span><span class="op" id="7659986">,</span>&nbsp;<span class="num" id="7659988">0x1000020a6</span><span class="op" id="7659999">,</span>&nbsp;<span class="num" id="7660001">0x54</span><span class="op" id="7660005">,</span>&nbsp;<span class="num" id="7660007">0x10a6</span><span class="op" id="7660013">,</span>&nbsp;<span class="num" id="7660015">0x0</span><span class="op" id="7660018">,</span>&nbsp;<span class="num" id="7660020">0x0</span><span class="op" id="7660023">,</span>&nbsp;<span class="num" id="7660025">0x0</span><span class="op" id="7660028">,</span>&nbsp;<span class="num" id="7660030">0x0</span><span class="op" id="7660033">}</span><span class="op" id="7660034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660039">{</span><span class="string" id="7660040">&#34;__debug_line&#34;</span><span class="op" id="7660054">,</span>&nbsp;<span class="string" id="7660056">&#34;__DWARF&#34;</span><span class="op" id="7660065">,</span>&nbsp;<span class="num" id="7660067">0x1000020fa</span><span class="op" id="7660078">,</span>&nbsp;<span class="num" id="7660080">0x47</span><span class="op" id="7660084">,</span>&nbsp;<span class="num" id="7660086">0x10fa</span><span class="op" id="7660092">,</span>&nbsp;<span class="num" id="7660094">0x0</span><span class="op" id="7660097">,</span>&nbsp;<span class="num" id="7660099">0x0</span><span class="op" id="7660102">,</span>&nbsp;<span class="num" id="7660104">0x0</span><span class="op" id="7660107">,</span>&nbsp;<span class="num" id="7660109">0x0</span><span class="op" id="7660112">}</span><span class="op" id="7660113">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660118">{</span><span class="string" id="7660119">&#34;__debug_pubnames&#34;</span><span class="op" id="7660137">,</span>&nbsp;<span class="string" id="7660139">&#34;__DWARF&#34;</span><span class="op" id="7660148">,</span>&nbsp;<span class="num" id="7660150">0x100002141</span><span class="op" id="7660161">,</span>&nbsp;<span class="num" id="7660163">0x1b</span><span class="op" id="7660167">,</span>&nbsp;<span class="num" id="7660169">0x1141</span><span class="op" id="7660175">,</span>&nbsp;<span class="num" id="7660177">0x0</span><span class="op" id="7660180">,</span>&nbsp;<span class="num" id="7660182">0x0</span><span class="op" id="7660185">,</span>&nbsp;<span class="num" id="7660187">0x0</span><span class="op" id="7660190">,</span>&nbsp;<span class="num" id="7660192">0x0</span><span class="op" id="7660195">}</span><span class="op" id="7660196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660201">{</span><span class="string" id="7660202">&#34;__debug_str&#34;</span><span class="op" id="7660215">,</span>&nbsp;<span class="string" id="7660217">&#34;__DWARF&#34;</span><span class="op" id="7660226">,</span>&nbsp;<span class="num" id="7660228">0x10000215c</span><span class="op" id="7660239">,</span>&nbsp;<span class="num" id="7660241">0x60</span><span class="op" id="7660245">,</span>&nbsp;<span class="num" id="7660247">0x115c</span><span class="op" id="7660253">,</span>&nbsp;<span class="num" id="7660255">0x0</span><span class="op" id="7660258">,</span>&nbsp;<span class="num" id="7660260">0x0</span><span class="op" id="7660263">,</span>&nbsp;<span class="num" id="7660265">0x0</span><span class="op" id="7660268">,</span>&nbsp;<span class="num" id="7660270">0x0</span><span class="op" id="7660273">}</span><span class="op" id="7660274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660278">}</span><span class="op" id="7660279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660282">}</span><span class="op" id="7660283">,</span><br>
<span class="lineno"></span><span class="op" id="7660285">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="7660288">func</span>&nbsp;<span class="ident" id="7660293">TestOpen</span><span class="op" id="7660301">(</span><span class="ident" id="7660302">t</span>&nbsp;<span class="op" id="7660304">*</span><span class="ident" id="7660305">testing</span><span class="op" id="7660312">.</span><span class="ident" id="7660313">T</span><span class="op" id="7660314">)</span>&nbsp;<span class="op" id="7660316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660319">for</span>&nbsp;<span class="ident" id="7660323">i</span>&nbsp;<span class="op" id="7660325">:=</span>&nbsp;<span class="keyword" id="7660328">range</span>&nbsp;<span class="ident" id="7660334">fileTests</span>&nbsp;<span class="op" id="7660344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660348">tt</span>&nbsp;<span class="op" id="7660351">:=</span>&nbsp;<span class="op" id="7660354">&amp;</span><span class="ident" id="7660355">fileTests</span><span class="op" id="7660364">[</span><span class="ident" id="7660365">i</span><span class="op" id="7660366">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660371">f</span><span class="op" id="7660372">,</span>&nbsp;<span class="ident" id="7660374">err</span>&nbsp;<span class="op" id="7660378">:=</span>&nbsp;<span class="ident" id="7660381">Open</span><span class="op" id="7660385">(</span><span class="ident" id="7660386">tt</span><span class="op" id="7660388">.</span><span class="ident" id="7660389">file</span><span class="op" id="7660393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660397">if</span>&nbsp;<span class="ident" id="7660400">err</span>&nbsp;<span class="op" id="7660404">!=</span>&nbsp;<span class="ident" id="7660407">nil</span>&nbsp;<span class="op" id="7660411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660416">t</span><span class="op" id="7660417">.</span><span class="ident" id="7660418">Error</span><span class="op" id="7660423">(</span><span class="ident" id="7660424">err</span><span class="op" id="7660427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660432">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660443">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660447">if</span>&nbsp;<span class="op" id="7660450">!</span><span class="ident" id="7660451">reflect</span><span class="op" id="7660458">.</span><span class="ident" id="7660459">DeepEqual</span><span class="op" id="7660468">(</span><span class="ident" id="7660469">f</span><span class="op" id="7660470">.</span><span class="ident" id="7660471">FileHeader</span><span class="op" id="7660481">,</span>&nbsp;<span class="ident" id="7660483">tt</span><span class="op" id="7660485">.</span><span class="ident" id="7660486">hdr</span><span class="op" id="7660489">)</span>&nbsp;<span class="op" id="7660491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660496">t</span><span class="op" id="7660497">.</span><span class="ident" id="7660498">Errorf</span><span class="op" id="7660504">(</span><span class="string" id="7660505">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7660541">,</span>&nbsp;<span class="ident" id="7660543">tt</span><span class="op" id="7660545">.</span><span class="ident" id="7660546">file</span><span class="op" id="7660550">,</span>&nbsp;<span class="ident" id="7660552">f</span><span class="op" id="7660553">.</span><span class="ident" id="7660554">FileHeader</span><span class="op" id="7660564">,</span>&nbsp;<span class="ident" id="7660566">tt</span><span class="op" id="7660568">.</span><span class="ident" id="7660569">hdr</span><span class="op" id="7660572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660577">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660592">for</span>&nbsp;<span class="ident" id="7660596">i</span><span class="op" id="7660597">,</span>&nbsp;<span class="ident" id="7660599">l</span>&nbsp;<span class="op" id="7660601">:=</span>&nbsp;<span class="keyword" id="7660604">range</span>&nbsp;<span class="ident" id="7660610">f</span><span class="op" id="7660611">.</span><span class="ident" id="7660612">Loads</span>&nbsp;<span class="op" id="7660618">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660623">if</span>&nbsp;<span class="ident" id="7660626">i</span>&nbsp;<span class="op" id="7660628">&gt;=</span>&nbsp;<span class="builtinfunc" id="7660631">len</span><span class="op" id="7660634">(</span><span class="ident" id="7660635">tt</span><span class="op" id="7660637">.</span><span class="ident" id="7660638">segments</span><span class="op" id="7660646">)</span>&nbsp;<span class="op" id="7660648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660654">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660668">sh</span>&nbsp;<span class="op" id="7660671">:=</span>&nbsp;<span class="ident" id="7660674">tt</span><span class="op" id="7660676">.</span><span class="ident" id="7660677">segments</span><span class="op" id="7660685">[</span><span class="ident" id="7660686">i</span><span class="op" id="7660687">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660692">s</span><span class="op" id="7660693">,</span>&nbsp;<span class="ident" id="7660695">ok</span>&nbsp;<span class="op" id="7660698">:=</span>&nbsp;<span class="ident" id="7660701">l</span><span class="op" id="7660702">.</span><span class="op" id="7660703">(</span><span class="op" id="7660704">*</span><span class="ident" id="7660705">Segment</span><span class="op" id="7660712">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660717">if</span>&nbsp;<span class="ident" id="7660720">sh</span>&nbsp;<span class="op" id="7660723">==</span>&nbsp;<span class="ident" id="7660726">nil</span>&nbsp;<span class="op" id="7660730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660736">if</span>&nbsp;<span class="ident" id="7660739">ok</span>&nbsp;<span class="op" id="7660742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660749">t</span><span class="op" id="7660750">.</span><span class="ident" id="7660751">Errorf</span><span class="op" id="7660757">(</span><span class="string" id="7660758">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;skipping&nbsp;%#v\n&#34;</span><span class="op" id="7660795">,</span>&nbsp;<span class="ident" id="7660797">tt</span><span class="op" id="7660799">.</span><span class="ident" id="7660800">file</span><span class="op" id="7660804">,</span>&nbsp;<span class="ident" id="7660806">i</span><span class="op" id="7660807">,</span>&nbsp;<span class="op" id="7660809">&amp;</span><span class="ident" id="7660810">s</span><span class="op" id="7660811">.</span><span class="ident" id="7660812">SegmentHeader</span><span class="op" id="7660825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660837">continue</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660854">if</span>&nbsp;<span class="op" id="7660857">!</span><span class="ident" id="7660858">ok</span>&nbsp;<span class="op" id="7660861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660867">t</span><span class="op" id="7660868">.</span><span class="ident" id="7660869">Errorf</span><span class="op" id="7660875">(</span><span class="string" id="7660876">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;not&nbsp;*Segment\n&#34;</span><span class="op" id="7660913">,</span>&nbsp;<span class="ident" id="7660915">tt</span><span class="op" id="7660917">.</span><span class="ident" id="7660918">file</span><span class="op" id="7660922">,</span>&nbsp;<span class="ident" id="7660924">i</span><span class="op" id="7660925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660931">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660943">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660948">have</span>&nbsp;<span class="op" id="7660953">:=</span>&nbsp;<span class="op" id="7660956">&amp;</span><span class="ident" id="7660957">s</span><span class="op" id="7660958">.</span><span class="ident" id="7660959">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660976">want</span>&nbsp;<span class="op" id="7660981">:=</span>&nbsp;<span class="ident" id="7660984">sh</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660990">if</span>&nbsp;<span class="op" id="7660993">!</span><span class="ident" id="7660994">reflect</span><span class="op" id="7661001">.</span><span class="ident" id="7661002">DeepEqual</span><span class="op" id="7661011">(</span><span class="ident" id="7661012">have</span><span class="op" id="7661016">,</span>&nbsp;<span class="ident" id="7661018">want</span><span class="op" id="7661022">)</span>&nbsp;<span class="op" id="7661024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661030">t</span><span class="op" id="7661031">.</span><span class="ident" id="7661032">Errorf</span><span class="op" id="7661038">(</span><span class="string" id="7661039">&#34;open&nbsp;%s,&nbsp;segment&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7661087">,</span>&nbsp;<span class="ident" id="7661089">tt</span><span class="op" id="7661091">.</span><span class="ident" id="7661092">file</span><span class="op" id="7661096">,</span>&nbsp;<span class="ident" id="7661098">i</span><span class="op" id="7661099">,</span>&nbsp;<span class="ident" id="7661101">have</span><span class="op" id="7661105">,</span>&nbsp;<span class="ident" id="7661107">want</span><span class="op" id="7661111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661116">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661124">tn</span>&nbsp;<span class="op" id="7661127">:=</span>&nbsp;<span class="builtinfunc" id="7661130">len</span><span class="op" id="7661133">(</span><span class="ident" id="7661134">tt</span><span class="op" id="7661136">.</span><span class="ident" id="7661137">segments</span><span class="op" id="7661145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661149">fn</span>&nbsp;<span class="op" id="7661152">:=</span>&nbsp;<span class="builtinfunc" id="7661155">len</span><span class="op" id="7661158">(</span><span class="ident" id="7661159">f</span><span class="op" id="7661160">.</span><span class="ident" id="7661161">Loads</span><span class="op" id="7661166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661170">if</span>&nbsp;<span class="ident" id="7661173">tn</span>&nbsp;<span class="op" id="7661176">!=</span>&nbsp;<span class="ident" id="7661179">fn</span>&nbsp;<span class="op" id="7661182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661187">t</span><span class="op" id="7661188">.</span><span class="ident" id="7661189">Errorf</span><span class="op" id="7661195">(</span><span class="string" id="7661196">&#34;open&nbsp;%s:&nbsp;len(Loads)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7661231">,</span>&nbsp;<span class="ident" id="7661233">tt</span><span class="op" id="7661235">.</span><span class="ident" id="7661236">file</span><span class="op" id="7661240">,</span>&nbsp;<span class="ident" id="7661242">fn</span><span class="op" id="7661244">,</span>&nbsp;<span class="ident" id="7661246">tn</span><span class="op" id="7661248">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661257">for</span>&nbsp;<span class="ident" id="7661261">i</span><span class="op" id="7661262">,</span>&nbsp;<span class="ident" id="7661264">sh</span>&nbsp;<span class="op" id="7661267">:=</span>&nbsp;<span class="keyword" id="7661270">range</span>&nbsp;<span class="ident" id="7661276">f</span><span class="op" id="7661277">.</span><span class="ident" id="7661278">Sections</span>&nbsp;<span class="op" id="7661287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661292">if</span>&nbsp;<span class="ident" id="7661295">i</span>&nbsp;<span class="op" id="7661297">&gt;=</span>&nbsp;<span class="builtinfunc" id="7661300">len</span><span class="op" id="7661303">(</span><span class="ident" id="7661304">tt</span><span class="op" id="7661306">.</span><span class="ident" id="7661307">sections</span><span class="op" id="7661315">)</span>&nbsp;<span class="op" id="7661317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661323">break</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661337">have</span>&nbsp;<span class="op" id="7661342">:=</span>&nbsp;<span class="op" id="7661345">&amp;</span><span class="ident" id="7661346">sh</span><span class="op" id="7661348">.</span><span class="ident" id="7661349">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661366">want</span>&nbsp;<span class="op" id="7661371">:=</span>&nbsp;<span class="ident" id="7661374">tt</span><span class="op" id="7661376">.</span><span class="ident" id="7661377">sections</span><span class="op" id="7661385">[</span><span class="ident" id="7661386">i</span><span class="op" id="7661387">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661392">if</span>&nbsp;<span class="op" id="7661395">!</span><span class="ident" id="7661396">reflect</span><span class="op" id="7661403">.</span><span class="ident" id="7661404">DeepEqual</span><span class="op" id="7661413">(</span><span class="ident" id="7661414">have</span><span class="op" id="7661418">,</span>&nbsp;<span class="ident" id="7661420">want</span><span class="op" id="7661424">)</span>&nbsp;<span class="op" id="7661426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661432">t</span><span class="op" id="7661433">.</span><span class="ident" id="7661434">Errorf</span><span class="op" id="7661440">(</span><span class="string" id="7661441">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7661489">,</span>&nbsp;<span class="ident" id="7661491">tt</span><span class="op" id="7661493">.</span><span class="ident" id="7661494">file</span><span class="op" id="7661498">,</span>&nbsp;<span class="ident" id="7661500">i</span><span class="op" id="7661501">,</span>&nbsp;<span class="ident" id="7661503">have</span><span class="op" id="7661507">,</span>&nbsp;<span class="ident" id="7661509">want</span><span class="op" id="7661513">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661526">tn</span>&nbsp;<span class="op" id="7661529">=</span>&nbsp;<span class="builtinfunc" id="7661531">len</span><span class="op" id="7661534">(</span><span class="ident" id="7661535">tt</span><span class="op" id="7661537">.</span><span class="ident" id="7661538">sections</span><span class="op" id="7661546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661550">fn</span>&nbsp;<span class="op" id="7661553">=</span>&nbsp;<span class="builtinfunc" id="7661555">len</span><span class="op" id="7661558">(</span><span class="ident" id="7661559">f</span><span class="op" id="7661560">.</span><span class="ident" id="7661561">Sections</span><span class="op" id="7661569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661573">if</span>&nbsp;<span class="ident" id="7661576">tn</span>&nbsp;<span class="op" id="7661579">!=</span>&nbsp;<span class="ident" id="7661582">fn</span>&nbsp;<span class="op" id="7661585">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661590">t</span><span class="op" id="7661591">.</span><span class="ident" id="7661592">Errorf</span><span class="op" id="7661598">(</span><span class="string" id="7661599">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7661637">,</span>&nbsp;<span class="ident" id="7661639">tt</span><span class="op" id="7661641">.</span><span class="ident" id="7661642">file</span><span class="op" id="7661646">,</span>&nbsp;<span class="ident" id="7661648">fn</span><span class="op" id="7661650">,</span>&nbsp;<span class="ident" id="7661652">tn</span><span class="op" id="7661654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661662">}</span><br>
<span class="lineno"></span><span class="op" id="7661664">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="keyword" id="7661667">func</span>&nbsp;<span class="ident" id="7661672">TestOpenFailure</span><span class="op" id="7661687">(</span><span class="ident" id="7661688">t</span>&nbsp;<span class="op" id="7661690">*</span><span class="ident" id="7661691">testing</span><span class="op" id="7661698">.</span><span class="ident" id="7661699">T</span><span class="op" id="7661700">)</span>&nbsp;<span class="op" id="7661702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661705">filename</span>&nbsp;<span class="op" id="7661714">:=</span>&nbsp;<span class="string" id="7661717">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7661730">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661752">_</span><span class="op" id="7661753">,</span>&nbsp;<span class="ident" id="7661755">err</span>&nbsp;<span class="op" id="7661759">:=</span>&nbsp;<span class="ident" id="7661762">Open</span><span class="op" id="7661766">(</span><span class="ident" id="7661767">filename</span><span class="op" id="7661775">)</span>&nbsp;<span class="comment" id="7661777">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661793">if</span>&nbsp;<span class="ident" id="7661796">err</span>&nbsp;<span class="op" id="7661800">==</span>&nbsp;<span class="ident" id="7661803">nil</span>&nbsp;<span class="op" id="7661807">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661811">t</span><span class="op" id="7661812">.</span><span class="ident" id="7661813">Errorf</span><span class="op" id="7661819">(</span><span class="string" id="7661820">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="7661853">,</span>&nbsp;<span class="ident" id="7661855">filename</span><span class="op" id="7661863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661866">}</span><br>
<span class="lineno"></span><span class="op" id="7661868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7661871">func</span>&nbsp;<span class="ident" id="7661876">TestOpenFat</span><span class="op" id="7661887">(</span><span class="ident" id="7661888">t</span>&nbsp;<span class="op" id="7661890">*</span><span class="ident" id="7661891">testing</span><span class="op" id="7661898">.</span><span class="ident" id="7661899">T</span><span class="op" id="7661900">)</span>&nbsp;<span class="op" id="7661902">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661905">ff</span><span class="op" id="7661907">,</span>&nbsp;<span class="ident" id="7661909">err</span>&nbsp;<span class="op" id="7661913">:=</span>&nbsp;<span class="ident" id="7661916">OpenFat</span><span class="op" id="7661923">(</span><span class="string" id="7661924">&#34;testdata/fat-gcc-386-amd64-darwin-exec&#34;</span><span class="op" id="7661964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661967">if</span>&nbsp;<span class="ident" id="7661970">err</span>&nbsp;<span class="op" id="7661974">!=</span>&nbsp;<span class="ident" id="7661977">nil</span>&nbsp;<span class="op" id="7661981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661985">t</span><span class="op" id="7661986">.</span><span class="ident" id="7661987">Fatal</span><span class="op" id="7661992">(</span><span class="ident" id="7661993">err</span><span class="op" id="7661996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662003">if</span>&nbsp;<span class="ident" id="7662006">ff</span><span class="op" id="7662008">.</span><span class="ident" id="7662009">Magic</span>&nbsp;<span class="op" id="7662015">!=</span>&nbsp;<span class="ident" id="7662018">MagicFat</span>&nbsp;<span class="op" id="7662027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662031">t</span><span class="op" id="7662032">.</span><span class="ident" id="7662033">Errorf</span><span class="op" id="7662039">(</span><span class="string" id="7662040">&#34;OpenFat:&nbsp;got&nbsp;magic&nbsp;number&nbsp;%#x,&nbsp;want&nbsp;%#x&#34;</span><span class="op" id="7662081">,</span>&nbsp;<span class="ident" id="7662083">ff</span><span class="op" id="7662085">.</span><span class="ident" id="7662086">Magic</span><span class="op" id="7662091">,</span>&nbsp;<span class="ident" id="7662093">MagicFat</span><span class="op" id="7662101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662107">if</span>&nbsp;<span class="builtinfunc" id="7662110">len</span><span class="op" id="7662113">(</span><span class="ident" id="7662114">ff</span><span class="op" id="7662116">.</span><span class="ident" id="7662117">Arches</span><span class="op" id="7662123">)</span>&nbsp;<span class="op" id="7662125">!=</span>&nbsp;<span class="num" id="7662128">2</span>&nbsp;<span class="op" id="7662130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662134">t</span><span class="op" id="7662135">.</span><span class="ident" id="7662136">Errorf</span><span class="op" id="7662142">(</span><span class="string" id="7662143">&#34;OpenFat:&nbsp;got&nbsp;%d&nbsp;architectures,&nbsp;want&nbsp;2&#34;</span><span class="op" id="7662182">,</span>&nbsp;<span class="builtinfunc" id="7662184">len</span><span class="op" id="7662187">(</span><span class="ident" id="7662188">ff</span><span class="op" id="7662190">.</span><span class="ident" id="7662191">Arches</span><span class="op" id="7662197">)</span><span class="op" id="7662198">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662205">for</span>&nbsp;<span class="ident" id="7662209">i</span>&nbsp;<span class="op" id="7662211">:=</span>&nbsp;<span class="keyword" id="7662214">range</span>&nbsp;<span class="ident" id="7662220">ff</span><span class="op" id="7662222">.</span><span class="ident" id="7662223">Arches</span>&nbsp;<span class="op" id="7662230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662234">arch</span>&nbsp;<span class="op" id="7662239">:=</span>&nbsp;<span class="op" id="7662242">&amp;</span><span class="ident" id="7662243">ff</span><span class="op" id="7662245">.</span><span class="ident" id="7662246">Arches</span><span class="op" id="7662252">[</span><span class="ident" id="7662253">i</span><span class="op" id="7662254">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662258">ftArch</span>&nbsp;<span class="op" id="7662265">:=</span>&nbsp;<span class="op" id="7662268">&amp;</span><span class="ident" id="7662269">fileTests</span><span class="op" id="7662278">[</span><span class="ident" id="7662279">i</span><span class="op" id="7662280">]</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662285">if</span>&nbsp;<span class="ident" id="7662288">arch</span><span class="op" id="7662292">.</span><span class="ident" id="7662293">Cpu</span>&nbsp;<span class="op" id="7662297">!=</span>&nbsp;<span class="ident" id="7662300">ftArch</span><span class="op" id="7662306">.</span><span class="ident" id="7662307">hdr</span><span class="op" id="7662310">.</span><span class="ident" id="7662311">Cpu</span>&nbsp;<span class="op" id="7662315">||</span>&nbsp;<span class="ident" id="7662318">arch</span><span class="op" id="7662322">.</span><span class="ident" id="7662323">SubCpu</span>&nbsp;<span class="op" id="7662330">!=</span>&nbsp;<span class="ident" id="7662333">ftArch</span><span class="op" id="7662339">.</span><span class="ident" id="7662340">hdr</span><span class="op" id="7662343">.</span><span class="ident" id="7662344">SubCpu</span>&nbsp;<span class="op" id="7662351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662356">t</span><span class="op" id="7662357">.</span><span class="ident" id="7662358">Errorf</span><span class="op" id="7662364">(</span><span class="string" id="7662365">&#34;OpenFat:&nbsp;architecture&nbsp;#%d&nbsp;got&nbsp;cpu=%#x&nbsp;subtype=%#x,&nbsp;expected&nbsp;cpu=%#x,&nbsp;subtype=%#x&#34;</span><span class="op" id="7662447">,</span>&nbsp;<span class="ident" id="7662449">i</span><span class="op" id="7662450">,</span>&nbsp;<span class="ident" id="7662452">arch</span><span class="op" id="7662456">.</span><span class="ident" id="7662457">Cpu</span><span class="op" id="7662460">,</span>&nbsp;<span class="ident" id="7662462">arch</span><span class="op" id="7662466">.</span><span class="ident" id="7662467">SubCpu</span><span class="op" id="7662473">,</span>&nbsp;<span class="ident" id="7662475">ftArch</span><span class="op" id="7662481">.</span><span class="ident" id="7662482">hdr</span><span class="op" id="7662485">.</span><span class="ident" id="7662486">Cpu</span><span class="op" id="7662489">,</span>&nbsp;<span class="ident" id="7662491">ftArch</span><span class="op" id="7662497">.</span><span class="ident" id="7662498">hdr</span><span class="op" id="7662501">.</span><span class="ident" id="7662502">SubCpu</span><span class="op" id="7662508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662517">if</span>&nbsp;<span class="op" id="7662520">!</span><span class="ident" id="7662521">reflect</span><span class="op" id="7662528">.</span><span class="ident" id="7662529">DeepEqual</span><span class="op" id="7662538">(</span><span class="ident" id="7662539">arch</span><span class="op" id="7662543">.</span><span class="ident" id="7662544">FileHeader</span><span class="op" id="7662554">,</span>&nbsp;<span class="ident" id="7662556">ftArch</span><span class="op" id="7662562">.</span><span class="ident" id="7662563">hdr</span><span class="op" id="7662566">)</span>&nbsp;<span class="op" id="7662568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662573">t</span><span class="op" id="7662574">.</span><span class="ident" id="7662575">Errorf</span><span class="op" id="7662581">(</span><span class="string" id="7662582">&#34;OpenFat&nbsp;header:\n\tgot&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7662624">,</span>&nbsp;<span class="ident" id="7662626">arch</span><span class="op" id="7662630">.</span><span class="ident" id="7662631">FileHeader</span><span class="op" id="7662641">,</span>&nbsp;<span class="ident" id="7662643">ftArch</span><span class="op" id="7662649">.</span><span class="ident" id="7662650">hdr</span><span class="op" id="7662653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662660">}</span><br>
<span class="lineno"></span><span class="op" id="7662662">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="7662665">func</span>&nbsp;<span class="ident" id="7662670">TestOpenFatFailure</span><span class="op" id="7662688">(</span><span class="ident" id="7662689">t</span>&nbsp;<span class="op" id="7662691">*</span><span class="ident" id="7662692">testing</span><span class="op" id="7662699">.</span><span class="ident" id="7662700">T</span><span class="op" id="7662701">)</span>&nbsp;<span class="op" id="7662703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662706">filename</span>&nbsp;<span class="op" id="7662715">:=</span>&nbsp;<span class="string" id="7662718">&#34;file.go&#34;</span>&nbsp;<span class="comment" id="7662728">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662750">if</span>&nbsp;<span class="ident" id="7662753">_</span><span class="op" id="7662754">,</span>&nbsp;<span class="ident" id="7662756">err</span>&nbsp;<span class="op" id="7662760">:=</span>&nbsp;<span class="ident" id="7662763">OpenFat</span><span class="op" id="7662770">(</span><span class="ident" id="7662771">filename</span><span class="op" id="7662779">)</span><span class="op" id="7662780">;</span>&nbsp;<span class="ident" id="7662782">err</span>&nbsp;<span class="op" id="7662786">==</span>&nbsp;<span class="ident" id="7662789">nil</span>&nbsp;<span class="op" id="7662793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662797">t</span><span class="op" id="7662798">.</span><span class="ident" id="7662799">Errorf</span><span class="op" id="7662805">(</span><span class="string" id="7662806">&#34;OpenFat&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="7662842">,</span>&nbsp;<span class="ident" id="7662844">filename</span><span class="op" id="7662852">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662859">filename</span>&nbsp;<span class="op" id="7662868">=</span>&nbsp;<span class="string" id="7662870">&#34;testdata/gcc-386-darwin-exec&#34;</span>&nbsp;<span class="comment" id="7662901">//&nbsp;not&nbsp;a&nbsp;fat&nbsp;Mach-O</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662922">ff</span><span class="op" id="7662924">,</span>&nbsp;<span class="ident" id="7662926">err</span>&nbsp;<span class="op" id="7662930">:=</span>&nbsp;<span class="ident" id="7662933">OpenFat</span><span class="op" id="7662940">(</span><span class="ident" id="7662941">filename</span><span class="op" id="7662949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662952">if</span>&nbsp;<span class="ident" id="7662955">err</span>&nbsp;<span class="op" id="7662959">!=</span>&nbsp;<span class="ident" id="7662962">ErrNotFat</span>&nbsp;<span class="op" id="7662972">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662976">t</span><span class="op" id="7662977">.</span><span class="ident" id="7662978">Errorf</span><span class="op" id="7662984">(</span><span class="string" id="7662985">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;ErrNotFat&#34;</span><span class="op" id="7663021">,</span>&nbsp;<span class="ident" id="7663023">filename</span><span class="op" id="7663031">,</span>&nbsp;<span class="ident" id="7663033">err</span><span class="op" id="7663036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7663042">if</span>&nbsp;<span class="ident" id="7663045">ff</span>&nbsp;<span class="op" id="7663048">!=</span>&nbsp;<span class="ident" id="7663051">nil</span>&nbsp;<span class="op" id="7663055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663059">t</span><span class="op" id="7663060">.</span><span class="ident" id="7663061">Errorf</span><span class="op" id="7663067">(</span><span class="string" id="7663068">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7663098">,</span>&nbsp;<span class="ident" id="7663100">filename</span><span class="op" id="7663108">,</span>&nbsp;<span class="ident" id="7663110">ff</span><span class="op" id="7663112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663115">}</span><br>
<span class="lineno">210</span><span class="op" id="7663117">}</span>
</div>
</body>
</html>
