<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment">//&nbsp;Package&nbsp;ast&nbsp;declares&nbsp;the&nbsp;types&nbsp;used&nbsp;to&nbsp;represent&nbsp;syntax&nbsp;trees&nbsp;for&nbsp;Go</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;packages.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">package</span>&nbsp;<span class="ident">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword">import</span>&nbsp;<span class="op">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">15</span><span class="op">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Interfaces</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno">20</span><span class="comment">//&nbsp;There&nbsp;are&nbsp;3&nbsp;main&nbsp;classes&nbsp;of&nbsp;nodes:&nbsp;Expressions&nbsp;and&nbsp;type&nbsp;nodes,</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;statement&nbsp;nodes,&nbsp;and&nbsp;declaration&nbsp;nodes.&nbsp;The&nbsp;node&nbsp;names&nbsp;usually</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;match&nbsp;the&nbsp;corresponding&nbsp;Go&nbsp;spec&nbsp;production&nbsp;names&nbsp;to&nbsp;which&nbsp;they</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;correspond.&nbsp;The&nbsp;node&nbsp;fields&nbsp;correspond&nbsp;to&nbsp;the&nbsp;individual&nbsp;parts</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;of&nbsp;the&nbsp;respective&nbsp;productions.</span><br>
<span class="lineno">25</span><span class="comment">//</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;All&nbsp;nodes&nbsp;contain&nbsp;position&nbsp;information&nbsp;marking&nbsp;the&nbsp;beginning&nbsp;of</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;the&nbsp;corresponding&nbsp;source&nbsp;text&nbsp;segment;&nbsp;it&nbsp;is&nbsp;accessible&nbsp;via&nbsp;the</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Pos&nbsp;accessor&nbsp;method.&nbsp;Nodes&nbsp;may&nbsp;contain&nbsp;additional&nbsp;position&nbsp;info</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;for&nbsp;language&nbsp;constructs&nbsp;where&nbsp;comments&nbsp;may&nbsp;be&nbsp;found&nbsp;between&nbsp;parts</span><br>
<span class="lineno">30</span><span class="comment">//&nbsp;of&nbsp;the&nbsp;construct&nbsp;(typically&nbsp;any&nbsp;larger,&nbsp;parenthesized&nbsp;subpart).</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;That&nbsp;position&nbsp;information&nbsp;is&nbsp;needed&nbsp;to&nbsp;properly&nbsp;position&nbsp;comments</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;when&nbsp;printing&nbsp;the&nbsp;construct.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;All&nbsp;node&nbsp;types&nbsp;implement&nbsp;the&nbsp;Node&nbsp;interface.</span><br>
<span class="lineno">35</span><span class="keyword">type</span>&nbsp;<span class="ident">Node</span>&nbsp;<span class="keyword">interface</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;first&nbsp;character&nbsp;belonging&nbsp;to&nbsp;the&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;first&nbsp;character&nbsp;immediately&nbsp;after&nbsp;the&nbsp;node</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment">//&nbsp;All&nbsp;expression&nbsp;nodes&nbsp;implement&nbsp;the&nbsp;Expr&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="ident">Expr</span>&nbsp;<span class="keyword">interface</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;All&nbsp;statement&nbsp;nodes&nbsp;implement&nbsp;the&nbsp;Stmt&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="ident">Stmt</span>&nbsp;<span class="keyword">interface</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno">50</span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;All&nbsp;declaration&nbsp;nodes&nbsp;implement&nbsp;the&nbsp;Decl&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="ident">Decl</span>&nbsp;<span class="keyword">interface</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Node</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">declNode</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Comments</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;A&nbsp;Comment&nbsp;node&nbsp;represents&nbsp;a&nbsp;single&nbsp;//-style&nbsp;or&nbsp;/*-style&nbsp;comment.</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="ident">Comment</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Slash</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;/&#34;&nbsp;starting&nbsp;the&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Text</span>&nbsp;&nbsp;<span class="builtintype">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;comment&nbsp;text&nbsp;(excluding&nbsp;&#39;\n&#39;&nbsp;for&nbsp;//-style&nbsp;comments)</span><br>
<span class="lineno">65</span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">c</span>&nbsp;<span class="op">*</span><span class="ident">Comment</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">c</span><span class="op">.</span><span class="ident">Slash</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">c</span>&nbsp;<span class="op">*</span><span class="ident">Comment</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="builtintype">int</span><span class="op">(</span><span class="ident">c</span><span class="op">.</span><span class="ident">Slash</span><span class="op">)</span>&nbsp;<span class="op">+</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">c</span><span class="op">.</span><span class="ident">Text</span><span class="op">)</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="comment">//&nbsp;A&nbsp;CommentGroup&nbsp;represents&nbsp;a&nbsp;sequence&nbsp;of&nbsp;comments</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;with&nbsp;no&nbsp;other&nbsp;tokens&nbsp;and&nbsp;no&nbsp;empty&nbsp;lines&nbsp;between.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="ident">CommentGroup</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">List</span>&nbsp;<span class="op">[</span><span class="op">]</span><span class="op">*</span><span class="ident">Comment</span>&nbsp;<span class="comment">//&nbsp;len(List)&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno">75</span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">g</span>&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">g</span><span class="op">.</span><span class="ident">List</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">g</span>&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">g</span><span class="op">.</span><span class="ident">List</span><span class="op">[</span><span class="builtinfunc">len</span><span class="op">(</span><span class="ident">g</span><span class="op">.</span><span class="ident">List</span><span class="op">)</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword">func</span>&nbsp;<span class="ident">isWhitespace</span><span class="op">(</span><span class="ident">ch</span>&nbsp;<span class="builtintype">byte</span><span class="op">)</span>&nbsp;<span class="builtintype">bool</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">ch</span>&nbsp;<span class="op">==</span>&nbsp;<span class="string">&#39;&nbsp;&#39;</span>&nbsp;<span class="op">||</span>&nbsp;<span class="ident">ch</span>&nbsp;<span class="op">==</span>&nbsp;<span class="string">&#39;\t&#39;</span>&nbsp;<span class="op">||</span>&nbsp;<span class="ident">ch</span>&nbsp;<span class="op">==</span>&nbsp;<span class="string">&#39;\n&#39;</span>&nbsp;<span class="op">||</span>&nbsp;<span class="ident">ch</span>&nbsp;<span class="op">==</span>&nbsp;<span class="string">&#39;\r&#39;</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">stripTrailingWhitespace</span><span class="op">(</span><span class="ident">s</span>&nbsp;<span class="builtintype">string</span><span class="op">)</span>&nbsp;<span class="builtintype">string</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">i</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">s</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">for</span>&nbsp;<span class="ident">i</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">&amp;&amp;</span>&nbsp;<span class="ident">isWhitespace</span><span class="op">(</span><span class="ident">s</span><span class="op">[</span><span class="ident">i</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">i</span><span class="op">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">[</span><span class="num">0</span><span class="op">:</span><span class="ident">i</span><span class="op">]</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment">//&nbsp;Text&nbsp;returns&nbsp;the&nbsp;text&nbsp;of&nbsp;the&nbsp;comment.</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Comment&nbsp;markers&nbsp;(//,&nbsp;/*,&nbsp;and&nbsp;*/),&nbsp;the&nbsp;first&nbsp;space&nbsp;of&nbsp;a&nbsp;line&nbsp;comment,&nbsp;and</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;leading&nbsp;and&nbsp;trailing&nbsp;empty&nbsp;lines&nbsp;are&nbsp;removed.&nbsp;Multiple&nbsp;empty&nbsp;lines&nbsp;are</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;reduced&nbsp;to&nbsp;one,&nbsp;and&nbsp;trailing&nbsp;space&nbsp;on&nbsp;lines&nbsp;is&nbsp;trimmed.&nbsp;Unless&nbsp;the&nbsp;result</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;is&nbsp;empty,&nbsp;it&nbsp;is&nbsp;newline-terminated.</span><br>
<span class="lineno">95</span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">g</span>&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span><span class="op">)</span>&nbsp;<span class="ident">Text</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="builtintype">string</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">g</span>&nbsp;<span class="op">==</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="string">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">comments</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">make</span><span class="op">(</span><span class="op">[</span><span class="op">]</span><span class="builtintype">string</span><span class="op">,</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">g</span><span class="op">.</span><span class="ident">List</span><span class="op">)</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">for</span>&nbsp;<span class="ident">i</span><span class="op">,</span>&nbsp;<span class="ident">c</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="keyword">range</span>&nbsp;<span class="ident">g</span><span class="op">.</span><span class="ident">List</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">comments</span><span class="op">[</span><span class="ident">i</span><span class="op">]</span>&nbsp;<span class="op">=</span>&nbsp;<span class="builtintype">string</span><span class="op">(</span><span class="ident">c</span><span class="op">.</span><span class="ident">Text</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">lines</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">make</span><span class="op">(</span><span class="op">[</span><span class="op">]</span><span class="builtintype">string</span><span class="op">,</span>&nbsp;<span class="num">0</span><span class="op">,</span>&nbsp;<span class="num">10</span><span class="op">)</span>&nbsp;<span class="comment">//&nbsp;most&nbsp;comments&nbsp;are&nbsp;less&nbsp;than&nbsp;10&nbsp;lines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">for</span>&nbsp;<span class="ident">_</span><span class="op">,</span>&nbsp;<span class="ident">c</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="keyword">range</span>&nbsp;<span class="ident">comments</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;Remove&nbsp;comment&nbsp;markers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;The&nbsp;parser&nbsp;has&nbsp;given&nbsp;us&nbsp;exactly&nbsp;the&nbsp;comment&nbsp;text.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">switch</span>&nbsp;<span class="ident">c</span><span class="op">[</span><span class="num">1</span><span class="op">]</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">case</span>&nbsp;<span class="string">&#39;/&#39;</span><span class="op">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//-style&nbsp;comment&nbsp;(no&nbsp;newline&nbsp;at&nbsp;the&nbsp;end)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">c</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">c</span><span class="op">[</span><span class="num">2</span><span class="op">:</span><span class="op">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;strip&nbsp;first&nbsp;space&nbsp;-&nbsp;required&nbsp;for&nbsp;Example&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">c</span><span class="op">)</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">&amp;&amp;</span>&nbsp;<span class="ident">c</span><span class="op">[</span><span class="num">0</span><span class="op">]</span>&nbsp;<span class="op">==</span>&nbsp;<span class="string">&#39;&nbsp;&#39;</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">c</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">c</span><span class="op">[</span><span class="num">1</span><span class="op">:</span><span class="op">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">case</span>&nbsp;<span class="string">&#39;*&#39;</span><span class="op">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">/*-style&nbsp;comment&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">c</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">c</span><span class="op">[</span><span class="num">2</span>&nbsp;<span class="op">:</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">c</span><span class="op">)</span><span class="op">-</span><span class="num">2</span><span class="op">]</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;Split&nbsp;on&nbsp;newlines.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">cl</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="ident">strings</span><span class="op">.</span><span class="ident">Split</span><span class="op">(</span><span class="ident">c</span><span class="op">,</span>&nbsp;<span class="string">&#34;\n&#34;</span><span class="op">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;Walk&nbsp;lines,&nbsp;stripping&nbsp;trailing&nbsp;white&nbsp;space&nbsp;and&nbsp;adding&nbsp;to&nbsp;list.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">for</span>&nbsp;<span class="ident">_</span><span class="op">,</span>&nbsp;<span class="ident">l</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="keyword">range</span>&nbsp;<span class="ident">cl</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">lines</span>&nbsp;<span class="op">=</span>&nbsp;<span class="builtinfunc">append</span><span class="op">(</span><span class="ident">lines</span><span class="op">,</span>&nbsp;<span class="ident">stripTrailingWhitespace</span><span class="op">(</span><span class="ident">l</span><span class="op">)</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;Remove&nbsp;leading&nbsp;blank&nbsp;lines;&nbsp;convert&nbsp;runs&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;interior&nbsp;blank&nbsp;lines&nbsp;to&nbsp;a&nbsp;single&nbsp;blank&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">n</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="num">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">for</span>&nbsp;<span class="ident">_</span><span class="op">,</span>&nbsp;<span class="ident">line</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="keyword">range</span>&nbsp;<span class="ident">lines</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">line</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="string">&#34;&#34;</span>&nbsp;<span class="op">||</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">&amp;&amp;</span>&nbsp;<span class="ident">lines</span><span class="op">[</span><span class="ident">n</span><span class="op">-</span><span class="num">1</span><span class="op">]</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="string">&#34;&#34;</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">lines</span><span class="op">[</span><span class="ident">n</span><span class="op">]</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">n</span><span class="op">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">lines</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">lines</span><span class="op">[</span><span class="num">0</span><span class="op">:</span><span class="ident">n</span><span class="op">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;Add&nbsp;final&nbsp;&#34;&#34;&nbsp;entry&nbsp;to&nbsp;get&nbsp;trailing&nbsp;newline&nbsp;from&nbsp;Join.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">&amp;&amp;</span>&nbsp;<span class="ident">lines</span><span class="op">[</span><span class="ident">n</span><span class="op">-</span><span class="num">1</span><span class="op">]</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="string">&#34;&#34;</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">lines</span>&nbsp;<span class="op">=</span>&nbsp;<span class="builtinfunc">append</span><span class="op">(</span><span class="ident">lines</span><span class="op">,</span>&nbsp;<span class="string">&#34;&#34;</span><span class="op">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">strings</span><span class="op">.</span><span class="ident">Join</span><span class="op">(</span><span class="ident">lines</span><span class="op">,</span>&nbsp;<span class="string">&#34;\n&#34;</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="comment">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Expressions&nbsp;and&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;A&nbsp;Field&nbsp;represents&nbsp;a&nbsp;Field&nbsp;declaration&nbsp;list&nbsp;in&nbsp;a&nbsp;struct&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;a&nbsp;method&nbsp;list&nbsp;in&nbsp;an&nbsp;interface&nbsp;type,&nbsp;or&nbsp;a&nbsp;parameter/result&nbsp;declaration</span><br>
<span class="lineno">155</span><span class="comment">//&nbsp;in&nbsp;a&nbsp;signature.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="ident">Field</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Doc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;associated&nbsp;documentation;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Names</span>&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="op">*</span><span class="ident">Ident</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;field/method/parameter&nbsp;names;&nbsp;or&nbsp;nil&nbsp;if&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;field/method/parameter&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">BasicLit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;field&nbsp;tag;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Comment</span>&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;line&nbsp;comments;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">f</span>&nbsp;<span class="op">*</span><span class="ident">Field</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">f</span><span class="op">.</span><span class="ident">Names</span><span class="op">)</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Names</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Type</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno">170</span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">f</span>&nbsp;<span class="op">*</span><span class="ident">Field</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Tag</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Tag</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Type</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;A&nbsp;FieldList&nbsp;represents&nbsp;a&nbsp;list&nbsp;of&nbsp;Fields,&nbsp;enclosed&nbsp;by&nbsp;parentheses&nbsp;or&nbsp;braces.</span><br>
<span class="lineno">180</span><span class="keyword">type</span>&nbsp;<span class="ident">FieldList</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Opening</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;opening&nbsp;parenthesis/brace,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">List</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="op">*</span><span class="ident">Field</span>&nbsp;&nbsp;<span class="comment">//&nbsp;field&nbsp;list;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Closing</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;closing&nbsp;parenthesis/brace,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">f</span>&nbsp;<span class="op">*</span><span class="ident">FieldList</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Opening</span><span class="op">.</span><span class="ident">IsValid</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Opening</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;the&nbsp;list&nbsp;should&nbsp;not&nbsp;be&nbsp;empty&nbsp;in&nbsp;this&nbsp;case;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;be&nbsp;conservative&nbsp;and&nbsp;guard&nbsp;against&nbsp;bad&nbsp;ASTs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">f</span><span class="op">.</span><span class="ident">List</span><span class="op">)</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">List</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">NoPos</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">f</span>&nbsp;<span class="op">*</span><span class="ident">FieldList</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Closing</span><span class="op">.</span><span class="ident">IsValid</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Closing</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;the&nbsp;list&nbsp;should&nbsp;not&nbsp;be&nbsp;empty&nbsp;in&nbsp;this&nbsp;case;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;be&nbsp;conservative&nbsp;and&nbsp;guard&nbsp;against&nbsp;bad&nbsp;ASTs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">f</span><span class="op">.</span><span class="ident">List</span><span class="op">)</span><span class="op">;</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">List</span><span class="op">[</span><span class="ident">n</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">NoPos</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="comment">//&nbsp;NumFields&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;(named&nbsp;and&nbsp;anonymous&nbsp;fields)&nbsp;in&nbsp;a&nbsp;FieldList.</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">f</span>&nbsp;<span class="op">*</span><span class="ident">FieldList</span><span class="op">)</span>&nbsp;<span class="ident">NumFields</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="builtintype">int</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">n</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="num">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">f</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">for</span>&nbsp;<span class="ident">_</span><span class="op">,</span>&nbsp;<span class="ident">g</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="keyword">range</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">List</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">m</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">g</span><span class="op">.</span><span class="ident">Names</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">m</span>&nbsp;<span class="op">==</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">m</span>&nbsp;<span class="op">=</span>&nbsp;<span class="num">1</span>&nbsp;<span class="comment">//&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">n</span>&nbsp;<span class="op">+=</span>&nbsp;<span class="ident">m</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">n</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment">//&nbsp;An&nbsp;expression&nbsp;is&nbsp;represented&nbsp;by&nbsp;a&nbsp;tree&nbsp;consisting&nbsp;of&nbsp;one</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;or&nbsp;more&nbsp;of&nbsp;the&nbsp;following&nbsp;concrete&nbsp;expression&nbsp;nodes.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="op">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;BadExpr&nbsp;node&nbsp;is&nbsp;a&nbsp;placeholder&nbsp;for&nbsp;expressions&nbsp;containing</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;syntax&nbsp;errors&nbsp;for&nbsp;which&nbsp;no&nbsp;correct&nbsp;expression&nbsp;nodes&nbsp;can&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;created.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">BadExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">From</span><span class="op">,</span>&nbsp;<span class="ident">To</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;range&nbsp;of&nbsp;bad&nbsp;expression</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;Ident&nbsp;node&nbsp;represents&nbsp;an&nbsp;identifier.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Ident</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">NamePos</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;identifier&nbsp;position</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;identifier&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">Object</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;denoted&nbsp;object;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;Ellipsis&nbsp;node&nbsp;stands&nbsp;for&nbsp;the&nbsp;&#34;...&#34;&nbsp;type&nbsp;in&nbsp;a</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;parameter&nbsp;list&nbsp;or&nbsp;the&nbsp;&#34;...&#34;&nbsp;length&nbsp;in&nbsp;an&nbsp;array&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Ellipsis</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Ellipsis</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;...&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Elt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;ellipsis&nbsp;element&nbsp;type&nbsp;(parameter&nbsp;lists&nbsp;only);&nbsp;or&nbsp;nil</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;BasicLit&nbsp;node&nbsp;represents&nbsp;a&nbsp;literal&nbsp;of&nbsp;basic&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">BasicLit</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ValuePos</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;literal&nbsp;position</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Token</span>&nbsp;<span class="comment">//&nbsp;token.INT,&nbsp;token.FLOAT,&nbsp;token.IMAG,&nbsp;token.CHAR,&nbsp;or&nbsp;token.STRING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Value</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;literal&nbsp;string;&nbsp;e.g.&nbsp;42,&nbsp;0x7f,&nbsp;3.14,&nbsp;1e-9,&nbsp;2.4i,&nbsp;&#39;a&#39;,&nbsp;&#39;\x7f&#39;,&nbsp;&#34;foo&#34;&nbsp;or&nbsp;`\m\n\o`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;FuncLit&nbsp;node&nbsp;represents&nbsp;a&nbsp;function&nbsp;literal.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">FuncLit</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Type</span>&nbsp;<span class="op">*</span><span class="ident">FuncType</span>&nbsp;&nbsp;<span class="comment">//&nbsp;function&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span>&nbsp;<span class="comment">//&nbsp;function&nbsp;body</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;CompositeLit&nbsp;node&nbsp;represents&nbsp;a&nbsp;composite&nbsp;literal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">CompositeLit</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Type</span>&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;literal&nbsp;type;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lbrace</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Elts</span>&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;list&nbsp;of&nbsp;composite&nbsp;elements;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Rbrace</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;ParenExpr&nbsp;node&nbsp;represents&nbsp;a&nbsp;parenthesized&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ParenExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lparen</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;parenthesized&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Rparen</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;SelectorExpr&nbsp;node&nbsp;represents&nbsp;an&nbsp;expression&nbsp;followed&nbsp;by&nbsp;a&nbsp;selector.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">SelectorExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Sel</span>&nbsp;<span class="op">*</span><span class="ident">Ident</span>&nbsp;<span class="comment">//&nbsp;field&nbsp;selector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">285</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;IndexExpr&nbsp;node&nbsp;represents&nbsp;an&nbsp;expression&nbsp;followed&nbsp;by&nbsp;an&nbsp;index.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">IndexExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lbrack</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;[&#34;</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Index</span>&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;index&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Rbrack</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;]&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;SliceExpr&nbsp;node&nbsp;represents&nbsp;an&nbsp;expression&nbsp;followed&nbsp;by&nbsp;slice&nbsp;indices.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">SliceExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lbrack</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;[&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Low</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;begin&nbsp;of&nbsp;slice&nbsp;range;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">High</span>&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;end&nbsp;of&nbsp;slice&nbsp;range;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Max</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;maximum&nbsp;capacity&nbsp;of&nbsp;slice;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Slice3</span>&nbsp;<span class="builtintype">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;true&nbsp;if&nbsp;3-index&nbsp;slice&nbsp;(2&nbsp;colons&nbsp;present)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Rbrack</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;]&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;TypeAssertExpr&nbsp;node&nbsp;represents&nbsp;an&nbsp;expression&nbsp;followed&nbsp;by&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;type&nbsp;assertion.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">TypeAssertExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;expression</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lparen</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Type</span>&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;asserted&nbsp;type;&nbsp;nil&nbsp;means&nbsp;type&nbsp;switch&nbsp;X.(type)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Rparen</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;CallExpr&nbsp;node&nbsp;represents&nbsp;an&nbsp;expression&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;list.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">CallExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Fun</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;function&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lparen</span>&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Args</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;function&nbsp;arguments;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Ellipsis</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;...&#34;,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Rparen</span>&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;StarExpr&nbsp;node&nbsp;represents&nbsp;an&nbsp;expression&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;*&#34;&nbsp;Expression.</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;Semantically&nbsp;it&nbsp;could&nbsp;be&nbsp;a&nbsp;unary&nbsp;&#34;*&#34;&nbsp;expression,&nbsp;or&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">StarExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Star</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;*&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;operand</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;UnaryExpr&nbsp;node&nbsp;represents&nbsp;a&nbsp;unary&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;Unary&nbsp;&#34;*&#34;&nbsp;expressions&nbsp;are&nbsp;represented&nbsp;via&nbsp;StarExpr&nbsp;nodes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">UnaryExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">OpPos</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;Op</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Token</span>&nbsp;<span class="comment">//&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;BinaryExpr&nbsp;node&nbsp;represents&nbsp;a&nbsp;binary&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">BinaryExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;left&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">OpPos</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;Op</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Token</span>&nbsp;<span class="comment">//&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;right&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;KeyValueExpr&nbsp;node&nbsp;represents&nbsp;(key&nbsp;:&nbsp;value)&nbsp;pairs</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;in&nbsp;composite&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">KeyValueExpr</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Key</span>&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Colon</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;:&#34;</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Value</span>&nbsp;<span class="ident">Expr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><span class="op">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;The&nbsp;direction&nbsp;of&nbsp;a&nbsp;channel&nbsp;type&nbsp;is&nbsp;indicated&nbsp;by&nbsp;one</span><br>
<span class="lineno">360</span><span class="comment">//&nbsp;of&nbsp;the&nbsp;following&nbsp;constants.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="ident">ChanDir</span>&nbsp;<span class="builtintype">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">const</span>&nbsp;<span class="op">(</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">SEND</span>&nbsp;<span class="ident">ChanDir</span>&nbsp;<span class="op">=</span>&nbsp;<span class="num">1</span>&nbsp;<span class="op">&lt;&lt;</span>&nbsp;<span class="ident">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">RECV</span><br>
<span class="lineno"></span><span class="op">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;A&nbsp;type&nbsp;is&nbsp;represented&nbsp;by&nbsp;a&nbsp;tree&nbsp;consisting&nbsp;of&nbsp;one</span><br>
<span class="lineno">370</span><span class="comment">//&nbsp;or&nbsp;more&nbsp;of&nbsp;the&nbsp;following&nbsp;type-specific&nbsp;expression</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;nodes.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="op">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;ArrayType&nbsp;node&nbsp;represents&nbsp;an&nbsp;array&nbsp;or&nbsp;slice&nbsp;type.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ArrayType</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lbrack</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;[&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Len</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Ellipsis&nbsp;node&nbsp;for&nbsp;[...]T&nbsp;array&nbsp;types,&nbsp;nil&nbsp;for&nbsp;slice&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Elt</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;element&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;StructType&nbsp;node&nbsp;represents&nbsp;a&nbsp;struct&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">StructType</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Struct</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;struct&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Fields</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">FieldList</span>&nbsp;<span class="comment">//&nbsp;list&nbsp;of&nbsp;field&nbsp;declarations</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Incomplete</span>&nbsp;<span class="builtintype">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;true&nbsp;if&nbsp;(source)&nbsp;fields&nbsp;are&nbsp;missing&nbsp;in&nbsp;the&nbsp;Fields&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;Pointer&nbsp;types&nbsp;are&nbsp;represented&nbsp;via&nbsp;StarExpr&nbsp;nodes.</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;FuncType&nbsp;node&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">FuncType</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Func</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;func&#34;&nbsp;keyword&nbsp;(token.NoPos&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;&#34;func&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Params</span>&nbsp;&nbsp;<span class="op">*</span><span class="ident">FieldList</span>&nbsp;<span class="comment">//&nbsp;(incoming)&nbsp;parameters;&nbsp;non-nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Results</span>&nbsp;<span class="op">*</span><span class="ident">FieldList</span>&nbsp;<span class="comment">//&nbsp;(outgoing)&nbsp;results;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;InterfaceType&nbsp;node&nbsp;represents&nbsp;an&nbsp;interface&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">InterfaceType</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Interface</span>&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;interface&#34;&nbsp;keyword</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Methods</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">FieldList</span>&nbsp;<span class="comment">//&nbsp;list&nbsp;of&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Incomplete</span>&nbsp;<span class="builtintype">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;true&nbsp;if&nbsp;(source)&nbsp;methods&nbsp;are&nbsp;missing&nbsp;in&nbsp;the&nbsp;Methods&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;MapType&nbsp;node&nbsp;represents&nbsp;a&nbsp;map&nbsp;type.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">MapType</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Map</span>&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;map&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Key</span>&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Value</span>&nbsp;<span class="ident">Expr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;ChanType&nbsp;node&nbsp;represents&nbsp;a&nbsp;channel&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ChanType</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Begin</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;chan&#34;&nbsp;keyword&nbsp;or&nbsp;&#34;&lt;-&#34;&nbsp;(whichever&nbsp;comes&nbsp;first)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Arrow</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;&lt;-&#34;&nbsp;(token.NoPos&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;&#34;&lt;-&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Dir</span>&nbsp;&nbsp;&nbsp;<span class="ident">ChanDir</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;channel&nbsp;direction</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Value</span>&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;value&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><span class="op">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="comment">//&nbsp;Pos&nbsp;and&nbsp;End&nbsp;implementations&nbsp;for&nbsp;expression/type&nbsp;nodes.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">BadExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">From</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">Ident</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">NamePos</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">Ellipsis</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Ellipsis</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">425</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">BasicLit</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">ValuePos</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">FuncLit</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Type</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">CompositeLit</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Type</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Type</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Lbrace</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">ParenExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Lparen</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">SelectorExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">435</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">IndexExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">SliceExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">TypeAssertExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">CallExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Fun</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">StarExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Star</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">440</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">UnaryExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">OpPos</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">BinaryExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">KeyValueExpr</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Key</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">ArrayType</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Lbrack</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">StructType</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Struct</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">445</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">FuncType</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Func</span><span class="op">.</span><span class="ident">IsValid</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">||</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Params</span>&nbsp;<span class="op">==</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span>&nbsp;<span class="comment">//&nbsp;see&nbsp;issue&nbsp;3870</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Params</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="comment">//&nbsp;interface&nbsp;method&nbsp;declarations&nbsp;have&nbsp;no&nbsp;&#34;func&#34;&nbsp;keyword</span><br>
<span class="lineno">450</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">InterfaceType</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Interface</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">MapType</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Map</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">ChanType</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Begin</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">BadExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">To</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">Ident</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="builtintype">int</span><span class="op">(</span><span class="ident">x</span><span class="op">.</span><span class="ident">NamePos</span><span class="op">)</span>&nbsp;<span class="op">+</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">x</span><span class="op">.</span><span class="ident">Name</span><span class="op">)</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">Ellipsis</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Elt</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Elt</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Ellipsis</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">3</span>&nbsp;<span class="comment">//&nbsp;len(&#34;...&#34;)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">BasicLit</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="builtintype">int</span><span class="op">(</span><span class="ident">x</span><span class="op">.</span><span class="ident">ValuePos</span><span class="op">)</span>&nbsp;<span class="op">+</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">x</span><span class="op">.</span><span class="ident">Value</span><span class="op">)</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">FuncLit</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Body</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">465</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">CompositeLit</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Rbrace</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">ParenExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Rparen</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">SelectorExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Sel</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">IndexExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Rbrack</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">SliceExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Rbrack</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">470</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">TypeAssertExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Rparen</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">CallExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Rparen</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">StarExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">UnaryExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">BinaryExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Y</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">475</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">KeyValueExpr</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Value</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">ArrayType</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Elt</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">StructType</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Fields</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">FuncType</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Results</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Results</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Params</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">InterfaceType</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Methods</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">485</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">MapType</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Value</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">x</span>&nbsp;<span class="op">*</span><span class="ident">ChanType</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">x</span><span class="op">.</span><span class="ident">Value</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;exprNode()&nbsp;ensures&nbsp;that&nbsp;only&nbsp;expression/type&nbsp;nodes&nbsp;can&nbsp;be</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;assigned&nbsp;to&nbsp;an&nbsp;ExprNode.</span><br>
<span class="lineno">490</span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">BadExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">Ident</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">Ellipsis</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">BasicLit</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">495</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">FuncLit</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">CompositeLit</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">ParenExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">SelectorExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">IndexExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">500</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">SliceExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">TypeAssertExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">CallExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">StarExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">UnaryExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">505</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">BinaryExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">KeyValueExpr</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">ArrayType</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">StructType</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">510</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">FuncType</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">InterfaceType</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">MapType</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">ChanType</span><span class="op">)</span>&nbsp;<span class="ident">exprNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Convenience&nbsp;functions&nbsp;for&nbsp;Idents</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;NewIdent&nbsp;creates&nbsp;a&nbsp;new&nbsp;Ident&nbsp;without&nbsp;position.</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Useful&nbsp;for&nbsp;ASTs&nbsp;generated&nbsp;by&nbsp;code&nbsp;other&nbsp;than&nbsp;the&nbsp;Go&nbsp;parser.</span><br>
<span class="lineno">520</span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">NewIdent</span><span class="op">(</span><span class="ident">name</span>&nbsp;<span class="builtintype">string</span><span class="op">)</span>&nbsp;<span class="op">*</span><span class="ident">Ident</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="op">&amp;</span><span class="ident">Ident</span><span class="op">{</span><span class="ident">token</span><span class="op">.</span><span class="ident">NoPos</span><span class="op">,</span>&nbsp;<span class="ident">name</span><span class="op">,</span>&nbsp;<span class="ident">nil</span><span class="op">}</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;IsExported&nbsp;reports&nbsp;whether&nbsp;name&nbsp;is&nbsp;an&nbsp;exported&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;(that&nbsp;is,&nbsp;whether&nbsp;it&nbsp;begins&nbsp;with&nbsp;an&nbsp;upper-case&nbsp;letter).</span><br>
<span class="lineno">525</span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">IsExported</span><span class="op">(</span><span class="ident">name</span>&nbsp;<span class="builtintype">string</span><span class="op">)</span>&nbsp;<span class="builtintype">bool</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ch</span><span class="op">,</span>&nbsp;<span class="ident">_</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="ident">utf8</span><span class="op">.</span><span class="ident">DecodeRuneInString</span><span class="op">(</span><span class="ident">name</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">unicode</span><span class="op">.</span><span class="ident">IsUpper</span><span class="op">(</span><span class="ident">ch</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno">530</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;IsExported&nbsp;reports&nbsp;whether&nbsp;id&nbsp;is&nbsp;an&nbsp;exported&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;(that&nbsp;is,&nbsp;whether&nbsp;it&nbsp;begins&nbsp;with&nbsp;an&nbsp;uppercase&nbsp;letter).</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">id</span>&nbsp;<span class="op">*</span><span class="ident">Ident</span><span class="op">)</span>&nbsp;<span class="ident">IsExported</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="builtintype">bool</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">IsExported</span><span class="op">(</span><span class="ident">id</span><span class="op">.</span><span class="ident">Name</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">id</span>&nbsp;<span class="op">*</span><span class="ident">Ident</span><span class="op">)</span>&nbsp;<span class="ident">String</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="builtintype">string</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">id</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">id</span><span class="op">.</span><span class="ident">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="string">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Statements</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;A&nbsp;statement&nbsp;is&nbsp;represented&nbsp;by&nbsp;a&nbsp;tree&nbsp;consisting&nbsp;of&nbsp;one</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;or&nbsp;more&nbsp;of&nbsp;the&nbsp;following&nbsp;concrete&nbsp;statement&nbsp;nodes.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="op">(</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;BadStmt&nbsp;node&nbsp;is&nbsp;a&nbsp;placeholder&nbsp;for&nbsp;statements&nbsp;containing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;syntax&nbsp;errors&nbsp;for&nbsp;which&nbsp;no&nbsp;correct&nbsp;statement&nbsp;nodes&nbsp;can&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;created.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">BadStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">From</span><span class="op">,</span>&nbsp;<span class="ident">To</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;range&nbsp;of&nbsp;bad&nbsp;statement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;DeclStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;declaration&nbsp;in&nbsp;a&nbsp;statement&nbsp;list.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">DeclStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Decl</span>&nbsp;<span class="ident">Decl</span>&nbsp;<span class="comment">//&nbsp;*GenDecl&nbsp;with&nbsp;CONST,&nbsp;TYPE,&nbsp;or&nbsp;VAR&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;EmptyStmt&nbsp;node&nbsp;represents&nbsp;an&nbsp;empty&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;The&nbsp;&#34;position&#34;&nbsp;of&nbsp;the&nbsp;empty&nbsp;statement&nbsp;is&nbsp;the&nbsp;position</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;of&nbsp;the&nbsp;immediately&nbsp;preceding&nbsp;semicolon.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">EmptyStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Semicolon</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;preceding&nbsp;&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;LabeledStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;labeled&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">LabeledStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Label</span>&nbsp;<span class="op">*</span><span class="ident">Ident</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Colon</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;:&#34;</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Stmt</span>&nbsp;&nbsp;<span class="ident">Stmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;ExprStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;(stand-alone)&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;in&nbsp;a&nbsp;statement&nbsp;list.</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ExprStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;<span class="ident">Expr</span>&nbsp;<span class="comment">//&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;SendStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;send&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">SendStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Chan</span>&nbsp;&nbsp;<span class="ident">Expr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Arrow</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;&lt;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Value</span>&nbsp;<span class="ident">Expr</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;IncDecStmt&nbsp;node&nbsp;represents&nbsp;an&nbsp;increment&nbsp;or&nbsp;decrement&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">IncDecStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">TokPos</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;Tok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Tok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Token</span>&nbsp;<span class="comment">//&nbsp;INC&nbsp;or&nbsp;DEC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;AssignStmt&nbsp;node&nbsp;represents&nbsp;an&nbsp;assignment&nbsp;or</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;a&nbsp;short&nbsp;variable&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">AssignStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lhs</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Expr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">TokPos</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;Tok</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Tok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Token</span>&nbsp;<span class="comment">//&nbsp;assignment&nbsp;token,&nbsp;DEFINE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Rhs</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Expr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;GoStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;go&nbsp;statement.</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">GoStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Go</span>&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;go&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Call</span>&nbsp;<span class="op">*</span><span class="ident">CallExpr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;DeferStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;defer&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">DeferStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Defer</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;defer&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Call</span>&nbsp;&nbsp;<span class="op">*</span><span class="ident">CallExpr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;ReturnStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;return&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ReturnStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Return</span>&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;return&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Results</span>&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;result&nbsp;expressions;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;BranchStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;break,&nbsp;continue,&nbsp;goto,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;or&nbsp;fallthrough&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">BranchStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">TokPos</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;Tok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Tok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Token</span>&nbsp;<span class="comment">//&nbsp;keyword&nbsp;token&nbsp;(BREAK,&nbsp;CONTINUE,&nbsp;GOTO,&nbsp;FALLTHROUGH)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Label</span>&nbsp;&nbsp;<span class="op">*</span><span class="ident">Ident</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;label&nbsp;name;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;BlockStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;braced&nbsp;statement&nbsp;list.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">BlockStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lbrace</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">List</span>&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Stmt</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Rbrace</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;IfStmt&nbsp;node&nbsp;represents&nbsp;an&nbsp;if&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">IfStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">If</span>&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;if&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Init</span>&nbsp;<span class="ident">Stmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;initialization&nbsp;statement;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Cond</span>&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Else</span>&nbsp;<span class="ident">Stmt</span>&nbsp;<span class="comment">//&nbsp;else&nbsp;branch;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;CaseClause&nbsp;represents&nbsp;a&nbsp;case&nbsp;of&nbsp;an&nbsp;expression&nbsp;or&nbsp;type&nbsp;switch&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">CaseClause</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Case</span>&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;case&#34;&nbsp;or&nbsp;&#34;default&#34;&nbsp;keyword</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">List</span>&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;list&nbsp;of&nbsp;expressions&nbsp;or&nbsp;types;&nbsp;nil&nbsp;means&nbsp;default&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Colon</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;:&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Stmt</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;statement&nbsp;list;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;SwitchStmt&nbsp;node&nbsp;represents&nbsp;an&nbsp;expression&nbsp;switch&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">SwitchStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Switch</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;switch&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Init</span>&nbsp;&nbsp;&nbsp;<span class="ident">Stmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;initialization&nbsp;statement;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;tag&nbsp;expression;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span>&nbsp;<span class="comment">//&nbsp;CaseClauses&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;TypeSwitchStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;type&nbsp;switch&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">TypeSwitchStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Switch</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;switch&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Init</span>&nbsp;&nbsp;&nbsp;<span class="ident">Stmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;initialization&nbsp;statement;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Assign</span>&nbsp;<span class="ident">Stmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;x&nbsp;:=&nbsp;y.(type)&nbsp;or&nbsp;y.(type)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span>&nbsp;<span class="comment">//&nbsp;CaseClauses&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;CommClause&nbsp;node&nbsp;represents&nbsp;a&nbsp;case&nbsp;of&nbsp;a&nbsp;select&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">CommClause</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Case</span>&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;case&#34;&nbsp;or&nbsp;&#34;default&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Comm</span>&nbsp;&nbsp;<span class="ident">Stmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;send&nbsp;or&nbsp;receive&nbsp;statement;&nbsp;nil&nbsp;means&nbsp;default&nbsp;case</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Colon</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;:&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Stmt</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;statement&nbsp;list;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;SelectStmt&nbsp;node&nbsp;represents&nbsp;a&nbsp;select&nbsp;statement.</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">SelectStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Select</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;select&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span>&nbsp;<span class="comment">//&nbsp;CommClauses&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;ForStmt&nbsp;represents&nbsp;a&nbsp;for&nbsp;statement.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ForStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">For</span>&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;for&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Init</span>&nbsp;<span class="ident">Stmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;initialization&nbsp;statement;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Cond</span>&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;condition;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Post</span>&nbsp;<span class="ident">Stmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;post&nbsp;iteration&nbsp;statement;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;RangeStmt&nbsp;represents&nbsp;a&nbsp;for&nbsp;statement&nbsp;with&nbsp;a&nbsp;range&nbsp;clause.</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">RangeStmt</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">For</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;for&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Key</span><span class="op">,</span>&nbsp;<span class="ident">Value</span>&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Key,&nbsp;Value&nbsp;may&nbsp;be&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">TokPos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;Tok;&nbsp;invalid&nbsp;if&nbsp;Key&nbsp;==&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Tok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Token</span>&nbsp;<span class="comment">//&nbsp;ILLEGAL&nbsp;if&nbsp;Key&nbsp;==&nbsp;nil,&nbsp;ASSIGN,&nbsp;DEFINE</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;value&nbsp;to&nbsp;range&nbsp;over</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><span class="op">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">710</span><span class="comment">//&nbsp;Pos&nbsp;and&nbsp;End&nbsp;implementations&nbsp;for&nbsp;statement&nbsp;nodes.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">BadStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">From</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">DeclStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Decl</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">EmptyStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Semicolon</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">715</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">LabeledStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Label</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ExprStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">SendStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Chan</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">IncDecStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">AssignStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Lhs</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">720</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">GoStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Go</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">DeferStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Defer</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ReturnStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Return</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">BranchStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">TokPos</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Lbrace</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">725</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">IfStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">If</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">CaseClause</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Case</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">SwitchStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Switch</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">TypeSwitchStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Switch</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">CommClause</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Case</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">730</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">SelectStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Select</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ForStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">For</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">RangeStmt</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">For</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">BadStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">To</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">735</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">DeclStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Decl</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">EmptyStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Semicolon</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span>&nbsp;<span class="comment">/*&nbsp;len(&#34;;&#34;)&nbsp;*/</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">LabeledStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Stmt</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">740</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ExprStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">X</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">SendStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Value</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">IncDecStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">TokPos</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">2</span>&nbsp;<span class="comment">/*&nbsp;len(&#34;++&#34;)&nbsp;*/</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno">745</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">AssignStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Rhs</span><span class="op">[</span><span class="builtinfunc">len</span><span class="op">(</span><span class="ident">s</span><span class="op">.</span><span class="ident">Rhs</span><span class="op">)</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">GoStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Call</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">DeferStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Call</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ReturnStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">s</span><span class="op">.</span><span class="ident">Results</span><span class="op">)</span><span class="op">;</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Results</span><span class="op">[</span><span class="ident">n</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Return</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">6</span>&nbsp;<span class="comment">//&nbsp;len(&#34;return&#34;)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">BranchStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Label</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Label</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="builtintype">int</span><span class="op">(</span><span class="ident">s</span><span class="op">.</span><span class="ident">TokPos</span><span class="op">)</span>&nbsp;<span class="op">+</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">s</span><span class="op">.</span><span class="ident">Tok</span><span class="op">.</span><span class="ident">String</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno">760</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Rbrace</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">IfStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Else</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Else</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">CaseClause</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">)</span><span class="op">;</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">[</span><span class="ident">n</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Colon</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">SwitchStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">TypeSwitchStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">775</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">CommClause</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">)</span><span class="op">;</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">[</span><span class="ident">n</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Colon</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span><br>
<span class="lineno">780</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">SelectStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ForStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">RangeStmt</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Body</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">785</span><span class="comment">//&nbsp;stmtNode()&nbsp;ensures&nbsp;that&nbsp;only&nbsp;statement&nbsp;nodes&nbsp;can&nbsp;be</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;assigned&nbsp;to&nbsp;a&nbsp;StmtNode.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">BadStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">DeclStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">790</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">EmptyStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">LabeledStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">ExprStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">SendStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">IncDecStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">795</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">AssignStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">GoStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">DeferStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">ReturnStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">BranchStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">800</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">BlockStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">IfStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">CaseClause</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">SwitchStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">TypeSwitchStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">805</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">CommClause</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">SelectStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">ForStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">RangeStmt</span><span class="op">)</span>&nbsp;<span class="ident">stmtNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span><span class="comment">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Declarations</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;A&nbsp;Spec&nbsp;node&nbsp;represents&nbsp;a&nbsp;single&nbsp;(non-parenthesized)&nbsp;import,</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;constant,&nbsp;type,&nbsp;or&nbsp;variable&nbsp;declaration.</span><br>
<span class="lineno">815</span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="op">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;The&nbsp;Spec&nbsp;type&nbsp;stands&nbsp;for&nbsp;any&nbsp;of&nbsp;*ImportSpec,&nbsp;*ValueSpec,&nbsp;and&nbsp;*TypeSpec.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Spec</span>&nbsp;<span class="keyword">interface</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Node</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">specNode</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;An&nbsp;ImportSpec&nbsp;node&nbsp;represents&nbsp;a&nbsp;single&nbsp;package&nbsp;import.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ImportSpec</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Doc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;associated&nbsp;documentation;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">Ident</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;local&nbsp;package&nbsp;name&nbsp;(including&nbsp;&#34;.&#34;);&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Path</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">BasicLit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Comment</span>&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;line&nbsp;comments;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">EndPos</span>&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;end&nbsp;of&nbsp;spec&nbsp;(overrides&nbsp;Path.Pos&nbsp;if&nbsp;nonzero)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;ValueSpec&nbsp;node&nbsp;represents&nbsp;a&nbsp;constant&nbsp;or&nbsp;variable&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;(ConstSpec&nbsp;or&nbsp;VarSpec&nbsp;production).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ValueSpec</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Doc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;associated&nbsp;documentation;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Names</span>&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="op">*</span><span class="ident">Ident</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;value&nbsp;names&nbsp;(len(Names)&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;value&nbsp;type;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Values</span>&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;initial&nbsp;values;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Comment</span>&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;line&nbsp;comments;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;TypeSpec&nbsp;node&nbsp;represents&nbsp;a&nbsp;type&nbsp;declaration&nbsp;(TypeSpec&nbsp;production).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">TypeSpec</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Doc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;associated&nbsp;documentation;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">Ident</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;type&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">Expr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;*Ident,&nbsp;*ParenExpr,&nbsp;*SelectorExpr,&nbsp;*StarExpr,&nbsp;or&nbsp;any&nbsp;of&nbsp;the&nbsp;*XxxTypes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Comment</span>&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;line&nbsp;comments;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">850</span><span class="op">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Pos&nbsp;and&nbsp;End&nbsp;implementations&nbsp;for&nbsp;spec&nbsp;nodes.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ImportSpec</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Name</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Name</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Path</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno">860</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ValueSpec</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Names</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">TypeSpec</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Name</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ImportSpec</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">EndPos</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">EndPos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Path</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">870</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">ValueSpec</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">s</span><span class="op">.</span><span class="ident">Values</span><span class="op">)</span><span class="op">;</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Values</span><span class="op">[</span><span class="ident">n</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Type</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Type</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Names</span><span class="op">[</span><span class="builtinfunc">len</span><span class="op">(</span><span class="ident">s</span><span class="op">.</span><span class="ident">Names</span><span class="op">)</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">s</span>&nbsp;<span class="op">*</span><span class="ident">TypeSpec</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">s</span><span class="op">.</span><span class="ident">Type</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;specNode()&nbsp;ensures&nbsp;that&nbsp;only&nbsp;spec&nbsp;nodes&nbsp;can&nbsp;be</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;assigned&nbsp;to&nbsp;a&nbsp;Spec.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">ImportSpec</span><span class="op">)</span>&nbsp;<span class="ident">specNode</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">885</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">ValueSpec</span><span class="op">)</span>&nbsp;<span class="ident">specNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">TypeSpec</span><span class="op">)</span>&nbsp;<span class="ident">specNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;A&nbsp;declaration&nbsp;is&nbsp;represented&nbsp;by&nbsp;one&nbsp;of&nbsp;the&nbsp;following&nbsp;declaration&nbsp;nodes.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno">890</span><span class="keyword">type</span>&nbsp;<span class="op">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;BadDecl&nbsp;node&nbsp;is&nbsp;a&nbsp;placeholder&nbsp;for&nbsp;declarations&nbsp;containing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;syntax&nbsp;errors&nbsp;for&nbsp;which&nbsp;no&nbsp;correct&nbsp;declaration&nbsp;nodes&nbsp;can&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;created.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">BadDecl</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">From</span><span class="op">,</span>&nbsp;<span class="ident">To</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;range&nbsp;of&nbsp;bad&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;GenDecl&nbsp;node&nbsp;(generic&nbsp;declaration&nbsp;node)&nbsp;represents&nbsp;an&nbsp;import,</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;constant,&nbsp;type&nbsp;or&nbsp;variable&nbsp;declaration.&nbsp;A&nbsp;valid&nbsp;Lparen&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;(Lparen.Line&nbsp;&gt;&nbsp;0)&nbsp;indicates&nbsp;a&nbsp;parenthesized&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;Relationship&nbsp;between&nbsp;Tok&nbsp;value&nbsp;and&nbsp;Specs&nbsp;element&nbsp;type:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;&nbsp;&nbsp;&nbsptoken.IMPORT&nbsp;&nbsp;*ImportSpec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;&nbsp;&nbsp;&nbsptoken.CONST&nbsp;&nbsp;&nbsp;*ValueSpec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;&nbsp;&nbsp;&nbsptoken.TYPE&nbsp;&nbsp;&nbsp;&nbsp;*TypeSpec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;&nbsp;&nbsp;&nbsptoken.VAR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*ValueSpec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">GenDecl</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Doc</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;associated&nbsp;documentation;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">TokPos</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;Tok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Tok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Token</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;IMPORT,&nbsp;CONST,&nbsp;TYPE,&nbsp;VAR</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Lparen</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#39;(&#39;,&nbsp;if&nbsp;any</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Specs</span>&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Spec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Rparen</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#39;)&#39;,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment">//&nbsp;A&nbsp;FuncDecl&nbsp;node&nbsp;represents&nbsp;a&nbsp;function&nbsp;declaration.</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">FuncDecl</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Doc</span>&nbsp;&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;associated&nbsp;documentation;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Recv</span>&nbsp;<span class="op">*</span><span class="ident">FieldList</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;receiver&nbsp;(methods);&nbsp;or&nbsp;nil&nbsp;(functions)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Name</span>&nbsp;<span class="op">*</span><span class="ident">Ident</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;function/method&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Type</span>&nbsp;<span class="op">*</span><span class="ident">FuncType</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;function&nbsp;signature:&nbsp;parameters,&nbsp;results,&nbsp;and&nbsp;position&nbsp;of&nbsp;&#34;func&#34;&nbsp;keyword</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Body</span>&nbsp;<span class="op">*</span><span class="ident">BlockStmt</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;function&nbsp;body;&nbsp;or&nbsp;nil&nbsp;(forward&nbsp;declaration)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span><span class="op">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Pos&nbsp;and&nbsp;End&nbsp;implementations&nbsp;for&nbsp;declaration&nbsp;nodes.</span><br>
<span class="lineno">930</span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">d</span>&nbsp;<span class="op">*</span><span class="ident">BadDecl</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">From</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">d</span>&nbsp;<span class="op">*</span><span class="ident">GenDecl</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">TokPos</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">d</span>&nbsp;<span class="op">*</span><span class="ident">FuncDecl</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">Type</span><span class="op">.</span><span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">935</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">d</span>&nbsp;<span class="op">*</span><span class="ident">BadDecl</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">To</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">d</span>&nbsp;<span class="op">*</span><span class="ident">GenDecl</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">Rparen</span><span class="op">.</span><span class="ident">IsValid</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">Rparen</span>&nbsp;<span class="op">+</span>&nbsp;<span class="num">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">Specs</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">d</span>&nbsp;<span class="op">*</span><span class="ident">FuncDecl</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">Body</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">Body</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">d</span><span class="op">.</span><span class="ident">Type</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;declNode()&nbsp;ensures&nbsp;that&nbsp;only&nbsp;declaration&nbsp;nodes&nbsp;can&nbsp;be</span><br>
<span class="lineno">950</span><span class="comment">//&nbsp;assigned&nbsp;to&nbsp;a&nbsp;DeclNode.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">BadDecl</span><span class="op">)</span>&nbsp;<span class="ident">declNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">GenDecl</span><span class="op">)</span>&nbsp;<span class="ident">declNode</span><span class="op">(</span><span class="op">)</span>&nbsp;&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="op">*</span><span class="ident">FuncDecl</span><span class="op">)</span>&nbsp;<span class="ident">declNode</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="op">{</span><span class="op">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Files&nbsp;and&nbsp;packages</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;A&nbsp;File&nbsp;node&nbsp;represents&nbsp;a&nbsp;Go&nbsp;source&nbsp;file.</span><br>
<span class="lineno">960</span><span class="comment">//</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;The&nbsp;Comments&nbsp;list&nbsp;contains&nbsp;all&nbsp;comments&nbsp;in&nbsp;the&nbsp;source&nbsp;file&nbsp;in&nbsp;order&nbsp;of</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;appearance,&nbsp;including&nbsp;the&nbsp;comments&nbsp;that&nbsp;are&nbsp;pointed&nbsp;to&nbsp;from&nbsp;other&nbsp;nodes</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;via&nbsp;Doc&nbsp;and&nbsp;Comment&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno">965</span><span class="keyword">type</span>&nbsp;<span class="ident">File</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Doc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;associated&nbsp;documentation;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Package</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;position&nbsp;of&nbsp;&#34;package&#34;&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">Ident</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;package&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Decls</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="ident">Decl</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;top-level&nbsp;declarations;&nbsp;or&nbsp;nil</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Scope</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">Scope</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;package&nbsp;scope&nbsp;(this&nbsp;file&nbsp;only)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Imports</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="op">*</span><span class="ident">ImportSpec</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;imports&nbsp;in&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Unresolved</span>&nbsp;<span class="op">[</span><span class="op">]</span><span class="op">*</span><span class="ident">Ident</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;unresolved&nbsp;identifiers&nbsp;in&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Comments</span>&nbsp;&nbsp;&nbsp;<span class="op">[</span><span class="op">]</span><span class="op">*</span><span class="ident">CommentGroup</span>&nbsp;<span class="comment">//&nbsp;list&nbsp;of&nbsp;all&nbsp;comments&nbsp;in&nbsp;the&nbsp;source&nbsp;file</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno">975</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">f</span>&nbsp;<span class="op">*</span><span class="ident">File</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Package</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">f</span>&nbsp;<span class="op">*</span><span class="ident">File</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="builtinfunc">len</span><span class="op">(</span><span class="ident">f</span><span class="op">.</span><span class="ident">Decls</span><span class="op">)</span><span class="op">;</span>&nbsp;<span class="ident">n</span>&nbsp;<span class="op">&gt;</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Decls</span><span class="op">[</span><span class="ident">n</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">f</span><span class="op">.</span><span class="ident">Name</span><span class="op">.</span><span class="ident">End</span><span class="op">(</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//&nbsp;A&nbsp;Package&nbsp;node&nbsp;represents&nbsp;a&nbsp;set&nbsp;of&nbsp;source&nbsp;files</span><br>
<span class="lineno">985</span><span class="comment">//&nbsp;collectively&nbsp;building&nbsp;a&nbsp;Go&nbsp;package.</span><br>
<span class="lineno"></span><span class="comment">//</span><br>
<span class="lineno"></span><span class="keyword">type</span>&nbsp;<span class="ident">Package</span>&nbsp;<span class="keyword">struct</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;package&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Scope</span>&nbsp;&nbsp;&nbsp;<span class="op">*</span><span class="ident">Scope</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;package&nbsp;scope&nbsp;across&nbsp;all&nbsp;files</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Imports</span>&nbsp;<span class="keyword">map</span><span class="op">[</span><span class="builtintype">string</span><span class="op">]</span><span class="op">*</span><span class="ident">Object</span>&nbsp;<span class="comment">//&nbsp;map&nbsp;of&nbsp;package&nbsp;id&nbsp;-&gt;&nbsp;package&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">Files</span>&nbsp;&nbsp;&nbsp;<span class="keyword">map</span><span class="op">[</span><span class="builtintype">string</span><span class="op">]</span><span class="op">*</span><span class="ident">File</span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Go&nbsp;source&nbsp;files&nbsp;by&nbsp;filename</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">p</span>&nbsp;<span class="op">*</span><span class="ident">Package</span><span class="op">)</span>&nbsp;<span class="ident">Pos</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">NoPos</span>&nbsp;<span class="op">}</span><br>
<span class="lineno">995</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">p</span>&nbsp;<span class="op">*</span><span class="ident">Package</span><span class="op">)</span>&nbsp;<span class="ident">End</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">Pos</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">token</span><span class="op">.</span><span class="ident">NoPos</span>&nbsp;<span class="op">}</span>
</div>
</body>
</html>
