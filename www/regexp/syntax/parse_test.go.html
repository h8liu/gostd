<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7187400">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7187456">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7187510">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7187561">package</span>&nbsp;<span class="ident" id="7187569">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7187577">import</span>&nbsp;<span class="op" id="7187584">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7187587">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7187596">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7187603">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7187614">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="7187624">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7187627">type</span>&nbsp;<span class="ident" id="7187632">parseTest</span>&nbsp;<span class="keyword" id="7187642">struct</span>&nbsp;<span class="op" id="7187649">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187652">Regexp</span>&nbsp;<span class="builtintype" id="7187659">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7187667">Dump</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7187674">string</span><br>
<span class="lineno"></span><span class="op" id="7187681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7187684">var</span>&nbsp;<span class="ident" id="7187688">parseTests</span>&nbsp;<span class="op" id="7187699">=</span>&nbsp;<span class="op" id="7187701">[</span><span class="op" id="7187702">]</span><span class="ident" id="7187703"><a href="/regexp/syntax/parse_test.go.html#7187632">parseTest</a></span><span class="op" id="7187712">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7187715">//&nbsp;Base&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187730">{</span><span class="string" id="7187731">`a`</span><span class="op" id="7187734">,</span>&nbsp;<span class="string" id="7187736">`lit{a}`</span><span class="op" id="7187744">}</span><span class="op" id="7187745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187748">{</span><span class="string" id="7187749">`a.`</span><span class="op" id="7187753">,</span>&nbsp;<span class="string" id="7187755">`cat{lit{a}dot{}}`</span><span class="op" id="7187773">}</span><span class="op" id="7187774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187777">{</span><span class="string" id="7187778">`a.b`</span><span class="op" id="7187783">,</span>&nbsp;<span class="string" id="7187785">`cat{lit{a}dot{}lit{b}}`</span><span class="op" id="7187809">}</span><span class="op" id="7187810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187813">{</span><span class="string" id="7187814">`ab`</span><span class="op" id="7187818">,</span>&nbsp;<span class="string" id="7187820">`str{ab}`</span><span class="op" id="7187829">}</span><span class="op" id="7187830">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187833">{</span><span class="string" id="7187834">`a.b.c`</span><span class="op" id="7187841">,</span>&nbsp;<span class="string" id="7187843">`cat{lit{a}dot{}lit{b}dot{}lit{c}}`</span><span class="op" id="7187878">}</span><span class="op" id="7187879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187882">{</span><span class="string" id="7187883">`abc`</span><span class="op" id="7187888">,</span>&nbsp;<span class="string" id="7187890">`str{abc}`</span><span class="op" id="7187900">}</span><span class="op" id="7187901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187904">{</span><span class="string" id="7187905">`a|^`</span><span class="op" id="7187910">,</span>&nbsp;<span class="string" id="7187912">`alt{lit{a}bol{}}`</span><span class="op" id="7187930">}</span><span class="op" id="7187931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187934">{</span><span class="string" id="7187935">`a|b`</span><span class="op" id="7187940">,</span>&nbsp;<span class="string" id="7187942">`cc{0x61-0x62}`</span><span class="op" id="7187957">}</span><span class="op" id="7187958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187961">{</span><span class="string" id="7187962">`(a)`</span><span class="op" id="7187967">,</span>&nbsp;<span class="string" id="7187969">`cap{lit{a}}`</span><span class="op" id="7187982">}</span><span class="op" id="7187983">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7187986">{</span><span class="string" id="7187987">`(a)|b`</span><span class="op" id="7187994">,</span>&nbsp;<span class="string" id="7187996">`alt{cap{lit{a}}lit{b}}`</span><span class="op" id="7188020">}</span><span class="op" id="7188021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188024">{</span><span class="string" id="7188025">`a*`</span><span class="op" id="7188029">,</span>&nbsp;<span class="string" id="7188031">`star{lit{a}}`</span><span class="op" id="7188045">}</span><span class="op" id="7188046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188049">{</span><span class="string" id="7188050">`a+`</span><span class="op" id="7188054">,</span>&nbsp;<span class="string" id="7188056">`plus{lit{a}}`</span><span class="op" id="7188070">}</span><span class="op" id="7188071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188074">{</span><span class="string" id="7188075">`a?`</span><span class="op" id="7188079">,</span>&nbsp;<span class="string" id="7188081">`que{lit{a}}`</span><span class="op" id="7188094">}</span><span class="op" id="7188095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188098">{</span><span class="string" id="7188099">`a{2}`</span><span class="op" id="7188105">,</span>&nbsp;<span class="string" id="7188107">`rep{2,2&nbsp;lit{a}}`</span><span class="op" id="7188124">}</span><span class="op" id="7188125">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188128">{</span><span class="string" id="7188129">`a{2,3}`</span><span class="op" id="7188137">,</span>&nbsp;<span class="string" id="7188139">`rep{2,3&nbsp;lit{a}}`</span><span class="op" id="7188156">}</span><span class="op" id="7188157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188160">{</span><span class="string" id="7188161">`a{2,}`</span><span class="op" id="7188168">,</span>&nbsp;<span class="string" id="7188170">`rep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7188188">}</span><span class="op" id="7188189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188192">{</span><span class="string" id="7188193">`a*?`</span><span class="op" id="7188198">,</span>&nbsp;<span class="string" id="7188200">`nstar{lit{a}}`</span><span class="op" id="7188215">}</span><span class="op" id="7188216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188219">{</span><span class="string" id="7188220">`a+?`</span><span class="op" id="7188225">,</span>&nbsp;<span class="string" id="7188227">`nplus{lit{a}}`</span><span class="op" id="7188242">}</span><span class="op" id="7188243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188246">{</span><span class="string" id="7188247">`a??`</span><span class="op" id="7188252">,</span>&nbsp;<span class="string" id="7188254">`nque{lit{a}}`</span><span class="op" id="7188268">}</span><span class="op" id="7188269">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188272">{</span><span class="string" id="7188273">`a{2}?`</span><span class="op" id="7188280">,</span>&nbsp;<span class="string" id="7188282">`nrep{2,2&nbsp;lit{a}}`</span><span class="op" id="7188300">}</span><span class="op" id="7188301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188304">{</span><span class="string" id="7188305">`a{2,3}?`</span><span class="op" id="7188314">,</span>&nbsp;<span class="string" id="7188316">`nrep{2,3&nbsp;lit{a}}`</span><span class="op" id="7188334">}</span><span class="op" id="7188335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188338">{</span><span class="string" id="7188339">`a{2,}?`</span><span class="op" id="7188347">,</span>&nbsp;<span class="string" id="7188349">`nrep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7188368">}</span><span class="op" id="7188369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7188372">//&nbsp;Malformed&nbsp;{&nbsp;}&nbsp;are&nbsp;treated&nbsp;as&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188415">{</span><span class="string" id="7188416">`x{1001`</span><span class="op" id="7188424">,</span>&nbsp;<span class="string" id="7188426">`str{x{1001}`</span><span class="op" id="7188439">}</span><span class="op" id="7188440">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188443">{</span><span class="string" id="7188444">`x{9876543210`</span><span class="op" id="7188458">,</span>&nbsp;<span class="string" id="7188460">`str{x{9876543210}`</span><span class="op" id="7188479">}</span><span class="op" id="7188480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188483">{</span><span class="string" id="7188484">`x{9876543210,`</span><span class="op" id="7188499">,</span>&nbsp;<span class="string" id="7188501">`str{x{9876543210,}`</span><span class="op" id="7188521">}</span><span class="op" id="7188522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188525">{</span><span class="string" id="7188526">`x{2,1`</span><span class="op" id="7188533">,</span>&nbsp;<span class="string" id="7188535">`str{x{2,1}`</span><span class="op" id="7188547">}</span><span class="op" id="7188548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188551">{</span><span class="string" id="7188552">`x{1,9876543210`</span><span class="op" id="7188568">,</span>&nbsp;<span class="string" id="7188570">`str{x{1,9876543210}`</span><span class="op" id="7188591">}</span><span class="op" id="7188592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188595">{</span><span class="string" id="7188596">``</span><span class="op" id="7188598">,</span>&nbsp;<span class="string" id="7188600">`emp{}`</span><span class="op" id="7188607">}</span><span class="op" id="7188608">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188611">{</span><span class="string" id="7188612">`|`</span><span class="op" id="7188615">,</span>&nbsp;<span class="string" id="7188617">`emp{}`</span><span class="op" id="7188624">}</span><span class="op" id="7188625">,</span>&nbsp;<span class="comment" id="7188627">//&nbsp;alt{emp{}emp{}}&nbsp;but&nbsp;got&nbsp;factored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188664">{</span><span class="string" id="7188665">`|x|`</span><span class="op" id="7188670">,</span>&nbsp;<span class="string" id="7188672">`alt{emp{}lit{x}emp{}}`</span><span class="op" id="7188695">}</span><span class="op" id="7188696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188699">{</span><span class="string" id="7188700">`.`</span><span class="op" id="7188703">,</span>&nbsp;<span class="string" id="7188705">`dot{}`</span><span class="op" id="7188712">}</span><span class="op" id="7188713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188716">{</span><span class="string" id="7188717">`^`</span><span class="op" id="7188720">,</span>&nbsp;<span class="string" id="7188722">`bol{}`</span><span class="op" id="7188729">}</span><span class="op" id="7188730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188733">{</span><span class="string" id="7188734">`$`</span><span class="op" id="7188737">,</span>&nbsp;<span class="string" id="7188739">`eol{}`</span><span class="op" id="7188746">}</span><span class="op" id="7188747">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188750">{</span><span class="string" id="7188751">`\|`</span><span class="op" id="7188755">,</span>&nbsp;<span class="string" id="7188757">`lit{|}`</span><span class="op" id="7188765">}</span><span class="op" id="7188766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188769">{</span><span class="string" id="7188770">`\(`</span><span class="op" id="7188774">,</span>&nbsp;<span class="string" id="7188776">`lit{(}`</span><span class="op" id="7188784">}</span><span class="op" id="7188785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188788">{</span><span class="string" id="7188789">`\)`</span><span class="op" id="7188793">,</span>&nbsp;<span class="string" id="7188795">`lit{)}`</span><span class="op" id="7188803">}</span><span class="op" id="7188804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188807">{</span><span class="string" id="7188808">`\*`</span><span class="op" id="7188812">,</span>&nbsp;<span class="string" id="7188814">`lit{*}`</span><span class="op" id="7188822">}</span><span class="op" id="7188823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188826">{</span><span class="string" id="7188827">`\+`</span><span class="op" id="7188831">,</span>&nbsp;<span class="string" id="7188833">`lit{+}`</span><span class="op" id="7188841">}</span><span class="op" id="7188842">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188845">{</span><span class="string" id="7188846">`\?`</span><span class="op" id="7188850">,</span>&nbsp;<span class="string" id="7188852">`lit{?}`</span><span class="op" id="7188860">}</span><span class="op" id="7188861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188864">{</span><span class="string" id="7188865">`{`</span><span class="op" id="7188868">,</span>&nbsp;<span class="string" id="7188870">`lit{{}`</span><span class="op" id="7188878">}</span><span class="op" id="7188879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188882">{</span><span class="string" id="7188883">`}`</span><span class="op" id="7188886">,</span>&nbsp;<span class="string" id="7188888">`lit{}}`</span><span class="op" id="7188896">}</span><span class="op" id="7188897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188900">{</span><span class="string" id="7188901">`\.`</span><span class="op" id="7188905">,</span>&nbsp;<span class="string" id="7188907">`lit{.}`</span><span class="op" id="7188915">}</span><span class="op" id="7188916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188919">{</span><span class="string" id="7188920">`\^`</span><span class="op" id="7188924">,</span>&nbsp;<span class="string" id="7188926">`lit{^}`</span><span class="op" id="7188934">}</span><span class="op" id="7188935">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188938">{</span><span class="string" id="7188939">`\$`</span><span class="op" id="7188943">,</span>&nbsp;<span class="string" id="7188945">`lit{$}`</span><span class="op" id="7188953">}</span><span class="op" id="7188954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188957">{</span><span class="string" id="7188958">`\\`</span><span class="op" id="7188962">,</span>&nbsp;<span class="string" id="7188964">`lit{\}`</span><span class="op" id="7188972">}</span><span class="op" id="7188973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7188976">{</span><span class="string" id="7188977">`[ace]`</span><span class="op" id="7188984">,</span>&nbsp;<span class="string" id="7188986">`cc{0x61&nbsp;0x63&nbsp;0x65}`</span><span class="op" id="7189006">}</span><span class="op" id="7189007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189010">{</span><span class="string" id="7189011">`[abc]`</span><span class="op" id="7189018">,</span>&nbsp;<span class="string" id="7189020">`cc{0x61-0x63}`</span><span class="op" id="7189035">}</span><span class="op" id="7189036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189039">{</span><span class="string" id="7189040">`[a-z]`</span><span class="op" id="7189047">,</span>&nbsp;<span class="string" id="7189049">`cc{0x61-0x7a}`</span><span class="op" id="7189064">}</span><span class="op" id="7189065">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189068">{</span><span class="string" id="7189069">`[a]`</span><span class="op" id="7189074">,</span>&nbsp;<span class="string" id="7189076">`lit{a}`</span><span class="op" id="7189084">}</span><span class="op" id="7189085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189088">{</span><span class="string" id="7189089">`\-`</span><span class="op" id="7189093">,</span>&nbsp;<span class="string" id="7189095">`lit{-}`</span><span class="op" id="7189103">}</span><span class="op" id="7189104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189107">{</span><span class="string" id="7189108">`-`</span><span class="op" id="7189111">,</span>&nbsp;<span class="string" id="7189113">`lit{-}`</span><span class="op" id="7189121">}</span><span class="op" id="7189122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189125">{</span><span class="string" id="7189126">`\_`</span><span class="op" id="7189130">,</span>&nbsp;<span class="string" id="7189132">`lit{_}`</span><span class="op" id="7189140">}</span><span class="op" id="7189141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189144">{</span><span class="string" id="7189145">`abc`</span><span class="op" id="7189150">,</span>&nbsp;<span class="string" id="7189152">`str{abc}`</span><span class="op" id="7189162">}</span><span class="op" id="7189163">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189166">{</span><span class="string" id="7189167">`abc|def`</span><span class="op" id="7189176">,</span>&nbsp;<span class="string" id="7189178">`alt{str{abc}str{def}}`</span><span class="op" id="7189201">}</span><span class="op" id="7189202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189205">{</span><span class="string" id="7189206">`abc|def|ghi`</span><span class="op" id="7189219">,</span>&nbsp;<span class="string" id="7189221">`alt{str{abc}str{def}str{ghi}}`</span><span class="op" id="7189252">}</span><span class="op" id="7189253">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7189257">//&nbsp;Posix&nbsp;and&nbsp;Perl&nbsp;extensions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189287">{</span><span class="string" id="7189288">`[[:lower:]]`</span><span class="op" id="7189301">,</span>&nbsp;<span class="string" id="7189303">`cc{0x61-0x7a}`</span><span class="op" id="7189318">}</span><span class="op" id="7189319">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189322">{</span><span class="string" id="7189323">`[a-z]`</span><span class="op" id="7189330">,</span>&nbsp;<span class="string" id="7189332">`cc{0x61-0x7a}`</span><span class="op" id="7189347">}</span><span class="op" id="7189348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189351">{</span><span class="string" id="7189352">`[^[:lower:]]`</span><span class="op" id="7189366">,</span>&nbsp;<span class="string" id="7189368">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7189396">}</span><span class="op" id="7189397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189400">{</span><span class="string" id="7189401">`[[:^lower:]]`</span><span class="op" id="7189415">,</span>&nbsp;<span class="string" id="7189417">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7189445">}</span><span class="op" id="7189446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189449">{</span><span class="string" id="7189450">`(?i)[[:lower:]]`</span><span class="op" id="7189467">,</span>&nbsp;<span class="string" id="7189469">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7189507">}</span><span class="op" id="7189508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189511">{</span><span class="string" id="7189512">`(?i)[a-z]`</span><span class="op" id="7189523">,</span>&nbsp;<span class="string" id="7189525">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7189563">}</span><span class="op" id="7189564">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189567">{</span><span class="string" id="7189568">`(?i)[^[:lower:]]`</span><span class="op" id="7189586">,</span>&nbsp;<span class="string" id="7189588">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7189652">}</span><span class="op" id="7189653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189656">{</span><span class="string" id="7189657">`(?i)[[:^lower:]]`</span><span class="op" id="7189675">,</span>&nbsp;<span class="string" id="7189677">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7189741">}</span><span class="op" id="7189742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189745">{</span><span class="string" id="7189746">`\d`</span><span class="op" id="7189750">,</span>&nbsp;<span class="string" id="7189752">`cc{0x30-0x39}`</span><span class="op" id="7189767">}</span><span class="op" id="7189768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189771">{</span><span class="string" id="7189772">`\D`</span><span class="op" id="7189776">,</span>&nbsp;<span class="string" id="7189778">`cc{0x0-0x2f&nbsp;0x3a-0x10ffff}`</span><span class="op" id="7189806">}</span><span class="op" id="7189807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189810">{</span><span class="string" id="7189811">`\s`</span><span class="op" id="7189815">,</span>&nbsp;<span class="string" id="7189817">`cc{0x9-0xa&nbsp;0xc-0xd&nbsp;0x20}`</span><span class="op" id="7189843">}</span><span class="op" id="7189844">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189847">{</span><span class="string" id="7189848">`\S`</span><span class="op" id="7189852">,</span>&nbsp;<span class="string" id="7189854">`cc{0x0-0x8&nbsp;0xb&nbsp;0xe-0x1f&nbsp;0x21-0x10ffff}`</span><span class="op" id="7189894">}</span><span class="op" id="7189895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189898">{</span><span class="string" id="7189899">`\w`</span><span class="op" id="7189903">,</span>&nbsp;<span class="string" id="7189905">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a}`</span><span class="op" id="7189945">}</span><span class="op" id="7189946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7189949">{</span><span class="string" id="7189950">`\W`</span><span class="op" id="7189954">,</span>&nbsp;<span class="string" id="7189956">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7190009">}</span><span class="op" id="7190010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190013">{</span><span class="string" id="7190014">`(?i)\w`</span><span class="op" id="7190022">,</span>&nbsp;<span class="string" id="7190024">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7190077">}</span><span class="op" id="7190078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190081">{</span><span class="string" id="7190082">`(?i)\W`</span><span class="op" id="7190090">,</span>&nbsp;<span class="string" id="7190092">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7190171">}</span><span class="op" id="7190172">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190175">{</span><span class="string" id="7190176">`[^\\]`</span><span class="op" id="7190183">,</span>&nbsp;<span class="string" id="7190185">`cc{0x0-0x5b&nbsp;0x5d-0x10ffff}`</span><span class="op" id="7190213">}</span><span class="op" id="7190214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7190217">//&nbsp;&nbsp;&nbsp;&nbsp{&nbsp;`\C`,&nbsp;`byte{}`&nbsp;},&nbsp;&nbsp;//&nbsp;probably&nbsp;never</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7190261">//&nbsp;Unicode,&nbsp;negatives,&nbsp;and&nbsp;a&nbsp;double&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190308">{</span><span class="string" id="7190309">`\p{Braille}`</span><span class="op" id="7190322">,</span>&nbsp;<span class="string" id="7190324">`cc{0x2800-0x28ff}`</span><span class="op" id="7190343">}</span><span class="op" id="7190344">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190347">{</span><span class="string" id="7190348">`\P{Braille}`</span><span class="op" id="7190361">,</span>&nbsp;<span class="string" id="7190363">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7190395">}</span><span class="op" id="7190396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190399">{</span><span class="string" id="7190400">`\p{^Braille}`</span><span class="op" id="7190414">,</span>&nbsp;<span class="string" id="7190416">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7190448">}</span><span class="op" id="7190449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190452">{</span><span class="string" id="7190453">`\P{^Braille}`</span><span class="op" id="7190467">,</span>&nbsp;<span class="string" id="7190469">`cc{0x2800-0x28ff}`</span><span class="op" id="7190488">}</span><span class="op" id="7190489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190492">{</span><span class="string" id="7190493">`\pZ`</span><span class="op" id="7190498">,</span>&nbsp;<span class="string" id="7190500">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7190571">}</span><span class="op" id="7190572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190575">{</span><span class="string" id="7190576">`[\p{Braille}]`</span><span class="op" id="7190591">,</span>&nbsp;<span class="string" id="7190593">`cc{0x2800-0x28ff}`</span><span class="op" id="7190612">}</span><span class="op" id="7190613">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190616">{</span><span class="string" id="7190617">`[\P{Braille}]`</span><span class="op" id="7190632">,</span>&nbsp;<span class="string" id="7190634">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7190666">}</span><span class="op" id="7190667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190670">{</span><span class="string" id="7190671">`[\p{^Braille}]`</span><span class="op" id="7190687">,</span>&nbsp;<span class="string" id="7190689">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7190721">}</span><span class="op" id="7190722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190725">{</span><span class="string" id="7190726">`[\P{^Braille}]`</span><span class="op" id="7190742">,</span>&nbsp;<span class="string" id="7190744">`cc{0x2800-0x28ff}`</span><span class="op" id="7190763">}</span><span class="op" id="7190764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190767">{</span><span class="string" id="7190768">`[\pZ]`</span><span class="op" id="7190775">,</span>&nbsp;<span class="string" id="7190777">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7190848">}</span><span class="op" id="7190849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190852">{</span><span class="string" id="7190853">`\p{Lu}`</span><span class="op" id="7190861">,</span>&nbsp;<span class="ident" id="7190863"><a href="/regexp/syntax/parse_test.go.html#7197991">mkCharClass</a></span><span class="op" id="7190874">(</span><span class="ident" id="7190875"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7190882">.</span><span class="ident" id="7190883">IsUpper</span><span class="op" id="7190890">)</span><span class="op" id="7190891">}</span><span class="op" id="7190892">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190895">{</span><span class="string" id="7190896">`[\p{Lu}]`</span><span class="op" id="7190906">,</span>&nbsp;<span class="ident" id="7190908"><a href="/regexp/syntax/parse_test.go.html#7197991">mkCharClass</a></span><span class="op" id="7190919">(</span><span class="ident" id="7190920"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7190927">.</span><span class="ident" id="7190928">IsUpper</span><span class="op" id="7190935">)</span><span class="op" id="7190936">}</span><span class="op" id="7190937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190940">{</span><span class="string" id="7190941">`(?i)[\p{Lu}]`</span><span class="op" id="7190955">,</span>&nbsp;<span class="ident" id="7190957"><a href="/regexp/syntax/parse_test.go.html#7197991">mkCharClass</a></span><span class="op" id="7190968">(</span><span class="ident" id="7190969"><a href="/regexp/syntax/parse_test.go.html#7198350">isUpperFold</a></span><span class="op" id="7190980">)</span><span class="op" id="7190981">}</span><span class="op" id="7190982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7190985">{</span><span class="string" id="7190986">`\p{Any}`</span><span class="op" id="7190995">,</span>&nbsp;<span class="string" id="7190997">`dot{}`</span><span class="op" id="7191004">}</span><span class="op" id="7191005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191008">{</span><span class="string" id="7191009">`\p{^Any}`</span><span class="op" id="7191019">,</span>&nbsp;<span class="string" id="7191021">`cc{}`</span><span class="op" id="7191027">}</span><span class="op" id="7191028">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7191032">//&nbsp;Hex,&nbsp;octal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191048">{</span><span class="string" id="7191049">`[\012-\234]\141`</span><span class="op" id="7191066">,</span>&nbsp;<span class="string" id="7191068">`cat{cc{0xa-0x9c}lit{a}}`</span><span class="op" id="7191093">}</span><span class="op" id="7191094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191097">{</span><span class="string" id="7191098">`[\x{41}-\x7a]\x61`</span><span class="op" id="7191117">,</span>&nbsp;<span class="string" id="7191119">`cat{cc{0x41-0x7a}lit{a}}`</span><span class="op" id="7191145">}</span><span class="op" id="7191146">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7191150">//&nbsp;More&nbsp;interesting&nbsp;regular&nbsp;expressions.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191192">{</span><span class="string" id="7191193">`a{,2}`</span><span class="op" id="7191200">,</span>&nbsp;<span class="string" id="7191202">`str{a{,2}}`</span><span class="op" id="7191214">}</span><span class="op" id="7191215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191218">{</span><span class="string" id="7191219">`\.\^\$\\`</span><span class="op" id="7191229">,</span>&nbsp;<span class="string" id="7191231">`str{.^$\}`</span><span class="op" id="7191242">}</span><span class="op" id="7191243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191246">{</span><span class="string" id="7191247">`[a-zABC]`</span><span class="op" id="7191257">,</span>&nbsp;<span class="string" id="7191259">`cc{0x41-0x43&nbsp;0x61-0x7a}`</span><span class="op" id="7191284">}</span><span class="op" id="7191285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191288">{</span><span class="string" id="7191289">`[^a]`</span><span class="op" id="7191295">,</span>&nbsp;<span class="string" id="7191297">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7191325">}</span><span class="op" id="7191326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191329">{</span><span class="string" id="7191330">`[α-ε☺]`</span><span class="op" id="7191342">,</span>&nbsp;<span class="string" id="7191344">`cc{0x3b1-0x3b5&nbsp;0x263a}`</span><span class="op" id="7191368">}</span><span class="op" id="7191369">,</span>&nbsp;<span class="comment" id="7191371">//&nbsp;utf-8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191381">{</span><span class="string" id="7191382">`a*{`</span><span class="op" id="7191387">,</span>&nbsp;<span class="string" id="7191389">`cat{star{lit{a}}lit{{}}`</span><span class="op" id="7191414">}</span><span class="op" id="7191415">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7191419">//&nbsp;Test&nbsp;precedences</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191440">{</span><span class="string" id="7191441">`(?:ab)*`</span><span class="op" id="7191450">,</span>&nbsp;<span class="string" id="7191452">`star{str{ab}}`</span><span class="op" id="7191467">}</span><span class="op" id="7191468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191471">{</span><span class="string" id="7191472">`(ab)*`</span><span class="op" id="7191479">,</span>&nbsp;<span class="string" id="7191481">`star{cap{str{ab}}}`</span><span class="op" id="7191501">}</span><span class="op" id="7191502">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191505">{</span><span class="string" id="7191506">`ab|cd`</span><span class="op" id="7191513">,</span>&nbsp;<span class="string" id="7191515">`alt{str{ab}str{cd}}`</span><span class="op" id="7191536">}</span><span class="op" id="7191537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191540">{</span><span class="string" id="7191541">`a(b|c)d`</span><span class="op" id="7191550">,</span>&nbsp;<span class="string" id="7191552">`cat{lit{a}cap{cc{0x62-0x63}}lit{d}}`</span><span class="op" id="7191589">}</span><span class="op" id="7191590">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7191594">//&nbsp;Test&nbsp;flattening.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191615">{</span><span class="string" id="7191616">`(?:a)`</span><span class="op" id="7191623">,</span>&nbsp;<span class="string" id="7191625">`lit{a}`</span><span class="op" id="7191633">}</span><span class="op" id="7191634">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191637">{</span><span class="string" id="7191638">`(?:ab)(?:cd)`</span><span class="op" id="7191652">,</span>&nbsp;<span class="string" id="7191654">`str{abcd}`</span><span class="op" id="7191665">}</span><span class="op" id="7191666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191669">{</span><span class="string" id="7191670">`(?:a+b+)(?:c+d+)`</span><span class="op" id="7191688">,</span>&nbsp;<span class="string" id="7191690">`cat{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7191745">}</span><span class="op" id="7191746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191749">{</span><span class="string" id="7191750">`(?:a+|b+)|(?:c+|d+)`</span><span class="op" id="7191771">,</span>&nbsp;<span class="string" id="7191773">`alt{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7191828">}</span><span class="op" id="7191829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191832">{</span><span class="string" id="7191833">`(?:a|b)|(?:c|d)`</span><span class="op" id="7191850">,</span>&nbsp;<span class="string" id="7191852">`cc{0x61-0x64}`</span><span class="op" id="7191867">}</span><span class="op" id="7191868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191871">{</span><span class="string" id="7191872">`a|.`</span><span class="op" id="7191877">,</span>&nbsp;<span class="string" id="7191879">`dot{}`</span><span class="op" id="7191886">}</span><span class="op" id="7191887">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191890">{</span><span class="string" id="7191891">`.|a`</span><span class="op" id="7191896">,</span>&nbsp;<span class="string" id="7191898">`dot{}`</span><span class="op" id="7191905">}</span><span class="op" id="7191906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191909">{</span><span class="string" id="7191910">`(?:[abc]|A|Z|hello|world)`</span><span class="op" id="7191937">,</span>&nbsp;<span class="string" id="7191939">`alt{cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}str{hello}str{world}}`</span><span class="op" id="7191989">}</span><span class="op" id="7191990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7191993">{</span><span class="string" id="7191994">`(?:[abc]|A|Z)`</span><span class="op" id="7192009">,</span>&nbsp;<span class="string" id="7192011">`cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}`</span><span class="op" id="7192036">}</span><span class="op" id="7192037">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7192041">//&nbsp;Test&nbsp;Perl&nbsp;quoted&nbsp;literals</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192071">{</span><span class="string" id="7192072">`\Q+|*?{[\E`</span><span class="op" id="7192084">,</span>&nbsp;<span class="string" id="7192086">`str{+|*?{[}`</span><span class="op" id="7192099">}</span><span class="op" id="7192100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192103">{</span><span class="string" id="7192104">`\Q+\E+`</span><span class="op" id="7192112">,</span>&nbsp;<span class="string" id="7192114">`plus{lit{+}}`</span><span class="op" id="7192128">}</span><span class="op" id="7192129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192132">{</span><span class="string" id="7192133">`\Q\\E`</span><span class="op" id="7192140">,</span>&nbsp;<span class="string" id="7192142">`lit{\}`</span><span class="op" id="7192150">}</span><span class="op" id="7192151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192154">{</span><span class="string" id="7192155">`\Q\\\E`</span><span class="op" id="7192163">,</span>&nbsp;<span class="string" id="7192165">`str{\\}`</span><span class="op" id="7192174">}</span><span class="op" id="7192175">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7192179">//&nbsp;Test&nbsp;Perl&nbsp;\A&nbsp;and&nbsp;\z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192203">{</span><span class="string" id="7192204">`(?m)^`</span><span class="op" id="7192211">,</span>&nbsp;<span class="string" id="7192213">`bol{}`</span><span class="op" id="7192220">}</span><span class="op" id="7192221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192224">{</span><span class="string" id="7192225">`(?m)$`</span><span class="op" id="7192232">,</span>&nbsp;<span class="string" id="7192234">`eol{}`</span><span class="op" id="7192241">}</span><span class="op" id="7192242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192245">{</span><span class="string" id="7192246">`(?-m)^`</span><span class="op" id="7192254">,</span>&nbsp;<span class="string" id="7192256">`bot{}`</span><span class="op" id="7192263">}</span><span class="op" id="7192264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192267">{</span><span class="string" id="7192268">`(?-m)$`</span><span class="op" id="7192276">,</span>&nbsp;<span class="string" id="7192278">`eot{}`</span><span class="op" id="7192285">}</span><span class="op" id="7192286">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192289">{</span><span class="string" id="7192290">`(?m)\A`</span><span class="op" id="7192298">,</span>&nbsp;<span class="string" id="7192300">`bot{}`</span><span class="op" id="7192307">}</span><span class="op" id="7192308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192311">{</span><span class="string" id="7192312">`(?m)\z`</span><span class="op" id="7192320">,</span>&nbsp;<span class="string" id="7192322">`eot{\z}`</span><span class="op" id="7192331">}</span><span class="op" id="7192332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192335">{</span><span class="string" id="7192336">`(?-m)\A`</span><span class="op" id="7192345">,</span>&nbsp;<span class="string" id="7192347">`bot{}`</span><span class="op" id="7192354">}</span><span class="op" id="7192355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192358">{</span><span class="string" id="7192359">`(?-m)\z`</span><span class="op" id="7192368">,</span>&nbsp;<span class="string" id="7192370">`eot{\z}`</span><span class="op" id="7192379">}</span><span class="op" id="7192380">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7192384">//&nbsp;Test&nbsp;named&nbsp;captures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192408">{</span><span class="string" id="7192409">`(?P&lt;name&gt;a)`</span><span class="op" id="7192422">,</span>&nbsp;<span class="string" id="7192424">`cap{name:lit{a}}`</span><span class="op" id="7192442">}</span><span class="op" id="7192443">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7192447">//&nbsp;Case-folded&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192472">{</span><span class="string" id="7192473">`[Aa]`</span><span class="op" id="7192479">,</span>&nbsp;<span class="string" id="7192481">`litfold{A}`</span><span class="op" id="7192493">}</span><span class="op" id="7192494">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192497">{</span><span class="string" id="7192498">`[\x{100}\x{101}]`</span><span class="op" id="7192516">,</span>&nbsp;<span class="string" id="7192518">`litfold{Ā}`</span><span class="op" id="7192531">}</span><span class="op" id="7192532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192535">{</span><span class="string" id="7192536">`[Δδ]`</span><span class="op" id="7192544">,</span>&nbsp;<span class="string" id="7192546">`litfold{Δ}`</span><span class="op" id="7192559">}</span><span class="op" id="7192560">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7192564">//&nbsp;Strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192576">{</span><span class="string" id="7192577">`abcde`</span><span class="op" id="7192584">,</span>&nbsp;<span class="string" id="7192586">`str{abcde}`</span><span class="op" id="7192598">}</span><span class="op" id="7192599">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192602">{</span><span class="string" id="7192603">`[Aa][Bb]cd`</span><span class="op" id="7192615">,</span>&nbsp;<span class="string" id="7192617">`cat{strfold{AB}str{cd}}`</span><span class="op" id="7192642">}</span><span class="op" id="7192643">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7192647">//&nbsp;Factoring.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192662">{</span><span class="string" id="7192663">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7192684">,</span>&nbsp;<span class="string" id="7192686">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7192765">}</span><span class="op" id="7192766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192769">{</span><span class="string" id="7192770">`ax+y|ax+z|ay+w`</span><span class="op" id="7192786">,</span>&nbsp;<span class="string" id="7192788">`cat{lit{a}alt{cat{plus{lit{x}}cc{0x79-0x7a}}cat{plus{lit{y}}lit{w}}}}`</span><span class="op" id="7192859">}</span><span class="op" id="7192860">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7192864">//&nbsp;Bug&nbsp;fixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192879">{</span><span class="string" id="7192880">`(?:.)`</span><span class="op" id="7192887">,</span>&nbsp;<span class="string" id="7192889">`dot{}`</span><span class="op" id="7192896">}</span><span class="op" id="7192897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192900">{</span><span class="string" id="7192901">`(?:x|(?:xa))`</span><span class="op" id="7192915">,</span>&nbsp;<span class="string" id="7192917">`cat{lit{x}alt{emp{}lit{a}}}`</span><span class="op" id="7192946">}</span><span class="op" id="7192947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192950">{</span><span class="string" id="7192951">`(?:.|(?:.a))`</span><span class="op" id="7192965">,</span>&nbsp;<span class="string" id="7192967">`cat{dot{}alt{emp{}lit{a}}}`</span><span class="op" id="7192995">}</span><span class="op" id="7192996">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7192999">{</span><span class="string" id="7193000">`(?:A(?:A|a))`</span><span class="op" id="7193014">,</span>&nbsp;<span class="string" id="7193016">`cat{lit{A}litfold{A}}`</span><span class="op" id="7193039">}</span><span class="op" id="7193040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193043">{</span><span class="string" id="7193044">`(?:A|a)`</span><span class="op" id="7193053">,</span>&nbsp;<span class="string" id="7193055">`litfold{A}`</span><span class="op" id="7193067">}</span><span class="op" id="7193068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193071">{</span><span class="string" id="7193072">`A|(?:A|a)`</span><span class="op" id="7193083">,</span>&nbsp;<span class="string" id="7193085">`litfold{A}`</span><span class="op" id="7193097">}</span><span class="op" id="7193098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193101">{</span><span class="string" id="7193102">`(?s).`</span><span class="op" id="7193109">,</span>&nbsp;<span class="string" id="7193111">`dot{}`</span><span class="op" id="7193118">}</span><span class="op" id="7193119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193122">{</span><span class="string" id="7193123">`(?-s).`</span><span class="op" id="7193131">,</span>&nbsp;<span class="string" id="7193133">`dnl{}`</span><span class="op" id="7193140">}</span><span class="op" id="7193141">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193144">{</span><span class="string" id="7193145">`(?:(?:^).)`</span><span class="op" id="7193157">,</span>&nbsp;<span class="string" id="7193159">`cat{bol{}dot{}}`</span><span class="op" id="7193176">}</span><span class="op" id="7193177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193180">{</span><span class="string" id="7193181">`(?-s)(?:(?:^).)`</span><span class="op" id="7193198">,</span>&nbsp;<span class="string" id="7193200">`cat{bol{}dnl{}}`</span><span class="op" id="7193217">}</span><span class="op" id="7193218">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7193222">//&nbsp;RE2&nbsp;prefix_tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193243">{</span><span class="string" id="7193244">`abc|abd`</span><span class="op" id="7193253">,</span>&nbsp;<span class="string" id="7193255">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7193282">}</span><span class="op" id="7193283">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193286">{</span><span class="string" id="7193287">`a(?:b)c|abd`</span><span class="op" id="7193300">,</span>&nbsp;<span class="string" id="7193302">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7193329">}</span><span class="op" id="7193330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193333">{</span><span class="string" id="7193334">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7193355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7193359">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}`</span>&nbsp;<span class="op" id="7193413">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7193418">`cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7193446">}</span><span class="op" id="7193447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193450">{</span><span class="string" id="7193451">`abc|x|abd`</span><span class="op" id="7193462">,</span>&nbsp;<span class="string" id="7193464">`alt{str{abc}lit{x}str{abd}}`</span><span class="op" id="7193493">}</span><span class="op" id="7193494">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193497">{</span><span class="string" id="7193498">`(?i)abc|ABD`</span><span class="op" id="7193511">,</span>&nbsp;<span class="string" id="7193513">`cat{strfold{AB}cc{0x43-0x44&nbsp;0x63-0x64}}`</span><span class="op" id="7193554">}</span><span class="op" id="7193555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193558">{</span><span class="string" id="7193559">`[ab]c|[ab]d`</span><span class="op" id="7193572">,</span>&nbsp;<span class="string" id="7193574">`cat{cc{0x61-0x62}cc{0x63-0x64}}`</span><span class="op" id="7193607">}</span><span class="op" id="7193608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193611">{</span><span class="string" id="7193612">`(?:xx|yy)c|(?:xx|yy)d`</span><span class="op" id="7193635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7193639">`cat{alt{str{xx}str{yy}}cc{0x63-0x64}}`</span><span class="op" id="7193678">}</span><span class="op" id="7193679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193682">{</span><span class="string" id="7193683">`x{2}|x{2}[0-9]`</span><span class="op" id="7193699">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7193703">`cat{rep{2,2&nbsp;lit{x}}alt{emp{}cc{0x30-0x39}}}`</span><span class="op" id="7193748">}</span><span class="op" id="7193749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193752">{</span><span class="string" id="7193753">`x{2}y|x{2}[0-9]y`</span><span class="op" id="7193771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7193775">`cat{rep{2,2&nbsp;lit{x}}alt{lit{y}cat{cc{0x30-0x39}lit{y}}}}`</span><span class="op" id="7193832">}</span><span class="op" id="7193833">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7193837">//&nbsp;Valid&nbsp;repetitions.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193860">{</span><span class="string" id="7193861">`((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}))`</span><span class="op" id="7193911">,</span>&nbsp;<span class="string" id="7193913">``</span><span class="op" id="7193915">}</span><span class="op" id="7193916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7193919">{</span><span class="string" id="7193920">`((((((((((x{1}){2}){2}){2}){2}){2}){2}){2}){2}){2})`</span><span class="op" id="7193973">,</span>&nbsp;<span class="string" id="7193975">``</span><span class="op" id="7193977">}</span><span class="op" id="7193978">,</span><br>
<span class="lineno"></span><span class="op" id="7193980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7193983">const</span>&nbsp;<span class="ident" id="7193989">testFlags</span>&nbsp;<span class="op" id="7193999">=</span>&nbsp;<span class="ident" id="7194001"><a href="/regexp/syntax/parse.go.html#5450338">MatchNL</a></span>&nbsp;<span class="op" id="7194009">|</span>&nbsp;<span class="ident" id="7194011"><a href="/regexp/syntax/parse.go.html#5450048">PerlX</a></span>&nbsp;<span class="op" id="7194017">|</span>&nbsp;<span class="ident" id="7194019"><a href="/regexp/syntax/parse.go.html#5450106">UnicodeGroups</a></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7194034">func</span>&nbsp;<span class="ident" id="7194039">TestParseSimple</span><span class="op" id="7194054">(</span><span class="ident" id="7194055">t</span>&nbsp;<span class="op" id="7194057">*</span><span class="ident" id="7194058"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7194065">.</span><span class="ident" id="7194066">T</span><span class="op" id="7194067">)</span>&nbsp;<span class="op" id="7194069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7194072"><a href="/regexp/syntax/parse_test.go.html#7195276">testParseDump</a></span><span class="op" id="7194085">(</span><span class="ident" id="7194086"><a href="/regexp/syntax/parse_test.go.html#7194055">t</a></span><span class="op" id="7194087">,</span>&nbsp;<span class="ident" id="7194089"><a href="/regexp/syntax/parse_test.go.html#7187688">parseTests</a></span><span class="op" id="7194099">,</span>&nbsp;<span class="ident" id="7194101"><a href="/regexp/syntax/parse_test.go.html#7193989">testFlags</a></span><span class="op" id="7194110">)</span><br>
<span class="lineno"></span><span class="op" id="7194112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7194115">var</span>&nbsp;<span class="ident" id="7194119">foldcaseTests</span>&nbsp;<span class="op" id="7194133">=</span>&nbsp;<span class="op" id="7194135">[</span><span class="op" id="7194136">]</span><span class="ident" id="7194137"><a href="/regexp/syntax/parse_test.go.html#7187632">parseTest</a></span><span class="op" id="7194146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194149">{</span><span class="string" id="7194150">`AbCdE`</span><span class="op" id="7194157">,</span>&nbsp;<span class="string" id="7194159">`strfold{ABCDE}`</span><span class="op" id="7194175">}</span><span class="op" id="7194176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194179">{</span><span class="string" id="7194180">`[Aa]`</span><span class="op" id="7194186">,</span>&nbsp;<span class="string" id="7194188">`litfold{A}`</span><span class="op" id="7194200">}</span><span class="op" id="7194201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194204">{</span><span class="string" id="7194205">`a`</span><span class="op" id="7194208">,</span>&nbsp;<span class="string" id="7194210">`litfold{A}`</span><span class="op" id="7194222">}</span><span class="op" id="7194223">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7194227">//&nbsp;0x17F&nbsp;is&nbsp;an&nbsp;old&nbsp;English&nbsp;long&nbsp;s&nbsp;(looks&nbsp;like&nbsp;an&nbsp;f)&nbsp;and&nbsp;folds&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7194296">//&nbsp;0x212A&nbsp;is&nbsp;the&nbsp;Kelvin&nbsp;symbol&nbsp;and&nbsp;folds&nbsp;to&nbsp;k.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194344">{</span><span class="string" id="7194345">`A[F-g]`</span><span class="op" id="7194353">,</span>&nbsp;<span class="string" id="7194355">`cat{litfold{A}cc{0x41-0x7a&nbsp;0x17f&nbsp;0x212a}}`</span><span class="op" id="7194398">}</span><span class="op" id="7194399">,</span>&nbsp;<span class="comment" id="7194401">//&nbsp;[Aa][A-z...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194418">{</span><span class="string" id="7194419">`[[:upper:]]`</span><span class="op" id="7194432">,</span>&nbsp;<span class="string" id="7194434">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7194472">}</span><span class="op" id="7194473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194476">{</span><span class="string" id="7194477">`[[:lower:]]`</span><span class="op" id="7194490">,</span>&nbsp;<span class="string" id="7194492">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7194530">}</span><span class="op" id="7194531">,</span><br>
<span class="lineno">225</span><span class="op" id="7194533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7194536">func</span>&nbsp;<span class="ident" id="7194541">TestParseFoldCase</span><span class="op" id="7194558">(</span><span class="ident" id="7194559">t</span>&nbsp;<span class="op" id="7194561">*</span><span class="ident" id="7194562"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7194569">.</span><span class="ident" id="7194570">T</span><span class="op" id="7194571">)</span>&nbsp;<span class="op" id="7194573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7194576"><a href="/regexp/syntax/parse_test.go.html#7195276">testParseDump</a></span><span class="op" id="7194589">(</span><span class="ident" id="7194590"><a href="/regexp/syntax/parse_test.go.html#7194559">t</a></span><span class="op" id="7194591">,</span>&nbsp;<span class="ident" id="7194593"><a href="/regexp/syntax/parse_test.go.html#7194119">foldcaseTests</a></span><span class="op" id="7194606">,</span>&nbsp;<span class="ident" id="7194608"><a href="/regexp/syntax/parse.go.html#5449575">FoldCase</a></span><span class="op" id="7194616">)</span><br>
<span class="lineno"></span><span class="op" id="7194618">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7194621">var</span>&nbsp;<span class="ident" id="7194625">literalTests</span>&nbsp;<span class="op" id="7194638">=</span>&nbsp;<span class="op" id="7194640">[</span><span class="op" id="7194641">]</span><span class="ident" id="7194642"><a href="/regexp/syntax/parse_test.go.html#7187632">parseTest</a></span><span class="op" id="7194651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194654">{</span><span class="string" id="7194655">&#34;(|)^$.[*+?]{5,10},\\&#34;</span><span class="op" id="7194677">,</span>&nbsp;<span class="string" id="7194679">&#34;str{(|)^$.[*+?]{5,10},\\}&#34;</span><span class="op" id="7194706">}</span><span class="op" id="7194707">,</span><br>
<span class="lineno"></span><span class="op" id="7194709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7194712">func</span>&nbsp;<span class="ident" id="7194717">TestParseLiteral</span><span class="op" id="7194733">(</span><span class="ident" id="7194734">t</span>&nbsp;<span class="op" id="7194736">*</span><span class="ident" id="7194737"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7194744">.</span><span class="ident" id="7194745">T</span><span class="op" id="7194746">)</span>&nbsp;<span class="op" id="7194748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7194751"><a href="/regexp/syntax/parse_test.go.html#7195276">testParseDump</a></span><span class="op" id="7194764">(</span><span class="ident" id="7194765"><a href="/regexp/syntax/parse_test.go.html#7194734">t</a></span><span class="op" id="7194766">,</span>&nbsp;<span class="ident" id="7194768"><a href="/regexp/syntax/parse_test.go.html#7194625">literalTests</a></span><span class="op" id="7194780">,</span>&nbsp;<span class="ident" id="7194782"><a href="/regexp/syntax/parse.go.html#5449634">Literal</a></span><span class="op" id="7194789">)</span><br>
<span class="lineno"></span><span class="op" id="7194791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7194794">var</span>&nbsp;<span class="ident" id="7194798">matchnlTests</span>&nbsp;<span class="op" id="7194811">=</span>&nbsp;<span class="op" id="7194813">[</span><span class="op" id="7194814">]</span><span class="ident" id="7194815"><a href="/regexp/syntax/parse_test.go.html#7187632">parseTest</a></span><span class="op" id="7194824">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194827">{</span><span class="string" id="7194828">`.`</span><span class="op" id="7194831">,</span>&nbsp;<span class="string" id="7194833">`dot{}`</span><span class="op" id="7194840">}</span><span class="op" id="7194841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194844">{</span><span class="string" id="7194845">&#34;\n&#34;</span><span class="op" id="7194849">,</span>&nbsp;<span class="string" id="7194851">&#34;lit{\n}&#34;</span><span class="op" id="7194860">}</span><span class="op" id="7194861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194864">{</span><span class="string" id="7194865">`[^a]`</span><span class="op" id="7194871">,</span>&nbsp;<span class="string" id="7194873">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7194901">}</span><span class="op" id="7194902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7194905">{</span><span class="string" id="7194906">`[a\n]`</span><span class="op" id="7194913">,</span>&nbsp;<span class="string" id="7194915">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7194929">}</span><span class="op" id="7194930">,</span><br>
<span class="lineno"></span><span class="op" id="7194932">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="7194935">func</span>&nbsp;<span class="ident" id="7194940">TestParseMatchNL</span><span class="op" id="7194956">(</span><span class="ident" id="7194957">t</span>&nbsp;<span class="op" id="7194959">*</span><span class="ident" id="7194960"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7194967">.</span><span class="ident" id="7194968">T</span><span class="op" id="7194969">)</span>&nbsp;<span class="op" id="7194971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7194974"><a href="/regexp/syntax/parse_test.go.html#7195276">testParseDump</a></span><span class="op" id="7194987">(</span><span class="ident" id="7194988"><a href="/regexp/syntax/parse_test.go.html#7194957">t</a></span><span class="op" id="7194989">,</span>&nbsp;<span class="ident" id="7194991"><a href="/regexp/syntax/parse_test.go.html#7194798">matchnlTests</a></span><span class="op" id="7195003">,</span>&nbsp;<span class="ident" id="7195005"><a href="/regexp/syntax/parse.go.html#5450338">MatchNL</a></span><span class="op" id="7195012">)</span><br>
<span class="lineno"></span><span class="op" id="7195014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="7195017">var</span>&nbsp;<span class="ident" id="7195021">nomatchnlTests</span>&nbsp;<span class="op" id="7195036">=</span>&nbsp;<span class="op" id="7195038">[</span><span class="op" id="7195039">]</span><span class="ident" id="7195040"><a href="/regexp/syntax/parse_test.go.html#7187632">parseTest</a></span><span class="op" id="7195049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7195052">{</span><span class="string" id="7195053">`.`</span><span class="op" id="7195056">,</span>&nbsp;<span class="string" id="7195058">`dnl{}`</span><span class="op" id="7195065">}</span><span class="op" id="7195066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7195069">{</span><span class="string" id="7195070">&#34;\n&#34;</span><span class="op" id="7195074">,</span>&nbsp;<span class="string" id="7195076">&#34;lit{\n}&#34;</span><span class="op" id="7195085">}</span><span class="op" id="7195086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7195089">{</span><span class="string" id="7195090">`[^a]`</span><span class="op" id="7195096">,</span>&nbsp;<span class="string" id="7195098">`cc{0x0-0x9&nbsp;0xb-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7195134">}</span><span class="op" id="7195135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7195138">{</span><span class="string" id="7195139">`[a\n]`</span><span class="op" id="7195146">,</span>&nbsp;<span class="string" id="7195148">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7195162">}</span><span class="op" id="7195163">,</span><br>
<span class="lineno">255</span><span class="op" id="7195165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7195168">func</span>&nbsp;<span class="ident" id="7195173">TestParseNoMatchNL</span><span class="op" id="7195191">(</span><span class="ident" id="7195192">t</span>&nbsp;<span class="op" id="7195194">*</span><span class="ident" id="7195195"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7195202">.</span><span class="ident" id="7195203">T</span><span class="op" id="7195204">)</span>&nbsp;<span class="op" id="7195206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195209"><a href="/regexp/syntax/parse_test.go.html#7195276">testParseDump</a></span><span class="op" id="7195222">(</span><span class="ident" id="7195223"><a href="/regexp/syntax/parse_test.go.html#7195192">t</a></span><span class="op" id="7195224">,</span>&nbsp;<span class="ident" id="7195226"><a href="/regexp/syntax/parse_test.go.html#7195021">nomatchnlTests</a></span><span class="op" id="7195240">,</span>&nbsp;<span class="num" id="7195242">0</span><span class="op" id="7195243">)</span><br>
<span class="lineno"></span><span class="op" id="7195245">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="7195248">//&nbsp;Test&nbsp;Parse&nbsp;-&gt;&nbsp;Dump.</span><br>
<span class="lineno"></span><span class="keyword" id="7195271">func</span>&nbsp;<span class="ident" id="7195276">testParseDump</span><span class="op" id="7195289">(</span><span class="ident" id="7195290">t</span>&nbsp;<span class="op" id="7195292">*</span><span class="ident" id="7195293"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7195300">.</span><span class="ident" id="7195301">T</span><span class="op" id="7195302">,</span>&nbsp;<span class="ident" id="7195304">tests</span>&nbsp;<span class="op" id="7195310">[</span><span class="op" id="7195311">]</span><span class="ident" id="7195312"><a href="/regexp/syntax/parse_test.go.html#7187632">parseTest</a></span><span class="op" id="7195321">,</span>&nbsp;<span class="ident" id="7195323">flags</span>&nbsp;<span class="ident" id="7195329"><a href="/regexp/syntax/parse.go.html#5449552">Flags</a></span><span class="op" id="7195334">)</span>&nbsp;<span class="op" id="7195336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7195339">for</span>&nbsp;<span class="ident" id="7195343">_</span><span class="op" id="7195344">,</span>&nbsp;<span class="ident" id="7195346">tt</span>&nbsp;<span class="op" id="7195349">:=</span>&nbsp;<span class="keyword" id="7195352">range</span>&nbsp;<span class="ident" id="7195358"><a href="/regexp/syntax/parse_test.go.html#7195304">tests</a></span>&nbsp;<span class="op" id="7195364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195368">re</span><span class="op" id="7195370">,</span>&nbsp;<span class="ident" id="7195372">err</span>&nbsp;<span class="op" id="7195376">:=</span>&nbsp;<span class="ident" id="7195379"><a href="/regexp/syntax/parse.go.html#5466736">Parse</a></span><span class="op" id="7195384">(</span><span class="ident" id="7195385"><a href="/regexp/syntax/parse_test.go.html#7195346">tt</a></span><span class="op" id="7195387">.</span><span class="ident" id="7195388">Regexp</span><span class="op" id="7195394">,</span>&nbsp;<span class="ident" id="7195396"><a href="/regexp/syntax/parse_test.go.html#7195323">flags</a></span><span class="op" id="7195401">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7195405">if</span>&nbsp;<span class="ident" id="7195408"><a href="/regexp/syntax/parse_test.go.html#7195372">err</a></span>&nbsp;<span class="op" id="7195412">!=</span>&nbsp;<span class="ident" id="7195415">nil</span>&nbsp;<span class="op" id="7195419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195424"><a href="/regexp/syntax/parse_test.go.html#7195290">t</a></span><span class="op" id="7195425">.</span><span class="ident" id="7195426">Errorf</span><span class="op" id="7195432">(</span><span class="string" id="7195433">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7195449">,</span>&nbsp;<span class="ident" id="7195451"><a href="/regexp/syntax/parse_test.go.html#7195346">tt</a></span><span class="op" id="7195453">.</span><span class="ident" id="7195454">Regexp</span><span class="op" id="7195460">,</span>&nbsp;<span class="ident" id="7195462"><a href="/regexp/syntax/parse_test.go.html#7195372">err</a></span><span class="op" id="7195465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7195470">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7195481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7195485">if</span>&nbsp;<span class="ident" id="7195488"><a href="/regexp/syntax/parse_test.go.html#7195346">tt</a></span><span class="op" id="7195490">.</span><span class="ident" id="7195491">Dump</span>&nbsp;<span class="op" id="7195496">==</span>&nbsp;<span class="string" id="7195499">&#34;&#34;</span>&nbsp;<span class="op" id="7195502">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7195507">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7195550">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7195561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195565">d</span>&nbsp;<span class="op" id="7195567">:=</span>&nbsp;<span class="ident" id="7195570"><a href="/regexp/syntax/parse_test.go.html#7195775">dump</a></span><span class="op" id="7195574">(</span><span class="ident" id="7195575"><a href="/regexp/syntax/parse_test.go.html#7195368">re</a></span><span class="op" id="7195577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7195581">if</span>&nbsp;<span class="ident" id="7195584"><a href="/regexp/syntax/parse_test.go.html#7195565">d</a></span>&nbsp;<span class="op" id="7195586">!=</span>&nbsp;<span class="ident" id="7195589"><a href="/regexp/syntax/parse_test.go.html#7195346">tt</a></span><span class="op" id="7195591">.</span><span class="ident" id="7195592">Dump</span>&nbsp;<span class="op" id="7195597">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195602"><a href="/regexp/syntax/parse_test.go.html#7195290">t</a></span><span class="op" id="7195603">.</span><span class="ident" id="7195604">Errorf</span><span class="op" id="7195610">(</span><span class="string" id="7195611">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7195645">,</span>&nbsp;<span class="ident" id="7195647"><a href="/regexp/syntax/parse_test.go.html#7195346">tt</a></span><span class="op" id="7195649">.</span><span class="ident" id="7195650">Regexp</span><span class="op" id="7195656">,</span>&nbsp;<span class="ident" id="7195658"><a href="/regexp/syntax/parse_test.go.html#7195565">d</a></span><span class="op" id="7195659">,</span>&nbsp;<span class="ident" id="7195661"><a href="/regexp/syntax/parse_test.go.html#7195346">tt</a></span><span class="op" id="7195663">.</span><span class="ident" id="7195664">Dump</span><span class="op" id="7195668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7195672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7195675">}</span><br>
<span class="lineno"></span><span class="op" id="7195677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="7195680">//&nbsp;dump&nbsp;prints&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;regexp&nbsp;showing</span><br>
<span class="lineno"></span><span class="comment" id="7195741">//&nbsp;the&nbsp;structure&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="keyword" id="7195770">func</span>&nbsp;<span class="ident" id="7195775">dump</span><span class="op" id="7195779">(</span><span class="ident" id="7195780">re</span>&nbsp;<span class="op" id="7195783">*</span><span class="ident" id="7195784"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="7195790">)</span>&nbsp;<span class="builtintype" id="7195792">string</span>&nbsp;<span class="op" id="7195799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7195802">var</span>&nbsp;<span class="ident" id="7195806">b</span>&nbsp;<span class="ident" id="7195808"><a href="/regexp/syntax/parse_test.go.html#7187587">bytes</a></span><span class="op" id="7195813">.</span><span class="ident" id="7195814">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195822"><a href="/regexp/syntax/parse_test.go.html#7196578">dumpRegexp</a></span><span class="op" id="7195832">(</span><span class="op" id="7195833">&amp;</span><span class="ident" id="7195834"><a href="/regexp/syntax/parse_test.go.html#7195806">b</a></span><span class="op" id="7195835">,</span>&nbsp;<span class="ident" id="7195837"><a href="/regexp/syntax/parse_test.go.html#7195780">re</a></span><span class="op" id="7195839">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7195842">return</span>&nbsp;<span class="ident" id="7195849"><a href="/regexp/syntax/parse_test.go.html#7195806">b</a></span><span class="op" id="7195850">.</span><span class="ident" id="7195851">String</span><span class="op" id="7195857">(</span><span class="op" id="7195858">)</span><br>
<span class="lineno"></span><span class="op" id="7195860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7195863">var</span>&nbsp;<span class="ident" id="7195867">opNames</span>&nbsp;<span class="op" id="7195875">=</span>&nbsp;<span class="op" id="7195877">[</span><span class="op" id="7195878">]</span><span class="builtintype" id="7195879">string</span><span class="op" id="7195885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195888"><a href="/regexp/syntax/regexp.go.html#5505965">OpNoMatch</a></span><span class="op" id="7195897">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7195906">&#34;no&#34;</span><span class="op" id="7195910">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195913"><a href="/regexp/syntax/regexp.go.html#5506019">OpEmptyMatch</a></span><span class="op" id="7195925">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7195931">&#34;emp&#34;</span><span class="op" id="7195936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195939"><a href="/regexp/syntax/regexp.go.html#5506075">OpLiteral</a></span><span class="op" id="7195948">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7195957">&#34;lit&#34;</span><span class="op" id="7195962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195965"><a href="/regexp/syntax/regexp.go.html#5506133">OpCharClass</a></span><span class="op" id="7195976">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7195983">&#34;cc&#34;</span><span class="op" id="7195987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195990"><a href="/regexp/syntax/regexp.go.html#5506213">OpAnyCharNotNL</a></span><span class="op" id="7196004">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7196008">&#34;dnl&#34;</span><span class="op" id="7196013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196016"><a href="/regexp/syntax/regexp.go.html#5506285">OpAnyChar</a></span><span class="op" id="7196025">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196034">&#34;dot&#34;</span><span class="op" id="7196039">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196042"><a href="/regexp/syntax/regexp.go.html#5506342">OpBeginLine</a></span><span class="op" id="7196053">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196060">&#34;bol&#34;</span><span class="op" id="7196065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196068"><a href="/regexp/syntax/regexp.go.html#5506419">OpEndLine</a></span><span class="op" id="7196077">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196086">&#34;eol&#34;</span><span class="op" id="7196091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196094"><a href="/regexp/syntax/regexp.go.html#5506490">OpBeginText</a></span><span class="op" id="7196105">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196112">&#34;bot&#34;</span><span class="op" id="7196117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196120"><a href="/regexp/syntax/regexp.go.html#5506567">OpEndText</a></span><span class="op" id="7196129">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196138">&#34;eot&#34;</span><span class="op" id="7196143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196146"><a href="/regexp/syntax/regexp.go.html#5506638">OpWordBoundary</a></span><span class="op" id="7196160">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7196164">&#34;wb&#34;</span><span class="op" id="7196168">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196171"><a href="/regexp/syntax/regexp.go.html#5506700">OpNoWordBoundary</a></span><span class="op" id="7196187">:</span>&nbsp;<span class="string" id="7196189">&#34;nwb&#34;</span><span class="op" id="7196194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196197"><a href="/regexp/syntax/regexp.go.html#5506766">OpCapture</a></span><span class="op" id="7196206">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196215">&#34;cap&#34;</span><span class="op" id="7196220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196223"><a href="/regexp/syntax/regexp.go.html#5506860">OpStar</a></span><span class="op" id="7196229">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196241">&#34;star&#34;</span><span class="op" id="7196247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196250"><a href="/regexp/syntax/regexp.go.html#5506929">OpPlus</a></span><span class="op" id="7196256">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196268">&#34;plus&#34;</span><span class="op" id="7196274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196277"><a href="/regexp/syntax/regexp.go.html#5506997">OpQuest</a></span><span class="op" id="7196284">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196295">&#34;que&#34;</span><span class="op" id="7196300">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196303"><a href="/regexp/syntax/regexp.go.html#5507065">OpRepeat</a></span><span class="op" id="7196311">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196321">&#34;rep&#34;</span><span class="op" id="7196326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196329"><a href="/regexp/syntax/regexp.go.html#5507171">OpConcat</a></span><span class="op" id="7196337">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196347">&#34;cat&#34;</span><span class="op" id="7196352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196355"><a href="/regexp/syntax/regexp.go.html#5507236">OpAlternate</a></span><span class="op" id="7196366">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7196373">&#34;alt&#34;</span><span class="op" id="7196378">,</span><br>
<span class="lineno"></span><span class="op" id="7196380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="7196383">//&nbsp;dumpRegexp&nbsp;writes&nbsp;an&nbsp;encoding&nbsp;of&nbsp;the&nbsp;syntax&nbsp;tree&nbsp;for&nbsp;the&nbsp;regexp&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="7196459">//&nbsp;It&nbsp;is&nbsp;used&nbsp;during&nbsp;testing&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;parses&nbsp;that&nbsp;might&nbsp;print</span><br>
<span class="lineno"></span><span class="comment" id="7196535">//&nbsp;the&nbsp;same&nbsp;using&nbsp;re&#39;s&nbsp;String&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="7196573">func</span>&nbsp;<span class="ident" id="7196578">dumpRegexp</span><span class="op" id="7196588">(</span><span class="ident" id="7196589">b</span>&nbsp;<span class="op" id="7196591">*</span><span class="ident" id="7196592"><a href="/regexp/syntax/parse_test.go.html#7187587">bytes</a></span><span class="op" id="7196597">.</span><span class="ident" id="7196598">Buffer</span><span class="op" id="7196604">,</span>&nbsp;<span class="ident" id="7196606">re</span>&nbsp;<span class="op" id="7196609">*</span><span class="ident" id="7196610"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="7196616">)</span>&nbsp;<span class="op" id="7196618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196621">if</span>&nbsp;<span class="builtintype" id="7196624">int</span><span class="op" id="7196627">(</span><span class="ident" id="7196628"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7196630">.</span><span class="ident" id="7196631">Op</span><span class="op" id="7196633">)</span>&nbsp;<span class="op" id="7196635">&gt;=</span>&nbsp;<span class="builtinfunc" id="7196638">len</span><span class="op" id="7196641">(</span><span class="ident" id="7196642"><a href="/regexp/syntax/parse_test.go.html#7195867">opNames</a></span><span class="op" id="7196649">)</span>&nbsp;<span class="op" id="7196651">||</span>&nbsp;<span class="ident" id="7196654"><a href="/regexp/syntax/parse_test.go.html#7195867">opNames</a></span><span class="op" id="7196661">[</span><span class="ident" id="7196662"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7196664">.</span><span class="ident" id="7196665">Op</span><span class="op" id="7196667">]</span>&nbsp;<span class="op" id="7196669">==</span>&nbsp;<span class="string" id="7196672">&#34;&#34;</span>&nbsp;<span class="op" id="7196675">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196679"><a href="/regexp/syntax/parse_test.go.html#7187596">fmt</a></span><span class="op" id="7196682">.</span><span class="ident" id="7196683">Fprintf</span><span class="op" id="7196690">(</span><span class="ident" id="7196691"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7196692">,</span>&nbsp;<span class="string" id="7196694">&#34;op%d&#34;</span><span class="op" id="7196700">,</span>&nbsp;<span class="ident" id="7196702"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7196704">.</span><span class="ident" id="7196705">Op</span><span class="op" id="7196707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7196710">}</span>&nbsp;<span class="keyword" id="7196712">else</span>&nbsp;<span class="op" id="7196717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196721">switch</span>&nbsp;<span class="ident" id="7196728"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7196730">.</span><span class="ident" id="7196731">Op</span>&nbsp;<span class="op" id="7196734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196738">default</span><span class="op" id="7196745">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196750"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7196751">.</span><span class="ident" id="7196752">WriteString</span><span class="op" id="7196763">(</span><span class="ident" id="7196764"><a href="/regexp/syntax/parse_test.go.html#7195867">opNames</a></span><span class="op" id="7196771">[</span><span class="ident" id="7196772"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7196774">.</span><span class="ident" id="7196775">Op</span><span class="op" id="7196777">]</span><span class="op" id="7196778">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196782">case</span>&nbsp;<span class="ident" id="7196787"><a href="/regexp/syntax/regexp.go.html#5506860">OpStar</a></span><span class="op" id="7196793">,</span>&nbsp;<span class="ident" id="7196795"><a href="/regexp/syntax/regexp.go.html#5506929">OpPlus</a></span><span class="op" id="7196801">,</span>&nbsp;<span class="ident" id="7196803"><a href="/regexp/syntax/regexp.go.html#5506997">OpQuest</a></span><span class="op" id="7196810">,</span>&nbsp;<span class="ident" id="7196812"><a href="/regexp/syntax/regexp.go.html#5507065">OpRepeat</a></span><span class="op" id="7196820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196825">if</span>&nbsp;<span class="ident" id="7196828"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7196830">.</span><span class="ident" id="7196831">Flags</span><span class="op" id="7196836">&amp;</span><span class="ident" id="7196837"><a href="/regexp/syntax/parse.go.html#5449964">NonGreedy</a></span>&nbsp;<span class="op" id="7196847">!=</span>&nbsp;<span class="num" id="7196850">0</span>&nbsp;<span class="op" id="7196852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196858"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7196859">.</span><span class="ident" id="7196860">WriteByte</span><span class="op" id="7196869">(</span><span class="string" id="7196870">&#39;n&#39;</span><span class="op" id="7196873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7196878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196883"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7196884">.</span><span class="ident" id="7196885">WriteString</span><span class="op" id="7196896">(</span><span class="ident" id="7196897"><a href="/regexp/syntax/parse_test.go.html#7195867">opNames</a></span><span class="op" id="7196904">[</span><span class="ident" id="7196905"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7196907">.</span><span class="ident" id="7196908">Op</span><span class="op" id="7196910">]</span><span class="op" id="7196911">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196915">case</span>&nbsp;<span class="ident" id="7196920"><a href="/regexp/syntax/regexp.go.html#5506075">OpLiteral</a></span><span class="op" id="7196929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196934">if</span>&nbsp;<span class="builtinfunc" id="7196937">len</span><span class="op" id="7196940">(</span><span class="ident" id="7196941"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7196943">.</span><span class="ident" id="7196944">Rune</span><span class="op" id="7196948">)</span>&nbsp;<span class="op" id="7196950">&gt;</span>&nbsp;<span class="num" id="7196952">1</span>&nbsp;<span class="op" id="7196954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196960"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7196961">.</span><span class="ident" id="7196962">WriteString</span><span class="op" id="7196973">(</span><span class="string" id="7196974">&#34;str&#34;</span><span class="op" id="7196979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7196984">}</span>&nbsp;<span class="keyword" id="7196986">else</span>&nbsp;<span class="op" id="7196991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196997"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7196998">.</span><span class="ident" id="7196999">WriteString</span><span class="op" id="7197010">(</span><span class="string" id="7197011">&#34;lit&#34;</span><span class="op" id="7197016">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197026">if</span>&nbsp;<span class="ident" id="7197029"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197031">.</span><span class="ident" id="7197032">Flags</span><span class="op" id="7197037">&amp;</span><span class="ident" id="7197038"><a href="/regexp/syntax/parse.go.html#5449575">FoldCase</a></span>&nbsp;<span class="op" id="7197047">!=</span>&nbsp;<span class="num" id="7197050">0</span>&nbsp;<span class="op" id="7197052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197058">for</span>&nbsp;<span class="ident" id="7197062">_</span><span class="op" id="7197063">,</span>&nbsp;<span class="ident" id="7197065">r</span>&nbsp;<span class="op" id="7197067">:=</span>&nbsp;<span class="keyword" id="7197070">range</span>&nbsp;<span class="ident" id="7197076"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197078">.</span><span class="ident" id="7197079">Rune</span>&nbsp;<span class="op" id="7197084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197091">if</span>&nbsp;<span class="ident" id="7197094"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7197101">.</span><span class="ident" id="7197102">SimpleFold</span><span class="op" id="7197112">(</span><span class="ident" id="7197113"><a href="/regexp/syntax/parse_test.go.html#7197065">r</a></span><span class="op" id="7197114">)</span>&nbsp;<span class="op" id="7197116">!=</span>&nbsp;<span class="ident" id="7197119"><a href="/regexp/syntax/parse_test.go.html#7197065">r</a></span>&nbsp;<span class="op" id="7197121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197129"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197130">.</span><span class="ident" id="7197131">WriteString</span><span class="op" id="7197142">(</span><span class="string" id="7197143">&#34;fold&#34;</span><span class="op" id="7197149">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197157">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197183">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197189"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197190">.</span><span class="ident" id="7197191">WriteByte</span><span class="op" id="7197200">(</span><span class="string" id="7197201">&#39;{&#39;</span><span class="op" id="7197204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197207">switch</span>&nbsp;<span class="ident" id="7197214"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197216">.</span><span class="ident" id="7197217">Op</span>&nbsp;<span class="op" id="7197220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197223">case</span>&nbsp;<span class="ident" id="7197228"><a href="/regexp/syntax/regexp.go.html#5506567">OpEndText</a></span><span class="op" id="7197237">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197241">if</span>&nbsp;<span class="ident" id="7197244"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197246">.</span><span class="ident" id="7197247">Flags</span><span class="op" id="7197252">&amp;</span><span class="ident" id="7197253"><a href="/regexp/syntax/parse.go.html#5450196">WasDollar</a></span>&nbsp;<span class="op" id="7197263">==</span>&nbsp;<span class="num" id="7197266">0</span>&nbsp;<span class="op" id="7197268">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197273"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197274">.</span><span class="ident" id="7197275">WriteString</span><span class="op" id="7197286">(</span><span class="string" id="7197287">`\z`</span><span class="op" id="7197291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197298">case</span>&nbsp;<span class="ident" id="7197303"><a href="/regexp/syntax/regexp.go.html#5506075">OpLiteral</a></span><span class="op" id="7197312">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197316">for</span>&nbsp;<span class="ident" id="7197320">_</span><span class="op" id="7197321">,</span>&nbsp;<span class="ident" id="7197323">r</span>&nbsp;<span class="op" id="7197325">:=</span>&nbsp;<span class="keyword" id="7197328">range</span>&nbsp;<span class="ident" id="7197334"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197336">.</span><span class="ident" id="7197337">Rune</span>&nbsp;<span class="op" id="7197342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197347"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197348">.</span><span class="ident" id="7197349">WriteRune</span><span class="op" id="7197358">(</span><span class="ident" id="7197359"><a href="/regexp/syntax/parse_test.go.html#7197323">r</a></span><span class="op" id="7197360">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197367">case</span>&nbsp;<span class="ident" id="7197372"><a href="/regexp/syntax/regexp.go.html#5507171">OpConcat</a></span><span class="op" id="7197380">,</span>&nbsp;<span class="ident" id="7197382"><a href="/regexp/syntax/regexp.go.html#5507236">OpAlternate</a></span><span class="op" id="7197393">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197397">for</span>&nbsp;<span class="ident" id="7197401">_</span><span class="op" id="7197402">,</span>&nbsp;<span class="ident" id="7197404">sub</span>&nbsp;<span class="op" id="7197408">:=</span>&nbsp;<span class="keyword" id="7197411">range</span>&nbsp;<span class="ident" id="7197417"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197419">.</span><span class="ident" id="7197420">Sub</span>&nbsp;<span class="op" id="7197424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197429"><a href="/regexp/syntax/parse_test.go.html#7196578">dumpRegexp</a></span><span class="op" id="7197439">(</span><span class="ident" id="7197440"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197441">,</span>&nbsp;<span class="ident" id="7197443"><a href="/regexp/syntax/parse_test.go.html#7197404">sub</a></span><span class="op" id="7197446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197450">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197453">case</span>&nbsp;<span class="ident" id="7197458"><a href="/regexp/syntax/regexp.go.html#5506860">OpStar</a></span><span class="op" id="7197464">,</span>&nbsp;<span class="ident" id="7197466"><a href="/regexp/syntax/regexp.go.html#5506929">OpPlus</a></span><span class="op" id="7197472">,</span>&nbsp;<span class="ident" id="7197474"><a href="/regexp/syntax/regexp.go.html#5506997">OpQuest</a></span><span class="op" id="7197481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197485"><a href="/regexp/syntax/parse_test.go.html#7196578">dumpRegexp</a></span><span class="op" id="7197495">(</span><span class="ident" id="7197496"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197497">,</span>&nbsp;<span class="ident" id="7197499"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197501">.</span><span class="ident" id="7197502">Sub</span><span class="op" id="7197505">[</span><span class="num" id="7197506">0</span><span class="op" id="7197507">]</span><span class="op" id="7197508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197511">case</span>&nbsp;<span class="ident" id="7197516"><a href="/regexp/syntax/regexp.go.html#5507065">OpRepeat</a></span><span class="op" id="7197524">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197528"><a href="/regexp/syntax/parse_test.go.html#7187596">fmt</a></span><span class="op" id="7197531">.</span><span class="ident" id="7197532">Fprintf</span><span class="op" id="7197539">(</span><span class="ident" id="7197540"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197541">,</span>&nbsp;<span class="string" id="7197543">&#34;%d,%d&nbsp;&#34;</span><span class="op" id="7197551">,</span>&nbsp;<span class="ident" id="7197553"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197555">.</span><span class="ident" id="7197556">Min</span><span class="op" id="7197559">,</span>&nbsp;<span class="ident" id="7197561"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197563">.</span><span class="ident" id="7197564">Max</span><span class="op" id="7197567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197571"><a href="/regexp/syntax/parse_test.go.html#7196578">dumpRegexp</a></span><span class="op" id="7197581">(</span><span class="ident" id="7197582"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197583">,</span>&nbsp;<span class="ident" id="7197585"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197587">.</span><span class="ident" id="7197588">Sub</span><span class="op" id="7197591">[</span><span class="num" id="7197592">0</span><span class="op" id="7197593">]</span><span class="op" id="7197594">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197597">case</span>&nbsp;<span class="ident" id="7197602"><a href="/regexp/syntax/regexp.go.html#5506766">OpCapture</a></span><span class="op" id="7197611">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197615">if</span>&nbsp;<span class="ident" id="7197618"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197620">.</span><span class="ident" id="7197621">Name</span>&nbsp;<span class="op" id="7197626">!=</span>&nbsp;<span class="string" id="7197629">&#34;&#34;</span>&nbsp;<span class="op" id="7197632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197637"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197638">.</span><span class="ident" id="7197639">WriteString</span><span class="op" id="7197650">(</span><span class="ident" id="7197651"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197653">.</span><span class="ident" id="7197654">Name</span><span class="op" id="7197658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197663"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197664">.</span><span class="ident" id="7197665">WriteByte</span><span class="op" id="7197674">(</span><span class="string" id="7197675">&#39;:&#39;</span><span class="op" id="7197678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197682">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197686"><a href="/regexp/syntax/parse_test.go.html#7196578">dumpRegexp</a></span><span class="op" id="7197696">(</span><span class="ident" id="7197697"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197698">,</span>&nbsp;<span class="ident" id="7197700"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197702">.</span><span class="ident" id="7197703">Sub</span><span class="op" id="7197706">[</span><span class="num" id="7197707">0</span><span class="op" id="7197708">]</span><span class="op" id="7197709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197712">case</span>&nbsp;<span class="ident" id="7197717"><a href="/regexp/syntax/regexp.go.html#5506133">OpCharClass</a></span><span class="op" id="7197728">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197732">sep</span>&nbsp;<span class="op" id="7197736">:=</span>&nbsp;<span class="string" id="7197739">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197744">for</span>&nbsp;<span class="ident" id="7197748">i</span>&nbsp;<span class="op" id="7197750">:=</span>&nbsp;<span class="num" id="7197753">0</span><span class="op" id="7197754">;</span>&nbsp;<span class="ident" id="7197756"><a href="/regexp/syntax/parse_test.go.html#7197748">i</a></span>&nbsp;<span class="op" id="7197758">&lt;</span>&nbsp;<span class="builtinfunc" id="7197760">len</span><span class="op" id="7197763">(</span><span class="ident" id="7197764"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197766">.</span><span class="ident" id="7197767">Rune</span><span class="op" id="7197771">)</span><span class="op" id="7197772">;</span>&nbsp;<span class="ident" id="7197774"><a href="/regexp/syntax/parse_test.go.html#7197748">i</a></span>&nbsp;<span class="op" id="7197776">+=</span>&nbsp;<span class="num" id="7197779">2</span>&nbsp;<span class="op" id="7197781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197786"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197787">.</span><span class="ident" id="7197788">WriteString</span><span class="op" id="7197799">(</span><span class="ident" id="7197800"><a href="/regexp/syntax/parse_test.go.html#7197732">sep</a></span><span class="op" id="7197803">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197808"><a href="/regexp/syntax/parse_test.go.html#7197732">sep</a></span>&nbsp;<span class="op" id="7197812">=</span>&nbsp;<span class="string" id="7197814">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197821">lo</span><span class="op" id="7197823">,</span>&nbsp;<span class="ident" id="7197825">hi</span>&nbsp;<span class="op" id="7197828">:=</span>&nbsp;<span class="ident" id="7197831"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197833">.</span><span class="ident" id="7197834">Rune</span><span class="op" id="7197838">[</span><span class="ident" id="7197839"><a href="/regexp/syntax/parse_test.go.html#7197748">i</a></span><span class="op" id="7197840">]</span><span class="op" id="7197841">,</span>&nbsp;<span class="ident" id="7197843"><a href="/regexp/syntax/parse_test.go.html#7196606">re</a></span><span class="op" id="7197845">.</span><span class="ident" id="7197846">Rune</span><span class="op" id="7197850">[</span><span class="ident" id="7197851"><a href="/regexp/syntax/parse_test.go.html#7197748">i</a></span><span class="op" id="7197852">+</span><span class="num" id="7197853">1</span><span class="op" id="7197854">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197859">if</span>&nbsp;<span class="ident" id="7197862"><a href="/regexp/syntax/parse_test.go.html#7197821">lo</a></span>&nbsp;<span class="op" id="7197865">==</span>&nbsp;<span class="ident" id="7197868"><a href="/regexp/syntax/parse_test.go.html#7197825">hi</a></span>&nbsp;<span class="op" id="7197871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197877"><a href="/regexp/syntax/parse_test.go.html#7187596">fmt</a></span><span class="op" id="7197880">.</span><span class="ident" id="7197881">Fprintf</span><span class="op" id="7197888">(</span><span class="ident" id="7197889"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197890">,</span>&nbsp;<span class="string" id="7197892">&#34;%#x&#34;</span><span class="op" id="7197897">,</span>&nbsp;<span class="ident" id="7197899"><a href="/regexp/syntax/parse_test.go.html#7197821">lo</a></span><span class="op" id="7197901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197906">}</span>&nbsp;<span class="keyword" id="7197908">else</span>&nbsp;<span class="op" id="7197913">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197919"><a href="/regexp/syntax/parse_test.go.html#7187596">fmt</a></span><span class="op" id="7197922">.</span><span class="ident" id="7197923">Fprintf</span><span class="op" id="7197930">(</span><span class="ident" id="7197931"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197932">,</span>&nbsp;<span class="string" id="7197934">&#34;%#x-%#x&#34;</span><span class="op" id="7197943">,</span>&nbsp;<span class="ident" id="7197945"><a href="/regexp/syntax/parse_test.go.html#7197821">lo</a></span><span class="op" id="7197947">,</span>&nbsp;<span class="ident" id="7197949"><a href="/regexp/syntax/parse_test.go.html#7197825">hi</a></span><span class="op" id="7197951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197966"><a href="/regexp/syntax/parse_test.go.html#7196589">b</a></span><span class="op" id="7197967">.</span><span class="ident" id="7197968">WriteByte</span><span class="op" id="7197977">(</span><span class="string" id="7197978">&#39;}&#39;</span><span class="op" id="7197981">)</span><br>
<span class="lineno">380</span><span class="op" id="7197983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7197986">func</span>&nbsp;<span class="ident" id="7197991">mkCharClass</span><span class="op" id="7198002">(</span><span class="ident" id="7198003">f</span>&nbsp;<span class="keyword" id="7198005">func</span><span class="op" id="7198009">(</span><span class="builtintype" id="7198010">rune</span><span class="op" id="7198014">)</span>&nbsp;<span class="builtintype" id="7198016">bool</span><span class="op" id="7198020">)</span>&nbsp;<span class="builtintype" id="7198022">string</span>&nbsp;<span class="op" id="7198029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198032">re</span>&nbsp;<span class="op" id="7198035">:=</span>&nbsp;<span class="op" id="7198038">&amp;</span><span class="ident" id="7198039"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="7198045">{</span><span class="ident" id="7198046">Op</span><span class="op" id="7198048">:</span>&nbsp;<span class="ident" id="7198050"><a href="/regexp/syntax/regexp.go.html#5506133">OpCharClass</a></span><span class="op" id="7198061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198064">lo</span>&nbsp;<span class="op" id="7198067">:=</span>&nbsp;<span class="builtintype" id="7198070">rune</span><span class="op" id="7198074">(</span><span class="op" id="7198075">-</span><span class="num" id="7198076">1</span><span class="op" id="7198077">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198080">for</span>&nbsp;<span class="ident" id="7198084">i</span>&nbsp;<span class="op" id="7198086">:=</span>&nbsp;<span class="builtintype" id="7198089">rune</span><span class="op" id="7198093">(</span><span class="num" id="7198094">0</span><span class="op" id="7198095">)</span><span class="op" id="7198096">;</span>&nbsp;<span class="ident" id="7198098"><a href="/regexp/syntax/parse_test.go.html#7198084">i</a></span>&nbsp;<span class="op" id="7198100">&lt;=</span>&nbsp;<span class="ident" id="7198103"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7198110">.</span><span class="ident" id="7198111">MaxRune</span><span class="op" id="7198118">;</span>&nbsp;<span class="ident" id="7198120"><a href="/regexp/syntax/parse_test.go.html#7198084">i</a></span><span class="op" id="7198121">++</span>&nbsp;<span class="op" id="7198124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198128">if</span>&nbsp;<span class="ident" id="7198131"><a href="/regexp/syntax/parse_test.go.html#7198003">f</a></span><span class="op" id="7198132">(</span><span class="ident" id="7198133"><a href="/regexp/syntax/parse_test.go.html#7198084">i</a></span><span class="op" id="7198134">)</span>&nbsp;<span class="op" id="7198136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198141">if</span>&nbsp;<span class="ident" id="7198144"><a href="/regexp/syntax/parse_test.go.html#7198064">lo</a></span>&nbsp;<span class="op" id="7198147">&lt;</span>&nbsp;<span class="num" id="7198149">0</span>&nbsp;<span class="op" id="7198151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198157"><a href="/regexp/syntax/parse_test.go.html#7198064">lo</a></span>&nbsp;<span class="op" id="7198160">=</span>&nbsp;<span class="ident" id="7198162"><a href="/regexp/syntax/parse_test.go.html#7198084">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198167">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198171">}</span>&nbsp;<span class="keyword" id="7198173">else</span>&nbsp;<span class="op" id="7198178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198183">if</span>&nbsp;<span class="ident" id="7198186"><a href="/regexp/syntax/parse_test.go.html#7198064">lo</a></span>&nbsp;<span class="op" id="7198189">&gt;=</span>&nbsp;<span class="num" id="7198192">0</span>&nbsp;<span class="op" id="7198194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198200"><a href="/regexp/syntax/parse_test.go.html#7198032">re</a></span><span class="op" id="7198202">.</span><span class="ident" id="7198203">Rune</span>&nbsp;<span class="op" id="7198208">=</span>&nbsp;<span class="builtinfunc" id="7198210">append</span><span class="op" id="7198216">(</span><span class="ident" id="7198217"><a href="/regexp/syntax/parse_test.go.html#7198032">re</a></span><span class="op" id="7198219">.</span><span class="ident" id="7198220">Rune</span><span class="op" id="7198224">,</span>&nbsp;<span class="ident" id="7198226"><a href="/regexp/syntax/parse_test.go.html#7198064">lo</a></span><span class="op" id="7198228">,</span>&nbsp;<span class="ident" id="7198230"><a href="/regexp/syntax/parse_test.go.html#7198084">i</a></span><span class="op" id="7198231">-</span><span class="num" id="7198232">1</span><span class="op" id="7198233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198239"><a href="/regexp/syntax/parse_test.go.html#7198064">lo</a></span>&nbsp;<span class="op" id="7198242">=</span>&nbsp;<span class="op" id="7198244">-</span><span class="num" id="7198245">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198250">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198260">if</span>&nbsp;<span class="ident" id="7198263"><a href="/regexp/syntax/parse_test.go.html#7198064">lo</a></span>&nbsp;<span class="op" id="7198266">&gt;=</span>&nbsp;<span class="num" id="7198269">0</span>&nbsp;<span class="op" id="7198271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198275"><a href="/regexp/syntax/parse_test.go.html#7198032">re</a></span><span class="op" id="7198277">.</span><span class="ident" id="7198278">Rune</span>&nbsp;<span class="op" id="7198283">=</span>&nbsp;<span class="builtinfunc" id="7198285">append</span><span class="op" id="7198291">(</span><span class="ident" id="7198292"><a href="/regexp/syntax/parse_test.go.html#7198032">re</a></span><span class="op" id="7198294">.</span><span class="ident" id="7198295">Rune</span><span class="op" id="7198299">,</span>&nbsp;<span class="ident" id="7198301"><a href="/regexp/syntax/parse_test.go.html#7198064">lo</a></span><span class="op" id="7198303">,</span>&nbsp;<span class="ident" id="7198305"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7198312">.</span><span class="ident" id="7198313">MaxRune</span><span class="op" id="7198320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198323">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198326">return</span>&nbsp;<span class="ident" id="7198333"><a href="/regexp/syntax/parse_test.go.html#7195775">dump</a></span><span class="op" id="7198337">(</span><span class="ident" id="7198338"><a href="/regexp/syntax/parse_test.go.html#7198032">re</a></span><span class="op" id="7198340">)</span><br>
<span class="lineno"></span><span class="op" id="7198342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7198345">func</span>&nbsp;<span class="ident" id="7198350">isUpperFold</span><span class="op" id="7198361">(</span><span class="ident" id="7198362">r</span>&nbsp;<span class="builtintype" id="7198364">rune</span><span class="op" id="7198368">)</span>&nbsp;<span class="builtintype" id="7198370">bool</span>&nbsp;<span class="op" id="7198375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198378">if</span>&nbsp;<span class="ident" id="7198381"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7198388">.</span><span class="ident" id="7198389">IsUpper</span><span class="op" id="7198396">(</span><span class="ident" id="7198397"><a href="/regexp/syntax/parse_test.go.html#7198362">r</a></span><span class="op" id="7198398">)</span>&nbsp;<span class="op" id="7198400">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198404">return</span>&nbsp;<span class="builtintype" id="7198411">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198420">c</span>&nbsp;<span class="op" id="7198422">:=</span>&nbsp;<span class="ident" id="7198425"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7198432">.</span><span class="ident" id="7198433">SimpleFold</span><span class="op" id="7198443">(</span><span class="ident" id="7198444"><a href="/regexp/syntax/parse_test.go.html#7198362">r</a></span><span class="op" id="7198445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198448">for</span>&nbsp;<span class="ident" id="7198452"><a href="/regexp/syntax/parse_test.go.html#7198420">c</a></span>&nbsp;<span class="op" id="7198454">!=</span>&nbsp;<span class="ident" id="7198457"><a href="/regexp/syntax/parse_test.go.html#7198362">r</a></span>&nbsp;<span class="op" id="7198459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198463">if</span>&nbsp;<span class="ident" id="7198466"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7198473">.</span><span class="ident" id="7198474">IsUpper</span><span class="op" id="7198481">(</span><span class="ident" id="7198482"><a href="/regexp/syntax/parse_test.go.html#7198420">c</a></span><span class="op" id="7198483">)</span>&nbsp;<span class="op" id="7198485">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198490">return</span>&nbsp;<span class="builtintype" id="7198497">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198508"><a href="/regexp/syntax/parse_test.go.html#7198420">c</a></span>&nbsp;<span class="op" id="7198510">=</span>&nbsp;<span class="ident" id="7198512"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7198519">.</span><span class="ident" id="7198520">SimpleFold</span><span class="op" id="7198530">(</span><span class="ident" id="7198531"><a href="/regexp/syntax/parse_test.go.html#7198420">c</a></span><span class="op" id="7198532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198538">return</span>&nbsp;<span class="builtintype" id="7198545">false</span><br>
<span class="lineno">415</span><span class="op" id="7198551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7198554">func</span>&nbsp;<span class="ident" id="7198559">TestFoldConstants</span><span class="op" id="7198576">(</span><span class="ident" id="7198577">t</span>&nbsp;<span class="op" id="7198579">*</span><span class="ident" id="7198580"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7198587">.</span><span class="ident" id="7198588">T</span><span class="op" id="7198589">)</span>&nbsp;<span class="op" id="7198591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198594">last</span>&nbsp;<span class="op" id="7198599">:=</span>&nbsp;<span class="builtintype" id="7198602">rune</span><span class="op" id="7198606">(</span><span class="op" id="7198607">-</span><span class="num" id="7198608">1</span><span class="op" id="7198609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198612">for</span>&nbsp;<span class="ident" id="7198616">i</span>&nbsp;<span class="op" id="7198618">:=</span>&nbsp;<span class="builtintype" id="7198621">rune</span><span class="op" id="7198625">(</span><span class="num" id="7198626">0</span><span class="op" id="7198627">)</span><span class="op" id="7198628">;</span>&nbsp;<span class="ident" id="7198630"><a href="/regexp/syntax/parse_test.go.html#7198616">i</a></span>&nbsp;<span class="op" id="7198632">&lt;=</span>&nbsp;<span class="ident" id="7198635"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7198642">.</span><span class="ident" id="7198643">MaxRune</span><span class="op" id="7198650">;</span>&nbsp;<span class="ident" id="7198652"><a href="/regexp/syntax/parse_test.go.html#7198616">i</a></span><span class="op" id="7198653">++</span>&nbsp;<span class="op" id="7198656">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198660">if</span>&nbsp;<span class="ident" id="7198663"><a href="/regexp/syntax/parse_test.go.html#7187614">unicode</a></span><span class="op" id="7198670">.</span><span class="ident" id="7198671">SimpleFold</span><span class="op" id="7198681">(</span><span class="ident" id="7198682"><a href="/regexp/syntax/parse_test.go.html#7198616">i</a></span><span class="op" id="7198683">)</span>&nbsp;<span class="op" id="7198685">==</span>&nbsp;<span class="ident" id="7198688"><a href="/regexp/syntax/parse_test.go.html#7198616">i</a></span>&nbsp;<span class="op" id="7198690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198695">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198710">if</span>&nbsp;<span class="ident" id="7198713"><a href="/regexp/syntax/parse_test.go.html#7198594">last</a></span>&nbsp;<span class="op" id="7198718">==</span>&nbsp;<span class="op" id="7198721">-</span><span class="num" id="7198722">1</span>&nbsp;<span class="op" id="7198724">&amp;&amp;</span>&nbsp;<span class="ident" id="7198727"><a href="/regexp/syntax/parse.go.html#5489415">minFold</a></span>&nbsp;<span class="op" id="7198735">!=</span>&nbsp;<span class="ident" id="7198738"><a href="/regexp/syntax/parse_test.go.html#7198616">i</a></span>&nbsp;<span class="op" id="7198740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198745"><a href="/regexp/syntax/parse_test.go.html#7198577">t</a></span><span class="op" id="7198746">.</span><span class="ident" id="7198747">Errorf</span><span class="op" id="7198753">(</span><span class="string" id="7198754">&#34;minFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7198781">,</span>&nbsp;<span class="ident" id="7198783"><a href="/regexp/syntax/parse.go.html#5489415">minFold</a></span><span class="op" id="7198790">,</span>&nbsp;<span class="ident" id="7198792"><a href="/regexp/syntax/parse_test.go.html#7198616">i</a></span><span class="op" id="7198793">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198801"><a href="/regexp/syntax/parse_test.go.html#7198594">last</a></span>&nbsp;<span class="op" id="7198806">=</span>&nbsp;<span class="ident" id="7198808"><a href="/regexp/syntax/parse_test.go.html#7198616">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198814">if</span>&nbsp;<span class="ident" id="7198817"><a href="/regexp/syntax/parse.go.html#5489433">maxFold</a></span>&nbsp;<span class="op" id="7198825">!=</span>&nbsp;<span class="ident" id="7198828"><a href="/regexp/syntax/parse_test.go.html#7198594">last</a></span>&nbsp;<span class="op" id="7198833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198837"><a href="/regexp/syntax/parse_test.go.html#7198577">t</a></span><span class="op" id="7198838">.</span><span class="ident" id="7198839">Errorf</span><span class="op" id="7198845">(</span><span class="string" id="7198846">&#34;maxFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7198873">,</span>&nbsp;<span class="ident" id="7198875"><a href="/regexp/syntax/parse.go.html#5489433">maxFold</a></span><span class="op" id="7198882">,</span>&nbsp;<span class="ident" id="7198884"><a href="/regexp/syntax/parse_test.go.html#7198594">last</a></span><span class="op" id="7198888">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198891">}</span><br>
<span class="lineno"></span><span class="op" id="7198893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7198896">func</span>&nbsp;<span class="ident" id="7198901">TestAppendRangeCollapse</span><span class="op" id="7198924">(</span><span class="ident" id="7198925">t</span>&nbsp;<span class="op" id="7198927">*</span><span class="ident" id="7198928"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7198935">.</span><span class="ident" id="7198936">T</span><span class="op" id="7198937">)</span>&nbsp;<span class="op" id="7198939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7198942">//&nbsp;AppendRange&nbsp;should&nbsp;collapse&nbsp;each&nbsp;of&nbsp;the&nbsp;new&nbsp;ranges</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7198997">//&nbsp;into&nbsp;the&nbsp;earlier&nbsp;ones&nbsp;(it&nbsp;looks&nbsp;back&nbsp;two&nbsp;ranges),&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7199059">//&nbsp;the&nbsp;slice&nbsp;never&nbsp;grows&nbsp;very&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7199097">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;calling&nbsp;cleanClass.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7199142">var</span>&nbsp;<span class="ident" id="7199146">r</span>&nbsp;<span class="op" id="7199148">[</span><span class="op" id="7199149">]</span><span class="builtintype" id="7199150">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7199156">for</span>&nbsp;<span class="ident" id="7199160">i</span>&nbsp;<span class="op" id="7199162">:=</span>&nbsp;<span class="builtintype" id="7199165">rune</span><span class="op" id="7199169">(</span><span class="string" id="7199170">&#39;A&#39;</span><span class="op" id="7199173">)</span><span class="op" id="7199174">;</span>&nbsp;<span class="ident" id="7199176"><a href="/regexp/syntax/parse_test.go.html#7199160">i</a></span>&nbsp;<span class="op" id="7199178">&lt;=</span>&nbsp;<span class="string" id="7199181">&#39;Z&#39;</span><span class="op" id="7199184">;</span>&nbsp;<span class="ident" id="7199186"><a href="/regexp/syntax/parse_test.go.html#7199160">i</a></span><span class="op" id="7199187">++</span>&nbsp;<span class="op" id="7199190">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199194"><a href="/regexp/syntax/parse_test.go.html#7199146">r</a></span>&nbsp;<span class="op" id="7199196">=</span>&nbsp;<span class="ident" id="7199198"><a href="/regexp/syntax/parse.go.html#5488785">appendRange</a></span><span class="op" id="7199209">(</span><span class="ident" id="7199210"><a href="/regexp/syntax/parse_test.go.html#7199146">r</a></span><span class="op" id="7199211">,</span>&nbsp;<span class="ident" id="7199213"><a href="/regexp/syntax/parse_test.go.html#7199160">i</a></span><span class="op" id="7199214">,</span>&nbsp;<span class="ident" id="7199216"><a href="/regexp/syntax/parse_test.go.html#7199160">i</a></span><span class="op" id="7199217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199221"><a href="/regexp/syntax/parse_test.go.html#7199146">r</a></span>&nbsp;<span class="op" id="7199223">=</span>&nbsp;<span class="ident" id="7199225"><a href="/regexp/syntax/parse.go.html#5488785">appendRange</a></span><span class="op" id="7199236">(</span><span class="ident" id="7199237"><a href="/regexp/syntax/parse_test.go.html#7199146">r</a></span><span class="op" id="7199238">,</span>&nbsp;<span class="ident" id="7199240"><a href="/regexp/syntax/parse_test.go.html#7199160">i</a></span><span class="op" id="7199241">+</span><span class="string" id="7199242">&#39;a&#39;</span><span class="op" id="7199245">-</span><span class="string" id="7199246">&#39;A&#39;</span><span class="op" id="7199249">,</span>&nbsp;<span class="ident" id="7199251"><a href="/regexp/syntax/parse_test.go.html#7199160">i</a></span><span class="op" id="7199252">+</span><span class="string" id="7199253">&#39;a&#39;</span><span class="op" id="7199256">-</span><span class="string" id="7199257">&#39;A&#39;</span><span class="op" id="7199260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7199266">if</span>&nbsp;<span class="builtintype" id="7199269">string</span><span class="op" id="7199275">(</span><span class="ident" id="7199276"><a href="/regexp/syntax/parse_test.go.html#7199146">r</a></span><span class="op" id="7199277">)</span>&nbsp;<span class="op" id="7199279">!=</span>&nbsp;<span class="string" id="7199282">&#34;AZaz&#34;</span>&nbsp;<span class="op" id="7199289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199293"><a href="/regexp/syntax/parse_test.go.html#7198925">t</a></span><span class="op" id="7199294">.</span><span class="ident" id="7199295">Errorf</span><span class="op" id="7199301">(</span><span class="string" id="7199302">&#34;appendRange&nbsp;interlaced&nbsp;A-Z&nbsp;a-z&nbsp;=&nbsp;%s,&nbsp;want&nbsp;AZaz&#34;</span><span class="op" id="7199350">,</span>&nbsp;<span class="builtintype" id="7199352">string</span><span class="op" id="7199358">(</span><span class="ident" id="7199359"><a href="/regexp/syntax/parse_test.go.html#7199146">r</a></span><span class="op" id="7199360">)</span><span class="op" id="7199361">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199364">}</span><br>
<span class="lineno"></span><span class="op" id="7199366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7199369">var</span>&nbsp;<span class="ident" id="7199373">invalidRegexps</span>&nbsp;<span class="op" id="7199388">=</span>&nbsp;<span class="op" id="7199390">[</span><span class="op" id="7199391">]</span><span class="builtintype" id="7199392">string</span><span class="op" id="7199398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199401">`(`</span><span class="op" id="7199404">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199407">`)`</span><span class="op" id="7199410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199413">`(a`</span><span class="op" id="7199417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199420">`a)`</span><span class="op" id="7199424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199427">`(a))`</span><span class="op" id="7199433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199436">`(a|b|`</span><span class="op" id="7199443">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199446">`a|b|)`</span><span class="op" id="7199453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199456">`(a|b|))`</span><span class="op" id="7199465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199468">`(a|b`</span><span class="op" id="7199474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199477">`a|b)`</span><span class="op" id="7199483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199486">`(a|b))`</span><span class="op" id="7199494">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199497">`[a-z`</span><span class="op" id="7199503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199506">`([a-z)`</span><span class="op" id="7199514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199517">`[a-z)`</span><span class="op" id="7199524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199527">`([a-z]))`</span><span class="op" id="7199537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199540">`x{1001}`</span><span class="op" id="7199549">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199552">`x{9876543210}`</span><span class="op" id="7199567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199570">`x{2,1}`</span><span class="op" id="7199578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199581">`x{1,9876543210}`</span><span class="op" id="7199598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199601">&#34;\xff&#34;</span><span class="op" id="7199607">,</span>&nbsp;<span class="comment" id="7199609">//&nbsp;Invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199627">&#34;[\xff]&#34;</span><span class="op" id="7199635">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199638">&#34;[\\\xff]&#34;</span><span class="op" id="7199648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199651">&#34;\\\xff&#34;</span><span class="op" id="7199659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199662">`(?P&lt;name&gt;a`</span><span class="op" id="7199674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199677">`(?P&lt;name&gt;`</span><span class="op" id="7199688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199691">`(?P&lt;name`</span><span class="op" id="7199701">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199704">`(?P&lt;x&nbsp;y&gt;a)`</span><span class="op" id="7199716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199719">`(?P&lt;&gt;a)`</span><span class="op" id="7199728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199731">`[a-Z]`</span><span class="op" id="7199738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199741">`(?i)[a-Z]`</span><span class="op" id="7199752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199755">`a{100000}`</span><span class="op" id="7199766">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199769">`a{100000,}`</span><span class="op" id="7199781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199784">&#34;((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}){2})&#34;</span><span class="op" id="7199837">,</span><br>
<span class="lineno"></span><span class="op" id="7199839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7199842">var</span>&nbsp;<span class="ident" id="7199846">onlyPerl</span>&nbsp;<span class="op" id="7199855">=</span>&nbsp;<span class="op" id="7199857">[</span><span class="op" id="7199858">]</span><span class="builtintype" id="7199859">string</span><span class="op" id="7199865">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199868">`[a-b-c]`</span><span class="op" id="7199877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199880">`\Qabc\E`</span><span class="op" id="7199889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199892">`\Q*+?{[\E`</span><span class="op" id="7199903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199906">`\Q\\E`</span><span class="op" id="7199913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199916">`\Q\\\E`</span><span class="op" id="7199924">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199927">`\Q\\\\E`</span><span class="op" id="7199936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199939">`\Q\\\\\E`</span><span class="op" id="7199949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199952">`(?:a)`</span><span class="op" id="7199959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199962">`(?P&lt;name&gt;a)`</span><span class="op" id="7199975">,</span><br>
<span class="lineno"></span><span class="op" id="7199977">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="7199980">var</span>&nbsp;<span class="ident" id="7199984">onlyPOSIX</span>&nbsp;<span class="op" id="7199994">=</span>&nbsp;<span class="op" id="7199996">[</span><span class="op" id="7199997">]</span><span class="builtintype" id="7199998">string</span><span class="op" id="7200004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200007">&#34;a++&#34;</span><span class="op" id="7200012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200015">&#34;a**&#34;</span><span class="op" id="7200020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200023">&#34;a?*&#34;</span><span class="op" id="7200028">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200031">&#34;a+*&#34;</span><span class="op" id="7200036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200039">&#34;a{1}*&#34;</span><span class="op" id="7200046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200049">&#34;.{1}{2}.{3}&#34;</span><span class="op" id="7200062">,</span><br>
<span class="lineno"></span><span class="op" id="7200064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="keyword" id="7200067">func</span>&nbsp;<span class="ident" id="7200072">TestParseInvalidRegexps</span><span class="op" id="7200095">(</span><span class="ident" id="7200096">t</span>&nbsp;<span class="op" id="7200098">*</span><span class="ident" id="7200099"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7200106">.</span><span class="ident" id="7200107">T</span><span class="op" id="7200108">)</span>&nbsp;<span class="op" id="7200110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200113">for</span>&nbsp;<span class="ident" id="7200117">_</span><span class="op" id="7200118">,</span>&nbsp;<span class="ident" id="7200120">regexp</span>&nbsp;<span class="op" id="7200127">:=</span>&nbsp;<span class="keyword" id="7200130">range</span>&nbsp;<span class="ident" id="7200136"><a href="/regexp/syntax/parse_test.go.html#7199373">invalidRegexps</a></span>&nbsp;<span class="op" id="7200151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200155">if</span>&nbsp;<span class="ident" id="7200158">re</span><span class="op" id="7200160">,</span>&nbsp;<span class="ident" id="7200162">err</span>&nbsp;<span class="op" id="7200166">:=</span>&nbsp;<span class="ident" id="7200169"><a href="/regexp/syntax/parse.go.html#5466736">Parse</a></span><span class="op" id="7200174">(</span><span class="ident" id="7200175"><a href="/regexp/syntax/parse_test.go.html#7200120">regexp</a></span><span class="op" id="7200181">,</span>&nbsp;<span class="ident" id="7200183"><a href="/regexp/syntax/parse.go.html#5450366">Perl</a></span><span class="op" id="7200187">)</span><span class="op" id="7200188">;</span>&nbsp;<span class="ident" id="7200190"><a href="/regexp/syntax/parse_test.go.html#7200162">err</a></span>&nbsp;<span class="op" id="7200194">==</span>&nbsp;<span class="ident" id="7200197">nil</span>&nbsp;<span class="op" id="7200201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200206"><a href="/regexp/syntax/parse_test.go.html#7200096">t</a></span><span class="op" id="7200207">.</span><span class="ident" id="7200208">Errorf</span><span class="op" id="7200214">(</span><span class="string" id="7200215">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7200258">,</span>&nbsp;<span class="ident" id="7200260"><a href="/regexp/syntax/parse_test.go.html#7200120">regexp</a></span><span class="op" id="7200266">,</span>&nbsp;<span class="ident" id="7200268"><a href="/regexp/syntax/parse_test.go.html#7195775">dump</a></span><span class="op" id="7200272">(</span><span class="ident" id="7200273"><a href="/regexp/syntax/parse_test.go.html#7200158">re</a></span><span class="op" id="7200275">)</span><span class="op" id="7200276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200280">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200284">if</span>&nbsp;<span class="ident" id="7200287">re</span><span class="op" id="7200289">,</span>&nbsp;<span class="ident" id="7200291">err</span>&nbsp;<span class="op" id="7200295">:=</span>&nbsp;<span class="ident" id="7200298"><a href="/regexp/syntax/parse.go.html#5466736">Parse</a></span><span class="op" id="7200303">(</span><span class="ident" id="7200304"><a href="/regexp/syntax/parse_test.go.html#7200120">regexp</a></span><span class="op" id="7200310">,</span>&nbsp;<span class="ident" id="7200312"><a href="/regexp/syntax/parse.go.html#5450455">POSIX</a></span><span class="op" id="7200317">)</span><span class="op" id="7200318">;</span>&nbsp;<span class="ident" id="7200320"><a href="/regexp/syntax/parse_test.go.html#7200291">err</a></span>&nbsp;<span class="op" id="7200324">==</span>&nbsp;<span class="ident" id="7200327">nil</span>&nbsp;<span class="op" id="7200331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200336"><a href="/regexp/syntax/parse_test.go.html#7200096">t</a></span><span class="op" id="7200337">.</span><span class="ident" id="7200338">Errorf</span><span class="op" id="7200344">(</span><span class="string" id="7200345">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7200389">,</span>&nbsp;<span class="ident" id="7200391"><a href="/regexp/syntax/parse_test.go.html#7200120">regexp</a></span><span class="op" id="7200397">,</span>&nbsp;<span class="ident" id="7200399"><a href="/regexp/syntax/parse_test.go.html#7195775">dump</a></span><span class="op" id="7200403">(</span><span class="ident" id="7200404"><a href="/regexp/syntax/parse_test.go.html#7200287">re</a></span><span class="op" id="7200406">)</span><span class="op" id="7200407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200417">for</span>&nbsp;<span class="ident" id="7200421">_</span><span class="op" id="7200422">,</span>&nbsp;<span class="ident" id="7200424">regexp</span>&nbsp;<span class="op" id="7200431">:=</span>&nbsp;<span class="keyword" id="7200434">range</span>&nbsp;<span class="ident" id="7200440"><a href="/regexp/syntax/parse_test.go.html#7199846">onlyPerl</a></span>&nbsp;<span class="op" id="7200449">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200453">if</span>&nbsp;<span class="ident" id="7200456">_</span><span class="op" id="7200457">,</span>&nbsp;<span class="ident" id="7200459">err</span>&nbsp;<span class="op" id="7200463">:=</span>&nbsp;<span class="ident" id="7200466"><a href="/regexp/syntax/parse.go.html#5466736">Parse</a></span><span class="op" id="7200471">(</span><span class="ident" id="7200472"><a href="/regexp/syntax/parse_test.go.html#7200424">regexp</a></span><span class="op" id="7200478">,</span>&nbsp;<span class="ident" id="7200480"><a href="/regexp/syntax/parse.go.html#5450366">Perl</a></span><span class="op" id="7200484">)</span><span class="op" id="7200485">;</span>&nbsp;<span class="ident" id="7200487"><a href="/regexp/syntax/parse_test.go.html#7200459">err</a></span>&nbsp;<span class="op" id="7200491">!=</span>&nbsp;<span class="ident" id="7200494">nil</span>&nbsp;<span class="op" id="7200498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200503"><a href="/regexp/syntax/parse_test.go.html#7200096">t</a></span><span class="op" id="7200504">.</span><span class="ident" id="7200505">Errorf</span><span class="op" id="7200511">(</span><span class="string" id="7200512">&#34;Parse(%#q,&nbsp;Perl):&nbsp;%v&#34;</span><span class="op" id="7200534">,</span>&nbsp;<span class="ident" id="7200536"><a href="/regexp/syntax/parse_test.go.html#7200424">regexp</a></span><span class="op" id="7200542">,</span>&nbsp;<span class="ident" id="7200544"><a href="/regexp/syntax/parse_test.go.html#7200459">err</a></span><span class="op" id="7200547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200555">if</span>&nbsp;<span class="ident" id="7200558">re</span><span class="op" id="7200560">,</span>&nbsp;<span class="ident" id="7200562">err</span>&nbsp;<span class="op" id="7200566">:=</span>&nbsp;<span class="ident" id="7200569"><a href="/regexp/syntax/parse.go.html#5466736">Parse</a></span><span class="op" id="7200574">(</span><span class="ident" id="7200575"><a href="/regexp/syntax/parse_test.go.html#7200424">regexp</a></span><span class="op" id="7200581">,</span>&nbsp;<span class="ident" id="7200583"><a href="/regexp/syntax/parse.go.html#5450455">POSIX</a></span><span class="op" id="7200588">)</span><span class="op" id="7200589">;</span>&nbsp;<span class="ident" id="7200591"><a href="/regexp/syntax/parse_test.go.html#7200562">err</a></span>&nbsp;<span class="op" id="7200595">==</span>&nbsp;<span class="ident" id="7200598">nil</span>&nbsp;<span class="op" id="7200602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200607"><a href="/regexp/syntax/parse_test.go.html#7200096">t</a></span><span class="op" id="7200608">.</span><span class="ident" id="7200609">Errorf</span><span class="op" id="7200615">(</span><span class="string" id="7200616">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7200660">,</span>&nbsp;<span class="ident" id="7200662"><a href="/regexp/syntax/parse_test.go.html#7200424">regexp</a></span><span class="op" id="7200668">,</span>&nbsp;<span class="ident" id="7200670"><a href="/regexp/syntax/parse_test.go.html#7195775">dump</a></span><span class="op" id="7200674">(</span><span class="ident" id="7200675"><a href="/regexp/syntax/parse_test.go.html#7200558">re</a></span><span class="op" id="7200677">)</span><span class="op" id="7200678">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200688">for</span>&nbsp;<span class="ident" id="7200692">_</span><span class="op" id="7200693">,</span>&nbsp;<span class="ident" id="7200695">regexp</span>&nbsp;<span class="op" id="7200702">:=</span>&nbsp;<span class="keyword" id="7200705">range</span>&nbsp;<span class="ident" id="7200711"><a href="/regexp/syntax/parse_test.go.html#7199984">onlyPOSIX</a></span>&nbsp;<span class="op" id="7200721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200725">if</span>&nbsp;<span class="ident" id="7200728">re</span><span class="op" id="7200730">,</span>&nbsp;<span class="ident" id="7200732">err</span>&nbsp;<span class="op" id="7200736">:=</span>&nbsp;<span class="ident" id="7200739"><a href="/regexp/syntax/parse.go.html#5466736">Parse</a></span><span class="op" id="7200744">(</span><span class="ident" id="7200745"><a href="/regexp/syntax/parse_test.go.html#7200695">regexp</a></span><span class="op" id="7200751">,</span>&nbsp;<span class="ident" id="7200753"><a href="/regexp/syntax/parse.go.html#5450366">Perl</a></span><span class="op" id="7200757">)</span><span class="op" id="7200758">;</span>&nbsp;<span class="ident" id="7200760"><a href="/regexp/syntax/parse_test.go.html#7200732">err</a></span>&nbsp;<span class="op" id="7200764">==</span>&nbsp;<span class="ident" id="7200767">nil</span>&nbsp;<span class="op" id="7200771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200776"><a href="/regexp/syntax/parse_test.go.html#7200096">t</a></span><span class="op" id="7200777">.</span><span class="ident" id="7200778">Errorf</span><span class="op" id="7200784">(</span><span class="string" id="7200785">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7200828">,</span>&nbsp;<span class="ident" id="7200830"><a href="/regexp/syntax/parse_test.go.html#7200695">regexp</a></span><span class="op" id="7200836">,</span>&nbsp;<span class="ident" id="7200838"><a href="/regexp/syntax/parse_test.go.html#7195775">dump</a></span><span class="op" id="7200842">(</span><span class="ident" id="7200843"><a href="/regexp/syntax/parse_test.go.html#7200728">re</a></span><span class="op" id="7200845">)</span><span class="op" id="7200846">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200854">if</span>&nbsp;<span class="ident" id="7200857">_</span><span class="op" id="7200858">,</span>&nbsp;<span class="ident" id="7200860">err</span>&nbsp;<span class="op" id="7200864">:=</span>&nbsp;<span class="ident" id="7200867"><a href="/regexp/syntax/parse.go.html#5466736">Parse</a></span><span class="op" id="7200872">(</span><span class="ident" id="7200873"><a href="/regexp/syntax/parse_test.go.html#7200695">regexp</a></span><span class="op" id="7200879">,</span>&nbsp;<span class="ident" id="7200881"><a href="/regexp/syntax/parse.go.html#5450455">POSIX</a></span><span class="op" id="7200886">)</span><span class="op" id="7200887">;</span>&nbsp;<span class="ident" id="7200889"><a href="/regexp/syntax/parse_test.go.html#7200860">err</a></span>&nbsp;<span class="op" id="7200893">!=</span>&nbsp;<span class="ident" id="7200896">nil</span>&nbsp;<span class="op" id="7200900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200905"><a href="/regexp/syntax/parse_test.go.html#7200096">t</a></span><span class="op" id="7200906">.</span><span class="ident" id="7200907">Errorf</span><span class="op" id="7200913">(</span><span class="string" id="7200914">&#34;Parse(%#q,&nbsp;POSIX):&nbsp;%v&#34;</span><span class="op" id="7200937">,</span>&nbsp;<span class="ident" id="7200939"><a href="/regexp/syntax/parse_test.go.html#7200695">regexp</a></span><span class="op" id="7200945">,</span>&nbsp;<span class="ident" id="7200947"><a href="/regexp/syntax/parse_test.go.html#7200860">err</a></span><span class="op" id="7200950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200957">}</span><br>
<span class="lineno">530</span><span class="op" id="7200959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7200962">func</span>&nbsp;<span class="ident" id="7200967">TestToStringEquivalentParse</span><span class="op" id="7200994">(</span><span class="ident" id="7200995">t</span>&nbsp;<span class="op" id="7200997">*</span><span class="ident" id="7200998"><a href="/regexp/syntax/parse_test.go.html#7187603">testing</a></span><span class="op" id="7201005">.</span><span class="ident" id="7201006">T</span><span class="op" id="7201007">)</span>&nbsp;<span class="op" id="7201009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201012">for</span>&nbsp;<span class="ident" id="7201016">_</span><span class="op" id="7201017">,</span>&nbsp;<span class="ident" id="7201019">tt</span>&nbsp;<span class="op" id="7201022">:=</span>&nbsp;<span class="keyword" id="7201025">range</span>&nbsp;<span class="ident" id="7201031"><a href="/regexp/syntax/parse_test.go.html#7187688">parseTests</a></span>&nbsp;<span class="op" id="7201042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201046">re</span><span class="op" id="7201048">,</span>&nbsp;<span class="ident" id="7201050">err</span>&nbsp;<span class="op" id="7201054">:=</span>&nbsp;<span class="ident" id="7201057"><a href="/regexp/syntax/parse.go.html#5466736">Parse</a></span><span class="op" id="7201062">(</span><span class="ident" id="7201063"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7201065">.</span><span class="ident" id="7201066">Regexp</span><span class="op" id="7201072">,</span>&nbsp;<span class="ident" id="7201074"><a href="/regexp/syntax/parse_test.go.html#7193989">testFlags</a></span><span class="op" id="7201083">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201087">if</span>&nbsp;<span class="ident" id="7201090"><a href="/regexp/syntax/parse_test.go.html#7201050">err</a></span>&nbsp;<span class="op" id="7201094">!=</span>&nbsp;<span class="ident" id="7201097">nil</span>&nbsp;<span class="op" id="7201101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201106"><a href="/regexp/syntax/parse_test.go.html#7200995">t</a></span><span class="op" id="7201107">.</span><span class="ident" id="7201108">Errorf</span><span class="op" id="7201114">(</span><span class="string" id="7201115">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7201131">,</span>&nbsp;<span class="ident" id="7201133"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7201135">.</span><span class="ident" id="7201136">Regexp</span><span class="op" id="7201142">,</span>&nbsp;<span class="ident" id="7201144"><a href="/regexp/syntax/parse_test.go.html#7201050">err</a></span><span class="op" id="7201147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201152">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201167">if</span>&nbsp;<span class="ident" id="7201170"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7201172">.</span><span class="ident" id="7201173">Dump</span>&nbsp;<span class="op" id="7201178">==</span>&nbsp;<span class="string" id="7201181">&#34;&#34;</span>&nbsp;<span class="op" id="7201184">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201189">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201232">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201247">d</span>&nbsp;<span class="op" id="7201249">:=</span>&nbsp;<span class="ident" id="7201252"><a href="/regexp/syntax/parse_test.go.html#7195775">dump</a></span><span class="op" id="7201256">(</span><span class="ident" id="7201257"><a href="/regexp/syntax/parse_test.go.html#7201046">re</a></span><span class="op" id="7201259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201263">if</span>&nbsp;<span class="ident" id="7201266"><a href="/regexp/syntax/parse_test.go.html#7201247">d</a></span>&nbsp;<span class="op" id="7201268">!=</span>&nbsp;<span class="ident" id="7201271"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7201273">.</span><span class="ident" id="7201274">Dump</span>&nbsp;<span class="op" id="7201279">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201284"><a href="/regexp/syntax/parse_test.go.html#7200995">t</a></span><span class="op" id="7201285">.</span><span class="ident" id="7201286">Errorf</span><span class="op" id="7201292">(</span><span class="string" id="7201293">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7201327">,</span>&nbsp;<span class="ident" id="7201329"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7201331">.</span><span class="ident" id="7201332">Regexp</span><span class="op" id="7201338">,</span>&nbsp;<span class="ident" id="7201340"><a href="/regexp/syntax/parse_test.go.html#7201247">d</a></span><span class="op" id="7201341">,</span>&nbsp;<span class="ident" id="7201343"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7201345">.</span><span class="ident" id="7201346">Dump</span><span class="op" id="7201350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201355">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201371">s</span>&nbsp;<span class="op" id="7201373">:=</span>&nbsp;<span class="ident" id="7201376"><a href="/regexp/syntax/parse_test.go.html#7201046">re</a></span><span class="op" id="7201378">.</span><span class="ident" id="7201379">String</span><span class="op" id="7201385">(</span><span class="op" id="7201386">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201390">if</span>&nbsp;<span class="ident" id="7201393"><a href="/regexp/syntax/parse_test.go.html#7201371">s</a></span>&nbsp;<span class="op" id="7201395">!=</span>&nbsp;<span class="ident" id="7201398"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7201400">.</span><span class="ident" id="7201401">Regexp</span>&nbsp;<span class="op" id="7201408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201413">//&nbsp;If&nbsp;ToString&nbsp;didn&#39;t&nbsp;return&nbsp;the&nbsp;original&nbsp;regexp,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201466">//&nbsp;it&nbsp;must&nbsp;have&nbsp;found&nbsp;one&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201514">//&nbsp;Unfortunately&nbsp;we&nbsp;can&#39;t&nbsp;check&nbsp;the&nbsp;length&nbsp;here,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201574">//&nbsp;ToString&nbsp;produces&nbsp;&#34;\\{&#34;&nbsp;for&nbsp;a&nbsp;literal&nbsp;brace,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201625">//&nbsp;but&nbsp;&#34;{&#34;&nbsp;is&nbsp;a&nbsp;shorter&nbsp;equivalent&nbsp;in&nbsp;some&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201681">nre</span><span class="op" id="7201684">,</span>&nbsp;<span class="ident" id="7201686">err</span>&nbsp;<span class="op" id="7201690">:=</span>&nbsp;<span class="ident" id="7201693"><a href="/regexp/syntax/parse.go.html#5466736">Parse</a></span><span class="op" id="7201698">(</span><span class="ident" id="7201699"><a href="/regexp/syntax/parse_test.go.html#7201371">s</a></span><span class="op" id="7201700">,</span>&nbsp;<span class="ident" id="7201702"><a href="/regexp/syntax/parse_test.go.html#7193989">testFlags</a></span><span class="op" id="7201711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201716">if</span>&nbsp;<span class="ident" id="7201719"><a href="/regexp/syntax/parse_test.go.html#7201686">err</a></span>&nbsp;<span class="op" id="7201723">!=</span>&nbsp;<span class="ident" id="7201726">nil</span>&nbsp;<span class="op" id="7201730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201736"><a href="/regexp/syntax/parse_test.go.html#7200995">t</a></span><span class="op" id="7201737">.</span><span class="ident" id="7201738">Errorf</span><span class="op" id="7201744">(</span><span class="string" id="7201745">&#34;Parse(%#q.String()&nbsp;=&nbsp;%#q):&nbsp;%v&#34;</span><span class="op" id="7201776">,</span>&nbsp;<span class="ident" id="7201778"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7201780">.</span><span class="ident" id="7201781">Regexp</span><span class="op" id="7201787">,</span>&nbsp;<span class="ident" id="7201789"><a href="/regexp/syntax/parse_test.go.html#7201371">s</a></span><span class="op" id="7201790">,</span>&nbsp;<span class="ident" id="7201792"><a href="/regexp/syntax/parse_test.go.html#7201686">err</a></span><span class="op" id="7201795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201801">continue</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201818">nd</span>&nbsp;<span class="op" id="7201821">:=</span>&nbsp;<span class="ident" id="7201824"><a href="/regexp/syntax/parse_test.go.html#7195775">dump</a></span><span class="op" id="7201828">(</span><span class="ident" id="7201829"><a href="/regexp/syntax/parse_test.go.html#7201681">nre</a></span><span class="op" id="7201832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201837">if</span>&nbsp;<span class="ident" id="7201840"><a href="/regexp/syntax/parse_test.go.html#7201247">d</a></span>&nbsp;<span class="op" id="7201842">!=</span>&nbsp;<span class="ident" id="7201845"><a href="/regexp/syntax/parse_test.go.html#7201818">nd</a></span>&nbsp;<span class="op" id="7201848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201854"><a href="/regexp/syntax/parse_test.go.html#7200995">t</a></span><span class="op" id="7201855">.</span><span class="ident" id="7201856">Errorf</span><span class="op" id="7201862">(</span><span class="string" id="7201863">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q;&nbsp;%#q&nbsp;vs&nbsp;%#q&#34;</span><span class="op" id="7201894">,</span>&nbsp;<span class="ident" id="7201896"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7201898">.</span><span class="ident" id="7201899">Regexp</span><span class="op" id="7201905">,</span>&nbsp;<span class="ident" id="7201907"><a href="/regexp/syntax/parse_test.go.html#7201371">s</a></span><span class="op" id="7201908">,</span>&nbsp;<span class="ident" id="7201910"><a href="/regexp/syntax/parse_test.go.html#7201247">d</a></span><span class="op" id="7201911">,</span>&nbsp;<span class="ident" id="7201913"><a href="/regexp/syntax/parse_test.go.html#7201818">nd</a></span><span class="op" id="7201915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201920">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201926">ns</span>&nbsp;<span class="op" id="7201929">:=</span>&nbsp;<span class="ident" id="7201932"><a href="/regexp/syntax/parse_test.go.html#7201681">nre</a></span><span class="op" id="7201935">.</span><span class="ident" id="7201936">String</span><span class="op" id="7201942">(</span><span class="op" id="7201943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7201948">if</span>&nbsp;<span class="ident" id="7201951"><a href="/regexp/syntax/parse_test.go.html#7201371">s</a></span>&nbsp;<span class="op" id="7201953">!=</span>&nbsp;<span class="ident" id="7201956"><a href="/regexp/syntax/parse_test.go.html#7201926">ns</a></span>&nbsp;<span class="op" id="7201959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201965"><a href="/regexp/syntax/parse_test.go.html#7200995">t</a></span><span class="op" id="7201966">.</span><span class="ident" id="7201967">Errorf</span><span class="op" id="7201973">(</span><span class="string" id="7201974">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q&nbsp;-&gt;&nbsp;%#q&#34;</span><span class="op" id="7202000">,</span>&nbsp;<span class="ident" id="7202002"><a href="/regexp/syntax/parse_test.go.html#7201019">tt</a></span><span class="op" id="7202004">.</span><span class="ident" id="7202005">Regexp</span><span class="op" id="7202011">,</span>&nbsp;<span class="ident" id="7202013"><a href="/regexp/syntax/parse_test.go.html#7201371">s</a></span><span class="op" id="7202014">,</span>&nbsp;<span class="ident" id="7202016"><a href="/regexp/syntax/parse_test.go.html#7201926">ns</a></span><span class="op" id="7202018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202023">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202030">}</span><br>
<span class="lineno"></span><span class="op" id="7202032">}</span>
</div>
</body>
</html>
