<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6431961">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6432016">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6432070">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6432121">package</span>&nbsp;<span class="ident" id="6432129">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6432138">import</span>&nbsp;<span class="op" id="6432145">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6432148">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6432157">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6432164">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6432170">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6432181">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6432192">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6432207">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="6432210">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="6432285">type</span>&nbsp;<span class="ident" id="6432290">StringReader</span>&nbsp;<span class="keyword" id="6432303">struct</span>&nbsp;<span class="op" id="6432310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432313">data</span>&nbsp;<span class="op" id="6432318">[</span><span class="op" id="6432319">]</span><span class="builtintype" id="6432320">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432328">step</span>&nbsp;<span class="builtintype" id="6432333">int</span><br>
<span class="lineno">20</span><span class="op" id="6432337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6432340">func</span>&nbsp;<span class="op" id="6432345">(</span><span class="ident" id="6432346">r</span>&nbsp;<span class="op" id="6432348">*</span><span class="ident" id="6432349">StringReader</span><span class="op" id="6432361">)</span>&nbsp;<span class="ident" id="6432363">Read</span><span class="op" id="6432367">(</span><span class="ident" id="6432368">p</span>&nbsp;<span class="op" id="6432370">[</span><span class="op" id="6432371">]</span><span class="builtintype" id="6432372">byte</span><span class="op" id="6432376">)</span>&nbsp;<span class="op" id="6432378">(</span><span class="ident" id="6432379">n</span>&nbsp;<span class="builtintype" id="6432381">int</span><span class="op" id="6432384">,</span>&nbsp;<span class="ident" id="6432386">err</span>&nbsp;<span class="builtintype" id="6432390">error</span><span class="op" id="6432395">)</span>&nbsp;<span class="op" id="6432397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6432400">if</span>&nbsp;<span class="ident" id="6432403">r</span><span class="op" id="6432404">.</span><span class="ident" id="6432405">step</span>&nbsp;<span class="op" id="6432410">&lt;</span>&nbsp;<span class="builtinfunc" id="6432412">len</span><span class="op" id="6432415">(</span><span class="ident" id="6432416">r</span><span class="op" id="6432417">.</span><span class="ident" id="6432418">data</span><span class="op" id="6432422">)</span>&nbsp;<span class="op" id="6432424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432428">s</span>&nbsp;<span class="op" id="6432430">:=</span>&nbsp;<span class="ident" id="6432433">r</span><span class="op" id="6432434">.</span><span class="ident" id="6432435">data</span><span class="op" id="6432439">[</span><span class="ident" id="6432440">r</span><span class="op" id="6432441">.</span><span class="ident" id="6432442">step</span><span class="op" id="6432446">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432450">n</span>&nbsp;<span class="op" id="6432452">=</span>&nbsp;<span class="builtinfunc" id="6432454">copy</span><span class="op" id="6432458">(</span><span class="ident" id="6432459">p</span><span class="op" id="6432460">,</span>&nbsp;<span class="ident" id="6432462">s</span><span class="op" id="6432463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432467">r</span><span class="op" id="6432468">.</span><span class="ident" id="6432469">step</span><span class="op" id="6432473">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432477">}</span>&nbsp;<span class="keyword" id="6432479">else</span>&nbsp;<span class="op" id="6432484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432488">err</span>&nbsp;<span class="op" id="6432492">=</span>&nbsp;<span class="ident" id="6432494">io</span><span class="op" id="6432496">.</span><span class="ident" id="6432497">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432502">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6432505">return</span><br>
<span class="lineno"></span><span class="op" id="6432512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6432515">func</span>&nbsp;<span class="ident" id="6432520">readRuneSegments</span><span class="op" id="6432536">(</span><span class="ident" id="6432537">t</span>&nbsp;<span class="op" id="6432539">*</span><span class="ident" id="6432540">testing</span><span class="op" id="6432547">.</span><span class="ident" id="6432548">T</span><span class="op" id="6432549">,</span>&nbsp;<span class="ident" id="6432551">segments</span>&nbsp;<span class="op" id="6432560">[</span><span class="op" id="6432561">]</span><span class="builtintype" id="6432562">string</span><span class="op" id="6432568">)</span>&nbsp;<span class="op" id="6432570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432573">got</span>&nbsp;<span class="op" id="6432577">:=</span>&nbsp;<span class="string" id="6432580">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432584">want</span>&nbsp;<span class="op" id="6432589">:=</span>&nbsp;<span class="ident" id="6432592">strings</span><span class="op" id="6432599">.</span><span class="ident" id="6432600">Join</span><span class="op" id="6432604">(</span><span class="ident" id="6432605">segments</span><span class="op" id="6432613">,</span>&nbsp;<span class="string" id="6432615">&#34;&#34;</span><span class="op" id="6432617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432620">s</span>&nbsp;<span class="op" id="6432622">:=</span>&nbsp;<span class="builtinfunc" id="6432625">new</span><span class="op" id="6432628">(</span><span class="ident" id="6432629">Scanner</span><span class="op" id="6432636">)</span><span class="op" id="6432637">.</span><span class="ident" id="6432638">Init</span><span class="op" id="6432642">(</span><span class="op" id="6432643">&amp;</span><span class="ident" id="6432644">StringReader</span><span class="op" id="6432656">{</span><span class="ident" id="6432657">data</span><span class="op" id="6432661">:</span>&nbsp;<span class="ident" id="6432663">segments</span><span class="op" id="6432671">}</span><span class="op" id="6432672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6432675">for</span>&nbsp;<span class="op" id="6432679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432683">ch</span>&nbsp;<span class="op" id="6432686">:=</span>&nbsp;<span class="ident" id="6432689">s</span><span class="op" id="6432690">.</span><span class="ident" id="6432691">Next</span><span class="op" id="6432695">(</span><span class="op" id="6432696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6432700">if</span>&nbsp;<span class="ident" id="6432703">ch</span>&nbsp;<span class="op" id="6432706">==</span>&nbsp;<span class="ident" id="6432709">EOF</span>&nbsp;<span class="op" id="6432713">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6432718">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432730">got</span>&nbsp;<span class="op" id="6432734">+=</span>&nbsp;<span class="builtintype" id="6432737">string</span><span class="op" id="6432743">(</span><span class="ident" id="6432744">ch</span><span class="op" id="6432746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6432752">if</span>&nbsp;<span class="ident" id="6432755">got</span>&nbsp;<span class="op" id="6432759">!=</span>&nbsp;<span class="ident" id="6432762">want</span>&nbsp;<span class="op" id="6432767">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432771">t</span><span class="op" id="6432772">.</span><span class="ident" id="6432773">Errorf</span><span class="op" id="6432779">(</span><span class="string" id="6432780">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="6432808">,</span>&nbsp;<span class="ident" id="6432810">segments</span><span class="op" id="6432818">,</span>&nbsp;<span class="ident" id="6432820">got</span><span class="op" id="6432823">,</span>&nbsp;<span class="ident" id="6432825">want</span><span class="op" id="6432829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432832">}</span><br>
<span class="lineno"></span><span class="op" id="6432834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6432837">var</span>&nbsp;<span class="ident" id="6432841">segmentList</span>&nbsp;<span class="op" id="6432853">=</span>&nbsp;<span class="op" id="6432855">[</span><span class="op" id="6432856">]</span><span class="op" id="6432857">[</span><span class="op" id="6432858">]</span><span class="builtintype" id="6432859">string</span><span class="op" id="6432865">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432868">{</span><span class="op" id="6432869">}</span><span class="op" id="6432870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432873">{</span><span class="string" id="6432874">&#34;&#34;</span><span class="op" id="6432876">}</span><span class="op" id="6432877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432880">{</span><span class="string" id="6432881">&#34;日&#34;</span><span class="op" id="6432886">,</span>&nbsp;<span class="string" id="6432888">&#34;本語&#34;</span><span class="op" id="6432896">}</span><span class="op" id="6432897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432900">{</span><span class="string" id="6432901">&#34;\u65e5&#34;</span><span class="op" id="6432909">,</span>&nbsp;<span class="string" id="6432911">&#34;\u672c&#34;</span><span class="op" id="6432919">,</span>&nbsp;<span class="string" id="6432921">&#34;\u8a9e&#34;</span><span class="op" id="6432929">}</span><span class="op" id="6432930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432933">{</span><span class="string" id="6432934">&#34;\U000065e5&#34;</span><span class="op" id="6432946">,</span>&nbsp;<span class="string" id="6432948">&#34;&nbsp;&#34;</span><span class="op" id="6432951">,</span>&nbsp;<span class="string" id="6432953">&#34;\U0000672c&#34;</span><span class="op" id="6432965">,</span>&nbsp;<span class="string" id="6432967">&#34;\U00008a9e&#34;</span><span class="op" id="6432979">}</span><span class="op" id="6432980">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432983">{</span><span class="string" id="6432984">&#34;\xe6&#34;</span><span class="op" id="6432990">,</span>&nbsp;<span class="string" id="6432992">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="6433006">,</span>&nbsp;<span class="string" id="6433008">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="6433030">}</span><span class="op" id="6433031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433034">{</span><span class="string" id="6433035">&#34;Hello&#34;</span><span class="op" id="6433042">,</span>&nbsp;<span class="string" id="6433044">&#34;,&nbsp;&#34;</span><span class="op" id="6433048">,</span>&nbsp;<span class="string" id="6433050">&#34;World&#34;</span><span class="op" id="6433057">,</span>&nbsp;<span class="string" id="6433059">&#34;!&#34;</span><span class="op" id="6433062">}</span><span class="op" id="6433063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433066">{</span><span class="string" id="6433067">&#34;Hello&#34;</span><span class="op" id="6433074">,</span>&nbsp;<span class="string" id="6433076">&#34;,&nbsp;&#34;</span><span class="op" id="6433080">,</span>&nbsp;<span class="string" id="6433082">&#34;&#34;</span><span class="op" id="6433084">,</span>&nbsp;<span class="string" id="6433086">&#34;World&#34;</span><span class="op" id="6433093">,</span>&nbsp;<span class="string" id="6433095">&#34;!&#34;</span><span class="op" id="6433098">}</span><span class="op" id="6433099">,</span><br>
<span class="lineno"></span><span class="op" id="6433101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6433104">func</span>&nbsp;<span class="ident" id="6433109">TestNext</span><span class="op" id="6433117">(</span><span class="ident" id="6433118">t</span>&nbsp;<span class="op" id="6433120">*</span><span class="ident" id="6433121">testing</span><span class="op" id="6433128">.</span><span class="ident" id="6433129">T</span><span class="op" id="6433130">)</span>&nbsp;<span class="op" id="6433132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6433135">for</span>&nbsp;<span class="ident" id="6433139">_</span><span class="op" id="6433140">,</span>&nbsp;<span class="ident" id="6433142">s</span>&nbsp;<span class="op" id="6433144">:=</span>&nbsp;<span class="keyword" id="6433147">range</span>&nbsp;<span class="ident" id="6433153">segmentList</span>&nbsp;<span class="op" id="6433165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433169">readRuneSegments</span><span class="op" id="6433185">(</span><span class="ident" id="6433186">t</span><span class="op" id="6433187">,</span>&nbsp;<span class="ident" id="6433189">s</span><span class="op" id="6433190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433193">}</span><br>
<span class="lineno"></span><span class="op" id="6433195">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6433198">type</span>&nbsp;<span class="ident" id="6433203">token</span>&nbsp;<span class="keyword" id="6433209">struct</span>&nbsp;<span class="op" id="6433216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433219">tok</span>&nbsp;&nbsp;<span class="builtintype" id="6433224">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433230">text</span>&nbsp;<span class="builtintype" id="6433235">string</span><br>
<span class="lineno"></span><span class="op" id="6433242">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="6433245">var</span>&nbsp;<span class="ident" id="6433249">f100</span>&nbsp;<span class="op" id="6433254">=</span>&nbsp;<span class="string" id="6433256">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6433360">var</span>&nbsp;<span class="ident" id="6433364">tokenList</span>&nbsp;<span class="op" id="6433374">=</span>&nbsp;<span class="op" id="6433376">[</span><span class="op" id="6433377">]</span><span class="ident" id="6433378">token</span><span class="op" id="6433383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433386">{</span><span class="ident" id="6433387">Comment</span><span class="op" id="6433394">,</span>&nbsp;<span class="string" id="6433396">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="6433414">}</span><span class="op" id="6433415">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433418">{</span><span class="ident" id="6433419">Comment</span><span class="op" id="6433426">,</span>&nbsp;<span class="string" id="6433428">&#34;//&#34;</span><span class="op" id="6433432">}</span><span class="op" id="6433433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433436">{</span><span class="ident" id="6433437">Comment</span><span class="op" id="6433444">,</span>&nbsp;<span class="string" id="6433446">&#34;////&#34;</span><span class="op" id="6433452">}</span><span class="op" id="6433453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433456">{</span><span class="ident" id="6433457">Comment</span><span class="op" id="6433464">,</span>&nbsp;<span class="string" id="6433466">&#34;//&nbsp;comment&#34;</span><span class="op" id="6433478">}</span><span class="op" id="6433479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433482">{</span><span class="ident" id="6433483">Comment</span><span class="op" id="6433490">,</span>&nbsp;<span class="string" id="6433492">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6433510">}</span><span class="op" id="6433511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433514">{</span><span class="ident" id="6433515">Comment</span><span class="op" id="6433522">,</span>&nbsp;<span class="string" id="6433524">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="6433542">}</span><span class="op" id="6433543">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433546">{</span><span class="ident" id="6433547">Comment</span><span class="op" id="6433554">,</span>&nbsp;<span class="string" id="6433556">&#34;//&#34;</span>&nbsp;<span class="op" id="6433561">+</span>&nbsp;<span class="ident" id="6433563">f100</span><span class="op" id="6433567">}</span><span class="op" id="6433568">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433572">{</span><span class="ident" id="6433573">Comment</span><span class="op" id="6433580">,</span>&nbsp;<span class="string" id="6433582">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="6433603">}</span><span class="op" id="6433604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433607">{</span><span class="ident" id="6433608">Comment</span><span class="op" id="6433615">,</span>&nbsp;<span class="string" id="6433617">&#34;/**/&#34;</span><span class="op" id="6433623">}</span><span class="op" id="6433624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433627">{</span><span class="ident" id="6433628">Comment</span><span class="op" id="6433635">,</span>&nbsp;<span class="string" id="6433637">&#34;/***/&#34;</span><span class="op" id="6433644">}</span><span class="op" id="6433645">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433648">{</span><span class="ident" id="6433649">Comment</span><span class="op" id="6433656">,</span>&nbsp;<span class="string" id="6433658">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6433673">}</span><span class="op" id="6433674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433677">{</span><span class="ident" id="6433678">Comment</span><span class="op" id="6433685">,</span>&nbsp;<span class="string" id="6433687">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6433705">}</span><span class="op" id="6433706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433709">{</span><span class="ident" id="6433710">Comment</span><span class="op" id="6433717">,</span>&nbsp;<span class="string" id="6433719">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6433737">}</span><span class="op" id="6433738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433741">{</span><span class="ident" id="6433742">Comment</span><span class="op" id="6433749">,</span>&nbsp;<span class="string" id="6433751">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="6433769">}</span><span class="op" id="6433770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433773">{</span><span class="ident" id="6433774">Comment</span><span class="op" id="6433781">,</span>&nbsp;<span class="string" id="6433783">&#34;/*&#34;</span>&nbsp;<span class="op" id="6433788">+</span>&nbsp;<span class="ident" id="6433790">f100</span>&nbsp;<span class="op" id="6433795">+</span>&nbsp;<span class="string" id="6433797">&#34;*/&#34;</span><span class="op" id="6433801">}</span><span class="op" id="6433802">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433806">{</span><span class="ident" id="6433807">Comment</span><span class="op" id="6433814">,</span>&nbsp;<span class="string" id="6433816">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="6433832">}</span><span class="op" id="6433833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433836">{</span><span class="ident" id="6433837">Ident</span><span class="op" id="6433842">,</span>&nbsp;<span class="string" id="6433844">&#34;a&#34;</span><span class="op" id="6433847">}</span><span class="op" id="6433848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433851">{</span><span class="ident" id="6433852">Ident</span><span class="op" id="6433857">,</span>&nbsp;<span class="string" id="6433859">&#34;a0&#34;</span><span class="op" id="6433863">}</span><span class="op" id="6433864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433867">{</span><span class="ident" id="6433868">Ident</span><span class="op" id="6433873">,</span>&nbsp;<span class="string" id="6433875">&#34;foobar&#34;</span><span class="op" id="6433883">}</span><span class="op" id="6433884">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433887">{</span><span class="ident" id="6433888">Ident</span><span class="op" id="6433893">,</span>&nbsp;<span class="string" id="6433895">&#34;abc123&#34;</span><span class="op" id="6433903">}</span><span class="op" id="6433904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433907">{</span><span class="ident" id="6433908">Ident</span><span class="op" id="6433913">,</span>&nbsp;<span class="string" id="6433915">&#34;LGTM&#34;</span><span class="op" id="6433921">}</span><span class="op" id="6433922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433925">{</span><span class="ident" id="6433926">Ident</span><span class="op" id="6433931">,</span>&nbsp;<span class="string" id="6433933">&#34;_&#34;</span><span class="op" id="6433936">}</span><span class="op" id="6433937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433940">{</span><span class="ident" id="6433941">Ident</span><span class="op" id="6433946">,</span>&nbsp;<span class="string" id="6433948">&#34;_abc123&#34;</span><span class="op" id="6433957">}</span><span class="op" id="6433958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433961">{</span><span class="ident" id="6433962">Ident</span><span class="op" id="6433967">,</span>&nbsp;<span class="string" id="6433969">&#34;abc123_&#34;</span><span class="op" id="6433978">}</span><span class="op" id="6433979">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433982">{</span><span class="ident" id="6433983">Ident</span><span class="op" id="6433988">,</span>&nbsp;<span class="string" id="6433990">&#34;_abc_123_&#34;</span><span class="op" id="6434001">}</span><span class="op" id="6434002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434005">{</span><span class="ident" id="6434006">Ident</span><span class="op" id="6434011">,</span>&nbsp;<span class="string" id="6434013">&#34;_äöü&#34;</span><span class="op" id="6434022">}</span><span class="op" id="6434023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434026">{</span><span class="ident" id="6434027">Ident</span><span class="op" id="6434032">,</span>&nbsp;<span class="string" id="6434034">&#34;_本&#34;</span><span class="op" id="6434040">}</span><span class="op" id="6434041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434044">{</span><span class="ident" id="6434045">Ident</span><span class="op" id="6434050">,</span>&nbsp;<span class="string" id="6434052">&#34;äöü&#34;</span><span class="op" id="6434060">}</span><span class="op" id="6434061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434064">{</span><span class="ident" id="6434065">Ident</span><span class="op" id="6434070">,</span>&nbsp;<span class="string" id="6434072">&#34;本&#34;</span><span class="op" id="6434077">}</span><span class="op" id="6434078">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434081">{</span><span class="ident" id="6434082">Ident</span><span class="op" id="6434087">,</span>&nbsp;<span class="string" id="6434089">&#34;a۰۱۸&#34;</span><span class="op" id="6434098">}</span><span class="op" id="6434099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434102">{</span><span class="ident" id="6434103">Ident</span><span class="op" id="6434108">,</span>&nbsp;<span class="string" id="6434110">&#34;foo६४&#34;</span><span class="op" id="6434121">}</span><span class="op" id="6434122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434125">{</span><span class="ident" id="6434126">Ident</span><span class="op" id="6434131">,</span>&nbsp;<span class="string" id="6434133">&#34;bar９８７６&#34;</span><span class="op" id="6434150">}</span><span class="op" id="6434151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434154">{</span><span class="ident" id="6434155">Ident</span><span class="op" id="6434160">,</span>&nbsp;<span class="ident" id="6434162">f100</span><span class="op" id="6434166">}</span><span class="op" id="6434167">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434171">{</span><span class="ident" id="6434172">Comment</span><span class="op" id="6434179">,</span>&nbsp;<span class="string" id="6434181">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="6434198">}</span><span class="op" id="6434199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434202">{</span><span class="ident" id="6434203">Int</span><span class="op" id="6434206">,</span>&nbsp;<span class="string" id="6434208">&#34;0&#34;</span><span class="op" id="6434211">}</span><span class="op" id="6434212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434215">{</span><span class="ident" id="6434216">Int</span><span class="op" id="6434219">,</span>&nbsp;<span class="string" id="6434221">&#34;1&#34;</span><span class="op" id="6434224">}</span><span class="op" id="6434225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434228">{</span><span class="ident" id="6434229">Int</span><span class="op" id="6434232">,</span>&nbsp;<span class="string" id="6434234">&#34;9&#34;</span><span class="op" id="6434237">}</span><span class="op" id="6434238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434241">{</span><span class="ident" id="6434242">Int</span><span class="op" id="6434245">,</span>&nbsp;<span class="string" id="6434247">&#34;42&#34;</span><span class="op" id="6434251">}</span><span class="op" id="6434252">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434255">{</span><span class="ident" id="6434256">Int</span><span class="op" id="6434259">,</span>&nbsp;<span class="string" id="6434261">&#34;1234567890&#34;</span><span class="op" id="6434273">}</span><span class="op" id="6434274">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434278">{</span><span class="ident" id="6434279">Comment</span><span class="op" id="6434286">,</span>&nbsp;<span class="string" id="6434288">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="6434303">}</span><span class="op" id="6434304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434307">{</span><span class="ident" id="6434308">Int</span><span class="op" id="6434311">,</span>&nbsp;<span class="string" id="6434313">&#34;00&#34;</span><span class="op" id="6434317">}</span><span class="op" id="6434318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434321">{</span><span class="ident" id="6434322">Int</span><span class="op" id="6434325">,</span>&nbsp;<span class="string" id="6434327">&#34;01&#34;</span><span class="op" id="6434331">}</span><span class="op" id="6434332">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434335">{</span><span class="ident" id="6434336">Int</span><span class="op" id="6434339">,</span>&nbsp;<span class="string" id="6434341">&#34;07&#34;</span><span class="op" id="6434345">}</span><span class="op" id="6434346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434349">{</span><span class="ident" id="6434350">Int</span><span class="op" id="6434353">,</span>&nbsp;<span class="string" id="6434355">&#34;042&#34;</span><span class="op" id="6434360">}</span><span class="op" id="6434361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434364">{</span><span class="ident" id="6434365">Int</span><span class="op" id="6434368">,</span>&nbsp;<span class="string" id="6434370">&#34;01234567&#34;</span><span class="op" id="6434380">}</span><span class="op" id="6434381">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434385">{</span><span class="ident" id="6434386">Comment</span><span class="op" id="6434393">,</span>&nbsp;<span class="string" id="6434395">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="6434416">}</span><span class="op" id="6434417">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434420">{</span><span class="ident" id="6434421">Int</span><span class="op" id="6434424">,</span>&nbsp;<span class="string" id="6434426">&#34;0x0&#34;</span><span class="op" id="6434431">}</span><span class="op" id="6434432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434435">{</span><span class="ident" id="6434436">Int</span><span class="op" id="6434439">,</span>&nbsp;<span class="string" id="6434441">&#34;0x1&#34;</span><span class="op" id="6434446">}</span><span class="op" id="6434447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434450">{</span><span class="ident" id="6434451">Int</span><span class="op" id="6434454">,</span>&nbsp;<span class="string" id="6434456">&#34;0xf&#34;</span><span class="op" id="6434461">}</span><span class="op" id="6434462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434465">{</span><span class="ident" id="6434466">Int</span><span class="op" id="6434469">,</span>&nbsp;<span class="string" id="6434471">&#34;0x42&#34;</span><span class="op" id="6434477">}</span><span class="op" id="6434478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434481">{</span><span class="ident" id="6434482">Int</span><span class="op" id="6434485">,</span>&nbsp;<span class="string" id="6434487">&#34;0x123456789abcDEF&#34;</span><span class="op" id="6434506">}</span><span class="op" id="6434507">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434510">{</span><span class="ident" id="6434511">Int</span><span class="op" id="6434514">,</span>&nbsp;<span class="string" id="6434516">&#34;0x&#34;</span>&nbsp;<span class="op" id="6434521">+</span>&nbsp;<span class="ident" id="6434523">f100</span><span class="op" id="6434527">}</span><span class="op" id="6434528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434531">{</span><span class="ident" id="6434532">Int</span><span class="op" id="6434535">,</span>&nbsp;<span class="string" id="6434537">&#34;0X0&#34;</span><span class="op" id="6434542">}</span><span class="op" id="6434543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434546">{</span><span class="ident" id="6434547">Int</span><span class="op" id="6434550">,</span>&nbsp;<span class="string" id="6434552">&#34;0X1&#34;</span><span class="op" id="6434557">}</span><span class="op" id="6434558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434561">{</span><span class="ident" id="6434562">Int</span><span class="op" id="6434565">,</span>&nbsp;<span class="string" id="6434567">&#34;0XF&#34;</span><span class="op" id="6434572">}</span><span class="op" id="6434573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434576">{</span><span class="ident" id="6434577">Int</span><span class="op" id="6434580">,</span>&nbsp;<span class="string" id="6434582">&#34;0X42&#34;</span><span class="op" id="6434588">}</span><span class="op" id="6434589">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434592">{</span><span class="ident" id="6434593">Int</span><span class="op" id="6434596">,</span>&nbsp;<span class="string" id="6434598">&#34;0X123456789abcDEF&#34;</span><span class="op" id="6434617">}</span><span class="op" id="6434618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434621">{</span><span class="ident" id="6434622">Int</span><span class="op" id="6434625">,</span>&nbsp;<span class="string" id="6434627">&#34;0X&#34;</span>&nbsp;<span class="op" id="6434632">+</span>&nbsp;<span class="ident" id="6434634">f100</span><span class="op" id="6434638">}</span><span class="op" id="6434639">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434643">{</span><span class="ident" id="6434644">Comment</span><span class="op" id="6434651">,</span>&nbsp;<span class="string" id="6434653">&#34;//&nbsp;floats&#34;</span><span class="op" id="6434664">}</span><span class="op" id="6434665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434668">{</span><span class="ident" id="6434669">Float</span><span class="op" id="6434674">,</span>&nbsp;<span class="string" id="6434676">&#34;0.&#34;</span><span class="op" id="6434680">}</span><span class="op" id="6434681">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434684">{</span><span class="ident" id="6434685">Float</span><span class="op" id="6434690">,</span>&nbsp;<span class="string" id="6434692">&#34;1.&#34;</span><span class="op" id="6434696">}</span><span class="op" id="6434697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434700">{</span><span class="ident" id="6434701">Float</span><span class="op" id="6434706">,</span>&nbsp;<span class="string" id="6434708">&#34;42.&#34;</span><span class="op" id="6434713">}</span><span class="op" id="6434714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434717">{</span><span class="ident" id="6434718">Float</span><span class="op" id="6434723">,</span>&nbsp;<span class="string" id="6434725">&#34;01234567890.&#34;</span><span class="op" id="6434739">}</span><span class="op" id="6434740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434743">{</span><span class="ident" id="6434744">Float</span><span class="op" id="6434749">,</span>&nbsp;<span class="string" id="6434751">&#34;.0&#34;</span><span class="op" id="6434755">}</span><span class="op" id="6434756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434759">{</span><span class="ident" id="6434760">Float</span><span class="op" id="6434765">,</span>&nbsp;<span class="string" id="6434767">&#34;.1&#34;</span><span class="op" id="6434771">}</span><span class="op" id="6434772">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434775">{</span><span class="ident" id="6434776">Float</span><span class="op" id="6434781">,</span>&nbsp;<span class="string" id="6434783">&#34;.42&#34;</span><span class="op" id="6434788">}</span><span class="op" id="6434789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434792">{</span><span class="ident" id="6434793">Float</span><span class="op" id="6434798">,</span>&nbsp;<span class="string" id="6434800">&#34;.0123456789&#34;</span><span class="op" id="6434813">}</span><span class="op" id="6434814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434817">{</span><span class="ident" id="6434818">Float</span><span class="op" id="6434823">,</span>&nbsp;<span class="string" id="6434825">&#34;0.0&#34;</span><span class="op" id="6434830">}</span><span class="op" id="6434831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434834">{</span><span class="ident" id="6434835">Float</span><span class="op" id="6434840">,</span>&nbsp;<span class="string" id="6434842">&#34;1.0&#34;</span><span class="op" id="6434847">}</span><span class="op" id="6434848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434851">{</span><span class="ident" id="6434852">Float</span><span class="op" id="6434857">,</span>&nbsp;<span class="string" id="6434859">&#34;42.0&#34;</span><span class="op" id="6434865">}</span><span class="op" id="6434866">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434869">{</span><span class="ident" id="6434870">Float</span><span class="op" id="6434875">,</span>&nbsp;<span class="string" id="6434877">&#34;01234567890.0&#34;</span><span class="op" id="6434892">}</span><span class="op" id="6434893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434896">{</span><span class="ident" id="6434897">Float</span><span class="op" id="6434902">,</span>&nbsp;<span class="string" id="6434904">&#34;0e0&#34;</span><span class="op" id="6434909">}</span><span class="op" id="6434910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434913">{</span><span class="ident" id="6434914">Float</span><span class="op" id="6434919">,</span>&nbsp;<span class="string" id="6434921">&#34;1e0&#34;</span><span class="op" id="6434926">}</span><span class="op" id="6434927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434930">{</span><span class="ident" id="6434931">Float</span><span class="op" id="6434936">,</span>&nbsp;<span class="string" id="6434938">&#34;42e0&#34;</span><span class="op" id="6434944">}</span><span class="op" id="6434945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434948">{</span><span class="ident" id="6434949">Float</span><span class="op" id="6434954">,</span>&nbsp;<span class="string" id="6434956">&#34;01234567890e0&#34;</span><span class="op" id="6434971">}</span><span class="op" id="6434972">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434975">{</span><span class="ident" id="6434976">Float</span><span class="op" id="6434981">,</span>&nbsp;<span class="string" id="6434983">&#34;0E0&#34;</span><span class="op" id="6434988">}</span><span class="op" id="6434989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434992">{</span><span class="ident" id="6434993">Float</span><span class="op" id="6434998">,</span>&nbsp;<span class="string" id="6435000">&#34;1E0&#34;</span><span class="op" id="6435005">}</span><span class="op" id="6435006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435009">{</span><span class="ident" id="6435010">Float</span><span class="op" id="6435015">,</span>&nbsp;<span class="string" id="6435017">&#34;42E0&#34;</span><span class="op" id="6435023">}</span><span class="op" id="6435024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435027">{</span><span class="ident" id="6435028">Float</span><span class="op" id="6435033">,</span>&nbsp;<span class="string" id="6435035">&#34;01234567890E0&#34;</span><span class="op" id="6435050">}</span><span class="op" id="6435051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435054">{</span><span class="ident" id="6435055">Float</span><span class="op" id="6435060">,</span>&nbsp;<span class="string" id="6435062">&#34;0e+10&#34;</span><span class="op" id="6435069">}</span><span class="op" id="6435070">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435073">{</span><span class="ident" id="6435074">Float</span><span class="op" id="6435079">,</span>&nbsp;<span class="string" id="6435081">&#34;1e-10&#34;</span><span class="op" id="6435088">}</span><span class="op" id="6435089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435092">{</span><span class="ident" id="6435093">Float</span><span class="op" id="6435098">,</span>&nbsp;<span class="string" id="6435100">&#34;42e+10&#34;</span><span class="op" id="6435108">}</span><span class="op" id="6435109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435112">{</span><span class="ident" id="6435113">Float</span><span class="op" id="6435118">,</span>&nbsp;<span class="string" id="6435120">&#34;01234567890e-10&#34;</span><span class="op" id="6435137">}</span><span class="op" id="6435138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435141">{</span><span class="ident" id="6435142">Float</span><span class="op" id="6435147">,</span>&nbsp;<span class="string" id="6435149">&#34;0E+10&#34;</span><span class="op" id="6435156">}</span><span class="op" id="6435157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435160">{</span><span class="ident" id="6435161">Float</span><span class="op" id="6435166">,</span>&nbsp;<span class="string" id="6435168">&#34;1E-10&#34;</span><span class="op" id="6435175">}</span><span class="op" id="6435176">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435179">{</span><span class="ident" id="6435180">Float</span><span class="op" id="6435185">,</span>&nbsp;<span class="string" id="6435187">&#34;42E+10&#34;</span><span class="op" id="6435195">}</span><span class="op" id="6435196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435199">{</span><span class="ident" id="6435200">Float</span><span class="op" id="6435205">,</span>&nbsp;<span class="string" id="6435207">&#34;01234567890E-10&#34;</span><span class="op" id="6435224">}</span><span class="op" id="6435225">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435229">{</span><span class="ident" id="6435230">Comment</span><span class="op" id="6435237">,</span>&nbsp;<span class="string" id="6435239">&#34;//&nbsp;chars&#34;</span><span class="op" id="6435249">}</span><span class="op" id="6435250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435253">{</span><span class="ident" id="6435254">Char</span><span class="op" id="6435258">,</span>&nbsp;<span class="string" id="6435260">`&#39;&nbsp;&#39;`</span><span class="op" id="6435265">}</span><span class="op" id="6435266">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435269">{</span><span class="ident" id="6435270">Char</span><span class="op" id="6435274">,</span>&nbsp;<span class="string" id="6435276">`&#39;a&#39;`</span><span class="op" id="6435281">}</span><span class="op" id="6435282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435285">{</span><span class="ident" id="6435286">Char</span><span class="op" id="6435290">,</span>&nbsp;<span class="string" id="6435292">`&#39;本&#39;`</span><span class="op" id="6435299">}</span><span class="op" id="6435300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435303">{</span><span class="ident" id="6435304">Char</span><span class="op" id="6435308">,</span>&nbsp;<span class="string" id="6435310">`&#39;\a&#39;`</span><span class="op" id="6435316">}</span><span class="op" id="6435317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435320">{</span><span class="ident" id="6435321">Char</span><span class="op" id="6435325">,</span>&nbsp;<span class="string" id="6435327">`&#39;\b&#39;`</span><span class="op" id="6435333">}</span><span class="op" id="6435334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435337">{</span><span class="ident" id="6435338">Char</span><span class="op" id="6435342">,</span>&nbsp;<span class="string" id="6435344">`&#39;\f&#39;`</span><span class="op" id="6435350">}</span><span class="op" id="6435351">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435354">{</span><span class="ident" id="6435355">Char</span><span class="op" id="6435359">,</span>&nbsp;<span class="string" id="6435361">`&#39;\n&#39;`</span><span class="op" id="6435367">}</span><span class="op" id="6435368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435371">{</span><span class="ident" id="6435372">Char</span><span class="op" id="6435376">,</span>&nbsp;<span class="string" id="6435378">`&#39;\r&#39;`</span><span class="op" id="6435384">}</span><span class="op" id="6435385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435388">{</span><span class="ident" id="6435389">Char</span><span class="op" id="6435393">,</span>&nbsp;<span class="string" id="6435395">`&#39;\t&#39;`</span><span class="op" id="6435401">}</span><span class="op" id="6435402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435405">{</span><span class="ident" id="6435406">Char</span><span class="op" id="6435410">,</span>&nbsp;<span class="string" id="6435412">`&#39;\v&#39;`</span><span class="op" id="6435418">}</span><span class="op" id="6435419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435422">{</span><span class="ident" id="6435423">Char</span><span class="op" id="6435427">,</span>&nbsp;<span class="string" id="6435429">`&#39;\&#39;&#39;`</span><span class="op" id="6435435">}</span><span class="op" id="6435436">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435439">{</span><span class="ident" id="6435440">Char</span><span class="op" id="6435444">,</span>&nbsp;<span class="string" id="6435446">`&#39;\000&#39;`</span><span class="op" id="6435454">}</span><span class="op" id="6435455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435458">{</span><span class="ident" id="6435459">Char</span><span class="op" id="6435463">,</span>&nbsp;<span class="string" id="6435465">`&#39;\777&#39;`</span><span class="op" id="6435473">}</span><span class="op" id="6435474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435477">{</span><span class="ident" id="6435478">Char</span><span class="op" id="6435482">,</span>&nbsp;<span class="string" id="6435484">`&#39;\x00&#39;`</span><span class="op" id="6435492">}</span><span class="op" id="6435493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435496">{</span><span class="ident" id="6435497">Char</span><span class="op" id="6435501">,</span>&nbsp;<span class="string" id="6435503">`&#39;\xff&#39;`</span><span class="op" id="6435511">}</span><span class="op" id="6435512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435515">{</span><span class="ident" id="6435516">Char</span><span class="op" id="6435520">,</span>&nbsp;<span class="string" id="6435522">`&#39;\u0000&#39;`</span><span class="op" id="6435532">}</span><span class="op" id="6435533">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435536">{</span><span class="ident" id="6435537">Char</span><span class="op" id="6435541">,</span>&nbsp;<span class="string" id="6435543">`&#39;\ufA16&#39;`</span><span class="op" id="6435553">}</span><span class="op" id="6435554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435557">{</span><span class="ident" id="6435558">Char</span><span class="op" id="6435562">,</span>&nbsp;<span class="string" id="6435564">`&#39;\U00000000&#39;`</span><span class="op" id="6435578">}</span><span class="op" id="6435579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435582">{</span><span class="ident" id="6435583">Char</span><span class="op" id="6435587">,</span>&nbsp;<span class="string" id="6435589">`&#39;\U0000ffAB&#39;`</span><span class="op" id="6435603">}</span><span class="op" id="6435604">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435608">{</span><span class="ident" id="6435609">Comment</span><span class="op" id="6435616">,</span>&nbsp;<span class="string" id="6435618">&#34;//&nbsp;strings&#34;</span><span class="op" id="6435630">}</span><span class="op" id="6435631">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435634">{</span><span class="ident" id="6435635">String</span><span class="op" id="6435641">,</span>&nbsp;<span class="string" id="6435643">`&#34;&nbsp;&#34;`</span><span class="op" id="6435648">}</span><span class="op" id="6435649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435652">{</span><span class="ident" id="6435653">String</span><span class="op" id="6435659">,</span>&nbsp;<span class="string" id="6435661">`&#34;a&#34;`</span><span class="op" id="6435666">}</span><span class="op" id="6435667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435670">{</span><span class="ident" id="6435671">String</span><span class="op" id="6435677">,</span>&nbsp;<span class="string" id="6435679">`&#34;本&#34;`</span><span class="op" id="6435686">}</span><span class="op" id="6435687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435690">{</span><span class="ident" id="6435691">String</span><span class="op" id="6435697">,</span>&nbsp;<span class="string" id="6435699">`&#34;\a&#34;`</span><span class="op" id="6435705">}</span><span class="op" id="6435706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435709">{</span><span class="ident" id="6435710">String</span><span class="op" id="6435716">,</span>&nbsp;<span class="string" id="6435718">`&#34;\b&#34;`</span><span class="op" id="6435724">}</span><span class="op" id="6435725">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435728">{</span><span class="ident" id="6435729">String</span><span class="op" id="6435735">,</span>&nbsp;<span class="string" id="6435737">`&#34;\f&#34;`</span><span class="op" id="6435743">}</span><span class="op" id="6435744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435747">{</span><span class="ident" id="6435748">String</span><span class="op" id="6435754">,</span>&nbsp;<span class="string" id="6435756">`&#34;\n&#34;`</span><span class="op" id="6435762">}</span><span class="op" id="6435763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435766">{</span><span class="ident" id="6435767">String</span><span class="op" id="6435773">,</span>&nbsp;<span class="string" id="6435775">`&#34;\r&#34;`</span><span class="op" id="6435781">}</span><span class="op" id="6435782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435785">{</span><span class="ident" id="6435786">String</span><span class="op" id="6435792">,</span>&nbsp;<span class="string" id="6435794">`&#34;\t&#34;`</span><span class="op" id="6435800">}</span><span class="op" id="6435801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435804">{</span><span class="ident" id="6435805">String</span><span class="op" id="6435811">,</span>&nbsp;<span class="string" id="6435813">`&#34;\v&#34;`</span><span class="op" id="6435819">}</span><span class="op" id="6435820">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435823">{</span><span class="ident" id="6435824">String</span><span class="op" id="6435830">,</span>&nbsp;<span class="string" id="6435832">`&#34;\&#34;&#34;`</span><span class="op" id="6435838">}</span><span class="op" id="6435839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435842">{</span><span class="ident" id="6435843">String</span><span class="op" id="6435849">,</span>&nbsp;<span class="string" id="6435851">`&#34;\000&#34;`</span><span class="op" id="6435859">}</span><span class="op" id="6435860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435863">{</span><span class="ident" id="6435864">String</span><span class="op" id="6435870">,</span>&nbsp;<span class="string" id="6435872">`&#34;\777&#34;`</span><span class="op" id="6435880">}</span><span class="op" id="6435881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435884">{</span><span class="ident" id="6435885">String</span><span class="op" id="6435891">,</span>&nbsp;<span class="string" id="6435893">`&#34;\x00&#34;`</span><span class="op" id="6435901">}</span><span class="op" id="6435902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435905">{</span><span class="ident" id="6435906">String</span><span class="op" id="6435912">,</span>&nbsp;<span class="string" id="6435914">`&#34;\xff&#34;`</span><span class="op" id="6435922">}</span><span class="op" id="6435923">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435926">{</span><span class="ident" id="6435927">String</span><span class="op" id="6435933">,</span>&nbsp;<span class="string" id="6435935">`&#34;\u0000&#34;`</span><span class="op" id="6435945">}</span><span class="op" id="6435946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435949">{</span><span class="ident" id="6435950">String</span><span class="op" id="6435956">,</span>&nbsp;<span class="string" id="6435958">`&#34;\ufA16&#34;`</span><span class="op" id="6435968">}</span><span class="op" id="6435969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435972">{</span><span class="ident" id="6435973">String</span><span class="op" id="6435979">,</span>&nbsp;<span class="string" id="6435981">`&#34;\U00000000&#34;`</span><span class="op" id="6435995">}</span><span class="op" id="6435996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435999">{</span><span class="ident" id="6436000">String</span><span class="op" id="6436006">,</span>&nbsp;<span class="string" id="6436008">`&#34;\U0000ffAB&#34;`</span><span class="op" id="6436022">}</span><span class="op" id="6436023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436026">{</span><span class="ident" id="6436027">String</span><span class="op" id="6436033">,</span>&nbsp;<span class="string" id="6436035">`&#34;`</span>&nbsp;<span class="op" id="6436039">+</span>&nbsp;<span class="ident" id="6436041">f100</span>&nbsp;<span class="op" id="6436046">+</span>&nbsp;<span class="string" id="6436048">`&#34;`</span><span class="op" id="6436051">}</span><span class="op" id="6436052">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436056">{</span><span class="ident" id="6436057">Comment</span><span class="op" id="6436064">,</span>&nbsp;<span class="string" id="6436066">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="6436082">}</span><span class="op" id="6436083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436086">{</span><span class="ident" id="6436087">String</span><span class="op" id="6436093">,</span>&nbsp;<span class="string" id="6436095">&#34;``&#34;</span><span class="op" id="6436099">}</span><span class="op" id="6436100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436103">{</span><span class="ident" id="6436104">String</span><span class="op" id="6436110">,</span>&nbsp;<span class="string" id="6436112">&#34;`\\`&#34;</span><span class="op" id="6436118">}</span><span class="op" id="6436119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436122">{</span><span class="ident" id="6436123">String</span><span class="op" id="6436129">,</span>&nbsp;<span class="string" id="6436131">&#34;`&#34;</span>&nbsp;<span class="op" id="6436135">+</span>&nbsp;<span class="string" id="6436137">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="6436160">+</span>&nbsp;<span class="string" id="6436162">&#34;`&#34;</span><span class="op" id="6436165">}</span><span class="op" id="6436166">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436169">{</span><span class="ident" id="6436170">String</span><span class="op" id="6436176">,</span>&nbsp;<span class="string" id="6436178">&#34;`&#34;</span>&nbsp;<span class="op" id="6436182">+</span>&nbsp;<span class="ident" id="6436184">f100</span>&nbsp;<span class="op" id="6436189">+</span>&nbsp;<span class="string" id="6436191">&#34;`&#34;</span><span class="op" id="6436194">}</span><span class="op" id="6436195">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436199">{</span><span class="ident" id="6436200">Comment</span><span class="op" id="6436207">,</span>&nbsp;<span class="string" id="6436209">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="6436235">}</span><span class="op" id="6436236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6436239">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436272">{</span><span class="string" id="6436273">&#39;\x01&#39;</span><span class="op" id="6436279">,</span>&nbsp;<span class="string" id="6436281">&#34;\x01&#34;</span><span class="op" id="6436287">}</span><span class="op" id="6436288">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436291">{</span><span class="string" id="6436292">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6436296">-</span>&nbsp;<span class="num" id="6436298">1</span><span class="op" id="6436299">,</span>&nbsp;<span class="builtintype" id="6436301">string</span><span class="op" id="6436307">(</span><span class="string" id="6436308">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6436312">-</span>&nbsp;<span class="num" id="6436314">1</span><span class="op" id="6436315">)</span><span class="op" id="6436316">}</span><span class="op" id="6436317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436320">{</span><span class="string" id="6436321">&#39;+&#39;</span><span class="op" id="6436324">,</span>&nbsp;<span class="string" id="6436326">&#34;+&#34;</span><span class="op" id="6436329">}</span><span class="op" id="6436330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436333">{</span><span class="string" id="6436334">&#39;/&#39;</span><span class="op" id="6436337">,</span>&nbsp;<span class="string" id="6436339">&#34;/&#34;</span><span class="op" id="6436342">}</span><span class="op" id="6436343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436346">{</span><span class="string" id="6436347">&#39;.&#39;</span><span class="op" id="6436350">,</span>&nbsp;<span class="string" id="6436352">&#34;.&#34;</span><span class="op" id="6436355">}</span><span class="op" id="6436356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436359">{</span><span class="string" id="6436360">&#39;~&#39;</span><span class="op" id="6436363">,</span>&nbsp;<span class="string" id="6436365">&#34;~&#34;</span><span class="op" id="6436368">}</span><span class="op" id="6436369">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436372">{</span><span class="string" id="6436373">&#39;(&#39;</span><span class="op" id="6436376">,</span>&nbsp;<span class="string" id="6436378">&#34;(&#34;</span><span class="op" id="6436381">}</span><span class="op" id="6436382">,</span><br>
<span class="lineno"></span><span class="op" id="6436384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6436387">func</span>&nbsp;<span class="ident" id="6436392">makeSource</span><span class="op" id="6436402">(</span><span class="ident" id="6436403">pattern</span>&nbsp;<span class="builtintype" id="6436411">string</span><span class="op" id="6436417">)</span>&nbsp;<span class="op" id="6436419">*</span><span class="ident" id="6436420">bytes</span><span class="op" id="6436425">.</span><span class="ident" id="6436426">Buffer</span>&nbsp;<span class="op" id="6436433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436436">var</span>&nbsp;<span class="ident" id="6436440">buf</span>&nbsp;<span class="ident" id="6436444">bytes</span><span class="op" id="6436449">.</span><span class="ident" id="6436450">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436458">for</span>&nbsp;<span class="ident" id="6436462">_</span><span class="op" id="6436463">,</span>&nbsp;<span class="ident" id="6436465">k</span>&nbsp;<span class="op" id="6436467">:=</span>&nbsp;<span class="keyword" id="6436470">range</span>&nbsp;<span class="ident" id="6436476">tokenList</span>&nbsp;<span class="op" id="6436486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436490">fmt</span><span class="op" id="6436493">.</span><span class="ident" id="6436494">Fprintf</span><span class="op" id="6436501">(</span><span class="op" id="6436502">&amp;</span><span class="ident" id="6436503">buf</span><span class="op" id="6436506">,</span>&nbsp;<span class="ident" id="6436508">pattern</span><span class="op" id="6436515">,</span>&nbsp;<span class="ident" id="6436517">k</span><span class="op" id="6436518">.</span><span class="ident" id="6436519">text</span><span class="op" id="6436523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436529">return</span>&nbsp;<span class="op" id="6436536">&amp;</span><span class="ident" id="6436537">buf</span><br>
<span class="lineno"></span><span class="op" id="6436541">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="6436544">func</span>&nbsp;<span class="ident" id="6436549">checkTok</span><span class="op" id="6436557">(</span><span class="ident" id="6436558">t</span>&nbsp;<span class="op" id="6436560">*</span><span class="ident" id="6436561">testing</span><span class="op" id="6436568">.</span><span class="ident" id="6436569">T</span><span class="op" id="6436570">,</span>&nbsp;<span class="ident" id="6436572">s</span>&nbsp;<span class="op" id="6436574">*</span><span class="ident" id="6436575">Scanner</span><span class="op" id="6436582">,</span>&nbsp;<span class="ident" id="6436584">line</span>&nbsp;<span class="builtintype" id="6436589">int</span><span class="op" id="6436592">,</span>&nbsp;<span class="ident" id="6436594">got</span><span class="op" id="6436597">,</span>&nbsp;<span class="ident" id="6436599">want</span>&nbsp;<span class="builtintype" id="6436604">rune</span><span class="op" id="6436608">,</span>&nbsp;<span class="ident" id="6436610">text</span>&nbsp;<span class="builtintype" id="6436615">string</span><span class="op" id="6436621">)</span>&nbsp;<span class="op" id="6436623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436626">if</span>&nbsp;<span class="ident" id="6436629">got</span>&nbsp;<span class="op" id="6436633">!=</span>&nbsp;<span class="ident" id="6436636">want</span>&nbsp;<span class="op" id="6436641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436645">t</span><span class="op" id="6436646">.</span><span class="ident" id="6436647">Fatalf</span><span class="op" id="6436653">(</span><span class="string" id="6436654">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6436680">,</span>&nbsp;<span class="ident" id="6436682">TokenString</span><span class="op" id="6436693">(</span><span class="ident" id="6436694">got</span><span class="op" id="6436697">)</span><span class="op" id="6436698">,</span>&nbsp;<span class="ident" id="6436700">TokenString</span><span class="op" id="6436711">(</span><span class="ident" id="6436712">want</span><span class="op" id="6436716">)</span><span class="op" id="6436717">,</span>&nbsp;<span class="ident" id="6436719">text</span><span class="op" id="6436723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436726">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436729">if</span>&nbsp;<span class="ident" id="6436732">s</span><span class="op" id="6436733">.</span><span class="ident" id="6436734">Line</span>&nbsp;<span class="op" id="6436739">!=</span>&nbsp;<span class="ident" id="6436742">line</span>&nbsp;<span class="op" id="6436747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436751">t</span><span class="op" id="6436752">.</span><span class="ident" id="6436753">Errorf</span><span class="op" id="6436759">(</span><span class="string" id="6436760">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6436787">,</span>&nbsp;<span class="ident" id="6436789">s</span><span class="op" id="6436790">.</span><span class="ident" id="6436791">Line</span><span class="op" id="6436795">,</span>&nbsp;<span class="ident" id="6436797">line</span><span class="op" id="6436801">,</span>&nbsp;<span class="ident" id="6436803">text</span><span class="op" id="6436807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436813">stext</span>&nbsp;<span class="op" id="6436819">:=</span>&nbsp;<span class="ident" id="6436822">s</span><span class="op" id="6436823">.</span><span class="ident" id="6436824">TokenText</span><span class="op" id="6436833">(</span><span class="op" id="6436834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436837">if</span>&nbsp;<span class="ident" id="6436840">stext</span>&nbsp;<span class="op" id="6436846">!=</span>&nbsp;<span class="ident" id="6436849">text</span>&nbsp;<span class="op" id="6436854">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436858">t</span><span class="op" id="6436859">.</span><span class="ident" id="6436860">Errorf</span><span class="op" id="6436866">(</span><span class="string" id="6436867">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6436887">,</span>&nbsp;<span class="ident" id="6436889">stext</span><span class="op" id="6436894">,</span>&nbsp;<span class="ident" id="6436896">text</span><span class="op" id="6436900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436903">}</span>&nbsp;<span class="keyword" id="6436905">else</span>&nbsp;<span class="op" id="6436910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6436914">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436957">stext</span>&nbsp;<span class="op" id="6436963">=</span>&nbsp;<span class="ident" id="6436965">s</span><span class="op" id="6436966">.</span><span class="ident" id="6436967">TokenText</span><span class="op" id="6436976">(</span><span class="op" id="6436977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436981">if</span>&nbsp;<span class="ident" id="6436984">stext</span>&nbsp;<span class="op" id="6436990">!=</span>&nbsp;<span class="ident" id="6436993">text</span>&nbsp;<span class="op" id="6436998">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437003">t</span><span class="op" id="6437004">.</span><span class="ident" id="6437005">Errorf</span><span class="op" id="6437011">(</span><span class="string" id="6437012">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="6437052">,</span>&nbsp;<span class="ident" id="6437054">stext</span><span class="op" id="6437059">,</span>&nbsp;<span class="ident" id="6437061">text</span><span class="op" id="6437065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6437069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6437072">}</span><br>
<span class="lineno"></span><span class="op" id="6437074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="6437077">func</span>&nbsp;<span class="ident" id="6437082">countNewlines</span><span class="op" id="6437095">(</span><span class="ident" id="6437096">s</span>&nbsp;<span class="builtintype" id="6437098">string</span><span class="op" id="6437104">)</span>&nbsp;<span class="builtintype" id="6437106">int</span>&nbsp;<span class="op" id="6437110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437113">n</span>&nbsp;<span class="op" id="6437115">:=</span>&nbsp;<span class="num" id="6437118">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6437121">for</span>&nbsp;<span class="ident" id="6437125">_</span><span class="op" id="6437126">,</span>&nbsp;<span class="ident" id="6437128">ch</span>&nbsp;<span class="op" id="6437131">:=</span>&nbsp;<span class="keyword" id="6437134">range</span>&nbsp;<span class="ident" id="6437140">s</span>&nbsp;<span class="op" id="6437142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6437146">if</span>&nbsp;<span class="ident" id="6437149">ch</span>&nbsp;<span class="op" id="6437152">==</span>&nbsp;<span class="string" id="6437155">&#39;\n&#39;</span>&nbsp;<span class="op" id="6437160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437165">n</span><span class="op" id="6437166">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6437171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6437174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6437177">return</span>&nbsp;<span class="ident" id="6437184">n</span><br>
<span class="lineno"></span><span class="op" id="6437186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="6437189">func</span>&nbsp;<span class="ident" id="6437194">testScan</span><span class="op" id="6437202">(</span><span class="ident" id="6437203">t</span>&nbsp;<span class="op" id="6437205">*</span><span class="ident" id="6437206">testing</span><span class="op" id="6437213">.</span><span class="ident" id="6437214">T</span><span class="op" id="6437215">,</span>&nbsp;<span class="ident" id="6437217">mode</span>&nbsp;<span class="builtintype" id="6437222">uint</span><span class="op" id="6437226">)</span>&nbsp;<span class="op" id="6437228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437231">s</span>&nbsp;<span class="op" id="6437233">:=</span>&nbsp;<span class="builtinfunc" id="6437236">new</span><span class="op" id="6437239">(</span><span class="ident" id="6437240">Scanner</span><span class="op" id="6437247">)</span><span class="op" id="6437248">.</span><span class="ident" id="6437249">Init</span><span class="op" id="6437253">(</span><span class="ident" id="6437254">makeSource</span><span class="op" id="6437264">(</span><span class="string" id="6437265">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="6437274">)</span><span class="op" id="6437275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437278">s</span><span class="op" id="6437279">.</span><span class="ident" id="6437280">Mode</span>&nbsp;<span class="op" id="6437285">=</span>&nbsp;<span class="ident" id="6437287">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437293">tok</span>&nbsp;<span class="op" id="6437297">:=</span>&nbsp;<span class="ident" id="6437300">s</span><span class="op" id="6437301">.</span><span class="ident" id="6437302">Scan</span><span class="op" id="6437306">(</span><span class="op" id="6437307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437310">line</span>&nbsp;<span class="op" id="6437315">:=</span>&nbsp;<span class="num" id="6437318">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6437321">for</span>&nbsp;<span class="ident" id="6437325">_</span><span class="op" id="6437326">,</span>&nbsp;<span class="ident" id="6437328">k</span>&nbsp;<span class="op" id="6437330">:=</span>&nbsp;<span class="keyword" id="6437333">range</span>&nbsp;<span class="ident" id="6437339">tokenList</span>&nbsp;<span class="op" id="6437349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6437353">if</span>&nbsp;<span class="ident" id="6437356">mode</span><span class="op" id="6437360">&amp;</span><span class="ident" id="6437361">SkipComments</span>&nbsp;<span class="op" id="6437374">==</span>&nbsp;<span class="num" id="6437377">0</span>&nbsp;<span class="op" id="6437379">||</span>&nbsp;<span class="ident" id="6437382">k</span><span class="op" id="6437383">.</span><span class="ident" id="6437384">tok</span>&nbsp;<span class="op" id="6437388">!=</span>&nbsp;<span class="ident" id="6437391">Comment</span>&nbsp;<span class="op" id="6437399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437404">checkTok</span><span class="op" id="6437412">(</span><span class="ident" id="6437413">t</span><span class="op" id="6437414">,</span>&nbsp;<span class="ident" id="6437416">s</span><span class="op" id="6437417">,</span>&nbsp;<span class="ident" id="6437419">line</span><span class="op" id="6437423">,</span>&nbsp;<span class="ident" id="6437425">tok</span><span class="op" id="6437428">,</span>&nbsp;<span class="ident" id="6437430">k</span><span class="op" id="6437431">.</span><span class="ident" id="6437432">tok</span><span class="op" id="6437435">,</span>&nbsp;<span class="ident" id="6437437">k</span><span class="op" id="6437438">.</span><span class="ident" id="6437439">text</span><span class="op" id="6437443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437448">tok</span>&nbsp;<span class="op" id="6437452">=</span>&nbsp;<span class="ident" id="6437454">s</span><span class="op" id="6437455">.</span><span class="ident" id="6437456">Scan</span><span class="op" id="6437460">(</span><span class="op" id="6437461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6437465">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437469">line</span>&nbsp;<span class="op" id="6437474">+=</span>&nbsp;<span class="ident" id="6437477">countNewlines</span><span class="op" id="6437490">(</span><span class="ident" id="6437491">k</span><span class="op" id="6437492">.</span><span class="ident" id="6437493">text</span><span class="op" id="6437497">)</span>&nbsp;<span class="op" id="6437499">+</span>&nbsp;<span class="num" id="6437501">1</span>&nbsp;<span class="comment" id="6437503">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6437535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437538">checkTok</span><span class="op" id="6437546">(</span><span class="ident" id="6437547">t</span><span class="op" id="6437548">,</span>&nbsp;<span class="ident" id="6437550">s</span><span class="op" id="6437551">,</span>&nbsp;<span class="ident" id="6437553">line</span><span class="op" id="6437557">,</span>&nbsp;<span class="ident" id="6437559">tok</span><span class="op" id="6437562">,</span>&nbsp;<span class="ident" id="6437564">EOF</span><span class="op" id="6437567">,</span>&nbsp;<span class="string" id="6437569">&#34;&#34;</span><span class="op" id="6437571">)</span><br>
<span class="lineno"></span><span class="op" id="6437573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="6437576">func</span>&nbsp;<span class="ident" id="6437581">TestScan</span><span class="op" id="6437589">(</span><span class="ident" id="6437590">t</span>&nbsp;<span class="op" id="6437592">*</span><span class="ident" id="6437593">testing</span><span class="op" id="6437600">.</span><span class="ident" id="6437601">T</span><span class="op" id="6437602">)</span>&nbsp;<span class="op" id="6437604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437607">testScan</span><span class="op" id="6437615">(</span><span class="ident" id="6437616">t</span><span class="op" id="6437617">,</span>&nbsp;<span class="ident" id="6437619">GoTokens</span><span class="op" id="6437627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437630">testScan</span><span class="op" id="6437638">(</span><span class="ident" id="6437639">t</span><span class="op" id="6437640">,</span>&nbsp;<span class="ident" id="6437642">GoTokens</span><span class="op" id="6437650">&amp;^</span><span class="ident" id="6437652">SkipComments</span><span class="op" id="6437664">)</span><br>
<span class="lineno"></span><span class="op" id="6437666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="6437669">func</span>&nbsp;<span class="ident" id="6437674">TestPosition</span><span class="op" id="6437686">(</span><span class="ident" id="6437687">t</span>&nbsp;<span class="op" id="6437689">*</span><span class="ident" id="6437690">testing</span><span class="op" id="6437697">.</span><span class="ident" id="6437698">T</span><span class="op" id="6437699">)</span>&nbsp;<span class="op" id="6437701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437704">src</span>&nbsp;<span class="op" id="6437708">:=</span>&nbsp;<span class="ident" id="6437711">makeSource</span><span class="op" id="6437721">(</span><span class="string" id="6437722">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="6437736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437739">s</span>&nbsp;<span class="op" id="6437741">:=</span>&nbsp;<span class="builtinfunc" id="6437744">new</span><span class="op" id="6437747">(</span><span class="ident" id="6437748">Scanner</span><span class="op" id="6437755">)</span><span class="op" id="6437756">.</span><span class="ident" id="6437757">Init</span><span class="op" id="6437761">(</span><span class="ident" id="6437762">src</span><span class="op" id="6437765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437768">s</span><span class="op" id="6437769">.</span><span class="ident" id="6437770">Mode</span>&nbsp;<span class="op" id="6437775">=</span>&nbsp;<span class="ident" id="6437777">GoTokens</span>&nbsp;<span class="op" id="6437786">&amp;^</span>&nbsp;<span class="ident" id="6437789">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437803">s</span><span class="op" id="6437804">.</span><span class="ident" id="6437805">Scan</span><span class="op" id="6437809">(</span><span class="op" id="6437810">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437813">pos</span>&nbsp;<span class="op" id="6437817">:=</span>&nbsp;<span class="ident" id="6437820">Position</span><span class="op" id="6437828">{</span><span class="string" id="6437829">&#34;&#34;</span><span class="op" id="6437831">,</span>&nbsp;<span class="num" id="6437833">4</span><span class="op" id="6437834">,</span>&nbsp;<span class="num" id="6437836">1</span><span class="op" id="6437837">,</span>&nbsp;<span class="num" id="6437839">5</span><span class="op" id="6437840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6437843">for</span>&nbsp;<span class="ident" id="6437847">_</span><span class="op" id="6437848">,</span>&nbsp;<span class="ident" id="6437850">k</span>&nbsp;<span class="op" id="6437852">:=</span>&nbsp;<span class="keyword" id="6437855">range</span>&nbsp;<span class="ident" id="6437861">tokenList</span>&nbsp;<span class="op" id="6437871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6437875">if</span>&nbsp;<span class="ident" id="6437878">s</span><span class="op" id="6437879">.</span><span class="ident" id="6437880">Offset</span>&nbsp;<span class="op" id="6437887">!=</span>&nbsp;<span class="ident" id="6437890">pos</span><span class="op" id="6437893">.</span><span class="ident" id="6437894">Offset</span>&nbsp;<span class="op" id="6437901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6437906">t</span><span class="op" id="6437907">.</span><span class="ident" id="6437908">Errorf</span><span class="op" id="6437914">(</span><span class="string" id="6437915">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6437944">,</span>&nbsp;<span class="ident" id="6437946">s</span><span class="op" id="6437947">.</span><span class="ident" id="6437948">Offset</span><span class="op" id="6437954">,</span>&nbsp;<span class="ident" id="6437956">pos</span><span class="op" id="6437959">.</span><span class="ident" id="6437960">Offset</span><span class="op" id="6437966">,</span>&nbsp;<span class="ident" id="6437968">k</span><span class="op" id="6437969">.</span><span class="ident" id="6437970">text</span><span class="op" id="6437974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6437978">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6437982">if</span>&nbsp;<span class="ident" id="6437985">s</span><span class="op" id="6437986">.</span><span class="ident" id="6437987">Line</span>&nbsp;<span class="op" id="6437992">!=</span>&nbsp;<span class="ident" id="6437995">pos</span><span class="op" id="6437998">.</span><span class="ident" id="6437999">Line</span>&nbsp;<span class="op" id="6438004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438009">t</span><span class="op" id="6438010">.</span><span class="ident" id="6438011">Errorf</span><span class="op" id="6438017">(</span><span class="string" id="6438018">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6438045">,</span>&nbsp;<span class="ident" id="6438047">s</span><span class="op" id="6438048">.</span><span class="ident" id="6438049">Line</span><span class="op" id="6438053">,</span>&nbsp;<span class="ident" id="6438055">pos</span><span class="op" id="6438058">.</span><span class="ident" id="6438059">Line</span><span class="op" id="6438063">,</span>&nbsp;<span class="ident" id="6438065">k</span><span class="op" id="6438066">.</span><span class="ident" id="6438067">text</span><span class="op" id="6438071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6438075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6438079">if</span>&nbsp;<span class="ident" id="6438082">s</span><span class="op" id="6438083">.</span><span class="ident" id="6438084">Column</span>&nbsp;<span class="op" id="6438091">!=</span>&nbsp;<span class="ident" id="6438094">pos</span><span class="op" id="6438097">.</span><span class="ident" id="6438098">Column</span>&nbsp;<span class="op" id="6438105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438110">t</span><span class="op" id="6438111">.</span><span class="ident" id="6438112">Errorf</span><span class="op" id="6438118">(</span><span class="string" id="6438119">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6438148">,</span>&nbsp;<span class="ident" id="6438150">s</span><span class="op" id="6438151">.</span><span class="ident" id="6438152">Column</span><span class="op" id="6438158">,</span>&nbsp;<span class="ident" id="6438160">pos</span><span class="op" id="6438163">.</span><span class="ident" id="6438164">Column</span><span class="op" id="6438170">,</span>&nbsp;<span class="ident" id="6438172">k</span><span class="op" id="6438173">.</span><span class="ident" id="6438174">text</span><span class="op" id="6438178">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6438182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438186">pos</span><span class="op" id="6438189">.</span><span class="ident" id="6438190">Offset</span>&nbsp;<span class="op" id="6438197">+=</span>&nbsp;<span class="num" id="6438200">4</span>&nbsp;<span class="op" id="6438202">+</span>&nbsp;<span class="builtinfunc" id="6438204">len</span><span class="op" id="6438207">(</span><span class="ident" id="6438208">k</span><span class="op" id="6438209">.</span><span class="ident" id="6438210">text</span><span class="op" id="6438214">)</span>&nbsp;<span class="op" id="6438216">+</span>&nbsp;<span class="num" id="6438218">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6438224">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438260">pos</span><span class="op" id="6438263">.</span><span class="ident" id="6438264">Line</span>&nbsp;<span class="op" id="6438269">+=</span>&nbsp;<span class="ident" id="6438272">countNewlines</span><span class="op" id="6438285">(</span><span class="ident" id="6438286">k</span><span class="op" id="6438287">.</span><span class="ident" id="6438288">text</span><span class="op" id="6438292">)</span>&nbsp;<span class="op" id="6438294">+</span>&nbsp;<span class="num" id="6438296">1</span>&nbsp;<span class="comment" id="6438298">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438331">s</span><span class="op" id="6438332">.</span><span class="ident" id="6438333">Scan</span><span class="op" id="6438337">(</span><span class="op" id="6438338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6438341">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6438344">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6438414">if</span>&nbsp;<span class="ident" id="6438417">s</span><span class="op" id="6438418">.</span><span class="ident" id="6438419">ErrorCount</span>&nbsp;<span class="op" id="6438430">!=</span>&nbsp;<span class="num" id="6438433">0</span>&nbsp;<span class="op" id="6438435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438439">t</span><span class="op" id="6438440">.</span><span class="ident" id="6438441">Errorf</span><span class="op" id="6438447">(</span><span class="string" id="6438448">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6438459">,</span>&nbsp;<span class="ident" id="6438461">s</span><span class="op" id="6438462">.</span><span class="ident" id="6438463">ErrorCount</span><span class="op" id="6438473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6438476">}</span><br>
<span class="lineno"></span><span class="op" id="6438478">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="6438481">func</span>&nbsp;<span class="ident" id="6438486">TestScanZeroMode</span><span class="op" id="6438502">(</span><span class="ident" id="6438503">t</span>&nbsp;<span class="op" id="6438505">*</span><span class="ident" id="6438506">testing</span><span class="op" id="6438513">.</span><span class="ident" id="6438514">T</span><span class="op" id="6438515">)</span>&nbsp;<span class="op" id="6438517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438520">src</span>&nbsp;<span class="op" id="6438524">:=</span>&nbsp;<span class="ident" id="6438527">makeSource</span><span class="op" id="6438537">(</span><span class="string" id="6438538">&#34;%s\n&#34;</span><span class="op" id="6438544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438547">str</span>&nbsp;<span class="op" id="6438551">:=</span>&nbsp;<span class="ident" id="6438554">src</span><span class="op" id="6438557">.</span><span class="ident" id="6438558">String</span><span class="op" id="6438564">(</span><span class="op" id="6438565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438568">s</span>&nbsp;<span class="op" id="6438570">:=</span>&nbsp;<span class="builtinfunc" id="6438573">new</span><span class="op" id="6438576">(</span><span class="ident" id="6438577">Scanner</span><span class="op" id="6438584">)</span><span class="op" id="6438585">.</span><span class="ident" id="6438586">Init</span><span class="op" id="6438590">(</span><span class="ident" id="6438591">src</span><span class="op" id="6438594">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438597">s</span><span class="op" id="6438598">.</span><span class="ident" id="6438599">Mode</span>&nbsp;<span class="op" id="6438604">=</span>&nbsp;<span class="num" id="6438606">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6438614">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438652">s</span><span class="op" id="6438653">.</span><span class="ident" id="6438654">Whitespace</span>&nbsp;<span class="op" id="6438665">=</span>&nbsp;<span class="num" id="6438667">0</span>&nbsp;<span class="comment" id="6438669">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438699">tok</span>&nbsp;<span class="op" id="6438703">:=</span>&nbsp;<span class="ident" id="6438706">s</span><span class="op" id="6438707">.</span><span class="ident" id="6438708">Scan</span><span class="op" id="6438712">(</span><span class="op" id="6438713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6438716">for</span>&nbsp;<span class="ident" id="6438720">i</span><span class="op" id="6438721">,</span>&nbsp;<span class="ident" id="6438723">ch</span>&nbsp;<span class="op" id="6438726">:=</span>&nbsp;<span class="keyword" id="6438729">range</span>&nbsp;<span class="ident" id="6438735">str</span>&nbsp;<span class="op" id="6438739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6438743">if</span>&nbsp;<span class="ident" id="6438746">tok</span>&nbsp;<span class="op" id="6438750">!=</span>&nbsp;<span class="ident" id="6438753">ch</span>&nbsp;<span class="op" id="6438756">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438761">t</span><span class="op" id="6438762">.</span><span class="ident" id="6438763">Fatalf</span><span class="op" id="6438769">(</span><span class="string" id="6438770">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6438793">,</span>&nbsp;<span class="ident" id="6438795">i</span><span class="op" id="6438796">,</span>&nbsp;<span class="ident" id="6438798">TokenString</span><span class="op" id="6438809">(</span><span class="ident" id="6438810">tok</span><span class="op" id="6438813">)</span><span class="op" id="6438814">,</span>&nbsp;<span class="ident" id="6438816">TokenString</span><span class="op" id="6438827">(</span><span class="ident" id="6438828">ch</span><span class="op" id="6438830">)</span><span class="op" id="6438831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6438835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438839">tok</span>&nbsp;<span class="op" id="6438843">=</span>&nbsp;<span class="ident" id="6438845">s</span><span class="op" id="6438846">.</span><span class="ident" id="6438847">Scan</span><span class="op" id="6438851">(</span><span class="op" id="6438852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6438855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6438858">if</span>&nbsp;<span class="ident" id="6438861">tok</span>&nbsp;<span class="op" id="6438865">!=</span>&nbsp;<span class="ident" id="6438868">EOF</span>&nbsp;<span class="op" id="6438872">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438876">t</span><span class="op" id="6438877">.</span><span class="ident" id="6438878">Fatalf</span><span class="op" id="6438884">(</span><span class="string" id="6438885">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="6438905">,</span>&nbsp;<span class="ident" id="6438907">TokenString</span><span class="op" id="6438918">(</span><span class="ident" id="6438919">tok</span><span class="op" id="6438922">)</span><span class="op" id="6438923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6438926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6438929">if</span>&nbsp;<span class="ident" id="6438932">s</span><span class="op" id="6438933">.</span><span class="ident" id="6438934">ErrorCount</span>&nbsp;<span class="op" id="6438945">!=</span>&nbsp;<span class="num" id="6438948">0</span>&nbsp;<span class="op" id="6438950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6438954">t</span><span class="op" id="6438955">.</span><span class="ident" id="6438956">Errorf</span><span class="op" id="6438962">(</span><span class="string" id="6438963">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6438974">,</span>&nbsp;<span class="ident" id="6438976">s</span><span class="op" id="6438977">.</span><span class="ident" id="6438978">ErrorCount</span><span class="op" id="6438988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6438991">}</span><br>
<span class="lineno">330</span><span class="op" id="6438993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6438996">func</span>&nbsp;<span class="ident" id="6439001">testScanSelectedMode</span><span class="op" id="6439021">(</span><span class="ident" id="6439022">t</span>&nbsp;<span class="op" id="6439024">*</span><span class="ident" id="6439025">testing</span><span class="op" id="6439032">.</span><span class="ident" id="6439033">T</span><span class="op" id="6439034">,</span>&nbsp;<span class="ident" id="6439036">mode</span>&nbsp;<span class="builtintype" id="6439041">uint</span><span class="op" id="6439045">,</span>&nbsp;<span class="ident" id="6439047">class</span>&nbsp;<span class="builtintype" id="6439053">rune</span><span class="op" id="6439057">)</span>&nbsp;<span class="op" id="6439059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439062">src</span>&nbsp;<span class="op" id="6439066">:=</span>&nbsp;<span class="ident" id="6439069">makeSource</span><span class="op" id="6439079">(</span><span class="string" id="6439080">&#34;%s\n&#34;</span><span class="op" id="6439086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439089">s</span>&nbsp;<span class="op" id="6439091">:=</span>&nbsp;<span class="builtinfunc" id="6439094">new</span><span class="op" id="6439097">(</span><span class="ident" id="6439098">Scanner</span><span class="op" id="6439105">)</span><span class="op" id="6439106">.</span><span class="ident" id="6439107">Init</span><span class="op" id="6439111">(</span><span class="ident" id="6439112">src</span><span class="op" id="6439115">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439118">s</span><span class="op" id="6439119">.</span><span class="ident" id="6439120">Mode</span>&nbsp;<span class="op" id="6439125">=</span>&nbsp;<span class="ident" id="6439127">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439133">tok</span>&nbsp;<span class="op" id="6439137">:=</span>&nbsp;<span class="ident" id="6439140">s</span><span class="op" id="6439141">.</span><span class="ident" id="6439142">Scan</span><span class="op" id="6439146">(</span><span class="op" id="6439147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6439150">for</span>&nbsp;<span class="ident" id="6439154">tok</span>&nbsp;<span class="op" id="6439158">!=</span>&nbsp;<span class="ident" id="6439161">EOF</span>&nbsp;<span class="op" id="6439165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6439169">if</span>&nbsp;<span class="ident" id="6439172">tok</span>&nbsp;<span class="op" id="6439176">&lt;</span>&nbsp;<span class="num" id="6439178">0</span>&nbsp;<span class="op" id="6439180">&amp;&amp;</span>&nbsp;<span class="ident" id="6439183">tok</span>&nbsp;<span class="op" id="6439187">!=</span>&nbsp;<span class="ident" id="6439190">class</span>&nbsp;<span class="op" id="6439196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439201">t</span><span class="op" id="6439202">.</span><span class="ident" id="6439203">Fatalf</span><span class="op" id="6439209">(</span><span class="string" id="6439210">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6439229">,</span>&nbsp;<span class="ident" id="6439231">TokenString</span><span class="op" id="6439242">(</span><span class="ident" id="6439243">tok</span><span class="op" id="6439246">)</span><span class="op" id="6439247">,</span>&nbsp;<span class="ident" id="6439249">TokenString</span><span class="op" id="6439260">(</span><span class="ident" id="6439261">class</span><span class="op" id="6439266">)</span><span class="op" id="6439267">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6439271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439275">tok</span>&nbsp;<span class="op" id="6439279">=</span>&nbsp;<span class="ident" id="6439281">s</span><span class="op" id="6439282">.</span><span class="ident" id="6439283">Scan</span><span class="op" id="6439287">(</span><span class="op" id="6439288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6439291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6439294">if</span>&nbsp;<span class="ident" id="6439297">s</span><span class="op" id="6439298">.</span><span class="ident" id="6439299">ErrorCount</span>&nbsp;<span class="op" id="6439310">!=</span>&nbsp;<span class="num" id="6439313">0</span>&nbsp;<span class="op" id="6439315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439319">t</span><span class="op" id="6439320">.</span><span class="ident" id="6439321">Errorf</span><span class="op" id="6439327">(</span><span class="string" id="6439328">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6439339">,</span>&nbsp;<span class="ident" id="6439341">s</span><span class="op" id="6439342">.</span><span class="ident" id="6439343">ErrorCount</span><span class="op" id="6439353">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6439356">}</span><br>
<span class="lineno"></span><span class="op" id="6439358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6439361">func</span>&nbsp;<span class="ident" id="6439366">TestScanSelectedMask</span><span class="op" id="6439386">(</span><span class="ident" id="6439387">t</span>&nbsp;<span class="op" id="6439389">*</span><span class="ident" id="6439390">testing</span><span class="op" id="6439397">.</span><span class="ident" id="6439398">T</span><span class="op" id="6439399">)</span>&nbsp;<span class="op" id="6439401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439404">testScanSelectedMode</span><span class="op" id="6439424">(</span><span class="ident" id="6439425">t</span><span class="op" id="6439426">,</span>&nbsp;<span class="num" id="6439428">0</span><span class="op" id="6439429">,</span>&nbsp;<span class="num" id="6439431">0</span><span class="op" id="6439432">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439435">testScanSelectedMode</span><span class="op" id="6439455">(</span><span class="ident" id="6439456">t</span><span class="op" id="6439457">,</span>&nbsp;<span class="ident" id="6439459">ScanIdents</span><span class="op" id="6439469">,</span>&nbsp;<span class="ident" id="6439471">Ident</span><span class="op" id="6439476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6439479">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6439539">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6439599">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439651">testScanSelectedMode</span><span class="op" id="6439671">(</span><span class="ident" id="6439672">t</span><span class="op" id="6439673">,</span>&nbsp;<span class="ident" id="6439675">ScanChars</span><span class="op" id="6439684">,</span>&nbsp;<span class="ident" id="6439686">Char</span><span class="op" id="6439690">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439693">testScanSelectedMode</span><span class="op" id="6439713">(</span><span class="ident" id="6439714">t</span><span class="op" id="6439715">,</span>&nbsp;<span class="ident" id="6439717">ScanStrings</span><span class="op" id="6439728">,</span>&nbsp;<span class="ident" id="6439730">String</span><span class="op" id="6439736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439739">testScanSelectedMode</span><span class="op" id="6439759">(</span><span class="ident" id="6439760">t</span><span class="op" id="6439761">,</span>&nbsp;<span class="ident" id="6439763">SkipComments</span><span class="op" id="6439775">,</span>&nbsp;<span class="num" id="6439777">0</span><span class="op" id="6439778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439781">testScanSelectedMode</span><span class="op" id="6439801">(</span><span class="ident" id="6439802">t</span><span class="op" id="6439803">,</span>&nbsp;<span class="ident" id="6439805">ScanComments</span><span class="op" id="6439817">,</span>&nbsp;<span class="ident" id="6439819">Comment</span><span class="op" id="6439826">)</span><br>
<span class="lineno"></span><span class="op" id="6439828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6439831">func</span>&nbsp;<span class="ident" id="6439836">TestScanCustomIdent</span><span class="op" id="6439855">(</span><span class="ident" id="6439856">t</span>&nbsp;<span class="op" id="6439858">*</span><span class="ident" id="6439859">testing</span><span class="op" id="6439866">.</span><span class="ident" id="6439867">T</span><span class="op" id="6439868">)</span>&nbsp;<span class="op" id="6439870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6439873">const</span>&nbsp;<span class="ident" id="6439879">src</span>&nbsp;<span class="op" id="6439883">=</span>&nbsp;<span class="string" id="6439885">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6439913">s</span>&nbsp;<span class="op" id="6439915">:=</span>&nbsp;<span class="builtinfunc" id="6439918">new</span><span class="op" id="6439921">(</span><span class="ident" id="6439922">Scanner</span><span class="op" id="6439929">)</span><span class="op" id="6439930">.</span><span class="ident" id="6439931">Init</span><span class="op" id="6439935">(</span><span class="ident" id="6439936">strings</span><span class="op" id="6439943">.</span><span class="ident" id="6439944">NewReader</span><span class="op" id="6439953">(</span><span class="ident" id="6439954">src</span><span class="op" id="6439957">)</span><span class="op" id="6439958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6439961">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6439999">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6440024">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440055">s</span><span class="op" id="6440056">.</span><span class="ident" id="6440057">IsIdentRune</span>&nbsp;<span class="op" id="6440069">=</span>&nbsp;<span class="keyword" id="6440071">func</span><span class="op" id="6440075">(</span><span class="ident" id="6440076">ch</span>&nbsp;<span class="builtintype" id="6440079">rune</span><span class="op" id="6440083">,</span>&nbsp;<span class="ident" id="6440085">i</span>&nbsp;<span class="builtintype" id="6440087">int</span><span class="op" id="6440090">)</span>&nbsp;<span class="builtintype" id="6440092">bool</span>&nbsp;<span class="op" id="6440097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6440101">return</span>&nbsp;<span class="ident" id="6440108">i</span>&nbsp;<span class="op" id="6440110">==</span>&nbsp;<span class="num" id="6440113">0</span>&nbsp;<span class="op" id="6440115">&amp;&amp;</span>&nbsp;<span class="op" id="6440118">(</span><span class="ident" id="6440119">ch</span>&nbsp;<span class="op" id="6440122">==</span>&nbsp;<span class="string" id="6440125">&#39;a&#39;</span>&nbsp;<span class="op" id="6440129">||</span>&nbsp;<span class="ident" id="6440132">ch</span>&nbsp;<span class="op" id="6440135">==</span>&nbsp;<span class="string" id="6440138">&#39;b&#39;</span><span class="op" id="6440141">)</span>&nbsp;<span class="op" id="6440143">||</span>&nbsp;<span class="num" id="6440146">0</span>&nbsp;<span class="op" id="6440148">&lt;</span>&nbsp;<span class="ident" id="6440150">i</span>&nbsp;<span class="op" id="6440152">&amp;&amp;</span>&nbsp;<span class="ident" id="6440155">i</span>&nbsp;<span class="op" id="6440157">&lt;</span>&nbsp;<span class="num" id="6440159">4</span>&nbsp;<span class="op" id="6440161">&amp;&amp;</span>&nbsp;<span class="string" id="6440164">&#39;0&#39;</span>&nbsp;<span class="op" id="6440168">&lt;=</span>&nbsp;<span class="ident" id="6440171">ch</span>&nbsp;<span class="op" id="6440174">&amp;&amp;</span>&nbsp;<span class="ident" id="6440177">ch</span>&nbsp;<span class="op" id="6440180">&lt;=</span>&nbsp;<span class="string" id="6440183">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6440188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440191">checkTok</span><span class="op" id="6440199">(</span><span class="ident" id="6440200">t</span><span class="op" id="6440201">,</span>&nbsp;<span class="ident" id="6440203">s</span><span class="op" id="6440204">,</span>&nbsp;<span class="num" id="6440206">1</span><span class="op" id="6440207">,</span>&nbsp;<span class="ident" id="6440209">s</span><span class="op" id="6440210">.</span><span class="ident" id="6440211">Scan</span><span class="op" id="6440215">(</span><span class="op" id="6440216">)</span><span class="op" id="6440217">,</span>&nbsp;<span class="string" id="6440219">&#39;f&#39;</span><span class="op" id="6440222">,</span>&nbsp;<span class="string" id="6440224">&#34;f&#34;</span><span class="op" id="6440227">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440230">checkTok</span><span class="op" id="6440238">(</span><span class="ident" id="6440239">t</span><span class="op" id="6440240">,</span>&nbsp;<span class="ident" id="6440242">s</span><span class="op" id="6440243">,</span>&nbsp;<span class="num" id="6440245">1</span><span class="op" id="6440246">,</span>&nbsp;<span class="ident" id="6440248">s</span><span class="op" id="6440249">.</span><span class="ident" id="6440250">Scan</span><span class="op" id="6440254">(</span><span class="op" id="6440255">)</span><span class="op" id="6440256">,</span>&nbsp;<span class="ident" id="6440258">Ident</span><span class="op" id="6440263">,</span>&nbsp;<span class="string" id="6440265">&#34;a&#34;</span><span class="op" id="6440268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440271">checkTok</span><span class="op" id="6440279">(</span><span class="ident" id="6440280">t</span><span class="op" id="6440281">,</span>&nbsp;<span class="ident" id="6440283">s</span><span class="op" id="6440284">,</span>&nbsp;<span class="num" id="6440286">1</span><span class="op" id="6440287">,</span>&nbsp;<span class="ident" id="6440289">s</span><span class="op" id="6440290">.</span><span class="ident" id="6440291">Scan</span><span class="op" id="6440295">(</span><span class="op" id="6440296">)</span><span class="op" id="6440297">,</span>&nbsp;<span class="ident" id="6440299">Ident</span><span class="op" id="6440304">,</span>&nbsp;<span class="string" id="6440306">&#34;a&#34;</span><span class="op" id="6440309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440312">checkTok</span><span class="op" id="6440320">(</span><span class="ident" id="6440321">t</span><span class="op" id="6440322">,</span>&nbsp;<span class="ident" id="6440324">s</span><span class="op" id="6440325">,</span>&nbsp;<span class="num" id="6440327">1</span><span class="op" id="6440328">,</span>&nbsp;<span class="ident" id="6440330">s</span><span class="op" id="6440331">.</span><span class="ident" id="6440332">Scan</span><span class="op" id="6440336">(</span><span class="op" id="6440337">)</span><span class="op" id="6440338">,</span>&nbsp;<span class="ident" id="6440340">Ident</span><span class="op" id="6440345">,</span>&nbsp;<span class="string" id="6440347">&#34;b123&#34;</span><span class="op" id="6440353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440356">checkTok</span><span class="op" id="6440364">(</span><span class="ident" id="6440365">t</span><span class="op" id="6440366">,</span>&nbsp;<span class="ident" id="6440368">s</span><span class="op" id="6440369">,</span>&nbsp;<span class="num" id="6440371">1</span><span class="op" id="6440372">,</span>&nbsp;<span class="ident" id="6440374">s</span><span class="op" id="6440375">.</span><span class="ident" id="6440376">Scan</span><span class="op" id="6440380">(</span><span class="op" id="6440381">)</span><span class="op" id="6440382">,</span>&nbsp;<span class="ident" id="6440384">Int</span><span class="op" id="6440387">,</span>&nbsp;<span class="string" id="6440389">&#34;45&#34;</span><span class="op" id="6440393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440396">checkTok</span><span class="op" id="6440404">(</span><span class="ident" id="6440405">t</span><span class="op" id="6440406">,</span>&nbsp;<span class="ident" id="6440408">s</span><span class="op" id="6440409">,</span>&nbsp;<span class="num" id="6440411">1</span><span class="op" id="6440412">,</span>&nbsp;<span class="ident" id="6440414">s</span><span class="op" id="6440415">.</span><span class="ident" id="6440416">Scan</span><span class="op" id="6440420">(</span><span class="op" id="6440421">)</span><span class="op" id="6440422">,</span>&nbsp;<span class="ident" id="6440424">Ident</span><span class="op" id="6440429">,</span>&nbsp;<span class="string" id="6440431">&#34;a12&#34;</span><span class="op" id="6440436">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440439">checkTok</span><span class="op" id="6440447">(</span><span class="ident" id="6440448">t</span><span class="op" id="6440449">,</span>&nbsp;<span class="ident" id="6440451">s</span><span class="op" id="6440452">,</span>&nbsp;<span class="num" id="6440454">1</span><span class="op" id="6440455">,</span>&nbsp;<span class="ident" id="6440457">s</span><span class="op" id="6440458">.</span><span class="ident" id="6440459">Scan</span><span class="op" id="6440463">(</span><span class="op" id="6440464">)</span><span class="op" id="6440465">,</span>&nbsp;<span class="ident" id="6440467">Ident</span><span class="op" id="6440472">,</span>&nbsp;<span class="string" id="6440474">&#34;b123&#34;</span><span class="op" id="6440480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440483">checkTok</span><span class="op" id="6440491">(</span><span class="ident" id="6440492">t</span><span class="op" id="6440493">,</span>&nbsp;<span class="ident" id="6440495">s</span><span class="op" id="6440496">,</span>&nbsp;<span class="num" id="6440498">1</span><span class="op" id="6440499">,</span>&nbsp;<span class="ident" id="6440501">s</span><span class="op" id="6440502">.</span><span class="ident" id="6440503">Scan</span><span class="op" id="6440507">(</span><span class="op" id="6440508">)</span><span class="op" id="6440509">,</span>&nbsp;<span class="ident" id="6440511">Ident</span><span class="op" id="6440516">,</span>&nbsp;<span class="string" id="6440518">&#34;a12&#34;</span><span class="op" id="6440523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440526">checkTok</span><span class="op" id="6440534">(</span><span class="ident" id="6440535">t</span><span class="op" id="6440536">,</span>&nbsp;<span class="ident" id="6440538">s</span><span class="op" id="6440539">,</span>&nbsp;<span class="num" id="6440541">1</span><span class="op" id="6440542">,</span>&nbsp;<span class="ident" id="6440544">s</span><span class="op" id="6440545">.</span><span class="ident" id="6440546">Scan</span><span class="op" id="6440550">(</span><span class="op" id="6440551">)</span><span class="op" id="6440552">,</span>&nbsp;<span class="ident" id="6440554">Int</span><span class="op" id="6440557">,</span>&nbsp;<span class="string" id="6440559">&#34;3&#34;</span><span class="op" id="6440562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440565">checkTok</span><span class="op" id="6440573">(</span><span class="ident" id="6440574">t</span><span class="op" id="6440575">,</span>&nbsp;<span class="ident" id="6440577">s</span><span class="op" id="6440578">,</span>&nbsp;<span class="num" id="6440580">1</span><span class="op" id="6440581">,</span>&nbsp;<span class="ident" id="6440583">s</span><span class="op" id="6440584">.</span><span class="ident" id="6440585">Scan</span><span class="op" id="6440589">(</span><span class="op" id="6440590">)</span><span class="op" id="6440591">,</span>&nbsp;<span class="ident" id="6440593">Ident</span><span class="op" id="6440598">,</span>&nbsp;<span class="string" id="6440600">&#34;b&#34;</span><span class="op" id="6440603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440606">checkTok</span><span class="op" id="6440614">(</span><span class="ident" id="6440615">t</span><span class="op" id="6440616">,</span>&nbsp;<span class="ident" id="6440618">s</span><span class="op" id="6440619">,</span>&nbsp;<span class="num" id="6440621">1</span><span class="op" id="6440622">,</span>&nbsp;<span class="ident" id="6440624">s</span><span class="op" id="6440625">.</span><span class="ident" id="6440626">Scan</span><span class="op" id="6440630">(</span><span class="op" id="6440631">)</span><span class="op" id="6440632">,</span>&nbsp;<span class="ident" id="6440634">EOF</span><span class="op" id="6440637">,</span>&nbsp;<span class="string" id="6440639">&#34;&#34;</span><span class="op" id="6440641">)</span><br>
<span class="lineno">380</span><span class="op" id="6440643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6440646">func</span>&nbsp;<span class="ident" id="6440651">TestScanNext</span><span class="op" id="6440663">(</span><span class="ident" id="6440664">t</span>&nbsp;<span class="op" id="6440666">*</span><span class="ident" id="6440667">testing</span><span class="op" id="6440674">.</span><span class="ident" id="6440675">T</span><span class="op" id="6440676">)</span>&nbsp;<span class="op" id="6440678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6440681">const</span>&nbsp;<span class="ident" id="6440687">BOM</span>&nbsp;<span class="op" id="6440691">=</span>&nbsp;<span class="string" id="6440693">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440703">BOMs</span>&nbsp;<span class="op" id="6440708">:=</span>&nbsp;<span class="builtintype" id="6440711">string</span><span class="op" id="6440717">(</span><span class="ident" id="6440718">BOM</span><span class="op" id="6440721">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440724">s</span>&nbsp;<span class="op" id="6440726">:=</span>&nbsp;<span class="builtinfunc" id="6440729">new</span><span class="op" id="6440732">(</span><span class="ident" id="6440733">Scanner</span><span class="op" id="6440740">)</span><span class="op" id="6440741">.</span><span class="ident" id="6440742">Init</span><span class="op" id="6440746">(</span><span class="ident" id="6440747">strings</span><span class="op" id="6440754">.</span><span class="ident" id="6440755">NewReader</span><span class="op" id="6440764">(</span><span class="ident" id="6440765">BOMs</span>&nbsp;<span class="op" id="6440770">+</span>&nbsp;<span class="string" id="6440772">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="6440793">+</span>&nbsp;<span class="ident" id="6440795">BOMs</span>&nbsp;<span class="op" id="6440800">+</span>&nbsp;<span class="string" id="6440802">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="6440827">+</span>&nbsp;<span class="ident" id="6440829">BOMs</span>&nbsp;<span class="op" id="6440834">+</span>&nbsp;<span class="string" id="6440836">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="6440867">)</span><span class="op" id="6440868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440871">checkTok</span><span class="op" id="6440879">(</span><span class="ident" id="6440880">t</span><span class="op" id="6440881">,</span>&nbsp;<span class="ident" id="6440883">s</span><span class="op" id="6440884">,</span>&nbsp;<span class="num" id="6440886">1</span><span class="op" id="6440887">,</span>&nbsp;<span class="ident" id="6440889">s</span><span class="op" id="6440890">.</span><span class="ident" id="6440891">Scan</span><span class="op" id="6440895">(</span><span class="op" id="6440896">)</span><span class="op" id="6440897">,</span>&nbsp;<span class="ident" id="6440899">Ident</span><span class="op" id="6440904">,</span>&nbsp;<span class="string" id="6440906">&#34;if&#34;</span><span class="op" id="6440910">)</span>&nbsp;<span class="comment" id="6440912">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440941">checkTok</span><span class="op" id="6440949">(</span><span class="ident" id="6440950">t</span><span class="op" id="6440951">,</span>&nbsp;<span class="ident" id="6440953">s</span><span class="op" id="6440954">,</span>&nbsp;<span class="num" id="6440956">1</span><span class="op" id="6440957">,</span>&nbsp;<span class="ident" id="6440959">s</span><span class="op" id="6440960">.</span><span class="ident" id="6440961">Scan</span><span class="op" id="6440965">(</span><span class="op" id="6440966">)</span><span class="op" id="6440967">,</span>&nbsp;<span class="ident" id="6440969">Ident</span><span class="op" id="6440974">,</span>&nbsp;<span class="string" id="6440976">&#34;a&#34;</span><span class="op" id="6440979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6440982">checkTok</span><span class="op" id="6440990">(</span><span class="ident" id="6440991">t</span><span class="op" id="6440992">,</span>&nbsp;<span class="ident" id="6440994">s</span><span class="op" id="6440995">,</span>&nbsp;<span class="num" id="6440997">1</span><span class="op" id="6440998">,</span>&nbsp;<span class="ident" id="6441000">s</span><span class="op" id="6441001">.</span><span class="ident" id="6441002">Scan</span><span class="op" id="6441006">(</span><span class="op" id="6441007">)</span><span class="op" id="6441008">,</span>&nbsp;<span class="string" id="6441010">&#39;=&#39;</span><span class="op" id="6441013">,</span>&nbsp;<span class="string" id="6441015">&#34;=&#34;</span><span class="op" id="6441018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441021">checkTok</span><span class="op" id="6441029">(</span><span class="ident" id="6441030">t</span><span class="op" id="6441031">,</span>&nbsp;<span class="ident" id="6441033">s</span><span class="op" id="6441034">,</span>&nbsp;<span class="num" id="6441036">0</span><span class="op" id="6441037">,</span>&nbsp;<span class="ident" id="6441039">s</span><span class="op" id="6441040">.</span><span class="ident" id="6441041">Next</span><span class="op" id="6441045">(</span><span class="op" id="6441046">)</span><span class="op" id="6441047">,</span>&nbsp;<span class="string" id="6441049">&#39;=&#39;</span><span class="op" id="6441052">,</span>&nbsp;<span class="string" id="6441054">&#34;&#34;</span><span class="op" id="6441056">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441059">checkTok</span><span class="op" id="6441067">(</span><span class="ident" id="6441068">t</span><span class="op" id="6441069">,</span>&nbsp;<span class="ident" id="6441071">s</span><span class="op" id="6441072">,</span>&nbsp;<span class="num" id="6441074">0</span><span class="op" id="6441075">,</span>&nbsp;<span class="ident" id="6441077">s</span><span class="op" id="6441078">.</span><span class="ident" id="6441079">Next</span><span class="op" id="6441083">(</span><span class="op" id="6441084">)</span><span class="op" id="6441085">,</span>&nbsp;<span class="string" id="6441087">&#39;&nbsp;&#39;</span><span class="op" id="6441090">,</span>&nbsp;<span class="string" id="6441092">&#34;&#34;</span><span class="op" id="6441094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441097">checkTok</span><span class="op" id="6441105">(</span><span class="ident" id="6441106">t</span><span class="op" id="6441107">,</span>&nbsp;<span class="ident" id="6441109">s</span><span class="op" id="6441110">,</span>&nbsp;<span class="num" id="6441112">0</span><span class="op" id="6441113">,</span>&nbsp;<span class="ident" id="6441115">s</span><span class="op" id="6441116">.</span><span class="ident" id="6441117">Next</span><span class="op" id="6441121">(</span><span class="op" id="6441122">)</span><span class="op" id="6441123">,</span>&nbsp;<span class="string" id="6441125">&#39;b&#39;</span><span class="op" id="6441128">,</span>&nbsp;<span class="string" id="6441130">&#34;&#34;</span><span class="op" id="6441132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441135">checkTok</span><span class="op" id="6441143">(</span><span class="ident" id="6441144">t</span><span class="op" id="6441145">,</span>&nbsp;<span class="ident" id="6441147">s</span><span class="op" id="6441148">,</span>&nbsp;<span class="num" id="6441150">1</span><span class="op" id="6441151">,</span>&nbsp;<span class="ident" id="6441153">s</span><span class="op" id="6441154">.</span><span class="ident" id="6441155">Scan</span><span class="op" id="6441159">(</span><span class="op" id="6441160">)</span><span class="op" id="6441161">,</span>&nbsp;<span class="ident" id="6441163">Ident</span><span class="op" id="6441168">,</span>&nbsp;<span class="string" id="6441170">&#34;cd&#34;</span><span class="op" id="6441174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441177">checkTok</span><span class="op" id="6441185">(</span><span class="ident" id="6441186">t</span><span class="op" id="6441187">,</span>&nbsp;<span class="ident" id="6441189">s</span><span class="op" id="6441190">,</span>&nbsp;<span class="num" id="6441192">1</span><span class="op" id="6441193">,</span>&nbsp;<span class="ident" id="6441195">s</span><span class="op" id="6441196">.</span><span class="ident" id="6441197">Scan</span><span class="op" id="6441201">(</span><span class="op" id="6441202">)</span><span class="op" id="6441203">,</span>&nbsp;<span class="string" id="6441205">&#39;{&#39;</span><span class="op" id="6441208">,</span>&nbsp;<span class="string" id="6441210">&#34;{&#34;</span><span class="op" id="6441213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441216">checkTok</span><span class="op" id="6441224">(</span><span class="ident" id="6441225">t</span><span class="op" id="6441226">,</span>&nbsp;<span class="ident" id="6441228">s</span><span class="op" id="6441229">,</span>&nbsp;<span class="num" id="6441231">2</span><span class="op" id="6441232">,</span>&nbsp;<span class="ident" id="6441234">s</span><span class="op" id="6441235">.</span><span class="ident" id="6441236">Scan</span><span class="op" id="6441240">(</span><span class="op" id="6441241">)</span><span class="op" id="6441242">,</span>&nbsp;<span class="ident" id="6441244">Ident</span><span class="op" id="6441249">,</span>&nbsp;<span class="string" id="6441251">&#34;a&#34;</span><span class="op" id="6441254">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441257">checkTok</span><span class="op" id="6441265">(</span><span class="ident" id="6441266">t</span><span class="op" id="6441267">,</span>&nbsp;<span class="ident" id="6441269">s</span><span class="op" id="6441270">,</span>&nbsp;<span class="num" id="6441272">2</span><span class="op" id="6441273">,</span>&nbsp;<span class="ident" id="6441275">s</span><span class="op" id="6441276">.</span><span class="ident" id="6441277">Scan</span><span class="op" id="6441281">(</span><span class="op" id="6441282">)</span><span class="op" id="6441283">,</span>&nbsp;<span class="string" id="6441285">&#39;+&#39;</span><span class="op" id="6441288">,</span>&nbsp;<span class="string" id="6441290">&#34;+&#34;</span><span class="op" id="6441293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441296">checkTok</span><span class="op" id="6441304">(</span><span class="ident" id="6441305">t</span><span class="op" id="6441306">,</span>&nbsp;<span class="ident" id="6441308">s</span><span class="op" id="6441309">,</span>&nbsp;<span class="num" id="6441311">0</span><span class="op" id="6441312">,</span>&nbsp;<span class="ident" id="6441314">s</span><span class="op" id="6441315">.</span><span class="ident" id="6441316">Next</span><span class="op" id="6441320">(</span><span class="op" id="6441321">)</span><span class="op" id="6441322">,</span>&nbsp;<span class="string" id="6441324">&#39;=&#39;</span><span class="op" id="6441327">,</span>&nbsp;<span class="string" id="6441329">&#34;&#34;</span><span class="op" id="6441331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441334">checkTok</span><span class="op" id="6441342">(</span><span class="ident" id="6441343">t</span><span class="op" id="6441344">,</span>&nbsp;<span class="ident" id="6441346">s</span><span class="op" id="6441347">,</span>&nbsp;<span class="num" id="6441349">2</span><span class="op" id="6441350">,</span>&nbsp;<span class="ident" id="6441352">s</span><span class="op" id="6441353">.</span><span class="ident" id="6441354">Scan</span><span class="op" id="6441358">(</span><span class="op" id="6441359">)</span><span class="op" id="6441360">,</span>&nbsp;<span class="ident" id="6441362">Ident</span><span class="op" id="6441367">,</span>&nbsp;<span class="string" id="6441369">&#34;c&#34;</span><span class="op" id="6441372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441375">checkTok</span><span class="op" id="6441383">(</span><span class="ident" id="6441384">t</span><span class="op" id="6441385">,</span>&nbsp;<span class="ident" id="6441387">s</span><span class="op" id="6441388">,</span>&nbsp;<span class="num" id="6441390">3</span><span class="op" id="6441391">,</span>&nbsp;<span class="ident" id="6441393">s</span><span class="op" id="6441394">.</span><span class="ident" id="6441395">Scan</span><span class="op" id="6441399">(</span><span class="op" id="6441400">)</span><span class="op" id="6441401">,</span>&nbsp;<span class="string" id="6441403">&#39;}&#39;</span><span class="op" id="6441406">,</span>&nbsp;<span class="string" id="6441408">&#34;}&#34;</span><span class="op" id="6441411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441414">checkTok</span><span class="op" id="6441422">(</span><span class="ident" id="6441423">t</span><span class="op" id="6441424">,</span>&nbsp;<span class="ident" id="6441426">s</span><span class="op" id="6441427">,</span>&nbsp;<span class="num" id="6441429">3</span><span class="op" id="6441430">,</span>&nbsp;<span class="ident" id="6441432">s</span><span class="op" id="6441433">.</span><span class="ident" id="6441434">Scan</span><span class="op" id="6441438">(</span><span class="op" id="6441439">)</span><span class="op" id="6441440">,</span>&nbsp;<span class="ident" id="6441442">BOM</span><span class="op" id="6441445">,</span>&nbsp;<span class="ident" id="6441447">BOMs</span><span class="op" id="6441451">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441454">checkTok</span><span class="op" id="6441462">(</span><span class="ident" id="6441463">t</span><span class="op" id="6441464">,</span>&nbsp;<span class="ident" id="6441466">s</span><span class="op" id="6441467">,</span>&nbsp;<span class="num" id="6441469">3</span><span class="op" id="6441470">,</span>&nbsp;<span class="ident" id="6441472">s</span><span class="op" id="6441473">.</span><span class="ident" id="6441474">Scan</span><span class="op" id="6441478">(</span><span class="op" id="6441479">)</span><span class="op" id="6441480">,</span>&nbsp;<span class="op" id="6441482">-</span><span class="num" id="6441483">1</span><span class="op" id="6441484">,</span>&nbsp;<span class="string" id="6441486">&#34;&#34;</span><span class="op" id="6441488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6441491">if</span>&nbsp;<span class="ident" id="6441494">s</span><span class="op" id="6441495">.</span><span class="ident" id="6441496">ErrorCount</span>&nbsp;<span class="op" id="6441507">!=</span>&nbsp;<span class="num" id="6441510">0</span>&nbsp;<span class="op" id="6441512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441516">t</span><span class="op" id="6441517">.</span><span class="ident" id="6441518">Errorf</span><span class="op" id="6441524">(</span><span class="string" id="6441525">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6441536">,</span>&nbsp;<span class="ident" id="6441538">s</span><span class="op" id="6441539">.</span><span class="ident" id="6441540">ErrorCount</span><span class="op" id="6441550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6441553">}</span><br>
<span class="lineno"></span><span class="op" id="6441555">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="6441558">func</span>&nbsp;<span class="ident" id="6441563">TestScanWhitespace</span><span class="op" id="6441581">(</span><span class="ident" id="6441582">t</span>&nbsp;<span class="op" id="6441584">*</span><span class="ident" id="6441585">testing</span><span class="op" id="6441592">.</span><span class="ident" id="6441593">T</span><span class="op" id="6441594">)</span>&nbsp;<span class="op" id="6441596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6441599">var</span>&nbsp;<span class="ident" id="6441603">buf</span>&nbsp;<span class="ident" id="6441607">bytes</span><span class="op" id="6441612">.</span><span class="ident" id="6441613">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6441621">var</span>&nbsp;<span class="ident" id="6441625">ws</span>&nbsp;<span class="ident" id="6441628">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6441636">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6441681">for</span>&nbsp;<span class="ident" id="6441685">ch</span>&nbsp;<span class="op" id="6441688">:=</span>&nbsp;<span class="builtintype" id="6441691">byte</span><span class="op" id="6441695">(</span><span class="num" id="6441696">1</span><span class="op" id="6441697">)</span><span class="op" id="6441698">;</span>&nbsp;<span class="ident" id="6441700">ch</span>&nbsp;<span class="op" id="6441703">&lt;</span>&nbsp;<span class="string" id="6441705">&#39;&nbsp;&#39;</span><span class="op" id="6441708">;</span>&nbsp;<span class="ident" id="6441710">ch</span><span class="op" id="6441712">++</span>&nbsp;<span class="op" id="6441715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441719">buf</span><span class="op" id="6441722">.</span><span class="ident" id="6441723">WriteByte</span><span class="op" id="6441732">(</span><span class="ident" id="6441733">ch</span><span class="op" id="6441735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441739">ws</span>&nbsp;<span class="op" id="6441742">|=</span>&nbsp;<span class="num" id="6441745">1</span>&nbsp;<span class="op" id="6441747">&lt;&lt;</span>&nbsp;<span class="ident" id="6441750">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6441754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6441757">const</span>&nbsp;<span class="ident" id="6441763">orig</span>&nbsp;<span class="op" id="6441768">=</span>&nbsp;<span class="string" id="6441770">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441775">buf</span><span class="op" id="6441778">.</span><span class="ident" id="6441779">WriteByte</span><span class="op" id="6441788">(</span><span class="ident" id="6441789">orig</span><span class="op" id="6441793">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441797">s</span>&nbsp;<span class="op" id="6441799">:=</span>&nbsp;<span class="builtinfunc" id="6441802">new</span><span class="op" id="6441805">(</span><span class="ident" id="6441806">Scanner</span><span class="op" id="6441813">)</span><span class="op" id="6441814">.</span><span class="ident" id="6441815">Init</span><span class="op" id="6441819">(</span><span class="op" id="6441820">&amp;</span><span class="ident" id="6441821">buf</span><span class="op" id="6441824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441827">s</span><span class="op" id="6441828">.</span><span class="ident" id="6441829">Mode</span>&nbsp;<span class="op" id="6441834">=</span>&nbsp;<span class="num" id="6441836">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441839">s</span><span class="op" id="6441840">.</span><span class="ident" id="6441841">Whitespace</span>&nbsp;<span class="op" id="6441852">=</span>&nbsp;<span class="ident" id="6441854">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441858">tok</span>&nbsp;<span class="op" id="6441862">:=</span>&nbsp;<span class="ident" id="6441865">s</span><span class="op" id="6441866">.</span><span class="ident" id="6441867">Scan</span><span class="op" id="6441871">(</span><span class="op" id="6441872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6441875">if</span>&nbsp;<span class="ident" id="6441878">tok</span>&nbsp;<span class="op" id="6441882">!=</span>&nbsp;<span class="ident" id="6441885">orig</span>&nbsp;<span class="op" id="6441890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6441894">t</span><span class="op" id="6441895">.</span><span class="ident" id="6441896">Errorf</span><span class="op" id="6441902">(</span><span class="string" id="6441903">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6441922">,</span>&nbsp;<span class="ident" id="6441924">TokenString</span><span class="op" id="6441935">(</span><span class="ident" id="6441936">tok</span><span class="op" id="6441939">)</span><span class="op" id="6441940">,</span>&nbsp;<span class="ident" id="6441942">TokenString</span><span class="op" id="6441953">(</span><span class="ident" id="6441954">orig</span><span class="op" id="6441958">)</span><span class="op" id="6441959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6441962">}</span><br>
<span class="lineno"></span><span class="op" id="6441964">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="6441967">func</span>&nbsp;<span class="ident" id="6441972">testError</span><span class="op" id="6441981">(</span><span class="ident" id="6441982">t</span>&nbsp;<span class="op" id="6441984">*</span><span class="ident" id="6441985">testing</span><span class="op" id="6441992">.</span><span class="ident" id="6441993">T</span><span class="op" id="6441994">,</span>&nbsp;<span class="ident" id="6441996">src</span><span class="op" id="6441999">,</span>&nbsp;<span class="ident" id="6442001">pos</span><span class="op" id="6442004">,</span>&nbsp;<span class="ident" id="6442006">msg</span>&nbsp;<span class="builtintype" id="6442010">string</span><span class="op" id="6442016">,</span>&nbsp;<span class="ident" id="6442018">tok</span>&nbsp;<span class="builtintype" id="6442022">rune</span><span class="op" id="6442026">)</span>&nbsp;<span class="op" id="6442028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442031">s</span>&nbsp;<span class="op" id="6442033">:=</span>&nbsp;<span class="builtinfunc" id="6442036">new</span><span class="op" id="6442039">(</span><span class="ident" id="6442040">Scanner</span><span class="op" id="6442047">)</span><span class="op" id="6442048">.</span><span class="ident" id="6442049">Init</span><span class="op" id="6442053">(</span><span class="ident" id="6442054">strings</span><span class="op" id="6442061">.</span><span class="ident" id="6442062">NewReader</span><span class="op" id="6442071">(</span><span class="ident" id="6442072">src</span><span class="op" id="6442075">)</span><span class="op" id="6442076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442079">errorCalled</span>&nbsp;<span class="op" id="6442091">:=</span>&nbsp;<span class="builtintype" id="6442094">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442101">s</span><span class="op" id="6442102">.</span><span class="ident" id="6442103">Error</span>&nbsp;<span class="op" id="6442109">=</span>&nbsp;<span class="keyword" id="6442111">func</span><span class="op" id="6442115">(</span><span class="ident" id="6442116">s</span>&nbsp;<span class="op" id="6442118">*</span><span class="ident" id="6442119">Scanner</span><span class="op" id="6442126">,</span>&nbsp;<span class="ident" id="6442128">m</span>&nbsp;<span class="builtintype" id="6442130">string</span><span class="op" id="6442136">)</span>&nbsp;<span class="op" id="6442138">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6442142">if</span>&nbsp;<span class="op" id="6442145">!</span><span class="ident" id="6442146">errorCalled</span>&nbsp;<span class="op" id="6442158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6442163">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6442194">if</span>&nbsp;<span class="ident" id="6442197">p</span>&nbsp;<span class="op" id="6442199">:=</span>&nbsp;<span class="ident" id="6442202">s</span><span class="op" id="6442203">.</span><span class="ident" id="6442204">Pos</span><span class="op" id="6442207">(</span><span class="op" id="6442208">)</span><span class="op" id="6442209">.</span><span class="ident" id="6442210">String</span><span class="op" id="6442216">(</span><span class="op" id="6442217">)</span><span class="op" id="6442218">;</span>&nbsp;<span class="ident" id="6442220">p</span>&nbsp;<span class="op" id="6442222">!=</span>&nbsp;<span class="ident" id="6442225">pos</span>&nbsp;<span class="op" id="6442229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442235">t</span><span class="op" id="6442236">.</span><span class="ident" id="6442237">Errorf</span><span class="op" id="6442243">(</span><span class="string" id="6442244">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6442270">,</span>&nbsp;<span class="ident" id="6442272">p</span><span class="op" id="6442273">,</span>&nbsp;<span class="ident" id="6442275">pos</span><span class="op" id="6442278">,</span>&nbsp;<span class="ident" id="6442280">src</span><span class="op" id="6442283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6442288">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6442293">if</span>&nbsp;<span class="ident" id="6442296">m</span>&nbsp;<span class="op" id="6442298">!=</span>&nbsp;<span class="ident" id="6442301">msg</span>&nbsp;<span class="op" id="6442305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442311">t</span><span class="op" id="6442312">.</span><span class="ident" id="6442313">Errorf</span><span class="op" id="6442319">(</span><span class="string" id="6442320">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6442346">,</span>&nbsp;<span class="ident" id="6442348">m</span><span class="op" id="6442349">,</span>&nbsp;<span class="ident" id="6442351">msg</span><span class="op" id="6442354">,</span>&nbsp;<span class="ident" id="6442356">src</span><span class="op" id="6442359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6442364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442369">errorCalled</span>&nbsp;<span class="op" id="6442381">=</span>&nbsp;<span class="builtintype" id="6442383">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6442390">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6442393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442396">tk</span>&nbsp;<span class="op" id="6442399">:=</span>&nbsp;<span class="ident" id="6442402">s</span><span class="op" id="6442403">.</span><span class="ident" id="6442404">Scan</span><span class="op" id="6442408">(</span><span class="op" id="6442409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6442412">if</span>&nbsp;<span class="ident" id="6442415">tk</span>&nbsp;<span class="op" id="6442418">!=</span>&nbsp;<span class="ident" id="6442421">tok</span>&nbsp;<span class="op" id="6442425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442429">t</span><span class="op" id="6442430">.</span><span class="ident" id="6442431">Errorf</span><span class="op" id="6442437">(</span><span class="string" id="6442438">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6442464">,</span>&nbsp;<span class="ident" id="6442466">TokenString</span><span class="op" id="6442477">(</span><span class="ident" id="6442478">tk</span><span class="op" id="6442480">)</span><span class="op" id="6442481">,</span>&nbsp;<span class="ident" id="6442483">TokenString</span><span class="op" id="6442494">(</span><span class="ident" id="6442495">tok</span><span class="op" id="6442498">)</span><span class="op" id="6442499">,</span>&nbsp;<span class="ident" id="6442501">src</span><span class="op" id="6442504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6442507">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6442510">if</span>&nbsp;<span class="op" id="6442513">!</span><span class="ident" id="6442514">errorCalled</span>&nbsp;<span class="op" id="6442526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442530">t</span><span class="op" id="6442531">.</span><span class="ident" id="6442532">Errorf</span><span class="op" id="6442538">(</span><span class="string" id="6442539">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6442572">,</span>&nbsp;<span class="ident" id="6442574">src</span><span class="op" id="6442577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6442580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6442583">if</span>&nbsp;<span class="ident" id="6442586">s</span><span class="op" id="6442587">.</span><span class="ident" id="6442588">ErrorCount</span>&nbsp;<span class="op" id="6442599">==</span>&nbsp;<span class="num" id="6442602">0</span>&nbsp;<span class="op" id="6442604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442608">t</span><span class="op" id="6442609">.</span><span class="ident" id="6442610">Errorf</span><span class="op" id="6442616">(</span><span class="string" id="6442617">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6442646">,</span>&nbsp;<span class="ident" id="6442648">s</span><span class="op" id="6442649">.</span><span class="ident" id="6442650">ErrorCount</span><span class="op" id="6442660">,</span>&nbsp;<span class="ident" id="6442662">src</span><span class="op" id="6442665">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6442668">}</span><br>
<span class="lineno"></span><span class="op" id="6442670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6442673">func</span>&nbsp;<span class="ident" id="6442678">TestError</span><span class="op" id="6442687">(</span><span class="ident" id="6442688">t</span>&nbsp;<span class="op" id="6442690">*</span><span class="ident" id="6442691">testing</span><span class="op" id="6442698">.</span><span class="ident" id="6442699">T</span><span class="op" id="6442700">)</span>&nbsp;<span class="op" id="6442702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442705">testError</span><span class="op" id="6442714">(</span><span class="ident" id="6442715">t</span><span class="op" id="6442716">,</span>&nbsp;<span class="string" id="6442718">&#34;\x00&#34;</span><span class="op" id="6442724">,</span>&nbsp;<span class="string" id="6442726">&#34;1:1&#34;</span><span class="op" id="6442731">,</span>&nbsp;<span class="string" id="6442733">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6442756">,</span>&nbsp;<span class="num" id="6442758">0</span><span class="op" id="6442759">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442762">testError</span><span class="op" id="6442771">(</span><span class="ident" id="6442772">t</span><span class="op" id="6442773">,</span>&nbsp;<span class="string" id="6442775">&#34;\x80&#34;</span><span class="op" id="6442781">,</span>&nbsp;<span class="string" id="6442783">&#34;1:1&#34;</span><span class="op" id="6442788">,</span>&nbsp;<span class="string" id="6442790">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6442814">,</span>&nbsp;<span class="ident" id="6442816">utf8</span><span class="op" id="6442820">.</span><span class="ident" id="6442821">RuneError</span><span class="op" id="6442830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442833">testError</span><span class="op" id="6442842">(</span><span class="ident" id="6442843">t</span><span class="op" id="6442844">,</span>&nbsp;<span class="string" id="6442846">&#34;\xff&#34;</span><span class="op" id="6442852">,</span>&nbsp;<span class="string" id="6442854">&#34;1:1&#34;</span><span class="op" id="6442859">,</span>&nbsp;<span class="string" id="6442861">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6442885">,</span>&nbsp;<span class="ident" id="6442887">utf8</span><span class="op" id="6442891">.</span><span class="ident" id="6442892">RuneError</span><span class="op" id="6442901">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442905">testError</span><span class="op" id="6442914">(</span><span class="ident" id="6442915">t</span><span class="op" id="6442916">,</span>&nbsp;<span class="string" id="6442918">&#34;a\x00&#34;</span><span class="op" id="6442925">,</span>&nbsp;<span class="string" id="6442927">&#34;1:2&#34;</span><span class="op" id="6442932">,</span>&nbsp;<span class="string" id="6442934">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6442957">,</span>&nbsp;<span class="ident" id="6442959">Ident</span><span class="op" id="6442964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6442967">testError</span><span class="op" id="6442976">(</span><span class="ident" id="6442977">t</span><span class="op" id="6442978">,</span>&nbsp;<span class="string" id="6442980">&#34;ab\x80&#34;</span><span class="op" id="6442988">,</span>&nbsp;<span class="string" id="6442990">&#34;1:3&#34;</span><span class="op" id="6442995">,</span>&nbsp;<span class="string" id="6442997">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6443021">,</span>&nbsp;<span class="ident" id="6443023">Ident</span><span class="op" id="6443028">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443031">testError</span><span class="op" id="6443040">(</span><span class="ident" id="6443041">t</span><span class="op" id="6443042">,</span>&nbsp;<span class="string" id="6443044">&#34;abc\xff&#34;</span><span class="op" id="6443053">,</span>&nbsp;<span class="string" id="6443055">&#34;1:4&#34;</span><span class="op" id="6443060">,</span>&nbsp;<span class="string" id="6443062">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6443086">,</span>&nbsp;<span class="ident" id="6443088">Ident</span><span class="op" id="6443093">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443097">testError</span><span class="op" id="6443106">(</span><span class="ident" id="6443107">t</span><span class="op" id="6443108">,</span>&nbsp;<span class="string" id="6443110">`&#34;a`</span><span class="op" id="6443114">+</span><span class="string" id="6443115">&#34;\x00&#34;</span><span class="op" id="6443121">,</span>&nbsp;<span class="string" id="6443123">&#34;1:3&#34;</span><span class="op" id="6443128">,</span>&nbsp;<span class="string" id="6443130">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6443153">,</span>&nbsp;<span class="ident" id="6443155">String</span><span class="op" id="6443161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443164">testError</span><span class="op" id="6443173">(</span><span class="ident" id="6443174">t</span><span class="op" id="6443175">,</span>&nbsp;<span class="string" id="6443177">`&#34;ab`</span><span class="op" id="6443182">+</span><span class="string" id="6443183">&#34;\x80&#34;</span><span class="op" id="6443189">,</span>&nbsp;<span class="string" id="6443191">&#34;1:4&#34;</span><span class="op" id="6443196">,</span>&nbsp;<span class="string" id="6443198">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6443222">,</span>&nbsp;<span class="ident" id="6443224">String</span><span class="op" id="6443230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443233">testError</span><span class="op" id="6443242">(</span><span class="ident" id="6443243">t</span><span class="op" id="6443244">,</span>&nbsp;<span class="string" id="6443246">`&#34;abc`</span><span class="op" id="6443252">+</span><span class="string" id="6443253">&#34;\xff&#34;</span><span class="op" id="6443259">,</span>&nbsp;<span class="string" id="6443261">&#34;1:5&#34;</span><span class="op" id="6443266">,</span>&nbsp;<span class="string" id="6443268">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6443292">,</span>&nbsp;<span class="ident" id="6443294">String</span><span class="op" id="6443300">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443304">testError</span><span class="op" id="6443313">(</span><span class="ident" id="6443314">t</span><span class="op" id="6443315">,</span>&nbsp;<span class="string" id="6443317">&#34;`a&#34;</span><span class="op" id="6443321">+</span><span class="string" id="6443322">&#34;\x00&#34;</span><span class="op" id="6443328">,</span>&nbsp;<span class="string" id="6443330">&#34;1:3&#34;</span><span class="op" id="6443335">,</span>&nbsp;<span class="string" id="6443337">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6443360">,</span>&nbsp;<span class="ident" id="6443362">String</span><span class="op" id="6443368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443371">testError</span><span class="op" id="6443380">(</span><span class="ident" id="6443381">t</span><span class="op" id="6443382">,</span>&nbsp;<span class="string" id="6443384">&#34;`ab&#34;</span><span class="op" id="6443389">+</span><span class="string" id="6443390">&#34;\x80&#34;</span><span class="op" id="6443396">,</span>&nbsp;<span class="string" id="6443398">&#34;1:4&#34;</span><span class="op" id="6443403">,</span>&nbsp;<span class="string" id="6443405">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6443429">,</span>&nbsp;<span class="ident" id="6443431">String</span><span class="op" id="6443437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443440">testError</span><span class="op" id="6443449">(</span><span class="ident" id="6443450">t</span><span class="op" id="6443451">,</span>&nbsp;<span class="string" id="6443453">&#34;`abc&#34;</span><span class="op" id="6443459">+</span><span class="string" id="6443460">&#34;\xff&#34;</span><span class="op" id="6443466">,</span>&nbsp;<span class="string" id="6443468">&#34;1:5&#34;</span><span class="op" id="6443473">,</span>&nbsp;<span class="string" id="6443475">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6443499">,</span>&nbsp;<span class="ident" id="6443501">String</span><span class="op" id="6443507">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443511">testError</span><span class="op" id="6443520">(</span><span class="ident" id="6443521">t</span><span class="op" id="6443522">,</span>&nbsp;<span class="string" id="6443524">`&#39;\&#34;&#39;`</span><span class="op" id="6443530">,</span>&nbsp;<span class="string" id="6443532">&#34;1:3&#34;</span><span class="op" id="6443537">,</span>&nbsp;<span class="string" id="6443539">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="6443560">,</span>&nbsp;<span class="ident" id="6443562">Char</span><span class="op" id="6443566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443569">testError</span><span class="op" id="6443578">(</span><span class="ident" id="6443579">t</span><span class="op" id="6443580">,</span>&nbsp;<span class="string" id="6443582">`&#34;\&#39;&#34;`</span><span class="op" id="6443588">,</span>&nbsp;<span class="string" id="6443590">&#34;1:3&#34;</span><span class="op" id="6443595">,</span>&nbsp;<span class="string" id="6443597">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="6443618">,</span>&nbsp;<span class="ident" id="6443620">String</span><span class="op" id="6443626">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443630">testError</span><span class="op" id="6443639">(</span><span class="ident" id="6443640">t</span><span class="op" id="6443641">,</span>&nbsp;<span class="string" id="6443643">`01238`</span><span class="op" id="6443650">,</span>&nbsp;<span class="string" id="6443652">&#34;1:6&#34;</span><span class="op" id="6443657">,</span>&nbsp;<span class="string" id="6443659">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6443681">,</span>&nbsp;<span class="ident" id="6443683">Int</span><span class="op" id="6443686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443689">testError</span><span class="op" id="6443698">(</span><span class="ident" id="6443699">t</span><span class="op" id="6443700">,</span>&nbsp;<span class="string" id="6443702">`01238123`</span><span class="op" id="6443712">,</span>&nbsp;<span class="string" id="6443714">&#34;1:9&#34;</span><span class="op" id="6443719">,</span>&nbsp;<span class="string" id="6443721">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6443743">,</span>&nbsp;<span class="ident" id="6443745">Int</span><span class="op" id="6443748">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443751">testError</span><span class="op" id="6443760">(</span><span class="ident" id="6443761">t</span><span class="op" id="6443762">,</span>&nbsp;<span class="string" id="6443764">`0x`</span><span class="op" id="6443768">,</span>&nbsp;<span class="string" id="6443770">&#34;1:3&#34;</span><span class="op" id="6443775">,</span>&nbsp;<span class="string" id="6443777">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6443805">,</span>&nbsp;<span class="ident" id="6443807">Int</span><span class="op" id="6443810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443813">testError</span><span class="op" id="6443822">(</span><span class="ident" id="6443823">t</span><span class="op" id="6443824">,</span>&nbsp;<span class="string" id="6443826">`0xg`</span><span class="op" id="6443831">,</span>&nbsp;<span class="string" id="6443833">&#34;1:3&#34;</span><span class="op" id="6443838">,</span>&nbsp;<span class="string" id="6443840">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6443868">,</span>&nbsp;<span class="ident" id="6443870">Int</span><span class="op" id="6443873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443876">testError</span><span class="op" id="6443885">(</span><span class="ident" id="6443886">t</span><span class="op" id="6443887">,</span>&nbsp;<span class="string" id="6443889">`&#39;aa&#39;`</span><span class="op" id="6443895">,</span>&nbsp;<span class="string" id="6443897">&#34;1:4&#34;</span><span class="op" id="6443902">,</span>&nbsp;<span class="string" id="6443904">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="6443926">,</span>&nbsp;<span class="ident" id="6443928">Char</span><span class="op" id="6443932">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443936">testError</span><span class="op" id="6443945">(</span><span class="ident" id="6443946">t</span><span class="op" id="6443947">,</span>&nbsp;<span class="string" id="6443949">`&#39;`</span><span class="op" id="6443952">,</span>&nbsp;<span class="string" id="6443954">&#34;1:2&#34;</span><span class="op" id="6443959">,</span>&nbsp;<span class="string" id="6443961">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6443985">,</span>&nbsp;<span class="ident" id="6443987">Char</span><span class="op" id="6443991">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6443994">testError</span><span class="op" id="6444003">(</span><span class="ident" id="6444004">t</span><span class="op" id="6444005">,</span>&nbsp;<span class="string" id="6444007">`&#39;`</span><span class="op" id="6444010">+</span><span class="string" id="6444011">&#34;\n&#34;</span><span class="op" id="6444015">,</span>&nbsp;<span class="string" id="6444017">&#34;1:2&#34;</span><span class="op" id="6444022">,</span>&nbsp;<span class="string" id="6444024">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6444048">,</span>&nbsp;<span class="ident" id="6444050">Char</span><span class="op" id="6444054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444057">testError</span><span class="op" id="6444066">(</span><span class="ident" id="6444067">t</span><span class="op" id="6444068">,</span>&nbsp;<span class="string" id="6444070">`&#34;abc`</span><span class="op" id="6444076">,</span>&nbsp;<span class="string" id="6444078">&#34;1:5&#34;</span><span class="op" id="6444083">,</span>&nbsp;<span class="string" id="6444085">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6444109">,</span>&nbsp;<span class="ident" id="6444111">String</span><span class="op" id="6444117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444120">testError</span><span class="op" id="6444129">(</span><span class="ident" id="6444130">t</span><span class="op" id="6444131">,</span>&nbsp;<span class="string" id="6444133">`&#34;abc`</span><span class="op" id="6444139">+</span><span class="string" id="6444140">&#34;\n&#34;</span><span class="op" id="6444144">,</span>&nbsp;<span class="string" id="6444146">&#34;1:5&#34;</span><span class="op" id="6444151">,</span>&nbsp;<span class="string" id="6444153">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6444177">,</span>&nbsp;<span class="ident" id="6444179">String</span><span class="op" id="6444185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444188">testError</span><span class="op" id="6444197">(</span><span class="ident" id="6444198">t</span><span class="op" id="6444199">,</span>&nbsp;<span class="string" id="6444201">&#34;`abc\n&#34;</span><span class="op" id="6444209">,</span>&nbsp;<span class="string" id="6444211">&#34;2:1&#34;</span><span class="op" id="6444216">,</span>&nbsp;<span class="string" id="6444218">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6444242">,</span>&nbsp;<span class="ident" id="6444244">String</span><span class="op" id="6444250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444253">testError</span><span class="op" id="6444262">(</span><span class="ident" id="6444263">t</span><span class="op" id="6444264">,</span>&nbsp;<span class="string" id="6444266">`/*/`</span><span class="op" id="6444271">,</span>&nbsp;<span class="string" id="6444273">&#34;1:4&#34;</span><span class="op" id="6444278">,</span>&nbsp;<span class="string" id="6444280">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6444304">,</span>&nbsp;<span class="ident" id="6444306">EOF</span><span class="op" id="6444309">)</span><br>
<span class="lineno">485</span><span class="op" id="6444311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6444314">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="6444372">type</span>&nbsp;<span class="ident" id="6444377">errReader</span>&nbsp;<span class="keyword" id="6444387">struct</span><span class="op" id="6444393">{</span><span class="op" id="6444394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="6444397">func</span>&nbsp;<span class="op" id="6444402">(</span><span class="ident" id="6444403">errReader</span><span class="op" id="6444412">)</span>&nbsp;<span class="ident" id="6444414">Read</span><span class="op" id="6444418">(</span><span class="ident" id="6444419">b</span>&nbsp;<span class="op" id="6444421">[</span><span class="op" id="6444422">]</span><span class="builtintype" id="6444423">byte</span><span class="op" id="6444427">)</span>&nbsp;<span class="op" id="6444429">(</span><span class="builtintype" id="6444430">int</span><span class="op" id="6444433">,</span>&nbsp;<span class="builtintype" id="6444435">error</span><span class="op" id="6444440">)</span>&nbsp;<span class="op" id="6444442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6444445">return</span>&nbsp;<span class="num" id="6444452">0</span><span class="op" id="6444453">,</span>&nbsp;<span class="ident" id="6444455">io</span><span class="op" id="6444457">.</span><span class="ident" id="6444458">ErrNoProgress</span>&nbsp;<span class="comment" id="6444472">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="6444505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6444508">func</span>&nbsp;<span class="ident" id="6444513">TestIOError</span><span class="op" id="6444524">(</span><span class="ident" id="6444525">t</span>&nbsp;<span class="op" id="6444527">*</span><span class="ident" id="6444528">testing</span><span class="op" id="6444535">.</span><span class="ident" id="6444536">T</span><span class="op" id="6444537">)</span>&nbsp;<span class="op" id="6444539">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444542">s</span>&nbsp;<span class="op" id="6444544">:=</span>&nbsp;<span class="builtinfunc" id="6444547">new</span><span class="op" id="6444550">(</span><span class="ident" id="6444551">Scanner</span><span class="op" id="6444558">)</span><span class="op" id="6444559">.</span><span class="ident" id="6444560">Init</span><span class="op" id="6444564">(</span><span class="ident" id="6444565">errReader</span><span class="op" id="6444574">{</span><span class="op" id="6444575">}</span><span class="op" id="6444576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444579">errorCalled</span>&nbsp;<span class="op" id="6444591">:=</span>&nbsp;<span class="builtintype" id="6444594">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444601">s</span><span class="op" id="6444602">.</span><span class="ident" id="6444603">Error</span>&nbsp;<span class="op" id="6444609">=</span>&nbsp;<span class="keyword" id="6444611">func</span><span class="op" id="6444615">(</span><span class="ident" id="6444616">s</span>&nbsp;<span class="op" id="6444618">*</span><span class="ident" id="6444619">Scanner</span><span class="op" id="6444626">,</span>&nbsp;<span class="ident" id="6444628">msg</span>&nbsp;<span class="builtintype" id="6444632">string</span><span class="op" id="6444638">)</span>&nbsp;<span class="op" id="6444640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6444644">if</span>&nbsp;<span class="op" id="6444647">!</span><span class="ident" id="6444648">errorCalled</span>&nbsp;<span class="op" id="6444660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6444665">if</span>&nbsp;<span class="ident" id="6444668">want</span>&nbsp;<span class="op" id="6444673">:=</span>&nbsp;<span class="ident" id="6444676">io</span><span class="op" id="6444678">.</span><span class="ident" id="6444679">ErrNoProgress</span><span class="op" id="6444692">.</span><span class="ident" id="6444693">Error</span><span class="op" id="6444698">(</span><span class="op" id="6444699">)</span><span class="op" id="6444700">;</span>&nbsp;<span class="ident" id="6444702">msg</span>&nbsp;<span class="op" id="6444706">!=</span>&nbsp;<span class="ident" id="6444709">want</span>&nbsp;<span class="op" id="6444714">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444720">t</span><span class="op" id="6444721">.</span><span class="ident" id="6444722">Errorf</span><span class="op" id="6444728">(</span><span class="string" id="6444729">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6444748">,</span>&nbsp;<span class="ident" id="6444750">msg</span><span class="op" id="6444753">,</span>&nbsp;<span class="ident" id="6444755">want</span><span class="op" id="6444759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6444764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444769">errorCalled</span>&nbsp;<span class="op" id="6444781">=</span>&nbsp;<span class="builtintype" id="6444783">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6444790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6444793">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444796">tok</span>&nbsp;<span class="op" id="6444800">:=</span>&nbsp;<span class="ident" id="6444803">s</span><span class="op" id="6444804">.</span><span class="ident" id="6444805">Scan</span><span class="op" id="6444809">(</span><span class="op" id="6444810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6444813">if</span>&nbsp;<span class="ident" id="6444816">tok</span>&nbsp;<span class="op" id="6444820">!=</span>&nbsp;<span class="ident" id="6444823">EOF</span>&nbsp;<span class="op" id="6444827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444831">t</span><span class="op" id="6444832">.</span><span class="ident" id="6444833">Errorf</span><span class="op" id="6444839">(</span><span class="string" id="6444840">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="6444860">,</span>&nbsp;<span class="ident" id="6444862">TokenString</span><span class="op" id="6444873">(</span><span class="ident" id="6444874">tok</span><span class="op" id="6444877">)</span><span class="op" id="6444878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6444881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6444884">if</span>&nbsp;<span class="op" id="6444887">!</span><span class="ident" id="6444888">errorCalled</span>&nbsp;<span class="op" id="6444900">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6444904">t</span><span class="op" id="6444905">.</span><span class="ident" id="6444906">Errorf</span><span class="op" id="6444912">(</span><span class="string" id="6444913">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="6444939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6444942">}</span><br>
<span class="lineno"></span><span class="op" id="6444944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6444947">func</span>&nbsp;<span class="ident" id="6444952">checkPos</span><span class="op" id="6444960">(</span><span class="ident" id="6444961">t</span>&nbsp;<span class="op" id="6444963">*</span><span class="ident" id="6444964">testing</span><span class="op" id="6444971">.</span><span class="ident" id="6444972">T</span><span class="op" id="6444973">,</span>&nbsp;<span class="ident" id="6444975">got</span><span class="op" id="6444978">,</span>&nbsp;<span class="ident" id="6444980">want</span>&nbsp;<span class="ident" id="6444985">Position</span><span class="op" id="6444993">)</span>&nbsp;<span class="op" id="6444995">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6444998">if</span>&nbsp;<span class="ident" id="6445001">got</span><span class="op" id="6445004">.</span><span class="ident" id="6445005">Offset</span>&nbsp;<span class="op" id="6445012">!=</span>&nbsp;<span class="ident" id="6445015">want</span><span class="op" id="6445019">.</span><span class="ident" id="6445020">Offset</span>&nbsp;<span class="op" id="6445027">||</span>&nbsp;<span class="ident" id="6445030">got</span><span class="op" id="6445033">.</span><span class="ident" id="6445034">Line</span>&nbsp;<span class="op" id="6445039">!=</span>&nbsp;<span class="ident" id="6445042">want</span><span class="op" id="6445046">.</span><span class="ident" id="6445047">Line</span>&nbsp;<span class="op" id="6445052">||</span>&nbsp;<span class="ident" id="6445055">got</span><span class="op" id="6445058">.</span><span class="ident" id="6445059">Column</span>&nbsp;<span class="op" id="6445066">!=</span>&nbsp;<span class="ident" id="6445069">want</span><span class="op" id="6445073">.</span><span class="ident" id="6445074">Column</span>&nbsp;<span class="op" id="6445081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445085">t</span><span class="op" id="6445086">.</span><span class="ident" id="6445087">Errorf</span><span class="op" id="6445093">(</span><span class="string" id="6445094">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="6445150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445155">got</span><span class="op" id="6445158">.</span><span class="ident" id="6445159">Offset</span><span class="op" id="6445165">,</span>&nbsp;<span class="ident" id="6445167">got</span><span class="op" id="6445170">.</span><span class="ident" id="6445171">Line</span><span class="op" id="6445175">,</span>&nbsp;<span class="ident" id="6445177">got</span><span class="op" id="6445180">.</span><span class="ident" id="6445181">Column</span><span class="op" id="6445187">,</span>&nbsp;<span class="ident" id="6445189">want</span><span class="op" id="6445193">.</span><span class="ident" id="6445194">Offset</span><span class="op" id="6445200">,</span>&nbsp;<span class="ident" id="6445202">want</span><span class="op" id="6445206">.</span><span class="ident" id="6445207">Line</span><span class="op" id="6445211">,</span>&nbsp;<span class="ident" id="6445213">want</span><span class="op" id="6445217">.</span><span class="ident" id="6445218">Column</span><span class="op" id="6445224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6445227">}</span><br>
<span class="lineno"></span><span class="op" id="6445229">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="6445232">func</span>&nbsp;<span class="ident" id="6445237">checkNextPos</span><span class="op" id="6445249">(</span><span class="ident" id="6445250">t</span>&nbsp;<span class="op" id="6445252">*</span><span class="ident" id="6445253">testing</span><span class="op" id="6445260">.</span><span class="ident" id="6445261">T</span><span class="op" id="6445262">,</span>&nbsp;<span class="ident" id="6445264">s</span>&nbsp;<span class="op" id="6445266">*</span><span class="ident" id="6445267">Scanner</span><span class="op" id="6445274">,</span>&nbsp;<span class="ident" id="6445276">offset</span><span class="op" id="6445282">,</span>&nbsp;<span class="ident" id="6445284">line</span><span class="op" id="6445288">,</span>&nbsp;<span class="ident" id="6445290">column</span>&nbsp;<span class="builtintype" id="6445297">int</span><span class="op" id="6445300">,</span>&nbsp;<span class="ident" id="6445302">char</span>&nbsp;<span class="builtintype" id="6445307">rune</span><span class="op" id="6445311">)</span>&nbsp;<span class="op" id="6445313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6445316">if</span>&nbsp;<span class="ident" id="6445319">ch</span>&nbsp;<span class="op" id="6445322">:=</span>&nbsp;<span class="ident" id="6445325">s</span><span class="op" id="6445326">.</span><span class="ident" id="6445327">Next</span><span class="op" id="6445331">(</span><span class="op" id="6445332">)</span><span class="op" id="6445333">;</span>&nbsp;<span class="ident" id="6445335">ch</span>&nbsp;<span class="op" id="6445338">!=</span>&nbsp;<span class="ident" id="6445341">char</span>&nbsp;<span class="op" id="6445346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445350">t</span><span class="op" id="6445351">.</span><span class="ident" id="6445352">Errorf</span><span class="op" id="6445358">(</span><span class="string" id="6445359">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6445377">,</span>&nbsp;<span class="ident" id="6445379">TokenString</span><span class="op" id="6445390">(</span><span class="ident" id="6445391">ch</span><span class="op" id="6445393">)</span><span class="op" id="6445394">,</span>&nbsp;<span class="ident" id="6445396">TokenString</span><span class="op" id="6445407">(</span><span class="ident" id="6445408">char</span><span class="op" id="6445412">)</span><span class="op" id="6445413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6445416">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445419">want</span>&nbsp;<span class="op" id="6445424">:=</span>&nbsp;<span class="ident" id="6445427">Position</span><span class="op" id="6445435">{</span><span class="ident" id="6445436">Offset</span><span class="op" id="6445442">:</span>&nbsp;<span class="ident" id="6445444">offset</span><span class="op" id="6445450">,</span>&nbsp;<span class="ident" id="6445452">Line</span><span class="op" id="6445456">:</span>&nbsp;<span class="ident" id="6445458">line</span><span class="op" id="6445462">,</span>&nbsp;<span class="ident" id="6445464">Column</span><span class="op" id="6445470">:</span>&nbsp;<span class="ident" id="6445472">column</span><span class="op" id="6445478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445481">checkPos</span><span class="op" id="6445489">(</span><span class="ident" id="6445490">t</span><span class="op" id="6445491">,</span>&nbsp;<span class="ident" id="6445493">s</span><span class="op" id="6445494">.</span><span class="ident" id="6445495">Pos</span><span class="op" id="6445498">(</span><span class="op" id="6445499">)</span><span class="op" id="6445500">,</span>&nbsp;<span class="ident" id="6445502">want</span><span class="op" id="6445506">)</span><br>
<span class="lineno"></span><span class="op" id="6445508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6445511">func</span>&nbsp;<span class="ident" id="6445516">checkScanPos</span><span class="op" id="6445528">(</span><span class="ident" id="6445529">t</span>&nbsp;<span class="op" id="6445531">*</span><span class="ident" id="6445532">testing</span><span class="op" id="6445539">.</span><span class="ident" id="6445540">T</span><span class="op" id="6445541">,</span>&nbsp;<span class="ident" id="6445543">s</span>&nbsp;<span class="op" id="6445545">*</span><span class="ident" id="6445546">Scanner</span><span class="op" id="6445553">,</span>&nbsp;<span class="ident" id="6445555">offset</span><span class="op" id="6445561">,</span>&nbsp;<span class="ident" id="6445563">line</span><span class="op" id="6445567">,</span>&nbsp;<span class="ident" id="6445569">column</span>&nbsp;<span class="builtintype" id="6445576">int</span><span class="op" id="6445579">,</span>&nbsp;<span class="ident" id="6445581">char</span>&nbsp;<span class="builtintype" id="6445586">rune</span><span class="op" id="6445590">)</span>&nbsp;<span class="op" id="6445592">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445595">want</span>&nbsp;<span class="op" id="6445600">:=</span>&nbsp;<span class="ident" id="6445603">Position</span><span class="op" id="6445611">{</span><span class="ident" id="6445612">Offset</span><span class="op" id="6445618">:</span>&nbsp;<span class="ident" id="6445620">offset</span><span class="op" id="6445626">,</span>&nbsp;<span class="ident" id="6445628">Line</span><span class="op" id="6445632">:</span>&nbsp;<span class="ident" id="6445634">line</span><span class="op" id="6445638">,</span>&nbsp;<span class="ident" id="6445640">Column</span><span class="op" id="6445646">:</span>&nbsp;<span class="ident" id="6445648">column</span><span class="op" id="6445654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445657">checkPos</span><span class="op" id="6445665">(</span><span class="ident" id="6445666">t</span><span class="op" id="6445667">,</span>&nbsp;<span class="ident" id="6445669">s</span><span class="op" id="6445670">.</span><span class="ident" id="6445671">Pos</span><span class="op" id="6445674">(</span><span class="op" id="6445675">)</span><span class="op" id="6445676">,</span>&nbsp;<span class="ident" id="6445678">want</span><span class="op" id="6445682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6445685">if</span>&nbsp;<span class="ident" id="6445688">ch</span>&nbsp;<span class="op" id="6445691">:=</span>&nbsp;<span class="ident" id="6445694">s</span><span class="op" id="6445695">.</span><span class="ident" id="6445696">Scan</span><span class="op" id="6445700">(</span><span class="op" id="6445701">)</span><span class="op" id="6445702">;</span>&nbsp;<span class="ident" id="6445704">ch</span>&nbsp;<span class="op" id="6445707">!=</span>&nbsp;<span class="ident" id="6445710">char</span>&nbsp;<span class="op" id="6445715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445719">t</span><span class="op" id="6445720">.</span><span class="ident" id="6445721">Errorf</span><span class="op" id="6445727">(</span><span class="string" id="6445728">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6445746">,</span>&nbsp;<span class="ident" id="6445748">TokenString</span><span class="op" id="6445759">(</span><span class="ident" id="6445760">ch</span><span class="op" id="6445762">)</span><span class="op" id="6445763">,</span>&nbsp;<span class="ident" id="6445765">TokenString</span><span class="op" id="6445776">(</span><span class="ident" id="6445777">char</span><span class="op" id="6445781">)</span><span class="op" id="6445782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6445786">if</span>&nbsp;<span class="builtintype" id="6445789">string</span><span class="op" id="6445795">(</span><span class="ident" id="6445796">ch</span><span class="op" id="6445798">)</span>&nbsp;<span class="op" id="6445800">!=</span>&nbsp;<span class="ident" id="6445803">s</span><span class="op" id="6445804">.</span><span class="ident" id="6445805">TokenText</span><span class="op" id="6445814">(</span><span class="op" id="6445815">)</span>&nbsp;<span class="op" id="6445817">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445822">t</span><span class="op" id="6445823">.</span><span class="ident" id="6445824">Errorf</span><span class="op" id="6445830">(</span><span class="string" id="6445831">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6445850">,</span>&nbsp;<span class="ident" id="6445852">s</span><span class="op" id="6445853">.</span><span class="ident" id="6445854">TokenText</span><span class="op" id="6445863">(</span><span class="op" id="6445864">)</span><span class="op" id="6445865">,</span>&nbsp;<span class="builtintype" id="6445867">string</span><span class="op" id="6445873">(</span><span class="ident" id="6445874">ch</span><span class="op" id="6445876">)</span><span class="op" id="6445877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6445881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6445884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445887">checkPos</span><span class="op" id="6445895">(</span><span class="ident" id="6445896">t</span><span class="op" id="6445897">,</span>&nbsp;<span class="ident" id="6445899">s</span><span class="op" id="6445900">.</span><span class="ident" id="6445901">Position</span><span class="op" id="6445909">,</span>&nbsp;<span class="ident" id="6445911">want</span><span class="op" id="6445915">)</span><br>
<span class="lineno"></span><span class="op" id="6445917">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="6445920">func</span>&nbsp;<span class="ident" id="6445925">TestPos</span><span class="op" id="6445932">(</span><span class="ident" id="6445933">t</span>&nbsp;<span class="op" id="6445935">*</span><span class="ident" id="6445936">testing</span><span class="op" id="6445943">.</span><span class="ident" id="6445944">T</span><span class="op" id="6445945">)</span>&nbsp;<span class="op" id="6445947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6445950">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6445980">s</span>&nbsp;<span class="op" id="6445982">:=</span>&nbsp;<span class="builtinfunc" id="6445985">new</span><span class="op" id="6445988">(</span><span class="ident" id="6445989">Scanner</span><span class="op" id="6445996">)</span><span class="op" id="6445997">.</span><span class="ident" id="6445998">Init</span><span class="op" id="6446002">(</span><span class="ident" id="6446003">strings</span><span class="op" id="6446010">.</span><span class="ident" id="6446011">NewReader</span><span class="op" id="6446020">(</span><span class="string" id="6446021">&#34;&#34;</span><span class="op" id="6446023">)</span><span class="op" id="6446024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446027">checkPos</span><span class="op" id="6446035">(</span><span class="ident" id="6446036">t</span><span class="op" id="6446037">,</span>&nbsp;<span class="ident" id="6446039">s</span><span class="op" id="6446040">.</span><span class="ident" id="6446041">Pos</span><span class="op" id="6446044">(</span><span class="op" id="6446045">)</span><span class="op" id="6446046">,</span>&nbsp;<span class="ident" id="6446048">Position</span><span class="op" id="6446056">{</span><span class="ident" id="6446057">Offset</span><span class="op" id="6446063">:</span>&nbsp;<span class="num" id="6446065">0</span><span class="op" id="6446066">,</span>&nbsp;<span class="ident" id="6446068">Line</span><span class="op" id="6446072">:</span>&nbsp;<span class="num" id="6446074">1</span><span class="op" id="6446075">,</span>&nbsp;<span class="ident" id="6446077">Column</span><span class="op" id="6446083">:</span>&nbsp;<span class="num" id="6446085">1</span><span class="op" id="6446086">}</span><span class="op" id="6446087">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446090">s</span><span class="op" id="6446091">.</span><span class="ident" id="6446092">Peek</span><span class="op" id="6446096">(</span><span class="op" id="6446097">)</span>&nbsp;<span class="comment" id="6446099">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446136">checkPos</span><span class="op" id="6446144">(</span><span class="ident" id="6446145">t</span><span class="op" id="6446146">,</span>&nbsp;<span class="ident" id="6446148">s</span><span class="op" id="6446149">.</span><span class="ident" id="6446150">Pos</span><span class="op" id="6446153">(</span><span class="op" id="6446154">)</span><span class="op" id="6446155">,</span>&nbsp;<span class="ident" id="6446157">Position</span><span class="op" id="6446165">{</span><span class="ident" id="6446166">Offset</span><span class="op" id="6446172">:</span>&nbsp;<span class="num" id="6446174">0</span><span class="op" id="6446175">,</span>&nbsp;<span class="ident" id="6446177">Line</span><span class="op" id="6446181">:</span>&nbsp;<span class="num" id="6446183">1</span><span class="op" id="6446184">,</span>&nbsp;<span class="ident" id="6446186">Column</span><span class="op" id="6446192">:</span>&nbsp;<span class="num" id="6446194">1</span><span class="op" id="6446195">}</span><span class="op" id="6446196">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6446200">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446244">s</span>&nbsp;<span class="op" id="6446246">=</span>&nbsp;<span class="builtinfunc" id="6446248">new</span><span class="op" id="6446251">(</span><span class="ident" id="6446252">Scanner</span><span class="op" id="6446259">)</span><span class="op" id="6446260">.</span><span class="ident" id="6446261">Init</span><span class="op" id="6446265">(</span><span class="ident" id="6446266">strings</span><span class="op" id="6446273">.</span><span class="ident" id="6446274">NewReader</span><span class="op" id="6446283">(</span><span class="string" id="6446284">&#34;\n&#34;</span><span class="op" id="6446288">)</span><span class="op" id="6446289">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446292">checkPos</span><span class="op" id="6446300">(</span><span class="ident" id="6446301">t</span><span class="op" id="6446302">,</span>&nbsp;<span class="ident" id="6446304">s</span><span class="op" id="6446305">.</span><span class="ident" id="6446306">Pos</span><span class="op" id="6446309">(</span><span class="op" id="6446310">)</span><span class="op" id="6446311">,</span>&nbsp;<span class="ident" id="6446313">Position</span><span class="op" id="6446321">{</span><span class="ident" id="6446322">Offset</span><span class="op" id="6446328">:</span>&nbsp;<span class="num" id="6446330">0</span><span class="op" id="6446331">,</span>&nbsp;<span class="ident" id="6446333">Line</span><span class="op" id="6446337">:</span>&nbsp;<span class="num" id="6446339">1</span><span class="op" id="6446340">,</span>&nbsp;<span class="ident" id="6446342">Column</span><span class="op" id="6446348">:</span>&nbsp;<span class="num" id="6446350">1</span><span class="op" id="6446351">}</span><span class="op" id="6446352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446355">checkNextPos</span><span class="op" id="6446367">(</span><span class="ident" id="6446368">t</span><span class="op" id="6446369">,</span>&nbsp;<span class="ident" id="6446371">s</span><span class="op" id="6446372">,</span>&nbsp;<span class="num" id="6446374">1</span><span class="op" id="6446375">,</span>&nbsp;<span class="num" id="6446377">2</span><span class="op" id="6446378">,</span>&nbsp;<span class="num" id="6446380">1</span><span class="op" id="6446381">,</span>&nbsp;<span class="string" id="6446383">&#39;\n&#39;</span><span class="op" id="6446387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6446390">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6446428">for</span>&nbsp;<span class="ident" id="6446432">i</span>&nbsp;<span class="op" id="6446434">:=</span>&nbsp;<span class="num" id="6446437">10</span><span class="op" id="6446439">;</span>&nbsp;<span class="ident" id="6446441">i</span>&nbsp;<span class="op" id="6446443">&gt;</span>&nbsp;<span class="num" id="6446445">0</span><span class="op" id="6446446">;</span>&nbsp;<span class="ident" id="6446448">i</span><span class="op" id="6446449">--</span>&nbsp;<span class="op" id="6446452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446456">checkScanPos</span><span class="op" id="6446468">(</span><span class="ident" id="6446469">t</span><span class="op" id="6446470">,</span>&nbsp;<span class="ident" id="6446472">s</span><span class="op" id="6446473">,</span>&nbsp;<span class="num" id="6446475">1</span><span class="op" id="6446476">,</span>&nbsp;<span class="num" id="6446478">2</span><span class="op" id="6446479">,</span>&nbsp;<span class="num" id="6446481">1</span><span class="op" id="6446482">,</span>&nbsp;<span class="ident" id="6446484">EOF</span><span class="op" id="6446487">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6446490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6446493">if</span>&nbsp;<span class="ident" id="6446496">s</span><span class="op" id="6446497">.</span><span class="ident" id="6446498">ErrorCount</span>&nbsp;<span class="op" id="6446509">!=</span>&nbsp;<span class="num" id="6446512">0</span>&nbsp;<span class="op" id="6446514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446518">t</span><span class="op" id="6446519">.</span><span class="ident" id="6446520">Errorf</span><span class="op" id="6446526">(</span><span class="string" id="6446527">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6446538">,</span>&nbsp;<span class="ident" id="6446540">s</span><span class="op" id="6446541">.</span><span class="ident" id="6446542">ErrorCount</span><span class="op" id="6446552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6446555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6446559">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446612">s</span>&nbsp;<span class="op" id="6446614">=</span>&nbsp;<span class="builtinfunc" id="6446616">new</span><span class="op" id="6446619">(</span><span class="ident" id="6446620">Scanner</span><span class="op" id="6446627">)</span><span class="op" id="6446628">.</span><span class="ident" id="6446629">Init</span><span class="op" id="6446633">(</span><span class="ident" id="6446634">strings</span><span class="op" id="6446641">.</span><span class="ident" id="6446642">NewReader</span><span class="op" id="6446651">(</span><span class="string" id="6446652">&#34;本&#34;</span><span class="op" id="6446657">)</span><span class="op" id="6446658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446661">checkPos</span><span class="op" id="6446669">(</span><span class="ident" id="6446670">t</span><span class="op" id="6446671">,</span>&nbsp;<span class="ident" id="6446673">s</span><span class="op" id="6446674">.</span><span class="ident" id="6446675">Pos</span><span class="op" id="6446678">(</span><span class="op" id="6446679">)</span><span class="op" id="6446680">,</span>&nbsp;<span class="ident" id="6446682">Position</span><span class="op" id="6446690">{</span><span class="ident" id="6446691">Offset</span><span class="op" id="6446697">:</span>&nbsp;<span class="num" id="6446699">0</span><span class="op" id="6446700">,</span>&nbsp;<span class="ident" id="6446702">Line</span><span class="op" id="6446706">:</span>&nbsp;<span class="num" id="6446708">1</span><span class="op" id="6446709">,</span>&nbsp;<span class="ident" id="6446711">Column</span><span class="op" id="6446717">:</span>&nbsp;<span class="num" id="6446719">1</span><span class="op" id="6446720">}</span><span class="op" id="6446721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446724">checkNextPos</span><span class="op" id="6446736">(</span><span class="ident" id="6446737">t</span><span class="op" id="6446738">,</span>&nbsp;<span class="ident" id="6446740">s</span><span class="op" id="6446741">,</span>&nbsp;<span class="num" id="6446743">3</span><span class="op" id="6446744">,</span>&nbsp;<span class="num" id="6446746">1</span><span class="op" id="6446747">,</span>&nbsp;<span class="num" id="6446749">2</span><span class="op" id="6446750">,</span>&nbsp;<span class="string" id="6446752">&#39;本&#39;</span><span class="op" id="6446757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6446760">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6446798">for</span>&nbsp;<span class="ident" id="6446802">i</span>&nbsp;<span class="op" id="6446804">:=</span>&nbsp;<span class="num" id="6446807">10</span><span class="op" id="6446809">;</span>&nbsp;<span class="ident" id="6446811">i</span>&nbsp;<span class="op" id="6446813">&gt;</span>&nbsp;<span class="num" id="6446815">0</span><span class="op" id="6446816">;</span>&nbsp;<span class="ident" id="6446818">i</span><span class="op" id="6446819">--</span>&nbsp;<span class="op" id="6446822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446826">checkScanPos</span><span class="op" id="6446838">(</span><span class="ident" id="6446839">t</span><span class="op" id="6446840">,</span>&nbsp;<span class="ident" id="6446842">s</span><span class="op" id="6446843">,</span>&nbsp;<span class="num" id="6446845">3</span><span class="op" id="6446846">,</span>&nbsp;<span class="num" id="6446848">1</span><span class="op" id="6446849">,</span>&nbsp;<span class="num" id="6446851">2</span><span class="op" id="6446852">,</span>&nbsp;<span class="ident" id="6446854">EOF</span><span class="op" id="6446857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6446860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6446863">if</span>&nbsp;<span class="ident" id="6446866">s</span><span class="op" id="6446867">.</span><span class="ident" id="6446868">ErrorCount</span>&nbsp;<span class="op" id="6446879">!=</span>&nbsp;<span class="num" id="6446882">0</span>&nbsp;<span class="op" id="6446884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446888">t</span><span class="op" id="6446889">.</span><span class="ident" id="6446890">Errorf</span><span class="op" id="6446896">(</span><span class="string" id="6446897">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6446908">,</span>&nbsp;<span class="ident" id="6446910">s</span><span class="op" id="6446911">.</span><span class="ident" id="6446912">ErrorCount</span><span class="op" id="6446922">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6446925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6446929">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6446962">s</span>&nbsp;<span class="op" id="6446964">=</span>&nbsp;<span class="builtinfunc" id="6446966">new</span><span class="op" id="6446969">(</span><span class="ident" id="6446970">Scanner</span><span class="op" id="6446977">)</span><span class="op" id="6446978">.</span><span class="ident" id="6446979">Init</span><span class="op" id="6446983">(</span><span class="ident" id="6446984">strings</span><span class="op" id="6446991">.</span><span class="ident" id="6446992">NewReader</span><span class="op" id="6447001">(</span><span class="string" id="6447002">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="6447029">)</span><span class="op" id="6447030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447033">checkNextPos</span><span class="op" id="6447045">(</span><span class="ident" id="6447046">t</span><span class="op" id="6447047">,</span>&nbsp;<span class="ident" id="6447049">s</span><span class="op" id="6447050">,</span>&nbsp;<span class="num" id="6447052">1</span><span class="op" id="6447053">,</span>&nbsp;<span class="num" id="6447055">1</span><span class="op" id="6447056">,</span>&nbsp;<span class="num" id="6447058">2</span><span class="op" id="6447059">,</span>&nbsp;<span class="string" id="6447061">&#39;&nbsp;&#39;</span><span class="op" id="6447064">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447067">s</span><span class="op" id="6447068">.</span><span class="ident" id="6447069">Peek</span><span class="op" id="6447073">(</span><span class="op" id="6447074">)</span>&nbsp;<span class="comment" id="6447076">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447113">checkNextPos</span><span class="op" id="6447125">(</span><span class="ident" id="6447126">t</span><span class="op" id="6447127">,</span>&nbsp;<span class="ident" id="6447129">s</span><span class="op" id="6447130">,</span>&nbsp;<span class="num" id="6447132">2</span><span class="op" id="6447133">,</span>&nbsp;<span class="num" id="6447135">1</span><span class="op" id="6447136">,</span>&nbsp;<span class="num" id="6447138">3</span><span class="op" id="6447139">,</span>&nbsp;<span class="string" id="6447141">&#39;&nbsp;&#39;</span><span class="op" id="6447144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447147">checkNextPos</span><span class="op" id="6447159">(</span><span class="ident" id="6447160">t</span><span class="op" id="6447161">,</span>&nbsp;<span class="ident" id="6447163">s</span><span class="op" id="6447164">,</span>&nbsp;<span class="num" id="6447166">3</span><span class="op" id="6447167">,</span>&nbsp;<span class="num" id="6447169">1</span><span class="op" id="6447170">,</span>&nbsp;<span class="num" id="6447172">4</span><span class="op" id="6447173">,</span>&nbsp;<span class="string" id="6447175">&#39;f&#39;</span><span class="op" id="6447178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447181">checkNextPos</span><span class="op" id="6447193">(</span><span class="ident" id="6447194">t</span><span class="op" id="6447195">,</span>&nbsp;<span class="ident" id="6447197">s</span><span class="op" id="6447198">,</span>&nbsp;<span class="num" id="6447200">4</span><span class="op" id="6447201">,</span>&nbsp;<span class="num" id="6447203">1</span><span class="op" id="6447204">,</span>&nbsp;<span class="num" id="6447206">5</span><span class="op" id="6447207">,</span>&nbsp;<span class="string" id="6447209">&#39;o&#39;</span><span class="op" id="6447212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447215">checkNextPos</span><span class="op" id="6447227">(</span><span class="ident" id="6447228">t</span><span class="op" id="6447229">,</span>&nbsp;<span class="ident" id="6447231">s</span><span class="op" id="6447232">,</span>&nbsp;<span class="num" id="6447234">5</span><span class="op" id="6447235">,</span>&nbsp;<span class="num" id="6447237">1</span><span class="op" id="6447238">,</span>&nbsp;<span class="num" id="6447240">6</span><span class="op" id="6447241">,</span>&nbsp;<span class="string" id="6447243">&#39;o&#39;</span><span class="op" id="6447246">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447249">checkNextPos</span><span class="op" id="6447261">(</span><span class="ident" id="6447262">t</span><span class="op" id="6447263">,</span>&nbsp;<span class="ident" id="6447265">s</span><span class="op" id="6447266">,</span>&nbsp;<span class="num" id="6447268">8</span><span class="op" id="6447269">,</span>&nbsp;<span class="num" id="6447271">1</span><span class="op" id="6447272">,</span>&nbsp;<span class="num" id="6447274">7</span><span class="op" id="6447275">,</span>&nbsp;<span class="string" id="6447277">&#39;६&#39;</span><span class="op" id="6447282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447285">checkNextPos</span><span class="op" id="6447297">(</span><span class="ident" id="6447298">t</span><span class="op" id="6447299">,</span>&nbsp;<span class="ident" id="6447301">s</span><span class="op" id="6447302">,</span>&nbsp;<span class="num" id="6447304">11</span><span class="op" id="6447306">,</span>&nbsp;<span class="num" id="6447308">1</span><span class="op" id="6447309">,</span>&nbsp;<span class="num" id="6447311">8</span><span class="op" id="6447312">,</span>&nbsp;<span class="string" id="6447314">&#39;४&#39;</span><span class="op" id="6447319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447322">checkNextPos</span><span class="op" id="6447334">(</span><span class="ident" id="6447335">t</span><span class="op" id="6447336">,</span>&nbsp;<span class="ident" id="6447338">s</span><span class="op" id="6447339">,</span>&nbsp;<span class="num" id="6447341">12</span><span class="op" id="6447343">,</span>&nbsp;<span class="num" id="6447345">1</span><span class="op" id="6447346">,</span>&nbsp;<span class="num" id="6447348">9</span><span class="op" id="6447349">,</span>&nbsp;<span class="string" id="6447351">&#39;&nbsp;&#39;</span><span class="op" id="6447354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447357">checkNextPos</span><span class="op" id="6447369">(</span><span class="ident" id="6447370">t</span><span class="op" id="6447371">,</span>&nbsp;<span class="ident" id="6447373">s</span><span class="op" id="6447374">,</span>&nbsp;<span class="num" id="6447376">13</span><span class="op" id="6447378">,</span>&nbsp;<span class="num" id="6447380">1</span><span class="op" id="6447381">,</span>&nbsp;<span class="num" id="6447383">10</span><span class="op" id="6447385">,</span>&nbsp;<span class="string" id="6447387">&#39;&nbsp;&#39;</span><span class="op" id="6447390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447393">checkNextPos</span><span class="op" id="6447405">(</span><span class="ident" id="6447406">t</span><span class="op" id="6447407">,</span>&nbsp;<span class="ident" id="6447409">s</span><span class="op" id="6447410">,</span>&nbsp;<span class="num" id="6447412">14</span><span class="op" id="6447414">,</span>&nbsp;<span class="num" id="6447416">2</span><span class="op" id="6447417">,</span>&nbsp;<span class="num" id="6447419">1</span><span class="op" id="6447420">,</span>&nbsp;<span class="string" id="6447422">&#39;\n&#39;</span><span class="op" id="6447426">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447429">checkNextPos</span><span class="op" id="6447441">(</span><span class="ident" id="6447442">t</span><span class="op" id="6447443">,</span>&nbsp;<span class="ident" id="6447445">s</span><span class="op" id="6447446">,</span>&nbsp;<span class="num" id="6447448">15</span><span class="op" id="6447450">,</span>&nbsp;<span class="num" id="6447452">3</span><span class="op" id="6447453">,</span>&nbsp;<span class="num" id="6447455">1</span><span class="op" id="6447456">,</span>&nbsp;<span class="string" id="6447458">&#39;\n&#39;</span><span class="op" id="6447462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447465">checkNextPos</span><span class="op" id="6447477">(</span><span class="ident" id="6447478">t</span><span class="op" id="6447479">,</span>&nbsp;<span class="ident" id="6447481">s</span><span class="op" id="6447482">,</span>&nbsp;<span class="num" id="6447484">18</span><span class="op" id="6447486">,</span>&nbsp;<span class="num" id="6447488">3</span><span class="op" id="6447489">,</span>&nbsp;<span class="num" id="6447491">2</span><span class="op" id="6447492">,</span>&nbsp;<span class="string" id="6447494">&#39;本&#39;</span><span class="op" id="6447499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447502">checkNextPos</span><span class="op" id="6447514">(</span><span class="ident" id="6447515">t</span><span class="op" id="6447516">,</span>&nbsp;<span class="ident" id="6447518">s</span><span class="op" id="6447519">,</span>&nbsp;<span class="num" id="6447521">21</span><span class="op" id="6447523">,</span>&nbsp;<span class="num" id="6447525">3</span><span class="op" id="6447526">,</span>&nbsp;<span class="num" id="6447528">3</span><span class="op" id="6447529">,</span>&nbsp;<span class="string" id="6447531">&#39;語&#39;</span><span class="op" id="6447536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447539">checkNextPos</span><span class="op" id="6447551">(</span><span class="ident" id="6447552">t</span><span class="op" id="6447553">,</span>&nbsp;<span class="ident" id="6447555">s</span><span class="op" id="6447556">,</span>&nbsp;<span class="num" id="6447558">22</span><span class="op" id="6447560">,</span>&nbsp;<span class="num" id="6447562">4</span><span class="op" id="6447563">,</span>&nbsp;<span class="num" id="6447565">1</span><span class="op" id="6447566">,</span>&nbsp;<span class="string" id="6447568">&#39;\n&#39;</span><span class="op" id="6447572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6447575">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6447613">for</span>&nbsp;<span class="ident" id="6447617">i</span>&nbsp;<span class="op" id="6447619">:=</span>&nbsp;<span class="num" id="6447622">10</span><span class="op" id="6447624">;</span>&nbsp;<span class="ident" id="6447626">i</span>&nbsp;<span class="op" id="6447628">&gt;</span>&nbsp;<span class="num" id="6447630">0</span><span class="op" id="6447631">;</span>&nbsp;<span class="ident" id="6447633">i</span><span class="op" id="6447634">--</span>&nbsp;<span class="op" id="6447637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447641">checkScanPos</span><span class="op" id="6447653">(</span><span class="ident" id="6447654">t</span><span class="op" id="6447655">,</span>&nbsp;<span class="ident" id="6447657">s</span><span class="op" id="6447658">,</span>&nbsp;<span class="num" id="6447660">22</span><span class="op" id="6447662">,</span>&nbsp;<span class="num" id="6447664">4</span><span class="op" id="6447665">,</span>&nbsp;<span class="num" id="6447667">1</span><span class="op" id="6447668">,</span>&nbsp;<span class="ident" id="6447670">EOF</span><span class="op" id="6447673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6447676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6447679">if</span>&nbsp;<span class="ident" id="6447682">s</span><span class="op" id="6447683">.</span><span class="ident" id="6447684">ErrorCount</span>&nbsp;<span class="op" id="6447695">!=</span>&nbsp;<span class="num" id="6447698">0</span>&nbsp;<span class="op" id="6447700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447704">t</span><span class="op" id="6447705">.</span><span class="ident" id="6447706">Errorf</span><span class="op" id="6447712">(</span><span class="string" id="6447713">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6447724">,</span>&nbsp;<span class="ident" id="6447726">s</span><span class="op" id="6447727">.</span><span class="ident" id="6447728">ErrorCount</span><span class="op" id="6447738">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6447741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6447745">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447778">s</span>&nbsp;<span class="op" id="6447780">=</span>&nbsp;<span class="builtinfunc" id="6447782">new</span><span class="op" id="6447785">(</span><span class="ident" id="6447786">Scanner</span><span class="op" id="6447793">)</span><span class="op" id="6447794">.</span><span class="ident" id="6447795">Init</span><span class="op" id="6447799">(</span><span class="ident" id="6447800">strings</span><span class="op" id="6447807">.</span><span class="ident" id="6447808">NewReader</span><span class="op" id="6447817">(</span><span class="string" id="6447818">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="6447836">)</span><span class="op" id="6447837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447840">s</span><span class="op" id="6447841">.</span><span class="ident" id="6447842">Mode</span>&nbsp;<span class="op" id="6447847">=</span>&nbsp;<span class="num" id="6447849">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447852">s</span><span class="op" id="6447853">.</span><span class="ident" id="6447854">Whitespace</span>&nbsp;<span class="op" id="6447865">=</span>&nbsp;<span class="num" id="6447867">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447870">checkScanPos</span><span class="op" id="6447882">(</span><span class="ident" id="6447883">t</span><span class="op" id="6447884">,</span>&nbsp;<span class="ident" id="6447886">s</span><span class="op" id="6447887">,</span>&nbsp;<span class="num" id="6447889">0</span><span class="op" id="6447890">,</span>&nbsp;<span class="num" id="6447892">1</span><span class="op" id="6447893">,</span>&nbsp;<span class="num" id="6447895">1</span><span class="op" id="6447896">,</span>&nbsp;<span class="string" id="6447898">&#39;a&#39;</span><span class="op" id="6447901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447904">s</span><span class="op" id="6447905">.</span><span class="ident" id="6447906">Peek</span><span class="op" id="6447910">(</span><span class="op" id="6447911">)</span>&nbsp;<span class="comment" id="6447913">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447950">checkScanPos</span><span class="op" id="6447962">(</span><span class="ident" id="6447963">t</span><span class="op" id="6447964">,</span>&nbsp;<span class="ident" id="6447966">s</span><span class="op" id="6447967">,</span>&nbsp;<span class="num" id="6447969">1</span><span class="op" id="6447970">,</span>&nbsp;<span class="num" id="6447972">1</span><span class="op" id="6447973">,</span>&nbsp;<span class="num" id="6447975">2</span><span class="op" id="6447976">,</span>&nbsp;<span class="string" id="6447978">&#39;b&#39;</span><span class="op" id="6447981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6447984">checkScanPos</span><span class="op" id="6447996">(</span><span class="ident" id="6447997">t</span><span class="op" id="6447998">,</span>&nbsp;<span class="ident" id="6448000">s</span><span class="op" id="6448001">,</span>&nbsp;<span class="num" id="6448003">2</span><span class="op" id="6448004">,</span>&nbsp;<span class="num" id="6448006">1</span><span class="op" id="6448007">,</span>&nbsp;<span class="num" id="6448009">3</span><span class="op" id="6448010">,</span>&nbsp;<span class="string" id="6448012">&#39;c&#39;</span><span class="op" id="6448015">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6448018">checkScanPos</span><span class="op" id="6448030">(</span><span class="ident" id="6448031">t</span><span class="op" id="6448032">,</span>&nbsp;<span class="ident" id="6448034">s</span><span class="op" id="6448035">,</span>&nbsp;<span class="num" id="6448037">3</span><span class="op" id="6448038">,</span>&nbsp;<span class="num" id="6448040">1</span><span class="op" id="6448041">,</span>&nbsp;<span class="num" id="6448043">4</span><span class="op" id="6448044">,</span>&nbsp;<span class="string" id="6448046">&#39;\n&#39;</span><span class="op" id="6448050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6448053">checkScanPos</span><span class="op" id="6448065">(</span><span class="ident" id="6448066">t</span><span class="op" id="6448067">,</span>&nbsp;<span class="ident" id="6448069">s</span><span class="op" id="6448070">,</span>&nbsp;<span class="num" id="6448072">4</span><span class="op" id="6448073">,</span>&nbsp;<span class="num" id="6448075">2</span><span class="op" id="6448076">,</span>&nbsp;<span class="num" id="6448078">1</span><span class="op" id="6448079">,</span>&nbsp;<span class="string" id="6448081">&#39;本&#39;</span><span class="op" id="6448086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6448089">checkScanPos</span><span class="op" id="6448101">(</span><span class="ident" id="6448102">t</span><span class="op" id="6448103">,</span>&nbsp;<span class="ident" id="6448105">s</span><span class="op" id="6448106">,</span>&nbsp;<span class="num" id="6448108">7</span><span class="op" id="6448109">,</span>&nbsp;<span class="num" id="6448111">2</span><span class="op" id="6448112">,</span>&nbsp;<span class="num" id="6448114">2</span><span class="op" id="6448115">,</span>&nbsp;<span class="string" id="6448117">&#39;語&#39;</span><span class="op" id="6448122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6448125">checkScanPos</span><span class="op" id="6448137">(</span><span class="ident" id="6448138">t</span><span class="op" id="6448139">,</span>&nbsp;<span class="ident" id="6448141">s</span><span class="op" id="6448142">,</span>&nbsp;<span class="num" id="6448144">10</span><span class="op" id="6448146">,</span>&nbsp;<span class="num" id="6448148">2</span><span class="op" id="6448149">,</span>&nbsp;<span class="num" id="6448151">3</span><span class="op" id="6448152">,</span>&nbsp;<span class="string" id="6448154">&#39;\n&#39;</span><span class="op" id="6448158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6448161">checkScanPos</span><span class="op" id="6448173">(</span><span class="ident" id="6448174">t</span><span class="op" id="6448175">,</span>&nbsp;<span class="ident" id="6448177">s</span><span class="op" id="6448178">,</span>&nbsp;<span class="num" id="6448180">11</span><span class="op" id="6448182">,</span>&nbsp;<span class="num" id="6448184">3</span><span class="op" id="6448185">,</span>&nbsp;<span class="num" id="6448187">1</span><span class="op" id="6448188">,</span>&nbsp;<span class="string" id="6448190">&#39;\n&#39;</span><span class="op" id="6448194">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6448197">checkScanPos</span><span class="op" id="6448209">(</span><span class="ident" id="6448210">t</span><span class="op" id="6448211">,</span>&nbsp;<span class="ident" id="6448213">s</span><span class="op" id="6448214">,</span>&nbsp;<span class="num" id="6448216">12</span><span class="op" id="6448218">,</span>&nbsp;<span class="num" id="6448220">4</span><span class="op" id="6448221">,</span>&nbsp;<span class="num" id="6448223">1</span><span class="op" id="6448224">,</span>&nbsp;<span class="string" id="6448226">&#39;x&#39;</span><span class="op" id="6448229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6448232">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6448270">for</span>&nbsp;<span class="ident" id="6448274">i</span>&nbsp;<span class="op" id="6448276">:=</span>&nbsp;<span class="num" id="6448279">10</span><span class="op" id="6448281">;</span>&nbsp;<span class="ident" id="6448283">i</span>&nbsp;<span class="op" id="6448285">&gt;</span>&nbsp;<span class="num" id="6448287">0</span><span class="op" id="6448288">;</span>&nbsp;<span class="ident" id="6448290">i</span><span class="op" id="6448291">--</span>&nbsp;<span class="op" id="6448294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6448298">checkScanPos</span><span class="op" id="6448310">(</span><span class="ident" id="6448311">t</span><span class="op" id="6448312">,</span>&nbsp;<span class="ident" id="6448314">s</span><span class="op" id="6448315">,</span>&nbsp;<span class="num" id="6448317">13</span><span class="op" id="6448319">,</span>&nbsp;<span class="num" id="6448321">4</span><span class="op" id="6448322">,</span>&nbsp;<span class="num" id="6448324">2</span><span class="op" id="6448325">,</span>&nbsp;<span class="ident" id="6448327">EOF</span><span class="op" id="6448330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6448333">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6448336">if</span>&nbsp;<span class="ident" id="6448339">s</span><span class="op" id="6448340">.</span><span class="ident" id="6448341">ErrorCount</span>&nbsp;<span class="op" id="6448352">!=</span>&nbsp;<span class="num" id="6448355">0</span>&nbsp;<span class="op" id="6448357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6448361">t</span><span class="op" id="6448362">.</span><span class="ident" id="6448363">Errorf</span><span class="op" id="6448369">(</span><span class="string" id="6448370">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6448381">,</span>&nbsp;<span class="ident" id="6448383">s</span><span class="op" id="6448384">.</span><span class="ident" id="6448385">ErrorCount</span><span class="op" id="6448395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6448398">}</span><br>
<span class="lineno"></span><span class="op" id="6448400">}</span>
</div>
</body>
</html>
