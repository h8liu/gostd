<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4377669">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4377725">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4377779">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4377830">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="4377868">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="4377929">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4377976">package</span>&nbsp;<span class="ident" id="4377984">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="4377991">import</span>&nbsp;<span class="string" id="4377998">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4378009">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4378069">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="4378127">type</span>&nbsp;<span class="ident" id="4378132">Type</span>&nbsp;<span class="keyword" id="4378137">interface</span>&nbsp;<span class="op" id="4378147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4378150">Common</span><span class="op" id="4378156">(</span><span class="op" id="4378157">)</span>&nbsp;<span class="op" id="4378159">*</span><span class="ident" id="4378160">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4378172">String</span><span class="op" id="4378178">(</span><span class="op" id="4378179">)</span>&nbsp;<span class="builtintype" id="4378181">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4378189">Size</span><span class="op" id="4378193">(</span><span class="op" id="4378194">)</span>&nbsp;<span class="ident" id="4378196">int64</span><br>
<span class="lineno"></span><span class="op" id="4378202">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="4378205">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="4378260">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="4378323">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="4378350">type</span>&nbsp;<span class="ident" id="4378355">CommonType</span>&nbsp;<span class="keyword" id="4378366">struct</span>&nbsp;<span class="op" id="4378373">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4378376">ByteSize</span>&nbsp;<span class="ident" id="4378385">int64</span>&nbsp;&nbsp;<span class="comment" id="4378392">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4378433">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4378442">string</span>&nbsp;<span class="comment" id="4378449">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="4378491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4378494">func</span>&nbsp;<span class="op" id="4378499">(</span><span class="ident" id="4378500">c</span>&nbsp;<span class="op" id="4378502">*</span><span class="ident" id="4378503">CommonType</span><span class="op" id="4378513">)</span>&nbsp;<span class="ident" id="4378515">Common</span><span class="op" id="4378521">(</span><span class="op" id="4378522">)</span>&nbsp;<span class="op" id="4378524">*</span><span class="ident" id="4378525">CommonType</span>&nbsp;<span class="op" id="4378536">{</span>&nbsp;<span class="keyword" id="4378538">return</span>&nbsp;<span class="ident" id="4378545">c</span>&nbsp;<span class="op" id="4378547">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="4378550">func</span>&nbsp;<span class="op" id="4378555">(</span><span class="ident" id="4378556">c</span>&nbsp;<span class="op" id="4378558">*</span><span class="ident" id="4378559">CommonType</span><span class="op" id="4378569">)</span>&nbsp;<span class="ident" id="4378571">Size</span><span class="op" id="4378575">(</span><span class="op" id="4378576">)</span>&nbsp;<span class="ident" id="4378578">int64</span>&nbsp;<span class="op" id="4378584">{</span>&nbsp;<span class="keyword" id="4378586">return</span>&nbsp;<span class="ident" id="4378593">c</span><span class="op" id="4378594">.</span><span class="ident" id="4378595">ByteSize</span>&nbsp;<span class="op" id="4378604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4378607">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="4378623">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="4378678">type</span>&nbsp;<span class="ident" id="4378683">BasicType</span>&nbsp;<span class="keyword" id="4378693">struct</span>&nbsp;<span class="op" id="4378700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4378703">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4378715">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4378725">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4378732">BitOffset</span>&nbsp;<span class="ident" id="4378742">int64</span><br>
<span class="lineno">40</span><span class="op" id="4378748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4378751">func</span>&nbsp;<span class="op" id="4378756">(</span><span class="ident" id="4378757">b</span>&nbsp;<span class="op" id="4378759">*</span><span class="ident" id="4378760">BasicType</span><span class="op" id="4378769">)</span>&nbsp;<span class="ident" id="4378771">Basic</span><span class="op" id="4378776">(</span><span class="op" id="4378777">)</span>&nbsp;<span class="op" id="4378779">*</span><span class="ident" id="4378780">BasicType</span>&nbsp;<span class="op" id="4378790">{</span>&nbsp;<span class="keyword" id="4378792">return</span>&nbsp;<span class="ident" id="4378799">b</span>&nbsp;<span class="op" id="4378801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4378804">func</span>&nbsp;<span class="op" id="4378809">(</span><span class="ident" id="4378810">t</span>&nbsp;<span class="op" id="4378812">*</span><span class="ident" id="4378813">BasicType</span><span class="op" id="4378822">)</span>&nbsp;<span class="ident" id="4378824">String</span><span class="op" id="4378830">(</span><span class="op" id="4378831">)</span>&nbsp;<span class="builtintype" id="4378833">string</span>&nbsp;<span class="op" id="4378840">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4378843">if</span>&nbsp;<span class="ident" id="4378846">t</span><span class="op" id="4378847">.</span><span class="ident" id="4378848">Name</span>&nbsp;<span class="op" id="4378853">!=</span>&nbsp;<span class="string" id="4378856">&#34;&#34;</span>&nbsp;<span class="op" id="4378859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4378863">return</span>&nbsp;<span class="ident" id="4378870">t</span><span class="op" id="4378871">.</span><span class="ident" id="4378872">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4378878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4378881">return</span>&nbsp;<span class="string" id="4378888">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="4378892">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="4378895">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4378945">type</span>&nbsp;<span class="ident" id="4378950">CharType</span>&nbsp;<span class="keyword" id="4378959">struct</span>&nbsp;<span class="op" id="4378966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4378969">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4378979">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="4378982">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4379036">type</span>&nbsp;<span class="ident" id="4379041">UcharType</span>&nbsp;<span class="keyword" id="4379051">struct</span>&nbsp;<span class="op" id="4379058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379061">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4379071">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4379074">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4379122">type</span>&nbsp;<span class="ident" id="4379127">IntType</span>&nbsp;<span class="keyword" id="4379135">struct</span>&nbsp;<span class="op" id="4379142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379145">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4379155">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="4379158">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4379209">type</span>&nbsp;<span class="ident" id="4379214">UintType</span>&nbsp;<span class="keyword" id="4379223">struct</span>&nbsp;<span class="op" id="4379230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379233">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4379243">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="4379246">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4379295">type</span>&nbsp;<span class="ident" id="4379300">FloatType</span>&nbsp;<span class="keyword" id="4379310">struct</span>&nbsp;<span class="op" id="4379317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379320">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4379330">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="4379333">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4379392">type</span>&nbsp;<span class="ident" id="4379397">ComplexType</span>&nbsp;<span class="keyword" id="4379409">struct</span>&nbsp;<span class="op" id="4379416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379419">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4379429">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="4379432">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4379473">type</span>&nbsp;<span class="ident" id="4379478">BoolType</span>&nbsp;<span class="keyword" id="4379487">struct</span>&nbsp;<span class="op" id="4379494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379497">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4379507">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="4379510">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4379560">type</span>&nbsp;<span class="ident" id="4379565">AddrType</span>&nbsp;<span class="keyword" id="4379574">struct</span>&nbsp;<span class="op" id="4379581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379584">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4379594">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="4379597">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4379683">type</span>&nbsp;<span class="ident" id="4379688">UnspecifiedType</span>&nbsp;<span class="keyword" id="4379704">struct</span>&nbsp;<span class="op" id="4379711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379714">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4379724">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="4379727">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4379742">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="4379839">type</span>&nbsp;<span class="ident" id="4379844">QualType</span>&nbsp;<span class="keyword" id="4379853">struct</span>&nbsp;<span class="op" id="4379860">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379863">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379875">Qual</span>&nbsp;<span class="builtintype" id="4379880">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4379888">Type</span>&nbsp;<span class="ident" id="4379893">Type</span><br>
<span class="lineno"></span><span class="op" id="4379898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="4379901">func</span>&nbsp;<span class="op" id="4379906">(</span><span class="ident" id="4379907">t</span>&nbsp;<span class="op" id="4379909">*</span><span class="ident" id="4379910">QualType</span><span class="op" id="4379918">)</span>&nbsp;<span class="ident" id="4379920">String</span><span class="op" id="4379926">(</span><span class="op" id="4379927">)</span>&nbsp;<span class="builtintype" id="4379929">string</span>&nbsp;<span class="op" id="4379936">{</span>&nbsp;<span class="keyword" id="4379938">return</span>&nbsp;<span class="ident" id="4379945">t</span><span class="op" id="4379946">.</span><span class="ident" id="4379947">Qual</span>&nbsp;<span class="op" id="4379952">+</span>&nbsp;<span class="string" id="4379954">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4379958">+</span>&nbsp;<span class="ident" id="4379960">t</span><span class="op" id="4379961">.</span><span class="ident" id="4379962">Type</span><span class="op" id="4379966">.</span><span class="ident" id="4379967">String</span><span class="op" id="4379973">(</span><span class="op" id="4379974">)</span>&nbsp;<span class="op" id="4379976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4379979">func</span>&nbsp;<span class="op" id="4379984">(</span><span class="ident" id="4379985">t</span>&nbsp;<span class="op" id="4379987">*</span><span class="ident" id="4379988">QualType</span><span class="op" id="4379996">)</span>&nbsp;<span class="ident" id="4379998">Size</span><span class="op" id="4380002">(</span><span class="op" id="4380003">)</span>&nbsp;<span class="ident" id="4380005">int64</span>&nbsp;<span class="op" id="4380011">{</span>&nbsp;<span class="keyword" id="4380013">return</span>&nbsp;<span class="ident" id="4380020">t</span><span class="op" id="4380021">.</span><span class="ident" id="4380022">Type</span><span class="op" id="4380026">.</span><span class="ident" id="4380027">Size</span><span class="op" id="4380031">(</span><span class="op" id="4380032">)</span>&nbsp;<span class="op" id="4380034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4380037">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="4380089">type</span>&nbsp;<span class="ident" id="4380094">ArrayType</span>&nbsp;<span class="keyword" id="4380104">struct</span>&nbsp;<span class="op" id="4380111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380114">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380126">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4380140">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380146">StrideBitSize</span>&nbsp;<span class="ident" id="4380160">int64</span>&nbsp;<span class="comment" id="4380166">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380214">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4380228">int64</span>&nbsp;<span class="comment" id="4380234">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="4380283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4380286">func</span>&nbsp;<span class="op" id="4380291">(</span><span class="ident" id="4380292">t</span>&nbsp;<span class="op" id="4380294">*</span><span class="ident" id="4380295">ArrayType</span><span class="op" id="4380304">)</span>&nbsp;<span class="ident" id="4380306">String</span><span class="op" id="4380312">(</span><span class="op" id="4380313">)</span>&nbsp;<span class="builtintype" id="4380315">string</span>&nbsp;<span class="op" id="4380322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4380325">return</span>&nbsp;<span class="string" id="4380332">&#34;[&#34;</span>&nbsp;<span class="op" id="4380336">+</span>&nbsp;<span class="ident" id="4380338">strconv</span><span class="op" id="4380345">.</span><span class="ident" id="4380346">FormatInt</span><span class="op" id="4380355">(</span><span class="ident" id="4380356">t</span><span class="op" id="4380357">.</span><span class="ident" id="4380358">Count</span><span class="op" id="4380363">,</span>&nbsp;<span class="num" id="4380365">10</span><span class="op" id="4380367">)</span>&nbsp;<span class="op" id="4380369">+</span>&nbsp;<span class="string" id="4380371">&#34;]&#34;</span>&nbsp;<span class="op" id="4380375">+</span>&nbsp;<span class="ident" id="4380377">t</span><span class="op" id="4380378">.</span><span class="ident" id="4380379">Type</span><span class="op" id="4380383">.</span><span class="ident" id="4380384">String</span><span class="op" id="4380390">(</span><span class="op" id="4380391">)</span><br>
<span class="lineno"></span><span class="op" id="4380393">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="4380396">func</span>&nbsp;<span class="op" id="4380401">(</span><span class="ident" id="4380402">t</span>&nbsp;<span class="op" id="4380404">*</span><span class="ident" id="4380405">ArrayType</span><span class="op" id="4380414">)</span>&nbsp;<span class="ident" id="4380416">Size</span><span class="op" id="4380420">(</span><span class="op" id="4380421">)</span>&nbsp;<span class="ident" id="4380423">int64</span>&nbsp;<span class="op" id="4380429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4380432">if</span>&nbsp;<span class="ident" id="4380435">t</span><span class="op" id="4380436">.</span><span class="ident" id="4380437">Count</span>&nbsp;<span class="op" id="4380443">==</span>&nbsp;<span class="op" id="4380446">-</span><span class="num" id="4380447">1</span>&nbsp;<span class="op" id="4380449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4380453">return</span>&nbsp;<span class="num" id="4380460">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4380463">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4380466">return</span>&nbsp;<span class="ident" id="4380473">t</span><span class="op" id="4380474">.</span><span class="ident" id="4380475">Count</span>&nbsp;<span class="op" id="4380481">*</span>&nbsp;<span class="ident" id="4380483">t</span><span class="op" id="4380484">.</span><span class="ident" id="4380485">Type</span><span class="op" id="4380489">.</span><span class="ident" id="4380490">Size</span><span class="op" id="4380494">(</span><span class="op" id="4380495">)</span><br>
<span class="lineno"></span><span class="op" id="4380497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4380500">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4380542">type</span>&nbsp;<span class="ident" id="4380547">VoidType</span>&nbsp;<span class="keyword" id="4380556">struct</span>&nbsp;<span class="op" id="4380563">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380566">CommonType</span><br>
<span class="lineno"></span><span class="op" id="4380577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4380580">func</span>&nbsp;<span class="op" id="4380585">(</span><span class="ident" id="4380586">t</span>&nbsp;<span class="op" id="4380588">*</span><span class="ident" id="4380589">VoidType</span><span class="op" id="4380597">)</span>&nbsp;<span class="ident" id="4380599">String</span><span class="op" id="4380605">(</span><span class="op" id="4380606">)</span>&nbsp;<span class="builtintype" id="4380608">string</span>&nbsp;<span class="op" id="4380615">{</span>&nbsp;<span class="keyword" id="4380617">return</span>&nbsp;<span class="string" id="4380624">&#34;void&#34;</span>&nbsp;<span class="op" id="4380631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="4380634">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4380674">type</span>&nbsp;<span class="ident" id="4380679">PtrType</span>&nbsp;<span class="keyword" id="4380687">struct</span>&nbsp;<span class="op" id="4380694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380697">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380709">Type</span>&nbsp;<span class="ident" id="4380714">Type</span><br>
<span class="lineno"></span><span class="op" id="4380719">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="4380722">func</span>&nbsp;<span class="op" id="4380727">(</span><span class="ident" id="4380728">t</span>&nbsp;<span class="op" id="4380730">*</span><span class="ident" id="4380731">PtrType</span><span class="op" id="4380738">)</span>&nbsp;<span class="ident" id="4380740">String</span><span class="op" id="4380746">(</span><span class="op" id="4380747">)</span>&nbsp;<span class="builtintype" id="4380749">string</span>&nbsp;<span class="op" id="4380756">{</span>&nbsp;<span class="keyword" id="4380758">return</span>&nbsp;<span class="string" id="4380765">&#34;*&#34;</span>&nbsp;<span class="op" id="4380769">+</span>&nbsp;<span class="ident" id="4380771">t</span><span class="op" id="4380772">.</span><span class="ident" id="4380773">Type</span><span class="op" id="4380777">.</span><span class="ident" id="4380778">String</span><span class="op" id="4380784">(</span><span class="op" id="4380785">)</span>&nbsp;<span class="op" id="4380787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4380790">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4380853">type</span>&nbsp;<span class="ident" id="4380858">StructType</span>&nbsp;<span class="keyword" id="4380869">struct</span>&nbsp;<span class="op" id="4380876">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380879">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380891">StructName</span>&nbsp;<span class="builtintype" id="4380902">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380910">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4380921">string</span>&nbsp;<span class="comment" id="4380928">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380963">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4380974">[</span><span class="op" id="4380975">]</span><span class="op" id="4380976">*</span><span class="ident" id="4380977">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4380990">Incomplete</span>&nbsp;<span class="builtintype" id="4381001">bool</span>&nbsp;<span class="comment" id="4381006">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="4381067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4381070">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4381145">type</span>&nbsp;<span class="ident" id="4381150">StructField</span>&nbsp;<span class="keyword" id="4381162">struct</span>&nbsp;<span class="op" id="4381169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381172">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4381183">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381191">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4381202">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381208">ByteOffset</span>&nbsp;<span class="ident" id="4381219">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381226">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4381237">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381244">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="4381255">int64</span>&nbsp;<span class="comment" id="4381261">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381305">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4381316">int64</span>&nbsp;<span class="comment" id="4381322">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="4381349">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4381352">func</span>&nbsp;<span class="op" id="4381357">(</span><span class="ident" id="4381358">t</span>&nbsp;<span class="op" id="4381360">*</span><span class="ident" id="4381361">StructType</span><span class="op" id="4381371">)</span>&nbsp;<span class="ident" id="4381373">String</span><span class="op" id="4381379">(</span><span class="op" id="4381380">)</span>&nbsp;<span class="builtintype" id="4381382">string</span>&nbsp;<span class="op" id="4381389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381392">if</span>&nbsp;<span class="ident" id="4381395">t</span><span class="op" id="4381396">.</span><span class="ident" id="4381397">StructName</span>&nbsp;<span class="op" id="4381408">!=</span>&nbsp;<span class="string" id="4381411">&#34;&#34;</span>&nbsp;<span class="op" id="4381414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381418">return</span>&nbsp;<span class="ident" id="4381425">t</span><span class="op" id="4381426">.</span><span class="ident" id="4381427">Kind</span>&nbsp;<span class="op" id="4381432">+</span>&nbsp;<span class="string" id="4381434">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4381438">+</span>&nbsp;<span class="ident" id="4381440">t</span><span class="op" id="4381441">.</span><span class="ident" id="4381442">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4381454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381457">return</span>&nbsp;<span class="ident" id="4381464">t</span><span class="op" id="4381465">.</span><span class="ident" id="4381466">Defn</span><span class="op" id="4381470">(</span><span class="op" id="4381471">)</span><br>
<span class="lineno"></span><span class="op" id="4381473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4381476">func</span>&nbsp;<span class="op" id="4381481">(</span><span class="ident" id="4381482">t</span>&nbsp;<span class="op" id="4381484">*</span><span class="ident" id="4381485">StructType</span><span class="op" id="4381495">)</span>&nbsp;<span class="ident" id="4381497">Defn</span><span class="op" id="4381501">(</span><span class="op" id="4381502">)</span>&nbsp;<span class="builtintype" id="4381504">string</span>&nbsp;<span class="op" id="4381511">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381514">s</span>&nbsp;<span class="op" id="4381516">:=</span>&nbsp;<span class="ident" id="4381519">t</span><span class="op" id="4381520">.</span><span class="ident" id="4381521">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381527">if</span>&nbsp;<span class="ident" id="4381530">t</span><span class="op" id="4381531">.</span><span class="ident" id="4381532">StructName</span>&nbsp;<span class="op" id="4381543">!=</span>&nbsp;<span class="string" id="4381546">&#34;&#34;</span>&nbsp;<span class="op" id="4381549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381553">s</span>&nbsp;<span class="op" id="4381555">+=</span>&nbsp;<span class="string" id="4381558">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4381562">+</span>&nbsp;<span class="ident" id="4381564">t</span><span class="op" id="4381565">.</span><span class="ident" id="4381566">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4381578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381581">if</span>&nbsp;<span class="ident" id="4381584">t</span><span class="op" id="4381585">.</span><span class="ident" id="4381586">Incomplete</span>&nbsp;<span class="op" id="4381597">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381601">s</span>&nbsp;<span class="op" id="4381603">+=</span>&nbsp;<span class="string" id="4381606">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381626">return</span>&nbsp;<span class="ident" id="4381633">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4381636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381639">s</span>&nbsp;<span class="op" id="4381641">+=</span>&nbsp;<span class="string" id="4381644">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381650">for</span>&nbsp;<span class="ident" id="4381654">i</span><span class="op" id="4381655">,</span>&nbsp;<span class="ident" id="4381657">f</span>&nbsp;<span class="op" id="4381659">:=</span>&nbsp;<span class="keyword" id="4381662">range</span>&nbsp;<span class="ident" id="4381668">t</span><span class="op" id="4381669">.</span><span class="ident" id="4381670">Field</span>&nbsp;<span class="op" id="4381676">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381680">if</span>&nbsp;<span class="ident" id="4381683">i</span>&nbsp;<span class="op" id="4381685">&gt;</span>&nbsp;<span class="num" id="4381687">0</span>&nbsp;<span class="op" id="4381689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381694">s</span>&nbsp;<span class="op" id="4381696">+=</span>&nbsp;<span class="string" id="4381699">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4381706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381710">s</span>&nbsp;<span class="op" id="4381712">+=</span>&nbsp;<span class="ident" id="4381715">f</span><span class="op" id="4381716">.</span><span class="ident" id="4381717">Name</span>&nbsp;<span class="op" id="4381722">+</span>&nbsp;<span class="string" id="4381724">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4381728">+</span>&nbsp;<span class="ident" id="4381730">f</span><span class="op" id="4381731">.</span><span class="ident" id="4381732">Type</span><span class="op" id="4381736">.</span><span class="ident" id="4381737">String</span><span class="op" id="4381743">(</span><span class="op" id="4381744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381748">s</span>&nbsp;<span class="op" id="4381750">+=</span>&nbsp;<span class="string" id="4381753">&#34;@&#34;</span>&nbsp;<span class="op" id="4381757">+</span>&nbsp;<span class="ident" id="4381759">strconv</span><span class="op" id="4381766">.</span><span class="ident" id="4381767">FormatInt</span><span class="op" id="4381776">(</span><span class="ident" id="4381777">f</span><span class="op" id="4381778">.</span><span class="ident" id="4381779">ByteOffset</span><span class="op" id="4381789">,</span>&nbsp;<span class="num" id="4381791">10</span><span class="op" id="4381793">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381797">if</span>&nbsp;<span class="ident" id="4381800">f</span><span class="op" id="4381801">.</span><span class="ident" id="4381802">BitSize</span>&nbsp;<span class="op" id="4381810">&gt;</span>&nbsp;<span class="num" id="4381812">0</span>&nbsp;<span class="op" id="4381814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381819">s</span>&nbsp;<span class="op" id="4381821">+=</span>&nbsp;<span class="string" id="4381824">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="4381830">+</span>&nbsp;<span class="ident" id="4381832">strconv</span><span class="op" id="4381839">.</span><span class="ident" id="4381840">FormatInt</span><span class="op" id="4381849">(</span><span class="ident" id="4381850">f</span><span class="op" id="4381851">.</span><span class="ident" id="4381852">BitSize</span><span class="op" id="4381859">,</span>&nbsp;<span class="num" id="4381861">10</span><span class="op" id="4381863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381868">s</span>&nbsp;<span class="op" id="4381870">+=</span>&nbsp;<span class="string" id="4381873">&#34;@&#34;</span>&nbsp;<span class="op" id="4381877">+</span>&nbsp;<span class="ident" id="4381879">strconv</span><span class="op" id="4381886">.</span><span class="ident" id="4381887">FormatInt</span><span class="op" id="4381896">(</span><span class="ident" id="4381897">f</span><span class="op" id="4381898">.</span><span class="ident" id="4381899">BitOffset</span><span class="op" id="4381908">,</span>&nbsp;<span class="num" id="4381910">10</span><span class="op" id="4381912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4381916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4381919">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4381922">s</span>&nbsp;<span class="op" id="4381924">+=</span>&nbsp;<span class="string" id="4381927">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4381932">return</span>&nbsp;<span class="ident" id="4381939">s</span><br>
<span class="lineno"></span><span class="op" id="4381941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4381944">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="4381990">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="4382056">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="4382080">type</span>&nbsp;<span class="ident" id="4382085">EnumType</span>&nbsp;<span class="keyword" id="4382094">struct</span>&nbsp;<span class="op" id="4382101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382104">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382116">EnumName</span>&nbsp;<span class="builtintype" id="4382125">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382133">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4382142">[</span><span class="op" id="4382143">]</span><span class="op" id="4382144">*</span><span class="ident" id="4382145">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="4382155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4382158">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="4382213">type</span>&nbsp;<span class="ident" id="4382218">EnumValue</span>&nbsp;<span class="keyword" id="4382228">struct</span>&nbsp;<span class="op" id="4382235">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382238">Name</span>&nbsp;<span class="builtintype" id="4382243">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382251">Val</span>&nbsp;&nbsp;<span class="ident" id="4382256">int64</span><br>
<span class="lineno"></span><span class="op" id="4382262">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4382265">func</span>&nbsp;<span class="op" id="4382270">(</span><span class="ident" id="4382271">t</span>&nbsp;<span class="op" id="4382273">*</span><span class="ident" id="4382274">EnumType</span><span class="op" id="4382282">)</span>&nbsp;<span class="ident" id="4382284">String</span><span class="op" id="4382290">(</span><span class="op" id="4382291">)</span>&nbsp;<span class="builtintype" id="4382293">string</span>&nbsp;<span class="op" id="4382300">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382303">s</span>&nbsp;<span class="op" id="4382305">:=</span>&nbsp;<span class="string" id="4382308">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4382316">if</span>&nbsp;<span class="ident" id="4382319">t</span><span class="op" id="4382320">.</span><span class="ident" id="4382321">EnumName</span>&nbsp;<span class="op" id="4382330">!=</span>&nbsp;<span class="string" id="4382333">&#34;&#34;</span>&nbsp;<span class="op" id="4382336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382340">s</span>&nbsp;<span class="op" id="4382342">+=</span>&nbsp;<span class="string" id="4382345">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4382349">+</span>&nbsp;<span class="ident" id="4382351">t</span><span class="op" id="4382352">.</span><span class="ident" id="4382353">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4382363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382366">s</span>&nbsp;<span class="op" id="4382368">+=</span>&nbsp;<span class="string" id="4382371">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4382377">for</span>&nbsp;<span class="ident" id="4382381">i</span><span class="op" id="4382382">,</span>&nbsp;<span class="ident" id="4382384">v</span>&nbsp;<span class="op" id="4382386">:=</span>&nbsp;<span class="keyword" id="4382389">range</span>&nbsp;<span class="ident" id="4382395">t</span><span class="op" id="4382396">.</span><span class="ident" id="4382397">Val</span>&nbsp;<span class="op" id="4382401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4382405">if</span>&nbsp;<span class="ident" id="4382408">i</span>&nbsp;<span class="op" id="4382410">&gt;</span>&nbsp;<span class="num" id="4382412">0</span>&nbsp;<span class="op" id="4382414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382419">s</span>&nbsp;<span class="op" id="4382421">+=</span>&nbsp;<span class="string" id="4382424">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4382431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382435">s</span>&nbsp;<span class="op" id="4382437">+=</span>&nbsp;<span class="ident" id="4382440">v</span><span class="op" id="4382441">.</span><span class="ident" id="4382442">Name</span>&nbsp;<span class="op" id="4382447">+</span>&nbsp;<span class="string" id="4382449">&#34;=&#34;</span>&nbsp;<span class="op" id="4382453">+</span>&nbsp;<span class="ident" id="4382455">strconv</span><span class="op" id="4382462">.</span><span class="ident" id="4382463">FormatInt</span><span class="op" id="4382472">(</span><span class="ident" id="4382473">v</span><span class="op" id="4382474">.</span><span class="ident" id="4382475">Val</span><span class="op" id="4382478">,</span>&nbsp;<span class="num" id="4382480">10</span><span class="op" id="4382482">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4382485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382488">s</span>&nbsp;<span class="op" id="4382490">+=</span>&nbsp;<span class="string" id="4382493">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4382498">return</span>&nbsp;<span class="ident" id="4382505">s</span><br>
<span class="lineno"></span><span class="op" id="4382507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="4382510">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4382552">type</span>&nbsp;<span class="ident" id="4382557">FuncType</span>&nbsp;<span class="keyword" id="4382566">struct</span>&nbsp;<span class="op" id="4382573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382576">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382588">ReturnType</span>&nbsp;<span class="ident" id="4382599">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382605">ParamType</span>&nbsp;&nbsp;<span class="op" id="4382616">[</span><span class="op" id="4382617">]</span><span class="ident" id="4382618">Type</span><br>
<span class="lineno">230</span><span class="op" id="4382623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4382626">func</span>&nbsp;<span class="op" id="4382631">(</span><span class="ident" id="4382632">t</span>&nbsp;<span class="op" id="4382634">*</span><span class="ident" id="4382635">FuncType</span><span class="op" id="4382643">)</span>&nbsp;<span class="ident" id="4382645">String</span><span class="op" id="4382651">(</span><span class="op" id="4382652">)</span>&nbsp;<span class="builtintype" id="4382654">string</span>&nbsp;<span class="op" id="4382661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382664">s</span>&nbsp;<span class="op" id="4382666">:=</span>&nbsp;<span class="string" id="4382669">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4382678">for</span>&nbsp;<span class="ident" id="4382682">i</span><span class="op" id="4382683">,</span>&nbsp;<span class="ident" id="4382685">t</span>&nbsp;<span class="op" id="4382687">:=</span>&nbsp;<span class="keyword" id="4382690">range</span>&nbsp;<span class="ident" id="4382696">t</span><span class="op" id="4382697">.</span><span class="ident" id="4382698">ParamType</span>&nbsp;<span class="op" id="4382708">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4382712">if</span>&nbsp;<span class="ident" id="4382715">i</span>&nbsp;<span class="op" id="4382717">&gt;</span>&nbsp;<span class="num" id="4382719">0</span>&nbsp;<span class="op" id="4382721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382726">s</span>&nbsp;<span class="op" id="4382728">+=</span>&nbsp;<span class="string" id="4382731">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4382738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382742">s</span>&nbsp;<span class="op" id="4382744">+=</span>&nbsp;<span class="ident" id="4382747">t</span><span class="op" id="4382748">.</span><span class="ident" id="4382749">String</span><span class="op" id="4382755">(</span><span class="op" id="4382756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4382759">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382762">s</span>&nbsp;<span class="op" id="4382764">+=</span>&nbsp;<span class="string" id="4382767">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4382772">if</span>&nbsp;<span class="ident" id="4382775">t</span><span class="op" id="4382776">.</span><span class="ident" id="4382777">ReturnType</span>&nbsp;<span class="op" id="4382788">!=</span>&nbsp;<span class="ident" id="4382791">nil</span>&nbsp;<span class="op" id="4382795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382799">s</span>&nbsp;<span class="op" id="4382801">+=</span>&nbsp;<span class="string" id="4382804">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4382808">+</span>&nbsp;<span class="ident" id="4382810">t</span><span class="op" id="4382811">.</span><span class="ident" id="4382812">ReturnType</span><span class="op" id="4382822">.</span><span class="ident" id="4382823">String</span><span class="op" id="4382829">(</span><span class="op" id="4382830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4382833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4382836">return</span>&nbsp;<span class="ident" id="4382843">s</span><br>
<span class="lineno">245</span><span class="op" id="4382845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4382848">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="4382915">type</span>&nbsp;<span class="ident" id="4382920">DotDotDotType</span>&nbsp;<span class="keyword" id="4382934">struct</span>&nbsp;<span class="op" id="4382941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4382944">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="4382955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4382958">func</span>&nbsp;<span class="op" id="4382963">(</span><span class="ident" id="4382964">t</span>&nbsp;<span class="op" id="4382966">*</span><span class="ident" id="4382967">DotDotDotType</span><span class="op" id="4382980">)</span>&nbsp;<span class="ident" id="4382982">String</span><span class="op" id="4382988">(</span><span class="op" id="4382989">)</span>&nbsp;<span class="builtintype" id="4382991">string</span>&nbsp;<span class="op" id="4382998">{</span>&nbsp;<span class="keyword" id="4383000">return</span>&nbsp;<span class="string" id="4383007">&#34;...&#34;</span>&nbsp;<span class="op" id="4383013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4383016">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="4383058">type</span>&nbsp;<span class="ident" id="4383063">TypedefType</span>&nbsp;<span class="keyword" id="4383075">struct</span>&nbsp;<span class="op" id="4383082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4383085">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4383097">Type</span>&nbsp;<span class="ident" id="4383102">Type</span><br>
<span class="lineno"></span><span class="op" id="4383107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="4383110">func</span>&nbsp;<span class="op" id="4383115">(</span><span class="ident" id="4383116">t</span>&nbsp;<span class="op" id="4383118">*</span><span class="ident" id="4383119">TypedefType</span><span class="op" id="4383130">)</span>&nbsp;<span class="ident" id="4383132">String</span><span class="op" id="4383138">(</span><span class="op" id="4383139">)</span>&nbsp;<span class="builtintype" id="4383141">string</span>&nbsp;<span class="op" id="4383148">{</span>&nbsp;<span class="keyword" id="4383150">return</span>&nbsp;<span class="ident" id="4383157">t</span><span class="op" id="4383158">.</span><span class="ident" id="4383159">Name</span>&nbsp;<span class="op" id="4383164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4383167">func</span>&nbsp;<span class="op" id="4383172">(</span><span class="ident" id="4383173">t</span>&nbsp;<span class="op" id="4383175">*</span><span class="ident" id="4383176">TypedefType</span><span class="op" id="4383187">)</span>&nbsp;<span class="ident" id="4383189">Size</span><span class="op" id="4383193">(</span><span class="op" id="4383194">)</span>&nbsp;<span class="ident" id="4383196">int64</span>&nbsp;<span class="op" id="4383202">{</span>&nbsp;<span class="keyword" id="4383204">return</span>&nbsp;<span class="ident" id="4383211">t</span><span class="op" id="4383212">.</span><span class="ident" id="4383213">Type</span><span class="op" id="4383217">.</span><span class="ident" id="4383218">Size</span><span class="op" id="4383222">(</span><span class="op" id="4383223">)</span>&nbsp;<span class="op" id="4383225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4383228">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="4383294">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4383312">type</span>&nbsp;<span class="ident" id="4383317">typeReader</span>&nbsp;<span class="keyword" id="4383328">interface</span>&nbsp;<span class="op" id="4383338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4383341">Seek</span><span class="op" id="4383345">(</span><span class="ident" id="4383346">Offset</span><span class="op" id="4383352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4383355">Next</span><span class="op" id="4383359">(</span><span class="op" id="4383360">)</span>&nbsp;<span class="op" id="4383362">(</span><span class="op" id="4383363">*</span><span class="ident" id="4383364">Entry</span><span class="op" id="4383369">,</span>&nbsp;<span class="builtintype" id="4383371">error</span><span class="op" id="4383376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4383379">clone</span><span class="op" id="4383384">(</span><span class="op" id="4383385">)</span>&nbsp;<span class="ident" id="4383387">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4383399">offset</span><span class="op" id="4383405">(</span><span class="op" id="4383406">)</span>&nbsp;<span class="ident" id="4383408">Offset</span><br>
<span class="lineno"></span><span class="op" id="4383415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4383418">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4383479">func</span>&nbsp;<span class="op" id="4383484">(</span><span class="ident" id="4383485">d</span>&nbsp;<span class="op" id="4383487">*</span><span class="ident" id="4383488">Data</span><span class="op" id="4383492">)</span>&nbsp;<span class="ident" id="4383494">Type</span><span class="op" id="4383498">(</span><span class="ident" id="4383499">off</span>&nbsp;<span class="ident" id="4383503">Offset</span><span class="op" id="4383509">)</span>&nbsp;<span class="op" id="4383511">(</span><span class="ident" id="4383512">Type</span><span class="op" id="4383516">,</span>&nbsp;<span class="builtintype" id="4383518">error</span><span class="op" id="4383523">)</span>&nbsp;<span class="op" id="4383525">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4383528">return</span>&nbsp;<span class="ident" id="4383535">d</span><span class="op" id="4383536">.</span><span class="ident" id="4383537">readType</span><span class="op" id="4383545">(</span><span class="string" id="4383546">&#34;info&#34;</span><span class="op" id="4383552">,</span>&nbsp;<span class="ident" id="4383554">d</span><span class="op" id="4383555">.</span><span class="ident" id="4383556">Reader</span><span class="op" id="4383562">(</span><span class="op" id="4383563">)</span><span class="op" id="4383564">,</span>&nbsp;<span class="ident" id="4383566">off</span><span class="op" id="4383569">,</span>&nbsp;<span class="ident" id="4383571">d</span><span class="op" id="4383572">.</span><span class="ident" id="4383573">typeCache</span><span class="op" id="4383582">)</span><br>
<span class="lineno"></span><span class="op" id="4383584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4383587">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4383655">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="4383670">func</span>&nbsp;<span class="op" id="4383675">(</span><span class="ident" id="4383676">d</span>&nbsp;<span class="op" id="4383678">*</span><span class="ident" id="4383679">Data</span><span class="op" id="4383683">)</span>&nbsp;<span class="ident" id="4383685">readType</span><span class="op" id="4383693">(</span><span class="ident" id="4383694">name</span>&nbsp;<span class="builtintype" id="4383699">string</span><span class="op" id="4383705">,</span>&nbsp;<span class="ident" id="4383707">r</span>&nbsp;<span class="ident" id="4383709">typeReader</span><span class="op" id="4383719">,</span>&nbsp;<span class="ident" id="4383721">off</span>&nbsp;<span class="ident" id="4383725">Offset</span><span class="op" id="4383731">,</span>&nbsp;<span class="ident" id="4383733">typeCache</span>&nbsp;<span class="keyword" id="4383743">map</span><span class="op" id="4383746">[</span><span class="ident" id="4383747">Offset</span><span class="op" id="4383753">]</span><span class="ident" id="4383754">Type</span><span class="op" id="4383758">)</span>&nbsp;<span class="op" id="4383760">(</span><span class="ident" id="4383761">Type</span><span class="op" id="4383765">,</span>&nbsp;<span class="builtintype" id="4383767">error</span><span class="op" id="4383772">)</span>&nbsp;<span class="op" id="4383774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4383777">if</span>&nbsp;<span class="ident" id="4383780">t</span><span class="op" id="4383781">,</span>&nbsp;<span class="ident" id="4383783">ok</span>&nbsp;<span class="op" id="4383786">:=</span>&nbsp;<span class="ident" id="4383789">typeCache</span><span class="op" id="4383798">[</span><span class="ident" id="4383799">off</span><span class="op" id="4383802">]</span><span class="op" id="4383803">;</span>&nbsp;<span class="ident" id="4383805">ok</span>&nbsp;<span class="op" id="4383808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4383812">return</span>&nbsp;<span class="ident" id="4383819">t</span><span class="op" id="4383820">,</span>&nbsp;<span class="ident" id="4383822">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4383827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4383830">r</span><span class="op" id="4383831">.</span><span class="ident" id="4383832">Seek</span><span class="op" id="4383836">(</span><span class="ident" id="4383837">off</span><span class="op" id="4383840">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4383843">e</span><span class="op" id="4383844">,</span>&nbsp;<span class="ident" id="4383846">err</span>&nbsp;<span class="op" id="4383850">:=</span>&nbsp;<span class="ident" id="4383853">r</span><span class="op" id="4383854">.</span><span class="ident" id="4383855">Next</span><span class="op" id="4383859">(</span><span class="op" id="4383860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4383863">if</span>&nbsp;<span class="ident" id="4383866">err</span>&nbsp;<span class="op" id="4383870">!=</span>&nbsp;<span class="ident" id="4383873">nil</span>&nbsp;<span class="op" id="4383877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4383881">return</span>&nbsp;<span class="ident" id="4383888">nil</span><span class="op" id="4383891">,</span>&nbsp;<span class="ident" id="4383893">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4383898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4383901">if</span>&nbsp;<span class="ident" id="4383904">e</span>&nbsp;<span class="op" id="4383906">==</span>&nbsp;<span class="ident" id="4383909">nil</span>&nbsp;<span class="op" id="4383913">||</span>&nbsp;<span class="ident" id="4383916">e</span><span class="op" id="4383917">.</span><span class="ident" id="4383918">Offset</span>&nbsp;<span class="op" id="4383925">!=</span>&nbsp;<span class="ident" id="4383928">off</span>&nbsp;<span class="op" id="4383932">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4383936">return</span>&nbsp;<span class="ident" id="4383943">nil</span><span class="op" id="4383946">,</span>&nbsp;<span class="ident" id="4383948">DecodeError</span><span class="op" id="4383959">{</span><span class="ident" id="4383960">name</span><span class="op" id="4383964">,</span>&nbsp;<span class="ident" id="4383966">off</span><span class="op" id="4383969">,</span>&nbsp;<span class="string" id="4383971">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="4383990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4383993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4383997">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384024">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384074">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384134">var</span>&nbsp;<span class="ident" id="4384138">typ</span>&nbsp;<span class="ident" id="4384142">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4384149">nextDepth</span>&nbsp;<span class="op" id="4384159">:=</span>&nbsp;<span class="num" id="4384162">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384166">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4384212">next</span>&nbsp;<span class="op" id="4384217">:=</span>&nbsp;<span class="keyword" id="4384220">func</span><span class="op" id="4384224">(</span><span class="op" id="4384225">)</span>&nbsp;<span class="op" id="4384227">*</span><span class="ident" id="4384228">Entry</span>&nbsp;<span class="op" id="4384234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384238">if</span>&nbsp;<span class="op" id="4384241">!</span><span class="ident" id="4384242">e</span><span class="op" id="4384243">.</span><span class="ident" id="4384244">Children</span>&nbsp;<span class="op" id="4384253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384258">return</span>&nbsp;<span class="ident" id="4384265">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4384271">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384275">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384309">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384367">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384429">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384464">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384496">for</span>&nbsp;<span class="op" id="4384500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4384505">kid</span><span class="op" id="4384508">,</span>&nbsp;<span class="ident" id="4384510">err1</span>&nbsp;<span class="op" id="4384515">:=</span>&nbsp;<span class="ident" id="4384518">r</span><span class="op" id="4384519">.</span><span class="ident" id="4384520">Next</span><span class="op" id="4384524">(</span><span class="op" id="4384525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384530">if</span>&nbsp;<span class="ident" id="4384533">err1</span>&nbsp;<span class="op" id="4384538">!=</span>&nbsp;<span class="ident" id="4384541">nil</span>&nbsp;<span class="op" id="4384545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4384551">err</span>&nbsp;<span class="op" id="4384555">=</span>&nbsp;<span class="ident" id="4384557">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384566">return</span>&nbsp;<span class="ident" id="4384573">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4384580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384585">if</span>&nbsp;<span class="ident" id="4384588">kid</span>&nbsp;<span class="op" id="4384592">==</span>&nbsp;<span class="ident" id="4384595">nil</span>&nbsp;<span class="op" id="4384599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4384605">err</span>&nbsp;<span class="op" id="4384609">=</span>&nbsp;<span class="ident" id="4384611">DecodeError</span><span class="op" id="4384622">{</span><span class="ident" id="4384623">name</span><span class="op" id="4384627">,</span>&nbsp;<span class="ident" id="4384629">r</span><span class="op" id="4384630">.</span><span class="ident" id="4384631">offset</span><span class="op" id="4384637">(</span><span class="op" id="4384638">)</span><span class="op" id="4384639">,</span>&nbsp;<span class="string" id="4384641">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="4384674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384680">return</span>&nbsp;<span class="ident" id="4384687">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4384694">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384699">if</span>&nbsp;<span class="ident" id="4384702">kid</span><span class="op" id="4384705">.</span><span class="ident" id="4384706">Tag</span>&nbsp;<span class="op" id="4384710">==</span>&nbsp;<span class="num" id="4384713">0</span>&nbsp;<span class="op" id="4384715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384721">if</span>&nbsp;<span class="ident" id="4384724">nextDepth</span>&nbsp;<span class="op" id="4384734">&gt;</span>&nbsp;<span class="num" id="4384736">0</span>&nbsp;<span class="op" id="4384738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4384745">nextDepth</span><span class="op" id="4384754">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384762">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4384775">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384781">return</span>&nbsp;<span class="ident" id="4384788">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4384795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384800">if</span>&nbsp;<span class="ident" id="4384803">kid</span><span class="op" id="4384806">.</span><span class="ident" id="4384807">Children</span>&nbsp;<span class="op" id="4384816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4384822">nextDepth</span><span class="op" id="4384831">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4384837">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384842">if</span>&nbsp;<span class="ident" id="4384845">nextDepth</span>&nbsp;<span class="op" id="4384855">&gt;</span>&nbsp;<span class="num" id="4384857">0</span>&nbsp;<span class="op" id="4384859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384865">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4384877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4384882">return</span>&nbsp;<span class="ident" id="4384889">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4384895">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4384898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384902">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4384954">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4385016">typeOf</span>&nbsp;<span class="op" id="4385023">:=</span>&nbsp;<span class="keyword" id="4385026">func</span><span class="op" id="4385030">(</span><span class="ident" id="4385031">e</span>&nbsp;<span class="op" id="4385033">*</span><span class="ident" id="4385034">Entry</span><span class="op" id="4385039">)</span>&nbsp;<span class="ident" id="4385041">Type</span>&nbsp;<span class="op" id="4385046">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4385050">tval</span>&nbsp;<span class="op" id="4385055">:=</span>&nbsp;<span class="ident" id="4385058">e</span><span class="op" id="4385059">.</span><span class="ident" id="4385060">Val</span><span class="op" id="4385063">(</span><span class="ident" id="4385064">AttrType</span><span class="op" id="4385072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385076">var</span>&nbsp;<span class="ident" id="4385080">t</span>&nbsp;<span class="ident" id="4385082">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385089">switch</span>&nbsp;<span class="ident" id="4385096">toff</span>&nbsp;<span class="op" id="4385101">:=</span>&nbsp;<span class="ident" id="4385104">tval</span><span class="op" id="4385108">.</span><span class="op" id="4385109">(</span><span class="keyword" id="4385110">type</span><span class="op" id="4385114">)</span>&nbsp;<span class="op" id="4385116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385120">case</span>&nbsp;<span class="ident" id="4385125">Offset</span><span class="op" id="4385131">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385136">if</span>&nbsp;<span class="ident" id="4385139">t</span><span class="op" id="4385140">,</span>&nbsp;<span class="ident" id="4385142">err</span>&nbsp;<span class="op" id="4385146">=</span>&nbsp;<span class="ident" id="4385148">d</span><span class="op" id="4385149">.</span><span class="ident" id="4385150">readType</span><span class="op" id="4385158">(</span><span class="ident" id="4385159">name</span><span class="op" id="4385163">,</span>&nbsp;<span class="ident" id="4385165">r</span><span class="op" id="4385166">.</span><span class="ident" id="4385167">clone</span><span class="op" id="4385172">(</span><span class="op" id="4385173">)</span><span class="op" id="4385174">,</span>&nbsp;<span class="ident" id="4385176">toff</span><span class="op" id="4385180">,</span>&nbsp;<span class="ident" id="4385182">typeCache</span><span class="op" id="4385191">)</span><span class="op" id="4385192">;</span>&nbsp;<span class="ident" id="4385194">err</span>&nbsp;<span class="op" id="4385198">!=</span>&nbsp;<span class="ident" id="4385201">nil</span>&nbsp;<span class="op" id="4385205">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385211">return</span>&nbsp;<span class="ident" id="4385218">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4385225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385229">case</span>&nbsp;<span class="ident" id="4385234">uint64</span><span class="op" id="4385240">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385245">if</span>&nbsp;<span class="ident" id="4385248">t</span><span class="op" id="4385249">,</span>&nbsp;<span class="ident" id="4385251">err</span>&nbsp;<span class="op" id="4385255">=</span>&nbsp;<span class="ident" id="4385257">d</span><span class="op" id="4385258">.</span><span class="ident" id="4385259">sigToType</span><span class="op" id="4385268">(</span><span class="ident" id="4385269">toff</span><span class="op" id="4385273">)</span><span class="op" id="4385274">;</span>&nbsp;<span class="ident" id="4385276">err</span>&nbsp;<span class="op" id="4385280">!=</span>&nbsp;<span class="ident" id="4385283">nil</span>&nbsp;<span class="op" id="4385287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385293">return</span>&nbsp;<span class="ident" id="4385300">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4385307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385311">default</span><span class="op" id="4385318">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385323">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385367">return</span>&nbsp;<span class="builtinfunc" id="4385374">new</span><span class="op" id="4385377">(</span><span class="ident" id="4385378">VoidType</span><span class="op" id="4385386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4385390">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385394">return</span>&nbsp;<span class="ident" id="4385401">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4385404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385408">switch</span>&nbsp;<span class="ident" id="4385415">e</span><span class="op" id="4385416">.</span><span class="ident" id="4385417">Tag</span>&nbsp;<span class="op" id="4385421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385424">case</span>&nbsp;<span class="ident" id="4385429">TagArrayType</span><span class="op" id="4385441">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385445">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385493">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385510">//&nbsp;&nbsp;&nbsp;&nbspAttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385543">//&nbsp;&nbsp;&nbsp;&nbspAttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385606">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385646">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385661">//&nbsp;&nbsp;&nbsp;&nbspTagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385726">//&nbsp;&nbsp;&nbsp;&nbspdimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4385770">t</span>&nbsp;<span class="op" id="4385772">:=</span>&nbsp;<span class="builtinfunc" id="4385775">new</span><span class="op" id="4385778">(</span><span class="ident" id="4385779">ArrayType</span><span class="op" id="4385788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4385792">typ</span>&nbsp;<span class="op" id="4385796">=</span>&nbsp;<span class="ident" id="4385798">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4385802">typeCache</span><span class="op" id="4385811">[</span><span class="ident" id="4385812">off</span><span class="op" id="4385815">]</span>&nbsp;<span class="op" id="4385817">=</span>&nbsp;<span class="ident" id="4385819">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385823">if</span>&nbsp;<span class="ident" id="4385826">t</span><span class="op" id="4385827">.</span><span class="ident" id="4385828">Type</span>&nbsp;<span class="op" id="4385833">=</span>&nbsp;<span class="ident" id="4385835">typeOf</span><span class="op" id="4385841">(</span><span class="ident" id="4385842">e</span><span class="op" id="4385843">)</span><span class="op" id="4385844">;</span>&nbsp;<span class="ident" id="4385846">err</span>&nbsp;<span class="op" id="4385850">!=</span>&nbsp;<span class="ident" id="4385853">nil</span>&nbsp;<span class="op" id="4385857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385862">goto</span>&nbsp;<span class="ident" id="4385867">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4385875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4385879">t</span><span class="op" id="4385880">.</span><span class="ident" id="4385881">StrideBitSize</span><span class="op" id="4385894">,</span>&nbsp;<span class="ident" id="4385896">_</span>&nbsp;<span class="op" id="4385898">=</span>&nbsp;<span class="ident" id="4385900">e</span><span class="op" id="4385901">.</span><span class="ident" id="4385902">Val</span><span class="op" id="4385905">(</span><span class="ident" id="4385906">AttrStrideSize</span><span class="op" id="4385920">)</span><span class="op" id="4385921">.</span><span class="op" id="4385922">(</span><span class="ident" id="4385923">int64</span><span class="op" id="4385928">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4385933">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385961">var</span>&nbsp;<span class="ident" id="4385965">dims</span>&nbsp;<span class="op" id="4385970">[</span><span class="op" id="4385971">]</span><span class="ident" id="4385972">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4385980">for</span>&nbsp;<span class="ident" id="4385984">kid</span>&nbsp;<span class="op" id="4385988">:=</span>&nbsp;<span class="ident" id="4385991">next</span><span class="op" id="4385995">(</span><span class="op" id="4385996">)</span><span class="op" id="4385997">;</span>&nbsp;<span class="ident" id="4385999">kid</span>&nbsp;<span class="op" id="4386003">!=</span>&nbsp;<span class="ident" id="4386006">nil</span><span class="op" id="4386009">;</span>&nbsp;<span class="ident" id="4386011">kid</span>&nbsp;<span class="op" id="4386015">=</span>&nbsp;<span class="ident" id="4386017">next</span><span class="op" id="4386021">(</span><span class="op" id="4386022">)</span>&nbsp;<span class="op" id="4386024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4386029">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4386077">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4386122">switch</span>&nbsp;<span class="ident" id="4386129">kid</span><span class="op" id="4386132">.</span><span class="ident" id="4386133">Tag</span>&nbsp;<span class="op" id="4386137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4386142">case</span>&nbsp;<span class="ident" id="4386147">TagSubrangeType</span><span class="op" id="4386162">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4386168">count</span><span class="op" id="4386173">,</span>&nbsp;<span class="ident" id="4386175">ok</span>&nbsp;<span class="op" id="4386178">:=</span>&nbsp;<span class="ident" id="4386181">kid</span><span class="op" id="4386184">.</span><span class="ident" id="4386185">Val</span><span class="op" id="4386188">(</span><span class="ident" id="4386189">AttrCount</span><span class="op" id="4386198">)</span><span class="op" id="4386199">.</span><span class="op" id="4386200">(</span><span class="ident" id="4386201">int64</span><span class="op" id="4386206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4386212">if</span>&nbsp;<span class="op" id="4386215">!</span><span class="ident" id="4386216">ok</span>&nbsp;<span class="op" id="4386219">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4386226">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4386280">count</span><span class="op" id="4386285">,</span>&nbsp;<span class="ident" id="4386287">ok</span>&nbsp;<span class="op" id="4386290">=</span>&nbsp;<span class="ident" id="4386292">kid</span><span class="op" id="4386295">.</span><span class="ident" id="4386296">Val</span><span class="op" id="4386299">(</span><span class="ident" id="4386300">AttrUpperBound</span><span class="op" id="4386314">)</span><span class="op" id="4386315">.</span><span class="op" id="4386316">(</span><span class="ident" id="4386317">int64</span><span class="op" id="4386322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4386329">if</span>&nbsp;<span class="ident" id="4386332">ok</span>&nbsp;<span class="op" id="4386335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4386343">count</span><span class="op" id="4386348">++</span>&nbsp;<span class="comment" id="4386351">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4386396">}</span>&nbsp;<span class="keyword" id="4386398">else</span>&nbsp;<span class="keyword" id="4386403">if</span>&nbsp;<span class="builtinfunc" id="4386406">len</span><span class="op" id="4386409">(</span><span class="ident" id="4386410">dims</span><span class="op" id="4386414">)</span>&nbsp;<span class="op" id="4386416">==</span>&nbsp;<span class="num" id="4386419">0</span>&nbsp;<span class="op" id="4386421">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4386429">count</span>&nbsp;<span class="op" id="4386435">=</span>&nbsp;<span class="op" id="4386437">-</span><span class="num" id="4386438">1</span>&nbsp;<span class="comment" id="4386440">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4386459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4386465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4386471">dims</span>&nbsp;<span class="op" id="4386476">=</span>&nbsp;<span class="builtinfunc" id="4386478">append</span><span class="op" id="4386484">(</span><span class="ident" id="4386485">dims</span><span class="op" id="4386489">,</span>&nbsp;<span class="ident" id="4386491">count</span><span class="op" id="4386496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4386501">case</span>&nbsp;<span class="ident" id="4386506">TagEnumerationType</span><span class="op" id="4386524">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4386530">err</span>&nbsp;<span class="op" id="4386534">=</span>&nbsp;<span class="ident" id="4386536">DecodeError</span><span class="op" id="4386547">{</span><span class="ident" id="4386548">name</span><span class="op" id="4386552">,</span>&nbsp;<span class="ident" id="4386554">kid</span><span class="op" id="4386557">.</span><span class="ident" id="4386558">Offset</span><span class="op" id="4386564">,</span>&nbsp;<span class="string" id="4386566">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="4386613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4386619">goto</span>&nbsp;<span class="ident" id="4386624">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4386633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4386637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4386641">if</span>&nbsp;<span class="builtinfunc" id="4386644">len</span><span class="op" id="4386647">(</span><span class="ident" id="4386648">dims</span><span class="op" id="4386652">)</span>&nbsp;<span class="op" id="4386654">==</span>&nbsp;<span class="num" id="4386657">0</span>&nbsp;<span class="op" id="4386659">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4386664">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4386699">dims</span>&nbsp;<span class="op" id="4386704">=</span>&nbsp;<span class="op" id="4386706">[</span><span class="op" id="4386707">]</span><span class="ident" id="4386708">int64</span><span class="op" id="4386713">{</span><span class="op" id="4386714">-</span><span class="num" id="4386715">1</span><span class="op" id="4386716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4386720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4386725">t</span><span class="op" id="4386726">.</span><span class="ident" id="4386727">Count</span>&nbsp;<span class="op" id="4386733">=</span>&nbsp;<span class="ident" id="4386735">dims</span><span class="op" id="4386739">[</span><span class="num" id="4386740">0</span><span class="op" id="4386741">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4386745">for</span>&nbsp;<span class="ident" id="4386749">i</span>&nbsp;<span class="op" id="4386751">:=</span>&nbsp;<span class="builtinfunc" id="4386754">len</span><span class="op" id="4386757">(</span><span class="ident" id="4386758">dims</span><span class="op" id="4386762">)</span>&nbsp;<span class="op" id="4386764">-</span>&nbsp;<span class="num" id="4386766">1</span><span class="op" id="4386767">;</span>&nbsp;<span class="ident" id="4386769">i</span>&nbsp;<span class="op" id="4386771">&gt;=</span>&nbsp;<span class="num" id="4386774">1</span><span class="op" id="4386775">;</span>&nbsp;<span class="ident" id="4386777">i</span><span class="op" id="4386778">--</span>&nbsp;<span class="op" id="4386781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4386786">t</span><span class="op" id="4386787">.</span><span class="ident" id="4386788">Type</span>&nbsp;<span class="op" id="4386793">=</span>&nbsp;<span class="op" id="4386795">&amp;</span><span class="ident" id="4386796">ArrayType</span><span class="op" id="4386805">{</span><span class="ident" id="4386806">Type</span><span class="op" id="4386810">:</span>&nbsp;<span class="ident" id="4386812">t</span><span class="op" id="4386813">.</span><span class="ident" id="4386814">Type</span><span class="op" id="4386818">,</span>&nbsp;<span class="ident" id="4386820">Count</span><span class="op" id="4386825">:</span>&nbsp;<span class="ident" id="4386827">dims</span><span class="op" id="4386831">[</span><span class="ident" id="4386832">i</span><span class="op" id="4386833">]</span><span class="op" id="4386834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4386838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4386842">case</span>&nbsp;<span class="ident" id="4386847">TagBaseType</span><span class="op" id="4386858">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4386862">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4386897">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4386914">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4387006">//&nbsp;&nbsp;&nbsp;&nbspAttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4387075">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4387127">//&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4387180">//&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4387273">name</span><span class="op" id="4387277">,</span>&nbsp;<span class="ident" id="4387279">_</span>&nbsp;<span class="op" id="4387281">:=</span>&nbsp;<span class="ident" id="4387284">e</span><span class="op" id="4387285">.</span><span class="ident" id="4387286">Val</span><span class="op" id="4387289">(</span><span class="ident" id="4387290">AttrName</span><span class="op" id="4387298">)</span><span class="op" id="4387299">.</span><span class="op" id="4387300">(</span><span class="builtintype" id="4387301">string</span><span class="op" id="4387307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4387311">enc</span><span class="op" id="4387314">,</span>&nbsp;<span class="ident" id="4387316">ok</span>&nbsp;<span class="op" id="4387319">:=</span>&nbsp;<span class="ident" id="4387322">e</span><span class="op" id="4387323">.</span><span class="ident" id="4387324">Val</span><span class="op" id="4387327">(</span><span class="ident" id="4387328">AttrEncoding</span><span class="op" id="4387340">)</span><span class="op" id="4387341">.</span><span class="op" id="4387342">(</span><span class="ident" id="4387343">int64</span><span class="op" id="4387348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387352">if</span>&nbsp;<span class="op" id="4387355">!</span><span class="ident" id="4387356">ok</span>&nbsp;<span class="op" id="4387359">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4387364">err</span>&nbsp;<span class="op" id="4387368">=</span>&nbsp;<span class="ident" id="4387370">DecodeError</span><span class="op" id="4387381">{</span><span class="ident" id="4387382">name</span><span class="op" id="4387386">,</span>&nbsp;<span class="ident" id="4387388">e</span><span class="op" id="4387389">.</span><span class="ident" id="4387390">Offset</span><span class="op" id="4387396">,</span>&nbsp;<span class="string" id="4387398">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="4387432">+</span>&nbsp;<span class="ident" id="4387434">name</span><span class="op" id="4387438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387443">goto</span>&nbsp;<span class="ident" id="4387448">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4387456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387460">switch</span>&nbsp;<span class="ident" id="4387467">enc</span>&nbsp;<span class="op" id="4387471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387475">default</span><span class="op" id="4387482">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4387487">err</span>&nbsp;<span class="op" id="4387491">=</span>&nbsp;<span class="ident" id="4387493">DecodeError</span><span class="op" id="4387504">{</span><span class="ident" id="4387505">name</span><span class="op" id="4387509">,</span>&nbsp;<span class="ident" id="4387511">e</span><span class="op" id="4387512">.</span><span class="ident" id="4387513">Offset</span><span class="op" id="4387519">,</span>&nbsp;<span class="string" id="4387521">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="4387560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387565">goto</span>&nbsp;<span class="ident" id="4387570">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387579">case</span>&nbsp;<span class="ident" id="4387584">encAddress</span><span class="op" id="4387594">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4387599">typ</span>&nbsp;<span class="op" id="4387603">=</span>&nbsp;<span class="builtinfunc" id="4387605">new</span><span class="op" id="4387608">(</span><span class="ident" id="4387609">AddrType</span><span class="op" id="4387617">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387621">case</span>&nbsp;<span class="ident" id="4387626">encBoolean</span><span class="op" id="4387636">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4387641">typ</span>&nbsp;<span class="op" id="4387645">=</span>&nbsp;<span class="builtinfunc" id="4387647">new</span><span class="op" id="4387650">(</span><span class="ident" id="4387651">BoolType</span><span class="op" id="4387659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387663">case</span>&nbsp;<span class="ident" id="4387668">encComplexFloat</span><span class="op" id="4387683">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4387688">typ</span>&nbsp;<span class="op" id="4387692">=</span>&nbsp;<span class="builtinfunc" id="4387694">new</span><span class="op" id="4387697">(</span><span class="ident" id="4387698">ComplexType</span><span class="op" id="4387709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387714">if</span>&nbsp;<span class="ident" id="4387717">name</span>&nbsp;<span class="op" id="4387722">==</span>&nbsp;<span class="string" id="4387725">&#34;complex&#34;</span>&nbsp;<span class="op" id="4387735">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4387741">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4387823">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4387896">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387919">switch</span>&nbsp;<span class="ident" id="4387926">byteSize</span><span class="op" id="4387934">,</span>&nbsp;<span class="ident" id="4387936">_</span>&nbsp;<span class="op" id="4387938">:=</span>&nbsp;<span class="ident" id="4387941">e</span><span class="op" id="4387942">.</span><span class="ident" id="4387943">Val</span><span class="op" id="4387946">(</span><span class="ident" id="4387947">AttrByteSize</span><span class="op" id="4387959">)</span><span class="op" id="4387960">.</span><span class="op" id="4387961">(</span><span class="ident" id="4387962">int64</span><span class="op" id="4387967">)</span><span class="op" id="4387968">;</span>&nbsp;<span class="ident" id="4387970">byteSize</span>&nbsp;<span class="op" id="4387979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4387985">case</span>&nbsp;<span class="num" id="4387990">8</span><span class="op" id="4387991">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4387998">name</span>&nbsp;<span class="op" id="4388003">=</span>&nbsp;<span class="string" id="4388005">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4388025">case</span>&nbsp;<span class="num" id="4388030">16</span><span class="op" id="4388032">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388039">name</span>&nbsp;<span class="op" id="4388044">=</span>&nbsp;<span class="string" id="4388046">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4388067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4388072">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4388076">case</span>&nbsp;<span class="ident" id="4388081">encFloat</span><span class="op" id="4388089">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388094">typ</span>&nbsp;<span class="op" id="4388098">=</span>&nbsp;<span class="builtinfunc" id="4388100">new</span><span class="op" id="4388103">(</span><span class="ident" id="4388104">FloatType</span><span class="op" id="4388113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4388117">case</span>&nbsp;<span class="ident" id="4388122">encSigned</span><span class="op" id="4388131">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388136">typ</span>&nbsp;<span class="op" id="4388140">=</span>&nbsp;<span class="builtinfunc" id="4388142">new</span><span class="op" id="4388145">(</span><span class="ident" id="4388146">IntType</span><span class="op" id="4388153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4388157">case</span>&nbsp;<span class="ident" id="4388162">encUnsigned</span><span class="op" id="4388173">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388178">typ</span>&nbsp;<span class="op" id="4388182">=</span>&nbsp;<span class="builtinfunc" id="4388184">new</span><span class="op" id="4388187">(</span><span class="ident" id="4388188">UintType</span><span class="op" id="4388196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4388200">case</span>&nbsp;<span class="ident" id="4388205">encSignedChar</span><span class="op" id="4388218">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388223">typ</span>&nbsp;<span class="op" id="4388227">=</span>&nbsp;<span class="builtinfunc" id="4388229">new</span><span class="op" id="4388232">(</span><span class="ident" id="4388233">CharType</span><span class="op" id="4388241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4388245">case</span>&nbsp;<span class="ident" id="4388250">encUnsignedChar</span><span class="op" id="4388265">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388270">typ</span>&nbsp;<span class="op" id="4388274">=</span>&nbsp;<span class="builtinfunc" id="4388276">new</span><span class="op" id="4388279">(</span><span class="ident" id="4388280">UcharType</span><span class="op" id="4388289">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4388293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388297">typeCache</span><span class="op" id="4388306">[</span><span class="ident" id="4388307">off</span><span class="op" id="4388310">]</span>&nbsp;<span class="op" id="4388312">=</span>&nbsp;<span class="ident" id="4388314">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388320">t</span>&nbsp;<span class="op" id="4388322">:=</span>&nbsp;<span class="ident" id="4388325">typ</span><span class="op" id="4388328">.</span><span class="op" id="4388329">(</span><span class="keyword" id="4388330">interface</span>&nbsp;<span class="op" id="4388340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388345">Basic</span><span class="op" id="4388350">(</span><span class="op" id="4388351">)</span>&nbsp;<span class="op" id="4388353">*</span><span class="ident" id="4388354">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4388366">}</span><span class="op" id="4388367">)</span><span class="op" id="4388368">.</span><span class="ident" id="4388369">Basic</span><span class="op" id="4388374">(</span><span class="op" id="4388375">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388379">t</span><span class="op" id="4388380">.</span><span class="ident" id="4388381">Name</span>&nbsp;<span class="op" id="4388386">=</span>&nbsp;<span class="ident" id="4388388">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388395">t</span><span class="op" id="4388396">.</span><span class="ident" id="4388397">BitSize</span><span class="op" id="4388404">,</span>&nbsp;<span class="ident" id="4388406">_</span>&nbsp;<span class="op" id="4388408">=</span>&nbsp;<span class="ident" id="4388410">e</span><span class="op" id="4388411">.</span><span class="ident" id="4388412">Val</span><span class="op" id="4388415">(</span><span class="ident" id="4388416">AttrBitSize</span><span class="op" id="4388427">)</span><span class="op" id="4388428">.</span><span class="op" id="4388429">(</span><span class="ident" id="4388430">int64</span><span class="op" id="4388435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388439">t</span><span class="op" id="4388440">.</span><span class="ident" id="4388441">BitOffset</span><span class="op" id="4388450">,</span>&nbsp;<span class="ident" id="4388452">_</span>&nbsp;<span class="op" id="4388454">=</span>&nbsp;<span class="ident" id="4388456">e</span><span class="op" id="4388457">.</span><span class="ident" id="4388458">Val</span><span class="op" id="4388461">(</span><span class="ident" id="4388462">AttrBitOffset</span><span class="op" id="4388475">)</span><span class="op" id="4388476">.</span><span class="op" id="4388477">(</span><span class="ident" id="4388478">int64</span><span class="op" id="4388483">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4388487">case</span>&nbsp;<span class="ident" id="4388492">TagClassType</span><span class="op" id="4388504">,</span>&nbsp;<span class="ident" id="4388506">TagStructType</span><span class="op" id="4388519">,</span>&nbsp;<span class="ident" id="4388521">TagUnionType</span><span class="op" id="4388533">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388537">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388593">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388610">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388657">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388697">//&nbsp;&nbsp;&nbsp;&nbspAttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388761">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388776">//&nbsp;&nbsp;&nbsp;&nbspTagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388815">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388857">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388899">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388933">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4388993">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4389036">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4389113">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389173">t</span>&nbsp;<span class="op" id="4389175">:=</span>&nbsp;<span class="builtinfunc" id="4389178">new</span><span class="op" id="4389181">(</span><span class="ident" id="4389182">StructType</span><span class="op" id="4389192">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389196">typ</span>&nbsp;<span class="op" id="4389200">=</span>&nbsp;<span class="ident" id="4389202">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389206">typeCache</span><span class="op" id="4389215">[</span><span class="ident" id="4389216">off</span><span class="op" id="4389219">]</span>&nbsp;<span class="op" id="4389221">=</span>&nbsp;<span class="ident" id="4389223">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389227">switch</span>&nbsp;<span class="ident" id="4389234">e</span><span class="op" id="4389235">.</span><span class="ident" id="4389236">Tag</span>&nbsp;<span class="op" id="4389240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389244">case</span>&nbsp;<span class="ident" id="4389249">TagClassType</span><span class="op" id="4389261">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389266">t</span><span class="op" id="4389267">.</span><span class="ident" id="4389268">Kind</span>&nbsp;<span class="op" id="4389273">=</span>&nbsp;<span class="string" id="4389275">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389285">case</span>&nbsp;<span class="ident" id="4389290">TagStructType</span><span class="op" id="4389303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389308">t</span><span class="op" id="4389309">.</span><span class="ident" id="4389310">Kind</span>&nbsp;<span class="op" id="4389315">=</span>&nbsp;<span class="string" id="4389317">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389328">case</span>&nbsp;<span class="ident" id="4389333">TagUnionType</span><span class="op" id="4389345">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389350">t</span><span class="op" id="4389351">.</span><span class="ident" id="4389352">Kind</span>&nbsp;<span class="op" id="4389357">=</span>&nbsp;<span class="string" id="4389359">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4389369">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389373">t</span><span class="op" id="4389374">.</span><span class="ident" id="4389375">StructName</span><span class="op" id="4389385">,</span>&nbsp;<span class="ident" id="4389387">_</span>&nbsp;<span class="op" id="4389389">=</span>&nbsp;<span class="ident" id="4389391">e</span><span class="op" id="4389392">.</span><span class="ident" id="4389393">Val</span><span class="op" id="4389396">(</span><span class="ident" id="4389397">AttrName</span><span class="op" id="4389405">)</span><span class="op" id="4389406">.</span><span class="op" id="4389407">(</span><span class="builtintype" id="4389408">string</span><span class="op" id="4389414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389418">t</span><span class="op" id="4389419">.</span><span class="ident" id="4389420">Incomplete</span>&nbsp;<span class="op" id="4389431">=</span>&nbsp;<span class="ident" id="4389433">e</span><span class="op" id="4389434">.</span><span class="ident" id="4389435">Val</span><span class="op" id="4389438">(</span><span class="ident" id="4389439">AttrDeclaration</span><span class="op" id="4389454">)</span>&nbsp;<span class="op" id="4389456">!=</span>&nbsp;<span class="ident" id="4389459">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389465">t</span><span class="op" id="4389466">.</span><span class="ident" id="4389467">Field</span>&nbsp;<span class="op" id="4389473">=</span>&nbsp;<span class="builtinfunc" id="4389475">make</span><span class="op" id="4389479">(</span><span class="op" id="4389480">[</span><span class="op" id="4389481">]</span><span class="op" id="4389482">*</span><span class="ident" id="4389483">StructField</span><span class="op" id="4389494">,</span>&nbsp;<span class="num" id="4389496">0</span><span class="op" id="4389497">,</span>&nbsp;<span class="num" id="4389499">8</span><span class="op" id="4389500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389504">var</span>&nbsp;<span class="ident" id="4389508">lastFieldType</span>&nbsp;<span class="op" id="4389522">*</span><span class="ident" id="4389523">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389530">var</span>&nbsp;<span class="ident" id="4389534">lastFieldBitOffset</span>&nbsp;<span class="ident" id="4389553">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389561">for</span>&nbsp;<span class="ident" id="4389565">kid</span>&nbsp;<span class="op" id="4389569">:=</span>&nbsp;<span class="ident" id="4389572">next</span><span class="op" id="4389576">(</span><span class="op" id="4389577">)</span><span class="op" id="4389578">;</span>&nbsp;<span class="ident" id="4389580">kid</span>&nbsp;<span class="op" id="4389584">!=</span>&nbsp;<span class="ident" id="4389587">nil</span><span class="op" id="4389590">;</span>&nbsp;<span class="ident" id="4389592">kid</span>&nbsp;<span class="op" id="4389596">=</span>&nbsp;<span class="ident" id="4389598">next</span><span class="op" id="4389602">(</span><span class="op" id="4389603">)</span>&nbsp;<span class="op" id="4389605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389610">if</span>&nbsp;<span class="ident" id="4389613">kid</span><span class="op" id="4389616">.</span><span class="ident" id="4389617">Tag</span>&nbsp;<span class="op" id="4389621">==</span>&nbsp;<span class="ident" id="4389624">TagMember</span>&nbsp;<span class="op" id="4389634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389640">f</span>&nbsp;<span class="op" id="4389642">:=</span>&nbsp;<span class="builtinfunc" id="4389645">new</span><span class="op" id="4389648">(</span><span class="ident" id="4389649">StructField</span><span class="op" id="4389660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389666">if</span>&nbsp;<span class="ident" id="4389669">f</span><span class="op" id="4389670">.</span><span class="ident" id="4389671">Type</span>&nbsp;<span class="op" id="4389676">=</span>&nbsp;<span class="ident" id="4389678">typeOf</span><span class="op" id="4389684">(</span><span class="ident" id="4389685">kid</span><span class="op" id="4389688">)</span><span class="op" id="4389689">;</span>&nbsp;<span class="ident" id="4389691">err</span>&nbsp;<span class="op" id="4389695">!=</span>&nbsp;<span class="ident" id="4389698">nil</span>&nbsp;<span class="op" id="4389702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389709">goto</span>&nbsp;<span class="ident" id="4389714">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4389724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389730">switch</span>&nbsp;<span class="ident" id="4389737">loc</span>&nbsp;<span class="op" id="4389741">:=</span>&nbsp;<span class="ident" id="4389744">kid</span><span class="op" id="4389747">.</span><span class="ident" id="4389748">Val</span><span class="op" id="4389751">(</span><span class="ident" id="4389752">AttrDataMemberLoc</span><span class="op" id="4389769">)</span><span class="op" id="4389770">.</span><span class="op" id="4389771">(</span><span class="keyword" id="4389772">type</span><span class="op" id="4389776">)</span>&nbsp;<span class="op" id="4389778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389784">case</span>&nbsp;<span class="op" id="4389789">[</span><span class="op" id="4389790">]</span><span class="builtintype" id="4389791">byte</span><span class="op" id="4389795">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4389802">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4389849">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389887">b</span>&nbsp;<span class="op" id="4389889">:=</span>&nbsp;<span class="ident" id="4389892">makeBuf</span><span class="op" id="4389899">(</span><span class="ident" id="4389900">d</span><span class="op" id="4389901">,</span>&nbsp;<span class="ident" id="4389903">unknownFormat</span><span class="op" id="4389916">{</span><span class="op" id="4389917">}</span><span class="op" id="4389918">,</span>&nbsp;<span class="string" id="4389920">&#34;location&#34;</span><span class="op" id="4389930">,</span>&nbsp;<span class="num" id="4389932">0</span><span class="op" id="4389933">,</span>&nbsp;<span class="ident" id="4389935">loc</span><span class="op" id="4389938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389945">if</span>&nbsp;<span class="ident" id="4389948">b</span><span class="op" id="4389949">.</span><span class="builtintype" id="4389950">uint8</span><span class="op" id="4389955">(</span><span class="op" id="4389956">)</span>&nbsp;<span class="op" id="4389958">!=</span>&nbsp;<span class="ident" id="4389961">opPlusUconst</span>&nbsp;<span class="op" id="4389974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389982">err</span>&nbsp;<span class="op" id="4389986">=</span>&nbsp;<span class="ident" id="4389988">DecodeError</span><span class="op" id="4389999">{</span><span class="ident" id="4390000">name</span><span class="op" id="4390004">,</span>&nbsp;<span class="ident" id="4390006">kid</span><span class="op" id="4390009">.</span><span class="ident" id="4390010">Offset</span><span class="op" id="4390016">,</span>&nbsp;<span class="string" id="4390018">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="4390037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390045">goto</span>&nbsp;<span class="ident" id="4390050">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390061">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390068">f</span><span class="op" id="4390069">.</span><span class="ident" id="4390070">ByteOffset</span>&nbsp;<span class="op" id="4390081">=</span>&nbsp;<span class="ident" id="4390083">int64</span><span class="op" id="4390088">(</span><span class="ident" id="4390089">b</span><span class="op" id="4390090">.</span><span class="builtintype" id="4390091">uint</span><span class="op" id="4390095">(</span><span class="op" id="4390096">)</span><span class="op" id="4390097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390104">if</span>&nbsp;<span class="ident" id="4390107">b</span><span class="op" id="4390108">.</span><span class="ident" id="4390109">err</span>&nbsp;<span class="op" id="4390113">!=</span>&nbsp;<span class="ident" id="4390116">nil</span>&nbsp;<span class="op" id="4390120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390128">err</span>&nbsp;<span class="op" id="4390132">=</span>&nbsp;<span class="ident" id="4390134">b</span><span class="op" id="4390135">.</span><span class="ident" id="4390136">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390146">goto</span>&nbsp;<span class="ident" id="4390151">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390162">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390168">case</span>&nbsp;<span class="ident" id="4390173">int64</span><span class="op" id="4390178">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390185">f</span><span class="op" id="4390186">.</span><span class="ident" id="4390187">ByteOffset</span>&nbsp;<span class="op" id="4390198">=</span>&nbsp;<span class="ident" id="4390200">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390215">haveBitOffset</span>&nbsp;<span class="op" id="4390229">:=</span>&nbsp;<span class="builtintype" id="4390232">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390242">f</span><span class="op" id="4390243">.</span><span class="ident" id="4390244">Name</span><span class="op" id="4390248">,</span>&nbsp;<span class="ident" id="4390250">_</span>&nbsp;<span class="op" id="4390252">=</span>&nbsp;<span class="ident" id="4390254">kid</span><span class="op" id="4390257">.</span><span class="ident" id="4390258">Val</span><span class="op" id="4390261">(</span><span class="ident" id="4390262">AttrName</span><span class="op" id="4390270">)</span><span class="op" id="4390271">.</span><span class="op" id="4390272">(</span><span class="builtintype" id="4390273">string</span><span class="op" id="4390279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390285">f</span><span class="op" id="4390286">.</span><span class="ident" id="4390287">ByteSize</span><span class="op" id="4390295">,</span>&nbsp;<span class="ident" id="4390297">_</span>&nbsp;<span class="op" id="4390299">=</span>&nbsp;<span class="ident" id="4390301">kid</span><span class="op" id="4390304">.</span><span class="ident" id="4390305">Val</span><span class="op" id="4390308">(</span><span class="ident" id="4390309">AttrByteSize</span><span class="op" id="4390321">)</span><span class="op" id="4390322">.</span><span class="op" id="4390323">(</span><span class="ident" id="4390324">int64</span><span class="op" id="4390329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390335">f</span><span class="op" id="4390336">.</span><span class="ident" id="4390337">BitOffset</span><span class="op" id="4390346">,</span>&nbsp;<span class="ident" id="4390348">haveBitOffset</span>&nbsp;<span class="op" id="4390362">=</span>&nbsp;<span class="ident" id="4390364">kid</span><span class="op" id="4390367">.</span><span class="ident" id="4390368">Val</span><span class="op" id="4390371">(</span><span class="ident" id="4390372">AttrBitOffset</span><span class="op" id="4390385">)</span><span class="op" id="4390386">.</span><span class="op" id="4390387">(</span><span class="ident" id="4390388">int64</span><span class="op" id="4390393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390399">f</span><span class="op" id="4390400">.</span><span class="ident" id="4390401">BitSize</span><span class="op" id="4390408">,</span>&nbsp;<span class="ident" id="4390410">_</span>&nbsp;<span class="op" id="4390412">=</span>&nbsp;<span class="ident" id="4390414">kid</span><span class="op" id="4390417">.</span><span class="ident" id="4390418">Val</span><span class="op" id="4390421">(</span><span class="ident" id="4390422">AttrBitSize</span><span class="op" id="4390433">)</span><span class="op" id="4390434">.</span><span class="op" id="4390435">(</span><span class="ident" id="4390436">int64</span><span class="op" id="4390441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390447">t</span><span class="op" id="4390448">.</span><span class="ident" id="4390449">Field</span>&nbsp;<span class="op" id="4390455">=</span>&nbsp;<span class="builtinfunc" id="4390457">append</span><span class="op" id="4390463">(</span><span class="ident" id="4390464">t</span><span class="op" id="4390465">.</span><span class="ident" id="4390466">Field</span><span class="op" id="4390471">,</span>&nbsp;<span class="ident" id="4390473">f</span><span class="op" id="4390474">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390481">bito</span>&nbsp;<span class="op" id="4390486">:=</span>&nbsp;<span class="ident" id="4390489">f</span><span class="op" id="4390490">.</span><span class="ident" id="4390491">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390505">if</span>&nbsp;<span class="op" id="4390508">!</span><span class="ident" id="4390509">haveBitOffset</span>&nbsp;<span class="op" id="4390523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390530">bito</span>&nbsp;<span class="op" id="4390535">=</span>&nbsp;<span class="ident" id="4390537">f</span><span class="op" id="4390538">.</span><span class="ident" id="4390539">ByteOffset</span>&nbsp;<span class="op" id="4390550">*</span>&nbsp;<span class="num" id="4390552">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390558">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390564">if</span>&nbsp;<span class="ident" id="4390567">bito</span>&nbsp;<span class="op" id="4390572">==</span>&nbsp;<span class="ident" id="4390575">lastFieldBitOffset</span>&nbsp;<span class="op" id="4390594">&amp;&amp;</span>&nbsp;<span class="ident" id="4390597">t</span><span class="op" id="4390598">.</span><span class="ident" id="4390599">Kind</span>&nbsp;<span class="op" id="4390604">!=</span>&nbsp;<span class="string" id="4390607">&#34;union&#34;</span>&nbsp;<span class="op" id="4390615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4390622">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4390676">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390752">zeroArray</span><span class="op" id="4390761">(</span><span class="ident" id="4390762">lastFieldType</span><span class="op" id="4390775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390781">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390787">lastFieldType</span>&nbsp;<span class="op" id="4390801">=</span>&nbsp;<span class="op" id="4390803">&amp;</span><span class="ident" id="4390804">f</span><span class="op" id="4390805">.</span><span class="ident" id="4390806">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390815">lastFieldBitOffset</span>&nbsp;<span class="op" id="4390834">=</span>&nbsp;<span class="ident" id="4390836">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390852">if</span>&nbsp;<span class="ident" id="4390855">t</span><span class="op" id="4390856">.</span><span class="ident" id="4390857">Kind</span>&nbsp;<span class="op" id="4390862">!=</span>&nbsp;<span class="string" id="4390865">&#34;union&#34;</span>&nbsp;<span class="op" id="4390873">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390878">b</span><span class="op" id="4390879">,</span>&nbsp;<span class="ident" id="4390881">ok</span>&nbsp;<span class="op" id="4390884">:=</span>&nbsp;<span class="ident" id="4390887">e</span><span class="op" id="4390888">.</span><span class="ident" id="4390889">Val</span><span class="op" id="4390892">(</span><span class="ident" id="4390893">AttrByteSize</span><span class="op" id="4390905">)</span><span class="op" id="4390906">.</span><span class="op" id="4390907">(</span><span class="ident" id="4390908">int64</span><span class="op" id="4390913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390918">if</span>&nbsp;<span class="ident" id="4390921">ok</span>&nbsp;<span class="op" id="4390924">&amp;&amp;</span>&nbsp;<span class="ident" id="4390927">b</span><span class="op" id="4390928">*</span><span class="num" id="4390929">8</span>&nbsp;<span class="op" id="4390931">==</span>&nbsp;<span class="ident" id="4390934">lastFieldBitOffset</span>&nbsp;<span class="op" id="4390953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4390959">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391017">zeroArray</span><span class="op" id="4391026">(</span><span class="ident" id="4391027">lastFieldType</span><span class="op" id="4391040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4391045">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4391049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391053">case</span>&nbsp;<span class="ident" id="4391058">TagConstType</span><span class="op" id="4391070">,</span>&nbsp;<span class="ident" id="4391072">TagVolatileType</span><span class="op" id="4391087">,</span>&nbsp;<span class="ident" id="4391089">TagRestrictType</span><span class="op" id="4391104">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391108">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391144">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391161">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391184">t</span>&nbsp;<span class="op" id="4391186">:=</span>&nbsp;<span class="builtinfunc" id="4391189">new</span><span class="op" id="4391192">(</span><span class="ident" id="4391193">QualType</span><span class="op" id="4391201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391205">typ</span>&nbsp;<span class="op" id="4391209">=</span>&nbsp;<span class="ident" id="4391211">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391215">typeCache</span><span class="op" id="4391224">[</span><span class="ident" id="4391225">off</span><span class="op" id="4391228">]</span>&nbsp;<span class="op" id="4391230">=</span>&nbsp;<span class="ident" id="4391232">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391236">if</span>&nbsp;<span class="ident" id="4391239">t</span><span class="op" id="4391240">.</span><span class="ident" id="4391241">Type</span>&nbsp;<span class="op" id="4391246">=</span>&nbsp;<span class="ident" id="4391248">typeOf</span><span class="op" id="4391254">(</span><span class="ident" id="4391255">e</span><span class="op" id="4391256">)</span><span class="op" id="4391257">;</span>&nbsp;<span class="ident" id="4391259">err</span>&nbsp;<span class="op" id="4391263">!=</span>&nbsp;<span class="ident" id="4391266">nil</span>&nbsp;<span class="op" id="4391270">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391275">goto</span>&nbsp;<span class="ident" id="4391280">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4391288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391292">switch</span>&nbsp;<span class="ident" id="4391299">e</span><span class="op" id="4391300">.</span><span class="ident" id="4391301">Tag</span>&nbsp;<span class="op" id="4391305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391309">case</span>&nbsp;<span class="ident" id="4391314">TagConstType</span><span class="op" id="4391326">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391331">t</span><span class="op" id="4391332">.</span><span class="ident" id="4391333">Qual</span>&nbsp;<span class="op" id="4391338">=</span>&nbsp;<span class="string" id="4391340">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391350">case</span>&nbsp;<span class="ident" id="4391355">TagRestrictType</span><span class="op" id="4391370">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391375">t</span><span class="op" id="4391376">.</span><span class="ident" id="4391377">Qual</span>&nbsp;<span class="op" id="4391382">=</span>&nbsp;<span class="string" id="4391384">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391397">case</span>&nbsp;<span class="ident" id="4391402">TagVolatileType</span><span class="op" id="4391417">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391422">t</span><span class="op" id="4391423">.</span><span class="ident" id="4391424">Qual</span>&nbsp;<span class="op" id="4391429">=</span>&nbsp;<span class="string" id="4391431">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4391444">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391448">case</span>&nbsp;<span class="ident" id="4391453">TagEnumerationType</span><span class="op" id="4391471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391475">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;§5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391514">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391531">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391563">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391624">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391639">//&nbsp;&nbsp;&nbsp;&nbspTagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391659">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391692">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391732">t</span>&nbsp;<span class="op" id="4391734">:=</span>&nbsp;<span class="builtinfunc" id="4391737">new</span><span class="op" id="4391740">(</span><span class="ident" id="4391741">EnumType</span><span class="op" id="4391749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391753">typ</span>&nbsp;<span class="op" id="4391757">=</span>&nbsp;<span class="ident" id="4391759">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391763">typeCache</span><span class="op" id="4391772">[</span><span class="ident" id="4391773">off</span><span class="op" id="4391776">]</span>&nbsp;<span class="op" id="4391778">=</span>&nbsp;<span class="ident" id="4391780">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391784">t</span><span class="op" id="4391785">.</span><span class="ident" id="4391786">EnumName</span><span class="op" id="4391794">,</span>&nbsp;<span class="ident" id="4391796">_</span>&nbsp;<span class="op" id="4391798">=</span>&nbsp;<span class="ident" id="4391800">e</span><span class="op" id="4391801">.</span><span class="ident" id="4391802">Val</span><span class="op" id="4391805">(</span><span class="ident" id="4391806">AttrName</span><span class="op" id="4391814">)</span><span class="op" id="4391815">.</span><span class="op" id="4391816">(</span><span class="builtintype" id="4391817">string</span><span class="op" id="4391823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391827">t</span><span class="op" id="4391828">.</span><span class="ident" id="4391829">Val</span>&nbsp;<span class="op" id="4391833">=</span>&nbsp;<span class="builtinfunc" id="4391835">make</span><span class="op" id="4391839">(</span><span class="op" id="4391840">[</span><span class="op" id="4391841">]</span><span class="op" id="4391842">*</span><span class="ident" id="4391843">EnumValue</span><span class="op" id="4391852">,</span>&nbsp;<span class="num" id="4391854">0</span><span class="op" id="4391855">,</span>&nbsp;<span class="num" id="4391857">8</span><span class="op" id="4391858">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391862">for</span>&nbsp;<span class="ident" id="4391866">kid</span>&nbsp;<span class="op" id="4391870">:=</span>&nbsp;<span class="ident" id="4391873">next</span><span class="op" id="4391877">(</span><span class="op" id="4391878">)</span><span class="op" id="4391879">;</span>&nbsp;<span class="ident" id="4391881">kid</span>&nbsp;<span class="op" id="4391885">!=</span>&nbsp;<span class="ident" id="4391888">nil</span><span class="op" id="4391891">;</span>&nbsp;<span class="ident" id="4391893">kid</span>&nbsp;<span class="op" id="4391897">=</span>&nbsp;<span class="ident" id="4391899">next</span><span class="op" id="4391903">(</span><span class="op" id="4391904">)</span>&nbsp;<span class="op" id="4391906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391911">if</span>&nbsp;<span class="ident" id="4391914">kid</span><span class="op" id="4391917">.</span><span class="ident" id="4391918">Tag</span>&nbsp;<span class="op" id="4391922">==</span>&nbsp;<span class="ident" id="4391925">TagEnumerator</span>&nbsp;<span class="op" id="4391939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391945">f</span>&nbsp;<span class="op" id="4391947">:=</span>&nbsp;<span class="builtinfunc" id="4391950">new</span><span class="op" id="4391953">(</span><span class="ident" id="4391954">EnumValue</span><span class="op" id="4391963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391969">f</span><span class="op" id="4391970">.</span><span class="ident" id="4391971">Name</span><span class="op" id="4391975">,</span>&nbsp;<span class="ident" id="4391977">_</span>&nbsp;<span class="op" id="4391979">=</span>&nbsp;<span class="ident" id="4391981">kid</span><span class="op" id="4391984">.</span><span class="ident" id="4391985">Val</span><span class="op" id="4391988">(</span><span class="ident" id="4391989">AttrName</span><span class="op" id="4391997">)</span><span class="op" id="4391998">.</span><span class="op" id="4391999">(</span><span class="builtintype" id="4392000">string</span><span class="op" id="4392006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392012">f</span><span class="op" id="4392013">.</span><span class="ident" id="4392014">Val</span><span class="op" id="4392017">,</span>&nbsp;<span class="ident" id="4392019">_</span>&nbsp;<span class="op" id="4392021">=</span>&nbsp;<span class="ident" id="4392023">kid</span><span class="op" id="4392026">.</span><span class="ident" id="4392027">Val</span><span class="op" id="4392030">(</span><span class="ident" id="4392031">AttrConstValue</span><span class="op" id="4392045">)</span><span class="op" id="4392046">.</span><span class="op" id="4392047">(</span><span class="ident" id="4392048">int64</span><span class="op" id="4392053">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392059">n</span>&nbsp;<span class="op" id="4392061">:=</span>&nbsp;<span class="builtinfunc" id="4392064">len</span><span class="op" id="4392067">(</span><span class="ident" id="4392068">t</span><span class="op" id="4392069">.</span><span class="ident" id="4392070">Val</span><span class="op" id="4392073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392079">if</span>&nbsp;<span class="ident" id="4392082">n</span>&nbsp;<span class="op" id="4392084">&gt;=</span>&nbsp;<span class="builtinfunc" id="4392087">cap</span><span class="op" id="4392090">(</span><span class="ident" id="4392091">t</span><span class="op" id="4392092">.</span><span class="ident" id="4392093">Val</span><span class="op" id="4392096">)</span>&nbsp;<span class="op" id="4392098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392105">val</span>&nbsp;<span class="op" id="4392109">:=</span>&nbsp;<span class="builtinfunc" id="4392112">make</span><span class="op" id="4392116">(</span><span class="op" id="4392117">[</span><span class="op" id="4392118">]</span><span class="op" id="4392119">*</span><span class="ident" id="4392120">EnumValue</span><span class="op" id="4392129">,</span>&nbsp;<span class="ident" id="4392131">n</span><span class="op" id="4392132">,</span>&nbsp;<span class="ident" id="4392134">n</span><span class="op" id="4392135">*</span><span class="num" id="4392136">2</span><span class="op" id="4392137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4392144">copy</span><span class="op" id="4392148">(</span><span class="ident" id="4392149">val</span><span class="op" id="4392152">,</span>&nbsp;<span class="ident" id="4392154">t</span><span class="op" id="4392155">.</span><span class="ident" id="4392156">Val</span><span class="op" id="4392159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392166">t</span><span class="op" id="4392167">.</span><span class="ident" id="4392168">Val</span>&nbsp;<span class="op" id="4392172">=</span>&nbsp;<span class="ident" id="4392174">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392188">t</span><span class="op" id="4392189">.</span><span class="ident" id="4392190">Val</span>&nbsp;<span class="op" id="4392194">=</span>&nbsp;<span class="ident" id="4392196">t</span><span class="op" id="4392197">.</span><span class="ident" id="4392198">Val</span><span class="op" id="4392201">[</span><span class="num" id="4392202">0</span>&nbsp;<span class="op" id="4392204">:</span>&nbsp;<span class="ident" id="4392206">n</span><span class="op" id="4392207">+</span><span class="num" id="4392208">1</span><span class="op" id="4392209">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392215">t</span><span class="op" id="4392216">.</span><span class="ident" id="4392217">Val</span><span class="op" id="4392220">[</span><span class="ident" id="4392221">n</span><span class="op" id="4392222">]</span>&nbsp;<span class="op" id="4392224">=</span>&nbsp;<span class="ident" id="4392226">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392235">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392239">case</span>&nbsp;<span class="ident" id="4392244">TagPointerType</span><span class="op" id="4392258">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392262">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392298">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392315">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392377">//&nbsp;&nbsp;&nbsp;&nbspAttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392421">t</span>&nbsp;<span class="op" id="4392423">:=</span>&nbsp;<span class="builtinfunc" id="4392426">new</span><span class="op" id="4392429">(</span><span class="ident" id="4392430">PtrType</span><span class="op" id="4392437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392441">typ</span>&nbsp;<span class="op" id="4392445">=</span>&nbsp;<span class="ident" id="4392447">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392451">typeCache</span><span class="op" id="4392460">[</span><span class="ident" id="4392461">off</span><span class="op" id="4392464">]</span>&nbsp;<span class="op" id="4392466">=</span>&nbsp;<span class="ident" id="4392468">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392472">if</span>&nbsp;<span class="ident" id="4392475">e</span><span class="op" id="4392476">.</span><span class="ident" id="4392477">Val</span><span class="op" id="4392480">(</span><span class="ident" id="4392481">AttrType</span><span class="op" id="4392489">)</span>&nbsp;<span class="op" id="4392491">==</span>&nbsp;<span class="ident" id="4392494">nil</span>&nbsp;<span class="op" id="4392498">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392503">t</span><span class="op" id="4392504">.</span><span class="ident" id="4392505">Type</span>&nbsp;<span class="op" id="4392510">=</span>&nbsp;<span class="op" id="4392512">&amp;</span><span class="ident" id="4392513">VoidType</span><span class="op" id="4392521">{</span><span class="op" id="4392522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392527">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392539">t</span><span class="op" id="4392540">.</span><span class="ident" id="4392541">Type</span>&nbsp;<span class="op" id="4392546">=</span>&nbsp;<span class="ident" id="4392548">typeOf</span><span class="op" id="4392554">(</span><span class="ident" id="4392555">e</span><span class="op" id="4392556">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392560">case</span>&nbsp;<span class="ident" id="4392565">TagSubroutineType</span><span class="op" id="4392582">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392586">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392626">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392643">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392686">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392733">//&nbsp;&nbsp;&nbsp;&nbspAttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392794">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392809">//&nbsp;&nbsp;&nbsp;&nbspTagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392850">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392884">//&nbsp;&nbsp;&nbsp;&nbspTagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392924">t</span>&nbsp;<span class="op" id="4392926">:=</span>&nbsp;<span class="builtinfunc" id="4392929">new</span><span class="op" id="4392932">(</span><span class="ident" id="4392933">FuncType</span><span class="op" id="4392941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392945">typ</span>&nbsp;<span class="op" id="4392949">=</span>&nbsp;<span class="ident" id="4392951">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392955">typeCache</span><span class="op" id="4392964">[</span><span class="ident" id="4392965">off</span><span class="op" id="4392968">]</span>&nbsp;<span class="op" id="4392970">=</span>&nbsp;<span class="ident" id="4392972">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392976">if</span>&nbsp;<span class="ident" id="4392979">t</span><span class="op" id="4392980">.</span><span class="ident" id="4392981">ReturnType</span>&nbsp;<span class="op" id="4392992">=</span>&nbsp;<span class="ident" id="4392994">typeOf</span><span class="op" id="4393000">(</span><span class="ident" id="4393001">e</span><span class="op" id="4393002">)</span><span class="op" id="4393003">;</span>&nbsp;<span class="ident" id="4393005">err</span>&nbsp;<span class="op" id="4393009">!=</span>&nbsp;<span class="ident" id="4393012">nil</span>&nbsp;<span class="op" id="4393016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393021">goto</span>&nbsp;<span class="ident" id="4393026">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393038">t</span><span class="op" id="4393039">.</span><span class="ident" id="4393040">ParamType</span>&nbsp;<span class="op" id="4393050">=</span>&nbsp;<span class="builtinfunc" id="4393052">make</span><span class="op" id="4393056">(</span><span class="op" id="4393057">[</span><span class="op" id="4393058">]</span><span class="ident" id="4393059">Type</span><span class="op" id="4393063">,</span>&nbsp;<span class="num" id="4393065">0</span><span class="op" id="4393066">,</span>&nbsp;<span class="num" id="4393068">8</span><span class="op" id="4393069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393073">for</span>&nbsp;<span class="ident" id="4393077">kid</span>&nbsp;<span class="op" id="4393081">:=</span>&nbsp;<span class="ident" id="4393084">next</span><span class="op" id="4393088">(</span><span class="op" id="4393089">)</span><span class="op" id="4393090">;</span>&nbsp;<span class="ident" id="4393092">kid</span>&nbsp;<span class="op" id="4393096">!=</span>&nbsp;<span class="ident" id="4393099">nil</span><span class="op" id="4393102">;</span>&nbsp;<span class="ident" id="4393104">kid</span>&nbsp;<span class="op" id="4393108">=</span>&nbsp;<span class="ident" id="4393110">next</span><span class="op" id="4393114">(</span><span class="op" id="4393115">)</span>&nbsp;<span class="op" id="4393117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393122">var</span>&nbsp;<span class="ident" id="4393126">tkid</span>&nbsp;<span class="ident" id="4393131">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393139">switch</span>&nbsp;<span class="ident" id="4393146">kid</span><span class="op" id="4393149">.</span><span class="ident" id="4393150">Tag</span>&nbsp;<span class="op" id="4393154">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393159">default</span><span class="op" id="4393166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393172">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393184">case</span>&nbsp;<span class="ident" id="4393189">TagFormalParameter</span><span class="op" id="4393207">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393213">if</span>&nbsp;<span class="ident" id="4393216">tkid</span>&nbsp;<span class="op" id="4393221">=</span>&nbsp;<span class="ident" id="4393223">typeOf</span><span class="op" id="4393229">(</span><span class="ident" id="4393230">kid</span><span class="op" id="4393233">)</span><span class="op" id="4393234">;</span>&nbsp;<span class="ident" id="4393236">err</span>&nbsp;<span class="op" id="4393240">!=</span>&nbsp;<span class="ident" id="4393243">nil</span>&nbsp;<span class="op" id="4393247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393254">goto</span>&nbsp;<span class="ident" id="4393259">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393274">case</span>&nbsp;<span class="ident" id="4393279">TagUnspecifiedParameters</span><span class="op" id="4393303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393309">tkid</span>&nbsp;<span class="op" id="4393314">=</span>&nbsp;<span class="op" id="4393316">&amp;</span><span class="ident" id="4393317">DotDotDotType</span><span class="op" id="4393330">{</span><span class="op" id="4393331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393341">t</span><span class="op" id="4393342">.</span><span class="ident" id="4393343">ParamType</span>&nbsp;<span class="op" id="4393353">=</span>&nbsp;<span class="builtinfunc" id="4393355">append</span><span class="op" id="4393361">(</span><span class="ident" id="4393362">t</span><span class="op" id="4393363">.</span><span class="ident" id="4393364">ParamType</span><span class="op" id="4393373">,</span>&nbsp;<span class="ident" id="4393375">tkid</span><span class="op" id="4393379">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393387">case</span>&nbsp;<span class="ident" id="4393392">TagTypedef</span><span class="op" id="4393402">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393406">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;§5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393436">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393453">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393484">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393526">t</span>&nbsp;<span class="op" id="4393528">:=</span>&nbsp;<span class="builtinfunc" id="4393531">new</span><span class="op" id="4393534">(</span><span class="ident" id="4393535">TypedefType</span><span class="op" id="4393546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393550">typ</span>&nbsp;<span class="op" id="4393554">=</span>&nbsp;<span class="ident" id="4393556">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393560">typeCache</span><span class="op" id="4393569">[</span><span class="ident" id="4393570">off</span><span class="op" id="4393573">]</span>&nbsp;<span class="op" id="4393575">=</span>&nbsp;<span class="ident" id="4393577">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393581">t</span><span class="op" id="4393582">.</span><span class="ident" id="4393583">Name</span><span class="op" id="4393587">,</span>&nbsp;<span class="ident" id="4393589">_</span>&nbsp;<span class="op" id="4393591">=</span>&nbsp;<span class="ident" id="4393593">e</span><span class="op" id="4393594">.</span><span class="ident" id="4393595">Val</span><span class="op" id="4393598">(</span><span class="ident" id="4393599">AttrName</span><span class="op" id="4393607">)</span><span class="op" id="4393608">.</span><span class="op" id="4393609">(</span><span class="builtintype" id="4393610">string</span><span class="op" id="4393616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393620">t</span><span class="op" id="4393621">.</span><span class="ident" id="4393622">Type</span>&nbsp;<span class="op" id="4393627">=</span>&nbsp;<span class="ident" id="4393629">typeOf</span><span class="op" id="4393635">(</span><span class="ident" id="4393636">e</span><span class="op" id="4393637">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393641">case</span>&nbsp;<span class="ident" id="4393646">TagUnspecifiedType</span><span class="op" id="4393664">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393668">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;§5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393707">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393724">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393744">t</span>&nbsp;<span class="op" id="4393746">:=</span>&nbsp;<span class="builtinfunc" id="4393749">new</span><span class="op" id="4393752">(</span><span class="ident" id="4393753">UnspecifiedType</span><span class="op" id="4393768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393772">typ</span>&nbsp;<span class="op" id="4393776">=</span>&nbsp;<span class="ident" id="4393778">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393782">typeCache</span><span class="op" id="4393791">[</span><span class="ident" id="4393792">off</span><span class="op" id="4393795">]</span>&nbsp;<span class="op" id="4393797">=</span>&nbsp;<span class="ident" id="4393799">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393803">t</span><span class="op" id="4393804">.</span><span class="ident" id="4393805">Name</span><span class="op" id="4393809">,</span>&nbsp;<span class="ident" id="4393811">_</span>&nbsp;<span class="op" id="4393813">=</span>&nbsp;<span class="ident" id="4393815">e</span><span class="op" id="4393816">.</span><span class="ident" id="4393817">Val</span><span class="op" id="4393820">(</span><span class="ident" id="4393821">AttrName</span><span class="op" id="4393829">)</span><span class="op" id="4393830">.</span><span class="op" id="4393831">(</span><span class="builtintype" id="4393832">string</span><span class="op" id="4393838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393845">if</span>&nbsp;<span class="ident" id="4393848">err</span>&nbsp;<span class="op" id="4393852">!=</span>&nbsp;<span class="ident" id="4393855">nil</span>&nbsp;<span class="op" id="4393859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393863">goto</span>&nbsp;<span class="ident" id="4393868">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393883">b</span><span class="op" id="4393884">,</span>&nbsp;<span class="ident" id="4393886">ok</span>&nbsp;<span class="op" id="4393889">:=</span>&nbsp;<span class="ident" id="4393892">e</span><span class="op" id="4393893">.</span><span class="ident" id="4393894">Val</span><span class="op" id="4393897">(</span><span class="ident" id="4393898">AttrByteSize</span><span class="op" id="4393910">)</span><span class="op" id="4393911">.</span><span class="op" id="4393912">(</span><span class="ident" id="4393913">int64</span><span class="op" id="4393918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393922">if</span>&nbsp;<span class="op" id="4393925">!</span><span class="ident" id="4393926">ok</span>&nbsp;<span class="op" id="4393929">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393934">b</span>&nbsp;<span class="op" id="4393936">=</span>&nbsp;<span class="op" id="4393938">-</span><span class="num" id="4393939">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393947">typ</span><span class="op" id="4393950">.</span><span class="ident" id="4393951">Common</span><span class="op" id="4393957">(</span><span class="op" id="4393958">)</span><span class="op" id="4393959">.</span><span class="ident" id="4393960">ByteSize</span>&nbsp;<span class="op" id="4393969">=</span>&nbsp;<span class="ident" id="4393971">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393977">return</span>&nbsp;<span class="ident" id="4393984">typ</span><span class="op" id="4393987">,</span>&nbsp;<span class="ident" id="4393989">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="4393994">Error</span><span class="op" id="4393999">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4394002">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4394057">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4394112">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4394146">delete</span><span class="op" id="4394152">(</span><span class="ident" id="4394153">typeCache</span><span class="op" id="4394162">,</span>&nbsp;<span class="ident" id="4394164">off</span><span class="op" id="4394167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394170">return</span>&nbsp;<span class="ident" id="4394177">nil</span><span class="op" id="4394180">,</span>&nbsp;<span class="ident" id="4394182">err</span><br>
<span class="lineno"></span><span class="op" id="4394186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4394189">func</span>&nbsp;<span class="ident" id="4394194">zeroArray</span><span class="op" id="4394203">(</span><span class="ident" id="4394204">t</span>&nbsp;<span class="op" id="4394206">*</span><span class="ident" id="4394207">Type</span><span class="op" id="4394211">)</span>&nbsp;<span class="op" id="4394213">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394216">if</span>&nbsp;<span class="ident" id="4394219">t</span>&nbsp;<span class="op" id="4394221">==</span>&nbsp;<span class="ident" id="4394224">nil</span>&nbsp;<span class="op" id="4394228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394232">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4394240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394243">at</span><span class="op" id="4394245">,</span>&nbsp;<span class="ident" id="4394247">ok</span>&nbsp;<span class="op" id="4394250">:=</span>&nbsp;<span class="op" id="4394253">(</span><span class="op" id="4394254">*</span><span class="ident" id="4394255">t</span><span class="op" id="4394256">)</span><span class="op" id="4394257">.</span><span class="op" id="4394258">(</span><span class="op" id="4394259">*</span><span class="ident" id="4394260">ArrayType</span><span class="op" id="4394269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394272">if</span>&nbsp;<span class="op" id="4394275">!</span><span class="ident" id="4394276">ok</span>&nbsp;<span class="op" id="4394279">||</span>&nbsp;<span class="ident" id="4394282">at</span><span class="op" id="4394284">.</span><span class="ident" id="4394285">Type</span><span class="op" id="4394289">.</span><span class="ident" id="4394290">Size</span><span class="op" id="4394294">(</span><span class="op" id="4394295">)</span>&nbsp;<span class="op" id="4394297">==</span>&nbsp;<span class="num" id="4394300">0</span>&nbsp;<span class="op" id="4394302">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394306">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4394314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4394317">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394366">tt</span>&nbsp;<span class="op" id="4394369">:=</span>&nbsp;<span class="op" id="4394372">*</span><span class="ident" id="4394373">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394377">tt</span><span class="op" id="4394379">.</span><span class="ident" id="4394380">Count</span>&nbsp;<span class="op" id="4394386">=</span>&nbsp;<span class="num" id="4394388">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4394391">*</span><span class="ident" id="4394392">t</span>&nbsp;<span class="op" id="4394394">=</span>&nbsp;<span class="op" id="4394396">&amp;</span><span class="ident" id="4394397">tt</span><br>
<span class="lineno"></span><span class="op" id="4394400">}</span>
</div>
</body>
</html>
