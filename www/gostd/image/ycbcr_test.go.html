<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html" class="current">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8110749">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8110804">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8110858">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8110909">package</span>&nbsp;<span class="ident" id="8110917">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8110924">import</span>&nbsp;<span class="op" id="8110931">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8110934">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8110949">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8110959">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8110962">func</span>&nbsp;<span class="ident" id="8110967">TestYCbCr</span><span class="op" id="8110976">(</span><span class="ident" id="8110977">t</span>&nbsp;<span class="op" id="8110979">*</span><span class="ident" id="8110980">testing</span><span class="op" id="8110987">.</span><span class="ident" id="8110988">T</span><span class="op" id="8110989">)</span>&nbsp;<span class="op" id="8110991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8110994">rects</span>&nbsp;<span class="op" id="8111000">:=</span>&nbsp;<span class="op" id="8111003">[</span><span class="op" id="8111004">]</span><span class="ident" id="8111005">Rectangle</span><span class="op" id="8111014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111018">Rect</span><span class="op" id="8111022">(</span><span class="num" id="8111023">0</span><span class="op" id="8111024">,</span>&nbsp;<span class="num" id="8111026">0</span><span class="op" id="8111027">,</span>&nbsp;<span class="num" id="8111029">16</span><span class="op" id="8111031">,</span>&nbsp;<span class="num" id="8111033">16</span><span class="op" id="8111035">)</span><span class="op" id="8111036">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111040">Rect</span><span class="op" id="8111044">(</span><span class="num" id="8111045">1</span><span class="op" id="8111046">,</span>&nbsp;<span class="num" id="8111048">0</span><span class="op" id="8111049">,</span>&nbsp;<span class="num" id="8111051">16</span><span class="op" id="8111053">,</span>&nbsp;<span class="num" id="8111055">16</span><span class="op" id="8111057">)</span><span class="op" id="8111058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111062">Rect</span><span class="op" id="8111066">(</span><span class="num" id="8111067">0</span><span class="op" id="8111068">,</span>&nbsp;<span class="num" id="8111070">1</span><span class="op" id="8111071">,</span>&nbsp;<span class="num" id="8111073">16</span><span class="op" id="8111075">,</span>&nbsp;<span class="num" id="8111077">16</span><span class="op" id="8111079">)</span><span class="op" id="8111080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111084">Rect</span><span class="op" id="8111088">(</span><span class="num" id="8111089">1</span><span class="op" id="8111090">,</span>&nbsp;<span class="num" id="8111092">1</span><span class="op" id="8111093">,</span>&nbsp;<span class="num" id="8111095">16</span><span class="op" id="8111097">,</span>&nbsp;<span class="num" id="8111099">16</span><span class="op" id="8111101">)</span><span class="op" id="8111102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111106">Rect</span><span class="op" id="8111110">(</span><span class="num" id="8111111">1</span><span class="op" id="8111112">,</span>&nbsp;<span class="num" id="8111114">1</span><span class="op" id="8111115">,</span>&nbsp;<span class="num" id="8111117">15</span><span class="op" id="8111119">,</span>&nbsp;<span class="num" id="8111121">16</span><span class="op" id="8111123">)</span><span class="op" id="8111124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111128">Rect</span><span class="op" id="8111132">(</span><span class="num" id="8111133">1</span><span class="op" id="8111134">,</span>&nbsp;<span class="num" id="8111136">1</span><span class="op" id="8111137">,</span>&nbsp;<span class="num" id="8111139">16</span><span class="op" id="8111141">,</span>&nbsp;<span class="num" id="8111143">15</span><span class="op" id="8111145">)</span><span class="op" id="8111146">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111150">Rect</span><span class="op" id="8111154">(</span><span class="num" id="8111155">1</span><span class="op" id="8111156">,</span>&nbsp;<span class="num" id="8111158">1</span><span class="op" id="8111159">,</span>&nbsp;<span class="num" id="8111161">15</span><span class="op" id="8111163">,</span>&nbsp;<span class="num" id="8111165">15</span><span class="op" id="8111167">)</span><span class="op" id="8111168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111172">Rect</span><span class="op" id="8111176">(</span><span class="num" id="8111177">2</span><span class="op" id="8111178">,</span>&nbsp;<span class="num" id="8111180">3</span><span class="op" id="8111181">,</span>&nbsp;<span class="num" id="8111183">14</span><span class="op" id="8111185">,</span>&nbsp;<span class="num" id="8111187">15</span><span class="op" id="8111189">)</span><span class="op" id="8111190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111194">Rect</span><span class="op" id="8111198">(</span><span class="num" id="8111199">7</span><span class="op" id="8111200">,</span>&nbsp;<span class="num" id="8111202">0</span><span class="op" id="8111203">,</span>&nbsp;<span class="num" id="8111205">7</span><span class="op" id="8111206">,</span>&nbsp;<span class="num" id="8111208">16</span><span class="op" id="8111210">)</span><span class="op" id="8111211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111215">Rect</span><span class="op" id="8111219">(</span><span class="num" id="8111220">0</span><span class="op" id="8111221">,</span>&nbsp;<span class="num" id="8111223">8</span><span class="op" id="8111224">,</span>&nbsp;<span class="num" id="8111226">16</span><span class="op" id="8111228">,</span>&nbsp;<span class="num" id="8111230">8</span><span class="op" id="8111231">)</span><span class="op" id="8111232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111236">Rect</span><span class="op" id="8111240">(</span><span class="num" id="8111241">0</span><span class="op" id="8111242">,</span>&nbsp;<span class="num" id="8111244">0</span><span class="op" id="8111245">,</span>&nbsp;<span class="num" id="8111247">10</span><span class="op" id="8111249">,</span>&nbsp;<span class="num" id="8111251">11</span><span class="op" id="8111253">)</span><span class="op" id="8111254">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111258">Rect</span><span class="op" id="8111262">(</span><span class="num" id="8111263">5</span><span class="op" id="8111264">,</span>&nbsp;<span class="num" id="8111266">6</span><span class="op" id="8111267">,</span>&nbsp;<span class="num" id="8111269">16</span><span class="op" id="8111271">,</span>&nbsp;<span class="num" id="8111273">16</span><span class="op" id="8111275">)</span><span class="op" id="8111276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111280">Rect</span><span class="op" id="8111284">(</span><span class="num" id="8111285">7</span><span class="op" id="8111286">,</span>&nbsp;<span class="num" id="8111288">7</span><span class="op" id="8111289">,</span>&nbsp;<span class="num" id="8111291">8</span><span class="op" id="8111292">,</span>&nbsp;<span class="num" id="8111294">8</span><span class="op" id="8111295">)</span><span class="op" id="8111296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111300">Rect</span><span class="op" id="8111304">(</span><span class="num" id="8111305">7</span><span class="op" id="8111306">,</span>&nbsp;<span class="num" id="8111308">8</span><span class="op" id="8111309">,</span>&nbsp;<span class="num" id="8111311">8</span><span class="op" id="8111312">,</span>&nbsp;<span class="num" id="8111314">9</span><span class="op" id="8111315">)</span><span class="op" id="8111316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111320">Rect</span><span class="op" id="8111324">(</span><span class="num" id="8111325">8</span><span class="op" id="8111326">,</span>&nbsp;<span class="num" id="8111328">7</span><span class="op" id="8111329">,</span>&nbsp;<span class="num" id="8111331">9</span><span class="op" id="8111332">,</span>&nbsp;<span class="num" id="8111334">8</span><span class="op" id="8111335">)</span><span class="op" id="8111336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111340">Rect</span><span class="op" id="8111344">(</span><span class="num" id="8111345">8</span><span class="op" id="8111346">,</span>&nbsp;<span class="num" id="8111348">8</span><span class="op" id="8111349">,</span>&nbsp;<span class="num" id="8111351">9</span><span class="op" id="8111352">,</span>&nbsp;<span class="num" id="8111354">9</span><span class="op" id="8111355">)</span><span class="op" id="8111356">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111360">Rect</span><span class="op" id="8111364">(</span><span class="num" id="8111365">7</span><span class="op" id="8111366">,</span>&nbsp;<span class="num" id="8111368">7</span><span class="op" id="8111369">,</span>&nbsp;<span class="num" id="8111371">17</span><span class="op" id="8111373">,</span>&nbsp;<span class="num" id="8111375">17</span><span class="op" id="8111377">)</span><span class="op" id="8111378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111382">Rect</span><span class="op" id="8111386">(</span><span class="num" id="8111387">8</span><span class="op" id="8111388">,</span>&nbsp;<span class="num" id="8111390">8</span><span class="op" id="8111391">,</span>&nbsp;<span class="num" id="8111393">17</span><span class="op" id="8111395">,</span>&nbsp;<span class="num" id="8111397">17</span><span class="op" id="8111399">)</span><span class="op" id="8111400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111404">Rect</span><span class="op" id="8111408">(</span><span class="num" id="8111409">9</span><span class="op" id="8111410">,</span>&nbsp;<span class="num" id="8111412">9</span><span class="op" id="8111413">,</span>&nbsp;<span class="num" id="8111415">17</span><span class="op" id="8111417">,</span>&nbsp;<span class="num" id="8111419">17</span><span class="op" id="8111421">)</span><span class="op" id="8111422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111426">Rect</span><span class="op" id="8111430">(</span><span class="num" id="8111431">10</span><span class="op" id="8111433">,</span>&nbsp;<span class="num" id="8111435">10</span><span class="op" id="8111437">,</span>&nbsp;<span class="num" id="8111439">17</span><span class="op" id="8111441">,</span>&nbsp;<span class="num" id="8111443">17</span><span class="op" id="8111445">)</span><span class="op" id="8111446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8111449">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111452">subsampleRatios</span>&nbsp;<span class="op" id="8111468">:=</span>&nbsp;<span class="op" id="8111471">[</span><span class="op" id="8111472">]</span><span class="ident" id="8111473">YCbCrSubsampleRatio</span><span class="op" id="8111492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111496">YCbCrSubsampleRatio444</span><span class="op" id="8111518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111522">YCbCrSubsampleRatio422</span><span class="op" id="8111544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111548">YCbCrSubsampleRatio420</span><span class="op" id="8111570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111574">YCbCrSubsampleRatio440</span><span class="op" id="8111596">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8111599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111602">deltas</span>&nbsp;<span class="op" id="8111609">:=</span>&nbsp;<span class="op" id="8111612">[</span><span class="op" id="8111613">]</span><span class="ident" id="8111614">Point</span><span class="op" id="8111619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111623">Pt</span><span class="op" id="8111625">(</span><span class="num" id="8111626">0</span><span class="op" id="8111627">,</span>&nbsp;<span class="num" id="8111629">0</span><span class="op" id="8111630">)</span><span class="op" id="8111631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111635">Pt</span><span class="op" id="8111637">(</span><span class="num" id="8111638">1000</span><span class="op" id="8111642">,</span>&nbsp;<span class="num" id="8111644">1001</span><span class="op" id="8111648">)</span><span class="op" id="8111649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111653">Pt</span><span class="op" id="8111655">(</span><span class="num" id="8111656">5001</span><span class="op" id="8111660">,</span>&nbsp;<span class="op" id="8111662">-</span><span class="num" id="8111663">400</span><span class="op" id="8111666">)</span><span class="op" id="8111667">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111671">Pt</span><span class="op" id="8111673">(</span><span class="op" id="8111674">-</span><span class="num" id="8111675">701</span><span class="op" id="8111678">,</span>&nbsp;<span class="op" id="8111680">-</span><span class="num" id="8111681">801</span><span class="op" id="8111684">)</span><span class="op" id="8111685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8111688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8111691">for</span>&nbsp;<span class="ident" id="8111695">_</span><span class="op" id="8111696">,</span>&nbsp;<span class="ident" id="8111698">r</span>&nbsp;<span class="op" id="8111700">:=</span>&nbsp;<span class="keyword" id="8111703">range</span>&nbsp;<span class="ident" id="8111709">rects</span>&nbsp;<span class="op" id="8111715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8111719">for</span>&nbsp;<span class="ident" id="8111723">_</span><span class="op" id="8111724">,</span>&nbsp;<span class="ident" id="8111726">subsampleRatio</span>&nbsp;<span class="op" id="8111741">:=</span>&nbsp;<span class="keyword" id="8111744">range</span>&nbsp;<span class="ident" id="8111750">subsampleRatios</span>&nbsp;<span class="op" id="8111766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8111771">for</span>&nbsp;<span class="ident" id="8111775">_</span><span class="op" id="8111776">,</span>&nbsp;<span class="ident" id="8111778">delta</span>&nbsp;<span class="op" id="8111784">:=</span>&nbsp;<span class="keyword" id="8111787">range</span>&nbsp;<span class="ident" id="8111793">deltas</span>&nbsp;<span class="op" id="8111800">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111806">testYCbCr</span><span class="op" id="8111815">(</span><span class="ident" id="8111816">t</span><span class="op" id="8111817">,</span>&nbsp;<span class="ident" id="8111819">r</span><span class="op" id="8111820">,</span>&nbsp;<span class="ident" id="8111822">subsampleRatio</span><span class="op" id="8111836">,</span>&nbsp;<span class="ident" id="8111838">delta</span><span class="op" id="8111843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8111848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8111852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8111856">if</span>&nbsp;<span class="ident" id="8111859">testing</span><span class="op" id="8111866">.</span><span class="ident" id="8111867">Short</span><span class="op" id="8111872">(</span><span class="op" id="8111873">)</span>&nbsp;<span class="op" id="8111875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8111880">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8111888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8111891">}</span><br>
<span class="lineno"></span><span class="op" id="8111893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8111896">func</span>&nbsp;<span class="ident" id="8111901">testYCbCr</span><span class="op" id="8111910">(</span><span class="ident" id="8111911">t</span>&nbsp;<span class="op" id="8111913">*</span><span class="ident" id="8111914">testing</span><span class="op" id="8111921">.</span><span class="ident" id="8111922">T</span><span class="op" id="8111923">,</span>&nbsp;<span class="ident" id="8111925">r</span>&nbsp;<span class="ident" id="8111927">Rectangle</span><span class="op" id="8111936">,</span>&nbsp;<span class="ident" id="8111938">subsampleRatio</span>&nbsp;<span class="ident" id="8111953">YCbCrSubsampleRatio</span><span class="op" id="8111972">,</span>&nbsp;<span class="ident" id="8111974">delta</span>&nbsp;<span class="ident" id="8111980">Point</span><span class="op" id="8111985">)</span>&nbsp;<span class="op" id="8111987">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8111990">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8112071">r1</span>&nbsp;<span class="op" id="8112074">:=</span>&nbsp;<span class="ident" id="8112077">r</span><span class="op" id="8112078">.</span><span class="ident" id="8112079">Add</span><span class="op" id="8112082">(</span><span class="ident" id="8112083">delta</span><span class="op" id="8112088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8112091">m</span>&nbsp;<span class="op" id="8112093">:=</span>&nbsp;<span class="ident" id="8112096">NewYCbCr</span><span class="op" id="8112104">(</span><span class="ident" id="8112105">r1</span><span class="op" id="8112107">,</span>&nbsp;<span class="ident" id="8112109">subsampleRatio</span><span class="op" id="8112123">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8112127">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8112229">if</span>&nbsp;<span class="builtinfunc" id="8112232">len</span><span class="op" id="8112235">(</span><span class="ident" id="8112236">m</span><span class="op" id="8112237">.</span><span class="ident" id="8112238">Y</span><span class="op" id="8112239">)</span>&nbsp;<span class="op" id="8112241">&gt;</span>&nbsp;<span class="num" id="8112243">100</span><span class="op" id="8112246">*</span><span class="num" id="8112247">100</span>&nbsp;<span class="op" id="8112251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8112255">t</span><span class="op" id="8112256">.</span><span class="ident" id="8112257">Errorf</span><span class="op" id="8112263">(</span><span class="string" id="8112264">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="8112326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8112331">r</span><span class="op" id="8112332">,</span>&nbsp;<span class="ident" id="8112334">subsampleRatio</span><span class="op" id="8112348">,</span>&nbsp;<span class="ident" id="8112350">delta</span><span class="op" id="8112355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8112359">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8112367">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8112371">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8112458">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8112540">for</span>&nbsp;<span class="ident" id="8112544">y</span>&nbsp;<span class="op" id="8112546">:=</span>&nbsp;<span class="ident" id="8112549">r1</span><span class="op" id="8112551">.</span><span class="ident" id="8112552">Min</span><span class="op" id="8112555">.</span><span class="ident" id="8112556">Y</span><span class="op" id="8112557">;</span>&nbsp;<span class="ident" id="8112559">y</span>&nbsp;<span class="op" id="8112561">&lt;</span>&nbsp;<span class="ident" id="8112563">r1</span><span class="op" id="8112565">.</span><span class="ident" id="8112566">Max</span><span class="op" id="8112569">.</span><span class="ident" id="8112570">Y</span><span class="op" id="8112571">;</span>&nbsp;<span class="ident" id="8112573">y</span><span class="op" id="8112574">++</span>&nbsp;<span class="op" id="8112577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8112581">for</span>&nbsp;<span class="ident" id="8112585">x</span>&nbsp;<span class="op" id="8112587">:=</span>&nbsp;<span class="ident" id="8112590">r1</span><span class="op" id="8112592">.</span><span class="ident" id="8112593">Min</span><span class="op" id="8112596">.</span><span class="ident" id="8112597">X</span><span class="op" id="8112598">;</span>&nbsp;<span class="ident" id="8112600">x</span>&nbsp;<span class="op" id="8112602">&lt;</span>&nbsp;<span class="ident" id="8112604">r1</span><span class="op" id="8112606">.</span><span class="ident" id="8112607">Max</span><span class="op" id="8112610">.</span><span class="ident" id="8112611">X</span><span class="op" id="8112612">;</span>&nbsp;<span class="ident" id="8112614">x</span><span class="op" id="8112615">++</span>&nbsp;<span class="op" id="8112618">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8112623">yi</span>&nbsp;<span class="op" id="8112626">:=</span>&nbsp;<span class="ident" id="8112629">m</span><span class="op" id="8112630">.</span><span class="ident" id="8112631">YOffset</span><span class="op" id="8112638">(</span><span class="ident" id="8112639">x</span><span class="op" id="8112640">,</span>&nbsp;<span class="ident" id="8112642">y</span><span class="op" id="8112643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8112648">ci</span>&nbsp;<span class="op" id="8112651">:=</span>&nbsp;<span class="ident" id="8112654">m</span><span class="op" id="8112655">.</span><span class="ident" id="8112656">COffset</span><span class="op" id="8112663">(</span><span class="ident" id="8112664">x</span><span class="op" id="8112665">,</span>&nbsp;<span class="ident" id="8112667">y</span><span class="op" id="8112668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8112673">m</span><span class="op" id="8112674">.</span><span class="ident" id="8112675">Y</span><span class="op" id="8112676">[</span><span class="ident" id="8112677">yi</span><span class="op" id="8112679">]</span>&nbsp;<span class="op" id="8112681">=</span>&nbsp;<span class="builtintype" id="8112683">uint8</span><span class="op" id="8112688">(</span><span class="num" id="8112689">16</span><span class="op" id="8112691">*</span><span class="ident" id="8112692">y</span>&nbsp;<span class="op" id="8112694">+</span>&nbsp;<span class="ident" id="8112696">x</span><span class="op" id="8112697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8112702">m</span><span class="op" id="8112703">.</span><span class="ident" id="8112704">Cb</span><span class="op" id="8112706">[</span><span class="ident" id="8112707">ci</span><span class="op" id="8112709">]</span>&nbsp;<span class="op" id="8112711">=</span>&nbsp;<span class="builtintype" id="8112713">uint8</span><span class="op" id="8112718">(</span><span class="ident" id="8112719">y</span>&nbsp;<span class="op" id="8112721">+</span>&nbsp;<span class="num" id="8112723">16</span><span class="op" id="8112725">*</span><span class="ident" id="8112726">x</span><span class="op" id="8112727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8112732">m</span><span class="op" id="8112733">.</span><span class="ident" id="8112734">Cr</span><span class="op" id="8112736">[</span><span class="ident" id="8112737">ci</span><span class="op" id="8112739">]</span>&nbsp;<span class="op" id="8112741">=</span>&nbsp;<span class="builtintype" id="8112743">uint8</span><span class="op" id="8112748">(</span><span class="ident" id="8112749">y</span>&nbsp;<span class="op" id="8112751">+</span>&nbsp;<span class="num" id="8112753">16</span><span class="op" id="8112755">*</span><span class="ident" id="8112756">x</span><span class="op" id="8112757">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8112761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8112764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8112768">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8112802">for</span>&nbsp;<span class="ident" id="8112806">y0</span>&nbsp;<span class="op" id="8112809">:=</span>&nbsp;<span class="ident" id="8112812">delta</span><span class="op" id="8112817">.</span><span class="ident" id="8112818">Y</span>&nbsp;<span class="op" id="8112820">+</span>&nbsp;<span class="num" id="8112822">3</span><span class="op" id="8112823">;</span>&nbsp;<span class="ident" id="8112825">y0</span>&nbsp;<span class="op" id="8112828">&lt;</span>&nbsp;<span class="ident" id="8112830">delta</span><span class="op" id="8112835">.</span><span class="ident" id="8112836">Y</span><span class="op" id="8112837">+</span><span class="num" id="8112838">7</span><span class="op" id="8112839">;</span>&nbsp;<span class="ident" id="8112841">y0</span><span class="op" id="8112843">++</span>&nbsp;<span class="op" id="8112846">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8112850">for</span>&nbsp;<span class="ident" id="8112854">y1</span>&nbsp;<span class="op" id="8112857">:=</span>&nbsp;<span class="ident" id="8112860">delta</span><span class="op" id="8112865">.</span><span class="ident" id="8112866">Y</span>&nbsp;<span class="op" id="8112868">+</span>&nbsp;<span class="num" id="8112870">8</span><span class="op" id="8112871">;</span>&nbsp;<span class="ident" id="8112873">y1</span>&nbsp;<span class="op" id="8112876">&lt;</span>&nbsp;<span class="ident" id="8112878">delta</span><span class="op" id="8112883">.</span><span class="ident" id="8112884">Y</span><span class="op" id="8112885">+</span><span class="num" id="8112886">13</span><span class="op" id="8112888">;</span>&nbsp;<span class="ident" id="8112890">y1</span><span class="op" id="8112892">++</span>&nbsp;<span class="op" id="8112895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8112900">for</span>&nbsp;<span class="ident" id="8112904">x0</span>&nbsp;<span class="op" id="8112907">:=</span>&nbsp;<span class="ident" id="8112910">delta</span><span class="op" id="8112915">.</span><span class="ident" id="8112916">X</span>&nbsp;<span class="op" id="8112918">+</span>&nbsp;<span class="num" id="8112920">3</span><span class="op" id="8112921">;</span>&nbsp;<span class="ident" id="8112923">x0</span>&nbsp;<span class="op" id="8112926">&lt;</span>&nbsp;<span class="ident" id="8112928">delta</span><span class="op" id="8112933">.</span><span class="ident" id="8112934">X</span><span class="op" id="8112935">+</span><span class="num" id="8112936">7</span><span class="op" id="8112937">;</span>&nbsp;<span class="ident" id="8112939">x0</span><span class="op" id="8112941">++</span>&nbsp;<span class="op" id="8112944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8112950">for</span>&nbsp;<span class="ident" id="8112954">x1</span>&nbsp;<span class="op" id="8112957">:=</span>&nbsp;<span class="ident" id="8112960">delta</span><span class="op" id="8112965">.</span><span class="ident" id="8112966">X</span>&nbsp;<span class="op" id="8112968">+</span>&nbsp;<span class="num" id="8112970">8</span><span class="op" id="8112971">;</span>&nbsp;<span class="ident" id="8112973">x1</span>&nbsp;<span class="op" id="8112976">&lt;</span>&nbsp;<span class="ident" id="8112978">delta</span><span class="op" id="8112983">.</span><span class="ident" id="8112984">X</span><span class="op" id="8112985">+</span><span class="num" id="8112986">13</span><span class="op" id="8112988">;</span>&nbsp;<span class="ident" id="8112990">x1</span><span class="op" id="8112992">++</span>&nbsp;<span class="op" id="8112995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8113002">subRect</span>&nbsp;<span class="op" id="8113010">:=</span>&nbsp;<span class="ident" id="8113013">Rect</span><span class="op" id="8113017">(</span><span class="ident" id="8113018">x0</span><span class="op" id="8113020">,</span>&nbsp;<span class="ident" id="8113022">y0</span><span class="op" id="8113024">,</span>&nbsp;<span class="ident" id="8113026">x1</span><span class="op" id="8113028">,</span>&nbsp;<span class="ident" id="8113030">y1</span><span class="op" id="8113032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8113039">sub</span>&nbsp;<span class="op" id="8113043">:=</span>&nbsp;<span class="ident" id="8113046">m</span><span class="op" id="8113047">.</span><span class="ident" id="8113048">SubImage</span><span class="op" id="8113056">(</span><span class="ident" id="8113057">subRect</span><span class="op" id="8113064">)</span><span class="op" id="8113065">.</span><span class="op" id="8113066">(</span><span class="op" id="8113067">*</span><span class="ident" id="8113068">YCbCr</span><span class="op" id="8113073">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8113081">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8113174">for</span>&nbsp;<span class="ident" id="8113178">y</span>&nbsp;<span class="op" id="8113180">:=</span>&nbsp;<span class="ident" id="8113183">sub</span><span class="op" id="8113186">.</span><span class="ident" id="8113187">Rect</span><span class="op" id="8113191">.</span><span class="ident" id="8113192">Min</span><span class="op" id="8113195">.</span><span class="ident" id="8113196">Y</span><span class="op" id="8113197">;</span>&nbsp;<span class="ident" id="8113199">y</span>&nbsp;<span class="op" id="8113201">&lt;</span>&nbsp;<span class="ident" id="8113203">sub</span><span class="op" id="8113206">.</span><span class="ident" id="8113207">Rect</span><span class="op" id="8113211">.</span><span class="ident" id="8113212">Max</span><span class="op" id="8113215">.</span><span class="ident" id="8113216">Y</span><span class="op" id="8113217">;</span>&nbsp;<span class="ident" id="8113219">y</span><span class="op" id="8113220">++</span>&nbsp;<span class="op" id="8113223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8113231">for</span>&nbsp;<span class="ident" id="8113235">x</span>&nbsp;<span class="op" id="8113237">:=</span>&nbsp;<span class="ident" id="8113240">sub</span><span class="op" id="8113243">.</span><span class="ident" id="8113244">Rect</span><span class="op" id="8113248">.</span><span class="ident" id="8113249">Min</span><span class="op" id="8113252">.</span><span class="ident" id="8113253">X</span><span class="op" id="8113254">;</span>&nbsp;<span class="ident" id="8113256">x</span>&nbsp;<span class="op" id="8113258">&lt;</span>&nbsp;<span class="ident" id="8113260">sub</span><span class="op" id="8113263">.</span><span class="ident" id="8113264">Rect</span><span class="op" id="8113268">.</span><span class="ident" id="8113269">Max</span><span class="op" id="8113272">.</span><span class="ident" id="8113273">X</span><span class="op" id="8113274">;</span>&nbsp;<span class="ident" id="8113276">x</span><span class="op" id="8113277">++</span>&nbsp;<span class="op" id="8113280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8113289">color0</span>&nbsp;<span class="op" id="8113296">:=</span>&nbsp;<span class="ident" id="8113299">m</span><span class="op" id="8113300">.</span><span class="ident" id="8113301">At</span><span class="op" id="8113303">(</span><span class="ident" id="8113304">x</span><span class="op" id="8113305">,</span>&nbsp;<span class="ident" id="8113307">y</span><span class="op" id="8113308">)</span><span class="op" id="8113309">.</span><span class="op" id="8113310">(</span><span class="ident" id="8113311">color</span><span class="op" id="8113316">.</span><span class="ident" id="8113317">YCbCr</span><span class="op" id="8113322">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8113331">color1</span>&nbsp;<span class="op" id="8113338">:=</span>&nbsp;<span class="ident" id="8113341">sub</span><span class="op" id="8113344">.</span><span class="ident" id="8113345">At</span><span class="op" id="8113347">(</span><span class="ident" id="8113348">x</span><span class="op" id="8113349">,</span>&nbsp;<span class="ident" id="8113351">y</span><span class="op" id="8113352">)</span><span class="op" id="8113353">.</span><span class="op" id="8113354">(</span><span class="ident" id="8113355">color</span><span class="op" id="8113360">.</span><span class="ident" id="8113361">YCbCr</span><span class="op" id="8113366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8113375">if</span>&nbsp;<span class="ident" id="8113378">color0</span>&nbsp;<span class="op" id="8113385">!=</span>&nbsp;<span class="ident" id="8113388">color1</span>&nbsp;<span class="op" id="8113395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8113405">t</span><span class="op" id="8113406">.</span><span class="ident" id="8113407">Errorf</span><span class="op" id="8113413">(</span><span class="string" id="8113414">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="8113483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8113494">r</span><span class="op" id="8113495">,</span>&nbsp;<span class="ident" id="8113497">subsampleRatio</span><span class="op" id="8113511">,</span>&nbsp;<span class="ident" id="8113513">delta</span><span class="op" id="8113518">,</span>&nbsp;<span class="ident" id="8113520">x</span><span class="op" id="8113521">,</span>&nbsp;<span class="ident" id="8113523">y</span><span class="op" id="8113524">,</span>&nbsp;<span class="ident" id="8113526">color0</span><span class="op" id="8113532">,</span>&nbsp;<span class="ident" id="8113534">color1</span><span class="op" id="8113540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8113550">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8113564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8113572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8113579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8113585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8113590">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8113594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8113597">}</span><br>
<span class="lineno"></span><span class="op" id="8113599">}</span>
</div>
</body>
</html>
