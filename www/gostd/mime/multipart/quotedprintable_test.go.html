<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html" class="current">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7767102">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7767157">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7767211">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7767262">package</span>&nbsp;<span class="ident" id="7767270">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7767281">import</span>&nbsp;<span class="op" id="7767288">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767291">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767300">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767309">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767319">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767327">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767334">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767340">&#34;os/exec&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767351">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767361">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767369">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767380">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7767391">&#34;time&#34;</span><br>
<span class="lineno">20</span><span class="op" id="7767398">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7767401">func</span>&nbsp;<span class="ident" id="7767406">TestQuotedPrintable</span><span class="op" id="7767425">(</span><span class="ident" id="7767426">t</span>&nbsp;<span class="op" id="7767428">*</span><span class="ident" id="7767429"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767380">testing</a></span><span class="op" id="7767436">.</span><span class="ident" id="7767437"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7767438">)</span>&nbsp;<span class="op" id="7767440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7767443">tests</span>&nbsp;<span class="op" id="7767449">:=</span>&nbsp;<span class="op" id="7767452">[</span><span class="op" id="7767453">]</span><span class="keyword" id="7767454">struct</span>&nbsp;<span class="op" id="7767461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7767465">in</span><span class="op" id="7767467">,</span>&nbsp;<span class="ident" id="7767469">want</span>&nbsp;<span class="builtintype" id="7767474">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7767483">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7767492">interface</span><span class="op" id="7767501">{</span><span class="op" id="7767502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767505">}</span><span class="op" id="7767506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767510">{</span><span class="ident" id="7767511"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767513">:</span>&nbsp;<span class="string" id="7767515">&#34;&#34;</span><span class="op" id="7767517">,</span>&nbsp;<span class="ident" id="7767519"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767523">:</span>&nbsp;<span class="string" id="7767525">&#34;&#34;</span><span class="op" id="7767527">}</span><span class="op" id="7767528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767532">{</span><span class="ident" id="7767533"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767535">:</span>&nbsp;<span class="string" id="7767537">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7767546">,</span>&nbsp;<span class="ident" id="7767548"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767552">:</span>&nbsp;<span class="string" id="7767554">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7767563">}</span><span class="op" id="7767564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767568">{</span><span class="ident" id="7767569"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767571">:</span>&nbsp;<span class="string" id="7767573">&#34;foo&nbsp;bar=3D&#34;</span><span class="op" id="7767585">,</span>&nbsp;<span class="ident" id="7767587"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767591">:</span>&nbsp;<span class="string" id="7767593">&#34;foo&nbsp;bar=&#34;</span><span class="op" id="7767603">}</span><span class="op" id="7767604">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767608">{</span><span class="ident" id="7767609"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767611">:</span>&nbsp;<span class="string" id="7767613">&#34;foo&nbsp;bar=\n&#34;</span><span class="op" id="7767625">,</span>&nbsp;<span class="ident" id="7767627"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767631">:</span>&nbsp;<span class="string" id="7767633">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7767642">}</span><span class="op" id="7767643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767647">{</span><span class="ident" id="7767648"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767650">:</span>&nbsp;<span class="string" id="7767652">&#34;foo&nbsp;bar\n&#34;</span><span class="op" id="7767663">,</span>&nbsp;<span class="ident" id="7767665"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767669">:</span>&nbsp;<span class="string" id="7767671">&#34;foo&nbsp;bar\n&#34;</span><span class="op" id="7767682">}</span><span class="op" id="7767683">,</span>&nbsp;<span class="comment" id="7767685">//&nbsp;somewhat&nbsp;lax.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767704">{</span><span class="ident" id="7767705"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767707">:</span>&nbsp;<span class="string" id="7767709">&#34;foo&nbsp;bar=0&#34;</span><span class="op" id="7767720">,</span>&nbsp;<span class="ident" id="7767722"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767726">:</span>&nbsp;<span class="string" id="7767728">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7767737">,</span>&nbsp;<span class="ident" id="7767739"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767483">err</a></span><span class="op" id="7767742">:</span>&nbsp;<span class="ident" id="7767744"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767334">io</a></span><span class="op" id="7767746">.</span><span class="ident" id="7767747"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span><span class="op" id="7767763">}</span><span class="op" id="7767764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767768">{</span><span class="ident" id="7767769"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767771">:</span>&nbsp;<span class="string" id="7767773">&#34;foo&nbsp;bar=ab&#34;</span><span class="op" id="7767785">,</span>&nbsp;<span class="ident" id="7767787"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767791">:</span>&nbsp;<span class="string" id="7767793">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7767802">,</span>&nbsp;<span class="ident" id="7767804"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767483">err</a></span><span class="op" id="7767807">:</span>&nbsp;<span class="string" id="7767809">&#34;multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x61&#34;</span><span class="op" id="7767860">}</span><span class="op" id="7767861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767865">{</span><span class="ident" id="7767866"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767868">:</span>&nbsp;<span class="string" id="7767870">&#34;foo&nbsp;bar=0D=0A&#34;</span><span class="op" id="7767885">,</span>&nbsp;<span class="ident" id="7767887"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767891">:</span>&nbsp;<span class="string" id="7767893">&#34;foo&nbsp;bar\r\n&#34;</span><span class="op" id="7767906">}</span><span class="op" id="7767907">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767911">{</span><span class="ident" id="7767912"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767914">:</span>&nbsp;<span class="string" id="7767916">&#34;&nbsp;A&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;C&nbsp;&#34;</span><span class="op" id="7767937">,</span>&nbsp;<span class="ident" id="7767939"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767943">:</span>&nbsp;<span class="string" id="7767945">&#34;&nbsp;A&nbsp;B\r\n&nbsp;C&#34;</span><span class="op" id="7767957">}</span><span class="op" id="7767958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767962">{</span><span class="ident" id="7767963"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7767965">:</span>&nbsp;<span class="string" id="7767967">&#34;&nbsp;A&nbsp;B&nbsp;=\r\n&nbsp;C&nbsp;&#34;</span><span class="op" id="7767982">,</span>&nbsp;<span class="ident" id="7767984"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7767988">:</span>&nbsp;<span class="string" id="7767990">&#34;&nbsp;A&nbsp;B&nbsp;&nbsp;C&#34;</span><span class="op" id="7767999">}</span><span class="op" id="7768000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768004">{</span><span class="ident" id="7768005"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768007">:</span>&nbsp;<span class="string" id="7768009">&#34;&nbsp;A&nbsp;B&nbsp;=\n&nbsp;C&nbsp;&#34;</span><span class="op" id="7768022">,</span>&nbsp;<span class="ident" id="7768024"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768028">:</span>&nbsp;<span class="string" id="7768030">&#34;&nbsp;A&nbsp;B&nbsp;&nbsp;C&#34;</span><span class="op" id="7768039">}</span><span class="op" id="7768040">,</span>&nbsp;<span class="comment" id="7768042">//&nbsp;lax.&nbsp;treating&nbsp;LF&nbsp;as&nbsp;CRLF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768072">{</span><span class="ident" id="7768073"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768075">:</span>&nbsp;<span class="string" id="7768077">&#34;foo=\nbar&#34;</span><span class="op" id="7768088">,</span>&nbsp;<span class="ident" id="7768090"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768094">:</span>&nbsp;<span class="string" id="7768096">&#34;foobar&#34;</span><span class="op" id="7768104">}</span><span class="op" id="7768105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768109">{</span><span class="ident" id="7768110"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768112">:</span>&nbsp;<span class="string" id="7768114">&#34;foo\x00bar&#34;</span><span class="op" id="7768126">,</span>&nbsp;<span class="ident" id="7768128"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768132">:</span>&nbsp;<span class="string" id="7768134">&#34;foo&#34;</span><span class="op" id="7768139">,</span>&nbsp;<span class="ident" id="7768141"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767483">err</a></span><span class="op" id="7768144">:</span>&nbsp;<span class="string" id="7768146">&#34;multipart:&nbsp;invalid&nbsp;unescaped&nbsp;byte&nbsp;0x00&nbsp;in&nbsp;quoted-printable&nbsp;body&#34;</span><span class="op" id="7768211">}</span><span class="op" id="7768212">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768216">{</span><span class="ident" id="7768217"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768219">:</span>&nbsp;<span class="string" id="7768221">&#34;foo&nbsp;bar\xff&#34;</span><span class="op" id="7768234">,</span>&nbsp;<span class="ident" id="7768236"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768240">:</span>&nbsp;<span class="string" id="7768242">&#34;foo&nbsp;bar&#34;</span><span class="op" id="7768251">,</span>&nbsp;<span class="ident" id="7768253"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767483">err</a></span><span class="op" id="7768256">:</span>&nbsp;<span class="string" id="7768258">&#34;multipart:&nbsp;invalid&nbsp;unescaped&nbsp;byte&nbsp;0xff&nbsp;in&nbsp;quoted-printable&nbsp;body&#34;</span><span class="op" id="7768323">}</span><span class="op" id="7768324">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7768329">//&nbsp;Equal&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768346">{</span><span class="ident" id="7768347"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768349">:</span>&nbsp;<span class="string" id="7768351">&#34;=3D30\n&#34;</span><span class="op" id="7768360">,</span>&nbsp;<span class="ident" id="7768362"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768366">:</span>&nbsp;<span class="string" id="7768368">&#34;=30\n&#34;</span><span class="op" id="7768375">}</span><span class="op" id="7768376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768380">{</span><span class="ident" id="7768381"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768383">:</span>&nbsp;<span class="string" id="7768385">&#34;=00=FF0=\n&#34;</span><span class="op" id="7768397">,</span>&nbsp;<span class="ident" id="7768399"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768403">:</span>&nbsp;<span class="string" id="7768405">&#34;\x00\xff0&#34;</span><span class="op" id="7768416">}</span><span class="op" id="7768417">,</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7768422">//&nbsp;Trailing&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768447">{</span><span class="ident" id="7768448"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768450">:</span>&nbsp;<span class="string" id="7768452">&#34;foo&nbsp;&nbsp;\n&#34;</span><span class="op" id="7768461">,</span>&nbsp;<span class="ident" id="7768463"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768467">:</span>&nbsp;<span class="string" id="7768469">&#34;foo\n&#34;</span><span class="op" id="7768476">}</span><span class="op" id="7768477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768481">{</span><span class="ident" id="7768482"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768484">:</span>&nbsp;<span class="string" id="7768486">&#34;foo&nbsp;&nbsp;\n\nfoo&nbsp;=\n\nfoo=20\n\n&#34;</span><span class="op" id="7768516">,</span>&nbsp;<span class="ident" id="7768518"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768522">:</span>&nbsp;<span class="string" id="7768524">&#34;foo\n\nfoo&nbsp;\nfoo&nbsp;\n\n&#34;</span><span class="op" id="7768547">}</span><span class="op" id="7768548">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7768553">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;allow&nbsp;bare&nbsp;\n&nbsp;and&nbsp;\r&nbsp;through,&nbsp;despite&nbsp;it&nbsp;being&nbsp;strictly</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7768628">//&nbsp;not&nbsp;permitted&nbsp;per&nbsp;RFC&nbsp;2045,&nbsp;Section&nbsp;6.7&nbsp;Page&nbsp;22&nbsp;bullet&nbsp;(4).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768693">{</span><span class="ident" id="7768694"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768696">:</span>&nbsp;<span class="string" id="7768698">&#34;foo\nbar&#34;</span><span class="op" id="7768708">,</span>&nbsp;<span class="ident" id="7768710"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768714">:</span>&nbsp;<span class="string" id="7768716">&#34;foo\nbar&#34;</span><span class="op" id="7768726">}</span><span class="op" id="7768727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768731">{</span><span class="ident" id="7768732"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768734">:</span>&nbsp;<span class="string" id="7768736">&#34;foo\rbar&#34;</span><span class="op" id="7768746">,</span>&nbsp;<span class="ident" id="7768748"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768752">:</span>&nbsp;<span class="string" id="7768754">&#34;foo\rbar&#34;</span><span class="op" id="7768764">}</span><span class="op" id="7768765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768769">{</span><span class="ident" id="7768770"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768772">:</span>&nbsp;<span class="string" id="7768774">&#34;foo\r\nbar&#34;</span><span class="op" id="7768786">,</span>&nbsp;<span class="ident" id="7768788"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768792">:</span>&nbsp;<span class="string" id="7768794">&#34;foo\r\nbar&#34;</span><span class="op" id="7768806">}</span><span class="op" id="7768807">,</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7768812">//&nbsp;Different&nbsp;types&nbsp;of&nbsp;soft&nbsp;line-breaks.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768854">{</span><span class="ident" id="7768855"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768857">:</span>&nbsp;<span class="string" id="7768859">&#34;foo=\r\nbar&#34;</span><span class="op" id="7768872">,</span>&nbsp;<span class="ident" id="7768874"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768878">:</span>&nbsp;<span class="string" id="7768880">&#34;foobar&#34;</span><span class="op" id="7768888">}</span><span class="op" id="7768889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768893">{</span><span class="ident" id="7768894"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768896">:</span>&nbsp;<span class="string" id="7768898">&#34;foo=\nbar&#34;</span><span class="op" id="7768909">,</span>&nbsp;<span class="ident" id="7768911"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768915">:</span>&nbsp;<span class="string" id="7768917">&#34;foobar&#34;</span><span class="op" id="7768925">}</span><span class="op" id="7768926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768930">{</span><span class="ident" id="7768931"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7768933">:</span>&nbsp;<span class="string" id="7768935">&#34;foo=\rbar&#34;</span><span class="op" id="7768946">,</span>&nbsp;<span class="ident" id="7768948"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7768952">:</span>&nbsp;<span class="string" id="7768954">&#34;foo&#34;</span><span class="op" id="7768959">,</span>&nbsp;<span class="ident" id="7768961"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767483">err</a></span><span class="op" id="7768964">:</span>&nbsp;<span class="string" id="7768966">&#34;multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x0d&#34;</span><span class="op" id="7769017">}</span><span class="op" id="7769018">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7769022">{</span><span class="ident" id="7769023"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7769025">:</span>&nbsp;<span class="string" id="7769027">&#34;foo=\r\r\r&nbsp;\nbar&#34;</span><span class="op" id="7769045">,</span>&nbsp;<span class="ident" id="7769047"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7769051">:</span>&nbsp;<span class="string" id="7769053">&#34;foo&#34;</span><span class="op" id="7769058">,</span>&nbsp;<span class="ident" id="7769060"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767483">err</a></span><span class="op" id="7769063">:</span>&nbsp;<span class="string" id="7769065">`multipart:&nbsp;invalid&nbsp;bytes&nbsp;after&nbsp;=:&nbsp;&#34;\r\r\r&nbsp;\n&#34;`</span><span class="op" id="7769112">}</span><span class="op" id="7769113">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7769118">//&nbsp;Example&nbsp;from&nbsp;RFC&nbsp;2045:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7769146">{</span><span class="ident" id="7769147"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7769149">:</span>&nbsp;<span class="string" id="7769151">&#34;Now&#39;s&nbsp;the&nbsp;time&nbsp;=\n&#34;</span>&nbsp;<span class="op" id="7769172">+</span>&nbsp;<span class="string" id="7769174">&#34;for&nbsp;all&nbsp;folk&nbsp;to&nbsp;come=\n&#34;</span>&nbsp;<span class="op" id="7769200">+</span>&nbsp;<span class="string" id="7769202">&#34;&nbsp;to&nbsp;the&nbsp;aid&nbsp;of&nbsp;their&nbsp;country.&#34;</span><span class="op" id="7769233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7769238"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7769242">:</span>&nbsp;<span class="string" id="7769244">&#34;Now&#39;s&nbsp;the&nbsp;time&nbsp;for&nbsp;all&nbsp;folk&nbsp;to&nbsp;come&nbsp;to&nbsp;the&nbsp;aid&nbsp;of&nbsp;their&nbsp;country.&#34;</span><span class="op" id="7769310">}</span><span class="op" id="7769311">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7769314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769317">for</span>&nbsp;<span class="ident" id="7769321">_</span><span class="op" id="7769322">,</span>&nbsp;<span class="ident" id="7769324">tt</span>&nbsp;<span class="op" id="7769327">:=</span>&nbsp;<span class="keyword" id="7769330">range</span>&nbsp;<span class="ident" id="7769336"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767443">tests</a></span>&nbsp;<span class="op" id="7769342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769346">var</span>&nbsp;<span class="ident" id="7769350">buf</span>&nbsp;<span class="ident" id="7769354"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767300">bytes</a></span><span class="op" id="7769359">.</span><span class="ident" id="7769360"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7769369">_</span><span class="op" id="7769370">,</span>&nbsp;<span class="ident" id="7769372">err</span>&nbsp;<span class="op" id="7769376">:=</span>&nbsp;<span class="ident" id="7769379"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767334">io</a></span><span class="op" id="7769381">.</span><span class="ident" id="7769382"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="7769386">(</span><span class="op" id="7769387">&amp;</span><span class="ident" id="7769388"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769350">buf</a></span><span class="op" id="7769391">,</span>&nbsp;<span class="ident" id="7769393"><a href="/gostd/mime/multipart/quotedprintable.go.html#4321579">newQuotedPrintableReader</a></span><span class="op" id="7769417">(</span><span class="ident" id="7769418"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7769425">.</span><span class="ident" id="7769426"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7769435">(</span><span class="ident" id="7769436"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769324">tt</a></span><span class="op" id="7769438">.</span><span class="ident" id="7769439"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7769441">)</span><span class="op" id="7769442">)</span><span class="op" id="7769443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769447">if</span>&nbsp;<span class="ident" id="7769450">got</span>&nbsp;<span class="op" id="7769454">:=</span>&nbsp;<span class="ident" id="7769457"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769350">buf</a></span><span class="op" id="7769460">.</span><span class="ident" id="7769461"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7769467">(</span><span class="op" id="7769468">)</span><span class="op" id="7769469">;</span>&nbsp;<span class="ident" id="7769471"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769450">got</a></span>&nbsp;<span class="op" id="7769475">!=</span>&nbsp;<span class="ident" id="7769478"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769324">tt</a></span><span class="op" id="7769480">.</span><span class="ident" id="7769481"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span>&nbsp;<span class="op" id="7769486">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7769491"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767426">t</a></span><span class="op" id="7769492">.</span><span class="ident" id="7769493"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7769499">(</span><span class="string" id="7769500">&#34;for&nbsp;%q,&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7769525">,</span>&nbsp;<span class="ident" id="7769527"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769324">tt</a></span><span class="op" id="7769529">.</span><span class="ident" id="7769530"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7769532">,</span>&nbsp;<span class="ident" id="7769534"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769450">got</a></span><span class="op" id="7769537">,</span>&nbsp;<span class="ident" id="7769539"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769324">tt</a></span><span class="op" id="7769541">.</span><span class="ident" id="7769542"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767469">want</a></span><span class="op" id="7769546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7769550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769554">switch</span>&nbsp;<span class="ident" id="7769561">verr</span>&nbsp;<span class="op" id="7769566">:=</span>&nbsp;<span class="ident" id="7769569"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769324">tt</a></span><span class="op" id="7769571">.</span><span class="ident" id="7769572"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767483">err</a></span><span class="op" id="7769575">.</span><span class="op" id="7769576">(</span><span class="keyword" id="7769577">type</span><span class="op" id="7769581">)</span>&nbsp;<span class="op" id="7769583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769587">case</span>&nbsp;<span class="builtintype" id="7769592">nil</span><span class="op" id="7769595">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769600">if</span>&nbsp;<span class="ident" id="7769603"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769372">err</a></span>&nbsp;<span class="op" id="7769607">!=</span>&nbsp;<span class="builtintype" id="7769610">nil</span>&nbsp;<span class="op" id="7769614">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7769620"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767426">t</a></span><span class="op" id="7769621">.</span><span class="ident" id="7769622"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7769628">(</span><span class="string" id="7769629">&#34;for&nbsp;%q,&nbsp;got&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7769663">,</span>&nbsp;<span class="ident" id="7769665"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769324">tt</a></span><span class="op" id="7769667">.</span><span class="ident" id="7769668"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7769670">,</span>&nbsp;<span class="ident" id="7769672"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769372">err</a></span><span class="op" id="7769675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7769680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769684">case</span>&nbsp;<span class="builtintype" id="7769689">string</span><span class="op" id="7769695">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769700">if</span>&nbsp;<span class="ident" id="7769703">got</span>&nbsp;<span class="op" id="7769707">:=</span>&nbsp;<span class="ident" id="7769710"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767327">fmt</a></span><span class="op" id="7769713">.</span><span class="ident" id="7769714"><a href="/gostd/fmt/print.go.html#2144876">Sprint</a></span><span class="op" id="7769720">(</span><span class="ident" id="7769721"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769372">err</a></span><span class="op" id="7769724">)</span><span class="op" id="7769725">;</span>&nbsp;<span class="ident" id="7769727"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769703">got</a></span>&nbsp;<span class="op" id="7769731">!=</span>&nbsp;<span class="ident" id="7769734"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769561">verr</a></span>&nbsp;<span class="op" id="7769739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7769745"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767426">t</a></span><span class="op" id="7769746">.</span><span class="ident" id="7769747"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7769753">(</span><span class="string" id="7769754">&#34;for&nbsp;%q,&nbsp;got&nbsp;error&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7769785">,</span>&nbsp;<span class="ident" id="7769787"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769324">tt</a></span><span class="op" id="7769789">.</span><span class="ident" id="7769790"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7769792">,</span>&nbsp;<span class="ident" id="7769794"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769703">got</a></span><span class="op" id="7769797">,</span>&nbsp;<span class="ident" id="7769799"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769561">verr</a></span><span class="op" id="7769803">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7769808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769812">case</span>&nbsp;<span class="builtintype" id="7769817">error</span><span class="op" id="7769822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769827">if</span>&nbsp;<span class="ident" id="7769830"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769372">err</a></span>&nbsp;<span class="op" id="7769834">!=</span>&nbsp;<span class="ident" id="7769837"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769561">verr</a></span>&nbsp;<span class="op" id="7769842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7769848"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767426">t</a></span><span class="op" id="7769849">.</span><span class="ident" id="7769850"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7769856">(</span><span class="string" id="7769857">&#34;for&nbsp;%q,&nbsp;got&nbsp;error&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7769888">,</span>&nbsp;<span class="ident" id="7769890"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769324">tt</a></span><span class="op" id="7769892">.</span><span class="ident" id="7769893"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767465">in</a></span><span class="op" id="7769895">,</span>&nbsp;<span class="ident" id="7769897"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769372">err</a></span><span class="op" id="7769900">,</span>&nbsp;<span class="ident" id="7769902"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769561">verr</a></span><span class="op" id="7769906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7769911">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7769915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7769918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="op" id="7769921">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7769924">func</span>&nbsp;<span class="ident" id="7769929">everySequence</span><span class="op" id="7769942">(</span><span class="ident" id="7769943">base</span><span class="op" id="7769947">,</span>&nbsp;<span class="ident" id="7769949">alpha</span>&nbsp;<span class="builtintype" id="7769955">string</span><span class="op" id="7769961">,</span>&nbsp;<span class="ident" id="7769963">length</span>&nbsp;<span class="builtintype" id="7769970">int</span><span class="op" id="7769973">,</span>&nbsp;<span class="ident" id="7769975">fn</span>&nbsp;<span class="keyword" id="7769978">func</span><span class="op" id="7769982">(</span><span class="builtintype" id="7769983">string</span><span class="op" id="7769989">)</span><span class="op" id="7769990">)</span>&nbsp;<span class="op" id="7769992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7769995">if</span>&nbsp;<span class="builtinfunc" id="7769998">len</span><span class="op" id="7770001">(</span><span class="ident" id="7770002"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769943">base</a></span><span class="op" id="7770006">)</span>&nbsp;<span class="op" id="7770008">==</span>&nbsp;<span class="ident" id="7770011"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769963">length</a></span>&nbsp;<span class="op" id="7770018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770022"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769975">fn</a></span><span class="op" id="7770024">(</span><span class="ident" id="7770025"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769943">base</a></span><span class="op" id="7770029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770033">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7770041">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770044">for</span>&nbsp;<span class="ident" id="7770048">i</span>&nbsp;<span class="op" id="7770050">:=</span>&nbsp;<span class="num" id="7770053">0</span><span class="op" id="7770054">;</span>&nbsp;<span class="ident" id="7770056"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770048">i</a></span>&nbsp;<span class="op" id="7770058">&lt;</span>&nbsp;<span class="builtinfunc" id="7770060">len</span><span class="op" id="7770063">(</span><span class="ident" id="7770064"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769949">alpha</a></span><span class="op" id="7770069">)</span><span class="op" id="7770070">;</span>&nbsp;<span class="ident" id="7770072"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770048">i</a></span><span class="op" id="7770073">++</span>&nbsp;<span class="op" id="7770076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770080"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769929">everySequence</a></span><span class="op" id="7770093">(</span><span class="ident" id="7770094"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769943">base</a></span><span class="op" id="7770098">+</span><span class="ident" id="7770099"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769949">alpha</a></span><span class="op" id="7770104">[</span><span class="ident" id="7770105"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770048">i</a></span><span class="op" id="7770106">:</span><span class="ident" id="7770107"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770048">i</a></span><span class="op" id="7770108">+</span><span class="num" id="7770109">1</span><span class="op" id="7770110">]</span><span class="op" id="7770111">,</span>&nbsp;<span class="ident" id="7770113"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769949">alpha</a></span><span class="op" id="7770118">,</span>&nbsp;<span class="ident" id="7770120"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769963">length</a></span><span class="op" id="7770126">,</span>&nbsp;<span class="ident" id="7770128"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769975">fn</a></span><span class="op" id="7770130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7770133">}</span><br>
<span class="lineno"></span><span class="op" id="7770135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7770138">var</span>&nbsp;<span class="ident" id="7770142">useQprint</span>&nbsp;<span class="op" id="7770152">=</span>&nbsp;<span class="ident" id="7770154"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767319">flag</a></span><span class="op" id="7770158">.</span><span class="ident" id="7770159"><a href="/gostd/flag/flag.go.html#3948389">Bool</a></span><span class="op" id="7770163">(</span><span class="string" id="7770164">&#34;qprint&#34;</span><span class="op" id="7770172">,</span>&nbsp;<span class="builtintype" id="7770174">false</span><span class="op" id="7770179">,</span>&nbsp;<span class="string" id="7770181">&#34;Compare&nbsp;against&nbsp;the&nbsp;&#39;qprint&#39;&nbsp;program.&#34;</span><span class="op" id="7770220">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7770223">var</span>&nbsp;<span class="ident" id="7770227">badSoftRx</span>&nbsp;<span class="op" id="7770237">=</span>&nbsp;<span class="ident" id="7770239"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767351">regexp</a></span><span class="op" id="7770245">.</span><span class="ident" id="7770246"><a href="/gostd/regexp/regexp.go.html#3571892">MustCompile</a></span><span class="op" id="7770257">(</span><span class="string" id="7770258">`=([^\r\n]+?\n)|([^\r\n]+$)|(\r$)|(\r[^\n]+\n)|(&nbsp;\r\n)`</span><span class="op" id="7770313">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7770316">func</span>&nbsp;<span class="ident" id="7770321">TestQPExhaustive</span><span class="op" id="7770337">(</span><span class="ident" id="7770338">t</span>&nbsp;<span class="op" id="7770340">*</span><span class="ident" id="7770341"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767380">testing</a></span><span class="op" id="7770348">.</span><span class="ident" id="7770349"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7770350">)</span>&nbsp;<span class="op" id="7770352">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770355">if</span>&nbsp;<span class="op" id="7770358">*</span><span class="ident" id="7770359"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770142">useQprint</a></span>&nbsp;<span class="op" id="7770369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770373">_</span><span class="op" id="7770374">,</span>&nbsp;<span class="ident" id="7770376">err</span>&nbsp;<span class="op" id="7770380">:=</span>&nbsp;<span class="ident" id="7770383"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767340">exec</a></span><span class="op" id="7770387">.</span><span class="ident" id="7770388"><a href="/gostd/os/exec/lp_unix.go.html#5591524">LookPath</a></span><span class="op" id="7770396">(</span><span class="string" id="7770397">&#34;qprint&#34;</span><span class="op" id="7770405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770409">if</span>&nbsp;<span class="ident" id="7770412"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770376">err</a></span>&nbsp;<span class="op" id="7770416">!=</span>&nbsp;<span class="builtintype" id="7770419">nil</span>&nbsp;<span class="op" id="7770423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770428"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770338">t</a></span><span class="op" id="7770429">.</span><span class="ident" id="7770430"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7770436">(</span><span class="string" id="7770437">&#34;Error&nbsp;looking&nbsp;for&nbsp;qprint:&nbsp;%v&#34;</span><span class="op" id="7770467">,</span>&nbsp;<span class="ident" id="7770469"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770376">err</a></span><span class="op" id="7770472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7770476">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7770479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770483">var</span>&nbsp;<span class="ident" id="7770487">buf</span>&nbsp;<span class="ident" id="7770491"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767300">bytes</a></span><span class="op" id="7770496">.</span><span class="ident" id="7770497"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770505">res</span>&nbsp;<span class="op" id="7770509">:=</span>&nbsp;<span class="builtinfunc" id="7770512">make</span><span class="op" id="7770516">(</span><span class="keyword" id="7770517">map</span><span class="op" id="7770520">[</span><span class="builtintype" id="7770521">string</span><span class="op" id="7770527">]</span><span class="builtintype" id="7770528">int</span><span class="op" id="7770531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770534"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7769929">everySequence</a></span><span class="op" id="7770547">(</span><span class="string" id="7770548">&#34;&#34;</span><span class="op" id="7770550">,</span>&nbsp;<span class="string" id="7770552">&#34;0A&nbsp;\r\n=&#34;</span><span class="op" id="7770562">,</span>&nbsp;<span class="num" id="7770564">6</span><span class="op" id="7770565">,</span>&nbsp;<span class="keyword" id="7770567">func</span><span class="op" id="7770571">(</span><span class="ident" id="7770572">s</span>&nbsp;<span class="builtintype" id="7770574">string</span><span class="op" id="7770580">)</span>&nbsp;<span class="op" id="7770582">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770586">if</span>&nbsp;<span class="ident" id="7770589"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7770596">.</span><span class="ident" id="7770597"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="7770606">(</span><span class="ident" id="7770607"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7770608">,</span>&nbsp;<span class="string" id="7770610">&#34;=&#34;</span><span class="op" id="7770613">)</span>&nbsp;<span class="op" id="7770615">||</span>&nbsp;<span class="ident" id="7770618"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7770625">.</span><span class="ident" id="7770626"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7770634">(</span><span class="ident" id="7770635"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7770636">,</span>&nbsp;<span class="string" id="7770638">&#34;==&#34;</span><span class="op" id="7770642">)</span>&nbsp;<span class="op" id="7770644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770649">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7770658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770662"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770487">buf</a></span><span class="op" id="7770665">.</span><span class="ident" id="7770666"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="7770671">(</span><span class="op" id="7770672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770676">_</span><span class="op" id="7770677">,</span>&nbsp;<span class="ident" id="7770679">err</span>&nbsp;<span class="op" id="7770683">:=</span>&nbsp;<span class="ident" id="7770686"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767334">io</a></span><span class="op" id="7770688">.</span><span class="ident" id="7770689"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="7770693">(</span><span class="op" id="7770694">&amp;</span><span class="ident" id="7770695"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770487">buf</a></span><span class="op" id="7770698">,</span>&nbsp;<span class="ident" id="7770700"><a href="/gostd/mime/multipart/quotedprintable.go.html#4321579">newQuotedPrintableReader</a></span><span class="op" id="7770724">(</span><span class="ident" id="7770725"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7770732">.</span><span class="ident" id="7770733"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7770742">(</span><span class="ident" id="7770743"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7770744">)</span><span class="op" id="7770745">)</span><span class="op" id="7770746">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770750">if</span>&nbsp;<span class="ident" id="7770753"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770679">err</a></span>&nbsp;<span class="op" id="7770757">!=</span>&nbsp;<span class="builtintype" id="7770760">nil</span>&nbsp;<span class="op" id="7770764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770769">errStr</span>&nbsp;<span class="op" id="7770776">:=</span>&nbsp;<span class="ident" id="7770779"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770679">err</a></span><span class="op" id="7770782">.</span><span class="ident" id="7770783">Error</span><span class="op" id="7770788">(</span><span class="op" id="7770789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770794">if</span>&nbsp;<span class="ident" id="7770797"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7770804">.</span><span class="ident" id="7770805"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7770813">(</span><span class="ident" id="7770814"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span><span class="op" id="7770820">,</span>&nbsp;<span class="string" id="7770822">&#34;invalid&nbsp;bytes&nbsp;after&nbsp;=:&#34;</span><span class="op" id="7770846">)</span>&nbsp;<span class="op" id="7770848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770854"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span>&nbsp;<span class="op" id="7770861">=</span>&nbsp;<span class="string" id="7770863">&#34;invalid&nbsp;bytes&nbsp;after&nbsp;=&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7770890">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7770895"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770505">res</a></span><span class="op" id="7770898">[</span><span class="ident" id="7770899"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span><span class="op" id="7770905">]</span><span class="op" id="7770906">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770912">if</span>&nbsp;<span class="ident" id="7770915"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7770922">.</span><span class="ident" id="7770923"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7770931">(</span><span class="ident" id="7770932"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span><span class="op" id="7770938">,</span>&nbsp;<span class="string" id="7770940">&#34;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;&#34;</span><span class="op" id="7770976">)</span>&nbsp;<span class="op" id="7770978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7770984">if</span>&nbsp;<span class="ident" id="7770987"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7770994">.</span><span class="ident" id="7770995"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="7771004">(</span><span class="ident" id="7771005"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span><span class="op" id="7771011">,</span>&nbsp;<span class="string" id="7771013">&#34;0x20&#34;</span><span class="op" id="7771019">)</span>&nbsp;<span class="op" id="7771021">&amp;&amp;</span>&nbsp;<span class="op" id="7771024">(</span><span class="ident" id="7771025"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771032">.</span><span class="ident" id="7771033"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7771041">(</span><span class="ident" id="7771042"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7771043">,</span>&nbsp;<span class="string" id="7771045">&#34;=0&nbsp;&#34;</span><span class="op" id="7771050">)</span>&nbsp;<span class="op" id="7771052">||</span>&nbsp;<span class="ident" id="7771055"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771062">.</span><span class="ident" id="7771063"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7771071">(</span><span class="ident" id="7771072"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7771073">,</span>&nbsp;<span class="string" id="7771075">&#34;=A&nbsp;&#34;</span><span class="op" id="7771080">)</span>&nbsp;<span class="op" id="7771082">||</span>&nbsp;<span class="ident" id="7771085"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771092">.</span><span class="ident" id="7771093"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7771101">(</span><span class="ident" id="7771102"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7771103">,</span>&nbsp;<span class="string" id="7771105">&#34;=&nbsp;&#34;</span><span class="op" id="7771109">)</span><span class="op" id="7771110">)</span>&nbsp;<span class="op" id="7771112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771119">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7771130">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771136">if</span>&nbsp;<span class="ident" id="7771139"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771146">.</span><span class="ident" id="7771147"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="7771156">(</span><span class="ident" id="7771157"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span><span class="op" id="7771163">,</span>&nbsp;<span class="string" id="7771165">&#34;0x3d&#34;</span><span class="op" id="7771171">)</span>&nbsp;<span class="op" id="7771173">&amp;&amp;</span>&nbsp;<span class="op" id="7771176">(</span><span class="ident" id="7771177"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771184">.</span><span class="ident" id="7771185"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7771193">(</span><span class="ident" id="7771194"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7771195">,</span>&nbsp;<span class="string" id="7771197">&#34;=0=&#34;</span><span class="op" id="7771202">)</span>&nbsp;<span class="op" id="7771204">||</span>&nbsp;<span class="ident" id="7771207"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771214">.</span><span class="ident" id="7771215"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7771223">(</span><span class="ident" id="7771224"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7771225">,</span>&nbsp;<span class="string" id="7771227">&#34;=A=&#34;</span><span class="op" id="7771232">)</span><span class="op" id="7771233">)</span>&nbsp;<span class="op" id="7771235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771242">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7771253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771259">if</span>&nbsp;<span class="ident" id="7771262"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771269">.</span><span class="ident" id="7771270"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="7771279">(</span><span class="ident" id="7771280"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span><span class="op" id="7771286">,</span>&nbsp;<span class="string" id="7771288">&#34;0x0a&#34;</span><span class="op" id="7771294">)</span>&nbsp;<span class="op" id="7771296">||</span>&nbsp;<span class="ident" id="7771299"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771306">.</span><span class="ident" id="7771307"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="7771316">(</span><span class="ident" id="7771317"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span><span class="op" id="7771323">,</span>&nbsp;<span class="string" id="7771325">&#34;0x0d&#34;</span><span class="op" id="7771331">)</span>&nbsp;<span class="op" id="7771333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7771340">//&nbsp;bunch&nbsp;of&nbsp;cases;&nbsp;since&nbsp;whitespace&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;line&nbsp;before&nbsp;\n&nbsp;is&nbsp;removed.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771424">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7771435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7771440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771445">if</span>&nbsp;<span class="ident" id="7771448"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771455">.</span><span class="ident" id="7771456"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7771464">(</span><span class="ident" id="7771465"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span><span class="op" id="7771471">,</span>&nbsp;<span class="string" id="7771473">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="7771489">)</span>&nbsp;<span class="op" id="7771491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771497">return</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7771507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771512">if</span>&nbsp;<span class="ident" id="7771515"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770769">errStr</a></span>&nbsp;<span class="op" id="7771522">==</span>&nbsp;<span class="string" id="7771525">&#34;invalid&nbsp;bytes&nbsp;after&nbsp;=&#34;</span>&nbsp;<span class="op" id="7771549">&amp;&amp;</span>&nbsp;<span class="ident" id="7771552"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770227">badSoftRx</a></span><span class="op" id="7771561">.</span><span class="ident" id="7771562"><a href="/gostd/regexp/regexp.go.html#3576314">MatchString</a></span><span class="op" id="7771573">(</span><span class="ident" id="7771574"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7771575">)</span>&nbsp;<span class="op" id="7771577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771583">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7771593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7771598"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770338">t</a></span><span class="op" id="7771599">.</span><span class="ident" id="7771600"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7771606">(</span><span class="string" id="7771607">&#34;decode(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7771624">,</span>&nbsp;<span class="ident" id="7771626"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7771627">,</span>&nbsp;<span class="ident" id="7771629"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770679">err</a></span><span class="op" id="7771632">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771637">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7771646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771650">if</span>&nbsp;<span class="op" id="7771653">*</span><span class="ident" id="7771654"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770142">useQprint</a></span>&nbsp;<span class="op" id="7771664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7771669">cmd</span>&nbsp;<span class="op" id="7771673">:=</span>&nbsp;<span class="ident" id="7771676"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767340">exec</a></span><span class="op" id="7771680">.</span><span class="ident" id="7771681"><a href="/gostd/os/exec/exec.go.html#5581161">Command</a></span><span class="op" id="7771688">(</span><span class="string" id="7771689">&#34;qprint&#34;</span><span class="op" id="7771697">,</span>&nbsp;<span class="string" id="7771699">&#34;-d&#34;</span><span class="op" id="7771703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7771708"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771669">cmd</a></span><span class="op" id="7771711">.</span><span class="ident" id="7771712"><a href="/gostd/os/exec/exec.go.html#5579298">Stdin</a></span>&nbsp;<span class="op" id="7771718">=</span>&nbsp;<span class="ident" id="7771720"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7771727">.</span><span class="ident" id="7771728"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7771737">(</span><span class="ident" id="7771738"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7771739">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7771744">stderr</span><span class="op" id="7771750">,</span>&nbsp;<span class="ident" id="7771752">err</span>&nbsp;<span class="op" id="7771756">:=</span>&nbsp;<span class="ident" id="7771759"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771669">cmd</a></span><span class="op" id="7771762">.</span><span class="ident" id="7771763"><a href="/gostd/os/exec/exec.go.html#5590197">StderrPipe</a></span><span class="op" id="7771773">(</span><span class="op" id="7771774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771779">if</span>&nbsp;<span class="ident" id="7771782"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771752">err</a></span>&nbsp;<span class="op" id="7771786">!=</span>&nbsp;<span class="builtintype" id="7771789">nil</span>&nbsp;<span class="op" id="7771793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7771799">panic</span><span class="op" id="7771804">(</span><span class="ident" id="7771805"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771752">err</a></span><span class="op" id="7771808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7771813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7771818">qpres</span>&nbsp;<span class="op" id="7771824">:=</span>&nbsp;<span class="builtinfunc" id="7771827">make</span><span class="op" id="7771831">(</span><span class="keyword" id="7771832">chan</span>&nbsp;<span class="keyword" id="7771837">interface</span><span class="op" id="7771846">{</span><span class="op" id="7771847">}</span><span class="op" id="7771848">,</span>&nbsp;<span class="num" id="7771850">2</span><span class="op" id="7771851">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771856">go</span>&nbsp;<span class="keyword" id="7771859">func</span><span class="op" id="7771863">(</span><span class="op" id="7771864">)</span>&nbsp;<span class="op" id="7771866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7771872">br</span>&nbsp;<span class="op" id="7771875">:=</span>&nbsp;<span class="ident" id="7771878"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767291">bufio</a></span><span class="op" id="7771883">.</span><span class="ident" id="7771884"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7771893">(</span><span class="ident" id="7771894"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771744">stderr</a></span><span class="op" id="7771900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7771906">s</span><span class="op" id="7771907">,</span>&nbsp;<span class="ident" id="7771909">_</span>&nbsp;<span class="op" id="7771911">:=</span>&nbsp;<span class="ident" id="7771914"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771872">br</a></span><span class="op" id="7771916">.</span><span class="ident" id="7771917"><a href="/gostd/bufio/bufio.go.html#1365145">ReadString</a></span><span class="op" id="7771927">(</span><span class="string" id="7771928">&#39;\n&#39;</span><span class="op" id="7771932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771938">if</span>&nbsp;<span class="ident" id="7771941"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771906">s</a></span>&nbsp;<span class="op" id="7771943">!=</span>&nbsp;<span class="string" id="7771946">&#34;&#34;</span>&nbsp;<span class="op" id="7771949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7771956"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771818">qpres</a></span>&nbsp;<span class="op" id="7771962">&lt;-</span>&nbsp;<span class="ident" id="7771965"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767309">errors</a></span><span class="op" id="7771971">.</span><span class="ident" id="7771972"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="7771975">(</span><span class="ident" id="7771976"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771906">s</a></span><span class="op" id="7771977">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7771984">if</span>&nbsp;<span class="ident" id="7771987"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771669">cmd</a></span><span class="op" id="7771990">.</span><span class="ident" id="7771991"><a href="/gostd/os/exec/exec.go.html#5580212">Process</a></span>&nbsp;<span class="op" id="7771999">!=</span>&nbsp;<span class="builtintype" id="7772002">nil</span>&nbsp;<span class="op" id="7772006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7772014">//&nbsp;It&nbsp;can&nbsp;get&nbsp;stuck&nbsp;on&nbsp;invalid&nbsp;input,&nbsp;like:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7772064">//&nbsp;echo&nbsp;-n&nbsp;&#34;0000=&nbsp;&#34;&nbsp;|&nbsp;qprint&nbsp;-d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772102"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771669">cmd</a></span><span class="op" id="7772105">.</span><span class="ident" id="7772106"><a href="/gostd/os/exec/exec.go.html#5580212">Process</a></span><span class="op" id="7772113">.</span><span class="ident" id="7772114"><a href="/gostd/os/doc.go.html#2423746">Kill</a></span><span class="op" id="7772118">(</span><span class="op" id="7772119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772126">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772137">}</span><span class="op" id="7772138">(</span><span class="op" id="7772139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7772144">go</span>&nbsp;<span class="keyword" id="7772147">func</span><span class="op" id="7772151">(</span><span class="op" id="7772152">)</span>&nbsp;<span class="op" id="7772154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772160">want</span><span class="op" id="7772164">,</span>&nbsp;<span class="ident" id="7772166">err</span>&nbsp;<span class="op" id="7772170">:=</span>&nbsp;<span class="ident" id="7772173"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771669">cmd</a></span><span class="op" id="7772176">.</span><span class="ident" id="7772177"><a href="/gostd/os/exec/exec.go.html#5587246">Output</a></span><span class="op" id="7772183">(</span><span class="op" id="7772184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7772190">if</span>&nbsp;<span class="ident" id="7772193"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772166">err</a></span>&nbsp;<span class="op" id="7772197">==</span>&nbsp;<span class="builtintype" id="7772200">nil</span>&nbsp;<span class="op" id="7772204">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772211"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771818">qpres</a></span>&nbsp;<span class="op" id="7772217">&lt;-</span>&nbsp;<span class="ident" id="7772220"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772160">want</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772234">}</span><span class="op" id="7772235">(</span><span class="op" id="7772236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7772241">select</span>&nbsp;<span class="op" id="7772248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7772253">case</span>&nbsp;<span class="ident" id="7772258">got</span>&nbsp;<span class="op" id="7772262">:=</span>&nbsp;<span class="op" id="7772265">&lt;-</span><span class="ident" id="7772267"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7771818">qpres</a></span><span class="op" id="7772272">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7772278">if</span>&nbsp;<span class="ident" id="7772281">want</span><span class="op" id="7772285">,</span>&nbsp;<span class="ident" id="7772287">ok</span>&nbsp;<span class="op" id="7772290">:=</span>&nbsp;<span class="ident" id="7772293"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772258">got</a></span><span class="op" id="7772296">.</span><span class="op" id="7772297">(</span><span class="op" id="7772298">[</span><span class="op" id="7772299">]</span><span class="builtintype" id="7772300">byte</span><span class="op" id="7772304">)</span><span class="op" id="7772305">;</span>&nbsp;<span class="ident" id="7772307"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772287">ok</a></span>&nbsp;<span class="op" id="7772310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7772317">if</span>&nbsp;<span class="builtintype" id="7772320">string</span><span class="op" id="7772326">(</span><span class="ident" id="7772327"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772281">want</a></span><span class="op" id="7772331">)</span>&nbsp;<span class="op" id="7772333">!=</span>&nbsp;<span class="ident" id="7772336"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770487">buf</a></span><span class="op" id="7772339">.</span><span class="ident" id="7772340"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7772346">(</span><span class="op" id="7772347">)</span>&nbsp;<span class="op" id="7772349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772357"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770338">t</a></span><span class="op" id="7772358">.</span><span class="ident" id="7772359"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7772365">(</span><span class="string" id="7772366">&#34;go&nbsp;decode(%q)&nbsp;=&nbsp;%q;&nbsp;qprint&nbsp;=&nbsp;%q&#34;</span><span class="op" id="7772399">,</span>&nbsp;<span class="ident" id="7772401"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7772402">,</span>&nbsp;<span class="ident" id="7772404"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772281">want</a></span><span class="op" id="7772408">,</span>&nbsp;<span class="ident" id="7772410"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770487">buf</a></span><span class="op" id="7772413">.</span><span class="ident" id="7772414"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7772420">(</span><span class="op" id="7772421">)</span><span class="op" id="7772422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772435">}</span>&nbsp;<span class="keyword" id="7772437">else</span>&nbsp;<span class="op" id="7772442">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772449"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770338">t</a></span><span class="op" id="7772450">.</span><span class="ident" id="7772451"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="7772455">(</span><span class="string" id="7772456">&#34;qprint&nbsp;-d(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7772476">,</span>&nbsp;<span class="ident" id="7772478"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7772479">,</span>&nbsp;<span class="ident" id="7772481"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772258">got</a></span><span class="op" id="7772484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7772495">case</span>&nbsp;<span class="op" id="7772500">&lt;-</span><span class="ident" id="7772502"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767391">time</a></span><span class="op" id="7772506">.</span><span class="ident" id="7772507"><a href="/gostd/time/sleep.go.html#2716644">After</a></span><span class="op" id="7772512">(</span><span class="num" id="7772513">5</span>&nbsp;<span class="op" id="7772515">*</span>&nbsp;<span class="ident" id="7772517"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767391">time</a></span><span class="op" id="7772521">.</span><span class="ident" id="7772522"><a href="/gostd/time/time.go.html#2734862">Second</a></span><span class="op" id="7772528">)</span><span class="op" id="7772529">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772535"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770338">t</a></span><span class="op" id="7772536">.</span><span class="ident" id="7772537"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="7772541">(</span><span class="string" id="7772542">&#34;qprint&nbsp;timeout&nbsp;on&nbsp;%q&#34;</span><span class="op" id="7772564">,</span>&nbsp;<span class="ident" id="7772566"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770572">s</a></span><span class="op" id="7772567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772572">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772580"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770505">res</a></span><span class="op" id="7772583">[</span><span class="string" id="7772584">&#34;OK&#34;</span><span class="op" id="7772588">]</span><span class="op" id="7772589">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772593">}</span><span class="op" id="7772594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7772597">var</span>&nbsp;<span class="ident" id="7772601">outcomes</span>&nbsp;<span class="op" id="7772610">[</span><span class="op" id="7772611">]</span><span class="builtintype" id="7772612">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7772620">for</span>&nbsp;<span class="ident" id="7772624">k</span><span class="op" id="7772625">,</span>&nbsp;<span class="ident" id="7772627">v</span>&nbsp;<span class="op" id="7772629">:=</span>&nbsp;<span class="keyword" id="7772632">range</span>&nbsp;<span class="ident" id="7772638"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770505">res</a></span>&nbsp;<span class="op" id="7772642">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772646"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772601">outcomes</a></span>&nbsp;<span class="op" id="7772655">=</span>&nbsp;<span class="builtinfunc" id="7772657">append</span><span class="op" id="7772663">(</span><span class="ident" id="7772664"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772601">outcomes</a></span><span class="op" id="7772672">,</span>&nbsp;<span class="ident" id="7772674"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767327">fmt</a></span><span class="op" id="7772677">.</span><span class="ident" id="7772678"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="7772685">(</span><span class="string" id="7772686">&#34;%v:&nbsp;%d&#34;</span><span class="op" id="7772694">,</span>&nbsp;<span class="ident" id="7772696"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772624">k</a></span><span class="op" id="7772697">,</span>&nbsp;<span class="ident" id="7772699"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772627">v</a></span><span class="op" id="7772700">)</span><span class="op" id="7772701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7772704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772707"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767361">sort</a></span><span class="op" id="7772711">.</span><span class="ident" id="7772712"><a href="/gostd/sort/sort.go.html#2017831">Strings</a></span><span class="op" id="7772719">(</span><span class="ident" id="7772720"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772601">outcomes</a></span><span class="op" id="7772728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772731">got</span>&nbsp;<span class="op" id="7772735">:=</span>&nbsp;<span class="ident" id="7772738"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7767369">strings</a></span><span class="op" id="7772745">.</span><span class="ident" id="7772746"><a href="/gostd/strings/strings.go.html#2974969">Join</a></span><span class="op" id="7772750">(</span><span class="ident" id="7772751"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772601">outcomes</a></span><span class="op" id="7772759">,</span>&nbsp;<span class="string" id="7772761">&#34;\n&#34;</span><span class="op" id="7772765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7772768">want</span>&nbsp;<span class="op" id="7772773">:=</span>&nbsp;<span class="string" id="7772776">`OK:&nbsp;21576<br>
<span class="lineno">195</span>invalid&nbsp;bytes&nbsp;after&nbsp;=:&nbsp;3397<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x0a:&nbsp;1400<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x0d:&nbsp;2700<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x20:&nbsp;2490<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x3d:&nbsp;440<br>
<span class="lineno">200</span>unexpected&nbsp;EOF:&nbsp;3122`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7773061">if</span>&nbsp;<span class="ident" id="7773064"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772731">got</a></span>&nbsp;<span class="op" id="7773068">!=</span>&nbsp;<span class="ident" id="7773071"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772768">want</a></span>&nbsp;<span class="op" id="7773076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7773080"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7770338">t</a></span><span class="op" id="7773081">.</span><span class="ident" id="7773082"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7773088">(</span><span class="string" id="7773089">&#34;Got:\n%s\nWant:\n%s&#34;</span><span class="op" id="7773110">,</span>&nbsp;<span class="ident" id="7773112"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772731">got</a></span><span class="op" id="7773115">,</span>&nbsp;<span class="ident" id="7773117"><a href="/gostd/mime/multipart/quotedprintable_test.go.html#7772768">want</a></span><span class="op" id="7773121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7773124">}</span><br>
<span class="lineno"></span><span class="op" id="7773126">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
