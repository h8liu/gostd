<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/asm8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/asm8/bare_func.go.html">bare_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_file.go.html">build_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_func.go.html">build_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_lib.go.html">build_lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_var.go.html">build_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/builder.go.html">builder.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/check_type.go.html">check_type.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_hex.go.html">data_hex.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_nums.go.html">data_nums.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_str.go.html">data_str.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/file.go.html">file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_decl.go.html">func_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_stmt.go.html">func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst.go.html">inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_all.go.html">inst_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_br.go.html">inst_br.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_imm.go.html">inst_imm.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_jmp.go.html">inst_jmp.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_reg.go.html">inst_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_sys.go.html">inst_sys.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all.go.html">lex_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all_test.go.html">lex_all_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_comment.go.html">lex_comment.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_operand.go.html">lex_operand.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_string.go.html">lex_string.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lib.go.html">lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/package.go.html">package.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_arg.go.html">parse_arg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_file.go.html">parse_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func.go.html">parse_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_stmt.go.html">parse_func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_test.go.html">parse_func_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_inst.go.html">parse_inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_label.go.html">parse_label.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_reg.go.html">parse_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_sym.go.html">parse_sym.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var.go.html">parse_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var_stmt.go.html">parse_var_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parser.go.html">parser.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/single_file.go.html">single_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/stmt_lexer.go.html">stmt_lexer.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_scope.go.html">sym_scope.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_table.go.html">sym_table.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/symbol.go.html">symbol.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/token.go.html">token.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_decl.go.html">var_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_stmt.go.html">var_stmt.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="4887098">package</span>&nbsp;<span class="ident" id="4887106">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4887112">import</span>&nbsp;<span class="op" id="4887119">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4887122">&#34;io&#34;</span><br>
<span class="lineno">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4887129">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4887151">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4887154">//&nbsp;Parser&nbsp;parses&nbsp;a&nbsp;file&nbsp;input&nbsp;stream&nbsp;into&nbsp;top-level&nbsp;syntax&nbsp;blocks.</span><br>
<span class="lineno">10</span><span class="keyword" id="4887221">type</span>&nbsp;<span class="ident" id="4887226">parser</span>&nbsp;<span class="keyword" id="4887233">struct</span>&nbsp;<span class="op" id="4887240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887243">x</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4887248">*</span><span class="ident" id="4887249">stmtLexer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887260">errs</span>&nbsp;<span class="op" id="4887265">*</span><span class="ident" id="4887266">lex8</span><span class="op" id="4887270">.</span><span class="ident" id="4887271">ErrorList</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887283">t</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4887289">*</span><span class="ident" id="4887290">lex8</span><span class="op" id="4887294">.</span><span class="ident" id="4887295">Token</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887302">inErr</span>&nbsp;<span class="builtintype" id="4887308">bool</span><br>
<span class="lineno"></span><span class="op" id="4887313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4887316">func</span>&nbsp;<span class="ident" id="4887321">newParser</span><span class="op" id="4887330">(</span><span class="ident" id="4887331">file</span>&nbsp;<span class="builtintype" id="4887336">string</span><span class="op" id="4887342">,</span>&nbsp;<span class="ident" id="4887344">r</span>&nbsp;<span class="ident" id="4887346">io</span><span class="op" id="4887348">.</span><span class="ident" id="4887349">ReadCloser</span><span class="op" id="4887359">)</span>&nbsp;<span class="op" id="4887361">*</span><span class="ident" id="4887362">parser</span>&nbsp;<span class="op" id="4887369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887372">ret</span>&nbsp;<span class="op" id="4887376">:=</span>&nbsp;<span class="builtinfunc" id="4887379">new</span><span class="op" id="4887382">(</span><span class="ident" id="4887383">parser</span><span class="op" id="4887389">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887392">ret</span><span class="op" id="4887395">.</span><span class="ident" id="4887396">x</span>&nbsp;<span class="op" id="4887398">=</span>&nbsp;<span class="ident" id="4887400">newStmtLexer</span><span class="op" id="4887412">(</span><span class="ident" id="4887413">file</span><span class="op" id="4887417">,</span>&nbsp;<span class="ident" id="4887419">r</span><span class="op" id="4887420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887423">ret</span><span class="op" id="4887426">.</span><span class="ident" id="4887427">errs</span>&nbsp;<span class="op" id="4887432">=</span>&nbsp;<span class="ident" id="4887434">lex8</span><span class="op" id="4887438">.</span><span class="ident" id="4887439">NewErrList</span><span class="op" id="4887449">(</span><span class="op" id="4887450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887453">ret</span><span class="op" id="4887456">.</span><span class="ident" id="4887457">next</span><span class="op" id="4887461">(</span><span class="op" id="4887462">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4887466">return</span>&nbsp;<span class="ident" id="4887473">ret</span><br>
<span class="lineno">25</span><span class="op" id="4887477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4887480">func</span>&nbsp;<span class="op" id="4887485">(</span><span class="ident" id="4887486">p</span>&nbsp;<span class="op" id="4887488">*</span><span class="ident" id="4887489">parser</span><span class="op" id="4887495">)</span>&nbsp;<span class="ident" id="4887497">err</span><span class="op" id="4887500">(</span><span class="ident" id="4887501">pos</span>&nbsp;<span class="op" id="4887505">*</span><span class="ident" id="4887506">lex8</span><span class="op" id="4887510">.</span><span class="ident" id="4887511">Pos</span><span class="op" id="4887514">,</span>&nbsp;<span class="ident" id="4887516">f</span>&nbsp;<span class="builtintype" id="4887518">string</span><span class="op" id="4887524">,</span>&nbsp;<span class="ident" id="4887526">args</span>&nbsp;<span class="op" id="4887531">...</span><span class="keyword" id="4887534">interface</span><span class="op" id="4887543">{</span><span class="op" id="4887544">}</span><span class="op" id="4887545">)</span>&nbsp;<span class="op" id="4887547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887550">p</span><span class="op" id="4887551">.</span><span class="ident" id="4887552">inErr</span>&nbsp;<span class="op" id="4887558">=</span>&nbsp;<span class="builtintype" id="4887560">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887566">p</span><span class="op" id="4887567">.</span><span class="ident" id="4887568">errs</span><span class="op" id="4887572">.</span><span class="ident" id="4887573">Addf</span><span class="op" id="4887577">(</span><span class="ident" id="4887578">pos</span><span class="op" id="4887581">,</span>&nbsp;<span class="ident" id="4887583">f</span><span class="op" id="4887584">,</span>&nbsp;<span class="ident" id="4887586">args</span><span class="op" id="4887590">...</span><span class="op" id="4887593">)</span><br>
<span class="lineno">30</span><span class="op" id="4887595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4887598">func</span>&nbsp;<span class="op" id="4887603">(</span><span class="ident" id="4887604">p</span>&nbsp;<span class="op" id="4887606">*</span><span class="ident" id="4887607">parser</span><span class="op" id="4887613">)</span>&nbsp;<span class="ident" id="4887615">see</span><span class="op" id="4887618">(</span><span class="ident" id="4887619">t</span>&nbsp;<span class="builtintype" id="4887621">int</span><span class="op" id="4887624">)</span>&nbsp;<span class="builtintype" id="4887626">bool</span>&nbsp;<span class="op" id="4887631">{</span>&nbsp;<span class="keyword" id="4887633">return</span>&nbsp;<span class="ident" id="4887640">p</span><span class="op" id="4887641">.</span><span class="ident" id="4887642">t</span><span class="op" id="4887643">.</span><span class="ident" id="4887644">Type</span>&nbsp;<span class="op" id="4887649">==</span>&nbsp;<span class="ident" id="4887652">t</span>&nbsp;<span class="op" id="4887654">}</span><br>
<span class="lineno"></span><span class="keyword" id="4887656">func</span>&nbsp;<span class="op" id="4887661">(</span><span class="ident" id="4887662">p</span>&nbsp;<span class="op" id="4887664">*</span><span class="ident" id="4887665">parser</span><span class="op" id="4887671">)</span>&nbsp;<span class="ident" id="4887673">seeKeyword</span><span class="op" id="4887683">(</span><span class="ident" id="4887684">kw</span>&nbsp;<span class="builtintype" id="4887687">string</span><span class="op" id="4887693">)</span>&nbsp;<span class="builtintype" id="4887695">bool</span>&nbsp;<span class="op" id="4887700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4887703">return</span>&nbsp;<span class="ident" id="4887710">p</span><span class="op" id="4887711">.</span><span class="ident" id="4887712">see</span><span class="op" id="4887715">(</span><span class="ident" id="4887716">Keyword</span><span class="op" id="4887723">)</span>&nbsp;<span class="op" id="4887725">&amp;&amp;</span>&nbsp;<span class="ident" id="4887728">p</span><span class="op" id="4887729">.</span><span class="ident" id="4887730">t</span><span class="op" id="4887731">.</span><span class="ident" id="4887732">Lit</span>&nbsp;<span class="op" id="4887736">==</span>&nbsp;<span class="ident" id="4887739">kw</span><br>
<span class="lineno">35</span><span class="op" id="4887742">}</span><br>
<span class="lineno"></span><span class="keyword" id="4887744">func</span>&nbsp;<span class="op" id="4887749">(</span><span class="ident" id="4887750">p</span>&nbsp;<span class="op" id="4887752">*</span><span class="ident" id="4887753">parser</span><span class="op" id="4887759">)</span>&nbsp;<span class="ident" id="4887761">clearErr</span><span class="op" id="4887769">(</span><span class="op" id="4887770">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4887781">{</span>&nbsp;<span class="ident" id="4887783">p</span><span class="op" id="4887784">.</span><span class="ident" id="4887785">inErr</span>&nbsp;<span class="op" id="4887791">=</span>&nbsp;<span class="builtintype" id="4887793">false</span>&nbsp;<span class="op" id="4887799">}</span><br>
<span class="lineno"></span><span class="keyword" id="4887801">func</span>&nbsp;<span class="op" id="4887806">(</span><span class="ident" id="4887807">p</span>&nbsp;<span class="op" id="4887809">*</span><span class="ident" id="4887810">parser</span><span class="op" id="4887816">)</span>&nbsp;<span class="ident" id="4887818">hasErr</span><span class="op" id="4887824">(</span><span class="op" id="4887825">)</span>&nbsp;<span class="builtintype" id="4887827">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4887838">{</span>&nbsp;<span class="keyword" id="4887840">return</span>&nbsp;<span class="ident" id="4887847">p</span><span class="op" id="4887848">.</span><span class="ident" id="4887849">inErr</span>&nbsp;<span class="op" id="4887855">}</span><br>
<span class="lineno"></span><span class="keyword" id="4887857">func</span>&nbsp;<span class="op" id="4887862">(</span><span class="ident" id="4887863">p</span>&nbsp;<span class="op" id="4887865">*</span><span class="ident" id="4887866">parser</span><span class="op" id="4887872">)</span>&nbsp;<span class="ident" id="4887874">token</span><span class="op" id="4887879">(</span><span class="op" id="4887880">)</span>&nbsp;<span class="op" id="4887882">*</span><span class="ident" id="4887883">lex8</span><span class="op" id="4887887">.</span><span class="ident" id="4887888">Token</span>&nbsp;<span class="op" id="4887894">{</span>&nbsp;<span class="keyword" id="4887896">return</span>&nbsp;<span class="ident" id="4887903">p</span><span class="op" id="4887904">.</span><span class="ident" id="4887905">t</span>&nbsp;<span class="op" id="4887907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="4887910">func</span>&nbsp;<span class="op" id="4887915">(</span><span class="ident" id="4887916">p</span>&nbsp;<span class="op" id="4887918">*</span><span class="ident" id="4887919">parser</span><span class="op" id="4887925">)</span>&nbsp;<span class="ident" id="4887927">next</span><span class="op" id="4887931">(</span><span class="op" id="4887932">)</span>&nbsp;<span class="op" id="4887934">*</span><span class="ident" id="4887935">lex8</span><span class="op" id="4887939">.</span><span class="ident" id="4887940">Token</span>&nbsp;<span class="op" id="4887946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4887949">p</span><span class="op" id="4887950">.</span><span class="ident" id="4887951">t</span>&nbsp;<span class="op" id="4887953">=</span>&nbsp;<span class="ident" id="4887955">p</span><span class="op" id="4887956">.</span><span class="ident" id="4887957">x</span><span class="op" id="4887958">.</span><span class="ident" id="4887959">Token</span><span class="op" id="4887964">(</span><span class="op" id="4887965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4887968">return</span>&nbsp;<span class="ident" id="4887975">p</span><span class="op" id="4887976">.</span><span class="ident" id="4887977">t</span><br>
<span class="lineno"></span><span class="op" id="4887979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="4887982">func</span>&nbsp;<span class="ident" id="4887987">typeStr</span><span class="op" id="4887994">(</span><span class="ident" id="4887995">t</span>&nbsp;<span class="builtintype" id="4887997">int</span><span class="op" id="4888000">)</span>&nbsp;<span class="builtintype" id="4888002">string</span>&nbsp;<span class="op" id="4888009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888012">switch</span>&nbsp;<span class="ident" id="4888019">t</span>&nbsp;<span class="op" id="4888021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888024">case</span>&nbsp;<span class="ident" id="4888029">lex8</span><span class="op" id="4888033">.</span><span class="ident" id="4888034">EOF</span><span class="op" id="4888037">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888041">return</span>&nbsp;<span class="string" id="4888048">&#34;eof&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888055">case</span>&nbsp;<span class="ident" id="4888060">Comment</span><span class="op" id="4888067">:</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888071">return</span>&nbsp;<span class="string" id="4888078">&#34;comment&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888089">case</span>&nbsp;<span class="ident" id="4888094">Keyword</span><span class="op" id="4888101">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888105">return</span>&nbsp;<span class="string" id="4888112">&#34;keyword&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888123">case</span>&nbsp;<span class="ident" id="4888128">Operand</span><span class="op" id="4888135">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888139">return</span>&nbsp;<span class="string" id="4888146">&#34;operand&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888157">case</span>&nbsp;<span class="ident" id="4888162">String</span><span class="op" id="4888168">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888172">return</span>&nbsp;<span class="string" id="4888179">&#34;string&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888189">case</span>&nbsp;<span class="ident" id="4888194">Lbrace</span><span class="op" id="4888200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888204">return</span>&nbsp;<span class="string" id="4888211">&#34;&#39;{&#39;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888218">case</span>&nbsp;<span class="ident" id="4888223">Rbrace</span><span class="op" id="4888229">:</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888233">return</span>&nbsp;<span class="string" id="4888240">&#34;&#39;}&#39;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888247">case</span>&nbsp;<span class="ident" id="4888252">Semi</span><span class="op" id="4888256">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888260">return</span>&nbsp;<span class="string" id="4888267">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888272">case</span>&nbsp;<span class="ident" id="4888277">Endl</span><span class="op" id="4888281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888285">return</span>&nbsp;<span class="string" id="4888292">&#34;end-line&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888304">case</span>&nbsp;<span class="ident" id="4888309">lex8</span><span class="op" id="4888313">.</span><span class="ident" id="4888314">Illegal</span><span class="op" id="4888321">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888325">return</span>&nbsp;<span class="string" id="4888332">&#34;illegal&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4888343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888347">return</span>&nbsp;<span class="string" id="4888354">&#34;unknown&#34;</span><br>
<span class="lineno">70</span><span class="op" id="4888364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4888367">func</span>&nbsp;<span class="op" id="4888372">(</span><span class="ident" id="4888373">p</span>&nbsp;<span class="op" id="4888375">*</span><span class="ident" id="4888376">parser</span><span class="op" id="4888382">)</span>&nbsp;<span class="ident" id="4888384">expectKeyword</span><span class="op" id="4888397">(</span><span class="ident" id="4888398">lit</span>&nbsp;<span class="builtintype" id="4888402">string</span><span class="op" id="4888408">)</span>&nbsp;<span class="op" id="4888410">*</span><span class="ident" id="4888411">lex8</span><span class="op" id="4888415">.</span><span class="ident" id="4888416">Token</span>&nbsp;<span class="op" id="4888422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888425">if</span>&nbsp;<span class="ident" id="4888428">p</span><span class="op" id="4888429">.</span><span class="ident" id="4888430">inErr</span>&nbsp;<span class="op" id="4888436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888440">return</span>&nbsp;<span class="ident" id="4888447">nil</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4888452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888456">if</span>&nbsp;<span class="ident" id="4888459">p</span><span class="op" id="4888460">.</span><span class="ident" id="4888461">t</span><span class="op" id="4888462">.</span><span class="ident" id="4888463">Type</span>&nbsp;<span class="op" id="4888468">!=</span>&nbsp;<span class="ident" id="4888471">Keyword</span>&nbsp;<span class="op" id="4888479">||</span>&nbsp;<span class="ident" id="4888482">p</span><span class="op" id="4888483">.</span><span class="ident" id="4888484">t</span><span class="op" id="4888485">.</span><span class="ident" id="4888486">Lit</span>&nbsp;<span class="op" id="4888490">!=</span>&nbsp;<span class="ident" id="4888493">lit</span>&nbsp;<span class="op" id="4888497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4888501">p</span><span class="op" id="4888502">.</span><span class="ident" id="4888503">err</span><span class="op" id="4888506">(</span><span class="ident" id="4888507">p</span><span class="op" id="4888508">.</span><span class="ident" id="4888509">t</span><span class="op" id="4888510">.</span><span class="ident" id="4888511">Pos</span><span class="op" id="4888514">,</span>&nbsp;<span class="string" id="4888516">&#34;expect&nbsp;keyword&nbsp;%s,&nbsp;got&nbsp;%s&#34;</span><span class="op" id="4888543">,</span>&nbsp;<span class="ident" id="4888545">lit</span><span class="op" id="4888548">,</span>&nbsp;<span class="ident" id="4888550">typeStr</span><span class="op" id="4888557">(</span><span class="ident" id="4888558">p</span><span class="op" id="4888559">.</span><span class="ident" id="4888560">t</span><span class="op" id="4888561">.</span><span class="ident" id="4888562">Type</span><span class="op" id="4888566">)</span><span class="op" id="4888567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888571">return</span>&nbsp;<span class="ident" id="4888578">nil</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4888583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4888587">ret</span>&nbsp;<span class="op" id="4888591">:=</span>&nbsp;<span class="ident" id="4888594">p</span><span class="op" id="4888595">.</span><span class="ident" id="4888596">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4888599">p</span><span class="op" id="4888600">.</span><span class="ident" id="4888601">next</span><span class="op" id="4888605">(</span><span class="op" id="4888606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888609">return</span>&nbsp;<span class="ident" id="4888616">ret</span><br>
<span class="lineno">85</span><span class="op" id="4888620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4888623">func</span>&nbsp;<span class="op" id="4888628">(</span><span class="ident" id="4888629">p</span>&nbsp;<span class="op" id="4888631">*</span><span class="ident" id="4888632">parser</span><span class="op" id="4888638">)</span>&nbsp;<span class="ident" id="4888640">expect</span><span class="op" id="4888646">(</span><span class="ident" id="4888647">t</span>&nbsp;<span class="builtintype" id="4888649">int</span><span class="op" id="4888652">)</span>&nbsp;<span class="op" id="4888654">*</span><span class="ident" id="4888655">lex8</span><span class="op" id="4888659">.</span><span class="ident" id="4888660">Token</span>&nbsp;<span class="op" id="4888666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888669">if</span>&nbsp;<span class="ident" id="4888672">p</span><span class="op" id="4888673">.</span><span class="ident" id="4888674">inErr</span>&nbsp;<span class="op" id="4888680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888684">return</span>&nbsp;<span class="ident" id="4888691">nil</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4888696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888700">if</span>&nbsp;<span class="ident" id="4888703">p</span><span class="op" id="4888704">.</span><span class="ident" id="4888705">t</span><span class="op" id="4888706">.</span><span class="ident" id="4888707">Type</span>&nbsp;<span class="op" id="4888712">!=</span>&nbsp;<span class="ident" id="4888715">t</span>&nbsp;<span class="op" id="4888717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4888721">p</span><span class="op" id="4888722">.</span><span class="ident" id="4888723">err</span><span class="op" id="4888726">(</span><span class="ident" id="4888727">p</span><span class="op" id="4888728">.</span><span class="ident" id="4888729">t</span><span class="op" id="4888730">.</span><span class="ident" id="4888731">Pos</span><span class="op" id="4888734">,</span>&nbsp;<span class="string" id="4888736">&#34;expect&nbsp;%s,&nbsp;got&nbsp;%s&#34;</span><span class="op" id="4888755">,</span>&nbsp;<span class="ident" id="4888757">typeStr</span><span class="op" id="4888764">(</span><span class="ident" id="4888765">t</span><span class="op" id="4888766">)</span><span class="op" id="4888767">,</span>&nbsp;<span class="ident" id="4888769">typeStr</span><span class="op" id="4888776">(</span><span class="ident" id="4888777">p</span><span class="op" id="4888778">.</span><span class="ident" id="4888779">t</span><span class="op" id="4888780">.</span><span class="ident" id="4888781">Type</span><span class="op" id="4888785">)</span><span class="op" id="4888786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888790">return</span>&nbsp;<span class="ident" id="4888797">nil</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4888802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4888806">ret</span>&nbsp;<span class="op" id="4888810">:=</span>&nbsp;<span class="ident" id="4888813">p</span><span class="op" id="4888814">.</span><span class="ident" id="4888815">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4888818">p</span><span class="op" id="4888819">.</span><span class="ident" id="4888820">next</span><span class="op" id="4888824">(</span><span class="op" id="4888825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888828">return</span>&nbsp;<span class="ident" id="4888835">ret</span><br>
<span class="lineno">100</span><span class="op" id="4888839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4888842">func</span>&nbsp;<span class="op" id="4888847">(</span><span class="ident" id="4888848">p</span>&nbsp;<span class="op" id="4888850">*</span><span class="ident" id="4888851">parser</span><span class="op" id="4888857">)</span>&nbsp;<span class="ident" id="4888859">acceptType</span><span class="op" id="4888869">(</span><span class="ident" id="4888870">t</span>&nbsp;<span class="builtintype" id="4888872">int</span><span class="op" id="4888875">)</span>&nbsp;<span class="builtintype" id="4888877">bool</span>&nbsp;<span class="op" id="4888882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888885">if</span>&nbsp;<span class="ident" id="4888888">p</span><span class="op" id="4888889">.</span><span class="ident" id="4888890">t</span><span class="op" id="4888891">.</span><span class="ident" id="4888892">Type</span>&nbsp;<span class="op" id="4888897">!=</span>&nbsp;<span class="ident" id="4888900">t</span>&nbsp;<span class="op" id="4888902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888906">return</span>&nbsp;<span class="builtintype" id="4888913">false</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4888920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4888923">p</span><span class="op" id="4888924">.</span><span class="ident" id="4888925">next</span><span class="op" id="4888929">(</span><span class="op" id="4888930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888933">return</span>&nbsp;<span class="builtintype" id="4888940">true</span><br>
<span class="lineno"></span><span class="op" id="4888945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="4888948">func</span>&nbsp;<span class="op" id="4888953">(</span><span class="ident" id="4888954">p</span>&nbsp;<span class="op" id="4888956">*</span><span class="ident" id="4888957">parser</span><span class="op" id="4888963">)</span>&nbsp;<span class="ident" id="4888965">skipStmt</span><span class="op" id="4888973">(</span><span class="op" id="4888974">)</span>&nbsp;<span class="op" id="4888976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4888979">for</span>&nbsp;<span class="op" id="4888983">!</span><span class="op" id="4888984">(</span><span class="ident" id="4888985">p</span><span class="op" id="4888986">.</span><span class="ident" id="4888987">see</span><span class="op" id="4888990">(</span><span class="ident" id="4888991">Semi</span><span class="op" id="4888995">)</span>&nbsp;<span class="op" id="4888997">||</span>&nbsp;<span class="ident" id="4889000">p</span><span class="op" id="4889001">.</span><span class="ident" id="4889002">see</span><span class="op" id="4889005">(</span><span class="ident" id="4889006">lex8</span><span class="op" id="4889010">.</span><span class="ident" id="4889011">EOF</span><span class="op" id="4889014">)</span><span class="op" id="4889015">)</span>&nbsp;<span class="op" id="4889017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4889021">p</span><span class="op" id="4889022">.</span><span class="ident" id="4889023">next</span><span class="op" id="4889027">(</span><span class="op" id="4889028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4889031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4889035">if</span>&nbsp;<span class="ident" id="4889038">p</span><span class="op" id="4889039">.</span><span class="ident" id="4889040">see</span><span class="op" id="4889043">(</span><span class="ident" id="4889044">Semi</span><span class="op" id="4889048">)</span>&nbsp;<span class="op" id="4889050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4889054">p</span><span class="op" id="4889055">.</span><span class="ident" id="4889056">next</span><span class="op" id="4889060">(</span><span class="op" id="4889061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4889064">}</span><br>
<span class="lineno"></span><span class="op" id="4889066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="4889069">func</span>&nbsp;<span class="op" id="4889074">(</span><span class="ident" id="4889075">p</span>&nbsp;<span class="op" id="4889077">*</span><span class="ident" id="4889078">parser</span><span class="op" id="4889084">)</span>&nbsp;<span class="ident" id="4889086">skipErrStmt</span><span class="op" id="4889097">(</span><span class="op" id="4889098">)</span>&nbsp;<span class="builtintype" id="4889100">bool</span>&nbsp;<span class="op" id="4889105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4889108">if</span>&nbsp;<span class="op" id="4889111">!</span><span class="ident" id="4889112">p</span><span class="op" id="4889113">.</span><span class="ident" id="4889114">inErr</span>&nbsp;<span class="op" id="4889120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4889124">return</span>&nbsp;<span class="builtintype" id="4889131">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4889138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4889142">p</span><span class="op" id="4889143">.</span><span class="ident" id="4889144">skipStmt</span><span class="op" id="4889152">(</span><span class="op" id="4889153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4889156">p</span><span class="op" id="4889157">.</span><span class="ident" id="4889158">clearErr</span><span class="op" id="4889166">(</span><span class="op" id="4889167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4889170">return</span>&nbsp;<span class="builtintype" id="4889177">true</span><br>
<span class="lineno"></span><span class="op" id="4889182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4889185">//&nbsp;Errs&nbsp;returns&nbsp;the&nbsp;parsing&nbsp;errors</span><br>
<span class="lineno"></span><span class="keyword" id="4889220">func</span>&nbsp;<span class="op" id="4889225">(</span><span class="ident" id="4889226">p</span>&nbsp;<span class="op" id="4889228">*</span><span class="ident" id="4889229">parser</span><span class="op" id="4889235">)</span>&nbsp;<span class="ident" id="4889237">Errs</span><span class="op" id="4889241">(</span><span class="op" id="4889242">)</span>&nbsp;<span class="op" id="4889244">[</span><span class="op" id="4889245">]</span><span class="op" id="4889246">*</span><span class="ident" id="4889247">lex8</span><span class="op" id="4889251">.</span><span class="ident" id="4889252">Error</span>&nbsp;<span class="op" id="4889258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4889261">ret</span>&nbsp;<span class="op" id="4889265">:=</span>&nbsp;<span class="ident" id="4889268">p</span><span class="op" id="4889269">.</span><span class="ident" id="4889270">x</span><span class="op" id="4889271">.</span><span class="ident" id="4889272">Errs</span><span class="op" id="4889276">(</span><span class="op" id="4889277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4889280">if</span>&nbsp;<span class="ident" id="4889283">ret</span>&nbsp;<span class="op" id="4889287">!=</span>&nbsp;<span class="ident" id="4889290">nil</span>&nbsp;<span class="op" id="4889294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4889298">return</span>&nbsp;<span class="ident" id="4889305">ret</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4889310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4889313">return</span>&nbsp;<span class="ident" id="4889320">p</span><span class="op" id="4889321">.</span><span class="ident" id="4889322">errs</span><span class="op" id="4889326">.</span><span class="ident" id="4889327">Errs</span><br>
<span class="lineno"></span><span class="op" id="4889332">}</span>
</div>
</body>
</html>
