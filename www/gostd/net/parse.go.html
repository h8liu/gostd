<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html" class="current">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3332050">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3332105">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3332159">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3332210">//&nbsp;Simple&nbsp;file&nbsp;i/o&nbsp;and&nbsp;string&nbsp;manipulation,&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span><span class="comment" id="3332263">//&nbsp;depending&nbsp;on&nbsp;strconv&nbsp;and&nbsp;bufio&nbsp;and&nbsp;strings.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3332311">package</span>&nbsp;<span class="ident" id="3332319">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="3332324">import</span>&nbsp;<span class="op" id="3332331">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3332334">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3332340">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3332345">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3332348">type</span>&nbsp;<span class="ident" id="3332353">file</span>&nbsp;<span class="keyword" id="3332358">struct</span>&nbsp;<span class="op" id="3332365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332368">file</span>&nbsp;&nbsp;<span class="op" id="3332374">*</span><span class="ident" id="3332375">os</span><span class="op" id="3332377">.</span><span class="ident" id="3332378">File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332384">data</span>&nbsp;&nbsp;<span class="op" id="3332390">[</span><span class="op" id="3332391">]</span><span class="builtintype" id="3332392">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332398">atEOF</span>&nbsp;<span class="builtintype" id="3332404">bool</span><br>
<span class="lineno"></span><span class="op" id="3332409">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="3332412">func</span>&nbsp;<span class="op" id="3332417">(</span><span class="ident" id="3332418">f</span>&nbsp;<span class="op" id="3332420">*</span><span class="ident" id="3332421">file</span><span class="op" id="3332425">)</span>&nbsp;<span class="builtinfunc" id="3332427">close</span><span class="op" id="3332432">(</span><span class="op" id="3332433">)</span>&nbsp;<span class="op" id="3332435">{</span>&nbsp;<span class="ident" id="3332437">f</span><span class="op" id="3332438">.</span><span class="ident" id="3332439">file</span><span class="op" id="3332443">.</span><span class="ident" id="3332444">Close</span><span class="op" id="3332449">(</span><span class="op" id="3332450">)</span>&nbsp;<span class="op" id="3332452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3332455">func</span>&nbsp;<span class="op" id="3332460">(</span><span class="ident" id="3332461">f</span>&nbsp;<span class="op" id="3332463">*</span><span class="ident" id="3332464">file</span><span class="op" id="3332468">)</span>&nbsp;<span class="ident" id="3332470">getLineFromData</span><span class="op" id="3332485">(</span><span class="op" id="3332486">)</span>&nbsp;<span class="op" id="3332488">(</span><span class="ident" id="3332489">s</span>&nbsp;<span class="builtintype" id="3332491">string</span><span class="op" id="3332497">,</span>&nbsp;<span class="ident" id="3332499">ok</span>&nbsp;<span class="builtintype" id="3332502">bool</span><span class="op" id="3332506">)</span>&nbsp;<span class="op" id="3332508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332511">data</span>&nbsp;<span class="op" id="3332516">:=</span>&nbsp;<span class="ident" id="3332519">f</span><span class="op" id="3332520">.</span><span class="ident" id="3332521">data</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332527">i</span>&nbsp;<span class="op" id="3332529">:=</span>&nbsp;<span class="num" id="3332532">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332535">for</span>&nbsp;<span class="ident" id="3332539">i</span>&nbsp;<span class="op" id="3332541">=</span>&nbsp;<span class="num" id="3332543">0</span><span class="op" id="3332544">;</span>&nbsp;<span class="ident" id="3332546">i</span>&nbsp;<span class="op" id="3332548">&lt;</span>&nbsp;<span class="builtinfunc" id="3332550">len</span><span class="op" id="3332553">(</span><span class="ident" id="3332554">data</span><span class="op" id="3332558">)</span><span class="op" id="3332559">;</span>&nbsp;<span class="ident" id="3332561">i</span><span class="op" id="3332562">++</span>&nbsp;<span class="op" id="3332565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332569">if</span>&nbsp;<span class="ident" id="3332572">data</span><span class="op" id="3332576">[</span><span class="ident" id="3332577">i</span><span class="op" id="3332578">]</span>&nbsp;<span class="op" id="3332580">==</span>&nbsp;<span class="string" id="3332583">&#39;\n&#39;</span>&nbsp;<span class="op" id="3332588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332593">s</span>&nbsp;<span class="op" id="3332595">=</span>&nbsp;<span class="builtintype" id="3332597">string</span><span class="op" id="3332603">(</span><span class="ident" id="3332604">data</span><span class="op" id="3332608">[</span><span class="num" id="3332609">0</span><span class="op" id="3332610">:</span><span class="ident" id="3332611">i</span><span class="op" id="3332612">]</span><span class="op" id="3332613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332618">ok</span>&nbsp;<span class="op" id="3332621">=</span>&nbsp;<span class="builtintype" id="3332623">true</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3332631">//&nbsp;move&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332647">i</span><span class="op" id="3332648">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332654">n</span>&nbsp;<span class="op" id="3332656">:=</span>&nbsp;<span class="builtinfunc" id="3332659">len</span><span class="op" id="3332662">(</span><span class="ident" id="3332663">data</span><span class="op" id="3332667">)</span>&nbsp;<span class="op" id="3332669">-</span>&nbsp;<span class="ident" id="3332671">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3332676">copy</span><span class="op" id="3332680">(</span><span class="ident" id="3332681">data</span><span class="op" id="3332685">[</span><span class="num" id="3332686">0</span><span class="op" id="3332687">:</span><span class="op" id="3332688">]</span><span class="op" id="3332689">,</span>&nbsp;<span class="ident" id="3332691">data</span><span class="op" id="3332695">[</span><span class="ident" id="3332696">i</span><span class="op" id="3332697">:</span><span class="op" id="3332698">]</span><span class="op" id="3332699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332704">f</span><span class="op" id="3332705">.</span><span class="ident" id="3332706">data</span>&nbsp;<span class="op" id="3332711">=</span>&nbsp;<span class="ident" id="3332713">data</span><span class="op" id="3332717">[</span><span class="num" id="3332718">0</span><span class="op" id="3332719">:</span><span class="ident" id="3332720">n</span><span class="op" id="3332721">]</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332726">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3332735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3332738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332741">if</span>&nbsp;<span class="ident" id="3332744">f</span><span class="op" id="3332745">.</span><span class="ident" id="3332746">atEOF</span>&nbsp;<span class="op" id="3332752">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3332755">len</span><span class="op" id="3332758">(</span><span class="ident" id="3332759">f</span><span class="op" id="3332760">.</span><span class="ident" id="3332761">data</span><span class="op" id="3332765">)</span>&nbsp;<span class="op" id="3332767">&gt;</span>&nbsp;<span class="num" id="3332769">0</span>&nbsp;<span class="op" id="3332771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3332775">//&nbsp;EOF,&nbsp;return&nbsp;all&nbsp;we&nbsp;have</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332804">s</span>&nbsp;<span class="op" id="3332806">=</span>&nbsp;<span class="builtintype" id="3332808">string</span><span class="op" id="3332814">(</span><span class="ident" id="3332815">data</span><span class="op" id="3332819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332823">f</span><span class="op" id="3332824">.</span><span class="ident" id="3332825">data</span>&nbsp;<span class="op" id="3332830">=</span>&nbsp;<span class="ident" id="3332832">f</span><span class="op" id="3332833">.</span><span class="ident" id="3332834">data</span><span class="op" id="3332838">[</span><span class="num" id="3332839">0</span><span class="op" id="3332840">:</span><span class="num" id="3332841">0</span><span class="op" id="3332842">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332846">ok</span>&nbsp;<span class="op" id="3332849">=</span>&nbsp;<span class="builtintype" id="3332851">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3332857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332860">return</span><br>
<span class="lineno">45</span><span class="op" id="3332867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3332870">func</span>&nbsp;<span class="op" id="3332875">(</span><span class="ident" id="3332876">f</span>&nbsp;<span class="op" id="3332878">*</span><span class="ident" id="3332879">file</span><span class="op" id="3332883">)</span>&nbsp;<span class="ident" id="3332885">readLine</span><span class="op" id="3332893">(</span><span class="op" id="3332894">)</span>&nbsp;<span class="op" id="3332896">(</span><span class="ident" id="3332897">s</span>&nbsp;<span class="builtintype" id="3332899">string</span><span class="op" id="3332905">,</span>&nbsp;<span class="ident" id="3332907">ok</span>&nbsp;<span class="builtintype" id="3332910">bool</span><span class="op" id="3332914">)</span>&nbsp;<span class="op" id="3332916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332919">if</span>&nbsp;<span class="ident" id="3332922">s</span><span class="op" id="3332923">,</span>&nbsp;<span class="ident" id="3332925">ok</span>&nbsp;<span class="op" id="3332928">=</span>&nbsp;<span class="ident" id="3332930">f</span><span class="op" id="3332931">.</span><span class="ident" id="3332932">getLineFromData</span><span class="op" id="3332947">(</span><span class="op" id="3332948">)</span><span class="op" id="3332949">;</span>&nbsp;<span class="ident" id="3332951">ok</span>&nbsp;<span class="op" id="3332954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332958">return</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3332966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332969">if</span>&nbsp;<span class="builtinfunc" id="3332972">len</span><span class="op" id="3332975">(</span><span class="ident" id="3332976">f</span><span class="op" id="3332977">.</span><span class="ident" id="3332978">data</span><span class="op" id="3332982">)</span>&nbsp;<span class="op" id="3332984">&lt;</span>&nbsp;<span class="builtinfunc" id="3332986">cap</span><span class="op" id="3332989">(</span><span class="ident" id="3332990">f</span><span class="op" id="3332991">.</span><span class="ident" id="3332992">data</span><span class="op" id="3332996">)</span>&nbsp;<span class="op" id="3332998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333002">ln</span>&nbsp;<span class="op" id="3333005">:=</span>&nbsp;<span class="builtinfunc" id="3333008">len</span><span class="op" id="3333011">(</span><span class="ident" id="3333012">f</span><span class="op" id="3333013">.</span><span class="ident" id="3333014">data</span><span class="op" id="3333018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333022">n</span><span class="op" id="3333023">,</span>&nbsp;<span class="ident" id="3333025">err</span>&nbsp;<span class="op" id="3333029">:=</span>&nbsp;<span class="ident" id="3333032">io</span><span class="op" id="3333034">.</span><span class="ident" id="3333035">ReadFull</span><span class="op" id="3333043">(</span><span class="ident" id="3333044">f</span><span class="op" id="3333045">.</span><span class="ident" id="3333046">file</span><span class="op" id="3333050">,</span>&nbsp;<span class="ident" id="3333052">f</span><span class="op" id="3333053">.</span><span class="ident" id="3333054">data</span><span class="op" id="3333058">[</span><span class="ident" id="3333059">ln</span><span class="op" id="3333061">:</span><span class="builtinfunc" id="3333062">cap</span><span class="op" id="3333065">(</span><span class="ident" id="3333066">f</span><span class="op" id="3333067">.</span><span class="ident" id="3333068">data</span><span class="op" id="3333072">)</span><span class="op" id="3333073">]</span><span class="op" id="3333074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333078">if</span>&nbsp;<span class="ident" id="3333081">n</span>&nbsp;<span class="op" id="3333083">&gt;=</span>&nbsp;<span class="num" id="3333086">0</span>&nbsp;<span class="op" id="3333088">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333093">f</span><span class="op" id="3333094">.</span><span class="ident" id="3333095">data</span>&nbsp;<span class="op" id="3333100">=</span>&nbsp;<span class="ident" id="3333102">f</span><span class="op" id="3333103">.</span><span class="ident" id="3333104">data</span><span class="op" id="3333108">[</span><span class="num" id="3333109">0</span>&nbsp;<span class="op" id="3333111">:</span>&nbsp;<span class="ident" id="3333113">ln</span><span class="op" id="3333115">+</span><span class="ident" id="3333116">n</span><span class="op" id="3333117">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333125">if</span>&nbsp;<span class="ident" id="3333128">err</span>&nbsp;<span class="op" id="3333132">==</span>&nbsp;<span class="ident" id="3333135">io</span><span class="op" id="3333137">.</span><span class="ident" id="3333138">EOF</span>&nbsp;<span class="op" id="3333142">||</span>&nbsp;<span class="ident" id="3333145">err</span>&nbsp;<span class="op" id="3333149">==</span>&nbsp;<span class="ident" id="3333152">io</span><span class="op" id="3333154">.</span><span class="ident" id="3333155">ErrUnexpectedEOF</span>&nbsp;<span class="op" id="3333172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333177">f</span><span class="op" id="3333178">.</span><span class="ident" id="3333179">atEOF</span>&nbsp;<span class="op" id="3333185">=</span>&nbsp;<span class="builtintype" id="3333187">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333194">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333200">s</span><span class="op" id="3333201">,</span>&nbsp;<span class="ident" id="3333203">ok</span>&nbsp;<span class="op" id="3333206">=</span>&nbsp;<span class="ident" id="3333208">f</span><span class="op" id="3333209">.</span><span class="ident" id="3333210">getLineFromData</span><span class="op" id="3333225">(</span><span class="op" id="3333226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333229">return</span><br>
<span class="lineno"></span><span class="op" id="3333236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3333239">func</span>&nbsp;<span class="ident" id="3333244">open</span><span class="op" id="3333248">(</span><span class="ident" id="3333249">name</span>&nbsp;<span class="builtintype" id="3333254">string</span><span class="op" id="3333260">)</span>&nbsp;<span class="op" id="3333262">(</span><span class="op" id="3333263">*</span><span class="ident" id="3333264">file</span><span class="op" id="3333268">,</span>&nbsp;<span class="builtintype" id="3333270">error</span><span class="op" id="3333275">)</span>&nbsp;<span class="op" id="3333277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333280">fd</span><span class="op" id="3333282">,</span>&nbsp;<span class="ident" id="3333284">err</span>&nbsp;<span class="op" id="3333288">:=</span>&nbsp;<span class="ident" id="3333291">os</span><span class="op" id="3333293">.</span><span class="ident" id="3333294">Open</span><span class="op" id="3333298">(</span><span class="ident" id="3333299">name</span><span class="op" id="3333303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333306">if</span>&nbsp;<span class="ident" id="3333309">err</span>&nbsp;<span class="op" id="3333313">!=</span>&nbsp;<span class="builtintype" id="3333316">nil</span>&nbsp;<span class="op" id="3333320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333324">return</span>&nbsp;<span class="builtintype" id="3333331">nil</span><span class="op" id="3333334">,</span>&nbsp;<span class="ident" id="3333336">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333341">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333344">return</span>&nbsp;<span class="op" id="3333351">&amp;</span><span class="ident" id="3333352">file</span><span class="op" id="3333356">{</span><span class="ident" id="3333357">fd</span><span class="op" id="3333359">,</span>&nbsp;<span class="builtinfunc" id="3333361">make</span><span class="op" id="3333365">(</span><span class="op" id="3333366">[</span><span class="op" id="3333367">]</span><span class="builtintype" id="3333368">byte</span><span class="op" id="3333372">,</span>&nbsp;<span class="num" id="3333374">0</span><span class="op" id="3333375">,</span>&nbsp;<span class="ident" id="3333377">os</span><span class="op" id="3333379">.</span><span class="ident" id="3333380">Getpagesize</span><span class="op" id="3333391">(</span><span class="op" id="3333392">)</span><span class="op" id="3333393">)</span><span class="op" id="3333394">,</span>&nbsp;<span class="builtintype" id="3333396">false</span><span class="op" id="3333401">}</span><span class="op" id="3333402">,</span>&nbsp;<span class="builtintype" id="3333404">nil</span><br>
<span class="lineno"></span><span class="op" id="3333408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3333411">func</span>&nbsp;<span class="ident" id="3333416">byteIndex</span><span class="op" id="3333425">(</span><span class="ident" id="3333426">s</span>&nbsp;<span class="builtintype" id="3333428">string</span><span class="op" id="3333434">,</span>&nbsp;<span class="ident" id="3333436">c</span>&nbsp;<span class="builtintype" id="3333438">byte</span><span class="op" id="3333442">)</span>&nbsp;<span class="builtintype" id="3333444">int</span>&nbsp;<span class="op" id="3333448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333451">for</span>&nbsp;<span class="ident" id="3333455">i</span>&nbsp;<span class="op" id="3333457">:=</span>&nbsp;<span class="num" id="3333460">0</span><span class="op" id="3333461">;</span>&nbsp;<span class="ident" id="3333463">i</span>&nbsp;<span class="op" id="3333465">&lt;</span>&nbsp;<span class="builtinfunc" id="3333467">len</span><span class="op" id="3333470">(</span><span class="ident" id="3333471">s</span><span class="op" id="3333472">)</span><span class="op" id="3333473">;</span>&nbsp;<span class="ident" id="3333475">i</span><span class="op" id="3333476">++</span>&nbsp;<span class="op" id="3333479">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333483">if</span>&nbsp;<span class="ident" id="3333486">s</span><span class="op" id="3333487">[</span><span class="ident" id="3333488">i</span><span class="op" id="3333489">]</span>&nbsp;<span class="op" id="3333491">==</span>&nbsp;<span class="ident" id="3333494">c</span>&nbsp;<span class="op" id="3333496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333501">return</span>&nbsp;<span class="ident" id="3333508">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333518">return</span>&nbsp;<span class="op" id="3333525">-</span><span class="num" id="3333526">1</span><br>
<span class="lineno">80</span><span class="op" id="3333528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3333531">//&nbsp;Count&nbsp;occurrences&nbsp;in&nbsp;s&nbsp;of&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3333576">func</span>&nbsp;<span class="ident" id="3333581">countAnyByte</span><span class="op" id="3333593">(</span><span class="ident" id="3333594">s</span>&nbsp;<span class="builtintype" id="3333596">string</span><span class="op" id="3333602">,</span>&nbsp;<span class="ident" id="3333604">t</span>&nbsp;<span class="builtintype" id="3333606">string</span><span class="op" id="3333612">)</span>&nbsp;<span class="builtintype" id="3333614">int</span>&nbsp;<span class="op" id="3333618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333621">n</span>&nbsp;<span class="op" id="3333623">:=</span>&nbsp;<span class="num" id="3333626">0</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333629">for</span>&nbsp;<span class="ident" id="3333633">i</span>&nbsp;<span class="op" id="3333635">:=</span>&nbsp;<span class="num" id="3333638">0</span><span class="op" id="3333639">;</span>&nbsp;<span class="ident" id="3333641">i</span>&nbsp;<span class="op" id="3333643">&lt;</span>&nbsp;<span class="builtinfunc" id="3333645">len</span><span class="op" id="3333648">(</span><span class="ident" id="3333649">s</span><span class="op" id="3333650">)</span><span class="op" id="3333651">;</span>&nbsp;<span class="ident" id="3333653">i</span><span class="op" id="3333654">++</span>&nbsp;<span class="op" id="3333657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333661">if</span>&nbsp;<span class="ident" id="3333664">byteIndex</span><span class="op" id="3333673">(</span><span class="ident" id="3333674">t</span><span class="op" id="3333675">,</span>&nbsp;<span class="ident" id="3333677">s</span><span class="op" id="3333678">[</span><span class="ident" id="3333679">i</span><span class="op" id="3333680">]</span><span class="op" id="3333681">)</span>&nbsp;<span class="op" id="3333683">&gt;=</span>&nbsp;<span class="num" id="3333686">0</span>&nbsp;<span class="op" id="3333688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333693">n</span><span class="op" id="3333694">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333702">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333705">return</span>&nbsp;<span class="ident" id="3333712">n</span><br>
<span class="lineno"></span><span class="op" id="3333714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3333717">//&nbsp;Split&nbsp;s&nbsp;at&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3333747">func</span>&nbsp;<span class="ident" id="3333752">splitAtBytes</span><span class="op" id="3333764">(</span><span class="ident" id="3333765">s</span>&nbsp;<span class="builtintype" id="3333767">string</span><span class="op" id="3333773">,</span>&nbsp;<span class="ident" id="3333775">t</span>&nbsp;<span class="builtintype" id="3333777">string</span><span class="op" id="3333783">)</span>&nbsp;<span class="op" id="3333785">[</span><span class="op" id="3333786">]</span><span class="builtintype" id="3333787">string</span>&nbsp;<span class="op" id="3333794">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333797">a</span>&nbsp;<span class="op" id="3333799">:=</span>&nbsp;<span class="builtinfunc" id="3333802">make</span><span class="op" id="3333806">(</span><span class="op" id="3333807">[</span><span class="op" id="3333808">]</span><span class="builtintype" id="3333809">string</span><span class="op" id="3333815">,</span>&nbsp;<span class="num" id="3333817">1</span><span class="op" id="3333818">+</span><span class="ident" id="3333819">countAnyByte</span><span class="op" id="3333831">(</span><span class="ident" id="3333832">s</span><span class="op" id="3333833">,</span>&nbsp;<span class="ident" id="3333835">t</span><span class="op" id="3333836">)</span><span class="op" id="3333837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333840">n</span>&nbsp;<span class="op" id="3333842">:=</span>&nbsp;<span class="num" id="3333845">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333848">last</span>&nbsp;<span class="op" id="3333853">:=</span>&nbsp;<span class="num" id="3333856">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333859">for</span>&nbsp;<span class="ident" id="3333863">i</span>&nbsp;<span class="op" id="3333865">:=</span>&nbsp;<span class="num" id="3333868">0</span><span class="op" id="3333869">;</span>&nbsp;<span class="ident" id="3333871">i</span>&nbsp;<span class="op" id="3333873">&lt;</span>&nbsp;<span class="builtinfunc" id="3333875">len</span><span class="op" id="3333878">(</span><span class="ident" id="3333879">s</span><span class="op" id="3333880">)</span><span class="op" id="3333881">;</span>&nbsp;<span class="ident" id="3333883">i</span><span class="op" id="3333884">++</span>&nbsp;<span class="op" id="3333887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333891">if</span>&nbsp;<span class="ident" id="3333894">byteIndex</span><span class="op" id="3333903">(</span><span class="ident" id="3333904">t</span><span class="op" id="3333905">,</span>&nbsp;<span class="ident" id="3333907">s</span><span class="op" id="3333908">[</span><span class="ident" id="3333909">i</span><span class="op" id="3333910">]</span><span class="op" id="3333911">)</span>&nbsp;<span class="op" id="3333913">&gt;=</span>&nbsp;<span class="num" id="3333916">0</span>&nbsp;<span class="op" id="3333918">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333923">if</span>&nbsp;<span class="ident" id="3333926">last</span>&nbsp;<span class="op" id="3333931">&lt;</span>&nbsp;<span class="ident" id="3333933">i</span>&nbsp;<span class="op" id="3333935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333941">a</span><span class="op" id="3333942">[</span><span class="ident" id="3333943">n</span><span class="op" id="3333944">]</span>&nbsp;<span class="op" id="3333946">=</span>&nbsp;<span class="builtintype" id="3333948">string</span><span class="op" id="3333954">(</span><span class="ident" id="3333955">s</span><span class="op" id="3333956">[</span><span class="ident" id="3333957">last</span><span class="op" id="3333961">:</span><span class="ident" id="3333962">i</span><span class="op" id="3333963">]</span><span class="op" id="3333964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333970">n</span><span class="op" id="3333971">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333982">last</span>&nbsp;<span class="op" id="3333987">=</span>&nbsp;<span class="ident" id="3333989">i</span>&nbsp;<span class="op" id="3333991">+</span>&nbsp;<span class="num" id="3333993">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3334000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334003">if</span>&nbsp;<span class="ident" id="3334006">last</span>&nbsp;<span class="op" id="3334011">&lt;</span>&nbsp;<span class="builtinfunc" id="3334013">len</span><span class="op" id="3334016">(</span><span class="ident" id="3334017">s</span><span class="op" id="3334018">)</span>&nbsp;<span class="op" id="3334020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334024">a</span><span class="op" id="3334025">[</span><span class="ident" id="3334026">n</span><span class="op" id="3334027">]</span>&nbsp;<span class="op" id="3334029">=</span>&nbsp;<span class="builtintype" id="3334031">string</span><span class="op" id="3334037">(</span><span class="ident" id="3334038">s</span><span class="op" id="3334039">[</span><span class="ident" id="3334040">last</span><span class="op" id="3334044">:</span><span class="op" id="3334045">]</span><span class="op" id="3334046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334050">n</span><span class="op" id="3334051">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3334055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334058">return</span>&nbsp;<span class="ident" id="3334065">a</span><span class="op" id="3334066">[</span><span class="num" id="3334067">0</span><span class="op" id="3334068">:</span><span class="ident" id="3334069">n</span><span class="op" id="3334070">]</span><br>
<span class="lineno"></span><span class="op" id="3334072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3334075">func</span>&nbsp;<span class="ident" id="3334080">getFields</span><span class="op" id="3334089">(</span><span class="ident" id="3334090">s</span>&nbsp;<span class="builtintype" id="3334092">string</span><span class="op" id="3334098">)</span>&nbsp;<span class="op" id="3334100">[</span><span class="op" id="3334101">]</span><span class="builtintype" id="3334102">string</span>&nbsp;<span class="op" id="3334109">{</span>&nbsp;<span class="keyword" id="3334111">return</span>&nbsp;<span class="ident" id="3334118">splitAtBytes</span><span class="op" id="3334130">(</span><span class="ident" id="3334131">s</span><span class="op" id="3334132">,</span>&nbsp;<span class="string" id="3334134">&#34;&nbsp;\r\t\n&#34;</span><span class="op" id="3334143">)</span>&nbsp;<span class="op" id="3334145">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="3334148">//&nbsp;Bigger&nbsp;than&nbsp;we&nbsp;need,&nbsp;not&nbsp;too&nbsp;big&nbsp;to&nbsp;worry&nbsp;about&nbsp;overflow</span><br>
<span class="lineno"></span><span class="keyword" id="3334208">const</span>&nbsp;<span class="ident" id="3334214">big</span>&nbsp;<span class="op" id="3334218">=</span>&nbsp;<span class="num" id="3334220">0xFFFFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3334230">//&nbsp;Decimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno">120</span><span class="comment" id="3334272">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3334312">func</span>&nbsp;<span class="ident" id="3334317">dtoi</span><span class="op" id="3334321">(</span><span class="ident" id="3334322">s</span>&nbsp;<span class="builtintype" id="3334324">string</span><span class="op" id="3334330">,</span>&nbsp;<span class="ident" id="3334332">i0</span>&nbsp;<span class="builtintype" id="3334335">int</span><span class="op" id="3334338">)</span>&nbsp;<span class="op" id="3334340">(</span><span class="ident" id="3334341">n</span>&nbsp;<span class="builtintype" id="3334343">int</span><span class="op" id="3334346">,</span>&nbsp;<span class="ident" id="3334348">i</span>&nbsp;<span class="builtintype" id="3334350">int</span><span class="op" id="3334353">,</span>&nbsp;<span class="ident" id="3334355">ok</span>&nbsp;<span class="builtintype" id="3334358">bool</span><span class="op" id="3334362">)</span>&nbsp;<span class="op" id="3334364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334367">n</span>&nbsp;<span class="op" id="3334369">=</span>&nbsp;<span class="num" id="3334371">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334374">for</span>&nbsp;<span class="ident" id="3334378">i</span>&nbsp;<span class="op" id="3334380">=</span>&nbsp;<span class="ident" id="3334382">i0</span><span class="op" id="3334384">;</span>&nbsp;<span class="ident" id="3334386">i</span>&nbsp;<span class="op" id="3334388">&lt;</span>&nbsp;<span class="builtinfunc" id="3334390">len</span><span class="op" id="3334393">(</span><span class="ident" id="3334394">s</span><span class="op" id="3334395">)</span>&nbsp;<span class="op" id="3334397">&amp;&amp;</span>&nbsp;<span class="string" id="3334400">&#39;0&#39;</span>&nbsp;<span class="op" id="3334404">&lt;=</span>&nbsp;<span class="ident" id="3334407">s</span><span class="op" id="3334408">[</span><span class="ident" id="3334409">i</span><span class="op" id="3334410">]</span>&nbsp;<span class="op" id="3334412">&amp;&amp;</span>&nbsp;<span class="ident" id="3334415">s</span><span class="op" id="3334416">[</span><span class="ident" id="3334417">i</span><span class="op" id="3334418">]</span>&nbsp;<span class="op" id="3334420">&lt;=</span>&nbsp;<span class="string" id="3334423">&#39;9&#39;</span><span class="op" id="3334426">;</span>&nbsp;<span class="ident" id="3334428">i</span><span class="op" id="3334429">++</span>&nbsp;<span class="op" id="3334432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334436">n</span>&nbsp;<span class="op" id="3334438">=</span>&nbsp;<span class="ident" id="3334440">n</span><span class="op" id="3334441">*</span><span class="num" id="3334442">10</span>&nbsp;<span class="op" id="3334445">+</span>&nbsp;<span class="builtintype" id="3334447">int</span><span class="op" id="3334450">(</span><span class="ident" id="3334451">s</span><span class="op" id="3334452">[</span><span class="ident" id="3334453">i</span><span class="op" id="3334454">]</span><span class="op" id="3334455">-</span><span class="string" id="3334456">&#39;0&#39;</span><span class="op" id="3334459">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334463">if</span>&nbsp;<span class="ident" id="3334466">n</span>&nbsp;<span class="op" id="3334468">&gt;=</span>&nbsp;<span class="ident" id="3334471">big</span>&nbsp;<span class="op" id="3334475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334480">return</span>&nbsp;<span class="num" id="3334487">0</span><span class="op" id="3334488">,</span>&nbsp;<span class="ident" id="3334490">i</span><span class="op" id="3334491">,</span>&nbsp;<span class="builtintype" id="3334493">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3334501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3334504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334507">if</span>&nbsp;<span class="ident" id="3334510">i</span>&nbsp;<span class="op" id="3334512">==</span>&nbsp;<span class="ident" id="3334515">i0</span>&nbsp;<span class="op" id="3334518">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334522">return</span>&nbsp;<span class="num" id="3334529">0</span><span class="op" id="3334530">,</span>&nbsp;<span class="ident" id="3334532">i</span><span class="op" id="3334533">,</span>&nbsp;<span class="builtintype" id="3334535">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3334542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334545">return</span>&nbsp;<span class="ident" id="3334552">n</span><span class="op" id="3334553">,</span>&nbsp;<span class="ident" id="3334555">i</span><span class="op" id="3334556">,</span>&nbsp;<span class="builtintype" id="3334558">true</span><br>
<span class="lineno"></span><span class="op" id="3334563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="3334566">//&nbsp;Hexadecimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno"></span><span class="comment" id="3334612">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3334652">func</span>&nbsp;<span class="ident" id="3334657">xtoi</span><span class="op" id="3334661">(</span><span class="ident" id="3334662">s</span>&nbsp;<span class="builtintype" id="3334664">string</span><span class="op" id="3334670">,</span>&nbsp;<span class="ident" id="3334672">i0</span>&nbsp;<span class="builtintype" id="3334675">int</span><span class="op" id="3334678">)</span>&nbsp;<span class="op" id="3334680">(</span><span class="ident" id="3334681">n</span>&nbsp;<span class="builtintype" id="3334683">int</span><span class="op" id="3334686">,</span>&nbsp;<span class="ident" id="3334688">i</span>&nbsp;<span class="builtintype" id="3334690">int</span><span class="op" id="3334693">,</span>&nbsp;<span class="ident" id="3334695">ok</span>&nbsp;<span class="builtintype" id="3334698">bool</span><span class="op" id="3334702">)</span>&nbsp;<span class="op" id="3334704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334707">n</span>&nbsp;<span class="op" id="3334709">=</span>&nbsp;<span class="num" id="3334711">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334714">for</span>&nbsp;<span class="ident" id="3334718">i</span>&nbsp;<span class="op" id="3334720">=</span>&nbsp;<span class="ident" id="3334722">i0</span><span class="op" id="3334724">;</span>&nbsp;<span class="ident" id="3334726">i</span>&nbsp;<span class="op" id="3334728">&lt;</span>&nbsp;<span class="builtinfunc" id="3334730">len</span><span class="op" id="3334733">(</span><span class="ident" id="3334734">s</span><span class="op" id="3334735">)</span><span class="op" id="3334736">;</span>&nbsp;<span class="ident" id="3334738">i</span><span class="op" id="3334739">++</span>&nbsp;<span class="op" id="3334742">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334746">if</span>&nbsp;<span class="string" id="3334749">&#39;0&#39;</span>&nbsp;<span class="op" id="3334753">&lt;=</span>&nbsp;<span class="ident" id="3334756">s</span><span class="op" id="3334757">[</span><span class="ident" id="3334758">i</span><span class="op" id="3334759">]</span>&nbsp;<span class="op" id="3334761">&amp;&amp;</span>&nbsp;<span class="ident" id="3334764">s</span><span class="op" id="3334765">[</span><span class="ident" id="3334766">i</span><span class="op" id="3334767">]</span>&nbsp;<span class="op" id="3334769">&lt;=</span>&nbsp;<span class="string" id="3334772">&#39;9&#39;</span>&nbsp;<span class="op" id="3334776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334781">n</span>&nbsp;<span class="op" id="3334783">*=</span>&nbsp;<span class="num" id="3334786">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334792">n</span>&nbsp;<span class="op" id="3334794">+=</span>&nbsp;<span class="builtintype" id="3334797">int</span><span class="op" id="3334800">(</span><span class="ident" id="3334801">s</span><span class="op" id="3334802">[</span><span class="ident" id="3334803">i</span><span class="op" id="3334804">]</span>&nbsp;<span class="op" id="3334806">-</span>&nbsp;<span class="string" id="3334808">&#39;0&#39;</span><span class="op" id="3334811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3334815">}</span>&nbsp;<span class="keyword" id="3334817">else</span>&nbsp;<span class="keyword" id="3334822">if</span>&nbsp;<span class="string" id="3334825">&#39;a&#39;</span>&nbsp;<span class="op" id="3334829">&lt;=</span>&nbsp;<span class="ident" id="3334832">s</span><span class="op" id="3334833">[</span><span class="ident" id="3334834">i</span><span class="op" id="3334835">]</span>&nbsp;<span class="op" id="3334837">&amp;&amp;</span>&nbsp;<span class="ident" id="3334840">s</span><span class="op" id="3334841">[</span><span class="ident" id="3334842">i</span><span class="op" id="3334843">]</span>&nbsp;<span class="op" id="3334845">&lt;=</span>&nbsp;<span class="string" id="3334848">&#39;f&#39;</span>&nbsp;<span class="op" id="3334852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334857">n</span>&nbsp;<span class="op" id="3334859">*=</span>&nbsp;<span class="num" id="3334862">16</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334868">n</span>&nbsp;<span class="op" id="3334870">+=</span>&nbsp;<span class="builtintype" id="3334873">int</span><span class="op" id="3334876">(</span><span class="ident" id="3334877">s</span><span class="op" id="3334878">[</span><span class="ident" id="3334879">i</span><span class="op" id="3334880">]</span><span class="op" id="3334881">-</span><span class="string" id="3334882">&#39;a&#39;</span><span class="op" id="3334885">)</span>&nbsp;<span class="op" id="3334887">+</span>&nbsp;<span class="num" id="3334889">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3334894">}</span>&nbsp;<span class="keyword" id="3334896">else</span>&nbsp;<span class="keyword" id="3334901">if</span>&nbsp;<span class="string" id="3334904">&#39;A&#39;</span>&nbsp;<span class="op" id="3334908">&lt;=</span>&nbsp;<span class="ident" id="3334911">s</span><span class="op" id="3334912">[</span><span class="ident" id="3334913">i</span><span class="op" id="3334914">]</span>&nbsp;<span class="op" id="3334916">&amp;&amp;</span>&nbsp;<span class="ident" id="3334919">s</span><span class="op" id="3334920">[</span><span class="ident" id="3334921">i</span><span class="op" id="3334922">]</span>&nbsp;<span class="op" id="3334924">&lt;=</span>&nbsp;<span class="string" id="3334927">&#39;F&#39;</span>&nbsp;<span class="op" id="3334931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334936">n</span>&nbsp;<span class="op" id="3334938">*=</span>&nbsp;<span class="num" id="3334941">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334947">n</span>&nbsp;<span class="op" id="3334949">+=</span>&nbsp;<span class="builtintype" id="3334952">int</span><span class="op" id="3334955">(</span><span class="ident" id="3334956">s</span><span class="op" id="3334957">[</span><span class="ident" id="3334958">i</span><span class="op" id="3334959">]</span><span class="op" id="3334960">-</span><span class="string" id="3334961">&#39;A&#39;</span><span class="op" id="3334964">)</span>&nbsp;<span class="op" id="3334966">+</span>&nbsp;<span class="num" id="3334968">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3334973">}</span>&nbsp;<span class="keyword" id="3334975">else</span>&nbsp;<span class="op" id="3334980">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334985">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3334993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3334997">if</span>&nbsp;<span class="ident" id="3335000">n</span>&nbsp;<span class="op" id="3335002">&gt;=</span>&nbsp;<span class="ident" id="3335005">big</span>&nbsp;<span class="op" id="3335009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335014">return</span>&nbsp;<span class="num" id="3335021">0</span><span class="op" id="3335022">,</span>&nbsp;<span class="ident" id="3335024">i</span><span class="op" id="3335025">,</span>&nbsp;<span class="builtintype" id="3335027">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3335035">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3335038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335041">if</span>&nbsp;<span class="ident" id="3335044">i</span>&nbsp;<span class="op" id="3335046">==</span>&nbsp;<span class="ident" id="3335049">i0</span>&nbsp;<span class="op" id="3335052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335056">return</span>&nbsp;<span class="num" id="3335063">0</span><span class="op" id="3335064">,</span>&nbsp;<span class="ident" id="3335066">i</span><span class="op" id="3335067">,</span>&nbsp;<span class="builtintype" id="3335069">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3335076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335079">return</span>&nbsp;<span class="ident" id="3335086">n</span><span class="op" id="3335087">,</span>&nbsp;<span class="ident" id="3335089">i</span><span class="op" id="3335090">,</span>&nbsp;<span class="builtintype" id="3335092">true</span><br>
<span class="lineno">160</span><span class="op" id="3335097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3335100">//&nbsp;xtoi2&nbsp;converts&nbsp;the&nbsp;next&nbsp;two&nbsp;hex&nbsp;digits&nbsp;of&nbsp;s&nbsp;into&nbsp;a&nbsp;byte.</span><br>
<span class="lineno"></span><span class="comment" id="3335160">//&nbsp;If&nbsp;s&nbsp;is&nbsp;longer&nbsp;than&nbsp;2&nbsp;bytes&nbsp;then&nbsp;the&nbsp;third&nbsp;byte&nbsp;must&nbsp;be&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="3335222">//&nbsp;If&nbsp;the&nbsp;first&nbsp;two&nbsp;bytes&nbsp;of&nbsp;s&nbsp;are&nbsp;not&nbsp;hex&nbsp;digits&nbsp;or&nbsp;the&nbsp;third&nbsp;byte</span><br>
<span class="lineno">165</span><span class="comment" id="3335290">//&nbsp;does&nbsp;not&nbsp;match&nbsp;e,&nbsp;false&nbsp;is&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="3335330">func</span>&nbsp;<span class="ident" id="3335335">xtoi2</span><span class="op" id="3335340">(</span><span class="ident" id="3335341">s</span>&nbsp;<span class="builtintype" id="3335343">string</span><span class="op" id="3335349">,</span>&nbsp;<span class="ident" id="3335351">e</span>&nbsp;<span class="builtintype" id="3335353">byte</span><span class="op" id="3335357">)</span>&nbsp;<span class="op" id="3335359">(</span><span class="builtintype" id="3335360">byte</span><span class="op" id="3335364">,</span>&nbsp;<span class="builtintype" id="3335366">bool</span><span class="op" id="3335370">)</span>&nbsp;<span class="op" id="3335372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335375">if</span>&nbsp;<span class="builtinfunc" id="3335378">len</span><span class="op" id="3335381">(</span><span class="ident" id="3335382">s</span><span class="op" id="3335383">)</span>&nbsp;<span class="op" id="3335385">&gt;</span>&nbsp;<span class="num" id="3335387">2</span>&nbsp;<span class="op" id="3335389">&amp;&amp;</span>&nbsp;<span class="ident" id="3335392">s</span><span class="op" id="3335393">[</span><span class="num" id="3335394">2</span><span class="op" id="3335395">]</span>&nbsp;<span class="op" id="3335397">!=</span>&nbsp;<span class="ident" id="3335400">e</span>&nbsp;<span class="op" id="3335402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335406">return</span>&nbsp;<span class="num" id="3335413">0</span><span class="op" id="3335414">,</span>&nbsp;<span class="builtintype" id="3335416">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3335423">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335426">n</span><span class="op" id="3335427">,</span>&nbsp;<span class="ident" id="3335429">ei</span><span class="op" id="3335431">,</span>&nbsp;<span class="ident" id="3335433">ok</span>&nbsp;<span class="op" id="3335436">:=</span>&nbsp;<span class="ident" id="3335439">xtoi</span><span class="op" id="3335443">(</span><span class="ident" id="3335444">s</span><span class="op" id="3335445">[</span><span class="op" id="3335446">:</span><span class="num" id="3335447">2</span><span class="op" id="3335448">]</span><span class="op" id="3335449">,</span>&nbsp;<span class="num" id="3335451">0</span><span class="op" id="3335452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335455">return</span>&nbsp;<span class="builtintype" id="3335462">byte</span><span class="op" id="3335466">(</span><span class="ident" id="3335467">n</span><span class="op" id="3335468">)</span><span class="op" id="3335469">,</span>&nbsp;<span class="ident" id="3335471">ok</span>&nbsp;<span class="op" id="3335474">&amp;&amp;</span>&nbsp;<span class="ident" id="3335477">ei</span>&nbsp;<span class="op" id="3335480">==</span>&nbsp;<span class="num" id="3335483">2</span><br>
<span class="lineno"></span><span class="op" id="3335485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3335488">//&nbsp;Integer&nbsp;to&nbsp;decimal.</span><br>
<span class="lineno">175</span><span class="keyword" id="3335511">func</span>&nbsp;<span class="ident" id="3335516">itoa</span><span class="op" id="3335520">(</span><span class="ident" id="3335521">i</span>&nbsp;<span class="builtintype" id="3335523">int</span><span class="op" id="3335526">)</span>&nbsp;<span class="builtintype" id="3335528">string</span>&nbsp;<span class="op" id="3335535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335538">var</span>&nbsp;<span class="ident" id="3335542">buf</span>&nbsp;<span class="op" id="3335546">[</span><span class="num" id="3335547">30</span><span class="op" id="3335549">]</span><span class="builtintype" id="3335550">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335556">n</span>&nbsp;<span class="op" id="3335558">:=</span>&nbsp;<span class="builtinfunc" id="3335561">len</span><span class="op" id="3335564">(</span><span class="ident" id="3335565">buf</span><span class="op" id="3335568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335571">neg</span>&nbsp;<span class="op" id="3335575">:=</span>&nbsp;<span class="builtintype" id="3335578">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335585">if</span>&nbsp;<span class="ident" id="3335588">i</span>&nbsp;<span class="op" id="3335590">&lt;</span>&nbsp;<span class="num" id="3335592">0</span>&nbsp;<span class="op" id="3335594">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335598">i</span>&nbsp;<span class="op" id="3335600">=</span>&nbsp;<span class="op" id="3335602">-</span><span class="ident" id="3335603">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335607">neg</span>&nbsp;<span class="op" id="3335611">=</span>&nbsp;<span class="builtintype" id="3335613">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3335619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335622">ui</span>&nbsp;<span class="op" id="3335625">:=</span>&nbsp;<span class="builtintype" id="3335628">uint</span><span class="op" id="3335632">(</span><span class="ident" id="3335633">i</span><span class="op" id="3335634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335637">for</span>&nbsp;<span class="ident" id="3335641">ui</span>&nbsp;<span class="op" id="3335644">&gt;</span>&nbsp;<span class="num" id="3335646">0</span>&nbsp;<span class="op" id="3335648">||</span>&nbsp;<span class="ident" id="3335651">n</span>&nbsp;<span class="op" id="3335653">==</span>&nbsp;<span class="builtinfunc" id="3335656">len</span><span class="op" id="3335659">(</span><span class="ident" id="3335660">buf</span><span class="op" id="3335663">)</span>&nbsp;<span class="op" id="3335665">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335669">n</span><span class="op" id="3335670">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335675">buf</span><span class="op" id="3335678">[</span><span class="ident" id="3335679">n</span><span class="op" id="3335680">]</span>&nbsp;<span class="op" id="3335682">=</span>&nbsp;<span class="builtintype" id="3335684">byte</span><span class="op" id="3335688">(</span><span class="string" id="3335689">&#39;0&#39;</span>&nbsp;<span class="op" id="3335693">+</span>&nbsp;<span class="ident" id="3335695">ui</span><span class="op" id="3335697">%</span><span class="num" id="3335698">10</span><span class="op" id="3335700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335704">ui</span>&nbsp;<span class="op" id="3335707">/=</span>&nbsp;<span class="num" id="3335710">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3335714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335717">if</span>&nbsp;<span class="ident" id="3335720">neg</span>&nbsp;<span class="op" id="3335724">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335728">n</span><span class="op" id="3335729">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335734">buf</span><span class="op" id="3335737">[</span><span class="ident" id="3335738">n</span><span class="op" id="3335739">]</span>&nbsp;<span class="op" id="3335741">=</span>&nbsp;<span class="string" id="3335743">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3335748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335751">return</span>&nbsp;<span class="builtintype" id="3335758">string</span><span class="op" id="3335764">(</span><span class="ident" id="3335765">buf</span><span class="op" id="3335768">[</span><span class="ident" id="3335769">n</span><span class="op" id="3335770">:</span><span class="op" id="3335771">]</span><span class="op" id="3335772">)</span><br>
<span class="lineno"></span><span class="op" id="3335774">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="3335777">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;decimal&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3335809">func</span>&nbsp;<span class="ident" id="3335814">itod</span><span class="op" id="3335818">(</span><span class="ident" id="3335819">i</span>&nbsp;<span class="builtintype" id="3335821">uint</span><span class="op" id="3335825">)</span>&nbsp;<span class="builtintype" id="3335827">string</span>&nbsp;<span class="op" id="3335834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335837">if</span>&nbsp;<span class="ident" id="3335840">i</span>&nbsp;<span class="op" id="3335842">==</span>&nbsp;<span class="num" id="3335845">0</span>&nbsp;<span class="op" id="3335847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335851">return</span>&nbsp;<span class="string" id="3335858">&#34;0&#34;</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3335863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335867">//&nbsp;Assemble&nbsp;decimal&nbsp;in&nbsp;reverse&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335906">var</span>&nbsp;<span class="ident" id="3335910">b</span>&nbsp;<span class="op" id="3335912">[</span><span class="num" id="3335913">32</span><span class="op" id="3335915">]</span><span class="builtintype" id="3335916">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335922">bp</span>&nbsp;<span class="op" id="3335925">:=</span>&nbsp;<span class="builtinfunc" id="3335928">len</span><span class="op" id="3335931">(</span><span class="ident" id="3335932">b</span><span class="op" id="3335933">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335936">for</span>&nbsp;<span class="op" id="3335940">;</span>&nbsp;<span class="ident" id="3335942">i</span>&nbsp;<span class="op" id="3335944">&gt;</span>&nbsp;<span class="num" id="3335946">0</span><span class="op" id="3335947">;</span>&nbsp;<span class="ident" id="3335949">i</span>&nbsp;<span class="op" id="3335951">/=</span>&nbsp;<span class="num" id="3335954">10</span>&nbsp;<span class="op" id="3335957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335961">bp</span><span class="op" id="3335963">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335968">b</span><span class="op" id="3335969">[</span><span class="ident" id="3335970">bp</span><span class="op" id="3335972">]</span>&nbsp;<span class="op" id="3335974">=</span>&nbsp;<span class="builtintype" id="3335976">byte</span><span class="op" id="3335980">(</span><span class="ident" id="3335981">i</span><span class="op" id="3335982">%</span><span class="num" id="3335983">10</span><span class="op" id="3335985">)</span>&nbsp;<span class="op" id="3335987">+</span>&nbsp;<span class="string" id="3335989">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3335994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3335998">return</span>&nbsp;<span class="builtintype" id="3336005">string</span><span class="op" id="3336011">(</span><span class="ident" id="3336012">b</span><span class="op" id="3336013">[</span><span class="ident" id="3336014">bp</span><span class="op" id="3336016">:</span><span class="op" id="3336017">]</span><span class="op" id="3336018">)</span><br>
<span class="lineno"></span><span class="op" id="3336020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3336023">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;a&nbsp;hexadecimal&nbsp;string.&nbsp;Leading&nbsp;zeros&nbsp;are&nbsp;not&nbsp;printed.</span><br>
<span class="lineno"></span><span class="keyword" id="3336092">func</span>&nbsp;<span class="ident" id="3336097">appendHex</span><span class="op" id="3336106">(</span><span class="ident" id="3336107">dst</span>&nbsp;<span class="op" id="3336111">[</span><span class="op" id="3336112">]</span><span class="builtintype" id="3336113">byte</span><span class="op" id="3336117">,</span>&nbsp;<span class="ident" id="3336119">i</span>&nbsp;<span class="builtintype" id="3336121">uint32</span><span class="op" id="3336127">)</span>&nbsp;<span class="op" id="3336129">[</span><span class="op" id="3336130">]</span><span class="builtintype" id="3336131">byte</span>&nbsp;<span class="op" id="3336136">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336139">if</span>&nbsp;<span class="ident" id="3336142">i</span>&nbsp;<span class="op" id="3336144">==</span>&nbsp;<span class="num" id="3336147">0</span>&nbsp;<span class="op" id="3336149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336153">return</span>&nbsp;<span class="builtinfunc" id="3336160">append</span><span class="op" id="3336166">(</span><span class="ident" id="3336167">dst</span><span class="op" id="3336170">,</span>&nbsp;<span class="string" id="3336172">&#39;0&#39;</span><span class="op" id="3336175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336181">for</span>&nbsp;<span class="ident" id="3336185">j</span>&nbsp;<span class="op" id="3336187">:=</span>&nbsp;<span class="num" id="3336190">7</span><span class="op" id="3336191">;</span>&nbsp;<span class="ident" id="3336193">j</span>&nbsp;<span class="op" id="3336195">&gt;=</span>&nbsp;<span class="num" id="3336198">0</span><span class="op" id="3336199">;</span>&nbsp;<span class="ident" id="3336201">j</span><span class="op" id="3336202">--</span>&nbsp;<span class="op" id="3336205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3336209">v</span>&nbsp;<span class="op" id="3336211">:=</span>&nbsp;<span class="ident" id="3336214">i</span>&nbsp;<span class="op" id="3336216">&gt;&gt;</span>&nbsp;<span class="builtintype" id="3336219">uint</span><span class="op" id="3336223">(</span><span class="ident" id="3336224">j</span><span class="op" id="3336225">*</span><span class="num" id="3336226">4</span><span class="op" id="3336227">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336231">if</span>&nbsp;<span class="ident" id="3336234">v</span>&nbsp;<span class="op" id="3336236">&gt;</span>&nbsp;<span class="num" id="3336238">0</span>&nbsp;<span class="op" id="3336240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3336245">dst</span>&nbsp;<span class="op" id="3336249">=</span>&nbsp;<span class="builtinfunc" id="3336251">append</span><span class="op" id="3336257">(</span><span class="ident" id="3336258">dst</span><span class="op" id="3336261">,</span>&nbsp;<span class="ident" id="3336263">hexDigit</span><span class="op" id="3336271">[</span><span class="ident" id="3336272">v</span><span class="op" id="3336273">&amp;</span><span class="num" id="3336274">0xf</span><span class="op" id="3336277">]</span><span class="op" id="3336278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336288">return</span>&nbsp;<span class="ident" id="3336295">dst</span><br>
<span class="lineno">225</span><span class="op" id="3336299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3336302">//&nbsp;Number&nbsp;of&nbsp;occurrences&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3336338">func</span>&nbsp;<span class="ident" id="3336343">count</span><span class="op" id="3336348">(</span><span class="ident" id="3336349">s</span>&nbsp;<span class="builtintype" id="3336351">string</span><span class="op" id="3336357">,</span>&nbsp;<span class="ident" id="3336359">b</span>&nbsp;<span class="builtintype" id="3336361">byte</span><span class="op" id="3336365">)</span>&nbsp;<span class="builtintype" id="3336367">int</span>&nbsp;<span class="op" id="3336371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3336374">n</span>&nbsp;<span class="op" id="3336376">:=</span>&nbsp;<span class="num" id="3336379">0</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336382">for</span>&nbsp;<span class="ident" id="3336386">i</span>&nbsp;<span class="op" id="3336388">:=</span>&nbsp;<span class="num" id="3336391">0</span><span class="op" id="3336392">;</span>&nbsp;<span class="ident" id="3336394">i</span>&nbsp;<span class="op" id="3336396">&lt;</span>&nbsp;<span class="builtinfunc" id="3336398">len</span><span class="op" id="3336401">(</span><span class="ident" id="3336402">s</span><span class="op" id="3336403">)</span><span class="op" id="3336404">;</span>&nbsp;<span class="ident" id="3336406">i</span><span class="op" id="3336407">++</span>&nbsp;<span class="op" id="3336410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336414">if</span>&nbsp;<span class="ident" id="3336417">s</span><span class="op" id="3336418">[</span><span class="ident" id="3336419">i</span><span class="op" id="3336420">]</span>&nbsp;<span class="op" id="3336422">==</span>&nbsp;<span class="ident" id="3336425">b</span>&nbsp;<span class="op" id="3336427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3336432">n</span><span class="op" id="3336433">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336441">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336444">return</span>&nbsp;<span class="ident" id="3336451">n</span><br>
<span class="lineno"></span><span class="op" id="3336453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3336456">//&nbsp;Index&nbsp;of&nbsp;rightmost&nbsp;occurrence&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3336500">func</span>&nbsp;<span class="ident" id="3336505">last</span><span class="op" id="3336509">(</span><span class="ident" id="3336510">s</span>&nbsp;<span class="builtintype" id="3336512">string</span><span class="op" id="3336518">,</span>&nbsp;<span class="ident" id="3336520">b</span>&nbsp;<span class="builtintype" id="3336522">byte</span><span class="op" id="3336526">)</span>&nbsp;<span class="builtintype" id="3336528">int</span>&nbsp;<span class="op" id="3336532">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3336535">i</span>&nbsp;<span class="op" id="3336537">:=</span>&nbsp;<span class="builtinfunc" id="3336540">len</span><span class="op" id="3336543">(</span><span class="ident" id="3336544">s</span><span class="op" id="3336545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336548">for</span>&nbsp;<span class="ident" id="3336552">i</span><span class="op" id="3336553">--</span><span class="op" id="3336555">;</span>&nbsp;<span class="ident" id="3336557">i</span>&nbsp;<span class="op" id="3336559">&gt;=</span>&nbsp;<span class="num" id="3336562">0</span><span class="op" id="3336563">;</span>&nbsp;<span class="ident" id="3336565">i</span><span class="op" id="3336566">--</span>&nbsp;<span class="op" id="3336569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336573">if</span>&nbsp;<span class="ident" id="3336576">s</span><span class="op" id="3336577">[</span><span class="ident" id="3336578">i</span><span class="op" id="3336579">]</span>&nbsp;<span class="op" id="3336581">==</span>&nbsp;<span class="ident" id="3336584">b</span>&nbsp;<span class="op" id="3336586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336591">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336599">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336605">return</span>&nbsp;<span class="ident" id="3336612">i</span><br>
<span class="lineno"></span><span class="op" id="3336614">}</span>
</div>
</body>
</html>
