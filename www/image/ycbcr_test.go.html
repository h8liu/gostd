<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6717621">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6717676">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6717730">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6717781">package</span>&nbsp;<span class="ident" id="6717789">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6717796">import</span>&nbsp;<span class="op" id="6717803">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6717806">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6717821">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6717831">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6717834">func</span>&nbsp;<span class="ident" id="6717839">TestYCbCr</span><span class="op" id="6717848">(</span><span class="ident" id="6717849">t</span>&nbsp;<span class="op" id="6717851">*</span><span class="ident" id="6717852"><a href="/image/ycbcr_test.go.html#6717821">testing</a></span><span class="op" id="6717859">.</span><span class="ident" id="6717860">T</span><span class="op" id="6717861">)</span>&nbsp;<span class="op" id="6717863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717866">rects</span>&nbsp;<span class="op" id="6717872">:=</span>&nbsp;<span class="op" id="6717875">[</span><span class="op" id="6717876">]</span><span class="ident" id="6717877"><a href="/image/geom.go.html#5452241">Rectangle</a></span><span class="op" id="6717886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717890"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6717894">(</span><span class="num" id="6717895">0</span><span class="op" id="6717896">,</span>&nbsp;<span class="num" id="6717898">0</span><span class="op" id="6717899">,</span>&nbsp;<span class="num" id="6717901">16</span><span class="op" id="6717903">,</span>&nbsp;<span class="num" id="6717905">16</span><span class="op" id="6717907">)</span><span class="op" id="6717908">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717912"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6717916">(</span><span class="num" id="6717917">1</span><span class="op" id="6717918">,</span>&nbsp;<span class="num" id="6717920">0</span><span class="op" id="6717921">,</span>&nbsp;<span class="num" id="6717923">16</span><span class="op" id="6717925">,</span>&nbsp;<span class="num" id="6717927">16</span><span class="op" id="6717929">)</span><span class="op" id="6717930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717934"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6717938">(</span><span class="num" id="6717939">0</span><span class="op" id="6717940">,</span>&nbsp;<span class="num" id="6717942">1</span><span class="op" id="6717943">,</span>&nbsp;<span class="num" id="6717945">16</span><span class="op" id="6717947">,</span>&nbsp;<span class="num" id="6717949">16</span><span class="op" id="6717951">)</span><span class="op" id="6717952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717956"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6717960">(</span><span class="num" id="6717961">1</span><span class="op" id="6717962">,</span>&nbsp;<span class="num" id="6717964">1</span><span class="op" id="6717965">,</span>&nbsp;<span class="num" id="6717967">16</span><span class="op" id="6717969">,</span>&nbsp;<span class="num" id="6717971">16</span><span class="op" id="6717973">)</span><span class="op" id="6717974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717978"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6717982">(</span><span class="num" id="6717983">1</span><span class="op" id="6717984">,</span>&nbsp;<span class="num" id="6717986">1</span><span class="op" id="6717987">,</span>&nbsp;<span class="num" id="6717989">15</span><span class="op" id="6717991">,</span>&nbsp;<span class="num" id="6717993">16</span><span class="op" id="6717995">)</span><span class="op" id="6717996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718000"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718004">(</span><span class="num" id="6718005">1</span><span class="op" id="6718006">,</span>&nbsp;<span class="num" id="6718008">1</span><span class="op" id="6718009">,</span>&nbsp;<span class="num" id="6718011">16</span><span class="op" id="6718013">,</span>&nbsp;<span class="num" id="6718015">15</span><span class="op" id="6718017">)</span><span class="op" id="6718018">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718022"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718026">(</span><span class="num" id="6718027">1</span><span class="op" id="6718028">,</span>&nbsp;<span class="num" id="6718030">1</span><span class="op" id="6718031">,</span>&nbsp;<span class="num" id="6718033">15</span><span class="op" id="6718035">,</span>&nbsp;<span class="num" id="6718037">15</span><span class="op" id="6718039">)</span><span class="op" id="6718040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718044"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718048">(</span><span class="num" id="6718049">2</span><span class="op" id="6718050">,</span>&nbsp;<span class="num" id="6718052">3</span><span class="op" id="6718053">,</span>&nbsp;<span class="num" id="6718055">14</span><span class="op" id="6718057">,</span>&nbsp;<span class="num" id="6718059">15</span><span class="op" id="6718061">)</span><span class="op" id="6718062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718066"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718070">(</span><span class="num" id="6718071">7</span><span class="op" id="6718072">,</span>&nbsp;<span class="num" id="6718074">0</span><span class="op" id="6718075">,</span>&nbsp;<span class="num" id="6718077">7</span><span class="op" id="6718078">,</span>&nbsp;<span class="num" id="6718080">16</span><span class="op" id="6718082">)</span><span class="op" id="6718083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718087"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718091">(</span><span class="num" id="6718092">0</span><span class="op" id="6718093">,</span>&nbsp;<span class="num" id="6718095">8</span><span class="op" id="6718096">,</span>&nbsp;<span class="num" id="6718098">16</span><span class="op" id="6718100">,</span>&nbsp;<span class="num" id="6718102">8</span><span class="op" id="6718103">)</span><span class="op" id="6718104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718108"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718112">(</span><span class="num" id="6718113">0</span><span class="op" id="6718114">,</span>&nbsp;<span class="num" id="6718116">0</span><span class="op" id="6718117">,</span>&nbsp;<span class="num" id="6718119">10</span><span class="op" id="6718121">,</span>&nbsp;<span class="num" id="6718123">11</span><span class="op" id="6718125">)</span><span class="op" id="6718126">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718130"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718134">(</span><span class="num" id="6718135">5</span><span class="op" id="6718136">,</span>&nbsp;<span class="num" id="6718138">6</span><span class="op" id="6718139">,</span>&nbsp;<span class="num" id="6718141">16</span><span class="op" id="6718143">,</span>&nbsp;<span class="num" id="6718145">16</span><span class="op" id="6718147">)</span><span class="op" id="6718148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718152"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718156">(</span><span class="num" id="6718157">7</span><span class="op" id="6718158">,</span>&nbsp;<span class="num" id="6718160">7</span><span class="op" id="6718161">,</span>&nbsp;<span class="num" id="6718163">8</span><span class="op" id="6718164">,</span>&nbsp;<span class="num" id="6718166">8</span><span class="op" id="6718167">)</span><span class="op" id="6718168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718172"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718176">(</span><span class="num" id="6718177">7</span><span class="op" id="6718178">,</span>&nbsp;<span class="num" id="6718180">8</span><span class="op" id="6718181">,</span>&nbsp;<span class="num" id="6718183">8</span><span class="op" id="6718184">,</span>&nbsp;<span class="num" id="6718186">9</span><span class="op" id="6718187">)</span><span class="op" id="6718188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718192"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718196">(</span><span class="num" id="6718197">8</span><span class="op" id="6718198">,</span>&nbsp;<span class="num" id="6718200">7</span><span class="op" id="6718201">,</span>&nbsp;<span class="num" id="6718203">9</span><span class="op" id="6718204">,</span>&nbsp;<span class="num" id="6718206">8</span><span class="op" id="6718207">)</span><span class="op" id="6718208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718212"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718216">(</span><span class="num" id="6718217">8</span><span class="op" id="6718218">,</span>&nbsp;<span class="num" id="6718220">8</span><span class="op" id="6718221">,</span>&nbsp;<span class="num" id="6718223">9</span><span class="op" id="6718224">,</span>&nbsp;<span class="num" id="6718226">9</span><span class="op" id="6718227">)</span><span class="op" id="6718228">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718232"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718236">(</span><span class="num" id="6718237">7</span><span class="op" id="6718238">,</span>&nbsp;<span class="num" id="6718240">7</span><span class="op" id="6718241">,</span>&nbsp;<span class="num" id="6718243">17</span><span class="op" id="6718245">,</span>&nbsp;<span class="num" id="6718247">17</span><span class="op" id="6718249">)</span><span class="op" id="6718250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718254"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718258">(</span><span class="num" id="6718259">8</span><span class="op" id="6718260">,</span>&nbsp;<span class="num" id="6718262">8</span><span class="op" id="6718263">,</span>&nbsp;<span class="num" id="6718265">17</span><span class="op" id="6718267">,</span>&nbsp;<span class="num" id="6718269">17</span><span class="op" id="6718271">)</span><span class="op" id="6718272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718276"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718280">(</span><span class="num" id="6718281">9</span><span class="op" id="6718282">,</span>&nbsp;<span class="num" id="6718284">9</span><span class="op" id="6718285">,</span>&nbsp;<span class="num" id="6718287">17</span><span class="op" id="6718289">,</span>&nbsp;<span class="num" id="6718291">17</span><span class="op" id="6718293">)</span><span class="op" id="6718294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718298"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6718302">(</span><span class="num" id="6718303">10</span><span class="op" id="6718305">,</span>&nbsp;<span class="num" id="6718307">10</span><span class="op" id="6718309">,</span>&nbsp;<span class="num" id="6718311">17</span><span class="op" id="6718313">,</span>&nbsp;<span class="num" id="6718315">17</span><span class="op" id="6718317">)</span><span class="op" id="6718318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718321">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718324">subsampleRatios</span>&nbsp;<span class="op" id="6718340">:=</span>&nbsp;<span class="op" id="6718343">[</span><span class="op" id="6718344">]</span><span class="ident" id="6718345"><a href="/image/ycbcr.go.html#5482922">YCbCrSubsampleRatio</a></span><span class="op" id="6718364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718368"><a href="/image/ycbcr.go.html#5482956">YCbCrSubsampleRatio444</a></span><span class="op" id="6718390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718394"><a href="/image/ycbcr.go.html#5483007">YCbCrSubsampleRatio422</a></span><span class="op" id="6718416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718420"><a href="/image/ycbcr.go.html#5483031">YCbCrSubsampleRatio420</a></span><span class="op" id="6718442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718446"><a href="/image/ycbcr.go.html#5483055">YCbCrSubsampleRatio440</a></span><span class="op" id="6718468">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718474">deltas</span>&nbsp;<span class="op" id="6718481">:=</span>&nbsp;<span class="op" id="6718484">[</span><span class="op" id="6718485">]</span><span class="ident" id="6718486"><a href="/image/geom.go.html#5450680">Point</a></span><span class="op" id="6718491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718495"><a href="/image/geom.go.html#5451936">Pt</a></span><span class="op" id="6718497">(</span><span class="num" id="6718498">0</span><span class="op" id="6718499">,</span>&nbsp;<span class="num" id="6718501">0</span><span class="op" id="6718502">)</span><span class="op" id="6718503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718507"><a href="/image/geom.go.html#5451936">Pt</a></span><span class="op" id="6718509">(</span><span class="num" id="6718510">1000</span><span class="op" id="6718514">,</span>&nbsp;<span class="num" id="6718516">1001</span><span class="op" id="6718520">)</span><span class="op" id="6718521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718525"><a href="/image/geom.go.html#5451936">Pt</a></span><span class="op" id="6718527">(</span><span class="num" id="6718528">5001</span><span class="op" id="6718532">,</span>&nbsp;<span class="op" id="6718534">-</span><span class="num" id="6718535">400</span><span class="op" id="6718538">)</span><span class="op" id="6718539">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718543"><a href="/image/geom.go.html#5451936">Pt</a></span><span class="op" id="6718545">(</span><span class="op" id="6718546">-</span><span class="num" id="6718547">701</span><span class="op" id="6718550">,</span>&nbsp;<span class="op" id="6718552">-</span><span class="num" id="6718553">801</span><span class="op" id="6718556">)</span><span class="op" id="6718557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718563">for</span>&nbsp;<span class="ident" id="6718567">_</span><span class="op" id="6718568">,</span>&nbsp;<span class="ident" id="6718570">r</span>&nbsp;<span class="op" id="6718572">:=</span>&nbsp;<span class="keyword" id="6718575">range</span>&nbsp;<span class="ident" id="6718581"><a href="/image/ycbcr_test.go.html#6717866">rects</a></span>&nbsp;<span class="op" id="6718587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718591">for</span>&nbsp;<span class="ident" id="6718595">_</span><span class="op" id="6718596">,</span>&nbsp;<span class="ident" id="6718598">subsampleRatio</span>&nbsp;<span class="op" id="6718613">:=</span>&nbsp;<span class="keyword" id="6718616">range</span>&nbsp;<span class="ident" id="6718622"><a href="/image/ycbcr_test.go.html#6718324">subsampleRatios</a></span>&nbsp;<span class="op" id="6718638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718643">for</span>&nbsp;<span class="ident" id="6718647">_</span><span class="op" id="6718648">,</span>&nbsp;<span class="ident" id="6718650">delta</span>&nbsp;<span class="op" id="6718656">:=</span>&nbsp;<span class="keyword" id="6718659">range</span>&nbsp;<span class="ident" id="6718665"><a href="/image/ycbcr_test.go.html#6718474">deltas</a></span>&nbsp;<span class="op" id="6718672">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718678"><a href="/image/ycbcr_test.go.html#6718773">testYCbCr</a></span><span class="op" id="6718687">(</span><span class="ident" id="6718688"><a href="/image/ycbcr_test.go.html#6717849">t</a></span><span class="op" id="6718689">,</span>&nbsp;<span class="ident" id="6718691"><a href="/image/ycbcr_test.go.html#6718570">r</a></span><span class="op" id="6718692">,</span>&nbsp;<span class="ident" id="6718694"><a href="/image/ycbcr_test.go.html#6718598">subsampleRatio</a></span><span class="op" id="6718708">,</span>&nbsp;<span class="ident" id="6718710"><a href="/image/ycbcr_test.go.html#6718650">delta</a></span><span class="op" id="6718715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718728">if</span>&nbsp;<span class="ident" id="6718731"><a href="/image/ycbcr_test.go.html#6717821">testing</a></span><span class="op" id="6718738">.</span><span class="ident" id="6718739">Short</span><span class="op" id="6718744">(</span><span class="op" id="6718745">)</span>&nbsp;<span class="op" id="6718747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718752">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718763">}</span><br>
<span class="lineno"></span><span class="op" id="6718765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6718768">func</span>&nbsp;<span class="ident" id="6718773">testYCbCr</span><span class="op" id="6718782">(</span><span class="ident" id="6718783">t</span>&nbsp;<span class="op" id="6718785">*</span><span class="ident" id="6718786"><a href="/image/ycbcr_test.go.html#6717821">testing</a></span><span class="op" id="6718793">.</span><span class="ident" id="6718794">T</span><span class="op" id="6718795">,</span>&nbsp;<span class="ident" id="6718797">r</span>&nbsp;<span class="ident" id="6718799"><a href="/image/geom.go.html#5452241">Rectangle</a></span><span class="op" id="6718808">,</span>&nbsp;<span class="ident" id="6718810">subsampleRatio</span>&nbsp;<span class="ident" id="6718825"><a href="/image/ycbcr.go.html#5482922">YCbCrSubsampleRatio</a></span><span class="op" id="6718844">,</span>&nbsp;<span class="ident" id="6718846">delta</span>&nbsp;<span class="ident" id="6718852"><a href="/image/geom.go.html#5450680">Point</a></span><span class="op" id="6718857">)</span>&nbsp;<span class="op" id="6718859">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6718862">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718943">r1</span>&nbsp;<span class="op" id="6718946">:=</span>&nbsp;<span class="ident" id="6718949"><a href="/image/ycbcr_test.go.html#6718797">r</a></span><span class="op" id="6718950">.</span><span class="ident" id="6718951">Add</span><span class="op" id="6718954">(</span><span class="ident" id="6718955"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6718960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718963">m</span>&nbsp;<span class="op" id="6718965">:=</span>&nbsp;<span class="ident" id="6718968"><a href="/image/ycbcr.go.html#5486387">NewYCbCr</a></span><span class="op" id="6718976">(</span><span class="ident" id="6718977"><a href="/image/ycbcr_test.go.html#6718943">r1</a></span><span class="op" id="6718979">,</span>&nbsp;<span class="ident" id="6718981"><a href="/image/ycbcr_test.go.html#6718810">subsampleRatio</a></span><span class="op" id="6718995">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6718999">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719101">if</span>&nbsp;<span class="builtinfunc" id="6719104">len</span><span class="op" id="6719107">(</span><span class="ident" id="6719108"><a href="/image/ycbcr_test.go.html#6718963">m</a></span><span class="op" id="6719109">.</span><span class="ident" id="6719110">Y</span><span class="op" id="6719111">)</span>&nbsp;<span class="op" id="6719113">&gt;</span>&nbsp;<span class="num" id="6719115">100</span><span class="op" id="6719118">*</span><span class="num" id="6719119">100</span>&nbsp;<span class="op" id="6719123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719127"><a href="/image/ycbcr_test.go.html#6718783">t</a></span><span class="op" id="6719128">.</span><span class="ident" id="6719129">Errorf</span><span class="op" id="6719135">(</span><span class="string" id="6719136">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="6719198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719203"><a href="/image/ycbcr_test.go.html#6718797">r</a></span><span class="op" id="6719204">,</span>&nbsp;<span class="ident" id="6719206"><a href="/image/ycbcr_test.go.html#6718810">subsampleRatio</a></span><span class="op" id="6719220">,</span>&nbsp;<span class="ident" id="6719222"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6719227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719231">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719239">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6719243">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6719330">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719412">for</span>&nbsp;<span class="ident" id="6719416">y</span>&nbsp;<span class="op" id="6719418">:=</span>&nbsp;<span class="ident" id="6719421"><a href="/image/ycbcr_test.go.html#6718943">r1</a></span><span class="op" id="6719423">.</span><span class="ident" id="6719424">Min</span><span class="op" id="6719427">.</span><span class="ident" id="6719428">Y</span><span class="op" id="6719429">;</span>&nbsp;<span class="ident" id="6719431"><a href="/image/ycbcr_test.go.html#6719416">y</a></span>&nbsp;<span class="op" id="6719433">&lt;</span>&nbsp;<span class="ident" id="6719435"><a href="/image/ycbcr_test.go.html#6718943">r1</a></span><span class="op" id="6719437">.</span><span class="ident" id="6719438">Max</span><span class="op" id="6719441">.</span><span class="ident" id="6719442">Y</span><span class="op" id="6719443">;</span>&nbsp;<span class="ident" id="6719445"><a href="/image/ycbcr_test.go.html#6719416">y</a></span><span class="op" id="6719446">++</span>&nbsp;<span class="op" id="6719449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719453">for</span>&nbsp;<span class="ident" id="6719457">x</span>&nbsp;<span class="op" id="6719459">:=</span>&nbsp;<span class="ident" id="6719462"><a href="/image/ycbcr_test.go.html#6718943">r1</a></span><span class="op" id="6719464">.</span><span class="ident" id="6719465">Min</span><span class="op" id="6719468">.</span><span class="ident" id="6719469">X</span><span class="op" id="6719470">;</span>&nbsp;<span class="ident" id="6719472"><a href="/image/ycbcr_test.go.html#6719457">x</a></span>&nbsp;<span class="op" id="6719474">&lt;</span>&nbsp;<span class="ident" id="6719476"><a href="/image/ycbcr_test.go.html#6718943">r1</a></span><span class="op" id="6719478">.</span><span class="ident" id="6719479">Max</span><span class="op" id="6719482">.</span><span class="ident" id="6719483">X</span><span class="op" id="6719484">;</span>&nbsp;<span class="ident" id="6719486"><a href="/image/ycbcr_test.go.html#6719457">x</a></span><span class="op" id="6719487">++</span>&nbsp;<span class="op" id="6719490">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719495">yi</span>&nbsp;<span class="op" id="6719498">:=</span>&nbsp;<span class="ident" id="6719501"><a href="/image/ycbcr_test.go.html#6718963">m</a></span><span class="op" id="6719502">.</span><span class="ident" id="6719503">YOffset</span><span class="op" id="6719510">(</span><span class="ident" id="6719511"><a href="/image/ycbcr_test.go.html#6719457">x</a></span><span class="op" id="6719512">,</span>&nbsp;<span class="ident" id="6719514"><a href="/image/ycbcr_test.go.html#6719416">y</a></span><span class="op" id="6719515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719520">ci</span>&nbsp;<span class="op" id="6719523">:=</span>&nbsp;<span class="ident" id="6719526"><a href="/image/ycbcr_test.go.html#6718963">m</a></span><span class="op" id="6719527">.</span><span class="ident" id="6719528">COffset</span><span class="op" id="6719535">(</span><span class="ident" id="6719536"><a href="/image/ycbcr_test.go.html#6719457">x</a></span><span class="op" id="6719537">,</span>&nbsp;<span class="ident" id="6719539"><a href="/image/ycbcr_test.go.html#6719416">y</a></span><span class="op" id="6719540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719545"><a href="/image/ycbcr_test.go.html#6718963">m</a></span><span class="op" id="6719546">.</span><span class="ident" id="6719547">Y</span><span class="op" id="6719548">[</span><span class="ident" id="6719549"><a href="/image/ycbcr_test.go.html#6719495">yi</a></span><span class="op" id="6719551">]</span>&nbsp;<span class="op" id="6719553">=</span>&nbsp;<span class="builtintype" id="6719555">uint8</span><span class="op" id="6719560">(</span><span class="num" id="6719561">16</span><span class="op" id="6719563">*</span><span class="ident" id="6719564"><a href="/image/ycbcr_test.go.html#6719416">y</a></span>&nbsp;<span class="op" id="6719566">+</span>&nbsp;<span class="ident" id="6719568"><a href="/image/ycbcr_test.go.html#6719457">x</a></span><span class="op" id="6719569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719574"><a href="/image/ycbcr_test.go.html#6718963">m</a></span><span class="op" id="6719575">.</span><span class="ident" id="6719576">Cb</span><span class="op" id="6719578">[</span><span class="ident" id="6719579"><a href="/image/ycbcr_test.go.html#6719520">ci</a></span><span class="op" id="6719581">]</span>&nbsp;<span class="op" id="6719583">=</span>&nbsp;<span class="builtintype" id="6719585">uint8</span><span class="op" id="6719590">(</span><span class="ident" id="6719591"><a href="/image/ycbcr_test.go.html#6719416">y</a></span>&nbsp;<span class="op" id="6719593">+</span>&nbsp;<span class="num" id="6719595">16</span><span class="op" id="6719597">*</span><span class="ident" id="6719598"><a href="/image/ycbcr_test.go.html#6719457">x</a></span><span class="op" id="6719599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719604"><a href="/image/ycbcr_test.go.html#6718963">m</a></span><span class="op" id="6719605">.</span><span class="ident" id="6719606">Cr</span><span class="op" id="6719608">[</span><span class="ident" id="6719609"><a href="/image/ycbcr_test.go.html#6719520">ci</a></span><span class="op" id="6719611">]</span>&nbsp;<span class="op" id="6719613">=</span>&nbsp;<span class="builtintype" id="6719615">uint8</span><span class="op" id="6719620">(</span><span class="ident" id="6719621"><a href="/image/ycbcr_test.go.html#6719416">y</a></span>&nbsp;<span class="op" id="6719623">+</span>&nbsp;<span class="num" id="6719625">16</span><span class="op" id="6719627">*</span><span class="ident" id="6719628"><a href="/image/ycbcr_test.go.html#6719457">x</a></span><span class="op" id="6719629">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6719640">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719674">for</span>&nbsp;<span class="ident" id="6719678">y0</span>&nbsp;<span class="op" id="6719681">:=</span>&nbsp;<span class="ident" id="6719684"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6719689">.</span><span class="ident" id="6719690">Y</span>&nbsp;<span class="op" id="6719692">+</span>&nbsp;<span class="num" id="6719694">3</span><span class="op" id="6719695">;</span>&nbsp;<span class="ident" id="6719697"><a href="/image/ycbcr_test.go.html#6719678">y0</a></span>&nbsp;<span class="op" id="6719700">&lt;</span>&nbsp;<span class="ident" id="6719702"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6719707">.</span><span class="ident" id="6719708">Y</span><span class="op" id="6719709">+</span><span class="num" id="6719710">7</span><span class="op" id="6719711">;</span>&nbsp;<span class="ident" id="6719713"><a href="/image/ycbcr_test.go.html#6719678">y0</a></span><span class="op" id="6719715">++</span>&nbsp;<span class="op" id="6719718">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719722">for</span>&nbsp;<span class="ident" id="6719726">y1</span>&nbsp;<span class="op" id="6719729">:=</span>&nbsp;<span class="ident" id="6719732"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6719737">.</span><span class="ident" id="6719738">Y</span>&nbsp;<span class="op" id="6719740">+</span>&nbsp;<span class="num" id="6719742">8</span><span class="op" id="6719743">;</span>&nbsp;<span class="ident" id="6719745"><a href="/image/ycbcr_test.go.html#6719726">y1</a></span>&nbsp;<span class="op" id="6719748">&lt;</span>&nbsp;<span class="ident" id="6719750"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6719755">.</span><span class="ident" id="6719756">Y</span><span class="op" id="6719757">+</span><span class="num" id="6719758">13</span><span class="op" id="6719760">;</span>&nbsp;<span class="ident" id="6719762"><a href="/image/ycbcr_test.go.html#6719726">y1</a></span><span class="op" id="6719764">++</span>&nbsp;<span class="op" id="6719767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719772">for</span>&nbsp;<span class="ident" id="6719776">x0</span>&nbsp;<span class="op" id="6719779">:=</span>&nbsp;<span class="ident" id="6719782"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6719787">.</span><span class="ident" id="6719788">X</span>&nbsp;<span class="op" id="6719790">+</span>&nbsp;<span class="num" id="6719792">3</span><span class="op" id="6719793">;</span>&nbsp;<span class="ident" id="6719795"><a href="/image/ycbcr_test.go.html#6719776">x0</a></span>&nbsp;<span class="op" id="6719798">&lt;</span>&nbsp;<span class="ident" id="6719800"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6719805">.</span><span class="ident" id="6719806">X</span><span class="op" id="6719807">+</span><span class="num" id="6719808">7</span><span class="op" id="6719809">;</span>&nbsp;<span class="ident" id="6719811"><a href="/image/ycbcr_test.go.html#6719776">x0</a></span><span class="op" id="6719813">++</span>&nbsp;<span class="op" id="6719816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719822">for</span>&nbsp;<span class="ident" id="6719826">x1</span>&nbsp;<span class="op" id="6719829">:=</span>&nbsp;<span class="ident" id="6719832"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6719837">.</span><span class="ident" id="6719838">X</span>&nbsp;<span class="op" id="6719840">+</span>&nbsp;<span class="num" id="6719842">8</span><span class="op" id="6719843">;</span>&nbsp;<span class="ident" id="6719845"><a href="/image/ycbcr_test.go.html#6719826">x1</a></span>&nbsp;<span class="op" id="6719848">&lt;</span>&nbsp;<span class="ident" id="6719850"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6719855">.</span><span class="ident" id="6719856">X</span><span class="op" id="6719857">+</span><span class="num" id="6719858">13</span><span class="op" id="6719860">;</span>&nbsp;<span class="ident" id="6719862"><a href="/image/ycbcr_test.go.html#6719826">x1</a></span><span class="op" id="6719864">++</span>&nbsp;<span class="op" id="6719867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719874">subRect</span>&nbsp;<span class="op" id="6719882">:=</span>&nbsp;<span class="ident" id="6719885"><a href="/image/geom.go.html#5455697">Rect</a></span><span class="op" id="6719889">(</span><span class="ident" id="6719890"><a href="/image/ycbcr_test.go.html#6719776">x0</a></span><span class="op" id="6719892">,</span>&nbsp;<span class="ident" id="6719894"><a href="/image/ycbcr_test.go.html#6719678">y0</a></span><span class="op" id="6719896">,</span>&nbsp;<span class="ident" id="6719898"><a href="/image/ycbcr_test.go.html#6719826">x1</a></span><span class="op" id="6719900">,</span>&nbsp;<span class="ident" id="6719902"><a href="/image/ycbcr_test.go.html#6719726">y1</a></span><span class="op" id="6719904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719911">sub</span>&nbsp;<span class="op" id="6719915">:=</span>&nbsp;<span class="ident" id="6719918"><a href="/image/ycbcr_test.go.html#6718963">m</a></span><span class="op" id="6719919">.</span><span class="ident" id="6719920">SubImage</span><span class="op" id="6719928">(</span><span class="ident" id="6719929"><a href="/image/ycbcr_test.go.html#6719874">subRect</a></span><span class="op" id="6719936">)</span><span class="op" id="6719937">.</span><span class="op" id="6719938">(</span><span class="op" id="6719939">*</span><span class="ident" id="6719940"><a href="/image/ycbcr.go.html#5484158">YCbCr</a></span><span class="op" id="6719945">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6719953">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720046">for</span>&nbsp;<span class="ident" id="6720050">y</span>&nbsp;<span class="op" id="6720052">:=</span>&nbsp;<span class="ident" id="6720055"><a href="/image/ycbcr_test.go.html#6719911">sub</a></span><span class="op" id="6720058">.</span><span class="ident" id="6720059">Rect</span><span class="op" id="6720063">.</span><span class="ident" id="6720064">Min</span><span class="op" id="6720067">.</span><span class="ident" id="6720068">Y</span><span class="op" id="6720069">;</span>&nbsp;<span class="ident" id="6720071"><a href="/image/ycbcr_test.go.html#6720050">y</a></span>&nbsp;<span class="op" id="6720073">&lt;</span>&nbsp;<span class="ident" id="6720075"><a href="/image/ycbcr_test.go.html#6719911">sub</a></span><span class="op" id="6720078">.</span><span class="ident" id="6720079">Rect</span><span class="op" id="6720083">.</span><span class="ident" id="6720084">Max</span><span class="op" id="6720087">.</span><span class="ident" id="6720088">Y</span><span class="op" id="6720089">;</span>&nbsp;<span class="ident" id="6720091"><a href="/image/ycbcr_test.go.html#6720050">y</a></span><span class="op" id="6720092">++</span>&nbsp;<span class="op" id="6720095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720103">for</span>&nbsp;<span class="ident" id="6720107">x</span>&nbsp;<span class="op" id="6720109">:=</span>&nbsp;<span class="ident" id="6720112"><a href="/image/ycbcr_test.go.html#6719911">sub</a></span><span class="op" id="6720115">.</span><span class="ident" id="6720116">Rect</span><span class="op" id="6720120">.</span><span class="ident" id="6720121">Min</span><span class="op" id="6720124">.</span><span class="ident" id="6720125">X</span><span class="op" id="6720126">;</span>&nbsp;<span class="ident" id="6720128"><a href="/image/ycbcr_test.go.html#6720107">x</a></span>&nbsp;<span class="op" id="6720130">&lt;</span>&nbsp;<span class="ident" id="6720132"><a href="/image/ycbcr_test.go.html#6719911">sub</a></span><span class="op" id="6720135">.</span><span class="ident" id="6720136">Rect</span><span class="op" id="6720140">.</span><span class="ident" id="6720141">Max</span><span class="op" id="6720144">.</span><span class="ident" id="6720145">X</span><span class="op" id="6720146">;</span>&nbsp;<span class="ident" id="6720148"><a href="/image/ycbcr_test.go.html#6720107">x</a></span><span class="op" id="6720149">++</span>&nbsp;<span class="op" id="6720152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720161">color0</span>&nbsp;<span class="op" id="6720168">:=</span>&nbsp;<span class="ident" id="6720171"><a href="/image/ycbcr_test.go.html#6718963">m</a></span><span class="op" id="6720172">.</span><span class="ident" id="6720173">At</span><span class="op" id="6720175">(</span><span class="ident" id="6720176"><a href="/image/ycbcr_test.go.html#6720107">x</a></span><span class="op" id="6720177">,</span>&nbsp;<span class="ident" id="6720179"><a href="/image/ycbcr_test.go.html#6720050">y</a></span><span class="op" id="6720180">)</span><span class="op" id="6720181">.</span><span class="op" id="6720182">(</span><span class="ident" id="6720183"><a href="/image/ycbcr_test.go.html#6717806">color</a></span><span class="op" id="6720188">.</span><span class="ident" id="6720189">YCbCr</span><span class="op" id="6720194">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720203">color1</span>&nbsp;<span class="op" id="6720210">:=</span>&nbsp;<span class="ident" id="6720213"><a href="/image/ycbcr_test.go.html#6719911">sub</a></span><span class="op" id="6720216">.</span><span class="ident" id="6720217">At</span><span class="op" id="6720219">(</span><span class="ident" id="6720220"><a href="/image/ycbcr_test.go.html#6720107">x</a></span><span class="op" id="6720221">,</span>&nbsp;<span class="ident" id="6720223"><a href="/image/ycbcr_test.go.html#6720050">y</a></span><span class="op" id="6720224">)</span><span class="op" id="6720225">.</span><span class="op" id="6720226">(</span><span class="ident" id="6720227"><a href="/image/ycbcr_test.go.html#6717806">color</a></span><span class="op" id="6720232">.</span><span class="ident" id="6720233">YCbCr</span><span class="op" id="6720238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720247">if</span>&nbsp;<span class="ident" id="6720250"><a href="/image/ycbcr_test.go.html#6720161">color0</a></span>&nbsp;<span class="op" id="6720257">!=</span>&nbsp;<span class="ident" id="6720260"><a href="/image/ycbcr_test.go.html#6720203">color1</a></span>&nbsp;<span class="op" id="6720267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720277"><a href="/image/ycbcr_test.go.html#6718783">t</a></span><span class="op" id="6720278">.</span><span class="ident" id="6720279">Errorf</span><span class="op" id="6720285">(</span><span class="string" id="6720286">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="6720355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720366"><a href="/image/ycbcr_test.go.html#6718797">r</a></span><span class="op" id="6720367">,</span>&nbsp;<span class="ident" id="6720369"><a href="/image/ycbcr_test.go.html#6718810">subsampleRatio</a></span><span class="op" id="6720383">,</span>&nbsp;<span class="ident" id="6720385"><a href="/image/ycbcr_test.go.html#6718846">delta</a></span><span class="op" id="6720390">,</span>&nbsp;<span class="ident" id="6720392"><a href="/image/ycbcr_test.go.html#6720107">x</a></span><span class="op" id="6720393">,</span>&nbsp;<span class="ident" id="6720395"><a href="/image/ycbcr_test.go.html#6720050">y</a></span><span class="op" id="6720396">,</span>&nbsp;<span class="ident" id="6720398"><a href="/image/ycbcr_test.go.html#6720161">color0</a></span><span class="op" id="6720404">,</span>&nbsp;<span class="ident" id="6720406"><a href="/image/ycbcr_test.go.html#6720203">color1</a></span><span class="op" id="6720412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720422">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720462">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720469">}</span><br>
<span class="lineno"></span><span class="op" id="6720471">}</span>
</div>
</body>
</html>
