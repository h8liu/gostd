<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html" class="current">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2662041">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2662096">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2662150">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2662201">//&nbsp;Deep&nbsp;equality&nbsp;test&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2662239">package</span>&nbsp;<span class="ident" id="2662247">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2662256">//&nbsp;During&nbsp;deepValueEqual,&nbsp;must&nbsp;keep&nbsp;track&nbsp;of&nbsp;checks&nbsp;that&nbsp;are</span><br>
<span class="lineno">10</span><span class="comment" id="2662317">//&nbsp;in&nbsp;progress.&nbsp;&nbsp;The&nbsp;comparison&nbsp;algorithm&nbsp;assumes&nbsp;that&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2662376">//&nbsp;checks&nbsp;in&nbsp;progress&nbsp;are&nbsp;true&nbsp;when&nbsp;it&nbsp;reencounters&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="2662434">//&nbsp;Visited&nbsp;comparisons&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;map&nbsp;indexed&nbsp;by&nbsp;visit.</span><br>
<span class="lineno"></span><span class="keyword" id="2662495">type</span>&nbsp;<span class="ident" id="2662500">visit</span>&nbsp;<span class="keyword" id="2662506">struct</span>&nbsp;<span class="op" id="2662513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2662516">a1</span>&nbsp;&nbsp;<span class="builtintype" id="2662520">uintptr</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2662529">a2</span>&nbsp;&nbsp;<span class="builtintype" id="2662533">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2662542">typ</span>&nbsp;<span class="ident" id="2662546">Type</span><br>
<span class="lineno"></span><span class="op" id="2662551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2662554">//&nbsp;Tests&nbsp;for&nbsp;deep&nbsp;equality&nbsp;using&nbsp;reflected&nbsp;types.&nbsp;The&nbsp;map&nbsp;argument&nbsp;tracks</span><br>
<span class="lineno">20</span><span class="comment" id="2662628">//&nbsp;comparisons&nbsp;that&nbsp;have&nbsp;already&nbsp;been&nbsp;seen,&nbsp;which&nbsp;allows&nbsp;short&nbsp;circuiting&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="2662705">//&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="2662725">func</span>&nbsp;<span class="ident" id="2662730">deepValueEqual</span><span class="op" id="2662744">(</span><span class="ident" id="2662745">v1</span><span class="op" id="2662747">,</span>&nbsp;<span class="ident" id="2662749">v2</span>&nbsp;<span class="ident" id="2662752">Value</span><span class="op" id="2662757">,</span>&nbsp;<span class="ident" id="2662759">visited</span>&nbsp;<span class="keyword" id="2662767">map</span><span class="op" id="2662770">[</span><span class="ident" id="2662771">visit</span><span class="op" id="2662776">]</span><span class="builtintype" id="2662777">bool</span><span class="op" id="2662781">,</span>&nbsp;<span class="ident" id="2662783">depth</span>&nbsp;<span class="builtintype" id="2662789">int</span><span class="op" id="2662792">)</span>&nbsp;<span class="builtintype" id="2662794">bool</span>&nbsp;<span class="op" id="2662799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2662802">if</span>&nbsp;<span class="op" id="2662805">!</span><span class="ident" id="2662806">v1</span><span class="op" id="2662808">.</span><span class="ident" id="2662809">IsValid</span><span class="op" id="2662816">(</span><span class="op" id="2662817">)</span>&nbsp;<span class="op" id="2662819">||</span>&nbsp;<span class="op" id="2662822">!</span><span class="ident" id="2662823">v2</span><span class="op" id="2662825">.</span><span class="ident" id="2662826">IsValid</span><span class="op" id="2662833">(</span><span class="op" id="2662834">)</span>&nbsp;<span class="op" id="2662836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2662840">return</span>&nbsp;<span class="ident" id="2662847">v1</span><span class="op" id="2662849">.</span><span class="ident" id="2662850">IsValid</span><span class="op" id="2662857">(</span><span class="op" id="2662858">)</span>&nbsp;<span class="op" id="2662860">==</span>&nbsp;<span class="ident" id="2662863">v2</span><span class="op" id="2662865">.</span><span class="ident" id="2662866">IsValid</span><span class="op" id="2662873">(</span><span class="op" id="2662874">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2662877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2662880">if</span>&nbsp;<span class="ident" id="2662883">v1</span><span class="op" id="2662885">.</span><span class="ident" id="2662886">Type</span><span class="op" id="2662890">(</span><span class="op" id="2662891">)</span>&nbsp;<span class="op" id="2662893">!=</span>&nbsp;<span class="ident" id="2662896">v2</span><span class="op" id="2662898">.</span><span class="ident" id="2662899">Type</span><span class="op" id="2662903">(</span><span class="op" id="2662904">)</span>&nbsp;<span class="op" id="2662906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2662910">return</span>&nbsp;<span class="builtintype" id="2662917">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2662924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2662928">//&nbsp;if&nbsp;depth&nbsp;&gt;&nbsp;10&nbsp;{&nbsp;panic(&#34;deepValueEqual&#34;)&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;for&nbsp;debugging</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2662991">hard</span>&nbsp;<span class="op" id="2662996">:=</span>&nbsp;<span class="keyword" id="2662999">func</span><span class="op" id="2663003">(</span><span class="ident" id="2663004">k</span>&nbsp;<span class="ident" id="2663006">Kind</span><span class="op" id="2663010">)</span>&nbsp;<span class="builtintype" id="2663012">bool</span>&nbsp;<span class="op" id="2663017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663021">switch</span>&nbsp;<span class="ident" id="2663028">k</span>&nbsp;<span class="op" id="2663030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663034">case</span>&nbsp;<span class="ident" id="2663039">Array</span><span class="op" id="2663044">,</span>&nbsp;<span class="ident" id="2663046">Map</span><span class="op" id="2663049">,</span>&nbsp;<span class="ident" id="2663051">Slice</span><span class="op" id="2663056">,</span>&nbsp;<span class="ident" id="2663058">Struct</span><span class="op" id="2663064">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663069">return</span>&nbsp;<span class="builtintype" id="2663076">true</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663087">return</span>&nbsp;<span class="builtintype" id="2663094">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663105">if</span>&nbsp;<span class="ident" id="2663108">v1</span><span class="op" id="2663110">.</span><span class="ident" id="2663111">CanAddr</span><span class="op" id="2663118">(</span><span class="op" id="2663119">)</span>&nbsp;<span class="op" id="2663121">&amp;&amp;</span>&nbsp;<span class="ident" id="2663124">v2</span><span class="op" id="2663126">.</span><span class="ident" id="2663127">CanAddr</span><span class="op" id="2663134">(</span><span class="op" id="2663135">)</span>&nbsp;<span class="op" id="2663137">&amp;&amp;</span>&nbsp;<span class="ident" id="2663140">hard</span><span class="op" id="2663144">(</span><span class="ident" id="2663145">v1</span><span class="op" id="2663147">.</span><span class="ident" id="2663148">Kind</span><span class="op" id="2663152">(</span><span class="op" id="2663153">)</span><span class="op" id="2663154">)</span>&nbsp;<span class="op" id="2663156">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2663160">addr1</span>&nbsp;<span class="op" id="2663166">:=</span>&nbsp;<span class="ident" id="2663169">v1</span><span class="op" id="2663171">.</span><span class="ident" id="2663172">UnsafeAddr</span><span class="op" id="2663182">(</span><span class="op" id="2663183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2663187">addr2</span>&nbsp;<span class="op" id="2663193">:=</span>&nbsp;<span class="ident" id="2663196">v2</span><span class="op" id="2663198">.</span><span class="ident" id="2663199">UnsafeAddr</span><span class="op" id="2663209">(</span><span class="op" id="2663210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663214">if</span>&nbsp;<span class="ident" id="2663217">addr1</span>&nbsp;<span class="op" id="2663223">&gt;</span>&nbsp;<span class="ident" id="2663225">addr2</span>&nbsp;<span class="op" id="2663231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2663236">//&nbsp;Canonicalize&nbsp;order&nbsp;to&nbsp;reduce&nbsp;number&nbsp;of&nbsp;entries&nbsp;in&nbsp;visited.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2663301">addr1</span><span class="op" id="2663306">,</span>&nbsp;<span class="ident" id="2663308">addr2</span>&nbsp;<span class="op" id="2663314">=</span>&nbsp;<span class="ident" id="2663316">addr2</span><span class="op" id="2663321">,</span>&nbsp;<span class="ident" id="2663323">addr1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2663336">//&nbsp;Short&nbsp;circuit&nbsp;if&nbsp;references&nbsp;are&nbsp;identical&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663387">if</span>&nbsp;<span class="ident" id="2663390">addr1</span>&nbsp;<span class="op" id="2663396">==</span>&nbsp;<span class="ident" id="2663399">addr2</span>&nbsp;<span class="op" id="2663405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663410">return</span>&nbsp;<span class="builtintype" id="2663417">true</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2663429">//&nbsp;...&nbsp;or&nbsp;already&nbsp;seen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2663454">typ</span>&nbsp;<span class="op" id="2663458">:=</span>&nbsp;<span class="ident" id="2663461">v1</span><span class="op" id="2663463">.</span><span class="ident" id="2663464">Type</span><span class="op" id="2663468">(</span><span class="op" id="2663469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2663473">v</span>&nbsp;<span class="op" id="2663475">:=</span>&nbsp;<span class="ident" id="2663478">visit</span><span class="op" id="2663483">{</span><span class="ident" id="2663484">addr1</span><span class="op" id="2663489">,</span>&nbsp;<span class="ident" id="2663491">addr2</span><span class="op" id="2663496">,</span>&nbsp;<span class="ident" id="2663498">typ</span><span class="op" id="2663501">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663505">if</span>&nbsp;<span class="ident" id="2663508">visited</span><span class="op" id="2663515">[</span><span class="ident" id="2663516">v</span><span class="op" id="2663517">]</span>&nbsp;<span class="op" id="2663519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663524">return</span>&nbsp;<span class="builtintype" id="2663531">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2663543">//&nbsp;Remember&nbsp;for&nbsp;later.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2663568">visited</span><span class="op" id="2663575">[</span><span class="ident" id="2663576">v</span><span class="op" id="2663577">]</span>&nbsp;<span class="op" id="2663579">=</span>&nbsp;<span class="builtintype" id="2663581">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663591">switch</span>&nbsp;<span class="ident" id="2663598">v1</span><span class="op" id="2663600">.</span><span class="ident" id="2663601">Kind</span><span class="op" id="2663605">(</span><span class="op" id="2663606">)</span>&nbsp;<span class="op" id="2663608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663611">case</span>&nbsp;<span class="ident" id="2663616">Array</span><span class="op" id="2663621">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663625">for</span>&nbsp;<span class="ident" id="2663629">i</span>&nbsp;<span class="op" id="2663631">:=</span>&nbsp;<span class="num" id="2663634">0</span><span class="op" id="2663635">;</span>&nbsp;<span class="ident" id="2663637">i</span>&nbsp;<span class="op" id="2663639">&lt;</span>&nbsp;<span class="ident" id="2663641">v1</span><span class="op" id="2663643">.</span><span class="ident" id="2663644">Len</span><span class="op" id="2663647">(</span><span class="op" id="2663648">)</span><span class="op" id="2663649">;</span>&nbsp;<span class="ident" id="2663651">i</span><span class="op" id="2663652">++</span>&nbsp;<span class="op" id="2663655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663660">if</span>&nbsp;<span class="op" id="2663663">!</span><span class="ident" id="2663664">deepValueEqual</span><span class="op" id="2663678">(</span><span class="ident" id="2663679">v1</span><span class="op" id="2663681">.</span><span class="ident" id="2663682">Index</span><span class="op" id="2663687">(</span><span class="ident" id="2663688">i</span><span class="op" id="2663689">)</span><span class="op" id="2663690">,</span>&nbsp;<span class="ident" id="2663692">v2</span><span class="op" id="2663694">.</span><span class="ident" id="2663695">Index</span><span class="op" id="2663700">(</span><span class="ident" id="2663701">i</span><span class="op" id="2663702">)</span><span class="op" id="2663703">,</span>&nbsp;<span class="ident" id="2663705">visited</span><span class="op" id="2663712">,</span>&nbsp;<span class="ident" id="2663714">depth</span><span class="op" id="2663719">+</span><span class="num" id="2663720">1</span><span class="op" id="2663721">)</span>&nbsp;<span class="op" id="2663723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663729">return</span>&nbsp;<span class="builtintype" id="2663736">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663749">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663753">return</span>&nbsp;<span class="builtintype" id="2663760">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663766">case</span>&nbsp;<span class="ident" id="2663771">Slice</span><span class="op" id="2663776">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663780">if</span>&nbsp;<span class="ident" id="2663783">v1</span><span class="op" id="2663785">.</span><span class="ident" id="2663786">IsNil</span><span class="op" id="2663791">(</span><span class="op" id="2663792">)</span>&nbsp;<span class="op" id="2663794">!=</span>&nbsp;<span class="ident" id="2663797">v2</span><span class="op" id="2663799">.</span><span class="ident" id="2663800">IsNil</span><span class="op" id="2663805">(</span><span class="op" id="2663806">)</span>&nbsp;<span class="op" id="2663808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663813">return</span>&nbsp;<span class="builtintype" id="2663820">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663828">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663832">if</span>&nbsp;<span class="ident" id="2663835">v1</span><span class="op" id="2663837">.</span><span class="ident" id="2663838">Len</span><span class="op" id="2663841">(</span><span class="op" id="2663842">)</span>&nbsp;<span class="op" id="2663844">!=</span>&nbsp;<span class="ident" id="2663847">v2</span><span class="op" id="2663849">.</span><span class="ident" id="2663850">Len</span><span class="op" id="2663853">(</span><span class="op" id="2663854">)</span>&nbsp;<span class="op" id="2663856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663861">return</span>&nbsp;<span class="builtintype" id="2663868">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663880">if</span>&nbsp;<span class="ident" id="2663883">v1</span><span class="op" id="2663885">.</span><span class="ident" id="2663886">Pointer</span><span class="op" id="2663893">(</span><span class="op" id="2663894">)</span>&nbsp;<span class="op" id="2663896">==</span>&nbsp;<span class="ident" id="2663899">v2</span><span class="op" id="2663901">.</span><span class="ident" id="2663902">Pointer</span><span class="op" id="2663909">(</span><span class="op" id="2663910">)</span>&nbsp;<span class="op" id="2663912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663917">return</span>&nbsp;<span class="builtintype" id="2663924">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2663931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663935">for</span>&nbsp;<span class="ident" id="2663939">i</span>&nbsp;<span class="op" id="2663941">:=</span>&nbsp;<span class="num" id="2663944">0</span><span class="op" id="2663945">;</span>&nbsp;<span class="ident" id="2663947">i</span>&nbsp;<span class="op" id="2663949">&lt;</span>&nbsp;<span class="ident" id="2663951">v1</span><span class="op" id="2663953">.</span><span class="ident" id="2663954">Len</span><span class="op" id="2663957">(</span><span class="op" id="2663958">)</span><span class="op" id="2663959">;</span>&nbsp;<span class="ident" id="2663961">i</span><span class="op" id="2663962">++</span>&nbsp;<span class="op" id="2663965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2663970">if</span>&nbsp;<span class="op" id="2663973">!</span><span class="ident" id="2663974">deepValueEqual</span><span class="op" id="2663988">(</span><span class="ident" id="2663989">v1</span><span class="op" id="2663991">.</span><span class="ident" id="2663992">Index</span><span class="op" id="2663997">(</span><span class="ident" id="2663998">i</span><span class="op" id="2663999">)</span><span class="op" id="2664000">,</span>&nbsp;<span class="ident" id="2664002">v2</span><span class="op" id="2664004">.</span><span class="ident" id="2664005">Index</span><span class="op" id="2664010">(</span><span class="ident" id="2664011">i</span><span class="op" id="2664012">)</span><span class="op" id="2664013">,</span>&nbsp;<span class="ident" id="2664015">visited</span><span class="op" id="2664022">,</span>&nbsp;<span class="ident" id="2664024">depth</span><span class="op" id="2664029">+</span><span class="num" id="2664030">1</span><span class="op" id="2664031">)</span>&nbsp;<span class="op" id="2664033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664039">return</span>&nbsp;<span class="builtintype" id="2664046">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664055">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664063">return</span>&nbsp;<span class="builtintype" id="2664070">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664076">case</span>&nbsp;<span class="ident" id="2664081">Interface</span><span class="op" id="2664090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664094">if</span>&nbsp;<span class="ident" id="2664097">v1</span><span class="op" id="2664099">.</span><span class="ident" id="2664100">IsNil</span><span class="op" id="2664105">(</span><span class="op" id="2664106">)</span>&nbsp;<span class="op" id="2664108">||</span>&nbsp;<span class="ident" id="2664111">v2</span><span class="op" id="2664113">.</span><span class="ident" id="2664114">IsNil</span><span class="op" id="2664119">(</span><span class="op" id="2664120">)</span>&nbsp;<span class="op" id="2664122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664127">return</span>&nbsp;<span class="ident" id="2664134">v1</span><span class="op" id="2664136">.</span><span class="ident" id="2664137">IsNil</span><span class="op" id="2664142">(</span><span class="op" id="2664143">)</span>&nbsp;<span class="op" id="2664145">==</span>&nbsp;<span class="ident" id="2664148">v2</span><span class="op" id="2664150">.</span><span class="ident" id="2664151">IsNil</span><span class="op" id="2664156">(</span><span class="op" id="2664157">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664165">return</span>&nbsp;<span class="ident" id="2664172">deepValueEqual</span><span class="op" id="2664186">(</span><span class="ident" id="2664187">v1</span><span class="op" id="2664189">.</span><span class="ident" id="2664190">Elem</span><span class="op" id="2664194">(</span><span class="op" id="2664195">)</span><span class="op" id="2664196">,</span>&nbsp;<span class="ident" id="2664198">v2</span><span class="op" id="2664200">.</span><span class="ident" id="2664201">Elem</span><span class="op" id="2664205">(</span><span class="op" id="2664206">)</span><span class="op" id="2664207">,</span>&nbsp;<span class="ident" id="2664209">visited</span><span class="op" id="2664216">,</span>&nbsp;<span class="ident" id="2664218">depth</span><span class="op" id="2664223">+</span><span class="num" id="2664224">1</span><span class="op" id="2664225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664228">case</span>&nbsp;<span class="ident" id="2664233">Ptr</span><span class="op" id="2664236">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664240">return</span>&nbsp;<span class="ident" id="2664247">deepValueEqual</span><span class="op" id="2664261">(</span><span class="ident" id="2664262">v1</span><span class="op" id="2664264">.</span><span class="ident" id="2664265">Elem</span><span class="op" id="2664269">(</span><span class="op" id="2664270">)</span><span class="op" id="2664271">,</span>&nbsp;<span class="ident" id="2664273">v2</span><span class="op" id="2664275">.</span><span class="ident" id="2664276">Elem</span><span class="op" id="2664280">(</span><span class="op" id="2664281">)</span><span class="op" id="2664282">,</span>&nbsp;<span class="ident" id="2664284">visited</span><span class="op" id="2664291">,</span>&nbsp;<span class="ident" id="2664293">depth</span><span class="op" id="2664298">+</span><span class="num" id="2664299">1</span><span class="op" id="2664300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664303">case</span>&nbsp;<span class="ident" id="2664308">Struct</span><span class="op" id="2664314">:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664318">for</span>&nbsp;<span class="ident" id="2664322">i</span><span class="op" id="2664323">,</span>&nbsp;<span class="ident" id="2664325">n</span>&nbsp;<span class="op" id="2664327">:=</span>&nbsp;<span class="num" id="2664330">0</span><span class="op" id="2664331">,</span>&nbsp;<span class="ident" id="2664333">v1</span><span class="op" id="2664335">.</span><span class="ident" id="2664336">NumField</span><span class="op" id="2664344">(</span><span class="op" id="2664345">)</span><span class="op" id="2664346">;</span>&nbsp;<span class="ident" id="2664348">i</span>&nbsp;<span class="op" id="2664350">&lt;</span>&nbsp;<span class="ident" id="2664352">n</span><span class="op" id="2664353">;</span>&nbsp;<span class="ident" id="2664355">i</span><span class="op" id="2664356">++</span>&nbsp;<span class="op" id="2664359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664364">if</span>&nbsp;<span class="op" id="2664367">!</span><span class="ident" id="2664368">deepValueEqual</span><span class="op" id="2664382">(</span><span class="ident" id="2664383">v1</span><span class="op" id="2664385">.</span><span class="ident" id="2664386">Field</span><span class="op" id="2664391">(</span><span class="ident" id="2664392">i</span><span class="op" id="2664393">)</span><span class="op" id="2664394">,</span>&nbsp;<span class="ident" id="2664396">v2</span><span class="op" id="2664398">.</span><span class="ident" id="2664399">Field</span><span class="op" id="2664404">(</span><span class="ident" id="2664405">i</span><span class="op" id="2664406">)</span><span class="op" id="2664407">,</span>&nbsp;<span class="ident" id="2664409">visited</span><span class="op" id="2664416">,</span>&nbsp;<span class="ident" id="2664418">depth</span><span class="op" id="2664423">+</span><span class="num" id="2664424">1</span><span class="op" id="2664425">)</span>&nbsp;<span class="op" id="2664427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664433">return</span>&nbsp;<span class="builtintype" id="2664440">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664453">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664457">return</span>&nbsp;<span class="builtintype" id="2664464">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664470">case</span>&nbsp;<span class="ident" id="2664475">Map</span><span class="op" id="2664478">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664482">if</span>&nbsp;<span class="ident" id="2664485">v1</span><span class="op" id="2664487">.</span><span class="ident" id="2664488">IsNil</span><span class="op" id="2664493">(</span><span class="op" id="2664494">)</span>&nbsp;<span class="op" id="2664496">!=</span>&nbsp;<span class="ident" id="2664499">v2</span><span class="op" id="2664501">.</span><span class="ident" id="2664502">IsNil</span><span class="op" id="2664507">(</span><span class="op" id="2664508">)</span>&nbsp;<span class="op" id="2664510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664515">return</span>&nbsp;<span class="builtintype" id="2664522">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664530">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664534">if</span>&nbsp;<span class="ident" id="2664537">v1</span><span class="op" id="2664539">.</span><span class="ident" id="2664540">Len</span><span class="op" id="2664543">(</span><span class="op" id="2664544">)</span>&nbsp;<span class="op" id="2664546">!=</span>&nbsp;<span class="ident" id="2664549">v2</span><span class="op" id="2664551">.</span><span class="ident" id="2664552">Len</span><span class="op" id="2664555">(</span><span class="op" id="2664556">)</span>&nbsp;<span class="op" id="2664558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664563">return</span>&nbsp;<span class="builtintype" id="2664570">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664582">if</span>&nbsp;<span class="ident" id="2664585">v1</span><span class="op" id="2664587">.</span><span class="ident" id="2664588">Pointer</span><span class="op" id="2664595">(</span><span class="op" id="2664596">)</span>&nbsp;<span class="op" id="2664598">==</span>&nbsp;<span class="ident" id="2664601">v2</span><span class="op" id="2664603">.</span><span class="ident" id="2664604">Pointer</span><span class="op" id="2664611">(</span><span class="op" id="2664612">)</span>&nbsp;<span class="op" id="2664614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664619">return</span>&nbsp;<span class="builtintype" id="2664626">true</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664637">for</span>&nbsp;<span class="ident" id="2664641">_</span><span class="op" id="2664642">,</span>&nbsp;<span class="ident" id="2664644">k</span>&nbsp;<span class="op" id="2664646">:=</span>&nbsp;<span class="keyword" id="2664649">range</span>&nbsp;<span class="ident" id="2664655">v1</span><span class="op" id="2664657">.</span><span class="ident" id="2664658">MapKeys</span><span class="op" id="2664665">(</span><span class="op" id="2664666">)</span>&nbsp;<span class="op" id="2664668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664673">if</span>&nbsp;<span class="op" id="2664676">!</span><span class="ident" id="2664677">deepValueEqual</span><span class="op" id="2664691">(</span><span class="ident" id="2664692">v1</span><span class="op" id="2664694">.</span><span class="ident" id="2664695">MapIndex</span><span class="op" id="2664703">(</span><span class="ident" id="2664704">k</span><span class="op" id="2664705">)</span><span class="op" id="2664706">,</span>&nbsp;<span class="ident" id="2664708">v2</span><span class="op" id="2664710">.</span><span class="ident" id="2664711">MapIndex</span><span class="op" id="2664719">(</span><span class="ident" id="2664720">k</span><span class="op" id="2664721">)</span><span class="op" id="2664722">,</span>&nbsp;<span class="ident" id="2664724">visited</span><span class="op" id="2664731">,</span>&nbsp;<span class="ident" id="2664733">depth</span><span class="op" id="2664738">+</span><span class="num" id="2664739">1</span><span class="op" id="2664740">)</span>&nbsp;<span class="op" id="2664742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664748">return</span>&nbsp;<span class="builtintype" id="2664755">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664764">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664772">return</span>&nbsp;<span class="builtintype" id="2664779">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664785">case</span>&nbsp;<span class="ident" id="2664790">Func</span><span class="op" id="2664794">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664798">if</span>&nbsp;<span class="ident" id="2664801">v1</span><span class="op" id="2664803">.</span><span class="ident" id="2664804">IsNil</span><span class="op" id="2664809">(</span><span class="op" id="2664810">)</span>&nbsp;<span class="op" id="2664812">&amp;&amp;</span>&nbsp;<span class="ident" id="2664815">v2</span><span class="op" id="2664817">.</span><span class="ident" id="2664818">IsNil</span><span class="op" id="2664823">(</span><span class="op" id="2664824">)</span>&nbsp;<span class="op" id="2664826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664831">return</span>&nbsp;<span class="builtintype" id="2664838">true</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2664849">//&nbsp;Can&#39;t&nbsp;do&nbsp;better&nbsp;than&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664881">return</span>&nbsp;<span class="builtintype" id="2664888">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664895">default</span><span class="op" id="2664902">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2664906">//&nbsp;Normal&nbsp;equality&nbsp;suffices</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2664936">return</span>&nbsp;<span class="ident" id="2664943">valueInterface</span><span class="op" id="2664957">(</span><span class="ident" id="2664958">v1</span><span class="op" id="2664960">,</span>&nbsp;<span class="builtintype" id="2664962">false</span><span class="op" id="2664967">)</span>&nbsp;<span class="op" id="2664969">==</span>&nbsp;<span class="ident" id="2664972">valueInterface</span><span class="op" id="2664986">(</span><span class="ident" id="2664987">v2</span><span class="op" id="2664989">,</span>&nbsp;<span class="builtintype" id="2664991">false</span><span class="op" id="2664996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2664999">}</span><br>
<span class="lineno"></span><span class="op" id="2665001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2665004">//&nbsp;DeepEqual&nbsp;tests&nbsp;for&nbsp;deep&nbsp;equality.&nbsp;It&nbsp;uses&nbsp;normal&nbsp;==&nbsp;equality&nbsp;where</span><br>
<span class="lineno">130</span><span class="comment" id="2665075">//&nbsp;possible&nbsp;but&nbsp;will&nbsp;scan&nbsp;elements&nbsp;of&nbsp;arrays,&nbsp;slices,&nbsp;maps,&nbsp;and&nbsp;fields&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2665149">//&nbsp;structs.&nbsp;In&nbsp;maps,&nbsp;keys&nbsp;are&nbsp;compared&nbsp;with&nbsp;==&nbsp;but&nbsp;elements&nbsp;use&nbsp;deep</span><br>
<span class="lineno"></span><span class="comment" id="2665218">//&nbsp;equality.&nbsp;DeepEqual&nbsp;correctly&nbsp;handles&nbsp;recursive&nbsp;types.&nbsp;Functions&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2665296">//&nbsp;only&nbsp;if&nbsp;they&nbsp;are&nbsp;both&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2665326">//&nbsp;An&nbsp;empty&nbsp;slice&nbsp;is&nbsp;not&nbsp;equal&nbsp;to&nbsp;a&nbsp;nil&nbsp;slice.</span><br>
<span class="lineno">135</span><span class="keyword" id="2665373">func</span>&nbsp;<span class="ident" id="2665378">DeepEqual</span><span class="op" id="2665387">(</span><span class="ident" id="2665388">a1</span><span class="op" id="2665390">,</span>&nbsp;<span class="ident" id="2665392">a2</span>&nbsp;<span class="keyword" id="2665395">interface</span><span class="op" id="2665404">{</span><span class="op" id="2665405">}</span><span class="op" id="2665406">)</span>&nbsp;<span class="builtintype" id="2665408">bool</span>&nbsp;<span class="op" id="2665413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2665416">if</span>&nbsp;<span class="ident" id="2665419">a1</span>&nbsp;<span class="op" id="2665422">==</span>&nbsp;<span class="ident" id="2665425">nil</span>&nbsp;<span class="op" id="2665429">||</span>&nbsp;<span class="ident" id="2665432">a2</span>&nbsp;<span class="op" id="2665435">==</span>&nbsp;<span class="ident" id="2665438">nil</span>&nbsp;<span class="op" id="2665442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2665446">return</span>&nbsp;<span class="ident" id="2665453">a1</span>&nbsp;<span class="op" id="2665456">==</span>&nbsp;<span class="ident" id="2665459">a2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2665463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2665466">v1</span>&nbsp;<span class="op" id="2665469">:=</span>&nbsp;<span class="ident" id="2665472">ValueOf</span><span class="op" id="2665479">(</span><span class="ident" id="2665480">a1</span><span class="op" id="2665482">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2665485">v2</span>&nbsp;<span class="op" id="2665488">:=</span>&nbsp;<span class="ident" id="2665491">ValueOf</span><span class="op" id="2665498">(</span><span class="ident" id="2665499">a2</span><span class="op" id="2665501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2665504">if</span>&nbsp;<span class="ident" id="2665507">v1</span><span class="op" id="2665509">.</span><span class="ident" id="2665510">Type</span><span class="op" id="2665514">(</span><span class="op" id="2665515">)</span>&nbsp;<span class="op" id="2665517">!=</span>&nbsp;<span class="ident" id="2665520">v2</span><span class="op" id="2665522">.</span><span class="ident" id="2665523">Type</span><span class="op" id="2665527">(</span><span class="op" id="2665528">)</span>&nbsp;<span class="op" id="2665530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2665534">return</span>&nbsp;<span class="builtintype" id="2665541">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2665548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2665551">return</span>&nbsp;<span class="ident" id="2665558">deepValueEqual</span><span class="op" id="2665572">(</span><span class="ident" id="2665573">v1</span><span class="op" id="2665575">,</span>&nbsp;<span class="ident" id="2665577">v2</span><span class="op" id="2665579">,</span>&nbsp;<span class="builtinfunc" id="2665581">make</span><span class="op" id="2665585">(</span><span class="keyword" id="2665586">map</span><span class="op" id="2665589">[</span><span class="ident" id="2665590">visit</span><span class="op" id="2665595">]</span><span class="builtintype" id="2665596">bool</span><span class="op" id="2665600">)</span><span class="op" id="2665601">,</span>&nbsp;<span class="num" id="2665603">0</span><span class="op" id="2665604">)</span><br>
<span class="lineno">145</span><span class="op" id="2665606">}</span>
</div>
</body>
</html>
