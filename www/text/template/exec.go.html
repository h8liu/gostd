<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3534790">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3534845">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3534899">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3534950">package</span>&nbsp;<span class="ident" id="3534958">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3534968">import</span>&nbsp;<span class="op" id="3534975">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3534978">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3534987">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3534994">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3535000">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3535011">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3535022">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3535030">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3535041">&#34;text/template/parse&#34;</span><br>
<span class="lineno"></span><span class="op" id="3535063">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3535066">//&nbsp;state&nbsp;represents&nbsp;the&nbsp;state&nbsp;of&nbsp;an&nbsp;execution.&nbsp;It&#39;s&nbsp;not&nbsp;part&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3535134">//&nbsp;template&nbsp;so&nbsp;that&nbsp;multiple&nbsp;executions&nbsp;of&nbsp;the&nbsp;same&nbsp;template</span><br>
<span class="lineno">20</span><span class="comment" id="3535195">//&nbsp;can&nbsp;execute&nbsp;in&nbsp;parallel.</span><br>
<span class="lineno"></span><span class="keyword" id="3535223">type</span>&nbsp;<span class="ident" id="3535228">state</span>&nbsp;<span class="keyword" id="3535234">struct</span>&nbsp;<span class="op" id="3535241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535244">tmpl</span>&nbsp;<span class="op" id="3535249">*</span><span class="ident" id="3535250"><a href="/text/template/template.go.html#3580507">Template</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535260">wr</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3535265"><a href="/text/template/exec.go.html#3534994">io</a></span><span class="op" id="3535267">.</span><span class="ident" id="3535268">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535276">node</span>&nbsp;<span class="ident" id="3535281"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3535286">.</span><span class="ident" id="3535287">Node</span>&nbsp;<span class="comment" id="3535292">//&nbsp;current&nbsp;node,&nbsp;for&nbsp;errors</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535321">vars</span>&nbsp;<span class="op" id="3535326">[</span><span class="op" id="3535327">]</span><span class="ident" id="3535328"><a href="/text/template/exec.go.html#3535453">variable</a></span>&nbsp;<span class="comment" id="3535337">//&nbsp;push-down&nbsp;stack&nbsp;of&nbsp;variable&nbsp;values.</span><br>
<span class="lineno"></span><span class="op" id="3535376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3535379">//&nbsp;variable&nbsp;holds&nbsp;the&nbsp;dynamic&nbsp;value&nbsp;of&nbsp;a&nbsp;variable&nbsp;such&nbsp;as&nbsp;$,&nbsp;$x&nbsp;etc.</span><br>
<span class="lineno"></span><span class="keyword" id="3535448">type</span>&nbsp;<span class="ident" id="3535453">variable</span>&nbsp;<span class="keyword" id="3535462">struct</span>&nbsp;<span class="op" id="3535469">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535472">name</span>&nbsp;&nbsp;<span class="builtintype" id="3535478">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535486">value</span>&nbsp;<span class="ident" id="3535492"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3535499">.</span><span class="ident" id="3535500">Value</span><br>
<span class="lineno"></span><span class="op" id="3535506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3535509">//&nbsp;push&nbsp;pushes&nbsp;a&nbsp;new&nbsp;variable&nbsp;on&nbsp;the&nbsp;stack.</span><br>
<span class="lineno">35</span><span class="keyword" id="3535553">func</span>&nbsp;<span class="op" id="3535558">(</span><span class="ident" id="3535559">s</span>&nbsp;<span class="op" id="3535561">*</span><span class="ident" id="3535562"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3535567">)</span>&nbsp;<span class="ident" id="3535569">push</span><span class="op" id="3535573">(</span><span class="ident" id="3535574">name</span>&nbsp;<span class="builtintype" id="3535579">string</span><span class="op" id="3535585">,</span>&nbsp;<span class="ident" id="3535587">value</span>&nbsp;<span class="ident" id="3535593"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3535600">.</span><span class="ident" id="3535601">Value</span><span class="op" id="3535606">)</span>&nbsp;<span class="op" id="3535608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535611"><a href="/text/template/exec.go.html#3535559">s</a></span><span class="op" id="3535612">.</span><span class="ident" id="3535613">vars</span>&nbsp;<span class="op" id="3535618">=</span>&nbsp;<span class="builtinfunc" id="3535620">append</span><span class="op" id="3535626">(</span><span class="ident" id="3535627"><a href="/text/template/exec.go.html#3535559">s</a></span><span class="op" id="3535628">.</span><span class="ident" id="3535629">vars</span><span class="op" id="3535633">,</span>&nbsp;<span class="ident" id="3535635"><a href="/text/template/exec.go.html#3535453">variable</a></span><span class="op" id="3535643">{</span><span class="ident" id="3535644"><a href="/text/template/exec.go.html#3535574">name</a></span><span class="op" id="3535648">,</span>&nbsp;<span class="ident" id="3535650"><a href="/text/template/exec.go.html#3535587">value</a></span><span class="op" id="3535655">}</span><span class="op" id="3535656">)</span><br>
<span class="lineno"></span><span class="op" id="3535658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3535661">//&nbsp;mark&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;variable&nbsp;stack.</span><br>
<span class="lineno">40</span><span class="keyword" id="3535711">func</span>&nbsp;<span class="op" id="3535716">(</span><span class="ident" id="3535717">s</span>&nbsp;<span class="op" id="3535719">*</span><span class="ident" id="3535720"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3535725">)</span>&nbsp;<span class="ident" id="3535727">mark</span><span class="op" id="3535731">(</span><span class="op" id="3535732">)</span>&nbsp;<span class="builtintype" id="3535734">int</span>&nbsp;<span class="op" id="3535738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535741">return</span>&nbsp;<span class="builtinfunc" id="3535748">len</span><span class="op" id="3535751">(</span><span class="ident" id="3535752"><a href="/text/template/exec.go.html#3535717">s</a></span><span class="op" id="3535753">.</span><span class="ident" id="3535754">vars</span><span class="op" id="3535758">)</span><br>
<span class="lineno"></span><span class="op" id="3535760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3535763">//&nbsp;pop&nbsp;pops&nbsp;the&nbsp;variable&nbsp;stack&nbsp;up&nbsp;to&nbsp;the&nbsp;mark.</span><br>
<span class="lineno">45</span><span class="keyword" id="3535810">func</span>&nbsp;<span class="op" id="3535815">(</span><span class="ident" id="3535816">s</span>&nbsp;<span class="op" id="3535818">*</span><span class="ident" id="3535819"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3535824">)</span>&nbsp;<span class="ident" id="3535826">pop</span><span class="op" id="3535829">(</span><span class="ident" id="3535830">mark</span>&nbsp;<span class="builtintype" id="3535835">int</span><span class="op" id="3535838">)</span>&nbsp;<span class="op" id="3535840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535843"><a href="/text/template/exec.go.html#3535816">s</a></span><span class="op" id="3535844">.</span><span class="ident" id="3535845">vars</span>&nbsp;<span class="op" id="3535850">=</span>&nbsp;<span class="ident" id="3535852"><a href="/text/template/exec.go.html#3535816">s</a></span><span class="op" id="3535853">.</span><span class="ident" id="3535854">vars</span><span class="op" id="3535858">[</span><span class="num" id="3535859">0</span><span class="op" id="3535860">:</span><span class="ident" id="3535861"><a href="/text/template/exec.go.html#3535830">mark</a></span><span class="op" id="3535865">]</span><br>
<span class="lineno"></span><span class="op" id="3535867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3535870">//&nbsp;setVar&nbsp;overwrites&nbsp;the&nbsp;top-nth&nbsp;variable&nbsp;on&nbsp;the&nbsp;stack.&nbsp;Used&nbsp;by&nbsp;range&nbsp;iterations.</span><br>
<span class="lineno">50</span><span class="keyword" id="3535952">func</span>&nbsp;<span class="op" id="3535957">(</span><span class="ident" id="3535958">s</span>&nbsp;<span class="op" id="3535960">*</span><span class="ident" id="3535961"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3535966">)</span>&nbsp;<span class="ident" id="3535968">setVar</span><span class="op" id="3535974">(</span><span class="ident" id="3535975">n</span>&nbsp;<span class="builtintype" id="3535977">int</span><span class="op" id="3535980">,</span>&nbsp;<span class="ident" id="3535982">value</span>&nbsp;<span class="ident" id="3535988"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3535995">.</span><span class="ident" id="3535996">Value</span><span class="op" id="3536001">)</span>&nbsp;<span class="op" id="3536003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536006"><a href="/text/template/exec.go.html#3535958">s</a></span><span class="op" id="3536007">.</span><span class="ident" id="3536008">vars</span><span class="op" id="3536012">[</span><span class="builtinfunc" id="3536013">len</span><span class="op" id="3536016">(</span><span class="ident" id="3536017"><a href="/text/template/exec.go.html#3535958">s</a></span><span class="op" id="3536018">.</span><span class="ident" id="3536019">vars</span><span class="op" id="3536023">)</span><span class="op" id="3536024">-</span><span class="ident" id="3536025"><a href="/text/template/exec.go.html#3535975">n</a></span><span class="op" id="3536026">]</span><span class="op" id="3536027">.</span><span class="ident" id="3536028">value</span>&nbsp;<span class="op" id="3536034">=</span>&nbsp;<span class="ident" id="3536036"><a href="/text/template/exec.go.html#3535982">value</a></span><br>
<span class="lineno"></span><span class="op" id="3536042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3536045">//&nbsp;varValue&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;named&nbsp;variable.</span><br>
<span class="lineno">55</span><span class="keyword" id="3536098">func</span>&nbsp;<span class="op" id="3536103">(</span><span class="ident" id="3536104">s</span>&nbsp;<span class="op" id="3536106">*</span><span class="ident" id="3536107"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3536112">)</span>&nbsp;<span class="ident" id="3536114">varValue</span><span class="op" id="3536122">(</span><span class="ident" id="3536123">name</span>&nbsp;<span class="builtintype" id="3536128">string</span><span class="op" id="3536134">)</span>&nbsp;<span class="ident" id="3536136"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3536143">.</span><span class="ident" id="3536144">Value</span>&nbsp;<span class="op" id="3536150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536153">for</span>&nbsp;<span class="ident" id="3536157">i</span>&nbsp;<span class="op" id="3536159">:=</span>&nbsp;<span class="ident" id="3536162"><a href="/text/template/exec.go.html#3536104">s</a></span><span class="op" id="3536163">.</span><span class="ident" id="3536164">mark</span><span class="op" id="3536168">(</span><span class="op" id="3536169">)</span>&nbsp;<span class="op" id="3536171">-</span>&nbsp;<span class="num" id="3536173">1</span><span class="op" id="3536174">;</span>&nbsp;<span class="ident" id="3536176"><a href="/text/template/exec.go.html#3536157">i</a></span>&nbsp;<span class="op" id="3536178">&gt;=</span>&nbsp;<span class="num" id="3536181">0</span><span class="op" id="3536182">;</span>&nbsp;<span class="ident" id="3536184"><a href="/text/template/exec.go.html#3536157">i</a></span><span class="op" id="3536185">--</span>&nbsp;<span class="op" id="3536188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536192">if</span>&nbsp;<span class="ident" id="3536195"><a href="/text/template/exec.go.html#3536104">s</a></span><span class="op" id="3536196">.</span><span class="ident" id="3536197">vars</span><span class="op" id="3536201">[</span><span class="ident" id="3536202"><a href="/text/template/exec.go.html#3536157">i</a></span><span class="op" id="3536203">]</span><span class="op" id="3536204">.</span><span class="ident" id="3536205">name</span>&nbsp;<span class="op" id="3536210">==</span>&nbsp;<span class="ident" id="3536213"><a href="/text/template/exec.go.html#3536123">name</a></span>&nbsp;<span class="op" id="3536218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536223">return</span>&nbsp;<span class="ident" id="3536230"><a href="/text/template/exec.go.html#3536104">s</a></span><span class="op" id="3536231">.</span><span class="ident" id="3536232">vars</span><span class="op" id="3536236">[</span><span class="ident" id="3536237"><a href="/text/template/exec.go.html#3536157">i</a></span><span class="op" id="3536238">]</span><span class="op" id="3536239">.</span><span class="ident" id="3536240">value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536248">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536254"><a href="/text/template/exec.go.html#3536104">s</a></span><span class="op" id="3536255">.</span><span class="ident" id="3536256">errorf</span><span class="op" id="3536262">(</span><span class="string" id="3536263">&#34;undefined&nbsp;variable:&nbsp;%s&#34;</span><span class="op" id="3536287">,</span>&nbsp;<span class="ident" id="3536289"><a href="/text/template/exec.go.html#3536123">name</a></span><span class="op" id="3536293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536296">return</span>&nbsp;<span class="ident" id="3536303"><a href="/text/template/exec.go.html#3536315">zero</a></span><br>
<span class="lineno"></span><span class="op" id="3536308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3536311">var</span>&nbsp;<span class="ident" id="3536315">zero</span>&nbsp;<span class="ident" id="3536320"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3536327">.</span><span class="ident" id="3536328">Value</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3536335">//&nbsp;at&nbsp;marks&nbsp;the&nbsp;state&nbsp;to&nbsp;be&nbsp;on&nbsp;node&nbsp;n,&nbsp;for&nbsp;error&nbsp;reporting.</span><br>
<span class="lineno"></span><span class="keyword" id="3536395">func</span>&nbsp;<span class="op" id="3536400">(</span><span class="ident" id="3536401">s</span>&nbsp;<span class="op" id="3536403">*</span><span class="ident" id="3536404"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3536409">)</span>&nbsp;<span class="ident" id="3536411">at</span><span class="op" id="3536413">(</span><span class="ident" id="3536414">node</span>&nbsp;<span class="ident" id="3536419"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3536424">.</span><span class="ident" id="3536425">Node</span><span class="op" id="3536429">)</span>&nbsp;<span class="op" id="3536431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536434"><a href="/text/template/exec.go.html#3536401">s</a></span><span class="op" id="3536435">.</span><span class="ident" id="3536436">node</span>&nbsp;<span class="op" id="3536441">=</span>&nbsp;<span class="ident" id="3536443"><a href="/text/template/exec.go.html#3536414">node</a></span><br>
<span class="lineno">70</span><span class="op" id="3536448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3536451">//&nbsp;doublePercent&nbsp;returns&nbsp;the&nbsp;string&nbsp;with&nbsp;%&#39;s&nbsp;replaced&nbsp;by&nbsp;%%,&nbsp;if&nbsp;necessary,</span><br>
<span class="lineno"></span><span class="comment" id="3536526">//&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;used&nbsp;safely&nbsp;inside&nbsp;a&nbsp;Printf&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3536585">func</span>&nbsp;<span class="ident" id="3536590">doublePercent</span><span class="op" id="3536603">(</span><span class="ident" id="3536604">str</span>&nbsp;<span class="builtintype" id="3536608">string</span><span class="op" id="3536614">)</span>&nbsp;<span class="builtintype" id="3536616">string</span>&nbsp;<span class="op" id="3536623">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536626">if</span>&nbsp;<span class="ident" id="3536629"><a href="/text/template/exec.go.html#3535030">strings</a></span><span class="op" id="3536636">.</span><span class="ident" id="3536637">Contains</span><span class="op" id="3536645">(</span><span class="ident" id="3536646"><a href="/text/template/exec.go.html#3536604">str</a></span><span class="op" id="3536649">,</span>&nbsp;<span class="string" id="3536651">&#34;%&#34;</span><span class="op" id="3536654">)</span>&nbsp;<span class="op" id="3536656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536660"><a href="/text/template/exec.go.html#3536604">str</a></span>&nbsp;<span class="op" id="3536664">=</span>&nbsp;<span class="ident" id="3536666"><a href="/text/template/exec.go.html#3535030">strings</a></span><span class="op" id="3536673">.</span><span class="ident" id="3536674">Replace</span><span class="op" id="3536681">(</span><span class="ident" id="3536682"><a href="/text/template/exec.go.html#3536604">str</a></span><span class="op" id="3536685">,</span>&nbsp;<span class="string" id="3536687">&#34;%&#34;</span><span class="op" id="3536690">,</span>&nbsp;<span class="string" id="3536692">&#34;%%&#34;</span><span class="op" id="3536696">,</span>&nbsp;<span class="op" id="3536698">-</span><span class="num" id="3536699">1</span><span class="op" id="3536700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536706">return</span>&nbsp;<span class="ident" id="3536713"><a href="/text/template/exec.go.html#3536604">str</a></span><br>
<span class="lineno"></span><span class="op" id="3536717">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="3536720">//&nbsp;errorf&nbsp;formats&nbsp;the&nbsp;error&nbsp;and&nbsp;terminates&nbsp;processing.</span><br>
<span class="lineno"></span><span class="keyword" id="3536775">func</span>&nbsp;<span class="op" id="3536780">(</span><span class="ident" id="3536781">s</span>&nbsp;<span class="op" id="3536783">*</span><span class="ident" id="3536784"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3536789">)</span>&nbsp;<span class="ident" id="3536791">errorf</span><span class="op" id="3536797">(</span><span class="ident" id="3536798">format</span>&nbsp;<span class="builtintype" id="3536805">string</span><span class="op" id="3536811">,</span>&nbsp;<span class="ident" id="3536813">args</span>&nbsp;<span class="op" id="3536818">...</span><span class="keyword" id="3536821">interface</span><span class="op" id="3536830">{</span><span class="op" id="3536831">}</span><span class="op" id="3536832">)</span>&nbsp;<span class="op" id="3536834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536837">name</span>&nbsp;<span class="op" id="3536842">:=</span>&nbsp;<span class="ident" id="3536845"><a href="/text/template/exec.go.html#3536590">doublePercent</a></span><span class="op" id="3536858">(</span><span class="ident" id="3536859"><a href="/text/template/exec.go.html#3536781">s</a></span><span class="op" id="3536860">.</span><span class="ident" id="3536861">tmpl</span><span class="op" id="3536865">.</span><span class="ident" id="3536866">Name</span><span class="op" id="3536870">(</span><span class="op" id="3536871">)</span><span class="op" id="3536872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536875">if</span>&nbsp;<span class="ident" id="3536878"><a href="/text/template/exec.go.html#3536781">s</a></span><span class="op" id="3536879">.</span><span class="ident" id="3536880">node</span>&nbsp;<span class="op" id="3536885">==</span>&nbsp;<span class="ident" id="3536888">nil</span>&nbsp;<span class="op" id="3536892">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536896"><a href="/text/template/exec.go.html#3536798">format</a></span>&nbsp;<span class="op" id="3536903">=</span>&nbsp;<span class="ident" id="3536905"><a href="/text/template/exec.go.html#3534987">fmt</a></span><span class="op" id="3536908">.</span><span class="ident" id="3536909">Sprintf</span><span class="op" id="3536916">(</span><span class="string" id="3536917">&#34;template:&nbsp;%s:&nbsp;%s&#34;</span><span class="op" id="3536935">,</span>&nbsp;<span class="ident" id="3536937"><a href="/text/template/exec.go.html#3536837">name</a></span><span class="op" id="3536941">,</span>&nbsp;<span class="ident" id="3536943"><a href="/text/template/exec.go.html#3536798">format</a></span><span class="op" id="3536949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536952">}</span>&nbsp;<span class="keyword" id="3536954">else</span>&nbsp;<span class="op" id="3536959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536963">location</span><span class="op" id="3536971">,</span>&nbsp;<span class="ident" id="3536973">context</span>&nbsp;<span class="op" id="3536981">:=</span>&nbsp;<span class="ident" id="3536984"><a href="/text/template/exec.go.html#3536781">s</a></span><span class="op" id="3536985">.</span><span class="ident" id="3536986">tmpl</span><span class="op" id="3536990">.</span><span class="ident" id="3536991">ErrorContext</span><span class="op" id="3537003">(</span><span class="ident" id="3537004"><a href="/text/template/exec.go.html#3536781">s</a></span><span class="op" id="3537005">.</span><span class="ident" id="3537006">node</span><span class="op" id="3537010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537014"><a href="/text/template/exec.go.html#3536798">format</a></span>&nbsp;<span class="op" id="3537021">=</span>&nbsp;<span class="ident" id="3537023"><a href="/text/template/exec.go.html#3534987">fmt</a></span><span class="op" id="3537026">.</span><span class="ident" id="3537027">Sprintf</span><span class="op" id="3537034">(</span><span class="string" id="3537035">&#34;template:&nbsp;%s:&nbsp;executing&nbsp;%q&nbsp;at&nbsp;&lt;%s&gt;:&nbsp;%s&#34;</span><span class="op" id="3537075">,</span>&nbsp;<span class="ident" id="3537077"><a href="/text/template/exec.go.html#3536963">location</a></span><span class="op" id="3537085">,</span>&nbsp;<span class="ident" id="3537087"><a href="/text/template/exec.go.html#3536837">name</a></span><span class="op" id="3537091">,</span>&nbsp;<span class="ident" id="3537093"><a href="/text/template/exec.go.html#3536590">doublePercent</a></span><span class="op" id="3537106">(</span><span class="ident" id="3537107"><a href="/text/template/exec.go.html#3536973">context</a></span><span class="op" id="3537114">)</span><span class="op" id="3537115">,</span>&nbsp;<span class="ident" id="3537117"><a href="/text/template/exec.go.html#3536798">format</a></span><span class="op" id="3537123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3537126">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3537129">panic</span><span class="op" id="3537134">(</span><span class="ident" id="3537135"><a href="/text/template/exec.go.html#3534987">fmt</a></span><span class="op" id="3537138">.</span><span class="ident" id="3537139">Errorf</span><span class="op" id="3537145">(</span><span class="ident" id="3537146"><a href="/text/template/exec.go.html#3536798">format</a></span><span class="op" id="3537152">,</span>&nbsp;<span class="ident" id="3537154"><a href="/text/template/exec.go.html#3536813">args</a></span><span class="op" id="3537158">...</span><span class="op" id="3537161">)</span><span class="op" id="3537162">)</span><br>
<span class="lineno"></span><span class="op" id="3537164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3537167">//&nbsp;errRecover&nbsp;is&nbsp;the&nbsp;handler&nbsp;that&nbsp;turns&nbsp;panics&nbsp;into&nbsp;returns&nbsp;from&nbsp;the&nbsp;top</span><br>
<span class="lineno"></span><span class="comment" id="3537240">//&nbsp;level&nbsp;of&nbsp;Parse.</span><br>
<span class="lineno">95</span><span class="keyword" id="3537259">func</span>&nbsp;<span class="ident" id="3537264">errRecover</span><span class="op" id="3537274">(</span><span class="ident" id="3537275">errp</span>&nbsp;<span class="op" id="3537280">*</span><span class="builtintype" id="3537281">error</span><span class="op" id="3537286">)</span>&nbsp;<span class="op" id="3537288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537291">e</span>&nbsp;<span class="op" id="3537293">:=</span>&nbsp;<span class="builtinfunc" id="3537296">recover</span><span class="op" id="3537303">(</span><span class="op" id="3537304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537307">if</span>&nbsp;<span class="ident" id="3537310"><a href="/text/template/exec.go.html#3537291">e</a></span>&nbsp;<span class="op" id="3537312">!=</span>&nbsp;<span class="ident" id="3537315">nil</span>&nbsp;<span class="op" id="3537319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537323">switch</span>&nbsp;<span class="ident" id="3537330">err</span>&nbsp;<span class="op" id="3537334">:=</span>&nbsp;<span class="ident" id="3537337"><a href="/text/template/exec.go.html#3537291">e</a></span><span class="op" id="3537338">.</span><span class="op" id="3537339">(</span><span class="keyword" id="3537340">type</span><span class="op" id="3537344">)</span>&nbsp;<span class="op" id="3537346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537350">case</span>&nbsp;<span class="ident" id="3537355"><a href="/text/template/exec.go.html#3535011">runtime</a></span><span class="op" id="3537362">.</span><span class="ident" id="3537363">Error</span><span class="op" id="3537368">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3537373">panic</span><span class="op" id="3537378">(</span><span class="ident" id="3537379"><a href="/text/template/exec.go.html#3537291">e</a></span><span class="op" id="3537380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537384">case</span>&nbsp;<span class="builtintype" id="3537389">error</span><span class="op" id="3537394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3537399">*</span><span class="ident" id="3537400"><a href="/text/template/exec.go.html#3537275">errp</a></span>&nbsp;<span class="op" id="3537405">=</span>&nbsp;<span class="ident" id="3537407"><a href="/text/template/exec.go.html#3537330">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537413">default</span><span class="op" id="3537420">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3537425">panic</span><span class="op" id="3537430">(</span><span class="ident" id="3537431"><a href="/text/template/exec.go.html#3537291">e</a></span><span class="op" id="3537432">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3537436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3537439">}</span><br>
<span class="lineno"></span><span class="op" id="3537441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3537444">//&nbsp;ExecuteTemplate&nbsp;applies&nbsp;the&nbsp;template&nbsp;associated&nbsp;with&nbsp;t&nbsp;that&nbsp;has&nbsp;the&nbsp;given&nbsp;name</span><br>
<span class="lineno">110</span><span class="comment" id="3537526">//&nbsp;to&nbsp;the&nbsp;specified&nbsp;data&nbsp;object&nbsp;and&nbsp;writes&nbsp;the&nbsp;output&nbsp;to&nbsp;wr.</span><br>
<span class="lineno"></span><span class="comment" id="3537587">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs&nbsp;executing&nbsp;the&nbsp;template&nbsp;or&nbsp;writing&nbsp;its&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="3537655">//&nbsp;execution&nbsp;stops,&nbsp;but&nbsp;partial&nbsp;results&nbsp;may&nbsp;already&nbsp;have&nbsp;been&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3537728">//&nbsp;the&nbsp;output&nbsp;writer.</span><br>
<span class="lineno"></span><span class="comment" id="3537750">//&nbsp;A&nbsp;template&nbsp;may&nbsp;be&nbsp;executed&nbsp;safely&nbsp;in&nbsp;parallel.</span><br>
<span class="lineno">115</span><span class="keyword" id="3537800">func</span>&nbsp;<span class="op" id="3537805">(</span><span class="ident" id="3537806">t</span>&nbsp;<span class="op" id="3537808">*</span><span class="ident" id="3537809"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3537817">)</span>&nbsp;<span class="ident" id="3537819">ExecuteTemplate</span><span class="op" id="3537834">(</span><span class="ident" id="3537835">wr</span>&nbsp;<span class="ident" id="3537838"><a href="/text/template/exec.go.html#3534994">io</a></span><span class="op" id="3537840">.</span><span class="ident" id="3537841">Writer</span><span class="op" id="3537847">,</span>&nbsp;<span class="ident" id="3537849">name</span>&nbsp;<span class="builtintype" id="3537854">string</span><span class="op" id="3537860">,</span>&nbsp;<span class="ident" id="3537862">data</span>&nbsp;<span class="keyword" id="3537867">interface</span><span class="op" id="3537876">{</span><span class="op" id="3537877">}</span><span class="op" id="3537878">)</span>&nbsp;<span class="builtintype" id="3537880">error</span>&nbsp;<span class="op" id="3537886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537889">tmpl</span>&nbsp;<span class="op" id="3537894">:=</span>&nbsp;<span class="ident" id="3537897"><a href="/text/template/exec.go.html#3537806">t</a></span><span class="op" id="3537898">.</span><span class="ident" id="3537899">tmpl</span><span class="op" id="3537903">[</span><span class="ident" id="3537904"><a href="/text/template/exec.go.html#3537849">name</a></span><span class="op" id="3537908">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537911">if</span>&nbsp;<span class="ident" id="3537914"><a href="/text/template/exec.go.html#3537889">tmpl</a></span>&nbsp;<span class="op" id="3537919">==</span>&nbsp;<span class="ident" id="3537922">nil</span>&nbsp;<span class="op" id="3537926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537930">return</span>&nbsp;<span class="ident" id="3537937"><a href="/text/template/exec.go.html#3534987">fmt</a></span><span class="op" id="3537940">.</span><span class="ident" id="3537941">Errorf</span><span class="op" id="3537947">(</span><span class="string" id="3537948">&#34;template:&nbsp;no&nbsp;template&nbsp;%q&nbsp;associated&nbsp;with&nbsp;template&nbsp;%q&#34;</span><span class="op" id="3538002">,</span>&nbsp;<span class="ident" id="3538004"><a href="/text/template/exec.go.html#3537849">name</a></span><span class="op" id="3538008">,</span>&nbsp;<span class="ident" id="3538010"><a href="/text/template/exec.go.html#3537806">t</a></span><span class="op" id="3538011">.</span><span class="ident" id="3538012">name</span><span class="op" id="3538016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538019">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538022">return</span>&nbsp;<span class="ident" id="3538029"><a href="/text/template/exec.go.html#3537889">tmpl</a></span><span class="op" id="3538033">.</span><span class="ident" id="3538034">Execute</span><span class="op" id="3538041">(</span><span class="ident" id="3538042"><a href="/text/template/exec.go.html#3537835">wr</a></span><span class="op" id="3538044">,</span>&nbsp;<span class="ident" id="3538046"><a href="/text/template/exec.go.html#3537862">data</a></span><span class="op" id="3538050">)</span><br>
<span class="lineno"></span><span class="op" id="3538052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3538055">//&nbsp;Execute&nbsp;applies&nbsp;a&nbsp;parsed&nbsp;template&nbsp;to&nbsp;the&nbsp;specified&nbsp;data&nbsp;object,</span><br>
<span class="lineno"></span><span class="comment" id="3538122">//&nbsp;and&nbsp;writes&nbsp;the&nbsp;output&nbsp;to&nbsp;wr.</span><br>
<span class="lineno">125</span><span class="comment" id="3538154">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs&nbsp;executing&nbsp;the&nbsp;template&nbsp;or&nbsp;writing&nbsp;its&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="3538222">//&nbsp;execution&nbsp;stops,&nbsp;but&nbsp;partial&nbsp;results&nbsp;may&nbsp;already&nbsp;have&nbsp;been&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3538295">//&nbsp;the&nbsp;output&nbsp;writer.</span><br>
<span class="lineno"></span><span class="comment" id="3538317">//&nbsp;A&nbsp;template&nbsp;may&nbsp;be&nbsp;executed&nbsp;safely&nbsp;in&nbsp;parallel.</span><br>
<span class="lineno"></span><span class="keyword" id="3538367">func</span>&nbsp;<span class="op" id="3538372">(</span><span class="ident" id="3538373">t</span>&nbsp;<span class="op" id="3538375">*</span><span class="ident" id="3538376"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3538384">)</span>&nbsp;<span class="ident" id="3538386">Execute</span><span class="op" id="3538393">(</span><span class="ident" id="3538394">wr</span>&nbsp;<span class="ident" id="3538397"><a href="/text/template/exec.go.html#3534994">io</a></span><span class="op" id="3538399">.</span><span class="ident" id="3538400">Writer</span><span class="op" id="3538406">,</span>&nbsp;<span class="ident" id="3538408">data</span>&nbsp;<span class="keyword" id="3538413">interface</span><span class="op" id="3538422">{</span><span class="op" id="3538423">}</span><span class="op" id="3538424">)</span>&nbsp;<span class="op" id="3538426">(</span><span class="ident" id="3538427">err</span>&nbsp;<span class="builtintype" id="3538431">error</span><span class="op" id="3538436">)</span>&nbsp;<span class="op" id="3538438">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538441">defer</span>&nbsp;<span class="ident" id="3538447"><a href="/text/template/exec.go.html#3537264">errRecover</a></span><span class="op" id="3538457">(</span><span class="op" id="3538458">&amp;</span><span class="ident" id="3538459"><a href="/text/template/exec.go.html#3538427">err</a></span><span class="op" id="3538462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538465">value</span>&nbsp;<span class="op" id="3538471">:=</span>&nbsp;<span class="ident" id="3538474"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3538481">.</span><span class="ident" id="3538482">ValueOf</span><span class="op" id="3538489">(</span><span class="ident" id="3538490"><a href="/text/template/exec.go.html#3538408">data</a></span><span class="op" id="3538494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538497">state</span>&nbsp;<span class="op" id="3538503">:=</span>&nbsp;<span class="op" id="3538506">&amp;</span><span class="ident" id="3538507"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3538512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538516">tmpl</span><span class="op" id="3538520">:</span>&nbsp;<span class="ident" id="3538522"><a href="/text/template/exec.go.html#3538373">t</a></span><span class="op" id="3538523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538527">wr</span><span class="op" id="3538529">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3538533"><a href="/text/template/exec.go.html#3538394">wr</a></span><span class="op" id="3538535">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538539">vars</span><span class="op" id="3538543">:</span>&nbsp;<span class="op" id="3538545">[</span><span class="op" id="3538546">]</span><span class="ident" id="3538547"><a href="/text/template/exec.go.html#3535453">variable</a></span><span class="op" id="3538555">{</span><span class="op" id="3538556">{</span><span class="string" id="3538557">&#34;$&#34;</span><span class="op" id="3538560">,</span>&nbsp;<span class="ident" id="3538562"><a href="/text/template/exec.go.html#3538465">value</a></span><span class="op" id="3538567">}</span><span class="op" id="3538568">}</span><span class="op" id="3538569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538575"><a href="/text/template/exec.go.html#3538373">t</a></span><span class="op" id="3538576">.</span><span class="ident" id="3538577">init</span><span class="op" id="3538581">(</span><span class="op" id="3538582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538585">if</span>&nbsp;<span class="ident" id="3538588"><a href="/text/template/exec.go.html#3538373">t</a></span><span class="op" id="3538589">.</span><span class="ident" id="3538590">Tree</span>&nbsp;<span class="op" id="3538595">==</span>&nbsp;<span class="ident" id="3538598">nil</span>&nbsp;<span class="op" id="3538602">||</span>&nbsp;<span class="ident" id="3538605"><a href="/text/template/exec.go.html#3538373">t</a></span><span class="op" id="3538606">.</span><span class="ident" id="3538607">Root</span>&nbsp;<span class="op" id="3538612">==</span>&nbsp;<span class="ident" id="3538615">nil</span>&nbsp;<span class="op" id="3538619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538623">var</span>&nbsp;<span class="ident" id="3538627">b</span>&nbsp;<span class="ident" id="3538629"><a href="/text/template/exec.go.html#3534978">bytes</a></span><span class="op" id="3538634">.</span><span class="ident" id="3538635">Buffer</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538644">for</span>&nbsp;<span class="ident" id="3538648">name</span><span class="op" id="3538652">,</span>&nbsp;<span class="ident" id="3538654">tmpl</span>&nbsp;<span class="op" id="3538659">:=</span>&nbsp;<span class="keyword" id="3538662">range</span>&nbsp;<span class="ident" id="3538668"><a href="/text/template/exec.go.html#3538373">t</a></span><span class="op" id="3538669">.</span><span class="ident" id="3538670">tmpl</span>&nbsp;<span class="op" id="3538675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538680">if</span>&nbsp;<span class="ident" id="3538683"><a href="/text/template/exec.go.html#3538654">tmpl</a></span><span class="op" id="3538687">.</span><span class="ident" id="3538688">Tree</span>&nbsp;<span class="op" id="3538693">==</span>&nbsp;<span class="ident" id="3538696">nil</span>&nbsp;<span class="op" id="3538700">||</span>&nbsp;<span class="ident" id="3538703"><a href="/text/template/exec.go.html#3538654">tmpl</a></span><span class="op" id="3538707">.</span><span class="ident" id="3538708">Root</span>&nbsp;<span class="op" id="3538713">==</span>&nbsp;<span class="ident" id="3538716">nil</span>&nbsp;<span class="op" id="3538720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538726">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538743">if</span>&nbsp;<span class="ident" id="3538746"><a href="/text/template/exec.go.html#3538627">b</a></span><span class="op" id="3538747">.</span><span class="ident" id="3538748">Len</span><span class="op" id="3538751">(</span><span class="op" id="3538752">)</span>&nbsp;<span class="op" id="3538754">&gt;</span>&nbsp;<span class="num" id="3538756">0</span>&nbsp;<span class="op" id="3538758">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538764"><a href="/text/template/exec.go.html#3538627">b</a></span><span class="op" id="3538765">.</span><span class="ident" id="3538766">WriteString</span><span class="op" id="3538777">(</span><span class="string" id="3538778">&#34;,&nbsp;&#34;</span><span class="op" id="3538782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538792"><a href="/text/template/exec.go.html#3534987">fmt</a></span><span class="op" id="3538795">.</span><span class="ident" id="3538796">Fprintf</span><span class="op" id="3538803">(</span><span class="op" id="3538804">&amp;</span><span class="ident" id="3538805"><a href="/text/template/exec.go.html#3538627">b</a></span><span class="op" id="3538806">,</span>&nbsp;<span class="string" id="3538808">&#34;%q&#34;</span><span class="op" id="3538812">,</span>&nbsp;<span class="ident" id="3538814"><a href="/text/template/exec.go.html#3538648">name</a></span><span class="op" id="3538818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538826">var</span>&nbsp;<span class="ident" id="3538830">s</span>&nbsp;<span class="builtintype" id="3538832">string</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538841">if</span>&nbsp;<span class="ident" id="3538844"><a href="/text/template/exec.go.html#3538627">b</a></span><span class="op" id="3538845">.</span><span class="ident" id="3538846">Len</span><span class="op" id="3538849">(</span><span class="op" id="3538850">)</span>&nbsp;<span class="op" id="3538852">&gt;</span>&nbsp;<span class="num" id="3538854">0</span>&nbsp;<span class="op" id="3538856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538861"><a href="/text/template/exec.go.html#3538830">s</a></span>&nbsp;<span class="op" id="3538863">=</span>&nbsp;<span class="string" id="3538865">&#34;;&nbsp;defined&nbsp;templates&nbsp;are:&nbsp;&#34;</span>&nbsp;<span class="op" id="3538893">+</span>&nbsp;<span class="ident" id="3538895"><a href="/text/template/exec.go.html#3538627">b</a></span><span class="op" id="3538896">.</span><span class="ident" id="3538897">String</span><span class="op" id="3538903">(</span><span class="op" id="3538904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538912"><a href="/text/template/exec.go.html#3538497">state</a></span><span class="op" id="3538917">.</span><span class="ident" id="3538918">errorf</span><span class="op" id="3538924">(</span><span class="string" id="3538925">&#34;%q&nbsp;is&nbsp;an&nbsp;incomplete&nbsp;or&nbsp;empty&nbsp;template%s&#34;</span><span class="op" id="3538966">,</span>&nbsp;<span class="ident" id="3538968"><a href="/text/template/exec.go.html#3538373">t</a></span><span class="op" id="3538969">.</span><span class="ident" id="3538970">Name</span><span class="op" id="3538974">(</span><span class="op" id="3538975">)</span><span class="op" id="3538976">,</span>&nbsp;<span class="ident" id="3538978"><a href="/text/template/exec.go.html#3538830">s</a></span><span class="op" id="3538979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538982">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3538985"><a href="/text/template/exec.go.html#3538497">state</a></span><span class="op" id="3538990">.</span><span class="ident" id="3538991">walk</span><span class="op" id="3538995">(</span><span class="ident" id="3538996"><a href="/text/template/exec.go.html#3538465">value</a></span><span class="op" id="3539001">,</span>&nbsp;<span class="ident" id="3539003"><a href="/text/template/exec.go.html#3538373">t</a></span><span class="op" id="3539004">.</span><span class="ident" id="3539005">Root</span><span class="op" id="3539009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539012">return</span><br>
<span class="lineno"></span><span class="op" id="3539019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3539022">//&nbsp;Walk&nbsp;functions&nbsp;step&nbsp;through&nbsp;the&nbsp;major&nbsp;pieces&nbsp;of&nbsp;the&nbsp;template&nbsp;structure,</span><br>
<span class="lineno">160</span><span class="comment" id="3539097">//&nbsp;generating&nbsp;output&nbsp;as&nbsp;they&nbsp;go.</span><br>
<span class="lineno"></span><span class="keyword" id="3539130">func</span>&nbsp;<span class="op" id="3539135">(</span><span class="ident" id="3539136">s</span>&nbsp;<span class="op" id="3539138">*</span><span class="ident" id="3539139"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3539144">)</span>&nbsp;<span class="ident" id="3539146">walk</span><span class="op" id="3539150">(</span><span class="ident" id="3539151">dot</span>&nbsp;<span class="ident" id="3539155"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3539162">.</span><span class="ident" id="3539163">Value</span><span class="op" id="3539168">,</span>&nbsp;<span class="ident" id="3539170">node</span>&nbsp;<span class="ident" id="3539175"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539180">.</span><span class="ident" id="3539181">Node</span><span class="op" id="3539185">)</span>&nbsp;<span class="op" id="3539187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539190"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539191">.</span><span class="ident" id="3539192">at</span><span class="op" id="3539194">(</span><span class="ident" id="3539195"><a href="/text/template/exec.go.html#3539170">node</a></span><span class="op" id="3539199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539202">switch</span>&nbsp;<span class="ident" id="3539209">node</span>&nbsp;<span class="op" id="3539214">:=</span>&nbsp;<span class="ident" id="3539217"><a href="/text/template/exec.go.html#3539170">node</a></span><span class="op" id="3539221">.</span><span class="op" id="3539222">(</span><span class="keyword" id="3539223">type</span><span class="op" id="3539227">)</span>&nbsp;<span class="op" id="3539229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539232">case</span>&nbsp;<span class="op" id="3539237">*</span><span class="ident" id="3539238"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539243">.</span><span class="ident" id="3539244">ActionNode</span><span class="op" id="3539254">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3539258">//&nbsp;Do&nbsp;not&nbsp;pop&nbsp;variables&nbsp;so&nbsp;they&nbsp;persist&nbsp;until&nbsp;next&nbsp;end.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3539316">//&nbsp;Also,&nbsp;if&nbsp;the&nbsp;action&nbsp;declares&nbsp;variables,&nbsp;don&#39;t&nbsp;print&nbsp;the&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539385">val</span>&nbsp;<span class="op" id="3539389">:=</span>&nbsp;<span class="ident" id="3539392"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539393">.</span><span class="ident" id="3539394">evalPipeline</span><span class="op" id="3539406">(</span><span class="ident" id="3539407"><a href="/text/template/exec.go.html#3539151">dot</a></span><span class="op" id="3539410">,</span>&nbsp;<span class="ident" id="3539412"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539416">.</span><span class="ident" id="3539417">Pipe</span><span class="op" id="3539421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539425">if</span>&nbsp;<span class="builtinfunc" id="3539428">len</span><span class="op" id="3539431">(</span><span class="ident" id="3539432"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539436">.</span><span class="ident" id="3539437">Pipe</span><span class="op" id="3539441">.</span><span class="ident" id="3539442">Decl</span><span class="op" id="3539446">)</span>&nbsp;<span class="op" id="3539448">==</span>&nbsp;<span class="num" id="3539451">0</span>&nbsp;<span class="op" id="3539453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539458"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539459">.</span><span class="ident" id="3539460">printValue</span><span class="op" id="3539470">(</span><span class="ident" id="3539471"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539475">,</span>&nbsp;<span class="ident" id="3539477"><a href="/text/template/exec.go.html#3539385">val</a></span><span class="op" id="3539480">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3539484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539487">case</span>&nbsp;<span class="op" id="3539492">*</span><span class="ident" id="3539493"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539498">.</span><span class="ident" id="3539499">IfNode</span><span class="op" id="3539505">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539509"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539510">.</span><span class="ident" id="3539511">walkIfOrWith</span><span class="op" id="3539523">(</span><span class="ident" id="3539524"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539529">.</span><span class="ident" id="3539530">NodeIf</span><span class="op" id="3539536">,</span>&nbsp;<span class="ident" id="3539538"><a href="/text/template/exec.go.html#3539151">dot</a></span><span class="op" id="3539541">,</span>&nbsp;<span class="ident" id="3539543"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539547">.</span><span class="ident" id="3539548">Pipe</span><span class="op" id="3539552">,</span>&nbsp;<span class="ident" id="3539554"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539558">.</span><span class="ident" id="3539559">List</span><span class="op" id="3539563">,</span>&nbsp;<span class="ident" id="3539565"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539569">.</span><span class="ident" id="3539570">ElseList</span><span class="op" id="3539578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539581">case</span>&nbsp;<span class="op" id="3539586">*</span><span class="ident" id="3539587"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539592">.</span><span class="ident" id="3539593">ListNode</span><span class="op" id="3539601">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539605">for</span>&nbsp;<span class="ident" id="3539609">_</span><span class="op" id="3539610">,</span>&nbsp;<span class="ident" id="3539612">node</span>&nbsp;<span class="op" id="3539617">:=</span>&nbsp;<span class="keyword" id="3539620">range</span>&nbsp;<span class="ident" id="3539626"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539630">.</span><span class="ident" id="3539631">Nodes</span>&nbsp;<span class="op" id="3539637">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539642"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539643">.</span><span class="ident" id="3539644">walk</span><span class="op" id="3539648">(</span><span class="ident" id="3539649"><a href="/text/template/exec.go.html#3539151">dot</a></span><span class="op" id="3539652">,</span>&nbsp;<span class="ident" id="3539654"><a href="/text/template/exec.go.html#3539612">node</a></span><span class="op" id="3539658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3539662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539665">case</span>&nbsp;<span class="op" id="3539670">*</span><span class="ident" id="3539671"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539676">.</span><span class="ident" id="3539677">RangeNode</span><span class="op" id="3539686">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539690"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539691">.</span><span class="ident" id="3539692">walkRange</span><span class="op" id="3539701">(</span><span class="ident" id="3539702"><a href="/text/template/exec.go.html#3539151">dot</a></span><span class="op" id="3539705">,</span>&nbsp;<span class="ident" id="3539707"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539714">case</span>&nbsp;<span class="op" id="3539719">*</span><span class="ident" id="3539720"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539725">.</span><span class="ident" id="3539726">TemplateNode</span><span class="op" id="3539738">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539742"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539743">.</span><span class="ident" id="3539744">walkTemplate</span><span class="op" id="3539756">(</span><span class="ident" id="3539757"><a href="/text/template/exec.go.html#3539151">dot</a></span><span class="op" id="3539760">,</span>&nbsp;<span class="ident" id="3539762"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539769">case</span>&nbsp;<span class="op" id="3539774">*</span><span class="ident" id="3539775"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539780">.</span><span class="ident" id="3539781">TextNode</span><span class="op" id="3539789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539793">if</span>&nbsp;<span class="ident" id="3539796">_</span><span class="op" id="3539797">,</span>&nbsp;<span class="ident" id="3539799">err</span>&nbsp;<span class="op" id="3539803">:=</span>&nbsp;<span class="ident" id="3539806"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539807">.</span><span class="ident" id="3539808">wr</span><span class="op" id="3539810">.</span><span class="ident" id="3539811">Write</span><span class="op" id="3539816">(</span><span class="ident" id="3539817"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539821">.</span><span class="ident" id="3539822">Text</span><span class="op" id="3539826">)</span><span class="op" id="3539827">;</span>&nbsp;<span class="ident" id="3539829"><a href="/text/template/exec.go.html#3539799">err</a></span>&nbsp;<span class="op" id="3539833">!=</span>&nbsp;<span class="ident" id="3539836">nil</span>&nbsp;<span class="op" id="3539840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539845"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539846">.</span><span class="ident" id="3539847">errorf</span><span class="op" id="3539853">(</span><span class="string" id="3539854">&#34;%s&#34;</span><span class="op" id="3539858">,</span>&nbsp;<span class="ident" id="3539860"><a href="/text/template/exec.go.html#3539799">err</a></span><span class="op" id="3539863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3539867">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539870">case</span>&nbsp;<span class="op" id="3539875">*</span><span class="ident" id="3539876"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539881">.</span><span class="ident" id="3539882">WithNode</span><span class="op" id="3539890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539894"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539895">.</span><span class="ident" id="3539896">walkIfOrWith</span><span class="op" id="3539908">(</span><span class="ident" id="3539909"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3539914">.</span><span class="ident" id="3539915">NodeWith</span><span class="op" id="3539923">,</span>&nbsp;<span class="ident" id="3539925"><a href="/text/template/exec.go.html#3539151">dot</a></span><span class="op" id="3539928">,</span>&nbsp;<span class="ident" id="3539930"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539934">.</span><span class="ident" id="3539935">Pipe</span><span class="op" id="3539939">,</span>&nbsp;<span class="ident" id="3539941"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539945">.</span><span class="ident" id="3539946">List</span><span class="op" id="3539950">,</span>&nbsp;<span class="ident" id="3539952"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3539956">.</span><span class="ident" id="3539957">ElseList</span><span class="op" id="3539965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3539968">default</span><span class="op" id="3539975">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3539979"><a href="/text/template/exec.go.html#3539136">s</a></span><span class="op" id="3539980">.</span><span class="ident" id="3539981">errorf</span><span class="op" id="3539987">(</span><span class="string" id="3539988">&#34;unknown&nbsp;node:&nbsp;%s&#34;</span><span class="op" id="3540006">,</span>&nbsp;<span class="ident" id="3540008"><a href="/text/template/exec.go.html#3539209">node</a></span><span class="op" id="3540012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3540015">}</span><br>
<span class="lineno">190</span><span class="op" id="3540017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3540020">//&nbsp;walkIfOrWith&nbsp;walks&nbsp;an&nbsp;&#39;if&#39;&nbsp;or&nbsp;&#39;with&#39;&nbsp;node.&nbsp;The&nbsp;two&nbsp;control&nbsp;structures</span><br>
<span class="lineno"></span><span class="comment" id="3540093">//&nbsp;are&nbsp;identical&nbsp;in&nbsp;behavior&nbsp;except&nbsp;that&nbsp;&#39;with&#39;&nbsp;sets&nbsp;dot.</span><br>
<span class="lineno"></span><span class="keyword" id="3540151">func</span>&nbsp;<span class="op" id="3540156">(</span><span class="ident" id="3540157">s</span>&nbsp;<span class="op" id="3540159">*</span><span class="ident" id="3540160"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3540165">)</span>&nbsp;<span class="ident" id="3540167">walkIfOrWith</span><span class="op" id="3540179">(</span><span class="ident" id="3540180">typ</span>&nbsp;<span class="ident" id="3540184"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3540189">.</span><span class="ident" id="3540190">NodeType</span><span class="op" id="3540198">,</span>&nbsp;<span class="ident" id="3540200">dot</span>&nbsp;<span class="ident" id="3540204"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3540211">.</span><span class="ident" id="3540212">Value</span><span class="op" id="3540217">,</span>&nbsp;<span class="ident" id="3540219">pipe</span>&nbsp;<span class="op" id="3540224">*</span><span class="ident" id="3540225"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3540230">.</span><span class="ident" id="3540231">PipeNode</span><span class="op" id="3540239">,</span>&nbsp;<span class="ident" id="3540241">list</span><span class="op" id="3540245">,</span>&nbsp;<span class="ident" id="3540247">elseList</span>&nbsp;<span class="op" id="3540256">*</span><span class="ident" id="3540257"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3540262">.</span><span class="ident" id="3540263">ListNode</span><span class="op" id="3540271">)</span>&nbsp;<span class="op" id="3540273">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3540276">defer</span>&nbsp;<span class="ident" id="3540282"><a href="/text/template/exec.go.html#3540157">s</a></span><span class="op" id="3540283">.</span><span class="ident" id="3540284">pop</span><span class="op" id="3540287">(</span><span class="ident" id="3540288"><a href="/text/template/exec.go.html#3540157">s</a></span><span class="op" id="3540289">.</span><span class="ident" id="3540290">mark</span><span class="op" id="3540294">(</span><span class="op" id="3540295">)</span><span class="op" id="3540296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3540299">val</span>&nbsp;<span class="op" id="3540303">:=</span>&nbsp;<span class="ident" id="3540306"><a href="/text/template/exec.go.html#3540157">s</a></span><span class="op" id="3540307">.</span><span class="ident" id="3540308">evalPipeline</span><span class="op" id="3540320">(</span><span class="ident" id="3540321"><a href="/text/template/exec.go.html#3540200">dot</a></span><span class="op" id="3540324">,</span>&nbsp;<span class="ident" id="3540326"><a href="/text/template/exec.go.html#3540219">pipe</a></span><span class="op" id="3540330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3540333">truth</span><span class="op" id="3540338">,</span>&nbsp;<span class="ident" id="3540340">ok</span>&nbsp;<span class="op" id="3540343">:=</span>&nbsp;<span class="ident" id="3540346"><a href="/text/template/exec.go.html#3540717">isTrue</a></span><span class="op" id="3540352">(</span><span class="ident" id="3540353"><a href="/text/template/exec.go.html#3540299">val</a></span><span class="op" id="3540356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3540359">if</span>&nbsp;<span class="op" id="3540362">!</span><span class="ident" id="3540363"><a href="/text/template/exec.go.html#3540340">ok</a></span>&nbsp;<span class="op" id="3540366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3540370"><a href="/text/template/exec.go.html#3540157">s</a></span><span class="op" id="3540371">.</span><span class="ident" id="3540372">errorf</span><span class="op" id="3540378">(</span><span class="string" id="3540379">&#34;if/with&nbsp;can&#39;t&nbsp;use&nbsp;%v&#34;</span><span class="op" id="3540401">,</span>&nbsp;<span class="ident" id="3540403"><a href="/text/template/exec.go.html#3540299">val</a></span><span class="op" id="3540406">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3540409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3540412">if</span>&nbsp;<span class="ident" id="3540415"><a href="/text/template/exec.go.html#3540333">truth</a></span>&nbsp;<span class="op" id="3540421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3540425">if</span>&nbsp;<span class="ident" id="3540428"><a href="/text/template/exec.go.html#3540180">typ</a></span>&nbsp;<span class="op" id="3540432">==</span>&nbsp;<span class="ident" id="3540435"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3540440">.</span><span class="ident" id="3540441">NodeWith</span>&nbsp;<span class="op" id="3540450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3540455"><a href="/text/template/exec.go.html#3540157">s</a></span><span class="op" id="3540456">.</span><span class="ident" id="3540457">walk</span><span class="op" id="3540461">(</span><span class="ident" id="3540462"><a href="/text/template/exec.go.html#3540299">val</a></span><span class="op" id="3540465">,</span>&nbsp;<span class="ident" id="3540467"><a href="/text/template/exec.go.html#3540241">list</a></span><span class="op" id="3540471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3540475">}</span>&nbsp;<span class="keyword" id="3540477">else</span>&nbsp;<span class="op" id="3540482">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3540487"><a href="/text/template/exec.go.html#3540157">s</a></span><span class="op" id="3540488">.</span><span class="ident" id="3540489">walk</span><span class="op" id="3540493">(</span><span class="ident" id="3540494"><a href="/text/template/exec.go.html#3540200">dot</a></span><span class="op" id="3540497">,</span>&nbsp;<span class="ident" id="3540499"><a href="/text/template/exec.go.html#3540241">list</a></span><span class="op" id="3540503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3540507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3540510">}</span>&nbsp;<span class="keyword" id="3540512">else</span>&nbsp;<span class="keyword" id="3540517">if</span>&nbsp;<span class="ident" id="3540520"><a href="/text/template/exec.go.html#3540247">elseList</a></span>&nbsp;<span class="op" id="3540529">!=</span>&nbsp;<span class="ident" id="3540532">nil</span>&nbsp;<span class="op" id="3540536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3540540"><a href="/text/template/exec.go.html#3540157">s</a></span><span class="op" id="3540541">.</span><span class="ident" id="3540542">walk</span><span class="op" id="3540546">(</span><span class="ident" id="3540547"><a href="/text/template/exec.go.html#3540200">dot</a></span><span class="op" id="3540550">,</span>&nbsp;<span class="ident" id="3540552"><a href="/text/template/exec.go.html#3540247">elseList</a></span><span class="op" id="3540560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3540563">}</span><br>
<span class="lineno">210</span><span class="op" id="3540565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3540568">//&nbsp;isTrue&nbsp;reports&nbsp;whether&nbsp;the&nbsp;value&nbsp;is&nbsp;&#39;true&#39;,&nbsp;in&nbsp;the&nbsp;sense&nbsp;of&nbsp;not&nbsp;the&nbsp;zero&nbsp;of&nbsp;its&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="3540657">//&nbsp;and&nbsp;whether&nbsp;the&nbsp;value&nbsp;has&nbsp;a&nbsp;meaningful&nbsp;truth&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="3540712">func</span>&nbsp;<span class="ident" id="3540717">isTrue</span><span class="op" id="3540723">(</span><span class="ident" id="3540724">val</span>&nbsp;<span class="ident" id="3540728"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3540735">.</span><span class="ident" id="3540736">Value</span><span class="op" id="3540741">)</span>&nbsp;<span class="op" id="3540743">(</span><span class="ident" id="3540744">truth</span><span class="op" id="3540749">,</span>&nbsp;<span class="ident" id="3540751">ok</span>&nbsp;<span class="builtintype" id="3540754">bool</span><span class="op" id="3540758">)</span>&nbsp;<span class="op" id="3540760">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3540763">if</span>&nbsp;<span class="op" id="3540766">!</span><span class="ident" id="3540767"><a href="/text/template/exec.go.html#3540724">val</a></span><span class="op" id="3540770">.</span><span class="ident" id="3540771">IsValid</span><span class="op" id="3540778">(</span><span class="op" id="3540779">)</span>&nbsp;<span class="op" id="3540781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3540785">//&nbsp;Something&nbsp;like&nbsp;var&nbsp;x&nbsp;interface{},&nbsp;never&nbsp;set.&nbsp;It&#39;s&nbsp;a&nbsp;form&nbsp;of&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3540855">return</span>&nbsp;<span class="ident" id="3540862">false</span><span class="op" id="3540867">,</span>&nbsp;<span class="ident" id="3540869">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3540875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3540878">switch</span>&nbsp;<span class="ident" id="3540885"><a href="/text/template/exec.go.html#3540724">val</a></span><span class="op" id="3540888">.</span><span class="ident" id="3540889">Kind</span><span class="op" id="3540893">(</span><span class="op" id="3540894">)</span>&nbsp;<span class="op" id="3540896">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3540899">case</span>&nbsp;<span class="ident" id="3540904"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3540911">.</span><span class="ident" id="3540912">Array</span><span class="op" id="3540917">,</span>&nbsp;<span class="ident" id="3540919"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3540926">.</span><span class="ident" id="3540927">Map</span><span class="op" id="3540930">,</span>&nbsp;<span class="ident" id="3540932"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3540939">.</span><span class="ident" id="3540940">Slice</span><span class="op" id="3540945">,</span>&nbsp;<span class="ident" id="3540947"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3540954">.</span><span class="ident" id="3540955">String</span><span class="op" id="3540961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3540965"><a href="/text/template/exec.go.html#3540744">truth</a></span>&nbsp;<span class="op" id="3540971">=</span>&nbsp;<span class="ident" id="3540973"><a href="/text/template/exec.go.html#3540724">val</a></span><span class="op" id="3540976">.</span><span class="ident" id="3540977">Len</span><span class="op" id="3540980">(</span><span class="op" id="3540981">)</span>&nbsp;<span class="op" id="3540983">&gt;</span>&nbsp;<span class="num" id="3540985">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3540988">case</span>&nbsp;<span class="ident" id="3540993"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541000">.</span><span class="ident" id="3541001">Bool</span><span class="op" id="3541005">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541009"><a href="/text/template/exec.go.html#3540744">truth</a></span>&nbsp;<span class="op" id="3541015">=</span>&nbsp;<span class="ident" id="3541017"><a href="/text/template/exec.go.html#3540724">val</a></span><span class="op" id="3541020">.</span><span class="ident" id="3541021">Bool</span><span class="op" id="3541025">(</span><span class="op" id="3541026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541029">case</span>&nbsp;<span class="ident" id="3541034"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541041">.</span><span class="ident" id="3541042">Complex64</span><span class="op" id="3541051">,</span>&nbsp;<span class="ident" id="3541053"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541060">.</span><span class="ident" id="3541061">Complex128</span><span class="op" id="3541071">:</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541075"><a href="/text/template/exec.go.html#3540744">truth</a></span>&nbsp;<span class="op" id="3541081">=</span>&nbsp;<span class="ident" id="3541083"><a href="/text/template/exec.go.html#3540724">val</a></span><span class="op" id="3541086">.</span><span class="ident" id="3541087">Complex</span><span class="op" id="3541094">(</span><span class="op" id="3541095">)</span>&nbsp;<span class="op" id="3541097">!=</span>&nbsp;<span class="num" id="3541100">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541103">case</span>&nbsp;<span class="ident" id="3541108"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541115">.</span><span class="ident" id="3541116">Chan</span><span class="op" id="3541120">,</span>&nbsp;<span class="ident" id="3541122"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541129">.</span><span class="ident" id="3541130">Func</span><span class="op" id="3541134">,</span>&nbsp;<span class="ident" id="3541136"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541143">.</span><span class="ident" id="3541144">Ptr</span><span class="op" id="3541147">,</span>&nbsp;<span class="ident" id="3541149"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541156">.</span><span class="ident" id="3541157">Interface</span><span class="op" id="3541166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541170"><a href="/text/template/exec.go.html#3540744">truth</a></span>&nbsp;<span class="op" id="3541176">=</span>&nbsp;<span class="op" id="3541178">!</span><span class="ident" id="3541179"><a href="/text/template/exec.go.html#3540724">val</a></span><span class="op" id="3541182">.</span><span class="ident" id="3541183">IsNil</span><span class="op" id="3541188">(</span><span class="op" id="3541189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541192">case</span>&nbsp;<span class="ident" id="3541197"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541204">.</span><span class="ident" id="3541205">Int</span><span class="op" id="3541208">,</span>&nbsp;<span class="ident" id="3541210"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541217">.</span><span class="ident" id="3541218">Int8</span><span class="op" id="3541222">,</span>&nbsp;<span class="ident" id="3541224"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541231">.</span><span class="ident" id="3541232">Int16</span><span class="op" id="3541237">,</span>&nbsp;<span class="ident" id="3541239"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541246">.</span><span class="ident" id="3541247">Int32</span><span class="op" id="3541252">,</span>&nbsp;<span class="ident" id="3541254"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541261">.</span><span class="ident" id="3541262">Int64</span><span class="op" id="3541267">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541271"><a href="/text/template/exec.go.html#3540744">truth</a></span>&nbsp;<span class="op" id="3541277">=</span>&nbsp;<span class="ident" id="3541279"><a href="/text/template/exec.go.html#3540724">val</a></span><span class="op" id="3541282">.</span><span class="ident" id="3541283">Int</span><span class="op" id="3541286">(</span><span class="op" id="3541287">)</span>&nbsp;<span class="op" id="3541289">!=</span>&nbsp;<span class="num" id="3541292">0</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541295">case</span>&nbsp;<span class="ident" id="3541300"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541307">.</span><span class="ident" id="3541308">Float32</span><span class="op" id="3541315">,</span>&nbsp;<span class="ident" id="3541317"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541324">.</span><span class="ident" id="3541325">Float64</span><span class="op" id="3541332">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541336"><a href="/text/template/exec.go.html#3540744">truth</a></span>&nbsp;<span class="op" id="3541342">=</span>&nbsp;<span class="ident" id="3541344"><a href="/text/template/exec.go.html#3540724">val</a></span><span class="op" id="3541347">.</span><span class="ident" id="3541348">Float</span><span class="op" id="3541353">(</span><span class="op" id="3541354">)</span>&nbsp;<span class="op" id="3541356">!=</span>&nbsp;<span class="num" id="3541359">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541362">case</span>&nbsp;<span class="ident" id="3541367"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541374">.</span><span class="ident" id="3541375">Uint</span><span class="op" id="3541379">,</span>&nbsp;<span class="ident" id="3541381"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541388">.</span><span class="ident" id="3541389">Uint8</span><span class="op" id="3541394">,</span>&nbsp;<span class="ident" id="3541396"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541403">.</span><span class="ident" id="3541404">Uint16</span><span class="op" id="3541410">,</span>&nbsp;<span class="ident" id="3541412"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541419">.</span><span class="ident" id="3541420">Uint32</span><span class="op" id="3541426">,</span>&nbsp;<span class="ident" id="3541428"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541435">.</span><span class="ident" id="3541436">Uint64</span><span class="op" id="3541442">,</span>&nbsp;<span class="ident" id="3541444"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541451">.</span><span class="ident" id="3541452">Uintptr</span><span class="op" id="3541459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541463"><a href="/text/template/exec.go.html#3540744">truth</a></span>&nbsp;<span class="op" id="3541469">=</span>&nbsp;<span class="ident" id="3541471"><a href="/text/template/exec.go.html#3540724">val</a></span><span class="op" id="3541474">.</span><span class="ident" id="3541475">Uint</span><span class="op" id="3541479">(</span><span class="op" id="3541480">)</span>&nbsp;<span class="op" id="3541482">!=</span>&nbsp;<span class="num" id="3541485">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541488">case</span>&nbsp;<span class="ident" id="3541493"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541500">.</span><span class="ident" id="3541501">Struct</span><span class="op" id="3541507">:</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541511"><a href="/text/template/exec.go.html#3540744">truth</a></span>&nbsp;<span class="op" id="3541517">=</span>&nbsp;<span class="ident" id="3541519">true</span>&nbsp;<span class="comment" id="3541524">//&nbsp;Struct&nbsp;values&nbsp;are&nbsp;always&nbsp;true.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541559">default</span><span class="op" id="3541566">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541570">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3541578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541581">return</span>&nbsp;<span class="ident" id="3541588"><a href="/text/template/exec.go.html#3540744">truth</a></span><span class="op" id="3541593">,</span>&nbsp;<span class="ident" id="3541595">true</span><br>
<span class="lineno">240</span><span class="op" id="3541600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3541603">func</span>&nbsp;<span class="op" id="3541608">(</span><span class="ident" id="3541609">s</span>&nbsp;<span class="op" id="3541611">*</span><span class="ident" id="3541612"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3541617">)</span>&nbsp;<span class="ident" id="3541619">walkRange</span><span class="op" id="3541628">(</span><span class="ident" id="3541629">dot</span>&nbsp;<span class="ident" id="3541633"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541640">.</span><span class="ident" id="3541641">Value</span><span class="op" id="3541646">,</span>&nbsp;<span class="ident" id="3541648">r</span>&nbsp;<span class="op" id="3541650">*</span><span class="ident" id="3541651"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3541656">.</span><span class="ident" id="3541657">RangeNode</span><span class="op" id="3541666">)</span>&nbsp;<span class="op" id="3541668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541671"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3541672">.</span><span class="ident" id="3541673">at</span><span class="op" id="3541675">(</span><span class="ident" id="3541676"><a href="/text/template/exec.go.html#3541648">r</a></span><span class="op" id="3541677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541680">defer</span>&nbsp;<span class="ident" id="3541686"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3541687">.</span><span class="ident" id="3541688">pop</span><span class="op" id="3541691">(</span><span class="ident" id="3541692"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3541693">.</span><span class="ident" id="3541694">mark</span><span class="op" id="3541698">(</span><span class="op" id="3541699">)</span><span class="op" id="3541700">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541703">val</span><span class="op" id="3541706">,</span>&nbsp;<span class="ident" id="3541708">_</span>&nbsp;<span class="op" id="3541710">:=</span>&nbsp;<span class="ident" id="3541713"><a href="/text/template/exec.go.html#3558720">indirect</a></span><span class="op" id="3541721">(</span><span class="ident" id="3541722"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3541723">.</span><span class="ident" id="3541724">evalPipeline</span><span class="op" id="3541736">(</span><span class="ident" id="3541737"><a href="/text/template/exec.go.html#3541629">dot</a></span><span class="op" id="3541740">,</span>&nbsp;<span class="ident" id="3541742"><a href="/text/template/exec.go.html#3541648">r</a></span><span class="op" id="3541743">.</span><span class="ident" id="3541744">Pipe</span><span class="op" id="3541748">)</span><span class="op" id="3541749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3541752">//&nbsp;mark&nbsp;top&nbsp;of&nbsp;stack&nbsp;before&nbsp;any&nbsp;variables&nbsp;in&nbsp;the&nbsp;body&nbsp;are&nbsp;pushed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541819">mark</span>&nbsp;<span class="op" id="3541824">:=</span>&nbsp;<span class="ident" id="3541827"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3541828">.</span><span class="ident" id="3541829">mark</span><span class="op" id="3541833">(</span><span class="op" id="3541834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541837">oneIteration</span>&nbsp;<span class="op" id="3541850">:=</span>&nbsp;<span class="keyword" id="3541853">func</span><span class="op" id="3541857">(</span><span class="ident" id="3541858">index</span><span class="op" id="3541863">,</span>&nbsp;<span class="ident" id="3541865">elem</span>&nbsp;<span class="ident" id="3541870"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3541877">.</span><span class="ident" id="3541878">Value</span><span class="op" id="3541883">)</span>&nbsp;<span class="op" id="3541885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3541889">//&nbsp;Set&nbsp;top&nbsp;var&nbsp;(lexically&nbsp;the&nbsp;second&nbsp;if&nbsp;there&nbsp;are&nbsp;two)&nbsp;to&nbsp;the&nbsp;element.</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3541962">if</span>&nbsp;<span class="builtinfunc" id="3541965">len</span><span class="op" id="3541968">(</span><span class="ident" id="3541969"><a href="/text/template/exec.go.html#3541648">r</a></span><span class="op" id="3541970">.</span><span class="ident" id="3541971">Pipe</span><span class="op" id="3541975">.</span><span class="ident" id="3541976">Decl</span><span class="op" id="3541980">)</span>&nbsp;<span class="op" id="3541982">&gt;</span>&nbsp;<span class="num" id="3541984">0</span>&nbsp;<span class="op" id="3541986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3541991"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3541992">.</span><span class="ident" id="3541993">setVar</span><span class="op" id="3541999">(</span><span class="num" id="3542000">1</span><span class="op" id="3542001">,</span>&nbsp;<span class="ident" id="3542003"><a href="/text/template/exec.go.html#3541865">elem</a></span><span class="op" id="3542007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3542015">//&nbsp;Set&nbsp;next&nbsp;var&nbsp;(lexically&nbsp;the&nbsp;first&nbsp;if&nbsp;there&nbsp;are&nbsp;two)&nbsp;to&nbsp;the&nbsp;index.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542086">if</span>&nbsp;<span class="builtinfunc" id="3542089">len</span><span class="op" id="3542092">(</span><span class="ident" id="3542093"><a href="/text/template/exec.go.html#3541648">r</a></span><span class="op" id="3542094">.</span><span class="ident" id="3542095">Pipe</span><span class="op" id="3542099">.</span><span class="ident" id="3542100">Decl</span><span class="op" id="3542104">)</span>&nbsp;<span class="op" id="3542106">&gt;</span>&nbsp;<span class="num" id="3542108">1</span>&nbsp;<span class="op" id="3542110">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542115"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3542116">.</span><span class="ident" id="3542117">setVar</span><span class="op" id="3542123">(</span><span class="num" id="3542124">2</span><span class="op" id="3542125">,</span>&nbsp;<span class="ident" id="3542127"><a href="/text/template/exec.go.html#3541858">index</a></span><span class="op" id="3542132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542140"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3542141">.</span><span class="ident" id="3542142">walk</span><span class="op" id="3542146">(</span><span class="ident" id="3542147"><a href="/text/template/exec.go.html#3541865">elem</a></span><span class="op" id="3542151">,</span>&nbsp;<span class="ident" id="3542153"><a href="/text/template/exec.go.html#3541648">r</a></span><span class="op" id="3542154">.</span><span class="ident" id="3542155">List</span><span class="op" id="3542159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542163"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3542164">.</span><span class="ident" id="3542165">pop</span><span class="op" id="3542168">(</span><span class="ident" id="3542169"><a href="/text/template/exec.go.html#3541819">mark</a></span><span class="op" id="3542173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542176">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542179">switch</span>&nbsp;<span class="ident" id="3542186"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542189">.</span><span class="ident" id="3542190">Kind</span><span class="op" id="3542194">(</span><span class="op" id="3542195">)</span>&nbsp;<span class="op" id="3542197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542200">case</span>&nbsp;<span class="ident" id="3542205"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3542212">.</span><span class="ident" id="3542213">Array</span><span class="op" id="3542218">,</span>&nbsp;<span class="ident" id="3542220"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3542227">.</span><span class="ident" id="3542228">Slice</span><span class="op" id="3542233">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542237">if</span>&nbsp;<span class="ident" id="3542240"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542243">.</span><span class="ident" id="3542244">Len</span><span class="op" id="3542247">(</span><span class="op" id="3542248">)</span>&nbsp;<span class="op" id="3542250">==</span>&nbsp;<span class="num" id="3542253">0</span>&nbsp;<span class="op" id="3542255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542260">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542268">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542272">for</span>&nbsp;<span class="ident" id="3542276">i</span>&nbsp;<span class="op" id="3542278">:=</span>&nbsp;<span class="num" id="3542281">0</span><span class="op" id="3542282">;</span>&nbsp;<span class="ident" id="3542284"><a href="/text/template/exec.go.html#3542276">i</a></span>&nbsp;<span class="op" id="3542286">&lt;</span>&nbsp;<span class="ident" id="3542288"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542291">.</span><span class="ident" id="3542292">Len</span><span class="op" id="3542295">(</span><span class="op" id="3542296">)</span><span class="op" id="3542297">;</span>&nbsp;<span class="ident" id="3542299"><a href="/text/template/exec.go.html#3542276">i</a></span><span class="op" id="3542300">++</span>&nbsp;<span class="op" id="3542303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542308"><a href="/text/template/exec.go.html#3541837">oneIteration</a></span><span class="op" id="3542320">(</span><span class="ident" id="3542321"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3542328">.</span><span class="ident" id="3542329">ValueOf</span><span class="op" id="3542336">(</span><span class="ident" id="3542337"><a href="/text/template/exec.go.html#3542276">i</a></span><span class="op" id="3542338">)</span><span class="op" id="3542339">,</span>&nbsp;<span class="ident" id="3542341"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542344">.</span><span class="ident" id="3542345">Index</span><span class="op" id="3542350">(</span><span class="ident" id="3542351"><a href="/text/template/exec.go.html#3542276">i</a></span><span class="op" id="3542352">)</span><span class="op" id="3542353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542361">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542369">case</span>&nbsp;<span class="ident" id="3542374"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3542381">.</span><span class="ident" id="3542382">Map</span><span class="op" id="3542385">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542389">if</span>&nbsp;<span class="ident" id="3542392"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542395">.</span><span class="ident" id="3542396">Len</span><span class="op" id="3542399">(</span><span class="op" id="3542400">)</span>&nbsp;<span class="op" id="3542402">==</span>&nbsp;<span class="num" id="3542405">0</span>&nbsp;<span class="op" id="3542407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542412">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542424">for</span>&nbsp;<span class="ident" id="3542428">_</span><span class="op" id="3542429">,</span>&nbsp;<span class="ident" id="3542431">key</span>&nbsp;<span class="op" id="3542435">:=</span>&nbsp;<span class="keyword" id="3542438">range</span>&nbsp;<span class="ident" id="3542444"><a href="/text/template/exec.go.html#3560693">sortKeys</a></span><span class="op" id="3542452">(</span><span class="ident" id="3542453"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542456">.</span><span class="ident" id="3542457">MapKeys</span><span class="op" id="3542464">(</span><span class="op" id="3542465">)</span><span class="op" id="3542466">)</span>&nbsp;<span class="op" id="3542468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542473"><a href="/text/template/exec.go.html#3541837">oneIteration</a></span><span class="op" id="3542485">(</span><span class="ident" id="3542486"><a href="/text/template/exec.go.html#3542431">key</a></span><span class="op" id="3542489">,</span>&nbsp;<span class="ident" id="3542491"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542494">.</span><span class="ident" id="3542495">MapIndex</span><span class="op" id="3542503">(</span><span class="ident" id="3542504"><a href="/text/template/exec.go.html#3542431">key</a></span><span class="op" id="3542507">)</span><span class="op" id="3542508">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542516">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542524">case</span>&nbsp;<span class="ident" id="3542529"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3542536">.</span><span class="ident" id="3542537">Chan</span><span class="op" id="3542541">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542545">if</span>&nbsp;<span class="ident" id="3542548"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542551">.</span><span class="ident" id="3542552">IsNil</span><span class="op" id="3542557">(</span><span class="op" id="3542558">)</span>&nbsp;<span class="op" id="3542560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542565">break</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542577">i</span>&nbsp;<span class="op" id="3542579">:=</span>&nbsp;<span class="num" id="3542582">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542586">for</span>&nbsp;<span class="op" id="3542590">;</span>&nbsp;<span class="op" id="3542592">;</span>&nbsp;<span class="ident" id="3542594"><a href="/text/template/exec.go.html#3542577">i</a></span><span class="op" id="3542595">++</span>&nbsp;<span class="op" id="3542598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542603">elem</span><span class="op" id="3542607">,</span>&nbsp;<span class="ident" id="3542609">ok</span>&nbsp;<span class="op" id="3542612">:=</span>&nbsp;<span class="ident" id="3542615"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542618">.</span><span class="ident" id="3542619">Recv</span><span class="op" id="3542623">(</span><span class="op" id="3542624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542629">if</span>&nbsp;<span class="op" id="3542632">!</span><span class="ident" id="3542633"><a href="/text/template/exec.go.html#3542609">ok</a></span>&nbsp;<span class="op" id="3542636">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542642">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542656"><a href="/text/template/exec.go.html#3541837">oneIteration</a></span><span class="op" id="3542668">(</span><span class="ident" id="3542669"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3542676">.</span><span class="ident" id="3542677">ValueOf</span><span class="op" id="3542684">(</span><span class="ident" id="3542685"><a href="/text/template/exec.go.html#3542577">i</a></span><span class="op" id="3542686">)</span><span class="op" id="3542687">,</span>&nbsp;<span class="ident" id="3542689"><a href="/text/template/exec.go.html#3542603">elem</a></span><span class="op" id="3542693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542701">if</span>&nbsp;<span class="ident" id="3542704"><a href="/text/template/exec.go.html#3542577">i</a></span>&nbsp;<span class="op" id="3542706">==</span>&nbsp;<span class="num" id="3542709">0</span>&nbsp;<span class="op" id="3542711">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542716">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542728">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542736">case</span>&nbsp;<span class="ident" id="3542741"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3542748">.</span><span class="ident" id="3542749">Invalid</span><span class="op" id="3542756">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542760">break</span>&nbsp;<span class="comment" id="3542766">//&nbsp;An&nbsp;invalid&nbsp;value&nbsp;is&nbsp;likely&nbsp;a&nbsp;nil&nbsp;map,&nbsp;etc.&nbsp;and&nbsp;acts&nbsp;like&nbsp;an&nbsp;empty&nbsp;map.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542841">default</span><span class="op" id="3542848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542852"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3542853">.</span><span class="ident" id="3542854">errorf</span><span class="op" id="3542860">(</span><span class="string" id="3542861">&#34;range&nbsp;can&#39;t&nbsp;iterate&nbsp;over&nbsp;%v&#34;</span><span class="op" id="3542890">,</span>&nbsp;<span class="ident" id="3542892"><a href="/text/template/exec.go.html#3541703">val</a></span><span class="op" id="3542895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3542901">if</span>&nbsp;<span class="ident" id="3542904"><a href="/text/template/exec.go.html#3541648">r</a></span><span class="op" id="3542905">.</span><span class="ident" id="3542906">ElseList</span>&nbsp;<span class="op" id="3542915">!=</span>&nbsp;<span class="ident" id="3542918">nil</span>&nbsp;<span class="op" id="3542922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3542926"><a href="/text/template/exec.go.html#3541609">s</a></span><span class="op" id="3542927">.</span><span class="ident" id="3542928">walk</span><span class="op" id="3542932">(</span><span class="ident" id="3542933"><a href="/text/template/exec.go.html#3541629">dot</a></span><span class="op" id="3542936">,</span>&nbsp;<span class="ident" id="3542938"><a href="/text/template/exec.go.html#3541648">r</a></span><span class="op" id="3542939">.</span><span class="ident" id="3542940">ElseList</span><span class="op" id="3542948">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3542951">}</span><br>
<span class="lineno"></span><span class="op" id="3542953">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3542956">func</span>&nbsp;<span class="op" id="3542961">(</span><span class="ident" id="3542962">s</span>&nbsp;<span class="op" id="3542964">*</span><span class="ident" id="3542965"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3542970">)</span>&nbsp;<span class="ident" id="3542972">walkTemplate</span><span class="op" id="3542984">(</span><span class="ident" id="3542985">dot</span>&nbsp;<span class="ident" id="3542989"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3542996">.</span><span class="ident" id="3542997">Value</span><span class="op" id="3543002">,</span>&nbsp;<span class="ident" id="3543004">t</span>&nbsp;<span class="op" id="3543006">*</span><span class="ident" id="3543007"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3543012">.</span><span class="ident" id="3543013">TemplateNode</span><span class="op" id="3543025">)</span>&nbsp;<span class="op" id="3543027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3543030"><a href="/text/template/exec.go.html#3542962">s</a></span><span class="op" id="3543031">.</span><span class="ident" id="3543032">at</span><span class="op" id="3543034">(</span><span class="ident" id="3543035"><a href="/text/template/exec.go.html#3543004">t</a></span><span class="op" id="3543036">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3543039">tmpl</span>&nbsp;<span class="op" id="3543044">:=</span>&nbsp;<span class="ident" id="3543047"><a href="/text/template/exec.go.html#3542962">s</a></span><span class="op" id="3543048">.</span><span class="ident" id="3543049">tmpl</span><span class="op" id="3543053">.</span><span class="ident" id="3543054">tmpl</span><span class="op" id="3543058">[</span><span class="ident" id="3543059"><a href="/text/template/exec.go.html#3543004">t</a></span><span class="op" id="3543060">.</span><span class="ident" id="3543061">Name</span><span class="op" id="3543065">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3543068">if</span>&nbsp;<span class="ident" id="3543071"><a href="/text/template/exec.go.html#3543039">tmpl</a></span>&nbsp;<span class="op" id="3543076">==</span>&nbsp;<span class="ident" id="3543079">nil</span>&nbsp;<span class="op" id="3543083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3543087"><a href="/text/template/exec.go.html#3542962">s</a></span><span class="op" id="3543088">.</span><span class="ident" id="3543089">errorf</span><span class="op" id="3543095">(</span><span class="string" id="3543096">&#34;template&nbsp;%q&nbsp;not&nbsp;defined&#34;</span><span class="op" id="3543121">,</span>&nbsp;<span class="ident" id="3543123"><a href="/text/template/exec.go.html#3543004">t</a></span><span class="op" id="3543124">.</span><span class="ident" id="3543125">Name</span><span class="op" id="3543129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3543132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3543135">//&nbsp;Variables&nbsp;declared&nbsp;by&nbsp;the&nbsp;pipeline&nbsp;persist.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3543183"><a href="/text/template/exec.go.html#3542985">dot</a></span>&nbsp;<span class="op" id="3543187">=</span>&nbsp;<span class="ident" id="3543189"><a href="/text/template/exec.go.html#3542962">s</a></span><span class="op" id="3543190">.</span><span class="ident" id="3543191">evalPipeline</span><span class="op" id="3543203">(</span><span class="ident" id="3543204"><a href="/text/template/exec.go.html#3542985">dot</a></span><span class="op" id="3543207">,</span>&nbsp;<span class="ident" id="3543209"><a href="/text/template/exec.go.html#3543004">t</a></span><span class="op" id="3543210">.</span><span class="ident" id="3543211">Pipe</span><span class="op" id="3543215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3543218">newState</span>&nbsp;<span class="op" id="3543227">:=</span>&nbsp;<span class="op" id="3543230">*</span><span class="ident" id="3543231"><a href="/text/template/exec.go.html#3542962">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3543234"><a href="/text/template/exec.go.html#3543218">newState</a></span><span class="op" id="3543242">.</span><span class="ident" id="3543243">tmpl</span>&nbsp;<span class="op" id="3543248">=</span>&nbsp;<span class="ident" id="3543250"><a href="/text/template/exec.go.html#3543039">tmpl</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3543256">//&nbsp;No&nbsp;dynamic&nbsp;scoping:&nbsp;template&nbsp;invocations&nbsp;inherit&nbsp;no&nbsp;variables.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3543323"><a href="/text/template/exec.go.html#3543218">newState</a></span><span class="op" id="3543331">.</span><span class="ident" id="3543332">vars</span>&nbsp;<span class="op" id="3543337">=</span>&nbsp;<span class="op" id="3543339">[</span><span class="op" id="3543340">]</span><span class="ident" id="3543341"><a href="/text/template/exec.go.html#3535453">variable</a></span><span class="op" id="3543349">{</span><span class="op" id="3543350">{</span><span class="string" id="3543351">&#34;$&#34;</span><span class="op" id="3543354">,</span>&nbsp;<span class="ident" id="3543356"><a href="/text/template/exec.go.html#3542985">dot</a></span><span class="op" id="3543359">}</span><span class="op" id="3543360">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3543363"><a href="/text/template/exec.go.html#3543218">newState</a></span><span class="op" id="3543371">.</span><span class="ident" id="3543372">walk</span><span class="op" id="3543376">(</span><span class="ident" id="3543377"><a href="/text/template/exec.go.html#3542985">dot</a></span><span class="op" id="3543380">,</span>&nbsp;<span class="ident" id="3543382"><a href="/text/template/exec.go.html#3543039">tmpl</a></span><span class="op" id="3543386">.</span><span class="ident" id="3543387">Root</span><span class="op" id="3543391">)</span><br>
<span class="lineno"></span><span class="op" id="3543393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3543396">//&nbsp;Eval&nbsp;functions&nbsp;evaluate&nbsp;pipelines,&nbsp;commands,&nbsp;and&nbsp;their&nbsp;elements&nbsp;and&nbsp;extract</span><br>
<span class="lineno"></span><span class="comment" id="3543475">//&nbsp;values&nbsp;from&nbsp;the&nbsp;data&nbsp;structure&nbsp;by&nbsp;examining&nbsp;fields,&nbsp;calling&nbsp;methods,&nbsp;and&nbsp;so&nbsp;on.</span><br>
<span class="lineno">320</span><span class="comment" id="3543558">//&nbsp;The&nbsp;printing&nbsp;of&nbsp;those&nbsp;values&nbsp;happens&nbsp;only&nbsp;through&nbsp;walk&nbsp;functions.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3543628">//&nbsp;evalPipeline&nbsp;returns&nbsp;the&nbsp;value&nbsp;acquired&nbsp;by&nbsp;evaluating&nbsp;a&nbsp;pipeline.&nbsp;If&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3543704">//&nbsp;pipeline&nbsp;has&nbsp;a&nbsp;variable&nbsp;declaration,&nbsp;the&nbsp;variable&nbsp;will&nbsp;be&nbsp;pushed&nbsp;on&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3543779">//&nbsp;stack.&nbsp;Callers&nbsp;should&nbsp;therefore&nbsp;pop&nbsp;the&nbsp;stack&nbsp;after&nbsp;they&nbsp;are&nbsp;finished</span><br>
<span class="lineno">325</span><span class="comment" id="3543852">//&nbsp;executing&nbsp;commands&nbsp;depending&nbsp;on&nbsp;the&nbsp;pipeline&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="3543907">func</span>&nbsp;<span class="op" id="3543912">(</span><span class="ident" id="3543913">s</span>&nbsp;<span class="op" id="3543915">*</span><span class="ident" id="3543916"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3543921">)</span>&nbsp;<span class="ident" id="3543923">evalPipeline</span><span class="op" id="3543935">(</span><span class="ident" id="3543936">dot</span>&nbsp;<span class="ident" id="3543940"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3543947">.</span><span class="ident" id="3543948">Value</span><span class="op" id="3543953">,</span>&nbsp;<span class="ident" id="3543955">pipe</span>&nbsp;<span class="op" id="3543960">*</span><span class="ident" id="3543961"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3543966">.</span><span class="ident" id="3543967">PipeNode</span><span class="op" id="3543975">)</span>&nbsp;<span class="op" id="3543977">(</span><span class="ident" id="3543978">value</span>&nbsp;<span class="ident" id="3543984"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3543991">.</span><span class="ident" id="3543992">Value</span><span class="op" id="3543997">)</span>&nbsp;<span class="op" id="3543999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544002">if</span>&nbsp;<span class="ident" id="3544005"><a href="/text/template/exec.go.html#3543955">pipe</a></span>&nbsp;<span class="op" id="3544010">==</span>&nbsp;<span class="ident" id="3544013">nil</span>&nbsp;<span class="op" id="3544017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544021">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3544029">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3544032"><a href="/text/template/exec.go.html#3543913">s</a></span><span class="op" id="3544033">.</span><span class="ident" id="3544034">at</span><span class="op" id="3544036">(</span><span class="ident" id="3544037"><a href="/text/template/exec.go.html#3543955">pipe</a></span><span class="op" id="3544041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544044">for</span>&nbsp;<span class="ident" id="3544048">_</span><span class="op" id="3544049">,</span>&nbsp;<span class="ident" id="3544051">cmd</span>&nbsp;<span class="op" id="3544055">:=</span>&nbsp;<span class="keyword" id="3544058">range</span>&nbsp;<span class="ident" id="3544064"><a href="/text/template/exec.go.html#3543955">pipe</a></span><span class="op" id="3544068">.</span><span class="ident" id="3544069">Cmds</span>&nbsp;<span class="op" id="3544074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3544078"><a href="/text/template/exec.go.html#3543978">value</a></span>&nbsp;<span class="op" id="3544084">=</span>&nbsp;<span class="ident" id="3544086"><a href="/text/template/exec.go.html#3543913">s</a></span><span class="op" id="3544087">.</span><span class="ident" id="3544088">evalCommand</span><span class="op" id="3544099">(</span><span class="ident" id="3544100"><a href="/text/template/exec.go.html#3543936">dot</a></span><span class="op" id="3544103">,</span>&nbsp;<span class="ident" id="3544105"><a href="/text/template/exec.go.html#3544051">cmd</a></span><span class="op" id="3544108">,</span>&nbsp;<span class="ident" id="3544110"><a href="/text/template/exec.go.html#3543978">value</a></span><span class="op" id="3544115">)</span>&nbsp;<span class="comment" id="3544117">//&nbsp;previous&nbsp;value&nbsp;is&nbsp;this&nbsp;one&#39;s&nbsp;final&nbsp;arg.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3544162">//&nbsp;If&nbsp;the&nbsp;object&nbsp;has&nbsp;type&nbsp;interface{},&nbsp;dig&nbsp;down&nbsp;one&nbsp;level&nbsp;to&nbsp;the&nbsp;thing&nbsp;inside.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544243">if</span>&nbsp;<span class="ident" id="3544246"><a href="/text/template/exec.go.html#3543978">value</a></span><span class="op" id="3544251">.</span><span class="ident" id="3544252">Kind</span><span class="op" id="3544256">(</span><span class="op" id="3544257">)</span>&nbsp;<span class="op" id="3544259">==</span>&nbsp;<span class="ident" id="3544262"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3544269">.</span><span class="ident" id="3544270">Interface</span>&nbsp;<span class="op" id="3544280">&amp;&amp;</span>&nbsp;<span class="ident" id="3544283"><a href="/text/template/exec.go.html#3543978">value</a></span><span class="op" id="3544288">.</span><span class="ident" id="3544289">Type</span><span class="op" id="3544293">(</span><span class="op" id="3544294">)</span><span class="op" id="3544295">.</span><span class="ident" id="3544296">NumMethod</span><span class="op" id="3544305">(</span><span class="op" id="3544306">)</span>&nbsp;<span class="op" id="3544308">==</span>&nbsp;<span class="num" id="3544311">0</span>&nbsp;<span class="op" id="3544313">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3544318"><a href="/text/template/exec.go.html#3543978">value</a></span>&nbsp;<span class="op" id="3544324">=</span>&nbsp;<span class="ident" id="3544326"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3544333">.</span><span class="ident" id="3544334">ValueOf</span><span class="op" id="3544341">(</span><span class="ident" id="3544342"><a href="/text/template/exec.go.html#3543978">value</a></span><span class="op" id="3544347">.</span><span class="ident" id="3544348">Interface</span><span class="op" id="3544357">(</span><span class="op" id="3544358">)</span><span class="op" id="3544359">)</span>&nbsp;<span class="comment" id="3544361">//&nbsp;lovely!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3544374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3544377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544380">for</span>&nbsp;<span class="ident" id="3544384">_</span><span class="op" id="3544385">,</span>&nbsp;<span class="ident" id="3544387">variable</span>&nbsp;<span class="op" id="3544396">:=</span>&nbsp;<span class="keyword" id="3544399">range</span>&nbsp;<span class="ident" id="3544405"><a href="/text/template/exec.go.html#3543955">pipe</a></span><span class="op" id="3544409">.</span><span class="ident" id="3544410">Decl</span>&nbsp;<span class="op" id="3544415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3544419"><a href="/text/template/exec.go.html#3543913">s</a></span><span class="op" id="3544420">.</span><span class="ident" id="3544421">push</span><span class="op" id="3544425">(</span><span class="ident" id="3544426"><a href="/text/template/exec.go.html#3544387">variable</a></span><span class="op" id="3544434">.</span><span class="ident" id="3544435">Ident</span><span class="op" id="3544440">[</span><span class="num" id="3544441">0</span><span class="op" id="3544442">]</span><span class="op" id="3544443">,</span>&nbsp;<span class="ident" id="3544445"><a href="/text/template/exec.go.html#3543978">value</a></span><span class="op" id="3544450">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3544453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544456">return</span>&nbsp;<span class="ident" id="3544463"><a href="/text/template/exec.go.html#3543978">value</a></span><br>
<span class="lineno"></span><span class="op" id="3544469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3544472">func</span>&nbsp;<span class="op" id="3544477">(</span><span class="ident" id="3544478">s</span>&nbsp;<span class="op" id="3544480">*</span><span class="ident" id="3544481"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3544486">)</span>&nbsp;<span class="ident" id="3544488">notAFunction</span><span class="op" id="3544500">(</span><span class="ident" id="3544501">args</span>&nbsp;<span class="op" id="3544506">[</span><span class="op" id="3544507">]</span><span class="ident" id="3544508"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3544513">.</span><span class="ident" id="3544514">Node</span><span class="op" id="3544518">,</span>&nbsp;<span class="ident" id="3544520">final</span>&nbsp;<span class="ident" id="3544526"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3544533">.</span><span class="ident" id="3544534">Value</span><span class="op" id="3544539">)</span>&nbsp;<span class="op" id="3544541">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544544">if</span>&nbsp;<span class="builtinfunc" id="3544547">len</span><span class="op" id="3544550">(</span><span class="ident" id="3544551"><a href="/text/template/exec.go.html#3544501">args</a></span><span class="op" id="3544555">)</span>&nbsp;<span class="op" id="3544557">&gt;</span>&nbsp;<span class="num" id="3544559">1</span>&nbsp;<span class="op" id="3544561">||</span>&nbsp;<span class="ident" id="3544564"><a href="/text/template/exec.go.html#3544520">final</a></span><span class="op" id="3544569">.</span><span class="ident" id="3544570">IsValid</span><span class="op" id="3544577">(</span><span class="op" id="3544578">)</span>&nbsp;<span class="op" id="3544580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3544584"><a href="/text/template/exec.go.html#3544478">s</a></span><span class="op" id="3544585">.</span><span class="ident" id="3544586">errorf</span><span class="op" id="3544592">(</span><span class="string" id="3544593">&#34;can&#39;t&nbsp;give&nbsp;argument&nbsp;to&nbsp;non-function&nbsp;%s&#34;</span><span class="op" id="3544633">,</span>&nbsp;<span class="ident" id="3544635"><a href="/text/template/exec.go.html#3544501">args</a></span><span class="op" id="3544639">[</span><span class="num" id="3544640">0</span><span class="op" id="3544641">]</span><span class="op" id="3544642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3544645">}</span><br>
<span class="lineno"></span><span class="op" id="3544647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="3544650">func</span>&nbsp;<span class="op" id="3544655">(</span><span class="ident" id="3544656">s</span>&nbsp;<span class="op" id="3544658">*</span><span class="ident" id="3544659"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3544664">)</span>&nbsp;<span class="ident" id="3544666">evalCommand</span><span class="op" id="3544677">(</span><span class="ident" id="3544678">dot</span>&nbsp;<span class="ident" id="3544682"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3544689">.</span><span class="ident" id="3544690">Value</span><span class="op" id="3544695">,</span>&nbsp;<span class="ident" id="3544697">cmd</span>&nbsp;<span class="op" id="3544701">*</span><span class="ident" id="3544702"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3544707">.</span><span class="ident" id="3544708">CommandNode</span><span class="op" id="3544719">,</span>&nbsp;<span class="ident" id="3544721">final</span>&nbsp;<span class="ident" id="3544727"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3544734">.</span><span class="ident" id="3544735">Value</span><span class="op" id="3544740">)</span>&nbsp;<span class="ident" id="3544742"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3544749">.</span><span class="ident" id="3544750">Value</span>&nbsp;<span class="op" id="3544756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3544759">firstWord</span>&nbsp;<span class="op" id="3544769">:=</span>&nbsp;<span class="ident" id="3544772"><a href="/text/template/exec.go.html#3544697">cmd</a></span><span class="op" id="3544775">.</span><span class="ident" id="3544776">Args</span><span class="op" id="3544780">[</span><span class="num" id="3544781">0</span><span class="op" id="3544782">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544785">switch</span>&nbsp;<span class="ident" id="3544792">n</span>&nbsp;<span class="op" id="3544794">:=</span>&nbsp;<span class="ident" id="3544797"><a href="/text/template/exec.go.html#3544759">firstWord</a></span><span class="op" id="3544806">.</span><span class="op" id="3544807">(</span><span class="keyword" id="3544808">type</span><span class="op" id="3544812">)</span>&nbsp;<span class="op" id="3544814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544817">case</span>&nbsp;<span class="op" id="3544822">*</span><span class="ident" id="3544823"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3544828">.</span><span class="ident" id="3544829">FieldNode</span><span class="op" id="3544838">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544842">return</span>&nbsp;<span class="ident" id="3544849"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3544850">.</span><span class="ident" id="3544851">evalFieldNode</span><span class="op" id="3544864">(</span><span class="ident" id="3544865"><a href="/text/template/exec.go.html#3544678">dot</a></span><span class="op" id="3544868">,</span>&nbsp;<span class="ident" id="3544870"><a href="/text/template/exec.go.html#3544792">n</a></span><span class="op" id="3544871">,</span>&nbsp;<span class="ident" id="3544873"><a href="/text/template/exec.go.html#3544697">cmd</a></span><span class="op" id="3544876">.</span><span class="ident" id="3544877">Args</span><span class="op" id="3544881">,</span>&nbsp;<span class="ident" id="3544883"><a href="/text/template/exec.go.html#3544721">final</a></span><span class="op" id="3544888">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544891">case</span>&nbsp;<span class="op" id="3544896">*</span><span class="ident" id="3544897"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3544902">.</span><span class="ident" id="3544903">ChainNode</span><span class="op" id="3544912">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544916">return</span>&nbsp;<span class="ident" id="3544923"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3544924">.</span><span class="ident" id="3544925">evalChainNode</span><span class="op" id="3544938">(</span><span class="ident" id="3544939"><a href="/text/template/exec.go.html#3544678">dot</a></span><span class="op" id="3544942">,</span>&nbsp;<span class="ident" id="3544944"><a href="/text/template/exec.go.html#3544792">n</a></span><span class="op" id="3544945">,</span>&nbsp;<span class="ident" id="3544947"><a href="/text/template/exec.go.html#3544697">cmd</a></span><span class="op" id="3544950">.</span><span class="ident" id="3544951">Args</span><span class="op" id="3544955">,</span>&nbsp;<span class="ident" id="3544957"><a href="/text/template/exec.go.html#3544721">final</a></span><span class="op" id="3544962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3544965">case</span>&nbsp;<span class="op" id="3544970">*</span><span class="ident" id="3544971"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3544976">.</span><span class="ident" id="3544977">IdentifierNode</span><span class="op" id="3544991">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3544995">//&nbsp;Must&nbsp;be&nbsp;a&nbsp;function.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545020">return</span>&nbsp;<span class="ident" id="3545027"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3545028">.</span><span class="ident" id="3545029">evalFunction</span><span class="op" id="3545041">(</span><span class="ident" id="3545042"><a href="/text/template/exec.go.html#3544678">dot</a></span><span class="op" id="3545045">,</span>&nbsp;<span class="ident" id="3545047"><a href="/text/template/exec.go.html#3544792">n</a></span><span class="op" id="3545048">,</span>&nbsp;<span class="ident" id="3545050"><a href="/text/template/exec.go.html#3544697">cmd</a></span><span class="op" id="3545053">,</span>&nbsp;<span class="ident" id="3545055"><a href="/text/template/exec.go.html#3544697">cmd</a></span><span class="op" id="3545058">.</span><span class="ident" id="3545059">Args</span><span class="op" id="3545063">,</span>&nbsp;<span class="ident" id="3545065"><a href="/text/template/exec.go.html#3544721">final</a></span><span class="op" id="3545070">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545073">case</span>&nbsp;<span class="op" id="3545078">*</span><span class="ident" id="3545079"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3545084">.</span><span class="ident" id="3545085">PipeNode</span><span class="op" id="3545093">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3545097">//&nbsp;Parenthesized&nbsp;pipeline.&nbsp;The&nbsp;arguments&nbsp;are&nbsp;all&nbsp;inside&nbsp;the&nbsp;pipeline;&nbsp;final&nbsp;is&nbsp;ignored.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545187">return</span>&nbsp;<span class="ident" id="3545194"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3545195">.</span><span class="ident" id="3545196">evalPipeline</span><span class="op" id="3545208">(</span><span class="ident" id="3545209"><a href="/text/template/exec.go.html#3544678">dot</a></span><span class="op" id="3545212">,</span>&nbsp;<span class="ident" id="3545214"><a href="/text/template/exec.go.html#3544792">n</a></span><span class="op" id="3545215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545218">case</span>&nbsp;<span class="op" id="3545223">*</span><span class="ident" id="3545224"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3545229">.</span><span class="ident" id="3545230">VariableNode</span><span class="op" id="3545242">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545246">return</span>&nbsp;<span class="ident" id="3545253"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3545254">.</span><span class="ident" id="3545255">evalVariableNode</span><span class="op" id="3545271">(</span><span class="ident" id="3545272"><a href="/text/template/exec.go.html#3544678">dot</a></span><span class="op" id="3545275">,</span>&nbsp;<span class="ident" id="3545277"><a href="/text/template/exec.go.html#3544792">n</a></span><span class="op" id="3545278">,</span>&nbsp;<span class="ident" id="3545280"><a href="/text/template/exec.go.html#3544697">cmd</a></span><span class="op" id="3545283">.</span><span class="ident" id="3545284">Args</span><span class="op" id="3545288">,</span>&nbsp;<span class="ident" id="3545290"><a href="/text/template/exec.go.html#3544721">final</a></span><span class="op" id="3545295">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3545298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3545301"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3545302">.</span><span class="ident" id="3545303">at</span><span class="op" id="3545305">(</span><span class="ident" id="3545306"><a href="/text/template/exec.go.html#3544759">firstWord</a></span><span class="op" id="3545315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3545318"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3545319">.</span><span class="ident" id="3545320">notAFunction</span><span class="op" id="3545332">(</span><span class="ident" id="3545333"><a href="/text/template/exec.go.html#3544697">cmd</a></span><span class="op" id="3545336">.</span><span class="ident" id="3545337">Args</span><span class="op" id="3545341">,</span>&nbsp;<span class="ident" id="3545343"><a href="/text/template/exec.go.html#3544721">final</a></span><span class="op" id="3545348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545351">switch</span>&nbsp;<span class="ident" id="3545358">word</span>&nbsp;<span class="op" id="3545363">:=</span>&nbsp;<span class="ident" id="3545366"><a href="/text/template/exec.go.html#3544759">firstWord</a></span><span class="op" id="3545375">.</span><span class="op" id="3545376">(</span><span class="keyword" id="3545377">type</span><span class="op" id="3545381">)</span>&nbsp;<span class="op" id="3545383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545386">case</span>&nbsp;<span class="op" id="3545391">*</span><span class="ident" id="3545392"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3545397">.</span><span class="ident" id="3545398">BoolNode</span><span class="op" id="3545406">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545410">return</span>&nbsp;<span class="ident" id="3545417"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3545424">.</span><span class="ident" id="3545425">ValueOf</span><span class="op" id="3545432">(</span><span class="ident" id="3545433"><a href="/text/template/exec.go.html#3545358">word</a></span><span class="op" id="3545437">.</span><span class="ident" id="3545438">True</span><span class="op" id="3545442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545445">case</span>&nbsp;<span class="op" id="3545450">*</span><span class="ident" id="3545451"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3545456">.</span><span class="ident" id="3545457">DotNode</span><span class="op" id="3545464">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545468">return</span>&nbsp;<span class="ident" id="3545475"><a href="/text/template/exec.go.html#3544678">dot</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545480">case</span>&nbsp;<span class="op" id="3545485">*</span><span class="ident" id="3545486"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3545491">.</span><span class="ident" id="3545492">NilNode</span><span class="op" id="3545499">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3545503"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3545504">.</span><span class="ident" id="3545505">errorf</span><span class="op" id="3545511">(</span><span class="string" id="3545512">&#34;nil&nbsp;is&nbsp;not&nbsp;a&nbsp;command&#34;</span><span class="op" id="3545534">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545537">case</span>&nbsp;<span class="op" id="3545542">*</span><span class="ident" id="3545543"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3545548">.</span><span class="ident" id="3545549">NumberNode</span><span class="op" id="3545559">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545563">return</span>&nbsp;<span class="ident" id="3545570"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3545571">.</span><span class="ident" id="3545572">idealConstant</span><span class="op" id="3545585">(</span><span class="ident" id="3545586"><a href="/text/template/exec.go.html#3545358">word</a></span><span class="op" id="3545590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545593">case</span>&nbsp;<span class="op" id="3545598">*</span><span class="ident" id="3545599"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3545604">.</span><span class="ident" id="3545605">StringNode</span><span class="op" id="3545615">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3545619">return</span>&nbsp;<span class="ident" id="3545626"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3545633">.</span><span class="ident" id="3545634">ValueOf</span><span class="op" id="3545641">(</span><span class="ident" id="3545642"><a href="/text/template/exec.go.html#3545358">word</a></span><span class="op" id="3545646">.</span><span class="ident" id="3545647">Text</span><span class="op" id="3545651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3545654">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3545657"><a href="/text/template/exec.go.html#3544656">s</a></span><span class="op" id="3545658">.</span><span class="ident" id="3545659">errorf</span><span class="op" id="3545665">(</span><span class="string" id="3545666">&#34;can&#39;t&nbsp;evaluate&nbsp;command&nbsp;%q&#34;</span><span class="op" id="3545693">,</span>&nbsp;<span class="ident" id="3545695"><a href="/text/template/exec.go.html#3544759">firstWord</a></span><span class="op" id="3545704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3545707">panic</span><span class="op" id="3545712">(</span><span class="string" id="3545713">&#34;not&nbsp;reached&#34;</span><span class="op" id="3545726">)</span><br>
<span class="lineno"></span><span class="op" id="3545728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3545731">//&nbsp;idealConstant&nbsp;is&nbsp;called&nbsp;to&nbsp;return&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;number&nbsp;in&nbsp;a&nbsp;context&nbsp;where</span><br>
<span class="lineno">385</span><span class="comment" id="3545809">//&nbsp;we&nbsp;don&#39;t&nbsp;know&nbsp;the&nbsp;type.&nbsp;In&nbsp;that&nbsp;case,&nbsp;the&nbsp;syntax&nbsp;of&nbsp;the&nbsp;number&nbsp;tells&nbsp;us</span><br>
<span class="lineno"></span><span class="comment" id="3545884">//&nbsp;its&nbsp;type,&nbsp;and&nbsp;we&nbsp;use&nbsp;Go&nbsp;rules&nbsp;to&nbsp;resolve.&nbsp;&nbsp;Note&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;thing&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="3545961">//&nbsp;a&nbsp;uint&nbsp;ideal&nbsp;constant&nbsp;in&nbsp;this&nbsp;situation&nbsp;-&nbsp;the&nbsp;value&nbsp;must&nbsp;be&nbsp;of&nbsp;int&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="3546037">func</span>&nbsp;<span class="op" id="3546042">(</span><span class="ident" id="3546043">s</span>&nbsp;<span class="op" id="3546045">*</span><span class="ident" id="3546046"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3546051">)</span>&nbsp;<span class="ident" id="3546053">idealConstant</span><span class="op" id="3546066">(</span><span class="ident" id="3546067">constant</span>&nbsp;<span class="op" id="3546076">*</span><span class="ident" id="3546077"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3546082">.</span><span class="ident" id="3546083">NumberNode</span><span class="op" id="3546093">)</span>&nbsp;<span class="ident" id="3546095"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3546102">.</span><span class="ident" id="3546103">Value</span>&nbsp;<span class="op" id="3546109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3546112">//&nbsp;These&nbsp;are&nbsp;ideal&nbsp;constants&nbsp;but&nbsp;we&nbsp;don&#39;t&nbsp;know&nbsp;the&nbsp;type</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3546169">//&nbsp;and&nbsp;we&nbsp;have&nbsp;no&nbsp;context.&nbsp;&nbsp;(If&nbsp;it&nbsp;was&nbsp;a&nbsp;method&nbsp;argument,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3546228">//&nbsp;we&#39;d&nbsp;know&nbsp;what&nbsp;we&nbsp;need.)&nbsp;The&nbsp;syntax&nbsp;guides&nbsp;us&nbsp;to&nbsp;some&nbsp;extent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3546294"><a href="/text/template/exec.go.html#3546043">s</a></span><span class="op" id="3546295">.</span><span class="ident" id="3546296">at</span><span class="op" id="3546298">(</span><span class="ident" id="3546299"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546310">switch</span>&nbsp;<span class="op" id="3546317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546320">case</span>&nbsp;<span class="ident" id="3546325"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546333">.</span><span class="ident" id="3546334">IsComplex</span><span class="op" id="3546343">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546347">return</span>&nbsp;<span class="ident" id="3546354"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3546361">.</span><span class="ident" id="3546362">ValueOf</span><span class="op" id="3546369">(</span><span class="ident" id="3546370"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546378">.</span><span class="ident" id="3546379">Complex128</span><span class="op" id="3546389">)</span>&nbsp;<span class="comment" id="3546391">//&nbsp;incontrovertible.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546413">case</span>&nbsp;<span class="ident" id="3546418"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546426">.</span><span class="ident" id="3546427">IsFloat</span>&nbsp;<span class="op" id="3546435">&amp;&amp;</span>&nbsp;<span class="op" id="3546438">!</span><span class="ident" id="3546439"><a href="/text/template/exec.go.html#3546814">isHexConstant</a></span><span class="op" id="3546452">(</span><span class="ident" id="3546453"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546461">.</span><span class="ident" id="3546462">Text</span><span class="op" id="3546466">)</span>&nbsp;<span class="op" id="3546468">&amp;&amp;</span>&nbsp;<span class="ident" id="3546471"><a href="/text/template/exec.go.html#3535030">strings</a></span><span class="op" id="3546478">.</span><span class="ident" id="3546479">IndexAny</span><span class="op" id="3546487">(</span><span class="ident" id="3546488"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546496">.</span><span class="ident" id="3546497">Text</span><span class="op" id="3546501">,</span>&nbsp;<span class="string" id="3546503">&#34;.eE&#34;</span><span class="op" id="3546508">)</span>&nbsp;<span class="op" id="3546510">&gt;=</span>&nbsp;<span class="num" id="3546513">0</span><span class="op" id="3546514">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546518">return</span>&nbsp;<span class="ident" id="3546525"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3546532">.</span><span class="ident" id="3546533">ValueOf</span><span class="op" id="3546540">(</span><span class="ident" id="3546541"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546549">.</span><span class="ident" id="3546550">Float64</span><span class="op" id="3546557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546560">case</span>&nbsp;<span class="ident" id="3546565"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546573">.</span><span class="ident" id="3546574">IsInt</span><span class="op" id="3546579">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3546583">n</span>&nbsp;<span class="op" id="3546585">:=</span>&nbsp;<span class="builtintype" id="3546588">int</span><span class="op" id="3546591">(</span><span class="ident" id="3546592"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546600">.</span><span class="ident" id="3546601">Int64</span><span class="op" id="3546606">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546610">if</span>&nbsp;<span class="ident" id="3546613">int64</span><span class="op" id="3546618">(</span><span class="ident" id="3546619"><a href="/text/template/exec.go.html#3546583">n</a></span><span class="op" id="3546620">)</span>&nbsp;<span class="op" id="3546622">!=</span>&nbsp;<span class="ident" id="3546625"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546633">.</span><span class="ident" id="3546634">Int64</span>&nbsp;<span class="op" id="3546640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3546645"><a href="/text/template/exec.go.html#3546043">s</a></span><span class="op" id="3546646">.</span><span class="ident" id="3546647">errorf</span><span class="op" id="3546653">(</span><span class="string" id="3546654">&#34;%s&nbsp;overflows&nbsp;int&#34;</span><span class="op" id="3546672">,</span>&nbsp;<span class="ident" id="3546674"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546682">.</span><span class="ident" id="3546683">Text</span><span class="op" id="3546687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3546691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546695">return</span>&nbsp;<span class="ident" id="3546702"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3546709">.</span><span class="ident" id="3546710">ValueOf</span><span class="op" id="3546717">(</span><span class="ident" id="3546718"><a href="/text/template/exec.go.html#3546583">n</a></span><span class="op" id="3546719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546722">case</span>&nbsp;<span class="ident" id="3546727"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546735">.</span><span class="ident" id="3546736">IsUint</span><span class="op" id="3546742">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3546746"><a href="/text/template/exec.go.html#3546043">s</a></span><span class="op" id="3546747">.</span><span class="ident" id="3546748">errorf</span><span class="op" id="3546754">(</span><span class="string" id="3546755">&#34;%s&nbsp;overflows&nbsp;int&#34;</span><span class="op" id="3546773">,</span>&nbsp;<span class="ident" id="3546775"><a href="/text/template/exec.go.html#3546067">constant</a></span><span class="op" id="3546783">.</span><span class="ident" id="3546784">Text</span><span class="op" id="3546788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3546791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546794">return</span>&nbsp;<span class="ident" id="3546801"><a href="/text/template/exec.go.html#3536315">zero</a></span><br>
<span class="lineno"></span><span class="op" id="3546806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="3546809">func</span>&nbsp;<span class="ident" id="3546814">isHexConstant</span><span class="op" id="3546827">(</span><span class="ident" id="3546828">s</span>&nbsp;<span class="builtintype" id="3546830">string</span><span class="op" id="3546836">)</span>&nbsp;<span class="builtintype" id="3546838">bool</span>&nbsp;<span class="op" id="3546843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3546846">return</span>&nbsp;<span class="builtinfunc" id="3546853">len</span><span class="op" id="3546856">(</span><span class="ident" id="3546857"><a href="/text/template/exec.go.html#3546828">s</a></span><span class="op" id="3546858">)</span>&nbsp;<span class="op" id="3546860">&gt;</span>&nbsp;<span class="num" id="3546862">2</span>&nbsp;<span class="op" id="3546864">&amp;&amp;</span>&nbsp;<span class="ident" id="3546867"><a href="/text/template/exec.go.html#3546828">s</a></span><span class="op" id="3546868">[</span><span class="num" id="3546869">0</span><span class="op" id="3546870">]</span>&nbsp;<span class="op" id="3546872">==</span>&nbsp;<span class="string" id="3546875">&#39;0&#39;</span>&nbsp;<span class="op" id="3546879">&amp;&amp;</span>&nbsp;<span class="op" id="3546882">(</span><span class="ident" id="3546883"><a href="/text/template/exec.go.html#3546828">s</a></span><span class="op" id="3546884">[</span><span class="num" id="3546885">1</span><span class="op" id="3546886">]</span>&nbsp;<span class="op" id="3546888">==</span>&nbsp;<span class="string" id="3546891">&#39;x&#39;</span>&nbsp;<span class="op" id="3546895">||</span>&nbsp;<span class="ident" id="3546898"><a href="/text/template/exec.go.html#3546828">s</a></span><span class="op" id="3546899">[</span><span class="num" id="3546900">1</span><span class="op" id="3546901">]</span>&nbsp;<span class="op" id="3546903">==</span>&nbsp;<span class="string" id="3546906">&#39;X&#39;</span><span class="op" id="3546909">)</span><br>
<span class="lineno"></span><span class="op" id="3546911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3546914">func</span>&nbsp;<span class="op" id="3546919">(</span><span class="ident" id="3546920">s</span>&nbsp;<span class="op" id="3546922">*</span><span class="ident" id="3546923"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3546928">)</span>&nbsp;<span class="ident" id="3546930">evalFieldNode</span><span class="op" id="3546943">(</span><span class="ident" id="3546944">dot</span>&nbsp;<span class="ident" id="3546948"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3546955">.</span><span class="ident" id="3546956">Value</span><span class="op" id="3546961">,</span>&nbsp;<span class="ident" id="3546963">field</span>&nbsp;<span class="op" id="3546969">*</span><span class="ident" id="3546970"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3546975">.</span><span class="ident" id="3546976">FieldNode</span><span class="op" id="3546985">,</span>&nbsp;<span class="ident" id="3546987">args</span>&nbsp;<span class="op" id="3546992">[</span><span class="op" id="3546993">]</span><span class="ident" id="3546994"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3546999">.</span><span class="ident" id="3547000">Node</span><span class="op" id="3547004">,</span>&nbsp;<span class="ident" id="3547006">final</span>&nbsp;<span class="ident" id="3547012"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3547019">.</span><span class="ident" id="3547020">Value</span><span class="op" id="3547025">)</span>&nbsp;<span class="ident" id="3547027"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3547034">.</span><span class="ident" id="3547035">Value</span>&nbsp;<span class="op" id="3547041">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3547044"><a href="/text/template/exec.go.html#3546920">s</a></span><span class="op" id="3547045">.</span><span class="ident" id="3547046">at</span><span class="op" id="3547048">(</span><span class="ident" id="3547049"><a href="/text/template/exec.go.html#3546963">field</a></span><span class="op" id="3547054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3547057">return</span>&nbsp;<span class="ident" id="3547064"><a href="/text/template/exec.go.html#3546920">s</a></span><span class="op" id="3547065">.</span><span class="ident" id="3547066">evalFieldChain</span><span class="op" id="3547080">(</span><span class="ident" id="3547081"><a href="/text/template/exec.go.html#3546944">dot</a></span><span class="op" id="3547084">,</span>&nbsp;<span class="ident" id="3547086"><a href="/text/template/exec.go.html#3546944">dot</a></span><span class="op" id="3547089">,</span>&nbsp;<span class="ident" id="3547091"><a href="/text/template/exec.go.html#3546963">field</a></span><span class="op" id="3547096">,</span>&nbsp;<span class="ident" id="3547098"><a href="/text/template/exec.go.html#3546963">field</a></span><span class="op" id="3547103">.</span><span class="ident" id="3547104">Ident</span><span class="op" id="3547109">,</span>&nbsp;<span class="ident" id="3547111"><a href="/text/template/exec.go.html#3546987">args</a></span><span class="op" id="3547115">,</span>&nbsp;<span class="ident" id="3547117"><a href="/text/template/exec.go.html#3547006">final</a></span><span class="op" id="3547122">)</span><br>
<span class="lineno"></span><span class="op" id="3547124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3547127">func</span>&nbsp;<span class="op" id="3547132">(</span><span class="ident" id="3547133">s</span>&nbsp;<span class="op" id="3547135">*</span><span class="ident" id="3547136"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3547141">)</span>&nbsp;<span class="ident" id="3547143">evalChainNode</span><span class="op" id="3547156">(</span><span class="ident" id="3547157">dot</span>&nbsp;<span class="ident" id="3547161"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3547168">.</span><span class="ident" id="3547169">Value</span><span class="op" id="3547174">,</span>&nbsp;<span class="ident" id="3547176">chain</span>&nbsp;<span class="op" id="3547182">*</span><span class="ident" id="3547183"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3547188">.</span><span class="ident" id="3547189">ChainNode</span><span class="op" id="3547198">,</span>&nbsp;<span class="ident" id="3547200">args</span>&nbsp;<span class="op" id="3547205">[</span><span class="op" id="3547206">]</span><span class="ident" id="3547207"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3547212">.</span><span class="ident" id="3547213">Node</span><span class="op" id="3547217">,</span>&nbsp;<span class="ident" id="3547219">final</span>&nbsp;<span class="ident" id="3547225"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3547232">.</span><span class="ident" id="3547233">Value</span><span class="op" id="3547238">)</span>&nbsp;<span class="ident" id="3547240"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3547247">.</span><span class="ident" id="3547248">Value</span>&nbsp;<span class="op" id="3547254">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3547257"><a href="/text/template/exec.go.html#3547133">s</a></span><span class="op" id="3547258">.</span><span class="ident" id="3547259">at</span><span class="op" id="3547261">(</span><span class="ident" id="3547262"><a href="/text/template/exec.go.html#3547176">chain</a></span><span class="op" id="3547267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3547270">//&nbsp;(pipe).Field1.Field2&nbsp;has&nbsp;pipe&nbsp;as&nbsp;.Node,&nbsp;fields&nbsp;as&nbsp;.Field.&nbsp;Eval&nbsp;the&nbsp;pipeline,&nbsp;then&nbsp;the&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3547368">pipe</span>&nbsp;<span class="op" id="3547373">:=</span>&nbsp;<span class="ident" id="3547376"><a href="/text/template/exec.go.html#3547133">s</a></span><span class="op" id="3547377">.</span><span class="ident" id="3547378">evalArg</span><span class="op" id="3547385">(</span><span class="ident" id="3547386"><a href="/text/template/exec.go.html#3547157">dot</a></span><span class="op" id="3547389">,</span>&nbsp;<span class="ident" id="3547391">nil</span><span class="op" id="3547394">,</span>&nbsp;<span class="ident" id="3547396"><a href="/text/template/exec.go.html#3547176">chain</a></span><span class="op" id="3547401">.</span><span class="ident" id="3547402">Node</span><span class="op" id="3547406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3547409">if</span>&nbsp;<span class="builtinfunc" id="3547412">len</span><span class="op" id="3547415">(</span><span class="ident" id="3547416"><a href="/text/template/exec.go.html#3547176">chain</a></span><span class="op" id="3547421">.</span><span class="ident" id="3547422">Field</span><span class="op" id="3547427">)</span>&nbsp;<span class="op" id="3547429">==</span>&nbsp;<span class="num" id="3547432">0</span>&nbsp;<span class="op" id="3547434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3547438"><a href="/text/template/exec.go.html#3547133">s</a></span><span class="op" id="3547439">.</span><span class="ident" id="3547440">errorf</span><span class="op" id="3547446">(</span><span class="string" id="3547447">&#34;internal&nbsp;error:&nbsp;no&nbsp;fields&nbsp;in&nbsp;evalChainNode&#34;</span><span class="op" id="3547491">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3547494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3547497">return</span>&nbsp;<span class="ident" id="3547504"><a href="/text/template/exec.go.html#3547133">s</a></span><span class="op" id="3547505">.</span><span class="ident" id="3547506">evalFieldChain</span><span class="op" id="3547520">(</span><span class="ident" id="3547521"><a href="/text/template/exec.go.html#3547157">dot</a></span><span class="op" id="3547524">,</span>&nbsp;<span class="ident" id="3547526"><a href="/text/template/exec.go.html#3547368">pipe</a></span><span class="op" id="3547530">,</span>&nbsp;<span class="ident" id="3547532"><a href="/text/template/exec.go.html#3547176">chain</a></span><span class="op" id="3547537">,</span>&nbsp;<span class="ident" id="3547539"><a href="/text/template/exec.go.html#3547176">chain</a></span><span class="op" id="3547544">.</span><span class="ident" id="3547545">Field</span><span class="op" id="3547550">,</span>&nbsp;<span class="ident" id="3547552"><a href="/text/template/exec.go.html#3547200">args</a></span><span class="op" id="3547556">,</span>&nbsp;<span class="ident" id="3547558"><a href="/text/template/exec.go.html#3547219">final</a></span><span class="op" id="3547563">)</span><br>
<span class="lineno"></span><span class="op" id="3547565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3547568">func</span>&nbsp;<span class="op" id="3547573">(</span><span class="ident" id="3547574">s</span>&nbsp;<span class="op" id="3547576">*</span><span class="ident" id="3547577"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3547582">)</span>&nbsp;<span class="ident" id="3547584">evalVariableNode</span><span class="op" id="3547600">(</span><span class="ident" id="3547601">dot</span>&nbsp;<span class="ident" id="3547605"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3547612">.</span><span class="ident" id="3547613">Value</span><span class="op" id="3547618">,</span>&nbsp;<span class="ident" id="3547620">variable</span>&nbsp;<span class="op" id="3547629">*</span><span class="ident" id="3547630"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3547635">.</span><span class="ident" id="3547636">VariableNode</span><span class="op" id="3547648">,</span>&nbsp;<span class="ident" id="3547650">args</span>&nbsp;<span class="op" id="3547655">[</span><span class="op" id="3547656">]</span><span class="ident" id="3547657"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3547662">.</span><span class="ident" id="3547663">Node</span><span class="op" id="3547667">,</span>&nbsp;<span class="ident" id="3547669">final</span>&nbsp;<span class="ident" id="3547675"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3547682">.</span><span class="ident" id="3547683">Value</span><span class="op" id="3547688">)</span>&nbsp;<span class="ident" id="3547690"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3547697">.</span><span class="ident" id="3547698">Value</span>&nbsp;<span class="op" id="3547704">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3547707">//&nbsp;$x.Field&nbsp;has&nbsp;$x&nbsp;as&nbsp;the&nbsp;first&nbsp;ident,&nbsp;Field&nbsp;as&nbsp;the&nbsp;second.&nbsp;Eval&nbsp;the&nbsp;var,&nbsp;then&nbsp;the&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3547799"><a href="/text/template/exec.go.html#3547574">s</a></span><span class="op" id="3547800">.</span><span class="ident" id="3547801">at</span><span class="op" id="3547803">(</span><span class="ident" id="3547804"><a href="/text/template/exec.go.html#3547620">variable</a></span><span class="op" id="3547812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3547815">value</span>&nbsp;<span class="op" id="3547821">:=</span>&nbsp;<span class="ident" id="3547824"><a href="/text/template/exec.go.html#3547574">s</a></span><span class="op" id="3547825">.</span><span class="ident" id="3547826">varValue</span><span class="op" id="3547834">(</span><span class="ident" id="3547835"><a href="/text/template/exec.go.html#3547620">variable</a></span><span class="op" id="3547843">.</span><span class="ident" id="3547844">Ident</span><span class="op" id="3547849">[</span><span class="num" id="3547850">0</span><span class="op" id="3547851">]</span><span class="op" id="3547852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3547855">if</span>&nbsp;<span class="builtinfunc" id="3547858">len</span><span class="op" id="3547861">(</span><span class="ident" id="3547862"><a href="/text/template/exec.go.html#3547620">variable</a></span><span class="op" id="3547870">.</span><span class="ident" id="3547871">Ident</span><span class="op" id="3547876">)</span>&nbsp;<span class="op" id="3547878">==</span>&nbsp;<span class="num" id="3547881">1</span>&nbsp;<span class="op" id="3547883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3547887"><a href="/text/template/exec.go.html#3547574">s</a></span><span class="op" id="3547888">.</span><span class="ident" id="3547889">notAFunction</span><span class="op" id="3547901">(</span><span class="ident" id="3547902"><a href="/text/template/exec.go.html#3547650">args</a></span><span class="op" id="3547906">,</span>&nbsp;<span class="ident" id="3547908"><a href="/text/template/exec.go.html#3547669">final</a></span><span class="op" id="3547913">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3547917">return</span>&nbsp;<span class="ident" id="3547924"><a href="/text/template/exec.go.html#3547815">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3547931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3547934">return</span>&nbsp;<span class="ident" id="3547941"><a href="/text/template/exec.go.html#3547574">s</a></span><span class="op" id="3547942">.</span><span class="ident" id="3547943">evalFieldChain</span><span class="op" id="3547957">(</span><span class="ident" id="3547958"><a href="/text/template/exec.go.html#3547601">dot</a></span><span class="op" id="3547961">,</span>&nbsp;<span class="ident" id="3547963"><a href="/text/template/exec.go.html#3547815">value</a></span><span class="op" id="3547968">,</span>&nbsp;<span class="ident" id="3547970"><a href="/text/template/exec.go.html#3547620">variable</a></span><span class="op" id="3547978">,</span>&nbsp;<span class="ident" id="3547980"><a href="/text/template/exec.go.html#3547620">variable</a></span><span class="op" id="3547988">.</span><span class="ident" id="3547989">Ident</span><span class="op" id="3547994">[</span><span class="num" id="3547995">1</span><span class="op" id="3547996">:</span><span class="op" id="3547997">]</span><span class="op" id="3547998">,</span>&nbsp;<span class="ident" id="3548000"><a href="/text/template/exec.go.html#3547650">args</a></span><span class="op" id="3548004">,</span>&nbsp;<span class="ident" id="3548006"><a href="/text/template/exec.go.html#3547669">final</a></span><span class="op" id="3548011">)</span><br>
<span class="lineno"></span><span class="op" id="3548013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span><span class="comment" id="3548016">//&nbsp;evalFieldChain&nbsp;evaluates&nbsp;.X.Y.Z&nbsp;possibly&nbsp;followed&nbsp;by&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="comment" id="3548083">//&nbsp;dot&nbsp;is&nbsp;the&nbsp;environment&nbsp;in&nbsp;which&nbsp;to&nbsp;evaluate&nbsp;arguments,&nbsp;while</span><br>
<span class="lineno"></span><span class="comment" id="3548147">//&nbsp;receiver&nbsp;is&nbsp;the&nbsp;value&nbsp;being&nbsp;walked&nbsp;along&nbsp;the&nbsp;chain.</span><br>
<span class="lineno"></span><span class="keyword" id="3548202">func</span>&nbsp;<span class="op" id="3548207">(</span><span class="ident" id="3548208">s</span>&nbsp;<span class="op" id="3548210">*</span><span class="ident" id="3548211"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3548216">)</span>&nbsp;<span class="ident" id="3548218">evalFieldChain</span><span class="op" id="3548232">(</span><span class="ident" id="3548233">dot</span><span class="op" id="3548236">,</span>&nbsp;<span class="ident" id="3548238">receiver</span>&nbsp;<span class="ident" id="3548247"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3548254">.</span><span class="ident" id="3548255">Value</span><span class="op" id="3548260">,</span>&nbsp;<span class="ident" id="3548262">node</span>&nbsp;<span class="ident" id="3548267"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3548272">.</span><span class="ident" id="3548273">Node</span><span class="op" id="3548277">,</span>&nbsp;<span class="ident" id="3548279">ident</span>&nbsp;<span class="op" id="3548285">[</span><span class="op" id="3548286">]</span><span class="builtintype" id="3548287">string</span><span class="op" id="3548293">,</span>&nbsp;<span class="ident" id="3548295">args</span>&nbsp;<span class="op" id="3548300">[</span><span class="op" id="3548301">]</span><span class="ident" id="3548302"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3548307">.</span><span class="ident" id="3548308">Node</span><span class="op" id="3548312">,</span>&nbsp;<span class="ident" id="3548314">final</span>&nbsp;<span class="ident" id="3548320"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3548327">.</span><span class="ident" id="3548328">Value</span><span class="op" id="3548333">)</span>&nbsp;<span class="ident" id="3548335"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3548342">.</span><span class="ident" id="3548343">Value</span>&nbsp;<span class="op" id="3548349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548352">n</span>&nbsp;<span class="op" id="3548354">:=</span>&nbsp;<span class="builtinfunc" id="3548357">len</span><span class="op" id="3548360">(</span><span class="ident" id="3548361"><a href="/text/template/exec.go.html#3548279">ident</a></span><span class="op" id="3548366">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548369">for</span>&nbsp;<span class="ident" id="3548373">i</span>&nbsp;<span class="op" id="3548375">:=</span>&nbsp;<span class="num" id="3548378">0</span><span class="op" id="3548379">;</span>&nbsp;<span class="ident" id="3548381"><a href="/text/template/exec.go.html#3548373">i</a></span>&nbsp;<span class="op" id="3548383">&lt;</span>&nbsp;<span class="ident" id="3548385"><a href="/text/template/exec.go.html#3548352">n</a></span><span class="op" id="3548386">-</span><span class="num" id="3548387">1</span><span class="op" id="3548388">;</span>&nbsp;<span class="ident" id="3548390"><a href="/text/template/exec.go.html#3548373">i</a></span><span class="op" id="3548391">++</span>&nbsp;<span class="op" id="3548394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548398"><a href="/text/template/exec.go.html#3548238">receiver</a></span>&nbsp;<span class="op" id="3548407">=</span>&nbsp;<span class="ident" id="3548409"><a href="/text/template/exec.go.html#3548208">s</a></span><span class="op" id="3548410">.</span><span class="ident" id="3548411">evalField</span><span class="op" id="3548420">(</span><span class="ident" id="3548421"><a href="/text/template/exec.go.html#3548233">dot</a></span><span class="op" id="3548424">,</span>&nbsp;<span class="ident" id="3548426"><a href="/text/template/exec.go.html#3548279">ident</a></span><span class="op" id="3548431">[</span><span class="ident" id="3548432"><a href="/text/template/exec.go.html#3548373">i</a></span><span class="op" id="3548433">]</span><span class="op" id="3548434">,</span>&nbsp;<span class="ident" id="3548436"><a href="/text/template/exec.go.html#3548262">node</a></span><span class="op" id="3548440">,</span>&nbsp;<span class="ident" id="3548442">nil</span><span class="op" id="3548445">,</span>&nbsp;<span class="ident" id="3548447"><a href="/text/template/exec.go.html#3536315">zero</a></span><span class="op" id="3548451">,</span>&nbsp;<span class="ident" id="3548453"><a href="/text/template/exec.go.html#3548238">receiver</a></span><span class="op" id="3548461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3548464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3548467">//&nbsp;Now&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;method,&nbsp;it&nbsp;gets&nbsp;the&nbsp;arguments.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548516">return</span>&nbsp;<span class="ident" id="3548523"><a href="/text/template/exec.go.html#3548208">s</a></span><span class="op" id="3548524">.</span><span class="ident" id="3548525">evalField</span><span class="op" id="3548534">(</span><span class="ident" id="3548535"><a href="/text/template/exec.go.html#3548233">dot</a></span><span class="op" id="3548538">,</span>&nbsp;<span class="ident" id="3548540"><a href="/text/template/exec.go.html#3548279">ident</a></span><span class="op" id="3548545">[</span><span class="ident" id="3548546"><a href="/text/template/exec.go.html#3548352">n</a></span><span class="op" id="3548547">-</span><span class="num" id="3548548">1</span><span class="op" id="3548549">]</span><span class="op" id="3548550">,</span>&nbsp;<span class="ident" id="3548552"><a href="/text/template/exec.go.html#3548262">node</a></span><span class="op" id="3548556">,</span>&nbsp;<span class="ident" id="3548558"><a href="/text/template/exec.go.html#3548295">args</a></span><span class="op" id="3548562">,</span>&nbsp;<span class="ident" id="3548564"><a href="/text/template/exec.go.html#3548314">final</a></span><span class="op" id="3548569">,</span>&nbsp;<span class="ident" id="3548571"><a href="/text/template/exec.go.html#3548238">receiver</a></span><span class="op" id="3548579">)</span><br>
<span class="lineno">450</span><span class="op" id="3548581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3548584">func</span>&nbsp;<span class="op" id="3548589">(</span><span class="ident" id="3548590">s</span>&nbsp;<span class="op" id="3548592">*</span><span class="ident" id="3548593"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3548598">)</span>&nbsp;<span class="ident" id="3548600">evalFunction</span><span class="op" id="3548612">(</span><span class="ident" id="3548613">dot</span>&nbsp;<span class="ident" id="3548617"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3548624">.</span><span class="ident" id="3548625">Value</span><span class="op" id="3548630">,</span>&nbsp;<span class="ident" id="3548632">node</span>&nbsp;<span class="op" id="3548637">*</span><span class="ident" id="3548638"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3548643">.</span><span class="ident" id="3548644">IdentifierNode</span><span class="op" id="3548658">,</span>&nbsp;<span class="ident" id="3548660">cmd</span>&nbsp;<span class="ident" id="3548664"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3548669">.</span><span class="ident" id="3548670">Node</span><span class="op" id="3548674">,</span>&nbsp;<span class="ident" id="3548676">args</span>&nbsp;<span class="op" id="3548681">[</span><span class="op" id="3548682">]</span><span class="ident" id="3548683"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3548688">.</span><span class="ident" id="3548689">Node</span><span class="op" id="3548693">,</span>&nbsp;<span class="ident" id="3548695">final</span>&nbsp;<span class="ident" id="3548701"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3548708">.</span><span class="ident" id="3548709">Value</span><span class="op" id="3548714">)</span>&nbsp;<span class="ident" id="3548716"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3548723">.</span><span class="ident" id="3548724">Value</span>&nbsp;<span class="op" id="3548730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548733"><a href="/text/template/exec.go.html#3548590">s</a></span><span class="op" id="3548734">.</span><span class="ident" id="3548735">at</span><span class="op" id="3548737">(</span><span class="ident" id="3548738"><a href="/text/template/exec.go.html#3548632">node</a></span><span class="op" id="3548742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548745">name</span>&nbsp;<span class="op" id="3548750">:=</span>&nbsp;<span class="ident" id="3548753"><a href="/text/template/exec.go.html#3548632">node</a></span><span class="op" id="3548757">.</span><span class="ident" id="3548758">Ident</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548765">function</span><span class="op" id="3548773">,</span>&nbsp;<span class="ident" id="3548775">ok</span>&nbsp;<span class="op" id="3548778">:=</span>&nbsp;<span class="ident" id="3548781"><a href="/text/template/funcs.go.html#3563536">findFunction</a></span><span class="op" id="3548793">(</span><span class="ident" id="3548794"><a href="/text/template/exec.go.html#3548745">name</a></span><span class="op" id="3548798">,</span>&nbsp;<span class="ident" id="3548800"><a href="/text/template/exec.go.html#3548590">s</a></span><span class="op" id="3548801">.</span><span class="ident" id="3548802">tmpl</span><span class="op" id="3548806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548809">if</span>&nbsp;<span class="op" id="3548812">!</span><span class="ident" id="3548813"><a href="/text/template/exec.go.html#3548775">ok</a></span>&nbsp;<span class="op" id="3548816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548820"><a href="/text/template/exec.go.html#3548590">s</a></span><span class="op" id="3548821">.</span><span class="ident" id="3548822">errorf</span><span class="op" id="3548828">(</span><span class="string" id="3548829">&#34;%q&nbsp;is&nbsp;not&nbsp;a&nbsp;defined&nbsp;function&#34;</span><span class="op" id="3548859">,</span>&nbsp;<span class="ident" id="3548861"><a href="/text/template/exec.go.html#3548745">name</a></span><span class="op" id="3548865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3548868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548871">return</span>&nbsp;<span class="ident" id="3548878"><a href="/text/template/exec.go.html#3548590">s</a></span><span class="op" id="3548879">.</span><span class="ident" id="3548880">evalCall</span><span class="op" id="3548888">(</span><span class="ident" id="3548889"><a href="/text/template/exec.go.html#3548613">dot</a></span><span class="op" id="3548892">,</span>&nbsp;<span class="ident" id="3548894"><a href="/text/template/exec.go.html#3548765">function</a></span><span class="op" id="3548902">,</span>&nbsp;<span class="ident" id="3548904"><a href="/text/template/exec.go.html#3548660">cmd</a></span><span class="op" id="3548907">,</span>&nbsp;<span class="ident" id="3548909"><a href="/text/template/exec.go.html#3548745">name</a></span><span class="op" id="3548913">,</span>&nbsp;<span class="ident" id="3548915"><a href="/text/template/exec.go.html#3548676">args</a></span><span class="op" id="3548919">,</span>&nbsp;<span class="ident" id="3548921"><a href="/text/template/exec.go.html#3548695">final</a></span><span class="op" id="3548926">)</span><br>
<span class="lineno">460</span><span class="op" id="3548928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3548931">//&nbsp;evalField&nbsp;evaluates&nbsp;an&nbsp;expression&nbsp;like&nbsp;(.Field)&nbsp;or&nbsp;(.Field&nbsp;arg1&nbsp;arg2).</span><br>
<span class="lineno"></span><span class="comment" id="3549005">//&nbsp;The&nbsp;&#39;final&#39;&nbsp;argument&nbsp;represents&nbsp;the&nbsp;return&nbsp;value&nbsp;from&nbsp;the&nbsp;preceding</span><br>
<span class="lineno"></span><span class="comment" id="3549076">//&nbsp;value&nbsp;of&nbsp;the&nbsp;pipeline,&nbsp;if&nbsp;any.</span><br>
<span class="lineno">465</span><span class="keyword" id="3549110">func</span>&nbsp;<span class="op" id="3549115">(</span><span class="ident" id="3549116">s</span>&nbsp;<span class="op" id="3549118">*</span><span class="ident" id="3549119"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3549124">)</span>&nbsp;<span class="ident" id="3549126">evalField</span><span class="op" id="3549135">(</span><span class="ident" id="3549136">dot</span>&nbsp;<span class="ident" id="3549140"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3549147">.</span><span class="ident" id="3549148">Value</span><span class="op" id="3549153">,</span>&nbsp;<span class="ident" id="3549155">fieldName</span>&nbsp;<span class="builtintype" id="3549165">string</span><span class="op" id="3549171">,</span>&nbsp;<span class="ident" id="3549173">node</span>&nbsp;<span class="ident" id="3549178"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3549183">.</span><span class="ident" id="3549184">Node</span><span class="op" id="3549188">,</span>&nbsp;<span class="ident" id="3549190">args</span>&nbsp;<span class="op" id="3549195">[</span><span class="op" id="3549196">]</span><span class="ident" id="3549197"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3549202">.</span><span class="ident" id="3549203">Node</span><span class="op" id="3549207">,</span>&nbsp;<span class="ident" id="3549209">final</span><span class="op" id="3549214">,</span>&nbsp;<span class="ident" id="3549216">receiver</span>&nbsp;<span class="ident" id="3549225"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3549232">.</span><span class="ident" id="3549233">Value</span><span class="op" id="3549238">)</span>&nbsp;<span class="ident" id="3549240"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3549247">.</span><span class="ident" id="3549248">Value</span>&nbsp;<span class="op" id="3549254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3549257">if</span>&nbsp;<span class="op" id="3549260">!</span><span class="ident" id="3549261"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3549269">.</span><span class="ident" id="3549270">IsValid</span><span class="op" id="3549277">(</span><span class="op" id="3549278">)</span>&nbsp;<span class="op" id="3549280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3549284">return</span>&nbsp;<span class="ident" id="3549291"><a href="/text/template/exec.go.html#3536315">zero</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3549297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3549300">typ</span>&nbsp;<span class="op" id="3549304">:=</span>&nbsp;<span class="ident" id="3549307"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3549315">.</span><span class="ident" id="3549316">Type</span><span class="op" id="3549320">(</span><span class="op" id="3549321">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3549324"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3549332">,</span>&nbsp;<span class="ident" id="3549334">_</span>&nbsp;<span class="op" id="3549336">=</span>&nbsp;<span class="ident" id="3549338"><a href="/text/template/exec.go.html#3558720">indirect</a></span><span class="op" id="3549346">(</span><span class="ident" id="3549347"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3549355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3549358">//&nbsp;Unless&nbsp;it&#39;s&nbsp;an&nbsp;interface,&nbsp;need&nbsp;to&nbsp;get&nbsp;to&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;*T&nbsp;to&nbsp;guarantee</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3549435">//&nbsp;we&nbsp;see&nbsp;all&nbsp;methods&nbsp;of&nbsp;T&nbsp;and&nbsp;*T.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3549471">ptr</span>&nbsp;<span class="op" id="3549475">:=</span>&nbsp;<span class="ident" id="3549478"><a href="/text/template/exec.go.html#3549216">receiver</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3549488">if</span>&nbsp;<span class="ident" id="3549491"><a href="/text/template/exec.go.html#3549471">ptr</a></span><span class="op" id="3549494">.</span><span class="ident" id="3549495">Kind</span><span class="op" id="3549499">(</span><span class="op" id="3549500">)</span>&nbsp;<span class="op" id="3549502">!=</span>&nbsp;<span class="ident" id="3549505"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3549512">.</span><span class="ident" id="3549513">Interface</span>&nbsp;<span class="op" id="3549523">&amp;&amp;</span>&nbsp;<span class="ident" id="3549526"><a href="/text/template/exec.go.html#3549471">ptr</a></span><span class="op" id="3549529">.</span><span class="ident" id="3549530">CanAddr</span><span class="op" id="3549537">(</span><span class="op" id="3549538">)</span>&nbsp;<span class="op" id="3549540">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3549544"><a href="/text/template/exec.go.html#3549471">ptr</a></span>&nbsp;<span class="op" id="3549548">=</span>&nbsp;<span class="ident" id="3549550"><a href="/text/template/exec.go.html#3549471">ptr</a></span><span class="op" id="3549553">.</span><span class="ident" id="3549554">Addr</span><span class="op" id="3549558">(</span><span class="op" id="3549559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3549562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3549565">if</span>&nbsp;<span class="ident" id="3549568">method</span>&nbsp;<span class="op" id="3549575">:=</span>&nbsp;<span class="ident" id="3549578"><a href="/text/template/exec.go.html#3549471">ptr</a></span><span class="op" id="3549581">.</span><span class="ident" id="3549582">MethodByName</span><span class="op" id="3549594">(</span><span class="ident" id="3549595"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3549604">)</span><span class="op" id="3549605">;</span>&nbsp;<span class="ident" id="3549607"><a href="/text/template/exec.go.html#3549568">method</a></span><span class="op" id="3549613">.</span><span class="ident" id="3549614">IsValid</span><span class="op" id="3549621">(</span><span class="op" id="3549622">)</span>&nbsp;<span class="op" id="3549624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3549628">return</span>&nbsp;<span class="ident" id="3549635"><a href="/text/template/exec.go.html#3549116">s</a></span><span class="op" id="3549636">.</span><span class="ident" id="3549637">evalCall</span><span class="op" id="3549645">(</span><span class="ident" id="3549646"><a href="/text/template/exec.go.html#3549136">dot</a></span><span class="op" id="3549649">,</span>&nbsp;<span class="ident" id="3549651"><a href="/text/template/exec.go.html#3549568">method</a></span><span class="op" id="3549657">,</span>&nbsp;<span class="ident" id="3549659"><a href="/text/template/exec.go.html#3549173">node</a></span><span class="op" id="3549663">,</span>&nbsp;<span class="ident" id="3549665"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3549674">,</span>&nbsp;<span class="ident" id="3549676"><a href="/text/template/exec.go.html#3549190">args</a></span><span class="op" id="3549680">,</span>&nbsp;<span class="ident" id="3549682"><a href="/text/template/exec.go.html#3549209">final</a></span><span class="op" id="3549687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3549690">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3549693">hasArgs</span>&nbsp;<span class="op" id="3549701">:=</span>&nbsp;<span class="builtinfunc" id="3549704">len</span><span class="op" id="3549707">(</span><span class="ident" id="3549708"><a href="/text/template/exec.go.html#3549190">args</a></span><span class="op" id="3549712">)</span>&nbsp;<span class="op" id="3549714">&gt;</span>&nbsp;<span class="num" id="3549716">1</span>&nbsp;<span class="op" id="3549718">||</span>&nbsp;<span class="ident" id="3549721"><a href="/text/template/exec.go.html#3549209">final</a></span><span class="op" id="3549726">.</span><span class="ident" id="3549727">IsValid</span><span class="op" id="3549734">(</span><span class="op" id="3549735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3549738">//&nbsp;It&#39;s&nbsp;not&nbsp;a&nbsp;method;&nbsp;must&nbsp;be&nbsp;a&nbsp;field&nbsp;of&nbsp;a&nbsp;struct&nbsp;or&nbsp;an&nbsp;element&nbsp;of&nbsp;a&nbsp;map.&nbsp;The&nbsp;receiver&nbsp;must&nbsp;not&nbsp;be&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3549843"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3549851">,</span>&nbsp;<span class="ident" id="3549853">isNil</span>&nbsp;<span class="op" id="3549859">:=</span>&nbsp;<span class="ident" id="3549862"><a href="/text/template/exec.go.html#3558720">indirect</a></span><span class="op" id="3549870">(</span><span class="ident" id="3549871"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3549879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3549882">if</span>&nbsp;<span class="ident" id="3549885"><a href="/text/template/exec.go.html#3549853">isNil</a></span>&nbsp;<span class="op" id="3549891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3549895"><a href="/text/template/exec.go.html#3549116">s</a></span><span class="op" id="3549896">.</span><span class="ident" id="3549897">errorf</span><span class="op" id="3549903">(</span><span class="string" id="3549904">&#34;nil&nbsp;pointer&nbsp;evaluating&nbsp;%s.%s&#34;</span><span class="op" id="3549934">,</span>&nbsp;<span class="ident" id="3549936"><a href="/text/template/exec.go.html#3549300">typ</a></span><span class="op" id="3549939">,</span>&nbsp;<span class="ident" id="3549941"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3549950">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3549953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3549956">switch</span>&nbsp;<span class="ident" id="3549963"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3549971">.</span><span class="ident" id="3549972">Kind</span><span class="op" id="3549976">(</span><span class="op" id="3549977">)</span>&nbsp;<span class="op" id="3549979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3549982">case</span>&nbsp;<span class="ident" id="3549987"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3549994">.</span><span class="ident" id="3549995">Struct</span><span class="op" id="3550001">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550005">tField</span><span class="op" id="3550011">,</span>&nbsp;<span class="ident" id="3550013">ok</span>&nbsp;<span class="op" id="3550016">:=</span>&nbsp;<span class="ident" id="3550019"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3550027">.</span><span class="ident" id="3550028">Type</span><span class="op" id="3550032">(</span><span class="op" id="3550033">)</span><span class="op" id="3550034">.</span><span class="ident" id="3550035">FieldByName</span><span class="op" id="3550046">(</span><span class="ident" id="3550047"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3550056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550060">if</span>&nbsp;<span class="ident" id="3550063"><a href="/text/template/exec.go.html#3550013">ok</a></span>&nbsp;<span class="op" id="3550066">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550071">field</span>&nbsp;<span class="op" id="3550077">:=</span>&nbsp;<span class="ident" id="3550080"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3550088">.</span><span class="ident" id="3550089">FieldByIndex</span><span class="op" id="3550101">(</span><span class="ident" id="3550102"><a href="/text/template/exec.go.html#3550005">tField</a></span><span class="op" id="3550108">.</span><span class="ident" id="3550109">Index</span><span class="op" id="3550114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550119">if</span>&nbsp;<span class="ident" id="3550122"><a href="/text/template/exec.go.html#3550005">tField</a></span><span class="op" id="3550128">.</span><span class="ident" id="3550129">PkgPath</span>&nbsp;<span class="op" id="3550137">!=</span>&nbsp;<span class="string" id="3550140">&#34;&#34;</span>&nbsp;<span class="op" id="3550143">{</span>&nbsp;<span class="comment" id="3550145">//&nbsp;field&nbsp;is&nbsp;unexported</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550172"><a href="/text/template/exec.go.html#3549116">s</a></span><span class="op" id="3550173">.</span><span class="ident" id="3550174">errorf</span><span class="op" id="3550180">(</span><span class="string" id="3550181">&#34;%s&nbsp;is&nbsp;an&nbsp;unexported&nbsp;field&nbsp;of&nbsp;struct&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3550226">,</span>&nbsp;<span class="ident" id="3550228"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3550237">,</span>&nbsp;<span class="ident" id="3550239"><a href="/text/template/exec.go.html#3549300">typ</a></span><span class="op" id="3550242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3550247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550252">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;function,&nbsp;we&nbsp;must&nbsp;call&nbsp;it.</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550295">if</span>&nbsp;<span class="ident" id="3550298"><a href="/text/template/exec.go.html#3549693">hasArgs</a></span>&nbsp;<span class="op" id="3550306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550312"><a href="/text/template/exec.go.html#3549116">s</a></span><span class="op" id="3550313">.</span><span class="ident" id="3550314">errorf</span><span class="op" id="3550320">(</span><span class="string" id="3550321">&#34;%s&nbsp;has&nbsp;arguments&nbsp;but&nbsp;cannot&nbsp;be&nbsp;invoked&nbsp;as&nbsp;function&#34;</span><span class="op" id="3550373">,</span>&nbsp;<span class="ident" id="3550375"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3550384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3550389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550394">return</span>&nbsp;<span class="ident" id="3550401"><a href="/text/template/exec.go.html#3550071">field</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3550409">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550413"><a href="/text/template/exec.go.html#3549116">s</a></span><span class="op" id="3550414">.</span><span class="ident" id="3550415">errorf</span><span class="op" id="3550421">(</span><span class="string" id="3550422">&#34;%s&nbsp;is&nbsp;not&nbsp;a&nbsp;field&nbsp;of&nbsp;struct&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3550459">,</span>&nbsp;<span class="ident" id="3550461"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3550470">,</span>&nbsp;<span class="ident" id="3550472"><a href="/text/template/exec.go.html#3549300">typ</a></span><span class="op" id="3550475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550478">case</span>&nbsp;<span class="ident" id="3550483"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3550490">.</span><span class="ident" id="3550491">Map</span><span class="op" id="3550494">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550498">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;map,&nbsp;attempt&nbsp;to&nbsp;use&nbsp;the&nbsp;field&nbsp;name&nbsp;as&nbsp;a&nbsp;key.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550558">nameVal</span>&nbsp;<span class="op" id="3550566">:=</span>&nbsp;<span class="ident" id="3550569"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3550576">.</span><span class="ident" id="3550577">ValueOf</span><span class="op" id="3550584">(</span><span class="ident" id="3550585"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3550594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550598">if</span>&nbsp;<span class="ident" id="3550601"><a href="/text/template/exec.go.html#3550558">nameVal</a></span><span class="op" id="3550608">.</span><span class="ident" id="3550609">Type</span><span class="op" id="3550613">(</span><span class="op" id="3550614">)</span><span class="op" id="3550615">.</span><span class="ident" id="3550616">AssignableTo</span><span class="op" id="3550628">(</span><span class="ident" id="3550629"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3550637">.</span><span class="ident" id="3550638">Type</span><span class="op" id="3550642">(</span><span class="op" id="3550643">)</span><span class="op" id="3550644">.</span><span class="ident" id="3550645">Key</span><span class="op" id="3550648">(</span><span class="op" id="3550649">)</span><span class="op" id="3550650">)</span>&nbsp;<span class="op" id="3550652">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550657">if</span>&nbsp;<span class="ident" id="3550660"><a href="/text/template/exec.go.html#3549693">hasArgs</a></span>&nbsp;<span class="op" id="3550668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550674"><a href="/text/template/exec.go.html#3549116">s</a></span><span class="op" id="3550675">.</span><span class="ident" id="3550676">errorf</span><span class="op" id="3550682">(</span><span class="string" id="3550683">&#34;%s&nbsp;is&nbsp;not&nbsp;a&nbsp;method&nbsp;but&nbsp;has&nbsp;arguments&#34;</span><span class="op" id="3550721">,</span>&nbsp;<span class="ident" id="3550723"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3550732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3550737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550742">return</span>&nbsp;<span class="ident" id="3550749"><a href="/text/template/exec.go.html#3549216">receiver</a></span><span class="op" id="3550757">.</span><span class="ident" id="3550758">MapIndex</span><span class="op" id="3550766">(</span><span class="ident" id="3550767"><a href="/text/template/exec.go.html#3550558">nameVal</a></span><span class="op" id="3550774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3550778">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3550781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550784"><a href="/text/template/exec.go.html#3549116">s</a></span><span class="op" id="3550785">.</span><span class="ident" id="3550786">errorf</span><span class="op" id="3550792">(</span><span class="string" id="3550793">&#34;can&#39;t&nbsp;evaluate&nbsp;field&nbsp;%s&nbsp;in&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3550829">,</span>&nbsp;<span class="ident" id="3550831"><a href="/text/template/exec.go.html#3549155">fieldName</a></span><span class="op" id="3550840">,</span>&nbsp;<span class="ident" id="3550842"><a href="/text/template/exec.go.html#3549300">typ</a></span><span class="op" id="3550845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3550848">panic</span><span class="op" id="3550853">(</span><span class="string" id="3550854">&#34;not&nbsp;reached&#34;</span><span class="op" id="3550867">)</span><br>
<span class="lineno"></span><span class="op" id="3550869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="keyword" id="3550872">var</span>&nbsp;<span class="op" id="3550876">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550879">errorType</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3550895">=</span>&nbsp;<span class="ident" id="3550897"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3550904">.</span><span class="ident" id="3550905">TypeOf</span><span class="op" id="3550911">(</span><span class="op" id="3550912">(</span><span class="op" id="3550913">*</span><span class="builtintype" id="3550914">error</span><span class="op" id="3550919">)</span><span class="op" id="3550920">(</span><span class="ident" id="3550921">nil</span><span class="op" id="3550924">)</span><span class="op" id="3550925">)</span><span class="op" id="3550926">.</span><span class="ident" id="3550927">Elem</span><span class="op" id="3550931">(</span><span class="op" id="3550932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550935">fmtStringerType</span>&nbsp;<span class="op" id="3550951">=</span>&nbsp;<span class="ident" id="3550953"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3550960">.</span><span class="ident" id="3550961">TypeOf</span><span class="op" id="3550967">(</span><span class="op" id="3550968">(</span><span class="op" id="3550969">*</span><span class="ident" id="3550970"><a href="/text/template/exec.go.html#3534987">fmt</a></span><span class="op" id="3550973">.</span><span class="ident" id="3550974">Stringer</span><span class="op" id="3550982">)</span><span class="op" id="3550983">(</span><span class="ident" id="3550984">nil</span><span class="op" id="3550987">)</span><span class="op" id="3550988">)</span><span class="op" id="3550989">.</span><span class="ident" id="3550990">Elem</span><span class="op" id="3550994">(</span><span class="op" id="3550995">)</span><br>
<span class="lineno"></span><span class="op" id="3550997">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">520</span><span class="comment" id="3551000">//&nbsp;evalCall&nbsp;executes&nbsp;a&nbsp;function&nbsp;or&nbsp;method&nbsp;call.&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;method,&nbsp;fun&nbsp;already&nbsp;has&nbsp;the&nbsp;receiver&nbsp;bound,&nbsp;so</span><br>
<span class="lineno"></span><span class="comment" id="3551105">//&nbsp;it&nbsp;looks&nbsp;just&nbsp;like&nbsp;a&nbsp;function&nbsp;call.&nbsp;&nbsp;The&nbsp;arg&nbsp;list,&nbsp;if&nbsp;non-nil,&nbsp;includes&nbsp;(in&nbsp;the&nbsp;manner&nbsp;of&nbsp;the&nbsp;shell),&nbsp;arg[0]</span><br>
<span class="lineno"></span><span class="comment" id="3551217">//&nbsp;as&nbsp;the&nbsp;function&nbsp;itself.</span><br>
<span class="lineno"></span><span class="keyword" id="3551244">func</span>&nbsp;<span class="op" id="3551249">(</span><span class="ident" id="3551250">s</span>&nbsp;<span class="op" id="3551252">*</span><span class="ident" id="3551253"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3551258">)</span>&nbsp;<span class="ident" id="3551260">evalCall</span><span class="op" id="3551268">(</span><span class="ident" id="3551269">dot</span><span class="op" id="3551272">,</span>&nbsp;<span class="ident" id="3551274">fun</span>&nbsp;<span class="ident" id="3551278"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3551285">.</span><span class="ident" id="3551286">Value</span><span class="op" id="3551291">,</span>&nbsp;<span class="ident" id="3551293">node</span>&nbsp;<span class="ident" id="3551298"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3551303">.</span><span class="ident" id="3551304">Node</span><span class="op" id="3551308">,</span>&nbsp;<span class="ident" id="3551310">name</span>&nbsp;<span class="builtintype" id="3551315">string</span><span class="op" id="3551321">,</span>&nbsp;<span class="ident" id="3551323">args</span>&nbsp;<span class="op" id="3551328">[</span><span class="op" id="3551329">]</span><span class="ident" id="3551330"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3551335">.</span><span class="ident" id="3551336">Node</span><span class="op" id="3551340">,</span>&nbsp;<span class="ident" id="3551342">final</span>&nbsp;<span class="ident" id="3551348"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3551355">.</span><span class="ident" id="3551356">Value</span><span class="op" id="3551361">)</span>&nbsp;<span class="ident" id="3551363"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3551370">.</span><span class="ident" id="3551371">Value</span>&nbsp;<span class="op" id="3551377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551380">if</span>&nbsp;<span class="ident" id="3551383"><a href="/text/template/exec.go.html#3551323">args</a></span>&nbsp;<span class="op" id="3551388">!=</span>&nbsp;<span class="ident" id="3551391">nil</span>&nbsp;<span class="op" id="3551395">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551399"><a href="/text/template/exec.go.html#3551323">args</a></span>&nbsp;<span class="op" id="3551404">=</span>&nbsp;<span class="ident" id="3551406"><a href="/text/template/exec.go.html#3551323">args</a></span><span class="op" id="3551410">[</span><span class="num" id="3551411">1</span><span class="op" id="3551412">:</span><span class="op" id="3551413">]</span>&nbsp;<span class="comment" id="3551415">//&nbsp;Zeroth&nbsp;arg&nbsp;is&nbsp;function&nbsp;name/node;&nbsp;not&nbsp;passed&nbsp;to&nbsp;function.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551480">typ</span>&nbsp;<span class="op" id="3551484">:=</span>&nbsp;<span class="ident" id="3551487"><a href="/text/template/exec.go.html#3551274">fun</a></span><span class="op" id="3551490">.</span><span class="ident" id="3551491">Type</span><span class="op" id="3551495">(</span><span class="op" id="3551496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551499">numIn</span>&nbsp;<span class="op" id="3551505">:=</span>&nbsp;<span class="builtinfunc" id="3551508">len</span><span class="op" id="3551511">(</span><span class="ident" id="3551512"><a href="/text/template/exec.go.html#3551323">args</a></span><span class="op" id="3551516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551519">if</span>&nbsp;<span class="ident" id="3551522"><a href="/text/template/exec.go.html#3551342">final</a></span><span class="op" id="3551527">.</span><span class="ident" id="3551528">IsValid</span><span class="op" id="3551535">(</span><span class="op" id="3551536">)</span>&nbsp;<span class="op" id="3551538">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551542"><a href="/text/template/exec.go.html#3551499">numIn</a></span><span class="op" id="3551547">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551554">numFixed</span>&nbsp;<span class="op" id="3551563">:=</span>&nbsp;<span class="builtinfunc" id="3551566">len</span><span class="op" id="3551569">(</span><span class="ident" id="3551570"><a href="/text/template/exec.go.html#3551323">args</a></span><span class="op" id="3551574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551577">if</span>&nbsp;<span class="ident" id="3551580"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3551583">.</span><span class="ident" id="3551584">IsVariadic</span><span class="op" id="3551594">(</span><span class="op" id="3551595">)</span>&nbsp;<span class="op" id="3551597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551601"><a href="/text/template/exec.go.html#3551554">numFixed</a></span>&nbsp;<span class="op" id="3551610">=</span>&nbsp;<span class="ident" id="3551612"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3551615">.</span><span class="ident" id="3551616">NumIn</span><span class="op" id="3551621">(</span><span class="op" id="3551622">)</span>&nbsp;<span class="op" id="3551624">-</span>&nbsp;<span class="num" id="3551626">1</span>&nbsp;<span class="comment" id="3551628">//&nbsp;last&nbsp;arg&nbsp;is&nbsp;the&nbsp;variadic&nbsp;one.</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551663">if</span>&nbsp;<span class="ident" id="3551666"><a href="/text/template/exec.go.html#3551499">numIn</a></span>&nbsp;<span class="op" id="3551672">&lt;</span>&nbsp;<span class="ident" id="3551674"><a href="/text/template/exec.go.html#3551554">numFixed</a></span>&nbsp;<span class="op" id="3551683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551688"><a href="/text/template/exec.go.html#3551250">s</a></span><span class="op" id="3551689">.</span><span class="ident" id="3551690">errorf</span><span class="op" id="3551696">(</span><span class="string" id="3551697">&#34;wrong&nbsp;number&nbsp;of&nbsp;args&nbsp;for&nbsp;%s:&nbsp;want&nbsp;at&nbsp;least&nbsp;%d&nbsp;got&nbsp;%d&#34;</span><span class="op" id="3551751">,</span>&nbsp;<span class="ident" id="3551753"><a href="/text/template/exec.go.html#3551310">name</a></span><span class="op" id="3551757">,</span>&nbsp;<span class="ident" id="3551759"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3551762">.</span><span class="ident" id="3551763">NumIn</span><span class="op" id="3551768">(</span><span class="op" id="3551769">)</span><span class="op" id="3551770">-</span><span class="num" id="3551771">1</span><span class="op" id="3551772">,</span>&nbsp;<span class="builtinfunc" id="3551774">len</span><span class="op" id="3551777">(</span><span class="ident" id="3551778"><a href="/text/template/exec.go.html#3551323">args</a></span><span class="op" id="3551782">)</span><span class="op" id="3551783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551790">}</span>&nbsp;<span class="keyword" id="3551792">else</span>&nbsp;<span class="keyword" id="3551797">if</span>&nbsp;<span class="ident" id="3551800"><a href="/text/template/exec.go.html#3551499">numIn</a></span>&nbsp;<span class="op" id="3551806">&lt;</span>&nbsp;<span class="ident" id="3551808"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3551811">.</span><span class="ident" id="3551812">NumIn</span><span class="op" id="3551817">(</span><span class="op" id="3551818">)</span><span class="op" id="3551819">-</span><span class="num" id="3551820">1</span>&nbsp;<span class="op" id="3551822">||</span>&nbsp;<span class="op" id="3551825">!</span><span class="ident" id="3551826"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3551829">.</span><span class="ident" id="3551830">IsVariadic</span><span class="op" id="3551840">(</span><span class="op" id="3551841">)</span>&nbsp;<span class="op" id="3551843">&amp;&amp;</span>&nbsp;<span class="ident" id="3551846"><a href="/text/template/exec.go.html#3551499">numIn</a></span>&nbsp;<span class="op" id="3551852">!=</span>&nbsp;<span class="ident" id="3551855"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3551858">.</span><span class="ident" id="3551859">NumIn</span><span class="op" id="3551864">(</span><span class="op" id="3551865">)</span>&nbsp;<span class="op" id="3551867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551871"><a href="/text/template/exec.go.html#3551250">s</a></span><span class="op" id="3551872">.</span><span class="ident" id="3551873">errorf</span><span class="op" id="3551879">(</span><span class="string" id="3551880">&#34;wrong&nbsp;number&nbsp;of&nbsp;args&nbsp;for&nbsp;%s:&nbsp;want&nbsp;%d&nbsp;got&nbsp;%d&#34;</span><span class="op" id="3551925">,</span>&nbsp;<span class="ident" id="3551927"><a href="/text/template/exec.go.html#3551310">name</a></span><span class="op" id="3551931">,</span>&nbsp;<span class="ident" id="3551933"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3551936">.</span><span class="ident" id="3551937">NumIn</span><span class="op" id="3551942">(</span><span class="op" id="3551943">)</span><span class="op" id="3551944">,</span>&nbsp;<span class="builtinfunc" id="3551946">len</span><span class="op" id="3551949">(</span><span class="ident" id="3551950"><a href="/text/template/exec.go.html#3551323">args</a></span><span class="op" id="3551954">)</span><span class="op" id="3551955">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551961">if</span>&nbsp;<span class="op" id="3551964">!</span><span class="ident" id="3551965"><a href="/text/template/funcs.go.html#3563212">goodFunc</a></span><span class="op" id="3551973">(</span><span class="ident" id="3551974"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3551977">)</span>&nbsp;<span class="op" id="3551979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3551983">//&nbsp;TODO:&nbsp;This&nbsp;could&nbsp;still&nbsp;be&nbsp;a&nbsp;confusing&nbsp;error;&nbsp;maybe&nbsp;goodFunc&nbsp;should&nbsp;provide&nbsp;info.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552069"><a href="/text/template/exec.go.html#3551250">s</a></span><span class="op" id="3552070">.</span><span class="ident" id="3552071">errorf</span><span class="op" id="3552077">(</span><span class="string" id="3552078">&#34;can&#39;t&nbsp;call&nbsp;method/function&nbsp;%q&nbsp;with&nbsp;%d&nbsp;results&#34;</span><span class="op" id="3552125">,</span>&nbsp;<span class="ident" id="3552127"><a href="/text/template/exec.go.html#3551310">name</a></span><span class="op" id="3552131">,</span>&nbsp;<span class="ident" id="3552133"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3552136">.</span><span class="ident" id="3552137">NumOut</span><span class="op" id="3552143">(</span><span class="op" id="3552144">)</span><span class="op" id="3552145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3552148">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3552151">//&nbsp;Build&nbsp;the&nbsp;arg&nbsp;list.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552175">argv</span>&nbsp;<span class="op" id="3552180">:=</span>&nbsp;<span class="builtinfunc" id="3552183">make</span><span class="op" id="3552187">(</span><span class="op" id="3552188">[</span><span class="op" id="3552189">]</span><span class="ident" id="3552190"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3552197">.</span><span class="ident" id="3552198">Value</span><span class="op" id="3552203">,</span>&nbsp;<span class="ident" id="3552205"><a href="/text/template/exec.go.html#3551499">numIn</a></span><span class="op" id="3552210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3552213">//&nbsp;Args&nbsp;must&nbsp;be&nbsp;evaluated.&nbsp;Fixed&nbsp;args&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552259">i</span>&nbsp;<span class="op" id="3552261">:=</span>&nbsp;<span class="num" id="3552264">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552267">for</span>&nbsp;<span class="op" id="3552271">;</span>&nbsp;<span class="ident" id="3552273"><a href="/text/template/exec.go.html#3552259">i</a></span>&nbsp;<span class="op" id="3552275">&lt;</span>&nbsp;<span class="ident" id="3552277"><a href="/text/template/exec.go.html#3551554">numFixed</a></span>&nbsp;<span class="op" id="3552286">&amp;&amp;</span>&nbsp;<span class="ident" id="3552289"><a href="/text/template/exec.go.html#3552259">i</a></span>&nbsp;<span class="op" id="3552291">&lt;</span>&nbsp;<span class="builtinfunc" id="3552293">len</span><span class="op" id="3552296">(</span><span class="ident" id="3552297"><a href="/text/template/exec.go.html#3551323">args</a></span><span class="op" id="3552301">)</span><span class="op" id="3552302">;</span>&nbsp;<span class="ident" id="3552304"><a href="/text/template/exec.go.html#3552259">i</a></span><span class="op" id="3552305">++</span>&nbsp;<span class="op" id="3552308">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552312"><a href="/text/template/exec.go.html#3552175">argv</a></span><span class="op" id="3552316">[</span><span class="ident" id="3552317"><a href="/text/template/exec.go.html#3552259">i</a></span><span class="op" id="3552318">]</span>&nbsp;<span class="op" id="3552320">=</span>&nbsp;<span class="ident" id="3552322"><a href="/text/template/exec.go.html#3551250">s</a></span><span class="op" id="3552323">.</span><span class="ident" id="3552324">evalArg</span><span class="op" id="3552331">(</span><span class="ident" id="3552332"><a href="/text/template/exec.go.html#3551269">dot</a></span><span class="op" id="3552335">,</span>&nbsp;<span class="ident" id="3552337"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3552340">.</span><span class="ident" id="3552341">In</span><span class="op" id="3552343">(</span><span class="ident" id="3552344"><a href="/text/template/exec.go.html#3552259">i</a></span><span class="op" id="3552345">)</span><span class="op" id="3552346">,</span>&nbsp;<span class="ident" id="3552348"><a href="/text/template/exec.go.html#3551323">args</a></span><span class="op" id="3552352">[</span><span class="ident" id="3552353"><a href="/text/template/exec.go.html#3552259">i</a></span><span class="op" id="3552354">]</span><span class="op" id="3552355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3552358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3552361">//&nbsp;Now&nbsp;the&nbsp;...&nbsp;args.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552383">if</span>&nbsp;<span class="ident" id="3552386"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3552389">.</span><span class="ident" id="3552390">IsVariadic</span><span class="op" id="3552400">(</span><span class="op" id="3552401">)</span>&nbsp;<span class="op" id="3552403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552407">argType</span>&nbsp;<span class="op" id="3552415">:=</span>&nbsp;<span class="ident" id="3552418"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3552421">.</span><span class="ident" id="3552422">In</span><span class="op" id="3552424">(</span><span class="ident" id="3552425"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3552428">.</span><span class="ident" id="3552429">NumIn</span><span class="op" id="3552434">(</span><span class="op" id="3552435">)</span>&nbsp;<span class="op" id="3552437">-</span>&nbsp;<span class="num" id="3552439">1</span><span class="op" id="3552440">)</span><span class="op" id="3552441">.</span><span class="ident" id="3552442">Elem</span><span class="op" id="3552446">(</span><span class="op" id="3552447">)</span>&nbsp;<span class="comment" id="3552449">//&nbsp;Argument&nbsp;is&nbsp;a&nbsp;slice.</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552475">for</span>&nbsp;<span class="op" id="3552479">;</span>&nbsp;<span class="ident" id="3552481"><a href="/text/template/exec.go.html#3552259">i</a></span>&nbsp;<span class="op" id="3552483">&lt;</span>&nbsp;<span class="builtinfunc" id="3552485">len</span><span class="op" id="3552488">(</span><span class="ident" id="3552489"><a href="/text/template/exec.go.html#3551323">args</a></span><span class="op" id="3552493">)</span><span class="op" id="3552494">;</span>&nbsp;<span class="ident" id="3552496"><a href="/text/template/exec.go.html#3552259">i</a></span><span class="op" id="3552497">++</span>&nbsp;<span class="op" id="3552500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552505"><a href="/text/template/exec.go.html#3552175">argv</a></span><span class="op" id="3552509">[</span><span class="ident" id="3552510"><a href="/text/template/exec.go.html#3552259">i</a></span><span class="op" id="3552511">]</span>&nbsp;<span class="op" id="3552513">=</span>&nbsp;<span class="ident" id="3552515"><a href="/text/template/exec.go.html#3551250">s</a></span><span class="op" id="3552516">.</span><span class="ident" id="3552517">evalArg</span><span class="op" id="3552524">(</span><span class="ident" id="3552525"><a href="/text/template/exec.go.html#3551269">dot</a></span><span class="op" id="3552528">,</span>&nbsp;<span class="ident" id="3552530"><a href="/text/template/exec.go.html#3552407">argType</a></span><span class="op" id="3552537">,</span>&nbsp;<span class="ident" id="3552539"><a href="/text/template/exec.go.html#3551323">args</a></span><span class="op" id="3552543">[</span><span class="ident" id="3552544"><a href="/text/template/exec.go.html#3552259">i</a></span><span class="op" id="3552545">]</span><span class="op" id="3552546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3552550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3552553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3552556">//&nbsp;Add&nbsp;final&nbsp;value&nbsp;if&nbsp;necessary.</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552590">if</span>&nbsp;<span class="ident" id="3552593"><a href="/text/template/exec.go.html#3551342">final</a></span><span class="op" id="3552598">.</span><span class="ident" id="3552599">IsValid</span><span class="op" id="3552606">(</span><span class="op" id="3552607">)</span>&nbsp;<span class="op" id="3552609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552613">t</span>&nbsp;<span class="op" id="3552615">:=</span>&nbsp;<span class="ident" id="3552618"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3552621">.</span><span class="ident" id="3552622">In</span><span class="op" id="3552624">(</span><span class="ident" id="3552625"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3552628">.</span><span class="ident" id="3552629">NumIn</span><span class="op" id="3552634">(</span><span class="op" id="3552635">)</span>&nbsp;<span class="op" id="3552637">-</span>&nbsp;<span class="num" id="3552639">1</span><span class="op" id="3552640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552644">if</span>&nbsp;<span class="ident" id="3552647"><a href="/text/template/exec.go.html#3551480">typ</a></span><span class="op" id="3552650">.</span><span class="ident" id="3552651">IsVariadic</span><span class="op" id="3552661">(</span><span class="op" id="3552662">)</span>&nbsp;<span class="op" id="3552664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552669"><a href="/text/template/exec.go.html#3552613">t</a></span>&nbsp;<span class="op" id="3552671">=</span>&nbsp;<span class="ident" id="3552673"><a href="/text/template/exec.go.html#3552613">t</a></span><span class="op" id="3552674">.</span><span class="ident" id="3552675">Elem</span><span class="op" id="3552679">(</span><span class="op" id="3552680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3552684">}</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552688"><a href="/text/template/exec.go.html#3552175">argv</a></span><span class="op" id="3552692">[</span><span class="ident" id="3552693"><a href="/text/template/exec.go.html#3552259">i</a></span><span class="op" id="3552694">]</span>&nbsp;<span class="op" id="3552696">=</span>&nbsp;<span class="ident" id="3552698"><a href="/text/template/exec.go.html#3551250">s</a></span><span class="op" id="3552699">.</span><span class="ident" id="3552700">validateType</span><span class="op" id="3552712">(</span><span class="ident" id="3552713"><a href="/text/template/exec.go.html#3551342">final</a></span><span class="op" id="3552718">,</span>&nbsp;<span class="ident" id="3552720"><a href="/text/template/exec.go.html#3552613">t</a></span><span class="op" id="3552721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3552724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552727">result</span>&nbsp;<span class="op" id="3552734">:=</span>&nbsp;<span class="ident" id="3552737"><a href="/text/template/exec.go.html#3551274">fun</a></span><span class="op" id="3552740">.</span><span class="ident" id="3552741">Call</span><span class="op" id="3552745">(</span><span class="ident" id="3552746"><a href="/text/template/exec.go.html#3552175">argv</a></span><span class="op" id="3552750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3552753">//&nbsp;If&nbsp;we&nbsp;have&nbsp;an&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;nil,&nbsp;stop&nbsp;execution&nbsp;and&nbsp;return&nbsp;that&nbsp;error&nbsp;to&nbsp;the&nbsp;caller.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552846">if</span>&nbsp;<span class="builtinfunc" id="3552849">len</span><span class="op" id="3552852">(</span><span class="ident" id="3552853"><a href="/text/template/exec.go.html#3552727">result</a></span><span class="op" id="3552859">)</span>&nbsp;<span class="op" id="3552861">==</span>&nbsp;<span class="num" id="3552864">2</span>&nbsp;<span class="op" id="3552866">&amp;&amp;</span>&nbsp;<span class="op" id="3552869">!</span><span class="ident" id="3552870"><a href="/text/template/exec.go.html#3552727">result</a></span><span class="op" id="3552876">[</span><span class="num" id="3552877">1</span><span class="op" id="3552878">]</span><span class="op" id="3552879">.</span><span class="ident" id="3552880">IsNil</span><span class="op" id="3552885">(</span><span class="op" id="3552886">)</span>&nbsp;<span class="op" id="3552888">{</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552892"><a href="/text/template/exec.go.html#3551250">s</a></span><span class="op" id="3552893">.</span><span class="ident" id="3552894">at</span><span class="op" id="3552896">(</span><span class="ident" id="3552897"><a href="/text/template/exec.go.html#3551293">node</a></span><span class="op" id="3552901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3552905"><a href="/text/template/exec.go.html#3551250">s</a></span><span class="op" id="3552906">.</span><span class="ident" id="3552907">errorf</span><span class="op" id="3552913">(</span><span class="string" id="3552914">&#34;error&nbsp;calling&nbsp;%s:&nbsp;%s&#34;</span><span class="op" id="3552936">,</span>&nbsp;<span class="ident" id="3552938"><a href="/text/template/exec.go.html#3551310">name</a></span><span class="op" id="3552942">,</span>&nbsp;<span class="ident" id="3552944"><a href="/text/template/exec.go.html#3552727">result</a></span><span class="op" id="3552950">[</span><span class="num" id="3552951">1</span><span class="op" id="3552952">]</span><span class="op" id="3552953">.</span><span class="ident" id="3552954">Interface</span><span class="op" id="3552963">(</span><span class="op" id="3552964">)</span><span class="op" id="3552965">.</span><span class="op" id="3552966">(</span><span class="builtintype" id="3552967">error</span><span class="op" id="3552972">)</span><span class="op" id="3552973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3552976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552979">return</span>&nbsp;<span class="ident" id="3552986"><a href="/text/template/exec.go.html#3552727">result</a></span><span class="op" id="3552992">[</span><span class="num" id="3552993">0</span><span class="op" id="3552994">]</span><br>
<span class="lineno"></span><span class="op" id="3552996">}</span><br>
<span class="lineno">575</span><br>
<span class="lineno"></span><span class="comment" id="3552999">//&nbsp;canBeNil&nbsp;reports&nbsp;whether&nbsp;an&nbsp;untyped&nbsp;nil&nbsp;can&nbsp;be&nbsp;assigned&nbsp;to&nbsp;the&nbsp;type.&nbsp;See&nbsp;reflect.Zero.</span><br>
<span class="lineno"></span><span class="keyword" id="3553089">func</span>&nbsp;<span class="ident" id="3553094">canBeNil</span><span class="op" id="3553102">(</span><span class="ident" id="3553103">typ</span>&nbsp;<span class="ident" id="3553107"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553114">.</span><span class="ident" id="3553115">Type</span><span class="op" id="3553119">)</span>&nbsp;<span class="builtintype" id="3553121">bool</span>&nbsp;<span class="op" id="3553126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553129">switch</span>&nbsp;<span class="ident" id="3553136"><a href="/text/template/exec.go.html#3553103">typ</a></span><span class="op" id="3553139">.</span><span class="ident" id="3553140">Kind</span><span class="op" id="3553144">(</span><span class="op" id="3553145">)</span>&nbsp;<span class="op" id="3553147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553150">case</span>&nbsp;<span class="ident" id="3553155"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553162">.</span><span class="ident" id="3553163">Chan</span><span class="op" id="3553167">,</span>&nbsp;<span class="ident" id="3553169"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553176">.</span><span class="ident" id="3553177">Func</span><span class="op" id="3553181">,</span>&nbsp;<span class="ident" id="3553183"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553190">.</span><span class="ident" id="3553191">Interface</span><span class="op" id="3553200">,</span>&nbsp;<span class="ident" id="3553202"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553209">.</span><span class="ident" id="3553210">Map</span><span class="op" id="3553213">,</span>&nbsp;<span class="ident" id="3553215"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553222">.</span><span class="ident" id="3553223">Ptr</span><span class="op" id="3553226">,</span>&nbsp;<span class="ident" id="3553228"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553235">.</span><span class="ident" id="3553236">Slice</span><span class="op" id="3553241">:</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553245">return</span>&nbsp;<span class="ident" id="3553252">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553261">return</span>&nbsp;<span class="ident" id="3553268">false</span><br>
<span class="lineno"></span><span class="op" id="3553274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="3553277">//&nbsp;validateType&nbsp;guarantees&nbsp;that&nbsp;the&nbsp;value&nbsp;is&nbsp;valid&nbsp;and&nbsp;assignable&nbsp;to&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="3553356">func</span>&nbsp;<span class="op" id="3553361">(</span><span class="ident" id="3553362">s</span>&nbsp;<span class="op" id="3553364">*</span><span class="ident" id="3553365"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3553370">)</span>&nbsp;<span class="ident" id="3553372">validateType</span><span class="op" id="3553384">(</span><span class="ident" id="3553385">value</span>&nbsp;<span class="ident" id="3553391"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553398">.</span><span class="ident" id="3553399">Value</span><span class="op" id="3553404">,</span>&nbsp;<span class="ident" id="3553406">typ</span>&nbsp;<span class="ident" id="3553410"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553417">.</span><span class="ident" id="3553418">Type</span><span class="op" id="3553422">)</span>&nbsp;<span class="ident" id="3553424"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553431">.</span><span class="ident" id="3553432">Value</span>&nbsp;<span class="op" id="3553438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553441">if</span>&nbsp;<span class="op" id="3553444">!</span><span class="ident" id="3553445"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3553450">.</span><span class="ident" id="3553451">IsValid</span><span class="op" id="3553458">(</span><span class="op" id="3553459">)</span>&nbsp;<span class="op" id="3553461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553465">if</span>&nbsp;<span class="ident" id="3553468"><a href="/text/template/exec.go.html#3553406">typ</a></span>&nbsp;<span class="op" id="3553472">==</span>&nbsp;<span class="ident" id="3553475">nil</span>&nbsp;<span class="op" id="3553479">||</span>&nbsp;<span class="ident" id="3553482"><a href="/text/template/exec.go.html#3553094">canBeNil</a></span><span class="op" id="3553490">(</span><span class="ident" id="3553491"><a href="/text/template/exec.go.html#3553406">typ</a></span><span class="op" id="3553494">)</span>&nbsp;<span class="op" id="3553496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3553501">//&nbsp;An&nbsp;untyped&nbsp;nil&nbsp;interface{}.&nbsp;Accept&nbsp;as&nbsp;a&nbsp;proper&nbsp;nil&nbsp;value.</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553565">return</span>&nbsp;<span class="ident" id="3553572"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553579">.</span><span class="ident" id="3553580">Zero</span><span class="op" id="3553584">(</span><span class="ident" id="3553585"><a href="/text/template/exec.go.html#3553406">typ</a></span><span class="op" id="3553588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3553596"><a href="/text/template/exec.go.html#3553362">s</a></span><span class="op" id="3553597">.</span><span class="ident" id="3553598">errorf</span><span class="op" id="3553604">(</span><span class="string" id="3553605">&#34;invalid&nbsp;value;&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="3553633">,</span>&nbsp;<span class="ident" id="3553635"><a href="/text/template/exec.go.html#3553406">typ</a></span><span class="op" id="3553638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553644">if</span>&nbsp;<span class="ident" id="3553647"><a href="/text/template/exec.go.html#3553406">typ</a></span>&nbsp;<span class="op" id="3553651">!=</span>&nbsp;<span class="ident" id="3553654">nil</span>&nbsp;<span class="op" id="3553658">&amp;&amp;</span>&nbsp;<span class="op" id="3553661">!</span><span class="ident" id="3553662"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3553667">.</span><span class="ident" id="3553668">Type</span><span class="op" id="3553672">(</span><span class="op" id="3553673">)</span><span class="op" id="3553674">.</span><span class="ident" id="3553675">AssignableTo</span><span class="op" id="3553687">(</span><span class="ident" id="3553688"><a href="/text/template/exec.go.html#3553406">typ</a></span><span class="op" id="3553691">)</span>&nbsp;<span class="op" id="3553693">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553697">if</span>&nbsp;<span class="ident" id="3553700"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3553705">.</span><span class="ident" id="3553706">Kind</span><span class="op" id="3553710">(</span><span class="op" id="3553711">)</span>&nbsp;<span class="op" id="3553713">==</span>&nbsp;<span class="ident" id="3553716"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3553723">.</span><span class="ident" id="3553724">Interface</span>&nbsp;<span class="op" id="3553734">&amp;&amp;</span>&nbsp;<span class="op" id="3553737">!</span><span class="ident" id="3553738"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3553743">.</span><span class="ident" id="3553744">IsNil</span><span class="op" id="3553749">(</span><span class="op" id="3553750">)</span>&nbsp;<span class="op" id="3553752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3553757"><a href="/text/template/exec.go.html#3553385">value</a></span>&nbsp;<span class="op" id="3553763">=</span>&nbsp;<span class="ident" id="3553765"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3553770">.</span><span class="ident" id="3553771">Elem</span><span class="op" id="3553775">(</span><span class="op" id="3553776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553781">if</span>&nbsp;<span class="ident" id="3553784"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3553789">.</span><span class="ident" id="3553790">Type</span><span class="op" id="3553794">(</span><span class="op" id="3553795">)</span><span class="op" id="3553796">.</span><span class="ident" id="3553797">AssignableTo</span><span class="op" id="3553809">(</span><span class="ident" id="3553810"><a href="/text/template/exec.go.html#3553406">typ</a></span><span class="op" id="3553813">)</span>&nbsp;<span class="op" id="3553815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553821">return</span>&nbsp;<span class="ident" id="3553828"><a href="/text/template/exec.go.html#3553385">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553837">}</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3553842">//&nbsp;fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3553863">//&nbsp;Does&nbsp;one&nbsp;dereference&nbsp;or&nbsp;indirection&nbsp;work?&nbsp;We&nbsp;could&nbsp;do&nbsp;more,&nbsp;as&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3553934">//&nbsp;do&nbsp;with&nbsp;method&nbsp;receivers,&nbsp;but&nbsp;that&nbsp;gets&nbsp;messy&nbsp;and&nbsp;method&nbsp;receivers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3554006">//&nbsp;are&nbsp;much&nbsp;more&nbsp;constrained,&nbsp;so&nbsp;it&nbsp;makes&nbsp;more&nbsp;sense&nbsp;there&nbsp;than&nbsp;here.</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3554078">//&nbsp;Besides,&nbsp;one&nbsp;is&nbsp;almost&nbsp;always&nbsp;all&nbsp;you&nbsp;need.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554127">switch</span>&nbsp;<span class="op" id="3554134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554138">case</span>&nbsp;<span class="ident" id="3554143"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3554148">.</span><span class="ident" id="3554149">Kind</span><span class="op" id="3554153">(</span><span class="op" id="3554154">)</span>&nbsp;<span class="op" id="3554156">==</span>&nbsp;<span class="ident" id="3554159"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3554166">.</span><span class="ident" id="3554167">Ptr</span>&nbsp;<span class="op" id="3554171">&amp;&amp;</span>&nbsp;<span class="ident" id="3554174"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3554179">.</span><span class="ident" id="3554180">Type</span><span class="op" id="3554184">(</span><span class="op" id="3554185">)</span><span class="op" id="3554186">.</span><span class="ident" id="3554187">Elem</span><span class="op" id="3554191">(</span><span class="op" id="3554192">)</span><span class="op" id="3554193">.</span><span class="ident" id="3554194">AssignableTo</span><span class="op" id="3554206">(</span><span class="ident" id="3554207"><a href="/text/template/exec.go.html#3553406">typ</a></span><span class="op" id="3554210">)</span><span class="op" id="3554211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3554216"><a href="/text/template/exec.go.html#3553385">value</a></span>&nbsp;<span class="op" id="3554222">=</span>&nbsp;<span class="ident" id="3554224"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3554229">.</span><span class="ident" id="3554230">Elem</span><span class="op" id="3554234">(</span><span class="op" id="3554235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554240">if</span>&nbsp;<span class="op" id="3554243">!</span><span class="ident" id="3554244"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3554249">.</span><span class="ident" id="3554250">IsValid</span><span class="op" id="3554257">(</span><span class="op" id="3554258">)</span>&nbsp;<span class="op" id="3554260">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3554266"><a href="/text/template/exec.go.html#3553362">s</a></span><span class="op" id="3554267">.</span><span class="ident" id="3554268">errorf</span><span class="op" id="3554274">(</span><span class="string" id="3554275">&#34;dereference&nbsp;of&nbsp;nil&nbsp;pointer&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3554314">,</span>&nbsp;<span class="ident" id="3554316"><a href="/text/template/exec.go.html#3553406">typ</a></span><span class="op" id="3554319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3554324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554328">case</span>&nbsp;<span class="ident" id="3554333"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3554340">.</span><span class="ident" id="3554341">PtrTo</span><span class="op" id="3554346">(</span><span class="ident" id="3554347"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3554352">.</span><span class="ident" id="3554353">Type</span><span class="op" id="3554357">(</span><span class="op" id="3554358">)</span><span class="op" id="3554359">)</span><span class="op" id="3554360">.</span><span class="ident" id="3554361">AssignableTo</span><span class="op" id="3554373">(</span><span class="ident" id="3554374"><a href="/text/template/exec.go.html#3553406">typ</a></span><span class="op" id="3554377">)</span>&nbsp;<span class="op" id="3554379">&amp;&amp;</span>&nbsp;<span class="ident" id="3554382"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3554387">.</span><span class="ident" id="3554388">CanAddr</span><span class="op" id="3554395">(</span><span class="op" id="3554396">)</span><span class="op" id="3554397">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3554402"><a href="/text/template/exec.go.html#3553385">value</a></span>&nbsp;<span class="op" id="3554408">=</span>&nbsp;<span class="ident" id="3554410"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3554415">.</span><span class="ident" id="3554416">Addr</span><span class="op" id="3554420">(</span><span class="op" id="3554421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554425">default</span><span class="op" id="3554432">:</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3554437"><a href="/text/template/exec.go.html#3553362">s</a></span><span class="op" id="3554438">.</span><span class="ident" id="3554439">errorf</span><span class="op" id="3554445">(</span><span class="string" id="3554446">&#34;wrong&nbsp;type&nbsp;for&nbsp;value;&nbsp;expected&nbsp;%s;&nbsp;got&nbsp;%s&#34;</span><span class="op" id="3554489">,</span>&nbsp;<span class="ident" id="3554491"><a href="/text/template/exec.go.html#3553406">typ</a></span><span class="op" id="3554494">,</span>&nbsp;<span class="ident" id="3554496"><a href="/text/template/exec.go.html#3553385">value</a></span><span class="op" id="3554501">.</span><span class="ident" id="3554502">Type</span><span class="op" id="3554506">(</span><span class="op" id="3554507">)</span><span class="op" id="3554508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3554512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3554515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554518">return</span>&nbsp;<span class="ident" id="3554525"><a href="/text/template/exec.go.html#3553385">value</a></span><br>
<span class="lineno"></span><span class="op" id="3554531">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span><span class="keyword" id="3554534">func</span>&nbsp;<span class="op" id="3554539">(</span><span class="ident" id="3554540">s</span>&nbsp;<span class="op" id="3554542">*</span><span class="ident" id="3554543"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3554548">)</span>&nbsp;<span class="ident" id="3554550">evalArg</span><span class="op" id="3554557">(</span><span class="ident" id="3554558">dot</span>&nbsp;<span class="ident" id="3554562"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3554569">.</span><span class="ident" id="3554570">Value</span><span class="op" id="3554575">,</span>&nbsp;<span class="ident" id="3554577">typ</span>&nbsp;<span class="ident" id="3554581"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3554588">.</span><span class="ident" id="3554589">Type</span><span class="op" id="3554593">,</span>&nbsp;<span class="ident" id="3554595">n</span>&nbsp;<span class="ident" id="3554597"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3554602">.</span><span class="ident" id="3554603">Node</span><span class="op" id="3554607">)</span>&nbsp;<span class="ident" id="3554609"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3554616">.</span><span class="ident" id="3554617">Value</span>&nbsp;<span class="op" id="3554623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3554626"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3554627">.</span><span class="ident" id="3554628">at</span><span class="op" id="3554630">(</span><span class="ident" id="3554631"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3554632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554635">switch</span>&nbsp;<span class="ident" id="3554642">arg</span>&nbsp;<span class="op" id="3554646">:=</span>&nbsp;<span class="ident" id="3554649"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3554650">.</span><span class="op" id="3554651">(</span><span class="keyword" id="3554652">type</span><span class="op" id="3554656">)</span>&nbsp;<span class="op" id="3554658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554661">case</span>&nbsp;<span class="op" id="3554666">*</span><span class="ident" id="3554667"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3554672">.</span><span class="ident" id="3554673">DotNode</span><span class="op" id="3554680">:</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554684">return</span>&nbsp;<span class="ident" id="3554691"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3554692">.</span><span class="ident" id="3554693">validateType</span><span class="op" id="3554705">(</span><span class="ident" id="3554706"><a href="/text/template/exec.go.html#3554558">dot</a></span><span class="op" id="3554709">,</span>&nbsp;<span class="ident" id="3554711"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3554714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554717">case</span>&nbsp;<span class="op" id="3554722">*</span><span class="ident" id="3554723"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3554728">.</span><span class="ident" id="3554729">NilNode</span><span class="op" id="3554736">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554740">if</span>&nbsp;<span class="ident" id="3554743"><a href="/text/template/exec.go.html#3553094">canBeNil</a></span><span class="op" id="3554751">(</span><span class="ident" id="3554752"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3554755">)</span>&nbsp;<span class="op" id="3554757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554762">return</span>&nbsp;<span class="ident" id="3554769"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3554776">.</span><span class="ident" id="3554777">Zero</span><span class="op" id="3554781">(</span><span class="ident" id="3554782"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3554785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3554789">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3554793"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3554794">.</span><span class="ident" id="3554795">errorf</span><span class="op" id="3554801">(</span><span class="string" id="3554802">&#34;cannot&nbsp;assign&nbsp;nil&nbsp;to&nbsp;%s&#34;</span><span class="op" id="3554827">,</span>&nbsp;<span class="ident" id="3554829"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3554832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554835">case</span>&nbsp;<span class="op" id="3554840">*</span><span class="ident" id="3554841"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3554846">.</span><span class="ident" id="3554847">FieldNode</span><span class="op" id="3554856">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554860">return</span>&nbsp;<span class="ident" id="3554867"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3554868">.</span><span class="ident" id="3554869">validateType</span><span class="op" id="3554881">(</span><span class="ident" id="3554882"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3554883">.</span><span class="ident" id="3554884">evalFieldNode</span><span class="op" id="3554897">(</span><span class="ident" id="3554898"><a href="/text/template/exec.go.html#3554558">dot</a></span><span class="op" id="3554901">,</span>&nbsp;<span class="ident" id="3554903"><a href="/text/template/exec.go.html#3554642">arg</a></span><span class="op" id="3554906">,</span>&nbsp;<span class="op" id="3554908">[</span><span class="op" id="3554909">]</span><span class="ident" id="3554910"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3554915">.</span><span class="ident" id="3554916">Node</span><span class="op" id="3554920">{</span><span class="ident" id="3554921"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3554922">}</span><span class="op" id="3554923">,</span>&nbsp;<span class="ident" id="3554925"><a href="/text/template/exec.go.html#3536315">zero</a></span><span class="op" id="3554929">)</span><span class="op" id="3554930">,</span>&nbsp;<span class="ident" id="3554932"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3554935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554938">case</span>&nbsp;<span class="op" id="3554943">*</span><span class="ident" id="3554944"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3554949">.</span><span class="ident" id="3554950">VariableNode</span><span class="op" id="3554962">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554966">return</span>&nbsp;<span class="ident" id="3554973"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3554974">.</span><span class="ident" id="3554975">validateType</span><span class="op" id="3554987">(</span><span class="ident" id="3554988"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3554989">.</span><span class="ident" id="3554990">evalVariableNode</span><span class="op" id="3555006">(</span><span class="ident" id="3555007"><a href="/text/template/exec.go.html#3554558">dot</a></span><span class="op" id="3555010">,</span>&nbsp;<span class="ident" id="3555012"><a href="/text/template/exec.go.html#3554642">arg</a></span><span class="op" id="3555015">,</span>&nbsp;<span class="ident" id="3555017">nil</span><span class="op" id="3555020">,</span>&nbsp;<span class="ident" id="3555022"><a href="/text/template/exec.go.html#3536315">zero</a></span><span class="op" id="3555026">)</span><span class="op" id="3555027">,</span>&nbsp;<span class="ident" id="3555029"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555032">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555035">case</span>&nbsp;<span class="op" id="3555040">*</span><span class="ident" id="3555041"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3555046">.</span><span class="ident" id="3555047">PipeNode</span><span class="op" id="3555055">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555059">return</span>&nbsp;<span class="ident" id="3555066"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555067">.</span><span class="ident" id="3555068">validateType</span><span class="op" id="3555080">(</span><span class="ident" id="3555081"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555082">.</span><span class="ident" id="3555083">evalPipeline</span><span class="op" id="3555095">(</span><span class="ident" id="3555096"><a href="/text/template/exec.go.html#3554558">dot</a></span><span class="op" id="3555099">,</span>&nbsp;<span class="ident" id="3555101"><a href="/text/template/exec.go.html#3554642">arg</a></span><span class="op" id="3555104">)</span><span class="op" id="3555105">,</span>&nbsp;<span class="ident" id="3555107"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555113">case</span>&nbsp;<span class="op" id="3555118">*</span><span class="ident" id="3555119"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3555124">.</span><span class="ident" id="3555125">IdentifierNode</span><span class="op" id="3555139">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555143">return</span>&nbsp;<span class="ident" id="3555150"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555151">.</span><span class="ident" id="3555152">evalFunction</span><span class="op" id="3555164">(</span><span class="ident" id="3555165"><a href="/text/template/exec.go.html#3554558">dot</a></span><span class="op" id="3555168">,</span>&nbsp;<span class="ident" id="3555170"><a href="/text/template/exec.go.html#3554642">arg</a></span><span class="op" id="3555173">,</span>&nbsp;<span class="ident" id="3555175"><a href="/text/template/exec.go.html#3554642">arg</a></span><span class="op" id="3555178">,</span>&nbsp;<span class="ident" id="3555180">nil</span><span class="op" id="3555183">,</span>&nbsp;<span class="ident" id="3555185"><a href="/text/template/exec.go.html#3536315">zero</a></span><span class="op" id="3555189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555192">case</span>&nbsp;<span class="op" id="3555197">*</span><span class="ident" id="3555198"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3555203">.</span><span class="ident" id="3555204">ChainNode</span><span class="op" id="3555213">:</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555217">return</span>&nbsp;<span class="ident" id="3555224"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555225">.</span><span class="ident" id="3555226">validateType</span><span class="op" id="3555238">(</span><span class="ident" id="3555239"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555240">.</span><span class="ident" id="3555241">evalChainNode</span><span class="op" id="3555254">(</span><span class="ident" id="3555255"><a href="/text/template/exec.go.html#3554558">dot</a></span><span class="op" id="3555258">,</span>&nbsp;<span class="ident" id="3555260"><a href="/text/template/exec.go.html#3554642">arg</a></span><span class="op" id="3555263">,</span>&nbsp;<span class="ident" id="3555265">nil</span><span class="op" id="3555268">,</span>&nbsp;<span class="ident" id="3555270"><a href="/text/template/exec.go.html#3536315">zero</a></span><span class="op" id="3555274">)</span><span class="op" id="3555275">,</span>&nbsp;<span class="ident" id="3555277"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3555283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555286">switch</span>&nbsp;<span class="ident" id="3555293"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555296">.</span><span class="ident" id="3555297">Kind</span><span class="op" id="3555301">(</span><span class="op" id="3555302">)</span>&nbsp;<span class="op" id="3555304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555307">case</span>&nbsp;<span class="ident" id="3555312"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555319">.</span><span class="ident" id="3555320">Bool</span><span class="op" id="3555324">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555328">return</span>&nbsp;<span class="ident" id="3555335"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555336">.</span><span class="ident" id="3555337">evalBool</span><span class="op" id="3555345">(</span><span class="ident" id="3555346"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555349">,</span>&nbsp;<span class="ident" id="3555351"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3555352">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555355">case</span>&nbsp;<span class="ident" id="3555360"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555367">.</span><span class="ident" id="3555368">Complex64</span><span class="op" id="3555377">,</span>&nbsp;<span class="ident" id="3555379"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555386">.</span><span class="ident" id="3555387">Complex128</span><span class="op" id="3555397">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555401">return</span>&nbsp;<span class="ident" id="3555408"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555409">.</span><span class="ident" id="3555410">evalComplex</span><span class="op" id="3555421">(</span><span class="ident" id="3555422"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555425">,</span>&nbsp;<span class="ident" id="3555427"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3555428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555431">case</span>&nbsp;<span class="ident" id="3555436"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555443">.</span><span class="ident" id="3555444">Float32</span><span class="op" id="3555451">,</span>&nbsp;<span class="ident" id="3555453"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555460">.</span><span class="ident" id="3555461">Float64</span><span class="op" id="3555468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555472">return</span>&nbsp;<span class="ident" id="3555479"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555480">.</span><span class="ident" id="3555481">evalFloat</span><span class="op" id="3555490">(</span><span class="ident" id="3555491"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555494">,</span>&nbsp;<span class="ident" id="3555496"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3555497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555500">case</span>&nbsp;<span class="ident" id="3555505"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555512">.</span><span class="ident" id="3555513">Int</span><span class="op" id="3555516">,</span>&nbsp;<span class="ident" id="3555518"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555525">.</span><span class="ident" id="3555526">Int8</span><span class="op" id="3555530">,</span>&nbsp;<span class="ident" id="3555532"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555539">.</span><span class="ident" id="3555540">Int16</span><span class="op" id="3555545">,</span>&nbsp;<span class="ident" id="3555547"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555554">.</span><span class="ident" id="3555555">Int32</span><span class="op" id="3555560">,</span>&nbsp;<span class="ident" id="3555562"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555569">.</span><span class="ident" id="3555570">Int64</span><span class="op" id="3555575">:</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555579">return</span>&nbsp;<span class="ident" id="3555586"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555587">.</span><span class="ident" id="3555588">evalInteger</span><span class="op" id="3555599">(</span><span class="ident" id="3555600"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555603">,</span>&nbsp;<span class="ident" id="3555605"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3555606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555609">case</span>&nbsp;<span class="ident" id="3555614"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555621">.</span><span class="ident" id="3555622">Interface</span><span class="op" id="3555631">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555635">if</span>&nbsp;<span class="ident" id="3555638"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555641">.</span><span class="ident" id="3555642">NumMethod</span><span class="op" id="3555651">(</span><span class="op" id="3555652">)</span>&nbsp;<span class="op" id="3555654">==</span>&nbsp;<span class="num" id="3555657">0</span>&nbsp;<span class="op" id="3555659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555664">return</span>&nbsp;<span class="ident" id="3555671"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555672">.</span><span class="ident" id="3555673">evalEmptyInterface</span><span class="op" id="3555691">(</span><span class="ident" id="3555692"><a href="/text/template/exec.go.html#3554558">dot</a></span><span class="op" id="3555695">,</span>&nbsp;<span class="ident" id="3555697"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3555698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3555702">}</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555705">case</span>&nbsp;<span class="ident" id="3555710"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555717">.</span><span class="ident" id="3555718">String</span><span class="op" id="3555724">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555728">return</span>&nbsp;<span class="ident" id="3555735"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555736">.</span><span class="ident" id="3555737">evalString</span><span class="op" id="3555747">(</span><span class="ident" id="3555748"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555751">,</span>&nbsp;<span class="ident" id="3555753"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3555754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555757">case</span>&nbsp;<span class="ident" id="3555762"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555769">.</span><span class="ident" id="3555770">Uint</span><span class="op" id="3555774">,</span>&nbsp;<span class="ident" id="3555776"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555783">.</span><span class="ident" id="3555784">Uint8</span><span class="op" id="3555789">,</span>&nbsp;<span class="ident" id="3555791"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555798">.</span><span class="ident" id="3555799">Uint16</span><span class="op" id="3555805">,</span>&nbsp;<span class="ident" id="3555807"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555814">.</span><span class="ident" id="3555815">Uint32</span><span class="op" id="3555821">,</span>&nbsp;<span class="ident" id="3555823"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555830">.</span><span class="ident" id="3555831">Uint64</span><span class="op" id="3555837">,</span>&nbsp;<span class="ident" id="3555839"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3555846">.</span><span class="ident" id="3555847">Uintptr</span><span class="op" id="3555854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555858">return</span>&nbsp;<span class="ident" id="3555865"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555866">.</span><span class="ident" id="3555867">evalUnsignedInteger</span><span class="op" id="3555886">(</span><span class="ident" id="3555887"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555890">,</span>&nbsp;<span class="ident" id="3555892"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3555893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3555896">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555899"><a href="/text/template/exec.go.html#3554540">s</a></span><span class="op" id="3555900">.</span><span class="ident" id="3555901">errorf</span><span class="op" id="3555907">(</span><span class="string" id="3555908">&#34;can&#39;t&nbsp;handle&nbsp;%s&nbsp;for&nbsp;arg&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3555944">,</span>&nbsp;<span class="ident" id="3555946"><a href="/text/template/exec.go.html#3554595">n</a></span><span class="op" id="3555947">,</span>&nbsp;<span class="ident" id="3555949"><a href="/text/template/exec.go.html#3554577">typ</a></span><span class="op" id="3555952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3555955">panic</span><span class="op" id="3555960">(</span><span class="string" id="3555961">&#34;not&nbsp;reached&#34;</span><span class="op" id="3555974">)</span><br>
<span class="lineno"></span><span class="op" id="3555976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3555979">func</span>&nbsp;<span class="op" id="3555984">(</span><span class="ident" id="3555985">s</span>&nbsp;<span class="op" id="3555987">*</span><span class="ident" id="3555988"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3555993">)</span>&nbsp;<span class="ident" id="3555995">evalBool</span><span class="op" id="3556003">(</span><span class="ident" id="3556004">typ</span>&nbsp;<span class="ident" id="3556008"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556015">.</span><span class="ident" id="3556016">Type</span><span class="op" id="3556020">,</span>&nbsp;<span class="ident" id="3556022">n</span>&nbsp;<span class="ident" id="3556024"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3556029">.</span><span class="ident" id="3556030">Node</span><span class="op" id="3556034">)</span>&nbsp;<span class="ident" id="3556036"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556043">.</span><span class="ident" id="3556044">Value</span>&nbsp;<span class="op" id="3556050">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556053"><a href="/text/template/exec.go.html#3555985">s</a></span><span class="op" id="3556054">.</span><span class="ident" id="3556055">at</span><span class="op" id="3556057">(</span><span class="ident" id="3556058"><a href="/text/template/exec.go.html#3556022">n</a></span><span class="op" id="3556059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556062">if</span>&nbsp;<span class="ident" id="3556065">n</span><span class="op" id="3556066">,</span>&nbsp;<span class="ident" id="3556068">ok</span>&nbsp;<span class="op" id="3556071">:=</span>&nbsp;<span class="ident" id="3556074"><a href="/text/template/exec.go.html#3556022">n</a></span><span class="op" id="3556075">.</span><span class="op" id="3556076">(</span><span class="op" id="3556077">*</span><span class="ident" id="3556078"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3556083">.</span><span class="ident" id="3556084">BoolNode</span><span class="op" id="3556092">)</span><span class="op" id="3556093">;</span>&nbsp;<span class="ident" id="3556095"><a href="/text/template/exec.go.html#3556068">ok</a></span>&nbsp;<span class="op" id="3556098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556102">value</span>&nbsp;<span class="op" id="3556108">:=</span>&nbsp;<span class="ident" id="3556111"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556118">.</span><span class="ident" id="3556119">New</span><span class="op" id="3556122">(</span><span class="ident" id="3556123"><a href="/text/template/exec.go.html#3556004">typ</a></span><span class="op" id="3556126">)</span><span class="op" id="3556127">.</span><span class="ident" id="3556128">Elem</span><span class="op" id="3556132">(</span><span class="op" id="3556133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556137"><a href="/text/template/exec.go.html#3556102">value</a></span><span class="op" id="3556142">.</span><span class="ident" id="3556143">SetBool</span><span class="op" id="3556150">(</span><span class="ident" id="3556151"><a href="/text/template/exec.go.html#3556065">n</a></span><span class="op" id="3556152">.</span><span class="ident" id="3556153">True</span><span class="op" id="3556157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556161">return</span>&nbsp;<span class="ident" id="3556168"><a href="/text/template/exec.go.html#3556102">value</a></span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556178"><a href="/text/template/exec.go.html#3555985">s</a></span><span class="op" id="3556179">.</span><span class="ident" id="3556180">errorf</span><span class="op" id="3556186">(</span><span class="string" id="3556187">&#34;expected&nbsp;bool;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="3556212">,</span>&nbsp;<span class="ident" id="3556214"><a href="/text/template/exec.go.html#3556022">n</a></span><span class="op" id="3556215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3556218">panic</span><span class="op" id="3556223">(</span><span class="string" id="3556224">&#34;not&nbsp;reached&#34;</span><span class="op" id="3556237">)</span><br>
<span class="lineno"></span><span class="op" id="3556239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span><span class="keyword" id="3556242">func</span>&nbsp;<span class="op" id="3556247">(</span><span class="ident" id="3556248">s</span>&nbsp;<span class="op" id="3556250">*</span><span class="ident" id="3556251"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3556256">)</span>&nbsp;<span class="ident" id="3556258">evalString</span><span class="op" id="3556268">(</span><span class="ident" id="3556269">typ</span>&nbsp;<span class="ident" id="3556273"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556280">.</span><span class="ident" id="3556281">Type</span><span class="op" id="3556285">,</span>&nbsp;<span class="ident" id="3556287">n</span>&nbsp;<span class="ident" id="3556289"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3556294">.</span><span class="ident" id="3556295">Node</span><span class="op" id="3556299">)</span>&nbsp;<span class="ident" id="3556301"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556308">.</span><span class="ident" id="3556309">Value</span>&nbsp;<span class="op" id="3556315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556318"><a href="/text/template/exec.go.html#3556248">s</a></span><span class="op" id="3556319">.</span><span class="ident" id="3556320">at</span><span class="op" id="3556322">(</span><span class="ident" id="3556323"><a href="/text/template/exec.go.html#3556287">n</a></span><span class="op" id="3556324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556327">if</span>&nbsp;<span class="ident" id="3556330">n</span><span class="op" id="3556331">,</span>&nbsp;<span class="ident" id="3556333">ok</span>&nbsp;<span class="op" id="3556336">:=</span>&nbsp;<span class="ident" id="3556339"><a href="/text/template/exec.go.html#3556287">n</a></span><span class="op" id="3556340">.</span><span class="op" id="3556341">(</span><span class="op" id="3556342">*</span><span class="ident" id="3556343"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3556348">.</span><span class="ident" id="3556349">StringNode</span><span class="op" id="3556359">)</span><span class="op" id="3556360">;</span>&nbsp;<span class="ident" id="3556362"><a href="/text/template/exec.go.html#3556333">ok</a></span>&nbsp;<span class="op" id="3556365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556369">value</span>&nbsp;<span class="op" id="3556375">:=</span>&nbsp;<span class="ident" id="3556378"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556385">.</span><span class="ident" id="3556386">New</span><span class="op" id="3556389">(</span><span class="ident" id="3556390"><a href="/text/template/exec.go.html#3556269">typ</a></span><span class="op" id="3556393">)</span><span class="op" id="3556394">.</span><span class="ident" id="3556395">Elem</span><span class="op" id="3556399">(</span><span class="op" id="3556400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556404"><a href="/text/template/exec.go.html#3556369">value</a></span><span class="op" id="3556409">.</span><span class="ident" id="3556410">SetString</span><span class="op" id="3556419">(</span><span class="ident" id="3556420"><a href="/text/template/exec.go.html#3556330">n</a></span><span class="op" id="3556421">.</span><span class="ident" id="3556422">Text</span><span class="op" id="3556426">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556430">return</span>&nbsp;<span class="ident" id="3556437"><a href="/text/template/exec.go.html#3556369">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556447"><a href="/text/template/exec.go.html#3556248">s</a></span><span class="op" id="3556448">.</span><span class="ident" id="3556449">errorf</span><span class="op" id="3556455">(</span><span class="string" id="3556456">&#34;expected&nbsp;string;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="3556483">,</span>&nbsp;<span class="ident" id="3556485"><a href="/text/template/exec.go.html#3556287">n</a></span><span class="op" id="3556486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3556489">panic</span><span class="op" id="3556494">(</span><span class="string" id="3556495">&#34;not&nbsp;reached&#34;</span><span class="op" id="3556508">)</span><br>
<span class="lineno"></span><span class="op" id="3556510">}</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span><span class="keyword" id="3556513">func</span>&nbsp;<span class="op" id="3556518">(</span><span class="ident" id="3556519">s</span>&nbsp;<span class="op" id="3556521">*</span><span class="ident" id="3556522"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3556527">)</span>&nbsp;<span class="ident" id="3556529">evalInteger</span><span class="op" id="3556540">(</span><span class="ident" id="3556541">typ</span>&nbsp;<span class="ident" id="3556545"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556552">.</span><span class="ident" id="3556553">Type</span><span class="op" id="3556557">,</span>&nbsp;<span class="ident" id="3556559">n</span>&nbsp;<span class="ident" id="3556561"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3556566">.</span><span class="ident" id="3556567">Node</span><span class="op" id="3556571">)</span>&nbsp;<span class="ident" id="3556573"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556580">.</span><span class="ident" id="3556581">Value</span>&nbsp;<span class="op" id="3556587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556590"><a href="/text/template/exec.go.html#3556519">s</a></span><span class="op" id="3556591">.</span><span class="ident" id="3556592">at</span><span class="op" id="3556594">(</span><span class="ident" id="3556595"><a href="/text/template/exec.go.html#3556559">n</a></span><span class="op" id="3556596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556599">if</span>&nbsp;<span class="ident" id="3556602">n</span><span class="op" id="3556603">,</span>&nbsp;<span class="ident" id="3556605">ok</span>&nbsp;<span class="op" id="3556608">:=</span>&nbsp;<span class="ident" id="3556611"><a href="/text/template/exec.go.html#3556559">n</a></span><span class="op" id="3556612">.</span><span class="op" id="3556613">(</span><span class="op" id="3556614">*</span><span class="ident" id="3556615"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3556620">.</span><span class="ident" id="3556621">NumberNode</span><span class="op" id="3556631">)</span><span class="op" id="3556632">;</span>&nbsp;<span class="ident" id="3556634"><a href="/text/template/exec.go.html#3556605">ok</a></span>&nbsp;<span class="op" id="3556637">&amp;&amp;</span>&nbsp;<span class="ident" id="3556640"><a href="/text/template/exec.go.html#3556602">n</a></span><span class="op" id="3556641">.</span><span class="ident" id="3556642">IsInt</span>&nbsp;<span class="op" id="3556648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556652">value</span>&nbsp;<span class="op" id="3556658">:=</span>&nbsp;<span class="ident" id="3556661"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556668">.</span><span class="ident" id="3556669">New</span><span class="op" id="3556672">(</span><span class="ident" id="3556673"><a href="/text/template/exec.go.html#3556541">typ</a></span><span class="op" id="3556676">)</span><span class="op" id="3556677">.</span><span class="ident" id="3556678">Elem</span><span class="op" id="3556682">(</span><span class="op" id="3556683">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556687"><a href="/text/template/exec.go.html#3556652">value</a></span><span class="op" id="3556692">.</span><span class="ident" id="3556693">SetInt</span><span class="op" id="3556699">(</span><span class="ident" id="3556700"><a href="/text/template/exec.go.html#3556602">n</a></span><span class="op" id="3556701">.</span><span class="ident" id="3556702">Int64</span><span class="op" id="3556707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556711">return</span>&nbsp;<span class="ident" id="3556718"><a href="/text/template/exec.go.html#3556652">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556728"><a href="/text/template/exec.go.html#3556519">s</a></span><span class="op" id="3556729">.</span><span class="ident" id="3556730">errorf</span><span class="op" id="3556736">(</span><span class="string" id="3556737">&#34;expected&nbsp;integer;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="3556765">,</span>&nbsp;<span class="ident" id="3556767"><a href="/text/template/exec.go.html#3556559">n</a></span><span class="op" id="3556768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3556771">panic</span><span class="op" id="3556776">(</span><span class="string" id="3556777">&#34;not&nbsp;reached&#34;</span><span class="op" id="3556790">)</span><br>
<span class="lineno">695</span><span class="op" id="3556792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3556795">func</span>&nbsp;<span class="op" id="3556800">(</span><span class="ident" id="3556801">s</span>&nbsp;<span class="op" id="3556803">*</span><span class="ident" id="3556804"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3556809">)</span>&nbsp;<span class="ident" id="3556811">evalUnsignedInteger</span><span class="op" id="3556830">(</span><span class="ident" id="3556831">typ</span>&nbsp;<span class="ident" id="3556835"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556842">.</span><span class="ident" id="3556843">Type</span><span class="op" id="3556847">,</span>&nbsp;<span class="ident" id="3556849">n</span>&nbsp;<span class="ident" id="3556851"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3556856">.</span><span class="ident" id="3556857">Node</span><span class="op" id="3556861">)</span>&nbsp;<span class="ident" id="3556863"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556870">.</span><span class="ident" id="3556871">Value</span>&nbsp;<span class="op" id="3556877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556880"><a href="/text/template/exec.go.html#3556801">s</a></span><span class="op" id="3556881">.</span><span class="ident" id="3556882">at</span><span class="op" id="3556884">(</span><span class="ident" id="3556885"><a href="/text/template/exec.go.html#3556849">n</a></span><span class="op" id="3556886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556889">if</span>&nbsp;<span class="ident" id="3556892">n</span><span class="op" id="3556893">,</span>&nbsp;<span class="ident" id="3556895">ok</span>&nbsp;<span class="op" id="3556898">:=</span>&nbsp;<span class="ident" id="3556901"><a href="/text/template/exec.go.html#3556849">n</a></span><span class="op" id="3556902">.</span><span class="op" id="3556903">(</span><span class="op" id="3556904">*</span><span class="ident" id="3556905"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3556910">.</span><span class="ident" id="3556911">NumberNode</span><span class="op" id="3556921">)</span><span class="op" id="3556922">;</span>&nbsp;<span class="ident" id="3556924"><a href="/text/template/exec.go.html#3556895">ok</a></span>&nbsp;<span class="op" id="3556927">&amp;&amp;</span>&nbsp;<span class="ident" id="3556930"><a href="/text/template/exec.go.html#3556892">n</a></span><span class="op" id="3556931">.</span><span class="ident" id="3556932">IsUint</span>&nbsp;<span class="op" id="3556939">{</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556943">value</span>&nbsp;<span class="op" id="3556949">:=</span>&nbsp;<span class="ident" id="3556952"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3556959">.</span><span class="ident" id="3556960">New</span><span class="op" id="3556963">(</span><span class="ident" id="3556964"><a href="/text/template/exec.go.html#3556831">typ</a></span><span class="op" id="3556967">)</span><span class="op" id="3556968">.</span><span class="ident" id="3556969">Elem</span><span class="op" id="3556973">(</span><span class="op" id="3556974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556978"><a href="/text/template/exec.go.html#3556943">value</a></span><span class="op" id="3556983">.</span><span class="ident" id="3556984">SetUint</span><span class="op" id="3556991">(</span><span class="ident" id="3556992"><a href="/text/template/exec.go.html#3556892">n</a></span><span class="op" id="3556993">.</span><span class="ident" id="3556994">Uint64</span><span class="op" id="3557000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557004">return</span>&nbsp;<span class="ident" id="3557011"><a href="/text/template/exec.go.html#3556943">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3557018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557021"><a href="/text/template/exec.go.html#3556801">s</a></span><span class="op" id="3557022">.</span><span class="ident" id="3557023">errorf</span><span class="op" id="3557029">(</span><span class="string" id="3557030">&#34;expected&nbsp;unsigned&nbsp;integer;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="3557067">,</span>&nbsp;<span class="ident" id="3557069"><a href="/text/template/exec.go.html#3556849">n</a></span><span class="op" id="3557070">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3557073">panic</span><span class="op" id="3557078">(</span><span class="string" id="3557079">&#34;not&nbsp;reached&#34;</span><span class="op" id="3557092">)</span><br>
<span class="lineno"></span><span class="op" id="3557094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3557097">func</span>&nbsp;<span class="op" id="3557102">(</span><span class="ident" id="3557103">s</span>&nbsp;<span class="op" id="3557105">*</span><span class="ident" id="3557106"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3557111">)</span>&nbsp;<span class="ident" id="3557113">evalFloat</span><span class="op" id="3557122">(</span><span class="ident" id="3557123">typ</span>&nbsp;<span class="ident" id="3557127"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3557134">.</span><span class="ident" id="3557135">Type</span><span class="op" id="3557139">,</span>&nbsp;<span class="ident" id="3557141">n</span>&nbsp;<span class="ident" id="3557143"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3557148">.</span><span class="ident" id="3557149">Node</span><span class="op" id="3557153">)</span>&nbsp;<span class="ident" id="3557155"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3557162">.</span><span class="ident" id="3557163">Value</span>&nbsp;<span class="op" id="3557169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557172"><a href="/text/template/exec.go.html#3557103">s</a></span><span class="op" id="3557173">.</span><span class="ident" id="3557174">at</span><span class="op" id="3557176">(</span><span class="ident" id="3557177"><a href="/text/template/exec.go.html#3557141">n</a></span><span class="op" id="3557178">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557181">if</span>&nbsp;<span class="ident" id="3557184">n</span><span class="op" id="3557185">,</span>&nbsp;<span class="ident" id="3557187">ok</span>&nbsp;<span class="op" id="3557190">:=</span>&nbsp;<span class="ident" id="3557193"><a href="/text/template/exec.go.html#3557141">n</a></span><span class="op" id="3557194">.</span><span class="op" id="3557195">(</span><span class="op" id="3557196">*</span><span class="ident" id="3557197"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3557202">.</span><span class="ident" id="3557203">NumberNode</span><span class="op" id="3557213">)</span><span class="op" id="3557214">;</span>&nbsp;<span class="ident" id="3557216"><a href="/text/template/exec.go.html#3557187">ok</a></span>&nbsp;<span class="op" id="3557219">&amp;&amp;</span>&nbsp;<span class="ident" id="3557222"><a href="/text/template/exec.go.html#3557184">n</a></span><span class="op" id="3557223">.</span><span class="ident" id="3557224">IsFloat</span>&nbsp;<span class="op" id="3557232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557236">value</span>&nbsp;<span class="op" id="3557242">:=</span>&nbsp;<span class="ident" id="3557245"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3557252">.</span><span class="ident" id="3557253">New</span><span class="op" id="3557256">(</span><span class="ident" id="3557257"><a href="/text/template/exec.go.html#3557123">typ</a></span><span class="op" id="3557260">)</span><span class="op" id="3557261">.</span><span class="ident" id="3557262">Elem</span><span class="op" id="3557266">(</span><span class="op" id="3557267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557271"><a href="/text/template/exec.go.html#3557236">value</a></span><span class="op" id="3557276">.</span><span class="ident" id="3557277">SetFloat</span><span class="op" id="3557285">(</span><span class="ident" id="3557286"><a href="/text/template/exec.go.html#3557184">n</a></span><span class="op" id="3557287">.</span><span class="ident" id="3557288">Float64</span><span class="op" id="3557295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557299">return</span>&nbsp;<span class="ident" id="3557306"><a href="/text/template/exec.go.html#3557236">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3557313">}</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557316"><a href="/text/template/exec.go.html#3557103">s</a></span><span class="op" id="3557317">.</span><span class="ident" id="3557318">errorf</span><span class="op" id="3557324">(</span><span class="string" id="3557325">&#34;expected&nbsp;float;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="3557351">,</span>&nbsp;<span class="ident" id="3557353"><a href="/text/template/exec.go.html#3557141">n</a></span><span class="op" id="3557354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3557357">panic</span><span class="op" id="3557362">(</span><span class="string" id="3557363">&#34;not&nbsp;reached&#34;</span><span class="op" id="3557376">)</span><br>
<span class="lineno"></span><span class="op" id="3557378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3557381">func</span>&nbsp;<span class="op" id="3557386">(</span><span class="ident" id="3557387">s</span>&nbsp;<span class="op" id="3557389">*</span><span class="ident" id="3557390"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3557395">)</span>&nbsp;<span class="ident" id="3557397">evalComplex</span><span class="op" id="3557408">(</span><span class="ident" id="3557409">typ</span>&nbsp;<span class="ident" id="3557413"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3557420">.</span><span class="ident" id="3557421">Type</span><span class="op" id="3557425">,</span>&nbsp;<span class="ident" id="3557427">n</span>&nbsp;<span class="ident" id="3557429"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3557434">.</span><span class="ident" id="3557435">Node</span><span class="op" id="3557439">)</span>&nbsp;<span class="ident" id="3557441"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3557448">.</span><span class="ident" id="3557449">Value</span>&nbsp;<span class="op" id="3557455">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557458">if</span>&nbsp;<span class="ident" id="3557461">n</span><span class="op" id="3557462">,</span>&nbsp;<span class="ident" id="3557464">ok</span>&nbsp;<span class="op" id="3557467">:=</span>&nbsp;<span class="ident" id="3557470"><a href="/text/template/exec.go.html#3557427">n</a></span><span class="op" id="3557471">.</span><span class="op" id="3557472">(</span><span class="op" id="3557473">*</span><span class="ident" id="3557474"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3557479">.</span><span class="ident" id="3557480">NumberNode</span><span class="op" id="3557490">)</span><span class="op" id="3557491">;</span>&nbsp;<span class="ident" id="3557493"><a href="/text/template/exec.go.html#3557464">ok</a></span>&nbsp;<span class="op" id="3557496">&amp;&amp;</span>&nbsp;<span class="ident" id="3557499"><a href="/text/template/exec.go.html#3557461">n</a></span><span class="op" id="3557500">.</span><span class="ident" id="3557501">IsComplex</span>&nbsp;<span class="op" id="3557511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557515">value</span>&nbsp;<span class="op" id="3557521">:=</span>&nbsp;<span class="ident" id="3557524"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3557531">.</span><span class="ident" id="3557532">New</span><span class="op" id="3557535">(</span><span class="ident" id="3557536"><a href="/text/template/exec.go.html#3557409">typ</a></span><span class="op" id="3557539">)</span><span class="op" id="3557540">.</span><span class="ident" id="3557541">Elem</span><span class="op" id="3557545">(</span><span class="op" id="3557546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557550"><a href="/text/template/exec.go.html#3557515">value</a></span><span class="op" id="3557555">.</span><span class="ident" id="3557556">SetComplex</span><span class="op" id="3557566">(</span><span class="ident" id="3557567"><a href="/text/template/exec.go.html#3557461">n</a></span><span class="op" id="3557568">.</span><span class="ident" id="3557569">Complex128</span><span class="op" id="3557579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557583">return</span>&nbsp;<span class="ident" id="3557590"><a href="/text/template/exec.go.html#3557515">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3557597">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557600"><a href="/text/template/exec.go.html#3557387">s</a></span><span class="op" id="3557601">.</span><span class="ident" id="3557602">errorf</span><span class="op" id="3557608">(</span><span class="string" id="3557609">&#34;expected&nbsp;complex;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="3557637">,</span>&nbsp;<span class="ident" id="3557639"><a href="/text/template/exec.go.html#3557427">n</a></span><span class="op" id="3557640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3557643">panic</span><span class="op" id="3557648">(</span><span class="string" id="3557649">&#34;not&nbsp;reached&#34;</span><span class="op" id="3557662">)</span><br>
<span class="lineno"></span><span class="op" id="3557664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3557667">func</span>&nbsp;<span class="op" id="3557672">(</span><span class="ident" id="3557673">s</span>&nbsp;<span class="op" id="3557675">*</span><span class="ident" id="3557676"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3557681">)</span>&nbsp;<span class="ident" id="3557683">evalEmptyInterface</span><span class="op" id="3557701">(</span><span class="ident" id="3557702">dot</span>&nbsp;<span class="ident" id="3557706"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3557713">.</span><span class="ident" id="3557714">Value</span><span class="op" id="3557719">,</span>&nbsp;<span class="ident" id="3557721">n</span>&nbsp;<span class="ident" id="3557723"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3557728">.</span><span class="ident" id="3557729">Node</span><span class="op" id="3557733">)</span>&nbsp;<span class="ident" id="3557735"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3557742">.</span><span class="ident" id="3557743">Value</span>&nbsp;<span class="op" id="3557749">{</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557752"><a href="/text/template/exec.go.html#3557673">s</a></span><span class="op" id="3557753">.</span><span class="ident" id="3557754">at</span><span class="op" id="3557756">(</span><span class="ident" id="3557757"><a href="/text/template/exec.go.html#3557721">n</a></span><span class="op" id="3557758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557761">switch</span>&nbsp;<span class="ident" id="3557768">n</span>&nbsp;<span class="op" id="3557770">:=</span>&nbsp;<span class="ident" id="3557773"><a href="/text/template/exec.go.html#3557721">n</a></span><span class="op" id="3557774">.</span><span class="op" id="3557775">(</span><span class="keyword" id="3557776">type</span><span class="op" id="3557780">)</span>&nbsp;<span class="op" id="3557782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557785">case</span>&nbsp;<span class="op" id="3557790">*</span><span class="ident" id="3557791"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3557796">.</span><span class="ident" id="3557797">BoolNode</span><span class="op" id="3557805">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557809">return</span>&nbsp;<span class="ident" id="3557816"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3557823">.</span><span class="ident" id="3557824">ValueOf</span><span class="op" id="3557831">(</span><span class="ident" id="3557832"><a href="/text/template/exec.go.html#3557768">n</a></span><span class="op" id="3557833">.</span><span class="ident" id="3557834">True</span><span class="op" id="3557838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557841">case</span>&nbsp;<span class="op" id="3557846">*</span><span class="ident" id="3557847"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3557852">.</span><span class="ident" id="3557853">DotNode</span><span class="op" id="3557860">:</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557864">return</span>&nbsp;<span class="ident" id="3557871"><a href="/text/template/exec.go.html#3557702">dot</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557876">case</span>&nbsp;<span class="op" id="3557881">*</span><span class="ident" id="3557882"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3557887">.</span><span class="ident" id="3557888">FieldNode</span><span class="op" id="3557897">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557901">return</span>&nbsp;<span class="ident" id="3557908"><a href="/text/template/exec.go.html#3557673">s</a></span><span class="op" id="3557909">.</span><span class="ident" id="3557910">evalFieldNode</span><span class="op" id="3557923">(</span><span class="ident" id="3557924"><a href="/text/template/exec.go.html#3557702">dot</a></span><span class="op" id="3557927">,</span>&nbsp;<span class="ident" id="3557929"><a href="/text/template/exec.go.html#3557768">n</a></span><span class="op" id="3557930">,</span>&nbsp;<span class="ident" id="3557932">nil</span><span class="op" id="3557935">,</span>&nbsp;<span class="ident" id="3557937"><a href="/text/template/exec.go.html#3536315">zero</a></span><span class="op" id="3557941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557944">case</span>&nbsp;<span class="op" id="3557949">*</span><span class="ident" id="3557950"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3557955">.</span><span class="ident" id="3557956">IdentifierNode</span><span class="op" id="3557970">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557974">return</span>&nbsp;<span class="ident" id="3557981"><a href="/text/template/exec.go.html#3557673">s</a></span><span class="op" id="3557982">.</span><span class="ident" id="3557983">evalFunction</span><span class="op" id="3557995">(</span><span class="ident" id="3557996"><a href="/text/template/exec.go.html#3557702">dot</a></span><span class="op" id="3557999">,</span>&nbsp;<span class="ident" id="3558001"><a href="/text/template/exec.go.html#3557768">n</a></span><span class="op" id="3558002">,</span>&nbsp;<span class="ident" id="3558004"><a href="/text/template/exec.go.html#3557768">n</a></span><span class="op" id="3558005">,</span>&nbsp;<span class="ident" id="3558007">nil</span><span class="op" id="3558010">,</span>&nbsp;<span class="ident" id="3558012"><a href="/text/template/exec.go.html#3536315">zero</a></span><span class="op" id="3558016">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558019">case</span>&nbsp;<span class="op" id="3558024">*</span><span class="ident" id="3558025"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3558030">.</span><span class="ident" id="3558031">NilNode</span><span class="op" id="3558038">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3558042">//&nbsp;NilNode&nbsp;is&nbsp;handled&nbsp;in&nbsp;evalArg,&nbsp;the&nbsp;only&nbsp;place&nbsp;that&nbsp;calls&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3558110"><a href="/text/template/exec.go.html#3557673">s</a></span><span class="op" id="3558111">.</span><span class="ident" id="3558112">errorf</span><span class="op" id="3558118">(</span><span class="string" id="3558119">&#34;evalEmptyInterface:&nbsp;nil&nbsp;(can&#39;t&nbsp;happen)&#34;</span><span class="op" id="3558159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558162">case</span>&nbsp;<span class="op" id="3558167">*</span><span class="ident" id="3558168"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3558173">.</span><span class="ident" id="3558174">NumberNode</span><span class="op" id="3558184">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558188">return</span>&nbsp;<span class="ident" id="3558195"><a href="/text/template/exec.go.html#3557673">s</a></span><span class="op" id="3558196">.</span><span class="ident" id="3558197">idealConstant</span><span class="op" id="3558210">(</span><span class="ident" id="3558211"><a href="/text/template/exec.go.html#3557768">n</a></span><span class="op" id="3558212">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558215">case</span>&nbsp;<span class="op" id="3558220">*</span><span class="ident" id="3558221"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3558226">.</span><span class="ident" id="3558227">StringNode</span><span class="op" id="3558237">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558241">return</span>&nbsp;<span class="ident" id="3558248"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3558255">.</span><span class="ident" id="3558256">ValueOf</span><span class="op" id="3558263">(</span><span class="ident" id="3558264"><a href="/text/template/exec.go.html#3557768">n</a></span><span class="op" id="3558265">.</span><span class="ident" id="3558266">Text</span><span class="op" id="3558270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558273">case</span>&nbsp;<span class="op" id="3558278">*</span><span class="ident" id="3558279"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3558284">.</span><span class="ident" id="3558285">VariableNode</span><span class="op" id="3558297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558301">return</span>&nbsp;<span class="ident" id="3558308"><a href="/text/template/exec.go.html#3557673">s</a></span><span class="op" id="3558309">.</span><span class="ident" id="3558310">evalVariableNode</span><span class="op" id="3558326">(</span><span class="ident" id="3558327"><a href="/text/template/exec.go.html#3557702">dot</a></span><span class="op" id="3558330">,</span>&nbsp;<span class="ident" id="3558332"><a href="/text/template/exec.go.html#3557768">n</a></span><span class="op" id="3558333">,</span>&nbsp;<span class="ident" id="3558335">nil</span><span class="op" id="3558338">,</span>&nbsp;<span class="ident" id="3558340"><a href="/text/template/exec.go.html#3536315">zero</a></span><span class="op" id="3558344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558347">case</span>&nbsp;<span class="op" id="3558352">*</span><span class="ident" id="3558353"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3558358">.</span><span class="ident" id="3558359">PipeNode</span><span class="op" id="3558367">:</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558371">return</span>&nbsp;<span class="ident" id="3558378"><a href="/text/template/exec.go.html#3557673">s</a></span><span class="op" id="3558379">.</span><span class="ident" id="3558380">evalPipeline</span><span class="op" id="3558392">(</span><span class="ident" id="3558393"><a href="/text/template/exec.go.html#3557702">dot</a></span><span class="op" id="3558396">,</span>&nbsp;<span class="ident" id="3558398"><a href="/text/template/exec.go.html#3557768">n</a></span><span class="op" id="3558399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3558405"><a href="/text/template/exec.go.html#3557673">s</a></span><span class="op" id="3558406">.</span><span class="ident" id="3558407">errorf</span><span class="op" id="3558413">(</span><span class="string" id="3558414">&#34;can&#39;t&nbsp;handle&nbsp;assignment&nbsp;of&nbsp;%s&nbsp;to&nbsp;empty&nbsp;interface&nbsp;argument&#34;</span><span class="op" id="3558473">,</span>&nbsp;<span class="ident" id="3558475"><a href="/text/template/exec.go.html#3557721">n</a></span><span class="op" id="3558476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3558479">panic</span><span class="op" id="3558484">(</span><span class="string" id="3558485">&#34;not&nbsp;reached&#34;</span><span class="op" id="3558498">)</span><br>
<span class="lineno"></span><span class="op" id="3558500">}</span><br>
<span class="lineno">755</span><br>
<span class="lineno"></span><span class="comment" id="3558503">//&nbsp;indirect&nbsp;returns&nbsp;the&nbsp;item&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;indirection,&nbsp;and&nbsp;a&nbsp;bool&nbsp;to&nbsp;indicate&nbsp;if&nbsp;it&#39;s&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="3558595">//&nbsp;We&nbsp;indirect&nbsp;through&nbsp;pointers&nbsp;and&nbsp;empty&nbsp;interfaces&nbsp;(only)&nbsp;because</span><br>
<span class="lineno"></span><span class="comment" id="3558663">//&nbsp;non-empty&nbsp;interfaces&nbsp;have&nbsp;methods&nbsp;we&nbsp;might&nbsp;need.</span><br>
<span class="lineno"></span><span class="keyword" id="3558715">func</span>&nbsp;<span class="ident" id="3558720">indirect</span><span class="op" id="3558728">(</span><span class="ident" id="3558729">v</span>&nbsp;<span class="ident" id="3558731"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3558738">.</span><span class="ident" id="3558739">Value</span><span class="op" id="3558744">)</span>&nbsp;<span class="op" id="3558746">(</span><span class="ident" id="3558747">rv</span>&nbsp;<span class="ident" id="3558750"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3558757">.</span><span class="ident" id="3558758">Value</span><span class="op" id="3558763">,</span>&nbsp;<span class="ident" id="3558765">isNil</span>&nbsp;<span class="builtintype" id="3558771">bool</span><span class="op" id="3558775">)</span>&nbsp;<span class="op" id="3558777">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558780">for</span>&nbsp;<span class="op" id="3558784">;</span>&nbsp;<span class="ident" id="3558786"><a href="/text/template/exec.go.html#3558729">v</a></span><span class="op" id="3558787">.</span><span class="ident" id="3558788">Kind</span><span class="op" id="3558792">(</span><span class="op" id="3558793">)</span>&nbsp;<span class="op" id="3558795">==</span>&nbsp;<span class="ident" id="3558798"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3558805">.</span><span class="ident" id="3558806">Ptr</span>&nbsp;<span class="op" id="3558810">||</span>&nbsp;<span class="ident" id="3558813"><a href="/text/template/exec.go.html#3558729">v</a></span><span class="op" id="3558814">.</span><span class="ident" id="3558815">Kind</span><span class="op" id="3558819">(</span><span class="op" id="3558820">)</span>&nbsp;<span class="op" id="3558822">==</span>&nbsp;<span class="ident" id="3558825"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3558832">.</span><span class="ident" id="3558833">Interface</span><span class="op" id="3558842">;</span>&nbsp;<span class="ident" id="3558844"><a href="/text/template/exec.go.html#3558729">v</a></span>&nbsp;<span class="op" id="3558846">=</span>&nbsp;<span class="ident" id="3558848"><a href="/text/template/exec.go.html#3558729">v</a></span><span class="op" id="3558849">.</span><span class="ident" id="3558850">Elem</span><span class="op" id="3558854">(</span><span class="op" id="3558855">)</span>&nbsp;<span class="op" id="3558857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558861">if</span>&nbsp;<span class="ident" id="3558864"><a href="/text/template/exec.go.html#3558729">v</a></span><span class="op" id="3558865">.</span><span class="ident" id="3558866">IsNil</span><span class="op" id="3558871">(</span><span class="op" id="3558872">)</span>&nbsp;<span class="op" id="3558874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558879">return</span>&nbsp;<span class="ident" id="3558886"><a href="/text/template/exec.go.html#3558729">v</a></span><span class="op" id="3558887">,</span>&nbsp;<span class="ident" id="3558889">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558900">if</span>&nbsp;<span class="ident" id="3558903"><a href="/text/template/exec.go.html#3558729">v</a></span><span class="op" id="3558904">.</span><span class="ident" id="3558905">Kind</span><span class="op" id="3558909">(</span><span class="op" id="3558910">)</span>&nbsp;<span class="op" id="3558912">==</span>&nbsp;<span class="ident" id="3558915"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3558922">.</span><span class="ident" id="3558923">Interface</span>&nbsp;<span class="op" id="3558933">&amp;&amp;</span>&nbsp;<span class="ident" id="3558936"><a href="/text/template/exec.go.html#3558729">v</a></span><span class="op" id="3558937">.</span><span class="ident" id="3558938">NumMethod</span><span class="op" id="3558947">(</span><span class="op" id="3558948">)</span>&nbsp;<span class="op" id="3558950">&gt;</span>&nbsp;<span class="num" id="3558952">0</span>&nbsp;<span class="op" id="3558954">{</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558959">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558973">return</span>&nbsp;<span class="ident" id="3558980"><a href="/text/template/exec.go.html#3558729">v</a></span><span class="op" id="3558981">,</span>&nbsp;<span class="ident" id="3558983">false</span><br>
<span class="lineno"></span><span class="op" id="3558989">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="comment" id="3558992">//&nbsp;printValue&nbsp;writes&nbsp;the&nbsp;textual&nbsp;representation&nbsp;of&nbsp;the&nbsp;value&nbsp;to&nbsp;the&nbsp;output&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3559070">//&nbsp;the&nbsp;template.</span><br>
<span class="lineno"></span><span class="keyword" id="3559087">func</span>&nbsp;<span class="op" id="3559092">(</span><span class="ident" id="3559093">s</span>&nbsp;<span class="op" id="3559095">*</span><span class="ident" id="3559096"><a href="/text/template/exec.go.html#3535228">state</a></span><span class="op" id="3559101">)</span>&nbsp;<span class="ident" id="3559103">printValue</span><span class="op" id="3559113">(</span><span class="ident" id="3559114">n</span>&nbsp;<span class="ident" id="3559116"><a href="/text/template/exec.go.html#3535041">parse</a></span><span class="op" id="3559121">.</span><span class="ident" id="3559122">Node</span><span class="op" id="3559126">,</span>&nbsp;<span class="ident" id="3559128">v</span>&nbsp;<span class="ident" id="3559130"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3559137">.</span><span class="ident" id="3559138">Value</span><span class="op" id="3559143">)</span>&nbsp;<span class="op" id="3559145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559148"><a href="/text/template/exec.go.html#3559093">s</a></span><span class="op" id="3559149">.</span><span class="ident" id="3559150">at</span><span class="op" id="3559152">(</span><span class="ident" id="3559153"><a href="/text/template/exec.go.html#3559114">n</a></span><span class="op" id="3559154">)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559157">iface</span><span class="op" id="3559162">,</span>&nbsp;<span class="ident" id="3559164">ok</span>&nbsp;<span class="op" id="3559167">:=</span>&nbsp;<span class="ident" id="3559170"><a href="/text/template/exec.go.html#3559413">printableValue</a></span><span class="op" id="3559184">(</span><span class="ident" id="3559185"><a href="/text/template/exec.go.html#3559128">v</a></span><span class="op" id="3559186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559189">if</span>&nbsp;<span class="op" id="3559192">!</span><span class="ident" id="3559193"><a href="/text/template/exec.go.html#3559164">ok</a></span>&nbsp;<span class="op" id="3559196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559200"><a href="/text/template/exec.go.html#3559093">s</a></span><span class="op" id="3559201">.</span><span class="ident" id="3559202">errorf</span><span class="op" id="3559208">(</span><span class="string" id="3559209">&#34;can&#39;t&nbsp;print&nbsp;%s&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3559236">,</span>&nbsp;<span class="ident" id="3559238"><a href="/text/template/exec.go.html#3559114">n</a></span><span class="op" id="3559239">,</span>&nbsp;<span class="ident" id="3559241"><a href="/text/template/exec.go.html#3559128">v</a></span><span class="op" id="3559242">.</span><span class="ident" id="3559243">Type</span><span class="op" id="3559247">(</span><span class="op" id="3559248">)</span><span class="op" id="3559249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559255"><a href="/text/template/exec.go.html#3534987">fmt</a></span><span class="op" id="3559258">.</span><span class="ident" id="3559259">Fprint</span><span class="op" id="3559265">(</span><span class="ident" id="3559266"><a href="/text/template/exec.go.html#3559093">s</a></span><span class="op" id="3559267">.</span><span class="ident" id="3559268">wr</span><span class="op" id="3559270">,</span>&nbsp;<span class="ident" id="3559272"><a href="/text/template/exec.go.html#3559157">iface</a></span><span class="op" id="3559277">)</span><br>
<span class="lineno">780</span><span class="op" id="3559279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3559282">//&nbsp;printableValue&nbsp;returns&nbsp;the,&nbsp;possibly&nbsp;indirected,&nbsp;interface&nbsp;value&nbsp;inside&nbsp;v&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3559364">//&nbsp;is&nbsp;best&nbsp;for&nbsp;a&nbsp;call&nbsp;to&nbsp;formatted&nbsp;printer.</span><br>
<span class="lineno"></span><span class="keyword" id="3559408">func</span>&nbsp;<span class="ident" id="3559413">printableValue</span><span class="op" id="3559427">(</span><span class="ident" id="3559428">v</span>&nbsp;<span class="ident" id="3559430"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3559437">.</span><span class="ident" id="3559438">Value</span><span class="op" id="3559443">)</span>&nbsp;<span class="op" id="3559445">(</span><span class="keyword" id="3559446">interface</span><span class="op" id="3559455">{</span><span class="op" id="3559456">}</span><span class="op" id="3559457">,</span>&nbsp;<span class="builtintype" id="3559459">bool</span><span class="op" id="3559463">)</span>&nbsp;<span class="op" id="3559465">{</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559468">if</span>&nbsp;<span class="ident" id="3559471"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559472">.</span><span class="ident" id="3559473">Kind</span><span class="op" id="3559477">(</span><span class="op" id="3559478">)</span>&nbsp;<span class="op" id="3559480">==</span>&nbsp;<span class="ident" id="3559483"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3559490">.</span><span class="ident" id="3559491">Ptr</span>&nbsp;<span class="op" id="3559495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559499"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559500">,</span>&nbsp;<span class="ident" id="3559502">_</span>&nbsp;<span class="op" id="3559504">=</span>&nbsp;<span class="ident" id="3559506"><a href="/text/template/exec.go.html#3558720">indirect</a></span><span class="op" id="3559514">(</span><span class="ident" id="3559515"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559516">)</span>&nbsp;<span class="comment" id="3559518">//&nbsp;fmt.Fprint&nbsp;handles&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559549">if</span>&nbsp;<span class="op" id="3559552">!</span><span class="ident" id="3559553"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559554">.</span><span class="ident" id="3559555">IsValid</span><span class="op" id="3559562">(</span><span class="op" id="3559563">)</span>&nbsp;<span class="op" id="3559565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559569">return</span>&nbsp;<span class="string" id="3559576">&#34;&lt;no&nbsp;value&gt;&#34;</span><span class="op" id="3559588">,</span>&nbsp;<span class="ident" id="3559590">true</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559600">if</span>&nbsp;<span class="op" id="3559603">!</span><span class="ident" id="3559604"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559605">.</span><span class="ident" id="3559606">Type</span><span class="op" id="3559610">(</span><span class="op" id="3559611">)</span><span class="op" id="3559612">.</span><span class="ident" id="3559613">Implements</span><span class="op" id="3559623">(</span><span class="ident" id="3559624"><a href="/text/template/exec.go.html#3550879">errorType</a></span><span class="op" id="3559633">)</span>&nbsp;<span class="op" id="3559635">&amp;&amp;</span>&nbsp;<span class="op" id="3559638">!</span><span class="ident" id="3559639"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559640">.</span><span class="ident" id="3559641">Type</span><span class="op" id="3559645">(</span><span class="op" id="3559646">)</span><span class="op" id="3559647">.</span><span class="ident" id="3559648">Implements</span><span class="op" id="3559658">(</span><span class="ident" id="3559659"><a href="/text/template/exec.go.html#3550935">fmtStringerType</a></span><span class="op" id="3559674">)</span>&nbsp;<span class="op" id="3559676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559680">if</span>&nbsp;<span class="ident" id="3559683"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559684">.</span><span class="ident" id="3559685">CanAddr</span><span class="op" id="3559692">(</span><span class="op" id="3559693">)</span>&nbsp;<span class="op" id="3559695">&amp;&amp;</span>&nbsp;<span class="op" id="3559698">(</span><span class="ident" id="3559699"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3559706">.</span><span class="ident" id="3559707">PtrTo</span><span class="op" id="3559712">(</span><span class="ident" id="3559713"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559714">.</span><span class="ident" id="3559715">Type</span><span class="op" id="3559719">(</span><span class="op" id="3559720">)</span><span class="op" id="3559721">)</span><span class="op" id="3559722">.</span><span class="ident" id="3559723">Implements</span><span class="op" id="3559733">(</span><span class="ident" id="3559734"><a href="/text/template/exec.go.html#3550879">errorType</a></span><span class="op" id="3559743">)</span>&nbsp;<span class="op" id="3559745">||</span>&nbsp;<span class="ident" id="3559748"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3559755">.</span><span class="ident" id="3559756">PtrTo</span><span class="op" id="3559761">(</span><span class="ident" id="3559762"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559763">.</span><span class="ident" id="3559764">Type</span><span class="op" id="3559768">(</span><span class="op" id="3559769">)</span><span class="op" id="3559770">)</span><span class="op" id="3559771">.</span><span class="ident" id="3559772">Implements</span><span class="op" id="3559782">(</span><span class="ident" id="3559783"><a href="/text/template/exec.go.html#3550935">fmtStringerType</a></span><span class="op" id="3559798">)</span><span class="op" id="3559799">)</span>&nbsp;<span class="op" id="3559801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559806"><a href="/text/template/exec.go.html#3559428">v</a></span>&nbsp;<span class="op" id="3559808">=</span>&nbsp;<span class="ident" id="3559810"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559811">.</span><span class="ident" id="3559812">Addr</span><span class="op" id="3559816">(</span><span class="op" id="3559817">)</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559821">}</span>&nbsp;<span class="keyword" id="3559823">else</span>&nbsp;<span class="op" id="3559828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559833">switch</span>&nbsp;<span class="ident" id="3559840"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559841">.</span><span class="ident" id="3559842">Kind</span><span class="op" id="3559846">(</span><span class="op" id="3559847">)</span>&nbsp;<span class="op" id="3559849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559854">case</span>&nbsp;<span class="ident" id="3559859"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3559866">.</span><span class="ident" id="3559867">Chan</span><span class="op" id="3559871">,</span>&nbsp;<span class="ident" id="3559873"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3559880">.</span><span class="ident" id="3559881">Func</span><span class="op" id="3559885">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559891">return</span>&nbsp;<span class="ident" id="3559898">nil</span><span class="op" id="3559901">,</span>&nbsp;<span class="ident" id="3559903">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559912">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559922">return</span>&nbsp;<span class="ident" id="3559929"><a href="/text/template/exec.go.html#3559428">v</a></span><span class="op" id="3559930">.</span><span class="ident" id="3559931">Interface</span><span class="op" id="3559940">(</span><span class="op" id="3559941">)</span><span class="op" id="3559942">,</span>&nbsp;<span class="ident" id="3559944">true</span><br>
<span class="lineno"></span><span class="op" id="3559949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">805</span><span class="comment" id="3559952">//&nbsp;Types&nbsp;to&nbsp;help&nbsp;sort&nbsp;the&nbsp;keys&nbsp;in&nbsp;a&nbsp;map&nbsp;for&nbsp;reproducible&nbsp;output.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3560018">type</span>&nbsp;<span class="ident" id="3560023">rvs</span>&nbsp;<span class="op" id="3560027">[</span><span class="op" id="3560028">]</span><span class="ident" id="3560029"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560036">.</span><span class="ident" id="3560037">Value</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3560044">func</span>&nbsp;<span class="op" id="3560049">(</span><span class="ident" id="3560050">x</span>&nbsp;<span class="ident" id="3560052"><a href="/text/template/exec.go.html#3560023">rvs</a></span><span class="op" id="3560055">)</span>&nbsp;<span class="ident" id="3560057">Len</span><span class="op" id="3560060">(</span><span class="op" id="3560061">)</span>&nbsp;<span class="builtintype" id="3560063">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3560072">{</span>&nbsp;<span class="keyword" id="3560074">return</span>&nbsp;<span class="builtinfunc" id="3560081">len</span><span class="op" id="3560084">(</span><span class="ident" id="3560085"><a href="/text/template/exec.go.html#3560050">x</a></span><span class="op" id="3560086">)</span>&nbsp;<span class="op" id="3560088">}</span><br>
<span class="lineno">810</span><span class="keyword" id="3560090">func</span>&nbsp;<span class="op" id="3560095">(</span><span class="ident" id="3560096">x</span>&nbsp;<span class="ident" id="3560098"><a href="/text/template/exec.go.html#3560023">rvs</a></span><span class="op" id="3560101">)</span>&nbsp;<span class="ident" id="3560103">Swap</span><span class="op" id="3560107">(</span><span class="ident" id="3560108">i</span><span class="op" id="3560109">,</span>&nbsp;<span class="ident" id="3560111">j</span>&nbsp;<span class="builtintype" id="3560113">int</span><span class="op" id="3560116">)</span>&nbsp;<span class="op" id="3560118">{</span>&nbsp;<span class="ident" id="3560120"><a href="/text/template/exec.go.html#3560096">x</a></span><span class="op" id="3560121">[</span><span class="ident" id="3560122"><a href="/text/template/exec.go.html#3560108">i</a></span><span class="op" id="3560123">]</span><span class="op" id="3560124">,</span>&nbsp;<span class="ident" id="3560126"><a href="/text/template/exec.go.html#3560096">x</a></span><span class="op" id="3560127">[</span><span class="ident" id="3560128"><a href="/text/template/exec.go.html#3560111">j</a></span><span class="op" id="3560129">]</span>&nbsp;<span class="op" id="3560131">=</span>&nbsp;<span class="ident" id="3560133"><a href="/text/template/exec.go.html#3560096">x</a></span><span class="op" id="3560134">[</span><span class="ident" id="3560135"><a href="/text/template/exec.go.html#3560111">j</a></span><span class="op" id="3560136">]</span><span class="op" id="3560137">,</span>&nbsp;<span class="ident" id="3560139"><a href="/text/template/exec.go.html#3560096">x</a></span><span class="op" id="3560140">[</span><span class="ident" id="3560141"><a href="/text/template/exec.go.html#3560108">i</a></span><span class="op" id="3560142">]</span>&nbsp;<span class="op" id="3560144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3560147">type</span>&nbsp;<span class="ident" id="3560152">rvInts</span>&nbsp;<span class="keyword" id="3560159">struct</span><span class="op" id="3560165">{</span>&nbsp;<span class="ident" id="3560167"><a href="/text/template/exec.go.html#3560023">rvs</a></span>&nbsp;<span class="op" id="3560171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3560174">func</span>&nbsp;<span class="op" id="3560179">(</span><span class="ident" id="3560180">x</span>&nbsp;<span class="ident" id="3560182"><a href="/text/template/exec.go.html#3560152">rvInts</a></span><span class="op" id="3560188">)</span>&nbsp;<span class="ident" id="3560190">Less</span><span class="op" id="3560194">(</span><span class="ident" id="3560195">i</span><span class="op" id="3560196">,</span>&nbsp;<span class="ident" id="3560198">j</span>&nbsp;<span class="builtintype" id="3560200">int</span><span class="op" id="3560203">)</span>&nbsp;<span class="builtintype" id="3560205">bool</span>&nbsp;<span class="op" id="3560210">{</span>&nbsp;<span class="keyword" id="3560212">return</span>&nbsp;<span class="ident" id="3560219"><a href="/text/template/exec.go.html#3560180">x</a></span><span class="op" id="3560220">.</span><span class="ident" id="3560221">rvs</span><span class="op" id="3560224">[</span><span class="ident" id="3560225"><a href="/text/template/exec.go.html#3560195">i</a></span><span class="op" id="3560226">]</span><span class="op" id="3560227">.</span><span class="ident" id="3560228">Int</span><span class="op" id="3560231">(</span><span class="op" id="3560232">)</span>&nbsp;<span class="op" id="3560234">&lt;</span>&nbsp;<span class="ident" id="3560236"><a href="/text/template/exec.go.html#3560180">x</a></span><span class="op" id="3560237">.</span><span class="ident" id="3560238">rvs</span><span class="op" id="3560241">[</span><span class="ident" id="3560242"><a href="/text/template/exec.go.html#3560198">j</a></span><span class="op" id="3560243">]</span><span class="op" id="3560244">.</span><span class="ident" id="3560245">Int</span><span class="op" id="3560248">(</span><span class="op" id="3560249">)</span>&nbsp;<span class="op" id="3560251">}</span><br>
<span class="lineno">815</span><br>
<span class="lineno"></span><span class="keyword" id="3560254">type</span>&nbsp;<span class="ident" id="3560259">rvUints</span>&nbsp;<span class="keyword" id="3560267">struct</span><span class="op" id="3560273">{</span>&nbsp;<span class="ident" id="3560275"><a href="/text/template/exec.go.html#3560023">rvs</a></span>&nbsp;<span class="op" id="3560279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3560282">func</span>&nbsp;<span class="op" id="3560287">(</span><span class="ident" id="3560288">x</span>&nbsp;<span class="ident" id="3560290"><a href="/text/template/exec.go.html#3560259">rvUints</a></span><span class="op" id="3560297">)</span>&nbsp;<span class="ident" id="3560299">Less</span><span class="op" id="3560303">(</span><span class="ident" id="3560304">i</span><span class="op" id="3560305">,</span>&nbsp;<span class="ident" id="3560307">j</span>&nbsp;<span class="builtintype" id="3560309">int</span><span class="op" id="3560312">)</span>&nbsp;<span class="builtintype" id="3560314">bool</span>&nbsp;<span class="op" id="3560319">{</span>&nbsp;<span class="keyword" id="3560321">return</span>&nbsp;<span class="ident" id="3560328"><a href="/text/template/exec.go.html#3560288">x</a></span><span class="op" id="3560329">.</span><span class="ident" id="3560330">rvs</span><span class="op" id="3560333">[</span><span class="ident" id="3560334"><a href="/text/template/exec.go.html#3560304">i</a></span><span class="op" id="3560335">]</span><span class="op" id="3560336">.</span><span class="ident" id="3560337">Uint</span><span class="op" id="3560341">(</span><span class="op" id="3560342">)</span>&nbsp;<span class="op" id="3560344">&lt;</span>&nbsp;<span class="ident" id="3560346"><a href="/text/template/exec.go.html#3560288">x</a></span><span class="op" id="3560347">.</span><span class="ident" id="3560348">rvs</span><span class="op" id="3560351">[</span><span class="ident" id="3560352"><a href="/text/template/exec.go.html#3560307">j</a></span><span class="op" id="3560353">]</span><span class="op" id="3560354">.</span><span class="ident" id="3560355">Uint</span><span class="op" id="3560359">(</span><span class="op" id="3560360">)</span>&nbsp;<span class="op" id="3560362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">820</span><span class="keyword" id="3560365">type</span>&nbsp;<span class="ident" id="3560370">rvFloats</span>&nbsp;<span class="keyword" id="3560379">struct</span><span class="op" id="3560385">{</span>&nbsp;<span class="ident" id="3560387"><a href="/text/template/exec.go.html#3560023">rvs</a></span>&nbsp;<span class="op" id="3560391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3560394">func</span>&nbsp;<span class="op" id="3560399">(</span><span class="ident" id="3560400">x</span>&nbsp;<span class="ident" id="3560402"><a href="/text/template/exec.go.html#3560370">rvFloats</a></span><span class="op" id="3560410">)</span>&nbsp;<span class="ident" id="3560412">Less</span><span class="op" id="3560416">(</span><span class="ident" id="3560417">i</span><span class="op" id="3560418">,</span>&nbsp;<span class="ident" id="3560420">j</span>&nbsp;<span class="builtintype" id="3560422">int</span><span class="op" id="3560425">)</span>&nbsp;<span class="builtintype" id="3560427">bool</span>&nbsp;<span class="op" id="3560432">{</span>&nbsp;<span class="keyword" id="3560434">return</span>&nbsp;<span class="ident" id="3560441"><a href="/text/template/exec.go.html#3560400">x</a></span><span class="op" id="3560442">.</span><span class="ident" id="3560443">rvs</span><span class="op" id="3560446">[</span><span class="ident" id="3560447"><a href="/text/template/exec.go.html#3560417">i</a></span><span class="op" id="3560448">]</span><span class="op" id="3560449">.</span><span class="ident" id="3560450">Float</span><span class="op" id="3560455">(</span><span class="op" id="3560456">)</span>&nbsp;<span class="op" id="3560458">&lt;</span>&nbsp;<span class="ident" id="3560460"><a href="/text/template/exec.go.html#3560400">x</a></span><span class="op" id="3560461">.</span><span class="ident" id="3560462">rvs</span><span class="op" id="3560465">[</span><span class="ident" id="3560466"><a href="/text/template/exec.go.html#3560420">j</a></span><span class="op" id="3560467">]</span><span class="op" id="3560468">.</span><span class="ident" id="3560469">Float</span><span class="op" id="3560474">(</span><span class="op" id="3560475">)</span>&nbsp;<span class="op" id="3560477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3560480">type</span>&nbsp;<span class="ident" id="3560485">rvStrings</span>&nbsp;<span class="keyword" id="3560495">struct</span><span class="op" id="3560501">{</span>&nbsp;<span class="ident" id="3560503"><a href="/text/template/exec.go.html#3560023">rvs</a></span>&nbsp;<span class="op" id="3560507">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span><span class="keyword" id="3560510">func</span>&nbsp;<span class="op" id="3560515">(</span><span class="ident" id="3560516">x</span>&nbsp;<span class="ident" id="3560518"><a href="/text/template/exec.go.html#3560485">rvStrings</a></span><span class="op" id="3560527">)</span>&nbsp;<span class="ident" id="3560529">Less</span><span class="op" id="3560533">(</span><span class="ident" id="3560534">i</span><span class="op" id="3560535">,</span>&nbsp;<span class="ident" id="3560537">j</span>&nbsp;<span class="builtintype" id="3560539">int</span><span class="op" id="3560542">)</span>&nbsp;<span class="builtintype" id="3560544">bool</span>&nbsp;<span class="op" id="3560549">{</span>&nbsp;<span class="keyword" id="3560551">return</span>&nbsp;<span class="ident" id="3560558"><a href="/text/template/exec.go.html#3560516">x</a></span><span class="op" id="3560559">.</span><span class="ident" id="3560560">rvs</span><span class="op" id="3560563">[</span><span class="ident" id="3560564"><a href="/text/template/exec.go.html#3560534">i</a></span><span class="op" id="3560565">]</span><span class="op" id="3560566">.</span><span class="ident" id="3560567">String</span><span class="op" id="3560573">(</span><span class="op" id="3560574">)</span>&nbsp;<span class="op" id="3560576">&lt;</span>&nbsp;<span class="ident" id="3560578"><a href="/text/template/exec.go.html#3560516">x</a></span><span class="op" id="3560579">.</span><span class="ident" id="3560580">rvs</span><span class="op" id="3560583">[</span><span class="ident" id="3560584"><a href="/text/template/exec.go.html#3560537">j</a></span><span class="op" id="3560585">]</span><span class="op" id="3560586">.</span><span class="ident" id="3560587">String</span><span class="op" id="3560593">(</span><span class="op" id="3560594">)</span>&nbsp;<span class="op" id="3560596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3560599">//&nbsp;sortKeys&nbsp;sorts&nbsp;(if&nbsp;it&nbsp;can)&nbsp;the&nbsp;slice&nbsp;of&nbsp;reflect.Values,&nbsp;which&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;map&nbsp;keys.</span><br>
<span class="lineno"></span><span class="keyword" id="3560688">func</span>&nbsp;<span class="ident" id="3560693">sortKeys</span><span class="op" id="3560701">(</span><span class="ident" id="3560702">v</span>&nbsp;<span class="op" id="3560704">[</span><span class="op" id="3560705">]</span><span class="ident" id="3560706"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560713">.</span><span class="ident" id="3560714">Value</span><span class="op" id="3560719">)</span>&nbsp;<span class="op" id="3560721">[</span><span class="op" id="3560722">]</span><span class="ident" id="3560723"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560730">.</span><span class="ident" id="3560731">Value</span>&nbsp;<span class="op" id="3560737">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560740">if</span>&nbsp;<span class="builtinfunc" id="3560743">len</span><span class="op" id="3560746">(</span><span class="ident" id="3560747"><a href="/text/template/exec.go.html#3560702">v</a></span><span class="op" id="3560748">)</span>&nbsp;<span class="op" id="3560750">&lt;=</span>&nbsp;<span class="num" id="3560753">1</span>&nbsp;<span class="op" id="3560755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560759">return</span>&nbsp;<span class="ident" id="3560766"><a href="/text/template/exec.go.html#3560702">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3560769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560772">switch</span>&nbsp;<span class="ident" id="3560779"><a href="/text/template/exec.go.html#3560702">v</a></span><span class="op" id="3560780">[</span><span class="num" id="3560781">0</span><span class="op" id="3560782">]</span><span class="op" id="3560783">.</span><span class="ident" id="3560784">Kind</span><span class="op" id="3560788">(</span><span class="op" id="3560789">)</span>&nbsp;<span class="op" id="3560791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560794">case</span>&nbsp;<span class="ident" id="3560799"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560806">.</span><span class="ident" id="3560807">Float32</span><span class="op" id="3560814">,</span>&nbsp;<span class="ident" id="3560816"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560823">.</span><span class="ident" id="3560824">Float64</span><span class="op" id="3560831">:</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3560835"><a href="/text/template/exec.go.html#3535022">sort</a></span><span class="op" id="3560839">.</span><span class="ident" id="3560840">Sort</span><span class="op" id="3560844">(</span><span class="ident" id="3560845"><a href="/text/template/exec.go.html#3560370">rvFloats</a></span><span class="op" id="3560853">{</span><span class="ident" id="3560854"><a href="/text/template/exec.go.html#3560702">v</a></span><span class="op" id="3560855">}</span><span class="op" id="3560856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560859">case</span>&nbsp;<span class="ident" id="3560864"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560871">.</span><span class="ident" id="3560872">Int</span><span class="op" id="3560875">,</span>&nbsp;<span class="ident" id="3560877"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560884">.</span><span class="ident" id="3560885">Int8</span><span class="op" id="3560889">,</span>&nbsp;<span class="ident" id="3560891"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560898">.</span><span class="ident" id="3560899">Int16</span><span class="op" id="3560904">,</span>&nbsp;<span class="ident" id="3560906"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560913">.</span><span class="ident" id="3560914">Int32</span><span class="op" id="3560919">,</span>&nbsp;<span class="ident" id="3560921"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560928">.</span><span class="ident" id="3560929">Int64</span><span class="op" id="3560934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3560938"><a href="/text/template/exec.go.html#3535022">sort</a></span><span class="op" id="3560942">.</span><span class="ident" id="3560943">Sort</span><span class="op" id="3560947">(</span><span class="ident" id="3560948"><a href="/text/template/exec.go.html#3560152">rvInts</a></span><span class="op" id="3560954">{</span><span class="ident" id="3560955"><a href="/text/template/exec.go.html#3560702">v</a></span><span class="op" id="3560956">}</span><span class="op" id="3560957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560960">case</span>&nbsp;<span class="ident" id="3560965"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3560972">.</span><span class="ident" id="3560973">String</span><span class="op" id="3560979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3560983"><a href="/text/template/exec.go.html#3535022">sort</a></span><span class="op" id="3560987">.</span><span class="ident" id="3560988">Sort</span><span class="op" id="3560992">(</span><span class="ident" id="3560993"><a href="/text/template/exec.go.html#3560485">rvStrings</a></span><span class="op" id="3561002">{</span><span class="ident" id="3561003"><a href="/text/template/exec.go.html#3560702">v</a></span><span class="op" id="3561004">}</span><span class="op" id="3561005">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3561008">case</span>&nbsp;<span class="ident" id="3561013"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3561020">.</span><span class="ident" id="3561021">Uint</span><span class="op" id="3561025">,</span>&nbsp;<span class="ident" id="3561027"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3561034">.</span><span class="ident" id="3561035">Uint8</span><span class="op" id="3561040">,</span>&nbsp;<span class="ident" id="3561042"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3561049">.</span><span class="ident" id="3561050">Uint16</span><span class="op" id="3561056">,</span>&nbsp;<span class="ident" id="3561058"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3561065">.</span><span class="ident" id="3561066">Uint32</span><span class="op" id="3561072">,</span>&nbsp;<span class="ident" id="3561074"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3561081">.</span><span class="ident" id="3561082">Uint64</span><span class="op" id="3561088">,</span>&nbsp;<span class="ident" id="3561090"><a href="/text/template/exec.go.html#3535000">reflect</a></span><span class="op" id="3561097">.</span><span class="ident" id="3561098">Uintptr</span><span class="op" id="3561105">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3561109"><a href="/text/template/exec.go.html#3535022">sort</a></span><span class="op" id="3561113">.</span><span class="ident" id="3561114">Sort</span><span class="op" id="3561118">(</span><span class="ident" id="3561119"><a href="/text/template/exec.go.html#3560259">rvUints</a></span><span class="op" id="3561126">{</span><span class="ident" id="3561127"><a href="/text/template/exec.go.html#3560702">v</a></span><span class="op" id="3561128">}</span><span class="op" id="3561129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3561132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3561135">return</span>&nbsp;<span class="ident" id="3561142"><a href="/text/template/exec.go.html#3560702">v</a></span><br>
<span class="lineno"></span><span class="op" id="3561144">}</span>
</div>
</body>
</html>
