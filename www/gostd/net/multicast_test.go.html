<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html" class="current">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6719582">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6719637">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6719691">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6719742">package</span>&nbsp;<span class="ident" id="6719750">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6719755">import</span>&nbsp;<span class="op" id="6719762">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6719765">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6719772">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6719778">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6719789">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6719799">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6719802">var</span>&nbsp;<span class="ident" id="6719806">ipv4MulticastListenerTests</span>&nbsp;<span class="op" id="6719833">=</span>&nbsp;<span class="op" id="6719835">[</span><span class="op" id="6719836">]</span><span class="keyword" id="6719837">struct</span>&nbsp;<span class="op" id="6719844">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6719847">net</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6719853">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6719861">gaddr</span>&nbsp;<span class="op" id="6719867">*</span><span class="ident" id="6719868"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span>&nbsp;<span class="comment" id="6719876">//&nbsp;see&nbsp;RFC&nbsp;4727</span><br>
<span class="lineno"></span><span class="op" id="6719892">}</span><span class="op" id="6719893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6719896">{</span><span class="string" id="6719897">&#34;udp&#34;</span><span class="op" id="6719902">,</span>&nbsp;<span class="op" id="6719904">&amp;</span><span class="ident" id="6719905"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6719912">{</span><span class="ident" id="6719913"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6719915">:</span>&nbsp;<span class="ident" id="6719917"><a href="/gostd/net/ip.go.html#3286541">IPv4</a></span><span class="op" id="6719921">(</span><span class="num" id="6719922">224</span><span class="op" id="6719925">,</span>&nbsp;<span class="num" id="6719927">0</span><span class="op" id="6719928">,</span>&nbsp;<span class="num" id="6719930">0</span><span class="op" id="6719931">,</span>&nbsp;<span class="num" id="6719933">254</span><span class="op" id="6719936">)</span><span class="op" id="6719937">,</span>&nbsp;<span class="ident" id="6719939"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6719943">:</span>&nbsp;<span class="num" id="6719945">12345</span><span class="op" id="6719950">}</span><span class="op" id="6719951">}</span><span class="op" id="6719952">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6719956">{</span><span class="string" id="6719957">&#34;udp4&#34;</span><span class="op" id="6719963">,</span>&nbsp;<span class="op" id="6719965">&amp;</span><span class="ident" id="6719966"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6719973">{</span><span class="ident" id="6719974"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6719976">:</span>&nbsp;<span class="ident" id="6719978"><a href="/gostd/net/ip.go.html#3286541">IPv4</a></span><span class="op" id="6719982">(</span><span class="num" id="6719983">224</span><span class="op" id="6719986">,</span>&nbsp;<span class="num" id="6719988">0</span><span class="op" id="6719989">,</span>&nbsp;<span class="num" id="6719991">0</span><span class="op" id="6719992">,</span>&nbsp;<span class="num" id="6719994">254</span><span class="op" id="6719997">)</span><span class="op" id="6719998">,</span>&nbsp;<span class="ident" id="6720000"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6720004">:</span>&nbsp;<span class="num" id="6720006">12345</span><span class="op" id="6720011">}</span><span class="op" id="6720012">}</span><span class="op" id="6720013">,</span><br>
<span class="lineno"></span><span class="op" id="6720015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6720018">//&nbsp;TestIPv4MulticastListener&nbsp;tests&nbsp;both&nbsp;single&nbsp;and&nbsp;double&nbsp;listen&nbsp;to&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6720088">//&nbsp;test&nbsp;listener&nbsp;with&nbsp;same&nbsp;address&nbsp;family,&nbsp;same&nbsp;group&nbsp;address&nbsp;and&nbsp;same</span><br>
<span class="lineno">25</span><span class="comment" id="6720159">//&nbsp;port.</span><br>
<span class="lineno"></span><span class="keyword" id="6720168">func</span>&nbsp;<span class="ident" id="6720173">TestIPv4MulticastListener</span><span class="op" id="6720198">(</span><span class="ident" id="6720199">t</span>&nbsp;<span class="op" id="6720201">*</span><span class="ident" id="6720202"><a href="/gostd/net/multicast_test.go.html#6719789">testing</a></span><span class="op" id="6720209">.</span><span class="ident" id="6720210"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6720211">)</span>&nbsp;<span class="op" id="6720213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720216">switch</span>&nbsp;<span class="ident" id="6720223"><a href="/gostd/net/multicast_test.go.html#6719778">runtime</a></span><span class="op" id="6720230">.</span><span class="ident" id="6720231"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6720236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720239">case</span>&nbsp;<span class="string" id="6720244">&#34;android&#34;</span><span class="op" id="6720253">,</span>&nbsp;<span class="string" id="6720255">&#34;nacl&#34;</span><span class="op" id="6720261">,</span>&nbsp;<span class="string" id="6720263">&#34;plan9&#34;</span><span class="op" id="6720270">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6720274"><a href="/gostd/net/multicast_test.go.html#6720199">t</a></span><span class="op" id="6720275">.</span><span class="ident" id="6720276"><a href="/gostd/testing/testing.go.html#5480718">Skipf</a></span><span class="op" id="6720281">(</span><span class="string" id="6720282">&#34;skipping&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="6720303">,</span>&nbsp;<span class="ident" id="6720305"><a href="/gostd/net/multicast_test.go.html#6719778">runtime</a></span><span class="op" id="6720312">.</span><span class="ident" id="6720313"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span><span class="op" id="6720317">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720320">case</span>&nbsp;<span class="string" id="6720325">&#34;solaris&#34;</span><span class="op" id="6720334">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6720338"><a href="/gostd/net/multicast_test.go.html#6720199">t</a></span><span class="op" id="6720339">.</span><span class="ident" id="6720340"><a href="/gostd/testing/testing.go.html#5480718">Skipf</a></span><span class="op" id="6720345">(</span><span class="string" id="6720346">&#34;skipping&nbsp;test&nbsp;on&nbsp;solaris,&nbsp;see&nbsp;issue&nbsp;7399&#34;</span><span class="op" id="6720388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6720391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6720395">closer</span>&nbsp;<span class="op" id="6720402">:=</span>&nbsp;<span class="keyword" id="6720405">func</span><span class="op" id="6720409">(</span><span class="ident" id="6720410">cs</span>&nbsp;<span class="op" id="6720413">[</span><span class="op" id="6720414">]</span><span class="op" id="6720415">*</span><span class="ident" id="6720416"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6720423">)</span>&nbsp;<span class="op" id="6720425">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720429">for</span>&nbsp;<span class="ident" id="6720433">_</span><span class="op" id="6720434">,</span>&nbsp;<span class="ident" id="6720436">c</span>&nbsp;<span class="op" id="6720438">:=</span>&nbsp;<span class="keyword" id="6720441">range</span>&nbsp;<span class="ident" id="6720447"><a href="/gostd/net/multicast_test.go.html#6720410">cs</a></span>&nbsp;<span class="op" id="6720450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720455">if</span>&nbsp;<span class="ident" id="6720458"><a href="/gostd/net/multicast_test.go.html#6720436">c</a></span>&nbsp;<span class="op" id="6720460">!=</span>&nbsp;<span class="builtintype" id="6720463">nil</span>&nbsp;<span class="op" id="6720467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6720473"><a href="/gostd/net/multicast_test.go.html#6720436">c</a></span><span class="op" id="6720474">.</span><span class="ident" id="6720475"><a href="/gostd/net/net.go.html#3336674">Close</a></span><span class="op" id="6720480">(</span><span class="op" id="6720481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6720486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6720490">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6720493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720497">for</span>&nbsp;<span class="ident" id="6720501">_</span><span class="op" id="6720502">,</span>&nbsp;<span class="ident" id="6720504">ifi</span>&nbsp;<span class="op" id="6720508">:=</span>&nbsp;<span class="keyword" id="6720511">range</span>&nbsp;<span class="op" id="6720517">[</span><span class="op" id="6720518">]</span><span class="op" id="6720519">*</span><span class="ident" id="6720520"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="6720529">{</span><span class="ident" id="6720530"><a href="/gostd/net/interface_test.go.html#6670502">loopbackInterface</a></span><span class="op" id="6720547">(</span><span class="op" id="6720548">)</span><span class="op" id="6720549">,</span>&nbsp;<span class="builtintype" id="6720551">nil</span><span class="op" id="6720554">}</span>&nbsp;<span class="op" id="6720556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6720560">//&nbsp;Note&nbsp;that&nbsp;multicast&nbsp;interface&nbsp;assignment&nbsp;by&nbsp;system</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6720616">//&nbsp;is&nbsp;not&nbsp;recommended&nbsp;because&nbsp;it&nbsp;usually&nbsp;relies&nbsp;on</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6720669">//&nbsp;routing&nbsp;stuff&nbsp;for&nbsp;finding&nbsp;out&nbsp;an&nbsp;appropriate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6720719">//&nbsp;nexthop&nbsp;containing&nbsp;both&nbsp;network&nbsp;and&nbsp;link&nbsp;layer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6720771">//&nbsp;adjacencies.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720789">if</span>&nbsp;<span class="ident" id="6720792"><a href="/gostd/net/multicast_test.go.html#6720504">ifi</a></span>&nbsp;<span class="op" id="6720796">==</span>&nbsp;<span class="builtintype" id="6720799">nil</span>&nbsp;<span class="op" id="6720803">&amp;&amp;</span>&nbsp;<span class="op" id="6720806">!</span><span class="op" id="6720807">*</span><span class="ident" id="6720808"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6720821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720826">continue</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6720837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720841">for</span>&nbsp;<span class="ident" id="6720845">_</span><span class="op" id="6720846">,</span>&nbsp;<span class="ident" id="6720848">tt</span>&nbsp;<span class="op" id="6720851">:=</span>&nbsp;<span class="keyword" id="6720854">range</span>&nbsp;<span class="ident" id="6720860"><a href="/gostd/net/multicast_test.go.html#6719806">ipv4MulticastListenerTests</a></span>&nbsp;<span class="op" id="6720887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720892">var</span>&nbsp;<span class="ident" id="6720896">err</span>&nbsp;<span class="builtintype" id="6720900">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6720909">cs</span>&nbsp;<span class="op" id="6720912">:=</span>&nbsp;<span class="builtinfunc" id="6720915">make</span><span class="op" id="6720919">(</span><span class="op" id="6720920">[</span><span class="op" id="6720921">]</span><span class="op" id="6720922">*</span><span class="ident" id="6720923"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6720930">,</span>&nbsp;<span class="num" id="6720932">2</span><span class="op" id="6720933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6720938">if</span>&nbsp;<span class="ident" id="6720941"><a href="/gostd/net/multicast_test.go.html#6720909">cs</a></span><span class="op" id="6720943">[</span><span class="num" id="6720944">0</span><span class="op" id="6720945">]</span><span class="op" id="6720946">,</span>&nbsp;<span class="ident" id="6720948"><a href="/gostd/net/multicast_test.go.html#6720896">err</a></span>&nbsp;<span class="op" id="6720952">=</span>&nbsp;<span class="ident" id="6720954"><a href="/gostd/net/udpsock_posix.go.html#3393624">ListenMulticastUDP</a></span><span class="op" id="6720972">(</span><span class="ident" id="6720973"><a href="/gostd/net/multicast_test.go.html#6720848">tt</a></span><span class="op" id="6720975">.</span><span class="ident" id="6720976"><a href="/gostd/net/multicast_test.go.html#6719847">net</a></span><span class="op" id="6720979">,</span>&nbsp;<span class="ident" id="6720981"><a href="/gostd/net/multicast_test.go.html#6720504">ifi</a></span><span class="op" id="6720984">,</span>&nbsp;<span class="ident" id="6720986"><a href="/gostd/net/multicast_test.go.html#6720848">tt</a></span><span class="op" id="6720988">.</span><span class="ident" id="6720989"><a href="/gostd/net/multicast_test.go.html#6719861">gaddr</a></span><span class="op" id="6720994">)</span><span class="op" id="6720995">;</span>&nbsp;<span class="ident" id="6720997"><a href="/gostd/net/multicast_test.go.html#6720896">err</a></span>&nbsp;<span class="op" id="6721001">!=</span>&nbsp;<span class="builtintype" id="6721004">nil</span>&nbsp;<span class="op" id="6721008">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721014"><a href="/gostd/net/multicast_test.go.html#6720199">t</a></span><span class="op" id="6721015">.</span><span class="ident" id="6721016"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6721022">(</span><span class="string" id="6721023">&#34;First&nbsp;ListenMulticastUDP&nbsp;on&nbsp;%v&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6721066">,</span>&nbsp;<span class="ident" id="6721068"><a href="/gostd/net/multicast_test.go.html#6720504">ifi</a></span><span class="op" id="6721071">,</span>&nbsp;<span class="ident" id="6721073"><a href="/gostd/net/multicast_test.go.html#6720896">err</a></span><span class="op" id="6721076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6721086">if</span>&nbsp;<span class="ident" id="6721089">err</span>&nbsp;<span class="op" id="6721093">:=</span>&nbsp;<span class="ident" id="6721096"><a href="/gostd/net/multicast_test.go.html#6723888">checkMulticastListener</a></span><span class="op" id="6721118">(</span><span class="ident" id="6721119"><a href="/gostd/net/multicast_test.go.html#6720909">cs</a></span><span class="op" id="6721121">[</span><span class="num" id="6721122">0</span><span class="op" id="6721123">]</span><span class="op" id="6721124">,</span>&nbsp;<span class="ident" id="6721126"><a href="/gostd/net/multicast_test.go.html#6720848">tt</a></span><span class="op" id="6721128">.</span><span class="ident" id="6721129"><a href="/gostd/net/multicast_test.go.html#6719861">gaddr</a></span><span class="op" id="6721134">.</span><span class="ident" id="6721135"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6721137">)</span><span class="op" id="6721138">;</span>&nbsp;<span class="ident" id="6721140"><a href="/gostd/net/multicast_test.go.html#6721089">err</a></span>&nbsp;<span class="op" id="6721144">!=</span>&nbsp;<span class="builtintype" id="6721147">nil</span>&nbsp;<span class="op" id="6721151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721157"><a href="/gostd/net/multicast_test.go.html#6720395">closer</a></span><span class="op" id="6721163">(</span><span class="ident" id="6721164"><a href="/gostd/net/multicast_test.go.html#6720909">cs</a></span><span class="op" id="6721166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721172"><a href="/gostd/net/multicast_test.go.html#6720199">t</a></span><span class="op" id="6721173">.</span><span class="ident" id="6721174"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6721179">(</span><span class="ident" id="6721180"><a href="/gostd/net/multicast_test.go.html#6721089">err</a></span><span class="op" id="6721183">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6721193">if</span>&nbsp;<span class="ident" id="6721196"><a href="/gostd/net/multicast_test.go.html#6720909">cs</a></span><span class="op" id="6721198">[</span><span class="num" id="6721199">1</span><span class="op" id="6721200">]</span><span class="op" id="6721201">,</span>&nbsp;<span class="ident" id="6721203"><a href="/gostd/net/multicast_test.go.html#6720896">err</a></span>&nbsp;<span class="op" id="6721207">=</span>&nbsp;<span class="ident" id="6721209"><a href="/gostd/net/udpsock_posix.go.html#3393624">ListenMulticastUDP</a></span><span class="op" id="6721227">(</span><span class="ident" id="6721228"><a href="/gostd/net/multicast_test.go.html#6720848">tt</a></span><span class="op" id="6721230">.</span><span class="ident" id="6721231"><a href="/gostd/net/multicast_test.go.html#6719847">net</a></span><span class="op" id="6721234">,</span>&nbsp;<span class="ident" id="6721236"><a href="/gostd/net/multicast_test.go.html#6720504">ifi</a></span><span class="op" id="6721239">,</span>&nbsp;<span class="ident" id="6721241"><a href="/gostd/net/multicast_test.go.html#6720848">tt</a></span><span class="op" id="6721243">.</span><span class="ident" id="6721244"><a href="/gostd/net/multicast_test.go.html#6719861">gaddr</a></span><span class="op" id="6721249">)</span><span class="op" id="6721250">;</span>&nbsp;<span class="ident" id="6721252"><a href="/gostd/net/multicast_test.go.html#6720896">err</a></span>&nbsp;<span class="op" id="6721256">!=</span>&nbsp;<span class="builtintype" id="6721259">nil</span>&nbsp;<span class="op" id="6721263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721269"><a href="/gostd/net/multicast_test.go.html#6720395">closer</a></span><span class="op" id="6721275">(</span><span class="ident" id="6721276"><a href="/gostd/net/multicast_test.go.html#6720909">cs</a></span><span class="op" id="6721278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721284"><a href="/gostd/net/multicast_test.go.html#6720199">t</a></span><span class="op" id="6721285">.</span><span class="ident" id="6721286"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6721292">(</span><span class="string" id="6721293">&#34;Second&nbsp;ListenMulticastUDP&nbsp;on&nbsp;%v&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6721337">,</span>&nbsp;<span class="ident" id="6721339"><a href="/gostd/net/multicast_test.go.html#6720504">ifi</a></span><span class="op" id="6721342">,</span>&nbsp;<span class="ident" id="6721344"><a href="/gostd/net/multicast_test.go.html#6720896">err</a></span><span class="op" id="6721347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721352">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6721357">if</span>&nbsp;<span class="ident" id="6721360">err</span>&nbsp;<span class="op" id="6721364">:=</span>&nbsp;<span class="ident" id="6721367"><a href="/gostd/net/multicast_test.go.html#6723888">checkMulticastListener</a></span><span class="op" id="6721389">(</span><span class="ident" id="6721390"><a href="/gostd/net/multicast_test.go.html#6720909">cs</a></span><span class="op" id="6721392">[</span><span class="num" id="6721393">1</span><span class="op" id="6721394">]</span><span class="op" id="6721395">,</span>&nbsp;<span class="ident" id="6721397"><a href="/gostd/net/multicast_test.go.html#6720848">tt</a></span><span class="op" id="6721399">.</span><span class="ident" id="6721400"><a href="/gostd/net/multicast_test.go.html#6719861">gaddr</a></span><span class="op" id="6721405">.</span><span class="ident" id="6721406"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6721408">)</span><span class="op" id="6721409">;</span>&nbsp;<span class="ident" id="6721411"><a href="/gostd/net/multicast_test.go.html#6721360">err</a></span>&nbsp;<span class="op" id="6721415">!=</span>&nbsp;<span class="builtintype" id="6721418">nil</span>&nbsp;<span class="op" id="6721422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721428"><a href="/gostd/net/multicast_test.go.html#6720395">closer</a></span><span class="op" id="6721434">(</span><span class="ident" id="6721435"><a href="/gostd/net/multicast_test.go.html#6720909">cs</a></span><span class="op" id="6721437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721443"><a href="/gostd/net/multicast_test.go.html#6720199">t</a></span><span class="op" id="6721444">.</span><span class="ident" id="6721445"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6721450">(</span><span class="ident" id="6721451"><a href="/gostd/net/multicast_test.go.html#6721360">err</a></span><span class="op" id="6721454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721464"><a href="/gostd/net/multicast_test.go.html#6720395">closer</a></span><span class="op" id="6721470">(</span><span class="ident" id="6721471"><a href="/gostd/net/multicast_test.go.html#6720909">cs</a></span><span class="op" id="6721473">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721480">}</span><br>
<span class="lineno"></span><span class="op" id="6721482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6721485">var</span>&nbsp;<span class="ident" id="6721489">ipv6MulticastListenerTests</span>&nbsp;<span class="op" id="6721516">=</span>&nbsp;<span class="op" id="6721518">[</span><span class="op" id="6721519">]</span><span class="keyword" id="6721520">struct</span>&nbsp;<span class="op" id="6721527">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721530">net</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6721536">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6721544">gaddr</span>&nbsp;<span class="op" id="6721550">*</span><span class="ident" id="6721551"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span>&nbsp;<span class="comment" id="6721559">//&nbsp;see&nbsp;RFC&nbsp;4727</span><br>
<span class="lineno"></span><span class="op" id="6721575">}</span><span class="op" id="6721576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721579">{</span><span class="string" id="6721580">&#34;udp&#34;</span><span class="op" id="6721585">,</span>&nbsp;<span class="op" id="6721587">&amp;</span><span class="ident" id="6721588"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6721595">{</span><span class="ident" id="6721596"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6721598">:</span>&nbsp;<span class="ident" id="6721600"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6721607">(</span><span class="string" id="6721608">&#34;ff01::114&#34;</span><span class="op" id="6721619">)</span><span class="op" id="6721620">,</span>&nbsp;<span class="ident" id="6721622"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6721626">:</span>&nbsp;<span class="num" id="6721628">12345</span><span class="op" id="6721633">}</span><span class="op" id="6721634">}</span><span class="op" id="6721635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721638">{</span><span class="string" id="6721639">&#34;udp&#34;</span><span class="op" id="6721644">,</span>&nbsp;<span class="op" id="6721646">&amp;</span><span class="ident" id="6721647"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6721654">{</span><span class="ident" id="6721655"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6721657">:</span>&nbsp;<span class="ident" id="6721659"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6721666">(</span><span class="string" id="6721667">&#34;ff02::114&#34;</span><span class="op" id="6721678">)</span><span class="op" id="6721679">,</span>&nbsp;<span class="ident" id="6721681"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6721685">:</span>&nbsp;<span class="num" id="6721687">12345</span><span class="op" id="6721692">}</span><span class="op" id="6721693">}</span><span class="op" id="6721694">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721697">{</span><span class="string" id="6721698">&#34;udp&#34;</span><span class="op" id="6721703">,</span>&nbsp;<span class="op" id="6721705">&amp;</span><span class="ident" id="6721706"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6721713">{</span><span class="ident" id="6721714"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6721716">:</span>&nbsp;<span class="ident" id="6721718"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6721725">(</span><span class="string" id="6721726">&#34;ff04::114&#34;</span><span class="op" id="6721737">)</span><span class="op" id="6721738">,</span>&nbsp;<span class="ident" id="6721740"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6721744">:</span>&nbsp;<span class="num" id="6721746">12345</span><span class="op" id="6721751">}</span><span class="op" id="6721752">}</span><span class="op" id="6721753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721756">{</span><span class="string" id="6721757">&#34;udp&#34;</span><span class="op" id="6721762">,</span>&nbsp;<span class="op" id="6721764">&amp;</span><span class="ident" id="6721765"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6721772">{</span><span class="ident" id="6721773"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6721775">:</span>&nbsp;<span class="ident" id="6721777"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6721784">(</span><span class="string" id="6721785">&#34;ff05::114&#34;</span><span class="op" id="6721796">)</span><span class="op" id="6721797">,</span>&nbsp;<span class="ident" id="6721799"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6721803">:</span>&nbsp;<span class="num" id="6721805">12345</span><span class="op" id="6721810">}</span><span class="op" id="6721811">}</span><span class="op" id="6721812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721815">{</span><span class="string" id="6721816">&#34;udp&#34;</span><span class="op" id="6721821">,</span>&nbsp;<span class="op" id="6721823">&amp;</span><span class="ident" id="6721824"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6721831">{</span><span class="ident" id="6721832"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6721834">:</span>&nbsp;<span class="ident" id="6721836"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6721843">(</span><span class="string" id="6721844">&#34;ff08::114&#34;</span><span class="op" id="6721855">)</span><span class="op" id="6721856">,</span>&nbsp;<span class="ident" id="6721858"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6721862">:</span>&nbsp;<span class="num" id="6721864">12345</span><span class="op" id="6721869">}</span><span class="op" id="6721870">}</span><span class="op" id="6721871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721874">{</span><span class="string" id="6721875">&#34;udp&#34;</span><span class="op" id="6721880">,</span>&nbsp;<span class="op" id="6721882">&amp;</span><span class="ident" id="6721883"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6721890">{</span><span class="ident" id="6721891"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6721893">:</span>&nbsp;<span class="ident" id="6721895"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6721902">(</span><span class="string" id="6721903">&#34;ff0e::114&#34;</span><span class="op" id="6721914">)</span><span class="op" id="6721915">,</span>&nbsp;<span class="ident" id="6721917"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6721921">:</span>&nbsp;<span class="num" id="6721923">12345</span><span class="op" id="6721928">}</span><span class="op" id="6721929">}</span><span class="op" id="6721930">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721934">{</span><span class="string" id="6721935">&#34;udp6&#34;</span><span class="op" id="6721941">,</span>&nbsp;<span class="op" id="6721943">&amp;</span><span class="ident" id="6721944"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6721951">{</span><span class="ident" id="6721952"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6721954">:</span>&nbsp;<span class="ident" id="6721956"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6721963">(</span><span class="string" id="6721964">&#34;ff01::114&#34;</span><span class="op" id="6721975">)</span><span class="op" id="6721976">,</span>&nbsp;<span class="ident" id="6721978"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6721982">:</span>&nbsp;<span class="num" id="6721984">12345</span><span class="op" id="6721989">}</span><span class="op" id="6721990">}</span><span class="op" id="6721991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6721994">{</span><span class="string" id="6721995">&#34;udp6&#34;</span><span class="op" id="6722001">,</span>&nbsp;<span class="op" id="6722003">&amp;</span><span class="ident" id="6722004"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6722011">{</span><span class="ident" id="6722012"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6722014">:</span>&nbsp;<span class="ident" id="6722016"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6722023">(</span><span class="string" id="6722024">&#34;ff02::114&#34;</span><span class="op" id="6722035">)</span><span class="op" id="6722036">,</span>&nbsp;<span class="ident" id="6722038"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6722042">:</span>&nbsp;<span class="num" id="6722044">12345</span><span class="op" id="6722049">}</span><span class="op" id="6722050">}</span><span class="op" id="6722051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722054">{</span><span class="string" id="6722055">&#34;udp6&#34;</span><span class="op" id="6722061">,</span>&nbsp;<span class="op" id="6722063">&amp;</span><span class="ident" id="6722064"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6722071">{</span><span class="ident" id="6722072"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6722074">:</span>&nbsp;<span class="ident" id="6722076"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6722083">(</span><span class="string" id="6722084">&#34;ff04::114&#34;</span><span class="op" id="6722095">)</span><span class="op" id="6722096">,</span>&nbsp;<span class="ident" id="6722098"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6722102">:</span>&nbsp;<span class="num" id="6722104">12345</span><span class="op" id="6722109">}</span><span class="op" id="6722110">}</span><span class="op" id="6722111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722114">{</span><span class="string" id="6722115">&#34;udp6&#34;</span><span class="op" id="6722121">,</span>&nbsp;<span class="op" id="6722123">&amp;</span><span class="ident" id="6722124"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6722131">{</span><span class="ident" id="6722132"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6722134">:</span>&nbsp;<span class="ident" id="6722136"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6722143">(</span><span class="string" id="6722144">&#34;ff05::114&#34;</span><span class="op" id="6722155">)</span><span class="op" id="6722156">,</span>&nbsp;<span class="ident" id="6722158"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6722162">:</span>&nbsp;<span class="num" id="6722164">12345</span><span class="op" id="6722169">}</span><span class="op" id="6722170">}</span><span class="op" id="6722171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722174">{</span><span class="string" id="6722175">&#34;udp6&#34;</span><span class="op" id="6722181">,</span>&nbsp;<span class="op" id="6722183">&amp;</span><span class="ident" id="6722184"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6722191">{</span><span class="ident" id="6722192"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6722194">:</span>&nbsp;<span class="ident" id="6722196"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6722203">(</span><span class="string" id="6722204">&#34;ff08::114&#34;</span><span class="op" id="6722215">)</span><span class="op" id="6722216">,</span>&nbsp;<span class="ident" id="6722218"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6722222">:</span>&nbsp;<span class="num" id="6722224">12345</span><span class="op" id="6722229">}</span><span class="op" id="6722230">}</span><span class="op" id="6722231">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722234">{</span><span class="string" id="6722235">&#34;udp6&#34;</span><span class="op" id="6722241">,</span>&nbsp;<span class="op" id="6722243">&amp;</span><span class="ident" id="6722244"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6722251">{</span><span class="ident" id="6722252"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6722254">:</span>&nbsp;<span class="ident" id="6722256"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6722263">(</span><span class="string" id="6722264">&#34;ff0e::114&#34;</span><span class="op" id="6722275">)</span><span class="op" id="6722276">,</span>&nbsp;<span class="ident" id="6722278"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span><span class="op" id="6722282">:</span>&nbsp;<span class="num" id="6722284">12345</span><span class="op" id="6722289">}</span><span class="op" id="6722290">}</span><span class="op" id="6722291">,</span><br>
<span class="lineno"></span><span class="op" id="6722293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6722296">//&nbsp;TestIPv6MulticastListener&nbsp;tests&nbsp;both&nbsp;single&nbsp;and&nbsp;double&nbsp;listen&nbsp;to&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6722366">//&nbsp;test&nbsp;listener&nbsp;with&nbsp;same&nbsp;address&nbsp;family,&nbsp;same&nbsp;group&nbsp;address&nbsp;and&nbsp;same</span><br>
<span class="lineno">95</span><span class="comment" id="6722437">//&nbsp;port.</span><br>
<span class="lineno"></span><span class="keyword" id="6722446">func</span>&nbsp;<span class="ident" id="6722451">TestIPv6MulticastListener</span><span class="op" id="6722476">(</span><span class="ident" id="6722477">t</span>&nbsp;<span class="op" id="6722479">*</span><span class="ident" id="6722480"><a href="/gostd/net/multicast_test.go.html#6719789">testing</a></span><span class="op" id="6722487">.</span><span class="ident" id="6722488"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6722489">)</span>&nbsp;<span class="op" id="6722491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6722494">switch</span>&nbsp;<span class="ident" id="6722501"><a href="/gostd/net/multicast_test.go.html#6719778">runtime</a></span><span class="op" id="6722508">.</span><span class="ident" id="6722509"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6722514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6722517">case</span>&nbsp;<span class="string" id="6722522">&#34;plan9&#34;</span><span class="op" id="6722529">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6722533"><a href="/gostd/net/multicast_test.go.html#6722477">t</a></span><span class="op" id="6722534">.</span><span class="ident" id="6722535"><a href="/gostd/testing/testing.go.html#5480718">Skipf</a></span><span class="op" id="6722540">(</span><span class="string" id="6722541">&#34;skipping&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="6722562">,</span>&nbsp;<span class="ident" id="6722564"><a href="/gostd/net/multicast_test.go.html#6719778">runtime</a></span><span class="op" id="6722571">.</span><span class="ident" id="6722572"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span><span class="op" id="6722576">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6722579">case</span>&nbsp;<span class="string" id="6722584">&#34;solaris&#34;</span><span class="op" id="6722593">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6722597"><a href="/gostd/net/multicast_test.go.html#6722477">t</a></span><span class="op" id="6722598">.</span><span class="ident" id="6722599"><a href="/gostd/testing/testing.go.html#5480718">Skipf</a></span><span class="op" id="6722604">(</span><span class="string" id="6722605">&#34;skipping&nbsp;test&nbsp;on&nbsp;solaris,&nbsp;see&nbsp;issue&nbsp;7399&#34;</span><span class="op" id="6722647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6722653">if</span>&nbsp;<span class="op" id="6722656">!</span><span class="ident" id="6722657"><a href="/gostd/net/ipsock.go.html#3309710">supportsIPv6</a></span>&nbsp;<span class="op" id="6722670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6722674"><a href="/gostd/net/multicast_test.go.html#6722477">t</a></span><span class="op" id="6722675">.</span><span class="ident" id="6722676"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6722680">(</span><span class="string" id="6722681">&#34;ipv6&nbsp;is&nbsp;not&nbsp;supported&#34;</span><span class="op" id="6722704">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6722710">if</span>&nbsp;<span class="ident" id="6722713"><a href="/gostd/net/multicast_test.go.html#6719772">os</a></span><span class="op" id="6722715">.</span><span class="ident" id="6722716"><a href="/gostd/os/proc.go.html#2468979">Getuid</a></span><span class="op" id="6722722">(</span><span class="op" id="6722723">)</span>&nbsp;<span class="op" id="6722725">!=</span>&nbsp;<span class="num" id="6722728">0</span>&nbsp;<span class="op" id="6722730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6722734"><a href="/gostd/net/multicast_test.go.html#6722477">t</a></span><span class="op" id="6722735">.</span><span class="ident" id="6722736"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6722740">(</span><span class="string" id="6722741">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="6722770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6722777">closer</span>&nbsp;<span class="op" id="6722784">:=</span>&nbsp;<span class="keyword" id="6722787">func</span><span class="op" id="6722791">(</span><span class="ident" id="6722792">cs</span>&nbsp;<span class="op" id="6722795">[</span><span class="op" id="6722796">]</span><span class="op" id="6722797">*</span><span class="ident" id="6722798"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6722805">)</span>&nbsp;<span class="op" id="6722807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6722811">for</span>&nbsp;<span class="ident" id="6722815">_</span><span class="op" id="6722816">,</span>&nbsp;<span class="ident" id="6722818">c</span>&nbsp;<span class="op" id="6722820">:=</span>&nbsp;<span class="keyword" id="6722823">range</span>&nbsp;<span class="ident" id="6722829"><a href="/gostd/net/multicast_test.go.html#6722792">cs</a></span>&nbsp;<span class="op" id="6722832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6722837">if</span>&nbsp;<span class="ident" id="6722840"><a href="/gostd/net/multicast_test.go.html#6722818">c</a></span>&nbsp;<span class="op" id="6722842">!=</span>&nbsp;<span class="builtintype" id="6722845">nil</span>&nbsp;<span class="op" id="6722849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6722855"><a href="/gostd/net/multicast_test.go.html#6722818">c</a></span><span class="op" id="6722856">.</span><span class="ident" id="6722857"><a href="/gostd/net/net.go.html#3336674">Close</a></span><span class="op" id="6722862">(</span><span class="op" id="6722863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722868">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6722875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6722879">for</span>&nbsp;<span class="ident" id="6722883">_</span><span class="op" id="6722884">,</span>&nbsp;<span class="ident" id="6722886">ifi</span>&nbsp;<span class="op" id="6722890">:=</span>&nbsp;<span class="keyword" id="6722893">range</span>&nbsp;<span class="op" id="6722899">[</span><span class="op" id="6722900">]</span><span class="op" id="6722901">*</span><span class="ident" id="6722902"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="6722911">{</span><span class="ident" id="6722912"><a href="/gostd/net/interface_test.go.html#6670502">loopbackInterface</a></span><span class="op" id="6722929">(</span><span class="op" id="6722930">)</span><span class="op" id="6722931">,</span>&nbsp;<span class="builtintype" id="6722933">nil</span><span class="op" id="6722936">}</span>&nbsp;<span class="op" id="6722938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6722942">//&nbsp;Note&nbsp;that&nbsp;multicast&nbsp;interface&nbsp;assignment&nbsp;by&nbsp;system</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6722998">//&nbsp;is&nbsp;not&nbsp;recommended&nbsp;because&nbsp;it&nbsp;usually&nbsp;relies&nbsp;on</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6723051">//&nbsp;routing&nbsp;stuff&nbsp;for&nbsp;finding&nbsp;out&nbsp;an&nbsp;appropriate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6723101">//&nbsp;nexthop&nbsp;containing&nbsp;both&nbsp;network&nbsp;and&nbsp;link&nbsp;layer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6723153">//&nbsp;adjacencies.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723171">if</span>&nbsp;<span class="ident" id="6723174"><a href="/gostd/net/multicast_test.go.html#6722886">ifi</a></span>&nbsp;<span class="op" id="6723178">==</span>&nbsp;<span class="builtintype" id="6723181">nil</span>&nbsp;<span class="op" id="6723185">&amp;&amp;</span>&nbsp;<span class="op" id="6723188">(</span><span class="op" id="6723189">!</span><span class="op" id="6723190">*</span><span class="ident" id="6723191"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6723204">||</span>&nbsp;<span class="op" id="6723207">!</span><span class="op" id="6723208">*</span><span class="ident" id="6723209"><a href="/gostd/net/dialgoogle_test.go.html#6635216">testIPv6</a></span><span class="op" id="6723217">)</span>&nbsp;<span class="op" id="6723219">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723224">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6723235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723239">for</span>&nbsp;<span class="ident" id="6723243">_</span><span class="op" id="6723244">,</span>&nbsp;<span class="ident" id="6723246">tt</span>&nbsp;<span class="op" id="6723249">:=</span>&nbsp;<span class="keyword" id="6723252">range</span>&nbsp;<span class="ident" id="6723258"><a href="/gostd/net/multicast_test.go.html#6721489">ipv6MulticastListenerTests</a></span>&nbsp;<span class="op" id="6723285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723290">var</span>&nbsp;<span class="ident" id="6723294">err</span>&nbsp;<span class="builtintype" id="6723298">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6723307">cs</span>&nbsp;<span class="op" id="6723310">:=</span>&nbsp;<span class="builtinfunc" id="6723313">make</span><span class="op" id="6723317">(</span><span class="op" id="6723318">[</span><span class="op" id="6723319">]</span><span class="op" id="6723320">*</span><span class="ident" id="6723321"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6723328">,</span>&nbsp;<span class="num" id="6723330">2</span><span class="op" id="6723331">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723336">if</span>&nbsp;<span class="ident" id="6723339"><a href="/gostd/net/multicast_test.go.html#6723307">cs</a></span><span class="op" id="6723341">[</span><span class="num" id="6723342">0</span><span class="op" id="6723343">]</span><span class="op" id="6723344">,</span>&nbsp;<span class="ident" id="6723346"><a href="/gostd/net/multicast_test.go.html#6723294">err</a></span>&nbsp;<span class="op" id="6723350">=</span>&nbsp;<span class="ident" id="6723352"><a href="/gostd/net/udpsock_posix.go.html#3393624">ListenMulticastUDP</a></span><span class="op" id="6723370">(</span><span class="ident" id="6723371"><a href="/gostd/net/multicast_test.go.html#6723246">tt</a></span><span class="op" id="6723373">.</span><span class="ident" id="6723374"><a href="/gostd/net/multicast_test.go.html#6721530">net</a></span><span class="op" id="6723377">,</span>&nbsp;<span class="ident" id="6723379"><a href="/gostd/net/multicast_test.go.html#6722886">ifi</a></span><span class="op" id="6723382">,</span>&nbsp;<span class="ident" id="6723384"><a href="/gostd/net/multicast_test.go.html#6723246">tt</a></span><span class="op" id="6723386">.</span><span class="ident" id="6723387"><a href="/gostd/net/multicast_test.go.html#6721544">gaddr</a></span><span class="op" id="6723392">)</span><span class="op" id="6723393">;</span>&nbsp;<span class="ident" id="6723395"><a href="/gostd/net/multicast_test.go.html#6723294">err</a></span>&nbsp;<span class="op" id="6723399">!=</span>&nbsp;<span class="builtintype" id="6723402">nil</span>&nbsp;<span class="op" id="6723406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6723412"><a href="/gostd/net/multicast_test.go.html#6722477">t</a></span><span class="op" id="6723413">.</span><span class="ident" id="6723414"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6723420">(</span><span class="string" id="6723421">&#34;First&nbsp;ListenMulticastUDP&nbsp;on&nbsp;%v&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6723464">,</span>&nbsp;<span class="ident" id="6723466"><a href="/gostd/net/multicast_test.go.html#6722886">ifi</a></span><span class="op" id="6723469">,</span>&nbsp;<span class="ident" id="6723471"><a href="/gostd/net/multicast_test.go.html#6723294">err</a></span><span class="op" id="6723474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6723479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723484">if</span>&nbsp;<span class="ident" id="6723487">err</span>&nbsp;<span class="op" id="6723491">:=</span>&nbsp;<span class="ident" id="6723494"><a href="/gostd/net/multicast_test.go.html#6723888">checkMulticastListener</a></span><span class="op" id="6723516">(</span><span class="ident" id="6723517"><a href="/gostd/net/multicast_test.go.html#6723307">cs</a></span><span class="op" id="6723519">[</span><span class="num" id="6723520">0</span><span class="op" id="6723521">]</span><span class="op" id="6723522">,</span>&nbsp;<span class="ident" id="6723524"><a href="/gostd/net/multicast_test.go.html#6723246">tt</a></span><span class="op" id="6723526">.</span><span class="ident" id="6723527"><a href="/gostd/net/multicast_test.go.html#6721544">gaddr</a></span><span class="op" id="6723532">.</span><span class="ident" id="6723533"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6723535">)</span><span class="op" id="6723536">;</span>&nbsp;<span class="ident" id="6723538"><a href="/gostd/net/multicast_test.go.html#6723487">err</a></span>&nbsp;<span class="op" id="6723542">!=</span>&nbsp;<span class="builtintype" id="6723545">nil</span>&nbsp;<span class="op" id="6723549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6723555"><a href="/gostd/net/multicast_test.go.html#6722777">closer</a></span><span class="op" id="6723561">(</span><span class="ident" id="6723562"><a href="/gostd/net/multicast_test.go.html#6723307">cs</a></span><span class="op" id="6723564">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6723570"><a href="/gostd/net/multicast_test.go.html#6722477">t</a></span><span class="op" id="6723571">.</span><span class="ident" id="6723572"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6723577">(</span><span class="ident" id="6723578"><a href="/gostd/net/multicast_test.go.html#6723487">err</a></span><span class="op" id="6723581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6723586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723591">if</span>&nbsp;<span class="ident" id="6723594"><a href="/gostd/net/multicast_test.go.html#6723307">cs</a></span><span class="op" id="6723596">[</span><span class="num" id="6723597">1</span><span class="op" id="6723598">]</span><span class="op" id="6723599">,</span>&nbsp;<span class="ident" id="6723601"><a href="/gostd/net/multicast_test.go.html#6723294">err</a></span>&nbsp;<span class="op" id="6723605">=</span>&nbsp;<span class="ident" id="6723607"><a href="/gostd/net/udpsock_posix.go.html#3393624">ListenMulticastUDP</a></span><span class="op" id="6723625">(</span><span class="ident" id="6723626"><a href="/gostd/net/multicast_test.go.html#6723246">tt</a></span><span class="op" id="6723628">.</span><span class="ident" id="6723629"><a href="/gostd/net/multicast_test.go.html#6721530">net</a></span><span class="op" id="6723632">,</span>&nbsp;<span class="ident" id="6723634"><a href="/gostd/net/multicast_test.go.html#6722886">ifi</a></span><span class="op" id="6723637">,</span>&nbsp;<span class="ident" id="6723639"><a href="/gostd/net/multicast_test.go.html#6723246">tt</a></span><span class="op" id="6723641">.</span><span class="ident" id="6723642"><a href="/gostd/net/multicast_test.go.html#6721544">gaddr</a></span><span class="op" id="6723647">)</span><span class="op" id="6723648">;</span>&nbsp;<span class="ident" id="6723650"><a href="/gostd/net/multicast_test.go.html#6723294">err</a></span>&nbsp;<span class="op" id="6723654">!=</span>&nbsp;<span class="builtintype" id="6723657">nil</span>&nbsp;<span class="op" id="6723661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6723667"><a href="/gostd/net/multicast_test.go.html#6722777">closer</a></span><span class="op" id="6723673">(</span><span class="ident" id="6723674"><a href="/gostd/net/multicast_test.go.html#6723307">cs</a></span><span class="op" id="6723676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6723682"><a href="/gostd/net/multicast_test.go.html#6722477">t</a></span><span class="op" id="6723683">.</span><span class="ident" id="6723684"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6723690">(</span><span class="string" id="6723691">&#34;Second&nbsp;ListenMulticastUDP&nbsp;on&nbsp;%v&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6723735">,</span>&nbsp;<span class="ident" id="6723737"><a href="/gostd/net/multicast_test.go.html#6722886">ifi</a></span><span class="op" id="6723740">,</span>&nbsp;<span class="ident" id="6723742"><a href="/gostd/net/multicast_test.go.html#6723294">err</a></span><span class="op" id="6723745">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6723750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723755">if</span>&nbsp;<span class="ident" id="6723758">err</span>&nbsp;<span class="op" id="6723762">:=</span>&nbsp;<span class="ident" id="6723765"><a href="/gostd/net/multicast_test.go.html#6723888">checkMulticastListener</a></span><span class="op" id="6723787">(</span><span class="ident" id="6723788"><a href="/gostd/net/multicast_test.go.html#6723307">cs</a></span><span class="op" id="6723790">[</span><span class="num" id="6723791">1</span><span class="op" id="6723792">]</span><span class="op" id="6723793">,</span>&nbsp;<span class="ident" id="6723795"><a href="/gostd/net/multicast_test.go.html#6723246">tt</a></span><span class="op" id="6723797">.</span><span class="ident" id="6723798"><a href="/gostd/net/multicast_test.go.html#6721544">gaddr</a></span><span class="op" id="6723803">.</span><span class="ident" id="6723804"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6723806">)</span><span class="op" id="6723807">;</span>&nbsp;<span class="ident" id="6723809"><a href="/gostd/net/multicast_test.go.html#6723758">err</a></span>&nbsp;<span class="op" id="6723813">!=</span>&nbsp;<span class="builtintype" id="6723816">nil</span>&nbsp;<span class="op" id="6723820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6723826"><a href="/gostd/net/multicast_test.go.html#6722777">closer</a></span><span class="op" id="6723832">(</span><span class="ident" id="6723833"><a href="/gostd/net/multicast_test.go.html#6723307">cs</a></span><span class="op" id="6723835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6723841"><a href="/gostd/net/multicast_test.go.html#6722477">t</a></span><span class="op" id="6723842">.</span><span class="ident" id="6723843"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6723848">(</span><span class="ident" id="6723849"><a href="/gostd/net/multicast_test.go.html#6723758">err</a></span><span class="op" id="6723852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6723857">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6723862"><a href="/gostd/net/multicast_test.go.html#6722777">closer</a></span><span class="op" id="6723868">(</span><span class="ident" id="6723869"><a href="/gostd/net/multicast_test.go.html#6723307">cs</a></span><span class="op" id="6723871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6723875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6723878">}</span><br>
<span class="lineno"></span><span class="op" id="6723880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="6723883">func</span>&nbsp;<span class="ident" id="6723888">checkMulticastListener</span><span class="op" id="6723910">(</span><span class="ident" id="6723911">c</span>&nbsp;<span class="op" id="6723913">*</span><span class="ident" id="6723914"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6723921">,</span>&nbsp;<span class="ident" id="6723923">ip</span>&nbsp;<span class="ident" id="6723926"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="6723928">)</span>&nbsp;<span class="builtintype" id="6723930">error</span>&nbsp;<span class="op" id="6723936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723939">if</span>&nbsp;<span class="ident" id="6723942">ok</span><span class="op" id="6723944">,</span>&nbsp;<span class="ident" id="6723946">err</span>&nbsp;<span class="op" id="6723950">:=</span>&nbsp;<span class="ident" id="6723953"><a href="/gostd/net/multicast_test.go.html#6724273">multicastRIBContains</a></span><span class="op" id="6723973">(</span><span class="ident" id="6723974"><a href="/gostd/net/multicast_test.go.html#6723923">ip</a></span><span class="op" id="6723976">)</span><span class="op" id="6723977">;</span>&nbsp;<span class="ident" id="6723979"><a href="/gostd/net/multicast_test.go.html#6723946">err</a></span>&nbsp;<span class="op" id="6723983">!=</span>&nbsp;<span class="builtintype" id="6723986">nil</span>&nbsp;<span class="op" id="6723990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6723994">return</span>&nbsp;<span class="ident" id="6724001"><a href="/gostd/net/multicast_test.go.html#6723946">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724006">}</span>&nbsp;<span class="keyword" id="6724008">else</span>&nbsp;<span class="keyword" id="6724013">if</span>&nbsp;<span class="op" id="6724016">!</span><span class="ident" id="6724017"><a href="/gostd/net/multicast_test.go.html#6723942">ok</a></span>&nbsp;<span class="op" id="6724020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724024">return</span>&nbsp;<span class="ident" id="6724031"><a href="/gostd/net/multicast_test.go.html#6719765">fmt</a></span><span class="op" id="6724034">.</span><span class="ident" id="6724035"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="6724041">(</span><span class="string" id="6724042">&#34;%q&nbsp;not&nbsp;found&nbsp;in&nbsp;multicast&nbsp;RIB&#34;</span><span class="op" id="6724073">,</span>&nbsp;<span class="ident" id="6724075"><a href="/gostd/net/multicast_test.go.html#6723923">ip</a></span><span class="op" id="6724077">.</span><span class="ident" id="6724078"><a href="/gostd/net/ip.go.html#3291839">String</a></span><span class="op" id="6724084">(</span><span class="op" id="6724085">)</span><span class="op" id="6724086">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6724092">la</span>&nbsp;<span class="op" id="6724095">:=</span>&nbsp;<span class="ident" id="6724098"><a href="/gostd/net/multicast_test.go.html#6723911">c</a></span><span class="op" id="6724099">.</span><span class="ident" id="6724100"><a href="/gostd/net/net.go.html#3336818">LocalAddr</a></span><span class="op" id="6724109">(</span><span class="op" id="6724110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724113">if</span>&nbsp;<span class="ident" id="6724116">la</span><span class="op" id="6724118">,</span>&nbsp;<span class="ident" id="6724120">ok</span>&nbsp;<span class="op" id="6724123">:=</span>&nbsp;<span class="ident" id="6724126"><a href="/gostd/net/multicast_test.go.html#6724092">la</a></span><span class="op" id="6724128">.</span><span class="op" id="6724129">(</span><span class="op" id="6724130">*</span><span class="ident" id="6724131"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6724138">)</span><span class="op" id="6724139">;</span>&nbsp;<span class="op" id="6724141">!</span><span class="ident" id="6724142"><a href="/gostd/net/multicast_test.go.html#6724120">ok</a></span>&nbsp;<span class="op" id="6724145">||</span>&nbsp;<span class="ident" id="6724148"><a href="/gostd/net/multicast_test.go.html#6724116">la</a></span><span class="op" id="6724150">.</span><span class="ident" id="6724151"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span>&nbsp;<span class="op" id="6724156">==</span>&nbsp;<span class="num" id="6724159">0</span>&nbsp;<span class="op" id="6724161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724165">return</span>&nbsp;<span class="ident" id="6724172"><a href="/gostd/net/multicast_test.go.html#6719765">fmt</a></span><span class="op" id="6724175">.</span><span class="ident" id="6724176"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="6724182">(</span><span class="string" id="6724183">&#34;got&nbsp;%v;&nbsp;expected&nbsp;a&nbsp;proper&nbsp;address&nbsp;with&nbsp;non-zero&nbsp;port&nbsp;number&#34;</span><span class="op" id="6724244">,</span>&nbsp;<span class="ident" id="6724246"><a href="/gostd/net/multicast_test.go.html#6724116">la</a></span><span class="op" id="6724248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724251">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724254">return</span>&nbsp;<span class="builtintype" id="6724261">nil</span><br>
<span class="lineno"></span><span class="op" id="6724265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6724268">func</span>&nbsp;<span class="ident" id="6724273">multicastRIBContains</span><span class="op" id="6724293">(</span><span class="ident" id="6724294">ip</span>&nbsp;<span class="ident" id="6724297"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="6724299">)</span>&nbsp;<span class="op" id="6724301">(</span><span class="builtintype" id="6724302">bool</span><span class="op" id="6724306">,</span>&nbsp;<span class="builtintype" id="6724308">error</span><span class="op" id="6724313">)</span>&nbsp;<span class="op" id="6724315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724318">switch</span>&nbsp;<span class="ident" id="6724325"><a href="/gostd/net/multicast_test.go.html#6719778">runtime</a></span><span class="op" id="6724332">.</span><span class="ident" id="6724333"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6724338">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724341">case</span>&nbsp;<span class="string" id="6724346">&#34;dragonfly&#34;</span><span class="op" id="6724357">,</span>&nbsp;<span class="string" id="6724359">&#34;netbsd&#34;</span><span class="op" id="6724367">,</span>&nbsp;<span class="string" id="6724369">&#34;openbsd&#34;</span><span class="op" id="6724378">,</span>&nbsp;<span class="string" id="6724380">&#34;plan9&#34;</span><span class="op" id="6724387">,</span>&nbsp;<span class="string" id="6724389">&#34;solaris&#34;</span><span class="op" id="6724398">,</span>&nbsp;<span class="string" id="6724400">&#34;windows&#34;</span><span class="op" id="6724409">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724413">return</span>&nbsp;<span class="builtintype" id="6724420">true</span><span class="op" id="6724424">,</span>&nbsp;<span class="builtintype" id="6724426">nil</span>&nbsp;<span class="comment" id="6724430">//&nbsp;not&nbsp;implemented&nbsp;yet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724454">case</span>&nbsp;<span class="string" id="6724459">&#34;linux&#34;</span><span class="op" id="6724466">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724470">if</span>&nbsp;<span class="ident" id="6724473"><a href="/gostd/net/multicast_test.go.html#6719778">runtime</a></span><span class="op" id="6724480">.</span><span class="ident" id="6724481"><a href="/gostd/runtime/extern.go.html#1533781">GOARCH</a></span>&nbsp;<span class="op" id="6724488">==</span>&nbsp;<span class="string" id="6724491">&#34;arm&#34;</span>&nbsp;<span class="op" id="6724497">||</span>&nbsp;<span class="ident" id="6724500"><a href="/gostd/net/multicast_test.go.html#6719778">runtime</a></span><span class="op" id="6724507">.</span><span class="ident" id="6724508"><a href="/gostd/runtime/extern.go.html#1533781">GOARCH</a></span>&nbsp;<span class="op" id="6724515">==</span>&nbsp;<span class="string" id="6724518">&#34;alpha&#34;</span>&nbsp;<span class="op" id="6724526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724531">return</span>&nbsp;<span class="builtintype" id="6724538">true</span><span class="op" id="6724542">,</span>&nbsp;<span class="builtintype" id="6724544">nil</span>&nbsp;<span class="comment" id="6724548">//&nbsp;not&nbsp;implemented&nbsp;yet</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6724579">ift</span><span class="op" id="6724582">,</span>&nbsp;<span class="ident" id="6724584">err</span>&nbsp;<span class="op" id="6724588">:=</span>&nbsp;<span class="ident" id="6724591"><a href="/gostd/net/interface.go.html#3277043">Interfaces</a></span><span class="op" id="6724601">(</span><span class="op" id="6724602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724605">if</span>&nbsp;<span class="ident" id="6724608"><a href="/gostd/net/multicast_test.go.html#6724584">err</a></span>&nbsp;<span class="op" id="6724612">!=</span>&nbsp;<span class="builtintype" id="6724615">nil</span>&nbsp;<span class="op" id="6724619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724623">return</span>&nbsp;<span class="builtintype" id="6724630">false</span><span class="op" id="6724635">,</span>&nbsp;<span class="ident" id="6724637"><a href="/gostd/net/multicast_test.go.html#6724584">err</a></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724645">for</span>&nbsp;<span class="ident" id="6724649">_</span><span class="op" id="6724650">,</span>&nbsp;<span class="ident" id="6724652">ifi</span>&nbsp;<span class="op" id="6724656">:=</span>&nbsp;<span class="keyword" id="6724659">range</span>&nbsp;<span class="ident" id="6724665"><a href="/gostd/net/multicast_test.go.html#6724579">ift</a></span>&nbsp;<span class="op" id="6724669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6724673">ifmat</span><span class="op" id="6724678">,</span>&nbsp;<span class="ident" id="6724680">err</span>&nbsp;<span class="op" id="6724684">:=</span>&nbsp;<span class="ident" id="6724687"><a href="/gostd/net/multicast_test.go.html#6724652">ifi</a></span><span class="op" id="6724690">.</span><span class="ident" id="6724691"><a href="/gostd/net/interface.go.html#3276840">MulticastAddrs</a></span><span class="op" id="6724705">(</span><span class="op" id="6724706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724710">if</span>&nbsp;<span class="ident" id="6724713"><a href="/gostd/net/multicast_test.go.html#6724680">err</a></span>&nbsp;<span class="op" id="6724717">!=</span>&nbsp;<span class="builtintype" id="6724720">nil</span>&nbsp;<span class="op" id="6724724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724729">return</span>&nbsp;<span class="builtintype" id="6724736">false</span><span class="op" id="6724741">,</span>&nbsp;<span class="ident" id="6724743"><a href="/gostd/net/multicast_test.go.html#6724680">err</a></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724753">for</span>&nbsp;<span class="ident" id="6724757">_</span><span class="op" id="6724758">,</span>&nbsp;<span class="ident" id="6724760">ifma</span>&nbsp;<span class="op" id="6724765">:=</span>&nbsp;<span class="keyword" id="6724768">range</span>&nbsp;<span class="ident" id="6724774"><a href="/gostd/net/multicast_test.go.html#6724673">ifmat</a></span>&nbsp;<span class="op" id="6724780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724785">if</span>&nbsp;<span class="ident" id="6724788"><a href="/gostd/net/multicast_test.go.html#6724760">ifma</a></span><span class="op" id="6724792">.</span><span class="op" id="6724793">(</span><span class="op" id="6724794">*</span><span class="ident" id="6724795"><a href="/gostd/net/iprawsock.go.html#3301118">IPAddr</a></span><span class="op" id="6724801">)</span><span class="op" id="6724802">.</span><span class="ident" id="6724803"><a href="/gostd/net/iprawsock.go.html#3301135">IP</a></span><span class="op" id="6724805">.</span><span class="ident" id="6724806"><a href="/gostd/net/ip.go.html#3293893">Equal</a></span><span class="op" id="6724811">(</span><span class="ident" id="6724812"><a href="/gostd/net/multicast_test.go.html#6724294">ip</a></span><span class="op" id="6724814">)</span>&nbsp;<span class="op" id="6724816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724822">return</span>&nbsp;<span class="builtintype" id="6724829">true</span><span class="op" id="6724833">,</span>&nbsp;<span class="builtintype" id="6724835">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724842">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6724849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6724852">return</span>&nbsp;<span class="builtintype" id="6724859">false</span><span class="op" id="6724864">,</span>&nbsp;<span class="builtintype" id="6724866">nil</span><br>
<span class="lineno"></span><span class="op" id="6724870">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
