<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html" class="current">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3191756">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3191812">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3191866">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3191917">package</span>&nbsp;<span class="ident" id="3191925">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3191930">//&nbsp;UDPAddr&nbsp;represents&nbsp;the&nbsp;address&nbsp;of&nbsp;a&nbsp;UDP&nbsp;end&nbsp;point.</span><br>
<span class="lineno"></span><span class="keyword" id="3191984">type</span>&nbsp;<span class="ident" id="3191989">UDPAddr</span>&nbsp;<span class="keyword" id="3191997">struct</span>&nbsp;<span class="op" id="3192004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3192007">IP</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3192012">IP</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3192016">Port</span>&nbsp;<span class="builtintype" id="3192021">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3192026">Zone</span>&nbsp;<span class="builtintype" id="3192031">string</span>&nbsp;<span class="comment" id="3192038">//&nbsp;IPv6&nbsp;scoped&nbsp;addressing&nbsp;zone</span><br>
<span class="lineno"></span><span class="op" id="3192069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3192072">//&nbsp;Network&nbsp;returns&nbsp;the&nbsp;address&#39;s&nbsp;network&nbsp;name,&nbsp;&#34;udp&#34;.</span><br>
<span class="lineno">15</span><span class="keyword" id="3192126">func</span>&nbsp;<span class="op" id="3192131">(</span><span class="ident" id="3192132">a</span>&nbsp;<span class="op" id="3192134">*</span><span class="ident" id="3192135">UDPAddr</span><span class="op" id="3192142">)</span>&nbsp;<span class="ident" id="3192144">Network</span><span class="op" id="3192151">(</span><span class="op" id="3192152">)</span>&nbsp;<span class="builtintype" id="3192154">string</span>&nbsp;<span class="op" id="3192161">{</span>&nbsp;<span class="keyword" id="3192163">return</span>&nbsp;<span class="string" id="3192170">&#34;udp&#34;</span>&nbsp;<span class="op" id="3192176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3192179">func</span>&nbsp;<span class="op" id="3192184">(</span><span class="ident" id="3192185">a</span>&nbsp;<span class="op" id="3192187">*</span><span class="ident" id="3192188">UDPAddr</span><span class="op" id="3192195">)</span>&nbsp;<span class="ident" id="3192197">String</span><span class="op" id="3192203">(</span><span class="op" id="3192204">)</span>&nbsp;<span class="builtintype" id="3192206">string</span>&nbsp;<span class="op" id="3192213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192216">if</span>&nbsp;<span class="ident" id="3192219">a</span>&nbsp;<span class="op" id="3192221">==</span>&nbsp;<span class="ident" id="3192224">nil</span>&nbsp;<span class="op" id="3192228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192232">return</span>&nbsp;<span class="string" id="3192239">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3192248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3192251">ip</span>&nbsp;<span class="op" id="3192254">:=</span>&nbsp;<span class="ident" id="3192257">ipEmptyString</span><span class="op" id="3192270">(</span><span class="ident" id="3192271">a</span><span class="op" id="3192272">.</span><span class="ident" id="3192273">IP</span><span class="op" id="3192275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192278">if</span>&nbsp;<span class="ident" id="3192281">a</span><span class="op" id="3192282">.</span><span class="ident" id="3192283">Zone</span>&nbsp;<span class="op" id="3192288">!=</span>&nbsp;<span class="string" id="3192291">&#34;&#34;</span>&nbsp;<span class="op" id="3192294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192298">return</span>&nbsp;<span class="ident" id="3192305">JoinHostPort</span><span class="op" id="3192317">(</span><span class="ident" id="3192318">ip</span><span class="op" id="3192320">+</span><span class="string" id="3192321">&#34;%&#34;</span><span class="op" id="3192324">+</span><span class="ident" id="3192325">a</span><span class="op" id="3192326">.</span><span class="ident" id="3192327">Zone</span><span class="op" id="3192331">,</span>&nbsp;<span class="ident" id="3192333">itoa</span><span class="op" id="3192337">(</span><span class="ident" id="3192338">a</span><span class="op" id="3192339">.</span><span class="ident" id="3192340">Port</span><span class="op" id="3192344">)</span><span class="op" id="3192345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3192348">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192351">return</span>&nbsp;<span class="ident" id="3192358">JoinHostPort</span><span class="op" id="3192370">(</span><span class="ident" id="3192371">ip</span><span class="op" id="3192373">,</span>&nbsp;<span class="ident" id="3192375">itoa</span><span class="op" id="3192379">(</span><span class="ident" id="3192380">a</span><span class="op" id="3192381">.</span><span class="ident" id="3192382">Port</span><span class="op" id="3192386">)</span><span class="op" id="3192387">)</span><br>
<span class="lineno"></span><span class="op" id="3192389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3192392">func</span>&nbsp;<span class="op" id="3192397">(</span><span class="ident" id="3192398">a</span>&nbsp;<span class="op" id="3192400">*</span><span class="ident" id="3192401">UDPAddr</span><span class="op" id="3192408">)</span>&nbsp;<span class="ident" id="3192410">toAddr</span><span class="op" id="3192416">(</span><span class="op" id="3192417">)</span>&nbsp;<span class="ident" id="3192419">Addr</span>&nbsp;<span class="op" id="3192424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192427">if</span>&nbsp;<span class="ident" id="3192430">a</span>&nbsp;<span class="op" id="3192432">==</span>&nbsp;<span class="ident" id="3192435">nil</span>&nbsp;<span class="op" id="3192439">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192443">return</span>&nbsp;<span class="ident" id="3192450">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3192455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192458">return</span>&nbsp;<span class="ident" id="3192465">a</span><br>
<span class="lineno"></span><span class="op" id="3192467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3192470">//&nbsp;ResolveUDPAddr&nbsp;parses&nbsp;addr&nbsp;as&nbsp;a&nbsp;UDP&nbsp;address&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;host:port&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3192541">//&nbsp;or&nbsp;&#34;[ipv6-host%zone]:port&#34;&nbsp;and&nbsp;resolves&nbsp;a&nbsp;pair&nbsp;of&nbsp;domain&nbsp;name&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3192610">//&nbsp;port&nbsp;name&nbsp;on&nbsp;the&nbsp;network&nbsp;net,&nbsp;which&nbsp;must&nbsp;be&nbsp;&#34;udp&#34;,&nbsp;&#34;udp4&#34;&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3192674">//&nbsp;&#34;udp6&#34;.&nbsp;&nbsp;A&nbsp;literal&nbsp;address&nbsp;or&nbsp;host&nbsp;name&nbsp;for&nbsp;IPv6&nbsp;must&nbsp;be&nbsp;enclosed</span><br>
<span class="lineno"></span><span class="comment" id="3192743">//&nbsp;in&nbsp;square&nbsp;brackets,&nbsp;as&nbsp;in&nbsp;&#34;[::1]:80&#34;,&nbsp;&#34;[ipv6-host]:http&#34;&nbsp;or</span><br>
<span class="lineno">40</span><span class="comment" id="3192806">//&nbsp;&#34;[ipv6-host%zone]:80&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3192832">func</span>&nbsp;<span class="ident" id="3192837">ResolveUDPAddr</span><span class="op" id="3192851">(</span><span class="ident" id="3192852">net</span><span class="op" id="3192855">,</span>&nbsp;<span class="ident" id="3192857">addr</span>&nbsp;<span class="builtintype" id="3192862">string</span><span class="op" id="3192868">)</span>&nbsp;<span class="op" id="3192870">(</span><span class="op" id="3192871">*</span><span class="ident" id="3192872">UDPAddr</span><span class="op" id="3192879">,</span>&nbsp;<span class="builtintype" id="3192881">error</span><span class="op" id="3192886">)</span>&nbsp;<span class="op" id="3192888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192891">switch</span>&nbsp;<span class="ident" id="3192898">net</span>&nbsp;<span class="op" id="3192902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192905">case</span>&nbsp;<span class="string" id="3192910">&#34;udp&#34;</span><span class="op" id="3192915">,</span>&nbsp;<span class="string" id="3192917">&#34;udp4&#34;</span><span class="op" id="3192923">,</span>&nbsp;<span class="string" id="3192925">&#34;udp6&#34;</span><span class="op" id="3192931">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3192934">case</span>&nbsp;<span class="string" id="3192939">&#34;&#34;</span><span class="op" id="3192941">:</span>&nbsp;<span class="comment" id="3192943">//&nbsp;a&nbsp;hint&nbsp;wildcard&nbsp;for&nbsp;Go&nbsp;1.0&nbsp;undocumented&nbsp;behavior</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3192997">net</span>&nbsp;<span class="op" id="3193001">=</span>&nbsp;<span class="string" id="3193003">&#34;udp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3193010">default</span><span class="op" id="3193017">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3193021">return</span>&nbsp;<span class="ident" id="3193028">nil</span><span class="op" id="3193031">,</span>&nbsp;<span class="ident" id="3193033">UnknownNetworkError</span><span class="op" id="3193052">(</span><span class="ident" id="3193053">net</span><span class="op" id="3193056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3193059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3193062">a</span><span class="op" id="3193063">,</span>&nbsp;<span class="ident" id="3193065">err</span>&nbsp;<span class="op" id="3193069">:=</span>&nbsp;<span class="ident" id="3193072">resolveInternetAddr</span><span class="op" id="3193091">(</span><span class="ident" id="3193092">net</span><span class="op" id="3193095">,</span>&nbsp;<span class="ident" id="3193097">addr</span><span class="op" id="3193101">,</span>&nbsp;<span class="ident" id="3193103">noDeadline</span><span class="op" id="3193113">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3193116">if</span>&nbsp;<span class="ident" id="3193119">err</span>&nbsp;<span class="op" id="3193123">!=</span>&nbsp;<span class="ident" id="3193126">nil</span>&nbsp;<span class="op" id="3193130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3193134">return</span>&nbsp;<span class="ident" id="3193141">nil</span><span class="op" id="3193144">,</span>&nbsp;<span class="ident" id="3193146">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3193151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3193154">return</span>&nbsp;<span class="ident" id="3193161">a</span><span class="op" id="3193162">.</span><span class="ident" id="3193163">toAddr</span><span class="op" id="3193169">(</span><span class="op" id="3193170">)</span><span class="op" id="3193171">.</span><span class="op" id="3193172">(</span><span class="op" id="3193173">*</span><span class="ident" id="3193174">UDPAddr</span><span class="op" id="3193181">)</span><span class="op" id="3193182">,</span>&nbsp;<span class="ident" id="3193184">nil</span><br>
<span class="lineno"></span><span class="op" id="3193188">}</span>
</div>
</body>
</html>
