<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/parser</h2>
<ul>
<li><a href="/gostd/go/parser/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/go/parser/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/parser/interface.go.html">interface.go</a></li>
<li><a href="/gostd/go/parser/parser.go.html">parser.go</a></li>
<li><a href="/gostd/go/parser/parser_test.go.html">parser_test.go</a></li>
<li><a href="/gostd/go/parser/performance_test.go.html">performance_test.go</a></li>
<li><a href="/gostd/go/parser/short_test.go.html">short_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7877800">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7877855">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7877909">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7877960">package</span>&nbsp;<span class="ident" id="7877968">parser</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7877976">import</span>&nbsp;<span class="op" id="7877983">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7877986">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7877998">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7878011">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7878021">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878024">var</span>&nbsp;<span class="ident" id="7878028">src</span>&nbsp;<span class="op" id="7878032">=</span>&nbsp;<span class="ident" id="7878034">readFile</span><span class="op" id="7878042">(</span><span class="string" id="7878043">&#34;parser.go&#34;</span><span class="op" id="7878054">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7878057">func</span>&nbsp;<span class="ident" id="7878062">readFile</span><span class="op" id="7878070">(</span><span class="ident" id="7878071">filename</span>&nbsp;<span class="builtintype" id="7878080">string</span><span class="op" id="7878086">)</span>&nbsp;<span class="op" id="7878088">[</span><span class="op" id="7878089">]</span><span class="builtintype" id="7878090">byte</span>&nbsp;<span class="op" id="7878095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878098">data</span><span class="op" id="7878102">,</span>&nbsp;<span class="ident" id="7878104">err</span>&nbsp;<span class="op" id="7878108">:=</span>&nbsp;<span class="ident" id="7878111">ioutil</span><span class="op" id="7878117">.</span><span class="ident" id="7878118">ReadFile</span><span class="op" id="7878126">(</span><span class="ident" id="7878127">filename</span><span class="op" id="7878135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878138">if</span>&nbsp;<span class="ident" id="7878141">err</span>&nbsp;<span class="op" id="7878145">!=</span>&nbsp;<span class="ident" id="7878148">nil</span>&nbsp;<span class="op" id="7878152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7878156">panic</span><span class="op" id="7878161">(</span><span class="ident" id="7878162">err</span><span class="op" id="7878165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878168">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878171">return</span>&nbsp;<span class="ident" id="7878178">data</span><br>
<span class="lineno"></span><span class="op" id="7878183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878186">func</span>&nbsp;<span class="ident" id="7878191">BenchmarkParse</span><span class="op" id="7878205">(</span><span class="ident" id="7878206">b</span>&nbsp;<span class="op" id="7878208">*</span><span class="ident" id="7878209">testing</span><span class="op" id="7878216">.</span><span class="ident" id="7878217">B</span><span class="op" id="7878218">)</span>&nbsp;<span class="op" id="7878220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878223">b</span><span class="op" id="7878224">.</span><span class="ident" id="7878225">SetBytes</span><span class="op" id="7878233">(</span><span class="ident" id="7878234">int64</span><span class="op" id="7878239">(</span><span class="builtinfunc" id="7878240">len</span><span class="op" id="7878243">(</span><span class="ident" id="7878244">src</span><span class="op" id="7878247">)</span><span class="op" id="7878248">)</span><span class="op" id="7878249">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878252">for</span>&nbsp;<span class="ident" id="7878256">i</span>&nbsp;<span class="op" id="7878258">:=</span>&nbsp;<span class="num" id="7878261">0</span><span class="op" id="7878262">;</span>&nbsp;<span class="ident" id="7878264">i</span>&nbsp;<span class="op" id="7878266">&lt;</span>&nbsp;<span class="ident" id="7878268">b</span><span class="op" id="7878269">.</span><span class="ident" id="7878270">N</span><span class="op" id="7878271">;</span>&nbsp;<span class="ident" id="7878273">i</span><span class="op" id="7878274">++</span>&nbsp;<span class="op" id="7878277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878281">if</span>&nbsp;<span class="ident" id="7878284">_</span><span class="op" id="7878285">,</span>&nbsp;<span class="ident" id="7878287">err</span>&nbsp;<span class="op" id="7878291">:=</span>&nbsp;<span class="ident" id="7878294">ParseFile</span><span class="op" id="7878303">(</span><span class="ident" id="7878304">token</span><span class="op" id="7878309">.</span><span class="ident" id="7878310">NewFileSet</span><span class="op" id="7878320">(</span><span class="op" id="7878321">)</span><span class="op" id="7878322">,</span>&nbsp;<span class="string" id="7878324">&#34;&#34;</span><span class="op" id="7878326">,</span>&nbsp;<span class="ident" id="7878328">src</span><span class="op" id="7878331">,</span>&nbsp;<span class="ident" id="7878333">ParseComments</span><span class="op" id="7878346">)</span><span class="op" id="7878347">;</span>&nbsp;<span class="ident" id="7878349">err</span>&nbsp;<span class="op" id="7878353">!=</span>&nbsp;<span class="ident" id="7878356">nil</span>&nbsp;<span class="op" id="7878360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878365">b</span><span class="op" id="7878366">.</span><span class="ident" id="7878367">Fatalf</span><span class="op" id="7878373">(</span><span class="string" id="7878374">&#34;benchmark&nbsp;failed&nbsp;due&nbsp;to&nbsp;parse&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7878415">,</span>&nbsp;<span class="ident" id="7878417">err</span><span class="op" id="7878420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878427">}</span><br>
<span class="lineno">30</span><span class="op" id="7878429">}</span>
</div>
</body>
</html>
