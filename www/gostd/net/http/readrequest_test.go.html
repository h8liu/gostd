<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html" class="current">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7863060">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7863116">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7863170">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7863221">package</span>&nbsp;<span class="ident" id="7863229">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7863235">import</span>&nbsp;<span class="op" id="7863242">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863245">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863254">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863263">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863270">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863276">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863287">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863298">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863309">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7863319">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7863322">type</span>&nbsp;<span class="ident" id="7863327">reqTest</span>&nbsp;<span class="keyword" id="7863335">struct</span>&nbsp;<span class="op" id="7863342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863345">Raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7863353">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863361">Req</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863369">*</span><span class="ident" id="7863370">Request</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863379">Body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7863387">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863395">Trailer</span>&nbsp;<span class="ident" id="7863403">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863411">Error</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7863419">string</span><br>
<span class="lineno"></span><span class="op" id="7863426">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7863429">var</span>&nbsp;<span class="ident" id="7863433">noError</span>&nbsp;<span class="op" id="7863441">=</span>&nbsp;<span class="string" id="7863443">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7863446">var</span>&nbsp;<span class="ident" id="7863450">noBody</span>&nbsp;<span class="op" id="7863457">=</span>&nbsp;<span class="string" id="7863459">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7863462">var</span>&nbsp;<span class="ident" id="7863466">noTrailer</span>&nbsp;<span class="ident" id="7863476">Header</span>&nbsp;<span class="op" id="7863483">=</span>&nbsp;<span class="builtintype" id="7863485">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="7863490">var</span>&nbsp;<span class="ident" id="7863494">reqTests</span>&nbsp;<span class="op" id="7863503">=</span>&nbsp;<span class="op" id="7863505">[</span><span class="op" id="7863506">]</span><span class="ident" id="7863507">reqTest</span><span class="op" id="7863514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7863517">//&nbsp;Baseline&nbsp;test;&nbsp;All&nbsp;Request&nbsp;fields&nbsp;included&nbsp;for&nbsp;template&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863585">&#34;GET&nbsp;http://www.techcrunch.com/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7863631">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863636">&#34;Host:&nbsp;www.techcrunch.com\r\n&#34;</span>&nbsp;<span class="op" id="7863667">+</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863672">&#34;User-Agent:&nbsp;Fake\r\n&#34;</span>&nbsp;<span class="op" id="7863695">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863700">&#34;Accept:&nbsp;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\n&#34;</span>&nbsp;<span class="op" id="7863778">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863783">&#34;Accept-Language:&nbsp;en-us,en;q=0.5\r\n&#34;</span>&nbsp;<span class="op" id="7863821">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863826">&#34;Accept-Encoding:&nbsp;gzip,deflate\r\n&#34;</span>&nbsp;<span class="op" id="7863862">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863867">&#34;Accept-Charset:&nbsp;ISO-8859-1,utf-8;q=0.7,*;q=0.7\r\n&#34;</span>&nbsp;<span class="op" id="7863920">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863925">&#34;Keep-Alive:&nbsp;300\r\n&#34;</span>&nbsp;<span class="op" id="7863947">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863952">&#34;Content-Length:&nbsp;7\r\n&#34;</span>&nbsp;<span class="op" id="7863976">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863981">&#34;Proxy-Connection:&nbsp;keep-alive\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7864020">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864025">&#34;abcdef\n???&#34;</span><span class="op" id="7864038">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864043">&amp;</span><span class="ident" id="7864044">Request</span><span class="op" id="7864051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864056">Method</span><span class="op" id="7864062">:</span>&nbsp;<span class="string" id="7864064">&#34;GET&#34;</span><span class="op" id="7864069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864074">URL</span><span class="op" id="7864077">:</span>&nbsp;<span class="op" id="7864079">&amp;</span><span class="ident" id="7864080">url</span><span class="op" id="7864083">.</span><span class="ident" id="7864084">URL</span><span class="op" id="7864087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864093">Scheme</span><span class="op" id="7864099">:</span>&nbsp;<span class="string" id="7864101">&#34;http&#34;</span><span class="op" id="7864107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864113">Host</span><span class="op" id="7864117">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7864121">&#34;www.techcrunch.com&#34;</span><span class="op" id="7864141">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864147">Path</span><span class="op" id="7864151">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7864155">&#34;/&#34;</span><span class="op" id="7864158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864163">}</span><span class="op" id="7864164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864169">Proto</span><span class="op" id="7864174">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864181">&#34;HTTP/1.1&#34;</span><span class="op" id="7864191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864196">ProtoMajor</span><span class="op" id="7864206">:</span>&nbsp;<span class="num" id="7864208">1</span><span class="op" id="7864209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864214">ProtoMinor</span><span class="op" id="7864224">:</span>&nbsp;<span class="num" id="7864226">1</span><span class="op" id="7864227">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864232">Header</span><span class="op" id="7864238">:</span>&nbsp;<span class="ident" id="7864240">Header</span><span class="op" id="7864246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864252">&#34;Accept&#34;</span><span class="op" id="7864260">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864272">{</span><span class="string" id="7864273">&#34;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#34;</span><span class="op" id="7864338">}</span><span class="op" id="7864339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864345">&#34;Accept-Language&#34;</span><span class="op" id="7864362">:</span>&nbsp;&nbsp;<span class="op" id="7864365">{</span><span class="string" id="7864366">&#34;en-us,en;q=0.5&#34;</span><span class="op" id="7864382">}</span><span class="op" id="7864383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864389">&#34;Accept-Encoding&#34;</span><span class="op" id="7864406">:</span>&nbsp;&nbsp;<span class="op" id="7864409">{</span><span class="string" id="7864410">&#34;gzip,deflate&#34;</span><span class="op" id="7864424">}</span><span class="op" id="7864425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864431">&#34;Accept-Charset&#34;</span><span class="op" id="7864447">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7864451">{</span><span class="string" id="7864452">&#34;ISO-8859-1,utf-8;q=0.7,*;q=0.7&#34;</span><span class="op" id="7864484">}</span><span class="op" id="7864485">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864491">&#34;Keep-Alive&#34;</span><span class="op" id="7864503">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864511">{</span><span class="string" id="7864512">&#34;300&#34;</span><span class="op" id="7864517">}</span><span class="op" id="7864518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864524">&#34;Proxy-Connection&#34;</span><span class="op" id="7864542">:</span>&nbsp;<span class="op" id="7864544">{</span><span class="string" id="7864545">&#34;keep-alive&#34;</span><span class="op" id="7864557">}</span><span class="op" id="7864558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864564">&#34;Content-Length&#34;</span><span class="op" id="7864580">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7864584">{</span><span class="string" id="7864585">&#34;7&#34;</span><span class="op" id="7864588">}</span><span class="op" id="7864589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864595">&#34;User-Agent&#34;</span><span class="op" id="7864607">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864615">{</span><span class="string" id="7864616">&#34;Fake&#34;</span><span class="op" id="7864622">}</span><span class="op" id="7864623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864628">}</span><span class="op" id="7864629">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864634">Close</span><span class="op" id="7864639">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7864649">false</span><span class="op" id="7864654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864659">ContentLength</span><span class="op" id="7864672">:</span>&nbsp;<span class="num" id="7864674">7</span><span class="op" id="7864675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864680">Host</span><span class="op" id="7864684">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864695">&#34;www.techcrunch.com&#34;</span><span class="op" id="7864715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864720">RequestURI</span><span class="op" id="7864730">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864735">&#34;http://www.techcrunch.com/&#34;</span><span class="op" id="7864763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864767">}</span><span class="op" id="7864768">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864773">&#34;abcdef\n&#34;</span><span class="op" id="7864783">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864788">noTrailer</span><span class="op" id="7864797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864801">noError</span><span class="op" id="7864808">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864811">}</span><span class="op" id="7864812">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7864816">//&nbsp;GET&nbsp;request&nbsp;with&nbsp;no&nbsp;body&nbsp;(the&nbsp;normal&nbsp;case)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864867">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7864888">+</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7864893">&#34;Host:&nbsp;foo.com\r\n\r\n&#34;</span><span class="op" id="7864916">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864921">&amp;</span><span class="ident" id="7864922">Request</span><span class="op" id="7864929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864934">Method</span><span class="op" id="7864940">:</span>&nbsp;<span class="string" id="7864942">&#34;GET&#34;</span><span class="op" id="7864947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864952">URL</span><span class="op" id="7864955">:</span>&nbsp;<span class="op" id="7864957">&amp;</span><span class="ident" id="7864958">url</span><span class="op" id="7864961">.</span><span class="ident" id="7864962">URL</span><span class="op" id="7864965">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864971">Path</span><span class="op" id="7864975">:</span>&nbsp;<span class="string" id="7864977">&#34;/&#34;</span><span class="op" id="7864980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864985">}</span><span class="op" id="7864986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864991">Proto</span><span class="op" id="7864996">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865006">&#34;HTTP/1.1&#34;</span><span class="op" id="7865016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865021">ProtoMajor</span><span class="op" id="7865031">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7865036">1</span><span class="op" id="7865037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865042">ProtoMinor</span><span class="op" id="7865052">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7865057">1</span><span class="op" id="7865058">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865063">Header</span><span class="op" id="7865069">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865078">Header</span><span class="op" id="7865084">{</span><span class="op" id="7865085">}</span><span class="op" id="7865086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865091">Close</span><span class="op" id="7865096">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7865106">false</span><span class="op" id="7865111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865116">ContentLength</span><span class="op" id="7865129">:</span>&nbsp;<span class="num" id="7865131">0</span><span class="op" id="7865132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865137">Host</span><span class="op" id="7865141">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865152">&#34;foo.com&#34;</span><span class="op" id="7865161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865166">RequestURI</span><span class="op" id="7865176">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865181">&#34;/&#34;</span><span class="op" id="7865184">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865188">}</span><span class="op" id="7865189">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865194">noBody</span><span class="op" id="7865200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865204">noTrailer</span><span class="op" id="7865213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865217">noError</span><span class="op" id="7865224">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865227">}</span><span class="op" id="7865228">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7865232">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;path&nbsp;that&nbsp;looks&nbsp;like&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7865287">//&nbsp;scheme-relative&nbsp;URI&nbsp;as&nbsp;a&nbsp;scheme-relative&nbsp;URI.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865337">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865341">&#34;GET&nbsp;//user@host/is/actually/a/path/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7865392">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865397">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7865417">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865422">&amp;</span><span class="ident" id="7865423">Request</span><span class="op" id="7865430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865435">Method</span><span class="op" id="7865441">:</span>&nbsp;<span class="string" id="7865443">&#34;GET&#34;</span><span class="op" id="7865448">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865453">URL</span><span class="op" id="7865456">:</span>&nbsp;<span class="op" id="7865458">&amp;</span><span class="ident" id="7865459">url</span><span class="op" id="7865462">.</span><span class="ident" id="7865463">URL</span><span class="op" id="7865466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865472">Path</span><span class="op" id="7865476">:</span>&nbsp;<span class="string" id="7865478">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7865511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865516">}</span><span class="op" id="7865517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865522">Proto</span><span class="op" id="7865527">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865537">&#34;HTTP/1.1&#34;</span><span class="op" id="7865547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865552">ProtoMajor</span><span class="op" id="7865562">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7865567">1</span><span class="op" id="7865568">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865573">ProtoMinor</span><span class="op" id="7865583">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7865588">1</span><span class="op" id="7865589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865594">Header</span><span class="op" id="7865600">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865609">Header</span><span class="op" id="7865615">{</span><span class="op" id="7865616">}</span><span class="op" id="7865617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865622">Close</span><span class="op" id="7865627">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7865637">false</span><span class="op" id="7865642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865647">ContentLength</span><span class="op" id="7865660">:</span>&nbsp;<span class="num" id="7865662">0</span><span class="op" id="7865663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865668">Host</span><span class="op" id="7865672">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865683">&#34;test&#34;</span><span class="op" id="7865689">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865694">RequestURI</span><span class="op" id="7865704">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865709">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7865742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865746">}</span><span class="op" id="7865747">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865752">noBody</span><span class="op" id="7865758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865762">noTrailer</span><span class="op" id="7865771">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865775">noError</span><span class="op" id="7865782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865785">}</span><span class="op" id="7865786">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7865790">//&nbsp;Tests&nbsp;a&nbsp;bogus&nbsp;abs_path&nbsp;on&nbsp;the&nbsp;Request-Line&nbsp;(RFC&nbsp;2616&nbsp;section&nbsp;5.1.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865862">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865866">&#34;GET&nbsp;../../../../etc/passwd&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7865908">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865913">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7865933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7865937">nil</span><span class="op" id="7865940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865944">noBody</span><span class="op" id="7865950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865954">noTrailer</span><span class="op" id="7865963">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7865967">&#34;parse&nbsp;../../../../etc/passwd:&nbsp;invalid&nbsp;URI&nbsp;for&nbsp;request&#34;</span><span class="op" id="7866022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866025">}</span><span class="op" id="7866026">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7866030">//&nbsp;Tests&nbsp;missing&nbsp;URL:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866053">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866057">&#34;GET&nbsp;&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7866077">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866082">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7866102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866106">nil</span><span class="op" id="7866109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866113">noBody</span><span class="op" id="7866119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866123">noTrailer</span><span class="op" id="7866132">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866136">&#34;parse&nbsp;:&nbsp;empty&nbsp;url&#34;</span><span class="op" id="7866155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866158">}</span><span class="op" id="7866159">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7866163">//&nbsp;Tests&nbsp;chunked&nbsp;body&nbsp;with&nbsp;trailer:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866200">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866204">&#34;POST&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7866226">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866231">&#34;Host:&nbsp;foo.com\r\n&#34;</span>&nbsp;<span class="op" id="7866251">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866256">&#34;Transfer-Encoding:&nbsp;chunked\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7866293">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866298">&#34;3\r\nfoo\r\n&#34;</span>&nbsp;<span class="op" id="7866313">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866318">&#34;3\r\nbar\r\n&#34;</span>&nbsp;<span class="op" id="7866333">+</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866338">&#34;0\r\n&#34;</span>&nbsp;<span class="op" id="7866346">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866351">&#34;Trailer-Key:&nbsp;Trailer-Value\r\n&#34;</span>&nbsp;<span class="op" id="7866384">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866389">&#34;\r\n&#34;</span><span class="op" id="7866395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866399">&amp;</span><span class="ident" id="7866400">Request</span><span class="op" id="7866407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866412">Method</span><span class="op" id="7866418">:</span>&nbsp;<span class="string" id="7866420">&#34;POST&#34;</span><span class="op" id="7866426">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866431">URL</span><span class="op" id="7866434">:</span>&nbsp;<span class="op" id="7866436">&amp;</span><span class="ident" id="7866437">url</span><span class="op" id="7866440">.</span><span class="ident" id="7866441">URL</span><span class="op" id="7866444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866450">Path</span><span class="op" id="7866454">:</span>&nbsp;<span class="string" id="7866456">&#34;/&#34;</span><span class="op" id="7866459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866464">}</span><span class="op" id="7866465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866470">TransferEncoding</span><span class="op" id="7866486">:</span>&nbsp;<span class="op" id="7866488">[</span><span class="op" id="7866489">]</span><span class="builtintype" id="7866490">string</span><span class="op" id="7866496">{</span><span class="string" id="7866497">&#34;chunked&#34;</span><span class="op" id="7866506">}</span><span class="op" id="7866507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866512">Proto</span><span class="op" id="7866517">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866530">&#34;HTTP/1.1&#34;</span><span class="op" id="7866540">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866545">ProtoMajor</span><span class="op" id="7866555">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7866563">1</span><span class="op" id="7866564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866569">ProtoMinor</span><span class="op" id="7866579">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7866587">1</span><span class="op" id="7866588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866593">Header</span><span class="op" id="7866599">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866611">Header</span><span class="op" id="7866617">{</span><span class="op" id="7866618">}</span><span class="op" id="7866619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866624">ContentLength</span><span class="op" id="7866637">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866642">-</span><span class="num" id="7866643">1</span><span class="op" id="7866644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866649">Host</span><span class="op" id="7866653">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866667">&#34;foo.com&#34;</span><span class="op" id="7866676">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866681">RequestURI</span><span class="op" id="7866691">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866699">&#34;/&#34;</span><span class="op" id="7866702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866706">}</span><span class="op" id="7866707">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866712">&#34;foobar&#34;</span><span class="op" id="7866720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866724">Header</span><span class="op" id="7866730">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866735">&#34;Trailer-Key&#34;</span><span class="op" id="7866748">:</span>&nbsp;<span class="op" id="7866750">{</span><span class="string" id="7866751">&#34;Trailer-Value&#34;</span><span class="op" id="7866766">}</span><span class="op" id="7866767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866771">}</span><span class="op" id="7866772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866776">noError</span><span class="op" id="7866783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866786">}</span><span class="op" id="7866787">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7866791">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;domain&nbsp;name:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866833">&#34;CONNECT&nbsp;www.google.com:443&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7866878">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866883">&amp;</span><span class="ident" id="7866884">Request</span><span class="op" id="7866891">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866896">Method</span><span class="op" id="7866902">:</span>&nbsp;<span class="string" id="7866904">&#34;CONNECT&#34;</span><span class="op" id="7866913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866918">URL</span><span class="op" id="7866921">:</span>&nbsp;<span class="op" id="7866923">&amp;</span><span class="ident" id="7866924">url</span><span class="op" id="7866927">.</span><span class="ident" id="7866928">URL</span><span class="op" id="7866931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866937">Host</span><span class="op" id="7866941">:</span>&nbsp;<span class="string" id="7866943">&#34;www.google.com:443&#34;</span><span class="op" id="7866963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866968">}</span><span class="op" id="7866969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866974">Proto</span><span class="op" id="7866979">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866989">&#34;HTTP/1.1&#34;</span><span class="op" id="7866999">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867004">ProtoMajor</span><span class="op" id="7867014">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867019">1</span><span class="op" id="7867020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867025">ProtoMinor</span><span class="op" id="7867035">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867040">1</span><span class="op" id="7867041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867046">Header</span><span class="op" id="7867052">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867061">Header</span><span class="op" id="7867067">{</span><span class="op" id="7867068">}</span><span class="op" id="7867069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867074">Close</span><span class="op" id="7867079">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7867089">false</span><span class="op" id="7867094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867099">ContentLength</span><span class="op" id="7867112">:</span>&nbsp;<span class="num" id="7867114">0</span><span class="op" id="7867115">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867120">Host</span><span class="op" id="7867124">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867135">&#34;www.google.com:443&#34;</span><span class="op" id="7867155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867160">RequestURI</span><span class="op" id="7867170">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867175">&#34;www.google.com:443&#34;</span><span class="op" id="7867195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867199">}</span><span class="op" id="7867200">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867205">noBody</span><span class="op" id="7867211">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867215">noTrailer</span><span class="op" id="7867224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867228">noError</span><span class="op" id="7867235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867238">}</span><span class="op" id="7867239">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7867243">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;IP&nbsp;address:</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867284">&#34;CONNECT&nbsp;127.0.0.1:6060&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7867325">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867330">&amp;</span><span class="ident" id="7867331">Request</span><span class="op" id="7867338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867343">Method</span><span class="op" id="7867349">:</span>&nbsp;<span class="string" id="7867351">&#34;CONNECT&#34;</span><span class="op" id="7867360">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867365">URL</span><span class="op" id="7867368">:</span>&nbsp;<span class="op" id="7867370">&amp;</span><span class="ident" id="7867371">url</span><span class="op" id="7867374">.</span><span class="ident" id="7867375">URL</span><span class="op" id="7867378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867384">Host</span><span class="op" id="7867388">:</span>&nbsp;<span class="string" id="7867390">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7867406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867411">}</span><span class="op" id="7867412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867417">Proto</span><span class="op" id="7867422">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867432">&#34;HTTP/1.1&#34;</span><span class="op" id="7867442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867447">ProtoMajor</span><span class="op" id="7867457">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867462">1</span><span class="op" id="7867463">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867468">ProtoMinor</span><span class="op" id="7867478">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867483">1</span><span class="op" id="7867484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867489">Header</span><span class="op" id="7867495">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867504">Header</span><span class="op" id="7867510">{</span><span class="op" id="7867511">}</span><span class="op" id="7867512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867517">Close</span><span class="op" id="7867522">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7867532">false</span><span class="op" id="7867537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867542">ContentLength</span><span class="op" id="7867555">:</span>&nbsp;<span class="num" id="7867557">0</span><span class="op" id="7867558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867563">Host</span><span class="op" id="7867567">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867578">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7867594">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867599">RequestURI</span><span class="op" id="7867609">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867614">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7867630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867634">}</span><span class="op" id="7867635">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867640">noBody</span><span class="op" id="7867646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867650">noTrailer</span><span class="op" id="7867659">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867663">noError</span><span class="op" id="7867670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867673">}</span><span class="op" id="7867674">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7867678">//&nbsp;CONNECT&nbsp;request&nbsp;for&nbsp;RPC:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867707">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867711">&#34;CONNECT&nbsp;/_goRPC_&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7867746">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867751">&amp;</span><span class="ident" id="7867752">Request</span><span class="op" id="7867759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867764">Method</span><span class="op" id="7867770">:</span>&nbsp;<span class="string" id="7867772">&#34;CONNECT&#34;</span><span class="op" id="7867781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867786">URL</span><span class="op" id="7867789">:</span>&nbsp;<span class="op" id="7867791">&amp;</span><span class="ident" id="7867792">url</span><span class="op" id="7867795">.</span><span class="ident" id="7867796">URL</span><span class="op" id="7867799">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867805">Path</span><span class="op" id="7867809">:</span>&nbsp;<span class="string" id="7867811">&#34;/_goRPC_&#34;</span><span class="op" id="7867821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867826">}</span><span class="op" id="7867827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867832">Proto</span><span class="op" id="7867837">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867847">&#34;HTTP/1.1&#34;</span><span class="op" id="7867857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867862">ProtoMajor</span><span class="op" id="7867872">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867877">1</span><span class="op" id="7867878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867883">ProtoMinor</span><span class="op" id="7867893">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867898">1</span><span class="op" id="7867899">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867904">Header</span><span class="op" id="7867910">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867919">Header</span><span class="op" id="7867925">{</span><span class="op" id="7867926">}</span><span class="op" id="7867927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867932">Close</span><span class="op" id="7867937">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7867947">false</span><span class="op" id="7867952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867957">ContentLength</span><span class="op" id="7867970">:</span>&nbsp;<span class="num" id="7867972">0</span><span class="op" id="7867973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867978">Host</span><span class="op" id="7867982">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867993">&#34;&#34;</span><span class="op" id="7867995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868000">RequestURI</span><span class="op" id="7868010">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868015">&#34;/_goRPC_&#34;</span><span class="op" id="7868025">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868029">}</span><span class="op" id="7868030">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868035">noBody</span><span class="op" id="7868041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868045">noTrailer</span><span class="op" id="7868054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868058">noError</span><span class="op" id="7868065">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868068">}</span><span class="op" id="7868069">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7868073">//&nbsp;SSDP&nbsp;Notify&nbsp;request.&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868124">&#34;NOTIFY&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7868166">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868170">&amp;</span><span class="ident" id="7868171">Request</span><span class="op" id="7868178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868183">Method</span><span class="op" id="7868189">:</span>&nbsp;<span class="string" id="7868191">&#34;NOTIFY&#34;</span><span class="op" id="7868199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868204">URL</span><span class="op" id="7868207">:</span>&nbsp;<span class="op" id="7868209">&amp;</span><span class="ident" id="7868210">url</span><span class="op" id="7868213">.</span><span class="ident" id="7868214">URL</span><span class="op" id="7868217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868223">Path</span><span class="op" id="7868227">:</span>&nbsp;<span class="string" id="7868229">&#34;*&#34;</span><span class="op" id="7868232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868237">}</span><span class="op" id="7868238">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868243">Proto</span><span class="op" id="7868248">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868255">&#34;HTTP/1.1&#34;</span><span class="op" id="7868265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868270">ProtoMajor</span><span class="op" id="7868280">:</span>&nbsp;<span class="num" id="7868282">1</span><span class="op" id="7868283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868288">ProtoMinor</span><span class="op" id="7868298">:</span>&nbsp;<span class="num" id="7868300">1</span><span class="op" id="7868301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868306">Header</span><span class="op" id="7868312">:</span>&nbsp;<span class="ident" id="7868314">Header</span><span class="op" id="7868320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868326">&#34;Server&#34;</span><span class="op" id="7868334">:</span>&nbsp;<span class="op" id="7868336">[</span><span class="op" id="7868337">]</span><span class="builtintype" id="7868338">string</span><span class="op" id="7868344">{</span><span class="string" id="7868345">&#34;foo&#34;</span><span class="op" id="7868350">}</span><span class="op" id="7868351">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868356">}</span><span class="op" id="7868357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868362">Close</span><span class="op" id="7868367">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7868377">false</span><span class="op" id="7868382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868387">ContentLength</span><span class="op" id="7868400">:</span>&nbsp;<span class="num" id="7868402">0</span><span class="op" id="7868403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868408">RequestURI</span><span class="op" id="7868418">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868423">&#34;*&#34;</span><span class="op" id="7868426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868430">}</span><span class="op" id="7868431">,</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868436">noBody</span><span class="op" id="7868442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868446">noTrailer</span><span class="op" id="7868455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868459">noError</span><span class="op" id="7868466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868469">}</span><span class="op" id="7868470">,</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7868474">//&nbsp;OPTIONS&nbsp;request.&nbsp;Similar&nbsp;to&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868532">&#34;OPTIONS&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7868575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868579">&amp;</span><span class="ident" id="7868580">Request</span><span class="op" id="7868587">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868592">Method</span><span class="op" id="7868598">:</span>&nbsp;<span class="string" id="7868600">&#34;OPTIONS&#34;</span><span class="op" id="7868609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868614">URL</span><span class="op" id="7868617">:</span>&nbsp;<span class="op" id="7868619">&amp;</span><span class="ident" id="7868620">url</span><span class="op" id="7868623">.</span><span class="ident" id="7868624">URL</span><span class="op" id="7868627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868633">Path</span><span class="op" id="7868637">:</span>&nbsp;<span class="string" id="7868639">&#34;*&#34;</span><span class="op" id="7868642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868647">}</span><span class="op" id="7868648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868653">Proto</span><span class="op" id="7868658">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868665">&#34;HTTP/1.1&#34;</span><span class="op" id="7868675">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868680">ProtoMajor</span><span class="op" id="7868690">:</span>&nbsp;<span class="num" id="7868692">1</span><span class="op" id="7868693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868698">ProtoMinor</span><span class="op" id="7868708">:</span>&nbsp;<span class="num" id="7868710">1</span><span class="op" id="7868711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868716">Header</span><span class="op" id="7868722">:</span>&nbsp;<span class="ident" id="7868724">Header</span><span class="op" id="7868730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868736">&#34;Server&#34;</span><span class="op" id="7868744">:</span>&nbsp;<span class="op" id="7868746">[</span><span class="op" id="7868747">]</span><span class="builtintype" id="7868748">string</span><span class="op" id="7868754">{</span><span class="string" id="7868755">&#34;foo&#34;</span><span class="op" id="7868760">}</span><span class="op" id="7868761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868766">}</span><span class="op" id="7868767">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868772">Close</span><span class="op" id="7868777">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7868787">false</span><span class="op" id="7868792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868797">ContentLength</span><span class="op" id="7868810">:</span>&nbsp;<span class="num" id="7868812">0</span><span class="op" id="7868813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868818">RequestURI</span><span class="op" id="7868828">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868833">&#34;*&#34;</span><span class="op" id="7868836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868840">}</span><span class="op" id="7868841">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868846">noBody</span><span class="op" id="7868852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868856">noTrailer</span><span class="op" id="7868865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868869">noError</span><span class="op" id="7868876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868879">}</span><span class="op" id="7868880">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7868884">//&nbsp;Connection:&nbsp;close.&nbsp;golang.org/issue/8261</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7868933">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\nHost:&nbsp;issue8261.com\r\nConnection:&nbsp;close\r\n\r\n&#34;</span><span class="op" id="7869001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7869005">&amp;</span><span class="ident" id="7869006">Request</span><span class="op" id="7869013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869018">Method</span><span class="op" id="7869024">:</span>&nbsp;<span class="string" id="7869026">&#34;GET&#34;</span><span class="op" id="7869031">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869036">URL</span><span class="op" id="7869039">:</span>&nbsp;<span class="op" id="7869041">&amp;</span><span class="ident" id="7869042">url</span><span class="op" id="7869045">.</span><span class="ident" id="7869046">URL</span><span class="op" id="7869049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869055">Path</span><span class="op" id="7869059">:</span>&nbsp;<span class="string" id="7869061">&#34;/&#34;</span><span class="op" id="7869064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7869069">}</span><span class="op" id="7869070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869075">Header</span><span class="op" id="7869081">:</span>&nbsp;<span class="ident" id="7869083">Header</span><span class="op" id="7869089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7869095">//&nbsp;This&nbsp;wasn&#39;t&nbsp;removed&nbsp;from&nbsp;Go&nbsp;1.0&nbsp;to</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7869137">//&nbsp;Go&nbsp;1.3,&nbsp;so&nbsp;locking&nbsp;it&nbsp;in&nbsp;that&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7869177">//&nbsp;keep&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7869195">&#34;Connection&#34;</span><span class="op" id="7869207">:</span>&nbsp;<span class="op" id="7869209">[</span><span class="op" id="7869210">]</span><span class="builtintype" id="7869211">string</span><span class="op" id="7869217">{</span><span class="string" id="7869218">&#34;close&#34;</span><span class="op" id="7869225">}</span><span class="op" id="7869226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7869231">}</span><span class="op" id="7869232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869237">Host</span><span class="op" id="7869241">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7869249">&#34;issue8261.com&#34;</span><span class="op" id="7869264">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869269">Proto</span><span class="op" id="7869274">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7869281">&#34;HTTP/1.1&#34;</span><span class="op" id="7869291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869296">ProtoMajor</span><span class="op" id="7869306">:</span>&nbsp;<span class="num" id="7869308">1</span><span class="op" id="7869309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869314">ProtoMinor</span><span class="op" id="7869324">:</span>&nbsp;<span class="num" id="7869326">1</span><span class="op" id="7869327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869332">Close</span><span class="op" id="7869337">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7869344">true</span><span class="op" id="7869348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869353">RequestURI</span><span class="op" id="7869363">:</span>&nbsp;<span class="string" id="7869365">&#34;/&#34;</span><span class="op" id="7869368">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7869372">}</span><span class="op" id="7869373">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869378">noBody</span><span class="op" id="7869384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869388">noTrailer</span><span class="op" id="7869397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869401">noError</span><span class="op" id="7869408">,</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7869411">}</span><span class="op" id="7869412">,</span><br>
<span class="lineno"></span><span class="op" id="7869414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7869417">func</span>&nbsp;<span class="ident" id="7869422">TestReadRequest</span><span class="op" id="7869437">(</span><span class="ident" id="7869438">t</span>&nbsp;<span class="op" id="7869440">*</span><span class="ident" id="7869441">testing</span><span class="op" id="7869448">.</span><span class="ident" id="7869449">T</span><span class="op" id="7869450">)</span>&nbsp;<span class="op" id="7869452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7869455">for</span>&nbsp;<span class="ident" id="7869459">i</span>&nbsp;<span class="op" id="7869461">:=</span>&nbsp;<span class="keyword" id="7869464">range</span>&nbsp;<span class="ident" id="7869470">reqTests</span>&nbsp;<span class="op" id="7869479">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869483">tt</span>&nbsp;<span class="op" id="7869486">:=</span>&nbsp;<span class="op" id="7869489">&amp;</span><span class="ident" id="7869490">reqTests</span><span class="op" id="7869498">[</span><span class="ident" id="7869499">i</span><span class="op" id="7869500">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869504">req</span><span class="op" id="7869507">,</span>&nbsp;<span class="ident" id="7869509">err</span>&nbsp;<span class="op" id="7869513">:=</span>&nbsp;<span class="ident" id="7869516">ReadRequest</span><span class="op" id="7869527">(</span><span class="ident" id="7869528">bufio</span><span class="op" id="7869533">.</span><span class="ident" id="7869534">NewReader</span><span class="op" id="7869543">(</span><span class="ident" id="7869544">strings</span><span class="op" id="7869551">.</span><span class="ident" id="7869552">NewReader</span><span class="op" id="7869561">(</span><span class="ident" id="7869562">tt</span><span class="op" id="7869564">.</span><span class="ident" id="7869565">Raw</span><span class="op" id="7869568">)</span><span class="op" id="7869569">)</span><span class="op" id="7869570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7869574">if</span>&nbsp;<span class="ident" id="7869577">err</span>&nbsp;<span class="op" id="7869581">!=</span>&nbsp;<span class="builtintype" id="7869584">nil</span>&nbsp;<span class="op" id="7869588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7869593">if</span>&nbsp;<span class="ident" id="7869596">err</span><span class="op" id="7869599">.</span><span class="ident" id="7869600">Error</span><span class="op" id="7869605">(</span><span class="op" id="7869606">)</span>&nbsp;<span class="op" id="7869608">!=</span>&nbsp;<span class="ident" id="7869611">tt</span><span class="op" id="7869613">.</span><span class="ident" id="7869614">Error</span>&nbsp;<span class="op" id="7869620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869626">t</span><span class="op" id="7869627">.</span><span class="ident" id="7869628">Errorf</span><span class="op" id="7869634">(</span><span class="string" id="7869635">&#34;#%d:&nbsp;error&nbsp;%q,&nbsp;want&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7869665">,</span>&nbsp;<span class="ident" id="7869667">i</span><span class="op" id="7869668">,</span>&nbsp;<span class="ident" id="7869670">err</span><span class="op" id="7869673">.</span><span class="ident" id="7869674">Error</span><span class="op" id="7869679">(</span><span class="op" id="7869680">)</span><span class="op" id="7869681">,</span>&nbsp;<span class="ident" id="7869683">tt</span><span class="op" id="7869685">.</span><span class="ident" id="7869686">Error</span><span class="op" id="7869691">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7869696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7869701">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7869712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869716">rbody</span>&nbsp;<span class="op" id="7869722">:=</span>&nbsp;<span class="ident" id="7869725">req</span><span class="op" id="7869728">.</span><span class="ident" id="7869729">Body</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869736">req</span><span class="op" id="7869739">.</span><span class="ident" id="7869740">Body</span>&nbsp;<span class="op" id="7869745">=</span>&nbsp;<span class="builtintype" id="7869747">nil</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869753">testName</span>&nbsp;<span class="op" id="7869762">:=</span>&nbsp;<span class="ident" id="7869765">fmt</span><span class="op" id="7869768">.</span><span class="ident" id="7869769">Sprintf</span><span class="op" id="7869776">(</span><span class="string" id="7869777">&#34;Test&nbsp;%d&nbsp;(%q)&#34;</span><span class="op" id="7869791">,</span>&nbsp;<span class="ident" id="7869793">i</span><span class="op" id="7869794">,</span>&nbsp;<span class="ident" id="7869796">tt</span><span class="op" id="7869798">.</span><span class="ident" id="7869799">Raw</span><span class="op" id="7869802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869806">diff</span><span class="op" id="7869810">(</span><span class="ident" id="7869811">t</span><span class="op" id="7869812">,</span>&nbsp;<span class="ident" id="7869814">testName</span><span class="op" id="7869822">,</span>&nbsp;<span class="ident" id="7869824">req</span><span class="op" id="7869827">,</span>&nbsp;<span class="ident" id="7869829">tt</span><span class="op" id="7869831">.</span><span class="ident" id="7869832">Req</span><span class="op" id="7869835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7869839">var</span>&nbsp;<span class="ident" id="7869843">bout</span>&nbsp;<span class="ident" id="7869848">bytes</span><span class="op" id="7869853">.</span><span class="ident" id="7869854">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7869863">if</span>&nbsp;<span class="ident" id="7869866">rbody</span>&nbsp;<span class="op" id="7869872">!=</span>&nbsp;<span class="builtintype" id="7869875">nil</span>&nbsp;<span class="op" id="7869879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869884">_</span><span class="op" id="7869885">,</span>&nbsp;<span class="ident" id="7869887">err</span>&nbsp;<span class="op" id="7869891">:=</span>&nbsp;<span class="ident" id="7869894">io</span><span class="op" id="7869896">.</span><span class="ident" id="7869897">Copy</span><span class="op" id="7869901">(</span><span class="op" id="7869902">&amp;</span><span class="ident" id="7869903">bout</span><span class="op" id="7869907">,</span>&nbsp;<span class="ident" id="7869909">rbody</span><span class="op" id="7869914">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7869919">if</span>&nbsp;<span class="ident" id="7869922">err</span>&nbsp;<span class="op" id="7869926">!=</span>&nbsp;<span class="builtintype" id="7869929">nil</span>&nbsp;<span class="op" id="7869933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869939">t</span><span class="op" id="7869940">.</span><span class="ident" id="7869941">Fatalf</span><span class="op" id="7869947">(</span><span class="string" id="7869948">&#34;%s:&nbsp;copying&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7869970">,</span>&nbsp;<span class="ident" id="7869972">testName</span><span class="op" id="7869980">,</span>&nbsp;<span class="ident" id="7869982">err</span><span class="op" id="7869985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7869990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869995">rbody</span><span class="op" id="7870000">.</span><span class="ident" id="7870001">Close</span><span class="op" id="7870006">(</span><span class="op" id="7870007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7870011">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7870015">body</span>&nbsp;<span class="op" id="7870020">:=</span>&nbsp;<span class="ident" id="7870023">bout</span><span class="op" id="7870027">.</span><span class="ident" id="7870028">String</span><span class="op" id="7870034">(</span><span class="op" id="7870035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7870039">if</span>&nbsp;<span class="ident" id="7870042">body</span>&nbsp;<span class="op" id="7870047">!=</span>&nbsp;<span class="ident" id="7870050">tt</span><span class="op" id="7870052">.</span><span class="ident" id="7870053">Body</span>&nbsp;<span class="op" id="7870058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7870063">t</span><span class="op" id="7870064">.</span><span class="ident" id="7870065">Errorf</span><span class="op" id="7870071">(</span><span class="string" id="7870072">&#34;%s:&nbsp;Body&nbsp;=&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7870095">,</span>&nbsp;<span class="ident" id="7870097">testName</span><span class="op" id="7870105">,</span>&nbsp;<span class="ident" id="7870107">body</span><span class="op" id="7870111">,</span>&nbsp;<span class="ident" id="7870113">tt</span><span class="op" id="7870115">.</span><span class="ident" id="7870116">Body</span><span class="op" id="7870120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7870124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7870128">if</span>&nbsp;<span class="op" id="7870131">!</span><span class="ident" id="7870132">reflect</span><span class="op" id="7870139">.</span><span class="ident" id="7870140">DeepEqual</span><span class="op" id="7870149">(</span><span class="ident" id="7870150">tt</span><span class="op" id="7870152">.</span><span class="ident" id="7870153">Trailer</span><span class="op" id="7870160">,</span>&nbsp;<span class="ident" id="7870162">req</span><span class="op" id="7870165">.</span><span class="ident" id="7870166">Trailer</span><span class="op" id="7870173">)</span>&nbsp;<span class="op" id="7870175">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7870180">t</span><span class="op" id="7870181">.</span><span class="ident" id="7870182">Errorf</span><span class="op" id="7870188">(</span><span class="string" id="7870189">&#34;%s:&nbsp;Trailers&nbsp;differ.\n&nbsp;got:&nbsp;%v\nwant:&nbsp;%v&#34;</span><span class="op" id="7870231">,</span>&nbsp;<span class="ident" id="7870233">testName</span><span class="op" id="7870241">,</span>&nbsp;<span class="ident" id="7870243">req</span><span class="op" id="7870246">.</span><span class="ident" id="7870247">Trailer</span><span class="op" id="7870254">,</span>&nbsp;<span class="ident" id="7870256">tt</span><span class="op" id="7870258">.</span><span class="ident" id="7870259">Trailer</span><span class="op" id="7870266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7870270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7870273">}</span><br>
<span class="lineno"></span><span class="op" id="7870275">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
