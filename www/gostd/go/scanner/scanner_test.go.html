<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7475909">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7475964">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7476018">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7476069">package</span>&nbsp;<span class="ident" id="7476077">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476086">import</span>&nbsp;<span class="op" id="7476093">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7476096">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7476108">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7476121">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7476127">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7476144">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7476155">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7476165">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7476168">var</span>&nbsp;<span class="ident" id="7476172">fset</span>&nbsp;<span class="op" id="7476177">=</span>&nbsp;<span class="ident" id="7476179">token</span><span class="op" id="7476184">.</span><span class="ident" id="7476185">NewFileSet</span><span class="op" id="7476195">(</span><span class="op" id="7476196">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476199">const</span>&nbsp;<span class="comment" id="7476205">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="7476217">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476220">special</span>&nbsp;<span class="op" id="7476228">=</span>&nbsp;<span class="ident" id="7476230">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476236">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476245">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476255">keyword</span><br>
<span class="lineno"></span><span class="op" id="7476263">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7476266">func</span>&nbsp;<span class="ident" id="7476271">tokenclass</span><span class="op" id="7476281">(</span><span class="ident" id="7476282">tok</span>&nbsp;<span class="ident" id="7476286">token</span><span class="op" id="7476291">.</span><span class="ident" id="7476292">Token</span><span class="op" id="7476297">)</span>&nbsp;<span class="builtintype" id="7476299">int</span>&nbsp;<span class="op" id="7476303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476306">switch</span>&nbsp;<span class="op" id="7476313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476316">case</span>&nbsp;<span class="ident" id="7476321">tok</span><span class="op" id="7476324">.</span><span class="ident" id="7476325">IsLiteral</span><span class="op" id="7476334">(</span><span class="op" id="7476335">)</span><span class="op" id="7476336">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476340">return</span>&nbsp;<span class="ident" id="7476347">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476356">case</span>&nbsp;<span class="ident" id="7476361">tok</span><span class="op" id="7476364">.</span><span class="ident" id="7476365">IsOperator</span><span class="op" id="7476375">(</span><span class="op" id="7476376">)</span><span class="op" id="7476377">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476381">return</span>&nbsp;<span class="ident" id="7476388">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476398">case</span>&nbsp;<span class="ident" id="7476403">tok</span><span class="op" id="7476406">.</span><span class="ident" id="7476407">IsKeyword</span><span class="op" id="7476416">(</span><span class="op" id="7476417">)</span><span class="op" id="7476418">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476422">return</span>&nbsp;<span class="ident" id="7476429">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476441">return</span>&nbsp;<span class="ident" id="7476448">special</span><br>
<span class="lineno">35</span><span class="op" id="7476456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476459">type</span>&nbsp;<span class="ident" id="7476464">elt</span>&nbsp;<span class="keyword" id="7476468">struct</span>&nbsp;<span class="op" id="7476475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476478">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7476484">token</span><span class="op" id="7476489">.</span><span class="ident" id="7476490">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476497">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7476503">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476511">class</span>&nbsp;<span class="builtintype" id="7476517">int</span><br>
<span class="lineno"></span><span class="op" id="7476521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476524">var</span>&nbsp;<span class="ident" id="7476528">tokens</span>&nbsp;<span class="op" id="7476535">=</span>&nbsp;<span class="op" id="7476537">[</span><span class="op" id="7476538">...</span><span class="op" id="7476541">]</span><span class="ident" id="7476542">elt</span><span class="op" id="7476545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476548">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476567">{</span><span class="ident" id="7476568">token</span><span class="op" id="7476573">.</span><span class="ident" id="7476574">COMMENT</span><span class="op" id="7476581">,</span>&nbsp;<span class="string" id="7476583">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7476600">,</span>&nbsp;<span class="ident" id="7476602">special</span><span class="op" id="7476609">}</span><span class="op" id="7476610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476613">{</span><span class="ident" id="7476614">token</span><span class="op" id="7476619">.</span><span class="ident" id="7476620">COMMENT</span><span class="op" id="7476627">,</span>&nbsp;<span class="string" id="7476629">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="7476646">,</span>&nbsp;<span class="ident" id="7476648">special</span><span class="op" id="7476655">}</span><span class="op" id="7476656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476659">{</span><span class="ident" id="7476660">token</span><span class="op" id="7476665">.</span><span class="ident" id="7476666">COMMENT</span><span class="op" id="7476673">,</span>&nbsp;<span class="string" id="7476675">&#34;/*\r*/&#34;</span><span class="op" id="7476683">,</span>&nbsp;<span class="ident" id="7476685">special</span><span class="op" id="7476692">}</span><span class="op" id="7476693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476696">{</span><span class="ident" id="7476697">token</span><span class="op" id="7476702">.</span><span class="ident" id="7476703">COMMENT</span><span class="op" id="7476710">,</span>&nbsp;<span class="string" id="7476712">&#34;//\r\n&#34;</span><span class="op" id="7476720">,</span>&nbsp;<span class="ident" id="7476722">special</span><span class="op" id="7476729">}</span><span class="op" id="7476730">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476734">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476774">{</span><span class="ident" id="7476775">token</span><span class="op" id="7476780">.</span><span class="ident" id="7476781">IDENT</span><span class="op" id="7476786">,</span>&nbsp;<span class="string" id="7476788">&#34;foobar&#34;</span><span class="op" id="7476796">,</span>&nbsp;<span class="ident" id="7476798">literal</span><span class="op" id="7476805">}</span><span class="op" id="7476806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476809">{</span><span class="ident" id="7476810">token</span><span class="op" id="7476815">.</span><span class="ident" id="7476816">IDENT</span><span class="op" id="7476821">,</span>&nbsp;<span class="string" id="7476823">&#34;a۰۱۸&#34;</span><span class="op" id="7476832">,</span>&nbsp;<span class="ident" id="7476834">literal</span><span class="op" id="7476841">}</span><span class="op" id="7476842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476845">{</span><span class="ident" id="7476846">token</span><span class="op" id="7476851">.</span><span class="ident" id="7476852">IDENT</span><span class="op" id="7476857">,</span>&nbsp;<span class="string" id="7476859">&#34;foo६४&#34;</span><span class="op" id="7476870">,</span>&nbsp;<span class="ident" id="7476872">literal</span><span class="op" id="7476879">}</span><span class="op" id="7476880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476883">{</span><span class="ident" id="7476884">token</span><span class="op" id="7476889">.</span><span class="ident" id="7476890">IDENT</span><span class="op" id="7476895">,</span>&nbsp;<span class="string" id="7476897">&#34;bar９８７６&#34;</span><span class="op" id="7476914">,</span>&nbsp;<span class="ident" id="7476916">literal</span><span class="op" id="7476923">}</span><span class="op" id="7476924">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476927">{</span><span class="ident" id="7476928">token</span><span class="op" id="7476933">.</span><span class="ident" id="7476934">IDENT</span><span class="op" id="7476939">,</span>&nbsp;<span class="string" id="7476941">&#34;ŝ&#34;</span><span class="op" id="7476945">,</span>&nbsp;<span class="ident" id="7476947">literal</span><span class="op" id="7476954">}</span><span class="op" id="7476955">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7476960">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476985">{</span><span class="ident" id="7476986">token</span><span class="op" id="7476991">.</span><span class="ident" id="7476992">IDENT</span><span class="op" id="7476997">,</span>&nbsp;<span class="string" id="7476999">&#34;ŝfoo&#34;</span><span class="op" id="7477006">,</span>&nbsp;<span class="ident" id="7477008">literal</span><span class="op" id="7477015">}</span><span class="op" id="7477016">,</span>&nbsp;<span class="comment" id="7477018">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477043">{</span><span class="ident" id="7477044">token</span><span class="op" id="7477049">.</span><span class="ident" id="7477050">INT</span><span class="op" id="7477053">,</span>&nbsp;<span class="string" id="7477055">&#34;0&#34;</span><span class="op" id="7477058">,</span>&nbsp;<span class="ident" id="7477060">literal</span><span class="op" id="7477067">}</span><span class="op" id="7477068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477071">{</span><span class="ident" id="7477072">token</span><span class="op" id="7477077">.</span><span class="ident" id="7477078">INT</span><span class="op" id="7477081">,</span>&nbsp;<span class="string" id="7477083">&#34;1&#34;</span><span class="op" id="7477086">,</span>&nbsp;<span class="ident" id="7477088">literal</span><span class="op" id="7477095">}</span><span class="op" id="7477096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477099">{</span><span class="ident" id="7477100">token</span><span class="op" id="7477105">.</span><span class="ident" id="7477106">INT</span><span class="op" id="7477109">,</span>&nbsp;<span class="string" id="7477111">&#34;123456789012345678890&#34;</span><span class="op" id="7477134">,</span>&nbsp;<span class="ident" id="7477136">literal</span><span class="op" id="7477143">}</span><span class="op" id="7477144">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477147">{</span><span class="ident" id="7477148">token</span><span class="op" id="7477153">.</span><span class="ident" id="7477154">INT</span><span class="op" id="7477157">,</span>&nbsp;<span class="string" id="7477159">&#34;01234567&#34;</span><span class="op" id="7477169">,</span>&nbsp;<span class="ident" id="7477171">literal</span><span class="op" id="7477178">}</span><span class="op" id="7477179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477182">{</span><span class="ident" id="7477183">token</span><span class="op" id="7477188">.</span><span class="ident" id="7477189">INT</span><span class="op" id="7477192">,</span>&nbsp;<span class="string" id="7477194">&#34;0xcafebabe&#34;</span><span class="op" id="7477206">,</span>&nbsp;<span class="ident" id="7477208">literal</span><span class="op" id="7477215">}</span><span class="op" id="7477216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477219">{</span><span class="ident" id="7477220">token</span><span class="op" id="7477225">.</span><span class="ident" id="7477226">FLOAT</span><span class="op" id="7477231">,</span>&nbsp;<span class="string" id="7477233">&#34;0.&#34;</span><span class="op" id="7477237">,</span>&nbsp;<span class="ident" id="7477239">literal</span><span class="op" id="7477246">}</span><span class="op" id="7477247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477250">{</span><span class="ident" id="7477251">token</span><span class="op" id="7477256">.</span><span class="ident" id="7477257">FLOAT</span><span class="op" id="7477262">,</span>&nbsp;<span class="string" id="7477264">&#34;.0&#34;</span><span class="op" id="7477268">,</span>&nbsp;<span class="ident" id="7477270">literal</span><span class="op" id="7477277">}</span><span class="op" id="7477278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477281">{</span><span class="ident" id="7477282">token</span><span class="op" id="7477287">.</span><span class="ident" id="7477288">FLOAT</span><span class="op" id="7477293">,</span>&nbsp;<span class="string" id="7477295">&#34;3.14159265&#34;</span><span class="op" id="7477307">,</span>&nbsp;<span class="ident" id="7477309">literal</span><span class="op" id="7477316">}</span><span class="op" id="7477317">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477320">{</span><span class="ident" id="7477321">token</span><span class="op" id="7477326">.</span><span class="ident" id="7477327">FLOAT</span><span class="op" id="7477332">,</span>&nbsp;<span class="string" id="7477334">&#34;1e0&#34;</span><span class="op" id="7477339">,</span>&nbsp;<span class="ident" id="7477341">literal</span><span class="op" id="7477348">}</span><span class="op" id="7477349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477352">{</span><span class="ident" id="7477353">token</span><span class="op" id="7477358">.</span><span class="ident" id="7477359">FLOAT</span><span class="op" id="7477364">,</span>&nbsp;<span class="string" id="7477366">&#34;1e+100&#34;</span><span class="op" id="7477374">,</span>&nbsp;<span class="ident" id="7477376">literal</span><span class="op" id="7477383">}</span><span class="op" id="7477384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477387">{</span><span class="ident" id="7477388">token</span><span class="op" id="7477393">.</span><span class="ident" id="7477394">FLOAT</span><span class="op" id="7477399">,</span>&nbsp;<span class="string" id="7477401">&#34;1e-100&#34;</span><span class="op" id="7477409">,</span>&nbsp;<span class="ident" id="7477411">literal</span><span class="op" id="7477418">}</span><span class="op" id="7477419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477422">{</span><span class="ident" id="7477423">token</span><span class="op" id="7477428">.</span><span class="ident" id="7477429">FLOAT</span><span class="op" id="7477434">,</span>&nbsp;<span class="string" id="7477436">&#34;2.71828e-1000&#34;</span><span class="op" id="7477451">,</span>&nbsp;<span class="ident" id="7477453">literal</span><span class="op" id="7477460">}</span><span class="op" id="7477461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477464">{</span><span class="ident" id="7477465">token</span><span class="op" id="7477470">.</span><span class="ident" id="7477471">IMAG</span><span class="op" id="7477475">,</span>&nbsp;<span class="string" id="7477477">&#34;0i&#34;</span><span class="op" id="7477481">,</span>&nbsp;<span class="ident" id="7477483">literal</span><span class="op" id="7477490">}</span><span class="op" id="7477491">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477494">{</span><span class="ident" id="7477495">token</span><span class="op" id="7477500">.</span><span class="ident" id="7477501">IMAG</span><span class="op" id="7477505">,</span>&nbsp;<span class="string" id="7477507">&#34;1i&#34;</span><span class="op" id="7477511">,</span>&nbsp;<span class="ident" id="7477513">literal</span><span class="op" id="7477520">}</span><span class="op" id="7477521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477524">{</span><span class="ident" id="7477525">token</span><span class="op" id="7477530">.</span><span class="ident" id="7477531">IMAG</span><span class="op" id="7477535">,</span>&nbsp;<span class="string" id="7477537">&#34;012345678901234567889i&#34;</span><span class="op" id="7477561">,</span>&nbsp;<span class="ident" id="7477563">literal</span><span class="op" id="7477570">}</span><span class="op" id="7477571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477574">{</span><span class="ident" id="7477575">token</span><span class="op" id="7477580">.</span><span class="ident" id="7477581">IMAG</span><span class="op" id="7477585">,</span>&nbsp;<span class="string" id="7477587">&#34;123456789012345678890i&#34;</span><span class="op" id="7477611">,</span>&nbsp;<span class="ident" id="7477613">literal</span><span class="op" id="7477620">}</span><span class="op" id="7477621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477624">{</span><span class="ident" id="7477625">token</span><span class="op" id="7477630">.</span><span class="ident" id="7477631">IMAG</span><span class="op" id="7477635">,</span>&nbsp;<span class="string" id="7477637">&#34;0.i&#34;</span><span class="op" id="7477642">,</span>&nbsp;<span class="ident" id="7477644">literal</span><span class="op" id="7477651">}</span><span class="op" id="7477652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477655">{</span><span class="ident" id="7477656">token</span><span class="op" id="7477661">.</span><span class="ident" id="7477662">IMAG</span><span class="op" id="7477666">,</span>&nbsp;<span class="string" id="7477668">&#34;.0i&#34;</span><span class="op" id="7477673">,</span>&nbsp;<span class="ident" id="7477675">literal</span><span class="op" id="7477682">}</span><span class="op" id="7477683">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477686">{</span><span class="ident" id="7477687">token</span><span class="op" id="7477692">.</span><span class="ident" id="7477693">IMAG</span><span class="op" id="7477697">,</span>&nbsp;<span class="string" id="7477699">&#34;3.14159265i&#34;</span><span class="op" id="7477712">,</span>&nbsp;<span class="ident" id="7477714">literal</span><span class="op" id="7477721">}</span><span class="op" id="7477722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477725">{</span><span class="ident" id="7477726">token</span><span class="op" id="7477731">.</span><span class="ident" id="7477732">IMAG</span><span class="op" id="7477736">,</span>&nbsp;<span class="string" id="7477738">&#34;1e0i&#34;</span><span class="op" id="7477744">,</span>&nbsp;<span class="ident" id="7477746">literal</span><span class="op" id="7477753">}</span><span class="op" id="7477754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477757">{</span><span class="ident" id="7477758">token</span><span class="op" id="7477763">.</span><span class="ident" id="7477764">IMAG</span><span class="op" id="7477768">,</span>&nbsp;<span class="string" id="7477770">&#34;1e+100i&#34;</span><span class="op" id="7477779">,</span>&nbsp;<span class="ident" id="7477781">literal</span><span class="op" id="7477788">}</span><span class="op" id="7477789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477792">{</span><span class="ident" id="7477793">token</span><span class="op" id="7477798">.</span><span class="ident" id="7477799">IMAG</span><span class="op" id="7477803">,</span>&nbsp;<span class="string" id="7477805">&#34;1e-100i&#34;</span><span class="op" id="7477814">,</span>&nbsp;<span class="ident" id="7477816">literal</span><span class="op" id="7477823">}</span><span class="op" id="7477824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477827">{</span><span class="ident" id="7477828">token</span><span class="op" id="7477833">.</span><span class="ident" id="7477834">IMAG</span><span class="op" id="7477838">,</span>&nbsp;<span class="string" id="7477840">&#34;2.71828e-1000i&#34;</span><span class="op" id="7477856">,</span>&nbsp;<span class="ident" id="7477858">literal</span><span class="op" id="7477865">}</span><span class="op" id="7477866">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477869">{</span><span class="ident" id="7477870">token</span><span class="op" id="7477875">.</span><span class="ident" id="7477876">CHAR</span><span class="op" id="7477880">,</span>&nbsp;<span class="string" id="7477882">&#34;&#39;a&#39;&#34;</span><span class="op" id="7477887">,</span>&nbsp;<span class="ident" id="7477889">literal</span><span class="op" id="7477896">}</span><span class="op" id="7477897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477900">{</span><span class="ident" id="7477901">token</span><span class="op" id="7477906">.</span><span class="ident" id="7477907">CHAR</span><span class="op" id="7477911">,</span>&nbsp;<span class="string" id="7477913">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="7477922">,</span>&nbsp;<span class="ident" id="7477924">literal</span><span class="op" id="7477931">}</span><span class="op" id="7477932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477935">{</span><span class="ident" id="7477936">token</span><span class="op" id="7477941">.</span><span class="ident" id="7477942">CHAR</span><span class="op" id="7477946">,</span>&nbsp;<span class="string" id="7477948">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="7477957">,</span>&nbsp;<span class="ident" id="7477959">literal</span><span class="op" id="7477966">}</span><span class="op" id="7477967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477970">{</span><span class="ident" id="7477971">token</span><span class="op" id="7477976">.</span><span class="ident" id="7477977">CHAR</span><span class="op" id="7477981">,</span>&nbsp;<span class="string" id="7477983">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="7477994">,</span>&nbsp;<span class="ident" id="7477996">literal</span><span class="op" id="7478003">}</span><span class="op" id="7478004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478007">{</span><span class="ident" id="7478008">token</span><span class="op" id="7478013">.</span><span class="ident" id="7478014">CHAR</span><span class="op" id="7478018">,</span>&nbsp;<span class="string" id="7478020">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="7478035">,</span>&nbsp;<span class="ident" id="7478037">literal</span><span class="op" id="7478044">}</span><span class="op" id="7478045">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478048">{</span><span class="ident" id="7478049">token</span><span class="op" id="7478054">.</span><span class="ident" id="7478055">STRING</span><span class="op" id="7478061">,</span>&nbsp;<span class="string" id="7478063">&#34;`foobar`&#34;</span><span class="op" id="7478073">,</span>&nbsp;<span class="ident" id="7478075">literal</span><span class="op" id="7478082">}</span><span class="op" id="7478083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478086">{</span><span class="ident" id="7478087">token</span><span class="op" id="7478092">.</span><span class="ident" id="7478093">STRING</span><span class="op" id="7478099">,</span>&nbsp;<span class="string" id="7478101">&#34;`&#34;</span>&nbsp;<span class="op" id="7478105">+</span>&nbsp;<span class="string" id="7478107">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="7478142">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7478146">&#34;`&#34;</span><span class="op" id="7478149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478153">literal</span><span class="op" id="7478160">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478163">}</span><span class="op" id="7478164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478167">{</span><span class="ident" id="7478168">token</span><span class="op" id="7478173">.</span><span class="ident" id="7478174">STRING</span><span class="op" id="7478180">,</span>&nbsp;<span class="string" id="7478182">&#34;`\r`&#34;</span><span class="op" id="7478188">,</span>&nbsp;<span class="ident" id="7478190">literal</span><span class="op" id="7478197">}</span><span class="op" id="7478198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478201">{</span><span class="ident" id="7478202">token</span><span class="op" id="7478207">.</span><span class="ident" id="7478208">STRING</span><span class="op" id="7478214">,</span>&nbsp;<span class="string" id="7478216">&#34;`foo\r\nbar`&#34;</span><span class="op" id="7478230">,</span>&nbsp;<span class="ident" id="7478232">literal</span><span class="op" id="7478239">}</span><span class="op" id="7478240">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7478244">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478273">{</span><span class="ident" id="7478274">token</span><span class="op" id="7478279">.</span><span class="ident" id="7478280">ADD</span><span class="op" id="7478283">,</span>&nbsp;<span class="string" id="7478285">&#34;+&#34;</span><span class="op" id="7478288">,</span>&nbsp;<span class="ident" id="7478290">operator</span><span class="op" id="7478298">}</span><span class="op" id="7478299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478302">{</span><span class="ident" id="7478303">token</span><span class="op" id="7478308">.</span><span class="ident" id="7478309">SUB</span><span class="op" id="7478312">,</span>&nbsp;<span class="string" id="7478314">&#34;-&#34;</span><span class="op" id="7478317">,</span>&nbsp;<span class="ident" id="7478319">operator</span><span class="op" id="7478327">}</span><span class="op" id="7478328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478331">{</span><span class="ident" id="7478332">token</span><span class="op" id="7478337">.</span><span class="ident" id="7478338">MUL</span><span class="op" id="7478341">,</span>&nbsp;<span class="string" id="7478343">&#34;*&#34;</span><span class="op" id="7478346">,</span>&nbsp;<span class="ident" id="7478348">operator</span><span class="op" id="7478356">}</span><span class="op" id="7478357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478360">{</span><span class="ident" id="7478361">token</span><span class="op" id="7478366">.</span><span class="ident" id="7478367">QUO</span><span class="op" id="7478370">,</span>&nbsp;<span class="string" id="7478372">&#34;/&#34;</span><span class="op" id="7478375">,</span>&nbsp;<span class="ident" id="7478377">operator</span><span class="op" id="7478385">}</span><span class="op" id="7478386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478389">{</span><span class="ident" id="7478390">token</span><span class="op" id="7478395">.</span><span class="ident" id="7478396">REM</span><span class="op" id="7478399">,</span>&nbsp;<span class="string" id="7478401">&#34;%&#34;</span><span class="op" id="7478404">,</span>&nbsp;<span class="ident" id="7478406">operator</span><span class="op" id="7478414">}</span><span class="op" id="7478415">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478419">{</span><span class="ident" id="7478420">token</span><span class="op" id="7478425">.</span><span class="ident" id="7478426">AND</span><span class="op" id="7478429">,</span>&nbsp;<span class="string" id="7478431">&#34;&amp;&#34;</span><span class="op" id="7478434">,</span>&nbsp;<span class="ident" id="7478436">operator</span><span class="op" id="7478444">}</span><span class="op" id="7478445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478448">{</span><span class="ident" id="7478449">token</span><span class="op" id="7478454">.</span><span class="ident" id="7478455">OR</span><span class="op" id="7478457">,</span>&nbsp;<span class="string" id="7478459">&#34;|&#34;</span><span class="op" id="7478462">,</span>&nbsp;<span class="ident" id="7478464">operator</span><span class="op" id="7478472">}</span><span class="op" id="7478473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478476">{</span><span class="ident" id="7478477">token</span><span class="op" id="7478482">.</span><span class="ident" id="7478483">XOR</span><span class="op" id="7478486">,</span>&nbsp;<span class="string" id="7478488">&#34;^&#34;</span><span class="op" id="7478491">,</span>&nbsp;<span class="ident" id="7478493">operator</span><span class="op" id="7478501">}</span><span class="op" id="7478502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478505">{</span><span class="ident" id="7478506">token</span><span class="op" id="7478511">.</span><span class="ident" id="7478512">SHL</span><span class="op" id="7478515">,</span>&nbsp;<span class="string" id="7478517">&#34;&lt;&lt;&#34;</span><span class="op" id="7478521">,</span>&nbsp;<span class="ident" id="7478523">operator</span><span class="op" id="7478531">}</span><span class="op" id="7478532">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478535">{</span><span class="ident" id="7478536">token</span><span class="op" id="7478541">.</span><span class="ident" id="7478542">SHR</span><span class="op" id="7478545">,</span>&nbsp;<span class="string" id="7478547">&#34;&gt;&gt;&#34;</span><span class="op" id="7478551">,</span>&nbsp;<span class="ident" id="7478553">operator</span><span class="op" id="7478561">}</span><span class="op" id="7478562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478565">{</span><span class="ident" id="7478566">token</span><span class="op" id="7478571">.</span><span class="ident" id="7478572">AND_NOT</span><span class="op" id="7478579">,</span>&nbsp;<span class="string" id="7478581">&#34;&amp;^&#34;</span><span class="op" id="7478585">,</span>&nbsp;<span class="ident" id="7478587">operator</span><span class="op" id="7478595">}</span><span class="op" id="7478596">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478600">{</span><span class="ident" id="7478601">token</span><span class="op" id="7478606">.</span><span class="ident" id="7478607">ADD_ASSIGN</span><span class="op" id="7478617">,</span>&nbsp;<span class="string" id="7478619">&#34;+=&#34;</span><span class="op" id="7478623">,</span>&nbsp;<span class="ident" id="7478625">operator</span><span class="op" id="7478633">}</span><span class="op" id="7478634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478637">{</span><span class="ident" id="7478638">token</span><span class="op" id="7478643">.</span><span class="ident" id="7478644">SUB_ASSIGN</span><span class="op" id="7478654">,</span>&nbsp;<span class="string" id="7478656">&#34;-=&#34;</span><span class="op" id="7478660">,</span>&nbsp;<span class="ident" id="7478662">operator</span><span class="op" id="7478670">}</span><span class="op" id="7478671">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478674">{</span><span class="ident" id="7478675">token</span><span class="op" id="7478680">.</span><span class="ident" id="7478681">MUL_ASSIGN</span><span class="op" id="7478691">,</span>&nbsp;<span class="string" id="7478693">&#34;*=&#34;</span><span class="op" id="7478697">,</span>&nbsp;<span class="ident" id="7478699">operator</span><span class="op" id="7478707">}</span><span class="op" id="7478708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478711">{</span><span class="ident" id="7478712">token</span><span class="op" id="7478717">.</span><span class="ident" id="7478718">QUO_ASSIGN</span><span class="op" id="7478728">,</span>&nbsp;<span class="string" id="7478730">&#34;/=&#34;</span><span class="op" id="7478734">,</span>&nbsp;<span class="ident" id="7478736">operator</span><span class="op" id="7478744">}</span><span class="op" id="7478745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478748">{</span><span class="ident" id="7478749">token</span><span class="op" id="7478754">.</span><span class="ident" id="7478755">REM_ASSIGN</span><span class="op" id="7478765">,</span>&nbsp;<span class="string" id="7478767">&#34;%=&#34;</span><span class="op" id="7478771">,</span>&nbsp;<span class="ident" id="7478773">operator</span><span class="op" id="7478781">}</span><span class="op" id="7478782">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478786">{</span><span class="ident" id="7478787">token</span><span class="op" id="7478792">.</span><span class="ident" id="7478793">AND_ASSIGN</span><span class="op" id="7478803">,</span>&nbsp;<span class="string" id="7478805">&#34;&amp;=&#34;</span><span class="op" id="7478809">,</span>&nbsp;<span class="ident" id="7478811">operator</span><span class="op" id="7478819">}</span><span class="op" id="7478820">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478823">{</span><span class="ident" id="7478824">token</span><span class="op" id="7478829">.</span><span class="ident" id="7478830">OR_ASSIGN</span><span class="op" id="7478839">,</span>&nbsp;<span class="string" id="7478841">&#34;|=&#34;</span><span class="op" id="7478845">,</span>&nbsp;<span class="ident" id="7478847">operator</span><span class="op" id="7478855">}</span><span class="op" id="7478856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478859">{</span><span class="ident" id="7478860">token</span><span class="op" id="7478865">.</span><span class="ident" id="7478866">XOR_ASSIGN</span><span class="op" id="7478876">,</span>&nbsp;<span class="string" id="7478878">&#34;^=&#34;</span><span class="op" id="7478882">,</span>&nbsp;<span class="ident" id="7478884">operator</span><span class="op" id="7478892">}</span><span class="op" id="7478893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478896">{</span><span class="ident" id="7478897">token</span><span class="op" id="7478902">.</span><span class="ident" id="7478903">SHL_ASSIGN</span><span class="op" id="7478913">,</span>&nbsp;<span class="string" id="7478915">&#34;&lt;&lt;=&#34;</span><span class="op" id="7478920">,</span>&nbsp;<span class="ident" id="7478922">operator</span><span class="op" id="7478930">}</span><span class="op" id="7478931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478934">{</span><span class="ident" id="7478935">token</span><span class="op" id="7478940">.</span><span class="ident" id="7478941">SHR_ASSIGN</span><span class="op" id="7478951">,</span>&nbsp;<span class="string" id="7478953">&#34;&gt;&gt;=&#34;</span><span class="op" id="7478958">,</span>&nbsp;<span class="ident" id="7478960">operator</span><span class="op" id="7478968">}</span><span class="op" id="7478969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478972">{</span><span class="ident" id="7478973">token</span><span class="op" id="7478978">.</span><span class="ident" id="7478979">AND_NOT_ASSIGN</span><span class="op" id="7478993">,</span>&nbsp;<span class="string" id="7478995">&#34;&amp;^=&#34;</span><span class="op" id="7479000">,</span>&nbsp;<span class="ident" id="7479002">operator</span><span class="op" id="7479010">}</span><span class="op" id="7479011">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479015">{</span><span class="ident" id="7479016">token</span><span class="op" id="7479021">.</span><span class="ident" id="7479022">LAND</span><span class="op" id="7479026">,</span>&nbsp;<span class="string" id="7479028">&#34;&amp;&amp;&#34;</span><span class="op" id="7479032">,</span>&nbsp;<span class="ident" id="7479034">operator</span><span class="op" id="7479042">}</span><span class="op" id="7479043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479046">{</span><span class="ident" id="7479047">token</span><span class="op" id="7479052">.</span><span class="ident" id="7479053">LOR</span><span class="op" id="7479056">,</span>&nbsp;<span class="string" id="7479058">&#34;||&#34;</span><span class="op" id="7479062">,</span>&nbsp;<span class="ident" id="7479064">operator</span><span class="op" id="7479072">}</span><span class="op" id="7479073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479076">{</span><span class="ident" id="7479077">token</span><span class="op" id="7479082">.</span><span class="ident" id="7479083">ARROW</span><span class="op" id="7479088">,</span>&nbsp;<span class="string" id="7479090">&#34;&lt;-&#34;</span><span class="op" id="7479094">,</span>&nbsp;<span class="ident" id="7479096">operator</span><span class="op" id="7479104">}</span><span class="op" id="7479105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479108">{</span><span class="ident" id="7479109">token</span><span class="op" id="7479114">.</span><span class="ident" id="7479115">INC</span><span class="op" id="7479118">,</span>&nbsp;<span class="string" id="7479120">&#34;++&#34;</span><span class="op" id="7479124">,</span>&nbsp;<span class="ident" id="7479126">operator</span><span class="op" id="7479134">}</span><span class="op" id="7479135">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479138">{</span><span class="ident" id="7479139">token</span><span class="op" id="7479144">.</span><span class="ident" id="7479145">DEC</span><span class="op" id="7479148">,</span>&nbsp;<span class="string" id="7479150">&#34;--&#34;</span><span class="op" id="7479154">,</span>&nbsp;<span class="ident" id="7479156">operator</span><span class="op" id="7479164">}</span><span class="op" id="7479165">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479169">{</span><span class="ident" id="7479170">token</span><span class="op" id="7479175">.</span><span class="ident" id="7479176">EQL</span><span class="op" id="7479179">,</span>&nbsp;<span class="string" id="7479181">&#34;==&#34;</span><span class="op" id="7479185">,</span>&nbsp;<span class="ident" id="7479187">operator</span><span class="op" id="7479195">}</span><span class="op" id="7479196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479199">{</span><span class="ident" id="7479200">token</span><span class="op" id="7479205">.</span><span class="ident" id="7479206">LSS</span><span class="op" id="7479209">,</span>&nbsp;<span class="string" id="7479211">&#34;&lt;&#34;</span><span class="op" id="7479214">,</span>&nbsp;<span class="ident" id="7479216">operator</span><span class="op" id="7479224">}</span><span class="op" id="7479225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479228">{</span><span class="ident" id="7479229">token</span><span class="op" id="7479234">.</span><span class="ident" id="7479235">GTR</span><span class="op" id="7479238">,</span>&nbsp;<span class="string" id="7479240">&#34;&gt;&#34;</span><span class="op" id="7479243">,</span>&nbsp;<span class="ident" id="7479245">operator</span><span class="op" id="7479253">}</span><span class="op" id="7479254">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479257">{</span><span class="ident" id="7479258">token</span><span class="op" id="7479263">.</span><span class="ident" id="7479264">ASSIGN</span><span class="op" id="7479270">,</span>&nbsp;<span class="string" id="7479272">&#34;=&#34;</span><span class="op" id="7479275">,</span>&nbsp;<span class="ident" id="7479277">operator</span><span class="op" id="7479285">}</span><span class="op" id="7479286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479289">{</span><span class="ident" id="7479290">token</span><span class="op" id="7479295">.</span><span class="ident" id="7479296">NOT</span><span class="op" id="7479299">,</span>&nbsp;<span class="string" id="7479301">&#34;!&#34;</span><span class="op" id="7479304">,</span>&nbsp;<span class="ident" id="7479306">operator</span><span class="op" id="7479314">}</span><span class="op" id="7479315">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479319">{</span><span class="ident" id="7479320">token</span><span class="op" id="7479325">.</span><span class="ident" id="7479326">NEQ</span><span class="op" id="7479329">,</span>&nbsp;<span class="string" id="7479331">&#34;!=&#34;</span><span class="op" id="7479335">,</span>&nbsp;<span class="ident" id="7479337">operator</span><span class="op" id="7479345">}</span><span class="op" id="7479346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479349">{</span><span class="ident" id="7479350">token</span><span class="op" id="7479355">.</span><span class="ident" id="7479356">LEQ</span><span class="op" id="7479359">,</span>&nbsp;<span class="string" id="7479361">&#34;&lt;=&#34;</span><span class="op" id="7479365">,</span>&nbsp;<span class="ident" id="7479367">operator</span><span class="op" id="7479375">}</span><span class="op" id="7479376">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479379">{</span><span class="ident" id="7479380">token</span><span class="op" id="7479385">.</span><span class="ident" id="7479386">GEQ</span><span class="op" id="7479389">,</span>&nbsp;<span class="string" id="7479391">&#34;&gt;=&#34;</span><span class="op" id="7479395">,</span>&nbsp;<span class="ident" id="7479397">operator</span><span class="op" id="7479405">}</span><span class="op" id="7479406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479409">{</span><span class="ident" id="7479410">token</span><span class="op" id="7479415">.</span><span class="ident" id="7479416">DEFINE</span><span class="op" id="7479422">,</span>&nbsp;<span class="string" id="7479424">&#34;:=&#34;</span><span class="op" id="7479428">,</span>&nbsp;<span class="ident" id="7479430">operator</span><span class="op" id="7479438">}</span><span class="op" id="7479439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479442">{</span><span class="ident" id="7479443">token</span><span class="op" id="7479448">.</span><span class="ident" id="7479449">ELLIPSIS</span><span class="op" id="7479457">,</span>&nbsp;<span class="string" id="7479459">&#34;...&#34;</span><span class="op" id="7479464">,</span>&nbsp;<span class="ident" id="7479466">operator</span><span class="op" id="7479474">}</span><span class="op" id="7479475">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479479">{</span><span class="ident" id="7479480">token</span><span class="op" id="7479485">.</span><span class="ident" id="7479486">LPAREN</span><span class="op" id="7479492">,</span>&nbsp;<span class="string" id="7479494">&#34;(&#34;</span><span class="op" id="7479497">,</span>&nbsp;<span class="ident" id="7479499">operator</span><span class="op" id="7479507">}</span><span class="op" id="7479508">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479511">{</span><span class="ident" id="7479512">token</span><span class="op" id="7479517">.</span><span class="ident" id="7479518">LBRACK</span><span class="op" id="7479524">,</span>&nbsp;<span class="string" id="7479526">&#34;[&#34;</span><span class="op" id="7479529">,</span>&nbsp;<span class="ident" id="7479531">operator</span><span class="op" id="7479539">}</span><span class="op" id="7479540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479543">{</span><span class="ident" id="7479544">token</span><span class="op" id="7479549">.</span><span class="ident" id="7479550">LBRACE</span><span class="op" id="7479556">,</span>&nbsp;<span class="string" id="7479558">&#34;{&#34;</span><span class="op" id="7479561">,</span>&nbsp;<span class="ident" id="7479563">operator</span><span class="op" id="7479571">}</span><span class="op" id="7479572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479575">{</span><span class="ident" id="7479576">token</span><span class="op" id="7479581">.</span><span class="ident" id="7479582">COMMA</span><span class="op" id="7479587">,</span>&nbsp;<span class="string" id="7479589">&#34;,&#34;</span><span class="op" id="7479592">,</span>&nbsp;<span class="ident" id="7479594">operator</span><span class="op" id="7479602">}</span><span class="op" id="7479603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479606">{</span><span class="ident" id="7479607">token</span><span class="op" id="7479612">.</span><span class="ident" id="7479613">PERIOD</span><span class="op" id="7479619">,</span>&nbsp;<span class="string" id="7479621">&#34;.&#34;</span><span class="op" id="7479624">,</span>&nbsp;<span class="ident" id="7479626">operator</span><span class="op" id="7479634">}</span><span class="op" id="7479635">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479639">{</span><span class="ident" id="7479640">token</span><span class="op" id="7479645">.</span><span class="ident" id="7479646">RPAREN</span><span class="op" id="7479652">,</span>&nbsp;<span class="string" id="7479654">&#34;)&#34;</span><span class="op" id="7479657">,</span>&nbsp;<span class="ident" id="7479659">operator</span><span class="op" id="7479667">}</span><span class="op" id="7479668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479671">{</span><span class="ident" id="7479672">token</span><span class="op" id="7479677">.</span><span class="ident" id="7479678">RBRACK</span><span class="op" id="7479684">,</span>&nbsp;<span class="string" id="7479686">&#34;]&#34;</span><span class="op" id="7479689">,</span>&nbsp;<span class="ident" id="7479691">operator</span><span class="op" id="7479699">}</span><span class="op" id="7479700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479703">{</span><span class="ident" id="7479704">token</span><span class="op" id="7479709">.</span><span class="ident" id="7479710">RBRACE</span><span class="op" id="7479716">,</span>&nbsp;<span class="string" id="7479718">&#34;}&#34;</span><span class="op" id="7479721">,</span>&nbsp;<span class="ident" id="7479723">operator</span><span class="op" id="7479731">}</span><span class="op" id="7479732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479735">{</span><span class="ident" id="7479736">token</span><span class="op" id="7479741">.</span><span class="ident" id="7479742">SEMICOLON</span><span class="op" id="7479751">,</span>&nbsp;<span class="string" id="7479753">&#34;;&#34;</span><span class="op" id="7479756">,</span>&nbsp;<span class="ident" id="7479758">operator</span><span class="op" id="7479766">}</span><span class="op" id="7479767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479770">{</span><span class="ident" id="7479771">token</span><span class="op" id="7479776">.</span><span class="ident" id="7479777">COLON</span><span class="op" id="7479782">,</span>&nbsp;<span class="string" id="7479784">&#34;:&#34;</span><span class="op" id="7479787">,</span>&nbsp;<span class="ident" id="7479789">operator</span><span class="op" id="7479797">}</span><span class="op" id="7479798">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7479802">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479815">{</span><span class="ident" id="7479816">token</span><span class="op" id="7479821">.</span><span class="ident" id="7479822">BREAK</span><span class="op" id="7479827">,</span>&nbsp;<span class="string" id="7479829">&#34;break&#34;</span><span class="op" id="7479836">,</span>&nbsp;<span class="ident" id="7479838">keyword</span><span class="op" id="7479845">}</span><span class="op" id="7479846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479849">{</span><span class="ident" id="7479850">token</span><span class="op" id="7479855">.</span><span class="ident" id="7479856">CASE</span><span class="op" id="7479860">,</span>&nbsp;<span class="string" id="7479862">&#34;case&#34;</span><span class="op" id="7479868">,</span>&nbsp;<span class="ident" id="7479870">keyword</span><span class="op" id="7479877">}</span><span class="op" id="7479878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479881">{</span><span class="ident" id="7479882">token</span><span class="op" id="7479887">.</span><span class="ident" id="7479888">CHAN</span><span class="op" id="7479892">,</span>&nbsp;<span class="string" id="7479894">&#34;chan&#34;</span><span class="op" id="7479900">,</span>&nbsp;<span class="ident" id="7479902">keyword</span><span class="op" id="7479909">}</span><span class="op" id="7479910">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479913">{</span><span class="ident" id="7479914">token</span><span class="op" id="7479919">.</span><span class="ident" id="7479920">CONST</span><span class="op" id="7479925">,</span>&nbsp;<span class="string" id="7479927">&#34;const&#34;</span><span class="op" id="7479934">,</span>&nbsp;<span class="ident" id="7479936">keyword</span><span class="op" id="7479943">}</span><span class="op" id="7479944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479947">{</span><span class="ident" id="7479948">token</span><span class="op" id="7479953">.</span><span class="ident" id="7479954">CONTINUE</span><span class="op" id="7479962">,</span>&nbsp;<span class="string" id="7479964">&#34;continue&#34;</span><span class="op" id="7479974">,</span>&nbsp;<span class="ident" id="7479976">keyword</span><span class="op" id="7479983">}</span><span class="op" id="7479984">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479988">{</span><span class="ident" id="7479989">token</span><span class="op" id="7479994">.</span><span class="ident" id="7479995">DEFAULT</span><span class="op" id="7480002">,</span>&nbsp;<span class="string" id="7480004">&#34;default&#34;</span><span class="op" id="7480013">,</span>&nbsp;<span class="ident" id="7480015">keyword</span><span class="op" id="7480022">}</span><span class="op" id="7480023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480026">{</span><span class="ident" id="7480027">token</span><span class="op" id="7480032">.</span><span class="ident" id="7480033">DEFER</span><span class="op" id="7480038">,</span>&nbsp;<span class="string" id="7480040">&#34;defer&#34;</span><span class="op" id="7480047">,</span>&nbsp;<span class="ident" id="7480049">keyword</span><span class="op" id="7480056">}</span><span class="op" id="7480057">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480060">{</span><span class="ident" id="7480061">token</span><span class="op" id="7480066">.</span><span class="ident" id="7480067">ELSE</span><span class="op" id="7480071">,</span>&nbsp;<span class="string" id="7480073">&#34;else&#34;</span><span class="op" id="7480079">,</span>&nbsp;<span class="ident" id="7480081">keyword</span><span class="op" id="7480088">}</span><span class="op" id="7480089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480092">{</span><span class="ident" id="7480093">token</span><span class="op" id="7480098">.</span><span class="ident" id="7480099">FALLTHROUGH</span><span class="op" id="7480110">,</span>&nbsp;<span class="string" id="7480112">&#34;fallthrough&#34;</span><span class="op" id="7480125">,</span>&nbsp;<span class="ident" id="7480127">keyword</span><span class="op" id="7480134">}</span><span class="op" id="7480135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480138">{</span><span class="ident" id="7480139">token</span><span class="op" id="7480144">.</span><span class="ident" id="7480145">FOR</span><span class="op" id="7480148">,</span>&nbsp;<span class="string" id="7480150">&#34;for&#34;</span><span class="op" id="7480155">,</span>&nbsp;<span class="ident" id="7480157">keyword</span><span class="op" id="7480164">}</span><span class="op" id="7480165">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480169">{</span><span class="ident" id="7480170">token</span><span class="op" id="7480175">.</span><span class="ident" id="7480176">FUNC</span><span class="op" id="7480180">,</span>&nbsp;<span class="string" id="7480182">&#34;func&#34;</span><span class="op" id="7480188">,</span>&nbsp;<span class="ident" id="7480190">keyword</span><span class="op" id="7480197">}</span><span class="op" id="7480198">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480201">{</span><span class="ident" id="7480202">token</span><span class="op" id="7480207">.</span><span class="ident" id="7480208">GO</span><span class="op" id="7480210">,</span>&nbsp;<span class="string" id="7480212">&#34;go&#34;</span><span class="op" id="7480216">,</span>&nbsp;<span class="ident" id="7480218">keyword</span><span class="op" id="7480225">}</span><span class="op" id="7480226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480229">{</span><span class="ident" id="7480230">token</span><span class="op" id="7480235">.</span><span class="ident" id="7480236">GOTO</span><span class="op" id="7480240">,</span>&nbsp;<span class="string" id="7480242">&#34;goto&#34;</span><span class="op" id="7480248">,</span>&nbsp;<span class="ident" id="7480250">keyword</span><span class="op" id="7480257">}</span><span class="op" id="7480258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480261">{</span><span class="ident" id="7480262">token</span><span class="op" id="7480267">.</span><span class="ident" id="7480268">IF</span><span class="op" id="7480270">,</span>&nbsp;<span class="string" id="7480272">&#34;if&#34;</span><span class="op" id="7480276">,</span>&nbsp;<span class="ident" id="7480278">keyword</span><span class="op" id="7480285">}</span><span class="op" id="7480286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480289">{</span><span class="ident" id="7480290">token</span><span class="op" id="7480295">.</span><span class="ident" id="7480296">IMPORT</span><span class="op" id="7480302">,</span>&nbsp;<span class="string" id="7480304">&#34;import&#34;</span><span class="op" id="7480312">,</span>&nbsp;<span class="ident" id="7480314">keyword</span><span class="op" id="7480321">}</span><span class="op" id="7480322">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480326">{</span><span class="ident" id="7480327">token</span><span class="op" id="7480332">.</span><span class="ident" id="7480333">INTERFACE</span><span class="op" id="7480342">,</span>&nbsp;<span class="string" id="7480344">&#34;interface&#34;</span><span class="op" id="7480355">,</span>&nbsp;<span class="ident" id="7480357">keyword</span><span class="op" id="7480364">}</span><span class="op" id="7480365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480368">{</span><span class="ident" id="7480369">token</span><span class="op" id="7480374">.</span><span class="ident" id="7480375">MAP</span><span class="op" id="7480378">,</span>&nbsp;<span class="string" id="7480380">&#34;map&#34;</span><span class="op" id="7480385">,</span>&nbsp;<span class="ident" id="7480387">keyword</span><span class="op" id="7480394">}</span><span class="op" id="7480395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480398">{</span><span class="ident" id="7480399">token</span><span class="op" id="7480404">.</span><span class="ident" id="7480405">PACKAGE</span><span class="op" id="7480412">,</span>&nbsp;<span class="string" id="7480414">&#34;package&#34;</span><span class="op" id="7480423">,</span>&nbsp;<span class="ident" id="7480425">keyword</span><span class="op" id="7480432">}</span><span class="op" id="7480433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480436">{</span><span class="ident" id="7480437">token</span><span class="op" id="7480442">.</span><span class="ident" id="7480443">RANGE</span><span class="op" id="7480448">,</span>&nbsp;<span class="string" id="7480450">&#34;range&#34;</span><span class="op" id="7480457">,</span>&nbsp;<span class="ident" id="7480459">keyword</span><span class="op" id="7480466">}</span><span class="op" id="7480467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480470">{</span><span class="ident" id="7480471">token</span><span class="op" id="7480476">.</span><span class="ident" id="7480477">RETURN</span><span class="op" id="7480483">,</span>&nbsp;<span class="string" id="7480485">&#34;return&#34;</span><span class="op" id="7480493">,</span>&nbsp;<span class="ident" id="7480495">keyword</span><span class="op" id="7480502">}</span><span class="op" id="7480503">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480507">{</span><span class="ident" id="7480508">token</span><span class="op" id="7480513">.</span><span class="ident" id="7480514">SELECT</span><span class="op" id="7480520">,</span>&nbsp;<span class="string" id="7480522">&#34;select&#34;</span><span class="op" id="7480530">,</span>&nbsp;<span class="ident" id="7480532">keyword</span><span class="op" id="7480539">}</span><span class="op" id="7480540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480543">{</span><span class="ident" id="7480544">token</span><span class="op" id="7480549">.</span><span class="ident" id="7480550">STRUCT</span><span class="op" id="7480556">,</span>&nbsp;<span class="string" id="7480558">&#34;struct&#34;</span><span class="op" id="7480566">,</span>&nbsp;<span class="ident" id="7480568">keyword</span><span class="op" id="7480575">}</span><span class="op" id="7480576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480579">{</span><span class="ident" id="7480580">token</span><span class="op" id="7480585">.</span><span class="ident" id="7480586">SWITCH</span><span class="op" id="7480592">,</span>&nbsp;<span class="string" id="7480594">&#34;switch&#34;</span><span class="op" id="7480602">,</span>&nbsp;<span class="ident" id="7480604">keyword</span><span class="op" id="7480611">}</span><span class="op" id="7480612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480615">{</span><span class="ident" id="7480616">token</span><span class="op" id="7480621">.</span><span class="ident" id="7480622">TYPE</span><span class="op" id="7480626">,</span>&nbsp;<span class="string" id="7480628">&#34;type&#34;</span><span class="op" id="7480634">,</span>&nbsp;<span class="ident" id="7480636">keyword</span><span class="op" id="7480643">}</span><span class="op" id="7480644">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480647">{</span><span class="ident" id="7480648">token</span><span class="op" id="7480653">.</span><span class="ident" id="7480654">VAR</span><span class="op" id="7480657">,</span>&nbsp;<span class="string" id="7480659">&#34;var&#34;</span><span class="op" id="7480664">,</span>&nbsp;<span class="ident" id="7480666">keyword</span><span class="op" id="7480673">}</span><span class="op" id="7480674">,</span><br>
<span class="lineno"></span><span class="op" id="7480676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7480679">const</span>&nbsp;<span class="ident" id="7480685">whitespace</span>&nbsp;<span class="op" id="7480696">=</span>&nbsp;<span class="string" id="7480698">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="7480713">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="7480736">var</span>&nbsp;<span class="ident" id="7480740">source</span>&nbsp;<span class="op" id="7480747">=</span>&nbsp;<span class="keyword" id="7480749">func</span><span class="op" id="7480753">(</span><span class="op" id="7480754">)</span>&nbsp;<span class="op" id="7480756">[</span><span class="op" id="7480757">]</span><span class="builtintype" id="7480758">byte</span>&nbsp;<span class="op" id="7480763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480766">var</span>&nbsp;<span class="ident" id="7480770">src</span>&nbsp;<span class="op" id="7480774">[</span><span class="op" id="7480775">]</span><span class="builtintype" id="7480776">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480782">for</span>&nbsp;<span class="ident" id="7480786">_</span><span class="op" id="7480787">,</span>&nbsp;<span class="ident" id="7480789">t</span>&nbsp;<span class="op" id="7480791">:=</span>&nbsp;<span class="keyword" id="7480794">range</span>&nbsp;<span class="ident" id="7480800">tokens</span>&nbsp;<span class="op" id="7480807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480811">src</span>&nbsp;<span class="op" id="7480815">=</span>&nbsp;<span class="builtinfunc" id="7480817">append</span><span class="op" id="7480823">(</span><span class="ident" id="7480824">src</span><span class="op" id="7480827">,</span>&nbsp;<span class="ident" id="7480829">t</span><span class="op" id="7480830">.</span><span class="ident" id="7480831">lit</span><span class="op" id="7480834">...</span><span class="op" id="7480837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480841">src</span>&nbsp;<span class="op" id="7480845">=</span>&nbsp;<span class="builtinfunc" id="7480847">append</span><span class="op" id="7480853">(</span><span class="ident" id="7480854">src</span><span class="op" id="7480857">,</span>&nbsp;<span class="ident" id="7480859">whitespace</span><span class="op" id="7480869">...</span><span class="op" id="7480872">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480878">return</span>&nbsp;<span class="ident" id="7480885">src</span><br>
<span class="lineno"></span><span class="op" id="7480889">}</span><span class="op" id="7480890">(</span><span class="op" id="7480891">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7480894">func</span>&nbsp;<span class="ident" id="7480899">newlineCount</span><span class="op" id="7480911">(</span><span class="ident" id="7480912">s</span>&nbsp;<span class="builtintype" id="7480914">string</span><span class="op" id="7480920">)</span>&nbsp;<span class="builtintype" id="7480922">int</span>&nbsp;<span class="op" id="7480926">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480929">n</span>&nbsp;<span class="op" id="7480931">:=</span>&nbsp;<span class="num" id="7480934">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480937">for</span>&nbsp;<span class="ident" id="7480941">i</span>&nbsp;<span class="op" id="7480943">:=</span>&nbsp;<span class="num" id="7480946">0</span><span class="op" id="7480947">;</span>&nbsp;<span class="ident" id="7480949">i</span>&nbsp;<span class="op" id="7480951">&lt;</span>&nbsp;<span class="builtinfunc" id="7480953">len</span><span class="op" id="7480956">(</span><span class="ident" id="7480957">s</span><span class="op" id="7480958">)</span><span class="op" id="7480959">;</span>&nbsp;<span class="ident" id="7480961">i</span><span class="op" id="7480962">++</span>&nbsp;<span class="op" id="7480965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480969">if</span>&nbsp;<span class="ident" id="7480972">s</span><span class="op" id="7480973">[</span><span class="ident" id="7480974">i</span><span class="op" id="7480975">]</span>&nbsp;<span class="op" id="7480977">==</span>&nbsp;<span class="string" id="7480980">&#39;\n&#39;</span>&nbsp;<span class="op" id="7480985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480990">n</span><span class="op" id="7480991">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480996">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481002">return</span>&nbsp;<span class="ident" id="7481009">n</span><br>
<span class="lineno"></span><span class="op" id="7481011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7481014">func</span>&nbsp;<span class="ident" id="7481019">checkPos</span><span class="op" id="7481027">(</span><span class="ident" id="7481028">t</span>&nbsp;<span class="op" id="7481030">*</span><span class="ident" id="7481031">testing</span><span class="op" id="7481038">.</span><span class="ident" id="7481039">T</span><span class="op" id="7481040">,</span>&nbsp;<span class="ident" id="7481042">lit</span>&nbsp;<span class="builtintype" id="7481046">string</span><span class="op" id="7481052">,</span>&nbsp;<span class="ident" id="7481054">p</span>&nbsp;<span class="ident" id="7481056">token</span><span class="op" id="7481061">.</span><span class="ident" id="7481062">Pos</span><span class="op" id="7481065">,</span>&nbsp;<span class="ident" id="7481067">expected</span>&nbsp;<span class="ident" id="7481076">token</span><span class="op" id="7481081">.</span><span class="ident" id="7481082">Position</span><span class="op" id="7481090">)</span>&nbsp;<span class="op" id="7481092">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481095">pos</span>&nbsp;<span class="op" id="7481099">:=</span>&nbsp;<span class="ident" id="7481102">fset</span><span class="op" id="7481106">.</span><span class="ident" id="7481107">Position</span><span class="op" id="7481115">(</span><span class="ident" id="7481116">p</span><span class="op" id="7481117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481120">if</span>&nbsp;<span class="ident" id="7481123">pos</span><span class="op" id="7481126">.</span><span class="ident" id="7481127">Filename</span>&nbsp;<span class="op" id="7481136">!=</span>&nbsp;<span class="ident" id="7481139">expected</span><span class="op" id="7481147">.</span><span class="ident" id="7481148">Filename</span>&nbsp;<span class="op" id="7481157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481161">t</span><span class="op" id="7481162">.</span><span class="ident" id="7481163">Errorf</span><span class="op" id="7481169">(</span><span class="string" id="7481170">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7481212">,</span>&nbsp;<span class="ident" id="7481214">lit</span><span class="op" id="7481217">,</span>&nbsp;<span class="ident" id="7481219">pos</span><span class="op" id="7481222">.</span><span class="ident" id="7481223">Filename</span><span class="op" id="7481231">,</span>&nbsp;<span class="ident" id="7481233">expected</span><span class="op" id="7481241">.</span><span class="ident" id="7481242">Filename</span><span class="op" id="7481250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481256">if</span>&nbsp;<span class="ident" id="7481259">pos</span><span class="op" id="7481262">.</span><span class="ident" id="7481263">Offset</span>&nbsp;<span class="op" id="7481270">!=</span>&nbsp;<span class="ident" id="7481273">expected</span><span class="op" id="7481281">.</span><span class="ident" id="7481282">Offset</span>&nbsp;<span class="op" id="7481289">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481293">t</span><span class="op" id="7481294">.</span><span class="ident" id="7481295">Errorf</span><span class="op" id="7481301">(</span><span class="string" id="7481302">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7481344">,</span>&nbsp;<span class="ident" id="7481346">lit</span><span class="op" id="7481349">,</span>&nbsp;<span class="ident" id="7481351">pos</span><span class="op" id="7481354">.</span><span class="ident" id="7481355">Offset</span><span class="op" id="7481361">,</span>&nbsp;<span class="ident" id="7481363">expected</span><span class="op" id="7481371">.</span><span class="ident" id="7481372">Offset</span><span class="op" id="7481378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481384">if</span>&nbsp;<span class="ident" id="7481387">pos</span><span class="op" id="7481390">.</span><span class="ident" id="7481391">Line</span>&nbsp;<span class="op" id="7481396">!=</span>&nbsp;<span class="ident" id="7481399">expected</span><span class="op" id="7481407">.</span><span class="ident" id="7481408">Line</span>&nbsp;<span class="op" id="7481413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481417">t</span><span class="op" id="7481418">.</span><span class="ident" id="7481419">Errorf</span><span class="op" id="7481425">(</span><span class="string" id="7481426">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7481464">,</span>&nbsp;<span class="ident" id="7481466">lit</span><span class="op" id="7481469">,</span>&nbsp;<span class="ident" id="7481471">pos</span><span class="op" id="7481474">.</span><span class="ident" id="7481475">Line</span><span class="op" id="7481479">,</span>&nbsp;<span class="ident" id="7481481">expected</span><span class="op" id="7481489">.</span><span class="ident" id="7481490">Line</span><span class="op" id="7481494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481497">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481500">if</span>&nbsp;<span class="ident" id="7481503">pos</span><span class="op" id="7481506">.</span><span class="ident" id="7481507">Column</span>&nbsp;<span class="op" id="7481514">!=</span>&nbsp;<span class="ident" id="7481517">expected</span><span class="op" id="7481525">.</span><span class="ident" id="7481526">Column</span>&nbsp;<span class="op" id="7481533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481537">t</span><span class="op" id="7481538">.</span><span class="ident" id="7481539">Errorf</span><span class="op" id="7481545">(</span><span class="string" id="7481546">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7481586">,</span>&nbsp;<span class="ident" id="7481588">lit</span><span class="op" id="7481591">,</span>&nbsp;<span class="ident" id="7481593">pos</span><span class="op" id="7481596">.</span><span class="ident" id="7481597">Column</span><span class="op" id="7481603">,</span>&nbsp;<span class="ident" id="7481605">expected</span><span class="op" id="7481613">.</span><span class="ident" id="7481614">Column</span><span class="op" id="7481620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481623">}</span><br>
<span class="lineno"></span><span class="op" id="7481625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="7481628">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="7481688">func</span>&nbsp;<span class="ident" id="7481693">TestScan</span><span class="op" id="7481701">(</span><span class="ident" id="7481702">t</span>&nbsp;<span class="op" id="7481704">*</span><span class="ident" id="7481705">testing</span><span class="op" id="7481712">.</span><span class="ident" id="7481713">T</span><span class="op" id="7481714">)</span>&nbsp;<span class="op" id="7481716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481719">whitespace_linecount</span>&nbsp;<span class="op" id="7481740">:=</span>&nbsp;<span class="ident" id="7481743">newlineCount</span><span class="op" id="7481755">(</span><span class="ident" id="7481756">whitespace</span><span class="op" id="7481766">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481770">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481788">eh</span>&nbsp;<span class="op" id="7481791">:=</span>&nbsp;<span class="keyword" id="7481794">func</span><span class="op" id="7481798">(</span><span class="ident" id="7481799">_</span>&nbsp;<span class="ident" id="7481801">token</span><span class="op" id="7481806">.</span><span class="ident" id="7481807">Position</span><span class="op" id="7481815">,</span>&nbsp;<span class="ident" id="7481817">msg</span>&nbsp;<span class="builtintype" id="7481821">string</span><span class="op" id="7481827">)</span>&nbsp;<span class="op" id="7481829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481833">t</span><span class="op" id="7481834">.</span><span class="ident" id="7481835">Errorf</span><span class="op" id="7481841">(</span><span class="string" id="7481842">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="7481875">,</span>&nbsp;<span class="ident" id="7481877">msg</span><span class="op" id="7481880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481887">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481903">var</span>&nbsp;<span class="ident" id="7481907">s</span>&nbsp;<span class="ident" id="7481909">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481918">s</span><span class="op" id="7481919">.</span><span class="ident" id="7481920">Init</span><span class="op" id="7481924">(</span><span class="ident" id="7481925">fset</span><span class="op" id="7481929">.</span><span class="ident" id="7481930">AddFile</span><span class="op" id="7481937">(</span><span class="string" id="7481938">&#34;&#34;</span><span class="op" id="7481940">,</span>&nbsp;<span class="ident" id="7481942">fset</span><span class="op" id="7481946">.</span><span class="ident" id="7481947">Base</span><span class="op" id="7481951">(</span><span class="op" id="7481952">)</span><span class="op" id="7481953">,</span>&nbsp;<span class="builtinfunc" id="7481955">len</span><span class="op" id="7481958">(</span><span class="ident" id="7481959">source</span><span class="op" id="7481965">)</span><span class="op" id="7481966">)</span><span class="op" id="7481967">,</span>&nbsp;<span class="ident" id="7481969">source</span><span class="op" id="7481975">,</span>&nbsp;<span class="ident" id="7481977">eh</span><span class="op" id="7481979">,</span>&nbsp;<span class="ident" id="7481981">ScanComments</span><span class="op" id="7481993">|</span><span class="ident" id="7481994">dontInsertSemis</span><span class="op" id="7482009">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482013">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482042">epos</span>&nbsp;<span class="op" id="7482047">:=</span>&nbsp;<span class="ident" id="7482050">token</span><span class="op" id="7482055">.</span><span class="ident" id="7482056">Position</span><span class="op" id="7482064">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482068">Filename</span><span class="op" id="7482076">:</span>&nbsp;<span class="string" id="7482078">&#34;&#34;</span><span class="op" id="7482080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482084">Offset</span><span class="op" id="7482090">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7482094">0</span><span class="op" id="7482095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482099">Line</span><span class="op" id="7482103">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7482109">1</span><span class="op" id="7482110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482114">Column</span><span class="op" id="7482120">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7482124">1</span><span class="op" id="7482125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482128">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482132">index</span>&nbsp;<span class="op" id="7482138">:=</span>&nbsp;<span class="num" id="7482141">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482144">for</span>&nbsp;<span class="op" id="7482148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482152">pos</span><span class="op" id="7482155">,</span>&nbsp;<span class="ident" id="7482157">tok</span><span class="op" id="7482160">,</span>&nbsp;<span class="ident" id="7482162">lit</span>&nbsp;<span class="op" id="7482166">:=</span>&nbsp;<span class="ident" id="7482169">s</span><span class="op" id="7482170">.</span><span class="ident" id="7482171">Scan</span><span class="op" id="7482175">(</span><span class="op" id="7482176">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482181">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482201">if</span>&nbsp;<span class="ident" id="7482204">tok</span>&nbsp;<span class="op" id="7482208">==</span>&nbsp;<span class="ident" id="7482211">token</span><span class="op" id="7482216">.</span><span class="ident" id="7482217">EOF</span>&nbsp;<span class="op" id="7482221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482226">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482251">epos</span><span class="op" id="7482255">.</span><span class="ident" id="7482256">Line</span>&nbsp;<span class="op" id="7482261">=</span>&nbsp;<span class="ident" id="7482263">newlineCount</span><span class="op" id="7482275">(</span><span class="builtintype" id="7482276">string</span><span class="op" id="7482282">(</span><span class="ident" id="7482283">source</span><span class="op" id="7482289">)</span><span class="op" id="7482290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482295">epos</span><span class="op" id="7482299">.</span><span class="ident" id="7482300">Column</span>&nbsp;<span class="op" id="7482307">=</span>&nbsp;<span class="num" id="7482309">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482317">checkPos</span><span class="op" id="7482325">(</span><span class="ident" id="7482326">t</span><span class="op" id="7482327">,</span>&nbsp;<span class="ident" id="7482329">lit</span><span class="op" id="7482332">,</span>&nbsp;<span class="ident" id="7482334">pos</span><span class="op" id="7482337">,</span>&nbsp;<span class="ident" id="7482339">epos</span><span class="op" id="7482343">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482348">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482365">e</span>&nbsp;<span class="op" id="7482367">:=</span>&nbsp;<span class="ident" id="7482370">elt</span><span class="op" id="7482373">{</span><span class="ident" id="7482374">token</span><span class="op" id="7482379">.</span><span class="ident" id="7482380">EOF</span><span class="op" id="7482383">,</span>&nbsp;<span class="string" id="7482385">&#34;&#34;</span><span class="op" id="7482387">,</span>&nbsp;<span class="ident" id="7482389">special</span><span class="op" id="7482396">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482400">if</span>&nbsp;<span class="ident" id="7482403">index</span>&nbsp;<span class="op" id="7482409">&lt;</span>&nbsp;<span class="builtinfunc" id="7482411">len</span><span class="op" id="7482414">(</span><span class="ident" id="7482415">tokens</span><span class="op" id="7482421">)</span>&nbsp;<span class="op" id="7482423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482428">e</span>&nbsp;<span class="op" id="7482430">=</span>&nbsp;<span class="ident" id="7482432">tokens</span><span class="op" id="7482438">[</span><span class="ident" id="7482439">index</span><span class="op" id="7482444">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482449">index</span><span class="op" id="7482454">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482463">if</span>&nbsp;<span class="ident" id="7482466">tok</span>&nbsp;<span class="op" id="7482470">!=</span>&nbsp;<span class="ident" id="7482473">e</span><span class="op" id="7482474">.</span><span class="ident" id="7482475">tok</span>&nbsp;<span class="op" id="7482479">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482484">t</span><span class="op" id="7482485">.</span><span class="ident" id="7482486">Errorf</span><span class="op" id="7482492">(</span><span class="string" id="7482493">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7482532">,</span>&nbsp;<span class="ident" id="7482534">lit</span><span class="op" id="7482537">,</span>&nbsp;<span class="ident" id="7482539">tok</span><span class="op" id="7482542">,</span>&nbsp;<span class="ident" id="7482544">e</span><span class="op" id="7482545">.</span><span class="ident" id="7482546">tok</span><span class="op" id="7482549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482558">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482581">if</span>&nbsp;<span class="ident" id="7482584">tokenclass</span><span class="op" id="7482594">(</span><span class="ident" id="7482595">tok</span><span class="op" id="7482598">)</span>&nbsp;<span class="op" id="7482600">!=</span>&nbsp;<span class="ident" id="7482603">e</span><span class="op" id="7482604">.</span><span class="ident" id="7482605">class</span>&nbsp;<span class="op" id="7482611">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482616">t</span><span class="op" id="7482617">.</span><span class="ident" id="7482618">Errorf</span><span class="op" id="7482624">(</span><span class="string" id="7482625">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7482664">,</span>&nbsp;<span class="ident" id="7482666">lit</span><span class="op" id="7482669">,</span>&nbsp;<span class="ident" id="7482671">tokenclass</span><span class="op" id="7482681">(</span><span class="ident" id="7482682">tok</span><span class="op" id="7482685">)</span><span class="op" id="7482686">,</span>&nbsp;<span class="ident" id="7482688">e</span><span class="op" id="7482689">.</span><span class="ident" id="7482690">class</span><span class="op" id="7482695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482704">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482723">elit</span>&nbsp;<span class="op" id="7482728">:=</span>&nbsp;<span class="string" id="7482731">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482736">switch</span>&nbsp;<span class="ident" id="7482743">e</span><span class="op" id="7482744">.</span><span class="ident" id="7482745">tok</span>&nbsp;<span class="op" id="7482749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482753">case</span>&nbsp;<span class="ident" id="7482758">token</span><span class="op" id="7482763">.</span><span class="ident" id="7482764">COMMENT</span><span class="op" id="7482771">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482776">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482801">elit</span>&nbsp;<span class="op" id="7482806">=</span>&nbsp;<span class="builtintype" id="7482808">string</span><span class="op" id="7482814">(</span><span class="ident" id="7482815">stripCR</span><span class="op" id="7482822">(</span><span class="op" id="7482823">[</span><span class="op" id="7482824">]</span><span class="builtintype" id="7482825">byte</span><span class="op" id="7482829">(</span><span class="ident" id="7482830">e</span><span class="op" id="7482831">.</span><span class="ident" id="7482832">lit</span><span class="op" id="7482835">)</span><span class="op" id="7482836">)</span><span class="op" id="7482837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482842">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482894">if</span>&nbsp;<span class="ident" id="7482897">elit</span><span class="op" id="7482901">[</span><span class="num" id="7482902">1</span><span class="op" id="7482903">]</span>&nbsp;<span class="op" id="7482905">==</span>&nbsp;<span class="string" id="7482908">&#39;/&#39;</span>&nbsp;<span class="op" id="7482912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482918">elit</span>&nbsp;<span class="op" id="7482923">=</span>&nbsp;<span class="ident" id="7482925">elit</span><span class="op" id="7482929">[</span><span class="num" id="7482930">0</span>&nbsp;<span class="op" id="7482932">:</span>&nbsp;<span class="builtinfunc" id="7482934">len</span><span class="op" id="7482937">(</span><span class="ident" id="7482938">elit</span><span class="op" id="7482942">)</span><span class="op" id="7482943">-</span><span class="num" id="7482944">1</span><span class="op" id="7482945">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482954">case</span>&nbsp;<span class="ident" id="7482959">token</span><span class="op" id="7482964">.</span><span class="ident" id="7482965">IDENT</span><span class="op" id="7482970">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482975">elit</span>&nbsp;<span class="op" id="7482980">=</span>&nbsp;<span class="ident" id="7482982">e</span><span class="op" id="7482983">.</span><span class="ident" id="7482984">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482990">case</span>&nbsp;<span class="ident" id="7482995">token</span><span class="op" id="7483000">.</span><span class="ident" id="7483001">SEMICOLON</span><span class="op" id="7483010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483015">elit</span>&nbsp;<span class="op" id="7483020">=</span>&nbsp;<span class="string" id="7483022">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483028">default</span><span class="op" id="7483035">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483040">if</span>&nbsp;<span class="ident" id="7483043">e</span><span class="op" id="7483044">.</span><span class="ident" id="7483045">tok</span><span class="op" id="7483048">.</span><span class="ident" id="7483049">IsLiteral</span><span class="op" id="7483058">(</span><span class="op" id="7483059">)</span>&nbsp;<span class="op" id="7483061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7483067">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483104">elit</span>&nbsp;<span class="op" id="7483109">=</span>&nbsp;<span class="ident" id="7483111">e</span><span class="op" id="7483112">.</span><span class="ident" id="7483113">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483121">if</span>&nbsp;<span class="ident" id="7483124">elit</span><span class="op" id="7483128">[</span><span class="num" id="7483129">0</span><span class="op" id="7483130">]</span>&nbsp;<span class="op" id="7483132">==</span>&nbsp;<span class="string" id="7483135">&#39;`&#39;</span>&nbsp;<span class="op" id="7483139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483146">elit</span>&nbsp;<span class="op" id="7483151">=</span>&nbsp;<span class="builtintype" id="7483153">string</span><span class="op" id="7483159">(</span><span class="ident" id="7483160">stripCR</span><span class="op" id="7483167">(</span><span class="op" id="7483168">[</span><span class="op" id="7483169">]</span><span class="builtintype" id="7483170">byte</span><span class="op" id="7483174">(</span><span class="ident" id="7483175">elit</span><span class="op" id="7483179">)</span><span class="op" id="7483180">)</span><span class="op" id="7483181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483192">}</span>&nbsp;<span class="keyword" id="7483194">else</span>&nbsp;<span class="keyword" id="7483199">if</span>&nbsp;<span class="ident" id="7483202">e</span><span class="op" id="7483203">.</span><span class="ident" id="7483204">tok</span><span class="op" id="7483207">.</span><span class="ident" id="7483208">IsKeyword</span><span class="op" id="7483217">(</span><span class="op" id="7483218">)</span>&nbsp;<span class="op" id="7483220">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483226">elit</span>&nbsp;<span class="op" id="7483231">=</span>&nbsp;<span class="ident" id="7483233">e</span><span class="op" id="7483234">.</span><span class="ident" id="7483235">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483250">if</span>&nbsp;<span class="ident" id="7483253">lit</span>&nbsp;<span class="op" id="7483257">!=</span>&nbsp;<span class="ident" id="7483260">elit</span>&nbsp;<span class="op" id="7483265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483270">t</span><span class="op" id="7483271">.</span><span class="ident" id="7483272">Errorf</span><span class="op" id="7483278">(</span><span class="string" id="7483279">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7483320">,</span>&nbsp;<span class="ident" id="7483322">lit</span><span class="op" id="7483325">,</span>&nbsp;<span class="ident" id="7483327">lit</span><span class="op" id="7483330">,</span>&nbsp;<span class="ident" id="7483332">elit</span><span class="op" id="7483336">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483345">if</span>&nbsp;<span class="ident" id="7483348">tok</span>&nbsp;<span class="op" id="7483352">==</span>&nbsp;<span class="ident" id="7483355">token</span><span class="op" id="7483360">.</span><span class="ident" id="7483361">EOF</span>&nbsp;<span class="op" id="7483365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483370">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483378">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7483383">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483404">epos</span><span class="op" id="7483408">.</span><span class="ident" id="7483409">Offset</span>&nbsp;<span class="op" id="7483416">+=</span>&nbsp;<span class="builtinfunc" id="7483419">len</span><span class="op" id="7483422">(</span><span class="ident" id="7483423">e</span><span class="op" id="7483424">.</span><span class="ident" id="7483425">lit</span><span class="op" id="7483428">)</span>&nbsp;<span class="op" id="7483430">+</span>&nbsp;<span class="builtinfunc" id="7483432">len</span><span class="op" id="7483435">(</span><span class="ident" id="7483436">whitespace</span><span class="op" id="7483446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483450">epos</span><span class="op" id="7483454">.</span><span class="ident" id="7483455">Line</span>&nbsp;<span class="op" id="7483460">+=</span>&nbsp;<span class="ident" id="7483463">newlineCount</span><span class="op" id="7483475">(</span><span class="ident" id="7483476">e</span><span class="op" id="7483477">.</span><span class="ident" id="7483478">lit</span><span class="op" id="7483481">)</span>&nbsp;<span class="op" id="7483483">+</span>&nbsp;<span class="ident" id="7483485">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483512">if</span>&nbsp;<span class="ident" id="7483515">s</span><span class="op" id="7483516">.</span><span class="ident" id="7483517">ErrorCount</span>&nbsp;<span class="op" id="7483528">!=</span>&nbsp;<span class="num" id="7483531">0</span>&nbsp;<span class="op" id="7483533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483537">t</span><span class="op" id="7483538">.</span><span class="ident" id="7483539">Errorf</span><span class="op" id="7483545">(</span><span class="string" id="7483546">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7483563">,</span>&nbsp;<span class="ident" id="7483565">s</span><span class="op" id="7483566">.</span><span class="ident" id="7483567">ErrorCount</span><span class="op" id="7483577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483580">}</span><br>
<span class="lineno">310</span><span class="op" id="7483582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483585">func</span>&nbsp;<span class="ident" id="7483590">checkSemi</span><span class="op" id="7483599">(</span><span class="ident" id="7483600">t</span>&nbsp;<span class="op" id="7483602">*</span><span class="ident" id="7483603">testing</span><span class="op" id="7483610">.</span><span class="ident" id="7483611">T</span><span class="op" id="7483612">,</span>&nbsp;<span class="ident" id="7483614">line</span>&nbsp;<span class="builtintype" id="7483619">string</span><span class="op" id="7483625">,</span>&nbsp;<span class="ident" id="7483627">mode</span>&nbsp;<span class="ident" id="7483632">Mode</span><span class="op" id="7483636">)</span>&nbsp;<span class="op" id="7483638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483641">var</span>&nbsp;<span class="ident" id="7483645">S</span>&nbsp;<span class="ident" id="7483647">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483656">file</span>&nbsp;<span class="op" id="7483661">:=</span>&nbsp;<span class="ident" id="7483664">fset</span><span class="op" id="7483668">.</span><span class="ident" id="7483669">AddFile</span><span class="op" id="7483676">(</span><span class="string" id="7483677">&#34;TestSemis&#34;</span><span class="op" id="7483688">,</span>&nbsp;<span class="ident" id="7483690">fset</span><span class="op" id="7483694">.</span><span class="ident" id="7483695">Base</span><span class="op" id="7483699">(</span><span class="op" id="7483700">)</span><span class="op" id="7483701">,</span>&nbsp;<span class="builtinfunc" id="7483703">len</span><span class="op" id="7483706">(</span><span class="ident" id="7483707">line</span><span class="op" id="7483711">)</span><span class="op" id="7483712">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483715">S</span><span class="op" id="7483716">.</span><span class="ident" id="7483717">Init</span><span class="op" id="7483721">(</span><span class="ident" id="7483722">file</span><span class="op" id="7483726">,</span>&nbsp;<span class="op" id="7483728">[</span><span class="op" id="7483729">]</span><span class="builtintype" id="7483730">byte</span><span class="op" id="7483734">(</span><span class="ident" id="7483735">line</span><span class="op" id="7483739">)</span><span class="op" id="7483740">,</span>&nbsp;<span class="ident" id="7483742">nil</span><span class="op" id="7483745">,</span>&nbsp;<span class="ident" id="7483747">mode</span><span class="op" id="7483751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483754">pos</span><span class="op" id="7483757">,</span>&nbsp;<span class="ident" id="7483759">tok</span><span class="op" id="7483762">,</span>&nbsp;<span class="ident" id="7483764">lit</span>&nbsp;<span class="op" id="7483768">:=</span>&nbsp;<span class="ident" id="7483771">S</span><span class="op" id="7483772">.</span><span class="ident" id="7483773">Scan</span><span class="op" id="7483777">(</span><span class="op" id="7483778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483781">for</span>&nbsp;<span class="ident" id="7483785">tok</span>&nbsp;<span class="op" id="7483789">!=</span>&nbsp;<span class="ident" id="7483792">token</span><span class="op" id="7483797">.</span><span class="ident" id="7483798">EOF</span>&nbsp;<span class="op" id="7483802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483806">if</span>&nbsp;<span class="ident" id="7483809">tok</span>&nbsp;<span class="op" id="7483813">==</span>&nbsp;<span class="ident" id="7483816">token</span><span class="op" id="7483821">.</span><span class="ident" id="7483822">ILLEGAL</span>&nbsp;<span class="op" id="7483830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7483835">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7483882">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483924">semiLit</span>&nbsp;<span class="op" id="7483932">:=</span>&nbsp;<span class="string" id="7483935">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483943">if</span>&nbsp;<span class="ident" id="7483946">lit</span><span class="op" id="7483949">[</span><span class="num" id="7483950">0</span><span class="op" id="7483951">]</span>&nbsp;<span class="op" id="7483953">==</span>&nbsp;<span class="string" id="7483956">&#39;#&#39;</span>&nbsp;<span class="op" id="7483960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483966">semiLit</span>&nbsp;<span class="op" id="7483974">=</span>&nbsp;<span class="string" id="7483976">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483983">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7483988">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484025">semiPos</span>&nbsp;<span class="op" id="7484033">:=</span>&nbsp;<span class="ident" id="7484036">file</span><span class="op" id="7484040">.</span><span class="ident" id="7484041">Position</span><span class="op" id="7484049">(</span><span class="ident" id="7484050">pos</span><span class="op" id="7484053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484058">semiPos</span><span class="op" id="7484065">.</span><span class="ident" id="7484066">Offset</span><span class="op" id="7484072">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484078">semiPos</span><span class="op" id="7484085">.</span><span class="ident" id="7484086">Column</span><span class="op" id="7484092">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484098">pos</span><span class="op" id="7484101">,</span>&nbsp;<span class="ident" id="7484103">tok</span><span class="op" id="7484106">,</span>&nbsp;<span class="ident" id="7484108">lit</span>&nbsp;<span class="op" id="7484112">=</span>&nbsp;<span class="ident" id="7484114">S</span><span class="op" id="7484115">.</span><span class="ident" id="7484116">Scan</span><span class="op" id="7484120">(</span><span class="op" id="7484121">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484126">if</span>&nbsp;<span class="ident" id="7484129">tok</span>&nbsp;<span class="op" id="7484133">==</span>&nbsp;<span class="ident" id="7484136">token</span><span class="op" id="7484141">.</span><span class="ident" id="7484142">SEMICOLON</span>&nbsp;<span class="op" id="7484152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484158">if</span>&nbsp;<span class="ident" id="7484161">lit</span>&nbsp;<span class="op" id="7484165">!=</span>&nbsp;<span class="ident" id="7484168">semiLit</span>&nbsp;<span class="op" id="7484176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484183">t</span><span class="op" id="7484184">.</span><span class="ident" id="7484185">Errorf</span><span class="op" id="7484191">(</span><span class="string" id="7484192">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="7484233">,</span>&nbsp;<span class="ident" id="7484235">line</span><span class="op" id="7484239">,</span>&nbsp;<span class="ident" id="7484241">lit</span><span class="op" id="7484244">,</span>&nbsp;<span class="ident" id="7484246">semiLit</span><span class="op" id="7484253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484265">checkPos</span><span class="op" id="7484273">(</span><span class="ident" id="7484274">t</span><span class="op" id="7484275">,</span>&nbsp;<span class="ident" id="7484277">line</span><span class="op" id="7484281">,</span>&nbsp;<span class="ident" id="7484283">pos</span><span class="op" id="7484286">,</span>&nbsp;<span class="ident" id="7484288">semiPos</span><span class="op" id="7484295">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484300">}</span>&nbsp;<span class="keyword" id="7484302">else</span>&nbsp;<span class="op" id="7484307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484313">t</span><span class="op" id="7484314">.</span><span class="ident" id="7484315">Errorf</span><span class="op" id="7484321">(</span><span class="string" id="7484322">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="7484360">,</span>&nbsp;<span class="ident" id="7484362">line</span><span class="op" id="7484366">,</span>&nbsp;<span class="ident" id="7484368">tok</span><span class="op" id="7484371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484380">}</span>&nbsp;<span class="keyword" id="7484382">else</span>&nbsp;<span class="keyword" id="7484387">if</span>&nbsp;<span class="ident" id="7484390">tok</span>&nbsp;<span class="op" id="7484394">==</span>&nbsp;<span class="ident" id="7484397">token</span><span class="op" id="7484402">.</span><span class="ident" id="7484403">SEMICOLON</span>&nbsp;<span class="op" id="7484413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484418">t</span><span class="op" id="7484419">.</span><span class="ident" id="7484420">Errorf</span><span class="op" id="7484426">(</span><span class="string" id="7484427">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="7484467">,</span>&nbsp;<span class="ident" id="7484469">line</span><span class="op" id="7484473">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484481">pos</span><span class="op" id="7484484">,</span>&nbsp;<span class="ident" id="7484486">tok</span><span class="op" id="7484489">,</span>&nbsp;<span class="ident" id="7484491">lit</span>&nbsp;<span class="op" id="7484495">=</span>&nbsp;<span class="ident" id="7484497">S</span><span class="op" id="7484498">.</span><span class="ident" id="7484499">Scan</span><span class="op" id="7484503">(</span><span class="op" id="7484504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484507">}</span><br>
<span class="lineno"></span><span class="op" id="7484509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="7484512">var</span>&nbsp;<span class="ident" id="7484516">lines</span>&nbsp;<span class="op" id="7484522">=</span>&nbsp;<span class="op" id="7484524">[</span><span class="op" id="7484525">]</span><span class="builtintype" id="7484526">string</span><span class="op" id="7484532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7484535">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7484585">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484637">&#34;&#34;</span><span class="op" id="7484639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484642">&#34;\ufeff#;&#34;</span><span class="op" id="7484652">,</span>&nbsp;<span class="comment" id="7484654">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484679">&#34;#;&#34;</span><span class="op" id="7484683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484686">&#34;foo$\n&#34;</span><span class="op" id="7484694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484697">&#34;123$\n&#34;</span><span class="op" id="7484705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484708">&#34;1.2$\n&#34;</span><span class="op" id="7484716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484719">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="7484727">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484730">`&#34;x&#34;`</span>&nbsp;<span class="op" id="7484736">+</span>&nbsp;<span class="string" id="7484738">&#34;$\n&#34;</span><span class="op" id="7484743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484746">&#34;`x`$\n&#34;</span><span class="op" id="7484754">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484758">&#34;+\n&#34;</span><span class="op" id="7484763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484766">&#34;-\n&#34;</span><span class="op" id="7484771">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484774">&#34;*\n&#34;</span><span class="op" id="7484779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484782">&#34;/\n&#34;</span><span class="op" id="7484787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484790">&#34;%\n&#34;</span><span class="op" id="7484795">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484799">&#34;&amp;\n&#34;</span><span class="op" id="7484804">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484807">&#34;|\n&#34;</span><span class="op" id="7484812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484815">&#34;^\n&#34;</span><span class="op" id="7484820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484823">&#34;&lt;&lt;\n&#34;</span><span class="op" id="7484829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484832">&#34;&gt;&gt;\n&#34;</span><span class="op" id="7484838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484841">&#34;&amp;^\n&#34;</span><span class="op" id="7484847">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484851">&#34;+=\n&#34;</span><span class="op" id="7484857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484860">&#34;-=\n&#34;</span><span class="op" id="7484866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484869">&#34;*=\n&#34;</span><span class="op" id="7484875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484878">&#34;/=\n&#34;</span><span class="op" id="7484884">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484887">&#34;%=\n&#34;</span><span class="op" id="7484893">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484897">&#34;&amp;=\n&#34;</span><span class="op" id="7484903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484906">&#34;|=\n&#34;</span><span class="op" id="7484912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484915">&#34;^=\n&#34;</span><span class="op" id="7484921">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484924">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="7484931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484934">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="7484941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484944">&#34;&amp;^=\n&#34;</span><span class="op" id="7484951">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484955">&#34;&amp;&amp;\n&#34;</span><span class="op" id="7484961">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484964">&#34;||\n&#34;</span><span class="op" id="7484970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484973">&#34;&lt;-\n&#34;</span><span class="op" id="7484979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484982">&#34;++$\n&#34;</span><span class="op" id="7484989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7484992">&#34;--$\n&#34;</span><span class="op" id="7484999">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485003">&#34;==\n&#34;</span><span class="op" id="7485009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485012">&#34;&lt;\n&#34;</span><span class="op" id="7485017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485020">&#34;&gt;\n&#34;</span><span class="op" id="7485025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485028">&#34;=\n&#34;</span><span class="op" id="7485033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485036">&#34;!\n&#34;</span><span class="op" id="7485041">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485045">&#34;!=\n&#34;</span><span class="op" id="7485051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485054">&#34;&lt;=\n&#34;</span><span class="op" id="7485060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485063">&#34;&gt;=\n&#34;</span><span class="op" id="7485069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485072">&#34;:=\n&#34;</span><span class="op" id="7485078">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485081">&#34;...\n&#34;</span><span class="op" id="7485088">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485092">&#34;(\n&#34;</span><span class="op" id="7485097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485100">&#34;[\n&#34;</span><span class="op" id="7485105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485108">&#34;{\n&#34;</span><span class="op" id="7485113">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485116">&#34;,\n&#34;</span><span class="op" id="7485121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485124">&#34;.\n&#34;</span><span class="op" id="7485129">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485133">&#34;)$\n&#34;</span><span class="op" id="7485139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485142">&#34;]$\n&#34;</span><span class="op" id="7485148">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485151">&#34;}$\n&#34;</span><span class="op" id="7485157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485160">&#34;#;\n&#34;</span><span class="op" id="7485166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485169">&#34;:\n&#34;</span><span class="op" id="7485174">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485178">&#34;break$\n&#34;</span><span class="op" id="7485188">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485191">&#34;case\n&#34;</span><span class="op" id="7485199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485202">&#34;chan\n&#34;</span><span class="op" id="7485210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485213">&#34;const\n&#34;</span><span class="op" id="7485222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485225">&#34;continue$\n&#34;</span><span class="op" id="7485238">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485242">&#34;default\n&#34;</span><span class="op" id="7485253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485256">&#34;defer\n&#34;</span><span class="op" id="7485265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485268">&#34;else\n&#34;</span><span class="op" id="7485276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485279">&#34;fallthrough$\n&#34;</span><span class="op" id="7485295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485298">&#34;for\n&#34;</span><span class="op" id="7485305">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485309">&#34;func\n&#34;</span><span class="op" id="7485317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485320">&#34;go\n&#34;</span><span class="op" id="7485326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485329">&#34;goto\n&#34;</span><span class="op" id="7485337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485340">&#34;if\n&#34;</span><span class="op" id="7485346">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485349">&#34;import\n&#34;</span><span class="op" id="7485359">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485363">&#34;interface\n&#34;</span><span class="op" id="7485376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485379">&#34;map\n&#34;</span><span class="op" id="7485386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485389">&#34;package\n&#34;</span><span class="op" id="7485400">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485403">&#34;range\n&#34;</span><span class="op" id="7485412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485415">&#34;return$\n&#34;</span><span class="op" id="7485426">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485430">&#34;select\n&#34;</span><span class="op" id="7485440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485443">&#34;struct\n&#34;</span><span class="op" id="7485453">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485456">&#34;switch\n&#34;</span><span class="op" id="7485466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485469">&#34;type\n&#34;</span><span class="op" id="7485477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485480">&#34;var\n&#34;</span><span class="op" id="7485487">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485491">&#34;foo$//comment\n&#34;</span><span class="op" id="7485508">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485511">&#34;foo$//comment&#34;</span><span class="op" id="7485526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485529">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="7485548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485551">&#34;foo$/*\n*/&#34;</span><span class="op" id="7485563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485566">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7485589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485592">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7485608">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485612">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="7485634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485637">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="7485657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485660">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="7485683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485686">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="7485702">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485705">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="7485741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485744">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="7485773">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485777">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7485804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485807">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7485840">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485843">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="7485914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485917">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="7485957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7485960">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="7486003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7486006">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="7486049">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7486053">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="7486120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7486123">&#34;package&nbsp;main$&#34;</span><span class="op" id="7486138">,</span><br>
<span class="lineno"></span><span class="op" id="7486140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7486143">func</span>&nbsp;<span class="ident" id="7486148">TestSemis</span><span class="op" id="7486157">(</span><span class="ident" id="7486158">t</span>&nbsp;<span class="op" id="7486160">*</span><span class="ident" id="7486161">testing</span><span class="op" id="7486168">.</span><span class="ident" id="7486169">T</span><span class="op" id="7486170">)</span>&nbsp;<span class="op" id="7486172">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486175">for</span>&nbsp;<span class="ident" id="7486179">_</span><span class="op" id="7486180">,</span>&nbsp;<span class="ident" id="7486182">line</span>&nbsp;<span class="op" id="7486187">:=</span>&nbsp;<span class="keyword" id="7486190">range</span>&nbsp;<span class="ident" id="7486196">lines</span>&nbsp;<span class="op" id="7486202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486206">checkSemi</span><span class="op" id="7486215">(</span><span class="ident" id="7486216">t</span><span class="op" id="7486217">,</span>&nbsp;<span class="ident" id="7486219">line</span><span class="op" id="7486223">,</span>&nbsp;<span class="num" id="7486225">0</span><span class="op" id="7486226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486230">checkSemi</span><span class="op" id="7486239">(</span><span class="ident" id="7486240">t</span><span class="op" id="7486241">,</span>&nbsp;<span class="ident" id="7486243">line</span><span class="op" id="7486247">,</span>&nbsp;<span class="ident" id="7486249">ScanComments</span><span class="op" id="7486261">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486266">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486331">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486372">for</span>&nbsp;<span class="ident" id="7486376">i</span>&nbsp;<span class="op" id="7486378">:=</span>&nbsp;<span class="builtinfunc" id="7486381">len</span><span class="op" id="7486384">(</span><span class="ident" id="7486385">line</span><span class="op" id="7486389">)</span>&nbsp;<span class="op" id="7486391">-</span>&nbsp;<span class="num" id="7486393">1</span><span class="op" id="7486394">;</span>&nbsp;<span class="ident" id="7486396">i</span>&nbsp;<span class="op" id="7486398">&gt;=</span>&nbsp;<span class="num" id="7486401">0</span>&nbsp;<span class="op" id="7486403">&amp;&amp;</span>&nbsp;<span class="ident" id="7486406">line</span><span class="op" id="7486410">[</span><span class="ident" id="7486411">i</span><span class="op" id="7486412">]</span>&nbsp;<span class="op" id="7486414">==</span>&nbsp;<span class="string" id="7486417">&#39;\n&#39;</span><span class="op" id="7486421">;</span>&nbsp;<span class="ident" id="7486423">i</span><span class="op" id="7486424">--</span>&nbsp;<span class="op" id="7486427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486432">checkSemi</span><span class="op" id="7486441">(</span><span class="ident" id="7486442">t</span><span class="op" id="7486443">,</span>&nbsp;<span class="ident" id="7486445">line</span><span class="op" id="7486449">[</span><span class="num" id="7486450">0</span><span class="op" id="7486451">:</span><span class="ident" id="7486452">i</span><span class="op" id="7486453">]</span><span class="op" id="7486454">,</span>&nbsp;<span class="num" id="7486456">0</span><span class="op" id="7486457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486462">checkSemi</span><span class="op" id="7486471">(</span><span class="ident" id="7486472">t</span><span class="op" id="7486473">,</span>&nbsp;<span class="ident" id="7486475">line</span><span class="op" id="7486479">[</span><span class="num" id="7486480">0</span><span class="op" id="7486481">:</span><span class="ident" id="7486482">i</span><span class="op" id="7486483">]</span><span class="op" id="7486484">,</span>&nbsp;<span class="ident" id="7486486">ScanComments</span><span class="op" id="7486498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486502">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486505">}</span><br>
<span class="lineno"></span><span class="op" id="7486507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7486510">type</span>&nbsp;<span class="ident" id="7486515">segment</span>&nbsp;<span class="keyword" id="7486523">struct</span>&nbsp;<span class="op" id="7486530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486533">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="7486542">string</span>&nbsp;<span class="comment" id="7486549">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486575">filename</span>&nbsp;<span class="builtintype" id="7486584">string</span>&nbsp;<span class="comment" id="7486591">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486622">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7486631">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7486638">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="7486671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7486674">var</span>&nbsp;<span class="ident" id="7486678">segments</span>&nbsp;<span class="op" id="7486687">=</span>&nbsp;<span class="op" id="7486689">[</span><span class="op" id="7486690">]</span><span class="ident" id="7486691">segment</span><span class="op" id="7486698">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486701">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486778">{</span><span class="string" id="7486779">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="7486788">,</span>&nbsp;<span class="ident" id="7486790">filepath</span><span class="op" id="7486798">.</span><span class="ident" id="7486799">Join</span><span class="op" id="7486803">(</span><span class="string" id="7486804">&#34;dir&#34;</span><span class="op" id="7486809">,</span>&nbsp;<span class="string" id="7486811">&#34;TestLineComments&#34;</span><span class="op" id="7486829">)</span><span class="op" id="7486830">,</span>&nbsp;<span class="num" id="7486832">1</span><span class="op" id="7486833">}</span><span class="op" id="7486834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486837">{</span><span class="string" id="7486838">&#34;\nline2&#34;</span><span class="op" id="7486847">,</span>&nbsp;<span class="ident" id="7486849">filepath</span><span class="op" id="7486857">.</span><span class="ident" id="7486858">Join</span><span class="op" id="7486862">(</span><span class="string" id="7486863">&#34;dir&#34;</span><span class="op" id="7486868">,</span>&nbsp;<span class="string" id="7486870">&#34;TestLineComments&#34;</span><span class="op" id="7486888">)</span><span class="op" id="7486889">,</span>&nbsp;<span class="num" id="7486891">2</span><span class="op" id="7486892">}</span><span class="op" id="7486893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486896">{</span><span class="string" id="7486897">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="7486927">,</span>&nbsp;<span class="ident" id="7486929">filepath</span><span class="op" id="7486937">.</span><span class="ident" id="7486938">Join</span><span class="op" id="7486942">(</span><span class="string" id="7486943">&#34;dir&#34;</span><span class="op" id="7486948">,</span>&nbsp;<span class="string" id="7486950">&#34;TestLineComments&#34;</span><span class="op" id="7486968">)</span><span class="op" id="7486969">,</span>&nbsp;<span class="num" id="7486971">3</span><span class="op" id="7486972">}</span><span class="op" id="7486973">,</span>&nbsp;<span class="comment" id="7486975">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487005">{</span><span class="string" id="7487006">&#34;\nline4&#34;</span><span class="op" id="7487015">,</span>&nbsp;<span class="ident" id="7487017">filepath</span><span class="op" id="7487025">.</span><span class="ident" id="7487026">Join</span><span class="op" id="7487030">(</span><span class="string" id="7487031">&#34;dir&#34;</span><span class="op" id="7487036">,</span>&nbsp;<span class="string" id="7487038">&#34;TestLineComments&#34;</span><span class="op" id="7487056">)</span><span class="op" id="7487057">,</span>&nbsp;<span class="num" id="7487059">4</span><span class="op" id="7487060">}</span><span class="op" id="7487061">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487064">{</span><span class="string" id="7487065">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7487099">,</span>&nbsp;<span class="ident" id="7487101">filepath</span><span class="op" id="7487109">.</span><span class="ident" id="7487110">Join</span><span class="op" id="7487114">(</span><span class="string" id="7487115">&#34;dir&#34;</span><span class="op" id="7487120">,</span>&nbsp;<span class="string" id="7487122">&#34;File1.go&#34;</span><span class="op" id="7487132">)</span><span class="op" id="7487133">,</span>&nbsp;<span class="num" id="7487135">100</span><span class="op" id="7487138">}</span><span class="op" id="7487139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487142">{</span><span class="string" id="7487143">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="7487170">,</span>&nbsp;<span class="string" id="7487172">&#34;&#34;</span><span class="op" id="7487174">,</span>&nbsp;<span class="num" id="7487176">42</span><span class="op" id="7487178">}</span><span class="op" id="7487179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487182">{</span><span class="string" id="7487183">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="7487217">,</span>&nbsp;<span class="ident" id="7487219">filepath</span><span class="op" id="7487227">.</span><span class="ident" id="7487228">Join</span><span class="op" id="7487232">(</span><span class="string" id="7487233">&#34;dir&#34;</span><span class="op" id="7487238">,</span>&nbsp;<span class="string" id="7487240">&#34;File2.go&#34;</span><span class="op" id="7487250">)</span><span class="op" id="7487251">,</span>&nbsp;<span class="num" id="7487253">200</span><span class="op" id="7487256">}</span><span class="op" id="7487257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487260">{</span><span class="string" id="7487261">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7487290">,</span>&nbsp;<span class="ident" id="7487292">filepath</span><span class="op" id="7487300">.</span><span class="ident" id="7487301">Join</span><span class="op" id="7487305">(</span><span class="string" id="7487306">&#34;dir&#34;</span><span class="op" id="7487311">,</span>&nbsp;<span class="string" id="7487313">&#34;foo&#34;</span><span class="op" id="7487318">)</span><span class="op" id="7487319">,</span>&nbsp;<span class="num" id="7487321">42</span><span class="op" id="7487323">}</span><span class="op" id="7487324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487327">{</span><span class="string" id="7487328">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="7487356">,</span>&nbsp;<span class="ident" id="7487358">filepath</span><span class="op" id="7487366">.</span><span class="ident" id="7487367">Join</span><span class="op" id="7487371">(</span><span class="string" id="7487372">&#34;dir&#34;</span><span class="op" id="7487377">,</span>&nbsp;<span class="string" id="7487379">&#34;foo&#34;</span><span class="op" id="7487384">)</span><span class="op" id="7487385">,</span>&nbsp;<span class="num" id="7487387">44</span><span class="op" id="7487389">}</span><span class="op" id="7487390">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7487402">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487432">{</span><span class="string" id="7487433">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="7487460">,</span>&nbsp;<span class="ident" id="7487462">filepath</span><span class="op" id="7487470">.</span><span class="ident" id="7487471">Join</span><span class="op" id="7487475">(</span><span class="string" id="7487476">&#34;dir&#34;</span><span class="op" id="7487481">,</span>&nbsp;<span class="string" id="7487483">&#34;foo&#34;</span><span class="op" id="7487488">)</span><span class="op" id="7487489">,</span>&nbsp;<span class="num" id="7487491">46</span><span class="op" id="7487493">}</span><span class="op" id="7487494">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7487507">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487537">{</span><span class="string" id="7487538">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="7487576">,</span>&nbsp;<span class="ident" id="7487578">filepath</span><span class="op" id="7487586">.</span><span class="ident" id="7487587">Join</span><span class="op" id="7487591">(</span><span class="string" id="7487592">&#34;dir&#34;</span><span class="op" id="7487597">,</span>&nbsp;<span class="string" id="7487599">&#34;foo&#34;</span><span class="op" id="7487604">)</span><span class="op" id="7487605">,</span>&nbsp;<span class="num" id="7487607">48</span><span class="op" id="7487609">}</span><span class="op" id="7487610">,</span>&nbsp;<span class="comment" id="7487612">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487642">{</span><span class="string" id="7487643">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7487672">,</span>&nbsp;<span class="ident" id="7487674">filepath</span><span class="op" id="7487682">.</span><span class="ident" id="7487683">Join</span><span class="op" id="7487687">(</span><span class="string" id="7487688">&#34;dir&#34;</span><span class="op" id="7487693">,</span>&nbsp;<span class="string" id="7487695">&#34;foo&#34;</span><span class="op" id="7487700">)</span><span class="op" id="7487701">,</span>&nbsp;<span class="num" id="7487703">42</span><span class="op" id="7487705">}</span><span class="op" id="7487706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487709">{</span><span class="string" id="7487710">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7487750">,</span>&nbsp;<span class="ident" id="7487752">filepath</span><span class="op" id="7487760">.</span><span class="ident" id="7487761">Join</span><span class="op" id="7487765">(</span><span class="string" id="7487766">&#34;dir&#34;</span><span class="op" id="7487771">,</span>&nbsp;<span class="string" id="7487773">&#34;a&#34;</span><span class="op" id="7487776">,</span>&nbsp;<span class="string" id="7487778">&#34;b&#34;</span><span class="op" id="7487781">,</span>&nbsp;<span class="string" id="7487783">&#34;c&#34;</span><span class="op" id="7487786">,</span>&nbsp;<span class="string" id="7487788">&#34;File1.go&#34;</span><span class="op" id="7487798">)</span><span class="op" id="7487799">,</span>&nbsp;<span class="num" id="7487801">100</span><span class="op" id="7487804">}</span><span class="op" id="7487805">,</span><br>
<span class="lineno"></span><span class="op" id="7487807">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="7487810">var</span>&nbsp;<span class="ident" id="7487814">unixsegments</span>&nbsp;<span class="op" id="7487827">=</span>&nbsp;<span class="op" id="7487829">[</span><span class="op" id="7487830">]</span><span class="ident" id="7487831">segment</span><span class="op" id="7487838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487841">{</span><span class="string" id="7487842">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7487870">,</span>&nbsp;<span class="string" id="7487872">&#34;/bar&#34;</span><span class="op" id="7487878">,</span>&nbsp;<span class="num" id="7487880">42</span><span class="op" id="7487882">}</span><span class="op" id="7487883">,</span><br>
<span class="lineno"></span><span class="op" id="7487885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="7487888">var</span>&nbsp;<span class="ident" id="7487892">winsegments</span>&nbsp;<span class="op" id="7487904">=</span>&nbsp;<span class="op" id="7487906">[</span><span class="op" id="7487907">]</span><span class="ident" id="7487908">segment</span><span class="op" id="7487915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487918">{</span><span class="string" id="7487919">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7487950">,</span>&nbsp;<span class="string" id="7487952">&#34;c:\\bar&#34;</span><span class="op" id="7487961">,</span>&nbsp;<span class="num" id="7487963">42</span><span class="op" id="7487965">}</span><span class="op" id="7487966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487969">{</span><span class="string" id="7487970">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7488013">,</span>&nbsp;<span class="string" id="7488015">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="7488034">,</span>&nbsp;<span class="num" id="7488036">100</span><span class="op" id="7488039">}</span><span class="op" id="7488040">,</span><br>
<span class="lineno"></span><span class="op" id="7488042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="7488045">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7488131">func</span>&nbsp;<span class="ident" id="7488136">TestLineComments</span><span class="op" id="7488152">(</span><span class="ident" id="7488153">t</span>&nbsp;<span class="op" id="7488155">*</span><span class="ident" id="7488156">testing</span><span class="op" id="7488163">.</span><span class="ident" id="7488164">T</span><span class="op" id="7488165">)</span>&nbsp;<span class="op" id="7488167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488170">segs</span>&nbsp;<span class="op" id="7488175">:=</span>&nbsp;<span class="ident" id="7488178">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7488188">if</span>&nbsp;<span class="ident" id="7488191">runtime</span><span class="op" id="7488198">.</span><span class="ident" id="7488199">GOOS</span>&nbsp;<span class="op" id="7488204">==</span>&nbsp;<span class="string" id="7488207">&#34;windows&#34;</span>&nbsp;<span class="op" id="7488217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488221">segs</span>&nbsp;<span class="op" id="7488226">=</span>&nbsp;<span class="builtinfunc" id="7488228">append</span><span class="op" id="7488234">(</span><span class="ident" id="7488235">segs</span><span class="op" id="7488239">,</span>&nbsp;<span class="ident" id="7488241">winsegments</span><span class="op" id="7488252">...</span><span class="op" id="7488255">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488258">}</span>&nbsp;<span class="keyword" id="7488260">else</span>&nbsp;<span class="op" id="7488265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488269">segs</span>&nbsp;<span class="op" id="7488274">=</span>&nbsp;<span class="builtinfunc" id="7488276">append</span><span class="op" id="7488282">(</span><span class="ident" id="7488283">segs</span><span class="op" id="7488287">,</span>&nbsp;<span class="ident" id="7488289">unixsegments</span><span class="op" id="7488301">...</span><span class="op" id="7488304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488311">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7488327">var</span>&nbsp;<span class="ident" id="7488331">src</span>&nbsp;<span class="builtintype" id="7488335">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7488343">for</span>&nbsp;<span class="ident" id="7488347">_</span><span class="op" id="7488348">,</span>&nbsp;<span class="ident" id="7488350">e</span>&nbsp;<span class="op" id="7488352">:=</span>&nbsp;<span class="keyword" id="7488355">range</span>&nbsp;<span class="ident" id="7488361">segs</span>&nbsp;<span class="op" id="7488366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488370">src</span>&nbsp;<span class="op" id="7488374">+=</span>&nbsp;<span class="ident" id="7488377">e</span><span class="op" id="7488378">.</span><span class="ident" id="7488379">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488392">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7488408">var</span>&nbsp;<span class="ident" id="7488412">S</span>&nbsp;<span class="ident" id="7488414">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488423">file</span>&nbsp;<span class="op" id="7488428">:=</span>&nbsp;<span class="ident" id="7488431">fset</span><span class="op" id="7488435">.</span><span class="ident" id="7488436">AddFile</span><span class="op" id="7488443">(</span><span class="ident" id="7488444">filepath</span><span class="op" id="7488452">.</span><span class="ident" id="7488453">Join</span><span class="op" id="7488457">(</span><span class="string" id="7488458">&#34;dir&#34;</span><span class="op" id="7488463">,</span>&nbsp;<span class="string" id="7488465">&#34;TestLineComments&#34;</span><span class="op" id="7488483">)</span><span class="op" id="7488484">,</span>&nbsp;<span class="ident" id="7488486">fset</span><span class="op" id="7488490">.</span><span class="ident" id="7488491">Base</span><span class="op" id="7488495">(</span><span class="op" id="7488496">)</span><span class="op" id="7488497">,</span>&nbsp;<span class="builtinfunc" id="7488499">len</span><span class="op" id="7488502">(</span><span class="ident" id="7488503">src</span><span class="op" id="7488506">)</span><span class="op" id="7488507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488510">S</span><span class="op" id="7488511">.</span><span class="ident" id="7488512">Init</span><span class="op" id="7488516">(</span><span class="ident" id="7488517">file</span><span class="op" id="7488521">,</span>&nbsp;<span class="op" id="7488523">[</span><span class="op" id="7488524">]</span><span class="builtintype" id="7488525">byte</span><span class="op" id="7488529">(</span><span class="ident" id="7488530">src</span><span class="op" id="7488533">)</span><span class="op" id="7488534">,</span>&nbsp;<span class="ident" id="7488536">nil</span><span class="op" id="7488539">,</span>&nbsp;<span class="ident" id="7488541">dontInsertSemis</span><span class="op" id="7488556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7488559">for</span>&nbsp;<span class="ident" id="7488563">_</span><span class="op" id="7488564">,</span>&nbsp;<span class="ident" id="7488566">s</span>&nbsp;<span class="op" id="7488568">:=</span>&nbsp;<span class="keyword" id="7488571">range</span>&nbsp;<span class="ident" id="7488577">segs</span>&nbsp;<span class="op" id="7488582">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488586">p</span><span class="op" id="7488587">,</span>&nbsp;<span class="ident" id="7488589">_</span><span class="op" id="7488590">,</span>&nbsp;<span class="ident" id="7488592">lit</span>&nbsp;<span class="op" id="7488596">:=</span>&nbsp;<span class="ident" id="7488599">S</span><span class="op" id="7488600">.</span><span class="ident" id="7488601">Scan</span><span class="op" id="7488605">(</span><span class="op" id="7488606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488610">pos</span>&nbsp;<span class="op" id="7488614">:=</span>&nbsp;<span class="ident" id="7488617">file</span><span class="op" id="7488621">.</span><span class="ident" id="7488622">Position</span><span class="op" id="7488630">(</span><span class="ident" id="7488631">p</span><span class="op" id="7488632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488636">checkPos</span><span class="op" id="7488644">(</span><span class="ident" id="7488645">t</span><span class="op" id="7488646">,</span>&nbsp;<span class="ident" id="7488648">lit</span><span class="op" id="7488651">,</span>&nbsp;<span class="ident" id="7488653">p</span><span class="op" id="7488654">,</span>&nbsp;<span class="ident" id="7488656">token</span><span class="op" id="7488661">.</span><span class="ident" id="7488662">Position</span><span class="op" id="7488670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488675">Filename</span><span class="op" id="7488683">:</span>&nbsp;<span class="ident" id="7488685">s</span><span class="op" id="7488686">.</span><span class="ident" id="7488687">filename</span><span class="op" id="7488695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488700">Offset</span><span class="op" id="7488706">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7488710">pos</span><span class="op" id="7488713">.</span><span class="ident" id="7488714">Offset</span><span class="op" id="7488720">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488725">Line</span><span class="op" id="7488729">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7488735">s</span><span class="op" id="7488736">.</span><span class="ident" id="7488737">line</span><span class="op" id="7488741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488746">Column</span><span class="op" id="7488752">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7488756">pos</span><span class="op" id="7488759">.</span><span class="ident" id="7488760">Column</span><span class="op" id="7488766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488770">}</span><span class="op" id="7488771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7488778">if</span>&nbsp;<span class="ident" id="7488781">S</span><span class="op" id="7488782">.</span><span class="ident" id="7488783">ErrorCount</span>&nbsp;<span class="op" id="7488794">!=</span>&nbsp;<span class="num" id="7488797">0</span>&nbsp;<span class="op" id="7488799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488803">t</span><span class="op" id="7488804">.</span><span class="ident" id="7488805">Errorf</span><span class="op" id="7488811">(</span><span class="string" id="7488812">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7488829">,</span>&nbsp;<span class="ident" id="7488831">S</span><span class="op" id="7488832">.</span><span class="ident" id="7488833">ErrorCount</span><span class="op" id="7488843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488846">}</span><br>
<span class="lineno"></span><span class="op" id="7488848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="7488851">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7488928">func</span>&nbsp;<span class="ident" id="7488933">TestInit</span><span class="op" id="7488941">(</span><span class="ident" id="7488942">t</span>&nbsp;<span class="op" id="7488944">*</span><span class="ident" id="7488945">testing</span><span class="op" id="7488952">.</span><span class="ident" id="7488953">T</span><span class="op" id="7488954">)</span>&nbsp;<span class="op" id="7488956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7488959">var</span>&nbsp;<span class="ident" id="7488963">s</span>&nbsp;<span class="ident" id="7488965">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488975">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488988">src1</span>&nbsp;<span class="op" id="7488993">:=</span>&nbsp;<span class="string" id="7488996">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489011">f1</span>&nbsp;<span class="op" id="7489014">:=</span>&nbsp;<span class="ident" id="7489017">fset</span><span class="op" id="7489021">.</span><span class="ident" id="7489022">AddFile</span><span class="op" id="7489029">(</span><span class="string" id="7489030">&#34;src1&#34;</span><span class="op" id="7489036">,</span>&nbsp;<span class="ident" id="7489038">fset</span><span class="op" id="7489042">.</span><span class="ident" id="7489043">Base</span><span class="op" id="7489047">(</span><span class="op" id="7489048">)</span><span class="op" id="7489049">,</span>&nbsp;<span class="builtinfunc" id="7489051">len</span><span class="op" id="7489054">(</span><span class="ident" id="7489055">src1</span><span class="op" id="7489059">)</span><span class="op" id="7489060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489063">s</span><span class="op" id="7489064">.</span><span class="ident" id="7489065">Init</span><span class="op" id="7489069">(</span><span class="ident" id="7489070">f1</span><span class="op" id="7489072">,</span>&nbsp;<span class="op" id="7489074">[</span><span class="op" id="7489075">]</span><span class="builtintype" id="7489076">byte</span><span class="op" id="7489080">(</span><span class="ident" id="7489081">src1</span><span class="op" id="7489085">)</span><span class="op" id="7489086">,</span>&nbsp;<span class="ident" id="7489088">nil</span><span class="op" id="7489091">,</span>&nbsp;<span class="ident" id="7489093">dontInsertSemis</span><span class="op" id="7489108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489111">if</span>&nbsp;<span class="ident" id="7489114">f1</span><span class="op" id="7489116">.</span><span class="ident" id="7489117">Size</span><span class="op" id="7489121">(</span><span class="op" id="7489122">)</span>&nbsp;<span class="op" id="7489124">!=</span>&nbsp;<span class="builtinfunc" id="7489127">len</span><span class="op" id="7489130">(</span><span class="ident" id="7489131">src1</span><span class="op" id="7489135">)</span>&nbsp;<span class="op" id="7489137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489141">t</span><span class="op" id="7489142">.</span><span class="ident" id="7489143">Errorf</span><span class="op" id="7489149">(</span><span class="string" id="7489150">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7489186">,</span>&nbsp;<span class="ident" id="7489188">f1</span><span class="op" id="7489190">.</span><span class="ident" id="7489191">Size</span><span class="op" id="7489195">(</span><span class="op" id="7489196">)</span><span class="op" id="7489197">,</span>&nbsp;<span class="builtinfunc" id="7489199">len</span><span class="op" id="7489202">(</span><span class="ident" id="7489203">src1</span><span class="op" id="7489207">)</span><span class="op" id="7489208">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489214">s</span><span class="op" id="7489215">.</span><span class="ident" id="7489216">Scan</span><span class="op" id="7489220">(</span><span class="op" id="7489221">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7489236">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489243">s</span><span class="op" id="7489244">.</span><span class="ident" id="7489245">Scan</span><span class="op" id="7489249">(</span><span class="op" id="7489250">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7489265">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489274">_</span><span class="op" id="7489275">,</span>&nbsp;<span class="ident" id="7489277">tok</span><span class="op" id="7489280">,</span>&nbsp;<span class="ident" id="7489282">_</span>&nbsp;<span class="op" id="7489284">:=</span>&nbsp;<span class="ident" id="7489287">s</span><span class="op" id="7489288">.</span><span class="ident" id="7489289">Scan</span><span class="op" id="7489293">(</span><span class="op" id="7489294">)</span>&nbsp;<span class="comment" id="7489296">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489302">if</span>&nbsp;<span class="ident" id="7489305">tok</span>&nbsp;<span class="op" id="7489309">!=</span>&nbsp;<span class="ident" id="7489312">token</span><span class="op" id="7489317">.</span><span class="ident" id="7489318">LBRACE</span>&nbsp;<span class="op" id="7489325">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489329">t</span><span class="op" id="7489330">.</span><span class="ident" id="7489331">Errorf</span><span class="op" id="7489337">(</span><span class="string" id="7489338">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7489370">,</span>&nbsp;<span class="ident" id="7489372">tok</span><span class="op" id="7489375">,</span>&nbsp;<span class="ident" id="7489377">token</span><span class="op" id="7489382">.</span><span class="ident" id="7489383">LBRACE</span><span class="op" id="7489389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489396">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489409">src2</span>&nbsp;<span class="op" id="7489414">:=</span>&nbsp;<span class="string" id="7489417">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489432">f2</span>&nbsp;<span class="op" id="7489435">:=</span>&nbsp;<span class="ident" id="7489438">fset</span><span class="op" id="7489442">.</span><span class="ident" id="7489443">AddFile</span><span class="op" id="7489450">(</span><span class="string" id="7489451">&#34;src2&#34;</span><span class="op" id="7489457">,</span>&nbsp;<span class="ident" id="7489459">fset</span><span class="op" id="7489463">.</span><span class="ident" id="7489464">Base</span><span class="op" id="7489468">(</span><span class="op" id="7489469">)</span><span class="op" id="7489470">,</span>&nbsp;<span class="builtinfunc" id="7489472">len</span><span class="op" id="7489475">(</span><span class="ident" id="7489476">src2</span><span class="op" id="7489480">)</span><span class="op" id="7489481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489484">s</span><span class="op" id="7489485">.</span><span class="ident" id="7489486">Init</span><span class="op" id="7489490">(</span><span class="ident" id="7489491">f2</span><span class="op" id="7489493">,</span>&nbsp;<span class="op" id="7489495">[</span><span class="op" id="7489496">]</span><span class="builtintype" id="7489497">byte</span><span class="op" id="7489501">(</span><span class="ident" id="7489502">src2</span><span class="op" id="7489506">)</span><span class="op" id="7489507">,</span>&nbsp;<span class="ident" id="7489509">nil</span><span class="op" id="7489512">,</span>&nbsp;<span class="ident" id="7489514">dontInsertSemis</span><span class="op" id="7489529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489532">if</span>&nbsp;<span class="ident" id="7489535">f2</span><span class="op" id="7489537">.</span><span class="ident" id="7489538">Size</span><span class="op" id="7489542">(</span><span class="op" id="7489543">)</span>&nbsp;<span class="op" id="7489545">!=</span>&nbsp;<span class="builtinfunc" id="7489548">len</span><span class="op" id="7489551">(</span><span class="ident" id="7489552">src2</span><span class="op" id="7489556">)</span>&nbsp;<span class="op" id="7489558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489562">t</span><span class="op" id="7489563">.</span><span class="ident" id="7489564">Errorf</span><span class="op" id="7489570">(</span><span class="string" id="7489571">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7489607">,</span>&nbsp;<span class="ident" id="7489609">f2</span><span class="op" id="7489611">.</span><span class="ident" id="7489612">Size</span><span class="op" id="7489616">(</span><span class="op" id="7489617">)</span><span class="op" id="7489618">,</span>&nbsp;<span class="builtinfunc" id="7489620">len</span><span class="op" id="7489623">(</span><span class="ident" id="7489624">src2</span><span class="op" id="7489628">)</span><span class="op" id="7489629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489632">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489635">_</span><span class="op" id="7489636">,</span>&nbsp;<span class="ident" id="7489638">tok</span><span class="op" id="7489641">,</span>&nbsp;<span class="ident" id="7489643">_</span>&nbsp;<span class="op" id="7489645">=</span>&nbsp;<span class="ident" id="7489647">s</span><span class="op" id="7489648">.</span><span class="ident" id="7489649">Scan</span><span class="op" id="7489653">(</span><span class="op" id="7489654">)</span>&nbsp;<span class="comment" id="7489656">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489663">if</span>&nbsp;<span class="ident" id="7489666">tok</span>&nbsp;<span class="op" id="7489670">!=</span>&nbsp;<span class="ident" id="7489673">token</span><span class="op" id="7489678">.</span><span class="ident" id="7489679">GO</span>&nbsp;<span class="op" id="7489682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489686">t</span><span class="op" id="7489687">.</span><span class="ident" id="7489688">Errorf</span><span class="op" id="7489694">(</span><span class="string" id="7489695">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7489727">,</span>&nbsp;<span class="ident" id="7489729">tok</span><span class="op" id="7489732">,</span>&nbsp;<span class="ident" id="7489734">token</span><span class="op" id="7489739">.</span><span class="ident" id="7489740">GO</span><span class="op" id="7489742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489749">if</span>&nbsp;<span class="ident" id="7489752">s</span><span class="op" id="7489753">.</span><span class="ident" id="7489754">ErrorCount</span>&nbsp;<span class="op" id="7489765">!=</span>&nbsp;<span class="num" id="7489768">0</span>&nbsp;<span class="op" id="7489770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489774">t</span><span class="op" id="7489775">.</span><span class="ident" id="7489776">Errorf</span><span class="op" id="7489782">(</span><span class="string" id="7489783">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7489800">,</span>&nbsp;<span class="ident" id="7489802">s</span><span class="op" id="7489803">.</span><span class="ident" id="7489804">ErrorCount</span><span class="op" id="7489814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489817">}</span><br>
<span class="lineno"></span><span class="op" id="7489819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7489822">func</span>&nbsp;<span class="ident" id="7489827">TestStdErrorHander</span><span class="op" id="7489845">(</span><span class="ident" id="7489846">t</span>&nbsp;<span class="op" id="7489848">*</span><span class="ident" id="7489849">testing</span><span class="op" id="7489856">.</span><span class="ident" id="7489857">T</span><span class="op" id="7489858">)</span>&nbsp;<span class="op" id="7489860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489863">const</span>&nbsp;<span class="ident" id="7489869">src</span>&nbsp;<span class="op" id="7489873">=</span>&nbsp;<span class="string" id="7489875">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7489881">+</span>&nbsp;<span class="comment" id="7489883">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7489922">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7489930">+</span>&nbsp;<span class="comment" id="7489932">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7489965">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="7489985">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7489989">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7489995">+</span>&nbsp;<span class="comment" id="7489997">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490032">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="7490051">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490055">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7490063">+</span>&nbsp;<span class="comment" id="7490065">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490104">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="7490123">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490127">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="7490135">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490168">var</span>&nbsp;<span class="ident" id="7490172">list</span>&nbsp;<span class="ident" id="7490177">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490188">eh</span>&nbsp;<span class="op" id="7490191">:=</span>&nbsp;<span class="keyword" id="7490194">func</span><span class="op" id="7490198">(</span><span class="ident" id="7490199">pos</span>&nbsp;<span class="ident" id="7490203">token</span><span class="op" id="7490208">.</span><span class="ident" id="7490209">Position</span><span class="op" id="7490217">,</span>&nbsp;<span class="ident" id="7490219">msg</span>&nbsp;<span class="builtintype" id="7490223">string</span><span class="op" id="7490229">)</span>&nbsp;<span class="op" id="7490231">{</span>&nbsp;<span class="ident" id="7490233">list</span><span class="op" id="7490237">.</span><span class="ident" id="7490238">Add</span><span class="op" id="7490241">(</span><span class="ident" id="7490242">pos</span><span class="op" id="7490245">,</span>&nbsp;<span class="ident" id="7490247">msg</span><span class="op" id="7490250">)</span>&nbsp;<span class="op" id="7490252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490256">var</span>&nbsp;<span class="ident" id="7490260">s</span>&nbsp;<span class="ident" id="7490262">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490271">s</span><span class="op" id="7490272">.</span><span class="ident" id="7490273">Init</span><span class="op" id="7490277">(</span><span class="ident" id="7490278">fset</span><span class="op" id="7490282">.</span><span class="ident" id="7490283">AddFile</span><span class="op" id="7490290">(</span><span class="string" id="7490291">&#34;File1&#34;</span><span class="op" id="7490298">,</span>&nbsp;<span class="ident" id="7490300">fset</span><span class="op" id="7490304">.</span><span class="ident" id="7490305">Base</span><span class="op" id="7490309">(</span><span class="op" id="7490310">)</span><span class="op" id="7490311">,</span>&nbsp;<span class="builtinfunc" id="7490313">len</span><span class="op" id="7490316">(</span><span class="ident" id="7490317">src</span><span class="op" id="7490320">)</span><span class="op" id="7490321">)</span><span class="op" id="7490322">,</span>&nbsp;<span class="op" id="7490324">[</span><span class="op" id="7490325">]</span><span class="builtintype" id="7490326">byte</span><span class="op" id="7490330">(</span><span class="ident" id="7490331">src</span><span class="op" id="7490334">)</span><span class="op" id="7490335">,</span>&nbsp;<span class="ident" id="7490337">eh</span><span class="op" id="7490339">,</span>&nbsp;<span class="ident" id="7490341">dontInsertSemis</span><span class="op" id="7490356">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490359">for</span>&nbsp;<span class="op" id="7490363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490367">if</span>&nbsp;<span class="ident" id="7490370">_</span><span class="op" id="7490371">,</span>&nbsp;<span class="ident" id="7490373">tok</span><span class="op" id="7490376">,</span>&nbsp;<span class="ident" id="7490378">_</span>&nbsp;<span class="op" id="7490380">:=</span>&nbsp;<span class="ident" id="7490383">s</span><span class="op" id="7490384">.</span><span class="ident" id="7490385">Scan</span><span class="op" id="7490389">(</span><span class="op" id="7490390">)</span><span class="op" id="7490391">;</span>&nbsp;<span class="ident" id="7490393">tok</span>&nbsp;<span class="op" id="7490397">==</span>&nbsp;<span class="ident" id="7490400">token</span><span class="op" id="7490405">.</span><span class="ident" id="7490406">EOF</span>&nbsp;<span class="op" id="7490410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490415">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490426">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490430">if</span>&nbsp;<span class="builtinfunc" id="7490433">len</span><span class="op" id="7490436">(</span><span class="ident" id="7490437">list</span><span class="op" id="7490441">)</span>&nbsp;<span class="op" id="7490443">!=</span>&nbsp;<span class="ident" id="7490446">s</span><span class="op" id="7490447">.</span><span class="ident" id="7490448">ErrorCount</span>&nbsp;<span class="op" id="7490459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490463">t</span><span class="op" id="7490464">.</span><span class="ident" id="7490465">Errorf</span><span class="op" id="7490471">(</span><span class="string" id="7490472">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7490502">,</span>&nbsp;<span class="builtinfunc" id="7490504">len</span><span class="op" id="7490507">(</span><span class="ident" id="7490508">list</span><span class="op" id="7490512">)</span><span class="op" id="7490513">,</span>&nbsp;<span class="ident" id="7490515">s</span><span class="op" id="7490516">.</span><span class="ident" id="7490517">ErrorCount</span><span class="op" id="7490527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490534">if</span>&nbsp;<span class="builtinfunc" id="7490537">len</span><span class="op" id="7490540">(</span><span class="ident" id="7490541">list</span><span class="op" id="7490545">)</span>&nbsp;<span class="op" id="7490547">!=</span>&nbsp;<span class="num" id="7490550">9</span>&nbsp;<span class="op" id="7490552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490556">t</span><span class="op" id="7490557">.</span><span class="ident" id="7490558">Errorf</span><span class="op" id="7490564">(</span><span class="string" id="7490565">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7490598">,</span>&nbsp;<span class="builtinfunc" id="7490600">len</span><span class="op" id="7490603">(</span><span class="ident" id="7490604">list</span><span class="op" id="7490608">)</span><span class="op" id="7490609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490613">PrintError</span><span class="op" id="7490623">(</span><span class="ident" id="7490624">os</span><span class="op" id="7490626">.</span><span class="ident" id="7490627">Stderr</span><span class="op" id="7490633">,</span>&nbsp;<span class="ident" id="7490635">list</span><span class="op" id="7490639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490646">list</span><span class="op" id="7490650">.</span><span class="ident" id="7490651">Sort</span><span class="op" id="7490655">(</span><span class="op" id="7490656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490659">if</span>&nbsp;<span class="builtinfunc" id="7490662">len</span><span class="op" id="7490665">(</span><span class="ident" id="7490666">list</span><span class="op" id="7490670">)</span>&nbsp;<span class="op" id="7490672">!=</span>&nbsp;<span class="num" id="7490675">9</span>&nbsp;<span class="op" id="7490677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490681">t</span><span class="op" id="7490682">.</span><span class="ident" id="7490683">Errorf</span><span class="op" id="7490689">(</span><span class="string" id="7490690">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7490726">,</span>&nbsp;<span class="builtinfunc" id="7490728">len</span><span class="op" id="7490731">(</span><span class="ident" id="7490732">list</span><span class="op" id="7490736">)</span><span class="op" id="7490737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490741">PrintError</span><span class="op" id="7490751">(</span><span class="ident" id="7490752">os</span><span class="op" id="7490754">.</span><span class="ident" id="7490755">Stderr</span><span class="op" id="7490761">,</span>&nbsp;<span class="ident" id="7490763">list</span><span class="op" id="7490767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490770">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490774">list</span><span class="op" id="7490778">.</span><span class="ident" id="7490779">RemoveMultiples</span><span class="op" id="7490794">(</span><span class="op" id="7490795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490798">if</span>&nbsp;<span class="builtinfunc" id="7490801">len</span><span class="op" id="7490804">(</span><span class="ident" id="7490805">list</span><span class="op" id="7490809">)</span>&nbsp;<span class="op" id="7490811">!=</span>&nbsp;<span class="num" id="7490814">4</span>&nbsp;<span class="op" id="7490816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490820">t</span><span class="op" id="7490821">.</span><span class="ident" id="7490822">Errorf</span><span class="op" id="7490828">(</span><span class="string" id="7490829">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="7490871">,</span>&nbsp;<span class="builtinfunc" id="7490873">len</span><span class="op" id="7490876">(</span><span class="ident" id="7490877">list</span><span class="op" id="7490881">)</span><span class="op" id="7490882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490886">PrintError</span><span class="op" id="7490896">(</span><span class="ident" id="7490897">os</span><span class="op" id="7490899">.</span><span class="ident" id="7490900">Stderr</span><span class="op" id="7490906">,</span>&nbsp;<span class="ident" id="7490908">list</span><span class="op" id="7490912">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490915">}</span><br>
<span class="lineno"></span><span class="op" id="7490917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7490920">type</span>&nbsp;<span class="ident" id="7490925">errorCollector</span>&nbsp;<span class="keyword" id="7490940">struct</span>&nbsp;<span class="op" id="7490947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490950">cnt</span>&nbsp;<span class="builtintype" id="7490954">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7490969">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491002">msg</span>&nbsp;<span class="builtintype" id="7491006">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7491021">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491056">pos</span>&nbsp;<span class="ident" id="7491060">token</span><span class="op" id="7491065">.</span><span class="ident" id="7491066">Position</span>&nbsp;<span class="comment" id="7491075">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="7491110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7491113">func</span>&nbsp;<span class="ident" id="7491118">checkError</span><span class="op" id="7491128">(</span><span class="ident" id="7491129">t</span>&nbsp;<span class="op" id="7491131">*</span><span class="ident" id="7491132">testing</span><span class="op" id="7491139">.</span><span class="ident" id="7491140">T</span><span class="op" id="7491141">,</span>&nbsp;<span class="ident" id="7491143">src</span>&nbsp;<span class="builtintype" id="7491147">string</span><span class="op" id="7491153">,</span>&nbsp;<span class="ident" id="7491155">tok</span>&nbsp;<span class="ident" id="7491159">token</span><span class="op" id="7491164">.</span><span class="ident" id="7491165">Token</span><span class="op" id="7491170">,</span>&nbsp;<span class="ident" id="7491172">pos</span>&nbsp;<span class="builtintype" id="7491176">int</span><span class="op" id="7491179">,</span>&nbsp;<span class="ident" id="7491181">lit</span><span class="op" id="7491184">,</span>&nbsp;<span class="ident" id="7491186">err</span>&nbsp;<span class="builtintype" id="7491190">string</span><span class="op" id="7491196">)</span>&nbsp;<span class="op" id="7491198">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491201">var</span>&nbsp;<span class="ident" id="7491205">s</span>&nbsp;<span class="ident" id="7491207">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491216">var</span>&nbsp;<span class="ident" id="7491220">h</span>&nbsp;<span class="ident" id="7491222">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491238">eh</span>&nbsp;<span class="op" id="7491241">:=</span>&nbsp;<span class="keyword" id="7491244">func</span><span class="op" id="7491248">(</span><span class="ident" id="7491249">pos</span>&nbsp;<span class="ident" id="7491253">token</span><span class="op" id="7491258">.</span><span class="ident" id="7491259">Position</span><span class="op" id="7491267">,</span>&nbsp;<span class="ident" id="7491269">msg</span>&nbsp;<span class="builtintype" id="7491273">string</span><span class="op" id="7491279">)</span>&nbsp;<span class="op" id="7491281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491285">h</span><span class="op" id="7491286">.</span><span class="ident" id="7491287">cnt</span><span class="op" id="7491290">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491295">h</span><span class="op" id="7491296">.</span><span class="ident" id="7491297">msg</span>&nbsp;<span class="op" id="7491301">=</span>&nbsp;<span class="ident" id="7491303">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491309">h</span><span class="op" id="7491310">.</span><span class="ident" id="7491311">pos</span>&nbsp;<span class="op" id="7491315">=</span>&nbsp;<span class="ident" id="7491317">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491325">s</span><span class="op" id="7491326">.</span><span class="ident" id="7491327">Init</span><span class="op" id="7491331">(</span><span class="ident" id="7491332">fset</span><span class="op" id="7491336">.</span><span class="ident" id="7491337">AddFile</span><span class="op" id="7491344">(</span><span class="string" id="7491345">&#34;&#34;</span><span class="op" id="7491347">,</span>&nbsp;<span class="ident" id="7491349">fset</span><span class="op" id="7491353">.</span><span class="ident" id="7491354">Base</span><span class="op" id="7491358">(</span><span class="op" id="7491359">)</span><span class="op" id="7491360">,</span>&nbsp;<span class="builtinfunc" id="7491362">len</span><span class="op" id="7491365">(</span><span class="ident" id="7491366">src</span><span class="op" id="7491369">)</span><span class="op" id="7491370">)</span><span class="op" id="7491371">,</span>&nbsp;<span class="op" id="7491373">[</span><span class="op" id="7491374">]</span><span class="builtintype" id="7491375">byte</span><span class="op" id="7491379">(</span><span class="ident" id="7491380">src</span><span class="op" id="7491383">)</span><span class="op" id="7491384">,</span>&nbsp;<span class="ident" id="7491386">eh</span><span class="op" id="7491388">,</span>&nbsp;<span class="ident" id="7491390">ScanComments</span><span class="op" id="7491402">|</span><span class="ident" id="7491403">dontInsertSemis</span><span class="op" id="7491418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491421">_</span><span class="op" id="7491422">,</span>&nbsp;<span class="ident" id="7491424">tok0</span><span class="op" id="7491428">,</span>&nbsp;<span class="ident" id="7491430">lit0</span>&nbsp;<span class="op" id="7491435">:=</span>&nbsp;<span class="ident" id="7491438">s</span><span class="op" id="7491439">.</span><span class="ident" id="7491440">Scan</span><span class="op" id="7491444">(</span><span class="op" id="7491445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491448">if</span>&nbsp;<span class="ident" id="7491451">tok0</span>&nbsp;<span class="op" id="7491456">!=</span>&nbsp;<span class="ident" id="7491459">tok</span>&nbsp;<span class="op" id="7491463">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491467">t</span><span class="op" id="7491468">.</span><span class="ident" id="7491469">Errorf</span><span class="op" id="7491475">(</span><span class="string" id="7491476">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7491501">,</span>&nbsp;<span class="ident" id="7491503">src</span><span class="op" id="7491506">,</span>&nbsp;<span class="ident" id="7491508">tok0</span><span class="op" id="7491512">,</span>&nbsp;<span class="ident" id="7491514">tok</span><span class="op" id="7491517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491523">if</span>&nbsp;<span class="ident" id="7491526">tok0</span>&nbsp;<span class="op" id="7491531">!=</span>&nbsp;<span class="ident" id="7491534">token</span><span class="op" id="7491539">.</span><span class="ident" id="7491540">ILLEGAL</span>&nbsp;<span class="op" id="7491548">&amp;&amp;</span>&nbsp;<span class="ident" id="7491551">lit0</span>&nbsp;<span class="op" id="7491556">!=</span>&nbsp;<span class="ident" id="7491559">lit</span>&nbsp;<span class="op" id="7491563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491567">t</span><span class="op" id="7491568">.</span><span class="ident" id="7491569">Errorf</span><span class="op" id="7491575">(</span><span class="string" id="7491576">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7491609">,</span>&nbsp;<span class="ident" id="7491611">src</span><span class="op" id="7491614">,</span>&nbsp;<span class="ident" id="7491616">lit0</span><span class="op" id="7491620">,</span>&nbsp;<span class="ident" id="7491622">lit</span><span class="op" id="7491625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491628">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491631">cnt</span>&nbsp;<span class="op" id="7491635">:=</span>&nbsp;<span class="num" id="7491638">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491641">if</span>&nbsp;<span class="ident" id="7491644">err</span>&nbsp;<span class="op" id="7491648">!=</span>&nbsp;<span class="string" id="7491651">&#34;&#34;</span>&nbsp;<span class="op" id="7491654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491658">cnt</span>&nbsp;<span class="op" id="7491662">=</span>&nbsp;<span class="num" id="7491664">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491670">if</span>&nbsp;<span class="ident" id="7491673">h</span><span class="op" id="7491674">.</span><span class="ident" id="7491675">cnt</span>&nbsp;<span class="op" id="7491679">!=</span>&nbsp;<span class="ident" id="7491682">cnt</span>&nbsp;<span class="op" id="7491686">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491690">t</span><span class="op" id="7491691">.</span><span class="ident" id="7491692">Errorf</span><span class="op" id="7491698">(</span><span class="string" id="7491699">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7491728">,</span>&nbsp;<span class="ident" id="7491730">src</span><span class="op" id="7491733">,</span>&nbsp;<span class="ident" id="7491735">h</span><span class="op" id="7491736">.</span><span class="ident" id="7491737">cnt</span><span class="op" id="7491740">,</span>&nbsp;<span class="ident" id="7491742">cnt</span><span class="op" id="7491745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491751">if</span>&nbsp;<span class="ident" id="7491754">h</span><span class="op" id="7491755">.</span><span class="ident" id="7491756">msg</span>&nbsp;<span class="op" id="7491760">!=</span>&nbsp;<span class="ident" id="7491763">err</span>&nbsp;<span class="op" id="7491767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491771">t</span><span class="op" id="7491772">.</span><span class="ident" id="7491773">Errorf</span><span class="op" id="7491779">(</span><span class="string" id="7491780">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7491809">,</span>&nbsp;<span class="ident" id="7491811">src</span><span class="op" id="7491814">,</span>&nbsp;<span class="ident" id="7491816">h</span><span class="op" id="7491817">.</span><span class="ident" id="7491818">msg</span><span class="op" id="7491821">,</span>&nbsp;<span class="ident" id="7491823">err</span><span class="op" id="7491826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491829">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491832">if</span>&nbsp;<span class="ident" id="7491835">h</span><span class="op" id="7491836">.</span><span class="ident" id="7491837">pos</span><span class="op" id="7491840">.</span><span class="ident" id="7491841">Offset</span>&nbsp;<span class="op" id="7491848">!=</span>&nbsp;<span class="ident" id="7491851">pos</span>&nbsp;<span class="op" id="7491855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491859">t</span><span class="op" id="7491860">.</span><span class="ident" id="7491861">Errorf</span><span class="op" id="7491867">(</span><span class="string" id="7491868">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7491900">,</span>&nbsp;<span class="ident" id="7491902">src</span><span class="op" id="7491905">,</span>&nbsp;<span class="ident" id="7491907">h</span><span class="op" id="7491908">.</span><span class="ident" id="7491909">pos</span><span class="op" id="7491912">.</span><span class="ident" id="7491913">Offset</span><span class="op" id="7491919">,</span>&nbsp;<span class="ident" id="7491921">pos</span><span class="op" id="7491924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491927">}</span><br>
<span class="lineno"></span><span class="op" id="7491929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="7491932">var</span>&nbsp;<span class="ident" id="7491936">errors</span>&nbsp;<span class="op" id="7491943">=</span>&nbsp;<span class="op" id="7491945">[</span><span class="op" id="7491946">]</span><span class="keyword" id="7491947">struct</span>&nbsp;<span class="op" id="7491954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491957">src</span>&nbsp;<span class="builtintype" id="7491961">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491969">tok</span>&nbsp;<span class="ident" id="7491973">token</span><span class="op" id="7491978">.</span><span class="ident" id="7491979">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491986">pos</span>&nbsp;<span class="builtintype" id="7491990">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491995">lit</span>&nbsp;<span class="builtintype" id="7491999">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492007">err</span>&nbsp;<span class="builtintype" id="7492011">string</span><br>
<span class="lineno"></span><span class="op" id="7492018">}</span><span class="op" id="7492019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492022">{</span><span class="string" id="7492023">&#34;\a&#34;</span><span class="op" id="7492027">,</span>&nbsp;<span class="ident" id="7492029">token</span><span class="op" id="7492034">.</span><span class="ident" id="7492035">ILLEGAL</span><span class="op" id="7492042">,</span>&nbsp;<span class="num" id="7492044">0</span><span class="op" id="7492045">,</span>&nbsp;<span class="string" id="7492047">&#34;&#34;</span><span class="op" id="7492049">,</span>&nbsp;<span class="string" id="7492051">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="7492077">}</span><span class="op" id="7492078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492081">{</span><span class="string" id="7492082">`#`</span><span class="op" id="7492085">,</span>&nbsp;<span class="ident" id="7492087">token</span><span class="op" id="7492092">.</span><span class="ident" id="7492093">ILLEGAL</span><span class="op" id="7492100">,</span>&nbsp;<span class="num" id="7492102">0</span><span class="op" id="7492103">,</span>&nbsp;<span class="string" id="7492105">&#34;&#34;</span><span class="op" id="7492107">,</span>&nbsp;<span class="string" id="7492109">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="7492139">}</span><span class="op" id="7492140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492143">{</span><span class="string" id="7492144">`…`</span><span class="op" id="7492149">,</span>&nbsp;<span class="ident" id="7492151">token</span><span class="op" id="7492156">.</span><span class="ident" id="7492157">ILLEGAL</span><span class="op" id="7492164">,</span>&nbsp;<span class="num" id="7492166">0</span><span class="op" id="7492167">,</span>&nbsp;<span class="string" id="7492169">&#34;&#34;</span><span class="op" id="7492171">,</span>&nbsp;<span class="string" id="7492173">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="7492205">}</span><span class="op" id="7492206">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492209">{</span><span class="string" id="7492210">`&#39;&nbsp;&#39;`</span><span class="op" id="7492215">,</span>&nbsp;<span class="ident" id="7492217">token</span><span class="op" id="7492222">.</span><span class="ident" id="7492223">CHAR</span><span class="op" id="7492227">,</span>&nbsp;<span class="num" id="7492229">0</span><span class="op" id="7492230">,</span>&nbsp;<span class="string" id="7492232">`&#39;&nbsp;&#39;`</span><span class="op" id="7492237">,</span>&nbsp;<span class="string" id="7492239">&#34;&#34;</span><span class="op" id="7492241">}</span><span class="op" id="7492242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492245">{</span><span class="string" id="7492246">`&#39;&#39;`</span><span class="op" id="7492250">,</span>&nbsp;<span class="ident" id="7492252">token</span><span class="op" id="7492257">.</span><span class="ident" id="7492258">CHAR</span><span class="op" id="7492262">,</span>&nbsp;<span class="num" id="7492264">0</span><span class="op" id="7492265">,</span>&nbsp;<span class="string" id="7492267">`&#39;&#39;`</span><span class="op" id="7492271">,</span>&nbsp;<span class="string" id="7492273">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7492295">}</span><span class="op" id="7492296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492299">{</span><span class="string" id="7492300">`&#39;12&#39;`</span><span class="op" id="7492306">,</span>&nbsp;<span class="ident" id="7492308">token</span><span class="op" id="7492313">.</span><span class="ident" id="7492314">CHAR</span><span class="op" id="7492318">,</span>&nbsp;<span class="num" id="7492320">0</span><span class="op" id="7492321">,</span>&nbsp;<span class="string" id="7492323">`&#39;12&#39;`</span><span class="op" id="7492329">,</span>&nbsp;<span class="string" id="7492331">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7492353">}</span><span class="op" id="7492354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492357">{</span><span class="string" id="7492358">`&#39;123&#39;`</span><span class="op" id="7492365">,</span>&nbsp;<span class="ident" id="7492367">token</span><span class="op" id="7492372">.</span><span class="ident" id="7492373">CHAR</span><span class="op" id="7492377">,</span>&nbsp;<span class="num" id="7492379">0</span><span class="op" id="7492380">,</span>&nbsp;<span class="string" id="7492382">`&#39;123&#39;`</span><span class="op" id="7492389">,</span>&nbsp;<span class="string" id="7492391">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7492413">}</span><span class="op" id="7492414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492417">{</span><span class="string" id="7492418">`&#39;\0&#39;`</span><span class="op" id="7492424">,</span>&nbsp;<span class="ident" id="7492426">token</span><span class="op" id="7492431">.</span><span class="ident" id="7492432">CHAR</span><span class="op" id="7492436">,</span>&nbsp;<span class="num" id="7492438">3</span><span class="op" id="7492439">,</span>&nbsp;<span class="string" id="7492441">`&#39;\0&#39;`</span><span class="op" id="7492447">,</span>&nbsp;<span class="string" id="7492449">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7492498">}</span><span class="op" id="7492499">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492502">{</span><span class="string" id="7492503">`&#39;\07&#39;`</span><span class="op" id="7492510">,</span>&nbsp;<span class="ident" id="7492512">token</span><span class="op" id="7492517">.</span><span class="ident" id="7492518">CHAR</span><span class="op" id="7492522">,</span>&nbsp;<span class="num" id="7492524">4</span><span class="op" id="7492525">,</span>&nbsp;<span class="string" id="7492527">`&#39;\07&#39;`</span><span class="op" id="7492534">,</span>&nbsp;<span class="string" id="7492536">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7492585">}</span><span class="op" id="7492586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492589">{</span><span class="string" id="7492590">`&#39;\8&#39;`</span><span class="op" id="7492596">,</span>&nbsp;<span class="ident" id="7492598">token</span><span class="op" id="7492603">.</span><span class="ident" id="7492604">CHAR</span><span class="op" id="7492608">,</span>&nbsp;<span class="num" id="7492610">2</span><span class="op" id="7492611">,</span>&nbsp;<span class="string" id="7492613">`&#39;\8&#39;`</span><span class="op" id="7492619">,</span>&nbsp;<span class="string" id="7492621">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7492646">}</span><span class="op" id="7492647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492650">{</span><span class="string" id="7492651">`&#39;\08&#39;`</span><span class="op" id="7492658">,</span>&nbsp;<span class="ident" id="7492660">token</span><span class="op" id="7492665">.</span><span class="ident" id="7492666">CHAR</span><span class="op" id="7492670">,</span>&nbsp;<span class="num" id="7492672">3</span><span class="op" id="7492673">,</span>&nbsp;<span class="string" id="7492675">`&#39;\08&#39;`</span><span class="op" id="7492682">,</span>&nbsp;<span class="string" id="7492684">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7492733">}</span><span class="op" id="7492734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492737">{</span><span class="string" id="7492738">`&#39;\x&#39;`</span><span class="op" id="7492744">,</span>&nbsp;<span class="ident" id="7492746">token</span><span class="op" id="7492751">.</span><span class="ident" id="7492752">CHAR</span><span class="op" id="7492756">,</span>&nbsp;<span class="num" id="7492758">3</span><span class="op" id="7492759">,</span>&nbsp;<span class="string" id="7492761">`&#39;\x&#39;`</span><span class="op" id="7492767">,</span>&nbsp;<span class="string" id="7492769">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7492818">}</span><span class="op" id="7492819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492822">{</span><span class="string" id="7492823">`&#39;\x0&#39;`</span><span class="op" id="7492830">,</span>&nbsp;<span class="ident" id="7492832">token</span><span class="op" id="7492837">.</span><span class="ident" id="7492838">CHAR</span><span class="op" id="7492842">,</span>&nbsp;<span class="num" id="7492844">4</span><span class="op" id="7492845">,</span>&nbsp;<span class="string" id="7492847">`&#39;\x0&#39;`</span><span class="op" id="7492854">,</span>&nbsp;<span class="string" id="7492856">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7492905">}</span><span class="op" id="7492906">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492909">{</span><span class="string" id="7492910">`&#39;\x0g&#39;`</span><span class="op" id="7492918">,</span>&nbsp;<span class="ident" id="7492920">token</span><span class="op" id="7492925">.</span><span class="ident" id="7492926">CHAR</span><span class="op" id="7492930">,</span>&nbsp;<span class="num" id="7492932">4</span><span class="op" id="7492933">,</span>&nbsp;<span class="string" id="7492935">`&#39;\x0g&#39;`</span><span class="op" id="7492943">,</span>&nbsp;<span class="string" id="7492945">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7492994">}</span><span class="op" id="7492995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492998">{</span><span class="string" id="7492999">`&#39;\u&#39;`</span><span class="op" id="7493005">,</span>&nbsp;<span class="ident" id="7493007">token</span><span class="op" id="7493012">.</span><span class="ident" id="7493013">CHAR</span><span class="op" id="7493017">,</span>&nbsp;<span class="num" id="7493019">3</span><span class="op" id="7493020">,</span>&nbsp;<span class="string" id="7493022">`&#39;\u&#39;`</span><span class="op" id="7493028">,</span>&nbsp;<span class="string" id="7493030">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7493079">}</span><span class="op" id="7493080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493083">{</span><span class="string" id="7493084">`&#39;\u0&#39;`</span><span class="op" id="7493091">,</span>&nbsp;<span class="ident" id="7493093">token</span><span class="op" id="7493098">.</span><span class="ident" id="7493099">CHAR</span><span class="op" id="7493103">,</span>&nbsp;<span class="num" id="7493105">4</span><span class="op" id="7493106">,</span>&nbsp;<span class="string" id="7493108">`&#39;\u0&#39;`</span><span class="op" id="7493115">,</span>&nbsp;<span class="string" id="7493117">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7493166">}</span><span class="op" id="7493167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493170">{</span><span class="string" id="7493171">`&#39;\u00&#39;`</span><span class="op" id="7493179">,</span>&nbsp;<span class="ident" id="7493181">token</span><span class="op" id="7493186">.</span><span class="ident" id="7493187">CHAR</span><span class="op" id="7493191">,</span>&nbsp;<span class="num" id="7493193">5</span><span class="op" id="7493194">,</span>&nbsp;<span class="string" id="7493196">`&#39;\u00&#39;`</span><span class="op" id="7493204">,</span>&nbsp;<span class="string" id="7493206">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7493255">}</span><span class="op" id="7493256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493259">{</span><span class="string" id="7493260">`&#39;\u000&#39;`</span><span class="op" id="7493269">,</span>&nbsp;<span class="ident" id="7493271">token</span><span class="op" id="7493276">.</span><span class="ident" id="7493277">CHAR</span><span class="op" id="7493281">,</span>&nbsp;<span class="num" id="7493283">6</span><span class="op" id="7493284">,</span>&nbsp;<span class="string" id="7493286">`&#39;\u000&#39;`</span><span class="op" id="7493295">,</span>&nbsp;<span class="string" id="7493297">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7493346">}</span><span class="op" id="7493347">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493350">{</span><span class="string" id="7493351">`&#39;\u000`</span><span class="op" id="7493359">,</span>&nbsp;<span class="ident" id="7493361">token</span><span class="op" id="7493366">.</span><span class="ident" id="7493367">CHAR</span><span class="op" id="7493371">,</span>&nbsp;<span class="num" id="7493373">6</span><span class="op" id="7493374">,</span>&nbsp;<span class="string" id="7493376">`&#39;\u000`</span><span class="op" id="7493384">,</span>&nbsp;<span class="string" id="7493386">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7493418">}</span><span class="op" id="7493419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493422">{</span><span class="string" id="7493423">`&#39;\u0000&#39;`</span><span class="op" id="7493433">,</span>&nbsp;<span class="ident" id="7493435">token</span><span class="op" id="7493440">.</span><span class="ident" id="7493441">CHAR</span><span class="op" id="7493445">,</span>&nbsp;<span class="num" id="7493447">0</span><span class="op" id="7493448">,</span>&nbsp;<span class="string" id="7493450">`&#39;\u0000&#39;`</span><span class="op" id="7493460">,</span>&nbsp;<span class="string" id="7493462">&#34;&#34;</span><span class="op" id="7493464">}</span><span class="op" id="7493465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493468">{</span><span class="string" id="7493469">`&#39;\U&#39;`</span><span class="op" id="7493475">,</span>&nbsp;<span class="ident" id="7493477">token</span><span class="op" id="7493482">.</span><span class="ident" id="7493483">CHAR</span><span class="op" id="7493487">,</span>&nbsp;<span class="num" id="7493489">3</span><span class="op" id="7493490">,</span>&nbsp;<span class="string" id="7493492">`&#39;\U&#39;`</span><span class="op" id="7493498">,</span>&nbsp;<span class="string" id="7493500">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7493549">}</span><span class="op" id="7493550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493553">{</span><span class="string" id="7493554">`&#39;\U0&#39;`</span><span class="op" id="7493561">,</span>&nbsp;<span class="ident" id="7493563">token</span><span class="op" id="7493568">.</span><span class="ident" id="7493569">CHAR</span><span class="op" id="7493573">,</span>&nbsp;<span class="num" id="7493575">4</span><span class="op" id="7493576">,</span>&nbsp;<span class="string" id="7493578">`&#39;\U0&#39;`</span><span class="op" id="7493585">,</span>&nbsp;<span class="string" id="7493587">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7493636">}</span><span class="op" id="7493637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493640">{</span><span class="string" id="7493641">`&#39;\U00&#39;`</span><span class="op" id="7493649">,</span>&nbsp;<span class="ident" id="7493651">token</span><span class="op" id="7493656">.</span><span class="ident" id="7493657">CHAR</span><span class="op" id="7493661">,</span>&nbsp;<span class="num" id="7493663">5</span><span class="op" id="7493664">,</span>&nbsp;<span class="string" id="7493666">`&#39;\U00&#39;`</span><span class="op" id="7493674">,</span>&nbsp;<span class="string" id="7493676">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7493725">}</span><span class="op" id="7493726">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493729">{</span><span class="string" id="7493730">`&#39;\U000&#39;`</span><span class="op" id="7493739">,</span>&nbsp;<span class="ident" id="7493741">token</span><span class="op" id="7493746">.</span><span class="ident" id="7493747">CHAR</span><span class="op" id="7493751">,</span>&nbsp;<span class="num" id="7493753">6</span><span class="op" id="7493754">,</span>&nbsp;<span class="string" id="7493756">`&#39;\U000&#39;`</span><span class="op" id="7493765">,</span>&nbsp;<span class="string" id="7493767">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7493816">}</span><span class="op" id="7493817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493820">{</span><span class="string" id="7493821">`&#39;\U0000&#39;`</span><span class="op" id="7493831">,</span>&nbsp;<span class="ident" id="7493833">token</span><span class="op" id="7493838">.</span><span class="ident" id="7493839">CHAR</span><span class="op" id="7493843">,</span>&nbsp;<span class="num" id="7493845">7</span><span class="op" id="7493846">,</span>&nbsp;<span class="string" id="7493848">`&#39;\U0000&#39;`</span><span class="op" id="7493858">,</span>&nbsp;<span class="string" id="7493860">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7493909">}</span><span class="op" id="7493910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493913">{</span><span class="string" id="7493914">`&#39;\U00000&#39;`</span><span class="op" id="7493925">,</span>&nbsp;<span class="ident" id="7493927">token</span><span class="op" id="7493932">.</span><span class="ident" id="7493933">CHAR</span><span class="op" id="7493937">,</span>&nbsp;<span class="num" id="7493939">8</span><span class="op" id="7493940">,</span>&nbsp;<span class="string" id="7493942">`&#39;\U00000&#39;`</span><span class="op" id="7493953">,</span>&nbsp;<span class="string" id="7493955">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7494004">}</span><span class="op" id="7494005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494008">{</span><span class="string" id="7494009">`&#39;\U000000&#39;`</span><span class="op" id="7494021">,</span>&nbsp;<span class="ident" id="7494023">token</span><span class="op" id="7494028">.</span><span class="ident" id="7494029">CHAR</span><span class="op" id="7494033">,</span>&nbsp;<span class="num" id="7494035">9</span><span class="op" id="7494036">,</span>&nbsp;<span class="string" id="7494038">`&#39;\U000000&#39;`</span><span class="op" id="7494050">,</span>&nbsp;<span class="string" id="7494052">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7494101">}</span><span class="op" id="7494102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494105">{</span><span class="string" id="7494106">`&#39;\U0000000&#39;`</span><span class="op" id="7494119">,</span>&nbsp;<span class="ident" id="7494121">token</span><span class="op" id="7494126">.</span><span class="ident" id="7494127">CHAR</span><span class="op" id="7494131">,</span>&nbsp;<span class="num" id="7494133">10</span><span class="op" id="7494135">,</span>&nbsp;<span class="string" id="7494137">`&#39;\U0000000&#39;`</span><span class="op" id="7494150">,</span>&nbsp;<span class="string" id="7494152">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7494201">}</span><span class="op" id="7494202">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494205">{</span><span class="string" id="7494206">`&#39;\U0000000`</span><span class="op" id="7494218">,</span>&nbsp;<span class="ident" id="7494220">token</span><span class="op" id="7494225">.</span><span class="ident" id="7494226">CHAR</span><span class="op" id="7494230">,</span>&nbsp;<span class="num" id="7494232">10</span><span class="op" id="7494234">,</span>&nbsp;<span class="string" id="7494236">`&#39;\U0000000`</span><span class="op" id="7494248">,</span>&nbsp;<span class="string" id="7494250">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7494282">}</span><span class="op" id="7494283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494286">{</span><span class="string" id="7494287">`&#39;\U00000000&#39;`</span><span class="op" id="7494301">,</span>&nbsp;<span class="ident" id="7494303">token</span><span class="op" id="7494308">.</span><span class="ident" id="7494309">CHAR</span><span class="op" id="7494313">,</span>&nbsp;<span class="num" id="7494315">0</span><span class="op" id="7494316">,</span>&nbsp;<span class="string" id="7494318">`&#39;\U00000000&#39;`</span><span class="op" id="7494332">,</span>&nbsp;<span class="string" id="7494334">&#34;&#34;</span><span class="op" id="7494336">}</span><span class="op" id="7494337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494340">{</span><span class="string" id="7494341">`&#39;\Uffffffff&#39;`</span><span class="op" id="7494355">,</span>&nbsp;<span class="ident" id="7494357">token</span><span class="op" id="7494362">.</span><span class="ident" id="7494363">CHAR</span><span class="op" id="7494367">,</span>&nbsp;<span class="num" id="7494369">2</span><span class="op" id="7494370">,</span>&nbsp;<span class="string" id="7494372">`&#39;\Uffffffff&#39;`</span><span class="op" id="7494386">,</span>&nbsp;<span class="string" id="7494388">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="7494435">}</span><span class="op" id="7494436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494439">{</span><span class="string" id="7494440">`&#39;`</span><span class="op" id="7494443">,</span>&nbsp;<span class="ident" id="7494445">token</span><span class="op" id="7494450">.</span><span class="ident" id="7494451">CHAR</span><span class="op" id="7494455">,</span>&nbsp;<span class="num" id="7494457">0</span><span class="op" id="7494458">,</span>&nbsp;<span class="string" id="7494460">`&#39;`</span><span class="op" id="7494463">,</span>&nbsp;<span class="string" id="7494465">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7494494">}</span><span class="op" id="7494495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494498">{</span><span class="string" id="7494499">`&#39;\`</span><span class="op" id="7494503">,</span>&nbsp;<span class="ident" id="7494505">token</span><span class="op" id="7494510">.</span><span class="ident" id="7494511">CHAR</span><span class="op" id="7494515">,</span>&nbsp;<span class="num" id="7494517">2</span><span class="op" id="7494518">,</span>&nbsp;<span class="string" id="7494520">`&#39;\`</span><span class="op" id="7494524">,</span>&nbsp;<span class="string" id="7494526">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7494558">}</span><span class="op" id="7494559">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494562">{</span><span class="string" id="7494563">&#34;&#39;\n&#34;</span><span class="op" id="7494568">,</span>&nbsp;<span class="ident" id="7494570">token</span><span class="op" id="7494575">.</span><span class="ident" id="7494576">CHAR</span><span class="op" id="7494580">,</span>&nbsp;<span class="num" id="7494582">0</span><span class="op" id="7494583">,</span>&nbsp;<span class="string" id="7494585">&#34;&#39;&#34;</span><span class="op" id="7494588">,</span>&nbsp;<span class="string" id="7494590">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7494619">}</span><span class="op" id="7494620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494623">{</span><span class="string" id="7494624">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7494632">,</span>&nbsp;<span class="ident" id="7494634">token</span><span class="op" id="7494639">.</span><span class="ident" id="7494640">CHAR</span><span class="op" id="7494644">,</span>&nbsp;<span class="num" id="7494646">0</span><span class="op" id="7494647">,</span>&nbsp;<span class="string" id="7494649">&#34;&#39;&#34;</span><span class="op" id="7494652">,</span>&nbsp;<span class="string" id="7494654">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7494683">}</span><span class="op" id="7494684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494687">{</span><span class="string" id="7494688">`&#34;&#34;`</span><span class="op" id="7494692">,</span>&nbsp;<span class="ident" id="7494694">token</span><span class="op" id="7494699">.</span><span class="ident" id="7494700">STRING</span><span class="op" id="7494706">,</span>&nbsp;<span class="num" id="7494708">0</span><span class="op" id="7494709">,</span>&nbsp;<span class="string" id="7494711">`&#34;&#34;`</span><span class="op" id="7494715">,</span>&nbsp;<span class="string" id="7494717">&#34;&#34;</span><span class="op" id="7494719">}</span><span class="op" id="7494720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494723">{</span><span class="string" id="7494724">`&#34;abc`</span><span class="op" id="7494730">,</span>&nbsp;<span class="ident" id="7494732">token</span><span class="op" id="7494737">.</span><span class="ident" id="7494738">STRING</span><span class="op" id="7494744">,</span>&nbsp;<span class="num" id="7494746">0</span><span class="op" id="7494747">,</span>&nbsp;<span class="string" id="7494749">`&#34;abc`</span><span class="op" id="7494755">,</span>&nbsp;<span class="string" id="7494757">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7494788">}</span><span class="op" id="7494789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494792">{</span><span class="string" id="7494793">&#34;\&#34;abc\n&#34;</span><span class="op" id="7494802">,</span>&nbsp;<span class="ident" id="7494804">token</span><span class="op" id="7494809">.</span><span class="ident" id="7494810">STRING</span><span class="op" id="7494816">,</span>&nbsp;<span class="num" id="7494818">0</span><span class="op" id="7494819">,</span>&nbsp;<span class="string" id="7494821">`&#34;abc`</span><span class="op" id="7494827">,</span>&nbsp;<span class="string" id="7494829">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7494860">}</span><span class="op" id="7494861">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494864">{</span><span class="string" id="7494865">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7494877">,</span>&nbsp;<span class="ident" id="7494879">token</span><span class="op" id="7494884">.</span><span class="ident" id="7494885">STRING</span><span class="op" id="7494891">,</span>&nbsp;<span class="num" id="7494893">0</span><span class="op" id="7494894">,</span>&nbsp;<span class="string" id="7494896">`&#34;abc`</span><span class="op" id="7494902">,</span>&nbsp;<span class="string" id="7494904">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7494935">}</span><span class="op" id="7494936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494939">{</span><span class="string" id="7494940">&#34;``&#34;</span><span class="op" id="7494944">,</span>&nbsp;<span class="ident" id="7494946">token</span><span class="op" id="7494951">.</span><span class="ident" id="7494952">STRING</span><span class="op" id="7494958">,</span>&nbsp;<span class="num" id="7494960">0</span><span class="op" id="7494961">,</span>&nbsp;<span class="string" id="7494963">&#34;``&#34;</span><span class="op" id="7494967">,</span>&nbsp;<span class="string" id="7494969">&#34;&#34;</span><span class="op" id="7494971">}</span><span class="op" id="7494972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494975">{</span><span class="string" id="7494976">&#34;`&#34;</span><span class="op" id="7494979">,</span>&nbsp;<span class="ident" id="7494981">token</span><span class="op" id="7494986">.</span><span class="ident" id="7494987">STRING</span><span class="op" id="7494993">,</span>&nbsp;<span class="num" id="7494995">0</span><span class="op" id="7494996">,</span>&nbsp;<span class="string" id="7494998">&#34;`&#34;</span><span class="op" id="7495001">,</span>&nbsp;<span class="string" id="7495003">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7495038">}</span><span class="op" id="7495039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495042">{</span><span class="string" id="7495043">&#34;/**/&#34;</span><span class="op" id="7495049">,</span>&nbsp;<span class="ident" id="7495051">token</span><span class="op" id="7495056">.</span><span class="ident" id="7495057">COMMENT</span><span class="op" id="7495064">,</span>&nbsp;<span class="num" id="7495066">0</span><span class="op" id="7495067">,</span>&nbsp;<span class="string" id="7495069">&#34;/**/&#34;</span><span class="op" id="7495075">,</span>&nbsp;<span class="string" id="7495077">&#34;&#34;</span><span class="op" id="7495079">}</span><span class="op" id="7495080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495083">{</span><span class="string" id="7495084">&#34;/*&#34;</span><span class="op" id="7495088">,</span>&nbsp;<span class="ident" id="7495090">token</span><span class="op" id="7495095">.</span><span class="ident" id="7495096">COMMENT</span><span class="op" id="7495103">,</span>&nbsp;<span class="num" id="7495105">0</span><span class="op" id="7495106">,</span>&nbsp;<span class="string" id="7495108">&#34;/*&#34;</span><span class="op" id="7495112">,</span>&nbsp;<span class="string" id="7495114">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7495138">}</span><span class="op" id="7495139">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495142">{</span><span class="string" id="7495143">&#34;077&#34;</span><span class="op" id="7495148">,</span>&nbsp;<span class="ident" id="7495150">token</span><span class="op" id="7495155">.</span><span class="ident" id="7495156">INT</span><span class="op" id="7495159">,</span>&nbsp;<span class="num" id="7495161">0</span><span class="op" id="7495162">,</span>&nbsp;<span class="string" id="7495164">&#34;077&#34;</span><span class="op" id="7495169">,</span>&nbsp;<span class="string" id="7495171">&#34;&#34;</span><span class="op" id="7495173">}</span><span class="op" id="7495174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495177">{</span><span class="string" id="7495178">&#34;078.&#34;</span><span class="op" id="7495184">,</span>&nbsp;<span class="ident" id="7495186">token</span><span class="op" id="7495191">.</span><span class="ident" id="7495192">FLOAT</span><span class="op" id="7495197">,</span>&nbsp;<span class="num" id="7495199">0</span><span class="op" id="7495200">,</span>&nbsp;<span class="string" id="7495202">&#34;078.&#34;</span><span class="op" id="7495208">,</span>&nbsp;<span class="string" id="7495210">&#34;&#34;</span><span class="op" id="7495212">}</span><span class="op" id="7495213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495216">{</span><span class="string" id="7495217">&#34;07801234567.&#34;</span><span class="op" id="7495231">,</span>&nbsp;<span class="ident" id="7495233">token</span><span class="op" id="7495238">.</span><span class="ident" id="7495239">FLOAT</span><span class="op" id="7495244">,</span>&nbsp;<span class="num" id="7495246">0</span><span class="op" id="7495247">,</span>&nbsp;<span class="string" id="7495249">&#34;07801234567.&#34;</span><span class="op" id="7495263">,</span>&nbsp;<span class="string" id="7495265">&#34;&#34;</span><span class="op" id="7495267">}</span><span class="op" id="7495268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495271">{</span><span class="string" id="7495272">&#34;078e0&#34;</span><span class="op" id="7495279">,</span>&nbsp;<span class="ident" id="7495281">token</span><span class="op" id="7495286">.</span><span class="ident" id="7495287">FLOAT</span><span class="op" id="7495292">,</span>&nbsp;<span class="num" id="7495294">0</span><span class="op" id="7495295">,</span>&nbsp;<span class="string" id="7495297">&#34;078e0&#34;</span><span class="op" id="7495304">,</span>&nbsp;<span class="string" id="7495306">&#34;&#34;</span><span class="op" id="7495308">}</span><span class="op" id="7495309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495312">{</span><span class="string" id="7495313">&#34;078&#34;</span><span class="op" id="7495318">,</span>&nbsp;<span class="ident" id="7495320">token</span><span class="op" id="7495325">.</span><span class="ident" id="7495326">INT</span><span class="op" id="7495329">,</span>&nbsp;<span class="num" id="7495331">0</span><span class="op" id="7495332">,</span>&nbsp;<span class="string" id="7495334">&#34;078&#34;</span><span class="op" id="7495339">,</span>&nbsp;<span class="string" id="7495341">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7495363">}</span><span class="op" id="7495364">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495367">{</span><span class="string" id="7495368">&#34;07800000009&#34;</span><span class="op" id="7495381">,</span>&nbsp;<span class="ident" id="7495383">token</span><span class="op" id="7495388">.</span><span class="ident" id="7495389">INT</span><span class="op" id="7495392">,</span>&nbsp;<span class="num" id="7495394">0</span><span class="op" id="7495395">,</span>&nbsp;<span class="string" id="7495397">&#34;07800000009&#34;</span><span class="op" id="7495410">,</span>&nbsp;<span class="string" id="7495412">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7495434">}</span><span class="op" id="7495435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495438">{</span><span class="string" id="7495439">&#34;0x&#34;</span><span class="op" id="7495443">,</span>&nbsp;<span class="ident" id="7495445">token</span><span class="op" id="7495450">.</span><span class="ident" id="7495451">INT</span><span class="op" id="7495454">,</span>&nbsp;<span class="num" id="7495456">0</span><span class="op" id="7495457">,</span>&nbsp;<span class="string" id="7495459">&#34;0x&#34;</span><span class="op" id="7495463">,</span>&nbsp;<span class="string" id="7495465">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7495493">}</span><span class="op" id="7495494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495497">{</span><span class="string" id="7495498">&#34;0X&#34;</span><span class="op" id="7495502">,</span>&nbsp;<span class="ident" id="7495504">token</span><span class="op" id="7495509">.</span><span class="ident" id="7495510">INT</span><span class="op" id="7495513">,</span>&nbsp;<span class="num" id="7495515">0</span><span class="op" id="7495516">,</span>&nbsp;<span class="string" id="7495518">&#34;0X&#34;</span><span class="op" id="7495522">,</span>&nbsp;<span class="string" id="7495524">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7495552">}</span><span class="op" id="7495553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495556">{</span><span class="string" id="7495557">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7495573">,</span>&nbsp;<span class="ident" id="7495575">token</span><span class="op" id="7495580">.</span><span class="ident" id="7495581">STRING</span><span class="op" id="7495587">,</span>&nbsp;<span class="num" id="7495589">4</span><span class="op" id="7495590">,</span>&nbsp;<span class="string" id="7495592">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7495608">,</span>&nbsp;<span class="string" id="7495610">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7495633">}</span><span class="op" id="7495634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495637">{</span><span class="string" id="7495638">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7495654">,</span>&nbsp;<span class="ident" id="7495656">token</span><span class="op" id="7495661">.</span><span class="ident" id="7495662">STRING</span><span class="op" id="7495668">,</span>&nbsp;<span class="num" id="7495670">4</span><span class="op" id="7495671">,</span>&nbsp;<span class="string" id="7495673">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7495689">,</span>&nbsp;<span class="string" id="7495691">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7495715">}</span><span class="op" id="7495716">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495719">{</span><span class="string" id="7495720">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7495734">,</span>&nbsp;<span class="ident" id="7495736">token</span><span class="op" id="7495741">.</span><span class="ident" id="7495742">ILLEGAL</span><span class="op" id="7495749">,</span>&nbsp;<span class="num" id="7495751">3</span><span class="op" id="7495752">,</span>&nbsp;<span class="string" id="7495754">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7495768">,</span>&nbsp;<span class="string" id="7495770">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7495795">}</span><span class="op" id="7495796">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7495821">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495851">{</span><span class="string" id="7495852">&#34;//\ufeff&#34;</span><span class="op" id="7495862">,</span>&nbsp;<span class="ident" id="7495864">token</span><span class="op" id="7495869">.</span><span class="ident" id="7495870">COMMENT</span><span class="op" id="7495877">,</span>&nbsp;<span class="num" id="7495879">2</span><span class="op" id="7495880">,</span>&nbsp;<span class="string" id="7495882">&#34;//\ufeff&#34;</span><span class="op" id="7495892">,</span>&nbsp;<span class="string" id="7495894">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7495919">}</span><span class="op" id="7495920">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7495953">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495983">{</span><span class="string" id="7495984">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7495994">+</span>&nbsp;<span class="string" id="7495996">`&#39;`</span><span class="op" id="7495999">,</span>&nbsp;<span class="ident" id="7496001">token</span><span class="op" id="7496006">.</span><span class="ident" id="7496007">CHAR</span><span class="op" id="7496011">,</span>&nbsp;<span class="num" id="7496013">1</span><span class="op" id="7496014">,</span>&nbsp;<span class="string" id="7496016">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7496026">+</span>&nbsp;<span class="string" id="7496028">`&#39;`</span><span class="op" id="7496031">,</span>&nbsp;<span class="string" id="7496033">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7496058">}</span><span class="op" id="7496059">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7496085">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496115">{</span><span class="string" id="7496116">`&#34;`</span>&nbsp;<span class="op" id="7496120">+</span>&nbsp;<span class="string" id="7496122">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7496137">+</span>&nbsp;<span class="string" id="7496139">`&#34;`</span><span class="op" id="7496142">,</span>&nbsp;<span class="ident" id="7496144">token</span><span class="op" id="7496149">.</span><span class="ident" id="7496150">STRING</span><span class="op" id="7496156">,</span>&nbsp;<span class="num" id="7496158">4</span><span class="op" id="7496159">,</span>&nbsp;<span class="string" id="7496161">`&#34;`</span>&nbsp;<span class="op" id="7496165">+</span>&nbsp;<span class="string" id="7496167">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7496182">+</span>&nbsp;<span class="string" id="7496184">`&#34;`</span><span class="op" id="7496187">,</span>&nbsp;<span class="string" id="7496189">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7496214">}</span><span class="op" id="7496215">,</span>&nbsp;<span class="comment" id="7496217">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="7496246">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="7496249">func</span>&nbsp;<span class="ident" id="7496254">TestScanErrors</span><span class="op" id="7496268">(</span><span class="ident" id="7496269">t</span>&nbsp;<span class="op" id="7496271">*</span><span class="ident" id="7496272">testing</span><span class="op" id="7496279">.</span><span class="ident" id="7496280">T</span><span class="op" id="7496281">)</span>&nbsp;<span class="op" id="7496283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496286">for</span>&nbsp;<span class="ident" id="7496290">_</span><span class="op" id="7496291">,</span>&nbsp;<span class="ident" id="7496293">e</span>&nbsp;<span class="op" id="7496295">:=</span>&nbsp;<span class="keyword" id="7496298">range</span>&nbsp;<span class="ident" id="7496304">errors</span>&nbsp;<span class="op" id="7496311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496315">checkError</span><span class="op" id="7496325">(</span><span class="ident" id="7496326">t</span><span class="op" id="7496327">,</span>&nbsp;<span class="ident" id="7496329">e</span><span class="op" id="7496330">.</span><span class="ident" id="7496331">src</span><span class="op" id="7496334">,</span>&nbsp;<span class="ident" id="7496336">e</span><span class="op" id="7496337">.</span><span class="ident" id="7496338">tok</span><span class="op" id="7496341">,</span>&nbsp;<span class="ident" id="7496343">e</span><span class="op" id="7496344">.</span><span class="ident" id="7496345">pos</span><span class="op" id="7496348">,</span>&nbsp;<span class="ident" id="7496350">e</span><span class="op" id="7496351">.</span><span class="ident" id="7496352">lit</span><span class="op" id="7496355">,</span>&nbsp;<span class="ident" id="7496357">e</span><span class="op" id="7496358">.</span><span class="ident" id="7496359">err</span><span class="op" id="7496362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496365">}</span><br>
<span class="lineno">735</span><span class="op" id="7496367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7496370">func</span>&nbsp;<span class="ident" id="7496375">BenchmarkScan</span><span class="op" id="7496388">(</span><span class="ident" id="7496389">b</span>&nbsp;<span class="op" id="7496391">*</span><span class="ident" id="7496392">testing</span><span class="op" id="7496399">.</span><span class="ident" id="7496400">B</span><span class="op" id="7496401">)</span>&nbsp;<span class="op" id="7496403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496406">b</span><span class="op" id="7496407">.</span><span class="ident" id="7496408">StopTimer</span><span class="op" id="7496417">(</span><span class="op" id="7496418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496421">fset</span>&nbsp;<span class="op" id="7496426">:=</span>&nbsp;<span class="ident" id="7496429">token</span><span class="op" id="7496434">.</span><span class="ident" id="7496435">NewFileSet</span><span class="op" id="7496445">(</span><span class="op" id="7496446">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496449">file</span>&nbsp;<span class="op" id="7496454">:=</span>&nbsp;<span class="ident" id="7496457">fset</span><span class="op" id="7496461">.</span><span class="ident" id="7496462">AddFile</span><span class="op" id="7496469">(</span><span class="string" id="7496470">&#34;&#34;</span><span class="op" id="7496472">,</span>&nbsp;<span class="ident" id="7496474">fset</span><span class="op" id="7496478">.</span><span class="ident" id="7496479">Base</span><span class="op" id="7496483">(</span><span class="op" id="7496484">)</span><span class="op" id="7496485">,</span>&nbsp;<span class="builtinfunc" id="7496487">len</span><span class="op" id="7496490">(</span><span class="ident" id="7496491">source</span><span class="op" id="7496497">)</span><span class="op" id="7496498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496501">var</span>&nbsp;<span class="ident" id="7496505">s</span>&nbsp;<span class="ident" id="7496507">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496516">b</span><span class="op" id="7496517">.</span><span class="ident" id="7496518">StartTimer</span><span class="op" id="7496528">(</span><span class="op" id="7496529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496532">for</span>&nbsp;<span class="ident" id="7496536">i</span>&nbsp;<span class="op" id="7496538">:=</span>&nbsp;<span class="num" id="7496541">0</span><span class="op" id="7496542">;</span>&nbsp;<span class="ident" id="7496544">i</span>&nbsp;<span class="op" id="7496546">&lt;</span>&nbsp;<span class="ident" id="7496548">b</span><span class="op" id="7496549">.</span><span class="ident" id="7496550">N</span><span class="op" id="7496551">;</span>&nbsp;<span class="ident" id="7496553">i</span><span class="op" id="7496554">++</span>&nbsp;<span class="op" id="7496557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496561">s</span><span class="op" id="7496562">.</span><span class="ident" id="7496563">Init</span><span class="op" id="7496567">(</span><span class="ident" id="7496568">file</span><span class="op" id="7496572">,</span>&nbsp;<span class="ident" id="7496574">source</span><span class="op" id="7496580">,</span>&nbsp;<span class="ident" id="7496582">nil</span><span class="op" id="7496585">,</span>&nbsp;<span class="ident" id="7496587">ScanComments</span><span class="op" id="7496599">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496603">for</span>&nbsp;<span class="op" id="7496607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496612">_</span><span class="op" id="7496613">,</span>&nbsp;<span class="ident" id="7496615">tok</span><span class="op" id="7496618">,</span>&nbsp;<span class="ident" id="7496620">_</span>&nbsp;<span class="op" id="7496622">:=</span>&nbsp;<span class="ident" id="7496625">s</span><span class="op" id="7496626">.</span><span class="ident" id="7496627">Scan</span><span class="op" id="7496631">(</span><span class="op" id="7496632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496637">if</span>&nbsp;<span class="ident" id="7496640">tok</span>&nbsp;<span class="op" id="7496644">==</span>&nbsp;<span class="ident" id="7496647">token</span><span class="op" id="7496652">.</span><span class="ident" id="7496653">EOF</span>&nbsp;<span class="op" id="7496657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496663">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496672">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496679">}</span><br>
<span class="lineno"></span><span class="op" id="7496681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7496684">func</span>&nbsp;<span class="ident" id="7496689">BenchmarkScanFile</span><span class="op" id="7496706">(</span><span class="ident" id="7496707">b</span>&nbsp;<span class="op" id="7496709">*</span><span class="ident" id="7496710">testing</span><span class="op" id="7496717">.</span><span class="ident" id="7496718">B</span><span class="op" id="7496719">)</span>&nbsp;<span class="op" id="7496721">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496724">b</span><span class="op" id="7496725">.</span><span class="ident" id="7496726">StopTimer</span><span class="op" id="7496735">(</span><span class="op" id="7496736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496739">const</span>&nbsp;<span class="ident" id="7496745">filename</span>&nbsp;<span class="op" id="7496754">=</span>&nbsp;<span class="string" id="7496756">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496770">src</span><span class="op" id="7496773">,</span>&nbsp;<span class="ident" id="7496775">err</span>&nbsp;<span class="op" id="7496779">:=</span>&nbsp;<span class="ident" id="7496782">ioutil</span><span class="op" id="7496788">.</span><span class="ident" id="7496789">ReadFile</span><span class="op" id="7496797">(</span><span class="ident" id="7496798">filename</span><span class="op" id="7496806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496809">if</span>&nbsp;<span class="ident" id="7496812">err</span>&nbsp;<span class="op" id="7496816">!=</span>&nbsp;<span class="ident" id="7496819">nil</span>&nbsp;<span class="op" id="7496823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7496827">panic</span><span class="op" id="7496832">(</span><span class="ident" id="7496833">err</span><span class="op" id="7496836">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7496839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496842">fset</span>&nbsp;<span class="op" id="7496847">:=</span>&nbsp;<span class="ident" id="7496850">token</span><span class="op" id="7496855">.</span><span class="ident" id="7496856">NewFileSet</span><span class="op" id="7496866">(</span><span class="op" id="7496867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496870">file</span>&nbsp;<span class="op" id="7496875">:=</span>&nbsp;<span class="ident" id="7496878">fset</span><span class="op" id="7496882">.</span><span class="ident" id="7496883">AddFile</span><span class="op" id="7496890">(</span><span class="ident" id="7496891">filename</span><span class="op" id="7496899">,</span>&nbsp;<span class="ident" id="7496901">fset</span><span class="op" id="7496905">.</span><span class="ident" id="7496906">Base</span><span class="op" id="7496910">(</span><span class="op" id="7496911">)</span><span class="op" id="7496912">,</span>&nbsp;<span class="builtinfunc" id="7496914">len</span><span class="op" id="7496917">(</span><span class="ident" id="7496918">src</span><span class="op" id="7496921">)</span><span class="op" id="7496922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496925">b</span><span class="op" id="7496926">.</span><span class="ident" id="7496927">SetBytes</span><span class="op" id="7496935">(</span><span class="ident" id="7496936">int64</span><span class="op" id="7496941">(</span><span class="builtinfunc" id="7496942">len</span><span class="op" id="7496945">(</span><span class="ident" id="7496946">src</span><span class="op" id="7496949">)</span><span class="op" id="7496950">)</span><span class="op" id="7496951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496954">var</span>&nbsp;<span class="ident" id="7496958">s</span>&nbsp;<span class="ident" id="7496960">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7496969">b</span><span class="op" id="7496970">.</span><span class="ident" id="7496971">StartTimer</span><span class="op" id="7496981">(</span><span class="op" id="7496982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7496985">for</span>&nbsp;<span class="ident" id="7496989">i</span>&nbsp;<span class="op" id="7496991">:=</span>&nbsp;<span class="num" id="7496994">0</span><span class="op" id="7496995">;</span>&nbsp;<span class="ident" id="7496997">i</span>&nbsp;<span class="op" id="7496999">&lt;</span>&nbsp;<span class="ident" id="7497001">b</span><span class="op" id="7497002">.</span><span class="ident" id="7497003">N</span><span class="op" id="7497004">;</span>&nbsp;<span class="ident" id="7497006">i</span><span class="op" id="7497007">++</span>&nbsp;<span class="op" id="7497010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497014">s</span><span class="op" id="7497015">.</span><span class="ident" id="7497016">Init</span><span class="op" id="7497020">(</span><span class="ident" id="7497021">file</span><span class="op" id="7497025">,</span>&nbsp;<span class="ident" id="7497027">src</span><span class="op" id="7497030">,</span>&nbsp;<span class="ident" id="7497032">nil</span><span class="op" id="7497035">,</span>&nbsp;<span class="ident" id="7497037">ScanComments</span><span class="op" id="7497049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497053">for</span>&nbsp;<span class="op" id="7497057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497062">_</span><span class="op" id="7497063">,</span>&nbsp;<span class="ident" id="7497065">tok</span><span class="op" id="7497068">,</span>&nbsp;<span class="ident" id="7497070">_</span>&nbsp;<span class="op" id="7497072">:=</span>&nbsp;<span class="ident" id="7497075">s</span><span class="op" id="7497076">.</span><span class="ident" id="7497077">Scan</span><span class="op" id="7497081">(</span><span class="op" id="7497082">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497087">if</span>&nbsp;<span class="ident" id="7497090">tok</span>&nbsp;<span class="op" id="7497094">==</span>&nbsp;<span class="ident" id="7497097">token</span><span class="op" id="7497102">.</span><span class="ident" id="7497103">EOF</span>&nbsp;<span class="op" id="7497107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497113">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497129">}</span><br>
<span class="lineno">775</span><span class="op" id="7497131">}</span>
</div>
</body>
</html>
