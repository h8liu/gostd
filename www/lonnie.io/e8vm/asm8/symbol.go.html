<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6065798">package</span>&nbsp;<span class="ident" id="6065806">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6065812">import</span>&nbsp;<span class="op" id="6065819">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6065822">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="6065844">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6065847">//&nbsp;Symbol&nbsp;is&nbsp;a&nbsp;data&nbsp;structure&nbsp;for&nbsp;saving&nbsp;a&nbsp;symbol.</span><br>
<span class="lineno"></span><span class="keyword" id="6065898">type</span>&nbsp;<span class="ident" id="6065903">symbol</span>&nbsp;<span class="keyword" id="6065910">struct</span>&nbsp;<span class="op" id="6065917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065920">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6065928">string</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065936">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6065944">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065949">Item</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6065957">interface</span><span class="op" id="6065966">{</span><span class="op" id="6065967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065970">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6065978">*</span><span class="ident" id="6065979"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065822">lex8</a></span><span class="op" id="6065983">.</span><span class="ident" id="6065984">Pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6065989">Package</span>&nbsp;<span class="builtintype" id="6065997">string</span>&nbsp;<span class="comment" id="6066004">//&nbsp;Package&nbsp;path</span><br>
<span class="lineno"></span><span class="op" id="6066020">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6066023">func</span>&nbsp;<span class="op" id="6066028">(</span><span class="ident" id="6066029">s</span>&nbsp;<span class="op" id="6066031">*</span><span class="ident" id="6066032"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span><span class="op" id="6066038">)</span>&nbsp;<span class="ident" id="6066040">clone</span><span class="op" id="6066045">(</span><span class="op" id="6066046">)</span>&nbsp;<span class="op" id="6066048">*</span><span class="ident" id="6066049"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span>&nbsp;<span class="op" id="6066056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066059">return</span>&nbsp;<span class="op" id="6066066">&amp;</span><span class="ident" id="6066067"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span><span class="op" id="6066073">{</span><span class="ident" id="6066074"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066029">s</a></span><span class="op" id="6066075">.</span><span class="ident" id="6066076">Name</span><span class="op" id="6066080">,</span>&nbsp;<span class="ident" id="6066082"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066029">s</a></span><span class="op" id="6066083">.</span><span class="ident" id="6066084">Type</span><span class="op" id="6066088">,</span>&nbsp;<span class="ident" id="6066090"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066029">s</a></span><span class="op" id="6066091">.</span><span class="ident" id="6066092">Item</span><span class="op" id="6066096">,</span>&nbsp;<span class="ident" id="6066098"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066029">s</a></span><span class="op" id="6066099">.</span><span class="ident" id="6066100">Pos</span><span class="op" id="6066103">,</span>&nbsp;<span class="ident" id="6066105"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066029">s</a></span><span class="op" id="6066106">.</span><span class="ident" id="6066107">Package</span><span class="op" id="6066114">}</span><br>
<span class="lineno"></span><span class="op" id="6066116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="6066119">//&nbsp;asm8&nbsp;symbol&nbsp;types</span><br>
<span class="lineno"></span><span class="keyword" id="6066140">const</span>&nbsp;<span class="op" id="6066146">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6066149">SymImport</span>&nbsp;<span class="op" id="6066159">=</span>&nbsp;<span class="ident" id="6066161">iota</span>&nbsp;<span class="comment" id="6066166">//&nbsp;Item.type&nbsp;==&nbsp;*PkgObj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6066191">SymFunc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6066208">//&nbsp;Item.type&nbsp;==&nbsp;*Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6066231">SymConst</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6066248">//&nbsp;Item.type&nbsp;==&nbsp;*Const</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6066272">SymVar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6066289">//&nbsp;Item.type&nbsp;==&nbsp;*Var</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6066311">SymLabel</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6066328">//&nbsp;Item.type&nbsp;==&nbsp;*stmt</span><br>
<span class="lineno"></span><span class="op" id="6066350">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6066353">func</span>&nbsp;<span class="ident" id="6066358">symStr</span><span class="op" id="6066364">(</span><span class="ident" id="6066365">s</span>&nbsp;<span class="builtintype" id="6066367">int</span><span class="op" id="6066370">)</span>&nbsp;<span class="builtintype" id="6066372">string</span>&nbsp;<span class="op" id="6066379">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066382">switch</span>&nbsp;<span class="ident" id="6066389"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066365">s</a></span>&nbsp;<span class="op" id="6066391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066394">case</span>&nbsp;<span class="ident" id="6066399"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066149">SymImport</a></span><span class="op" id="6066408">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066412">return</span>&nbsp;<span class="string" id="6066419">&#34;import&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066429">case</span>&nbsp;<span class="ident" id="6066434"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066191">SymFunc</a></span><span class="op" id="6066441">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066445">return</span>&nbsp;<span class="string" id="6066452">&#34;function&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066464">case</span>&nbsp;<span class="ident" id="6066469"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066231">SymConst</a></span><span class="op" id="6066477">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066481">return</span>&nbsp;<span class="string" id="6066488">&#34;constant&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066500">case</span>&nbsp;<span class="ident" id="6066505"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066272">SymVar</a></span><span class="op" id="6066511">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066515">return</span>&nbsp;<span class="string" id="6066522">&#34;variable&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066534">case</span>&nbsp;<span class="ident" id="6066539"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066311">SymLabel</a></span><span class="op" id="6066547">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066551">return</span>&nbsp;<span class="string" id="6066558">&#34;label&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6066567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066570">return</span>&nbsp;<span class="string" id="6066577">&#34;unknown&#34;</span><br>
<span class="lineno"></span><span class="op" id="6066587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="6066590">//&nbsp;IsPublic&nbsp;checks&nbsp;if&nbsp;a&nbsp;symbol&nbsp;name&nbsp;is&nbsp;public.</span><br>
<span class="lineno"></span><span class="keyword" id="6066637">func</span>&nbsp;<span class="ident" id="6066642">isPublic</span><span class="op" id="6066650">(</span><span class="ident" id="6066651">name</span>&nbsp;<span class="builtintype" id="6066656">string</span><span class="op" id="6066662">)</span>&nbsp;<span class="builtintype" id="6066664">bool</span>&nbsp;<span class="op" id="6066669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066672">if</span>&nbsp;<span class="ident" id="6066675"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066651">name</a></span>&nbsp;<span class="op" id="6066680">==</span>&nbsp;<span class="string" id="6066683">&#34;&#34;</span>&nbsp;<span class="op" id="6066686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066690">return</span>&nbsp;<span class="builtintype" id="6066697">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6066704">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6066707">r</span>&nbsp;<span class="op" id="6066709">:=</span>&nbsp;<span class="ident" id="6066712"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066651">name</a></span><span class="op" id="6066716">[</span><span class="num" id="6066717">0</span><span class="op" id="6066718">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6066721">return</span>&nbsp;<span class="ident" id="6066728"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066707">r</a></span>&nbsp;<span class="op" id="6066730">&gt;=</span>&nbsp;<span class="string" id="6066733">&#39;A&#39;</span>&nbsp;<span class="op" id="6066737">&amp;&amp;</span>&nbsp;<span class="ident" id="6066740"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066707">r</a></span>&nbsp;<span class="op" id="6066742">&lt;=</span>&nbsp;<span class="string" id="6066745">&#39;Z&#39;</span><br>
<span class="lineno"></span><span class="op" id="6066749">}</span>
</div>
</body>
</html>
