<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6870886">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6870941">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6870995">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6871046">//&nbsp;This&nbsp;file&nbsp;contains&nbsp;tests&nbsp;of&nbsp;the&nbsp;GobEncoder/GobDecoder&nbsp;support.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871113">package</span>&nbsp;<span class="ident" id="6871121">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871126">import</span>&nbsp;<span class="op" id="6871133">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6871136">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6871145">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6871155">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6871162">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6871168">&#34;net&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6871175">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6871186">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6871197">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6871204">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="6871207">//&nbsp;Types&nbsp;that&nbsp;implement&nbsp;the&nbsp;GobEncoder/Decoder&nbsp;interfaces.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871267">type</span>&nbsp;<span class="ident" id="6871272">ByteStruct</span>&nbsp;<span class="keyword" id="6871283">struct</span>&nbsp;<span class="op" id="6871290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6871293">a</span>&nbsp;<span class="builtintype" id="6871295">byte</span>&nbsp;<span class="comment" id="6871300">//&nbsp;not&nbsp;an&nbsp;exported&nbsp;field</span><br>
<span class="lineno"></span><span class="op" id="6871325">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6871328">type</span>&nbsp;<span class="ident" id="6871333">StringStruct</span>&nbsp;<span class="keyword" id="6871346">struct</span>&nbsp;<span class="op" id="6871353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6871356">s</span>&nbsp;<span class="builtintype" id="6871358">string</span>&nbsp;<span class="comment" id="6871365">//&nbsp;not&nbsp;an&nbsp;exported&nbsp;field</span><br>
<span class="lineno"></span><span class="op" id="6871390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="6871393">type</span>&nbsp;<span class="ident" id="6871398">ArrayStruct</span>&nbsp;<span class="keyword" id="6871410">struct</span>&nbsp;<span class="op" id="6871417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6871420">a</span>&nbsp;<span class="op" id="6871422">[</span><span class="num" id="6871423">8192</span><span class="op" id="6871427">]</span><span class="builtintype" id="6871428">byte</span>&nbsp;<span class="comment" id="6871433">//&nbsp;not&nbsp;an&nbsp;exported&nbsp;field</span><br>
<span class="lineno"></span><span class="op" id="6871458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871461">type</span>&nbsp;<span class="ident" id="6871466">Gobber</span>&nbsp;<span class="builtintype" id="6871473">int</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="6871478">type</span>&nbsp;<span class="ident" id="6871483">ValueGobber</span>&nbsp;<span class="builtintype" id="6871495">string</span>&nbsp;<span class="comment" id="6871502">//&nbsp;encodes&nbsp;with&nbsp;a&nbsp;value,&nbsp;decodes&nbsp;with&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871552">type</span>&nbsp;<span class="ident" id="6871557">BinaryGobber</span>&nbsp;<span class="builtintype" id="6871570">int</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6871575">type</span>&nbsp;<span class="ident" id="6871580">BinaryValueGobber</span>&nbsp;<span class="builtintype" id="6871598">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871606">type</span>&nbsp;<span class="ident" id="6871611">TextGobber</span>&nbsp;<span class="builtintype" id="6871622">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871627">type</span>&nbsp;<span class="ident" id="6871632">TextValueGobber</span>&nbsp;<span class="builtintype" id="6871648">string</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="6871656">//&nbsp;The&nbsp;relevant&nbsp;methods</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871681">func</span>&nbsp;<span class="op" id="6871686">(</span><span class="ident" id="6871687">g</span>&nbsp;<span class="op" id="6871689">*</span><span class="ident" id="6871690"><a href="/encoding/gob/gobencdec_test.go.html#6871272">ByteStruct</a></span><span class="op" id="6871700">)</span>&nbsp;<span class="ident" id="6871702">GobEncode</span><span class="op" id="6871711">(</span><span class="op" id="6871712">)</span>&nbsp;<span class="op" id="6871714">(</span><span class="op" id="6871715">[</span><span class="op" id="6871716">]</span><span class="builtintype" id="6871717">byte</span><span class="op" id="6871721">,</span>&nbsp;<span class="builtintype" id="6871723">error</span><span class="op" id="6871728">)</span>&nbsp;<span class="op" id="6871730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6871733">b</span>&nbsp;<span class="op" id="6871735">:=</span>&nbsp;<span class="builtinfunc" id="6871738">make</span><span class="op" id="6871742">(</span><span class="op" id="6871743">[</span><span class="op" id="6871744">]</span><span class="builtintype" id="6871745">byte</span><span class="op" id="6871749">,</span>&nbsp;<span class="num" id="6871751">3</span><span class="op" id="6871752">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6871755"><a href="/encoding/gob/gobencdec_test.go.html#6871733">b</a></span><span class="op" id="6871756">[</span><span class="num" id="6871757">0</span><span class="op" id="6871758">]</span>&nbsp;<span class="op" id="6871760">=</span>&nbsp;<span class="ident" id="6871762"><a href="/encoding/gob/gobencdec_test.go.html#6871687">g</a></span><span class="op" id="6871763">.</span><span class="ident" id="6871764">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6871767"><a href="/encoding/gob/gobencdec_test.go.html#6871733">b</a></span><span class="op" id="6871768">[</span><span class="num" id="6871769">1</span><span class="op" id="6871770">]</span>&nbsp;<span class="op" id="6871772">=</span>&nbsp;<span class="ident" id="6871774"><a href="/encoding/gob/gobencdec_test.go.html#6871687">g</a></span><span class="op" id="6871775">.</span><span class="ident" id="6871776">a</span>&nbsp;<span class="op" id="6871778">+</span>&nbsp;<span class="num" id="6871780">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6871783"><a href="/encoding/gob/gobencdec_test.go.html#6871733">b</a></span><span class="op" id="6871784">[</span><span class="num" id="6871785">2</span><span class="op" id="6871786">]</span>&nbsp;<span class="op" id="6871788">=</span>&nbsp;<span class="ident" id="6871790"><a href="/encoding/gob/gobencdec_test.go.html#6871687">g</a></span><span class="op" id="6871791">.</span><span class="ident" id="6871792">a</span>&nbsp;<span class="op" id="6871794">+</span>&nbsp;<span class="num" id="6871796">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6871799">return</span>&nbsp;<span class="ident" id="6871806"><a href="/encoding/gob/gobencdec_test.go.html#6871733">b</a></span><span class="op" id="6871807">,</span>&nbsp;<span class="ident" id="6871809">nil</span><br>
<span class="lineno"></span><span class="op" id="6871813">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="6871816">func</span>&nbsp;<span class="op" id="6871821">(</span><span class="ident" id="6871822">g</span>&nbsp;<span class="op" id="6871824">*</span><span class="ident" id="6871825"><a href="/encoding/gob/gobencdec_test.go.html#6871272">ByteStruct</a></span><span class="op" id="6871835">)</span>&nbsp;<span class="ident" id="6871837">GobDecode</span><span class="op" id="6871846">(</span><span class="ident" id="6871847">data</span>&nbsp;<span class="op" id="6871852">[</span><span class="op" id="6871853">]</span><span class="builtintype" id="6871854">byte</span><span class="op" id="6871858">)</span>&nbsp;<span class="builtintype" id="6871860">error</span>&nbsp;<span class="op" id="6871866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6871869">if</span>&nbsp;<span class="ident" id="6871872"><a href="/encoding/gob/gobencdec_test.go.html#6871822">g</a></span>&nbsp;<span class="op" id="6871874">==</span>&nbsp;<span class="ident" id="6871877">nil</span>&nbsp;<span class="op" id="6871881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6871885">return</span>&nbsp;<span class="ident" id="6871892"><a href="/encoding/gob/gobencdec_test.go.html#6871145">errors</a></span><span class="op" id="6871898">.</span><span class="ident" id="6871899">New</span><span class="op" id="6871902">(</span><span class="string" id="6871903">&#34;NIL&nbsp;RECEIVER&#34;</span><span class="op" id="6871917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6871920">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6871923">//&nbsp;Expect&nbsp;N&nbsp;sequential-valued&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6871961">if</span>&nbsp;<span class="builtinfunc" id="6871964">len</span><span class="op" id="6871967">(</span><span class="ident" id="6871968"><a href="/encoding/gob/gobencdec_test.go.html#6871847">data</a></span><span class="op" id="6871972">)</span>&nbsp;<span class="op" id="6871974">==</span>&nbsp;<span class="num" id="6871977">0</span>&nbsp;<span class="op" id="6871979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6871983">return</span>&nbsp;<span class="ident" id="6871990"><a href="/encoding/gob/gobencdec_test.go.html#6871162">io</a></span><span class="op" id="6871992">.</span><span class="ident" id="6871993">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6871998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6872001"><a href="/encoding/gob/gobencdec_test.go.html#6871822">g</a></span><span class="op" id="6872002">.</span><span class="ident" id="6872003">a</span>&nbsp;<span class="op" id="6872005">=</span>&nbsp;<span class="ident" id="6872007"><a href="/encoding/gob/gobencdec_test.go.html#6871847">data</a></span><span class="op" id="6872011">[</span><span class="num" id="6872012">0</span><span class="op" id="6872013">]</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872016">for</span>&nbsp;<span class="ident" id="6872020">i</span><span class="op" id="6872021">,</span>&nbsp;<span class="ident" id="6872023">c</span>&nbsp;<span class="op" id="6872025">:=</span>&nbsp;<span class="keyword" id="6872028">range</span>&nbsp;<span class="ident" id="6872034"><a href="/encoding/gob/gobencdec_test.go.html#6871847">data</a></span>&nbsp;<span class="op" id="6872039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872043">if</span>&nbsp;<span class="ident" id="6872046"><a href="/encoding/gob/gobencdec_test.go.html#6872023">c</a></span>&nbsp;<span class="op" id="6872048">!=</span>&nbsp;<span class="ident" id="6872051"><a href="/encoding/gob/gobencdec_test.go.html#6871822">g</a></span><span class="op" id="6872052">.</span><span class="ident" id="6872053">a</span><span class="op" id="6872054">+</span><span class="builtintype" id="6872055">byte</span><span class="op" id="6872059">(</span><span class="ident" id="6872060"><a href="/encoding/gob/gobencdec_test.go.html#6872020">i</a></span><span class="op" id="6872061">)</span>&nbsp;<span class="op" id="6872063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872068">return</span>&nbsp;<span class="ident" id="6872075"><a href="/encoding/gob/gobencdec_test.go.html#6871145">errors</a></span><span class="op" id="6872081">.</span><span class="ident" id="6872082">New</span><span class="op" id="6872085">(</span><span class="string" id="6872086">&#34;invalid&nbsp;data&nbsp;sequence&#34;</span><span class="op" id="6872109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6872113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6872116">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872119">return</span>&nbsp;<span class="ident" id="6872126">nil</span><br>
<span class="lineno"></span><span class="op" id="6872130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6872133">func</span>&nbsp;<span class="op" id="6872138">(</span><span class="ident" id="6872139">g</span>&nbsp;<span class="op" id="6872141">*</span><span class="ident" id="6872142"><a href="/encoding/gob/gobencdec_test.go.html#6871333">StringStruct</a></span><span class="op" id="6872154">)</span>&nbsp;<span class="ident" id="6872156">GobEncode</span><span class="op" id="6872165">(</span><span class="op" id="6872166">)</span>&nbsp;<span class="op" id="6872168">(</span><span class="op" id="6872169">[</span><span class="op" id="6872170">]</span><span class="builtintype" id="6872171">byte</span><span class="op" id="6872175">,</span>&nbsp;<span class="builtintype" id="6872177">error</span><span class="op" id="6872182">)</span>&nbsp;<span class="op" id="6872184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872187">return</span>&nbsp;<span class="op" id="6872194">[</span><span class="op" id="6872195">]</span><span class="builtintype" id="6872196">byte</span><span class="op" id="6872200">(</span><span class="ident" id="6872201"><a href="/encoding/gob/gobencdec_test.go.html#6872139">g</a></span><span class="op" id="6872202">.</span><span class="ident" id="6872203">s</span><span class="op" id="6872204">)</span><span class="op" id="6872205">,</span>&nbsp;<span class="ident" id="6872207">nil</span><br>
<span class="lineno">75</span><span class="op" id="6872211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6872214">func</span>&nbsp;<span class="op" id="6872219">(</span><span class="ident" id="6872220">g</span>&nbsp;<span class="op" id="6872222">*</span><span class="ident" id="6872223"><a href="/encoding/gob/gobencdec_test.go.html#6871333">StringStruct</a></span><span class="op" id="6872235">)</span>&nbsp;<span class="ident" id="6872237">GobDecode</span><span class="op" id="6872246">(</span><span class="ident" id="6872247">data</span>&nbsp;<span class="op" id="6872252">[</span><span class="op" id="6872253">]</span><span class="builtintype" id="6872254">byte</span><span class="op" id="6872258">)</span>&nbsp;<span class="builtintype" id="6872260">error</span>&nbsp;<span class="op" id="6872266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6872269">//&nbsp;Expect&nbsp;N&nbsp;sequential-valued&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872307">if</span>&nbsp;<span class="builtinfunc" id="6872310">len</span><span class="op" id="6872313">(</span><span class="ident" id="6872314"><a href="/encoding/gob/gobencdec_test.go.html#6872247">data</a></span><span class="op" id="6872318">)</span>&nbsp;<span class="op" id="6872320">==</span>&nbsp;<span class="num" id="6872323">0</span>&nbsp;<span class="op" id="6872325">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872329">return</span>&nbsp;<span class="ident" id="6872336"><a href="/encoding/gob/gobencdec_test.go.html#6871162">io</a></span><span class="op" id="6872338">.</span><span class="ident" id="6872339">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6872344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6872347">a</span>&nbsp;<span class="op" id="6872349">:=</span>&nbsp;<span class="ident" id="6872352"><a href="/encoding/gob/gobencdec_test.go.html#6872247">data</a></span><span class="op" id="6872356">[</span><span class="num" id="6872357">0</span><span class="op" id="6872358">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872361">for</span>&nbsp;<span class="ident" id="6872365">i</span><span class="op" id="6872366">,</span>&nbsp;<span class="ident" id="6872368">c</span>&nbsp;<span class="op" id="6872370">:=</span>&nbsp;<span class="keyword" id="6872373">range</span>&nbsp;<span class="ident" id="6872379"><a href="/encoding/gob/gobencdec_test.go.html#6872247">data</a></span>&nbsp;<span class="op" id="6872384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872388">if</span>&nbsp;<span class="ident" id="6872391"><a href="/encoding/gob/gobencdec_test.go.html#6872368">c</a></span>&nbsp;<span class="op" id="6872393">!=</span>&nbsp;<span class="ident" id="6872396"><a href="/encoding/gob/gobencdec_test.go.html#6872347">a</a></span><span class="op" id="6872397">+</span><span class="builtintype" id="6872398">byte</span><span class="op" id="6872402">(</span><span class="ident" id="6872403"><a href="/encoding/gob/gobencdec_test.go.html#6872365">i</a></span><span class="op" id="6872404">)</span>&nbsp;<span class="op" id="6872406">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872411">return</span>&nbsp;<span class="ident" id="6872418"><a href="/encoding/gob/gobencdec_test.go.html#6871145">errors</a></span><span class="op" id="6872424">.</span><span class="ident" id="6872425">New</span><span class="op" id="6872428">(</span><span class="string" id="6872429">&#34;invalid&nbsp;data&nbsp;sequence&#34;</span><span class="op" id="6872452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6872456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6872459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6872462"><a href="/encoding/gob/gobencdec_test.go.html#6872220">g</a></span><span class="op" id="6872463">.</span><span class="ident" id="6872464">s</span>&nbsp;<span class="op" id="6872466">=</span>&nbsp;<span class="builtintype" id="6872468">string</span><span class="op" id="6872474">(</span><span class="ident" id="6872475"><a href="/encoding/gob/gobencdec_test.go.html#6872247">data</a></span><span class="op" id="6872479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872482">return</span>&nbsp;<span class="ident" id="6872489">nil</span><br>
<span class="lineno">90</span><span class="op" id="6872493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6872496">func</span>&nbsp;<span class="op" id="6872501">(</span><span class="ident" id="6872502">a</span>&nbsp;<span class="op" id="6872504">*</span><span class="ident" id="6872505"><a href="/encoding/gob/gobencdec_test.go.html#6871398">ArrayStruct</a></span><span class="op" id="6872516">)</span>&nbsp;<span class="ident" id="6872518">GobEncode</span><span class="op" id="6872527">(</span><span class="op" id="6872528">)</span>&nbsp;<span class="op" id="6872530">(</span><span class="op" id="6872531">[</span><span class="op" id="6872532">]</span><span class="builtintype" id="6872533">byte</span><span class="op" id="6872537">,</span>&nbsp;<span class="builtintype" id="6872539">error</span><span class="op" id="6872544">)</span>&nbsp;<span class="op" id="6872546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872549">return</span>&nbsp;<span class="ident" id="6872556"><a href="/encoding/gob/gobencdec_test.go.html#6872502">a</a></span><span class="op" id="6872557">.</span><span class="ident" id="6872558">a</span><span class="op" id="6872559">[</span><span class="op" id="6872560">:</span><span class="op" id="6872561">]</span><span class="op" id="6872562">,</span>&nbsp;<span class="ident" id="6872564">nil</span><br>
<span class="lineno"></span><span class="op" id="6872568">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="6872571">func</span>&nbsp;<span class="op" id="6872576">(</span><span class="ident" id="6872577">a</span>&nbsp;<span class="op" id="6872579">*</span><span class="ident" id="6872580"><a href="/encoding/gob/gobencdec_test.go.html#6871398">ArrayStruct</a></span><span class="op" id="6872591">)</span>&nbsp;<span class="ident" id="6872593">GobDecode</span><span class="op" id="6872602">(</span><span class="ident" id="6872603">data</span>&nbsp;<span class="op" id="6872608">[</span><span class="op" id="6872609">]</span><span class="builtintype" id="6872610">byte</span><span class="op" id="6872614">)</span>&nbsp;<span class="builtintype" id="6872616">error</span>&nbsp;<span class="op" id="6872622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872625">if</span>&nbsp;<span class="builtinfunc" id="6872628">len</span><span class="op" id="6872631">(</span><span class="ident" id="6872632"><a href="/encoding/gob/gobencdec_test.go.html#6872603">data</a></span><span class="op" id="6872636">)</span>&nbsp;<span class="op" id="6872638">!=</span>&nbsp;<span class="builtinfunc" id="6872641">len</span><span class="op" id="6872644">(</span><span class="ident" id="6872645"><a href="/encoding/gob/gobencdec_test.go.html#6872577">a</a></span><span class="op" id="6872646">.</span><span class="ident" id="6872647">a</span><span class="op" id="6872648">)</span>&nbsp;<span class="op" id="6872650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872654">return</span>&nbsp;<span class="ident" id="6872661"><a href="/encoding/gob/gobencdec_test.go.html#6871145">errors</a></span><span class="op" id="6872667">.</span><span class="ident" id="6872668">New</span><span class="op" id="6872671">(</span><span class="string" id="6872672">&#34;wrong&nbsp;length&nbsp;in&nbsp;array&nbsp;decode&#34;</span><span class="op" id="6872702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6872705">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6872708">copy</span><span class="op" id="6872712">(</span><span class="ident" id="6872713"><a href="/encoding/gob/gobencdec_test.go.html#6872577">a</a></span><span class="op" id="6872714">.</span><span class="ident" id="6872715">a</span><span class="op" id="6872716">[</span><span class="op" id="6872717">:</span><span class="op" id="6872718">]</span><span class="op" id="6872719">,</span>&nbsp;<span class="ident" id="6872721"><a href="/encoding/gob/gobencdec_test.go.html#6872603">data</a></span><span class="op" id="6872725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872728">return</span>&nbsp;<span class="ident" id="6872735">nil</span><br>
<span class="lineno"></span><span class="op" id="6872739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6872742">func</span>&nbsp;<span class="op" id="6872747">(</span><span class="ident" id="6872748">g</span>&nbsp;<span class="op" id="6872750">*</span><span class="ident" id="6872751"><a href="/encoding/gob/gobencdec_test.go.html#6871466">Gobber</a></span><span class="op" id="6872757">)</span>&nbsp;<span class="ident" id="6872759">GobEncode</span><span class="op" id="6872768">(</span><span class="op" id="6872769">)</span>&nbsp;<span class="op" id="6872771">(</span><span class="op" id="6872772">[</span><span class="op" id="6872773">]</span><span class="builtintype" id="6872774">byte</span><span class="op" id="6872778">,</span>&nbsp;<span class="builtintype" id="6872780">error</span><span class="op" id="6872785">)</span>&nbsp;<span class="op" id="6872787">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872790">return</span>&nbsp;<span class="op" id="6872797">[</span><span class="op" id="6872798">]</span><span class="builtintype" id="6872799">byte</span><span class="op" id="6872803">(</span><span class="ident" id="6872804"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6872807">.</span><span class="ident" id="6872808">Sprintf</span><span class="op" id="6872815">(</span><span class="string" id="6872816">&#34;VALUE=%d&#34;</span><span class="op" id="6872826">,</span>&nbsp;<span class="op" id="6872828">*</span><span class="ident" id="6872829"><a href="/encoding/gob/gobencdec_test.go.html#6872748">g</a></span><span class="op" id="6872830">)</span><span class="op" id="6872831">)</span><span class="op" id="6872832">,</span>&nbsp;<span class="ident" id="6872834">nil</span><br>
<span class="lineno"></span><span class="op" id="6872838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6872841">func</span>&nbsp;<span class="op" id="6872846">(</span><span class="ident" id="6872847">g</span>&nbsp;<span class="op" id="6872849">*</span><span class="ident" id="6872850"><a href="/encoding/gob/gobencdec_test.go.html#6871466">Gobber</a></span><span class="op" id="6872856">)</span>&nbsp;<span class="ident" id="6872858">GobDecode</span><span class="op" id="6872867">(</span><span class="ident" id="6872868">data</span>&nbsp;<span class="op" id="6872873">[</span><span class="op" id="6872874">]</span><span class="builtintype" id="6872875">byte</span><span class="op" id="6872879">)</span>&nbsp;<span class="builtintype" id="6872881">error</span>&nbsp;<span class="op" id="6872887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6872890">_</span><span class="op" id="6872891">,</span>&nbsp;<span class="ident" id="6872893">err</span>&nbsp;<span class="op" id="6872897">:=</span>&nbsp;<span class="ident" id="6872900"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6872903">.</span><span class="ident" id="6872904">Sscanf</span><span class="op" id="6872910">(</span><span class="builtintype" id="6872911">string</span><span class="op" id="6872917">(</span><span class="ident" id="6872918"><a href="/encoding/gob/gobencdec_test.go.html#6872868">data</a></span><span class="op" id="6872922">)</span><span class="op" id="6872923">,</span>&nbsp;<span class="string" id="6872925">&#34;VALUE=%d&#34;</span><span class="op" id="6872935">,</span>&nbsp;<span class="op" id="6872937">(</span><span class="op" id="6872938">*</span><span class="builtintype" id="6872939">int</span><span class="op" id="6872942">)</span><span class="op" id="6872943">(</span><span class="ident" id="6872944"><a href="/encoding/gob/gobencdec_test.go.html#6872847">g</a></span><span class="op" id="6872945">)</span><span class="op" id="6872946">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6872949">return</span>&nbsp;<span class="ident" id="6872956"><a href="/encoding/gob/gobencdec_test.go.html#6872893">err</a></span><br>
<span class="lineno"></span><span class="op" id="6872960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6872963">func</span>&nbsp;<span class="op" id="6872968">(</span><span class="ident" id="6872969">g</span>&nbsp;<span class="op" id="6872971">*</span><span class="ident" id="6872972"><a href="/encoding/gob/gobencdec_test.go.html#6871557">BinaryGobber</a></span><span class="op" id="6872984">)</span>&nbsp;<span class="ident" id="6872986">MarshalBinary</span><span class="op" id="6872999">(</span><span class="op" id="6873000">)</span>&nbsp;<span class="op" id="6873002">(</span><span class="op" id="6873003">[</span><span class="op" id="6873004">]</span><span class="builtintype" id="6873005">byte</span><span class="op" id="6873009">,</span>&nbsp;<span class="builtintype" id="6873011">error</span><span class="op" id="6873016">)</span>&nbsp;<span class="op" id="6873018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6873021">return</span>&nbsp;<span class="op" id="6873028">[</span><span class="op" id="6873029">]</span><span class="builtintype" id="6873030">byte</span><span class="op" id="6873034">(</span><span class="ident" id="6873035"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6873038">.</span><span class="ident" id="6873039">Sprintf</span><span class="op" id="6873046">(</span><span class="string" id="6873047">&#34;VALUE=%d&#34;</span><span class="op" id="6873057">,</span>&nbsp;<span class="op" id="6873059">*</span><span class="ident" id="6873060"><a href="/encoding/gob/gobencdec_test.go.html#6872969">g</a></span><span class="op" id="6873061">)</span><span class="op" id="6873062">)</span><span class="op" id="6873063">,</span>&nbsp;<span class="ident" id="6873065">nil</span><br>
<span class="lineno">115</span><span class="op" id="6873069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6873072">func</span>&nbsp;<span class="op" id="6873077">(</span><span class="ident" id="6873078">g</span>&nbsp;<span class="op" id="6873080">*</span><span class="ident" id="6873081"><a href="/encoding/gob/gobencdec_test.go.html#6871557">BinaryGobber</a></span><span class="op" id="6873093">)</span>&nbsp;<span class="ident" id="6873095">UnmarshalBinary</span><span class="op" id="6873110">(</span><span class="ident" id="6873111">data</span>&nbsp;<span class="op" id="6873116">[</span><span class="op" id="6873117">]</span><span class="builtintype" id="6873118">byte</span><span class="op" id="6873122">)</span>&nbsp;<span class="builtintype" id="6873124">error</span>&nbsp;<span class="op" id="6873130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6873133">_</span><span class="op" id="6873134">,</span>&nbsp;<span class="ident" id="6873136">err</span>&nbsp;<span class="op" id="6873140">:=</span>&nbsp;<span class="ident" id="6873143"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6873146">.</span><span class="ident" id="6873147">Sscanf</span><span class="op" id="6873153">(</span><span class="builtintype" id="6873154">string</span><span class="op" id="6873160">(</span><span class="ident" id="6873161"><a href="/encoding/gob/gobencdec_test.go.html#6873111">data</a></span><span class="op" id="6873165">)</span><span class="op" id="6873166">,</span>&nbsp;<span class="string" id="6873168">&#34;VALUE=%d&#34;</span><span class="op" id="6873178">,</span>&nbsp;<span class="op" id="6873180">(</span><span class="op" id="6873181">*</span><span class="builtintype" id="6873182">int</span><span class="op" id="6873185">)</span><span class="op" id="6873186">(</span><span class="ident" id="6873187"><a href="/encoding/gob/gobencdec_test.go.html#6873078">g</a></span><span class="op" id="6873188">)</span><span class="op" id="6873189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6873192">return</span>&nbsp;<span class="ident" id="6873199"><a href="/encoding/gob/gobencdec_test.go.html#6873136">err</a></span><br>
<span class="lineno">120</span><span class="op" id="6873203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6873206">func</span>&nbsp;<span class="op" id="6873211">(</span><span class="ident" id="6873212">g</span>&nbsp;<span class="op" id="6873214">*</span><span class="ident" id="6873215"><a href="/encoding/gob/gobencdec_test.go.html#6871611">TextGobber</a></span><span class="op" id="6873225">)</span>&nbsp;<span class="ident" id="6873227">MarshalText</span><span class="op" id="6873238">(</span><span class="op" id="6873239">)</span>&nbsp;<span class="op" id="6873241">(</span><span class="op" id="6873242">[</span><span class="op" id="6873243">]</span><span class="builtintype" id="6873244">byte</span><span class="op" id="6873248">,</span>&nbsp;<span class="builtintype" id="6873250">error</span><span class="op" id="6873255">)</span>&nbsp;<span class="op" id="6873257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6873260">return</span>&nbsp;<span class="op" id="6873267">[</span><span class="op" id="6873268">]</span><span class="builtintype" id="6873269">byte</span><span class="op" id="6873273">(</span><span class="ident" id="6873274"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6873277">.</span><span class="ident" id="6873278">Sprintf</span><span class="op" id="6873285">(</span><span class="string" id="6873286">&#34;VALUE=%d&#34;</span><span class="op" id="6873296">,</span>&nbsp;<span class="op" id="6873298">*</span><span class="ident" id="6873299"><a href="/encoding/gob/gobencdec_test.go.html#6873212">g</a></span><span class="op" id="6873300">)</span><span class="op" id="6873301">)</span><span class="op" id="6873302">,</span>&nbsp;<span class="ident" id="6873304">nil</span><br>
<span class="lineno"></span><span class="op" id="6873308">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="6873311">func</span>&nbsp;<span class="op" id="6873316">(</span><span class="ident" id="6873317">g</span>&nbsp;<span class="op" id="6873319">*</span><span class="ident" id="6873320"><a href="/encoding/gob/gobencdec_test.go.html#6871611">TextGobber</a></span><span class="op" id="6873330">)</span>&nbsp;<span class="ident" id="6873332">UnmarshalText</span><span class="op" id="6873345">(</span><span class="ident" id="6873346">data</span>&nbsp;<span class="op" id="6873351">[</span><span class="op" id="6873352">]</span><span class="builtintype" id="6873353">byte</span><span class="op" id="6873357">)</span>&nbsp;<span class="builtintype" id="6873359">error</span>&nbsp;<span class="op" id="6873365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6873368">_</span><span class="op" id="6873369">,</span>&nbsp;<span class="ident" id="6873371">err</span>&nbsp;<span class="op" id="6873375">:=</span>&nbsp;<span class="ident" id="6873378"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6873381">.</span><span class="ident" id="6873382">Sscanf</span><span class="op" id="6873388">(</span><span class="builtintype" id="6873389">string</span><span class="op" id="6873395">(</span><span class="ident" id="6873396"><a href="/encoding/gob/gobencdec_test.go.html#6873346">data</a></span><span class="op" id="6873400">)</span><span class="op" id="6873401">,</span>&nbsp;<span class="string" id="6873403">&#34;VALUE=%d&#34;</span><span class="op" id="6873413">,</span>&nbsp;<span class="op" id="6873415">(</span><span class="op" id="6873416">*</span><span class="builtintype" id="6873417">int</span><span class="op" id="6873420">)</span><span class="op" id="6873421">(</span><span class="ident" id="6873422"><a href="/encoding/gob/gobencdec_test.go.html#6873317">g</a></span><span class="op" id="6873423">)</span><span class="op" id="6873424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6873427">return</span>&nbsp;<span class="ident" id="6873434"><a href="/encoding/gob/gobencdec_test.go.html#6873371">err</a></span><br>
<span class="lineno"></span><span class="op" id="6873438">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="6873441">func</span>&nbsp;<span class="op" id="6873446">(</span><span class="ident" id="6873447">v</span>&nbsp;<span class="ident" id="6873449"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><span class="op" id="6873460">)</span>&nbsp;<span class="ident" id="6873462">GobEncode</span><span class="op" id="6873471">(</span><span class="op" id="6873472">)</span>&nbsp;<span class="op" id="6873474">(</span><span class="op" id="6873475">[</span><span class="op" id="6873476">]</span><span class="builtintype" id="6873477">byte</span><span class="op" id="6873481">,</span>&nbsp;<span class="builtintype" id="6873483">error</span><span class="op" id="6873488">)</span>&nbsp;<span class="op" id="6873490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6873493">return</span>&nbsp;<span class="op" id="6873500">[</span><span class="op" id="6873501">]</span><span class="builtintype" id="6873502">byte</span><span class="op" id="6873506">(</span><span class="ident" id="6873507"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6873510">.</span><span class="ident" id="6873511">Sprintf</span><span class="op" id="6873518">(</span><span class="string" id="6873519">&#34;VALUE=%s&#34;</span><span class="op" id="6873529">,</span>&nbsp;<span class="ident" id="6873531"><a href="/encoding/gob/gobencdec_test.go.html#6873447">v</a></span><span class="op" id="6873532">)</span><span class="op" id="6873533">)</span><span class="op" id="6873534">,</span>&nbsp;<span class="ident" id="6873536">nil</span><br>
<span class="lineno"></span><span class="op" id="6873540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="6873543">func</span>&nbsp;<span class="op" id="6873548">(</span><span class="ident" id="6873549">v</span>&nbsp;<span class="op" id="6873551">*</span><span class="ident" id="6873552"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><span class="op" id="6873563">)</span>&nbsp;<span class="ident" id="6873565">GobDecode</span><span class="op" id="6873574">(</span><span class="ident" id="6873575">data</span>&nbsp;<span class="op" id="6873580">[</span><span class="op" id="6873581">]</span><span class="builtintype" id="6873582">byte</span><span class="op" id="6873586">)</span>&nbsp;<span class="builtintype" id="6873588">error</span>&nbsp;<span class="op" id="6873594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6873597">_</span><span class="op" id="6873598">,</span>&nbsp;<span class="ident" id="6873600">err</span>&nbsp;<span class="op" id="6873604">:=</span>&nbsp;<span class="ident" id="6873607"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6873610">.</span><span class="ident" id="6873611">Sscanf</span><span class="op" id="6873617">(</span><span class="builtintype" id="6873618">string</span><span class="op" id="6873624">(</span><span class="ident" id="6873625"><a href="/encoding/gob/gobencdec_test.go.html#6873575">data</a></span><span class="op" id="6873629">)</span><span class="op" id="6873630">,</span>&nbsp;<span class="string" id="6873632">&#34;VALUE=%s&#34;</span><span class="op" id="6873642">,</span>&nbsp;<span class="op" id="6873644">(</span><span class="op" id="6873645">*</span><span class="builtintype" id="6873646">string</span><span class="op" id="6873652">)</span><span class="op" id="6873653">(</span><span class="ident" id="6873654"><a href="/encoding/gob/gobencdec_test.go.html#6873549">v</a></span><span class="op" id="6873655">)</span><span class="op" id="6873656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6873659">return</span>&nbsp;<span class="ident" id="6873666"><a href="/encoding/gob/gobencdec_test.go.html#6873600">err</a></span><br>
<span class="lineno"></span><span class="op" id="6873670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="6873673">func</span>&nbsp;<span class="op" id="6873678">(</span><span class="ident" id="6873679">v</span>&nbsp;<span class="ident" id="6873681"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><span class="op" id="6873698">)</span>&nbsp;<span class="ident" id="6873700">MarshalBinary</span><span class="op" id="6873713">(</span><span class="op" id="6873714">)</span>&nbsp;<span class="op" id="6873716">(</span><span class="op" id="6873717">[</span><span class="op" id="6873718">]</span><span class="builtintype" id="6873719">byte</span><span class="op" id="6873723">,</span>&nbsp;<span class="builtintype" id="6873725">error</span><span class="op" id="6873730">)</span>&nbsp;<span class="op" id="6873732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6873735">return</span>&nbsp;<span class="op" id="6873742">[</span><span class="op" id="6873743">]</span><span class="builtintype" id="6873744">byte</span><span class="op" id="6873748">(</span><span class="ident" id="6873749"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6873752">.</span><span class="ident" id="6873753">Sprintf</span><span class="op" id="6873760">(</span><span class="string" id="6873761">&#34;VALUE=%s&#34;</span><span class="op" id="6873771">,</span>&nbsp;<span class="ident" id="6873773"><a href="/encoding/gob/gobencdec_test.go.html#6873679">v</a></span><span class="op" id="6873774">)</span><span class="op" id="6873775">)</span><span class="op" id="6873776">,</span>&nbsp;<span class="ident" id="6873778">nil</span><br>
<span class="lineno"></span><span class="op" id="6873782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6873785">func</span>&nbsp;<span class="op" id="6873790">(</span><span class="ident" id="6873791">v</span>&nbsp;<span class="op" id="6873793">*</span><span class="ident" id="6873794"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><span class="op" id="6873811">)</span>&nbsp;<span class="ident" id="6873813">UnmarshalBinary</span><span class="op" id="6873828">(</span><span class="ident" id="6873829">data</span>&nbsp;<span class="op" id="6873834">[</span><span class="op" id="6873835">]</span><span class="builtintype" id="6873836">byte</span><span class="op" id="6873840">)</span>&nbsp;<span class="builtintype" id="6873842">error</span>&nbsp;<span class="op" id="6873848">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6873851">_</span><span class="op" id="6873852">,</span>&nbsp;<span class="ident" id="6873854">err</span>&nbsp;<span class="op" id="6873858">:=</span>&nbsp;<span class="ident" id="6873861"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6873864">.</span><span class="ident" id="6873865">Sscanf</span><span class="op" id="6873871">(</span><span class="builtintype" id="6873872">string</span><span class="op" id="6873878">(</span><span class="ident" id="6873879"><a href="/encoding/gob/gobencdec_test.go.html#6873829">data</a></span><span class="op" id="6873883">)</span><span class="op" id="6873884">,</span>&nbsp;<span class="string" id="6873886">&#34;VALUE=%s&#34;</span><span class="op" id="6873896">,</span>&nbsp;<span class="op" id="6873898">(</span><span class="op" id="6873899">*</span><span class="builtintype" id="6873900">string</span><span class="op" id="6873906">)</span><span class="op" id="6873907">(</span><span class="ident" id="6873908"><a href="/encoding/gob/gobencdec_test.go.html#6873791">v</a></span><span class="op" id="6873909">)</span><span class="op" id="6873910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6873913">return</span>&nbsp;<span class="ident" id="6873920"><a href="/encoding/gob/gobencdec_test.go.html#6873854">err</a></span><br>
<span class="lineno"></span><span class="op" id="6873924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6873927">func</span>&nbsp;<span class="op" id="6873932">(</span><span class="ident" id="6873933">v</span>&nbsp;<span class="ident" id="6873935"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><span class="op" id="6873950">)</span>&nbsp;<span class="ident" id="6873952">MarshalText</span><span class="op" id="6873963">(</span><span class="op" id="6873964">)</span>&nbsp;<span class="op" id="6873966">(</span><span class="op" id="6873967">[</span><span class="op" id="6873968">]</span><span class="builtintype" id="6873969">byte</span><span class="op" id="6873973">,</span>&nbsp;<span class="builtintype" id="6873975">error</span><span class="op" id="6873980">)</span>&nbsp;<span class="op" id="6873982">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6873985">return</span>&nbsp;<span class="op" id="6873992">[</span><span class="op" id="6873993">]</span><span class="builtintype" id="6873994">byte</span><span class="op" id="6873998">(</span><span class="ident" id="6873999"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6874002">.</span><span class="ident" id="6874003">Sprintf</span><span class="op" id="6874010">(</span><span class="string" id="6874011">&#34;VALUE=%s&#34;</span><span class="op" id="6874021">,</span>&nbsp;<span class="ident" id="6874023"><a href="/encoding/gob/gobencdec_test.go.html#6873933">v</a></span><span class="op" id="6874024">)</span><span class="op" id="6874025">)</span><span class="op" id="6874026">,</span>&nbsp;<span class="ident" id="6874028">nil</span><br>
<span class="lineno"></span><span class="op" id="6874032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6874035">func</span>&nbsp;<span class="op" id="6874040">(</span><span class="ident" id="6874041">v</span>&nbsp;<span class="op" id="6874043">*</span><span class="ident" id="6874044"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><span class="op" id="6874059">)</span>&nbsp;<span class="ident" id="6874061">UnmarshalText</span><span class="op" id="6874074">(</span><span class="ident" id="6874075">data</span>&nbsp;<span class="op" id="6874080">[</span><span class="op" id="6874081">]</span><span class="builtintype" id="6874082">byte</span><span class="op" id="6874086">)</span>&nbsp;<span class="builtintype" id="6874088">error</span>&nbsp;<span class="op" id="6874094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874097">_</span><span class="op" id="6874098">,</span>&nbsp;<span class="ident" id="6874100">err</span>&nbsp;<span class="op" id="6874104">:=</span>&nbsp;<span class="ident" id="6874107"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6874110">.</span><span class="ident" id="6874111">Sscanf</span><span class="op" id="6874117">(</span><span class="builtintype" id="6874118">string</span><span class="op" id="6874124">(</span><span class="ident" id="6874125"><a href="/encoding/gob/gobencdec_test.go.html#6874075">data</a></span><span class="op" id="6874129">)</span><span class="op" id="6874130">,</span>&nbsp;<span class="string" id="6874132">&#34;VALUE=%s&#34;</span><span class="op" id="6874142">,</span>&nbsp;<span class="op" id="6874144">(</span><span class="op" id="6874145">*</span><span class="builtintype" id="6874146">string</span><span class="op" id="6874152">)</span><span class="op" id="6874153">(</span><span class="ident" id="6874154"><a href="/encoding/gob/gobencdec_test.go.html#6874041">v</a></span><span class="op" id="6874155">)</span><span class="op" id="6874156">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6874159">return</span>&nbsp;<span class="ident" id="6874166"><a href="/encoding/gob/gobencdec_test.go.html#6874100">err</a></span><br>
<span class="lineno"></span><span class="op" id="6874170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6874173">//&nbsp;Structs&nbsp;that&nbsp;include&nbsp;GobEncodable&nbsp;fields.</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6874219">type</span>&nbsp;<span class="ident" id="6874224">GobTest0</span>&nbsp;<span class="keyword" id="6874233">struct</span>&nbsp;<span class="op" id="6874240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874243">X</span>&nbsp;<span class="builtintype" id="6874245">int</span>&nbsp;<span class="comment" id="6874249">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874306">G</span>&nbsp;<span class="op" id="6874308">*</span><span class="ident" id="6874309"><a href="/encoding/gob/gobencdec_test.go.html#6871272">ByteStruct</a></span><br>
<span class="lineno"></span><span class="op" id="6874320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="6874323">type</span>&nbsp;<span class="ident" id="6874328">GobTest1</span>&nbsp;<span class="keyword" id="6874337">struct</span>&nbsp;<span class="op" id="6874344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874347">X</span>&nbsp;<span class="builtintype" id="6874349">int</span>&nbsp;<span class="comment" id="6874353">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874410">G</span>&nbsp;<span class="op" id="6874412">*</span><span class="ident" id="6874413"><a href="/encoding/gob/gobencdec_test.go.html#6871333">StringStruct</a></span><br>
<span class="lineno"></span><span class="op" id="6874426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="6874429">type</span>&nbsp;<span class="ident" id="6874434">GobTest2</span>&nbsp;<span class="keyword" id="6874443">struct</span>&nbsp;<span class="op" id="6874450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874453">X</span>&nbsp;<span class="builtintype" id="6874455">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6874462">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874519">G</span>&nbsp;<span class="builtintype" id="6874521">string</span>&nbsp;<span class="comment" id="6874528">//&nbsp;not&nbsp;a&nbsp;GobEncoder&nbsp;-&nbsp;should&nbsp;give&nbsp;us&nbsp;errors</span><br>
<span class="lineno"></span><span class="op" id="6874572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="keyword" id="6874575">type</span>&nbsp;<span class="ident" id="6874580">GobTest3</span>&nbsp;<span class="keyword" id="6874589">struct</span>&nbsp;<span class="op" id="6874596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874599">X</span>&nbsp;<span class="builtintype" id="6874601">int</span>&nbsp;<span class="comment" id="6874605">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874662">G</span>&nbsp;<span class="op" id="6874664">*</span><span class="ident" id="6874665"><a href="/encoding/gob/gobencdec_test.go.html#6871466">Gobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874673">B</span>&nbsp;<span class="op" id="6874675">*</span><span class="ident" id="6874676"><a href="/encoding/gob/gobencdec_test.go.html#6871557">BinaryGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874690">T</span>&nbsp;<span class="op" id="6874692">*</span><span class="ident" id="6874693"><a href="/encoding/gob/gobencdec_test.go.html#6871611">TextGobber</a></span><br>
<span class="lineno">180</span><span class="op" id="6874704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6874707">type</span>&nbsp;<span class="ident" id="6874712">GobTest4</span>&nbsp;<span class="keyword" id="6874721">struct</span>&nbsp;<span class="op" id="6874728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874731">X</span>&nbsp;&nbsp;<span class="builtintype" id="6874734">int</span>&nbsp;<span class="comment" id="6874738">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874795">V</span>&nbsp;&nbsp;<span class="ident" id="6874798"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874811">BV</span>&nbsp;<span class="ident" id="6874814"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874833">TV</span>&nbsp;<span class="ident" id="6874836"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><br>
<span class="lineno"></span><span class="op" id="6874852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6874855">type</span>&nbsp;<span class="ident" id="6874860">GobTest5</span>&nbsp;<span class="keyword" id="6874869">struct</span>&nbsp;<span class="op" id="6874876">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874879">X</span>&nbsp;&nbsp;<span class="builtintype" id="6874882">int</span>&nbsp;<span class="comment" id="6874886">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874943">V</span>&nbsp;&nbsp;<span class="op" id="6874946">*</span><span class="ident" id="6874947"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874960">BV</span>&nbsp;<span class="op" id="6874963">*</span><span class="ident" id="6874964"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874983">TV</span>&nbsp;<span class="op" id="6874986">*</span><span class="ident" id="6874987"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><br>
<span class="lineno"></span><span class="op" id="6875003">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="6875006">type</span>&nbsp;<span class="ident" id="6875011">GobTest6</span>&nbsp;<span class="keyword" id="6875020">struct</span>&nbsp;<span class="op" id="6875027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875030">X</span>&nbsp;&nbsp;<span class="builtintype" id="6875033">int</span>&nbsp;<span class="comment" id="6875037">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875094">V</span>&nbsp;&nbsp;<span class="ident" id="6875097"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875110">W</span>&nbsp;&nbsp;<span class="op" id="6875113">*</span><span class="ident" id="6875114"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875127">BV</span>&nbsp;<span class="ident" id="6875130"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875149">BW</span>&nbsp;<span class="op" id="6875152">*</span><span class="ident" id="6875153"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875172">TV</span>&nbsp;<span class="ident" id="6875175"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875192">TW</span>&nbsp;<span class="op" id="6875195">*</span><span class="ident" id="6875196"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><br>
<span class="lineno"></span><span class="op" id="6875212">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="6875215">type</span>&nbsp;<span class="ident" id="6875220">GobTest7</span>&nbsp;<span class="keyword" id="6875229">struct</span>&nbsp;<span class="op" id="6875236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875239">X</span>&nbsp;&nbsp;<span class="builtintype" id="6875242">int</span>&nbsp;<span class="comment" id="6875246">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875303">V</span>&nbsp;&nbsp;<span class="op" id="6875306">*</span><span class="ident" id="6875307"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875320">W</span>&nbsp;&nbsp;<span class="ident" id="6875323"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875336">BV</span>&nbsp;<span class="op" id="6875339">*</span><span class="ident" id="6875340"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875359">BW</span>&nbsp;<span class="ident" id="6875362"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875381">TV</span>&nbsp;<span class="op" id="6875384">*</span><span class="ident" id="6875385"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875402">TW</span>&nbsp;<span class="ident" id="6875405"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><br>
<span class="lineno"></span><span class="op" id="6875421">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="6875424">type</span>&nbsp;<span class="ident" id="6875429">GobTestIgnoreEncoder</span>&nbsp;<span class="keyword" id="6875450">struct</span>&nbsp;<span class="op" id="6875457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875460">X</span>&nbsp;<span class="builtintype" id="6875462">int</span>&nbsp;<span class="comment" id="6875466">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span><span class="op" id="6875522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="6875525">type</span>&nbsp;<span class="ident" id="6875530">GobTestValueEncDec</span>&nbsp;<span class="keyword" id="6875549">struct</span>&nbsp;<span class="op" id="6875556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875559">X</span>&nbsp;<span class="builtintype" id="6875561">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6875574">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875631">G</span>&nbsp;<span class="ident" id="6875633"><a href="/encoding/gob/gobencdec_test.go.html#6871333">StringStruct</a></span>&nbsp;<span class="comment" id="6875646">//&nbsp;not&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span><span class="op" id="6875664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="6875667">type</span>&nbsp;<span class="ident" id="6875672">GobTestIndirectEncDec</span>&nbsp;<span class="keyword" id="6875694">struct</span>&nbsp;<span class="op" id="6875701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875704">X</span>&nbsp;<span class="builtintype" id="6875706">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6875722">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875779">G</span>&nbsp;<span class="op" id="6875781">*</span><span class="op" id="6875782">*</span><span class="op" id="6875783">*</span><span class="ident" id="6875784"><a href="/encoding/gob/gobencdec_test.go.html#6871333">StringStruct</a></span>&nbsp;<span class="comment" id="6875797">//&nbsp;indirections&nbsp;to&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="op" id="6875830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span><span class="keyword" id="6875833">type</span>&nbsp;<span class="ident" id="6875838">GobTestArrayEncDec</span>&nbsp;<span class="keyword" id="6875857">struct</span>&nbsp;<span class="op" id="6875864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875867">X</span>&nbsp;<span class="builtintype" id="6875869">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6875881">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6875938">A</span>&nbsp;<span class="ident" id="6875940"><a href="/encoding/gob/gobencdec_test.go.html#6871398">ArrayStruct</a></span>&nbsp;<span class="comment" id="6875952">//&nbsp;not&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span><span class="op" id="6875970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="6875973">type</span>&nbsp;<span class="ident" id="6875978">GobTestIndirectArrayEncDec</span>&nbsp;<span class="keyword" id="6876005">struct</span>&nbsp;<span class="op" id="6876012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876015">X</span>&nbsp;<span class="builtintype" id="6876017">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6876032">//&nbsp;guarantee&nbsp;we&nbsp;have&nbsp;&nbsp;something&nbsp;in&nbsp;common&nbsp;with&nbsp;GobTest*</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876089">A</span>&nbsp;<span class="op" id="6876091">*</span><span class="op" id="6876092">*</span><span class="op" id="6876093">*</span><span class="ident" id="6876094"><a href="/encoding/gob/gobencdec_test.go.html#6871398">ArrayStruct</a></span>&nbsp;<span class="comment" id="6876106">//&nbsp;indirections&nbsp;to&nbsp;a&nbsp;large&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="op" id="6876143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="6876146">func</span>&nbsp;<span class="ident" id="6876151">TestGobEncoderField</span><span class="op" id="6876170">(</span><span class="ident" id="6876171">t</span>&nbsp;<span class="op" id="6876173">*</span><span class="ident" id="6876174"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6876181">.</span><span class="ident" id="6876182">T</span><span class="op" id="6876183">)</span>&nbsp;<span class="op" id="6876185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876188">b</span>&nbsp;<span class="op" id="6876190">:=</span>&nbsp;<span class="builtinfunc" id="6876193">new</span><span class="op" id="6876196">(</span><span class="ident" id="6876197"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6876202">.</span><span class="ident" id="6876203">Buffer</span><span class="op" id="6876209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6876212">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876250">enc</span>&nbsp;<span class="op" id="6876254">:=</span>&nbsp;<span class="ident" id="6876257"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6876267">(</span><span class="ident" id="6876268"><a href="/encoding/gob/gobencdec_test.go.html#6876188">b</a></span><span class="op" id="6876269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876272">err</span>&nbsp;<span class="op" id="6876276">:=</span>&nbsp;<span class="ident" id="6876279"><a href="/encoding/gob/gobencdec_test.go.html#6876250">enc</a></span><span class="op" id="6876282">.</span><span class="ident" id="6876283">Encode</span><span class="op" id="6876289">(</span><span class="ident" id="6876290"><a href="/encoding/gob/gobencdec_test.go.html#6874224">GobTest0</a></span><span class="op" id="6876298">{</span><span class="num" id="6876299">17</span><span class="op" id="6876301">,</span>&nbsp;<span class="op" id="6876303">&amp;</span><span class="ident" id="6876304"><a href="/encoding/gob/gobencdec_test.go.html#6871272">ByteStruct</a></span><span class="op" id="6876314">{</span><span class="string" id="6876315">&#39;A&#39;</span><span class="op" id="6876318">}</span><span class="op" id="6876319">}</span><span class="op" id="6876320">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876323">if</span>&nbsp;<span class="ident" id="6876326"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span>&nbsp;<span class="op" id="6876330">!=</span>&nbsp;<span class="ident" id="6876333">nil</span>&nbsp;<span class="op" id="6876337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876341"><a href="/encoding/gob/gobencdec_test.go.html#6876171">t</a></span><span class="op" id="6876342">.</span><span class="ident" id="6876343">Fatal</span><span class="op" id="6876348">(</span><span class="string" id="6876349">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6876364">,</span>&nbsp;<span class="ident" id="6876366"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span><span class="op" id="6876369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876375">dec</span>&nbsp;<span class="op" id="6876379">:=</span>&nbsp;<span class="ident" id="6876382"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6876392">(</span><span class="ident" id="6876393"><a href="/encoding/gob/gobencdec_test.go.html#6876188">b</a></span><span class="op" id="6876394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876397">x</span>&nbsp;<span class="op" id="6876399">:=</span>&nbsp;<span class="builtinfunc" id="6876402">new</span><span class="op" id="6876405">(</span><span class="ident" id="6876406"><a href="/encoding/gob/gobencdec_test.go.html#6874224">GobTest0</a></span><span class="op" id="6876414">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876417"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span>&nbsp;<span class="op" id="6876421">=</span>&nbsp;<span class="ident" id="6876423"><a href="/encoding/gob/gobencdec_test.go.html#6876375">dec</a></span><span class="op" id="6876426">.</span><span class="ident" id="6876427">Decode</span><span class="op" id="6876433">(</span><span class="ident" id="6876434"><a href="/encoding/gob/gobencdec_test.go.html#6876397">x</a></span><span class="op" id="6876435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876438">if</span>&nbsp;<span class="ident" id="6876441"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span>&nbsp;<span class="op" id="6876445">!=</span>&nbsp;<span class="ident" id="6876448">nil</span>&nbsp;<span class="op" id="6876452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876456"><a href="/encoding/gob/gobencdec_test.go.html#6876171">t</a></span><span class="op" id="6876457">.</span><span class="ident" id="6876458">Fatal</span><span class="op" id="6876463">(</span><span class="string" id="6876464">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6876479">,</span>&nbsp;<span class="ident" id="6876481"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span><span class="op" id="6876484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876490">if</span>&nbsp;<span class="ident" id="6876493"><a href="/encoding/gob/gobencdec_test.go.html#6876397">x</a></span><span class="op" id="6876494">.</span><span class="ident" id="6876495">G</span><span class="op" id="6876496">.</span><span class="ident" id="6876497">a</span>&nbsp;<span class="op" id="6876499">!=</span>&nbsp;<span class="string" id="6876502">&#39;A&#39;</span>&nbsp;<span class="op" id="6876506">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876510"><a href="/encoding/gob/gobencdec_test.go.html#6876171">t</a></span><span class="op" id="6876511">.</span><span class="ident" id="6876512">Errorf</span><span class="op" id="6876518">(</span><span class="string" id="6876519">&#34;expected&nbsp;&#39;A&#39;&nbsp;got&nbsp;%c&#34;</span><span class="op" id="6876540">,</span>&nbsp;<span class="ident" id="6876542"><a href="/encoding/gob/gobencdec_test.go.html#6876397">x</a></span><span class="op" id="6876543">.</span><span class="ident" id="6876544">G</span><span class="op" id="6876545">.</span><span class="ident" id="6876546">a</span><span class="op" id="6876547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6876553">//&nbsp;Now&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;not&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876593"><a href="/encoding/gob/gobencdec_test.go.html#6876188">b</a></span><span class="op" id="6876594">.</span><span class="ident" id="6876595">Reset</span><span class="op" id="6876600">(</span><span class="op" id="6876601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876604">gobber</span>&nbsp;<span class="op" id="6876611">:=</span>&nbsp;<span class="ident" id="6876614"><a href="/encoding/gob/gobencdec_test.go.html#6871466">Gobber</a></span><span class="op" id="6876620">(</span><span class="num" id="6876621">23</span><span class="op" id="6876623">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876626">bgobber</span>&nbsp;<span class="op" id="6876634">:=</span>&nbsp;<span class="ident" id="6876637"><a href="/encoding/gob/gobencdec_test.go.html#6871557">BinaryGobber</a></span><span class="op" id="6876649">(</span><span class="num" id="6876650">24</span><span class="op" id="6876652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876655">tgobber</span>&nbsp;<span class="op" id="6876663">:=</span>&nbsp;<span class="ident" id="6876666"><a href="/encoding/gob/gobencdec_test.go.html#6871611">TextGobber</a></span><span class="op" id="6876676">(</span><span class="num" id="6876677">25</span><span class="op" id="6876679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876682"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span>&nbsp;<span class="op" id="6876686">=</span>&nbsp;<span class="ident" id="6876688"><a href="/encoding/gob/gobencdec_test.go.html#6876250">enc</a></span><span class="op" id="6876691">.</span><span class="ident" id="6876692">Encode</span><span class="op" id="6876698">(</span><span class="ident" id="6876699"><a href="/encoding/gob/gobencdec_test.go.html#6874580">GobTest3</a></span><span class="op" id="6876707">{</span><span class="num" id="6876708">17</span><span class="op" id="6876710">,</span>&nbsp;<span class="op" id="6876712">&amp;</span><span class="ident" id="6876713"><a href="/encoding/gob/gobencdec_test.go.html#6876604">gobber</a></span><span class="op" id="6876719">,</span>&nbsp;<span class="op" id="6876721">&amp;</span><span class="ident" id="6876722"><a href="/encoding/gob/gobencdec_test.go.html#6876626">bgobber</a></span><span class="op" id="6876729">,</span>&nbsp;<span class="op" id="6876731">&amp;</span><span class="ident" id="6876732"><a href="/encoding/gob/gobencdec_test.go.html#6876655">tgobber</a></span><span class="op" id="6876739">}</span><span class="op" id="6876740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876743">if</span>&nbsp;<span class="ident" id="6876746"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span>&nbsp;<span class="op" id="6876750">!=</span>&nbsp;<span class="ident" id="6876753">nil</span>&nbsp;<span class="op" id="6876757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876761"><a href="/encoding/gob/gobencdec_test.go.html#6876171">t</a></span><span class="op" id="6876762">.</span><span class="ident" id="6876763">Fatal</span><span class="op" id="6876768">(</span><span class="string" id="6876769">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6876784">,</span>&nbsp;<span class="ident" id="6876786"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span><span class="op" id="6876789">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876795">y</span>&nbsp;<span class="op" id="6876797">:=</span>&nbsp;<span class="builtinfunc" id="6876800">new</span><span class="op" id="6876803">(</span><span class="ident" id="6876804"><a href="/encoding/gob/gobencdec_test.go.html#6874580">GobTest3</a></span><span class="op" id="6876812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876815"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span>&nbsp;<span class="op" id="6876819">=</span>&nbsp;<span class="ident" id="6876821"><a href="/encoding/gob/gobencdec_test.go.html#6876375">dec</a></span><span class="op" id="6876824">.</span><span class="ident" id="6876825">Decode</span><span class="op" id="6876831">(</span><span class="ident" id="6876832"><a href="/encoding/gob/gobencdec_test.go.html#6876795">y</a></span><span class="op" id="6876833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876836">if</span>&nbsp;<span class="ident" id="6876839"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span>&nbsp;<span class="op" id="6876843">!=</span>&nbsp;<span class="ident" id="6876846">nil</span>&nbsp;<span class="op" id="6876850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876854"><a href="/encoding/gob/gobencdec_test.go.html#6876171">t</a></span><span class="op" id="6876855">.</span><span class="ident" id="6876856">Fatal</span><span class="op" id="6876861">(</span><span class="string" id="6876862">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6876877">,</span>&nbsp;<span class="ident" id="6876879"><a href="/encoding/gob/gobencdec_test.go.html#6876272">err</a></span><span class="op" id="6876882">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6876888">if</span>&nbsp;<span class="op" id="6876891">*</span><span class="ident" id="6876892"><a href="/encoding/gob/gobencdec_test.go.html#6876795">y</a></span><span class="op" id="6876893">.</span><span class="ident" id="6876894">G</span>&nbsp;<span class="op" id="6876896">!=</span>&nbsp;<span class="num" id="6876899">23</span>&nbsp;<span class="op" id="6876902">||</span>&nbsp;<span class="op" id="6876905">*</span><span class="ident" id="6876906"><a href="/encoding/gob/gobencdec_test.go.html#6876795">y</a></span><span class="op" id="6876907">.</span><span class="ident" id="6876908">B</span>&nbsp;<span class="op" id="6876910">!=</span>&nbsp;<span class="num" id="6876913">24</span>&nbsp;<span class="op" id="6876916">||</span>&nbsp;<span class="op" id="6876919">*</span><span class="ident" id="6876920"><a href="/encoding/gob/gobencdec_test.go.html#6876795">y</a></span><span class="op" id="6876921">.</span><span class="ident" id="6876922">T</span>&nbsp;<span class="op" id="6876924">!=</span>&nbsp;<span class="num" id="6876927">25</span>&nbsp;<span class="op" id="6876930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6876934"><a href="/encoding/gob/gobencdec_test.go.html#6876171">t</a></span><span class="op" id="6876935">.</span><span class="ident" id="6876936">Errorf</span><span class="op" id="6876942">(</span><span class="string" id="6876943">&#34;expected&nbsp;&#39;23&nbsp;got&nbsp;%d&#34;</span><span class="op" id="6876964">,</span>&nbsp;<span class="op" id="6876966">*</span><span class="ident" id="6876967"><a href="/encoding/gob/gobencdec_test.go.html#6876795">y</a></span><span class="op" id="6876968">.</span><span class="ident" id="6876969">G</span><span class="op" id="6876970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6876973">}</span><br>
<span class="lineno"></span><span class="op" id="6876975">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="comment" id="6876978">//&nbsp;Even&nbsp;though&nbsp;the&nbsp;field&nbsp;is&nbsp;a&nbsp;value,&nbsp;we&nbsp;can&nbsp;still&nbsp;take&nbsp;its&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="6877045">//&nbsp;and&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;call&nbsp;the&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="6877088">func</span>&nbsp;<span class="ident" id="6877093">TestGobEncoderValueField</span><span class="op" id="6877117">(</span><span class="ident" id="6877118">t</span>&nbsp;<span class="op" id="6877120">*</span><span class="ident" id="6877121"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6877128">.</span><span class="ident" id="6877129">T</span><span class="op" id="6877130">)</span>&nbsp;<span class="op" id="6877132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877135">b</span>&nbsp;<span class="op" id="6877137">:=</span>&nbsp;<span class="builtinfunc" id="6877140">new</span><span class="op" id="6877143">(</span><span class="ident" id="6877144"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6877149">.</span><span class="ident" id="6877150">Buffer</span><span class="op" id="6877156">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6877159">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877197">enc</span>&nbsp;<span class="op" id="6877201">:=</span>&nbsp;<span class="ident" id="6877204"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6877214">(</span><span class="ident" id="6877215"><a href="/encoding/gob/gobencdec_test.go.html#6877135">b</a></span><span class="op" id="6877216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877219">err</span>&nbsp;<span class="op" id="6877223">:=</span>&nbsp;<span class="ident" id="6877226"><a href="/encoding/gob/gobencdec_test.go.html#6877197">enc</a></span><span class="op" id="6877229">.</span><span class="ident" id="6877230">Encode</span><span class="op" id="6877236">(</span><span class="op" id="6877237">&amp;</span><span class="ident" id="6877238"><a href="/encoding/gob/gobencdec_test.go.html#6875530">GobTestValueEncDec</a></span><span class="op" id="6877256">{</span><span class="num" id="6877257">17</span><span class="op" id="6877259">,</span>&nbsp;<span class="ident" id="6877261"><a href="/encoding/gob/gobencdec_test.go.html#6871333">StringStruct</a></span><span class="op" id="6877273">{</span><span class="string" id="6877274">&#34;HIJKL&#34;</span><span class="op" id="6877281">}</span><span class="op" id="6877282">}</span><span class="op" id="6877283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877286">if</span>&nbsp;<span class="ident" id="6877289"><a href="/encoding/gob/gobencdec_test.go.html#6877219">err</a></span>&nbsp;<span class="op" id="6877293">!=</span>&nbsp;<span class="ident" id="6877296">nil</span>&nbsp;<span class="op" id="6877300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877304"><a href="/encoding/gob/gobencdec_test.go.html#6877118">t</a></span><span class="op" id="6877305">.</span><span class="ident" id="6877306">Fatal</span><span class="op" id="6877311">(</span><span class="string" id="6877312">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6877327">,</span>&nbsp;<span class="ident" id="6877329"><a href="/encoding/gob/gobencdec_test.go.html#6877219">err</a></span><span class="op" id="6877332">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877338">dec</span>&nbsp;<span class="op" id="6877342">:=</span>&nbsp;<span class="ident" id="6877345"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6877355">(</span><span class="ident" id="6877356"><a href="/encoding/gob/gobencdec_test.go.html#6877135">b</a></span><span class="op" id="6877357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877360">x</span>&nbsp;<span class="op" id="6877362">:=</span>&nbsp;<span class="builtinfunc" id="6877365">new</span><span class="op" id="6877368">(</span><span class="ident" id="6877369"><a href="/encoding/gob/gobencdec_test.go.html#6875530">GobTestValueEncDec</a></span><span class="op" id="6877387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877390"><a href="/encoding/gob/gobencdec_test.go.html#6877219">err</a></span>&nbsp;<span class="op" id="6877394">=</span>&nbsp;<span class="ident" id="6877396"><a href="/encoding/gob/gobencdec_test.go.html#6877338">dec</a></span><span class="op" id="6877399">.</span><span class="ident" id="6877400">Decode</span><span class="op" id="6877406">(</span><span class="ident" id="6877407"><a href="/encoding/gob/gobencdec_test.go.html#6877360">x</a></span><span class="op" id="6877408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877411">if</span>&nbsp;<span class="ident" id="6877414"><a href="/encoding/gob/gobencdec_test.go.html#6877219">err</a></span>&nbsp;<span class="op" id="6877418">!=</span>&nbsp;<span class="ident" id="6877421">nil</span>&nbsp;<span class="op" id="6877425">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877429"><a href="/encoding/gob/gobencdec_test.go.html#6877118">t</a></span><span class="op" id="6877430">.</span><span class="ident" id="6877431">Fatal</span><span class="op" id="6877436">(</span><span class="string" id="6877437">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6877452">,</span>&nbsp;<span class="ident" id="6877454"><a href="/encoding/gob/gobencdec_test.go.html#6877219">err</a></span><span class="op" id="6877457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877463">if</span>&nbsp;<span class="ident" id="6877466"><a href="/encoding/gob/gobencdec_test.go.html#6877360">x</a></span><span class="op" id="6877467">.</span><span class="ident" id="6877468">G</span><span class="op" id="6877469">.</span><span class="ident" id="6877470">s</span>&nbsp;<span class="op" id="6877472">!=</span>&nbsp;<span class="string" id="6877475">&#34;HIJKL&#34;</span>&nbsp;<span class="op" id="6877483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877487"><a href="/encoding/gob/gobencdec_test.go.html#6877118">t</a></span><span class="op" id="6877488">.</span><span class="ident" id="6877489">Errorf</span><span class="op" id="6877495">(</span><span class="string" id="6877496">&#34;expected&nbsp;`HIJKL`&nbsp;got&nbsp;%s&#34;</span><span class="op" id="6877521">,</span>&nbsp;<span class="ident" id="6877523"><a href="/encoding/gob/gobencdec_test.go.html#6877360">x</a></span><span class="op" id="6877524">.</span><span class="ident" id="6877525">G</span><span class="op" id="6877526">.</span><span class="ident" id="6877527">s</span><span class="op" id="6877528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877531">}</span><br>
<span class="lineno">295</span><span class="op" id="6877533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6877536">//&nbsp;GobEncode/Decode&nbsp;should&nbsp;work&nbsp;even&nbsp;if&nbsp;the&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6877589">//&nbsp;more&nbsp;indirect&nbsp;than&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="keyword" id="6877625">func</span>&nbsp;<span class="ident" id="6877630">TestGobEncoderIndirectField</span><span class="op" id="6877657">(</span><span class="ident" id="6877658">t</span>&nbsp;<span class="op" id="6877660">*</span><span class="ident" id="6877661"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6877668">.</span><span class="ident" id="6877669">T</span><span class="op" id="6877670">)</span>&nbsp;<span class="op" id="6877672">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877675">b</span>&nbsp;<span class="op" id="6877677">:=</span>&nbsp;<span class="builtinfunc" id="6877680">new</span><span class="op" id="6877683">(</span><span class="ident" id="6877684"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6877689">.</span><span class="ident" id="6877690">Buffer</span><span class="op" id="6877696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6877699">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877737">enc</span>&nbsp;<span class="op" id="6877741">:=</span>&nbsp;<span class="ident" id="6877744"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6877754">(</span><span class="ident" id="6877755"><a href="/encoding/gob/gobencdec_test.go.html#6877675">b</a></span><span class="op" id="6877756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877759">s</span>&nbsp;<span class="op" id="6877761">:=</span>&nbsp;<span class="op" id="6877764">&amp;</span><span class="ident" id="6877765"><a href="/encoding/gob/gobencdec_test.go.html#6871333">StringStruct</a></span><span class="op" id="6877777">{</span><span class="string" id="6877778">&#34;HIJKL&#34;</span><span class="op" id="6877785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877788">sp</span>&nbsp;<span class="op" id="6877791">:=</span>&nbsp;<span class="op" id="6877794">&amp;</span><span class="ident" id="6877795"><a href="/encoding/gob/gobencdec_test.go.html#6877759">s</a></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877798">err</span>&nbsp;<span class="op" id="6877802">:=</span>&nbsp;<span class="ident" id="6877805"><a href="/encoding/gob/gobencdec_test.go.html#6877737">enc</a></span><span class="op" id="6877808">.</span><span class="ident" id="6877809">Encode</span><span class="op" id="6877815">(</span><span class="ident" id="6877816"><a href="/encoding/gob/gobencdec_test.go.html#6875672">GobTestIndirectEncDec</a></span><span class="op" id="6877837">{</span><span class="num" id="6877838">17</span><span class="op" id="6877840">,</span>&nbsp;<span class="op" id="6877842">&amp;</span><span class="ident" id="6877843"><a href="/encoding/gob/gobencdec_test.go.html#6877788">sp</a></span><span class="op" id="6877845">}</span><span class="op" id="6877846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877849">if</span>&nbsp;<span class="ident" id="6877852"><a href="/encoding/gob/gobencdec_test.go.html#6877798">err</a></span>&nbsp;<span class="op" id="6877856">!=</span>&nbsp;<span class="ident" id="6877859">nil</span>&nbsp;<span class="op" id="6877863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877867"><a href="/encoding/gob/gobencdec_test.go.html#6877658">t</a></span><span class="op" id="6877868">.</span><span class="ident" id="6877869">Fatal</span><span class="op" id="6877874">(</span><span class="string" id="6877875">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6877890">,</span>&nbsp;<span class="ident" id="6877892"><a href="/encoding/gob/gobencdec_test.go.html#6877798">err</a></span><span class="op" id="6877895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6877898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877901">dec</span>&nbsp;<span class="op" id="6877905">:=</span>&nbsp;<span class="ident" id="6877908"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6877918">(</span><span class="ident" id="6877919"><a href="/encoding/gob/gobencdec_test.go.html#6877675">b</a></span><span class="op" id="6877920">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877923">x</span>&nbsp;<span class="op" id="6877925">:=</span>&nbsp;<span class="builtinfunc" id="6877928">new</span><span class="op" id="6877931">(</span><span class="ident" id="6877932"><a href="/encoding/gob/gobencdec_test.go.html#6875672">GobTestIndirectEncDec</a></span><span class="op" id="6877953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877956"><a href="/encoding/gob/gobencdec_test.go.html#6877798">err</a></span>&nbsp;<span class="op" id="6877960">=</span>&nbsp;<span class="ident" id="6877962"><a href="/encoding/gob/gobencdec_test.go.html#6877901">dec</a></span><span class="op" id="6877965">.</span><span class="ident" id="6877966">Decode</span><span class="op" id="6877972">(</span><span class="ident" id="6877973"><a href="/encoding/gob/gobencdec_test.go.html#6877923">x</a></span><span class="op" id="6877974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6877977">if</span>&nbsp;<span class="ident" id="6877980"><a href="/encoding/gob/gobencdec_test.go.html#6877798">err</a></span>&nbsp;<span class="op" id="6877984">!=</span>&nbsp;<span class="ident" id="6877987">nil</span>&nbsp;<span class="op" id="6877991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6877995"><a href="/encoding/gob/gobencdec_test.go.html#6877658">t</a></span><span class="op" id="6877996">.</span><span class="ident" id="6877997">Fatal</span><span class="op" id="6878002">(</span><span class="string" id="6878003">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6878018">,</span>&nbsp;<span class="ident" id="6878020"><a href="/encoding/gob/gobencdec_test.go.html#6877798">err</a></span><span class="op" id="6878023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878026">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878029">if</span>&nbsp;<span class="op" id="6878032">(</span><span class="op" id="6878033">*</span><span class="op" id="6878034">*</span><span class="op" id="6878035">*</span><span class="ident" id="6878036"><a href="/encoding/gob/gobencdec_test.go.html#6877923">x</a></span><span class="op" id="6878037">.</span><span class="ident" id="6878038">G</span><span class="op" id="6878039">)</span><span class="op" id="6878040">.</span><span class="ident" id="6878041">s</span>&nbsp;<span class="op" id="6878043">!=</span>&nbsp;<span class="string" id="6878046">&#34;HIJKL&#34;</span>&nbsp;<span class="op" id="6878054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878058"><a href="/encoding/gob/gobencdec_test.go.html#6877658">t</a></span><span class="op" id="6878059">.</span><span class="ident" id="6878060">Errorf</span><span class="op" id="6878066">(</span><span class="string" id="6878067">&#34;expected&nbsp;`HIJKL`&nbsp;got&nbsp;%s&#34;</span><span class="op" id="6878092">,</span>&nbsp;<span class="op" id="6878094">(</span><span class="op" id="6878095">*</span><span class="op" id="6878096">*</span><span class="op" id="6878097">*</span><span class="ident" id="6878098"><a href="/encoding/gob/gobencdec_test.go.html#6877923">x</a></span><span class="op" id="6878099">.</span><span class="ident" id="6878100">G</span><span class="op" id="6878101">)</span><span class="op" id="6878102">.</span><span class="ident" id="6878103">s</span><span class="op" id="6878104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878107">}</span><br>
<span class="lineno"></span><span class="op" id="6878109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="comment" id="6878112">//&nbsp;Test&nbsp;with&nbsp;a&nbsp;large&nbsp;field&nbsp;with&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="6878153">func</span>&nbsp;<span class="ident" id="6878158">TestGobEncoderArrayField</span><span class="op" id="6878182">(</span><span class="ident" id="6878183">t</span>&nbsp;<span class="op" id="6878185">*</span><span class="ident" id="6878186"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6878193">.</span><span class="ident" id="6878194">T</span><span class="op" id="6878195">)</span>&nbsp;<span class="op" id="6878197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878200">b</span>&nbsp;<span class="op" id="6878202">:=</span>&nbsp;<span class="builtinfunc" id="6878205">new</span><span class="op" id="6878208">(</span><span class="ident" id="6878209"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6878214">.</span><span class="ident" id="6878215">Buffer</span><span class="op" id="6878221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878224">enc</span>&nbsp;<span class="op" id="6878228">:=</span>&nbsp;<span class="ident" id="6878231"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6878241">(</span><span class="ident" id="6878242"><a href="/encoding/gob/gobencdec_test.go.html#6878200">b</a></span><span class="op" id="6878243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878246">var</span>&nbsp;<span class="ident" id="6878250">a</span>&nbsp;<span class="ident" id="6878252"><a href="/encoding/gob/gobencdec_test.go.html#6875838">GobTestArrayEncDec</a></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878272"><a href="/encoding/gob/gobencdec_test.go.html#6878250">a</a></span><span class="op" id="6878273">.</span><span class="ident" id="6878274">X</span>&nbsp;<span class="op" id="6878276">=</span>&nbsp;<span class="num" id="6878278">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878282">for</span>&nbsp;<span class="ident" id="6878286">i</span>&nbsp;<span class="op" id="6878288">:=</span>&nbsp;<span class="keyword" id="6878291">range</span>&nbsp;<span class="ident" id="6878297"><a href="/encoding/gob/gobencdec_test.go.html#6878250">a</a></span><span class="op" id="6878298">.</span><span class="ident" id="6878299">A</span><span class="op" id="6878300">.</span><span class="ident" id="6878301">a</span>&nbsp;<span class="op" id="6878303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878307"><a href="/encoding/gob/gobencdec_test.go.html#6878250">a</a></span><span class="op" id="6878308">.</span><span class="ident" id="6878309">A</span><span class="op" id="6878310">.</span><span class="ident" id="6878311">a</span><span class="op" id="6878312">[</span><span class="ident" id="6878313"><a href="/encoding/gob/gobencdec_test.go.html#6878286">i</a></span><span class="op" id="6878314">]</span>&nbsp;<span class="op" id="6878316">=</span>&nbsp;<span class="builtintype" id="6878318">byte</span><span class="op" id="6878322">(</span><span class="ident" id="6878323"><a href="/encoding/gob/gobencdec_test.go.html#6878286">i</a></span><span class="op" id="6878324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878330">err</span>&nbsp;<span class="op" id="6878334">:=</span>&nbsp;<span class="ident" id="6878337"><a href="/encoding/gob/gobencdec_test.go.html#6878224">enc</a></span><span class="op" id="6878340">.</span><span class="ident" id="6878341">Encode</span><span class="op" id="6878347">(</span><span class="op" id="6878348">&amp;</span><span class="ident" id="6878349"><a href="/encoding/gob/gobencdec_test.go.html#6878250">a</a></span><span class="op" id="6878350">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878353">if</span>&nbsp;<span class="ident" id="6878356"><a href="/encoding/gob/gobencdec_test.go.html#6878330">err</a></span>&nbsp;<span class="op" id="6878360">!=</span>&nbsp;<span class="ident" id="6878363">nil</span>&nbsp;<span class="op" id="6878367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878371"><a href="/encoding/gob/gobencdec_test.go.html#6878183">t</a></span><span class="op" id="6878372">.</span><span class="ident" id="6878373">Fatal</span><span class="op" id="6878378">(</span><span class="string" id="6878379">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6878394">,</span>&nbsp;<span class="ident" id="6878396"><a href="/encoding/gob/gobencdec_test.go.html#6878330">err</a></span><span class="op" id="6878399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878405">dec</span>&nbsp;<span class="op" id="6878409">:=</span>&nbsp;<span class="ident" id="6878412"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6878422">(</span><span class="ident" id="6878423"><a href="/encoding/gob/gobencdec_test.go.html#6878200">b</a></span><span class="op" id="6878424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878427">x</span>&nbsp;<span class="op" id="6878429">:=</span>&nbsp;<span class="builtinfunc" id="6878432">new</span><span class="op" id="6878435">(</span><span class="ident" id="6878436"><a href="/encoding/gob/gobencdec_test.go.html#6875838">GobTestArrayEncDec</a></span><span class="op" id="6878454">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878457"><a href="/encoding/gob/gobencdec_test.go.html#6878330">err</a></span>&nbsp;<span class="op" id="6878461">=</span>&nbsp;<span class="ident" id="6878463"><a href="/encoding/gob/gobencdec_test.go.html#6878405">dec</a></span><span class="op" id="6878466">.</span><span class="ident" id="6878467">Decode</span><span class="op" id="6878473">(</span><span class="ident" id="6878474"><a href="/encoding/gob/gobencdec_test.go.html#6878427">x</a></span><span class="op" id="6878475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878478">if</span>&nbsp;<span class="ident" id="6878481"><a href="/encoding/gob/gobencdec_test.go.html#6878330">err</a></span>&nbsp;<span class="op" id="6878485">!=</span>&nbsp;<span class="ident" id="6878488">nil</span>&nbsp;<span class="op" id="6878492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878496"><a href="/encoding/gob/gobencdec_test.go.html#6878183">t</a></span><span class="op" id="6878497">.</span><span class="ident" id="6878498">Fatal</span><span class="op" id="6878503">(</span><span class="string" id="6878504">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6878519">,</span>&nbsp;<span class="ident" id="6878521"><a href="/encoding/gob/gobencdec_test.go.html#6878330">err</a></span><span class="op" id="6878524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878530">for</span>&nbsp;<span class="ident" id="6878534">i</span><span class="op" id="6878535">,</span>&nbsp;<span class="ident" id="6878537">v</span>&nbsp;<span class="op" id="6878539">:=</span>&nbsp;<span class="keyword" id="6878542">range</span>&nbsp;<span class="ident" id="6878548"><a href="/encoding/gob/gobencdec_test.go.html#6878427">x</a></span><span class="op" id="6878549">.</span><span class="ident" id="6878550">A</span><span class="op" id="6878551">.</span><span class="ident" id="6878552">a</span>&nbsp;<span class="op" id="6878554">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878558">if</span>&nbsp;<span class="ident" id="6878561"><a href="/encoding/gob/gobencdec_test.go.html#6878537">v</a></span>&nbsp;<span class="op" id="6878563">!=</span>&nbsp;<span class="builtintype" id="6878566">byte</span><span class="op" id="6878570">(</span><span class="ident" id="6878571"><a href="/encoding/gob/gobencdec_test.go.html#6878534">i</a></span><span class="op" id="6878572">)</span>&nbsp;<span class="op" id="6878574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878579"><a href="/encoding/gob/gobencdec_test.go.html#6878183">t</a></span><span class="op" id="6878580">.</span><span class="ident" id="6878581">Errorf</span><span class="op" id="6878587">(</span><span class="string" id="6878588">&#34;expected&nbsp;%x&nbsp;got&nbsp;%x&#34;</span><span class="op" id="6878608">,</span>&nbsp;<span class="builtintype" id="6878610">byte</span><span class="op" id="6878614">(</span><span class="ident" id="6878615"><a href="/encoding/gob/gobencdec_test.go.html#6878534">i</a></span><span class="op" id="6878616">)</span><span class="op" id="6878617">,</span>&nbsp;<span class="ident" id="6878619"><a href="/encoding/gob/gobencdec_test.go.html#6878537">v</a></span><span class="op" id="6878620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878625">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878636">}</span><br>
<span class="lineno">345</span><span class="op" id="6878638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6878641">//&nbsp;Test&nbsp;an&nbsp;indirection&nbsp;to&nbsp;a&nbsp;large&nbsp;field&nbsp;with&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="6878695">func</span>&nbsp;<span class="ident" id="6878700">TestGobEncoderIndirectArrayField</span><span class="op" id="6878732">(</span><span class="ident" id="6878733">t</span>&nbsp;<span class="op" id="6878735">*</span><span class="ident" id="6878736"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6878743">.</span><span class="ident" id="6878744">T</span><span class="op" id="6878745">)</span>&nbsp;<span class="op" id="6878747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878750">b</span>&nbsp;<span class="op" id="6878752">:=</span>&nbsp;<span class="builtinfunc" id="6878755">new</span><span class="op" id="6878758">(</span><span class="ident" id="6878759"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6878764">.</span><span class="ident" id="6878765">Buffer</span><span class="op" id="6878771">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878774">enc</span>&nbsp;<span class="op" id="6878778">:=</span>&nbsp;<span class="ident" id="6878781"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6878791">(</span><span class="ident" id="6878792"><a href="/encoding/gob/gobencdec_test.go.html#6878750">b</a></span><span class="op" id="6878793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878796">var</span>&nbsp;<span class="ident" id="6878800">a</span>&nbsp;<span class="ident" id="6878802"><a href="/encoding/gob/gobencdec_test.go.html#6875978">GobTestIndirectArrayEncDec</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878830"><a href="/encoding/gob/gobencdec_test.go.html#6878800">a</a></span><span class="op" id="6878831">.</span><span class="ident" id="6878832">X</span>&nbsp;<span class="op" id="6878834">=</span>&nbsp;<span class="num" id="6878836">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878840">var</span>&nbsp;<span class="ident" id="6878844">array</span>&nbsp;<span class="ident" id="6878850"><a href="/encoding/gob/gobencdec_test.go.html#6871398">ArrayStruct</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878863">ap</span>&nbsp;<span class="op" id="6878866">:=</span>&nbsp;<span class="op" id="6878869">&amp;</span><span class="ident" id="6878870"><a href="/encoding/gob/gobencdec_test.go.html#6878844">array</a></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878877">app</span>&nbsp;<span class="op" id="6878881">:=</span>&nbsp;<span class="op" id="6878884">&amp;</span><span class="ident" id="6878885"><a href="/encoding/gob/gobencdec_test.go.html#6878863">ap</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878889"><a href="/encoding/gob/gobencdec_test.go.html#6878800">a</a></span><span class="op" id="6878890">.</span><span class="ident" id="6878891">A</span>&nbsp;<span class="op" id="6878893">=</span>&nbsp;<span class="op" id="6878895">&amp;</span><span class="ident" id="6878896"><a href="/encoding/gob/gobencdec_test.go.html#6878877">app</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878901">for</span>&nbsp;<span class="ident" id="6878905">i</span>&nbsp;<span class="op" id="6878907">:=</span>&nbsp;<span class="keyword" id="6878910">range</span>&nbsp;<span class="ident" id="6878916"><a href="/encoding/gob/gobencdec_test.go.html#6878844">array</a></span><span class="op" id="6878921">.</span><span class="ident" id="6878922">a</span>&nbsp;<span class="op" id="6878924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878928"><a href="/encoding/gob/gobencdec_test.go.html#6878844">array</a></span><span class="op" id="6878933">.</span><span class="ident" id="6878934">a</span><span class="op" id="6878935">[</span><span class="ident" id="6878936"><a href="/encoding/gob/gobencdec_test.go.html#6878905">i</a></span><span class="op" id="6878937">]</span>&nbsp;<span class="op" id="6878939">=</span>&nbsp;<span class="builtintype" id="6878941">byte</span><span class="op" id="6878945">(</span><span class="ident" id="6878946"><a href="/encoding/gob/gobencdec_test.go.html#6878905">i</a></span><span class="op" id="6878947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6878950">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878953">err</span>&nbsp;<span class="op" id="6878957">:=</span>&nbsp;<span class="ident" id="6878960"><a href="/encoding/gob/gobencdec_test.go.html#6878774">enc</a></span><span class="op" id="6878963">.</span><span class="ident" id="6878964">Encode</span><span class="op" id="6878970">(</span><span class="ident" id="6878971"><a href="/encoding/gob/gobencdec_test.go.html#6878800">a</a></span><span class="op" id="6878972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6878975">if</span>&nbsp;<span class="ident" id="6878978"><a href="/encoding/gob/gobencdec_test.go.html#6878953">err</a></span>&nbsp;<span class="op" id="6878982">!=</span>&nbsp;<span class="ident" id="6878985">nil</span>&nbsp;<span class="op" id="6878989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6878993"><a href="/encoding/gob/gobencdec_test.go.html#6878733">t</a></span><span class="op" id="6878994">.</span><span class="ident" id="6878995">Fatal</span><span class="op" id="6879000">(</span><span class="string" id="6879001">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6879016">,</span>&nbsp;<span class="ident" id="6879018"><a href="/encoding/gob/gobencdec_test.go.html#6878953">err</a></span><span class="op" id="6879021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879027">dec</span>&nbsp;<span class="op" id="6879031">:=</span>&nbsp;<span class="ident" id="6879034"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6879044">(</span><span class="ident" id="6879045"><a href="/encoding/gob/gobencdec_test.go.html#6878750">b</a></span><span class="op" id="6879046">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879049">x</span>&nbsp;<span class="op" id="6879051">:=</span>&nbsp;<span class="builtinfunc" id="6879054">new</span><span class="op" id="6879057">(</span><span class="ident" id="6879058"><a href="/encoding/gob/gobencdec_test.go.html#6875978">GobTestIndirectArrayEncDec</a></span><span class="op" id="6879084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879087"><a href="/encoding/gob/gobencdec_test.go.html#6878953">err</a></span>&nbsp;<span class="op" id="6879091">=</span>&nbsp;<span class="ident" id="6879093"><a href="/encoding/gob/gobencdec_test.go.html#6879027">dec</a></span><span class="op" id="6879096">.</span><span class="ident" id="6879097">Decode</span><span class="op" id="6879103">(</span><span class="ident" id="6879104"><a href="/encoding/gob/gobencdec_test.go.html#6879049">x</a></span><span class="op" id="6879105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879108">if</span>&nbsp;<span class="ident" id="6879111"><a href="/encoding/gob/gobencdec_test.go.html#6878953">err</a></span>&nbsp;<span class="op" id="6879115">!=</span>&nbsp;<span class="ident" id="6879118">nil</span>&nbsp;<span class="op" id="6879122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879126"><a href="/encoding/gob/gobencdec_test.go.html#6878733">t</a></span><span class="op" id="6879127">.</span><span class="ident" id="6879128">Fatal</span><span class="op" id="6879133">(</span><span class="string" id="6879134">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6879149">,</span>&nbsp;<span class="ident" id="6879151"><a href="/encoding/gob/gobencdec_test.go.html#6878953">err</a></span><span class="op" id="6879154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879157">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879160">for</span>&nbsp;<span class="ident" id="6879164">i</span><span class="op" id="6879165">,</span>&nbsp;<span class="ident" id="6879167">v</span>&nbsp;<span class="op" id="6879169">:=</span>&nbsp;<span class="keyword" id="6879172">range</span>&nbsp;<span class="op" id="6879178">(</span><span class="op" id="6879179">*</span><span class="op" id="6879180">*</span><span class="op" id="6879181">*</span><span class="ident" id="6879182"><a href="/encoding/gob/gobencdec_test.go.html#6879049">x</a></span><span class="op" id="6879183">.</span><span class="ident" id="6879184">A</span><span class="op" id="6879185">)</span><span class="op" id="6879186">.</span><span class="ident" id="6879187">a</span>&nbsp;<span class="op" id="6879189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879193">if</span>&nbsp;<span class="ident" id="6879196"><a href="/encoding/gob/gobencdec_test.go.html#6879167">v</a></span>&nbsp;<span class="op" id="6879198">!=</span>&nbsp;<span class="builtintype" id="6879201">byte</span><span class="op" id="6879205">(</span><span class="ident" id="6879206"><a href="/encoding/gob/gobencdec_test.go.html#6879164">i</a></span><span class="op" id="6879207">)</span>&nbsp;<span class="op" id="6879209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879214"><a href="/encoding/gob/gobencdec_test.go.html#6878733">t</a></span><span class="op" id="6879215">.</span><span class="ident" id="6879216">Errorf</span><span class="op" id="6879222">(</span><span class="string" id="6879223">&#34;expected&nbsp;%x&nbsp;got&nbsp;%x&#34;</span><span class="op" id="6879243">,</span>&nbsp;<span class="builtintype" id="6879245">byte</span><span class="op" id="6879249">(</span><span class="ident" id="6879250"><a href="/encoding/gob/gobencdec_test.go.html#6879164">i</a></span><span class="op" id="6879251">)</span><span class="op" id="6879252">,</span>&nbsp;<span class="ident" id="6879254"><a href="/encoding/gob/gobencdec_test.go.html#6879167">v</a></span><span class="op" id="6879255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879260">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879268">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879271">}</span><br>
<span class="lineno"></span><span class="op" id="6879273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6879276">//&nbsp;As&nbsp;long&nbsp;as&nbsp;the&nbsp;fields&nbsp;have&nbsp;the&nbsp;same&nbsp;name&nbsp;and&nbsp;implement&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6879338">//&nbsp;interface,&nbsp;we&nbsp;can&nbsp;cross-connect&nbsp;them.&nbsp;&nbsp;Not&nbsp;sure&nbsp;it&#39;s&nbsp;useful</span><br>
<span class="lineno">380</span><span class="comment" id="6879401">//&nbsp;and&nbsp;may&nbsp;even&nbsp;be&nbsp;bad&nbsp;but&nbsp;it&nbsp;works&nbsp;and&nbsp;it&#39;s&nbsp;hard&nbsp;to&nbsp;prevent</span><br>
<span class="lineno"></span><span class="comment" id="6879462">//&nbsp;without&nbsp;exposing&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;object,&nbsp;which&nbsp;would</span><br>
<span class="lineno"></span><span class="comment" id="6879522">//&nbsp;defeat&nbsp;the&nbsp;purpose.</span><br>
<span class="lineno"></span><span class="keyword" id="6879545">func</span>&nbsp;<span class="ident" id="6879550">TestGobEncoderFieldsOfDifferentType</span><span class="op" id="6879585">(</span><span class="ident" id="6879586">t</span>&nbsp;<span class="op" id="6879588">*</span><span class="ident" id="6879589"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6879596">.</span><span class="ident" id="6879597">T</span><span class="op" id="6879598">)</span>&nbsp;<span class="op" id="6879600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6879603">//&nbsp;first,&nbsp;string&nbsp;in&nbsp;field&nbsp;to&nbsp;byte&nbsp;in&nbsp;field</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879647">b</span>&nbsp;<span class="op" id="6879649">:=</span>&nbsp;<span class="builtinfunc" id="6879652">new</span><span class="op" id="6879655">(</span><span class="ident" id="6879656"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6879661">.</span><span class="ident" id="6879662">Buffer</span><span class="op" id="6879668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879671">enc</span>&nbsp;<span class="op" id="6879675">:=</span>&nbsp;<span class="ident" id="6879678"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6879688">(</span><span class="ident" id="6879689"><a href="/encoding/gob/gobencdec_test.go.html#6879647">b</a></span><span class="op" id="6879690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879693">err</span>&nbsp;<span class="op" id="6879697">:=</span>&nbsp;<span class="ident" id="6879700"><a href="/encoding/gob/gobencdec_test.go.html#6879671">enc</a></span><span class="op" id="6879703">.</span><span class="ident" id="6879704">Encode</span><span class="op" id="6879710">(</span><span class="ident" id="6879711"><a href="/encoding/gob/gobencdec_test.go.html#6874328">GobTest1</a></span><span class="op" id="6879719">{</span><span class="num" id="6879720">17</span><span class="op" id="6879722">,</span>&nbsp;<span class="op" id="6879724">&amp;</span><span class="ident" id="6879725"><a href="/encoding/gob/gobencdec_test.go.html#6871333">StringStruct</a></span><span class="op" id="6879737">{</span><span class="string" id="6879738">&#34;ABC&#34;</span><span class="op" id="6879743">}</span><span class="op" id="6879744">}</span><span class="op" id="6879745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879748">if</span>&nbsp;<span class="ident" id="6879751"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span>&nbsp;<span class="op" id="6879755">!=</span>&nbsp;<span class="ident" id="6879758">nil</span>&nbsp;<span class="op" id="6879762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879766"><a href="/encoding/gob/gobencdec_test.go.html#6879586">t</a></span><span class="op" id="6879767">.</span><span class="ident" id="6879768">Fatal</span><span class="op" id="6879773">(</span><span class="string" id="6879774">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6879789">,</span>&nbsp;<span class="ident" id="6879791"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span><span class="op" id="6879794">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879800">dec</span>&nbsp;<span class="op" id="6879804">:=</span>&nbsp;<span class="ident" id="6879807"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6879817">(</span><span class="ident" id="6879818"><a href="/encoding/gob/gobencdec_test.go.html#6879647">b</a></span><span class="op" id="6879819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879822">x</span>&nbsp;<span class="op" id="6879824">:=</span>&nbsp;<span class="builtinfunc" id="6879827">new</span><span class="op" id="6879830">(</span><span class="ident" id="6879831"><a href="/encoding/gob/gobencdec_test.go.html#6874224">GobTest0</a></span><span class="op" id="6879839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879842"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span>&nbsp;<span class="op" id="6879846">=</span>&nbsp;<span class="ident" id="6879848"><a href="/encoding/gob/gobencdec_test.go.html#6879800">dec</a></span><span class="op" id="6879851">.</span><span class="ident" id="6879852">Decode</span><span class="op" id="6879858">(</span><span class="ident" id="6879859"><a href="/encoding/gob/gobencdec_test.go.html#6879822">x</a></span><span class="op" id="6879860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879863">if</span>&nbsp;<span class="ident" id="6879866"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span>&nbsp;<span class="op" id="6879870">!=</span>&nbsp;<span class="ident" id="6879873">nil</span>&nbsp;<span class="op" id="6879877">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879881"><a href="/encoding/gob/gobencdec_test.go.html#6879586">t</a></span><span class="op" id="6879882">.</span><span class="ident" id="6879883">Fatal</span><span class="op" id="6879888">(</span><span class="string" id="6879889">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6879904">,</span>&nbsp;<span class="ident" id="6879906"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span><span class="op" id="6879909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879915">if</span>&nbsp;<span class="ident" id="6879918"><a href="/encoding/gob/gobencdec_test.go.html#6879822">x</a></span><span class="op" id="6879919">.</span><span class="ident" id="6879920">G</span><span class="op" id="6879921">.</span><span class="ident" id="6879922">a</span>&nbsp;<span class="op" id="6879924">!=</span>&nbsp;<span class="string" id="6879927">&#39;A&#39;</span>&nbsp;<span class="op" id="6879931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879935"><a href="/encoding/gob/gobencdec_test.go.html#6879586">t</a></span><span class="op" id="6879936">.</span><span class="ident" id="6879937">Errorf</span><span class="op" id="6879943">(</span><span class="string" id="6879944">&#34;expected&nbsp;&#39;A&#39;&nbsp;got&nbsp;%c&#34;</span><span class="op" id="6879965">,</span>&nbsp;<span class="ident" id="6879967"><a href="/encoding/gob/gobencdec_test.go.html#6879822">x</a></span><span class="op" id="6879968">.</span><span class="ident" id="6879969">G</span><span class="op" id="6879970">.</span><span class="ident" id="6879971">a</span><span class="op" id="6879972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879975">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6879978">//&nbsp;now&nbsp;the&nbsp;other&nbsp;direction,&nbsp;byte&nbsp;in&nbsp;field&nbsp;to&nbsp;string&nbsp;in&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880040"><a href="/encoding/gob/gobencdec_test.go.html#6879647">b</a></span><span class="op" id="6880041">.</span><span class="ident" id="6880042">Reset</span><span class="op" id="6880047">(</span><span class="op" id="6880048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880051"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span>&nbsp;<span class="op" id="6880055">=</span>&nbsp;<span class="ident" id="6880057"><a href="/encoding/gob/gobencdec_test.go.html#6879671">enc</a></span><span class="op" id="6880060">.</span><span class="ident" id="6880061">Encode</span><span class="op" id="6880067">(</span><span class="ident" id="6880068"><a href="/encoding/gob/gobencdec_test.go.html#6874224">GobTest0</a></span><span class="op" id="6880076">{</span><span class="num" id="6880077">17</span><span class="op" id="6880079">,</span>&nbsp;<span class="op" id="6880081">&amp;</span><span class="ident" id="6880082"><a href="/encoding/gob/gobencdec_test.go.html#6871272">ByteStruct</a></span><span class="op" id="6880092">{</span><span class="string" id="6880093">&#39;X&#39;</span><span class="op" id="6880096">}</span><span class="op" id="6880097">}</span><span class="op" id="6880098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880101">if</span>&nbsp;<span class="ident" id="6880104"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span>&nbsp;<span class="op" id="6880108">!=</span>&nbsp;<span class="ident" id="6880111">nil</span>&nbsp;<span class="op" id="6880115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880119"><a href="/encoding/gob/gobencdec_test.go.html#6879586">t</a></span><span class="op" id="6880120">.</span><span class="ident" id="6880121">Fatal</span><span class="op" id="6880126">(</span><span class="string" id="6880127">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6880142">,</span>&nbsp;<span class="ident" id="6880144"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span><span class="op" id="6880147">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880153">y</span>&nbsp;<span class="op" id="6880155">:=</span>&nbsp;<span class="builtinfunc" id="6880158">new</span><span class="op" id="6880161">(</span><span class="ident" id="6880162"><a href="/encoding/gob/gobencdec_test.go.html#6874328">GobTest1</a></span><span class="op" id="6880170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880173"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span>&nbsp;<span class="op" id="6880177">=</span>&nbsp;<span class="ident" id="6880179"><a href="/encoding/gob/gobencdec_test.go.html#6879800">dec</a></span><span class="op" id="6880182">.</span><span class="ident" id="6880183">Decode</span><span class="op" id="6880189">(</span><span class="ident" id="6880190"><a href="/encoding/gob/gobencdec_test.go.html#6880153">y</a></span><span class="op" id="6880191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880194">if</span>&nbsp;<span class="ident" id="6880197"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span>&nbsp;<span class="op" id="6880201">!=</span>&nbsp;<span class="ident" id="6880204">nil</span>&nbsp;<span class="op" id="6880208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880212"><a href="/encoding/gob/gobencdec_test.go.html#6879586">t</a></span><span class="op" id="6880213">.</span><span class="ident" id="6880214">Fatal</span><span class="op" id="6880219">(</span><span class="string" id="6880220">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6880235">,</span>&nbsp;<span class="ident" id="6880237"><a href="/encoding/gob/gobencdec_test.go.html#6879693">err</a></span><span class="op" id="6880240">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880246">if</span>&nbsp;<span class="ident" id="6880249"><a href="/encoding/gob/gobencdec_test.go.html#6880153">y</a></span><span class="op" id="6880250">.</span><span class="ident" id="6880251">G</span><span class="op" id="6880252">.</span><span class="ident" id="6880253">s</span>&nbsp;<span class="op" id="6880255">!=</span>&nbsp;<span class="string" id="6880258">&#34;XYZ&#34;</span>&nbsp;<span class="op" id="6880264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880268"><a href="/encoding/gob/gobencdec_test.go.html#6879586">t</a></span><span class="op" id="6880269">.</span><span class="ident" id="6880270">Fatalf</span><span class="op" id="6880276">(</span><span class="string" id="6880277">&#34;expected&nbsp;`XYZ`&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6880300">,</span>&nbsp;<span class="ident" id="6880302"><a href="/encoding/gob/gobencdec_test.go.html#6880153">y</a></span><span class="op" id="6880303">.</span><span class="ident" id="6880304">G</span><span class="op" id="6880305">.</span><span class="ident" id="6880306">s</span><span class="op" id="6880307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880310">}</span><br>
<span class="lineno"></span><span class="op" id="6880312">}</span><br>
<span class="lineno">415</span><br>
<span class="lineno"></span><span class="comment" id="6880315">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;can&nbsp;encode&nbsp;a&nbsp;value&nbsp;and&nbsp;decode&nbsp;into&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span><span class="keyword" id="6880377">func</span>&nbsp;<span class="ident" id="6880382">TestGobEncoderValueEncoder</span><span class="op" id="6880408">(</span><span class="ident" id="6880409">t</span>&nbsp;<span class="op" id="6880411">*</span><span class="ident" id="6880412"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6880419">.</span><span class="ident" id="6880420">T</span><span class="op" id="6880421">)</span>&nbsp;<span class="op" id="6880423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6880426">//&nbsp;first,&nbsp;string&nbsp;in&nbsp;field&nbsp;to&nbsp;byte&nbsp;in&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880470">b</span>&nbsp;<span class="op" id="6880472">:=</span>&nbsp;<span class="builtinfunc" id="6880475">new</span><span class="op" id="6880478">(</span><span class="ident" id="6880479"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6880484">.</span><span class="ident" id="6880485">Buffer</span><span class="op" id="6880491">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880494">enc</span>&nbsp;<span class="op" id="6880498">:=</span>&nbsp;<span class="ident" id="6880501"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6880511">(</span><span class="ident" id="6880512"><a href="/encoding/gob/gobencdec_test.go.html#6880470">b</a></span><span class="op" id="6880513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880516">err</span>&nbsp;<span class="op" id="6880520">:=</span>&nbsp;<span class="ident" id="6880523"><a href="/encoding/gob/gobencdec_test.go.html#6880494">enc</a></span><span class="op" id="6880526">.</span><span class="ident" id="6880527">Encode</span><span class="op" id="6880533">(</span><span class="ident" id="6880534"><a href="/encoding/gob/gobencdec_test.go.html#6874712">GobTest4</a></span><span class="op" id="6880542">{</span><span class="num" id="6880543">17</span><span class="op" id="6880545">,</span>&nbsp;<span class="ident" id="6880547"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><span class="op" id="6880558">(</span><span class="string" id="6880559">&#34;hello&#34;</span><span class="op" id="6880566">)</span><span class="op" id="6880567">,</span>&nbsp;<span class="ident" id="6880569"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><span class="op" id="6880586">(</span><span class="string" id="6880587">&#34;&#34;</span><span class="op" id="6880605">)</span><span class="op" id="6880606">,</span>&nbsp;<span class="ident" id="6880608"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><span class="op" id="6880623">(</span><span class="string" id="6880624">&#34;&#34;</span><span class="op" id="6880641">)</span><span class="op" id="6880642">}</span><span class="op" id="6880643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880646">if</span>&nbsp;<span class="ident" id="6880649"><a href="/encoding/gob/gobencdec_test.go.html#6880516">err</a></span>&nbsp;<span class="op" id="6880653">!=</span>&nbsp;<span class="ident" id="6880656">nil</span>&nbsp;<span class="op" id="6880660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880664"><a href="/encoding/gob/gobencdec_test.go.html#6880409">t</a></span><span class="op" id="6880665">.</span><span class="ident" id="6880666">Fatal</span><span class="op" id="6880671">(</span><span class="string" id="6880672">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6880687">,</span>&nbsp;<span class="ident" id="6880689"><a href="/encoding/gob/gobencdec_test.go.html#6880516">err</a></span><span class="op" id="6880692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880695">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880698">dec</span>&nbsp;<span class="op" id="6880702">:=</span>&nbsp;<span class="ident" id="6880705"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6880715">(</span><span class="ident" id="6880716"><a href="/encoding/gob/gobencdec_test.go.html#6880470">b</a></span><span class="op" id="6880717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880720">x</span>&nbsp;<span class="op" id="6880722">:=</span>&nbsp;<span class="builtinfunc" id="6880725">new</span><span class="op" id="6880728">(</span><span class="ident" id="6880729"><a href="/encoding/gob/gobencdec_test.go.html#6874860">GobTest5</a></span><span class="op" id="6880737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880740"><a href="/encoding/gob/gobencdec_test.go.html#6880516">err</a></span>&nbsp;<span class="op" id="6880744">=</span>&nbsp;<span class="ident" id="6880746"><a href="/encoding/gob/gobencdec_test.go.html#6880698">dec</a></span><span class="op" id="6880749">.</span><span class="ident" id="6880750">Decode</span><span class="op" id="6880756">(</span><span class="ident" id="6880757"><a href="/encoding/gob/gobencdec_test.go.html#6880720">x</a></span><span class="op" id="6880758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880761">if</span>&nbsp;<span class="ident" id="6880764"><a href="/encoding/gob/gobencdec_test.go.html#6880516">err</a></span>&nbsp;<span class="op" id="6880768">!=</span>&nbsp;<span class="ident" id="6880771">nil</span>&nbsp;<span class="op" id="6880775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880779"><a href="/encoding/gob/gobencdec_test.go.html#6880409">t</a></span><span class="op" id="6880780">.</span><span class="ident" id="6880781">Fatal</span><span class="op" id="6880786">(</span><span class="string" id="6880787">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6880802">,</span>&nbsp;<span class="ident" id="6880804"><a href="/encoding/gob/gobencdec_test.go.html#6880516">err</a></span><span class="op" id="6880807">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880813">if</span>&nbsp;<span class="op" id="6880816">*</span><span class="ident" id="6880817"><a href="/encoding/gob/gobencdec_test.go.html#6880720">x</a></span><span class="op" id="6880818">.</span><span class="ident" id="6880819">V</span>&nbsp;<span class="op" id="6880821">!=</span>&nbsp;<span class="string" id="6880824">&#34;hello&#34;</span>&nbsp;<span class="op" id="6880832">||</span>&nbsp;<span class="op" id="6880835">*</span><span class="ident" id="6880836"><a href="/encoding/gob/gobencdec_test.go.html#6880720">x</a></span><span class="op" id="6880837">.</span><span class="ident" id="6880838">BV</span>&nbsp;<span class="op" id="6880841">!=</span>&nbsp;<span class="string" id="6880844">&#34;&#34;</span>&nbsp;<span class="op" id="6880863">||</span>&nbsp;<span class="op" id="6880866">*</span><span class="ident" id="6880867"><a href="/encoding/gob/gobencdec_test.go.html#6880720">x</a></span><span class="op" id="6880868">.</span><span class="ident" id="6880869">TV</span>&nbsp;<span class="op" id="6880872">!=</span>&nbsp;<span class="string" id="6880875">&#34;&#34;</span>&nbsp;<span class="op" id="6880893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880897"><a href="/encoding/gob/gobencdec_test.go.html#6880409">t</a></span><span class="op" id="6880898">.</span><span class="ident" id="6880899">Errorf</span><span class="op" id="6880905">(</span><span class="string" id="6880906">&#34;expected&nbsp;`hello`&nbsp;got&nbsp;%s&#34;</span><span class="op" id="6880931">,</span>&nbsp;<span class="op" id="6880933">*</span><span class="ident" id="6880934"><a href="/encoding/gob/gobencdec_test.go.html#6880720">x</a></span><span class="op" id="6880935">.</span><span class="ident" id="6880936">V</span><span class="op" id="6880937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880940">}</span><br>
<span class="lineno"></span><span class="op" id="6880942">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="comment" id="6880945">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;a&nbsp;value&nbsp;then&nbsp;a&nbsp;pointer&nbsp;type&nbsp;of&nbsp;a&nbsp;GobEncoder</span><br>
<span class="lineno"></span><span class="comment" id="6881013">//&nbsp;in&nbsp;the&nbsp;same&nbsp;encoded&nbsp;value.&nbsp;&nbsp;Bug&nbsp;4647.</span><br>
<span class="lineno"></span><span class="keyword" id="6881054">func</span>&nbsp;<span class="ident" id="6881059">TestGobEncoderValueThenPointer</span><span class="op" id="6881089">(</span><span class="ident" id="6881090">t</span>&nbsp;<span class="op" id="6881092">*</span><span class="ident" id="6881093"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6881100">.</span><span class="ident" id="6881101">T</span><span class="op" id="6881102">)</span>&nbsp;<span class="op" id="6881104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881107">v</span>&nbsp;<span class="op" id="6881109">:=</span>&nbsp;<span class="ident" id="6881112"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><span class="op" id="6881123">(</span><span class="string" id="6881124">&#34;forty-two&#34;</span><span class="op" id="6881135">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881138">w</span>&nbsp;<span class="op" id="6881140">:=</span>&nbsp;<span class="ident" id="6881143"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><span class="op" id="6881154">(</span><span class="string" id="6881155">&#34;six-by-nine&#34;</span><span class="op" id="6881168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881171">bv</span>&nbsp;<span class="op" id="6881174">:=</span>&nbsp;<span class="ident" id="6881177"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><span class="op" id="6881194">(</span><span class="string" id="6881195">&#34;1nanocentury&#34;</span><span class="op" id="6881209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881212">bw</span>&nbsp;<span class="op" id="6881215">:=</span>&nbsp;<span class="ident" id="6881218"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><span class="op" id="6881235">(</span><span class="string" id="6881236">&#34;seconds&#34;</span><span class="op" id="6881247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881250">tv</span>&nbsp;<span class="op" id="6881253">:=</span>&nbsp;<span class="ident" id="6881256"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><span class="op" id="6881271">(</span><span class="string" id="6881272">&#34;gravitationalacceleration&#34;</span><span class="op" id="6881299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881302">tw</span>&nbsp;<span class="op" id="6881305">:=</span>&nbsp;<span class="ident" id="6881308"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><span class="op" id="6881323">(</span><span class="string" id="6881324">&#34;ft/s&#34;</span><span class="op" id="6881336">)</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6881340">//&nbsp;this&nbsp;was&nbsp;a&nbsp;bug:&nbsp;encoding&nbsp;a&nbsp;GobEncoder&nbsp;by&nbsp;value&nbsp;before&nbsp;a&nbsp;GobEncoder</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6881411">//&nbsp;pointer&nbsp;would&nbsp;cause&nbsp;duplicate&nbsp;type&nbsp;definitions&nbsp;to&nbsp;be&nbsp;sent.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881475">b</span>&nbsp;<span class="op" id="6881477">:=</span>&nbsp;<span class="builtinfunc" id="6881480">new</span><span class="op" id="6881483">(</span><span class="ident" id="6881484"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6881489">.</span><span class="ident" id="6881490">Buffer</span><span class="op" id="6881496">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881499">enc</span>&nbsp;<span class="op" id="6881503">:=</span>&nbsp;<span class="ident" id="6881506"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6881516">(</span><span class="ident" id="6881517"><a href="/encoding/gob/gobencdec_test.go.html#6881475">b</a></span><span class="op" id="6881518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881521">if</span>&nbsp;<span class="ident" id="6881524">err</span>&nbsp;<span class="op" id="6881528">:=</span>&nbsp;<span class="ident" id="6881531"><a href="/encoding/gob/gobencdec_test.go.html#6881499">enc</a></span><span class="op" id="6881534">.</span><span class="ident" id="6881535">Encode</span><span class="op" id="6881541">(</span><span class="ident" id="6881542"><a href="/encoding/gob/gobencdec_test.go.html#6875011">GobTest6</a></span><span class="op" id="6881550">{</span><span class="num" id="6881551">42</span><span class="op" id="6881553">,</span>&nbsp;<span class="ident" id="6881555"><a href="/encoding/gob/gobencdec_test.go.html#6881107">v</a></span><span class="op" id="6881556">,</span>&nbsp;<span class="op" id="6881558">&amp;</span><span class="ident" id="6881559"><a href="/encoding/gob/gobencdec_test.go.html#6881138">w</a></span><span class="op" id="6881560">,</span>&nbsp;<span class="ident" id="6881562"><a href="/encoding/gob/gobencdec_test.go.html#6881171">bv</a></span><span class="op" id="6881564">,</span>&nbsp;<span class="op" id="6881566">&amp;</span><span class="ident" id="6881567"><a href="/encoding/gob/gobencdec_test.go.html#6881212">bw</a></span><span class="op" id="6881569">,</span>&nbsp;<span class="ident" id="6881571"><a href="/encoding/gob/gobencdec_test.go.html#6881250">tv</a></span><span class="op" id="6881573">,</span>&nbsp;<span class="op" id="6881575">&amp;</span><span class="ident" id="6881576"><a href="/encoding/gob/gobencdec_test.go.html#6881302">tw</a></span><span class="op" id="6881578">}</span><span class="op" id="6881579">)</span><span class="op" id="6881580">;</span>&nbsp;<span class="ident" id="6881582"><a href="/encoding/gob/gobencdec_test.go.html#6881524">err</a></span>&nbsp;<span class="op" id="6881586">!=</span>&nbsp;<span class="ident" id="6881589">nil</span>&nbsp;<span class="op" id="6881593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881597"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6881598">.</span><span class="ident" id="6881599">Fatal</span><span class="op" id="6881604">(</span><span class="string" id="6881605">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6881620">,</span>&nbsp;<span class="ident" id="6881622"><a href="/encoding/gob/gobencdec_test.go.html#6881524">err</a></span><span class="op" id="6881625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881631">dec</span>&nbsp;<span class="op" id="6881635">:=</span>&nbsp;<span class="ident" id="6881638"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6881648">(</span><span class="ident" id="6881649"><a href="/encoding/gob/gobencdec_test.go.html#6881475">b</a></span><span class="op" id="6881650">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881653">x</span>&nbsp;<span class="op" id="6881655">:=</span>&nbsp;<span class="builtinfunc" id="6881658">new</span><span class="op" id="6881661">(</span><span class="ident" id="6881662"><a href="/encoding/gob/gobencdec_test.go.html#6875011">GobTest6</a></span><span class="op" id="6881670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881673">if</span>&nbsp;<span class="ident" id="6881676">err</span>&nbsp;<span class="op" id="6881680">:=</span>&nbsp;<span class="ident" id="6881683"><a href="/encoding/gob/gobencdec_test.go.html#6881631">dec</a></span><span class="op" id="6881686">.</span><span class="ident" id="6881687">Decode</span><span class="op" id="6881693">(</span><span class="ident" id="6881694"><a href="/encoding/gob/gobencdec_test.go.html#6881653">x</a></span><span class="op" id="6881695">)</span><span class="op" id="6881696">;</span>&nbsp;<span class="ident" id="6881698"><a href="/encoding/gob/gobencdec_test.go.html#6881676">err</a></span>&nbsp;<span class="op" id="6881702">!=</span>&nbsp;<span class="ident" id="6881705">nil</span>&nbsp;<span class="op" id="6881709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881713"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6881714">.</span><span class="ident" id="6881715">Fatal</span><span class="op" id="6881720">(</span><span class="string" id="6881721">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6881736">,</span>&nbsp;<span class="ident" id="6881738"><a href="/encoding/gob/gobencdec_test.go.html#6881676">err</a></span><span class="op" id="6881741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881748">if</span>&nbsp;<span class="ident" id="6881751">got</span><span class="op" id="6881754">,</span>&nbsp;<span class="ident" id="6881756">want</span>&nbsp;<span class="op" id="6881761">:=</span>&nbsp;<span class="ident" id="6881764"><a href="/encoding/gob/gobencdec_test.go.html#6881653">x</a></span><span class="op" id="6881765">.</span><span class="ident" id="6881766">V</span><span class="op" id="6881767">,</span>&nbsp;<span class="ident" id="6881769"><a href="/encoding/gob/gobencdec_test.go.html#6881107">v</a></span><span class="op" id="6881770">;</span>&nbsp;<span class="ident" id="6881772"><a href="/encoding/gob/gobencdec_test.go.html#6881751">got</a></span>&nbsp;<span class="op" id="6881776">!=</span>&nbsp;<span class="ident" id="6881779"><a href="/encoding/gob/gobencdec_test.go.html#6881756">want</a></span>&nbsp;<span class="op" id="6881784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881788"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6881789">.</span><span class="ident" id="6881790">Errorf</span><span class="op" id="6881796">(</span><span class="string" id="6881797">&#34;v&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6881814">,</span>&nbsp;<span class="ident" id="6881816"><a href="/encoding/gob/gobencdec_test.go.html#6881751">got</a></span><span class="op" id="6881819">,</span>&nbsp;<span class="ident" id="6881821"><a href="/encoding/gob/gobencdec_test.go.html#6881756">want</a></span><span class="op" id="6881825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881831">if</span>&nbsp;<span class="ident" id="6881834">got</span><span class="op" id="6881837">,</span>&nbsp;<span class="ident" id="6881839">want</span>&nbsp;<span class="op" id="6881844">:=</span>&nbsp;<span class="ident" id="6881847"><a href="/encoding/gob/gobencdec_test.go.html#6881653">x</a></span><span class="op" id="6881848">.</span><span class="ident" id="6881849">W</span><span class="op" id="6881850">,</span>&nbsp;<span class="ident" id="6881852"><a href="/encoding/gob/gobencdec_test.go.html#6881138">w</a></span><span class="op" id="6881853">;</span>&nbsp;<span class="ident" id="6881855"><a href="/encoding/gob/gobencdec_test.go.html#6881834">got</a></span>&nbsp;<span class="op" id="6881859">==</span>&nbsp;<span class="ident" id="6881862">nil</span>&nbsp;<span class="op" id="6881866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881870"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6881871">.</span><span class="ident" id="6881872">Errorf</span><span class="op" id="6881878">(</span><span class="string" id="6881879">&#34;w&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6881897">,</span>&nbsp;<span class="ident" id="6881899"><a href="/encoding/gob/gobencdec_test.go.html#6881839">want</a></span><span class="op" id="6881903">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881906">}</span>&nbsp;<span class="keyword" id="6881908">else</span>&nbsp;<span class="keyword" id="6881913">if</span>&nbsp;<span class="op" id="6881916">*</span><span class="ident" id="6881917"><a href="/encoding/gob/gobencdec_test.go.html#6881834">got</a></span>&nbsp;<span class="op" id="6881921">!=</span>&nbsp;<span class="ident" id="6881924"><a href="/encoding/gob/gobencdec_test.go.html#6881839">want</a></span>&nbsp;<span class="op" id="6881929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881933"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6881934">.</span><span class="ident" id="6881935">Errorf</span><span class="op" id="6881941">(</span><span class="string" id="6881942">&#34;w&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6881959">,</span>&nbsp;<span class="op" id="6881961">*</span><span class="ident" id="6881962"><a href="/encoding/gob/gobencdec_test.go.html#6881834">got</a></span><span class="op" id="6881965">,</span>&nbsp;<span class="ident" id="6881967"><a href="/encoding/gob/gobencdec_test.go.html#6881839">want</a></span><span class="op" id="6881971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881978">if</span>&nbsp;<span class="ident" id="6881981">got</span><span class="op" id="6881984">,</span>&nbsp;<span class="ident" id="6881986">want</span>&nbsp;<span class="op" id="6881991">:=</span>&nbsp;<span class="ident" id="6881994"><a href="/encoding/gob/gobencdec_test.go.html#6881653">x</a></span><span class="op" id="6881995">.</span><span class="ident" id="6881996">BV</span><span class="op" id="6881998">,</span>&nbsp;<span class="ident" id="6882000"><a href="/encoding/gob/gobencdec_test.go.html#6881171">bv</a></span><span class="op" id="6882002">;</span>&nbsp;<span class="ident" id="6882004"><a href="/encoding/gob/gobencdec_test.go.html#6881981">got</a></span>&nbsp;<span class="op" id="6882008">!=</span>&nbsp;<span class="ident" id="6882011"><a href="/encoding/gob/gobencdec_test.go.html#6881986">want</a></span>&nbsp;<span class="op" id="6882016">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882020"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6882021">.</span><span class="ident" id="6882022">Errorf</span><span class="op" id="6882028">(</span><span class="string" id="6882029">&#34;bv&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6882047">,</span>&nbsp;<span class="ident" id="6882049"><a href="/encoding/gob/gobencdec_test.go.html#6881981">got</a></span><span class="op" id="6882052">,</span>&nbsp;<span class="ident" id="6882054"><a href="/encoding/gob/gobencdec_test.go.html#6881986">want</a></span><span class="op" id="6882058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882064">if</span>&nbsp;<span class="ident" id="6882067">got</span><span class="op" id="6882070">,</span>&nbsp;<span class="ident" id="6882072">want</span>&nbsp;<span class="op" id="6882077">:=</span>&nbsp;<span class="ident" id="6882080"><a href="/encoding/gob/gobencdec_test.go.html#6881653">x</a></span><span class="op" id="6882081">.</span><span class="ident" id="6882082">BW</span><span class="op" id="6882084">,</span>&nbsp;<span class="ident" id="6882086"><a href="/encoding/gob/gobencdec_test.go.html#6881212">bw</a></span><span class="op" id="6882088">;</span>&nbsp;<span class="ident" id="6882090"><a href="/encoding/gob/gobencdec_test.go.html#6882067">got</a></span>&nbsp;<span class="op" id="6882094">==</span>&nbsp;<span class="ident" id="6882097">nil</span>&nbsp;<span class="op" id="6882101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882105"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6882106">.</span><span class="ident" id="6882107">Errorf</span><span class="op" id="6882113">(</span><span class="string" id="6882114">&#34;bw&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6882133">,</span>&nbsp;<span class="ident" id="6882135"><a href="/encoding/gob/gobencdec_test.go.html#6882072">want</a></span><span class="op" id="6882139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882142">}</span>&nbsp;<span class="keyword" id="6882144">else</span>&nbsp;<span class="keyword" id="6882149">if</span>&nbsp;<span class="op" id="6882152">*</span><span class="ident" id="6882153"><a href="/encoding/gob/gobencdec_test.go.html#6882067">got</a></span>&nbsp;<span class="op" id="6882157">!=</span>&nbsp;<span class="ident" id="6882160"><a href="/encoding/gob/gobencdec_test.go.html#6882072">want</a></span>&nbsp;<span class="op" id="6882165">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882169"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6882170">.</span><span class="ident" id="6882171">Errorf</span><span class="op" id="6882177">(</span><span class="string" id="6882178">&#34;bw&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6882196">,</span>&nbsp;<span class="op" id="6882198">*</span><span class="ident" id="6882199"><a href="/encoding/gob/gobencdec_test.go.html#6882067">got</a></span><span class="op" id="6882202">,</span>&nbsp;<span class="ident" id="6882204"><a href="/encoding/gob/gobencdec_test.go.html#6882072">want</a></span><span class="op" id="6882208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882215">if</span>&nbsp;<span class="ident" id="6882218">got</span><span class="op" id="6882221">,</span>&nbsp;<span class="ident" id="6882223">want</span>&nbsp;<span class="op" id="6882228">:=</span>&nbsp;<span class="ident" id="6882231"><a href="/encoding/gob/gobencdec_test.go.html#6881653">x</a></span><span class="op" id="6882232">.</span><span class="ident" id="6882233">TV</span><span class="op" id="6882235">,</span>&nbsp;<span class="ident" id="6882237"><a href="/encoding/gob/gobencdec_test.go.html#6881250">tv</a></span><span class="op" id="6882239">;</span>&nbsp;<span class="ident" id="6882241"><a href="/encoding/gob/gobencdec_test.go.html#6882218">got</a></span>&nbsp;<span class="op" id="6882245">!=</span>&nbsp;<span class="ident" id="6882248"><a href="/encoding/gob/gobencdec_test.go.html#6882223">want</a></span>&nbsp;<span class="op" id="6882253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882257"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6882258">.</span><span class="ident" id="6882259">Errorf</span><span class="op" id="6882265">(</span><span class="string" id="6882266">&#34;tv&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6882284">,</span>&nbsp;<span class="ident" id="6882286"><a href="/encoding/gob/gobencdec_test.go.html#6882218">got</a></span><span class="op" id="6882289">,</span>&nbsp;<span class="ident" id="6882291"><a href="/encoding/gob/gobencdec_test.go.html#6882223">want</a></span><span class="op" id="6882295">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882301">if</span>&nbsp;<span class="ident" id="6882304">got</span><span class="op" id="6882307">,</span>&nbsp;<span class="ident" id="6882309">want</span>&nbsp;<span class="op" id="6882314">:=</span>&nbsp;<span class="ident" id="6882317"><a href="/encoding/gob/gobencdec_test.go.html#6881653">x</a></span><span class="op" id="6882318">.</span><span class="ident" id="6882319">TW</span><span class="op" id="6882321">,</span>&nbsp;<span class="ident" id="6882323"><a href="/encoding/gob/gobencdec_test.go.html#6881302">tw</a></span><span class="op" id="6882325">;</span>&nbsp;<span class="ident" id="6882327"><a href="/encoding/gob/gobencdec_test.go.html#6882304">got</a></span>&nbsp;<span class="op" id="6882331">==</span>&nbsp;<span class="ident" id="6882334">nil</span>&nbsp;<span class="op" id="6882338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882342"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6882343">.</span><span class="ident" id="6882344">Errorf</span><span class="op" id="6882350">(</span><span class="string" id="6882351">&#34;tw&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6882370">,</span>&nbsp;<span class="ident" id="6882372"><a href="/encoding/gob/gobencdec_test.go.html#6882309">want</a></span><span class="op" id="6882376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882379">}</span>&nbsp;<span class="keyword" id="6882381">else</span>&nbsp;<span class="keyword" id="6882386">if</span>&nbsp;<span class="op" id="6882389">*</span><span class="ident" id="6882390"><a href="/encoding/gob/gobencdec_test.go.html#6882304">got</a></span>&nbsp;<span class="op" id="6882394">!=</span>&nbsp;<span class="ident" id="6882397"><a href="/encoding/gob/gobencdec_test.go.html#6882309">want</a></span>&nbsp;<span class="op" id="6882402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882406"><a href="/encoding/gob/gobencdec_test.go.html#6881090">t</a></span><span class="op" id="6882407">.</span><span class="ident" id="6882408">Errorf</span><span class="op" id="6882414">(</span><span class="string" id="6882415">&#34;tw&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6882433">,</span>&nbsp;<span class="op" id="6882435">*</span><span class="ident" id="6882436"><a href="/encoding/gob/gobencdec_test.go.html#6882304">got</a></span><span class="op" id="6882439">,</span>&nbsp;<span class="ident" id="6882441"><a href="/encoding/gob/gobencdec_test.go.html#6882309">want</a></span><span class="op" id="6882445">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882448">}</span><br>
<span class="lineno"></span><span class="op" id="6882450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6882453">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;a&nbsp;pointer&nbsp;then&nbsp;a&nbsp;value&nbsp;type&nbsp;of&nbsp;a&nbsp;GobEncoder</span><br>
<span class="lineno"></span><span class="comment" id="6882521">//&nbsp;in&nbsp;the&nbsp;same&nbsp;encoded&nbsp;value.</span><br>
<span class="lineno">490</span><span class="keyword" id="6882551">func</span>&nbsp;<span class="ident" id="6882556">TestGobEncoderPointerThenValue</span><span class="op" id="6882586">(</span><span class="ident" id="6882587">t</span>&nbsp;<span class="op" id="6882589">*</span><span class="ident" id="6882590"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6882597">.</span><span class="ident" id="6882598">T</span><span class="op" id="6882599">)</span>&nbsp;<span class="op" id="6882601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882604">v</span>&nbsp;<span class="op" id="6882606">:=</span>&nbsp;<span class="ident" id="6882609"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><span class="op" id="6882620">(</span><span class="string" id="6882621">&#34;forty-two&#34;</span><span class="op" id="6882632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882635">w</span>&nbsp;<span class="op" id="6882637">:=</span>&nbsp;<span class="ident" id="6882640"><a href="/encoding/gob/gobencdec_test.go.html#6871483">ValueGobber</a></span><span class="op" id="6882651">(</span><span class="string" id="6882652">&#34;six-by-nine&#34;</span><span class="op" id="6882665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882668">bv</span>&nbsp;<span class="op" id="6882671">:=</span>&nbsp;<span class="ident" id="6882674"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><span class="op" id="6882691">(</span><span class="string" id="6882692">&#34;1nanocentury&#34;</span><span class="op" id="6882706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882709">bw</span>&nbsp;<span class="op" id="6882712">:=</span>&nbsp;<span class="ident" id="6882715"><a href="/encoding/gob/gobencdec_test.go.html#6871580">BinaryValueGobber</a></span><span class="op" id="6882732">(</span><span class="string" id="6882733">&#34;seconds&#34;</span><span class="op" id="6882744">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882747">tv</span>&nbsp;<span class="op" id="6882750">:=</span>&nbsp;<span class="ident" id="6882753"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><span class="op" id="6882768">(</span><span class="string" id="6882769">&#34;gravitationalacceleration&#34;</span><span class="op" id="6882796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882799">tw</span>&nbsp;<span class="op" id="6882802">:=</span>&nbsp;<span class="ident" id="6882805"><a href="/encoding/gob/gobencdec_test.go.html#6871632">TextValueGobber</a></span><span class="op" id="6882820">(</span><span class="string" id="6882821">&#34;ft/s&#34;</span><span class="op" id="6882833">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882837">b</span>&nbsp;<span class="op" id="6882839">:=</span>&nbsp;<span class="builtinfunc" id="6882842">new</span><span class="op" id="6882845">(</span><span class="ident" id="6882846"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6882851">.</span><span class="ident" id="6882852">Buffer</span><span class="op" id="6882858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882861">enc</span>&nbsp;<span class="op" id="6882865">:=</span>&nbsp;<span class="ident" id="6882868"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6882878">(</span><span class="ident" id="6882879"><a href="/encoding/gob/gobencdec_test.go.html#6882837">b</a></span><span class="op" id="6882880">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882883">if</span>&nbsp;<span class="ident" id="6882886">err</span>&nbsp;<span class="op" id="6882890">:=</span>&nbsp;<span class="ident" id="6882893"><a href="/encoding/gob/gobencdec_test.go.html#6882861">enc</a></span><span class="op" id="6882896">.</span><span class="ident" id="6882897">Encode</span><span class="op" id="6882903">(</span><span class="ident" id="6882904"><a href="/encoding/gob/gobencdec_test.go.html#6875220">GobTest7</a></span><span class="op" id="6882912">{</span><span class="num" id="6882913">42</span><span class="op" id="6882915">,</span>&nbsp;<span class="op" id="6882917">&amp;</span><span class="ident" id="6882918"><a href="/encoding/gob/gobencdec_test.go.html#6882604">v</a></span><span class="op" id="6882919">,</span>&nbsp;<span class="ident" id="6882921"><a href="/encoding/gob/gobencdec_test.go.html#6882635">w</a></span><span class="op" id="6882922">,</span>&nbsp;<span class="op" id="6882924">&amp;</span><span class="ident" id="6882925"><a href="/encoding/gob/gobencdec_test.go.html#6882668">bv</a></span><span class="op" id="6882927">,</span>&nbsp;<span class="ident" id="6882929"><a href="/encoding/gob/gobencdec_test.go.html#6882709">bw</a></span><span class="op" id="6882931">,</span>&nbsp;<span class="op" id="6882933">&amp;</span><span class="ident" id="6882934"><a href="/encoding/gob/gobencdec_test.go.html#6882747">tv</a></span><span class="op" id="6882936">,</span>&nbsp;<span class="ident" id="6882938"><a href="/encoding/gob/gobencdec_test.go.html#6882799">tw</a></span><span class="op" id="6882940">}</span><span class="op" id="6882941">)</span><span class="op" id="6882942">;</span>&nbsp;<span class="ident" id="6882944"><a href="/encoding/gob/gobencdec_test.go.html#6882886">err</a></span>&nbsp;<span class="op" id="6882948">!=</span>&nbsp;<span class="ident" id="6882951">nil</span>&nbsp;<span class="op" id="6882955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882959"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6882960">.</span><span class="ident" id="6882961">Fatal</span><span class="op" id="6882966">(</span><span class="string" id="6882967">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6882982">,</span>&nbsp;<span class="ident" id="6882984"><a href="/encoding/gob/gobencdec_test.go.html#6882886">err</a></span><span class="op" id="6882987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882993">dec</span>&nbsp;<span class="op" id="6882997">:=</span>&nbsp;<span class="ident" id="6883000"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6883010">(</span><span class="ident" id="6883011"><a href="/encoding/gob/gobencdec_test.go.html#6882837">b</a></span><span class="op" id="6883012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883015">x</span>&nbsp;<span class="op" id="6883017">:=</span>&nbsp;<span class="builtinfunc" id="6883020">new</span><span class="op" id="6883023">(</span><span class="ident" id="6883024"><a href="/encoding/gob/gobencdec_test.go.html#6875220">GobTest7</a></span><span class="op" id="6883032">)</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883035">if</span>&nbsp;<span class="ident" id="6883038">err</span>&nbsp;<span class="op" id="6883042">:=</span>&nbsp;<span class="ident" id="6883045"><a href="/encoding/gob/gobencdec_test.go.html#6882993">dec</a></span><span class="op" id="6883048">.</span><span class="ident" id="6883049">Decode</span><span class="op" id="6883055">(</span><span class="ident" id="6883056"><a href="/encoding/gob/gobencdec_test.go.html#6883015">x</a></span><span class="op" id="6883057">)</span><span class="op" id="6883058">;</span>&nbsp;<span class="ident" id="6883060"><a href="/encoding/gob/gobencdec_test.go.html#6883038">err</a></span>&nbsp;<span class="op" id="6883064">!=</span>&nbsp;<span class="ident" id="6883067">nil</span>&nbsp;<span class="op" id="6883071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883075"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883076">.</span><span class="ident" id="6883077">Fatal</span><span class="op" id="6883082">(</span><span class="string" id="6883083">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6883098">,</span>&nbsp;<span class="ident" id="6883100"><a href="/encoding/gob/gobencdec_test.go.html#6883038">err</a></span><span class="op" id="6883103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883110">if</span>&nbsp;<span class="ident" id="6883113">got</span><span class="op" id="6883116">,</span>&nbsp;<span class="ident" id="6883118">want</span>&nbsp;<span class="op" id="6883123">:=</span>&nbsp;<span class="ident" id="6883126"><a href="/encoding/gob/gobencdec_test.go.html#6883015">x</a></span><span class="op" id="6883127">.</span><span class="ident" id="6883128">V</span><span class="op" id="6883129">,</span>&nbsp;<span class="ident" id="6883131"><a href="/encoding/gob/gobencdec_test.go.html#6882604">v</a></span><span class="op" id="6883132">;</span>&nbsp;<span class="ident" id="6883134"><a href="/encoding/gob/gobencdec_test.go.html#6883113">got</a></span>&nbsp;<span class="op" id="6883138">==</span>&nbsp;<span class="ident" id="6883141">nil</span>&nbsp;<span class="op" id="6883145">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883149"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883150">.</span><span class="ident" id="6883151">Errorf</span><span class="op" id="6883157">(</span><span class="string" id="6883158">&#34;v&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6883176">,</span>&nbsp;<span class="ident" id="6883178"><a href="/encoding/gob/gobencdec_test.go.html#6883118">want</a></span><span class="op" id="6883182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883185">}</span>&nbsp;<span class="keyword" id="6883187">else</span>&nbsp;<span class="keyword" id="6883192">if</span>&nbsp;<span class="op" id="6883195">*</span><span class="ident" id="6883196"><a href="/encoding/gob/gobencdec_test.go.html#6883113">got</a></span>&nbsp;<span class="op" id="6883200">!=</span>&nbsp;<span class="ident" id="6883203"><a href="/encoding/gob/gobencdec_test.go.html#6883118">want</a></span>&nbsp;<span class="op" id="6883208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883212"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883213">.</span><span class="ident" id="6883214">Errorf</span><span class="op" id="6883220">(</span><span class="string" id="6883221">&#34;v&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6883238">,</span>&nbsp;<span class="op" id="6883240">*</span><span class="ident" id="6883241"><a href="/encoding/gob/gobencdec_test.go.html#6883113">got</a></span><span class="op" id="6883244">,</span>&nbsp;<span class="ident" id="6883246"><a href="/encoding/gob/gobencdec_test.go.html#6883118">want</a></span><span class="op" id="6883250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883256">if</span>&nbsp;<span class="ident" id="6883259">got</span><span class="op" id="6883262">,</span>&nbsp;<span class="ident" id="6883264">want</span>&nbsp;<span class="op" id="6883269">:=</span>&nbsp;<span class="ident" id="6883272"><a href="/encoding/gob/gobencdec_test.go.html#6883015">x</a></span><span class="op" id="6883273">.</span><span class="ident" id="6883274">W</span><span class="op" id="6883275">,</span>&nbsp;<span class="ident" id="6883277"><a href="/encoding/gob/gobencdec_test.go.html#6882635">w</a></span><span class="op" id="6883278">;</span>&nbsp;<span class="ident" id="6883280"><a href="/encoding/gob/gobencdec_test.go.html#6883259">got</a></span>&nbsp;<span class="op" id="6883284">!=</span>&nbsp;<span class="ident" id="6883287"><a href="/encoding/gob/gobencdec_test.go.html#6883264">want</a></span>&nbsp;<span class="op" id="6883292">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883296"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883297">.</span><span class="ident" id="6883298">Errorf</span><span class="op" id="6883304">(</span><span class="string" id="6883305">&#34;w&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6883322">,</span>&nbsp;<span class="ident" id="6883324"><a href="/encoding/gob/gobencdec_test.go.html#6883259">got</a></span><span class="op" id="6883327">,</span>&nbsp;<span class="ident" id="6883329"><a href="/encoding/gob/gobencdec_test.go.html#6883264">want</a></span><span class="op" id="6883333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883340">if</span>&nbsp;<span class="ident" id="6883343">got</span><span class="op" id="6883346">,</span>&nbsp;<span class="ident" id="6883348">want</span>&nbsp;<span class="op" id="6883353">:=</span>&nbsp;<span class="ident" id="6883356"><a href="/encoding/gob/gobencdec_test.go.html#6883015">x</a></span><span class="op" id="6883357">.</span><span class="ident" id="6883358">BV</span><span class="op" id="6883360">,</span>&nbsp;<span class="ident" id="6883362"><a href="/encoding/gob/gobencdec_test.go.html#6882668">bv</a></span><span class="op" id="6883364">;</span>&nbsp;<span class="ident" id="6883366"><a href="/encoding/gob/gobencdec_test.go.html#6883343">got</a></span>&nbsp;<span class="op" id="6883370">==</span>&nbsp;<span class="ident" id="6883373">nil</span>&nbsp;<span class="op" id="6883377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883381"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883382">.</span><span class="ident" id="6883383">Errorf</span><span class="op" id="6883389">(</span><span class="string" id="6883390">&#34;bv&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6883409">,</span>&nbsp;<span class="ident" id="6883411"><a href="/encoding/gob/gobencdec_test.go.html#6883348">want</a></span><span class="op" id="6883415">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883418">}</span>&nbsp;<span class="keyword" id="6883420">else</span>&nbsp;<span class="keyword" id="6883425">if</span>&nbsp;<span class="op" id="6883428">*</span><span class="ident" id="6883429"><a href="/encoding/gob/gobencdec_test.go.html#6883343">got</a></span>&nbsp;<span class="op" id="6883433">!=</span>&nbsp;<span class="ident" id="6883436"><a href="/encoding/gob/gobencdec_test.go.html#6883348">want</a></span>&nbsp;<span class="op" id="6883441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883445"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883446">.</span><span class="ident" id="6883447">Errorf</span><span class="op" id="6883453">(</span><span class="string" id="6883454">&#34;bv&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6883472">,</span>&nbsp;<span class="op" id="6883474">*</span><span class="ident" id="6883475"><a href="/encoding/gob/gobencdec_test.go.html#6883343">got</a></span><span class="op" id="6883478">,</span>&nbsp;<span class="ident" id="6883480"><a href="/encoding/gob/gobencdec_test.go.html#6883348">want</a></span><span class="op" id="6883484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883490">if</span>&nbsp;<span class="ident" id="6883493">got</span><span class="op" id="6883496">,</span>&nbsp;<span class="ident" id="6883498">want</span>&nbsp;<span class="op" id="6883503">:=</span>&nbsp;<span class="ident" id="6883506"><a href="/encoding/gob/gobencdec_test.go.html#6883015">x</a></span><span class="op" id="6883507">.</span><span class="ident" id="6883508">BW</span><span class="op" id="6883510">,</span>&nbsp;<span class="ident" id="6883512"><a href="/encoding/gob/gobencdec_test.go.html#6882709">bw</a></span><span class="op" id="6883514">;</span>&nbsp;<span class="ident" id="6883516"><a href="/encoding/gob/gobencdec_test.go.html#6883493">got</a></span>&nbsp;<span class="op" id="6883520">!=</span>&nbsp;<span class="ident" id="6883523"><a href="/encoding/gob/gobencdec_test.go.html#6883498">want</a></span>&nbsp;<span class="op" id="6883528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883532"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883533">.</span><span class="ident" id="6883534">Errorf</span><span class="op" id="6883540">(</span><span class="string" id="6883541">&#34;bw&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6883559">,</span>&nbsp;<span class="ident" id="6883561"><a href="/encoding/gob/gobencdec_test.go.html#6883493">got</a></span><span class="op" id="6883564">,</span>&nbsp;<span class="ident" id="6883566"><a href="/encoding/gob/gobencdec_test.go.html#6883498">want</a></span><span class="op" id="6883570">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883577">if</span>&nbsp;<span class="ident" id="6883580">got</span><span class="op" id="6883583">,</span>&nbsp;<span class="ident" id="6883585">want</span>&nbsp;<span class="op" id="6883590">:=</span>&nbsp;<span class="ident" id="6883593"><a href="/encoding/gob/gobencdec_test.go.html#6883015">x</a></span><span class="op" id="6883594">.</span><span class="ident" id="6883595">TV</span><span class="op" id="6883597">,</span>&nbsp;<span class="ident" id="6883599"><a href="/encoding/gob/gobencdec_test.go.html#6882747">tv</a></span><span class="op" id="6883601">;</span>&nbsp;<span class="ident" id="6883603"><a href="/encoding/gob/gobencdec_test.go.html#6883580">got</a></span>&nbsp;<span class="op" id="6883607">==</span>&nbsp;<span class="ident" id="6883610">nil</span>&nbsp;<span class="op" id="6883614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883618"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883619">.</span><span class="ident" id="6883620">Errorf</span><span class="op" id="6883626">(</span><span class="string" id="6883627">&#34;tv&nbsp;=&nbsp;nil,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6883646">,</span>&nbsp;<span class="ident" id="6883648"><a href="/encoding/gob/gobencdec_test.go.html#6883585">want</a></span><span class="op" id="6883652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883655">}</span>&nbsp;<span class="keyword" id="6883657">else</span>&nbsp;<span class="keyword" id="6883662">if</span>&nbsp;<span class="op" id="6883665">*</span><span class="ident" id="6883666"><a href="/encoding/gob/gobencdec_test.go.html#6883580">got</a></span>&nbsp;<span class="op" id="6883670">!=</span>&nbsp;<span class="ident" id="6883673"><a href="/encoding/gob/gobencdec_test.go.html#6883585">want</a></span>&nbsp;<span class="op" id="6883678">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883682"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883683">.</span><span class="ident" id="6883684">Errorf</span><span class="op" id="6883690">(</span><span class="string" id="6883691">&#34;tv&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6883709">,</span>&nbsp;<span class="op" id="6883711">*</span><span class="ident" id="6883712"><a href="/encoding/gob/gobencdec_test.go.html#6883580">got</a></span><span class="op" id="6883715">,</span>&nbsp;<span class="ident" id="6883717"><a href="/encoding/gob/gobencdec_test.go.html#6883585">want</a></span><span class="op" id="6883721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883727">if</span>&nbsp;<span class="ident" id="6883730">got</span><span class="op" id="6883733">,</span>&nbsp;<span class="ident" id="6883735">want</span>&nbsp;<span class="op" id="6883740">:=</span>&nbsp;<span class="ident" id="6883743"><a href="/encoding/gob/gobencdec_test.go.html#6883015">x</a></span><span class="op" id="6883744">.</span><span class="ident" id="6883745">TW</span><span class="op" id="6883747">,</span>&nbsp;<span class="ident" id="6883749"><a href="/encoding/gob/gobencdec_test.go.html#6882799">tw</a></span><span class="op" id="6883751">;</span>&nbsp;<span class="ident" id="6883753"><a href="/encoding/gob/gobencdec_test.go.html#6883730">got</a></span>&nbsp;<span class="op" id="6883757">!=</span>&nbsp;<span class="ident" id="6883760"><a href="/encoding/gob/gobencdec_test.go.html#6883735">want</a></span>&nbsp;<span class="op" id="6883765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883769"><a href="/encoding/gob/gobencdec_test.go.html#6882587">t</a></span><span class="op" id="6883770">.</span><span class="ident" id="6883771">Errorf</span><span class="op" id="6883777">(</span><span class="string" id="6883778">&#34;tw&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6883796">,</span>&nbsp;<span class="ident" id="6883798"><a href="/encoding/gob/gobencdec_test.go.html#6883730">got</a></span><span class="op" id="6883801">,</span>&nbsp;<span class="ident" id="6883803"><a href="/encoding/gob/gobencdec_test.go.html#6883735">want</a></span><span class="op" id="6883807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883810">}</span><br>
<span class="lineno">535</span><span class="op" id="6883812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6883815">func</span>&nbsp;<span class="ident" id="6883820">TestGobEncoderFieldTypeError</span><span class="op" id="6883848">(</span><span class="ident" id="6883849">t</span>&nbsp;<span class="op" id="6883851">*</span><span class="ident" id="6883852"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6883859">.</span><span class="ident" id="6883860">T</span><span class="op" id="6883861">)</span>&nbsp;<span class="op" id="6883863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6883866">//&nbsp;GobEncoder&nbsp;to&nbsp;non-decoder:&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883903">b</span>&nbsp;<span class="op" id="6883905">:=</span>&nbsp;<span class="builtinfunc" id="6883908">new</span><span class="op" id="6883911">(</span><span class="ident" id="6883912"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6883917">.</span><span class="ident" id="6883918">Buffer</span><span class="op" id="6883924">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883927">enc</span>&nbsp;<span class="op" id="6883931">:=</span>&nbsp;<span class="ident" id="6883934"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6883944">(</span><span class="ident" id="6883945"><a href="/encoding/gob/gobencdec_test.go.html#6883903">b</a></span><span class="op" id="6883946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883949">err</span>&nbsp;<span class="op" id="6883953">:=</span>&nbsp;<span class="ident" id="6883956"><a href="/encoding/gob/gobencdec_test.go.html#6883927">enc</a></span><span class="op" id="6883959">.</span><span class="ident" id="6883960">Encode</span><span class="op" id="6883966">(</span><span class="ident" id="6883967"><a href="/encoding/gob/gobencdec_test.go.html#6874328">GobTest1</a></span><span class="op" id="6883975">{</span><span class="num" id="6883976">17</span><span class="op" id="6883978">,</span>&nbsp;<span class="op" id="6883980">&amp;</span><span class="ident" id="6883981"><a href="/encoding/gob/gobencdec_test.go.html#6871333">StringStruct</a></span><span class="op" id="6883993">{</span><span class="string" id="6883994">&#34;ABC&#34;</span><span class="op" id="6883999">}</span><span class="op" id="6884000">}</span><span class="op" id="6884001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884004">if</span>&nbsp;<span class="ident" id="6884007"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span>&nbsp;<span class="op" id="6884011">!=</span>&nbsp;<span class="ident" id="6884014">nil</span>&nbsp;<span class="op" id="6884018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884022"><a href="/encoding/gob/gobencdec_test.go.html#6883849">t</a></span><span class="op" id="6884023">.</span><span class="ident" id="6884024">Fatal</span><span class="op" id="6884029">(</span><span class="string" id="6884030">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6884045">,</span>&nbsp;<span class="ident" id="6884047"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span><span class="op" id="6884050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884053">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884056">dec</span>&nbsp;<span class="op" id="6884060">:=</span>&nbsp;<span class="ident" id="6884063"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6884073">(</span><span class="ident" id="6884074"><a href="/encoding/gob/gobencdec_test.go.html#6883903">b</a></span><span class="op" id="6884075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884078">x</span>&nbsp;<span class="op" id="6884080">:=</span>&nbsp;<span class="op" id="6884083">&amp;</span><span class="ident" id="6884084"><a href="/encoding/gob/gobencdec_test.go.html#6874434">GobTest2</a></span><span class="op" id="6884092">{</span><span class="op" id="6884093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884096"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span>&nbsp;<span class="op" id="6884100">=</span>&nbsp;<span class="ident" id="6884102"><a href="/encoding/gob/gobencdec_test.go.html#6884056">dec</a></span><span class="op" id="6884105">.</span><span class="ident" id="6884106">Decode</span><span class="op" id="6884112">(</span><span class="ident" id="6884113"><a href="/encoding/gob/gobencdec_test.go.html#6884078">x</a></span><span class="op" id="6884114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884117">if</span>&nbsp;<span class="ident" id="6884120"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span>&nbsp;<span class="op" id="6884124">==</span>&nbsp;<span class="ident" id="6884127">nil</span>&nbsp;<span class="op" id="6884131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884135"><a href="/encoding/gob/gobencdec_test.go.html#6883849">t</a></span><span class="op" id="6884136">.</span><span class="ident" id="6884137">Fatal</span><span class="op" id="6884142">(</span><span class="string" id="6884143">&#34;expected&nbsp;decode&nbsp;error&nbsp;for&nbsp;mismatched&nbsp;fields&nbsp;(encoder&nbsp;to&nbsp;non-decoder)&#34;</span><span class="op" id="6884213">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884219">if</span>&nbsp;<span class="ident" id="6884222"><a href="/encoding/gob/gobencdec_test.go.html#6871175">strings</a></span><span class="op" id="6884229">.</span><span class="ident" id="6884230">Index</span><span class="op" id="6884235">(</span><span class="ident" id="6884236"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span><span class="op" id="6884239">.</span><span class="ident" id="6884240">Error</span><span class="op" id="6884245">(</span><span class="op" id="6884246">)</span><span class="op" id="6884247">,</span>&nbsp;<span class="string" id="6884249">&#34;type&#34;</span><span class="op" id="6884255">)</span>&nbsp;<span class="op" id="6884257">&lt;</span>&nbsp;<span class="num" id="6884259">0</span>&nbsp;<span class="op" id="6884261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884265"><a href="/encoding/gob/gobencdec_test.go.html#6883849">t</a></span><span class="op" id="6884266">.</span><span class="ident" id="6884267">Fatal</span><span class="op" id="6884272">(</span><span class="string" id="6884273">&#34;expected&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="6884299">,</span>&nbsp;<span class="ident" id="6884301"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span><span class="op" id="6884304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6884310">//&nbsp;Non-encoder&nbsp;to&nbsp;GobDecoder:&nbsp;error</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884347"><a href="/encoding/gob/gobencdec_test.go.html#6883903">b</a></span><span class="op" id="6884348">.</span><span class="ident" id="6884349">Reset</span><span class="op" id="6884354">(</span><span class="op" id="6884355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884358"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span>&nbsp;<span class="op" id="6884362">=</span>&nbsp;<span class="ident" id="6884364"><a href="/encoding/gob/gobencdec_test.go.html#6883927">enc</a></span><span class="op" id="6884367">.</span><span class="ident" id="6884368">Encode</span><span class="op" id="6884374">(</span><span class="ident" id="6884375"><a href="/encoding/gob/gobencdec_test.go.html#6874434">GobTest2</a></span><span class="op" id="6884383">{</span><span class="num" id="6884384">17</span><span class="op" id="6884386">,</span>&nbsp;<span class="string" id="6884388">&#34;ABC&#34;</span><span class="op" id="6884393">}</span><span class="op" id="6884394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884397">if</span>&nbsp;<span class="ident" id="6884400"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span>&nbsp;<span class="op" id="6884404">!=</span>&nbsp;<span class="ident" id="6884407">nil</span>&nbsp;<span class="op" id="6884411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884415"><a href="/encoding/gob/gobencdec_test.go.html#6883849">t</a></span><span class="op" id="6884416">.</span><span class="ident" id="6884417">Fatal</span><span class="op" id="6884422">(</span><span class="string" id="6884423">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6884438">,</span>&nbsp;<span class="ident" id="6884440"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span><span class="op" id="6884443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884446">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884449">y</span>&nbsp;<span class="op" id="6884451">:=</span>&nbsp;<span class="op" id="6884454">&amp;</span><span class="ident" id="6884455"><a href="/encoding/gob/gobencdec_test.go.html#6874328">GobTest1</a></span><span class="op" id="6884463">{</span><span class="op" id="6884464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884467"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span>&nbsp;<span class="op" id="6884471">=</span>&nbsp;<span class="ident" id="6884473"><a href="/encoding/gob/gobencdec_test.go.html#6884056">dec</a></span><span class="op" id="6884476">.</span><span class="ident" id="6884477">Decode</span><span class="op" id="6884483">(</span><span class="ident" id="6884484"><a href="/encoding/gob/gobencdec_test.go.html#6884449">y</a></span><span class="op" id="6884485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884488">if</span>&nbsp;<span class="ident" id="6884491"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span>&nbsp;<span class="op" id="6884495">==</span>&nbsp;<span class="ident" id="6884498">nil</span>&nbsp;<span class="op" id="6884502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884506"><a href="/encoding/gob/gobencdec_test.go.html#6883849">t</a></span><span class="op" id="6884507">.</span><span class="ident" id="6884508">Fatal</span><span class="op" id="6884513">(</span><span class="string" id="6884514">&#34;expected&nbsp;decode&nbsp;error&nbsp;for&nbsp;mismatched&nbsp;fields&nbsp;(non-encoder&nbsp;to&nbsp;decoder)&#34;</span><span class="op" id="6884584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884587">}</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884590">if</span>&nbsp;<span class="ident" id="6884593"><a href="/encoding/gob/gobencdec_test.go.html#6871175">strings</a></span><span class="op" id="6884600">.</span><span class="ident" id="6884601">Index</span><span class="op" id="6884606">(</span><span class="ident" id="6884607"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span><span class="op" id="6884610">.</span><span class="ident" id="6884611">Error</span><span class="op" id="6884616">(</span><span class="op" id="6884617">)</span><span class="op" id="6884618">,</span>&nbsp;<span class="string" id="6884620">&#34;type&#34;</span><span class="op" id="6884626">)</span>&nbsp;<span class="op" id="6884628">&lt;</span>&nbsp;<span class="num" id="6884630">0</span>&nbsp;<span class="op" id="6884632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884636"><a href="/encoding/gob/gobencdec_test.go.html#6883849">t</a></span><span class="op" id="6884637">.</span><span class="ident" id="6884638">Fatal</span><span class="op" id="6884643">(</span><span class="string" id="6884644">&#34;expected&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="6884670">,</span>&nbsp;<span class="ident" id="6884672"><a href="/encoding/gob/gobencdec_test.go.html#6883949">err</a></span><span class="op" id="6884675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884678">}</span><br>
<span class="lineno"></span><span class="op" id="6884680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="comment" id="6884683">//&nbsp;Even&nbsp;though&nbsp;ByteStruct&nbsp;is&nbsp;a&nbsp;struct,&nbsp;it&#39;s&nbsp;treated&nbsp;as&nbsp;a&nbsp;singleton&nbsp;at&nbsp;the&nbsp;top&nbsp;level.</span><br>
<span class="lineno"></span><span class="keyword" id="6884768">func</span>&nbsp;<span class="ident" id="6884773">TestGobEncoderStructSingleton</span><span class="op" id="6884802">(</span><span class="ident" id="6884803">t</span>&nbsp;<span class="op" id="6884805">*</span><span class="ident" id="6884806"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6884813">.</span><span class="ident" id="6884814">T</span><span class="op" id="6884815">)</span>&nbsp;<span class="op" id="6884817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884820">b</span>&nbsp;<span class="op" id="6884822">:=</span>&nbsp;<span class="builtinfunc" id="6884825">new</span><span class="op" id="6884828">(</span><span class="ident" id="6884829"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6884834">.</span><span class="ident" id="6884835">Buffer</span><span class="op" id="6884841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884844">enc</span>&nbsp;<span class="op" id="6884848">:=</span>&nbsp;<span class="ident" id="6884851"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6884861">(</span><span class="ident" id="6884862"><a href="/encoding/gob/gobencdec_test.go.html#6884820">b</a></span><span class="op" id="6884863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884866">err</span>&nbsp;<span class="op" id="6884870">:=</span>&nbsp;<span class="ident" id="6884873"><a href="/encoding/gob/gobencdec_test.go.html#6884844">enc</a></span><span class="op" id="6884876">.</span><span class="ident" id="6884877">Encode</span><span class="op" id="6884883">(</span><span class="op" id="6884884">&amp;</span><span class="ident" id="6884885"><a href="/encoding/gob/gobencdec_test.go.html#6871272">ByteStruct</a></span><span class="op" id="6884895">{</span><span class="string" id="6884896">&#39;A&#39;</span><span class="op" id="6884899">}</span><span class="op" id="6884900">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884903">if</span>&nbsp;<span class="ident" id="6884906"><a href="/encoding/gob/gobencdec_test.go.html#6884866">err</a></span>&nbsp;<span class="op" id="6884910">!=</span>&nbsp;<span class="ident" id="6884913">nil</span>&nbsp;<span class="op" id="6884917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884921"><a href="/encoding/gob/gobencdec_test.go.html#6884803">t</a></span><span class="op" id="6884922">.</span><span class="ident" id="6884923">Fatal</span><span class="op" id="6884928">(</span><span class="string" id="6884929">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6884944">,</span>&nbsp;<span class="ident" id="6884946"><a href="/encoding/gob/gobencdec_test.go.html#6884866">err</a></span><span class="op" id="6884949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884955">dec</span>&nbsp;<span class="op" id="6884959">:=</span>&nbsp;<span class="ident" id="6884962"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6884972">(</span><span class="ident" id="6884973"><a href="/encoding/gob/gobencdec_test.go.html#6884820">b</a></span><span class="op" id="6884974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884977">x</span>&nbsp;<span class="op" id="6884979">:=</span>&nbsp;<span class="builtinfunc" id="6884982">new</span><span class="op" id="6884985">(</span><span class="ident" id="6884986"><a href="/encoding/gob/gobencdec_test.go.html#6871272">ByteStruct</a></span><span class="op" id="6884996">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884999"><a href="/encoding/gob/gobencdec_test.go.html#6884866">err</a></span>&nbsp;<span class="op" id="6885003">=</span>&nbsp;<span class="ident" id="6885005"><a href="/encoding/gob/gobencdec_test.go.html#6884955">dec</a></span><span class="op" id="6885008">.</span><span class="ident" id="6885009">Decode</span><span class="op" id="6885015">(</span><span class="ident" id="6885016"><a href="/encoding/gob/gobencdec_test.go.html#6884977">x</a></span><span class="op" id="6885017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885020">if</span>&nbsp;<span class="ident" id="6885023"><a href="/encoding/gob/gobencdec_test.go.html#6884866">err</a></span>&nbsp;<span class="op" id="6885027">!=</span>&nbsp;<span class="ident" id="6885030">nil</span>&nbsp;<span class="op" id="6885034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885038"><a href="/encoding/gob/gobencdec_test.go.html#6884803">t</a></span><span class="op" id="6885039">.</span><span class="ident" id="6885040">Fatal</span><span class="op" id="6885045">(</span><span class="string" id="6885046">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6885061">,</span>&nbsp;<span class="ident" id="6885063"><a href="/encoding/gob/gobencdec_test.go.html#6884866">err</a></span><span class="op" id="6885066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885072">if</span>&nbsp;<span class="ident" id="6885075"><a href="/encoding/gob/gobencdec_test.go.html#6884977">x</a></span><span class="op" id="6885076">.</span><span class="ident" id="6885077">a</span>&nbsp;<span class="op" id="6885079">!=</span>&nbsp;<span class="string" id="6885082">&#39;A&#39;</span>&nbsp;<span class="op" id="6885086">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885090"><a href="/encoding/gob/gobencdec_test.go.html#6884803">t</a></span><span class="op" id="6885091">.</span><span class="ident" id="6885092">Errorf</span><span class="op" id="6885098">(</span><span class="string" id="6885099">&#34;expected&nbsp;&#39;A&#39;&nbsp;got&nbsp;%c&#34;</span><span class="op" id="6885120">,</span>&nbsp;<span class="ident" id="6885122"><a href="/encoding/gob/gobencdec_test.go.html#6884977">x</a></span><span class="op" id="6885123">.</span><span class="ident" id="6885124">a</span><span class="op" id="6885125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885128">}</span><br>
<span class="lineno"></span><span class="op" id="6885130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6885133">func</span>&nbsp;<span class="ident" id="6885138">TestGobEncoderNonStructSingleton</span><span class="op" id="6885170">(</span><span class="ident" id="6885171">t</span>&nbsp;<span class="op" id="6885173">*</span><span class="ident" id="6885174"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6885181">.</span><span class="ident" id="6885182">T</span><span class="op" id="6885183">)</span>&nbsp;<span class="op" id="6885185">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885188">b</span>&nbsp;<span class="op" id="6885190">:=</span>&nbsp;<span class="builtinfunc" id="6885193">new</span><span class="op" id="6885196">(</span><span class="ident" id="6885197"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6885202">.</span><span class="ident" id="6885203">Buffer</span><span class="op" id="6885209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885212">enc</span>&nbsp;<span class="op" id="6885216">:=</span>&nbsp;<span class="ident" id="6885219"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6885229">(</span><span class="ident" id="6885230"><a href="/encoding/gob/gobencdec_test.go.html#6885188">b</a></span><span class="op" id="6885231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885234">var</span>&nbsp;<span class="ident" id="6885238">g</span>&nbsp;<span class="ident" id="6885240"><a href="/encoding/gob/gobencdec_test.go.html#6871466">Gobber</a></span>&nbsp;<span class="op" id="6885247">=</span>&nbsp;<span class="num" id="6885249">1234</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885255">err</span>&nbsp;<span class="op" id="6885259">:=</span>&nbsp;<span class="ident" id="6885262"><a href="/encoding/gob/gobencdec_test.go.html#6885212">enc</a></span><span class="op" id="6885265">.</span><span class="ident" id="6885266">Encode</span><span class="op" id="6885272">(</span><span class="op" id="6885273">&amp;</span><span class="ident" id="6885274"><a href="/encoding/gob/gobencdec_test.go.html#6885238">g</a></span><span class="op" id="6885275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885278">if</span>&nbsp;<span class="ident" id="6885281"><a href="/encoding/gob/gobencdec_test.go.html#6885255">err</a></span>&nbsp;<span class="op" id="6885285">!=</span>&nbsp;<span class="ident" id="6885288">nil</span>&nbsp;<span class="op" id="6885292">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885296"><a href="/encoding/gob/gobencdec_test.go.html#6885171">t</a></span><span class="op" id="6885297">.</span><span class="ident" id="6885298">Fatal</span><span class="op" id="6885303">(</span><span class="string" id="6885304">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6885319">,</span>&nbsp;<span class="ident" id="6885321"><a href="/encoding/gob/gobencdec_test.go.html#6885255">err</a></span><span class="op" id="6885324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885330">dec</span>&nbsp;<span class="op" id="6885334">:=</span>&nbsp;<span class="ident" id="6885337"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6885347">(</span><span class="ident" id="6885348"><a href="/encoding/gob/gobencdec_test.go.html#6885188">b</a></span><span class="op" id="6885349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885352">var</span>&nbsp;<span class="ident" id="6885356">x</span>&nbsp;<span class="ident" id="6885358"><a href="/encoding/gob/gobencdec_test.go.html#6871466">Gobber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885366"><a href="/encoding/gob/gobencdec_test.go.html#6885255">err</a></span>&nbsp;<span class="op" id="6885370">=</span>&nbsp;<span class="ident" id="6885372"><a href="/encoding/gob/gobencdec_test.go.html#6885330">dec</a></span><span class="op" id="6885375">.</span><span class="ident" id="6885376">Decode</span><span class="op" id="6885382">(</span><span class="op" id="6885383">&amp;</span><span class="ident" id="6885384"><a href="/encoding/gob/gobencdec_test.go.html#6885356">x</a></span><span class="op" id="6885385">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885388">if</span>&nbsp;<span class="ident" id="6885391"><a href="/encoding/gob/gobencdec_test.go.html#6885255">err</a></span>&nbsp;<span class="op" id="6885395">!=</span>&nbsp;<span class="ident" id="6885398">nil</span>&nbsp;<span class="op" id="6885402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885406"><a href="/encoding/gob/gobencdec_test.go.html#6885171">t</a></span><span class="op" id="6885407">.</span><span class="ident" id="6885408">Fatal</span><span class="op" id="6885413">(</span><span class="string" id="6885414">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6885429">,</span>&nbsp;<span class="ident" id="6885431"><a href="/encoding/gob/gobencdec_test.go.html#6885255">err</a></span><span class="op" id="6885434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885440">if</span>&nbsp;<span class="ident" id="6885443"><a href="/encoding/gob/gobencdec_test.go.html#6885356">x</a></span>&nbsp;<span class="op" id="6885445">!=</span>&nbsp;<span class="num" id="6885448">1234</span>&nbsp;<span class="op" id="6885453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885457"><a href="/encoding/gob/gobencdec_test.go.html#6885171">t</a></span><span class="op" id="6885458">.</span><span class="ident" id="6885459">Errorf</span><span class="op" id="6885465">(</span><span class="string" id="6885466">&#34;expected&nbsp;1234&nbsp;got&nbsp;%d&#34;</span><span class="op" id="6885488">,</span>&nbsp;<span class="ident" id="6885490"><a href="/encoding/gob/gobencdec_test.go.html#6885356">x</a></span><span class="op" id="6885491">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885494">}</span><br>
<span class="lineno"></span><span class="op" id="6885496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6885499">func</span>&nbsp;<span class="ident" id="6885504">TestGobEncoderIgnoreStructField</span><span class="op" id="6885535">(</span><span class="ident" id="6885536">t</span>&nbsp;<span class="op" id="6885538">*</span><span class="ident" id="6885539"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6885546">.</span><span class="ident" id="6885547">T</span><span class="op" id="6885548">)</span>&nbsp;<span class="op" id="6885550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885553">b</span>&nbsp;<span class="op" id="6885555">:=</span>&nbsp;<span class="builtinfunc" id="6885558">new</span><span class="op" id="6885561">(</span><span class="ident" id="6885562"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6885567">.</span><span class="ident" id="6885568">Buffer</span><span class="op" id="6885574">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6885577">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885615">enc</span>&nbsp;<span class="op" id="6885619">:=</span>&nbsp;<span class="ident" id="6885622"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6885632">(</span><span class="ident" id="6885633"><a href="/encoding/gob/gobencdec_test.go.html#6885553">b</a></span><span class="op" id="6885634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885637">err</span>&nbsp;<span class="op" id="6885641">:=</span>&nbsp;<span class="ident" id="6885644"><a href="/encoding/gob/gobencdec_test.go.html#6885615">enc</a></span><span class="op" id="6885647">.</span><span class="ident" id="6885648">Encode</span><span class="op" id="6885654">(</span><span class="ident" id="6885655"><a href="/encoding/gob/gobencdec_test.go.html#6874224">GobTest0</a></span><span class="op" id="6885663">{</span><span class="num" id="6885664">17</span><span class="op" id="6885666">,</span>&nbsp;<span class="op" id="6885668">&amp;</span><span class="ident" id="6885669"><a href="/encoding/gob/gobencdec_test.go.html#6871272">ByteStruct</a></span><span class="op" id="6885679">{</span><span class="string" id="6885680">&#39;A&#39;</span><span class="op" id="6885683">}</span><span class="op" id="6885684">}</span><span class="op" id="6885685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885688">if</span>&nbsp;<span class="ident" id="6885691"><a href="/encoding/gob/gobencdec_test.go.html#6885637">err</a></span>&nbsp;<span class="op" id="6885695">!=</span>&nbsp;<span class="ident" id="6885698">nil</span>&nbsp;<span class="op" id="6885702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885706"><a href="/encoding/gob/gobencdec_test.go.html#6885536">t</a></span><span class="op" id="6885707">.</span><span class="ident" id="6885708">Fatal</span><span class="op" id="6885713">(</span><span class="string" id="6885714">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6885729">,</span>&nbsp;<span class="ident" id="6885731"><a href="/encoding/gob/gobencdec_test.go.html#6885637">err</a></span><span class="op" id="6885734">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885740">dec</span>&nbsp;<span class="op" id="6885744">:=</span>&nbsp;<span class="ident" id="6885747"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6885757">(</span><span class="ident" id="6885758"><a href="/encoding/gob/gobencdec_test.go.html#6885553">b</a></span><span class="op" id="6885759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885762">x</span>&nbsp;<span class="op" id="6885764">:=</span>&nbsp;<span class="builtinfunc" id="6885767">new</span><span class="op" id="6885770">(</span><span class="ident" id="6885771"><a href="/encoding/gob/gobencdec_test.go.html#6875429">GobTestIgnoreEncoder</a></span><span class="op" id="6885791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885794"><a href="/encoding/gob/gobencdec_test.go.html#6885637">err</a></span>&nbsp;<span class="op" id="6885798">=</span>&nbsp;<span class="ident" id="6885800"><a href="/encoding/gob/gobencdec_test.go.html#6885740">dec</a></span><span class="op" id="6885803">.</span><span class="ident" id="6885804">Decode</span><span class="op" id="6885810">(</span><span class="ident" id="6885811"><a href="/encoding/gob/gobencdec_test.go.html#6885762">x</a></span><span class="op" id="6885812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885815">if</span>&nbsp;<span class="ident" id="6885818"><a href="/encoding/gob/gobencdec_test.go.html#6885637">err</a></span>&nbsp;<span class="op" id="6885822">!=</span>&nbsp;<span class="ident" id="6885825">nil</span>&nbsp;<span class="op" id="6885829">{</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885833"><a href="/encoding/gob/gobencdec_test.go.html#6885536">t</a></span><span class="op" id="6885834">.</span><span class="ident" id="6885835">Fatal</span><span class="op" id="6885840">(</span><span class="string" id="6885841">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6885856">,</span>&nbsp;<span class="ident" id="6885858"><a href="/encoding/gob/gobencdec_test.go.html#6885637">err</a></span><span class="op" id="6885861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885867">if</span>&nbsp;<span class="ident" id="6885870"><a href="/encoding/gob/gobencdec_test.go.html#6885762">x</a></span><span class="op" id="6885871">.</span><span class="ident" id="6885872">X</span>&nbsp;<span class="op" id="6885874">!=</span>&nbsp;<span class="num" id="6885877">17</span>&nbsp;<span class="op" id="6885880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885884"><a href="/encoding/gob/gobencdec_test.go.html#6885536">t</a></span><span class="op" id="6885885">.</span><span class="ident" id="6885886">Errorf</span><span class="op" id="6885892">(</span><span class="string" id="6885893">&#34;expected&nbsp;17&nbsp;got&nbsp;%c&#34;</span><span class="op" id="6885913">,</span>&nbsp;<span class="ident" id="6885915"><a href="/encoding/gob/gobencdec_test.go.html#6885762">x</a></span><span class="op" id="6885916">.</span><span class="ident" id="6885917">X</span><span class="op" id="6885918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885921">}</span><br>
<span class="lineno">625</span><span class="op" id="6885923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6885926">func</span>&nbsp;<span class="ident" id="6885931">TestGobEncoderIgnoreNonStructField</span><span class="op" id="6885965">(</span><span class="ident" id="6885966">t</span>&nbsp;<span class="op" id="6885968">*</span><span class="ident" id="6885969"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6885976">.</span><span class="ident" id="6885977">T</span><span class="op" id="6885978">)</span>&nbsp;<span class="op" id="6885980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885983">b</span>&nbsp;<span class="op" id="6885985">:=</span>&nbsp;<span class="builtinfunc" id="6885988">new</span><span class="op" id="6885991">(</span><span class="ident" id="6885992"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6885997">.</span><span class="ident" id="6885998">Buffer</span><span class="op" id="6886004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6886007">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886045">enc</span>&nbsp;<span class="op" id="6886049">:=</span>&nbsp;<span class="ident" id="6886052"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6886062">(</span><span class="ident" id="6886063"><a href="/encoding/gob/gobencdec_test.go.html#6885983">b</a></span><span class="op" id="6886064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886067">gobber</span>&nbsp;<span class="op" id="6886074">:=</span>&nbsp;<span class="ident" id="6886077"><a href="/encoding/gob/gobencdec_test.go.html#6871466">Gobber</a></span><span class="op" id="6886083">(</span><span class="num" id="6886084">23</span><span class="op" id="6886086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886089">bgobber</span>&nbsp;<span class="op" id="6886097">:=</span>&nbsp;<span class="ident" id="6886100"><a href="/encoding/gob/gobencdec_test.go.html#6871557">BinaryGobber</a></span><span class="op" id="6886112">(</span><span class="num" id="6886113">24</span><span class="op" id="6886115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886118">tgobber</span>&nbsp;<span class="op" id="6886126">:=</span>&nbsp;<span class="ident" id="6886129"><a href="/encoding/gob/gobencdec_test.go.html#6871611">TextGobber</a></span><span class="op" id="6886139">(</span><span class="num" id="6886140">25</span><span class="op" id="6886142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886145">err</span>&nbsp;<span class="op" id="6886149">:=</span>&nbsp;<span class="ident" id="6886152"><a href="/encoding/gob/gobencdec_test.go.html#6886045">enc</a></span><span class="op" id="6886155">.</span><span class="ident" id="6886156">Encode</span><span class="op" id="6886162">(</span><span class="ident" id="6886163"><a href="/encoding/gob/gobencdec_test.go.html#6874580">GobTest3</a></span><span class="op" id="6886171">{</span><span class="num" id="6886172">17</span><span class="op" id="6886174">,</span>&nbsp;<span class="op" id="6886176">&amp;</span><span class="ident" id="6886177"><a href="/encoding/gob/gobencdec_test.go.html#6886067">gobber</a></span><span class="op" id="6886183">,</span>&nbsp;<span class="op" id="6886185">&amp;</span><span class="ident" id="6886186"><a href="/encoding/gob/gobencdec_test.go.html#6886089">bgobber</a></span><span class="op" id="6886193">,</span>&nbsp;<span class="op" id="6886195">&amp;</span><span class="ident" id="6886196"><a href="/encoding/gob/gobencdec_test.go.html#6886118">tgobber</a></span><span class="op" id="6886203">}</span><span class="op" id="6886204">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886207">if</span>&nbsp;<span class="ident" id="6886210"><a href="/encoding/gob/gobencdec_test.go.html#6886145">err</a></span>&nbsp;<span class="op" id="6886214">!=</span>&nbsp;<span class="ident" id="6886217">nil</span>&nbsp;<span class="op" id="6886221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886225"><a href="/encoding/gob/gobencdec_test.go.html#6885966">t</a></span><span class="op" id="6886226">.</span><span class="ident" id="6886227">Fatal</span><span class="op" id="6886232">(</span><span class="string" id="6886233">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6886248">,</span>&nbsp;<span class="ident" id="6886250"><a href="/encoding/gob/gobencdec_test.go.html#6886145">err</a></span><span class="op" id="6886253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886259">dec</span>&nbsp;<span class="op" id="6886263">:=</span>&nbsp;<span class="ident" id="6886266"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6886276">(</span><span class="ident" id="6886277"><a href="/encoding/gob/gobencdec_test.go.html#6885983">b</a></span><span class="op" id="6886278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886281">x</span>&nbsp;<span class="op" id="6886283">:=</span>&nbsp;<span class="builtinfunc" id="6886286">new</span><span class="op" id="6886289">(</span><span class="ident" id="6886290"><a href="/encoding/gob/gobencdec_test.go.html#6875429">GobTestIgnoreEncoder</a></span><span class="op" id="6886310">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886313"><a href="/encoding/gob/gobencdec_test.go.html#6886145">err</a></span>&nbsp;<span class="op" id="6886317">=</span>&nbsp;<span class="ident" id="6886319"><a href="/encoding/gob/gobencdec_test.go.html#6886259">dec</a></span><span class="op" id="6886322">.</span><span class="ident" id="6886323">Decode</span><span class="op" id="6886329">(</span><span class="ident" id="6886330"><a href="/encoding/gob/gobencdec_test.go.html#6886281">x</a></span><span class="op" id="6886331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886334">if</span>&nbsp;<span class="ident" id="6886337"><a href="/encoding/gob/gobencdec_test.go.html#6886145">err</a></span>&nbsp;<span class="op" id="6886341">!=</span>&nbsp;<span class="ident" id="6886344">nil</span>&nbsp;<span class="op" id="6886348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886352"><a href="/encoding/gob/gobencdec_test.go.html#6885966">t</a></span><span class="op" id="6886353">.</span><span class="ident" id="6886354">Fatal</span><span class="op" id="6886359">(</span><span class="string" id="6886360">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6886375">,</span>&nbsp;<span class="ident" id="6886377"><a href="/encoding/gob/gobencdec_test.go.html#6886145">err</a></span><span class="op" id="6886380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886386">if</span>&nbsp;<span class="ident" id="6886389"><a href="/encoding/gob/gobencdec_test.go.html#6886281">x</a></span><span class="op" id="6886390">.</span><span class="ident" id="6886391">X</span>&nbsp;<span class="op" id="6886393">!=</span>&nbsp;<span class="num" id="6886396">17</span>&nbsp;<span class="op" id="6886399">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886403"><a href="/encoding/gob/gobencdec_test.go.html#6885966">t</a></span><span class="op" id="6886404">.</span><span class="ident" id="6886405">Errorf</span><span class="op" id="6886411">(</span><span class="string" id="6886412">&#34;expected&nbsp;17&nbsp;got&nbsp;%c&#34;</span><span class="op" id="6886432">,</span>&nbsp;<span class="ident" id="6886434"><a href="/encoding/gob/gobencdec_test.go.html#6886281">x</a></span><span class="op" id="6886435">.</span><span class="ident" id="6886436">X</span><span class="op" id="6886437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886440">}</span><br>
<span class="lineno"></span><span class="op" id="6886442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6886445">func</span>&nbsp;<span class="ident" id="6886450">TestGobEncoderIgnoreNilEncoder</span><span class="op" id="6886480">(</span><span class="ident" id="6886481">t</span>&nbsp;<span class="op" id="6886483">*</span><span class="ident" id="6886484"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6886491">.</span><span class="ident" id="6886492">T</span><span class="op" id="6886493">)</span>&nbsp;<span class="op" id="6886495">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886498">b</span>&nbsp;<span class="op" id="6886500">:=</span>&nbsp;<span class="builtinfunc" id="6886503">new</span><span class="op" id="6886506">(</span><span class="ident" id="6886507"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6886512">.</span><span class="ident" id="6886513">Buffer</span><span class="op" id="6886519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6886522">//&nbsp;First&nbsp;a&nbsp;field&nbsp;that&#39;s&nbsp;a&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886560">enc</span>&nbsp;<span class="op" id="6886564">:=</span>&nbsp;<span class="ident" id="6886567"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6886577">(</span><span class="ident" id="6886578"><a href="/encoding/gob/gobencdec_test.go.html#6886498">b</a></span><span class="op" id="6886579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886582">err</span>&nbsp;<span class="op" id="6886586">:=</span>&nbsp;<span class="ident" id="6886589"><a href="/encoding/gob/gobencdec_test.go.html#6886560">enc</a></span><span class="op" id="6886592">.</span><span class="ident" id="6886593">Encode</span><span class="op" id="6886599">(</span><span class="ident" id="6886600"><a href="/encoding/gob/gobencdec_test.go.html#6874224">GobTest0</a></span><span class="op" id="6886608">{</span><span class="ident" id="6886609">X</span><span class="op" id="6886610">:</span>&nbsp;<span class="num" id="6886612">18</span><span class="op" id="6886614">}</span><span class="op" id="6886615">)</span>&nbsp;<span class="comment" id="6886617">//&nbsp;G&nbsp;is&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886630">if</span>&nbsp;<span class="ident" id="6886633"><a href="/encoding/gob/gobencdec_test.go.html#6886582">err</a></span>&nbsp;<span class="op" id="6886637">!=</span>&nbsp;<span class="ident" id="6886640">nil</span>&nbsp;<span class="op" id="6886644">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886648"><a href="/encoding/gob/gobencdec_test.go.html#6886481">t</a></span><span class="op" id="6886649">.</span><span class="ident" id="6886650">Fatal</span><span class="op" id="6886655">(</span><span class="string" id="6886656">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6886671">,</span>&nbsp;<span class="ident" id="6886673"><a href="/encoding/gob/gobencdec_test.go.html#6886582">err</a></span><span class="op" id="6886676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886682">dec</span>&nbsp;<span class="op" id="6886686">:=</span>&nbsp;<span class="ident" id="6886689"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6886699">(</span><span class="ident" id="6886700"><a href="/encoding/gob/gobencdec_test.go.html#6886498">b</a></span><span class="op" id="6886701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886704">x</span>&nbsp;<span class="op" id="6886706">:=</span>&nbsp;<span class="builtinfunc" id="6886709">new</span><span class="op" id="6886712">(</span><span class="ident" id="6886713"><a href="/encoding/gob/gobencdec_test.go.html#6874224">GobTest0</a></span><span class="op" id="6886721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886724"><a href="/encoding/gob/gobencdec_test.go.html#6886582">err</a></span>&nbsp;<span class="op" id="6886728">=</span>&nbsp;<span class="ident" id="6886730"><a href="/encoding/gob/gobencdec_test.go.html#6886682">dec</a></span><span class="op" id="6886733">.</span><span class="ident" id="6886734">Decode</span><span class="op" id="6886740">(</span><span class="ident" id="6886741"><a href="/encoding/gob/gobencdec_test.go.html#6886704">x</a></span><span class="op" id="6886742">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886745">if</span>&nbsp;<span class="ident" id="6886748"><a href="/encoding/gob/gobencdec_test.go.html#6886582">err</a></span>&nbsp;<span class="op" id="6886752">!=</span>&nbsp;<span class="ident" id="6886755">nil</span>&nbsp;<span class="op" id="6886759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886763"><a href="/encoding/gob/gobencdec_test.go.html#6886481">t</a></span><span class="op" id="6886764">.</span><span class="ident" id="6886765">Fatal</span><span class="op" id="6886770">(</span><span class="string" id="6886771">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6886786">,</span>&nbsp;<span class="ident" id="6886788"><a href="/encoding/gob/gobencdec_test.go.html#6886582">err</a></span><span class="op" id="6886791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886797">if</span>&nbsp;<span class="ident" id="6886800"><a href="/encoding/gob/gobencdec_test.go.html#6886704">x</a></span><span class="op" id="6886801">.</span><span class="ident" id="6886802">X</span>&nbsp;<span class="op" id="6886804">!=</span>&nbsp;<span class="num" id="6886807">18</span>&nbsp;<span class="op" id="6886810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886814"><a href="/encoding/gob/gobencdec_test.go.html#6886481">t</a></span><span class="op" id="6886815">.</span><span class="ident" id="6886816">Errorf</span><span class="op" id="6886822">(</span><span class="string" id="6886823">&#34;expected&nbsp;x.X&nbsp;=&nbsp;18,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6886850">,</span>&nbsp;<span class="ident" id="6886852"><a href="/encoding/gob/gobencdec_test.go.html#6886704">x</a></span><span class="op" id="6886853">.</span><span class="ident" id="6886854">X</span><span class="op" id="6886855">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886861">if</span>&nbsp;<span class="ident" id="6886864"><a href="/encoding/gob/gobencdec_test.go.html#6886704">x</a></span><span class="op" id="6886865">.</span><span class="ident" id="6886866">G</span>&nbsp;<span class="op" id="6886868">!=</span>&nbsp;<span class="ident" id="6886871">nil</span>&nbsp;<span class="op" id="6886875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886879"><a href="/encoding/gob/gobencdec_test.go.html#6886481">t</a></span><span class="op" id="6886880">.</span><span class="ident" id="6886881">Errorf</span><span class="op" id="6886887">(</span><span class="string" id="6886888">&#34;expected&nbsp;x.G&nbsp;=&nbsp;nil,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6886916">,</span>&nbsp;<span class="ident" id="6886918"><a href="/encoding/gob/gobencdec_test.go.html#6886704">x</a></span><span class="op" id="6886919">.</span><span class="ident" id="6886920">G</span><span class="op" id="6886921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886924">}</span><br>
<span class="lineno"></span><span class="op" id="6886926">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="6886929">type</span>&nbsp;<span class="ident" id="6886934">gobDecoderBug0</span>&nbsp;<span class="keyword" id="6886949">struct</span>&nbsp;<span class="op" id="6886956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886959">foo</span><span class="op" id="6886962">,</span>&nbsp;<span class="ident" id="6886964">bar</span>&nbsp;<span class="builtintype" id="6886968">string</span><br>
<span class="lineno"></span><span class="op" id="6886975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span><span class="keyword" id="6886978">func</span>&nbsp;<span class="op" id="6886983">(</span><span class="ident" id="6886984">br</span>&nbsp;<span class="op" id="6886987">*</span><span class="ident" id="6886988"><a href="/encoding/gob/gobencdec_test.go.html#6886934">gobDecoderBug0</a></span><span class="op" id="6887002">)</span>&nbsp;<span class="ident" id="6887004">String</span><span class="op" id="6887010">(</span><span class="op" id="6887011">)</span>&nbsp;<span class="builtintype" id="6887013">string</span>&nbsp;<span class="op" id="6887020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887023">return</span>&nbsp;<span class="ident" id="6887030"><a href="/encoding/gob/gobencdec_test.go.html#6886984">br</a></span><span class="op" id="6887032">.</span><span class="ident" id="6887033">foo</span>&nbsp;<span class="op" id="6887037">+</span>&nbsp;<span class="string" id="6887039">&#34;-&#34;</span>&nbsp;<span class="op" id="6887043">+</span>&nbsp;<span class="ident" id="6887045"><a href="/encoding/gob/gobencdec_test.go.html#6886984">br</a></span><span class="op" id="6887047">.</span><span class="ident" id="6887048">bar</span><br>
<span class="lineno"></span><span class="op" id="6887052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6887055">func</span>&nbsp;<span class="op" id="6887060">(</span><span class="ident" id="6887061">br</span>&nbsp;<span class="op" id="6887064">*</span><span class="ident" id="6887065"><a href="/encoding/gob/gobencdec_test.go.html#6886934">gobDecoderBug0</a></span><span class="op" id="6887079">)</span>&nbsp;<span class="ident" id="6887081">GobEncode</span><span class="op" id="6887090">(</span><span class="op" id="6887091">)</span>&nbsp;<span class="op" id="6887093">(</span><span class="op" id="6887094">[</span><span class="op" id="6887095">]</span><span class="builtintype" id="6887096">byte</span><span class="op" id="6887100">,</span>&nbsp;<span class="builtintype" id="6887102">error</span><span class="op" id="6887107">)</span>&nbsp;<span class="op" id="6887109">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887112">return</span>&nbsp;<span class="op" id="6887119">[</span><span class="op" id="6887120">]</span><span class="builtintype" id="6887121">byte</span><span class="op" id="6887125">(</span><span class="ident" id="6887126"><a href="/encoding/gob/gobencdec_test.go.html#6887061">br</a></span><span class="op" id="6887128">.</span><span class="ident" id="6887129">String</span><span class="op" id="6887135">(</span><span class="op" id="6887136">)</span><span class="op" id="6887137">)</span><span class="op" id="6887138">,</span>&nbsp;<span class="ident" id="6887140">nil</span><br>
<span class="lineno"></span><span class="op" id="6887144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6887147">func</span>&nbsp;<span class="op" id="6887152">(</span><span class="ident" id="6887153">br</span>&nbsp;<span class="op" id="6887156">*</span><span class="ident" id="6887157"><a href="/encoding/gob/gobencdec_test.go.html#6886934">gobDecoderBug0</a></span><span class="op" id="6887171">)</span>&nbsp;<span class="ident" id="6887173">GobDecode</span><span class="op" id="6887182">(</span><span class="ident" id="6887183">b</span>&nbsp;<span class="op" id="6887185">[</span><span class="op" id="6887186">]</span><span class="builtintype" id="6887187">byte</span><span class="op" id="6887191">)</span>&nbsp;<span class="builtintype" id="6887193">error</span>&nbsp;<span class="op" id="6887199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887202"><a href="/encoding/gob/gobencdec_test.go.html#6887153">br</a></span><span class="op" id="6887204">.</span><span class="ident" id="6887205">foo</span>&nbsp;<span class="op" id="6887209">=</span>&nbsp;<span class="string" id="6887211">&#34;foo&#34;</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887218"><a href="/encoding/gob/gobencdec_test.go.html#6887153">br</a></span><span class="op" id="6887220">.</span><span class="ident" id="6887221">bar</span>&nbsp;<span class="op" id="6887225">=</span>&nbsp;<span class="string" id="6887227">&#34;bar&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887234">return</span>&nbsp;<span class="ident" id="6887241">nil</span><br>
<span class="lineno"></span><span class="op" id="6887245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6887248">//&nbsp;This&nbsp;was&nbsp;a&nbsp;bug:&nbsp;the&nbsp;receiver&nbsp;has&nbsp;a&nbsp;different&nbsp;indirection&nbsp;level</span><br>
<span class="lineno">690</span><span class="comment" id="6887314">//&nbsp;than&nbsp;the&nbsp;variable.</span><br>
<span class="lineno"></span><span class="keyword" id="6887336">func</span>&nbsp;<span class="ident" id="6887341">TestGobEncoderExtraIndirect</span><span class="op" id="6887368">(</span><span class="ident" id="6887369">t</span>&nbsp;<span class="op" id="6887371">*</span><span class="ident" id="6887372"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6887379">.</span><span class="ident" id="6887380">T</span><span class="op" id="6887381">)</span>&nbsp;<span class="op" id="6887383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887386">gdb</span>&nbsp;<span class="op" id="6887390">:=</span>&nbsp;<span class="op" id="6887393">&amp;</span><span class="ident" id="6887394"><a href="/encoding/gob/gobencdec_test.go.html#6886934">gobDecoderBug0</a></span><span class="op" id="6887408">{</span><span class="string" id="6887409">&#34;foo&#34;</span><span class="op" id="6887414">,</span>&nbsp;<span class="string" id="6887416">&#34;bar&#34;</span><span class="op" id="6887421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887424">buf</span>&nbsp;<span class="op" id="6887428">:=</span>&nbsp;<span class="builtinfunc" id="6887431">new</span><span class="op" id="6887434">(</span><span class="ident" id="6887435"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6887440">.</span><span class="ident" id="6887441">Buffer</span><span class="op" id="6887447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887450">e</span>&nbsp;<span class="op" id="6887452">:=</span>&nbsp;<span class="ident" id="6887455"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6887465">(</span><span class="ident" id="6887466"><a href="/encoding/gob/gobencdec_test.go.html#6887424">buf</a></span><span class="op" id="6887469">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887472">if</span>&nbsp;<span class="ident" id="6887475">err</span>&nbsp;<span class="op" id="6887479">:=</span>&nbsp;<span class="ident" id="6887482"><a href="/encoding/gob/gobencdec_test.go.html#6887450">e</a></span><span class="op" id="6887483">.</span><span class="ident" id="6887484">Encode</span><span class="op" id="6887490">(</span><span class="ident" id="6887491"><a href="/encoding/gob/gobencdec_test.go.html#6887386">gdb</a></span><span class="op" id="6887494">)</span><span class="op" id="6887495">;</span>&nbsp;<span class="ident" id="6887497"><a href="/encoding/gob/gobencdec_test.go.html#6887475">err</a></span>&nbsp;<span class="op" id="6887501">!=</span>&nbsp;<span class="ident" id="6887504">nil</span>&nbsp;<span class="op" id="6887508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887512"><a href="/encoding/gob/gobencdec_test.go.html#6887369">t</a></span><span class="op" id="6887513">.</span><span class="ident" id="6887514">Fatalf</span><span class="op" id="6887520">(</span><span class="string" id="6887521">&#34;encode:&nbsp;%v&#34;</span><span class="op" id="6887533">,</span>&nbsp;<span class="ident" id="6887535"><a href="/encoding/gob/gobencdec_test.go.html#6887475">err</a></span><span class="op" id="6887538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887544">d</span>&nbsp;<span class="op" id="6887546">:=</span>&nbsp;<span class="ident" id="6887549"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6887559">(</span><span class="ident" id="6887560"><a href="/encoding/gob/gobencdec_test.go.html#6887424">buf</a></span><span class="op" id="6887563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887566">var</span>&nbsp;<span class="ident" id="6887570">got</span>&nbsp;<span class="op" id="6887574">*</span><span class="ident" id="6887575"><a href="/encoding/gob/gobencdec_test.go.html#6886934">gobDecoderBug0</a></span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887591">if</span>&nbsp;<span class="ident" id="6887594">err</span>&nbsp;<span class="op" id="6887598">:=</span>&nbsp;<span class="ident" id="6887601"><a href="/encoding/gob/gobencdec_test.go.html#6887544">d</a></span><span class="op" id="6887602">.</span><span class="ident" id="6887603">Decode</span><span class="op" id="6887609">(</span><span class="op" id="6887610">&amp;</span><span class="ident" id="6887611"><a href="/encoding/gob/gobencdec_test.go.html#6887570">got</a></span><span class="op" id="6887614">)</span><span class="op" id="6887615">;</span>&nbsp;<span class="ident" id="6887617"><a href="/encoding/gob/gobencdec_test.go.html#6887594">err</a></span>&nbsp;<span class="op" id="6887621">!=</span>&nbsp;<span class="ident" id="6887624">nil</span>&nbsp;<span class="op" id="6887628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887632"><a href="/encoding/gob/gobencdec_test.go.html#6887369">t</a></span><span class="op" id="6887633">.</span><span class="ident" id="6887634">Fatalf</span><span class="op" id="6887640">(</span><span class="string" id="6887641">&#34;decode:&nbsp;%v&#34;</span><span class="op" id="6887653">,</span>&nbsp;<span class="ident" id="6887655"><a href="/encoding/gob/gobencdec_test.go.html#6887594">err</a></span><span class="op" id="6887658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887664">if</span>&nbsp;<span class="ident" id="6887667"><a href="/encoding/gob/gobencdec_test.go.html#6887570">got</a></span><span class="op" id="6887670">.</span><span class="ident" id="6887671">foo</span>&nbsp;<span class="op" id="6887675">!=</span>&nbsp;<span class="ident" id="6887678"><a href="/encoding/gob/gobencdec_test.go.html#6887386">gdb</a></span><span class="op" id="6887681">.</span><span class="ident" id="6887682">foo</span>&nbsp;<span class="op" id="6887686">||</span>&nbsp;<span class="ident" id="6887689"><a href="/encoding/gob/gobencdec_test.go.html#6887570">got</a></span><span class="op" id="6887692">.</span><span class="ident" id="6887693">bar</span>&nbsp;<span class="op" id="6887697">!=</span>&nbsp;<span class="ident" id="6887700"><a href="/encoding/gob/gobencdec_test.go.html#6887386">gdb</a></span><span class="op" id="6887703">.</span><span class="ident" id="6887704">bar</span>&nbsp;<span class="op" id="6887708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887712"><a href="/encoding/gob/gobencdec_test.go.html#6887369">t</a></span><span class="op" id="6887713">.</span><span class="ident" id="6887714">Errorf</span><span class="op" id="6887720">(</span><span class="string" id="6887721">&#34;got&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6887740">,</span>&nbsp;<span class="ident" id="6887742"><a href="/encoding/gob/gobencdec_test.go.html#6887570">got</a></span><span class="op" id="6887745">,</span>&nbsp;<span class="ident" id="6887747"><a href="/encoding/gob/gobencdec_test.go.html#6887386">gdb</a></span><span class="op" id="6887750">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887753">}</span><br>
<span class="lineno"></span><span class="op" id="6887755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6887758">//&nbsp;Another&nbsp;bug:&nbsp;this&nbsp;caused&nbsp;a&nbsp;crash&nbsp;with&nbsp;the&nbsp;new&nbsp;Go1&nbsp;Time&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="6887822">//&nbsp;We&nbsp;throw&nbsp;in&nbsp;a&nbsp;gob-encoding&nbsp;array,&nbsp;to&nbsp;test&nbsp;another&nbsp;case&nbsp;of&nbsp;isZero,</span><br>
<span class="lineno">710</span><span class="comment" id="6887891">//&nbsp;and&nbsp;a&nbsp;struct&nbsp;containing&nbsp;an&nbsp;nil&nbsp;interface,&nbsp;to&nbsp;test&nbsp;a&nbsp;third.</span><br>
<span class="lineno"></span><span class="keyword" id="6887953">type</span>&nbsp;<span class="ident" id="6887958">isZeroBug</span>&nbsp;<span class="keyword" id="6887968">struct</span>&nbsp;<span class="op" id="6887975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887978">T</span>&nbsp;<span class="ident" id="6887980"><a href="/encoding/gob/gobencdec_test.go.html#6871197">time</a></span><span class="op" id="6887984">.</span><span class="ident" id="6887985">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887991">S</span>&nbsp;<span class="builtintype" id="6887993">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888001">I</span>&nbsp;<span class="builtintype" id="6888003">int</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888008">A</span>&nbsp;<span class="ident" id="6888010"><a href="/encoding/gob/gobencdec_test.go.html#6888055">isZeroBugArray</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888026">F</span>&nbsp;<span class="ident" id="6888028"><a href="/encoding/gob/gobencdec_test.go.html#6888393">isZeroBugInterface</a></span><br>
<span class="lineno"></span><span class="op" id="6888047">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6888050">type</span>&nbsp;<span class="ident" id="6888055">isZeroBugArray</span>&nbsp;<span class="op" id="6888070">[</span><span class="num" id="6888071">2</span><span class="op" id="6888072">]</span><span class="builtintype" id="6888073">uint8</span><br>
<span class="lineno">720</span><br>
<span class="lineno"></span><span class="comment" id="6888080">//&nbsp;Receiver&nbsp;is&nbsp;value,&nbsp;not&nbsp;pointer,&nbsp;to&nbsp;test&nbsp;isZero&nbsp;of&nbsp;array.</span><br>
<span class="lineno"></span><span class="keyword" id="6888140">func</span>&nbsp;<span class="op" id="6888145">(</span><span class="ident" id="6888146">a</span>&nbsp;<span class="ident" id="6888148"><a href="/encoding/gob/gobencdec_test.go.html#6888055">isZeroBugArray</a></span><span class="op" id="6888162">)</span>&nbsp;<span class="ident" id="6888164">GobEncode</span><span class="op" id="6888173">(</span><span class="op" id="6888174">)</span>&nbsp;<span class="op" id="6888176">(</span><span class="ident" id="6888177">b</span>&nbsp;<span class="op" id="6888179">[</span><span class="op" id="6888180">]</span><span class="builtintype" id="6888181">byte</span><span class="op" id="6888185">,</span>&nbsp;<span class="ident" id="6888187">e</span>&nbsp;<span class="builtintype" id="6888189">error</span><span class="op" id="6888194">)</span>&nbsp;<span class="op" id="6888196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888199"><a href="/encoding/gob/gobencdec_test.go.html#6888177">b</a></span>&nbsp;<span class="op" id="6888201">=</span>&nbsp;<span class="builtinfunc" id="6888203">append</span><span class="op" id="6888209">(</span><span class="ident" id="6888210"><a href="/encoding/gob/gobencdec_test.go.html#6888177">b</a></span><span class="op" id="6888211">,</span>&nbsp;<span class="ident" id="6888213"><a href="/encoding/gob/gobencdec_test.go.html#6888146">a</a></span><span class="op" id="6888214">[</span><span class="op" id="6888215">:</span><span class="op" id="6888216">]</span><span class="op" id="6888217">...</span><span class="op" id="6888220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888223">return</span>&nbsp;<span class="ident" id="6888230"><a href="/encoding/gob/gobencdec_test.go.html#6888177">b</a></span><span class="op" id="6888231">,</span>&nbsp;<span class="ident" id="6888233">nil</span><br>
<span class="lineno">725</span><span class="op" id="6888237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6888240">func</span>&nbsp;<span class="op" id="6888245">(</span><span class="ident" id="6888246">a</span>&nbsp;<span class="op" id="6888248">*</span><span class="ident" id="6888249"><a href="/encoding/gob/gobencdec_test.go.html#6888055">isZeroBugArray</a></span><span class="op" id="6888263">)</span>&nbsp;<span class="ident" id="6888265">GobDecode</span><span class="op" id="6888274">(</span><span class="ident" id="6888275">data</span>&nbsp;<span class="op" id="6888280">[</span><span class="op" id="6888281">]</span><span class="builtintype" id="6888282">byte</span><span class="op" id="6888286">)</span>&nbsp;<span class="builtintype" id="6888288">error</span>&nbsp;<span class="op" id="6888294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888297">if</span>&nbsp;<span class="builtinfunc" id="6888300">len</span><span class="op" id="6888303">(</span><span class="ident" id="6888304"><a href="/encoding/gob/gobencdec_test.go.html#6888275">data</a></span><span class="op" id="6888308">)</span>&nbsp;<span class="op" id="6888310">!=</span>&nbsp;<span class="builtinfunc" id="6888313">len</span><span class="op" id="6888316">(</span><span class="ident" id="6888317"><a href="/encoding/gob/gobencdec_test.go.html#6888246">a</a></span><span class="op" id="6888318">)</span>&nbsp;<span class="op" id="6888320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888324">return</span>&nbsp;<span class="ident" id="6888331"><a href="/encoding/gob/gobencdec_test.go.html#6871162">io</a></span><span class="op" id="6888333">.</span><span class="ident" id="6888334">EOF</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888342"><a href="/encoding/gob/gobencdec_test.go.html#6888246">a</a></span><span class="op" id="6888343">[</span><span class="num" id="6888344">0</span><span class="op" id="6888345">]</span>&nbsp;<span class="op" id="6888347">=</span>&nbsp;<span class="ident" id="6888349"><a href="/encoding/gob/gobencdec_test.go.html#6888275">data</a></span><span class="op" id="6888353">[</span><span class="num" id="6888354">0</span><span class="op" id="6888355">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888358"><a href="/encoding/gob/gobencdec_test.go.html#6888246">a</a></span><span class="op" id="6888359">[</span><span class="num" id="6888360">1</span><span class="op" id="6888361">]</span>&nbsp;<span class="op" id="6888363">=</span>&nbsp;<span class="ident" id="6888365"><a href="/encoding/gob/gobencdec_test.go.html#6888275">data</a></span><span class="op" id="6888369">[</span><span class="num" id="6888370">1</span><span class="op" id="6888371">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888374">return</span>&nbsp;<span class="ident" id="6888381">nil</span><br>
<span class="lineno"></span><span class="op" id="6888385">}</span><br>
<span class="lineno">735</span><br>
<span class="lineno"></span><span class="keyword" id="6888388">type</span>&nbsp;<span class="ident" id="6888393">isZeroBugInterface</span>&nbsp;<span class="keyword" id="6888412">struct</span>&nbsp;<span class="op" id="6888419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888422">I</span>&nbsp;<span class="keyword" id="6888424">interface</span><span class="op" id="6888433">{</span><span class="op" id="6888434">}</span><br>
<span class="lineno"></span><span class="op" id="6888436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">740</span><span class="keyword" id="6888439">func</span>&nbsp;<span class="op" id="6888444">(</span><span class="ident" id="6888445">i</span>&nbsp;<span class="ident" id="6888447"><a href="/encoding/gob/gobencdec_test.go.html#6888393">isZeroBugInterface</a></span><span class="op" id="6888465">)</span>&nbsp;<span class="ident" id="6888467">GobEncode</span><span class="op" id="6888476">(</span><span class="op" id="6888477">)</span>&nbsp;<span class="op" id="6888479">(</span><span class="ident" id="6888480">b</span>&nbsp;<span class="op" id="6888482">[</span><span class="op" id="6888483">]</span><span class="builtintype" id="6888484">byte</span><span class="op" id="6888488">,</span>&nbsp;<span class="ident" id="6888490">e</span>&nbsp;<span class="builtintype" id="6888492">error</span><span class="op" id="6888497">)</span>&nbsp;<span class="op" id="6888499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888502">return</span>&nbsp;<span class="op" id="6888509">[</span><span class="op" id="6888510">]</span><span class="builtintype" id="6888511">byte</span><span class="op" id="6888515">{</span><span class="op" id="6888516">}</span><span class="op" id="6888517">,</span>&nbsp;<span class="ident" id="6888519">nil</span><br>
<span class="lineno"></span><span class="op" id="6888523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6888526">func</span>&nbsp;<span class="op" id="6888531">(</span><span class="ident" id="6888532">i</span>&nbsp;<span class="op" id="6888534">*</span><span class="ident" id="6888535"><a href="/encoding/gob/gobencdec_test.go.html#6888393">isZeroBugInterface</a></span><span class="op" id="6888553">)</span>&nbsp;<span class="ident" id="6888555">GobDecode</span><span class="op" id="6888564">(</span><span class="ident" id="6888565">data</span>&nbsp;<span class="op" id="6888570">[</span><span class="op" id="6888571">]</span><span class="builtintype" id="6888572">byte</span><span class="op" id="6888576">)</span>&nbsp;<span class="builtintype" id="6888578">error</span>&nbsp;<span class="op" id="6888584">{</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888587">return</span>&nbsp;<span class="ident" id="6888594">nil</span><br>
<span class="lineno"></span><span class="op" id="6888598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6888601">func</span>&nbsp;<span class="ident" id="6888606">TestGobEncodeIsZero</span><span class="op" id="6888625">(</span><span class="ident" id="6888626">t</span>&nbsp;<span class="op" id="6888628">*</span><span class="ident" id="6888629"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6888636">.</span><span class="ident" id="6888637">T</span><span class="op" id="6888638">)</span>&nbsp;<span class="op" id="6888640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888643">x</span>&nbsp;<span class="op" id="6888645">:=</span>&nbsp;<span class="ident" id="6888648"><a href="/encoding/gob/gobencdec_test.go.html#6887958">isZeroBug</a></span><span class="op" id="6888657">{</span><span class="ident" id="6888658"><a href="/encoding/gob/gobencdec_test.go.html#6871197">time</a></span><span class="op" id="6888662">.</span><span class="ident" id="6888663">Now</span><span class="op" id="6888666">(</span><span class="op" id="6888667">)</span><span class="op" id="6888668">,</span>&nbsp;<span class="string" id="6888670">&#34;hello&#34;</span><span class="op" id="6888677">,</span>&nbsp;<span class="op" id="6888679">-</span><span class="num" id="6888680">55</span><span class="op" id="6888682">,</span>&nbsp;<span class="ident" id="6888684"><a href="/encoding/gob/gobencdec_test.go.html#6888055">isZeroBugArray</a></span><span class="op" id="6888698">{</span><span class="num" id="6888699">1</span><span class="op" id="6888700">,</span>&nbsp;<span class="num" id="6888702">2</span><span class="op" id="6888703">}</span><span class="op" id="6888704">,</span>&nbsp;<span class="ident" id="6888706"><a href="/encoding/gob/gobencdec_test.go.html#6888393">isZeroBugInterface</a></span><span class="op" id="6888724">{</span><span class="op" id="6888725">}</span><span class="op" id="6888726">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888729">b</span>&nbsp;<span class="op" id="6888731">:=</span>&nbsp;<span class="builtinfunc" id="6888734">new</span><span class="op" id="6888737">(</span><span class="ident" id="6888738"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6888743">.</span><span class="ident" id="6888744">Buffer</span><span class="op" id="6888750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888753">enc</span>&nbsp;<span class="op" id="6888757">:=</span>&nbsp;<span class="ident" id="6888760"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6888770">(</span><span class="ident" id="6888771"><a href="/encoding/gob/gobencdec_test.go.html#6888729">b</a></span><span class="op" id="6888772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888775">err</span>&nbsp;<span class="op" id="6888779">:=</span>&nbsp;<span class="ident" id="6888782"><a href="/encoding/gob/gobencdec_test.go.html#6888753">enc</a></span><span class="op" id="6888785">.</span><span class="ident" id="6888786">Encode</span><span class="op" id="6888792">(</span><span class="ident" id="6888793"><a href="/encoding/gob/gobencdec_test.go.html#6888643">x</a></span><span class="op" id="6888794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888797">if</span>&nbsp;<span class="ident" id="6888800"><a href="/encoding/gob/gobencdec_test.go.html#6888775">err</a></span>&nbsp;<span class="op" id="6888804">!=</span>&nbsp;<span class="ident" id="6888807">nil</span>&nbsp;<span class="op" id="6888811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888815"><a href="/encoding/gob/gobencdec_test.go.html#6888626">t</a></span><span class="op" id="6888816">.</span><span class="ident" id="6888817">Fatal</span><span class="op" id="6888822">(</span><span class="string" id="6888823">&#34;encode:&#34;</span><span class="op" id="6888832">,</span>&nbsp;<span class="ident" id="6888834"><a href="/encoding/gob/gobencdec_test.go.html#6888775">err</a></span><span class="op" id="6888837">)</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888843">var</span>&nbsp;<span class="ident" id="6888847">y</span>&nbsp;<span class="ident" id="6888849"><a href="/encoding/gob/gobencdec_test.go.html#6887958">isZeroBug</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888860">dec</span>&nbsp;<span class="op" id="6888864">:=</span>&nbsp;<span class="ident" id="6888867"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6888877">(</span><span class="ident" id="6888878"><a href="/encoding/gob/gobencdec_test.go.html#6888729">b</a></span><span class="op" id="6888879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888882"><a href="/encoding/gob/gobencdec_test.go.html#6888775">err</a></span>&nbsp;<span class="op" id="6888886">=</span>&nbsp;<span class="ident" id="6888888"><a href="/encoding/gob/gobencdec_test.go.html#6888860">dec</a></span><span class="op" id="6888891">.</span><span class="ident" id="6888892">Decode</span><span class="op" id="6888898">(</span><span class="op" id="6888899">&amp;</span><span class="ident" id="6888900"><a href="/encoding/gob/gobencdec_test.go.html#6888847">y</a></span><span class="op" id="6888901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888904">if</span>&nbsp;<span class="ident" id="6888907"><a href="/encoding/gob/gobencdec_test.go.html#6888775">err</a></span>&nbsp;<span class="op" id="6888911">!=</span>&nbsp;<span class="ident" id="6888914">nil</span>&nbsp;<span class="op" id="6888918">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888922"><a href="/encoding/gob/gobencdec_test.go.html#6888626">t</a></span><span class="op" id="6888923">.</span><span class="ident" id="6888924">Fatal</span><span class="op" id="6888929">(</span><span class="string" id="6888930">&#34;decode:&#34;</span><span class="op" id="6888939">,</span>&nbsp;<span class="ident" id="6888941"><a href="/encoding/gob/gobencdec_test.go.html#6888775">err</a></span><span class="op" id="6888944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888950">if</span>&nbsp;<span class="ident" id="6888953"><a href="/encoding/gob/gobencdec_test.go.html#6888643">x</a></span>&nbsp;<span class="op" id="6888955">!=</span>&nbsp;<span class="ident" id="6888958"><a href="/encoding/gob/gobencdec_test.go.html#6888847">y</a></span>&nbsp;<span class="op" id="6888960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888964"><a href="/encoding/gob/gobencdec_test.go.html#6888626">t</a></span><span class="op" id="6888965">.</span><span class="ident" id="6888966">Fatalf</span><span class="op" id="6888972">(</span><span class="string" id="6888973">&#34;%v&nbsp;!=&nbsp;%v&#34;</span><span class="op" id="6888983">,</span>&nbsp;<span class="ident" id="6888985"><a href="/encoding/gob/gobencdec_test.go.html#6888643">x</a></span><span class="op" id="6888986">,</span>&nbsp;<span class="ident" id="6888988"><a href="/encoding/gob/gobencdec_test.go.html#6888847">y</a></span><span class="op" id="6888989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888992">}</span><br>
<span class="lineno">765</span><span class="op" id="6888994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6888997">func</span>&nbsp;<span class="ident" id="6889002">TestGobEncodePtrError</span><span class="op" id="6889023">(</span><span class="ident" id="6889024">t</span>&nbsp;<span class="op" id="6889026">*</span><span class="ident" id="6889027"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6889034">.</span><span class="ident" id="6889035">T</span><span class="op" id="6889036">)</span>&nbsp;<span class="op" id="6889038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889041">var</span>&nbsp;<span class="ident" id="6889045">err</span>&nbsp;<span class="builtintype" id="6889049">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889056">b</span>&nbsp;<span class="op" id="6889058">:=</span>&nbsp;<span class="builtinfunc" id="6889061">new</span><span class="op" id="6889064">(</span><span class="ident" id="6889065"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6889070">.</span><span class="ident" id="6889071">Buffer</span><span class="op" id="6889077">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889080">enc</span>&nbsp;<span class="op" id="6889084">:=</span>&nbsp;<span class="ident" id="6889087"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6889097">(</span><span class="ident" id="6889098"><a href="/encoding/gob/gobencdec_test.go.html#6889056">b</a></span><span class="op" id="6889099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889102"><a href="/encoding/gob/gobencdec_test.go.html#6889045">err</a></span>&nbsp;<span class="op" id="6889106">=</span>&nbsp;<span class="ident" id="6889108"><a href="/encoding/gob/gobencdec_test.go.html#6889080">enc</a></span><span class="op" id="6889111">.</span><span class="ident" id="6889112">Encode</span><span class="op" id="6889118">(</span><span class="op" id="6889119">&amp;</span><span class="ident" id="6889120"><a href="/encoding/gob/gobencdec_test.go.html#6889045">err</a></span><span class="op" id="6889123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889126">if</span>&nbsp;<span class="ident" id="6889129"><a href="/encoding/gob/gobencdec_test.go.html#6889045">err</a></span>&nbsp;<span class="op" id="6889133">!=</span>&nbsp;<span class="ident" id="6889136">nil</span>&nbsp;<span class="op" id="6889140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889144"><a href="/encoding/gob/gobencdec_test.go.html#6889024">t</a></span><span class="op" id="6889145">.</span><span class="ident" id="6889146">Fatal</span><span class="op" id="6889151">(</span><span class="string" id="6889152">&#34;encode:&#34;</span><span class="op" id="6889161">,</span>&nbsp;<span class="ident" id="6889163"><a href="/encoding/gob/gobencdec_test.go.html#6889045">err</a></span><span class="op" id="6889166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889169">}</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889172">dec</span>&nbsp;<span class="op" id="6889176">:=</span>&nbsp;<span class="ident" id="6889179"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6889189">(</span><span class="ident" id="6889190"><a href="/encoding/gob/gobencdec_test.go.html#6889056">b</a></span><span class="op" id="6889191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889194">err2</span>&nbsp;<span class="op" id="6889199">:=</span>&nbsp;<span class="ident" id="6889202"><a href="/encoding/gob/gobencdec_test.go.html#6871155">fmt</a></span><span class="op" id="6889205">.</span><span class="ident" id="6889206">Errorf</span><span class="op" id="6889212">(</span><span class="string" id="6889213">&#34;foo&#34;</span><span class="op" id="6889218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889221"><a href="/encoding/gob/gobencdec_test.go.html#6889045">err</a></span>&nbsp;<span class="op" id="6889225">=</span>&nbsp;<span class="ident" id="6889227"><a href="/encoding/gob/gobencdec_test.go.html#6889172">dec</a></span><span class="op" id="6889230">.</span><span class="ident" id="6889231">Decode</span><span class="op" id="6889237">(</span><span class="op" id="6889238">&amp;</span><span class="ident" id="6889239"><a href="/encoding/gob/gobencdec_test.go.html#6889194">err2</a></span><span class="op" id="6889243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889246">if</span>&nbsp;<span class="ident" id="6889249"><a href="/encoding/gob/gobencdec_test.go.html#6889045">err</a></span>&nbsp;<span class="op" id="6889253">!=</span>&nbsp;<span class="ident" id="6889256">nil</span>&nbsp;<span class="op" id="6889260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889264"><a href="/encoding/gob/gobencdec_test.go.html#6889024">t</a></span><span class="op" id="6889265">.</span><span class="ident" id="6889266">Fatal</span><span class="op" id="6889271">(</span><span class="string" id="6889272">&#34;decode:&#34;</span><span class="op" id="6889281">,</span>&nbsp;<span class="ident" id="6889283"><a href="/encoding/gob/gobencdec_test.go.html#6889045">err</a></span><span class="op" id="6889286">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889292">if</span>&nbsp;<span class="ident" id="6889295"><a href="/encoding/gob/gobencdec_test.go.html#6889194">err2</a></span>&nbsp;<span class="op" id="6889300">!=</span>&nbsp;<span class="ident" id="6889303">nil</span>&nbsp;<span class="op" id="6889307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889311"><a href="/encoding/gob/gobencdec_test.go.html#6889024">t</a></span><span class="op" id="6889312">.</span><span class="ident" id="6889313">Fatalf</span><span class="op" id="6889319">(</span><span class="string" id="6889320">&#34;expected&nbsp;nil,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6889342">,</span>&nbsp;<span class="ident" id="6889344"><a href="/encoding/gob/gobencdec_test.go.html#6889194">err2</a></span><span class="op" id="6889348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889351">}</span><br>
<span class="lineno"></span><span class="op" id="6889353">}</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span><span class="keyword" id="6889356">func</span>&nbsp;<span class="ident" id="6889361">TestNetIP</span><span class="op" id="6889370">(</span><span class="ident" id="6889371">t</span>&nbsp;<span class="op" id="6889373">*</span><span class="ident" id="6889374"><a href="/encoding/gob/gobencdec_test.go.html#6871186">testing</a></span><span class="op" id="6889381">.</span><span class="ident" id="6889382">T</span><span class="op" id="6889383">)</span>&nbsp;<span class="op" id="6889385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6889388">//&nbsp;Encoding&nbsp;of&nbsp;net.IP{1,2,3,4}&nbsp;in&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889431">enc</span>&nbsp;<span class="op" id="6889435">:=</span>&nbsp;<span class="op" id="6889438">[</span><span class="op" id="6889439">]</span><span class="builtintype" id="6889440">byte</span><span class="op" id="6889444">{</span><span class="num" id="6889445">0x07</span><span class="op" id="6889449">,</span>&nbsp;<span class="num" id="6889451">0x0a</span><span class="op" id="6889455">,</span>&nbsp;<span class="num" id="6889457">0x00</span><span class="op" id="6889461">,</span>&nbsp;<span class="num" id="6889463">0x04</span><span class="op" id="6889467">,</span>&nbsp;<span class="num" id="6889469">0x01</span><span class="op" id="6889473">,</span>&nbsp;<span class="num" id="6889475">0x02</span><span class="op" id="6889479">,</span>&nbsp;<span class="num" id="6889481">0x03</span><span class="op" id="6889485">,</span>&nbsp;<span class="num" id="6889487">0x04</span><span class="op" id="6889491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889495">var</span>&nbsp;<span class="ident" id="6889499">ip</span>&nbsp;<span class="ident" id="6889502"><a href="/encoding/gob/gobencdec_test.go.html#6871168">net</a></span><span class="op" id="6889505">.</span><span class="ident" id="6889506">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889510">err</span>&nbsp;<span class="op" id="6889514">:=</span>&nbsp;<span class="ident" id="6889517"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6889527">(</span><span class="ident" id="6889528"><a href="/encoding/gob/gobencdec_test.go.html#6871136">bytes</a></span><span class="op" id="6889533">.</span><span class="ident" id="6889534">NewReader</span><span class="op" id="6889543">(</span><span class="ident" id="6889544"><a href="/encoding/gob/gobencdec_test.go.html#6889431">enc</a></span><span class="op" id="6889547">)</span><span class="op" id="6889548">)</span><span class="op" id="6889549">.</span><span class="ident" id="6889550">Decode</span><span class="op" id="6889556">(</span><span class="op" id="6889557">&amp;</span><span class="ident" id="6889558"><a href="/encoding/gob/gobencdec_test.go.html#6889499">ip</a></span><span class="op" id="6889560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889563">if</span>&nbsp;<span class="ident" id="6889566"><a href="/encoding/gob/gobencdec_test.go.html#6889510">err</a></span>&nbsp;<span class="op" id="6889570">!=</span>&nbsp;<span class="ident" id="6889573">nil</span>&nbsp;<span class="op" id="6889577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889581"><a href="/encoding/gob/gobencdec_test.go.html#6889371">t</a></span><span class="op" id="6889582">.</span><span class="ident" id="6889583">Fatalf</span><span class="op" id="6889589">(</span><span class="string" id="6889590">&#34;decode:&nbsp;%v&#34;</span><span class="op" id="6889602">,</span>&nbsp;<span class="ident" id="6889604"><a href="/encoding/gob/gobencdec_test.go.html#6889510">err</a></span><span class="op" id="6889607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889610">}</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889613">if</span>&nbsp;<span class="ident" id="6889616"><a href="/encoding/gob/gobencdec_test.go.html#6889499">ip</a></span><span class="op" id="6889618">.</span><span class="ident" id="6889619">String</span><span class="op" id="6889625">(</span><span class="op" id="6889626">)</span>&nbsp;<span class="op" id="6889628">!=</span>&nbsp;<span class="string" id="6889631">&#34;1.2.3.4&#34;</span>&nbsp;<span class="op" id="6889641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889645"><a href="/encoding/gob/gobencdec_test.go.html#6889371">t</a></span><span class="op" id="6889646">.</span><span class="ident" id="6889647">Errorf</span><span class="op" id="6889653">(</span><span class="string" id="6889654">&#34;decoded&nbsp;to&nbsp;%v,&nbsp;want&nbsp;1.2.3.4&#34;</span><span class="op" id="6889683">,</span>&nbsp;<span class="ident" id="6889685"><a href="/encoding/gob/gobencdec_test.go.html#6889499">ip</a></span><span class="op" id="6889687">.</span><span class="ident" id="6889688">String</span><span class="op" id="6889694">(</span><span class="op" id="6889695">)</span><span class="op" id="6889696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889699">}</span><br>
<span class="lineno"></span><span class="op" id="6889701">}</span>
</div>
</body>
</html>
