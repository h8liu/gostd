<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2488294">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2488349">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2488403">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2488454">//&nbsp;Deep&nbsp;equality&nbsp;test&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2488492">package</span>&nbsp;<span class="ident" id="2488500">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2488509">//&nbsp;During&nbsp;deepValueEqual,&nbsp;must&nbsp;keep&nbsp;track&nbsp;of&nbsp;checks&nbsp;that&nbsp;are</span><br>
<span class="lineno">10</span><span class="comment" id="2488570">//&nbsp;in&nbsp;progress.&nbsp;&nbsp;The&nbsp;comparison&nbsp;algorithm&nbsp;assumes&nbsp;that&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2488629">//&nbsp;checks&nbsp;in&nbsp;progress&nbsp;are&nbsp;true&nbsp;when&nbsp;it&nbsp;reencounters&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="2488687">//&nbsp;Visited&nbsp;comparisons&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;map&nbsp;indexed&nbsp;by&nbsp;visit.</span><br>
<span class="lineno"></span><span class="keyword" id="2488748">type</span>&nbsp;<span class="ident" id="2488753">visit</span>&nbsp;<span class="keyword" id="2488759">struct</span>&nbsp;<span class="op" id="2488766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488769">a1</span>&nbsp;&nbsp;<span class="builtintype" id="2488773">uintptr</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488782">a2</span>&nbsp;&nbsp;<span class="builtintype" id="2488786">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488795">typ</span>&nbsp;<span class="ident" id="2488799">Type</span><br>
<span class="lineno"></span><span class="op" id="2488804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2488807">//&nbsp;Tests&nbsp;for&nbsp;deep&nbsp;equality&nbsp;using&nbsp;reflected&nbsp;types.&nbsp;The&nbsp;map&nbsp;argument&nbsp;tracks</span><br>
<span class="lineno">20</span><span class="comment" id="2488881">//&nbsp;comparisons&nbsp;that&nbsp;have&nbsp;already&nbsp;been&nbsp;seen,&nbsp;which&nbsp;allows&nbsp;short&nbsp;circuiting&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="2488958">//&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="2488978">func</span>&nbsp;<span class="ident" id="2488983">deepValueEqual</span><span class="op" id="2488997">(</span><span class="ident" id="2488998">v1</span><span class="op" id="2489000">,</span>&nbsp;<span class="ident" id="2489002">v2</span>&nbsp;<span class="ident" id="2489005">Value</span><span class="op" id="2489010">,</span>&nbsp;<span class="ident" id="2489012">visited</span>&nbsp;<span class="keyword" id="2489020">map</span><span class="op" id="2489023">[</span><span class="ident" id="2489024">visit</span><span class="op" id="2489029">]</span><span class="builtintype" id="2489030">bool</span><span class="op" id="2489034">,</span>&nbsp;<span class="ident" id="2489036">depth</span>&nbsp;<span class="builtintype" id="2489042">int</span><span class="op" id="2489045">)</span>&nbsp;<span class="builtintype" id="2489047">bool</span>&nbsp;<span class="op" id="2489052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489055">if</span>&nbsp;<span class="op" id="2489058">!</span><span class="ident" id="2489059">v1</span><span class="op" id="2489061">.</span><span class="ident" id="2489062">IsValid</span><span class="op" id="2489069">(</span><span class="op" id="2489070">)</span>&nbsp;<span class="op" id="2489072">||</span>&nbsp;<span class="op" id="2489075">!</span><span class="ident" id="2489076">v2</span><span class="op" id="2489078">.</span><span class="ident" id="2489079">IsValid</span><span class="op" id="2489086">(</span><span class="op" id="2489087">)</span>&nbsp;<span class="op" id="2489089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489093">return</span>&nbsp;<span class="ident" id="2489100">v1</span><span class="op" id="2489102">.</span><span class="ident" id="2489103">IsValid</span><span class="op" id="2489110">(</span><span class="op" id="2489111">)</span>&nbsp;<span class="op" id="2489113">==</span>&nbsp;<span class="ident" id="2489116">v2</span><span class="op" id="2489118">.</span><span class="ident" id="2489119">IsValid</span><span class="op" id="2489126">(</span><span class="op" id="2489127">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489133">if</span>&nbsp;<span class="ident" id="2489136">v1</span><span class="op" id="2489138">.</span><span class="ident" id="2489139">Type</span><span class="op" id="2489143">(</span><span class="op" id="2489144">)</span>&nbsp;<span class="op" id="2489146">!=</span>&nbsp;<span class="ident" id="2489149">v2</span><span class="op" id="2489151">.</span><span class="ident" id="2489152">Type</span><span class="op" id="2489156">(</span><span class="op" id="2489157">)</span>&nbsp;<span class="op" id="2489159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489163">return</span>&nbsp;<span class="builtintype" id="2489170">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2489181">//&nbsp;if&nbsp;depth&nbsp;&gt;&nbsp;10&nbsp;{&nbsp;panic(&#34;deepValueEqual&#34;)&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;for&nbsp;debugging</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489244">hard</span>&nbsp;<span class="op" id="2489249">:=</span>&nbsp;<span class="keyword" id="2489252">func</span><span class="op" id="2489256">(</span><span class="ident" id="2489257">k</span>&nbsp;<span class="ident" id="2489259">Kind</span><span class="op" id="2489263">)</span>&nbsp;<span class="builtintype" id="2489265">bool</span>&nbsp;<span class="op" id="2489270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489274">switch</span>&nbsp;<span class="ident" id="2489281">k</span>&nbsp;<span class="op" id="2489283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489287">case</span>&nbsp;<span class="ident" id="2489292">Array</span><span class="op" id="2489297">,</span>&nbsp;<span class="ident" id="2489299">Map</span><span class="op" id="2489302">,</span>&nbsp;<span class="ident" id="2489304">Slice</span><span class="op" id="2489309">,</span>&nbsp;<span class="ident" id="2489311">Struct</span><span class="op" id="2489317">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489322">return</span>&nbsp;<span class="builtintype" id="2489329">true</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489340">return</span>&nbsp;<span class="builtintype" id="2489347">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489358">if</span>&nbsp;<span class="ident" id="2489361">v1</span><span class="op" id="2489363">.</span><span class="ident" id="2489364">CanAddr</span><span class="op" id="2489371">(</span><span class="op" id="2489372">)</span>&nbsp;<span class="op" id="2489374">&amp;&amp;</span>&nbsp;<span class="ident" id="2489377">v2</span><span class="op" id="2489379">.</span><span class="ident" id="2489380">CanAddr</span><span class="op" id="2489387">(</span><span class="op" id="2489388">)</span>&nbsp;<span class="op" id="2489390">&amp;&amp;</span>&nbsp;<span class="ident" id="2489393">hard</span><span class="op" id="2489397">(</span><span class="ident" id="2489398">v1</span><span class="op" id="2489400">.</span><span class="ident" id="2489401">Kind</span><span class="op" id="2489405">(</span><span class="op" id="2489406">)</span><span class="op" id="2489407">)</span>&nbsp;<span class="op" id="2489409">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489413">addr1</span>&nbsp;<span class="op" id="2489419">:=</span>&nbsp;<span class="ident" id="2489422">v1</span><span class="op" id="2489424">.</span><span class="ident" id="2489425">UnsafeAddr</span><span class="op" id="2489435">(</span><span class="op" id="2489436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489440">addr2</span>&nbsp;<span class="op" id="2489446">:=</span>&nbsp;<span class="ident" id="2489449">v2</span><span class="op" id="2489451">.</span><span class="ident" id="2489452">UnsafeAddr</span><span class="op" id="2489462">(</span><span class="op" id="2489463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489467">if</span>&nbsp;<span class="ident" id="2489470">addr1</span>&nbsp;<span class="op" id="2489476">&gt;</span>&nbsp;<span class="ident" id="2489478">addr2</span>&nbsp;<span class="op" id="2489484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2489489">//&nbsp;Canonicalize&nbsp;order&nbsp;to&nbsp;reduce&nbsp;number&nbsp;of&nbsp;entries&nbsp;in&nbsp;visited.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489554">addr1</span><span class="op" id="2489559">,</span>&nbsp;<span class="ident" id="2489561">addr2</span>&nbsp;<span class="op" id="2489567">=</span>&nbsp;<span class="ident" id="2489569">addr2</span><span class="op" id="2489574">,</span>&nbsp;<span class="ident" id="2489576">addr1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2489589">//&nbsp;Short&nbsp;circuit&nbsp;if&nbsp;references&nbsp;are&nbsp;identical&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489640">if</span>&nbsp;<span class="ident" id="2489643">addr1</span>&nbsp;<span class="op" id="2489649">==</span>&nbsp;<span class="ident" id="2489652">addr2</span>&nbsp;<span class="op" id="2489658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489663">return</span>&nbsp;<span class="builtintype" id="2489670">true</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2489682">//&nbsp;...&nbsp;or&nbsp;already&nbsp;seen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489707">typ</span>&nbsp;<span class="op" id="2489711">:=</span>&nbsp;<span class="ident" id="2489714">v1</span><span class="op" id="2489716">.</span><span class="ident" id="2489717">Type</span><span class="op" id="2489721">(</span><span class="op" id="2489722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489726">v</span>&nbsp;<span class="op" id="2489728">:=</span>&nbsp;<span class="ident" id="2489731">visit</span><span class="op" id="2489736">{</span><span class="ident" id="2489737">addr1</span><span class="op" id="2489742">,</span>&nbsp;<span class="ident" id="2489744">addr2</span><span class="op" id="2489749">,</span>&nbsp;<span class="ident" id="2489751">typ</span><span class="op" id="2489754">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489758">if</span>&nbsp;<span class="ident" id="2489761">visited</span><span class="op" id="2489768">[</span><span class="ident" id="2489769">v</span><span class="op" id="2489770">]</span>&nbsp;<span class="op" id="2489772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489777">return</span>&nbsp;<span class="builtintype" id="2489784">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2489796">//&nbsp;Remember&nbsp;for&nbsp;later.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489821">visited</span><span class="op" id="2489828">[</span><span class="ident" id="2489829">v</span><span class="op" id="2489830">]</span>&nbsp;<span class="op" id="2489832">=</span>&nbsp;<span class="builtintype" id="2489834">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489844">switch</span>&nbsp;<span class="ident" id="2489851">v1</span><span class="op" id="2489853">.</span><span class="ident" id="2489854">Kind</span><span class="op" id="2489858">(</span><span class="op" id="2489859">)</span>&nbsp;<span class="op" id="2489861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489864">case</span>&nbsp;<span class="ident" id="2489869">Array</span><span class="op" id="2489874">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489878">for</span>&nbsp;<span class="ident" id="2489882">i</span>&nbsp;<span class="op" id="2489884">:=</span>&nbsp;<span class="num" id="2489887">0</span><span class="op" id="2489888">;</span>&nbsp;<span class="ident" id="2489890">i</span>&nbsp;<span class="op" id="2489892">&lt;</span>&nbsp;<span class="ident" id="2489894">v1</span><span class="op" id="2489896">.</span><span class="ident" id="2489897">Len</span><span class="op" id="2489900">(</span><span class="op" id="2489901">)</span><span class="op" id="2489902">;</span>&nbsp;<span class="ident" id="2489904">i</span><span class="op" id="2489905">++</span>&nbsp;<span class="op" id="2489908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489913">if</span>&nbsp;<span class="op" id="2489916">!</span><span class="ident" id="2489917">deepValueEqual</span><span class="op" id="2489931">(</span><span class="ident" id="2489932">v1</span><span class="op" id="2489934">.</span><span class="ident" id="2489935">Index</span><span class="op" id="2489940">(</span><span class="ident" id="2489941">i</span><span class="op" id="2489942">)</span><span class="op" id="2489943">,</span>&nbsp;<span class="ident" id="2489945">v2</span><span class="op" id="2489947">.</span><span class="ident" id="2489948">Index</span><span class="op" id="2489953">(</span><span class="ident" id="2489954">i</span><span class="op" id="2489955">)</span><span class="op" id="2489956">,</span>&nbsp;<span class="ident" id="2489958">visited</span><span class="op" id="2489965">,</span>&nbsp;<span class="ident" id="2489967">depth</span><span class="op" id="2489972">+</span><span class="num" id="2489973">1</span><span class="op" id="2489974">)</span>&nbsp;<span class="op" id="2489976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489982">return</span>&nbsp;<span class="builtintype" id="2489989">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490002">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490006">return</span>&nbsp;<span class="builtintype" id="2490013">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490019">case</span>&nbsp;<span class="ident" id="2490024">Slice</span><span class="op" id="2490029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490033">if</span>&nbsp;<span class="ident" id="2490036">v1</span><span class="op" id="2490038">.</span><span class="ident" id="2490039">IsNil</span><span class="op" id="2490044">(</span><span class="op" id="2490045">)</span>&nbsp;<span class="op" id="2490047">!=</span>&nbsp;<span class="ident" id="2490050">v2</span><span class="op" id="2490052">.</span><span class="ident" id="2490053">IsNil</span><span class="op" id="2490058">(</span><span class="op" id="2490059">)</span>&nbsp;<span class="op" id="2490061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490066">return</span>&nbsp;<span class="builtintype" id="2490073">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490081">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490085">if</span>&nbsp;<span class="ident" id="2490088">v1</span><span class="op" id="2490090">.</span><span class="ident" id="2490091">Len</span><span class="op" id="2490094">(</span><span class="op" id="2490095">)</span>&nbsp;<span class="op" id="2490097">!=</span>&nbsp;<span class="ident" id="2490100">v2</span><span class="op" id="2490102">.</span><span class="ident" id="2490103">Len</span><span class="op" id="2490106">(</span><span class="op" id="2490107">)</span>&nbsp;<span class="op" id="2490109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490114">return</span>&nbsp;<span class="builtintype" id="2490121">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490133">if</span>&nbsp;<span class="ident" id="2490136">v1</span><span class="op" id="2490138">.</span><span class="ident" id="2490139">Pointer</span><span class="op" id="2490146">(</span><span class="op" id="2490147">)</span>&nbsp;<span class="op" id="2490149">==</span>&nbsp;<span class="ident" id="2490152">v2</span><span class="op" id="2490154">.</span><span class="ident" id="2490155">Pointer</span><span class="op" id="2490162">(</span><span class="op" id="2490163">)</span>&nbsp;<span class="op" id="2490165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490170">return</span>&nbsp;<span class="builtintype" id="2490177">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490188">for</span>&nbsp;<span class="ident" id="2490192">i</span>&nbsp;<span class="op" id="2490194">:=</span>&nbsp;<span class="num" id="2490197">0</span><span class="op" id="2490198">;</span>&nbsp;<span class="ident" id="2490200">i</span>&nbsp;<span class="op" id="2490202">&lt;</span>&nbsp;<span class="ident" id="2490204">v1</span><span class="op" id="2490206">.</span><span class="ident" id="2490207">Len</span><span class="op" id="2490210">(</span><span class="op" id="2490211">)</span><span class="op" id="2490212">;</span>&nbsp;<span class="ident" id="2490214">i</span><span class="op" id="2490215">++</span>&nbsp;<span class="op" id="2490218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490223">if</span>&nbsp;<span class="op" id="2490226">!</span><span class="ident" id="2490227">deepValueEqual</span><span class="op" id="2490241">(</span><span class="ident" id="2490242">v1</span><span class="op" id="2490244">.</span><span class="ident" id="2490245">Index</span><span class="op" id="2490250">(</span><span class="ident" id="2490251">i</span><span class="op" id="2490252">)</span><span class="op" id="2490253">,</span>&nbsp;<span class="ident" id="2490255">v2</span><span class="op" id="2490257">.</span><span class="ident" id="2490258">Index</span><span class="op" id="2490263">(</span><span class="ident" id="2490264">i</span><span class="op" id="2490265">)</span><span class="op" id="2490266">,</span>&nbsp;<span class="ident" id="2490268">visited</span><span class="op" id="2490275">,</span>&nbsp;<span class="ident" id="2490277">depth</span><span class="op" id="2490282">+</span><span class="num" id="2490283">1</span><span class="op" id="2490284">)</span>&nbsp;<span class="op" id="2490286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490292">return</span>&nbsp;<span class="builtintype" id="2490299">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490308">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490316">return</span>&nbsp;<span class="builtintype" id="2490323">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490329">case</span>&nbsp;<span class="ident" id="2490334">Interface</span><span class="op" id="2490343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490347">if</span>&nbsp;<span class="ident" id="2490350">v1</span><span class="op" id="2490352">.</span><span class="ident" id="2490353">IsNil</span><span class="op" id="2490358">(</span><span class="op" id="2490359">)</span>&nbsp;<span class="op" id="2490361">||</span>&nbsp;<span class="ident" id="2490364">v2</span><span class="op" id="2490366">.</span><span class="ident" id="2490367">IsNil</span><span class="op" id="2490372">(</span><span class="op" id="2490373">)</span>&nbsp;<span class="op" id="2490375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490380">return</span>&nbsp;<span class="ident" id="2490387">v1</span><span class="op" id="2490389">.</span><span class="ident" id="2490390">IsNil</span><span class="op" id="2490395">(</span><span class="op" id="2490396">)</span>&nbsp;<span class="op" id="2490398">==</span>&nbsp;<span class="ident" id="2490401">v2</span><span class="op" id="2490403">.</span><span class="ident" id="2490404">IsNil</span><span class="op" id="2490409">(</span><span class="op" id="2490410">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490418">return</span>&nbsp;<span class="ident" id="2490425">deepValueEqual</span><span class="op" id="2490439">(</span><span class="ident" id="2490440">v1</span><span class="op" id="2490442">.</span><span class="ident" id="2490443">Elem</span><span class="op" id="2490447">(</span><span class="op" id="2490448">)</span><span class="op" id="2490449">,</span>&nbsp;<span class="ident" id="2490451">v2</span><span class="op" id="2490453">.</span><span class="ident" id="2490454">Elem</span><span class="op" id="2490458">(</span><span class="op" id="2490459">)</span><span class="op" id="2490460">,</span>&nbsp;<span class="ident" id="2490462">visited</span><span class="op" id="2490469">,</span>&nbsp;<span class="ident" id="2490471">depth</span><span class="op" id="2490476">+</span><span class="num" id="2490477">1</span><span class="op" id="2490478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490481">case</span>&nbsp;<span class="ident" id="2490486">Ptr</span><span class="op" id="2490489">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490493">return</span>&nbsp;<span class="ident" id="2490500">deepValueEqual</span><span class="op" id="2490514">(</span><span class="ident" id="2490515">v1</span><span class="op" id="2490517">.</span><span class="ident" id="2490518">Elem</span><span class="op" id="2490522">(</span><span class="op" id="2490523">)</span><span class="op" id="2490524">,</span>&nbsp;<span class="ident" id="2490526">v2</span><span class="op" id="2490528">.</span><span class="ident" id="2490529">Elem</span><span class="op" id="2490533">(</span><span class="op" id="2490534">)</span><span class="op" id="2490535">,</span>&nbsp;<span class="ident" id="2490537">visited</span><span class="op" id="2490544">,</span>&nbsp;<span class="ident" id="2490546">depth</span><span class="op" id="2490551">+</span><span class="num" id="2490552">1</span><span class="op" id="2490553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490556">case</span>&nbsp;<span class="ident" id="2490561">Struct</span><span class="op" id="2490567">:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490571">for</span>&nbsp;<span class="ident" id="2490575">i</span><span class="op" id="2490576">,</span>&nbsp;<span class="ident" id="2490578">n</span>&nbsp;<span class="op" id="2490580">:=</span>&nbsp;<span class="num" id="2490583">0</span><span class="op" id="2490584">,</span>&nbsp;<span class="ident" id="2490586">v1</span><span class="op" id="2490588">.</span><span class="ident" id="2490589">NumField</span><span class="op" id="2490597">(</span><span class="op" id="2490598">)</span><span class="op" id="2490599">;</span>&nbsp;<span class="ident" id="2490601">i</span>&nbsp;<span class="op" id="2490603">&lt;</span>&nbsp;<span class="ident" id="2490605">n</span><span class="op" id="2490606">;</span>&nbsp;<span class="ident" id="2490608">i</span><span class="op" id="2490609">++</span>&nbsp;<span class="op" id="2490612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490617">if</span>&nbsp;<span class="op" id="2490620">!</span><span class="ident" id="2490621">deepValueEqual</span><span class="op" id="2490635">(</span><span class="ident" id="2490636">v1</span><span class="op" id="2490638">.</span><span class="ident" id="2490639">Field</span><span class="op" id="2490644">(</span><span class="ident" id="2490645">i</span><span class="op" id="2490646">)</span><span class="op" id="2490647">,</span>&nbsp;<span class="ident" id="2490649">v2</span><span class="op" id="2490651">.</span><span class="ident" id="2490652">Field</span><span class="op" id="2490657">(</span><span class="ident" id="2490658">i</span><span class="op" id="2490659">)</span><span class="op" id="2490660">,</span>&nbsp;<span class="ident" id="2490662">visited</span><span class="op" id="2490669">,</span>&nbsp;<span class="ident" id="2490671">depth</span><span class="op" id="2490676">+</span><span class="num" id="2490677">1</span><span class="op" id="2490678">)</span>&nbsp;<span class="op" id="2490680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490686">return</span>&nbsp;<span class="builtintype" id="2490693">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490706">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490710">return</span>&nbsp;<span class="builtintype" id="2490717">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490723">case</span>&nbsp;<span class="ident" id="2490728">Map</span><span class="op" id="2490731">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490735">if</span>&nbsp;<span class="ident" id="2490738">v1</span><span class="op" id="2490740">.</span><span class="ident" id="2490741">IsNil</span><span class="op" id="2490746">(</span><span class="op" id="2490747">)</span>&nbsp;<span class="op" id="2490749">!=</span>&nbsp;<span class="ident" id="2490752">v2</span><span class="op" id="2490754">.</span><span class="ident" id="2490755">IsNil</span><span class="op" id="2490760">(</span><span class="op" id="2490761">)</span>&nbsp;<span class="op" id="2490763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490768">return</span>&nbsp;<span class="builtintype" id="2490775">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490783">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490787">if</span>&nbsp;<span class="ident" id="2490790">v1</span><span class="op" id="2490792">.</span><span class="ident" id="2490793">Len</span><span class="op" id="2490796">(</span><span class="op" id="2490797">)</span>&nbsp;<span class="op" id="2490799">!=</span>&nbsp;<span class="ident" id="2490802">v2</span><span class="op" id="2490804">.</span><span class="ident" id="2490805">Len</span><span class="op" id="2490808">(</span><span class="op" id="2490809">)</span>&nbsp;<span class="op" id="2490811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490816">return</span>&nbsp;<span class="builtintype" id="2490823">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490835">if</span>&nbsp;<span class="ident" id="2490838">v1</span><span class="op" id="2490840">.</span><span class="ident" id="2490841">Pointer</span><span class="op" id="2490848">(</span><span class="op" id="2490849">)</span>&nbsp;<span class="op" id="2490851">==</span>&nbsp;<span class="ident" id="2490854">v2</span><span class="op" id="2490856">.</span><span class="ident" id="2490857">Pointer</span><span class="op" id="2490864">(</span><span class="op" id="2490865">)</span>&nbsp;<span class="op" id="2490867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490872">return</span>&nbsp;<span class="builtintype" id="2490879">true</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490890">for</span>&nbsp;<span class="ident" id="2490894">_</span><span class="op" id="2490895">,</span>&nbsp;<span class="ident" id="2490897">k</span>&nbsp;<span class="op" id="2490899">:=</span>&nbsp;<span class="keyword" id="2490902">range</span>&nbsp;<span class="ident" id="2490908">v1</span><span class="op" id="2490910">.</span><span class="ident" id="2490911">MapKeys</span><span class="op" id="2490918">(</span><span class="op" id="2490919">)</span>&nbsp;<span class="op" id="2490921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490926">if</span>&nbsp;<span class="op" id="2490929">!</span><span class="ident" id="2490930">deepValueEqual</span><span class="op" id="2490944">(</span><span class="ident" id="2490945">v1</span><span class="op" id="2490947">.</span><span class="ident" id="2490948">MapIndex</span><span class="op" id="2490956">(</span><span class="ident" id="2490957">k</span><span class="op" id="2490958">)</span><span class="op" id="2490959">,</span>&nbsp;<span class="ident" id="2490961">v2</span><span class="op" id="2490963">.</span><span class="ident" id="2490964">MapIndex</span><span class="op" id="2490972">(</span><span class="ident" id="2490973">k</span><span class="op" id="2490974">)</span><span class="op" id="2490975">,</span>&nbsp;<span class="ident" id="2490977">visited</span><span class="op" id="2490984">,</span>&nbsp;<span class="ident" id="2490986">depth</span><span class="op" id="2490991">+</span><span class="num" id="2490992">1</span><span class="op" id="2490993">)</span>&nbsp;<span class="op" id="2490995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491001">return</span>&nbsp;<span class="builtintype" id="2491008">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491017">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491025">return</span>&nbsp;<span class="builtintype" id="2491032">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491038">case</span>&nbsp;<span class="ident" id="2491043">Func</span><span class="op" id="2491047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491051">if</span>&nbsp;<span class="ident" id="2491054">v1</span><span class="op" id="2491056">.</span><span class="ident" id="2491057">IsNil</span><span class="op" id="2491062">(</span><span class="op" id="2491063">)</span>&nbsp;<span class="op" id="2491065">&amp;&amp;</span>&nbsp;<span class="ident" id="2491068">v2</span><span class="op" id="2491070">.</span><span class="ident" id="2491071">IsNil</span><span class="op" id="2491076">(</span><span class="op" id="2491077">)</span>&nbsp;<span class="op" id="2491079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491084">return</span>&nbsp;<span class="builtintype" id="2491091">true</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2491102">//&nbsp;Can&#39;t&nbsp;do&nbsp;better&nbsp;than&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491134">return</span>&nbsp;<span class="builtintype" id="2491141">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491148">default</span><span class="op" id="2491155">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2491159">//&nbsp;Normal&nbsp;equality&nbsp;suffices</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491189">return</span>&nbsp;<span class="ident" id="2491196">valueInterface</span><span class="op" id="2491210">(</span><span class="ident" id="2491211">v1</span><span class="op" id="2491213">,</span>&nbsp;<span class="builtintype" id="2491215">false</span><span class="op" id="2491220">)</span>&nbsp;<span class="op" id="2491222">==</span>&nbsp;<span class="ident" id="2491225">valueInterface</span><span class="op" id="2491239">(</span><span class="ident" id="2491240">v2</span><span class="op" id="2491242">,</span>&nbsp;<span class="builtintype" id="2491244">false</span><span class="op" id="2491249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491252">}</span><br>
<span class="lineno"></span><span class="op" id="2491254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2491257">//&nbsp;DeepEqual&nbsp;tests&nbsp;for&nbsp;deep&nbsp;equality.&nbsp;It&nbsp;uses&nbsp;normal&nbsp;==&nbsp;equality&nbsp;where</span><br>
<span class="lineno">130</span><span class="comment" id="2491328">//&nbsp;possible&nbsp;but&nbsp;will&nbsp;scan&nbsp;elements&nbsp;of&nbsp;arrays,&nbsp;slices,&nbsp;maps,&nbsp;and&nbsp;fields&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2491402">//&nbsp;structs.&nbsp;In&nbsp;maps,&nbsp;keys&nbsp;are&nbsp;compared&nbsp;with&nbsp;==&nbsp;but&nbsp;elements&nbsp;use&nbsp;deep</span><br>
<span class="lineno"></span><span class="comment" id="2491471">//&nbsp;equality.&nbsp;DeepEqual&nbsp;correctly&nbsp;handles&nbsp;recursive&nbsp;types.&nbsp;Functions&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2491549">//&nbsp;only&nbsp;if&nbsp;they&nbsp;are&nbsp;both&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2491579">//&nbsp;An&nbsp;empty&nbsp;slice&nbsp;is&nbsp;not&nbsp;equal&nbsp;to&nbsp;a&nbsp;nil&nbsp;slice.</span><br>
<span class="lineno">135</span><span class="keyword" id="2491626">func</span>&nbsp;<span class="ident" id="2491631">DeepEqual</span><span class="op" id="2491640">(</span><span class="ident" id="2491641">a1</span><span class="op" id="2491643">,</span>&nbsp;<span class="ident" id="2491645">a2</span>&nbsp;<span class="keyword" id="2491648">interface</span><span class="op" id="2491657">{</span><span class="op" id="2491658">}</span><span class="op" id="2491659">)</span>&nbsp;<span class="builtintype" id="2491661">bool</span>&nbsp;<span class="op" id="2491666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491669">if</span>&nbsp;<span class="ident" id="2491672">a1</span>&nbsp;<span class="op" id="2491675">==</span>&nbsp;<span class="ident" id="2491678">nil</span>&nbsp;<span class="op" id="2491682">||</span>&nbsp;<span class="ident" id="2491685">a2</span>&nbsp;<span class="op" id="2491688">==</span>&nbsp;<span class="ident" id="2491691">nil</span>&nbsp;<span class="op" id="2491695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491699">return</span>&nbsp;<span class="ident" id="2491706">a1</span>&nbsp;<span class="op" id="2491709">==</span>&nbsp;<span class="ident" id="2491712">a2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491719">v1</span>&nbsp;<span class="op" id="2491722">:=</span>&nbsp;<span class="ident" id="2491725">ValueOf</span><span class="op" id="2491732">(</span><span class="ident" id="2491733">a1</span><span class="op" id="2491735">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491738">v2</span>&nbsp;<span class="op" id="2491741">:=</span>&nbsp;<span class="ident" id="2491744">ValueOf</span><span class="op" id="2491751">(</span><span class="ident" id="2491752">a2</span><span class="op" id="2491754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491757">if</span>&nbsp;<span class="ident" id="2491760">v1</span><span class="op" id="2491762">.</span><span class="ident" id="2491763">Type</span><span class="op" id="2491767">(</span><span class="op" id="2491768">)</span>&nbsp;<span class="op" id="2491770">!=</span>&nbsp;<span class="ident" id="2491773">v2</span><span class="op" id="2491775">.</span><span class="ident" id="2491776">Type</span><span class="op" id="2491780">(</span><span class="op" id="2491781">)</span>&nbsp;<span class="op" id="2491783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491787">return</span>&nbsp;<span class="builtintype" id="2491794">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491804">return</span>&nbsp;<span class="ident" id="2491811">deepValueEqual</span><span class="op" id="2491825">(</span><span class="ident" id="2491826">v1</span><span class="op" id="2491828">,</span>&nbsp;<span class="ident" id="2491830">v2</span><span class="op" id="2491832">,</span>&nbsp;<span class="builtinfunc" id="2491834">make</span><span class="op" id="2491838">(</span><span class="keyword" id="2491839">map</span><span class="op" id="2491842">[</span><span class="ident" id="2491843">visit</span><span class="op" id="2491848">]</span><span class="builtintype" id="2491849">bool</span><span class="op" id="2491853">)</span><span class="op" id="2491854">,</span>&nbsp;<span class="num" id="2491856">0</span><span class="op" id="2491857">)</span><br>
<span class="lineno">145</span><span class="op" id="2491859">}</span>
</div>
</body>
</html>
