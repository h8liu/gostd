<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1620529">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1620584">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1620638">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1620689">package</span>&nbsp;<span class="ident" id="1620697">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1620706">import</span>&nbsp;<span class="string" id="1620713">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1620723">//&nbsp;The&nbsp;compiler&nbsp;knows&nbsp;that&nbsp;a&nbsp;print&nbsp;of&nbsp;a&nbsp;value&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno">10</span><span class="comment" id="1620782">//&nbsp;should&nbsp;use&nbsp;printhex&nbsp;instead&nbsp;of&nbsp;printuint&nbsp;(decimal).</span><br>
<span class="lineno"></span><span class="keyword" id="1620837">type</span>&nbsp;<span class="ident" id="1620842">hex</span>&nbsp;<span class="ident" id="1620846">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1620854">func</span>&nbsp;<span class="ident" id="1620859">bytes</span><span class="op" id="1620864">(</span><span class="ident" id="1620865">s</span>&nbsp;<span class="builtintype" id="1620867">string</span><span class="op" id="1620873">)</span>&nbsp;<span class="op" id="1620875">(</span><span class="ident" id="1620876">ret</span>&nbsp;<span class="op" id="1620880">[</span><span class="op" id="1620881">]</span><span class="builtintype" id="1620882">byte</span><span class="op" id="1620886">)</span>&nbsp;<span class="op" id="1620888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1620891">rp</span>&nbsp;<span class="op" id="1620894">:=</span>&nbsp;<span class="op" id="1620897">(</span><span class="op" id="1620898">*</span><span class="ident" id="1620899">slice</span><span class="op" id="1620904">)</span><span class="op" id="1620905">(</span><span class="ident" id="1620906">unsafe</span><span class="op" id="1620912">.</span><span class="ident" id="1620913">Pointer</span><span class="op" id="1620920">(</span><span class="op" id="1620921">&amp;</span><span class="ident" id="1620922">ret</span><span class="op" id="1620925">)</span><span class="op" id="1620926">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1620929">sp</span>&nbsp;<span class="op" id="1620932">:=</span>&nbsp;<span class="op" id="1620935">(</span><span class="op" id="1620936">*</span><span class="ident" id="1620937">_string</span><span class="op" id="1620944">)</span><span class="op" id="1620945">(</span><span class="ident" id="1620946">noescape</span><span class="op" id="1620954">(</span><span class="ident" id="1620955">unsafe</span><span class="op" id="1620961">.</span><span class="ident" id="1620962">Pointer</span><span class="op" id="1620969">(</span><span class="op" id="1620970">&amp;</span><span class="ident" id="1620971">s</span><span class="op" id="1620972">)</span><span class="op" id="1620973">)</span><span class="op" id="1620974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1620977">rp</span><span class="op" id="1620979">.</span><span class="ident" id="1620980">array</span>&nbsp;<span class="op" id="1620986">=</span>&nbsp;<span class="ident" id="1620988">sp</span><span class="op" id="1620990">.</span><span class="ident" id="1620991">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1620996">rp</span><span class="op" id="1620998">.</span><span class="builtinfunc" id="1620999">len</span>&nbsp;<span class="op" id="1621003">=</span>&nbsp;<span class="builtintype" id="1621005">uint</span><span class="op" id="1621009">(</span><span class="ident" id="1621010">sp</span><span class="op" id="1621012">.</span><span class="builtinfunc" id="1621013">len</span><span class="op" id="1621016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1621019">rp</span><span class="op" id="1621021">.</span><span class="builtinfunc" id="1621022">cap</span>&nbsp;<span class="op" id="1621026">=</span>&nbsp;<span class="builtintype" id="1621028">uint</span><span class="op" id="1621032">(</span><span class="ident" id="1621033">sp</span><span class="op" id="1621035">.</span><span class="builtinfunc" id="1621036">len</span><span class="op" id="1621039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1621042">return</span><br>
<span class="lineno">20</span><span class="op" id="1621049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1621052">//&nbsp;printf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1621131">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1621202">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno">25</span><span class="comment" id="1621246">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1621259">func</span>&nbsp;<span class="ident" id="1621264">printf</span><span class="op" id="1621270">(</span><span class="ident" id="1621271">s</span>&nbsp;<span class="op" id="1621273">*</span><span class="builtintype" id="1621274">byte</span><span class="op" id="1621278">)</span>&nbsp;<span class="op" id="1621280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1621283">vprintf</span><span class="op" id="1621290">(</span><span class="ident" id="1621291">gostringnocopy</span><span class="op" id="1621305">(</span><span class="ident" id="1621306">s</span><span class="op" id="1621307">)</span><span class="op" id="1621308">,</span>&nbsp;<span class="ident" id="1621310">add</span><span class="op" id="1621313">(</span><span class="ident" id="1621314">unsafe</span><span class="op" id="1621320">.</span><span class="ident" id="1621321">Pointer</span><span class="op" id="1621328">(</span><span class="op" id="1621329">&amp;</span><span class="ident" id="1621330">s</span><span class="op" id="1621331">)</span><span class="op" id="1621332">,</span>&nbsp;<span class="ident" id="1621334">unsafe</span><span class="op" id="1621340">.</span><span class="ident" id="1621341">Sizeof</span><span class="op" id="1621347">(</span><span class="ident" id="1621348">s</span><span class="op" id="1621349">)</span><span class="op" id="1621350">)</span><span class="op" id="1621351">)</span><br>
<span class="lineno"></span><span class="op" id="1621353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="1621356">//&nbsp;sprintf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1621436">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1621507">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno"></span><span class="comment" id="1621551">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1621564">func</span>&nbsp;<span class="ident" id="1621569">snprintf</span><span class="op" id="1621577">(</span><span class="ident" id="1621578">dst</span>&nbsp;<span class="op" id="1621582">*</span><span class="builtintype" id="1621583">byte</span><span class="op" id="1621587">,</span>&nbsp;<span class="ident" id="1621589">n</span>&nbsp;<span class="builtintype" id="1621591">int32</span><span class="op" id="1621596">,</span>&nbsp;<span class="ident" id="1621598">s</span>&nbsp;<span class="op" id="1621600">*</span><span class="builtintype" id="1621601">byte</span><span class="op" id="1621605">)</span>&nbsp;<span class="op" id="1621607">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1621610">buf</span>&nbsp;<span class="op" id="1621614">:=</span>&nbsp;<span class="op" id="1621617">(</span><span class="op" id="1621618">*</span><span class="op" id="1621619">[</span><span class="num" id="1621620">1</span>&nbsp;<span class="op" id="1621622">&lt;&lt;</span>&nbsp;<span class="num" id="1621625">30</span><span class="op" id="1621627">]</span><span class="builtintype" id="1621628">byte</span><span class="op" id="1621632">)</span><span class="op" id="1621633">(</span><span class="ident" id="1621634">unsafe</span><span class="op" id="1621640">.</span><span class="ident" id="1621641">Pointer</span><span class="op" id="1621648">(</span><span class="ident" id="1621649">dst</span><span class="op" id="1621652">)</span><span class="op" id="1621653">)</span><span class="op" id="1621654">[</span><span class="num" id="1621655">0</span><span class="op" id="1621656">:</span><span class="ident" id="1621657">n</span><span class="op" id="1621658">:</span><span class="ident" id="1621659">n</span><span class="op" id="1621660">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1621664">gp</span>&nbsp;<span class="op" id="1621667">:=</span>&nbsp;<span class="ident" id="1621670">getg</span><span class="op" id="1621674">(</span><span class="op" id="1621675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1621678">gp</span><span class="op" id="1621680">.</span><span class="ident" id="1621681">writebuf</span>&nbsp;<span class="op" id="1621690">=</span>&nbsp;<span class="ident" id="1621692">buf</span><span class="op" id="1621695">[</span><span class="num" id="1621696">0</span><span class="op" id="1621697">:</span><span class="num" id="1621698">0</span>&nbsp;<span class="op" id="1621700">:</span>&nbsp;<span class="ident" id="1621702">n</span><span class="op" id="1621703">-</span><span class="num" id="1621704">1</span><span class="op" id="1621705">]</span>&nbsp;<span class="comment" id="1621707">//&nbsp;leave&nbsp;room&nbsp;for&nbsp;NUL,&nbsp;this&nbsp;is&nbsp;called&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1621753">vprintf</span><span class="op" id="1621760">(</span><span class="ident" id="1621761">gostringnocopy</span><span class="op" id="1621775">(</span><span class="ident" id="1621776">s</span><span class="op" id="1621777">)</span><span class="op" id="1621778">,</span>&nbsp;<span class="ident" id="1621780">add</span><span class="op" id="1621783">(</span><span class="ident" id="1621784">unsafe</span><span class="op" id="1621790">.</span><span class="ident" id="1621791">Pointer</span><span class="op" id="1621798">(</span><span class="op" id="1621799">&amp;</span><span class="ident" id="1621800">s</span><span class="op" id="1621801">)</span><span class="op" id="1621802">,</span>&nbsp;<span class="ident" id="1621804">unsafe</span><span class="op" id="1621810">.</span><span class="ident" id="1621811">Sizeof</span><span class="op" id="1621817">(</span><span class="ident" id="1621818">s</span><span class="op" id="1621819">)</span><span class="op" id="1621820">)</span><span class="op" id="1621821">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1621824">buf</span><span class="op" id="1621827">[</span><span class="builtinfunc" id="1621828">len</span><span class="op" id="1621831">(</span><span class="ident" id="1621832">gp</span><span class="op" id="1621834">.</span><span class="ident" id="1621835">writebuf</span><span class="op" id="1621843">)</span><span class="op" id="1621844">]</span>&nbsp;<span class="op" id="1621846">=</span>&nbsp;<span class="string" id="1621848">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1621856">gp</span><span class="op" id="1621858">.</span><span class="ident" id="1621859">writebuf</span>&nbsp;<span class="op" id="1621868">=</span>&nbsp;<span class="ident" id="1621870">nil</span><br>
<span class="lineno"></span><span class="op" id="1621874">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1621877">//var&nbsp;debuglock&nbsp;mutex</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1621900">//&nbsp;write&nbsp;to&nbsp;goroutine-local&nbsp;buffer&nbsp;if&nbsp;diverting&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="1621956">//&nbsp;or&nbsp;else&nbsp;standard&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1621983">func</span>&nbsp;<span class="ident" id="1621988">gwrite</span><span class="op" id="1621994">(</span><span class="ident" id="1621995">b</span>&nbsp;<span class="op" id="1621997">[</span><span class="op" id="1621998">]</span><span class="builtintype" id="1621999">byte</span><span class="op" id="1622003">)</span>&nbsp;<span class="op" id="1622005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622008">if</span>&nbsp;<span class="builtinfunc" id="1622011">len</span><span class="op" id="1622014">(</span><span class="ident" id="1622015">b</span><span class="op" id="1622016">)</span>&nbsp;<span class="op" id="1622018">==</span>&nbsp;<span class="num" id="1622021">0</span>&nbsp;<span class="op" id="1622023">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622027">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1622035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622038">gp</span>&nbsp;<span class="op" id="1622041">:=</span>&nbsp;<span class="ident" id="1622044">getg</span><span class="op" id="1622048">(</span><span class="op" id="1622049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622052">if</span>&nbsp;<span class="ident" id="1622055">gp</span>&nbsp;<span class="op" id="1622058">==</span>&nbsp;<span class="ident" id="1622061">nil</span>&nbsp;<span class="op" id="1622065">||</span>&nbsp;<span class="ident" id="1622068">gp</span><span class="op" id="1622070">.</span><span class="ident" id="1622071">writebuf</span>&nbsp;<span class="op" id="1622080">==</span>&nbsp;<span class="ident" id="1622083">nil</span>&nbsp;<span class="op" id="1622087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622091">write</span><span class="op" id="1622096">(</span><span class="num" id="1622097">2</span><span class="op" id="1622098">,</span>&nbsp;<span class="ident" id="1622100">unsafe</span><span class="op" id="1622106">.</span><span class="ident" id="1622107">Pointer</span><span class="op" id="1622114">(</span><span class="op" id="1622115">&amp;</span><span class="ident" id="1622116">b</span><span class="op" id="1622117">[</span><span class="num" id="1622118">0</span><span class="op" id="1622119">]</span><span class="op" id="1622120">)</span><span class="op" id="1622121">,</span>&nbsp;<span class="builtintype" id="1622123">int32</span><span class="op" id="1622128">(</span><span class="builtinfunc" id="1622129">len</span><span class="op" id="1622132">(</span><span class="ident" id="1622133">b</span><span class="op" id="1622134">)</span><span class="op" id="1622135">)</span><span class="op" id="1622136">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622140">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1622148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622152">n</span>&nbsp;<span class="op" id="1622154">:=</span>&nbsp;<span class="builtinfunc" id="1622157">copy</span><span class="op" id="1622161">(</span><span class="ident" id="1622162">gp</span><span class="op" id="1622164">.</span><span class="ident" id="1622165">writebuf</span><span class="op" id="1622173">[</span><span class="builtinfunc" id="1622174">len</span><span class="op" id="1622177">(</span><span class="ident" id="1622178">gp</span><span class="op" id="1622180">.</span><span class="ident" id="1622181">writebuf</span><span class="op" id="1622189">)</span><span class="op" id="1622190">:</span><span class="builtinfunc" id="1622191">cap</span><span class="op" id="1622194">(</span><span class="ident" id="1622195">gp</span><span class="op" id="1622197">.</span><span class="ident" id="1622198">writebuf</span><span class="op" id="1622206">)</span><span class="op" id="1622207">]</span><span class="op" id="1622208">,</span>&nbsp;<span class="ident" id="1622210">b</span><span class="op" id="1622211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622214">gp</span><span class="op" id="1622216">.</span><span class="ident" id="1622217">writebuf</span>&nbsp;<span class="op" id="1622226">=</span>&nbsp;<span class="ident" id="1622228">gp</span><span class="op" id="1622230">.</span><span class="ident" id="1622231">writebuf</span><span class="op" id="1622239">[</span><span class="op" id="1622240">:</span><span class="builtinfunc" id="1622241">len</span><span class="op" id="1622244">(</span><span class="ident" id="1622245">gp</span><span class="op" id="1622247">.</span><span class="ident" id="1622248">writebuf</span><span class="op" id="1622256">)</span><span class="op" id="1622257">+</span><span class="ident" id="1622258">n</span><span class="op" id="1622259">]</span><br>
<span class="lineno">60</span><span class="op" id="1622261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1622264">func</span>&nbsp;<span class="ident" id="1622269">prints</span><span class="op" id="1622275">(</span><span class="ident" id="1622276">s</span>&nbsp;<span class="op" id="1622278">*</span><span class="builtintype" id="1622279">byte</span><span class="op" id="1622283">)</span>&nbsp;<span class="op" id="1622285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622288">b</span>&nbsp;<span class="op" id="1622290">:=</span>&nbsp;<span class="op" id="1622293">(</span><span class="op" id="1622294">*</span><span class="op" id="1622295">[</span><span class="num" id="1622296">1</span>&nbsp;<span class="op" id="1622298">&lt;&lt;</span>&nbsp;<span class="num" id="1622301">30</span><span class="op" id="1622303">]</span><span class="builtintype" id="1622304">byte</span><span class="op" id="1622308">)</span><span class="op" id="1622309">(</span><span class="ident" id="1622310">unsafe</span><span class="op" id="1622316">.</span><span class="ident" id="1622317">Pointer</span><span class="op" id="1622324">(</span><span class="ident" id="1622325">s</span><span class="op" id="1622326">)</span><span class="op" id="1622327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622330">for</span>&nbsp;<span class="ident" id="1622334">i</span>&nbsp;<span class="op" id="1622336">:=</span>&nbsp;<span class="num" id="1622339">0</span><span class="op" id="1622340">;</span>&nbsp;<span class="op" id="1622342">;</span>&nbsp;<span class="ident" id="1622344">i</span><span class="op" id="1622345">++</span>&nbsp;<span class="op" id="1622348">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622352">if</span>&nbsp;<span class="ident" id="1622355">b</span><span class="op" id="1622356">[</span><span class="ident" id="1622357">i</span><span class="op" id="1622358">]</span>&nbsp;<span class="op" id="1622360">==</span>&nbsp;<span class="num" id="1622363">0</span>&nbsp;<span class="op" id="1622365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622370">gwrite</span><span class="op" id="1622376">(</span><span class="ident" id="1622377">b</span><span class="op" id="1622378">[</span><span class="op" id="1622379">:</span><span class="ident" id="1622380">i</span><span class="op" id="1622381">]</span><span class="op" id="1622382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622387">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1622396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1622399">}</span><br>
<span class="lineno">70</span><span class="op" id="1622401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1622404">func</span>&nbsp;<span class="ident" id="1622409">printsp</span><span class="op" id="1622416">(</span><span class="op" id="1622417">)</span>&nbsp;<span class="op" id="1622419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1622422">print</span><span class="op" id="1622427">(</span><span class="string" id="1622428">&#34;&nbsp;&#34;</span><span class="op" id="1622431">)</span><br>
<span class="lineno"></span><span class="op" id="1622433">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="1622436">func</span>&nbsp;<span class="ident" id="1622441">printnl</span><span class="op" id="1622448">(</span><span class="op" id="1622449">)</span>&nbsp;<span class="op" id="1622451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1622454">print</span><span class="op" id="1622459">(</span><span class="string" id="1622460">&#34;\n&#34;</span><span class="op" id="1622464">)</span><br>
<span class="lineno"></span><span class="op" id="1622466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="1622469">//&nbsp;Very&nbsp;simple&nbsp;printf.&nbsp;&nbsp;Only&nbsp;for&nbsp;debugging&nbsp;prints.</span><br>
<span class="lineno"></span><span class="comment" id="1622520">//&nbsp;Do&nbsp;not&nbsp;add&nbsp;to&nbsp;this&nbsp;without&nbsp;checking&nbsp;with&nbsp;Rob.</span><br>
<span class="lineno"></span><span class="keyword" id="1622569">func</span>&nbsp;<span class="ident" id="1622574">vprintf</span><span class="op" id="1622581">(</span><span class="ident" id="1622582">str</span>&nbsp;<span class="builtintype" id="1622586">string</span><span class="op" id="1622592">,</span>&nbsp;<span class="ident" id="1622594">arg</span>&nbsp;<span class="ident" id="1622598">unsafe</span><span class="op" id="1622604">.</span><span class="ident" id="1622605">Pointer</span><span class="op" id="1622612">)</span>&nbsp;<span class="op" id="1622614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1622617">//lock(&amp;debuglock);</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622639">s</span>&nbsp;<span class="op" id="1622641">:=</span>&nbsp;<span class="ident" id="1622644">bytes</span><span class="op" id="1622649">(</span><span class="ident" id="1622650">str</span><span class="op" id="1622653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622656">start</span>&nbsp;<span class="op" id="1622662">:=</span>&nbsp;<span class="num" id="1622665">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622668">i</span>&nbsp;<span class="op" id="1622670">:=</span>&nbsp;<span class="num" id="1622673">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622676">for</span>&nbsp;<span class="op" id="1622680">;</span>&nbsp;<span class="ident" id="1622682">i</span>&nbsp;<span class="op" id="1622684">&lt;</span>&nbsp;<span class="builtinfunc" id="1622686">len</span><span class="op" id="1622689">(</span><span class="ident" id="1622690">s</span><span class="op" id="1622691">)</span><span class="op" id="1622692">;</span>&nbsp;<span class="ident" id="1622694">i</span><span class="op" id="1622695">++</span>&nbsp;<span class="op" id="1622698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622702">if</span>&nbsp;<span class="ident" id="1622705">s</span><span class="op" id="1622706">[</span><span class="ident" id="1622707">i</span><span class="op" id="1622708">]</span>&nbsp;<span class="op" id="1622710">!=</span>&nbsp;<span class="string" id="1622713">&#39;%&#39;</span>&nbsp;<span class="op" id="1622717">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622722">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1622733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622737">if</span>&nbsp;<span class="ident" id="1622740">i</span>&nbsp;<span class="op" id="1622742">&gt;</span>&nbsp;<span class="ident" id="1622744">start</span>&nbsp;<span class="op" id="1622750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622755">gwrite</span><span class="op" id="1622761">(</span><span class="ident" id="1622762">s</span><span class="op" id="1622763">[</span><span class="ident" id="1622764">start</span><span class="op" id="1622769">:</span><span class="ident" id="1622770">i</span><span class="op" id="1622771">]</span><span class="op" id="1622772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1622776">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622780">if</span>&nbsp;<span class="ident" id="1622783">i</span><span class="op" id="1622784">++</span><span class="op" id="1622786">;</span>&nbsp;<span class="ident" id="1622788">i</span>&nbsp;<span class="op" id="1622790">&gt;=</span>&nbsp;<span class="builtinfunc" id="1622793">len</span><span class="op" id="1622796">(</span><span class="ident" id="1622797">s</span><span class="op" id="1622798">)</span>&nbsp;<span class="op" id="1622800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622805">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1622813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622817">var</span>&nbsp;<span class="ident" id="1622821">siz</span>&nbsp;<span class="builtintype" id="1622825">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622835">switch</span>&nbsp;<span class="ident" id="1622842">s</span><span class="op" id="1622843">[</span><span class="ident" id="1622844">i</span><span class="op" id="1622845">]</span>&nbsp;<span class="op" id="1622847">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622851">case</span>&nbsp;<span class="string" id="1622856">&#39;t&#39;</span><span class="op" id="1622859">,</span>&nbsp;<span class="string" id="1622861">&#39;c&#39;</span><span class="op" id="1622864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622869">siz</span>&nbsp;<span class="op" id="1622873">=</span>&nbsp;<span class="num" id="1622875">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622879">case</span>&nbsp;<span class="string" id="1622884">&#39;d&#39;</span><span class="op" id="1622887">,</span>&nbsp;<span class="string" id="1622889">&#39;x&#39;</span><span class="op" id="1622892">:</span>&nbsp;<span class="comment" id="1622894">//&nbsp;32-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622907">arg</span>&nbsp;<span class="op" id="1622911">=</span>&nbsp;<span class="ident" id="1622913">roundup</span><span class="op" id="1622920">(</span><span class="ident" id="1622921">arg</span><span class="op" id="1622924">,</span>&nbsp;<span class="num" id="1622926">4</span><span class="op" id="1622927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622932">siz</span>&nbsp;<span class="op" id="1622936">=</span>&nbsp;<span class="num" id="1622938">4</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622942">case</span>&nbsp;<span class="string" id="1622947">&#39;D&#39;</span><span class="op" id="1622950">,</span>&nbsp;<span class="string" id="1622952">&#39;U&#39;</span><span class="op" id="1622955">,</span>&nbsp;<span class="string" id="1622957">&#39;X&#39;</span><span class="op" id="1622960">,</span>&nbsp;<span class="string" id="1622962">&#39;f&#39;</span><span class="op" id="1622965">:</span>&nbsp;<span class="comment" id="1622967">//&nbsp;64-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622980">arg</span>&nbsp;<span class="op" id="1622984">=</span>&nbsp;<span class="ident" id="1622986">roundup</span><span class="op" id="1622993">(</span><span class="ident" id="1622994">arg</span><span class="op" id="1622997">,</span>&nbsp;<span class="ident" id="1622999">unsafe</span><span class="op" id="1623005">.</span><span class="ident" id="1623006">Sizeof</span><span class="op" id="1623012">(</span><span class="ident" id="1623013">uintreg</span><span class="op" id="1623020">(</span><span class="num" id="1623021">0</span><span class="op" id="1623022">)</span><span class="op" id="1623023">)</span><span class="op" id="1623024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623029">siz</span>&nbsp;<span class="op" id="1623033">=</span>&nbsp;<span class="num" id="1623035">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623039">case</span>&nbsp;<span class="string" id="1623044">&#39;C&#39;</span><span class="op" id="1623047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623052">arg</span>&nbsp;<span class="op" id="1623056">=</span>&nbsp;<span class="ident" id="1623058">roundup</span><span class="op" id="1623065">(</span><span class="ident" id="1623066">arg</span><span class="op" id="1623069">,</span>&nbsp;<span class="ident" id="1623071">unsafe</span><span class="op" id="1623077">.</span><span class="ident" id="1623078">Sizeof</span><span class="op" id="1623084">(</span><span class="ident" id="1623085">uintreg</span><span class="op" id="1623092">(</span><span class="num" id="1623093">0</span><span class="op" id="1623094">)</span><span class="op" id="1623095">)</span><span class="op" id="1623096">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623101">siz</span>&nbsp;<span class="op" id="1623105">=</span>&nbsp;<span class="num" id="1623107">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623112">case</span>&nbsp;<span class="string" id="1623117">&#39;p&#39;</span><span class="op" id="1623120">,</span>&nbsp;<span class="string" id="1623122">&#39;s&#39;</span><span class="op" id="1623125">:</span>&nbsp;<span class="comment" id="1623127">//&nbsp;pointer-sized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623147">arg</span>&nbsp;<span class="op" id="1623151">=</span>&nbsp;<span class="ident" id="1623153">roundup</span><span class="op" id="1623160">(</span><span class="ident" id="1623161">arg</span><span class="op" id="1623164">,</span>&nbsp;<span class="ident" id="1623166">unsafe</span><span class="op" id="1623172">.</span><span class="ident" id="1623173">Sizeof</span><span class="op" id="1623179">(</span><span class="builtintype" id="1623180">uintptr</span><span class="op" id="1623187">(</span><span class="num" id="1623188">0</span><span class="op" id="1623189">)</span><span class="op" id="1623190">)</span><span class="op" id="1623191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623196">siz</span>&nbsp;<span class="op" id="1623200">=</span>&nbsp;<span class="ident" id="1623202">unsafe</span><span class="op" id="1623208">.</span><span class="ident" id="1623209">Sizeof</span><span class="op" id="1623215">(</span><span class="builtintype" id="1623216">uintptr</span><span class="op" id="1623223">(</span><span class="num" id="1623224">0</span><span class="op" id="1623225">)</span><span class="op" id="1623226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623230">case</span>&nbsp;<span class="string" id="1623235">&#39;S&#39;</span><span class="op" id="1623238">:</span>&nbsp;<span class="comment" id="1623240">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623273">arg</span>&nbsp;<span class="op" id="1623277">=</span>&nbsp;<span class="ident" id="1623279">roundup</span><span class="op" id="1623286">(</span><span class="ident" id="1623287">arg</span><span class="op" id="1623290">,</span>&nbsp;<span class="ident" id="1623292">unsafe</span><span class="op" id="1623298">.</span><span class="ident" id="1623299">Sizeof</span><span class="op" id="1623305">(</span><span class="builtintype" id="1623306">uintptr</span><span class="op" id="1623313">(</span><span class="num" id="1623314">0</span><span class="op" id="1623315">)</span><span class="op" id="1623316">)</span><span class="op" id="1623317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623322">siz</span>&nbsp;<span class="op" id="1623326">=</span>&nbsp;<span class="ident" id="1623328">unsafe</span><span class="op" id="1623334">.</span><span class="ident" id="1623335">Sizeof</span><span class="op" id="1623341">(</span><span class="builtintype" id="1623342">string</span><span class="op" id="1623348">(</span><span class="string" id="1623349">&#34;&#34;</span><span class="op" id="1623351">)</span><span class="op" id="1623352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623356">case</span>&nbsp;<span class="string" id="1623361">&#39;a&#39;</span><span class="op" id="1623364">:</span>&nbsp;<span class="comment" id="1623366">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623399">arg</span>&nbsp;<span class="op" id="1623403">=</span>&nbsp;<span class="ident" id="1623405">roundup</span><span class="op" id="1623412">(</span><span class="ident" id="1623413">arg</span><span class="op" id="1623416">,</span>&nbsp;<span class="ident" id="1623418">unsafe</span><span class="op" id="1623424">.</span><span class="ident" id="1623425">Sizeof</span><span class="op" id="1623431">(</span><span class="builtintype" id="1623432">uintptr</span><span class="op" id="1623439">(</span><span class="num" id="1623440">0</span><span class="op" id="1623441">)</span><span class="op" id="1623442">)</span><span class="op" id="1623443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623448">siz</span>&nbsp;<span class="op" id="1623452">=</span>&nbsp;<span class="ident" id="1623454">unsafe</span><span class="op" id="1623460">.</span><span class="ident" id="1623461">Sizeof</span><span class="op" id="1623467">(</span><span class="op" id="1623468">[</span><span class="op" id="1623469">]</span><span class="builtintype" id="1623470">byte</span><span class="op" id="1623474">{</span><span class="op" id="1623475">}</span><span class="op" id="1623476">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623480">case</span>&nbsp;<span class="string" id="1623485">&#39;i&#39;</span><span class="op" id="1623488">,</span>&nbsp;<span class="string" id="1623490">&#39;e&#39;</span><span class="op" id="1623493">:</span>&nbsp;<span class="comment" id="1623495">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623528">arg</span>&nbsp;<span class="op" id="1623532">=</span>&nbsp;<span class="ident" id="1623534">roundup</span><span class="op" id="1623541">(</span><span class="ident" id="1623542">arg</span><span class="op" id="1623545">,</span>&nbsp;<span class="ident" id="1623547">unsafe</span><span class="op" id="1623553">.</span><span class="ident" id="1623554">Sizeof</span><span class="op" id="1623560">(</span><span class="builtintype" id="1623561">uintptr</span><span class="op" id="1623568">(</span><span class="num" id="1623569">0</span><span class="op" id="1623570">)</span><span class="op" id="1623571">)</span><span class="op" id="1623572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623577">siz</span>&nbsp;<span class="op" id="1623581">=</span>&nbsp;<span class="ident" id="1623583">unsafe</span><span class="op" id="1623589">.</span><span class="ident" id="1623590">Sizeof</span><span class="op" id="1623596">(</span><span class="keyword" id="1623597">interface</span><span class="op" id="1623606">{</span><span class="op" id="1623607">}</span><span class="op" id="1623608">(</span><span class="ident" id="1623609">nil</span><span class="op" id="1623612">)</span><span class="op" id="1623613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1623617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623621">switch</span>&nbsp;<span class="ident" id="1623628">s</span><span class="op" id="1623629">[</span><span class="ident" id="1623630">i</span><span class="op" id="1623631">]</span>&nbsp;<span class="op" id="1623633">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623637">case</span>&nbsp;<span class="string" id="1623642">&#39;a&#39;</span><span class="op" id="1623645">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623650">printslice</span><span class="op" id="1623660">(</span><span class="op" id="1623661">*</span><span class="op" id="1623662">(</span><span class="op" id="1623663">*</span><span class="op" id="1623664">[</span><span class="op" id="1623665">]</span><span class="builtintype" id="1623666">byte</span><span class="op" id="1623670">)</span><span class="op" id="1623671">(</span><span class="ident" id="1623672">arg</span><span class="op" id="1623675">)</span><span class="op" id="1623676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623680">case</span>&nbsp;<span class="string" id="1623685">&#39;c&#39;</span><span class="op" id="1623688">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623693">printbyte</span><span class="op" id="1623702">(</span><span class="op" id="1623703">*</span><span class="op" id="1623704">(</span><span class="op" id="1623705">*</span><span class="builtintype" id="1623706">byte</span><span class="op" id="1623710">)</span><span class="op" id="1623711">(</span><span class="ident" id="1623712">arg</span><span class="op" id="1623715">)</span><span class="op" id="1623716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623720">case</span>&nbsp;<span class="string" id="1623725">&#39;d&#39;</span><span class="op" id="1623728">:</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623733">printint</span><span class="op" id="1623741">(</span><span class="ident" id="1623742">int64</span><span class="op" id="1623747">(</span><span class="op" id="1623748">*</span><span class="op" id="1623749">(</span><span class="op" id="1623750">*</span><span class="builtintype" id="1623751">int32</span><span class="op" id="1623756">)</span><span class="op" id="1623757">(</span><span class="ident" id="1623758">arg</span><span class="op" id="1623761">)</span><span class="op" id="1623762">)</span><span class="op" id="1623763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623767">case</span>&nbsp;<span class="string" id="1623772">&#39;D&#39;</span><span class="op" id="1623775">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623780">printint</span><span class="op" id="1623788">(</span><span class="ident" id="1623789">int64</span><span class="op" id="1623794">(</span><span class="op" id="1623795">*</span><span class="op" id="1623796">(</span><span class="op" id="1623797">*</span><span class="ident" id="1623798">int64</span><span class="op" id="1623803">)</span><span class="op" id="1623804">(</span><span class="ident" id="1623805">arg</span><span class="op" id="1623808">)</span><span class="op" id="1623809">)</span><span class="op" id="1623810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623814">case</span>&nbsp;<span class="string" id="1623819">&#39;e&#39;</span><span class="op" id="1623822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623827">printeface</span><span class="op" id="1623837">(</span><span class="op" id="1623838">*</span><span class="op" id="1623839">(</span><span class="op" id="1623840">*</span><span class="keyword" id="1623841">interface</span><span class="op" id="1623850">{</span><span class="op" id="1623851">}</span><span class="op" id="1623852">)</span><span class="op" id="1623853">(</span><span class="ident" id="1623854">arg</span><span class="op" id="1623857">)</span><span class="op" id="1623858">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623862">case</span>&nbsp;<span class="string" id="1623867">&#39;f&#39;</span><span class="op" id="1623870">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623875">printfloat</span><span class="op" id="1623885">(</span><span class="op" id="1623886">*</span><span class="op" id="1623887">(</span><span class="op" id="1623888">*</span><span class="builtintype" id="1623889">float64</span><span class="op" id="1623896">)</span><span class="op" id="1623897">(</span><span class="ident" id="1623898">arg</span><span class="op" id="1623901">)</span><span class="op" id="1623902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623906">case</span>&nbsp;<span class="string" id="1623911">&#39;C&#39;</span><span class="op" id="1623914">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623919">printcomplex</span><span class="op" id="1623931">(</span><span class="op" id="1623932">*</span><span class="op" id="1623933">(</span><span class="op" id="1623934">*</span><span class="builtintype" id="1623935">complex128</span><span class="op" id="1623945">)</span><span class="op" id="1623946">(</span><span class="ident" id="1623947">arg</span><span class="op" id="1623950">)</span><span class="op" id="1623951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623955">case</span>&nbsp;<span class="string" id="1623960">&#39;i&#39;</span><span class="op" id="1623963">:</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623968">printiface</span><span class="op" id="1623978">(</span><span class="op" id="1623979">*</span><span class="op" id="1623980">(</span><span class="op" id="1623981">*</span><span class="ident" id="1623982">fInterface</span><span class="op" id="1623992">)</span><span class="op" id="1623993">(</span><span class="ident" id="1623994">arg</span><span class="op" id="1623997">)</span><span class="op" id="1623998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624002">case</span>&nbsp;<span class="string" id="1624007">&#39;p&#39;</span><span class="op" id="1624010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624015">printpointer</span><span class="op" id="1624027">(</span><span class="op" id="1624028">*</span><span class="op" id="1624029">(</span><span class="op" id="1624030">*</span><span class="ident" id="1624031">unsafe</span><span class="op" id="1624037">.</span><span class="ident" id="1624038">Pointer</span><span class="op" id="1624045">)</span><span class="op" id="1624046">(</span><span class="ident" id="1624047">arg</span><span class="op" id="1624050">)</span><span class="op" id="1624051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624055">case</span>&nbsp;<span class="string" id="1624060">&#39;s&#39;</span><span class="op" id="1624063">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624068">prints</span><span class="op" id="1624074">(</span><span class="op" id="1624075">*</span><span class="op" id="1624076">(</span><span class="op" id="1624077">*</span><span class="op" id="1624078">*</span><span class="builtintype" id="1624079">byte</span><span class="op" id="1624083">)</span><span class="op" id="1624084">(</span><span class="ident" id="1624085">arg</span><span class="op" id="1624088">)</span><span class="op" id="1624089">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624093">case</span>&nbsp;<span class="string" id="1624098">&#39;S&#39;</span><span class="op" id="1624101">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624106">printstring</span><span class="op" id="1624117">(</span><span class="op" id="1624118">*</span><span class="op" id="1624119">(</span><span class="op" id="1624120">*</span><span class="builtintype" id="1624121">string</span><span class="op" id="1624127">)</span><span class="op" id="1624128">(</span><span class="ident" id="1624129">arg</span><span class="op" id="1624132">)</span><span class="op" id="1624133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624137">case</span>&nbsp;<span class="string" id="1624142">&#39;t&#39;</span><span class="op" id="1624145">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624150">printbool</span><span class="op" id="1624159">(</span><span class="op" id="1624160">*</span><span class="op" id="1624161">(</span><span class="op" id="1624162">*</span><span class="builtintype" id="1624163">bool</span><span class="op" id="1624167">)</span><span class="op" id="1624168">(</span><span class="ident" id="1624169">arg</span><span class="op" id="1624172">)</span><span class="op" id="1624173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624177">case</span>&nbsp;<span class="string" id="1624182">&#39;U&#39;</span><span class="op" id="1624185">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624190">printuint</span><span class="op" id="1624199">(</span><span class="op" id="1624200">*</span><span class="op" id="1624201">(</span><span class="op" id="1624202">*</span><span class="ident" id="1624203">uint64</span><span class="op" id="1624209">)</span><span class="op" id="1624210">(</span><span class="ident" id="1624211">arg</span><span class="op" id="1624214">)</span><span class="op" id="1624215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624219">case</span>&nbsp;<span class="string" id="1624224">&#39;x&#39;</span><span class="op" id="1624227">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624232">printhex</span><span class="op" id="1624240">(</span><span class="ident" id="1624241">uint64</span><span class="op" id="1624247">(</span><span class="op" id="1624248">*</span><span class="op" id="1624249">(</span><span class="op" id="1624250">*</span><span class="builtintype" id="1624251">uint32</span><span class="op" id="1624257">)</span><span class="op" id="1624258">(</span><span class="ident" id="1624259">arg</span><span class="op" id="1624262">)</span><span class="op" id="1624263">)</span><span class="op" id="1624264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624268">case</span>&nbsp;<span class="string" id="1624273">&#39;X&#39;</span><span class="op" id="1624276">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624281">printhex</span><span class="op" id="1624289">(</span><span class="op" id="1624290">*</span><span class="op" id="1624291">(</span><span class="op" id="1624292">*</span><span class="ident" id="1624293">uint64</span><span class="op" id="1624299">)</span><span class="op" id="1624300">(</span><span class="ident" id="1624301">arg</span><span class="op" id="1624304">)</span><span class="op" id="1624305">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624313">arg</span>&nbsp;<span class="op" id="1624317">=</span>&nbsp;<span class="ident" id="1624319">add</span><span class="op" id="1624322">(</span><span class="ident" id="1624323">arg</span><span class="op" id="1624326">,</span>&nbsp;<span class="ident" id="1624328">siz</span><span class="op" id="1624331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624335">start</span>&nbsp;<span class="op" id="1624341">=</span>&nbsp;<span class="ident" id="1624343">i</span>&nbsp;<span class="op" id="1624345">+</span>&nbsp;<span class="num" id="1624347">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624353">if</span>&nbsp;<span class="ident" id="1624356">start</span>&nbsp;<span class="op" id="1624362">&lt;</span>&nbsp;<span class="ident" id="1624364">i</span>&nbsp;<span class="op" id="1624366">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624370">gwrite</span><span class="op" id="1624376">(</span><span class="ident" id="1624377">s</span><span class="op" id="1624378">[</span><span class="ident" id="1624379">start</span><span class="op" id="1624384">:</span><span class="ident" id="1624385">i</span><span class="op" id="1624386">]</span><span class="op" id="1624387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1624394">//unlock(&amp;debuglock);</span><br>
<span class="lineno"></span><span class="op" id="1624416">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="1624419">func</span>&nbsp;<span class="ident" id="1624424">printpc</span><span class="op" id="1624431">(</span><span class="ident" id="1624432">p</span>&nbsp;<span class="ident" id="1624434">unsafe</span><span class="op" id="1624440">.</span><span class="ident" id="1624441">Pointer</span><span class="op" id="1624448">)</span>&nbsp;<span class="op" id="1624450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1624453">print</span><span class="op" id="1624458">(</span><span class="string" id="1624459">&#34;PC=&#34;</span><span class="op" id="1624464">,</span>&nbsp;<span class="ident" id="1624466">hex</span><span class="op" id="1624469">(</span><span class="builtintype" id="1624470">uintptr</span><span class="op" id="1624477">(</span><span class="ident" id="1624478">p</span><span class="op" id="1624479">)</span><span class="op" id="1624480">)</span><span class="op" id="1624481">)</span><br>
<span class="lineno"></span><span class="op" id="1624483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="1624486">func</span>&nbsp;<span class="ident" id="1624491">printbool</span><span class="op" id="1624500">(</span><span class="ident" id="1624501">v</span>&nbsp;<span class="builtintype" id="1624503">bool</span><span class="op" id="1624507">)</span>&nbsp;<span class="op" id="1624509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624512">if</span>&nbsp;<span class="ident" id="1624515">v</span>&nbsp;<span class="op" id="1624517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1624521">print</span><span class="op" id="1624526">(</span><span class="string" id="1624527">&#34;true&#34;</span><span class="op" id="1624533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624536">}</span>&nbsp;<span class="keyword" id="1624538">else</span>&nbsp;<span class="op" id="1624543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1624547">print</span><span class="op" id="1624552">(</span><span class="string" id="1624553">&#34;false&#34;</span><span class="op" id="1624560">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624563">}</span><br>
<span class="lineno"></span><span class="op" id="1624565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1624568">func</span>&nbsp;<span class="ident" id="1624573">printbyte</span><span class="op" id="1624582">(</span><span class="ident" id="1624583">c</span>&nbsp;<span class="builtintype" id="1624585">byte</span><span class="op" id="1624589">)</span>&nbsp;<span class="op" id="1624591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624594">gwrite</span><span class="op" id="1624600">(</span><span class="op" id="1624601">(</span><span class="op" id="1624602">*</span><span class="op" id="1624603">[</span><span class="num" id="1624604">1</span><span class="op" id="1624605">]</span><span class="builtintype" id="1624606">byte</span><span class="op" id="1624610">)</span><span class="op" id="1624611">(</span><span class="ident" id="1624612">unsafe</span><span class="op" id="1624618">.</span><span class="ident" id="1624619">Pointer</span><span class="op" id="1624626">(</span><span class="op" id="1624627">&amp;</span><span class="ident" id="1624628">c</span><span class="op" id="1624629">)</span><span class="op" id="1624630">)</span><span class="op" id="1624631">[</span><span class="op" id="1624632">:</span><span class="op" id="1624633">]</span><span class="op" id="1624634">)</span><br>
<span class="lineno">180</span><span class="op" id="1624636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1624639">func</span>&nbsp;<span class="ident" id="1624644">printfloat</span><span class="op" id="1624654">(</span><span class="ident" id="1624655">v</span>&nbsp;<span class="builtintype" id="1624657">float64</span><span class="op" id="1624664">)</span>&nbsp;<span class="op" id="1624666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624669">switch</span>&nbsp;<span class="op" id="1624676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624679">case</span>&nbsp;<span class="ident" id="1624684">v</span>&nbsp;<span class="op" id="1624686">!=</span>&nbsp;<span class="ident" id="1624689">v</span><span class="op" id="1624690">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1624694">print</span><span class="op" id="1624699">(</span><span class="string" id="1624700">&#34;NaN&#34;</span><span class="op" id="1624705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624709">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624717">case</span>&nbsp;<span class="ident" id="1624722">v</span><span class="op" id="1624723">+</span><span class="ident" id="1624724">v</span>&nbsp;<span class="op" id="1624726">==</span>&nbsp;<span class="ident" id="1624729">v</span>&nbsp;<span class="op" id="1624731">&amp;&amp;</span>&nbsp;<span class="ident" id="1624734">v</span>&nbsp;<span class="op" id="1624736">&gt;</span>&nbsp;<span class="num" id="1624738">0</span><span class="op" id="1624739">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1624743">print</span><span class="op" id="1624748">(</span><span class="string" id="1624749">&#34;+Inf&#34;</span><span class="op" id="1624755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624759">return</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624767">case</span>&nbsp;<span class="ident" id="1624772">v</span><span class="op" id="1624773">+</span><span class="ident" id="1624774">v</span>&nbsp;<span class="op" id="1624776">==</span>&nbsp;<span class="ident" id="1624779">v</span>&nbsp;<span class="op" id="1624781">&amp;&amp;</span>&nbsp;<span class="ident" id="1624784">v</span>&nbsp;<span class="op" id="1624786">&lt;</span>&nbsp;<span class="num" id="1624788">0</span><span class="op" id="1624789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1624793">print</span><span class="op" id="1624798">(</span><span class="string" id="1624799">&#34;-Inf&#34;</span><span class="op" id="1624805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624809">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624821">const</span>&nbsp;<span class="ident" id="1624827">n</span>&nbsp;<span class="op" id="1624829">=</span>&nbsp;<span class="num" id="1624831">7</span>&nbsp;<span class="comment" id="1624833">//&nbsp;digits&nbsp;printed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624852">var</span>&nbsp;<span class="ident" id="1624856">buf</span>&nbsp;<span class="op" id="1624860">[</span><span class="ident" id="1624861">n</span>&nbsp;<span class="op" id="1624863">+</span>&nbsp;<span class="num" id="1624865">7</span><span class="op" id="1624866">]</span><span class="builtintype" id="1624867">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624873">buf</span><span class="op" id="1624876">[</span><span class="num" id="1624877">0</span><span class="op" id="1624878">]</span>&nbsp;<span class="op" id="1624880">=</span>&nbsp;<span class="string" id="1624882">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624887">e</span>&nbsp;<span class="op" id="1624889">:=</span>&nbsp;<span class="num" id="1624892">0</span>&nbsp;<span class="comment" id="1624894">//&nbsp;exp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624902">if</span>&nbsp;<span class="ident" id="1624905">v</span>&nbsp;<span class="op" id="1624907">==</span>&nbsp;<span class="num" id="1624910">0</span>&nbsp;<span class="op" id="1624912">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624916">if</span>&nbsp;<span class="num" id="1624919">1</span><span class="op" id="1624920">/</span><span class="ident" id="1624921">v</span>&nbsp;<span class="op" id="1624923">&lt;</span>&nbsp;<span class="num" id="1624925">0</span>&nbsp;<span class="op" id="1624927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624932">buf</span><span class="op" id="1624935">[</span><span class="num" id="1624936">0</span><span class="op" id="1624937">]</span>&nbsp;<span class="op" id="1624939">=</span>&nbsp;<span class="string" id="1624941">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624950">}</span>&nbsp;<span class="keyword" id="1624952">else</span>&nbsp;<span class="op" id="1624957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624961">if</span>&nbsp;<span class="ident" id="1624964">v</span>&nbsp;<span class="op" id="1624966">&lt;</span>&nbsp;<span class="num" id="1624968">0</span>&nbsp;<span class="op" id="1624970">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624975">v</span>&nbsp;<span class="op" id="1624977">=</span>&nbsp;<span class="op" id="1624979">-</span><span class="ident" id="1624980">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624985">buf</span><span class="op" id="1624988">[</span><span class="num" id="1624989">0</span><span class="op" id="1624990">]</span>&nbsp;<span class="op" id="1624992">=</span>&nbsp;<span class="string" id="1624994">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1625005">//&nbsp;normalize</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625020">for</span>&nbsp;<span class="ident" id="1625024">v</span>&nbsp;<span class="op" id="1625026">&gt;=</span>&nbsp;<span class="num" id="1625029">10</span>&nbsp;<span class="op" id="1625032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625037">e</span><span class="op" id="1625038">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625044">v</span>&nbsp;<span class="op" id="1625046">/=</span>&nbsp;<span class="num" id="1625049">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625058">for</span>&nbsp;<span class="ident" id="1625062">v</span>&nbsp;<span class="op" id="1625064">&lt;</span>&nbsp;<span class="num" id="1625066">1</span>&nbsp;<span class="op" id="1625068">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625073">e</span><span class="op" id="1625074">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625080">v</span>&nbsp;<span class="op" id="1625082">*=</span>&nbsp;<span class="num" id="1625085">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1625095">//&nbsp;round</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625106">h</span>&nbsp;<span class="op" id="1625108">:=</span>&nbsp;<span class="num" id="1625111">5.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625117">for</span>&nbsp;<span class="ident" id="1625121">i</span>&nbsp;<span class="op" id="1625123">:=</span>&nbsp;<span class="num" id="1625126">0</span><span class="op" id="1625127">;</span>&nbsp;<span class="ident" id="1625129">i</span>&nbsp;<span class="op" id="1625131">&lt;</span>&nbsp;<span class="ident" id="1625133">n</span><span class="op" id="1625134">;</span>&nbsp;<span class="ident" id="1625136">i</span><span class="op" id="1625137">++</span>&nbsp;<span class="op" id="1625140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625145">h</span>&nbsp;<span class="op" id="1625147">/=</span>&nbsp;<span class="num" id="1625150">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625159">v</span>&nbsp;<span class="op" id="1625161">+=</span>&nbsp;<span class="ident" id="1625164">h</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625168">if</span>&nbsp;<span class="ident" id="1625171">v</span>&nbsp;<span class="op" id="1625173">&gt;=</span>&nbsp;<span class="num" id="1625176">10</span>&nbsp;<span class="op" id="1625179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625184">e</span><span class="op" id="1625185">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625191">v</span>&nbsp;<span class="op" id="1625193">/=</span>&nbsp;<span class="num" id="1625196">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625204">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1625208">//&nbsp;format&nbsp;+d.dddd+edd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625231">for</span>&nbsp;<span class="ident" id="1625235">i</span>&nbsp;<span class="op" id="1625237">:=</span>&nbsp;<span class="num" id="1625240">0</span><span class="op" id="1625241">;</span>&nbsp;<span class="ident" id="1625243">i</span>&nbsp;<span class="op" id="1625245">&lt;</span>&nbsp;<span class="ident" id="1625247">n</span><span class="op" id="1625248">;</span>&nbsp;<span class="ident" id="1625250">i</span><span class="op" id="1625251">++</span>&nbsp;<span class="op" id="1625254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625258">s</span>&nbsp;<span class="op" id="1625260">:=</span>&nbsp;<span class="builtintype" id="1625263">int</span><span class="op" id="1625266">(</span><span class="ident" id="1625267">v</span><span class="op" id="1625268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625272">buf</span><span class="op" id="1625275">[</span><span class="ident" id="1625276">i</span><span class="op" id="1625277">+</span><span class="num" id="1625278">2</span><span class="op" id="1625279">]</span>&nbsp;<span class="op" id="1625281">=</span>&nbsp;<span class="builtintype" id="1625283">byte</span><span class="op" id="1625287">(</span><span class="ident" id="1625288">s</span>&nbsp;<span class="op" id="1625290">+</span>&nbsp;<span class="string" id="1625292">&#39;0&#39;</span><span class="op" id="1625295">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625299">v</span>&nbsp;<span class="op" id="1625301">-=</span>&nbsp;<span class="builtintype" id="1625304">float64</span><span class="op" id="1625311">(</span><span class="ident" id="1625312">s</span><span class="op" id="1625313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625317">v</span>&nbsp;<span class="op" id="1625319">*=</span>&nbsp;<span class="num" id="1625322">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625329">buf</span><span class="op" id="1625332">[</span><span class="num" id="1625333">1</span><span class="op" id="1625334">]</span>&nbsp;<span class="op" id="1625336">=</span>&nbsp;<span class="ident" id="1625338">buf</span><span class="op" id="1625341">[</span><span class="num" id="1625342">2</span><span class="op" id="1625343">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625346">buf</span><span class="op" id="1625349">[</span><span class="num" id="1625350">2</span><span class="op" id="1625351">]</span>&nbsp;<span class="op" id="1625353">=</span>&nbsp;<span class="string" id="1625355">&#39;.&#39;</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625361">buf</span><span class="op" id="1625364">[</span><span class="ident" id="1625365">n</span><span class="op" id="1625366">+</span><span class="num" id="1625367">2</span><span class="op" id="1625368">]</span>&nbsp;<span class="op" id="1625370">=</span>&nbsp;<span class="string" id="1625372">&#39;e&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625377">buf</span><span class="op" id="1625380">[</span><span class="ident" id="1625381">n</span><span class="op" id="1625382">+</span><span class="num" id="1625383">3</span><span class="op" id="1625384">]</span>&nbsp;<span class="op" id="1625386">=</span>&nbsp;<span class="string" id="1625388">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625393">if</span>&nbsp;<span class="ident" id="1625396">e</span>&nbsp;<span class="op" id="1625398">&lt;</span>&nbsp;<span class="num" id="1625400">0</span>&nbsp;<span class="op" id="1625402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625406">e</span>&nbsp;<span class="op" id="1625408">=</span>&nbsp;<span class="op" id="1625410">-</span><span class="ident" id="1625411">e</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625415">buf</span><span class="op" id="1625418">[</span><span class="ident" id="1625419">n</span><span class="op" id="1625420">+</span><span class="num" id="1625421">3</span><span class="op" id="1625422">]</span>&nbsp;<span class="op" id="1625424">=</span>&nbsp;<span class="string" id="1625426">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625435">buf</span><span class="op" id="1625438">[</span><span class="ident" id="1625439">n</span><span class="op" id="1625440">+</span><span class="num" id="1625441">4</span><span class="op" id="1625442">]</span>&nbsp;<span class="op" id="1625444">=</span>&nbsp;<span class="builtintype" id="1625446">byte</span><span class="op" id="1625450">(</span><span class="ident" id="1625451">e</span><span class="op" id="1625452">/</span><span class="num" id="1625453">100</span><span class="op" id="1625456">)</span>&nbsp;<span class="op" id="1625458">+</span>&nbsp;<span class="string" id="1625460">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625465">buf</span><span class="op" id="1625468">[</span><span class="ident" id="1625469">n</span><span class="op" id="1625470">+</span><span class="num" id="1625471">5</span><span class="op" id="1625472">]</span>&nbsp;<span class="op" id="1625474">=</span>&nbsp;<span class="builtintype" id="1625476">byte</span><span class="op" id="1625480">(</span><span class="ident" id="1625481">e</span><span class="op" id="1625482">/</span><span class="num" id="1625483">10</span><span class="op" id="1625485">)</span><span class="op" id="1625486">%</span><span class="num" id="1625487">10</span>&nbsp;<span class="op" id="1625490">+</span>&nbsp;<span class="string" id="1625492">&#39;0&#39;</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625497">buf</span><span class="op" id="1625500">[</span><span class="ident" id="1625501">n</span><span class="op" id="1625502">+</span><span class="num" id="1625503">6</span><span class="op" id="1625504">]</span>&nbsp;<span class="op" id="1625506">=</span>&nbsp;<span class="builtintype" id="1625508">byte</span><span class="op" id="1625512">(</span><span class="ident" id="1625513">e</span><span class="op" id="1625514">%</span><span class="num" id="1625515">10</span><span class="op" id="1625517">)</span>&nbsp;<span class="op" id="1625519">+</span>&nbsp;<span class="string" id="1625521">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625526">gwrite</span><span class="op" id="1625532">(</span><span class="ident" id="1625533">buf</span><span class="op" id="1625536">[</span><span class="op" id="1625537">:</span><span class="op" id="1625538">]</span><span class="op" id="1625539">)</span><br>
<span class="lineno"></span><span class="op" id="1625541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1625544">func</span>&nbsp;<span class="ident" id="1625549">printcomplex</span><span class="op" id="1625561">(</span><span class="ident" id="1625562">c</span>&nbsp;<span class="builtintype" id="1625564">complex128</span><span class="op" id="1625574">)</span>&nbsp;<span class="op" id="1625576">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1625579">print</span><span class="op" id="1625584">(</span><span class="string" id="1625585">&#34;(&#34;</span><span class="op" id="1625588">,</span>&nbsp;<span class="builtinfunc" id="1625590">real</span><span class="op" id="1625594">(</span><span class="ident" id="1625595">c</span><span class="op" id="1625596">)</span><span class="op" id="1625597">,</span>&nbsp;<span class="builtinfunc" id="1625599">imag</span><span class="op" id="1625603">(</span><span class="ident" id="1625604">c</span><span class="op" id="1625605">)</span><span class="op" id="1625606">,</span>&nbsp;<span class="string" id="1625608">&#34;i)&#34;</span><span class="op" id="1625612">)</span><br>
<span class="lineno"></span><span class="op" id="1625614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1625617">func</span>&nbsp;<span class="ident" id="1625622">printuint</span><span class="op" id="1625631">(</span><span class="ident" id="1625632">v</span>&nbsp;<span class="ident" id="1625634">uint64</span><span class="op" id="1625640">)</span>&nbsp;<span class="op" id="1625642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625645">var</span>&nbsp;<span class="ident" id="1625649">buf</span>&nbsp;<span class="op" id="1625653">[</span><span class="num" id="1625654">100</span><span class="op" id="1625657">]</span><span class="builtintype" id="1625658">byte</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625664">i</span>&nbsp;<span class="op" id="1625666">:=</span>&nbsp;<span class="builtinfunc" id="1625669">len</span><span class="op" id="1625672">(</span><span class="ident" id="1625673">buf</span><span class="op" id="1625676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625679">for</span>&nbsp;<span class="ident" id="1625683">i</span><span class="op" id="1625684">--</span><span class="op" id="1625686">;</span>&nbsp;<span class="ident" id="1625688">i</span>&nbsp;<span class="op" id="1625690">&gt;</span>&nbsp;<span class="num" id="1625692">0</span><span class="op" id="1625693">;</span>&nbsp;<span class="ident" id="1625695">i</span><span class="op" id="1625696">--</span>&nbsp;<span class="op" id="1625699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625703">buf</span><span class="op" id="1625706">[</span><span class="ident" id="1625707">i</span><span class="op" id="1625708">]</span>&nbsp;<span class="op" id="1625710">=</span>&nbsp;<span class="builtintype" id="1625712">byte</span><span class="op" id="1625716">(</span><span class="ident" id="1625717">v</span><span class="op" id="1625718">%</span><span class="num" id="1625719">10</span>&nbsp;<span class="op" id="1625722">+</span>&nbsp;<span class="string" id="1625724">&#39;0&#39;</span><span class="op" id="1625727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625731">if</span>&nbsp;<span class="ident" id="1625734">v</span>&nbsp;<span class="op" id="1625736">&lt;</span>&nbsp;<span class="num" id="1625738">10</span>&nbsp;<span class="op" id="1625741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625746">break</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625758">v</span>&nbsp;<span class="op" id="1625760">/=</span>&nbsp;<span class="num" id="1625763">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625770">gwrite</span><span class="op" id="1625776">(</span><span class="ident" id="1625777">buf</span><span class="op" id="1625780">[</span><span class="ident" id="1625781">i</span><span class="op" id="1625782">:</span><span class="op" id="1625783">]</span><span class="op" id="1625784">)</span><br>
<span class="lineno"></span><span class="op" id="1625786">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1625789">func</span>&nbsp;<span class="ident" id="1625794">printint</span><span class="op" id="1625802">(</span><span class="ident" id="1625803">v</span>&nbsp;<span class="ident" id="1625805">int64</span><span class="op" id="1625810">)</span>&nbsp;<span class="op" id="1625812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625815">if</span>&nbsp;<span class="ident" id="1625818">v</span>&nbsp;<span class="op" id="1625820">&lt;</span>&nbsp;<span class="num" id="1625822">0</span>&nbsp;<span class="op" id="1625824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1625828">print</span><span class="op" id="1625833">(</span><span class="string" id="1625834">&#34;-&#34;</span><span class="op" id="1625837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625841">v</span>&nbsp;<span class="op" id="1625843">=</span>&nbsp;<span class="op" id="1625845">-</span><span class="ident" id="1625846">v</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625852">printuint</span><span class="op" id="1625861">(</span><span class="ident" id="1625862">uint64</span><span class="op" id="1625868">(</span><span class="ident" id="1625869">v</span><span class="op" id="1625870">)</span><span class="op" id="1625871">)</span><br>
<span class="lineno"></span><span class="op" id="1625873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1625876">func</span>&nbsp;<span class="ident" id="1625881">printhex</span><span class="op" id="1625889">(</span><span class="ident" id="1625890">v</span>&nbsp;<span class="ident" id="1625892">uint64</span><span class="op" id="1625898">)</span>&nbsp;<span class="op" id="1625900">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625903">const</span>&nbsp;<span class="ident" id="1625909">dig</span>&nbsp;<span class="op" id="1625913">=</span>&nbsp;<span class="string" id="1625915">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625935">var</span>&nbsp;<span class="ident" id="1625939">buf</span>&nbsp;<span class="op" id="1625943">[</span><span class="num" id="1625944">100</span><span class="op" id="1625947">]</span><span class="builtintype" id="1625948">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625954">i</span>&nbsp;<span class="op" id="1625956">:=</span>&nbsp;<span class="builtinfunc" id="1625959">len</span><span class="op" id="1625962">(</span><span class="ident" id="1625963">buf</span><span class="op" id="1625966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625969">for</span>&nbsp;<span class="ident" id="1625973">i</span><span class="op" id="1625974">--</span><span class="op" id="1625976">;</span>&nbsp;<span class="ident" id="1625978">i</span>&nbsp;<span class="op" id="1625980">&gt;</span>&nbsp;<span class="num" id="1625982">0</span><span class="op" id="1625983">;</span>&nbsp;<span class="ident" id="1625985">i</span><span class="op" id="1625986">--</span>&nbsp;<span class="op" id="1625989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625993">buf</span><span class="op" id="1625996">[</span><span class="ident" id="1625997">i</span><span class="op" id="1625998">]</span>&nbsp;<span class="op" id="1626000">=</span>&nbsp;<span class="ident" id="1626002">dig</span><span class="op" id="1626005">[</span><span class="ident" id="1626006">v</span><span class="op" id="1626007">%</span><span class="num" id="1626008">16</span><span class="op" id="1626010">]</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1626014">if</span>&nbsp;<span class="ident" id="1626017">v</span>&nbsp;<span class="op" id="1626019">&lt;</span>&nbsp;<span class="num" id="1626021">16</span>&nbsp;<span class="op" id="1626024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1626029">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1626037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626041">v</span>&nbsp;<span class="op" id="1626043">/=</span>&nbsp;<span class="num" id="1626046">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1626050">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626053">i</span><span class="op" id="1626054">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626058">buf</span><span class="op" id="1626061">[</span><span class="ident" id="1626062">i</span><span class="op" id="1626063">]</span>&nbsp;<span class="op" id="1626065">=</span>&nbsp;<span class="string" id="1626067">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626072">i</span><span class="op" id="1626073">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626077">buf</span><span class="op" id="1626080">[</span><span class="ident" id="1626081">i</span><span class="op" id="1626082">]</span>&nbsp;<span class="op" id="1626084">=</span>&nbsp;<span class="string" id="1626086">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626091">gwrite</span><span class="op" id="1626097">(</span><span class="ident" id="1626098">buf</span><span class="op" id="1626101">[</span><span class="ident" id="1626102">i</span><span class="op" id="1626103">:</span><span class="op" id="1626104">]</span><span class="op" id="1626105">)</span><br>
<span class="lineno">295</span><span class="op" id="1626107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1626110">func</span>&nbsp;<span class="ident" id="1626115">printpointer</span><span class="op" id="1626127">(</span><span class="ident" id="1626128">p</span>&nbsp;<span class="ident" id="1626130">unsafe</span><span class="op" id="1626136">.</span><span class="ident" id="1626137">Pointer</span><span class="op" id="1626144">)</span>&nbsp;<span class="op" id="1626146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626149">printhex</span><span class="op" id="1626157">(</span><span class="ident" id="1626158">uint64</span><span class="op" id="1626164">(</span><span class="builtintype" id="1626165">uintptr</span><span class="op" id="1626172">(</span><span class="ident" id="1626173">p</span><span class="op" id="1626174">)</span><span class="op" id="1626175">)</span><span class="op" id="1626176">)</span><br>
<span class="lineno"></span><span class="op" id="1626178">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="keyword" id="1626181">func</span>&nbsp;<span class="ident" id="1626186">printstring</span><span class="op" id="1626197">(</span><span class="ident" id="1626198">s</span>&nbsp;<span class="builtintype" id="1626200">string</span><span class="op" id="1626206">)</span>&nbsp;<span class="op" id="1626208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1626211">if</span>&nbsp;<span class="builtintype" id="1626214">uintptr</span><span class="op" id="1626221">(</span><span class="builtinfunc" id="1626222">len</span><span class="op" id="1626225">(</span><span class="ident" id="1626226">s</span><span class="op" id="1626227">)</span><span class="op" id="1626228">)</span>&nbsp;<span class="op" id="1626230">&gt;</span>&nbsp;<span class="ident" id="1626232">maxstring</span>&nbsp;<span class="op" id="1626242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626246">gwrite</span><span class="op" id="1626252">(</span><span class="ident" id="1626253">bytes</span><span class="op" id="1626258">(</span><span class="string" id="1626259">&#34;[string&nbsp;too&nbsp;long]&#34;</span><span class="op" id="1626278">)</span><span class="op" id="1626279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1626283">return</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1626291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626294">gwrite</span><span class="op" id="1626300">(</span><span class="ident" id="1626301">bytes</span><span class="op" id="1626306">(</span><span class="ident" id="1626307">s</span><span class="op" id="1626308">)</span><span class="op" id="1626309">)</span><br>
<span class="lineno"></span><span class="op" id="1626311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1626314">func</span>&nbsp;<span class="ident" id="1626319">printslice</span><span class="op" id="1626329">(</span><span class="ident" id="1626330">s</span>&nbsp;<span class="op" id="1626332">[</span><span class="op" id="1626333">]</span><span class="builtintype" id="1626334">byte</span><span class="op" id="1626338">)</span>&nbsp;<span class="op" id="1626340">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626343">sp</span>&nbsp;<span class="op" id="1626346">:=</span>&nbsp;<span class="op" id="1626349">(</span><span class="op" id="1626350">*</span><span class="ident" id="1626351">slice</span><span class="op" id="1626356">)</span><span class="op" id="1626357">(</span><span class="ident" id="1626358">unsafe</span><span class="op" id="1626364">.</span><span class="ident" id="1626365">Pointer</span><span class="op" id="1626372">(</span><span class="op" id="1626373">&amp;</span><span class="ident" id="1626374">s</span><span class="op" id="1626375">)</span><span class="op" id="1626376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1626379">print</span><span class="op" id="1626384">(</span><span class="string" id="1626385">&#34;[&#34;</span><span class="op" id="1626388">,</span>&nbsp;<span class="builtinfunc" id="1626390">len</span><span class="op" id="1626393">(</span><span class="ident" id="1626394">s</span><span class="op" id="1626395">)</span><span class="op" id="1626396">,</span>&nbsp;<span class="string" id="1626398">&#34;/&#34;</span><span class="op" id="1626401">,</span>&nbsp;<span class="builtinfunc" id="1626403">cap</span><span class="op" id="1626406">(</span><span class="ident" id="1626407">s</span><span class="op" id="1626408">)</span><span class="op" id="1626409">,</span>&nbsp;<span class="string" id="1626411">&#34;]&#34;</span><span class="op" id="1626414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626417">printpointer</span><span class="op" id="1626429">(</span><span class="ident" id="1626430">unsafe</span><span class="op" id="1626436">.</span><span class="ident" id="1626437">Pointer</span><span class="op" id="1626444">(</span><span class="ident" id="1626445">sp</span><span class="op" id="1626447">.</span><span class="ident" id="1626448">array</span><span class="op" id="1626453">)</span><span class="op" id="1626454">)</span><br>
<span class="lineno"></span><span class="op" id="1626456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1626459">func</span>&nbsp;<span class="ident" id="1626464">printeface</span><span class="op" id="1626474">(</span><span class="ident" id="1626475">e</span>&nbsp;<span class="keyword" id="1626477">interface</span><span class="op" id="1626486">{</span><span class="op" id="1626487">}</span><span class="op" id="1626488">)</span>&nbsp;<span class="op" id="1626490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626493">ep</span>&nbsp;<span class="op" id="1626496">:=</span>&nbsp;<span class="op" id="1626499">(</span><span class="op" id="1626500">*</span><span class="ident" id="1626501">eface</span><span class="op" id="1626506">)</span><span class="op" id="1626507">(</span><span class="ident" id="1626508">unsafe</span><span class="op" id="1626514">.</span><span class="ident" id="1626515">Pointer</span><span class="op" id="1626522">(</span><span class="op" id="1626523">&amp;</span><span class="ident" id="1626524">e</span><span class="op" id="1626525">)</span><span class="op" id="1626526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1626529">print</span><span class="op" id="1626534">(</span><span class="string" id="1626535">&#34;(&#34;</span><span class="op" id="1626538">,</span>&nbsp;<span class="ident" id="1626540">ep</span><span class="op" id="1626542">.</span><span class="ident" id="1626543">_type</span><span class="op" id="1626548">,</span>&nbsp;<span class="string" id="1626550">&#34;,&#34;</span><span class="op" id="1626553">,</span>&nbsp;<span class="ident" id="1626555">ep</span><span class="op" id="1626557">.</span><span class="ident" id="1626558">data</span><span class="op" id="1626562">,</span>&nbsp;<span class="string" id="1626564">&#34;)&#34;</span><span class="op" id="1626567">)</span><br>
<span class="lineno"></span><span class="op" id="1626569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1626572">func</span>&nbsp;<span class="ident" id="1626577">printiface</span><span class="op" id="1626587">(</span><span class="ident" id="1626588">i</span>&nbsp;<span class="ident" id="1626590">fInterface</span><span class="op" id="1626600">)</span>&nbsp;<span class="op" id="1626602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1626605">ip</span>&nbsp;<span class="op" id="1626608">:=</span>&nbsp;<span class="op" id="1626611">(</span><span class="op" id="1626612">*</span><span class="ident" id="1626613">iface</span><span class="op" id="1626618">)</span><span class="op" id="1626619">(</span><span class="ident" id="1626620">unsafe</span><span class="op" id="1626626">.</span><span class="ident" id="1626627">Pointer</span><span class="op" id="1626634">(</span><span class="op" id="1626635">&amp;</span><span class="ident" id="1626636">i</span><span class="op" id="1626637">)</span><span class="op" id="1626638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1626641">print</span><span class="op" id="1626646">(</span><span class="string" id="1626647">&#34;(&#34;</span><span class="op" id="1626650">,</span>&nbsp;<span class="ident" id="1626652">ip</span><span class="op" id="1626654">.</span><span class="ident" id="1626655">tab</span><span class="op" id="1626658">,</span>&nbsp;<span class="string" id="1626660">&#34;,&#34;</span><span class="op" id="1626663">,</span>&nbsp;<span class="ident" id="1626665">ip</span><span class="op" id="1626667">.</span><span class="ident" id="1626668">data</span><span class="op" id="1626672">,</span>&nbsp;<span class="string" id="1626674">&#34;)&#34;</span><span class="op" id="1626677">)</span><br>
<span class="lineno"></span><span class="op" id="1626679">}</span>
</div>
</body>
</html>
