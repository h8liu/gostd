<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6886634">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6886689">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6886743">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6886794">package</span>&nbsp;<span class="ident" id="6886802">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6886807">import</span>&nbsp;<span class="op" id="6886814">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6886817">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6886828">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6886838">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6886841">type</span>&nbsp;<span class="ident" id="6886846">portTest</span>&nbsp;<span class="keyword" id="6886855">struct</span>&nbsp;<span class="op" id="6886862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886865">netw</span>&nbsp;<span class="builtintype" id="6886870">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886878">name</span>&nbsp;<span class="builtintype" id="6886883">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886891">port</span>&nbsp;<span class="builtintype" id="6886896">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886901">ok</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6886906">bool</span><br>
<span class="lineno"></span><span class="op" id="6886911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6886914">var</span>&nbsp;<span class="ident" id="6886918">porttests</span>&nbsp;<span class="op" id="6886928">=</span>&nbsp;<span class="op" id="6886930">[</span><span class="op" id="6886931">]</span><span class="ident" id="6886932"><a href="/net/port_test.go.html#6886846">portTest</a></span><span class="op" id="6886940">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886943">{</span><span class="string" id="6886944">&#34;tcp&#34;</span><span class="op" id="6886949">,</span>&nbsp;<span class="string" id="6886951">&#34;echo&#34;</span><span class="op" id="6886957">,</span>&nbsp;<span class="num" id="6886959">7</span><span class="op" id="6886960">,</span>&nbsp;<span class="ident" id="6886962">true</span><span class="op" id="6886966">}</span><span class="op" id="6886967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886970">{</span><span class="string" id="6886971">&#34;tcp&#34;</span><span class="op" id="6886976">,</span>&nbsp;<span class="string" id="6886978">&#34;discard&#34;</span><span class="op" id="6886987">,</span>&nbsp;<span class="num" id="6886989">9</span><span class="op" id="6886990">,</span>&nbsp;<span class="ident" id="6886992">true</span><span class="op" id="6886996">}</span><span class="op" id="6886997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887000">{</span><span class="string" id="6887001">&#34;tcp&#34;</span><span class="op" id="6887006">,</span>&nbsp;<span class="string" id="6887008">&#34;systat&#34;</span><span class="op" id="6887016">,</span>&nbsp;<span class="num" id="6887018">11</span><span class="op" id="6887020">,</span>&nbsp;<span class="ident" id="6887022">true</span><span class="op" id="6887026">}</span><span class="op" id="6887027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887030">{</span><span class="string" id="6887031">&#34;tcp&#34;</span><span class="op" id="6887036">,</span>&nbsp;<span class="string" id="6887038">&#34;daytime&#34;</span><span class="op" id="6887047">,</span>&nbsp;<span class="num" id="6887049">13</span><span class="op" id="6887051">,</span>&nbsp;<span class="ident" id="6887053">true</span><span class="op" id="6887057">}</span><span class="op" id="6887058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887061">{</span><span class="string" id="6887062">&#34;tcp&#34;</span><span class="op" id="6887067">,</span>&nbsp;<span class="string" id="6887069">&#34;chargen&#34;</span><span class="op" id="6887078">,</span>&nbsp;<span class="num" id="6887080">19</span><span class="op" id="6887082">,</span>&nbsp;<span class="ident" id="6887084">true</span><span class="op" id="6887088">}</span><span class="op" id="6887089">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887092">{</span><span class="string" id="6887093">&#34;tcp&#34;</span><span class="op" id="6887098">,</span>&nbsp;<span class="string" id="6887100">&#34;ftp-data&#34;</span><span class="op" id="6887110">,</span>&nbsp;<span class="num" id="6887112">20</span><span class="op" id="6887114">,</span>&nbsp;<span class="ident" id="6887116">true</span><span class="op" id="6887120">}</span><span class="op" id="6887121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887124">{</span><span class="string" id="6887125">&#34;tcp&#34;</span><span class="op" id="6887130">,</span>&nbsp;<span class="string" id="6887132">&#34;ftp&#34;</span><span class="op" id="6887137">,</span>&nbsp;<span class="num" id="6887139">21</span><span class="op" id="6887141">,</span>&nbsp;<span class="ident" id="6887143">true</span><span class="op" id="6887147">}</span><span class="op" id="6887148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887151">{</span><span class="string" id="6887152">&#34;tcp&#34;</span><span class="op" id="6887157">,</span>&nbsp;<span class="string" id="6887159">&#34;telnet&#34;</span><span class="op" id="6887167">,</span>&nbsp;<span class="num" id="6887169">23</span><span class="op" id="6887171">,</span>&nbsp;<span class="ident" id="6887173">true</span><span class="op" id="6887177">}</span><span class="op" id="6887178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887181">{</span><span class="string" id="6887182">&#34;tcp&#34;</span><span class="op" id="6887187">,</span>&nbsp;<span class="string" id="6887189">&#34;smtp&#34;</span><span class="op" id="6887195">,</span>&nbsp;<span class="num" id="6887197">25</span><span class="op" id="6887199">,</span>&nbsp;<span class="ident" id="6887201">true</span><span class="op" id="6887205">}</span><span class="op" id="6887206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887209">{</span><span class="string" id="6887210">&#34;tcp&#34;</span><span class="op" id="6887215">,</span>&nbsp;<span class="string" id="6887217">&#34;time&#34;</span><span class="op" id="6887223">,</span>&nbsp;<span class="num" id="6887225">37</span><span class="op" id="6887227">,</span>&nbsp;<span class="ident" id="6887229">true</span><span class="op" id="6887233">}</span><span class="op" id="6887234">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887237">{</span><span class="string" id="6887238">&#34;tcp&#34;</span><span class="op" id="6887243">,</span>&nbsp;<span class="string" id="6887245">&#34;domain&#34;</span><span class="op" id="6887253">,</span>&nbsp;<span class="num" id="6887255">53</span><span class="op" id="6887257">,</span>&nbsp;<span class="ident" id="6887259">true</span><span class="op" id="6887263">}</span><span class="op" id="6887264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887267">{</span><span class="string" id="6887268">&#34;tcp&#34;</span><span class="op" id="6887273">,</span>&nbsp;<span class="string" id="6887275">&#34;finger&#34;</span><span class="op" id="6887283">,</span>&nbsp;<span class="num" id="6887285">79</span><span class="op" id="6887287">,</span>&nbsp;<span class="ident" id="6887289">true</span><span class="op" id="6887293">}</span><span class="op" id="6887294">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887298">{</span><span class="string" id="6887299">&#34;udp&#34;</span><span class="op" id="6887304">,</span>&nbsp;<span class="string" id="6887306">&#34;echo&#34;</span><span class="op" id="6887312">,</span>&nbsp;<span class="num" id="6887314">7</span><span class="op" id="6887315">,</span>&nbsp;<span class="ident" id="6887317">true</span><span class="op" id="6887321">}</span><span class="op" id="6887322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887325">{</span><span class="string" id="6887326">&#34;udp&#34;</span><span class="op" id="6887331">,</span>&nbsp;<span class="string" id="6887333">&#34;tftp&#34;</span><span class="op" id="6887339">,</span>&nbsp;<span class="num" id="6887341">69</span><span class="op" id="6887343">,</span>&nbsp;<span class="ident" id="6887345">true</span><span class="op" id="6887349">}</span><span class="op" id="6887350">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887353">{</span><span class="string" id="6887354">&#34;udp&#34;</span><span class="op" id="6887359">,</span>&nbsp;<span class="string" id="6887361">&#34;bootpc&#34;</span><span class="op" id="6887369">,</span>&nbsp;<span class="num" id="6887371">68</span><span class="op" id="6887373">,</span>&nbsp;<span class="ident" id="6887375">true</span><span class="op" id="6887379">}</span><span class="op" id="6887380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887383">{</span><span class="string" id="6887384">&#34;udp&#34;</span><span class="op" id="6887389">,</span>&nbsp;<span class="string" id="6887391">&#34;bootps&#34;</span><span class="op" id="6887399">,</span>&nbsp;<span class="num" id="6887401">67</span><span class="op" id="6887403">,</span>&nbsp;<span class="ident" id="6887405">true</span><span class="op" id="6887409">}</span><span class="op" id="6887410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887413">{</span><span class="string" id="6887414">&#34;udp&#34;</span><span class="op" id="6887419">,</span>&nbsp;<span class="string" id="6887421">&#34;domain&#34;</span><span class="op" id="6887429">,</span>&nbsp;<span class="num" id="6887431">53</span><span class="op" id="6887433">,</span>&nbsp;<span class="ident" id="6887435">true</span><span class="op" id="6887439">}</span><span class="op" id="6887440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887443">{</span><span class="string" id="6887444">&#34;udp&#34;</span><span class="op" id="6887449">,</span>&nbsp;<span class="string" id="6887451">&#34;ntp&#34;</span><span class="op" id="6887456">,</span>&nbsp;<span class="num" id="6887458">123</span><span class="op" id="6887461">,</span>&nbsp;<span class="ident" id="6887463">true</span><span class="op" id="6887467">}</span><span class="op" id="6887468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887471">{</span><span class="string" id="6887472">&#34;udp&#34;</span><span class="op" id="6887477">,</span>&nbsp;<span class="string" id="6887479">&#34;snmp&#34;</span><span class="op" id="6887485">,</span>&nbsp;<span class="num" id="6887487">161</span><span class="op" id="6887490">,</span>&nbsp;<span class="ident" id="6887492">true</span><span class="op" id="6887496">}</span><span class="op" id="6887497">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887500">{</span><span class="string" id="6887501">&#34;udp&#34;</span><span class="op" id="6887506">,</span>&nbsp;<span class="string" id="6887508">&#34;syslog&#34;</span><span class="op" id="6887516">,</span>&nbsp;<span class="num" id="6887518">514</span><span class="op" id="6887521">,</span>&nbsp;<span class="ident" id="6887523">true</span><span class="op" id="6887527">}</span><span class="op" id="6887528">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887532">{</span><span class="string" id="6887533">&#34;--badnet--&#34;</span><span class="op" id="6887545">,</span>&nbsp;<span class="string" id="6887547">&#34;zzz&#34;</span><span class="op" id="6887552">,</span>&nbsp;<span class="num" id="6887554">0</span><span class="op" id="6887555">,</span>&nbsp;<span class="ident" id="6887557">false</span><span class="op" id="6887562">}</span><span class="op" id="6887563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887566">{</span><span class="string" id="6887567">&#34;tcp&#34;</span><span class="op" id="6887572">,</span>&nbsp;<span class="string" id="6887574">&#34;--badport--&#34;</span><span class="op" id="6887587">,</span>&nbsp;<span class="num" id="6887589">0</span><span class="op" id="6887590">,</span>&nbsp;<span class="ident" id="6887592">false</span><span class="op" id="6887597">}</span><span class="op" id="6887598">,</span><br>
<span class="lineno"></span><span class="op" id="6887600">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="6887603">func</span>&nbsp;<span class="ident" id="6887608">TestLookupPort</span><span class="op" id="6887622">(</span><span class="ident" id="6887623">t</span>&nbsp;<span class="op" id="6887625">*</span><span class="ident" id="6887626"><a href="/net/port_test.go.html#6886828">testing</a></span><span class="op" id="6887633">.</span><span class="ident" id="6887634">T</span><span class="op" id="6887635">)</span>&nbsp;<span class="op" id="6887637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887640">switch</span>&nbsp;<span class="ident" id="6887647"><a href="/net/port_test.go.html#6886817">runtime</a></span><span class="op" id="6887654">.</span><span class="ident" id="6887655">GOOS</span>&nbsp;<span class="op" id="6887660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887663">case</span>&nbsp;<span class="string" id="6887668">&#34;nacl&#34;</span><span class="op" id="6887674">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887678"><a href="/net/port_test.go.html#6887623">t</a></span><span class="op" id="6887679">.</span><span class="ident" id="6887680">Skipf</span><span class="op" id="6887685">(</span><span class="string" id="6887686">&#34;skipping&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="6887707">,</span>&nbsp;<span class="ident" id="6887709"><a href="/net/port_test.go.html#6886817">runtime</a></span><span class="op" id="6887716">.</span><span class="ident" id="6887717">GOOS</span><span class="op" id="6887721">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887728">for</span>&nbsp;<span class="ident" id="6887732">i</span>&nbsp;<span class="op" id="6887734">:=</span>&nbsp;<span class="num" id="6887737">0</span><span class="op" id="6887738">;</span>&nbsp;<span class="ident" id="6887740"><a href="/net/port_test.go.html#6887732">i</a></span>&nbsp;<span class="op" id="6887742">&lt;</span>&nbsp;<span class="builtinfunc" id="6887744">len</span><span class="op" id="6887747">(</span><span class="ident" id="6887748"><a href="/net/port_test.go.html#6886918">porttests</a></span><span class="op" id="6887757">)</span><span class="op" id="6887758">;</span>&nbsp;<span class="ident" id="6887760"><a href="/net/port_test.go.html#6887732">i</a></span><span class="op" id="6887761">++</span>&nbsp;<span class="op" id="6887764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887768">tt</span>&nbsp;<span class="op" id="6887771">:=</span>&nbsp;<span class="ident" id="6887774"><a href="/net/port_test.go.html#6886918">porttests</a></span><span class="op" id="6887783">[</span><span class="ident" id="6887784"><a href="/net/port_test.go.html#6887732">i</a></span><span class="op" id="6887785">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887789">if</span>&nbsp;<span class="ident" id="6887792">port</span><span class="op" id="6887796">,</span>&nbsp;<span class="ident" id="6887798">err</span>&nbsp;<span class="op" id="6887802">:=</span>&nbsp;<span class="ident" id="6887805"><a href="/net/lookup.go.html#2643934">LookupPort</a></span><span class="op" id="6887815">(</span><span class="ident" id="6887816"><a href="/net/port_test.go.html#6887768">tt</a></span><span class="op" id="6887818">.</span><span class="ident" id="6887819">netw</span><span class="op" id="6887823">,</span>&nbsp;<span class="ident" id="6887825"><a href="/net/port_test.go.html#6887768">tt</a></span><span class="op" id="6887827">.</span><span class="ident" id="6887828">name</span><span class="op" id="6887832">)</span><span class="op" id="6887833">;</span>&nbsp;<span class="ident" id="6887835"><a href="/net/port_test.go.html#6887792">port</a></span>&nbsp;<span class="op" id="6887840">!=</span>&nbsp;<span class="ident" id="6887843"><a href="/net/port_test.go.html#6887768">tt</a></span><span class="op" id="6887845">.</span><span class="ident" id="6887846">port</span>&nbsp;<span class="op" id="6887851">||</span>&nbsp;<span class="op" id="6887854">(</span><span class="ident" id="6887855"><a href="/net/port_test.go.html#6887798">err</a></span>&nbsp;<span class="op" id="6887859">==</span>&nbsp;<span class="ident" id="6887862">nil</span><span class="op" id="6887865">)</span>&nbsp;<span class="op" id="6887867">!=</span>&nbsp;<span class="ident" id="6887870"><a href="/net/port_test.go.html#6887768">tt</a></span><span class="op" id="6887872">.</span><span class="ident" id="6887873">ok</span>&nbsp;<span class="op" id="6887876">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887881"><a href="/net/port_test.go.html#6887623">t</a></span><span class="op" id="6887882">.</span><span class="ident" id="6887883">Errorf</span><span class="op" id="6887889">(</span><span class="string" id="6887890">&#34;LookupPort(%q,&nbsp;%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6887928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887934"><a href="/net/port_test.go.html#6887768">tt</a></span><span class="op" id="6887936">.</span><span class="ident" id="6887937">netw</span><span class="op" id="6887941">,</span>&nbsp;<span class="ident" id="6887943"><a href="/net/port_test.go.html#6887768">tt</a></span><span class="op" id="6887945">.</span><span class="ident" id="6887946">name</span><span class="op" id="6887950">,</span>&nbsp;<span class="ident" id="6887952"><a href="/net/port_test.go.html#6887792">port</a></span><span class="op" id="6887956">,</span>&nbsp;<span class="ident" id="6887958"><a href="/net/port_test.go.html#6887798">err</a></span><span class="op" id="6887961">,</span>&nbsp;<span class="ident" id="6887963"><a href="/net/port_test.go.html#6887768">tt</a></span><span class="op" id="6887965">.</span><span class="ident" id="6887966">port</span><span class="op" id="6887970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887977">}</span><br>
<span class="lineno"></span><span class="op" id="6887979">}</span>
</div>
</body>
</html>
