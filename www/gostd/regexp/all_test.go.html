<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6704113">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6704168">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6704222">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6704273">package</span>&nbsp;<span class="ident" id="6704281">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704289">import</span>&nbsp;<span class="op" id="6704296">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704299">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704310">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704327">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704338">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6704348">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704351">var</span>&nbsp;<span class="ident" id="6704355">good_re</span>&nbsp;<span class="op" id="6704363">=</span>&nbsp;<span class="op" id="6704365">[</span><span class="op" id="6704366">]</span><span class="builtintype" id="6704367">string</span><span class="op" id="6704373">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704376">``</span><span class="op" id="6704378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704381">`.`</span><span class="op" id="6704384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704387">`^.$`</span><span class="op" id="6704392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704395">`a`</span><span class="op" id="6704398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704401">`a*`</span><span class="op" id="6704405">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704408">`a+`</span><span class="op" id="6704412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704415">`a?`</span><span class="op" id="6704419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704422">`a|b`</span><span class="op" id="6704427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704430">`a*|b*`</span><span class="op" id="6704437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704440">`(a*|b)(c*|d)`</span><span class="op" id="6704454">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704457">`[a-z]`</span><span class="op" id="6704464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704467">`[a-abc-c\-\]\[]`</span><span class="op" id="6704484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704487">`[a-z]+`</span><span class="op" id="6704495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704498">`[abc]`</span><span class="op" id="6704505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704508">`[^1234]`</span><span class="op" id="6704517">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704520">`[^\n]`</span><span class="op" id="6704527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704530">`\!\\`</span><span class="op" id="6704536">,</span><br>
<span class="lineno"></span><span class="op" id="6704538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704541">type</span>&nbsp;<span class="ident" id="6704546">stringError</span>&nbsp;<span class="keyword" id="6704558">struct</span>&nbsp;<span class="op" id="6704565">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704568">re</span>&nbsp;&nbsp;<span class="builtintype" id="6704572">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704580">err</span>&nbsp;<span class="builtintype" id="6704584">string</span><br>
<span class="lineno"></span><span class="op" id="6704591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704594">var</span>&nbsp;<span class="ident" id="6704598">bad_re</span>&nbsp;<span class="op" id="6704605">=</span>&nbsp;<span class="op" id="6704607">[</span><span class="op" id="6704608">]</span><span class="ident" id="6704609">stringError</span><span class="op" id="6704620">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704623">{</span><span class="string" id="6704624">`*`</span><span class="op" id="6704627">,</span>&nbsp;<span class="string" id="6704629">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`*`&#34;</span><span class="op" id="6704675">}</span><span class="op" id="6704676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704679">{</span><span class="string" id="6704680">`+`</span><span class="op" id="6704683">,</span>&nbsp;<span class="string" id="6704685">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`+`&#34;</span><span class="op" id="6704731">}</span><span class="op" id="6704732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704735">{</span><span class="string" id="6704736">`?`</span><span class="op" id="6704739">,</span>&nbsp;<span class="string" id="6704741">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`?`&#34;</span><span class="op" id="6704787">}</span><span class="op" id="6704788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704791">{</span><span class="string" id="6704792">`(abc`</span><span class="op" id="6704798">,</span>&nbsp;<span class="string" id="6704800">&#34;missing&nbsp;closing&nbsp;):&nbsp;`(abc`&#34;</span><span class="op" id="6704827">}</span><span class="op" id="6704828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704831">{</span><span class="string" id="6704832">`abc)`</span><span class="op" id="6704838">,</span>&nbsp;<span class="string" id="6704840">&#34;unexpected&nbsp;):&nbsp;`abc)`&#34;</span><span class="op" id="6704862">}</span><span class="op" id="6704863">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704866">{</span><span class="string" id="6704867">`x[a-z`</span><span class="op" id="6704874">,</span>&nbsp;<span class="string" id="6704876">&#34;missing&nbsp;closing&nbsp;]:&nbsp;`[a-z`&#34;</span><span class="op" id="6704903">}</span><span class="op" id="6704904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704907">{</span><span class="string" id="6704908">`[z-a]`</span><span class="op" id="6704915">,</span>&nbsp;<span class="string" id="6704917">&#34;invalid&nbsp;character&nbsp;class&nbsp;range:&nbsp;`z-a`&#34;</span><span class="op" id="6704955">}</span><span class="op" id="6704956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704959">{</span><span class="string" id="6704960">`abc\`</span><span class="op" id="6704966">,</span>&nbsp;<span class="string" id="6704968">&#34;trailing&nbsp;backslash&nbsp;at&nbsp;end&nbsp;of&nbsp;expression&#34;</span><span class="op" id="6705009">}</span><span class="op" id="6705010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705013">{</span><span class="string" id="6705014">`a**`</span><span class="op" id="6705019">,</span>&nbsp;<span class="string" id="6705021">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`**`&#34;</span><span class="op" id="6705063">}</span><span class="op" id="6705064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705067">{</span><span class="string" id="6705068">`a*+`</span><span class="op" id="6705073">,</span>&nbsp;<span class="string" id="6705075">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`*+`&#34;</span><span class="op" id="6705117">}</span><span class="op" id="6705118">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705121">{</span><span class="string" id="6705122">`\x`</span><span class="op" id="6705126">,</span>&nbsp;<span class="string" id="6705128">&#34;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\x`&#34;</span><span class="op" id="6705160">}</span><span class="op" id="6705161">,</span><br>
<span class="lineno"></span><span class="op" id="6705163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6705166">func</span>&nbsp;<span class="ident" id="6705171">compileTest</span><span class="op" id="6705182">(</span><span class="ident" id="6705183">t</span>&nbsp;<span class="op" id="6705185">*</span><span class="ident" id="6705186">testing</span><span class="op" id="6705193">.</span><span class="ident" id="6705194">T</span><span class="op" id="6705195">,</span>&nbsp;<span class="ident" id="6705197">expr</span>&nbsp;<span class="builtintype" id="6705202">string</span><span class="op" id="6705208">,</span>&nbsp;<span class="builtintype" id="6705210">error</span>&nbsp;<span class="builtintype" id="6705216">string</span><span class="op" id="6705222">)</span>&nbsp;<span class="op" id="6705224">*</span><span class="ident" id="6705225">Regexp</span>&nbsp;<span class="op" id="6705232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705235">re</span><span class="op" id="6705237">,</span>&nbsp;<span class="ident" id="6705239">err</span>&nbsp;<span class="op" id="6705243">:=</span>&nbsp;<span class="ident" id="6705246">Compile</span><span class="op" id="6705253">(</span><span class="ident" id="6705254">expr</span><span class="op" id="6705258">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705261">if</span>&nbsp;<span class="builtintype" id="6705264">error</span>&nbsp;<span class="op" id="6705270">==</span>&nbsp;<span class="string" id="6705273">&#34;&#34;</span>&nbsp;<span class="op" id="6705276">&amp;&amp;</span>&nbsp;<span class="ident" id="6705279">err</span>&nbsp;<span class="op" id="6705283">!=</span>&nbsp;<span class="ident" id="6705286">nil</span>&nbsp;<span class="op" id="6705290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705294">t</span><span class="op" id="6705295">.</span><span class="ident" id="6705296">Error</span><span class="op" id="6705301">(</span><span class="string" id="6705302">&#34;compiling&nbsp;`&#34;</span><span class="op" id="6705315">,</span>&nbsp;<span class="ident" id="6705317">expr</span><span class="op" id="6705321">,</span>&nbsp;<span class="string" id="6705323">&#34;`;&nbsp;unexpected&nbsp;error:&nbsp;&#34;</span><span class="op" id="6705346">,</span>&nbsp;<span class="ident" id="6705348">err</span><span class="op" id="6705351">.</span><span class="ident" id="6705352">Error</span><span class="op" id="6705357">(</span><span class="op" id="6705358">)</span><span class="op" id="6705359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705365">if</span>&nbsp;<span class="builtintype" id="6705368">error</span>&nbsp;<span class="op" id="6705374">!=</span>&nbsp;<span class="string" id="6705377">&#34;&#34;</span>&nbsp;<span class="op" id="6705380">&amp;&amp;</span>&nbsp;<span class="ident" id="6705383">err</span>&nbsp;<span class="op" id="6705387">==</span>&nbsp;<span class="ident" id="6705390">nil</span>&nbsp;<span class="op" id="6705394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705398">t</span><span class="op" id="6705399">.</span><span class="ident" id="6705400">Error</span><span class="op" id="6705405">(</span><span class="string" id="6705406">&#34;compiling&nbsp;`&#34;</span><span class="op" id="6705419">,</span>&nbsp;<span class="ident" id="6705421">expr</span><span class="op" id="6705425">,</span>&nbsp;<span class="string" id="6705427">&#34;`;&nbsp;missing&nbsp;error&#34;</span><span class="op" id="6705445">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705448">}</span>&nbsp;<span class="keyword" id="6705450">else</span>&nbsp;<span class="keyword" id="6705455">if</span>&nbsp;<span class="builtintype" id="6705458">error</span>&nbsp;<span class="op" id="6705464">!=</span>&nbsp;<span class="string" id="6705467">&#34;&#34;</span>&nbsp;<span class="op" id="6705470">&amp;&amp;</span>&nbsp;<span class="op" id="6705473">!</span><span class="ident" id="6705474">strings</span><span class="op" id="6705481">.</span><span class="ident" id="6705482">Contains</span><span class="op" id="6705490">(</span><span class="ident" id="6705491">err</span><span class="op" id="6705494">.</span><span class="ident" id="6705495">Error</span><span class="op" id="6705500">(</span><span class="op" id="6705501">)</span><span class="op" id="6705502">,</span>&nbsp;<span class="builtintype" id="6705504">error</span><span class="op" id="6705509">)</span>&nbsp;<span class="op" id="6705511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705515">t</span><span class="op" id="6705516">.</span><span class="ident" id="6705517">Error</span><span class="op" id="6705522">(</span><span class="string" id="6705523">&#34;compiling&nbsp;`&#34;</span><span class="op" id="6705536">,</span>&nbsp;<span class="ident" id="6705538">expr</span><span class="op" id="6705542">,</span>&nbsp;<span class="string" id="6705544">&#34;`;&nbsp;wrong&nbsp;error:&nbsp;&#34;</span><span class="op" id="6705562">,</span>&nbsp;<span class="ident" id="6705564">err</span><span class="op" id="6705567">.</span><span class="ident" id="6705568">Error</span><span class="op" id="6705573">(</span><span class="op" id="6705574">)</span><span class="op" id="6705575">,</span>&nbsp;<span class="string" id="6705577">&#34;;&nbsp;want&nbsp;&#34;</span><span class="op" id="6705586">,</span>&nbsp;<span class="builtintype" id="6705588">error</span><span class="op" id="6705593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705599">return</span>&nbsp;<span class="ident" id="6705606">re</span><br>
<span class="lineno"></span><span class="op" id="6705609">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6705612">func</span>&nbsp;<span class="ident" id="6705617">TestGoodCompile</span><span class="op" id="6705632">(</span><span class="ident" id="6705633">t</span>&nbsp;<span class="op" id="6705635">*</span><span class="ident" id="6705636">testing</span><span class="op" id="6705643">.</span><span class="ident" id="6705644">T</span><span class="op" id="6705645">)</span>&nbsp;<span class="op" id="6705647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705650">for</span>&nbsp;<span class="ident" id="6705654">i</span>&nbsp;<span class="op" id="6705656">:=</span>&nbsp;<span class="num" id="6705659">0</span><span class="op" id="6705660">;</span>&nbsp;<span class="ident" id="6705662">i</span>&nbsp;<span class="op" id="6705664">&lt;</span>&nbsp;<span class="builtinfunc" id="6705666">len</span><span class="op" id="6705669">(</span><span class="ident" id="6705670">good_re</span><span class="op" id="6705677">)</span><span class="op" id="6705678">;</span>&nbsp;<span class="ident" id="6705680">i</span><span class="op" id="6705681">++</span>&nbsp;<span class="op" id="6705684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705688">compileTest</span><span class="op" id="6705699">(</span><span class="ident" id="6705700">t</span><span class="op" id="6705701">,</span>&nbsp;<span class="ident" id="6705703">good_re</span><span class="op" id="6705710">[</span><span class="ident" id="6705711">i</span><span class="op" id="6705712">]</span><span class="op" id="6705713">,</span>&nbsp;<span class="string" id="6705715">&#34;&#34;</span><span class="op" id="6705717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705720">}</span><br>
<span class="lineno">70</span><span class="op" id="6705722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6705725">func</span>&nbsp;<span class="ident" id="6705730">TestBadCompile</span><span class="op" id="6705744">(</span><span class="ident" id="6705745">t</span>&nbsp;<span class="op" id="6705747">*</span><span class="ident" id="6705748">testing</span><span class="op" id="6705755">.</span><span class="ident" id="6705756">T</span><span class="op" id="6705757">)</span>&nbsp;<span class="op" id="6705759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705762">for</span>&nbsp;<span class="ident" id="6705766">i</span>&nbsp;<span class="op" id="6705768">:=</span>&nbsp;<span class="num" id="6705771">0</span><span class="op" id="6705772">;</span>&nbsp;<span class="ident" id="6705774">i</span>&nbsp;<span class="op" id="6705776">&lt;</span>&nbsp;<span class="builtinfunc" id="6705778">len</span><span class="op" id="6705781">(</span><span class="ident" id="6705782">bad_re</span><span class="op" id="6705788">)</span><span class="op" id="6705789">;</span>&nbsp;<span class="ident" id="6705791">i</span><span class="op" id="6705792">++</span>&nbsp;<span class="op" id="6705795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705799">compileTest</span><span class="op" id="6705810">(</span><span class="ident" id="6705811">t</span><span class="op" id="6705812">,</span>&nbsp;<span class="ident" id="6705814">bad_re</span><span class="op" id="6705820">[</span><span class="ident" id="6705821">i</span><span class="op" id="6705822">]</span><span class="op" id="6705823">.</span><span class="ident" id="6705824">re</span><span class="op" id="6705826">,</span>&nbsp;<span class="ident" id="6705828">bad_re</span><span class="op" id="6705834">[</span><span class="ident" id="6705835">i</span><span class="op" id="6705836">]</span><span class="op" id="6705837">.</span><span class="ident" id="6705838">err</span><span class="op" id="6705841">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705844">}</span><br>
<span class="lineno"></span><span class="op" id="6705846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6705849">func</span>&nbsp;<span class="ident" id="6705854">matchTest</span><span class="op" id="6705863">(</span><span class="ident" id="6705864">t</span>&nbsp;<span class="op" id="6705866">*</span><span class="ident" id="6705867">testing</span><span class="op" id="6705874">.</span><span class="ident" id="6705875">T</span><span class="op" id="6705876">,</span>&nbsp;<span class="ident" id="6705878">test</span>&nbsp;<span class="op" id="6705883">*</span><span class="ident" id="6705884">FindTest</span><span class="op" id="6705892">)</span>&nbsp;<span class="op" id="6705894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705897">re</span>&nbsp;<span class="op" id="6705900">:=</span>&nbsp;<span class="ident" id="6705903">compileTest</span><span class="op" id="6705914">(</span><span class="ident" id="6705915">t</span><span class="op" id="6705916">,</span>&nbsp;<span class="ident" id="6705918">test</span><span class="op" id="6705922">.</span><span class="ident" id="6705923">pat</span><span class="op" id="6705926">,</span>&nbsp;<span class="string" id="6705928">&#34;&#34;</span><span class="op" id="6705930">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705933">if</span>&nbsp;<span class="ident" id="6705936">re</span>&nbsp;<span class="op" id="6705939">==</span>&nbsp;<span class="ident" id="6705942">nil</span>&nbsp;<span class="op" id="6705946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705950">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705961">m</span>&nbsp;<span class="op" id="6705963">:=</span>&nbsp;<span class="ident" id="6705966">re</span><span class="op" id="6705968">.</span><span class="ident" id="6705969">MatchString</span><span class="op" id="6705980">(</span><span class="ident" id="6705981">test</span><span class="op" id="6705985">.</span><span class="ident" id="6705986">text</span><span class="op" id="6705990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705993">if</span>&nbsp;<span class="ident" id="6705996">m</span>&nbsp;<span class="op" id="6705998">!=</span>&nbsp;<span class="op" id="6706001">(</span><span class="builtinfunc" id="6706002">len</span><span class="op" id="6706005">(</span><span class="ident" id="6706006">test</span><span class="op" id="6706010">.</span><span class="ident" id="6706011">matches</span><span class="op" id="6706018">)</span>&nbsp;<span class="op" id="6706020">&gt;</span>&nbsp;<span class="num" id="6706022">0</span><span class="op" id="6706023">)</span>&nbsp;<span class="op" id="6706025">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706029">t</span><span class="op" id="6706030">.</span><span class="ident" id="6706031">Errorf</span><span class="op" id="6706037">(</span><span class="string" id="6706038">&#34;MatchString&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6706082">,</span>&nbsp;<span class="ident" id="6706084">test</span><span class="op" id="6706088">,</span>&nbsp;<span class="ident" id="6706090">m</span><span class="op" id="6706091">,</span>&nbsp;<span class="builtinfunc" id="6706093">len</span><span class="op" id="6706096">(</span><span class="ident" id="6706097">test</span><span class="op" id="6706101">.</span><span class="ident" id="6706102">matches</span><span class="op" id="6706109">)</span>&nbsp;<span class="op" id="6706111">&gt;</span>&nbsp;<span class="num" id="6706113">0</span><span class="op" id="6706114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6706120">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706138">m</span>&nbsp;<span class="op" id="6706140">=</span>&nbsp;<span class="ident" id="6706142">re</span><span class="op" id="6706144">.</span><span class="ident" id="6706145">Match</span><span class="op" id="6706150">(</span><span class="op" id="6706151">[</span><span class="op" id="6706152">]</span><span class="builtintype" id="6706153">byte</span><span class="op" id="6706157">(</span><span class="ident" id="6706158">test</span><span class="op" id="6706162">.</span><span class="ident" id="6706163">text</span><span class="op" id="6706167">)</span><span class="op" id="6706168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6706171">if</span>&nbsp;<span class="ident" id="6706174">m</span>&nbsp;<span class="op" id="6706176">!=</span>&nbsp;<span class="op" id="6706179">(</span><span class="builtinfunc" id="6706180">len</span><span class="op" id="6706183">(</span><span class="ident" id="6706184">test</span><span class="op" id="6706188">.</span><span class="ident" id="6706189">matches</span><span class="op" id="6706196">)</span>&nbsp;<span class="op" id="6706198">&gt;</span>&nbsp;<span class="num" id="6706200">0</span><span class="op" id="6706201">)</span>&nbsp;<span class="op" id="6706203">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706207">t</span><span class="op" id="6706208">.</span><span class="ident" id="6706209">Errorf</span><span class="op" id="6706215">(</span><span class="string" id="6706216">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6706254">,</span>&nbsp;<span class="ident" id="6706256">test</span><span class="op" id="6706260">,</span>&nbsp;<span class="ident" id="6706262">m</span><span class="op" id="6706263">,</span>&nbsp;<span class="builtinfunc" id="6706265">len</span><span class="op" id="6706268">(</span><span class="ident" id="6706269">test</span><span class="op" id="6706273">.</span><span class="ident" id="6706274">matches</span><span class="op" id="6706281">)</span>&nbsp;<span class="op" id="6706283">&gt;</span>&nbsp;<span class="num" id="6706285">0</span><span class="op" id="6706286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706289">}</span><br>
<span class="lineno"></span><span class="op" id="6706291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6706294">func</span>&nbsp;<span class="ident" id="6706299">TestMatch</span><span class="op" id="6706308">(</span><span class="ident" id="6706309">t</span>&nbsp;<span class="op" id="6706311">*</span><span class="ident" id="6706312">testing</span><span class="op" id="6706319">.</span><span class="ident" id="6706320">T</span><span class="op" id="6706321">)</span>&nbsp;<span class="op" id="6706323">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6706326">for</span>&nbsp;<span class="ident" id="6706330">_</span><span class="op" id="6706331">,</span>&nbsp;<span class="ident" id="6706333">test</span>&nbsp;<span class="op" id="6706338">:=</span>&nbsp;<span class="keyword" id="6706341">range</span>&nbsp;<span class="ident" id="6706347">findTests</span>&nbsp;<span class="op" id="6706357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706361">matchTest</span><span class="op" id="6706370">(</span><span class="ident" id="6706371">t</span><span class="op" id="6706372">,</span>&nbsp;<span class="op" id="6706374">&amp;</span><span class="ident" id="6706375">test</span><span class="op" id="6706379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706382">}</span><br>
<span class="lineno"></span><span class="op" id="6706384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6706387">func</span>&nbsp;<span class="ident" id="6706392">matchFunctionTest</span><span class="op" id="6706409">(</span><span class="ident" id="6706410">t</span>&nbsp;<span class="op" id="6706412">*</span><span class="ident" id="6706413">testing</span><span class="op" id="6706420">.</span><span class="ident" id="6706421">T</span><span class="op" id="6706422">,</span>&nbsp;<span class="ident" id="6706424">test</span>&nbsp;<span class="op" id="6706429">*</span><span class="ident" id="6706430">FindTest</span><span class="op" id="6706438">)</span>&nbsp;<span class="op" id="6706440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706443">m</span><span class="op" id="6706444">,</span>&nbsp;<span class="ident" id="6706446">err</span>&nbsp;<span class="op" id="6706450">:=</span>&nbsp;<span class="ident" id="6706453">MatchString</span><span class="op" id="6706464">(</span><span class="ident" id="6706465">test</span><span class="op" id="6706469">.</span><span class="ident" id="6706470">pat</span><span class="op" id="6706473">,</span>&nbsp;<span class="ident" id="6706475">test</span><span class="op" id="6706479">.</span><span class="ident" id="6706480">text</span><span class="op" id="6706484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6706487">if</span>&nbsp;<span class="ident" id="6706490">err</span>&nbsp;<span class="op" id="6706494">==</span>&nbsp;<span class="ident" id="6706497">nil</span>&nbsp;<span class="op" id="6706501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6706505">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706513">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6706516">if</span>&nbsp;<span class="ident" id="6706519">m</span>&nbsp;<span class="op" id="6706521">!=</span>&nbsp;<span class="op" id="6706524">(</span><span class="builtinfunc" id="6706525">len</span><span class="op" id="6706528">(</span><span class="ident" id="6706529">test</span><span class="op" id="6706533">.</span><span class="ident" id="6706534">matches</span><span class="op" id="6706541">)</span>&nbsp;<span class="op" id="6706543">&gt;</span>&nbsp;<span class="num" id="6706545">0</span><span class="op" id="6706546">)</span>&nbsp;<span class="op" id="6706548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706552">t</span><span class="op" id="6706553">.</span><span class="ident" id="6706554">Errorf</span><span class="op" id="6706560">(</span><span class="string" id="6706561">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6706599">,</span>&nbsp;<span class="ident" id="6706601">test</span><span class="op" id="6706605">,</span>&nbsp;<span class="ident" id="6706607">m</span><span class="op" id="6706608">,</span>&nbsp;<span class="builtinfunc" id="6706610">len</span><span class="op" id="6706613">(</span><span class="ident" id="6706614">test</span><span class="op" id="6706618">.</span><span class="ident" id="6706619">matches</span><span class="op" id="6706626">)</span>&nbsp;<span class="op" id="6706628">&gt;</span>&nbsp;<span class="num" id="6706630">0</span><span class="op" id="6706631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706634">}</span><br>
<span class="lineno"></span><span class="op" id="6706636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="6706639">func</span>&nbsp;<span class="ident" id="6706644">TestMatchFunction</span><span class="op" id="6706661">(</span><span class="ident" id="6706662">t</span>&nbsp;<span class="op" id="6706664">*</span><span class="ident" id="6706665">testing</span><span class="op" id="6706672">.</span><span class="ident" id="6706673">T</span><span class="op" id="6706674">)</span>&nbsp;<span class="op" id="6706676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6706679">for</span>&nbsp;<span class="ident" id="6706683">_</span><span class="op" id="6706684">,</span>&nbsp;<span class="ident" id="6706686">test</span>&nbsp;<span class="op" id="6706691">:=</span>&nbsp;<span class="keyword" id="6706694">range</span>&nbsp;<span class="ident" id="6706700">findTests</span>&nbsp;<span class="op" id="6706710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706714">matchFunctionTest</span><span class="op" id="6706731">(</span><span class="ident" id="6706732">t</span><span class="op" id="6706733">,</span>&nbsp;<span class="op" id="6706735">&amp;</span><span class="ident" id="6706736">test</span><span class="op" id="6706740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706743">}</span><br>
<span class="lineno"></span><span class="op" id="6706745">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="6706748">type</span>&nbsp;<span class="ident" id="6706753">ReplaceTest</span>&nbsp;<span class="keyword" id="6706765">struct</span>&nbsp;<span class="op" id="6706772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6706775">pattern</span><span class="op" id="6706782">,</span>&nbsp;<span class="ident" id="6706784">replacement</span><span class="op" id="6706795">,</span>&nbsp;<span class="ident" id="6706797">input</span><span class="op" id="6706802">,</span>&nbsp;<span class="ident" id="6706804">output</span>&nbsp;<span class="builtintype" id="6706811">string</span><br>
<span class="lineno"></span><span class="op" id="6706818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="6706821">var</span>&nbsp;<span class="ident" id="6706825">replaceTests</span>&nbsp;<span class="op" id="6706838">=</span>&nbsp;<span class="op" id="6706840">[</span><span class="op" id="6706841">]</span><span class="ident" id="6706842">ReplaceTest</span><span class="op" id="6706853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6706856">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706941">{</span><span class="string" id="6706942">&#34;&#34;</span><span class="op" id="6706944">,</span>&nbsp;<span class="string" id="6706946">&#34;&#34;</span><span class="op" id="6706948">,</span>&nbsp;<span class="string" id="6706950">&#34;&#34;</span><span class="op" id="6706952">,</span>&nbsp;<span class="string" id="6706954">&#34;&#34;</span><span class="op" id="6706956">}</span><span class="op" id="6706957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706960">{</span><span class="string" id="6706961">&#34;&#34;</span><span class="op" id="6706963">,</span>&nbsp;<span class="string" id="6706965">&#34;x&#34;</span><span class="op" id="6706968">,</span>&nbsp;<span class="string" id="6706970">&#34;&#34;</span><span class="op" id="6706972">,</span>&nbsp;<span class="string" id="6706974">&#34;x&#34;</span><span class="op" id="6706977">}</span><span class="op" id="6706978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6706981">{</span><span class="string" id="6706982">&#34;&#34;</span><span class="op" id="6706984">,</span>&nbsp;<span class="string" id="6706986">&#34;&#34;</span><span class="op" id="6706988">,</span>&nbsp;<span class="string" id="6706990">&#34;abc&#34;</span><span class="op" id="6706995">,</span>&nbsp;<span class="string" id="6706997">&#34;abc&#34;</span><span class="op" id="6707002">}</span><span class="op" id="6707003">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707006">{</span><span class="string" id="6707007">&#34;&#34;</span><span class="op" id="6707009">,</span>&nbsp;<span class="string" id="6707011">&#34;x&#34;</span><span class="op" id="6707014">,</span>&nbsp;<span class="string" id="6707016">&#34;abc&#34;</span><span class="op" id="6707021">,</span>&nbsp;<span class="string" id="6707023">&#34;xaxbxcx&#34;</span><span class="op" id="6707032">}</span><span class="op" id="6707033">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6707037">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707129">{</span><span class="string" id="6707130">&#34;b&#34;</span><span class="op" id="6707133">,</span>&nbsp;<span class="string" id="6707135">&#34;&#34;</span><span class="op" id="6707137">,</span>&nbsp;<span class="string" id="6707139">&#34;&#34;</span><span class="op" id="6707141">,</span>&nbsp;<span class="string" id="6707143">&#34;&#34;</span><span class="op" id="6707145">}</span><span class="op" id="6707146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707149">{</span><span class="string" id="6707150">&#34;b&#34;</span><span class="op" id="6707153">,</span>&nbsp;<span class="string" id="6707155">&#34;x&#34;</span><span class="op" id="6707158">,</span>&nbsp;<span class="string" id="6707160">&#34;&#34;</span><span class="op" id="6707162">,</span>&nbsp;<span class="string" id="6707164">&#34;&#34;</span><span class="op" id="6707166">}</span><span class="op" id="6707167">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707170">{</span><span class="string" id="6707171">&#34;b&#34;</span><span class="op" id="6707174">,</span>&nbsp;<span class="string" id="6707176">&#34;&#34;</span><span class="op" id="6707178">,</span>&nbsp;<span class="string" id="6707180">&#34;abc&#34;</span><span class="op" id="6707185">,</span>&nbsp;<span class="string" id="6707187">&#34;ac&#34;</span><span class="op" id="6707191">}</span><span class="op" id="6707192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707195">{</span><span class="string" id="6707196">&#34;b&#34;</span><span class="op" id="6707199">,</span>&nbsp;<span class="string" id="6707201">&#34;x&#34;</span><span class="op" id="6707204">,</span>&nbsp;<span class="string" id="6707206">&#34;abc&#34;</span><span class="op" id="6707211">,</span>&nbsp;<span class="string" id="6707213">&#34;axc&#34;</span><span class="op" id="6707218">}</span><span class="op" id="6707219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707222">{</span><span class="string" id="6707223">&#34;y&#34;</span><span class="op" id="6707226">,</span>&nbsp;<span class="string" id="6707228">&#34;&#34;</span><span class="op" id="6707230">,</span>&nbsp;<span class="string" id="6707232">&#34;&#34;</span><span class="op" id="6707234">,</span>&nbsp;<span class="string" id="6707236">&#34;&#34;</span><span class="op" id="6707238">}</span><span class="op" id="6707239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707242">{</span><span class="string" id="6707243">&#34;y&#34;</span><span class="op" id="6707246">,</span>&nbsp;<span class="string" id="6707248">&#34;x&#34;</span><span class="op" id="6707251">,</span>&nbsp;<span class="string" id="6707253">&#34;&#34;</span><span class="op" id="6707255">,</span>&nbsp;<span class="string" id="6707257">&#34;&#34;</span><span class="op" id="6707259">}</span><span class="op" id="6707260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707263">{</span><span class="string" id="6707264">&#34;y&#34;</span><span class="op" id="6707267">,</span>&nbsp;<span class="string" id="6707269">&#34;&#34;</span><span class="op" id="6707271">,</span>&nbsp;<span class="string" id="6707273">&#34;abc&#34;</span><span class="op" id="6707278">,</span>&nbsp;<span class="string" id="6707280">&#34;abc&#34;</span><span class="op" id="6707285">}</span><span class="op" id="6707286">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707289">{</span><span class="string" id="6707290">&#34;y&#34;</span><span class="op" id="6707293">,</span>&nbsp;<span class="string" id="6707295">&#34;x&#34;</span><span class="op" id="6707298">,</span>&nbsp;<span class="string" id="6707300">&#34;abc&#34;</span><span class="op" id="6707305">,</span>&nbsp;<span class="string" id="6707307">&#34;abc&#34;</span><span class="op" id="6707312">}</span><span class="op" id="6707313">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6707317">//&nbsp;Multibyte&nbsp;characters&nbsp;--&nbsp;verify&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;match&nbsp;in&nbsp;the&nbsp;middle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6707393">//&nbsp;of&nbsp;a&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707413">{</span><span class="string" id="6707414">&#34;[a-c]*&#34;</span><span class="op" id="6707422">,</span>&nbsp;<span class="string" id="6707424">&#34;x&#34;</span><span class="op" id="6707427">,</span>&nbsp;<span class="string" id="6707429">&#34;\u65e5&#34;</span><span class="op" id="6707437">,</span>&nbsp;<span class="string" id="6707439">&#34;x\u65e5x&#34;</span><span class="op" id="6707449">}</span><span class="op" id="6707450">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707453">{</span><span class="string" id="6707454">&#34;[^\u65e5]&#34;</span><span class="op" id="6707465">,</span>&nbsp;<span class="string" id="6707467">&#34;x&#34;</span><span class="op" id="6707470">,</span>&nbsp;<span class="string" id="6707472">&#34;abc\u65e5def&#34;</span><span class="op" id="6707486">,</span>&nbsp;<span class="string" id="6707488">&#34;xxx\u65e5xxx&#34;</span><span class="op" id="6707502">}</span><span class="op" id="6707503">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6707507">//&nbsp;Start&nbsp;and&nbsp;end&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707538">{</span><span class="string" id="6707539">&#34;^[a-c]*&#34;</span><span class="op" id="6707548">,</span>&nbsp;<span class="string" id="6707550">&#34;x&#34;</span><span class="op" id="6707553">,</span>&nbsp;<span class="string" id="6707555">&#34;abcdabc&#34;</span><span class="op" id="6707564">,</span>&nbsp;<span class="string" id="6707566">&#34;xdabc&#34;</span><span class="op" id="6707573">}</span><span class="op" id="6707574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707577">{</span><span class="string" id="6707578">&#34;[a-c]*$&#34;</span><span class="op" id="6707587">,</span>&nbsp;<span class="string" id="6707589">&#34;x&#34;</span><span class="op" id="6707592">,</span>&nbsp;<span class="string" id="6707594">&#34;abcdabc&#34;</span><span class="op" id="6707603">,</span>&nbsp;<span class="string" id="6707605">&#34;abcdx&#34;</span><span class="op" id="6707612">}</span><span class="op" id="6707613">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707616">{</span><span class="string" id="6707617">&#34;^[a-c]*$&#34;</span><span class="op" id="6707627">,</span>&nbsp;<span class="string" id="6707629">&#34;x&#34;</span><span class="op" id="6707632">,</span>&nbsp;<span class="string" id="6707634">&#34;abcdabc&#34;</span><span class="op" id="6707643">,</span>&nbsp;<span class="string" id="6707645">&#34;abcdabc&#34;</span><span class="op" id="6707654">}</span><span class="op" id="6707655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707658">{</span><span class="string" id="6707659">&#34;^[a-c]*&#34;</span><span class="op" id="6707668">,</span>&nbsp;<span class="string" id="6707670">&#34;x&#34;</span><span class="op" id="6707673">,</span>&nbsp;<span class="string" id="6707675">&#34;abc&#34;</span><span class="op" id="6707680">,</span>&nbsp;<span class="string" id="6707682">&#34;x&#34;</span><span class="op" id="6707685">}</span><span class="op" id="6707686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707689">{</span><span class="string" id="6707690">&#34;[a-c]*$&#34;</span><span class="op" id="6707699">,</span>&nbsp;<span class="string" id="6707701">&#34;x&#34;</span><span class="op" id="6707704">,</span>&nbsp;<span class="string" id="6707706">&#34;abc&#34;</span><span class="op" id="6707711">,</span>&nbsp;<span class="string" id="6707713">&#34;x&#34;</span><span class="op" id="6707716">}</span><span class="op" id="6707717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707720">{</span><span class="string" id="6707721">&#34;^[a-c]*$&#34;</span><span class="op" id="6707731">,</span>&nbsp;<span class="string" id="6707733">&#34;x&#34;</span><span class="op" id="6707736">,</span>&nbsp;<span class="string" id="6707738">&#34;abc&#34;</span><span class="op" id="6707743">,</span>&nbsp;<span class="string" id="6707745">&#34;x&#34;</span><span class="op" id="6707748">}</span><span class="op" id="6707749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707752">{</span><span class="string" id="6707753">&#34;^[a-c]*&#34;</span><span class="op" id="6707762">,</span>&nbsp;<span class="string" id="6707764">&#34;x&#34;</span><span class="op" id="6707767">,</span>&nbsp;<span class="string" id="6707769">&#34;dabce&#34;</span><span class="op" id="6707776">,</span>&nbsp;<span class="string" id="6707778">&#34;xdabce&#34;</span><span class="op" id="6707786">}</span><span class="op" id="6707787">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707790">{</span><span class="string" id="6707791">&#34;[a-c]*$&#34;</span><span class="op" id="6707800">,</span>&nbsp;<span class="string" id="6707802">&#34;x&#34;</span><span class="op" id="6707805">,</span>&nbsp;<span class="string" id="6707807">&#34;dabce&#34;</span><span class="op" id="6707814">,</span>&nbsp;<span class="string" id="6707816">&#34;dabcex&#34;</span><span class="op" id="6707824">}</span><span class="op" id="6707825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707828">{</span><span class="string" id="6707829">&#34;^[a-c]*$&#34;</span><span class="op" id="6707839">,</span>&nbsp;<span class="string" id="6707841">&#34;x&#34;</span><span class="op" id="6707844">,</span>&nbsp;<span class="string" id="6707846">&#34;dabce&#34;</span><span class="op" id="6707853">,</span>&nbsp;<span class="string" id="6707855">&#34;dabce&#34;</span><span class="op" id="6707862">}</span><span class="op" id="6707863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707866">{</span><span class="string" id="6707867">&#34;^[a-c]*&#34;</span><span class="op" id="6707876">,</span>&nbsp;<span class="string" id="6707878">&#34;x&#34;</span><span class="op" id="6707881">,</span>&nbsp;<span class="string" id="6707883">&#34;&#34;</span><span class="op" id="6707885">,</span>&nbsp;<span class="string" id="6707887">&#34;x&#34;</span><span class="op" id="6707890">}</span><span class="op" id="6707891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707894">{</span><span class="string" id="6707895">&#34;[a-c]*$&#34;</span><span class="op" id="6707904">,</span>&nbsp;<span class="string" id="6707906">&#34;x&#34;</span><span class="op" id="6707909">,</span>&nbsp;<span class="string" id="6707911">&#34;&#34;</span><span class="op" id="6707913">,</span>&nbsp;<span class="string" id="6707915">&#34;x&#34;</span><span class="op" id="6707918">}</span><span class="op" id="6707919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707922">{</span><span class="string" id="6707923">&#34;^[a-c]*$&#34;</span><span class="op" id="6707933">,</span>&nbsp;<span class="string" id="6707935">&#34;x&#34;</span><span class="op" id="6707938">,</span>&nbsp;<span class="string" id="6707940">&#34;&#34;</span><span class="op" id="6707942">,</span>&nbsp;<span class="string" id="6707944">&#34;x&#34;</span><span class="op" id="6707947">}</span><span class="op" id="6707948">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707952">{</span><span class="string" id="6707953">&#34;^[a-c]+&#34;</span><span class="op" id="6707962">,</span>&nbsp;<span class="string" id="6707964">&#34;x&#34;</span><span class="op" id="6707967">,</span>&nbsp;<span class="string" id="6707969">&#34;abcdabc&#34;</span><span class="op" id="6707978">,</span>&nbsp;<span class="string" id="6707980">&#34;xdabc&#34;</span><span class="op" id="6707987">}</span><span class="op" id="6707988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6707991">{</span><span class="string" id="6707992">&#34;[a-c]+$&#34;</span><span class="op" id="6708001">,</span>&nbsp;<span class="string" id="6708003">&#34;x&#34;</span><span class="op" id="6708006">,</span>&nbsp;<span class="string" id="6708008">&#34;abcdabc&#34;</span><span class="op" id="6708017">,</span>&nbsp;<span class="string" id="6708019">&#34;abcdx&#34;</span><span class="op" id="6708026">}</span><span class="op" id="6708027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708030">{</span><span class="string" id="6708031">&#34;^[a-c]+$&#34;</span><span class="op" id="6708041">,</span>&nbsp;<span class="string" id="6708043">&#34;x&#34;</span><span class="op" id="6708046">,</span>&nbsp;<span class="string" id="6708048">&#34;abcdabc&#34;</span><span class="op" id="6708057">,</span>&nbsp;<span class="string" id="6708059">&#34;abcdabc&#34;</span><span class="op" id="6708068">}</span><span class="op" id="6708069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708072">{</span><span class="string" id="6708073">&#34;^[a-c]+&#34;</span><span class="op" id="6708082">,</span>&nbsp;<span class="string" id="6708084">&#34;x&#34;</span><span class="op" id="6708087">,</span>&nbsp;<span class="string" id="6708089">&#34;abc&#34;</span><span class="op" id="6708094">,</span>&nbsp;<span class="string" id="6708096">&#34;x&#34;</span><span class="op" id="6708099">}</span><span class="op" id="6708100">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708103">{</span><span class="string" id="6708104">&#34;[a-c]+$&#34;</span><span class="op" id="6708113">,</span>&nbsp;<span class="string" id="6708115">&#34;x&#34;</span><span class="op" id="6708118">,</span>&nbsp;<span class="string" id="6708120">&#34;abc&#34;</span><span class="op" id="6708125">,</span>&nbsp;<span class="string" id="6708127">&#34;x&#34;</span><span class="op" id="6708130">}</span><span class="op" id="6708131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708134">{</span><span class="string" id="6708135">&#34;^[a-c]+$&#34;</span><span class="op" id="6708145">,</span>&nbsp;<span class="string" id="6708147">&#34;x&#34;</span><span class="op" id="6708150">,</span>&nbsp;<span class="string" id="6708152">&#34;abc&#34;</span><span class="op" id="6708157">,</span>&nbsp;<span class="string" id="6708159">&#34;x&#34;</span><span class="op" id="6708162">}</span><span class="op" id="6708163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708166">{</span><span class="string" id="6708167">&#34;^[a-c]+&#34;</span><span class="op" id="6708176">,</span>&nbsp;<span class="string" id="6708178">&#34;x&#34;</span><span class="op" id="6708181">,</span>&nbsp;<span class="string" id="6708183">&#34;dabce&#34;</span><span class="op" id="6708190">,</span>&nbsp;<span class="string" id="6708192">&#34;dabce&#34;</span><span class="op" id="6708199">}</span><span class="op" id="6708200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708203">{</span><span class="string" id="6708204">&#34;[a-c]+$&#34;</span><span class="op" id="6708213">,</span>&nbsp;<span class="string" id="6708215">&#34;x&#34;</span><span class="op" id="6708218">,</span>&nbsp;<span class="string" id="6708220">&#34;dabce&#34;</span><span class="op" id="6708227">,</span>&nbsp;<span class="string" id="6708229">&#34;dabce&#34;</span><span class="op" id="6708236">}</span><span class="op" id="6708237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708240">{</span><span class="string" id="6708241">&#34;^[a-c]+$&#34;</span><span class="op" id="6708251">,</span>&nbsp;<span class="string" id="6708253">&#34;x&#34;</span><span class="op" id="6708256">,</span>&nbsp;<span class="string" id="6708258">&#34;dabce&#34;</span><span class="op" id="6708265">,</span>&nbsp;<span class="string" id="6708267">&#34;dabce&#34;</span><span class="op" id="6708274">}</span><span class="op" id="6708275">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708278">{</span><span class="string" id="6708279">&#34;^[a-c]+&#34;</span><span class="op" id="6708288">,</span>&nbsp;<span class="string" id="6708290">&#34;x&#34;</span><span class="op" id="6708293">,</span>&nbsp;<span class="string" id="6708295">&#34;&#34;</span><span class="op" id="6708297">,</span>&nbsp;<span class="string" id="6708299">&#34;&#34;</span><span class="op" id="6708301">}</span><span class="op" id="6708302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708305">{</span><span class="string" id="6708306">&#34;[a-c]+$&#34;</span><span class="op" id="6708315">,</span>&nbsp;<span class="string" id="6708317">&#34;x&#34;</span><span class="op" id="6708320">,</span>&nbsp;<span class="string" id="6708322">&#34;&#34;</span><span class="op" id="6708324">,</span>&nbsp;<span class="string" id="6708326">&#34;&#34;</span><span class="op" id="6708328">}</span><span class="op" id="6708329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708332">{</span><span class="string" id="6708333">&#34;^[a-c]+$&#34;</span><span class="op" id="6708343">,</span>&nbsp;<span class="string" id="6708345">&#34;x&#34;</span><span class="op" id="6708348">,</span>&nbsp;<span class="string" id="6708350">&#34;&#34;</span><span class="op" id="6708352">,</span>&nbsp;<span class="string" id="6708354">&#34;&#34;</span><span class="op" id="6708356">}</span><span class="op" id="6708357">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6708361">//&nbsp;Other&nbsp;cases.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708378">{</span><span class="string" id="6708379">&#34;abc&#34;</span><span class="op" id="6708384">,</span>&nbsp;<span class="string" id="6708386">&#34;def&#34;</span><span class="op" id="6708391">,</span>&nbsp;<span class="string" id="6708393">&#34;abcdefg&#34;</span><span class="op" id="6708402">,</span>&nbsp;<span class="string" id="6708404">&#34;defdefg&#34;</span><span class="op" id="6708413">}</span><span class="op" id="6708414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708417">{</span><span class="string" id="6708418">&#34;bc&#34;</span><span class="op" id="6708422">,</span>&nbsp;<span class="string" id="6708424">&#34;BC&#34;</span><span class="op" id="6708428">,</span>&nbsp;<span class="string" id="6708430">&#34;abcbcdcdedef&#34;</span><span class="op" id="6708444">,</span>&nbsp;<span class="string" id="6708446">&#34;aBCBCdcdedef&#34;</span><span class="op" id="6708460">}</span><span class="op" id="6708461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708464">{</span><span class="string" id="6708465">&#34;abc&#34;</span><span class="op" id="6708470">,</span>&nbsp;<span class="string" id="6708472">&#34;&#34;</span><span class="op" id="6708474">,</span>&nbsp;<span class="string" id="6708476">&#34;abcdabc&#34;</span><span class="op" id="6708485">,</span>&nbsp;<span class="string" id="6708487">&#34;d&#34;</span><span class="op" id="6708490">}</span><span class="op" id="6708491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708494">{</span><span class="string" id="6708495">&#34;x&#34;</span><span class="op" id="6708498">,</span>&nbsp;<span class="string" id="6708500">&#34;xXx&#34;</span><span class="op" id="6708505">,</span>&nbsp;<span class="string" id="6708507">&#34;xxxXxxx&#34;</span><span class="op" id="6708516">,</span>&nbsp;<span class="string" id="6708518">&#34;xXxxXxxXxXxXxxXxxXx&#34;</span><span class="op" id="6708539">}</span><span class="op" id="6708540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708543">{</span><span class="string" id="6708544">&#34;abc&#34;</span><span class="op" id="6708549">,</span>&nbsp;<span class="string" id="6708551">&#34;d&#34;</span><span class="op" id="6708554">,</span>&nbsp;<span class="string" id="6708556">&#34;&#34;</span><span class="op" id="6708558">,</span>&nbsp;<span class="string" id="6708560">&#34;&#34;</span><span class="op" id="6708562">}</span><span class="op" id="6708563">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708566">{</span><span class="string" id="6708567">&#34;abc&#34;</span><span class="op" id="6708572">,</span>&nbsp;<span class="string" id="6708574">&#34;d&#34;</span><span class="op" id="6708577">,</span>&nbsp;<span class="string" id="6708579">&#34;abc&#34;</span><span class="op" id="6708584">,</span>&nbsp;<span class="string" id="6708586">&#34;d&#34;</span><span class="op" id="6708589">}</span><span class="op" id="6708590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708593">{</span><span class="string" id="6708594">&#34;.+&#34;</span><span class="op" id="6708598">,</span>&nbsp;<span class="string" id="6708600">&#34;x&#34;</span><span class="op" id="6708603">,</span>&nbsp;<span class="string" id="6708605">&#34;abc&#34;</span><span class="op" id="6708610">,</span>&nbsp;<span class="string" id="6708612">&#34;x&#34;</span><span class="op" id="6708615">}</span><span class="op" id="6708616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708619">{</span><span class="string" id="6708620">&#34;[a-c]*&#34;</span><span class="op" id="6708628">,</span>&nbsp;<span class="string" id="6708630">&#34;x&#34;</span><span class="op" id="6708633">,</span>&nbsp;<span class="string" id="6708635">&#34;def&#34;</span><span class="op" id="6708640">,</span>&nbsp;<span class="string" id="6708642">&#34;xdxexfx&#34;</span><span class="op" id="6708651">}</span><span class="op" id="6708652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708655">{</span><span class="string" id="6708656">&#34;[a-c]+&#34;</span><span class="op" id="6708664">,</span>&nbsp;<span class="string" id="6708666">&#34;x&#34;</span><span class="op" id="6708669">,</span>&nbsp;<span class="string" id="6708671">&#34;abcbcdcdedef&#34;</span><span class="op" id="6708685">,</span>&nbsp;<span class="string" id="6708687">&#34;xdxdedef&#34;</span><span class="op" id="6708697">}</span><span class="op" id="6708698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708701">{</span><span class="string" id="6708702">&#34;[a-c]*&#34;</span><span class="op" id="6708710">,</span>&nbsp;<span class="string" id="6708712">&#34;x&#34;</span><span class="op" id="6708715">,</span>&nbsp;<span class="string" id="6708717">&#34;abcbcdcdedef&#34;</span><span class="op" id="6708731">,</span>&nbsp;<span class="string" id="6708733">&#34;xdxdxexdxexfx&#34;</span><span class="op" id="6708748">}</span><span class="op" id="6708749">,</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6708753">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708771">{</span><span class="string" id="6708772">&#34;a+&#34;</span><span class="op" id="6708776">,</span>&nbsp;<span class="string" id="6708778">&#34;($0)&#34;</span><span class="op" id="6708784">,</span>&nbsp;<span class="string" id="6708786">&#34;banana&#34;</span><span class="op" id="6708794">,</span>&nbsp;<span class="string" id="6708796">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="6708810">}</span><span class="op" id="6708811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708814">{</span><span class="string" id="6708815">&#34;a+&#34;</span><span class="op" id="6708819">,</span>&nbsp;<span class="string" id="6708821">&#34;(${0})&#34;</span><span class="op" id="6708829">,</span>&nbsp;<span class="string" id="6708831">&#34;banana&#34;</span><span class="op" id="6708839">,</span>&nbsp;<span class="string" id="6708841">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="6708855">}</span><span class="op" id="6708856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708859">{</span><span class="string" id="6708860">&#34;a+&#34;</span><span class="op" id="6708864">,</span>&nbsp;<span class="string" id="6708866">&#34;(${0})$0&#34;</span><span class="op" id="6708876">,</span>&nbsp;<span class="string" id="6708878">&#34;banana&#34;</span><span class="op" id="6708886">,</span>&nbsp;<span class="string" id="6708888">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="6708905">}</span><span class="op" id="6708906">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708909">{</span><span class="string" id="6708910">&#34;a+&#34;</span><span class="op" id="6708914">,</span>&nbsp;<span class="string" id="6708916">&#34;(${0})$0&#34;</span><span class="op" id="6708926">,</span>&nbsp;<span class="string" id="6708928">&#34;banana&#34;</span><span class="op" id="6708936">,</span>&nbsp;<span class="string" id="6708938">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="6708955">}</span><span class="op" id="6708956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6708959">{</span><span class="string" id="6708960">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6708973">,</span>&nbsp;<span class="string" id="6708975">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="6708990">,</span>&nbsp;<span class="string" id="6708992">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6709006">,</span>&nbsp;<span class="string" id="6709008">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6709024">}</span><span class="op" id="6709025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709028">{</span><span class="string" id="6709029">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6709042">,</span>&nbsp;<span class="string" id="6709044">&#34;goodbye,&nbsp;$1x&#34;</span><span class="op" id="6709058">,</span>&nbsp;<span class="string" id="6709060">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6709074">,</span>&nbsp;<span class="string" id="6709076">&#34;goodbye,&nbsp;&#34;</span><span class="op" id="6709087">}</span><span class="op" id="6709088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709091">{</span><span class="string" id="6709092">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6709105">,</span>&nbsp;<span class="string" id="6709107">&#34;goodbye,&nbsp;${1}x&#34;</span><span class="op" id="6709123">,</span>&nbsp;<span class="string" id="6709125">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6709139">,</span>&nbsp;<span class="string" id="6709141">&#34;goodbye,&nbsp;worldx&#34;</span><span class="op" id="6709158">}</span><span class="op" id="6709159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709162">{</span><span class="string" id="6709163">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6709176">,</span>&nbsp;<span class="string" id="6709178">&#34;&lt;$0&gt;&lt;$1&gt;&lt;$2&gt;&lt;$3&gt;&#34;</span><span class="op" id="6709196">,</span>&nbsp;<span class="string" id="6709198">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6709212">,</span>&nbsp;<span class="string" id="6709214">&#34;&lt;hello,&nbsp;world&gt;&lt;world&gt;&lt;&gt;&lt;&gt;&#34;</span><span class="op" id="6709241">}</span><span class="op" id="6709242">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709245">{</span><span class="string" id="6709246">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6709267">,</span>&nbsp;<span class="string" id="6709269">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="6709286">,</span>&nbsp;<span class="string" id="6709288">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6709302">,</span>&nbsp;<span class="string" id="6709304">&#34;goodbye,&nbsp;world!&#34;</span><span class="op" id="6709321">}</span><span class="op" id="6709322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709325">{</span><span class="string" id="6709326">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6709347">,</span>&nbsp;<span class="string" id="6709349">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="6709367">,</span>&nbsp;<span class="string" id="6709369">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6709383">,</span>&nbsp;<span class="string" id="6709385">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6709401">}</span><span class="op" id="6709402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709405">{</span><span class="string" id="6709406">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6709428">,</span>&nbsp;<span class="string" id="6709430">&#34;$x$x$x&#34;</span><span class="op" id="6709438">,</span>&nbsp;<span class="string" id="6709440">&#34;hi&#34;</span><span class="op" id="6709444">,</span>&nbsp;<span class="string" id="6709446">&#34;hihihi&#34;</span><span class="op" id="6709454">}</span><span class="op" id="6709455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709458">{</span><span class="string" id="6709459">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6709481">,</span>&nbsp;<span class="string" id="6709483">&#34;$x$x$x&#34;</span><span class="op" id="6709491">,</span>&nbsp;<span class="string" id="6709493">&#34;bye&#34;</span><span class="op" id="6709498">,</span>&nbsp;<span class="string" id="6709500">&#34;byebyebye&#34;</span><span class="op" id="6709511">}</span><span class="op" id="6709512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709515">{</span><span class="string" id="6709516">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6709538">,</span>&nbsp;<span class="string" id="6709540">&#34;$xyz&#34;</span><span class="op" id="6709546">,</span>&nbsp;<span class="string" id="6709548">&#34;hi&#34;</span><span class="op" id="6709552">,</span>&nbsp;<span class="string" id="6709554">&#34;&#34;</span><span class="op" id="6709556">}</span><span class="op" id="6709557">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709560">{</span><span class="string" id="6709561">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6709583">,</span>&nbsp;<span class="string" id="6709585">&#34;${x}yz&#34;</span><span class="op" id="6709593">,</span>&nbsp;<span class="string" id="6709595">&#34;hi&#34;</span><span class="op" id="6709599">,</span>&nbsp;<span class="string" id="6709601">&#34;hiyz&#34;</span><span class="op" id="6709607">}</span><span class="op" id="6709608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709611">{</span><span class="string" id="6709612">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6709634">,</span>&nbsp;<span class="string" id="6709636">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="6709647">,</span>&nbsp;<span class="string" id="6709649">&#34;hi&#34;</span><span class="op" id="6709653">,</span>&nbsp;<span class="string" id="6709655">&#34;hello&nbsp;$x&#34;</span><span class="op" id="6709665">}</span><span class="op" id="6709666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709669">{</span><span class="string" id="6709670">&#34;a+&#34;</span><span class="op" id="6709674">,</span>&nbsp;<span class="string" id="6709676">&#34;${oops&#34;</span><span class="op" id="6709684">,</span>&nbsp;<span class="string" id="6709686">&#34;aaa&#34;</span><span class="op" id="6709691">,</span>&nbsp;<span class="string" id="6709693">&#34;${oops&#34;</span><span class="op" id="6709701">}</span><span class="op" id="6709702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709705">{</span><span class="string" id="6709706">&#34;a+&#34;</span><span class="op" id="6709710">,</span>&nbsp;<span class="string" id="6709712">&#34;$$&#34;</span><span class="op" id="6709716">,</span>&nbsp;<span class="string" id="6709718">&#34;aaa&#34;</span><span class="op" id="6709723">,</span>&nbsp;<span class="string" id="6709725">&#34;$&#34;</span><span class="op" id="6709728">}</span><span class="op" id="6709729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709732">{</span><span class="string" id="6709733">&#34;a+&#34;</span><span class="op" id="6709737">,</span>&nbsp;<span class="string" id="6709739">&#34;$&#34;</span><span class="op" id="6709742">,</span>&nbsp;<span class="string" id="6709744">&#34;aaa&#34;</span><span class="op" id="6709749">,</span>&nbsp;<span class="string" id="6709751">&#34;$&#34;</span><span class="op" id="6709754">}</span><span class="op" id="6709755">,</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6709759">//&nbsp;Substitution&nbsp;when&nbsp;subexpression&nbsp;isn&#39;t&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709807">{</span><span class="string" id="6709808">&#34;(x)?&#34;</span><span class="op" id="6709814">,</span>&nbsp;<span class="string" id="6709816">&#34;$1&#34;</span><span class="op" id="6709820">,</span>&nbsp;<span class="string" id="6709822">&#34;123&#34;</span><span class="op" id="6709827">,</span>&nbsp;<span class="string" id="6709829">&#34;123&#34;</span><span class="op" id="6709834">}</span><span class="op" id="6709835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709838">{</span><span class="string" id="6709839">&#34;abc&#34;</span><span class="op" id="6709844">,</span>&nbsp;<span class="string" id="6709846">&#34;$1&#34;</span><span class="op" id="6709850">,</span>&nbsp;<span class="string" id="6709852">&#34;123&#34;</span><span class="op" id="6709857">,</span>&nbsp;<span class="string" id="6709859">&#34;123&#34;</span><span class="op" id="6709864">}</span><span class="op" id="6709865">,</span><br>
<span class="lineno"></span><span class="op" id="6709867">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="6709870">var</span>&nbsp;<span class="ident" id="6709874">replaceLiteralTests</span>&nbsp;<span class="op" id="6709894">=</span>&nbsp;<span class="op" id="6709896">[</span><span class="op" id="6709897">]</span><span class="ident" id="6709898">ReplaceTest</span><span class="op" id="6709909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6709912">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709930">{</span><span class="string" id="6709931">&#34;a+&#34;</span><span class="op" id="6709935">,</span>&nbsp;<span class="string" id="6709937">&#34;($0)&#34;</span><span class="op" id="6709943">,</span>&nbsp;<span class="string" id="6709945">&#34;banana&#34;</span><span class="op" id="6709953">,</span>&nbsp;<span class="string" id="6709955">&#34;b($0)n($0)n($0)&#34;</span><span class="op" id="6709972">}</span><span class="op" id="6709973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6709976">{</span><span class="string" id="6709977">&#34;a+&#34;</span><span class="op" id="6709981">,</span>&nbsp;<span class="string" id="6709983">&#34;(${0})&#34;</span><span class="op" id="6709991">,</span>&nbsp;<span class="string" id="6709993">&#34;banana&#34;</span><span class="op" id="6710001">,</span>&nbsp;<span class="string" id="6710003">&#34;b(${0})n(${0})n(${0})&#34;</span><span class="op" id="6710026">}</span><span class="op" id="6710027">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710030">{</span><span class="string" id="6710031">&#34;a+&#34;</span><span class="op" id="6710035">,</span>&nbsp;<span class="string" id="6710037">&#34;(${0})$0&#34;</span><span class="op" id="6710047">,</span>&nbsp;<span class="string" id="6710049">&#34;banana&#34;</span><span class="op" id="6710057">,</span>&nbsp;<span class="string" id="6710059">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="6710088">}</span><span class="op" id="6710089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710092">{</span><span class="string" id="6710093">&#34;a+&#34;</span><span class="op" id="6710097">,</span>&nbsp;<span class="string" id="6710099">&#34;(${0})$0&#34;</span><span class="op" id="6710109">,</span>&nbsp;<span class="string" id="6710111">&#34;banana&#34;</span><span class="op" id="6710119">,</span>&nbsp;<span class="string" id="6710121">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="6710150">}</span><span class="op" id="6710151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710154">{</span><span class="string" id="6710155">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6710168">,</span>&nbsp;<span class="string" id="6710170">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="6710185">,</span>&nbsp;<span class="string" id="6710187">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6710201">,</span>&nbsp;<span class="string" id="6710203">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="6710218">}</span><span class="op" id="6710219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710222">{</span><span class="string" id="6710223">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6710244">,</span>&nbsp;<span class="string" id="6710246">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="6710263">,</span>&nbsp;<span class="string" id="6710265">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6710279">,</span>&nbsp;<span class="string" id="6710281">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="6710298">}</span><span class="op" id="6710299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710302">{</span><span class="string" id="6710303">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6710324">,</span>&nbsp;<span class="string" id="6710326">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="6710344">,</span>&nbsp;<span class="string" id="6710346">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6710360">,</span>&nbsp;<span class="string" id="6710362">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="6710380">}</span><span class="op" id="6710381">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710384">{</span><span class="string" id="6710385">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6710407">,</span>&nbsp;<span class="string" id="6710409">&#34;$x$x$x&#34;</span><span class="op" id="6710417">,</span>&nbsp;<span class="string" id="6710419">&#34;hi&#34;</span><span class="op" id="6710423">,</span>&nbsp;<span class="string" id="6710425">&#34;$x$x$x&#34;</span><span class="op" id="6710433">}</span><span class="op" id="6710434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710437">{</span><span class="string" id="6710438">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6710460">,</span>&nbsp;<span class="string" id="6710462">&#34;$x$x$x&#34;</span><span class="op" id="6710470">,</span>&nbsp;<span class="string" id="6710472">&#34;bye&#34;</span><span class="op" id="6710477">,</span>&nbsp;<span class="string" id="6710479">&#34;$x$x$x&#34;</span><span class="op" id="6710487">}</span><span class="op" id="6710488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710491">{</span><span class="string" id="6710492">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6710514">,</span>&nbsp;<span class="string" id="6710516">&#34;$xyz&#34;</span><span class="op" id="6710522">,</span>&nbsp;<span class="string" id="6710524">&#34;hi&#34;</span><span class="op" id="6710528">,</span>&nbsp;<span class="string" id="6710530">&#34;$xyz&#34;</span><span class="op" id="6710536">}</span><span class="op" id="6710537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710540">{</span><span class="string" id="6710541">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6710563">,</span>&nbsp;<span class="string" id="6710565">&#34;${x}yz&#34;</span><span class="op" id="6710573">,</span>&nbsp;<span class="string" id="6710575">&#34;hi&#34;</span><span class="op" id="6710579">,</span>&nbsp;<span class="string" id="6710581">&#34;${x}yz&#34;</span><span class="op" id="6710589">}</span><span class="op" id="6710590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710593">{</span><span class="string" id="6710594">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6710616">,</span>&nbsp;<span class="string" id="6710618">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="6710629">,</span>&nbsp;<span class="string" id="6710631">&#34;hi&#34;</span><span class="op" id="6710635">,</span>&nbsp;<span class="string" id="6710637">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="6710648">}</span><span class="op" id="6710649">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710652">{</span><span class="string" id="6710653">&#34;a+&#34;</span><span class="op" id="6710657">,</span>&nbsp;<span class="string" id="6710659">&#34;${oops&#34;</span><span class="op" id="6710667">,</span>&nbsp;<span class="string" id="6710669">&#34;aaa&#34;</span><span class="op" id="6710674">,</span>&nbsp;<span class="string" id="6710676">&#34;${oops&#34;</span><span class="op" id="6710684">}</span><span class="op" id="6710685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710688">{</span><span class="string" id="6710689">&#34;a+&#34;</span><span class="op" id="6710693">,</span>&nbsp;<span class="string" id="6710695">&#34;$$&#34;</span><span class="op" id="6710699">,</span>&nbsp;<span class="string" id="6710701">&#34;aaa&#34;</span><span class="op" id="6710706">,</span>&nbsp;<span class="string" id="6710708">&#34;$$&#34;</span><span class="op" id="6710712">}</span><span class="op" id="6710713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710716">{</span><span class="string" id="6710717">&#34;a+&#34;</span><span class="op" id="6710721">,</span>&nbsp;<span class="string" id="6710723">&#34;$&#34;</span><span class="op" id="6710726">,</span>&nbsp;<span class="string" id="6710728">&#34;aaa&#34;</span><span class="op" id="6710733">,</span>&nbsp;<span class="string" id="6710735">&#34;$&#34;</span><span class="op" id="6710738">}</span><span class="op" id="6710739">,</span><br>
<span class="lineno"></span><span class="op" id="6710741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="6710744">type</span>&nbsp;<span class="ident" id="6710749">ReplaceFuncTest</span>&nbsp;<span class="keyword" id="6710765">struct</span>&nbsp;<span class="op" id="6710772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6710775">pattern</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6710789">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6710797">replacement</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="6710811">func</span><span class="op" id="6710815">(</span><span class="builtintype" id="6710816">string</span><span class="op" id="6710822">)</span>&nbsp;<span class="builtintype" id="6710824">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6710832">input</span><span class="op" id="6710837">,</span>&nbsp;<span class="ident" id="6710839">output</span>&nbsp;<span class="builtintype" id="6710846">string</span><br>
<span class="lineno"></span><span class="op" id="6710853">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="6710856">var</span>&nbsp;<span class="ident" id="6710860">replaceFuncTests</span>&nbsp;<span class="op" id="6710877">=</span>&nbsp;<span class="op" id="6710879">[</span><span class="op" id="6710880">]</span><span class="ident" id="6710881">ReplaceFuncTest</span><span class="op" id="6710896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710899">{</span><span class="string" id="6710900">&#34;[a-c]&#34;</span><span class="op" id="6710907">,</span>&nbsp;<span class="keyword" id="6710909">func</span><span class="op" id="6710913">(</span><span class="ident" id="6710914">s</span>&nbsp;<span class="builtintype" id="6710916">string</span><span class="op" id="6710922">)</span>&nbsp;<span class="builtintype" id="6710924">string</span>&nbsp;<span class="op" id="6710931">{</span>&nbsp;<span class="keyword" id="6710933">return</span>&nbsp;<span class="string" id="6710940">&#34;x&#34;</span>&nbsp;<span class="op" id="6710944">+</span>&nbsp;<span class="ident" id="6710946">s</span>&nbsp;<span class="op" id="6710948">+</span>&nbsp;<span class="string" id="6710950">&#34;y&#34;</span>&nbsp;<span class="op" id="6710954">}</span><span class="op" id="6710955">,</span>&nbsp;<span class="string" id="6710957">&#34;defabcdef&#34;</span><span class="op" id="6710968">,</span>&nbsp;<span class="string" id="6710970">&#34;defxayxbyxcydef&#34;</span><span class="op" id="6710987">}</span><span class="op" id="6710988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6710991">{</span><span class="string" id="6710992">&#34;[a-c]+&#34;</span><span class="op" id="6711000">,</span>&nbsp;<span class="keyword" id="6711002">func</span><span class="op" id="6711006">(</span><span class="ident" id="6711007">s</span>&nbsp;<span class="builtintype" id="6711009">string</span><span class="op" id="6711015">)</span>&nbsp;<span class="builtintype" id="6711017">string</span>&nbsp;<span class="op" id="6711024">{</span>&nbsp;<span class="keyword" id="6711026">return</span>&nbsp;<span class="string" id="6711033">&#34;x&#34;</span>&nbsp;<span class="op" id="6711037">+</span>&nbsp;<span class="ident" id="6711039">s</span>&nbsp;<span class="op" id="6711041">+</span>&nbsp;<span class="string" id="6711043">&#34;y&#34;</span>&nbsp;<span class="op" id="6711047">}</span><span class="op" id="6711048">,</span>&nbsp;<span class="string" id="6711050">&#34;defabcdef&#34;</span><span class="op" id="6711061">,</span>&nbsp;<span class="string" id="6711063">&#34;defxabcydef&#34;</span><span class="op" id="6711076">}</span><span class="op" id="6711077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6711080">{</span><span class="string" id="6711081">&#34;[a-c]*&#34;</span><span class="op" id="6711089">,</span>&nbsp;<span class="keyword" id="6711091">func</span><span class="op" id="6711095">(</span><span class="ident" id="6711096">s</span>&nbsp;<span class="builtintype" id="6711098">string</span><span class="op" id="6711104">)</span>&nbsp;<span class="builtintype" id="6711106">string</span>&nbsp;<span class="op" id="6711113">{</span>&nbsp;<span class="keyword" id="6711115">return</span>&nbsp;<span class="string" id="6711122">&#34;x&#34;</span>&nbsp;<span class="op" id="6711126">+</span>&nbsp;<span class="ident" id="6711128">s</span>&nbsp;<span class="op" id="6711130">+</span>&nbsp;<span class="string" id="6711132">&#34;y&#34;</span>&nbsp;<span class="op" id="6711136">}</span><span class="op" id="6711137">,</span>&nbsp;<span class="string" id="6711139">&#34;defabcdef&#34;</span><span class="op" id="6711150">,</span>&nbsp;<span class="string" id="6711152">&#34;xydxyexyfxabcydxyexyfxy&#34;</span><span class="op" id="6711177">}</span><span class="op" id="6711178">,</span><br>
<span class="lineno">235</span><span class="op" id="6711180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6711183">func</span>&nbsp;<span class="ident" id="6711188">TestReplaceAll</span><span class="op" id="6711202">(</span><span class="ident" id="6711203">t</span>&nbsp;<span class="op" id="6711205">*</span><span class="ident" id="6711206">testing</span><span class="op" id="6711213">.</span><span class="ident" id="6711214">T</span><span class="op" id="6711215">)</span>&nbsp;<span class="op" id="6711217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6711220">for</span>&nbsp;<span class="ident" id="6711224">_</span><span class="op" id="6711225">,</span>&nbsp;<span class="ident" id="6711227">tc</span>&nbsp;<span class="op" id="6711230">:=</span>&nbsp;<span class="keyword" id="6711233">range</span>&nbsp;<span class="ident" id="6711239">replaceTests</span>&nbsp;<span class="op" id="6711252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6711256">re</span><span class="op" id="6711258">,</span>&nbsp;<span class="ident" id="6711260">err</span>&nbsp;<span class="op" id="6711264">:=</span>&nbsp;<span class="ident" id="6711267">Compile</span><span class="op" id="6711274">(</span><span class="ident" id="6711275">tc</span><span class="op" id="6711277">.</span><span class="ident" id="6711278">pattern</span><span class="op" id="6711285">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6711289">if</span>&nbsp;<span class="ident" id="6711292">err</span>&nbsp;<span class="op" id="6711296">!=</span>&nbsp;<span class="ident" id="6711299">nil</span>&nbsp;<span class="op" id="6711303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6711308">t</span><span class="op" id="6711309">.</span><span class="ident" id="6711310">Errorf</span><span class="op" id="6711316">(</span><span class="string" id="6711317">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6711352">,</span>&nbsp;<span class="ident" id="6711354">tc</span><span class="op" id="6711356">.</span><span class="ident" id="6711357">pattern</span><span class="op" id="6711364">,</span>&nbsp;<span class="ident" id="6711366">err</span><span class="op" id="6711369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6711374">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6711385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6711389">actual</span>&nbsp;<span class="op" id="6711396">:=</span>&nbsp;<span class="ident" id="6711399">re</span><span class="op" id="6711401">.</span><span class="ident" id="6711402">ReplaceAllString</span><span class="op" id="6711418">(</span><span class="ident" id="6711419">tc</span><span class="op" id="6711421">.</span><span class="ident" id="6711422">input</span><span class="op" id="6711427">,</span>&nbsp;<span class="ident" id="6711429">tc</span><span class="op" id="6711431">.</span><span class="ident" id="6711432">replacement</span><span class="op" id="6711443">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6711447">if</span>&nbsp;<span class="ident" id="6711450">actual</span>&nbsp;<span class="op" id="6711457">!=</span>&nbsp;<span class="ident" id="6711460">tc</span><span class="op" id="6711462">.</span><span class="ident" id="6711463">output</span>&nbsp;<span class="op" id="6711470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6711475">t</span><span class="op" id="6711476">.</span><span class="ident" id="6711477">Errorf</span><span class="op" id="6711483">(</span><span class="string" id="6711484">&#34;%q.ReplaceAllString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6711526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6711532">tc</span><span class="op" id="6711534">.</span><span class="ident" id="6711535">pattern</span><span class="op" id="6711542">,</span>&nbsp;<span class="ident" id="6711544">tc</span><span class="op" id="6711546">.</span><span class="ident" id="6711547">input</span><span class="op" id="6711552">,</span>&nbsp;<span class="ident" id="6711554">tc</span><span class="op" id="6711556">.</span><span class="ident" id="6711557">replacement</span><span class="op" id="6711568">,</span>&nbsp;<span class="ident" id="6711570">actual</span><span class="op" id="6711576">,</span>&nbsp;<span class="ident" id="6711578">tc</span><span class="op" id="6711580">.</span><span class="ident" id="6711581">output</span><span class="op" id="6711587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6711591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6711595">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6711614">actual</span>&nbsp;<span class="op" id="6711621">=</span>&nbsp;<span class="builtintype" id="6711623">string</span><span class="op" id="6711629">(</span><span class="ident" id="6711630">re</span><span class="op" id="6711632">.</span><span class="ident" id="6711633">ReplaceAll</span><span class="op" id="6711643">(</span><span class="op" id="6711644">[</span><span class="op" id="6711645">]</span><span class="builtintype" id="6711646">byte</span><span class="op" id="6711650">(</span><span class="ident" id="6711651">tc</span><span class="op" id="6711653">.</span><span class="ident" id="6711654">input</span><span class="op" id="6711659">)</span><span class="op" id="6711660">,</span>&nbsp;<span class="op" id="6711662">[</span><span class="op" id="6711663">]</span><span class="builtintype" id="6711664">byte</span><span class="op" id="6711668">(</span><span class="ident" id="6711669">tc</span><span class="op" id="6711671">.</span><span class="ident" id="6711672">replacement</span><span class="op" id="6711683">)</span><span class="op" id="6711684">)</span><span class="op" id="6711685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6711689">if</span>&nbsp;<span class="ident" id="6711692">actual</span>&nbsp;<span class="op" id="6711699">!=</span>&nbsp;<span class="ident" id="6711702">tc</span><span class="op" id="6711704">.</span><span class="ident" id="6711705">output</span>&nbsp;<span class="op" id="6711712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6711717">t</span><span class="op" id="6711718">.</span><span class="ident" id="6711719">Errorf</span><span class="op" id="6711725">(</span><span class="string" id="6711726">&#34;%q.ReplaceAll(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6711762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6711768">tc</span><span class="op" id="6711770">.</span><span class="ident" id="6711771">pattern</span><span class="op" id="6711778">,</span>&nbsp;<span class="ident" id="6711780">tc</span><span class="op" id="6711782">.</span><span class="ident" id="6711783">input</span><span class="op" id="6711788">,</span>&nbsp;<span class="ident" id="6711790">tc</span><span class="op" id="6711792">.</span><span class="ident" id="6711793">replacement</span><span class="op" id="6711804">,</span>&nbsp;<span class="ident" id="6711806">actual</span><span class="op" id="6711812">,</span>&nbsp;<span class="ident" id="6711814">tc</span><span class="op" id="6711816">.</span><span class="ident" id="6711817">output</span><span class="op" id="6711823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6711827">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6711830">}</span><br>
<span class="lineno"></span><span class="op" id="6711832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6711835">func</span>&nbsp;<span class="ident" id="6711840">TestReplaceAllLiteral</span><span class="op" id="6711861">(</span><span class="ident" id="6711862">t</span>&nbsp;<span class="op" id="6711864">*</span><span class="ident" id="6711865">testing</span><span class="op" id="6711872">.</span><span class="ident" id="6711873">T</span><span class="op" id="6711874">)</span>&nbsp;<span class="op" id="6711876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6711879">//&nbsp;Run&nbsp;ReplaceAll&nbsp;tests&nbsp;that&nbsp;do&nbsp;not&nbsp;have&nbsp;$&nbsp;expansions.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6711935">for</span>&nbsp;<span class="ident" id="6711939">_</span><span class="op" id="6711940">,</span>&nbsp;<span class="ident" id="6711942">tc</span>&nbsp;<span class="op" id="6711945">:=</span>&nbsp;<span class="keyword" id="6711948">range</span>&nbsp;<span class="ident" id="6711954">replaceTests</span>&nbsp;<span class="op" id="6711967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6711971">if</span>&nbsp;<span class="ident" id="6711974">strings</span><span class="op" id="6711981">.</span><span class="ident" id="6711982">Contains</span><span class="op" id="6711990">(</span><span class="ident" id="6711991">tc</span><span class="op" id="6711993">.</span><span class="ident" id="6711994">replacement</span><span class="op" id="6712005">,</span>&nbsp;<span class="string" id="6712007">&#34;$&#34;</span><span class="op" id="6712010">)</span>&nbsp;<span class="op" id="6712012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6712017">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6712028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712032">re</span><span class="op" id="6712034">,</span>&nbsp;<span class="ident" id="6712036">err</span>&nbsp;<span class="op" id="6712040">:=</span>&nbsp;<span class="ident" id="6712043">Compile</span><span class="op" id="6712050">(</span><span class="ident" id="6712051">tc</span><span class="op" id="6712053">.</span><span class="ident" id="6712054">pattern</span><span class="op" id="6712061">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6712065">if</span>&nbsp;<span class="ident" id="6712068">err</span>&nbsp;<span class="op" id="6712072">!=</span>&nbsp;<span class="ident" id="6712075">nil</span>&nbsp;<span class="op" id="6712079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712084">t</span><span class="op" id="6712085">.</span><span class="ident" id="6712086">Errorf</span><span class="op" id="6712092">(</span><span class="string" id="6712093">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6712128">,</span>&nbsp;<span class="ident" id="6712130">tc</span><span class="op" id="6712132">.</span><span class="ident" id="6712133">pattern</span><span class="op" id="6712140">,</span>&nbsp;<span class="ident" id="6712142">err</span><span class="op" id="6712145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6712150">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6712161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712165">actual</span>&nbsp;<span class="op" id="6712172">:=</span>&nbsp;<span class="ident" id="6712175">re</span><span class="op" id="6712177">.</span><span class="ident" id="6712178">ReplaceAllLiteralString</span><span class="op" id="6712201">(</span><span class="ident" id="6712202">tc</span><span class="op" id="6712204">.</span><span class="ident" id="6712205">input</span><span class="op" id="6712210">,</span>&nbsp;<span class="ident" id="6712212">tc</span><span class="op" id="6712214">.</span><span class="ident" id="6712215">replacement</span><span class="op" id="6712226">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6712230">if</span>&nbsp;<span class="ident" id="6712233">actual</span>&nbsp;<span class="op" id="6712240">!=</span>&nbsp;<span class="ident" id="6712243">tc</span><span class="op" id="6712245">.</span><span class="ident" id="6712246">output</span>&nbsp;<span class="op" id="6712253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712258">t</span><span class="op" id="6712259">.</span><span class="ident" id="6712260">Errorf</span><span class="op" id="6712266">(</span><span class="string" id="6712267">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6712316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712322">tc</span><span class="op" id="6712324">.</span><span class="ident" id="6712325">pattern</span><span class="op" id="6712332">,</span>&nbsp;<span class="ident" id="6712334">tc</span><span class="op" id="6712336">.</span><span class="ident" id="6712337">input</span><span class="op" id="6712342">,</span>&nbsp;<span class="ident" id="6712344">tc</span><span class="op" id="6712346">.</span><span class="ident" id="6712347">replacement</span><span class="op" id="6712358">,</span>&nbsp;<span class="ident" id="6712360">actual</span><span class="op" id="6712366">,</span>&nbsp;<span class="ident" id="6712368">tc</span><span class="op" id="6712370">.</span><span class="ident" id="6712371">output</span><span class="op" id="6712377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6712381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6712385">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712404">actual</span>&nbsp;<span class="op" id="6712411">=</span>&nbsp;<span class="builtintype" id="6712413">string</span><span class="op" id="6712419">(</span><span class="ident" id="6712420">re</span><span class="op" id="6712422">.</span><span class="ident" id="6712423">ReplaceAllLiteral</span><span class="op" id="6712440">(</span><span class="op" id="6712441">[</span><span class="op" id="6712442">]</span><span class="builtintype" id="6712443">byte</span><span class="op" id="6712447">(</span><span class="ident" id="6712448">tc</span><span class="op" id="6712450">.</span><span class="ident" id="6712451">input</span><span class="op" id="6712456">)</span><span class="op" id="6712457">,</span>&nbsp;<span class="op" id="6712459">[</span><span class="op" id="6712460">]</span><span class="builtintype" id="6712461">byte</span><span class="op" id="6712465">(</span><span class="ident" id="6712466">tc</span><span class="op" id="6712468">.</span><span class="ident" id="6712469">replacement</span><span class="op" id="6712480">)</span><span class="op" id="6712481">)</span><span class="op" id="6712482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6712486">if</span>&nbsp;<span class="ident" id="6712489">actual</span>&nbsp;<span class="op" id="6712496">!=</span>&nbsp;<span class="ident" id="6712499">tc</span><span class="op" id="6712501">.</span><span class="ident" id="6712502">output</span>&nbsp;<span class="op" id="6712509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712514">t</span><span class="op" id="6712515">.</span><span class="ident" id="6712516">Errorf</span><span class="op" id="6712522">(</span><span class="string" id="6712523">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6712566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712572">tc</span><span class="op" id="6712574">.</span><span class="ident" id="6712575">pattern</span><span class="op" id="6712582">,</span>&nbsp;<span class="ident" id="6712584">tc</span><span class="op" id="6712586">.</span><span class="ident" id="6712587">input</span><span class="op" id="6712592">,</span>&nbsp;<span class="ident" id="6712594">tc</span><span class="op" id="6712596">.</span><span class="ident" id="6712597">replacement</span><span class="op" id="6712608">,</span>&nbsp;<span class="ident" id="6712610">actual</span><span class="op" id="6712616">,</span>&nbsp;<span class="ident" id="6712618">tc</span><span class="op" id="6712620">.</span><span class="ident" id="6712621">output</span><span class="op" id="6712627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6712631">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6712634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6712638">//&nbsp;Run&nbsp;literal-specific&nbsp;tests.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6712670">for</span>&nbsp;<span class="ident" id="6712674">_</span><span class="op" id="6712675">,</span>&nbsp;<span class="ident" id="6712677">tc</span>&nbsp;<span class="op" id="6712680">:=</span>&nbsp;<span class="keyword" id="6712683">range</span>&nbsp;<span class="ident" id="6712689">replaceLiteralTests</span>&nbsp;<span class="op" id="6712709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712713">re</span><span class="op" id="6712715">,</span>&nbsp;<span class="ident" id="6712717">err</span>&nbsp;<span class="op" id="6712721">:=</span>&nbsp;<span class="ident" id="6712724">Compile</span><span class="op" id="6712731">(</span><span class="ident" id="6712732">tc</span><span class="op" id="6712734">.</span><span class="ident" id="6712735">pattern</span><span class="op" id="6712742">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6712746">if</span>&nbsp;<span class="ident" id="6712749">err</span>&nbsp;<span class="op" id="6712753">!=</span>&nbsp;<span class="ident" id="6712756">nil</span>&nbsp;<span class="op" id="6712760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712765">t</span><span class="op" id="6712766">.</span><span class="ident" id="6712767">Errorf</span><span class="op" id="6712773">(</span><span class="string" id="6712774">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6712809">,</span>&nbsp;<span class="ident" id="6712811">tc</span><span class="op" id="6712813">.</span><span class="ident" id="6712814">pattern</span><span class="op" id="6712821">,</span>&nbsp;<span class="ident" id="6712823">err</span><span class="op" id="6712826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6712831">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6712842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712846">actual</span>&nbsp;<span class="op" id="6712853">:=</span>&nbsp;<span class="ident" id="6712856">re</span><span class="op" id="6712858">.</span><span class="ident" id="6712859">ReplaceAllLiteralString</span><span class="op" id="6712882">(</span><span class="ident" id="6712883">tc</span><span class="op" id="6712885">.</span><span class="ident" id="6712886">input</span><span class="op" id="6712891">,</span>&nbsp;<span class="ident" id="6712893">tc</span><span class="op" id="6712895">.</span><span class="ident" id="6712896">replacement</span><span class="op" id="6712907">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6712911">if</span>&nbsp;<span class="ident" id="6712914">actual</span>&nbsp;<span class="op" id="6712921">!=</span>&nbsp;<span class="ident" id="6712924">tc</span><span class="op" id="6712926">.</span><span class="ident" id="6712927">output</span>&nbsp;<span class="op" id="6712934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6712939">t</span><span class="op" id="6712940">.</span><span class="ident" id="6712941">Errorf</span><span class="op" id="6712947">(</span><span class="string" id="6712948">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6712997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713003">tc</span><span class="op" id="6713005">.</span><span class="ident" id="6713006">pattern</span><span class="op" id="6713013">,</span>&nbsp;<span class="ident" id="6713015">tc</span><span class="op" id="6713017">.</span><span class="ident" id="6713018">input</span><span class="op" id="6713023">,</span>&nbsp;<span class="ident" id="6713025">tc</span><span class="op" id="6713027">.</span><span class="ident" id="6713028">replacement</span><span class="op" id="6713039">,</span>&nbsp;<span class="ident" id="6713041">actual</span><span class="op" id="6713047">,</span>&nbsp;<span class="ident" id="6713049">tc</span><span class="op" id="6713051">.</span><span class="ident" id="6713052">output</span><span class="op" id="6713058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6713062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6713066">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713085">actual</span>&nbsp;<span class="op" id="6713092">=</span>&nbsp;<span class="builtintype" id="6713094">string</span><span class="op" id="6713100">(</span><span class="ident" id="6713101">re</span><span class="op" id="6713103">.</span><span class="ident" id="6713104">ReplaceAllLiteral</span><span class="op" id="6713121">(</span><span class="op" id="6713122">[</span><span class="op" id="6713123">]</span><span class="builtintype" id="6713124">byte</span><span class="op" id="6713128">(</span><span class="ident" id="6713129">tc</span><span class="op" id="6713131">.</span><span class="ident" id="6713132">input</span><span class="op" id="6713137">)</span><span class="op" id="6713138">,</span>&nbsp;<span class="op" id="6713140">[</span><span class="op" id="6713141">]</span><span class="builtintype" id="6713142">byte</span><span class="op" id="6713146">(</span><span class="ident" id="6713147">tc</span><span class="op" id="6713149">.</span><span class="ident" id="6713150">replacement</span><span class="op" id="6713161">)</span><span class="op" id="6713162">)</span><span class="op" id="6713163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6713167">if</span>&nbsp;<span class="ident" id="6713170">actual</span>&nbsp;<span class="op" id="6713177">!=</span>&nbsp;<span class="ident" id="6713180">tc</span><span class="op" id="6713182">.</span><span class="ident" id="6713183">output</span>&nbsp;<span class="op" id="6713190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713195">t</span><span class="op" id="6713196">.</span><span class="ident" id="6713197">Errorf</span><span class="op" id="6713203">(</span><span class="string" id="6713204">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6713247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713253">tc</span><span class="op" id="6713255">.</span><span class="ident" id="6713256">pattern</span><span class="op" id="6713263">,</span>&nbsp;<span class="ident" id="6713265">tc</span><span class="op" id="6713267">.</span><span class="ident" id="6713268">input</span><span class="op" id="6713273">,</span>&nbsp;<span class="ident" id="6713275">tc</span><span class="op" id="6713277">.</span><span class="ident" id="6713278">replacement</span><span class="op" id="6713289">,</span>&nbsp;<span class="ident" id="6713291">actual</span><span class="op" id="6713297">,</span>&nbsp;<span class="ident" id="6713299">tc</span><span class="op" id="6713301">.</span><span class="ident" id="6713302">output</span><span class="op" id="6713308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6713312">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6713315">}</span><br>
<span class="lineno"></span><span class="op" id="6713317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6713320">func</span>&nbsp;<span class="ident" id="6713325">TestReplaceAllFunc</span><span class="op" id="6713343">(</span><span class="ident" id="6713344">t</span>&nbsp;<span class="op" id="6713346">*</span><span class="ident" id="6713347">testing</span><span class="op" id="6713354">.</span><span class="ident" id="6713355">T</span><span class="op" id="6713356">)</span>&nbsp;<span class="op" id="6713358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6713361">for</span>&nbsp;<span class="ident" id="6713365">_</span><span class="op" id="6713366">,</span>&nbsp;<span class="ident" id="6713368">tc</span>&nbsp;<span class="op" id="6713371">:=</span>&nbsp;<span class="keyword" id="6713374">range</span>&nbsp;<span class="ident" id="6713380">replaceFuncTests</span>&nbsp;<span class="op" id="6713397">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713401">re</span><span class="op" id="6713403">,</span>&nbsp;<span class="ident" id="6713405">err</span>&nbsp;<span class="op" id="6713409">:=</span>&nbsp;<span class="ident" id="6713412">Compile</span><span class="op" id="6713419">(</span><span class="ident" id="6713420">tc</span><span class="op" id="6713422">.</span><span class="ident" id="6713423">pattern</span><span class="op" id="6713430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6713434">if</span>&nbsp;<span class="ident" id="6713437">err</span>&nbsp;<span class="op" id="6713441">!=</span>&nbsp;<span class="ident" id="6713444">nil</span>&nbsp;<span class="op" id="6713448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713453">t</span><span class="op" id="6713454">.</span><span class="ident" id="6713455">Errorf</span><span class="op" id="6713461">(</span><span class="string" id="6713462">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6713497">,</span>&nbsp;<span class="ident" id="6713499">tc</span><span class="op" id="6713501">.</span><span class="ident" id="6713502">pattern</span><span class="op" id="6713509">,</span>&nbsp;<span class="ident" id="6713511">err</span><span class="op" id="6713514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6713519">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6713530">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713534">actual</span>&nbsp;<span class="op" id="6713541">:=</span>&nbsp;<span class="ident" id="6713544">re</span><span class="op" id="6713546">.</span><span class="ident" id="6713547">ReplaceAllStringFunc</span><span class="op" id="6713567">(</span><span class="ident" id="6713568">tc</span><span class="op" id="6713570">.</span><span class="ident" id="6713571">input</span><span class="op" id="6713576">,</span>&nbsp;<span class="ident" id="6713578">tc</span><span class="op" id="6713580">.</span><span class="ident" id="6713581">replacement</span><span class="op" id="6713592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6713596">if</span>&nbsp;<span class="ident" id="6713599">actual</span>&nbsp;<span class="op" id="6713606">!=</span>&nbsp;<span class="ident" id="6713609">tc</span><span class="op" id="6713611">.</span><span class="ident" id="6713612">output</span>&nbsp;<span class="op" id="6713619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713624">t</span><span class="op" id="6713625">.</span><span class="ident" id="6713626">Errorf</span><span class="op" id="6713632">(</span><span class="string" id="6713633">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6713670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713676">tc</span><span class="op" id="6713678">.</span><span class="ident" id="6713679">pattern</span><span class="op" id="6713686">,</span>&nbsp;<span class="ident" id="6713688">tc</span><span class="op" id="6713690">.</span><span class="ident" id="6713691">input</span><span class="op" id="6713696">,</span>&nbsp;<span class="ident" id="6713698">actual</span><span class="op" id="6713704">,</span>&nbsp;<span class="ident" id="6713706">tc</span><span class="op" id="6713708">.</span><span class="ident" id="6713709">output</span><span class="op" id="6713715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6713719">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6713723">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713742">actual</span>&nbsp;<span class="op" id="6713749">=</span>&nbsp;<span class="builtintype" id="6713751">string</span><span class="op" id="6713757">(</span><span class="ident" id="6713758">re</span><span class="op" id="6713760">.</span><span class="ident" id="6713761">ReplaceAllFunc</span><span class="op" id="6713775">(</span><span class="op" id="6713776">[</span><span class="op" id="6713777">]</span><span class="builtintype" id="6713778">byte</span><span class="op" id="6713782">(</span><span class="ident" id="6713783">tc</span><span class="op" id="6713785">.</span><span class="ident" id="6713786">input</span><span class="op" id="6713791">)</span><span class="op" id="6713792">,</span>&nbsp;<span class="keyword" id="6713794">func</span><span class="op" id="6713798">(</span><span class="ident" id="6713799">s</span>&nbsp;<span class="op" id="6713801">[</span><span class="op" id="6713802">]</span><span class="builtintype" id="6713803">byte</span><span class="op" id="6713807">)</span>&nbsp;<span class="op" id="6713809">[</span><span class="op" id="6713810">]</span><span class="builtintype" id="6713811">byte</span>&nbsp;<span class="op" id="6713816">{</span>&nbsp;<span class="keyword" id="6713818">return</span>&nbsp;<span class="op" id="6713825">[</span><span class="op" id="6713826">]</span><span class="builtintype" id="6713827">byte</span><span class="op" id="6713831">(</span><span class="ident" id="6713832">tc</span><span class="op" id="6713834">.</span><span class="ident" id="6713835">replacement</span><span class="op" id="6713846">(</span><span class="builtintype" id="6713847">string</span><span class="op" id="6713853">(</span><span class="ident" id="6713854">s</span><span class="op" id="6713855">)</span><span class="op" id="6713856">)</span><span class="op" id="6713857">)</span>&nbsp;<span class="op" id="6713859">}</span><span class="op" id="6713860">)</span><span class="op" id="6713861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6713865">if</span>&nbsp;<span class="ident" id="6713868">actual</span>&nbsp;<span class="op" id="6713875">!=</span>&nbsp;<span class="ident" id="6713878">tc</span><span class="op" id="6713880">.</span><span class="ident" id="6713881">output</span>&nbsp;<span class="op" id="6713888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713893">t</span><span class="op" id="6713894">.</span><span class="ident" id="6713895">Errorf</span><span class="op" id="6713901">(</span><span class="string" id="6713902">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6713939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6713945">tc</span><span class="op" id="6713947">.</span><span class="ident" id="6713948">pattern</span><span class="op" id="6713955">,</span>&nbsp;<span class="ident" id="6713957">tc</span><span class="op" id="6713959">.</span><span class="ident" id="6713960">input</span><span class="op" id="6713965">,</span>&nbsp;<span class="ident" id="6713967">actual</span><span class="op" id="6713973">,</span>&nbsp;<span class="ident" id="6713975">tc</span><span class="op" id="6713977">.</span><span class="ident" id="6713978">output</span><span class="op" id="6713984">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6713988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6713991">}</span><br>
<span class="lineno"></span><span class="op" id="6713993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6713996">type</span>&nbsp;<span class="ident" id="6714001">MetaTest</span>&nbsp;<span class="keyword" id="6714010">struct</span>&nbsp;<span class="op" id="6714017">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714020">pattern</span><span class="op" id="6714027">,</span>&nbsp;<span class="ident" id="6714029">output</span><span class="op" id="6714035">,</span>&nbsp;<span class="ident" id="6714037">literal</span>&nbsp;<span class="builtintype" id="6714045">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714053">isLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6714078">bool</span><br>
<span class="lineno"></span><span class="op" id="6714083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6714086">var</span>&nbsp;<span class="ident" id="6714090">metaTests</span>&nbsp;<span class="op" id="6714100">=</span>&nbsp;<span class="op" id="6714102">[</span><span class="op" id="6714103">]</span><span class="ident" id="6714104">MetaTest</span><span class="op" id="6714112">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6714115">{</span><span class="string" id="6714116">``</span><span class="op" id="6714118">,</span>&nbsp;<span class="string" id="6714120">``</span><span class="op" id="6714122">,</span>&nbsp;<span class="string" id="6714124">``</span><span class="op" id="6714126">,</span>&nbsp;<span class="builtintype" id="6714128">true</span><span class="op" id="6714132">}</span><span class="op" id="6714133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6714136">{</span><span class="string" id="6714137">`foo`</span><span class="op" id="6714142">,</span>&nbsp;<span class="string" id="6714144">`foo`</span><span class="op" id="6714149">,</span>&nbsp;<span class="string" id="6714151">`foo`</span><span class="op" id="6714156">,</span>&nbsp;<span class="builtintype" id="6714158">true</span><span class="op" id="6714162">}</span><span class="op" id="6714163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6714166">{</span><span class="string" id="6714167">`foo\.\$`</span><span class="op" id="6714176">,</span>&nbsp;<span class="string" id="6714178">`foo\\\.\\\$`</span><span class="op" id="6714191">,</span>&nbsp;<span class="string" id="6714193">`foo.$`</span><span class="op" id="6714200">,</span>&nbsp;<span class="builtintype" id="6714202">true</span><span class="op" id="6714206">}</span><span class="op" id="6714207">,</span>&nbsp;<span class="comment" id="6714209">//&nbsp;has&nbsp;meta&nbsp;but&nbsp;no&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6714238">{</span><span class="string" id="6714239">`foo.\$`</span><span class="op" id="6714247">,</span>&nbsp;<span class="string" id="6714249">`foo\.\\\$`</span><span class="op" id="6714260">,</span>&nbsp;<span class="string" id="6714262">`foo`</span><span class="op" id="6714267">,</span>&nbsp;<span class="builtintype" id="6714269">false</span><span class="op" id="6714274">}</span><span class="op" id="6714275">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6714281">//&nbsp;has&nbsp;escaped&nbsp;operators&nbsp;and&nbsp;real&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6714326">{</span><span class="string" id="6714327">`!@#$%^&amp;*()_+-=[{]}\|,&lt;.&gt;/?~`</span><span class="op" id="6714356">,</span>&nbsp;<span class="string" id="6714358">`!@#\$%\^&amp;\*\(\)_\+-=\[\{\]\}\\\|,&lt;\.&gt;/\?~`</span><span class="op" id="6714401">,</span>&nbsp;<span class="string" id="6714403">`!@#`</span><span class="op" id="6714408">,</span>&nbsp;<span class="builtintype" id="6714410">false</span><span class="op" id="6714415">}</span><span class="op" id="6714416">,</span><br>
<span class="lineno">335</span><span class="op" id="6714418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6714421">func</span>&nbsp;<span class="ident" id="6714426">TestQuoteMeta</span><span class="op" id="6714439">(</span><span class="ident" id="6714440">t</span>&nbsp;<span class="op" id="6714442">*</span><span class="ident" id="6714443">testing</span><span class="op" id="6714450">.</span><span class="ident" id="6714451">T</span><span class="op" id="6714452">)</span>&nbsp;<span class="op" id="6714454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6714457">for</span>&nbsp;<span class="ident" id="6714461">_</span><span class="op" id="6714462">,</span>&nbsp;<span class="ident" id="6714464">tc</span>&nbsp;<span class="op" id="6714467">:=</span>&nbsp;<span class="keyword" id="6714470">range</span>&nbsp;<span class="ident" id="6714476">metaTests</span>&nbsp;<span class="op" id="6714486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6714490">//&nbsp;Verify&nbsp;that&nbsp;QuoteMeta&nbsp;returns&nbsp;the&nbsp;expected&nbsp;string.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714546">quoted</span>&nbsp;<span class="op" id="6714553">:=</span>&nbsp;<span class="ident" id="6714556">QuoteMeta</span><span class="op" id="6714565">(</span><span class="ident" id="6714566">tc</span><span class="op" id="6714568">.</span><span class="ident" id="6714569">pattern</span><span class="op" id="6714576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6714580">if</span>&nbsp;<span class="ident" id="6714583">quoted</span>&nbsp;<span class="op" id="6714590">!=</span>&nbsp;<span class="ident" id="6714593">tc</span><span class="op" id="6714595">.</span><span class="ident" id="6714596">output</span>&nbsp;<span class="op" id="6714603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714608">t</span><span class="op" id="6714609">.</span><span class="ident" id="6714610">Errorf</span><span class="op" id="6714616">(</span><span class="string" id="6714617">&#34;QuoteMeta(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="6714652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714658">tc</span><span class="op" id="6714660">.</span><span class="ident" id="6714661">pattern</span><span class="op" id="6714668">,</span>&nbsp;<span class="ident" id="6714670">quoted</span><span class="op" id="6714676">,</span>&nbsp;<span class="ident" id="6714678">tc</span><span class="op" id="6714680">.</span><span class="ident" id="6714681">output</span><span class="op" id="6714687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6714692">continue</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6714703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6714708">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;quoted&nbsp;string&nbsp;is&nbsp;in&nbsp;fact&nbsp;treated&nbsp;as&nbsp;expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6714774">//&nbsp;by&nbsp;Compile&nbsp;--&nbsp;i.e.&nbsp;that&nbsp;it&nbsp;matches&nbsp;the&nbsp;original,&nbsp;unquoted&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6714845">if</span>&nbsp;<span class="ident" id="6714848">tc</span><span class="op" id="6714850">.</span><span class="ident" id="6714851">pattern</span>&nbsp;<span class="op" id="6714859">!=</span>&nbsp;<span class="string" id="6714862">&#34;&#34;</span>&nbsp;<span class="op" id="6714865">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714870">re</span><span class="op" id="6714872">,</span>&nbsp;<span class="ident" id="6714874">err</span>&nbsp;<span class="op" id="6714878">:=</span>&nbsp;<span class="ident" id="6714881">Compile</span><span class="op" id="6714888">(</span><span class="ident" id="6714889">quoted</span><span class="op" id="6714895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6714900">if</span>&nbsp;<span class="ident" id="6714903">err</span>&nbsp;<span class="op" id="6714907">!=</span>&nbsp;<span class="ident" id="6714910">nil</span>&nbsp;<span class="op" id="6714914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6714920">t</span><span class="op" id="6714921">.</span><span class="ident" id="6714922">Errorf</span><span class="op" id="6714928">(</span><span class="string" id="6714929">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;QuoteMeta(`%s`):&nbsp;%v&#34;</span><span class="op" id="6714977">,</span>&nbsp;<span class="ident" id="6714979">tc</span><span class="op" id="6714981">.</span><span class="ident" id="6714982">pattern</span><span class="op" id="6714989">,</span>&nbsp;<span class="ident" id="6714991">err</span><span class="op" id="6714994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715000">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715012">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715017">src</span>&nbsp;<span class="op" id="6715021">:=</span>&nbsp;<span class="string" id="6715024">&#34;abc&#34;</span>&nbsp;<span class="op" id="6715030">+</span>&nbsp;<span class="ident" id="6715032">tc</span><span class="op" id="6715034">.</span><span class="ident" id="6715035">pattern</span>&nbsp;<span class="op" id="6715043">+</span>&nbsp;<span class="string" id="6715045">&#34;def&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715054">repl</span>&nbsp;<span class="op" id="6715059">:=</span>&nbsp;<span class="string" id="6715062">&#34;xyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715071">replaced</span>&nbsp;<span class="op" id="6715080">:=</span>&nbsp;<span class="ident" id="6715083">re</span><span class="op" id="6715085">.</span><span class="ident" id="6715086">ReplaceAllString</span><span class="op" id="6715102">(</span><span class="ident" id="6715103">src</span><span class="op" id="6715106">,</span>&nbsp;<span class="ident" id="6715108">repl</span><span class="op" id="6715112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715117">expected</span>&nbsp;<span class="op" id="6715126">:=</span>&nbsp;<span class="string" id="6715129">&#34;abcxyzdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715144">if</span>&nbsp;<span class="ident" id="6715147">replaced</span>&nbsp;<span class="op" id="6715156">!=</span>&nbsp;<span class="ident" id="6715159">expected</span>&nbsp;<span class="op" id="6715168">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715174">t</span><span class="op" id="6715175">.</span><span class="ident" id="6715176">Errorf</span><span class="op" id="6715182">(</span><span class="string" id="6715183">&#34;QuoteMeta(`%s`).Replace(`%s`,`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="6715237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715244">tc</span><span class="op" id="6715246">.</span><span class="ident" id="6715247">pattern</span><span class="op" id="6715254">,</span>&nbsp;<span class="ident" id="6715256">src</span><span class="op" id="6715259">,</span>&nbsp;<span class="ident" id="6715261">repl</span><span class="op" id="6715265">,</span>&nbsp;<span class="ident" id="6715267">replaced</span><span class="op" id="6715275">,</span>&nbsp;<span class="ident" id="6715277">expected</span><span class="op" id="6715285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715297">}</span><br>
<span class="lineno">365</span><span class="op" id="6715299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6715302">func</span>&nbsp;<span class="ident" id="6715307">TestLiteralPrefix</span><span class="op" id="6715324">(</span><span class="ident" id="6715325">t</span>&nbsp;<span class="op" id="6715327">*</span><span class="ident" id="6715328">testing</span><span class="op" id="6715335">.</span><span class="ident" id="6715336">T</span><span class="op" id="6715337">)</span>&nbsp;<span class="op" id="6715339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715342">for</span>&nbsp;<span class="ident" id="6715346">_</span><span class="op" id="6715347">,</span>&nbsp;<span class="ident" id="6715349">tc</span>&nbsp;<span class="op" id="6715352">:=</span>&nbsp;<span class="keyword" id="6715355">range</span>&nbsp;<span class="ident" id="6715361">metaTests</span>&nbsp;<span class="op" id="6715371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6715375">//&nbsp;Literal&nbsp;method&nbsp;needs&nbsp;to&nbsp;scan&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715422">re</span>&nbsp;<span class="op" id="6715425">:=</span>&nbsp;<span class="ident" id="6715428">MustCompile</span><span class="op" id="6715439">(</span><span class="ident" id="6715440">tc</span><span class="op" id="6715442">.</span><span class="ident" id="6715443">pattern</span><span class="op" id="6715450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715454">str</span><span class="op" id="6715457">,</span>&nbsp;<span class="ident" id="6715459">complete</span>&nbsp;<span class="op" id="6715468">:=</span>&nbsp;<span class="ident" id="6715471">re</span><span class="op" id="6715473">.</span><span class="ident" id="6715474">LiteralPrefix</span><span class="op" id="6715487">(</span><span class="op" id="6715488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715492">if</span>&nbsp;<span class="ident" id="6715495">complete</span>&nbsp;<span class="op" id="6715504">!=</span>&nbsp;<span class="ident" id="6715507">tc</span><span class="op" id="6715509">.</span><span class="ident" id="6715510">isLiteral</span>&nbsp;<span class="op" id="6715520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715525">t</span><span class="op" id="6715526">.</span><span class="ident" id="6715527">Errorf</span><span class="op" id="6715533">(</span><span class="string" id="6715534">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="6715569">,</span>&nbsp;<span class="ident" id="6715571">tc</span><span class="op" id="6715573">.</span><span class="ident" id="6715574">pattern</span><span class="op" id="6715581">,</span>&nbsp;<span class="ident" id="6715583">complete</span><span class="op" id="6715591">,</span>&nbsp;<span class="ident" id="6715593">tc</span><span class="op" id="6715595">.</span><span class="ident" id="6715596">isLiteral</span><span class="op" id="6715605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715609">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715613">if</span>&nbsp;<span class="ident" id="6715616">str</span>&nbsp;<span class="op" id="6715620">!=</span>&nbsp;<span class="ident" id="6715623">tc</span><span class="op" id="6715625">.</span><span class="ident" id="6715626">literal</span>&nbsp;<span class="op" id="6715634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715639">t</span><span class="op" id="6715640">.</span><span class="ident" id="6715641">Errorf</span><span class="op" id="6715647">(</span><span class="string" id="6715648">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="6715687">,</span>&nbsp;<span class="ident" id="6715689">tc</span><span class="op" id="6715691">.</span><span class="ident" id="6715692">pattern</span><span class="op" id="6715699">,</span>&nbsp;<span class="ident" id="6715701">str</span><span class="op" id="6715704">,</span>&nbsp;<span class="ident" id="6715706">tc</span><span class="op" id="6715708">.</span><span class="ident" id="6715709">literal</span><span class="op" id="6715716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715723">}</span><br>
<span class="lineno"></span><span class="op" id="6715725">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="6715728">type</span>&nbsp;<span class="ident" id="6715733">subexpCase</span>&nbsp;<span class="keyword" id="6715744">struct</span>&nbsp;<span class="op" id="6715751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715754">input</span>&nbsp;<span class="builtintype" id="6715760">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715768">num</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6715774">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715779">names</span>&nbsp;<span class="op" id="6715785">[</span><span class="op" id="6715786">]</span><span class="builtintype" id="6715787">string</span><br>
<span class="lineno">385</span><span class="op" id="6715794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6715797">var</span>&nbsp;<span class="ident" id="6715801">subexpCases</span>&nbsp;<span class="op" id="6715813">=</span>&nbsp;<span class="op" id="6715815">[</span><span class="op" id="6715816">]</span><span class="ident" id="6715817">subexpCase</span><span class="op" id="6715827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715830">{</span><span class="string" id="6715831">``</span><span class="op" id="6715833">,</span>&nbsp;<span class="num" id="6715835">0</span><span class="op" id="6715836">,</span>&nbsp;<span class="ident" id="6715838">nil</span><span class="op" id="6715841">}</span><span class="op" id="6715842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715845">{</span><span class="string" id="6715846">`.*`</span><span class="op" id="6715850">,</span>&nbsp;<span class="num" id="6715852">0</span><span class="op" id="6715853">,</span>&nbsp;<span class="ident" id="6715855">nil</span><span class="op" id="6715858">}</span><span class="op" id="6715859">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715862">{</span><span class="string" id="6715863">`abba`</span><span class="op" id="6715869">,</span>&nbsp;<span class="num" id="6715871">0</span><span class="op" id="6715872">,</span>&nbsp;<span class="ident" id="6715874">nil</span><span class="op" id="6715877">}</span><span class="op" id="6715878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715881">{</span><span class="string" id="6715882">`ab(b)a`</span><span class="op" id="6715890">,</span>&nbsp;<span class="num" id="6715892">1</span><span class="op" id="6715893">,</span>&nbsp;<span class="op" id="6715895">[</span><span class="op" id="6715896">]</span><span class="builtintype" id="6715897">string</span><span class="op" id="6715903">{</span><span class="string" id="6715904">&#34;&#34;</span><span class="op" id="6715906">,</span>&nbsp;<span class="string" id="6715908">&#34;&#34;</span><span class="op" id="6715910">}</span><span class="op" id="6715911">}</span><span class="op" id="6715912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715915">{</span><span class="string" id="6715916">`ab(.*)a`</span><span class="op" id="6715925">,</span>&nbsp;<span class="num" id="6715927">1</span><span class="op" id="6715928">,</span>&nbsp;<span class="op" id="6715930">[</span><span class="op" id="6715931">]</span><span class="builtintype" id="6715932">string</span><span class="op" id="6715938">{</span><span class="string" id="6715939">&#34;&#34;</span><span class="op" id="6715941">,</span>&nbsp;<span class="string" id="6715943">&#34;&#34;</span><span class="op" id="6715945">}</span><span class="op" id="6715946">}</span><span class="op" id="6715947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715950">{</span><span class="string" id="6715951">`(.*)ab(.*)a`</span><span class="op" id="6715964">,</span>&nbsp;<span class="num" id="6715966">2</span><span class="op" id="6715967">,</span>&nbsp;<span class="op" id="6715969">[</span><span class="op" id="6715970">]</span><span class="builtintype" id="6715971">string</span><span class="op" id="6715977">{</span><span class="string" id="6715978">&#34;&#34;</span><span class="op" id="6715980">,</span>&nbsp;<span class="string" id="6715982">&#34;&#34;</span><span class="op" id="6715984">,</span>&nbsp;<span class="string" id="6715986">&#34;&#34;</span><span class="op" id="6715988">}</span><span class="op" id="6715989">}</span><span class="op" id="6715990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715993">{</span><span class="string" id="6715994">`(.*)(ab)(.*)a`</span><span class="op" id="6716009">,</span>&nbsp;<span class="num" id="6716011">3</span><span class="op" id="6716012">,</span>&nbsp;<span class="op" id="6716014">[</span><span class="op" id="6716015">]</span><span class="builtintype" id="6716016">string</span><span class="op" id="6716022">{</span><span class="string" id="6716023">&#34;&#34;</span><span class="op" id="6716025">,</span>&nbsp;<span class="string" id="6716027">&#34;&#34;</span><span class="op" id="6716029">,</span>&nbsp;<span class="string" id="6716031">&#34;&#34;</span><span class="op" id="6716033">,</span>&nbsp;<span class="string" id="6716035">&#34;&#34;</span><span class="op" id="6716037">}</span><span class="op" id="6716038">}</span><span class="op" id="6716039">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716042">{</span><span class="string" id="6716043">`(.*)((a)b)(.*)a`</span><span class="op" id="6716060">,</span>&nbsp;<span class="num" id="6716062">4</span><span class="op" id="6716063">,</span>&nbsp;<span class="op" id="6716065">[</span><span class="op" id="6716066">]</span><span class="builtintype" id="6716067">string</span><span class="op" id="6716073">{</span><span class="string" id="6716074">&#34;&#34;</span><span class="op" id="6716076">,</span>&nbsp;<span class="string" id="6716078">&#34;&#34;</span><span class="op" id="6716080">,</span>&nbsp;<span class="string" id="6716082">&#34;&#34;</span><span class="op" id="6716084">,</span>&nbsp;<span class="string" id="6716086">&#34;&#34;</span><span class="op" id="6716088">,</span>&nbsp;<span class="string" id="6716090">&#34;&#34;</span><span class="op" id="6716092">}</span><span class="op" id="6716093">}</span><span class="op" id="6716094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716097">{</span><span class="string" id="6716098">`(.*)(\(ab)(.*)a`</span><span class="op" id="6716115">,</span>&nbsp;<span class="num" id="6716117">3</span><span class="op" id="6716118">,</span>&nbsp;<span class="op" id="6716120">[</span><span class="op" id="6716121">]</span><span class="builtintype" id="6716122">string</span><span class="op" id="6716128">{</span><span class="string" id="6716129">&#34;&#34;</span><span class="op" id="6716131">,</span>&nbsp;<span class="string" id="6716133">&#34;&#34;</span><span class="op" id="6716135">,</span>&nbsp;<span class="string" id="6716137">&#34;&#34;</span><span class="op" id="6716139">,</span>&nbsp;<span class="string" id="6716141">&#34;&#34;</span><span class="op" id="6716143">}</span><span class="op" id="6716144">}</span><span class="op" id="6716145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716148">{</span><span class="string" id="6716149">`(.*)(\(a\)b)(.*)a`</span><span class="op" id="6716168">,</span>&nbsp;<span class="num" id="6716170">3</span><span class="op" id="6716171">,</span>&nbsp;<span class="op" id="6716173">[</span><span class="op" id="6716174">]</span><span class="builtintype" id="6716175">string</span><span class="op" id="6716181">{</span><span class="string" id="6716182">&#34;&#34;</span><span class="op" id="6716184">,</span>&nbsp;<span class="string" id="6716186">&#34;&#34;</span><span class="op" id="6716188">,</span>&nbsp;<span class="string" id="6716190">&#34;&#34;</span><span class="op" id="6716192">,</span>&nbsp;<span class="string" id="6716194">&#34;&#34;</span><span class="op" id="6716196">}</span><span class="op" id="6716197">}</span><span class="op" id="6716198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716201">{</span><span class="string" id="6716202">`(?P&lt;foo&gt;.*)(?P&lt;bar&gt;(a)b)(?P&lt;foo&gt;.*)a`</span><span class="op" id="6716240">,</span>&nbsp;<span class="num" id="6716242">4</span><span class="op" id="6716243">,</span>&nbsp;<span class="op" id="6716245">[</span><span class="op" id="6716246">]</span><span class="builtintype" id="6716247">string</span><span class="op" id="6716253">{</span><span class="string" id="6716254">&#34;&#34;</span><span class="op" id="6716256">,</span>&nbsp;<span class="string" id="6716258">&#34;foo&#34;</span><span class="op" id="6716263">,</span>&nbsp;<span class="string" id="6716265">&#34;bar&#34;</span><span class="op" id="6716270">,</span>&nbsp;<span class="string" id="6716272">&#34;&#34;</span><span class="op" id="6716274">,</span>&nbsp;<span class="string" id="6716276">&#34;foo&#34;</span><span class="op" id="6716281">}</span><span class="op" id="6716282">}</span><span class="op" id="6716283">,</span><br>
<span class="lineno"></span><span class="op" id="6716285">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="6716288">func</span>&nbsp;<span class="ident" id="6716293">TestSubexp</span><span class="op" id="6716303">(</span><span class="ident" id="6716304">t</span>&nbsp;<span class="op" id="6716306">*</span><span class="ident" id="6716307">testing</span><span class="op" id="6716314">.</span><span class="ident" id="6716315">T</span><span class="op" id="6716316">)</span>&nbsp;<span class="op" id="6716318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716321">for</span>&nbsp;<span class="ident" id="6716325">_</span><span class="op" id="6716326">,</span>&nbsp;<span class="ident" id="6716328">c</span>&nbsp;<span class="op" id="6716330">:=</span>&nbsp;<span class="keyword" id="6716333">range</span>&nbsp;<span class="ident" id="6716339">subexpCases</span>&nbsp;<span class="op" id="6716351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716355">re</span>&nbsp;<span class="op" id="6716358">:=</span>&nbsp;<span class="ident" id="6716361">MustCompile</span><span class="op" id="6716372">(</span><span class="ident" id="6716373">c</span><span class="op" id="6716374">.</span><span class="ident" id="6716375">input</span><span class="op" id="6716380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716384">n</span>&nbsp;<span class="op" id="6716386">:=</span>&nbsp;<span class="ident" id="6716389">re</span><span class="op" id="6716391">.</span><span class="ident" id="6716392">NumSubexp</span><span class="op" id="6716401">(</span><span class="op" id="6716402">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716406">if</span>&nbsp;<span class="ident" id="6716409">n</span>&nbsp;<span class="op" id="6716411">!=</span>&nbsp;<span class="ident" id="6716414">c</span><span class="op" id="6716415">.</span><span class="ident" id="6716416">num</span>&nbsp;<span class="op" id="6716420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716425">t</span><span class="op" id="6716426">.</span><span class="ident" id="6716427">Errorf</span><span class="op" id="6716433">(</span><span class="string" id="6716434">&#34;%q:&nbsp;NumSubexp&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6716463">,</span>&nbsp;<span class="ident" id="6716465">c</span><span class="op" id="6716466">.</span><span class="ident" id="6716467">input</span><span class="op" id="6716472">,</span>&nbsp;<span class="ident" id="6716474">n</span><span class="op" id="6716475">,</span>&nbsp;<span class="ident" id="6716477">c</span><span class="op" id="6716478">.</span><span class="ident" id="6716479">num</span><span class="op" id="6716482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716487">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716502">names</span>&nbsp;<span class="op" id="6716508">:=</span>&nbsp;<span class="ident" id="6716511">re</span><span class="op" id="6716513">.</span><span class="ident" id="6716514">SubexpNames</span><span class="op" id="6716525">(</span><span class="op" id="6716526">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716530">if</span>&nbsp;<span class="builtinfunc" id="6716533">len</span><span class="op" id="6716536">(</span><span class="ident" id="6716537">names</span><span class="op" id="6716542">)</span>&nbsp;<span class="op" id="6716544">!=</span>&nbsp;<span class="num" id="6716547">1</span><span class="op" id="6716548">+</span><span class="ident" id="6716549">n</span>&nbsp;<span class="op" id="6716551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716556">t</span><span class="op" id="6716557">.</span><span class="ident" id="6716558">Errorf</span><span class="op" id="6716564">(</span><span class="string" id="6716565">&#34;%q:&nbsp;len(SubexpNames)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6716601">,</span>&nbsp;<span class="ident" id="6716603">c</span><span class="op" id="6716604">.</span><span class="ident" id="6716605">input</span><span class="op" id="6716610">,</span>&nbsp;<span class="builtinfunc" id="6716612">len</span><span class="op" id="6716615">(</span><span class="ident" id="6716616">names</span><span class="op" id="6716621">)</span><span class="op" id="6716622">,</span>&nbsp;<span class="ident" id="6716624">n</span><span class="op" id="6716625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716630">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716645">if</span>&nbsp;<span class="ident" id="6716648">c</span><span class="op" id="6716649">.</span><span class="ident" id="6716650">names</span>&nbsp;<span class="op" id="6716656">!=</span>&nbsp;<span class="ident" id="6716659">nil</span>&nbsp;<span class="op" id="6716663">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716668">for</span>&nbsp;<span class="ident" id="6716672">i</span>&nbsp;<span class="op" id="6716674">:=</span>&nbsp;<span class="num" id="6716677">0</span><span class="op" id="6716678">;</span>&nbsp;<span class="ident" id="6716680">i</span>&nbsp;<span class="op" id="6716682">&lt;</span>&nbsp;<span class="num" id="6716684">1</span><span class="op" id="6716685">+</span><span class="ident" id="6716686">n</span><span class="op" id="6716687">;</span>&nbsp;<span class="ident" id="6716689">i</span><span class="op" id="6716690">++</span>&nbsp;<span class="op" id="6716693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716699">if</span>&nbsp;<span class="ident" id="6716702">names</span><span class="op" id="6716707">[</span><span class="ident" id="6716708">i</span><span class="op" id="6716709">]</span>&nbsp;<span class="op" id="6716711">!=</span>&nbsp;<span class="ident" id="6716714">c</span><span class="op" id="6716715">.</span><span class="ident" id="6716716">names</span><span class="op" id="6716721">[</span><span class="ident" id="6716722">i</span><span class="op" id="6716723">]</span>&nbsp;<span class="op" id="6716725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716732">t</span><span class="op" id="6716733">.</span><span class="ident" id="6716734">Errorf</span><span class="op" id="6716740">(</span><span class="string" id="6716741">&#34;%q:&nbsp;SubexpNames[%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6716776">,</span>&nbsp;<span class="ident" id="6716778">c</span><span class="op" id="6716779">.</span><span class="ident" id="6716780">input</span><span class="op" id="6716785">,</span>&nbsp;<span class="ident" id="6716787">i</span><span class="op" id="6716788">,</span>&nbsp;<span class="ident" id="6716790">names</span><span class="op" id="6716795">[</span><span class="ident" id="6716796">i</span><span class="op" id="6716797">]</span><span class="op" id="6716798">,</span>&nbsp;<span class="ident" id="6716800">c</span><span class="op" id="6716801">.</span><span class="ident" id="6716802">names</span><span class="op" id="6716807">[</span><span class="ident" id="6716808">i</span><span class="op" id="6716809">]</span><span class="op" id="6716810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716821">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716828">}</span><br>
<span class="lineno"></span><span class="op" id="6716830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6716833">var</span>&nbsp;<span class="ident" id="6716837">splitTests</span>&nbsp;<span class="op" id="6716848">=</span>&nbsp;<span class="op" id="6716850">[</span><span class="op" id="6716851">]</span><span class="keyword" id="6716852">struct</span>&nbsp;<span class="op" id="6716859">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716862">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6716866">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716874">r</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6716878">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716886">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6716890">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716895">out</span>&nbsp;<span class="op" id="6716899">[</span><span class="op" id="6716900">]</span><span class="builtintype" id="6716901">string</span><br>
<span class="lineno"></span><span class="op" id="6716908">}</span><span class="op" id="6716909">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716912">{</span><span class="string" id="6716913">&#34;foo:and:bar&#34;</span><span class="op" id="6716926">,</span>&nbsp;<span class="string" id="6716928">&#34;:&#34;</span><span class="op" id="6716931">,</span>&nbsp;<span class="op" id="6716933">-</span><span class="num" id="6716934">1</span><span class="op" id="6716935">,</span>&nbsp;<span class="op" id="6716937">[</span><span class="op" id="6716938">]</span><span class="builtintype" id="6716939">string</span><span class="op" id="6716945">{</span><span class="string" id="6716946">&#34;foo&#34;</span><span class="op" id="6716951">,</span>&nbsp;<span class="string" id="6716953">&#34;and&#34;</span><span class="op" id="6716958">,</span>&nbsp;<span class="string" id="6716960">&#34;bar&#34;</span><span class="op" id="6716965">}</span><span class="op" id="6716966">}</span><span class="op" id="6716967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716970">{</span><span class="string" id="6716971">&#34;foo:and:bar&#34;</span><span class="op" id="6716984">,</span>&nbsp;<span class="string" id="6716986">&#34;:&#34;</span><span class="op" id="6716989">,</span>&nbsp;<span class="num" id="6716991">1</span><span class="op" id="6716992">,</span>&nbsp;<span class="op" id="6716994">[</span><span class="op" id="6716995">]</span><span class="builtintype" id="6716996">string</span><span class="op" id="6717002">{</span><span class="string" id="6717003">&#34;foo:and:bar&#34;</span><span class="op" id="6717016">}</span><span class="op" id="6717017">}</span><span class="op" id="6717018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717021">{</span><span class="string" id="6717022">&#34;foo:and:bar&#34;</span><span class="op" id="6717035">,</span>&nbsp;<span class="string" id="6717037">&#34;:&#34;</span><span class="op" id="6717040">,</span>&nbsp;<span class="num" id="6717042">2</span><span class="op" id="6717043">,</span>&nbsp;<span class="op" id="6717045">[</span><span class="op" id="6717046">]</span><span class="builtintype" id="6717047">string</span><span class="op" id="6717053">{</span><span class="string" id="6717054">&#34;foo&#34;</span><span class="op" id="6717059">,</span>&nbsp;<span class="string" id="6717061">&#34;and:bar&#34;</span><span class="op" id="6717070">}</span><span class="op" id="6717071">}</span><span class="op" id="6717072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717075">{</span><span class="string" id="6717076">&#34;foo:and:bar&#34;</span><span class="op" id="6717089">,</span>&nbsp;<span class="string" id="6717091">&#34;foo&#34;</span><span class="op" id="6717096">,</span>&nbsp;<span class="op" id="6717098">-</span><span class="num" id="6717099">1</span><span class="op" id="6717100">,</span>&nbsp;<span class="op" id="6717102">[</span><span class="op" id="6717103">]</span><span class="builtintype" id="6717104">string</span><span class="op" id="6717110">{</span><span class="string" id="6717111">&#34;&#34;</span><span class="op" id="6717113">,</span>&nbsp;<span class="string" id="6717115">&#34;:and:bar&#34;</span><span class="op" id="6717125">}</span><span class="op" id="6717126">}</span><span class="op" id="6717127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717130">{</span><span class="string" id="6717131">&#34;foo:and:bar&#34;</span><span class="op" id="6717144">,</span>&nbsp;<span class="string" id="6717146">&#34;bar&#34;</span><span class="op" id="6717151">,</span>&nbsp;<span class="op" id="6717153">-</span><span class="num" id="6717154">1</span><span class="op" id="6717155">,</span>&nbsp;<span class="op" id="6717157">[</span><span class="op" id="6717158">]</span><span class="builtintype" id="6717159">string</span><span class="op" id="6717165">{</span><span class="string" id="6717166">&#34;foo:and:&#34;</span><span class="op" id="6717176">,</span>&nbsp;<span class="string" id="6717178">&#34;&#34;</span><span class="op" id="6717180">}</span><span class="op" id="6717181">}</span><span class="op" id="6717182">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717185">{</span><span class="string" id="6717186">&#34;foo:and:bar&#34;</span><span class="op" id="6717199">,</span>&nbsp;<span class="string" id="6717201">&#34;baz&#34;</span><span class="op" id="6717206">,</span>&nbsp;<span class="op" id="6717208">-</span><span class="num" id="6717209">1</span><span class="op" id="6717210">,</span>&nbsp;<span class="op" id="6717212">[</span><span class="op" id="6717213">]</span><span class="builtintype" id="6717214">string</span><span class="op" id="6717220">{</span><span class="string" id="6717221">&#34;foo:and:bar&#34;</span><span class="op" id="6717234">}</span><span class="op" id="6717235">}</span><span class="op" id="6717236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717239">{</span><span class="string" id="6717240">&#34;baabaab&#34;</span><span class="op" id="6717249">,</span>&nbsp;<span class="string" id="6717251">&#34;a&#34;</span><span class="op" id="6717254">,</span>&nbsp;<span class="op" id="6717256">-</span><span class="num" id="6717257">1</span><span class="op" id="6717258">,</span>&nbsp;<span class="op" id="6717260">[</span><span class="op" id="6717261">]</span><span class="builtintype" id="6717262">string</span><span class="op" id="6717268">{</span><span class="string" id="6717269">&#34;b&#34;</span><span class="op" id="6717272">,</span>&nbsp;<span class="string" id="6717274">&#34;&#34;</span><span class="op" id="6717276">,</span>&nbsp;<span class="string" id="6717278">&#34;b&#34;</span><span class="op" id="6717281">,</span>&nbsp;<span class="string" id="6717283">&#34;&#34;</span><span class="op" id="6717285">,</span>&nbsp;<span class="string" id="6717287">&#34;b&#34;</span><span class="op" id="6717290">}</span><span class="op" id="6717291">}</span><span class="op" id="6717292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717295">{</span><span class="string" id="6717296">&#34;baabaab&#34;</span><span class="op" id="6717305">,</span>&nbsp;<span class="string" id="6717307">&#34;a*&#34;</span><span class="op" id="6717311">,</span>&nbsp;<span class="op" id="6717313">-</span><span class="num" id="6717314">1</span><span class="op" id="6717315">,</span>&nbsp;<span class="op" id="6717317">[</span><span class="op" id="6717318">]</span><span class="builtintype" id="6717319">string</span><span class="op" id="6717325">{</span><span class="string" id="6717326">&#34;b&#34;</span><span class="op" id="6717329">,</span>&nbsp;<span class="string" id="6717331">&#34;b&#34;</span><span class="op" id="6717334">,</span>&nbsp;<span class="string" id="6717336">&#34;b&#34;</span><span class="op" id="6717339">}</span><span class="op" id="6717340">}</span><span class="op" id="6717341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717344">{</span><span class="string" id="6717345">&#34;baabaab&#34;</span><span class="op" id="6717354">,</span>&nbsp;<span class="string" id="6717356">&#34;ba*&#34;</span><span class="op" id="6717361">,</span>&nbsp;<span class="op" id="6717363">-</span><span class="num" id="6717364">1</span><span class="op" id="6717365">,</span>&nbsp;<span class="op" id="6717367">[</span><span class="op" id="6717368">]</span><span class="builtintype" id="6717369">string</span><span class="op" id="6717375">{</span><span class="string" id="6717376">&#34;&#34;</span><span class="op" id="6717378">,</span>&nbsp;<span class="string" id="6717380">&#34;&#34;</span><span class="op" id="6717382">,</span>&nbsp;<span class="string" id="6717384">&#34;&#34;</span><span class="op" id="6717386">,</span>&nbsp;<span class="string" id="6717388">&#34;&#34;</span><span class="op" id="6717390">}</span><span class="op" id="6717391">}</span><span class="op" id="6717392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717395">{</span><span class="string" id="6717396">&#34;foobar&#34;</span><span class="op" id="6717404">,</span>&nbsp;<span class="string" id="6717406">&#34;f*b*&#34;</span><span class="op" id="6717412">,</span>&nbsp;<span class="op" id="6717414">-</span><span class="num" id="6717415">1</span><span class="op" id="6717416">,</span>&nbsp;<span class="op" id="6717418">[</span><span class="op" id="6717419">]</span><span class="builtintype" id="6717420">string</span><span class="op" id="6717426">{</span><span class="string" id="6717427">&#34;&#34;</span><span class="op" id="6717429">,</span>&nbsp;<span class="string" id="6717431">&#34;o&#34;</span><span class="op" id="6717434">,</span>&nbsp;<span class="string" id="6717436">&#34;o&#34;</span><span class="op" id="6717439">,</span>&nbsp;<span class="string" id="6717441">&#34;a&#34;</span><span class="op" id="6717444">,</span>&nbsp;<span class="string" id="6717446">&#34;r&#34;</span><span class="op" id="6717449">}</span><span class="op" id="6717450">}</span><span class="op" id="6717451">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717454">{</span><span class="string" id="6717455">&#34;foobar&#34;</span><span class="op" id="6717463">,</span>&nbsp;<span class="string" id="6717465">&#34;f+.*b+&#34;</span><span class="op" id="6717473">,</span>&nbsp;<span class="op" id="6717475">-</span><span class="num" id="6717476">1</span><span class="op" id="6717477">,</span>&nbsp;<span class="op" id="6717479">[</span><span class="op" id="6717480">]</span><span class="builtintype" id="6717481">string</span><span class="op" id="6717487">{</span><span class="string" id="6717488">&#34;&#34;</span><span class="op" id="6717490">,</span>&nbsp;<span class="string" id="6717492">&#34;ar&#34;</span><span class="op" id="6717496">}</span><span class="op" id="6717497">}</span><span class="op" id="6717498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717501">{</span><span class="string" id="6717502">&#34;foobooboar&#34;</span><span class="op" id="6717514">,</span>&nbsp;<span class="string" id="6717516">&#34;o{2}&#34;</span><span class="op" id="6717522">,</span>&nbsp;<span class="op" id="6717524">-</span><span class="num" id="6717525">1</span><span class="op" id="6717526">,</span>&nbsp;<span class="op" id="6717528">[</span><span class="op" id="6717529">]</span><span class="builtintype" id="6717530">string</span><span class="op" id="6717536">{</span><span class="string" id="6717537">&#34;f&#34;</span><span class="op" id="6717540">,</span>&nbsp;<span class="string" id="6717542">&#34;b&#34;</span><span class="op" id="6717545">,</span>&nbsp;<span class="string" id="6717547">&#34;boar&#34;</span><span class="op" id="6717553">}</span><span class="op" id="6717554">}</span><span class="op" id="6717555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717558">{</span><span class="string" id="6717559">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="6717572">,</span>&nbsp;<span class="string" id="6717574">&#34;,&#34;</span><span class="op" id="6717577">,</span>&nbsp;<span class="num" id="6717579">3</span><span class="op" id="6717580">,</span>&nbsp;<span class="op" id="6717582">[</span><span class="op" id="6717583">]</span><span class="builtintype" id="6717584">string</span><span class="op" id="6717590">{</span><span class="string" id="6717591">&#34;a&#34;</span><span class="op" id="6717594">,</span>&nbsp;<span class="string" id="6717596">&#34;b&#34;</span><span class="op" id="6717599">,</span>&nbsp;<span class="string" id="6717601">&#34;c,d,e,f&#34;</span><span class="op" id="6717610">}</span><span class="op" id="6717611">}</span><span class="op" id="6717612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717615">{</span><span class="string" id="6717616">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="6717629">,</span>&nbsp;<span class="string" id="6717631">&#34;,&#34;</span><span class="op" id="6717634">,</span>&nbsp;<span class="num" id="6717636">0</span><span class="op" id="6717637">,</span>&nbsp;<span class="ident" id="6717639">nil</span><span class="op" id="6717642">}</span><span class="op" id="6717643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717646">{</span><span class="string" id="6717647">&#34;,&#34;</span><span class="op" id="6717650">,</span>&nbsp;<span class="string" id="6717652">&#34;,&#34;</span><span class="op" id="6717655">,</span>&nbsp;<span class="op" id="6717657">-</span><span class="num" id="6717658">1</span><span class="op" id="6717659">,</span>&nbsp;<span class="op" id="6717661">[</span><span class="op" id="6717662">]</span><span class="builtintype" id="6717663">string</span><span class="op" id="6717669">{</span><span class="string" id="6717670">&#34;&#34;</span><span class="op" id="6717672">,</span>&nbsp;<span class="string" id="6717674">&#34;&#34;</span><span class="op" id="6717676">}</span><span class="op" id="6717677">}</span><span class="op" id="6717678">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717681">{</span><span class="string" id="6717682">&#34;,,,&#34;</span><span class="op" id="6717687">,</span>&nbsp;<span class="string" id="6717689">&#34;,&#34;</span><span class="op" id="6717692">,</span>&nbsp;<span class="op" id="6717694">-</span><span class="num" id="6717695">1</span><span class="op" id="6717696">,</span>&nbsp;<span class="op" id="6717698">[</span><span class="op" id="6717699">]</span><span class="builtintype" id="6717700">string</span><span class="op" id="6717706">{</span><span class="string" id="6717707">&#34;&#34;</span><span class="op" id="6717709">,</span>&nbsp;<span class="string" id="6717711">&#34;&#34;</span><span class="op" id="6717713">,</span>&nbsp;<span class="string" id="6717715">&#34;&#34;</span><span class="op" id="6717717">,</span>&nbsp;<span class="string" id="6717719">&#34;&#34;</span><span class="op" id="6717721">}</span><span class="op" id="6717722">}</span><span class="op" id="6717723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717726">{</span><span class="string" id="6717727">&#34;&#34;</span><span class="op" id="6717729">,</span>&nbsp;<span class="string" id="6717731">&#34;,&#34;</span><span class="op" id="6717734">,</span>&nbsp;<span class="op" id="6717736">-</span><span class="num" id="6717737">1</span><span class="op" id="6717738">,</span>&nbsp;<span class="op" id="6717740">[</span><span class="op" id="6717741">]</span><span class="builtintype" id="6717742">string</span><span class="op" id="6717748">{</span><span class="string" id="6717749">&#34;&#34;</span><span class="op" id="6717751">}</span><span class="op" id="6717752">}</span><span class="op" id="6717753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717756">{</span><span class="string" id="6717757">&#34;&#34;</span><span class="op" id="6717759">,</span>&nbsp;<span class="string" id="6717761">&#34;.*&#34;</span><span class="op" id="6717765">,</span>&nbsp;<span class="op" id="6717767">-</span><span class="num" id="6717768">1</span><span class="op" id="6717769">,</span>&nbsp;<span class="op" id="6717771">[</span><span class="op" id="6717772">]</span><span class="builtintype" id="6717773">string</span><span class="op" id="6717779">{</span><span class="string" id="6717780">&#34;&#34;</span><span class="op" id="6717782">}</span><span class="op" id="6717783">}</span><span class="op" id="6717784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717787">{</span><span class="string" id="6717788">&#34;&#34;</span><span class="op" id="6717790">,</span>&nbsp;<span class="string" id="6717792">&#34;.+&#34;</span><span class="op" id="6717796">,</span>&nbsp;<span class="op" id="6717798">-</span><span class="num" id="6717799">1</span><span class="op" id="6717800">,</span>&nbsp;<span class="op" id="6717802">[</span><span class="op" id="6717803">]</span><span class="builtintype" id="6717804">string</span><span class="op" id="6717810">{</span><span class="string" id="6717811">&#34;&#34;</span><span class="op" id="6717813">}</span><span class="op" id="6717814">}</span><span class="op" id="6717815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717818">{</span><span class="string" id="6717819">&#34;&#34;</span><span class="op" id="6717821">,</span>&nbsp;<span class="string" id="6717823">&#34;&#34;</span><span class="op" id="6717825">,</span>&nbsp;<span class="op" id="6717827">-</span><span class="num" id="6717828">1</span><span class="op" id="6717829">,</span>&nbsp;<span class="op" id="6717831">[</span><span class="op" id="6717832">]</span><span class="builtintype" id="6717833">string</span><span class="op" id="6717839">{</span><span class="op" id="6717840">}</span><span class="op" id="6717841">}</span><span class="op" id="6717842">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717845">{</span><span class="string" id="6717846">&#34;foobar&#34;</span><span class="op" id="6717854">,</span>&nbsp;<span class="string" id="6717856">&#34;&#34;</span><span class="op" id="6717858">,</span>&nbsp;<span class="op" id="6717860">-</span><span class="num" id="6717861">1</span><span class="op" id="6717862">,</span>&nbsp;<span class="op" id="6717864">[</span><span class="op" id="6717865">]</span><span class="builtintype" id="6717866">string</span><span class="op" id="6717872">{</span><span class="string" id="6717873">&#34;f&#34;</span><span class="op" id="6717876">,</span>&nbsp;<span class="string" id="6717878">&#34;o&#34;</span><span class="op" id="6717881">,</span>&nbsp;<span class="string" id="6717883">&#34;o&#34;</span><span class="op" id="6717886">,</span>&nbsp;<span class="string" id="6717888">&#34;b&#34;</span><span class="op" id="6717891">,</span>&nbsp;<span class="string" id="6717893">&#34;a&#34;</span><span class="op" id="6717896">,</span>&nbsp;<span class="string" id="6717898">&#34;r&#34;</span><span class="op" id="6717901">}</span><span class="op" id="6717902">}</span><span class="op" id="6717903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717906">{</span><span class="string" id="6717907">&#34;abaabaccadaaae&#34;</span><span class="op" id="6717923">,</span>&nbsp;<span class="string" id="6717925">&#34;a*&#34;</span><span class="op" id="6717929">,</span>&nbsp;<span class="num" id="6717931">5</span><span class="op" id="6717932">,</span>&nbsp;<span class="op" id="6717934">[</span><span class="op" id="6717935">]</span><span class="builtintype" id="6717936">string</span><span class="op" id="6717942">{</span><span class="string" id="6717943">&#34;&#34;</span><span class="op" id="6717945">,</span>&nbsp;<span class="string" id="6717947">&#34;b&#34;</span><span class="op" id="6717950">,</span>&nbsp;<span class="string" id="6717952">&#34;b&#34;</span><span class="op" id="6717955">,</span>&nbsp;<span class="string" id="6717957">&#34;c&#34;</span><span class="op" id="6717960">,</span>&nbsp;<span class="string" id="6717962">&#34;cadaaae&#34;</span><span class="op" id="6717971">}</span><span class="op" id="6717972">}</span><span class="op" id="6717973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717976">{</span><span class="string" id="6717977">&#34;:x:y:z:&#34;</span><span class="op" id="6717986">,</span>&nbsp;<span class="string" id="6717988">&#34;:&#34;</span><span class="op" id="6717991">,</span>&nbsp;<span class="op" id="6717993">-</span><span class="num" id="6717994">1</span><span class="op" id="6717995">,</span>&nbsp;<span class="op" id="6717997">[</span><span class="op" id="6717998">]</span><span class="builtintype" id="6717999">string</span><span class="op" id="6718005">{</span><span class="string" id="6718006">&#34;&#34;</span><span class="op" id="6718008">,</span>&nbsp;<span class="string" id="6718010">&#34;x&#34;</span><span class="op" id="6718013">,</span>&nbsp;<span class="string" id="6718015">&#34;y&#34;</span><span class="op" id="6718018">,</span>&nbsp;<span class="string" id="6718020">&#34;z&#34;</span><span class="op" id="6718023">,</span>&nbsp;<span class="string" id="6718025">&#34;&#34;</span><span class="op" id="6718027">}</span><span class="op" id="6718028">}</span><span class="op" id="6718029">,</span><br>
<span class="lineno"></span><span class="op" id="6718031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="6718034">func</span>&nbsp;<span class="ident" id="6718039">TestSplit</span><span class="op" id="6718048">(</span><span class="ident" id="6718049">t</span>&nbsp;<span class="op" id="6718051">*</span><span class="ident" id="6718052">testing</span><span class="op" id="6718059">.</span><span class="ident" id="6718060">T</span><span class="op" id="6718061">)</span>&nbsp;<span class="op" id="6718063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718066">for</span>&nbsp;<span class="ident" id="6718070">i</span><span class="op" id="6718071">,</span>&nbsp;<span class="ident" id="6718073">test</span>&nbsp;<span class="op" id="6718078">:=</span>&nbsp;<span class="keyword" id="6718081">range</span>&nbsp;<span class="ident" id="6718087">splitTests</span>&nbsp;<span class="op" id="6718098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718102">re</span><span class="op" id="6718104">,</span>&nbsp;<span class="ident" id="6718106">err</span>&nbsp;<span class="op" id="6718110">:=</span>&nbsp;<span class="ident" id="6718113">Compile</span><span class="op" id="6718120">(</span><span class="ident" id="6718121">test</span><span class="op" id="6718125">.</span><span class="ident" id="6718126">r</span><span class="op" id="6718127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718131">if</span>&nbsp;<span class="ident" id="6718134">err</span>&nbsp;<span class="op" id="6718138">!=</span>&nbsp;<span class="ident" id="6718141">nil</span>&nbsp;<span class="op" id="6718145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718150">t</span><span class="op" id="6718151">.</span><span class="ident" id="6718152">Errorf</span><span class="op" id="6718158">(</span><span class="string" id="6718159">&#34;#%d:&nbsp;%q:&nbsp;compile&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="6718187">,</span>&nbsp;<span class="ident" id="6718189">i</span><span class="op" id="6718190">,</span>&nbsp;<span class="ident" id="6718192">test</span><span class="op" id="6718196">.</span><span class="ident" id="6718197">r</span><span class="op" id="6718198">,</span>&nbsp;<span class="ident" id="6718200">err</span><span class="op" id="6718203">.</span><span class="ident" id="6718204">Error</span><span class="op" id="6718209">(</span><span class="op" id="6718210">)</span><span class="op" id="6718211">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718216">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718232">split</span>&nbsp;<span class="op" id="6718238">:=</span>&nbsp;<span class="ident" id="6718241">re</span><span class="op" id="6718243">.</span><span class="ident" id="6718244">Split</span><span class="op" id="6718249">(</span><span class="ident" id="6718250">test</span><span class="op" id="6718254">.</span><span class="ident" id="6718255">s</span><span class="op" id="6718256">,</span>&nbsp;<span class="ident" id="6718258">test</span><span class="op" id="6718262">.</span><span class="ident" id="6718263">n</span><span class="op" id="6718264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718268">if</span>&nbsp;<span class="op" id="6718271">!</span><span class="ident" id="6718272">reflect</span><span class="op" id="6718279">.</span><span class="ident" id="6718280">DeepEqual</span><span class="op" id="6718289">(</span><span class="ident" id="6718290">split</span><span class="op" id="6718295">,</span>&nbsp;<span class="ident" id="6718297">test</span><span class="op" id="6718301">.</span><span class="ident" id="6718302">out</span><span class="op" id="6718305">)</span>&nbsp;<span class="op" id="6718307">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718312">t</span><span class="op" id="6718313">.</span><span class="ident" id="6718314">Errorf</span><span class="op" id="6718320">(</span><span class="string" id="6718321">&#34;#%d:&nbsp;%q:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6718347">,</span>&nbsp;<span class="ident" id="6718349">i</span><span class="op" id="6718350">,</span>&nbsp;<span class="ident" id="6718352">test</span><span class="op" id="6718356">.</span><span class="ident" id="6718357">r</span><span class="op" id="6718358">,</span>&nbsp;<span class="ident" id="6718360">split</span><span class="op" id="6718365">,</span>&nbsp;<span class="ident" id="6718367">test</span><span class="op" id="6718371">.</span><span class="ident" id="6718372">out</span><span class="op" id="6718375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718384">if</span>&nbsp;<span class="ident" id="6718387">QuoteMeta</span><span class="op" id="6718396">(</span><span class="ident" id="6718397">test</span><span class="op" id="6718401">.</span><span class="ident" id="6718402">r</span><span class="op" id="6718403">)</span>&nbsp;<span class="op" id="6718405">==</span>&nbsp;<span class="ident" id="6718408">test</span><span class="op" id="6718412">.</span><span class="ident" id="6718413">r</span>&nbsp;<span class="op" id="6718415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718420">strsplit</span>&nbsp;<span class="op" id="6718429">:=</span>&nbsp;<span class="ident" id="6718432">strings</span><span class="op" id="6718439">.</span><span class="ident" id="6718440">SplitN</span><span class="op" id="6718446">(</span><span class="ident" id="6718447">test</span><span class="op" id="6718451">.</span><span class="ident" id="6718452">s</span><span class="op" id="6718453">,</span>&nbsp;<span class="ident" id="6718455">test</span><span class="op" id="6718459">.</span><span class="ident" id="6718460">r</span><span class="op" id="6718461">,</span>&nbsp;<span class="ident" id="6718463">test</span><span class="op" id="6718467">.</span><span class="ident" id="6718468">n</span><span class="op" id="6718469">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718474">if</span>&nbsp;<span class="op" id="6718477">!</span><span class="ident" id="6718478">reflect</span><span class="op" id="6718485">.</span><span class="ident" id="6718486">DeepEqual</span><span class="op" id="6718495">(</span><span class="ident" id="6718496">split</span><span class="op" id="6718501">,</span>&nbsp;<span class="ident" id="6718503">strsplit</span><span class="op" id="6718511">)</span>&nbsp;<span class="op" id="6718513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718519">t</span><span class="op" id="6718520">.</span><span class="ident" id="6718521">Errorf</span><span class="op" id="6718527">(</span><span class="string" id="6718528">&#34;#%d:&nbsp;Split(%q,&nbsp;%q,&nbsp;%d):&nbsp;regexp&nbsp;vs&nbsp;strings&nbsp;mismatch\nregexp=%q\nstrings=%q&#34;</span><span class="op" id="6718603">,</span>&nbsp;<span class="ident" id="6718605">i</span><span class="op" id="6718606">,</span>&nbsp;<span class="ident" id="6718608">test</span><span class="op" id="6718612">.</span><span class="ident" id="6718613">s</span><span class="op" id="6718614">,</span>&nbsp;<span class="ident" id="6718616">test</span><span class="op" id="6718620">.</span><span class="ident" id="6718621">r</span><span class="op" id="6718622">,</span>&nbsp;<span class="ident" id="6718624">test</span><span class="op" id="6718628">.</span><span class="ident" id="6718629">n</span><span class="op" id="6718630">,</span>&nbsp;<span class="ident" id="6718632">split</span><span class="op" id="6718637">,</span>&nbsp;<span class="ident" id="6718639">strsplit</span><span class="op" id="6718647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718659">}</span><br>
<span class="lineno">475</span><span class="op" id="6718661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6718664">//&nbsp;Check&nbsp;that&nbsp;one-pass&nbsp;cutoff&nbsp;does&nbsp;trigger.</span><br>
<span class="lineno"></span><span class="keyword" id="6718708">func</span>&nbsp;<span class="ident" id="6718713">TestOnePassCutoff</span><span class="op" id="6718730">(</span><span class="ident" id="6718731">t</span>&nbsp;<span class="op" id="6718733">*</span><span class="ident" id="6718734">testing</span><span class="op" id="6718741">.</span><span class="ident" id="6718742">T</span><span class="op" id="6718743">)</span>&nbsp;<span class="op" id="6718745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718748">re</span><span class="op" id="6718750">,</span>&nbsp;<span class="ident" id="6718752">err</span>&nbsp;<span class="op" id="6718756">:=</span>&nbsp;<span class="ident" id="6718759">syntax</span><span class="op" id="6718765">.</span><span class="ident" id="6718766">Parse</span><span class="op" id="6718771">(</span><span class="string" id="6718772">`^x{1,1000}y{1,1000}$`</span><span class="op" id="6718794">,</span>&nbsp;<span class="ident" id="6718796">syntax</span><span class="op" id="6718802">.</span><span class="ident" id="6718803">Perl</span><span class="op" id="6718807">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718810">if</span>&nbsp;<span class="ident" id="6718813">err</span>&nbsp;<span class="op" id="6718817">!=</span>&nbsp;<span class="ident" id="6718820">nil</span>&nbsp;<span class="op" id="6718824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718828">t</span><span class="op" id="6718829">.</span><span class="ident" id="6718830">Fatalf</span><span class="op" id="6718836">(</span><span class="string" id="6718837">&#34;parse:&nbsp;%v&#34;</span><span class="op" id="6718848">,</span>&nbsp;<span class="ident" id="6718850">err</span><span class="op" id="6718853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718859">p</span><span class="op" id="6718860">,</span>&nbsp;<span class="ident" id="6718862">err</span>&nbsp;<span class="op" id="6718866">:=</span>&nbsp;<span class="ident" id="6718869">syntax</span><span class="op" id="6718875">.</span><span class="ident" id="6718876">Compile</span><span class="op" id="6718883">(</span><span class="ident" id="6718884">re</span><span class="op" id="6718886">.</span><span class="ident" id="6718887">Simplify</span><span class="op" id="6718895">(</span><span class="op" id="6718896">)</span><span class="op" id="6718897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718900">if</span>&nbsp;<span class="ident" id="6718903">err</span>&nbsp;<span class="op" id="6718907">!=</span>&nbsp;<span class="ident" id="6718910">nil</span>&nbsp;<span class="op" id="6718914">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718918">t</span><span class="op" id="6718919">.</span><span class="ident" id="6718920">Fatalf</span><span class="op" id="6718926">(</span><span class="string" id="6718927">&#34;compile:&nbsp;%v&#34;</span><span class="op" id="6718940">,</span>&nbsp;<span class="ident" id="6718942">err</span><span class="op" id="6718945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718951">if</span>&nbsp;<span class="ident" id="6718954">compileOnePass</span><span class="op" id="6718968">(</span><span class="ident" id="6718969">p</span><span class="op" id="6718970">)</span>&nbsp;<span class="op" id="6718972">!=</span>&nbsp;<span class="ident" id="6718975">notOnePass</span>&nbsp;<span class="op" id="6718986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718990">t</span><span class="op" id="6718991">.</span><span class="ident" id="6718992">Fatalf</span><span class="op" id="6718998">(</span><span class="string" id="6718999">&#34;makeOnePass&nbsp;succeeded;&nbsp;wanted&nbsp;notOnePass&#34;</span><span class="op" id="6719041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719044">}</span><br>
<span class="lineno">490</span><span class="op" id="6719046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6719049">func</span>&nbsp;<span class="ident" id="6719054">BenchmarkLiteral</span><span class="op" id="6719070">(</span><span class="ident" id="6719071">b</span>&nbsp;<span class="op" id="6719073">*</span><span class="ident" id="6719074">testing</span><span class="op" id="6719081">.</span><span class="ident" id="6719082">B</span><span class="op" id="6719083">)</span>&nbsp;<span class="op" id="6719085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719088">x</span>&nbsp;<span class="op" id="6719090">:=</span>&nbsp;<span class="ident" id="6719093">strings</span><span class="op" id="6719100">.</span><span class="ident" id="6719101">Repeat</span><span class="op" id="6719107">(</span><span class="string" id="6719108">&#34;x&#34;</span><span class="op" id="6719111">,</span>&nbsp;<span class="num" id="6719113">50</span><span class="op" id="6719115">)</span>&nbsp;<span class="op" id="6719117">+</span>&nbsp;<span class="string" id="6719119">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719124">b</span><span class="op" id="6719125">.</span><span class="ident" id="6719126">StopTimer</span><span class="op" id="6719135">(</span><span class="op" id="6719136">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719139">re</span>&nbsp;<span class="op" id="6719142">:=</span>&nbsp;<span class="ident" id="6719145">MustCompile</span><span class="op" id="6719156">(</span><span class="string" id="6719157">&#34;y&#34;</span><span class="op" id="6719160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719163">b</span><span class="op" id="6719164">.</span><span class="ident" id="6719165">StartTimer</span><span class="op" id="6719175">(</span><span class="op" id="6719176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719179">for</span>&nbsp;<span class="ident" id="6719183">i</span>&nbsp;<span class="op" id="6719185">:=</span>&nbsp;<span class="num" id="6719188">0</span><span class="op" id="6719189">;</span>&nbsp;<span class="ident" id="6719191">i</span>&nbsp;<span class="op" id="6719193">&lt;</span>&nbsp;<span class="ident" id="6719195">b</span><span class="op" id="6719196">.</span><span class="ident" id="6719197">N</span><span class="op" id="6719198">;</span>&nbsp;<span class="ident" id="6719200">i</span><span class="op" id="6719201">++</span>&nbsp;<span class="op" id="6719204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719208">if</span>&nbsp;<span class="op" id="6719211">!</span><span class="ident" id="6719212">re</span><span class="op" id="6719214">.</span><span class="ident" id="6719215">MatchString</span><span class="op" id="6719226">(</span><span class="ident" id="6719227">x</span><span class="op" id="6719228">)</span>&nbsp;<span class="op" id="6719230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719235">b</span><span class="op" id="6719236">.</span><span class="ident" id="6719237">Fatalf</span><span class="op" id="6719243">(</span><span class="string" id="6719244">&#34;no&nbsp;match!&#34;</span><span class="op" id="6719255">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719262">}</span><br>
<span class="lineno"></span><span class="op" id="6719264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6719267">func</span>&nbsp;<span class="ident" id="6719272">BenchmarkNotLiteral</span><span class="op" id="6719291">(</span><span class="ident" id="6719292">b</span>&nbsp;<span class="op" id="6719294">*</span><span class="ident" id="6719295">testing</span><span class="op" id="6719302">.</span><span class="ident" id="6719303">B</span><span class="op" id="6719304">)</span>&nbsp;<span class="op" id="6719306">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719309">x</span>&nbsp;<span class="op" id="6719311">:=</span>&nbsp;<span class="ident" id="6719314">strings</span><span class="op" id="6719321">.</span><span class="ident" id="6719322">Repeat</span><span class="op" id="6719328">(</span><span class="string" id="6719329">&#34;x&#34;</span><span class="op" id="6719332">,</span>&nbsp;<span class="num" id="6719334">50</span><span class="op" id="6719336">)</span>&nbsp;<span class="op" id="6719338">+</span>&nbsp;<span class="string" id="6719340">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719345">b</span><span class="op" id="6719346">.</span><span class="ident" id="6719347">StopTimer</span><span class="op" id="6719356">(</span><span class="op" id="6719357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719360">re</span>&nbsp;<span class="op" id="6719363">:=</span>&nbsp;<span class="ident" id="6719366">MustCompile</span><span class="op" id="6719377">(</span><span class="string" id="6719378">&#34;.y&#34;</span><span class="op" id="6719382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719385">b</span><span class="op" id="6719386">.</span><span class="ident" id="6719387">StartTimer</span><span class="op" id="6719397">(</span><span class="op" id="6719398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719401">for</span>&nbsp;<span class="ident" id="6719405">i</span>&nbsp;<span class="op" id="6719407">:=</span>&nbsp;<span class="num" id="6719410">0</span><span class="op" id="6719411">;</span>&nbsp;<span class="ident" id="6719413">i</span>&nbsp;<span class="op" id="6719415">&lt;</span>&nbsp;<span class="ident" id="6719417">b</span><span class="op" id="6719418">.</span><span class="ident" id="6719419">N</span><span class="op" id="6719420">;</span>&nbsp;<span class="ident" id="6719422">i</span><span class="op" id="6719423">++</span>&nbsp;<span class="op" id="6719426">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719430">if</span>&nbsp;<span class="op" id="6719433">!</span><span class="ident" id="6719434">re</span><span class="op" id="6719436">.</span><span class="ident" id="6719437">MatchString</span><span class="op" id="6719448">(</span><span class="ident" id="6719449">x</span><span class="op" id="6719450">)</span>&nbsp;<span class="op" id="6719452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719457">b</span><span class="op" id="6719458">.</span><span class="ident" id="6719459">Fatalf</span><span class="op" id="6719465">(</span><span class="string" id="6719466">&#34;no&nbsp;match!&#34;</span><span class="op" id="6719477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719484">}</span><br>
<span class="lineno"></span><span class="op" id="6719486">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="6719489">func</span>&nbsp;<span class="ident" id="6719494">BenchmarkMatchClass</span><span class="op" id="6719513">(</span><span class="ident" id="6719514">b</span>&nbsp;<span class="op" id="6719516">*</span><span class="ident" id="6719517">testing</span><span class="op" id="6719524">.</span><span class="ident" id="6719525">B</span><span class="op" id="6719526">)</span>&nbsp;<span class="op" id="6719528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719531">b</span><span class="op" id="6719532">.</span><span class="ident" id="6719533">StopTimer</span><span class="op" id="6719542">(</span><span class="op" id="6719543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719546">x</span>&nbsp;<span class="op" id="6719548">:=</span>&nbsp;<span class="ident" id="6719551">strings</span><span class="op" id="6719558">.</span><span class="ident" id="6719559">Repeat</span><span class="op" id="6719565">(</span><span class="string" id="6719566">&#34;xxxx&#34;</span><span class="op" id="6719572">,</span>&nbsp;<span class="num" id="6719574">20</span><span class="op" id="6719576">)</span>&nbsp;<span class="op" id="6719578">+</span>&nbsp;<span class="string" id="6719580">&#34;w&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719585">re</span>&nbsp;<span class="op" id="6719588">:=</span>&nbsp;<span class="ident" id="6719591">MustCompile</span><span class="op" id="6719602">(</span><span class="string" id="6719603">&#34;[abcdw]&#34;</span><span class="op" id="6719612">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719615">b</span><span class="op" id="6719616">.</span><span class="ident" id="6719617">StartTimer</span><span class="op" id="6719627">(</span><span class="op" id="6719628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719631">for</span>&nbsp;<span class="ident" id="6719635">i</span>&nbsp;<span class="op" id="6719637">:=</span>&nbsp;<span class="num" id="6719640">0</span><span class="op" id="6719641">;</span>&nbsp;<span class="ident" id="6719643">i</span>&nbsp;<span class="op" id="6719645">&lt;</span>&nbsp;<span class="ident" id="6719647">b</span><span class="op" id="6719648">.</span><span class="ident" id="6719649">N</span><span class="op" id="6719650">;</span>&nbsp;<span class="ident" id="6719652">i</span><span class="op" id="6719653">++</span>&nbsp;<span class="op" id="6719656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719660">if</span>&nbsp;<span class="op" id="6719663">!</span><span class="ident" id="6719664">re</span><span class="op" id="6719666">.</span><span class="ident" id="6719667">MatchString</span><span class="op" id="6719678">(</span><span class="ident" id="6719679">x</span><span class="op" id="6719680">)</span>&nbsp;<span class="op" id="6719682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719687">b</span><span class="op" id="6719688">.</span><span class="ident" id="6719689">Fatalf</span><span class="op" id="6719695">(</span><span class="string" id="6719696">&#34;no&nbsp;match!&#34;</span><span class="op" id="6719707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719711">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719714">}</span><br>
<span class="lineno"></span><span class="op" id="6719716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6719719">func</span>&nbsp;<span class="ident" id="6719724">BenchmarkMatchClass_InRange</span><span class="op" id="6719751">(</span><span class="ident" id="6719752">b</span>&nbsp;<span class="op" id="6719754">*</span><span class="ident" id="6719755">testing</span><span class="op" id="6719762">.</span><span class="ident" id="6719763">B</span><span class="op" id="6719764">)</span>&nbsp;<span class="op" id="6719766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719769">b</span><span class="op" id="6719770">.</span><span class="ident" id="6719771">StopTimer</span><span class="op" id="6719780">(</span><span class="op" id="6719781">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6719784">//&nbsp;&#39;b&#39;&nbsp;is&nbsp;between&nbsp;&#39;a&#39;&nbsp;and&nbsp;&#39;c&#39;,&nbsp;so&nbsp;the&nbsp;charclass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6719833">//&nbsp;range&nbsp;checking&nbsp;is&nbsp;no&nbsp;help&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719869">x</span>&nbsp;<span class="op" id="6719871">:=</span>&nbsp;<span class="ident" id="6719874">strings</span><span class="op" id="6719881">.</span><span class="ident" id="6719882">Repeat</span><span class="op" id="6719888">(</span><span class="string" id="6719889">&#34;bbbb&#34;</span><span class="op" id="6719895">,</span>&nbsp;<span class="num" id="6719897">20</span><span class="op" id="6719899">)</span>&nbsp;<span class="op" id="6719901">+</span>&nbsp;<span class="string" id="6719903">&#34;c&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719908">re</span>&nbsp;<span class="op" id="6719911">:=</span>&nbsp;<span class="ident" id="6719914">MustCompile</span><span class="op" id="6719925">(</span><span class="string" id="6719926">&#34;[ac]&#34;</span><span class="op" id="6719932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719935">b</span><span class="op" id="6719936">.</span><span class="ident" id="6719937">StartTimer</span><span class="op" id="6719947">(</span><span class="op" id="6719948">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719951">for</span>&nbsp;<span class="ident" id="6719955">i</span>&nbsp;<span class="op" id="6719957">:=</span>&nbsp;<span class="num" id="6719960">0</span><span class="op" id="6719961">;</span>&nbsp;<span class="ident" id="6719963">i</span>&nbsp;<span class="op" id="6719965">&lt;</span>&nbsp;<span class="ident" id="6719967">b</span><span class="op" id="6719968">.</span><span class="ident" id="6719969">N</span><span class="op" id="6719970">;</span>&nbsp;<span class="ident" id="6719972">i</span><span class="op" id="6719973">++</span>&nbsp;<span class="op" id="6719976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719980">if</span>&nbsp;<span class="op" id="6719983">!</span><span class="ident" id="6719984">re</span><span class="op" id="6719986">.</span><span class="ident" id="6719987">MatchString</span><span class="op" id="6719998">(</span><span class="ident" id="6719999">x</span><span class="op" id="6720000">)</span>&nbsp;<span class="op" id="6720002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720007">b</span><span class="op" id="6720008">.</span><span class="ident" id="6720009">Fatalf</span><span class="op" id="6720015">(</span><span class="string" id="6720016">&#34;no&nbsp;match!&#34;</span><span class="op" id="6720027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720034">}</span><br>
<span class="lineno">540</span><span class="op" id="6720036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6720039">func</span>&nbsp;<span class="ident" id="6720044">BenchmarkReplaceAll</span><span class="op" id="6720063">(</span><span class="ident" id="6720064">b</span>&nbsp;<span class="op" id="6720066">*</span><span class="ident" id="6720067">testing</span><span class="op" id="6720074">.</span><span class="ident" id="6720075">B</span><span class="op" id="6720076">)</span>&nbsp;<span class="op" id="6720078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720081">x</span>&nbsp;<span class="op" id="6720083">:=</span>&nbsp;<span class="string" id="6720086">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720116">b</span><span class="op" id="6720117">.</span><span class="ident" id="6720118">StopTimer</span><span class="op" id="6720127">(</span><span class="op" id="6720128">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720131">re</span>&nbsp;<span class="op" id="6720134">:=</span>&nbsp;<span class="ident" id="6720137">MustCompile</span><span class="op" id="6720148">(</span><span class="string" id="6720149">&#34;[cjrw]&#34;</span><span class="op" id="6720157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720160">b</span><span class="op" id="6720161">.</span><span class="ident" id="6720162">StartTimer</span><span class="op" id="6720172">(</span><span class="op" id="6720173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720176">for</span>&nbsp;<span class="ident" id="6720180">i</span>&nbsp;<span class="op" id="6720182">:=</span>&nbsp;<span class="num" id="6720185">0</span><span class="op" id="6720186">;</span>&nbsp;<span class="ident" id="6720188">i</span>&nbsp;<span class="op" id="6720190">&lt;</span>&nbsp;<span class="ident" id="6720192">b</span><span class="op" id="6720193">.</span><span class="ident" id="6720194">N</span><span class="op" id="6720195">;</span>&nbsp;<span class="ident" id="6720197">i</span><span class="op" id="6720198">++</span>&nbsp;<span class="op" id="6720201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720205">re</span><span class="op" id="6720207">.</span><span class="ident" id="6720208">ReplaceAllString</span><span class="op" id="6720224">(</span><span class="ident" id="6720225">x</span><span class="op" id="6720226">,</span>&nbsp;<span class="string" id="6720228">&#34;&#34;</span><span class="op" id="6720230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720233">}</span><br>
<span class="lineno">550</span><span class="op" id="6720235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6720238">func</span>&nbsp;<span class="ident" id="6720243">BenchmarkAnchoredLiteralShortNonMatch</span><span class="op" id="6720280">(</span><span class="ident" id="6720281">b</span>&nbsp;<span class="op" id="6720283">*</span><span class="ident" id="6720284">testing</span><span class="op" id="6720291">.</span><span class="ident" id="6720292">B</span><span class="op" id="6720293">)</span>&nbsp;<span class="op" id="6720295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720298">b</span><span class="op" id="6720299">.</span><span class="ident" id="6720300">StopTimer</span><span class="op" id="6720309">(</span><span class="op" id="6720310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720313">x</span>&nbsp;<span class="op" id="6720315">:=</span>&nbsp;<span class="op" id="6720318">[</span><span class="op" id="6720319">]</span><span class="builtintype" id="6720320">byte</span><span class="op" id="6720324">(</span><span class="string" id="6720325">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6720353">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720356">re</span>&nbsp;<span class="op" id="6720359">:=</span>&nbsp;<span class="ident" id="6720362">MustCompile</span><span class="op" id="6720373">(</span><span class="string" id="6720374">&#34;^zbc(d|e)&#34;</span><span class="op" id="6720385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720388">b</span><span class="op" id="6720389">.</span><span class="ident" id="6720390">StartTimer</span><span class="op" id="6720400">(</span><span class="op" id="6720401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720404">for</span>&nbsp;<span class="ident" id="6720408">i</span>&nbsp;<span class="op" id="6720410">:=</span>&nbsp;<span class="num" id="6720413">0</span><span class="op" id="6720414">;</span>&nbsp;<span class="ident" id="6720416">i</span>&nbsp;<span class="op" id="6720418">&lt;</span>&nbsp;<span class="ident" id="6720420">b</span><span class="op" id="6720421">.</span><span class="ident" id="6720422">N</span><span class="op" id="6720423">;</span>&nbsp;<span class="ident" id="6720425">i</span><span class="op" id="6720426">++</span>&nbsp;<span class="op" id="6720429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720433">re</span><span class="op" id="6720435">.</span><span class="ident" id="6720436">Match</span><span class="op" id="6720441">(</span><span class="ident" id="6720442">x</span><span class="op" id="6720443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720446">}</span><br>
<span class="lineno">560</span><span class="op" id="6720448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6720451">func</span>&nbsp;<span class="ident" id="6720456">BenchmarkAnchoredLiteralLongNonMatch</span><span class="op" id="6720492">(</span><span class="ident" id="6720493">b</span>&nbsp;<span class="op" id="6720495">*</span><span class="ident" id="6720496">testing</span><span class="op" id="6720503">.</span><span class="ident" id="6720504">B</span><span class="op" id="6720505">)</span>&nbsp;<span class="op" id="6720507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720510">b</span><span class="op" id="6720511">.</span><span class="ident" id="6720512">StopTimer</span><span class="op" id="6720521">(</span><span class="op" id="6720522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720525">x</span>&nbsp;<span class="op" id="6720527">:=</span>&nbsp;<span class="op" id="6720530">[</span><span class="op" id="6720531">]</span><span class="builtintype" id="6720532">byte</span><span class="op" id="6720536">(</span><span class="string" id="6720537">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6720565">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720568">for</span>&nbsp;<span class="ident" id="6720572">i</span>&nbsp;<span class="op" id="6720574">:=</span>&nbsp;<span class="num" id="6720577">0</span><span class="op" id="6720578">;</span>&nbsp;<span class="ident" id="6720580">i</span>&nbsp;<span class="op" id="6720582">&lt;</span>&nbsp;<span class="num" id="6720584">15</span><span class="op" id="6720586">;</span>&nbsp;<span class="ident" id="6720588">i</span><span class="op" id="6720589">++</span>&nbsp;<span class="op" id="6720592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720596">x</span>&nbsp;<span class="op" id="6720598">=</span>&nbsp;<span class="builtinfunc" id="6720600">append</span><span class="op" id="6720606">(</span><span class="ident" id="6720607">x</span><span class="op" id="6720608">,</span>&nbsp;<span class="ident" id="6720610">x</span><span class="op" id="6720611">...</span><span class="op" id="6720614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720620">re</span>&nbsp;<span class="op" id="6720623">:=</span>&nbsp;<span class="ident" id="6720626">MustCompile</span><span class="op" id="6720637">(</span><span class="string" id="6720638">&#34;^zbc(d|e)&#34;</span><span class="op" id="6720649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720652">b</span><span class="op" id="6720653">.</span><span class="ident" id="6720654">StartTimer</span><span class="op" id="6720664">(</span><span class="op" id="6720665">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720668">for</span>&nbsp;<span class="ident" id="6720672">i</span>&nbsp;<span class="op" id="6720674">:=</span>&nbsp;<span class="num" id="6720677">0</span><span class="op" id="6720678">;</span>&nbsp;<span class="ident" id="6720680">i</span>&nbsp;<span class="op" id="6720682">&lt;</span>&nbsp;<span class="ident" id="6720684">b</span><span class="op" id="6720685">.</span><span class="ident" id="6720686">N</span><span class="op" id="6720687">;</span>&nbsp;<span class="ident" id="6720689">i</span><span class="op" id="6720690">++</span>&nbsp;<span class="op" id="6720693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720697">re</span><span class="op" id="6720699">.</span><span class="ident" id="6720700">Match</span><span class="op" id="6720705">(</span><span class="ident" id="6720706">x</span><span class="op" id="6720707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720710">}</span><br>
<span class="lineno"></span><span class="op" id="6720712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="6720715">func</span>&nbsp;<span class="ident" id="6720720">BenchmarkAnchoredShortMatch</span><span class="op" id="6720747">(</span><span class="ident" id="6720748">b</span>&nbsp;<span class="op" id="6720750">*</span><span class="ident" id="6720751">testing</span><span class="op" id="6720758">.</span><span class="ident" id="6720759">B</span><span class="op" id="6720760">)</span>&nbsp;<span class="op" id="6720762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720765">b</span><span class="op" id="6720766">.</span><span class="ident" id="6720767">StopTimer</span><span class="op" id="6720776">(</span><span class="op" id="6720777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720780">x</span>&nbsp;<span class="op" id="6720782">:=</span>&nbsp;<span class="op" id="6720785">[</span><span class="op" id="6720786">]</span><span class="builtintype" id="6720787">byte</span><span class="op" id="6720791">(</span><span class="string" id="6720792">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6720820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720823">re</span>&nbsp;<span class="op" id="6720826">:=</span>&nbsp;<span class="ident" id="6720829">MustCompile</span><span class="op" id="6720840">(</span><span class="string" id="6720841">&#34;^.bc(d|e)&#34;</span><span class="op" id="6720852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720855">b</span><span class="op" id="6720856">.</span><span class="ident" id="6720857">StartTimer</span><span class="op" id="6720867">(</span><span class="op" id="6720868">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720871">for</span>&nbsp;<span class="ident" id="6720875">i</span>&nbsp;<span class="op" id="6720877">:=</span>&nbsp;<span class="num" id="6720880">0</span><span class="op" id="6720881">;</span>&nbsp;<span class="ident" id="6720883">i</span>&nbsp;<span class="op" id="6720885">&lt;</span>&nbsp;<span class="ident" id="6720887">b</span><span class="op" id="6720888">.</span><span class="ident" id="6720889">N</span><span class="op" id="6720890">;</span>&nbsp;<span class="ident" id="6720892">i</span><span class="op" id="6720893">++</span>&nbsp;<span class="op" id="6720896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720900">re</span><span class="op" id="6720902">.</span><span class="ident" id="6720903">Match</span><span class="op" id="6720908">(</span><span class="ident" id="6720909">x</span><span class="op" id="6720910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720913">}</span><br>
<span class="lineno"></span><span class="op" id="6720915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="6720918">func</span>&nbsp;<span class="ident" id="6720923">BenchmarkAnchoredLongMatch</span><span class="op" id="6720949">(</span><span class="ident" id="6720950">b</span>&nbsp;<span class="op" id="6720952">*</span><span class="ident" id="6720953">testing</span><span class="op" id="6720960">.</span><span class="ident" id="6720961">B</span><span class="op" id="6720962">)</span>&nbsp;<span class="op" id="6720964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720967">b</span><span class="op" id="6720968">.</span><span class="ident" id="6720969">StopTimer</span><span class="op" id="6720978">(</span><span class="op" id="6720979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720982">x</span>&nbsp;<span class="op" id="6720984">:=</span>&nbsp;<span class="op" id="6720987">[</span><span class="op" id="6720988">]</span><span class="builtintype" id="6720989">byte</span><span class="op" id="6720993">(</span><span class="string" id="6720994">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6721022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721025">for</span>&nbsp;<span class="ident" id="6721029">i</span>&nbsp;<span class="op" id="6721031">:=</span>&nbsp;<span class="num" id="6721034">0</span><span class="op" id="6721035">;</span>&nbsp;<span class="ident" id="6721037">i</span>&nbsp;<span class="op" id="6721039">&lt;</span>&nbsp;<span class="num" id="6721041">15</span><span class="op" id="6721043">;</span>&nbsp;<span class="ident" id="6721045">i</span><span class="op" id="6721046">++</span>&nbsp;<span class="op" id="6721049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721053">x</span>&nbsp;<span class="op" id="6721055">=</span>&nbsp;<span class="builtinfunc" id="6721057">append</span><span class="op" id="6721063">(</span><span class="ident" id="6721064">x</span><span class="op" id="6721065">,</span>&nbsp;<span class="ident" id="6721067">x</span><span class="op" id="6721068">...</span><span class="op" id="6721071">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721077">re</span>&nbsp;<span class="op" id="6721080">:=</span>&nbsp;<span class="ident" id="6721083">MustCompile</span><span class="op" id="6721094">(</span><span class="string" id="6721095">&#34;^.bc(d|e)&#34;</span><span class="op" id="6721106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721109">b</span><span class="op" id="6721110">.</span><span class="ident" id="6721111">StartTimer</span><span class="op" id="6721121">(</span><span class="op" id="6721122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721125">for</span>&nbsp;<span class="ident" id="6721129">i</span>&nbsp;<span class="op" id="6721131">:=</span>&nbsp;<span class="num" id="6721134">0</span><span class="op" id="6721135">;</span>&nbsp;<span class="ident" id="6721137">i</span>&nbsp;<span class="op" id="6721139">&lt;</span>&nbsp;<span class="ident" id="6721141">b</span><span class="op" id="6721142">.</span><span class="ident" id="6721143">N</span><span class="op" id="6721144">;</span>&nbsp;<span class="ident" id="6721146">i</span><span class="op" id="6721147">++</span>&nbsp;<span class="op" id="6721150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721154">re</span><span class="op" id="6721156">.</span><span class="ident" id="6721157">Match</span><span class="op" id="6721162">(</span><span class="ident" id="6721163">x</span><span class="op" id="6721164">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721167">}</span><br>
<span class="lineno"></span><span class="op" id="6721169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6721172">func</span>&nbsp;<span class="ident" id="6721177">BenchmarkOnePassShortA</span><span class="op" id="6721199">(</span><span class="ident" id="6721200">b</span>&nbsp;<span class="op" id="6721202">*</span><span class="ident" id="6721203">testing</span><span class="op" id="6721210">.</span><span class="ident" id="6721211">B</span><span class="op" id="6721212">)</span>&nbsp;<span class="op" id="6721214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721217">b</span><span class="op" id="6721218">.</span><span class="ident" id="6721219">StopTimer</span><span class="op" id="6721228">(</span><span class="op" id="6721229">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721232">x</span>&nbsp;<span class="op" id="6721234">:=</span>&nbsp;<span class="op" id="6721237">[</span><span class="op" id="6721238">]</span><span class="builtintype" id="6721239">byte</span><span class="op" id="6721243">(</span><span class="string" id="6721244">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6721263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721266">re</span>&nbsp;<span class="op" id="6721269">:=</span>&nbsp;<span class="ident" id="6721272">MustCompile</span><span class="op" id="6721283">(</span><span class="string" id="6721284">&#34;^.bc(d|e)*$&#34;</span><span class="op" id="6721297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721300">b</span><span class="op" id="6721301">.</span><span class="ident" id="6721302">StartTimer</span><span class="op" id="6721312">(</span><span class="op" id="6721313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721316">for</span>&nbsp;<span class="ident" id="6721320">i</span>&nbsp;<span class="op" id="6721322">:=</span>&nbsp;<span class="num" id="6721325">0</span><span class="op" id="6721326">;</span>&nbsp;<span class="ident" id="6721328">i</span>&nbsp;<span class="op" id="6721330">&lt;</span>&nbsp;<span class="ident" id="6721332">b</span><span class="op" id="6721333">.</span><span class="ident" id="6721334">N</span><span class="op" id="6721335">;</span>&nbsp;<span class="ident" id="6721337">i</span><span class="op" id="6721338">++</span>&nbsp;<span class="op" id="6721341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721345">re</span><span class="op" id="6721347">.</span><span class="ident" id="6721348">Match</span><span class="op" id="6721353">(</span><span class="ident" id="6721354">x</span><span class="op" id="6721355">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721358">}</span><br>
<span class="lineno"></span><span class="op" id="6721360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6721363">func</span>&nbsp;<span class="ident" id="6721368">BenchmarkNotOnePassShortA</span><span class="op" id="6721393">(</span><span class="ident" id="6721394">b</span>&nbsp;<span class="op" id="6721396">*</span><span class="ident" id="6721397">testing</span><span class="op" id="6721404">.</span><span class="ident" id="6721405">B</span><span class="op" id="6721406">)</span>&nbsp;<span class="op" id="6721408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721411">b</span><span class="op" id="6721412">.</span><span class="ident" id="6721413">StopTimer</span><span class="op" id="6721422">(</span><span class="op" id="6721423">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721426">x</span>&nbsp;<span class="op" id="6721428">:=</span>&nbsp;<span class="op" id="6721431">[</span><span class="op" id="6721432">]</span><span class="builtintype" id="6721433">byte</span><span class="op" id="6721437">(</span><span class="string" id="6721438">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6721457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721460">re</span>&nbsp;<span class="op" id="6721463">:=</span>&nbsp;<span class="ident" id="6721466">MustCompile</span><span class="op" id="6721477">(</span><span class="string" id="6721478">&#34;.bc(d|e)*$&#34;</span><span class="op" id="6721490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721493">b</span><span class="op" id="6721494">.</span><span class="ident" id="6721495">StartTimer</span><span class="op" id="6721505">(</span><span class="op" id="6721506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721509">for</span>&nbsp;<span class="ident" id="6721513">i</span>&nbsp;<span class="op" id="6721515">:=</span>&nbsp;<span class="num" id="6721518">0</span><span class="op" id="6721519">;</span>&nbsp;<span class="ident" id="6721521">i</span>&nbsp;<span class="op" id="6721523">&lt;</span>&nbsp;<span class="ident" id="6721525">b</span><span class="op" id="6721526">.</span><span class="ident" id="6721527">N</span><span class="op" id="6721528">;</span>&nbsp;<span class="ident" id="6721530">i</span><span class="op" id="6721531">++</span>&nbsp;<span class="op" id="6721534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721538">re</span><span class="op" id="6721540">.</span><span class="ident" id="6721541">Match</span><span class="op" id="6721546">(</span><span class="ident" id="6721547">x</span><span class="op" id="6721548">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721551">}</span><br>
<span class="lineno"></span><span class="op" id="6721553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6721556">func</span>&nbsp;<span class="ident" id="6721561">BenchmarkOnePassShortB</span><span class="op" id="6721583">(</span><span class="ident" id="6721584">b</span>&nbsp;<span class="op" id="6721586">*</span><span class="ident" id="6721587">testing</span><span class="op" id="6721594">.</span><span class="ident" id="6721595">B</span><span class="op" id="6721596">)</span>&nbsp;<span class="op" id="6721598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721601">b</span><span class="op" id="6721602">.</span><span class="ident" id="6721603">StopTimer</span><span class="op" id="6721612">(</span><span class="op" id="6721613">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721616">x</span>&nbsp;<span class="op" id="6721618">:=</span>&nbsp;<span class="op" id="6721621">[</span><span class="op" id="6721622">]</span><span class="builtintype" id="6721623">byte</span><span class="op" id="6721627">(</span><span class="string" id="6721628">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6721647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721650">re</span>&nbsp;<span class="op" id="6721653">:=</span>&nbsp;<span class="ident" id="6721656">MustCompile</span><span class="op" id="6721667">(</span><span class="string" id="6721668">&#34;^.bc(?:d|e)*$&#34;</span><span class="op" id="6721683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721686">b</span><span class="op" id="6721687">.</span><span class="ident" id="6721688">StartTimer</span><span class="op" id="6721698">(</span><span class="op" id="6721699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721702">for</span>&nbsp;<span class="ident" id="6721706">i</span>&nbsp;<span class="op" id="6721708">:=</span>&nbsp;<span class="num" id="6721711">0</span><span class="op" id="6721712">;</span>&nbsp;<span class="ident" id="6721714">i</span>&nbsp;<span class="op" id="6721716">&lt;</span>&nbsp;<span class="ident" id="6721718">b</span><span class="op" id="6721719">.</span><span class="ident" id="6721720">N</span><span class="op" id="6721721">;</span>&nbsp;<span class="ident" id="6721723">i</span><span class="op" id="6721724">++</span>&nbsp;<span class="op" id="6721727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721731">re</span><span class="op" id="6721733">.</span><span class="ident" id="6721734">Match</span><span class="op" id="6721739">(</span><span class="ident" id="6721740">x</span><span class="op" id="6721741">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721744">}</span><br>
<span class="lineno"></span><span class="op" id="6721746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6721749">func</span>&nbsp;<span class="ident" id="6721754">BenchmarkNotOnePassShortB</span><span class="op" id="6721779">(</span><span class="ident" id="6721780">b</span>&nbsp;<span class="op" id="6721782">*</span><span class="ident" id="6721783">testing</span><span class="op" id="6721790">.</span><span class="ident" id="6721791">B</span><span class="op" id="6721792">)</span>&nbsp;<span class="op" id="6721794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721797">b</span><span class="op" id="6721798">.</span><span class="ident" id="6721799">StopTimer</span><span class="op" id="6721808">(</span><span class="op" id="6721809">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721812">x</span>&nbsp;<span class="op" id="6721814">:=</span>&nbsp;<span class="op" id="6721817">[</span><span class="op" id="6721818">]</span><span class="builtintype" id="6721819">byte</span><span class="op" id="6721823">(</span><span class="string" id="6721824">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6721843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721846">re</span>&nbsp;<span class="op" id="6721849">:=</span>&nbsp;<span class="ident" id="6721852">MustCompile</span><span class="op" id="6721863">(</span><span class="string" id="6721864">&#34;.bc(?:d|e)*$&#34;</span><span class="op" id="6721878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721881">b</span><span class="op" id="6721882">.</span><span class="ident" id="6721883">StartTimer</span><span class="op" id="6721893">(</span><span class="op" id="6721894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721897">for</span>&nbsp;<span class="ident" id="6721901">i</span>&nbsp;<span class="op" id="6721903">:=</span>&nbsp;<span class="num" id="6721906">0</span><span class="op" id="6721907">;</span>&nbsp;<span class="ident" id="6721909">i</span>&nbsp;<span class="op" id="6721911">&lt;</span>&nbsp;<span class="ident" id="6721913">b</span><span class="op" id="6721914">.</span><span class="ident" id="6721915">N</span><span class="op" id="6721916">;</span>&nbsp;<span class="ident" id="6721918">i</span><span class="op" id="6721919">++</span>&nbsp;<span class="op" id="6721922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721926">re</span><span class="op" id="6721928">.</span><span class="ident" id="6721929">Match</span><span class="op" id="6721934">(</span><span class="ident" id="6721935">x</span><span class="op" id="6721936">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721939">}</span><br>
<span class="lineno"></span><span class="op" id="6721941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6721944">func</span>&nbsp;<span class="ident" id="6721949">BenchmarkOnePassLongPrefix</span><span class="op" id="6721975">(</span><span class="ident" id="6721976">b</span>&nbsp;<span class="op" id="6721978">*</span><span class="ident" id="6721979">testing</span><span class="op" id="6721986">.</span><span class="ident" id="6721987">B</span><span class="op" id="6721988">)</span>&nbsp;<span class="op" id="6721990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721993">b</span><span class="op" id="6721994">.</span><span class="ident" id="6721995">StopTimer</span><span class="op" id="6722004">(</span><span class="op" id="6722005">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6722008">x</span>&nbsp;<span class="op" id="6722010">:=</span>&nbsp;<span class="op" id="6722013">[</span><span class="op" id="6722014">]</span><span class="builtintype" id="6722015">byte</span><span class="op" id="6722019">(</span><span class="string" id="6722020">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6722048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6722051">re</span>&nbsp;<span class="op" id="6722054">:=</span>&nbsp;<span class="ident" id="6722057">MustCompile</span><span class="op" id="6722068">(</span><span class="string" id="6722069">&#34;^abcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="6722101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6722104">b</span><span class="op" id="6722105">.</span><span class="ident" id="6722106">StartTimer</span><span class="op" id="6722116">(</span><span class="op" id="6722117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6722120">for</span>&nbsp;<span class="ident" id="6722124">i</span>&nbsp;<span class="op" id="6722126">:=</span>&nbsp;<span class="num" id="6722129">0</span><span class="op" id="6722130">;</span>&nbsp;<span class="ident" id="6722132">i</span>&nbsp;<span class="op" id="6722134">&lt;</span>&nbsp;<span class="ident" id="6722136">b</span><span class="op" id="6722137">.</span><span class="ident" id="6722138">N</span><span class="op" id="6722139">;</span>&nbsp;<span class="ident" id="6722141">i</span><span class="op" id="6722142">++</span>&nbsp;<span class="op" id="6722145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6722149">re</span><span class="op" id="6722151">.</span><span class="ident" id="6722152">Match</span><span class="op" id="6722157">(</span><span class="ident" id="6722158">x</span><span class="op" id="6722159">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6722162">}</span><br>
<span class="lineno"></span><span class="op" id="6722164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6722167">func</span>&nbsp;<span class="ident" id="6722172">BenchmarkOnePassLongNotPrefix</span><span class="op" id="6722201">(</span><span class="ident" id="6722202">b</span>&nbsp;<span class="op" id="6722204">*</span><span class="ident" id="6722205">testing</span><span class="op" id="6722212">.</span><span class="ident" id="6722213">B</span><span class="op" id="6722214">)</span>&nbsp;<span class="op" id="6722216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6722219">b</span><span class="op" id="6722220">.</span><span class="ident" id="6722221">StopTimer</span><span class="op" id="6722230">(</span><span class="op" id="6722231">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6722234">x</span>&nbsp;<span class="op" id="6722236">:=</span>&nbsp;<span class="op" id="6722239">[</span><span class="op" id="6722240">]</span><span class="builtintype" id="6722241">byte</span><span class="op" id="6722245">(</span><span class="string" id="6722246">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6722274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6722277">re</span>&nbsp;<span class="op" id="6722280">:=</span>&nbsp;<span class="ident" id="6722283">MustCompile</span><span class="op" id="6722294">(</span><span class="string" id="6722295">&#34;^.bcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="6722327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6722330">b</span><span class="op" id="6722331">.</span><span class="ident" id="6722332">StartTimer</span><span class="op" id="6722342">(</span><span class="op" id="6722343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6722346">for</span>&nbsp;<span class="ident" id="6722350">i</span>&nbsp;<span class="op" id="6722352">:=</span>&nbsp;<span class="num" id="6722355">0</span><span class="op" id="6722356">;</span>&nbsp;<span class="ident" id="6722358">i</span>&nbsp;<span class="op" id="6722360">&lt;</span>&nbsp;<span class="ident" id="6722362">b</span><span class="op" id="6722363">.</span><span class="ident" id="6722364">N</span><span class="op" id="6722365">;</span>&nbsp;<span class="ident" id="6722367">i</span><span class="op" id="6722368">++</span>&nbsp;<span class="op" id="6722371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6722375">re</span><span class="op" id="6722377">.</span><span class="ident" id="6722378">Match</span><span class="op" id="6722383">(</span><span class="ident" id="6722384">x</span><span class="op" id="6722385">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6722388">}</span><br>
<span class="lineno"></span><span class="op" id="6722390">}</span>
</div>
</body>
</html>
