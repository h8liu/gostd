<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8257008">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8257063">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8257117">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8257168">package</span>&nbsp;<span class="ident" id="8257176">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8257182">import</span>&nbsp;<span class="op" id="8257189">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257192">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257201">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257207">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8257217">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8257220">type</span>&nbsp;<span class="ident" id="8257225">zlibTest</span>&nbsp;<span class="keyword" id="8257234">struct</span>&nbsp;<span class="op" id="8257241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257244">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8257255">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257263">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8257274">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257282">compressed</span>&nbsp;<span class="op" id="8257293">[</span><span class="op" id="8257294">]</span><span class="builtintype" id="8257295">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257301">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8257312">[</span><span class="op" id="8257313">]</span><span class="builtintype" id="8257314">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257320">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8257331">error</span><br>
<span class="lineno"></span><span class="op" id="8257337">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8257340">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="8257416">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8257448">var</span>&nbsp;<span class="ident" id="8257452">zlibTests</span>&nbsp;<span class="op" id="8257462">=</span>&nbsp;<span class="op" id="8257464">[</span><span class="op" id="8257465">]</span><span class="ident" id="8257466">zlibTest</span><span class="op" id="8257474">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257481">&#34;empty&#34;</span><span class="op" id="8257488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257492">&#34;&#34;</span><span class="op" id="8257494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257498">[</span><span class="op" id="8257499">]</span><span class="builtintype" id="8257500">byte</span><span class="op" id="8257504">{</span><span class="num" id="8257505">0x78</span><span class="op" id="8257509">,</span>&nbsp;<span class="num" id="8257511">0x9c</span><span class="op" id="8257515">,</span>&nbsp;<span class="num" id="8257517">0x03</span><span class="op" id="8257521">,</span>&nbsp;<span class="num" id="8257523">0x00</span><span class="op" id="8257527">,</span>&nbsp;<span class="num" id="8257529">0x00</span><span class="op" id="8257533">,</span>&nbsp;<span class="num" id="8257535">0x00</span><span class="op" id="8257539">,</span>&nbsp;<span class="num" id="8257541">0x00</span><span class="op" id="8257545">,</span>&nbsp;<span class="num" id="8257547">0x01</span><span class="op" id="8257551">}</span><span class="op" id="8257552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257556">nil</span><span class="op" id="8257559">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257563">nil</span><span class="op" id="8257566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257569">}</span><span class="op" id="8257570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257577">&#34;goodbye&#34;</span><span class="op" id="8257586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257590">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="8257606">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257610">[</span><span class="op" id="8257611">]</span><span class="builtintype" id="8257612">byte</span><span class="op" id="8257616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8257621">0x78</span><span class="op" id="8257625">,</span>&nbsp;<span class="num" id="8257627">0x9c</span><span class="op" id="8257631">,</span>&nbsp;<span class="num" id="8257633">0x4b</span><span class="op" id="8257637">,</span>&nbsp;<span class="num" id="8257639">0xcf</span><span class="op" id="8257643">,</span>&nbsp;<span class="num" id="8257645">0xcf</span><span class="op" id="8257649">,</span>&nbsp;<span class="num" id="8257651">0x4f</span><span class="op" id="8257655">,</span>&nbsp;<span class="num" id="8257657">0x49</span><span class="op" id="8257661">,</span>&nbsp;<span class="num" id="8257663">0xaa</span><span class="op" id="8257667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8257672">0x4c</span><span class="op" id="8257676">,</span>&nbsp;<span class="num" id="8257678">0xd5</span><span class="op" id="8257682">,</span>&nbsp;<span class="num" id="8257684">0x51</span><span class="op" id="8257688">,</span>&nbsp;<span class="num" id="8257690">0x28</span><span class="op" id="8257694">,</span>&nbsp;<span class="num" id="8257696">0xcf</span><span class="op" id="8257700">,</span>&nbsp;<span class="num" id="8257702">0x2f</span><span class="op" id="8257706">,</span>&nbsp;<span class="num" id="8257708">0xca</span><span class="op" id="8257712">,</span>&nbsp;<span class="num" id="8257714">0x49</span><span class="op" id="8257718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8257723">0x01</span><span class="op" id="8257727">,</span>&nbsp;<span class="num" id="8257729">0x00</span><span class="op" id="8257733">,</span>&nbsp;<span class="num" id="8257735">0x28</span><span class="op" id="8257739">,</span>&nbsp;<span class="num" id="8257741">0xa5</span><span class="op" id="8257745">,</span>&nbsp;<span class="num" id="8257747">0x05</span><span class="op" id="8257751">,</span>&nbsp;<span class="num" id="8257753">0x5e</span><span class="op" id="8257757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257761">}</span><span class="op" id="8257762">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257766">nil</span><span class="op" id="8257769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257773">nil</span><span class="op" id="8257776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257779">}</span><span class="op" id="8257780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257787">&#34;bad&nbsp;header&#34;</span><span class="op" id="8257799">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257803">&#34;&#34;</span><span class="op" id="8257805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257809">[</span><span class="op" id="8257810">]</span><span class="builtintype" id="8257811">byte</span><span class="op" id="8257815">{</span><span class="num" id="8257816">0x78</span><span class="op" id="8257820">,</span>&nbsp;<span class="num" id="8257822">0x9f</span><span class="op" id="8257826">,</span>&nbsp;<span class="num" id="8257828">0x03</span><span class="op" id="8257832">,</span>&nbsp;<span class="num" id="8257834">0x00</span><span class="op" id="8257838">,</span>&nbsp;<span class="num" id="8257840">0x00</span><span class="op" id="8257844">,</span>&nbsp;<span class="num" id="8257846">0x00</span><span class="op" id="8257850">,</span>&nbsp;<span class="num" id="8257852">0x00</span><span class="op" id="8257856">,</span>&nbsp;<span class="num" id="8257858">0x01</span><span class="op" id="8257862">}</span><span class="op" id="8257863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257867">nil</span><span class="op" id="8257870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257874">ErrHeader</span><span class="op" id="8257883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257886">}</span><span class="op" id="8257887">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257894">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="8257908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8257912">&#34;&#34;</span><span class="op" id="8257914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257918">[</span><span class="op" id="8257919">]</span><span class="builtintype" id="8257920">byte</span><span class="op" id="8257924">{</span><span class="num" id="8257925">0x78</span><span class="op" id="8257929">,</span>&nbsp;<span class="num" id="8257931">0x9c</span><span class="op" id="8257935">,</span>&nbsp;<span class="num" id="8257937">0x03</span><span class="op" id="8257941">,</span>&nbsp;<span class="num" id="8257943">0x00</span><span class="op" id="8257947">,</span>&nbsp;<span class="num" id="8257949">0x00</span><span class="op" id="8257953">,</span>&nbsp;<span class="num" id="8257955">0x00</span><span class="op" id="8257959">,</span>&nbsp;<span class="num" id="8257961">0x00</span><span class="op" id="8257965">,</span>&nbsp;<span class="num" id="8257967">0xff</span><span class="op" id="8257971">}</span><span class="op" id="8257972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257976">nil</span><span class="op" id="8257979">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8257983">ErrChecksum</span><span class="op" id="8257994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8257997">}</span><span class="op" id="8257998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8258005">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="8258022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8258026">&#34;&#34;</span><span class="op" id="8258028">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258032">[</span><span class="op" id="8258033">]</span><span class="builtintype" id="8258034">byte</span><span class="op" id="8258038">{</span><span class="num" id="8258039">0x78</span><span class="op" id="8258043">,</span>&nbsp;<span class="num" id="8258045">0x9c</span><span class="op" id="8258049">,</span>&nbsp;<span class="num" id="8258051">0x03</span><span class="op" id="8258055">,</span>&nbsp;<span class="num" id="8258057">0x00</span><span class="op" id="8258061">,</span>&nbsp;<span class="num" id="8258063">0x00</span><span class="op" id="8258067">,</span>&nbsp;<span class="num" id="8258069">0x00</span><span class="op" id="8258073">}</span><span class="op" id="8258074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258078">nil</span><span class="op" id="8258081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258085">io</span><span class="op" id="8258087">.</span><span class="ident" id="8258088">ErrUnexpectedEOF</span><span class="op" id="8258104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258107">}</span><span class="op" id="8258108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258111">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8258115">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="8258148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8258152">&#34;&#34;</span><span class="op" id="8258154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258158">[</span><span class="op" id="8258159">]</span><span class="builtintype" id="8258160">byte</span><span class="op" id="8258164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258169">0x78</span><span class="op" id="8258173">,</span>&nbsp;<span class="num" id="8258175">0x9c</span><span class="op" id="8258179">,</span>&nbsp;<span class="num" id="8258181">0x03</span><span class="op" id="8258185">,</span>&nbsp;<span class="num" id="8258187">0x00</span><span class="op" id="8258191">,</span>&nbsp;<span class="num" id="8258193">0x00</span><span class="op" id="8258197">,</span>&nbsp;<span class="num" id="8258199">0x00</span><span class="op" id="8258203">,</span>&nbsp;<span class="num" id="8258205">0x00</span><span class="op" id="8258209">,</span>&nbsp;<span class="num" id="8258211">0x01</span><span class="op" id="8258215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258220">0x78</span><span class="op" id="8258224">,</span>&nbsp;<span class="num" id="8258226">0x9c</span><span class="op" id="8258230">,</span>&nbsp;<span class="num" id="8258232">0xff</span><span class="op" id="8258236">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258240">}</span><span class="op" id="8258241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258245">nil</span><span class="op" id="8258248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258252">nil</span><span class="op" id="8258255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258258">}</span><span class="op" id="8258259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258262">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8258266">&#34;dictionary&#34;</span><span class="op" id="8258278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8258282">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="8258299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258303">[</span><span class="op" id="8258304">]</span><span class="builtintype" id="8258305">byte</span><span class="op" id="8258309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258314">0x78</span><span class="op" id="8258318">,</span>&nbsp;<span class="num" id="8258320">0xbb</span><span class="op" id="8258324">,</span>&nbsp;<span class="num" id="8258326">0x1c</span><span class="op" id="8258330">,</span>&nbsp;<span class="num" id="8258332">0x32</span><span class="op" id="8258336">,</span>&nbsp;<span class="num" id="8258338">0x04</span><span class="op" id="8258342">,</span>&nbsp;<span class="num" id="8258344">0x27</span><span class="op" id="8258348">,</span>&nbsp;<span class="num" id="8258350">0xf3</span><span class="op" id="8258354">,</span>&nbsp;<span class="num" id="8258356">0x00</span><span class="op" id="8258360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258365">0xb1</span><span class="op" id="8258369">,</span>&nbsp;<span class="num" id="8258371">0x75</span><span class="op" id="8258375">,</span>&nbsp;<span class="num" id="8258377">0x20</span><span class="op" id="8258381">,</span>&nbsp;<span class="num" id="8258383">0x1c</span><span class="op" id="8258387">,</span>&nbsp;<span class="num" id="8258389">0x45</span><span class="op" id="8258393">,</span>&nbsp;<span class="num" id="8258395">0x2e</span><span class="op" id="8258399">,</span>&nbsp;<span class="num" id="8258401">0x00</span><span class="op" id="8258405">,</span>&nbsp;<span class="num" id="8258407">0x24</span><span class="op" id="8258411">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258416">0x12</span><span class="op" id="8258420">,</span>&nbsp;<span class="num" id="8258422">0x04</span><span class="op" id="8258426">,</span>&nbsp;<span class="num" id="8258428">0x74</span><span class="op" id="8258432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258436">}</span><span class="op" id="8258437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258441">[</span><span class="op" id="8258442">]</span><span class="builtintype" id="8258443">byte</span><span class="op" id="8258447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258452">0x48</span><span class="op" id="8258456">,</span>&nbsp;<span class="num" id="8258458">0x65</span><span class="op" id="8258462">,</span>&nbsp;<span class="num" id="8258464">0x6c</span><span class="op" id="8258468">,</span>&nbsp;<span class="num" id="8258470">0x6c</span><span class="op" id="8258474">,</span>&nbsp;<span class="num" id="8258476">0x6f</span><span class="op" id="8258480">,</span>&nbsp;<span class="num" id="8258482">0x20</span><span class="op" id="8258486">,</span>&nbsp;<span class="num" id="8258488">0x57</span><span class="op" id="8258492">,</span>&nbsp;<span class="num" id="8258494">0x6f</span><span class="op" id="8258498">,</span>&nbsp;<span class="num" id="8258500">0x72</span><span class="op" id="8258504">,</span>&nbsp;<span class="num" id="8258506">0x6c</span><span class="op" id="8258510">,</span>&nbsp;<span class="num" id="8258512">0x64</span><span class="op" id="8258516">,</span>&nbsp;<span class="num" id="8258518">0x0a</span><span class="op" id="8258522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258526">}</span><span class="op" id="8258527">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258531">nil</span><span class="op" id="8258534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258537">}</span><span class="op" id="8258538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8258545">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="8258563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8258567">&#34;&#34;</span><span class="op" id="8258569">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258573">[</span><span class="op" id="8258574">]</span><span class="builtintype" id="8258575">byte</span><span class="op" id="8258579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258584">0x78</span><span class="op" id="8258588">,</span>&nbsp;<span class="num" id="8258590">0xbb</span><span class="op" id="8258594">,</span>&nbsp;<span class="num" id="8258596">0x1c</span><span class="op" id="8258600">,</span>&nbsp;<span class="num" id="8258602">0x32</span><span class="op" id="8258606">,</span>&nbsp;<span class="num" id="8258608">0x04</span><span class="op" id="8258612">,</span>&nbsp;<span class="num" id="8258614">0x27</span><span class="op" id="8258618">,</span>&nbsp;<span class="num" id="8258620">0xf3</span><span class="op" id="8258624">,</span>&nbsp;<span class="num" id="8258626">0x00</span><span class="op" id="8258630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258635">0xb1</span><span class="op" id="8258639">,</span>&nbsp;<span class="num" id="8258641">0x75</span><span class="op" id="8258645">,</span>&nbsp;<span class="num" id="8258647">0x20</span><span class="op" id="8258651">,</span>&nbsp;<span class="num" id="8258653">0x1c</span><span class="op" id="8258657">,</span>&nbsp;<span class="num" id="8258659">0x45</span><span class="op" id="8258663">,</span>&nbsp;<span class="num" id="8258665">0x2e</span><span class="op" id="8258669">,</span>&nbsp;<span class="num" id="8258671">0x00</span><span class="op" id="8258675">,</span>&nbsp;<span class="num" id="8258677">0x24</span><span class="op" id="8258681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258686">0x12</span><span class="op" id="8258690">,</span>&nbsp;<span class="num" id="8258692">0x04</span><span class="op" id="8258696">,</span>&nbsp;<span class="num" id="8258698">0x74</span><span class="op" id="8258702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258706">}</span><span class="op" id="8258707">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258711">[</span><span class="op" id="8258712">]</span><span class="builtintype" id="8258713">byte</span><span class="op" id="8258717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8258722">0x48</span><span class="op" id="8258726">,</span>&nbsp;<span class="num" id="8258728">0x65</span><span class="op" id="8258732">,</span>&nbsp;<span class="num" id="8258734">0x6c</span><span class="op" id="8258738">,</span>&nbsp;<span class="num" id="8258740">0x6c</span><span class="op" id="8258744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258748">}</span><span class="op" id="8258749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258753">ErrDictionary</span><span class="op" id="8258766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8258769">}</span><span class="op" id="8258770">,</span><br>
<span class="lineno">100</span><span class="op" id="8258772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8258775">func</span>&nbsp;<span class="ident" id="8258780">TestDecompressor</span><span class="op" id="8258796">(</span><span class="ident" id="8258797">t</span>&nbsp;<span class="op" id="8258799">*</span><span class="ident" id="8258800">testing</span><span class="op" id="8258807">.</span><span class="ident" id="8258808">T</span><span class="op" id="8258809">)</span>&nbsp;<span class="op" id="8258811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258814">b</span>&nbsp;<span class="op" id="8258816">:=</span>&nbsp;<span class="builtinfunc" id="8258819">new</span><span class="op" id="8258822">(</span><span class="ident" id="8258823">bytes</span><span class="op" id="8258828">.</span><span class="ident" id="8258829">Buffer</span><span class="op" id="8258835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8258838">for</span>&nbsp;<span class="ident" id="8258842">_</span><span class="op" id="8258843">,</span>&nbsp;<span class="ident" id="8258845">tt</span>&nbsp;<span class="op" id="8258848">:=</span>&nbsp;<span class="keyword" id="8258851">range</span>&nbsp;<span class="ident" id="8258857">zlibTests</span>&nbsp;<span class="op" id="8258867">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258871">in</span>&nbsp;<span class="op" id="8258874">:=</span>&nbsp;<span class="ident" id="8258877">bytes</span><span class="op" id="8258882">.</span><span class="ident" id="8258883">NewReader</span><span class="op" id="8258892">(</span><span class="ident" id="8258893">tt</span><span class="op" id="8258895">.</span><span class="ident" id="8258896">compressed</span><span class="op" id="8258906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258910">zlib</span><span class="op" id="8258914">,</span>&nbsp;<span class="ident" id="8258916">err</span>&nbsp;<span class="op" id="8258920">:=</span>&nbsp;<span class="ident" id="8258923">NewReaderDict</span><span class="op" id="8258936">(</span><span class="ident" id="8258937">in</span><span class="op" id="8258939">,</span>&nbsp;<span class="ident" id="8258941">tt</span><span class="op" id="8258943">.</span><span class="ident" id="8258944">dict</span><span class="op" id="8258948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8258952">if</span>&nbsp;<span class="ident" id="8258955">err</span>&nbsp;<span class="op" id="8258959">!=</span>&nbsp;<span class="ident" id="8258962">nil</span>&nbsp;<span class="op" id="8258966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8258971">if</span>&nbsp;<span class="ident" id="8258974">err</span>&nbsp;<span class="op" id="8258978">!=</span>&nbsp;<span class="ident" id="8258981">tt</span><span class="op" id="8258983">.</span><span class="ident" id="8258984">err</span>&nbsp;<span class="op" id="8258988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8258994">t</span><span class="op" id="8258995">.</span><span class="ident" id="8258996">Errorf</span><span class="op" id="8259002">(</span><span class="string" id="8259003">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="8259022">,</span>&nbsp;<span class="ident" id="8259024">tt</span><span class="op" id="8259026">.</span><span class="ident" id="8259027">desc</span><span class="op" id="8259031">,</span>&nbsp;<span class="ident" id="8259033">err</span><span class="op" id="8259036">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8259041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8259046">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8259057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8259061">defer</span>&nbsp;<span class="ident" id="8259067">zlib</span><span class="op" id="8259071">.</span><span class="ident" id="8259072">Close</span><span class="op" id="8259077">(</span><span class="op" id="8259078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8259082">b</span><span class="op" id="8259083">.</span><span class="ident" id="8259084">Reset</span><span class="op" id="8259089">(</span><span class="op" id="8259090">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8259094">n</span><span class="op" id="8259095">,</span>&nbsp;<span class="ident" id="8259097">err</span>&nbsp;<span class="op" id="8259101">:=</span>&nbsp;<span class="ident" id="8259104">io</span><span class="op" id="8259106">.</span><span class="ident" id="8259107">Copy</span><span class="op" id="8259111">(</span><span class="ident" id="8259112">b</span><span class="op" id="8259113">,</span>&nbsp;<span class="ident" id="8259115">zlib</span><span class="op" id="8259119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8259123">if</span>&nbsp;<span class="ident" id="8259126">err</span>&nbsp;<span class="op" id="8259130">!=</span>&nbsp;<span class="ident" id="8259133">nil</span>&nbsp;<span class="op" id="8259137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8259142">if</span>&nbsp;<span class="ident" id="8259145">err</span>&nbsp;<span class="op" id="8259149">!=</span>&nbsp;<span class="ident" id="8259152">tt</span><span class="op" id="8259154">.</span><span class="ident" id="8259155">err</span>&nbsp;<span class="op" id="8259159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8259165">t</span><span class="op" id="8259166">.</span><span class="ident" id="8259167">Errorf</span><span class="op" id="8259173">(</span><span class="string" id="8259174">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8259199">,</span>&nbsp;<span class="ident" id="8259201">tt</span><span class="op" id="8259203">.</span><span class="ident" id="8259204">desc</span><span class="op" id="8259208">,</span>&nbsp;<span class="ident" id="8259210">err</span><span class="op" id="8259213">,</span>&nbsp;<span class="ident" id="8259215">tt</span><span class="op" id="8259217">.</span><span class="ident" id="8259218">err</span><span class="op" id="8259221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8259226">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8259231">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8259242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8259246">s</span>&nbsp;<span class="op" id="8259248">:=</span>&nbsp;<span class="ident" id="8259251">b</span><span class="op" id="8259252">.</span><span class="ident" id="8259253">String</span><span class="op" id="8259259">(</span><span class="op" id="8259260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8259264">if</span>&nbsp;<span class="ident" id="8259267">s</span>&nbsp;<span class="op" id="8259269">!=</span>&nbsp;<span class="ident" id="8259272">tt</span><span class="op" id="8259274">.</span><span class="ident" id="8259275">raw</span>&nbsp;<span class="op" id="8259279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8259284">t</span><span class="op" id="8259285">.</span><span class="ident" id="8259286">Errorf</span><span class="op" id="8259292">(</span><span class="string" id="8259293">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="8259329">,</span>&nbsp;<span class="ident" id="8259331">tt</span><span class="op" id="8259333">.</span><span class="ident" id="8259334">desc</span><span class="op" id="8259338">,</span>&nbsp;<span class="ident" id="8259340">n</span><span class="op" id="8259341">,</span>&nbsp;<span class="ident" id="8259343">s</span><span class="op" id="8259344">,</span>&nbsp;<span class="builtinfunc" id="8259346">len</span><span class="op" id="8259349">(</span><span class="ident" id="8259350">tt</span><span class="op" id="8259352">.</span><span class="ident" id="8259353">raw</span><span class="op" id="8259356">)</span><span class="op" id="8259357">,</span>&nbsp;<span class="ident" id="8259359">tt</span><span class="op" id="8259361">.</span><span class="ident" id="8259362">raw</span><span class="op" id="8259365">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8259369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8259372">}</span><br>
<span class="lineno"></span><span class="op" id="8259374">}</span>
</div>
</body>
</html>
