<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8184496">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8184552">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8184606">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8184657">package</span>&nbsp;<span class="ident" id="8184665">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8184670">import</span>&nbsp;<span class="op" id="8184677">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8184680">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8184689">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8184696">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8184702">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8184713">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8184724">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8184735">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">15</span><span class="op" id="8184750">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8184753">const</span>&nbsp;<span class="ident" id="8184759">testInput</span>&nbsp;<span class="op" id="8184769">=</span>&nbsp;<span class="string" id="8184771">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&#34;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&#34;<br>
<span class="lineno">20</span>&nbsp;&nbsp;&#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;&gt;<br>
<span class="lineno"></span>&lt;body&nbsp;xmlns:foo=&#34;ns1&#34;&nbsp;xmlns=&#34;ns2&#34;&nbsp;xmlns:tag=&#34;ns3&#34;&nbsp;`</span>&nbsp;<span class="op" id="8184988">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8184991">&#34;\r\n\t&#34;</span>&nbsp;<span class="op" id="8185000">+</span>&nbsp;<span class="string" id="8185002">`&nbsp;&nbsp;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;hello&nbsp;lang=&#34;en&#34;&gt;World&nbsp;&amp;lt;&amp;gt;&amp;apos;&amp;quot;&nbsp;&amp;#x767d;&amp;#40300;翔&lt;/hello&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;query&gt;&amp;何;&nbsp;&amp;is-it;&lt;/query&gt;<br>
<span class="lineno">25</span>&nbsp;&nbsp;&lt;goodbye&nbsp;/&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;outer&nbsp;foo:attr=&#34;value&#34;&nbsp;xmlns:tag=&#34;ns4&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;inner/&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;/outer&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;tag:name&gt;<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;![CDATA[Some&nbsp;text&nbsp;here.]]&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;/tag:name&gt;<br>
<span class="lineno"></span>&lt;/body&gt;&lt;!--&nbsp;missing&nbsp;final&nbsp;newline&nbsp;--&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8185292">var</span>&nbsp;<span class="ident" id="8185296">testEntity</span>&nbsp;<span class="op" id="8185307">=</span>&nbsp;<span class="keyword" id="8185309">map</span><span class="op" id="8185312">[</span><span class="builtintype" id="8185313">string</span><span class="op" id="8185319">]</span><span class="builtintype" id="8185320">string</span><span class="op" id="8185326">{</span><span class="string" id="8185327">&#34;何&#34;</span><span class="op" id="8185332">:</span>&nbsp;<span class="string" id="8185334">&#34;What&#34;</span><span class="op" id="8185340">,</span>&nbsp;<span class="string" id="8185342">&#34;is-it&#34;</span><span class="op" id="8185349">:</span>&nbsp;<span class="string" id="8185351">&#34;is&nbsp;it?&#34;</span><span class="op" id="8185359">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="8185362">var</span>&nbsp;<span class="ident" id="8185366">rawTokens</span>&nbsp;<span class="op" id="8185376">=</span>&nbsp;<span class="op" id="8185378">[</span><span class="op" id="8185379">]</span><span class="ident" id="8185380"><a href="/encoding/xml/xml.go.html#4969150">Token</a></span><span class="op" id="8185385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185388"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8185396">(</span><span class="string" id="8185397">&#34;\n&#34;</span><span class="op" id="8185401">)</span><span class="op" id="8185402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185405"><a href="/encoding/xml/xml.go.html#4970238">ProcInst</a></span><span class="op" id="8185413">{</span><span class="string" id="8185414">&#34;xml&#34;</span><span class="op" id="8185419">,</span>&nbsp;<span class="op" id="8185421">[</span><span class="op" id="8185422">]</span><span class="builtintype" id="8185423">byte</span><span class="op" id="8185427">(</span><span class="string" id="8185428">`version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;`</span><span class="op" id="8185460">)</span><span class="op" id="8185461">}</span><span class="op" id="8185462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185465"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8185473">(</span><span class="string" id="8185474">&#34;\n&#34;</span><span class="op" id="8185478">)</span><span class="op" id="8185479">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185482"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8185491">(</span><span class="string" id="8185492">`DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&#34;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;`</span><span class="op" id="8185614">)</span><span class="op" id="8185615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185618"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8185626">(</span><span class="string" id="8185627">&#34;\n&#34;</span><span class="op" id="8185631">)</span><span class="op" id="8185632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185635"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8185647">{</span><span class="ident" id="8185648"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8185652">{</span><span class="string" id="8185653">&#34;&#34;</span><span class="op" id="8185655">,</span>&nbsp;<span class="string" id="8185657">&#34;body&#34;</span><span class="op" id="8185663">}</span><span class="op" id="8185664">,</span>&nbsp;<span class="op" id="8185666">[</span><span class="op" id="8185667">]</span><span class="ident" id="8185668"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8185672">{</span><span class="op" id="8185673">{</span><span class="ident" id="8185674"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8185678">{</span><span class="string" id="8185679">&#34;xmlns&#34;</span><span class="op" id="8185686">,</span>&nbsp;<span class="string" id="8185688">&#34;foo&#34;</span><span class="op" id="8185693">}</span><span class="op" id="8185694">,</span>&nbsp;<span class="string" id="8185696">&#34;ns1&#34;</span><span class="op" id="8185701">}</span><span class="op" id="8185702">,</span>&nbsp;<span class="op" id="8185704">{</span><span class="ident" id="8185705"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8185709">{</span><span class="string" id="8185710">&#34;&#34;</span><span class="op" id="8185712">,</span>&nbsp;<span class="string" id="8185714">&#34;xmlns&#34;</span><span class="op" id="8185721">}</span><span class="op" id="8185722">,</span>&nbsp;<span class="string" id="8185724">&#34;ns2&#34;</span><span class="op" id="8185729">}</span><span class="op" id="8185730">,</span>&nbsp;<span class="op" id="8185732">{</span><span class="ident" id="8185733"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8185737">{</span><span class="string" id="8185738">&#34;xmlns&#34;</span><span class="op" id="8185745">,</span>&nbsp;<span class="string" id="8185747">&#34;tag&#34;</span><span class="op" id="8185752">}</span><span class="op" id="8185753">,</span>&nbsp;<span class="string" id="8185755">&#34;ns3&#34;</span><span class="op" id="8185760">}</span><span class="op" id="8185761">}</span><span class="op" id="8185762">}</span><span class="op" id="8185763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185766"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8185774">(</span><span class="string" id="8185775">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8185781">)</span><span class="op" id="8185782">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185785"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8185797">{</span><span class="ident" id="8185798"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8185802">{</span><span class="string" id="8185803">&#34;&#34;</span><span class="op" id="8185805">,</span>&nbsp;<span class="string" id="8185807">&#34;hello&#34;</span><span class="op" id="8185814">}</span><span class="op" id="8185815">,</span>&nbsp;<span class="op" id="8185817">[</span><span class="op" id="8185818">]</span><span class="ident" id="8185819"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8185823">{</span><span class="op" id="8185824">{</span><span class="ident" id="8185825"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8185829">{</span><span class="string" id="8185830">&#34;&#34;</span><span class="op" id="8185832">,</span>&nbsp;<span class="string" id="8185834">&#34;lang&#34;</span><span class="op" id="8185840">}</span><span class="op" id="8185841">,</span>&nbsp;<span class="string" id="8185843">&#34;en&#34;</span><span class="op" id="8185847">}</span><span class="op" id="8185848">}</span><span class="op" id="8185849">}</span><span class="op" id="8185850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185853"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8185861">(</span><span class="string" id="8185862">&#34;World&nbsp;&lt;&gt;&#39;\&#34;&nbsp;白鵬翔&#34;</span><span class="op" id="8185885">)</span><span class="op" id="8185886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185889"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8185899">{</span><span class="ident" id="8185900"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8185904">{</span><span class="string" id="8185905">&#34;&#34;</span><span class="op" id="8185907">,</span>&nbsp;<span class="string" id="8185909">&#34;hello&#34;</span><span class="op" id="8185916">}</span><span class="op" id="8185917">}</span><span class="op" id="8185918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185921"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8185929">(</span><span class="string" id="8185930">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8185936">)</span><span class="op" id="8185937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185940"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8185952">{</span><span class="ident" id="8185953"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8185957">{</span><span class="string" id="8185958">&#34;&#34;</span><span class="op" id="8185960">,</span>&nbsp;<span class="string" id="8185962">&#34;query&#34;</span><span class="op" id="8185969">}</span><span class="op" id="8185970">,</span>&nbsp;<span class="op" id="8185972">[</span><span class="op" id="8185973">]</span><span class="ident" id="8185974"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8185978">{</span><span class="op" id="8185979">}</span><span class="op" id="8185980">}</span><span class="op" id="8185981">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8185984"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8185992">(</span><span class="string" id="8185993">&#34;What&nbsp;is&nbsp;it?&#34;</span><span class="op" id="8186006">)</span><span class="op" id="8186007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186010"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8186020">{</span><span class="ident" id="8186021"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186025">{</span><span class="string" id="8186026">&#34;&#34;</span><span class="op" id="8186028">,</span>&nbsp;<span class="string" id="8186030">&#34;query&#34;</span><span class="op" id="8186037">}</span><span class="op" id="8186038">}</span><span class="op" id="8186039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186042"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186050">(</span><span class="string" id="8186051">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8186057">)</span><span class="op" id="8186058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186061"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8186073">{</span><span class="ident" id="8186074"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186078">{</span><span class="string" id="8186079">&#34;&#34;</span><span class="op" id="8186081">,</span>&nbsp;<span class="string" id="8186083">&#34;goodbye&#34;</span><span class="op" id="8186092">}</span><span class="op" id="8186093">,</span>&nbsp;<span class="op" id="8186095">[</span><span class="op" id="8186096">]</span><span class="ident" id="8186097"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8186101">{</span><span class="op" id="8186102">}</span><span class="op" id="8186103">}</span><span class="op" id="8186104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186107"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8186117">{</span><span class="ident" id="8186118"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186122">{</span><span class="string" id="8186123">&#34;&#34;</span><span class="op" id="8186125">,</span>&nbsp;<span class="string" id="8186127">&#34;goodbye&#34;</span><span class="op" id="8186136">}</span><span class="op" id="8186137">}</span><span class="op" id="8186138">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186141"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186149">(</span><span class="string" id="8186150">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8186156">)</span><span class="op" id="8186157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186160"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8186172">{</span><span class="ident" id="8186173"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186177">{</span><span class="string" id="8186178">&#34;&#34;</span><span class="op" id="8186180">,</span>&nbsp;<span class="string" id="8186182">&#34;outer&#34;</span><span class="op" id="8186189">}</span><span class="op" id="8186190">,</span>&nbsp;<span class="op" id="8186192">[</span><span class="op" id="8186193">]</span><span class="ident" id="8186194"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8186198">{</span><span class="op" id="8186199">{</span><span class="ident" id="8186200"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186204">{</span><span class="string" id="8186205">&#34;foo&#34;</span><span class="op" id="8186210">,</span>&nbsp;<span class="string" id="8186212">&#34;attr&#34;</span><span class="op" id="8186218">}</span><span class="op" id="8186219">,</span>&nbsp;<span class="string" id="8186221">&#34;value&#34;</span><span class="op" id="8186228">}</span><span class="op" id="8186229">,</span>&nbsp;<span class="op" id="8186231">{</span><span class="ident" id="8186232"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186236">{</span><span class="string" id="8186237">&#34;xmlns&#34;</span><span class="op" id="8186244">,</span>&nbsp;<span class="string" id="8186246">&#34;tag&#34;</span><span class="op" id="8186251">}</span><span class="op" id="8186252">,</span>&nbsp;<span class="string" id="8186254">&#34;ns4&#34;</span><span class="op" id="8186259">}</span><span class="op" id="8186260">}</span><span class="op" id="8186261">}</span><span class="op" id="8186262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186265"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186273">(</span><span class="string" id="8186274">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8186282">)</span><span class="op" id="8186283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186286"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8186298">{</span><span class="ident" id="8186299"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186303">{</span><span class="string" id="8186304">&#34;&#34;</span><span class="op" id="8186306">,</span>&nbsp;<span class="string" id="8186308">&#34;inner&#34;</span><span class="op" id="8186315">}</span><span class="op" id="8186316">,</span>&nbsp;<span class="op" id="8186318">[</span><span class="op" id="8186319">]</span><span class="ident" id="8186320"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8186324">{</span><span class="op" id="8186325">}</span><span class="op" id="8186326">}</span><span class="op" id="8186327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186330"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8186340">{</span><span class="ident" id="8186341"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186345">{</span><span class="string" id="8186346">&#34;&#34;</span><span class="op" id="8186348">,</span>&nbsp;<span class="string" id="8186350">&#34;inner&#34;</span><span class="op" id="8186357">}</span><span class="op" id="8186358">}</span><span class="op" id="8186359">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186362"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186370">(</span><span class="string" id="8186371">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8186377">)</span><span class="op" id="8186378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186381"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8186391">{</span><span class="ident" id="8186392"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186396">{</span><span class="string" id="8186397">&#34;&#34;</span><span class="op" id="8186399">,</span>&nbsp;<span class="string" id="8186401">&#34;outer&#34;</span><span class="op" id="8186408">}</span><span class="op" id="8186409">}</span><span class="op" id="8186410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186413"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186421">(</span><span class="string" id="8186422">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8186428">)</span><span class="op" id="8186429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186432"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8186444">{</span><span class="ident" id="8186445"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186449">{</span><span class="string" id="8186450">&#34;tag&#34;</span><span class="op" id="8186455">,</span>&nbsp;<span class="string" id="8186457">&#34;name&#34;</span><span class="op" id="8186463">}</span><span class="op" id="8186464">,</span>&nbsp;<span class="op" id="8186466">[</span><span class="op" id="8186467">]</span><span class="ident" id="8186468"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8186472">{</span><span class="op" id="8186473">}</span><span class="op" id="8186474">}</span><span class="op" id="8186475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186478"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186486">(</span><span class="string" id="8186487">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8186495">)</span><span class="op" id="8186496">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186499"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186507">(</span><span class="string" id="8186508">&#34;Some&nbsp;text&nbsp;here.&#34;</span><span class="op" id="8186525">)</span><span class="op" id="8186526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186529"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186537">(</span><span class="string" id="8186538">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8186544">)</span><span class="op" id="8186545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186548"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8186558">{</span><span class="ident" id="8186559"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186563">{</span><span class="string" id="8186564">&#34;tag&#34;</span><span class="op" id="8186569">,</span>&nbsp;<span class="string" id="8186571">&#34;name&#34;</span><span class="op" id="8186577">}</span><span class="op" id="8186578">}</span><span class="op" id="8186579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186582"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186590">(</span><span class="string" id="8186591">&#34;\n&#34;</span><span class="op" id="8186595">)</span><span class="op" id="8186596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186599"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8186609">{</span><span class="ident" id="8186610"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186614">{</span><span class="string" id="8186615">&#34;&#34;</span><span class="op" id="8186617">,</span>&nbsp;<span class="string" id="8186619">&#34;body&#34;</span><span class="op" id="8186625">}</span><span class="op" id="8186626">}</span><span class="op" id="8186627">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186630"><a href="/encoding/xml/xml.go.html#4970069">Comment</a></span><span class="op" id="8186637">(</span><span class="string" id="8186638">&#34;&nbsp;missing&nbsp;final&nbsp;newline&nbsp;&#34;</span><span class="op" id="8186663">)</span><span class="op" id="8186664">,</span><br>
<span class="lineno"></span><span class="op" id="8186666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8186669">var</span>&nbsp;<span class="ident" id="8186673">cookedTokens</span>&nbsp;<span class="op" id="8186686">=</span>&nbsp;<span class="op" id="8186688">[</span><span class="op" id="8186689">]</span><span class="ident" id="8186690"><a href="/encoding/xml/xml.go.html#4969150">Token</a></span><span class="op" id="8186695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186698"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186706">(</span><span class="string" id="8186707">&#34;\n&#34;</span><span class="op" id="8186711">)</span><span class="op" id="8186712">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186715"><a href="/encoding/xml/xml.go.html#4970238">ProcInst</a></span><span class="op" id="8186723">{</span><span class="string" id="8186724">&#34;xml&#34;</span><span class="op" id="8186729">,</span>&nbsp;<span class="op" id="8186731">[</span><span class="op" id="8186732">]</span><span class="builtintype" id="8186733">byte</span><span class="op" id="8186737">(</span><span class="string" id="8186738">`version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;`</span><span class="op" id="8186770">)</span><span class="op" id="8186771">}</span><span class="op" id="8186772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186775"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186783">(</span><span class="string" id="8186784">&#34;\n&#34;</span><span class="op" id="8186788">)</span><span class="op" id="8186789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186792"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8186801">(</span><span class="string" id="8186802">`DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&#34;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;`</span><span class="op" id="8186924">)</span><span class="op" id="8186925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186928"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8186936">(</span><span class="string" id="8186937">&#34;\n&#34;</span><span class="op" id="8186941">)</span><span class="op" id="8186942">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8186945"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8186957">{</span><span class="ident" id="8186958"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186962">{</span><span class="string" id="8186963">&#34;ns2&#34;</span><span class="op" id="8186968">,</span>&nbsp;<span class="string" id="8186970">&#34;body&#34;</span><span class="op" id="8186976">}</span><span class="op" id="8186977">,</span>&nbsp;<span class="op" id="8186979">[</span><span class="op" id="8186980">]</span><span class="ident" id="8186981"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8186985">{</span><span class="op" id="8186986">{</span><span class="ident" id="8186987"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8186991">{</span><span class="string" id="8186992">&#34;xmlns&#34;</span><span class="op" id="8186999">,</span>&nbsp;<span class="string" id="8187001">&#34;foo&#34;</span><span class="op" id="8187006">}</span><span class="op" id="8187007">,</span>&nbsp;<span class="string" id="8187009">&#34;ns1&#34;</span><span class="op" id="8187014">}</span><span class="op" id="8187015">,</span>&nbsp;<span class="op" id="8187017">{</span><span class="ident" id="8187018"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187022">{</span><span class="string" id="8187023">&#34;&#34;</span><span class="op" id="8187025">,</span>&nbsp;<span class="string" id="8187027">&#34;xmlns&#34;</span><span class="op" id="8187034">}</span><span class="op" id="8187035">,</span>&nbsp;<span class="string" id="8187037">&#34;ns2&#34;</span><span class="op" id="8187042">}</span><span class="op" id="8187043">,</span>&nbsp;<span class="op" id="8187045">{</span><span class="ident" id="8187046"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187050">{</span><span class="string" id="8187051">&#34;xmlns&#34;</span><span class="op" id="8187058">,</span>&nbsp;<span class="string" id="8187060">&#34;tag&#34;</span><span class="op" id="8187065">}</span><span class="op" id="8187066">,</span>&nbsp;<span class="string" id="8187068">&#34;ns3&#34;</span><span class="op" id="8187073">}</span><span class="op" id="8187074">}</span><span class="op" id="8187075">}</span><span class="op" id="8187076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187079"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187087">(</span><span class="string" id="8187088">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8187094">)</span><span class="op" id="8187095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187098"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8187110">{</span><span class="ident" id="8187111"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187115">{</span><span class="string" id="8187116">&#34;ns2&#34;</span><span class="op" id="8187121">,</span>&nbsp;<span class="string" id="8187123">&#34;hello&#34;</span><span class="op" id="8187130">}</span><span class="op" id="8187131">,</span>&nbsp;<span class="op" id="8187133">[</span><span class="op" id="8187134">]</span><span class="ident" id="8187135"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8187139">{</span><span class="op" id="8187140">{</span><span class="ident" id="8187141"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187145">{</span><span class="string" id="8187146">&#34;&#34;</span><span class="op" id="8187148">,</span>&nbsp;<span class="string" id="8187150">&#34;lang&#34;</span><span class="op" id="8187156">}</span><span class="op" id="8187157">,</span>&nbsp;<span class="string" id="8187159">&#34;en&#34;</span><span class="op" id="8187163">}</span><span class="op" id="8187164">}</span><span class="op" id="8187165">}</span><span class="op" id="8187166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187169"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187177">(</span><span class="string" id="8187178">&#34;World&nbsp;&lt;&gt;&#39;\&#34;&nbsp;白鵬翔&#34;</span><span class="op" id="8187201">)</span><span class="op" id="8187202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187205"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8187215">{</span><span class="ident" id="8187216"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187220">{</span><span class="string" id="8187221">&#34;ns2&#34;</span><span class="op" id="8187226">,</span>&nbsp;<span class="string" id="8187228">&#34;hello&#34;</span><span class="op" id="8187235">}</span><span class="op" id="8187236">}</span><span class="op" id="8187237">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187240"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187248">(</span><span class="string" id="8187249">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8187255">)</span><span class="op" id="8187256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187259"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8187271">{</span><span class="ident" id="8187272"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187276">{</span><span class="string" id="8187277">&#34;ns2&#34;</span><span class="op" id="8187282">,</span>&nbsp;<span class="string" id="8187284">&#34;query&#34;</span><span class="op" id="8187291">}</span><span class="op" id="8187292">,</span>&nbsp;<span class="op" id="8187294">[</span><span class="op" id="8187295">]</span><span class="ident" id="8187296"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8187300">{</span><span class="op" id="8187301">}</span><span class="op" id="8187302">}</span><span class="op" id="8187303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187306"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187314">(</span><span class="string" id="8187315">&#34;What&nbsp;is&nbsp;it?&#34;</span><span class="op" id="8187328">)</span><span class="op" id="8187329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187332"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8187342">{</span><span class="ident" id="8187343"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187347">{</span><span class="string" id="8187348">&#34;ns2&#34;</span><span class="op" id="8187353">,</span>&nbsp;<span class="string" id="8187355">&#34;query&#34;</span><span class="op" id="8187362">}</span><span class="op" id="8187363">}</span><span class="op" id="8187364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187367"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187375">(</span><span class="string" id="8187376">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8187382">)</span><span class="op" id="8187383">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187386"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8187398">{</span><span class="ident" id="8187399"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187403">{</span><span class="string" id="8187404">&#34;ns2&#34;</span><span class="op" id="8187409">,</span>&nbsp;<span class="string" id="8187411">&#34;goodbye&#34;</span><span class="op" id="8187420">}</span><span class="op" id="8187421">,</span>&nbsp;<span class="op" id="8187423">[</span><span class="op" id="8187424">]</span><span class="ident" id="8187425"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8187429">{</span><span class="op" id="8187430">}</span><span class="op" id="8187431">}</span><span class="op" id="8187432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187435"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8187445">{</span><span class="ident" id="8187446"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187450">{</span><span class="string" id="8187451">&#34;ns2&#34;</span><span class="op" id="8187456">,</span>&nbsp;<span class="string" id="8187458">&#34;goodbye&#34;</span><span class="op" id="8187467">}</span><span class="op" id="8187468">}</span><span class="op" id="8187469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187472"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187480">(</span><span class="string" id="8187481">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8187487">)</span><span class="op" id="8187488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187491"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8187503">{</span><span class="ident" id="8187504"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187508">{</span><span class="string" id="8187509">&#34;ns2&#34;</span><span class="op" id="8187514">,</span>&nbsp;<span class="string" id="8187516">&#34;outer&#34;</span><span class="op" id="8187523">}</span><span class="op" id="8187524">,</span>&nbsp;<span class="op" id="8187526">[</span><span class="op" id="8187527">]</span><span class="ident" id="8187528"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8187532">{</span><span class="op" id="8187533">{</span><span class="ident" id="8187534"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187538">{</span><span class="string" id="8187539">&#34;ns1&#34;</span><span class="op" id="8187544">,</span>&nbsp;<span class="string" id="8187546">&#34;attr&#34;</span><span class="op" id="8187552">}</span><span class="op" id="8187553">,</span>&nbsp;<span class="string" id="8187555">&#34;value&#34;</span><span class="op" id="8187562">}</span><span class="op" id="8187563">,</span>&nbsp;<span class="op" id="8187565">{</span><span class="ident" id="8187566"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187570">{</span><span class="string" id="8187571">&#34;xmlns&#34;</span><span class="op" id="8187578">,</span>&nbsp;<span class="string" id="8187580">&#34;tag&#34;</span><span class="op" id="8187585">}</span><span class="op" id="8187586">,</span>&nbsp;<span class="string" id="8187588">&#34;ns4&#34;</span><span class="op" id="8187593">}</span><span class="op" id="8187594">}</span><span class="op" id="8187595">}</span><span class="op" id="8187596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187599"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187607">(</span><span class="string" id="8187608">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8187616">)</span><span class="op" id="8187617">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187620"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8187632">{</span><span class="ident" id="8187633"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187637">{</span><span class="string" id="8187638">&#34;ns2&#34;</span><span class="op" id="8187643">,</span>&nbsp;<span class="string" id="8187645">&#34;inner&#34;</span><span class="op" id="8187652">}</span><span class="op" id="8187653">,</span>&nbsp;<span class="op" id="8187655">[</span><span class="op" id="8187656">]</span><span class="ident" id="8187657"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8187661">{</span><span class="op" id="8187662">}</span><span class="op" id="8187663">}</span><span class="op" id="8187664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187667"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8187677">{</span><span class="ident" id="8187678"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187682">{</span><span class="string" id="8187683">&#34;ns2&#34;</span><span class="op" id="8187688">,</span>&nbsp;<span class="string" id="8187690">&#34;inner&#34;</span><span class="op" id="8187697">}</span><span class="op" id="8187698">}</span><span class="op" id="8187699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187702"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187710">(</span><span class="string" id="8187711">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8187717">)</span><span class="op" id="8187718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187721"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8187731">{</span><span class="ident" id="8187732"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187736">{</span><span class="string" id="8187737">&#34;ns2&#34;</span><span class="op" id="8187742">,</span>&nbsp;<span class="string" id="8187744">&#34;outer&#34;</span><span class="op" id="8187751">}</span><span class="op" id="8187752">}</span><span class="op" id="8187753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187756"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187764">(</span><span class="string" id="8187765">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8187771">)</span><span class="op" id="8187772">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187775"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8187787">{</span><span class="ident" id="8187788"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187792">{</span><span class="string" id="8187793">&#34;ns3&#34;</span><span class="op" id="8187798">,</span>&nbsp;<span class="string" id="8187800">&#34;name&#34;</span><span class="op" id="8187806">}</span><span class="op" id="8187807">,</span>&nbsp;<span class="op" id="8187809">[</span><span class="op" id="8187810">]</span><span class="ident" id="8187811"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8187815">{</span><span class="op" id="8187816">}</span><span class="op" id="8187817">}</span><span class="op" id="8187818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187821"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187829">(</span><span class="string" id="8187830">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8187838">)</span><span class="op" id="8187839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187842"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187850">(</span><span class="string" id="8187851">&#34;Some&nbsp;text&nbsp;here.&#34;</span><span class="op" id="8187868">)</span><span class="op" id="8187869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187872"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187880">(</span><span class="string" id="8187881">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8187887">)</span><span class="op" id="8187888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187891"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8187901">{</span><span class="ident" id="8187902"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187906">{</span><span class="string" id="8187907">&#34;ns3&#34;</span><span class="op" id="8187912">,</span>&nbsp;<span class="string" id="8187914">&#34;name&#34;</span><span class="op" id="8187920">}</span><span class="op" id="8187921">}</span><span class="op" id="8187922">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187925"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8187933">(</span><span class="string" id="8187934">&#34;\n&#34;</span><span class="op" id="8187938">)</span><span class="op" id="8187939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187942"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8187952">{</span><span class="ident" id="8187953"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8187957">{</span><span class="string" id="8187958">&#34;ns2&#34;</span><span class="op" id="8187963">,</span>&nbsp;<span class="string" id="8187965">&#34;body&#34;</span><span class="op" id="8187971">}</span><span class="op" id="8187972">}</span><span class="op" id="8187973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8187976"><a href="/encoding/xml/xml.go.html#4970069">Comment</a></span><span class="op" id="8187983">(</span><span class="string" id="8187984">&#34;&nbsp;missing&nbsp;final&nbsp;newline&nbsp;&#34;</span><span class="op" id="8188009">)</span><span class="op" id="8188010">,</span><br>
<span class="lineno"></span><span class="op" id="8188012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="8188015">const</span>&nbsp;<span class="ident" id="8188021">testInputAltEncoding</span>&nbsp;<span class="op" id="8188042">=</span>&nbsp;<span class="string" id="8188044">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;x-testing-uppercase&#34;?&gt;<br>
<span class="lineno"></span>&lt;TAG&gt;VALUE&lt;/TAG&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8188118">var</span>&nbsp;<span class="ident" id="8188122">rawTokensAltEncoding</span>&nbsp;<span class="op" id="8188143">=</span>&nbsp;<span class="op" id="8188145">[</span><span class="op" id="8188146">]</span><span class="ident" id="8188147"><a href="/encoding/xml/xml.go.html#4969150">Token</a></span><span class="op" id="8188152">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8188155"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8188163">(</span><span class="string" id="8188164">&#34;\n&#34;</span><span class="op" id="8188168">)</span><span class="op" id="8188169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8188172"><a href="/encoding/xml/xml.go.html#4970238">ProcInst</a></span><span class="op" id="8188180">{</span><span class="string" id="8188181">&#34;xml&#34;</span><span class="op" id="8188186">,</span>&nbsp;<span class="op" id="8188188">[</span><span class="op" id="8188189">]</span><span class="builtintype" id="8188190">byte</span><span class="op" id="8188194">(</span><span class="string" id="8188195">`version=&#34;1.0&#34;&nbsp;encoding=&#34;x-testing-uppercase&#34;`</span><span class="op" id="8188241">)</span><span class="op" id="8188242">}</span><span class="op" id="8188243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8188246"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8188254">(</span><span class="string" id="8188255">&#34;\n&#34;</span><span class="op" id="8188259">)</span><span class="op" id="8188260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8188263"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8188275">{</span><span class="ident" id="8188276"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8188280">{</span><span class="string" id="8188281">&#34;&#34;</span><span class="op" id="8188283">,</span>&nbsp;<span class="string" id="8188285">&#34;tag&#34;</span><span class="op" id="8188290">}</span><span class="op" id="8188291">,</span>&nbsp;<span class="op" id="8188293">[</span><span class="op" id="8188294">]</span><span class="ident" id="8188295"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8188299">{</span><span class="op" id="8188300">}</span><span class="op" id="8188301">}</span><span class="op" id="8188302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8188305"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8188313">(</span><span class="string" id="8188314">&#34;value&#34;</span><span class="op" id="8188321">)</span><span class="op" id="8188322">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8188325"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8188335">{</span><span class="ident" id="8188336"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8188340">{</span><span class="string" id="8188341">&#34;&#34;</span><span class="op" id="8188343">,</span>&nbsp;<span class="string" id="8188345">&#34;tag&#34;</span><span class="op" id="8188350">}</span><span class="op" id="8188351">}</span><span class="op" id="8188352">,</span><br>
<span class="lineno"></span><span class="op" id="8188354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8188357">var</span>&nbsp;<span class="ident" id="8188361">xmlInput</span>&nbsp;<span class="op" id="8188370">=</span>&nbsp;<span class="op" id="8188372">[</span><span class="op" id="8188373">]</span><span class="builtintype" id="8188374">string</span><span class="op" id="8188380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8188383">//&nbsp;unexpected&nbsp;EOF&nbsp;cases</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188408">&#34;&lt;&#34;</span><span class="op" id="8188411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188414">&#34;&lt;t&#34;</span><span class="op" id="8188418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188421">&#34;&lt;t&nbsp;&#34;</span><span class="op" id="8188426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188429">&#34;&lt;t/&#34;</span><span class="op" id="8188434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188437">&#34;&lt;!&#34;</span><span class="op" id="8188441">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188444">&#34;&lt;!-&#34;</span><span class="op" id="8188449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188452">&#34;&lt;!--&#34;</span><span class="op" id="8188458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188461">&#34;&lt;!--c-&#34;</span><span class="op" id="8188469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188472">&#34;&lt;!--c--&#34;</span><span class="op" id="8188481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188484">&#34;&lt;!d&#34;</span><span class="op" id="8188489">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188492">&#34;&lt;t&gt;&lt;/&#34;</span><span class="op" id="8188499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188502">&#34;&lt;t&gt;&lt;/t&#34;</span><span class="op" id="8188510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188513">&#34;&lt;?&#34;</span><span class="op" id="8188517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188520">&#34;&lt;?p&#34;</span><span class="op" id="8188525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188528">&#34;&lt;t&nbsp;a&#34;</span><span class="op" id="8188534">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188537">&#34;&lt;t&nbsp;a=&#34;</span><span class="op" id="8188544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188547">&#34;&lt;t&nbsp;a=&#39;&#34;</span><span class="op" id="8188555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188558">&#34;&lt;t&nbsp;a=&#39;&#39;&#34;</span><span class="op" id="8188567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188570">&#34;&lt;t/&gt;&lt;![&#34;</span><span class="op" id="8188579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188582">&#34;&lt;t/&gt;&lt;![C&#34;</span><span class="op" id="8188592">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188595">&#34;&lt;t/&gt;&lt;![CDATA[d&#34;</span><span class="op" id="8188611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188614">&#34;&lt;t/&gt;&lt;![CDATA[d]&#34;</span><span class="op" id="8188631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188634">&#34;&lt;t/&gt;&lt;![CDATA[d]]&#34;</span><span class="op" id="8188652">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8188656">//&nbsp;other&nbsp;Syntax&nbsp;errors</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188680">&#34;&lt;&gt;&#34;</span><span class="op" id="8188684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188687">&#34;&lt;t/a&#34;</span><span class="op" id="8188693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188696">&#34;&lt;0&nbsp;/&gt;&#34;</span><span class="op" id="8188703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188706">&#34;&lt;?0&nbsp;&gt;&#34;</span><span class="op" id="8188713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8188716">//&nbsp;&nbsp;&nbsp;&nbsp&#34;&lt;!0&nbsp;&gt;&#34;,&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;let&nbsp;the&nbsp;Token()&nbsp;caller&nbsp;handle</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188762">&#34;&lt;/0&gt;&#34;</span><span class="op" id="8188768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188771">&#34;&lt;t&nbsp;0=&#39;&#39;&gt;&#34;</span><span class="op" id="8188781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188784">&#34;&lt;t&nbsp;a=&#39;&amp;&#39;&gt;&#34;</span><span class="op" id="8188795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188798">&#34;&lt;t&nbsp;a=&#39;&lt;&#39;&gt;&#34;</span><span class="op" id="8188809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188812">&#34;&lt;t&gt;&amp;nbspc;&lt;/t&gt;&#34;</span><span class="op" id="8188828">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188831">&#34;&lt;t&nbsp;a&gt;&#34;</span><span class="op" id="8188838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188841">&#34;&lt;t&nbsp;a=&gt;&#34;</span><span class="op" id="8188849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188852">&#34;&lt;t&nbsp;a=v&gt;&#34;</span><span class="op" id="8188861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8188864">//&nbsp;&nbsp;&nbsp;&nbsp&#34;&lt;![CDATA[d]]&gt;&#34;,&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;let&nbsp;the&nbsp;Token()&nbsp;caller&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188918">&#34;&lt;t&gt;&lt;/e&gt;&#34;</span><span class="op" id="8188927">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188930">&#34;&lt;t&gt;&lt;/&gt;&#34;</span><span class="op" id="8188938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188941">&#34;&lt;t&gt;&lt;/t!&#34;</span><span class="op" id="8188950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8188953">&#34;&lt;t&gt;cdata]]&gt;&lt;/t&gt;&#34;</span><span class="op" id="8188970">,</span><br>
<span class="lineno"></span><span class="op" id="8188972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="8188975">func</span>&nbsp;<span class="ident" id="8188980">TestRawToken</span><span class="op" id="8188992">(</span><span class="ident" id="8188993">t</span>&nbsp;<span class="op" id="8188995">*</span><span class="ident" id="8188996"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8189003">.</span><span class="ident" id="8189004">T</span><span class="op" id="8189005">)</span>&nbsp;<span class="op" id="8189007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189010">d</span>&nbsp;<span class="op" id="8189012">:=</span>&nbsp;<span class="ident" id="8189015"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8189025">(</span><span class="ident" id="8189026"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8189033">.</span><span class="ident" id="8189034">NewReader</span><span class="op" id="8189043">(</span><span class="ident" id="8189044"><a href="/encoding/xml/xml_test.go.html#8184759">testInput</a></span><span class="op" id="8189053">)</span><span class="op" id="8189054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189057"><a href="/encoding/xml/xml_test.go.html#8189010">d</a></span><span class="op" id="8189058">.</span><span class="ident" id="8189059">Entity</span>&nbsp;<span class="op" id="8189066">=</span>&nbsp;<span class="ident" id="8189068"><a href="/encoding/xml/xml_test.go.html#8185296">testEntity</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189080"><a href="/encoding/xml/xml_test.go.html#8191811">testRawToken</a></span><span class="op" id="8189092">(</span><span class="ident" id="8189093"><a href="/encoding/xml/xml_test.go.html#8188993">t</a></span><span class="op" id="8189094">,</span>&nbsp;<span class="ident" id="8189096"><a href="/encoding/xml/xml_test.go.html#8189010">d</a></span><span class="op" id="8189097">,</span>&nbsp;<span class="ident" id="8189099"><a href="/encoding/xml/xml_test.go.html#8184759">testInput</a></span><span class="op" id="8189108">,</span>&nbsp;<span class="ident" id="8189110"><a href="/encoding/xml/xml_test.go.html#8185366">rawTokens</a></span><span class="op" id="8189119">)</span><br>
<span class="lineno"></span><span class="op" id="8189121">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="8189124">const</span>&nbsp;<span class="ident" id="8189130">nonStrictInput</span>&nbsp;<span class="op" id="8189145">=</span>&nbsp;<span class="string" id="8189147">`<br>
<span class="lineno"></span>&lt;tag&gt;non&amp;entity&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;unknown;entity&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;#123&lt;/tag&gt;<br>
<span class="lineno">180</span>&lt;tag&gt;&amp;#zzz;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;なまえ3;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;lt-gt;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;0a;&lt;/tag&gt;<br>
<span class="lineno">185</span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8189309">var</span>&nbsp;<span class="ident" id="8189313">nonStringEntity</span>&nbsp;<span class="op" id="8189329">=</span>&nbsp;<span class="keyword" id="8189331">map</span><span class="op" id="8189334">[</span><span class="builtintype" id="8189335">string</span><span class="op" id="8189341">]</span><span class="builtintype" id="8189342">string</span><span class="op" id="8189348">{</span><span class="string" id="8189349">&#34;&#34;</span><span class="op" id="8189351">:</span>&nbsp;<span class="string" id="8189353">&#34;oops!&#34;</span><span class="op" id="8189360">,</span>&nbsp;<span class="string" id="8189362">&#34;0a&#34;</span><span class="op" id="8189366">:</span>&nbsp;<span class="string" id="8189368">&#34;oops!&#34;</span><span class="op" id="8189375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8189378">var</span>&nbsp;<span class="ident" id="8189382">nonStrictTokens</span>&nbsp;<span class="op" id="8189398">=</span>&nbsp;<span class="op" id="8189400">[</span><span class="op" id="8189401">]</span><span class="ident" id="8189402"><a href="/encoding/xml/xml.go.html#4969150">Token</a></span><span class="op" id="8189407">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189410"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189418">(</span><span class="string" id="8189419">&#34;\n&#34;</span><span class="op" id="8189423">)</span><span class="op" id="8189424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189427"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8189439">{</span><span class="ident" id="8189440"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189444">{</span><span class="string" id="8189445">&#34;&#34;</span><span class="op" id="8189447">,</span>&nbsp;<span class="string" id="8189449">&#34;tag&#34;</span><span class="op" id="8189454">}</span><span class="op" id="8189455">,</span>&nbsp;<span class="op" id="8189457">[</span><span class="op" id="8189458">]</span><span class="ident" id="8189459"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8189463">{</span><span class="op" id="8189464">}</span><span class="op" id="8189465">}</span><span class="op" id="8189466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189469"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189477">(</span><span class="string" id="8189478">&#34;non&amp;entity&#34;</span><span class="op" id="8189490">)</span><span class="op" id="8189491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189494"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8189504">{</span><span class="ident" id="8189505"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189509">{</span><span class="string" id="8189510">&#34;&#34;</span><span class="op" id="8189512">,</span>&nbsp;<span class="string" id="8189514">&#34;tag&#34;</span><span class="op" id="8189519">}</span><span class="op" id="8189520">}</span><span class="op" id="8189521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189524"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189532">(</span><span class="string" id="8189533">&#34;\n&#34;</span><span class="op" id="8189537">)</span><span class="op" id="8189538">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189541"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8189553">{</span><span class="ident" id="8189554"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189558">{</span><span class="string" id="8189559">&#34;&#34;</span><span class="op" id="8189561">,</span>&nbsp;<span class="string" id="8189563">&#34;tag&#34;</span><span class="op" id="8189568">}</span><span class="op" id="8189569">,</span>&nbsp;<span class="op" id="8189571">[</span><span class="op" id="8189572">]</span><span class="ident" id="8189573"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8189577">{</span><span class="op" id="8189578">}</span><span class="op" id="8189579">}</span><span class="op" id="8189580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189583"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189591">(</span><span class="string" id="8189592">&#34;&amp;unknown;entity&#34;</span><span class="op" id="8189609">)</span><span class="op" id="8189610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189613"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8189623">{</span><span class="ident" id="8189624"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189628">{</span><span class="string" id="8189629">&#34;&#34;</span><span class="op" id="8189631">,</span>&nbsp;<span class="string" id="8189633">&#34;tag&#34;</span><span class="op" id="8189638">}</span><span class="op" id="8189639">}</span><span class="op" id="8189640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189643"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189651">(</span><span class="string" id="8189652">&#34;\n&#34;</span><span class="op" id="8189656">)</span><span class="op" id="8189657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189660"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8189672">{</span><span class="ident" id="8189673"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189677">{</span><span class="string" id="8189678">&#34;&#34;</span><span class="op" id="8189680">,</span>&nbsp;<span class="string" id="8189682">&#34;tag&#34;</span><span class="op" id="8189687">}</span><span class="op" id="8189688">,</span>&nbsp;<span class="op" id="8189690">[</span><span class="op" id="8189691">]</span><span class="ident" id="8189692"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8189696">{</span><span class="op" id="8189697">}</span><span class="op" id="8189698">}</span><span class="op" id="8189699">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189702"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189710">(</span><span class="string" id="8189711">&#34;&amp;#123&#34;</span><span class="op" id="8189718">)</span><span class="op" id="8189719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189722"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8189732">{</span><span class="ident" id="8189733"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189737">{</span><span class="string" id="8189738">&#34;&#34;</span><span class="op" id="8189740">,</span>&nbsp;<span class="string" id="8189742">&#34;tag&#34;</span><span class="op" id="8189747">}</span><span class="op" id="8189748">}</span><span class="op" id="8189749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189752"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189760">(</span><span class="string" id="8189761">&#34;\n&#34;</span><span class="op" id="8189765">)</span><span class="op" id="8189766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189769"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8189781">{</span><span class="ident" id="8189782"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189786">{</span><span class="string" id="8189787">&#34;&#34;</span><span class="op" id="8189789">,</span>&nbsp;<span class="string" id="8189791">&#34;tag&#34;</span><span class="op" id="8189796">}</span><span class="op" id="8189797">,</span>&nbsp;<span class="op" id="8189799">[</span><span class="op" id="8189800">]</span><span class="ident" id="8189801"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8189805">{</span><span class="op" id="8189806">}</span><span class="op" id="8189807">}</span><span class="op" id="8189808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189811"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189819">(</span><span class="string" id="8189820">&#34;&amp;#zzz;&#34;</span><span class="op" id="8189828">)</span><span class="op" id="8189829">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189832"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8189842">{</span><span class="ident" id="8189843"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189847">{</span><span class="string" id="8189848">&#34;&#34;</span><span class="op" id="8189850">,</span>&nbsp;<span class="string" id="8189852">&#34;tag&#34;</span><span class="op" id="8189857">}</span><span class="op" id="8189858">}</span><span class="op" id="8189859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189862"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189870">(</span><span class="string" id="8189871">&#34;\n&#34;</span><span class="op" id="8189875">)</span><span class="op" id="8189876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189879"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8189891">{</span><span class="ident" id="8189892"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189896">{</span><span class="string" id="8189897">&#34;&#34;</span><span class="op" id="8189899">,</span>&nbsp;<span class="string" id="8189901">&#34;tag&#34;</span><span class="op" id="8189906">}</span><span class="op" id="8189907">,</span>&nbsp;<span class="op" id="8189909">[</span><span class="op" id="8189910">]</span><span class="ident" id="8189911"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8189915">{</span><span class="op" id="8189916">}</span><span class="op" id="8189917">}</span><span class="op" id="8189918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189921"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189929">(</span><span class="string" id="8189930">&#34;&amp;なまえ3;&#34;</span><span class="op" id="8189944">)</span><span class="op" id="8189945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189948"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8189958">{</span><span class="ident" id="8189959"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8189963">{</span><span class="string" id="8189964">&#34;&#34;</span><span class="op" id="8189966">,</span>&nbsp;<span class="string" id="8189968">&#34;tag&#34;</span><span class="op" id="8189973">}</span><span class="op" id="8189974">}</span><span class="op" id="8189975">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189978"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8189986">(</span><span class="string" id="8189987">&#34;\n&#34;</span><span class="op" id="8189991">)</span><span class="op" id="8189992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189995"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8190007">{</span><span class="ident" id="8190008"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8190012">{</span><span class="string" id="8190013">&#34;&#34;</span><span class="op" id="8190015">,</span>&nbsp;<span class="string" id="8190017">&#34;tag&#34;</span><span class="op" id="8190022">}</span><span class="op" id="8190023">,</span>&nbsp;<span class="op" id="8190025">[</span><span class="op" id="8190026">]</span><span class="ident" id="8190027"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8190031">{</span><span class="op" id="8190032">}</span><span class="op" id="8190033">}</span><span class="op" id="8190034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190037"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8190045">(</span><span class="string" id="8190046">&#34;&amp;lt-gt;&#34;</span><span class="op" id="8190055">)</span><span class="op" id="8190056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190059"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8190069">{</span><span class="ident" id="8190070"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8190074">{</span><span class="string" id="8190075">&#34;&#34;</span><span class="op" id="8190077">,</span>&nbsp;<span class="string" id="8190079">&#34;tag&#34;</span><span class="op" id="8190084">}</span><span class="op" id="8190085">}</span><span class="op" id="8190086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190089"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8190097">(</span><span class="string" id="8190098">&#34;\n&#34;</span><span class="op" id="8190102">)</span><span class="op" id="8190103">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190106"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8190118">{</span><span class="ident" id="8190119"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8190123">{</span><span class="string" id="8190124">&#34;&#34;</span><span class="op" id="8190126">,</span>&nbsp;<span class="string" id="8190128">&#34;tag&#34;</span><span class="op" id="8190133">}</span><span class="op" id="8190134">,</span>&nbsp;<span class="op" id="8190136">[</span><span class="op" id="8190137">]</span><span class="ident" id="8190138"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8190142">{</span><span class="op" id="8190143">}</span><span class="op" id="8190144">}</span><span class="op" id="8190145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190148"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8190156">(</span><span class="string" id="8190157">&#34;&amp;;&#34;</span><span class="op" id="8190161">)</span><span class="op" id="8190162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190165"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8190175">{</span><span class="ident" id="8190176"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8190180">{</span><span class="string" id="8190181">&#34;&#34;</span><span class="op" id="8190183">,</span>&nbsp;<span class="string" id="8190185">&#34;tag&#34;</span><span class="op" id="8190190">}</span><span class="op" id="8190191">}</span><span class="op" id="8190192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190195"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8190203">(</span><span class="string" id="8190204">&#34;\n&#34;</span><span class="op" id="8190208">)</span><span class="op" id="8190209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190212"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8190224">{</span><span class="ident" id="8190225"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8190229">{</span><span class="string" id="8190230">&#34;&#34;</span><span class="op" id="8190232">,</span>&nbsp;<span class="string" id="8190234">&#34;tag&#34;</span><span class="op" id="8190239">}</span><span class="op" id="8190240">,</span>&nbsp;<span class="op" id="8190242">[</span><span class="op" id="8190243">]</span><span class="ident" id="8190244"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8190248">{</span><span class="op" id="8190249">}</span><span class="op" id="8190250">}</span><span class="op" id="8190251">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190254"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8190262">(</span><span class="string" id="8190263">&#34;&amp;0a;&#34;</span><span class="op" id="8190269">)</span><span class="op" id="8190270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190273"><a href="/encoding/xml/xml.go.html#4969578">EndElement</a></span><span class="op" id="8190283">{</span><span class="ident" id="8190284"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8190288">{</span><span class="string" id="8190289">&#34;&#34;</span><span class="op" id="8190291">,</span>&nbsp;<span class="string" id="8190293">&#34;tag&#34;</span><span class="op" id="8190298">}</span><span class="op" id="8190299">}</span><span class="op" id="8190300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190303"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8190311">(</span><span class="string" id="8190312">&#34;\n&#34;</span><span class="op" id="8190316">)</span><span class="op" id="8190317">,</span><br>
<span class="lineno"></span><span class="op" id="8190319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="8190322">func</span>&nbsp;<span class="ident" id="8190327">TestNonStrictRawToken</span><span class="op" id="8190348">(</span><span class="ident" id="8190349">t</span>&nbsp;<span class="op" id="8190351">*</span><span class="ident" id="8190352"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8190359">.</span><span class="ident" id="8190360">T</span><span class="op" id="8190361">)</span>&nbsp;<span class="op" id="8190363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190366">d</span>&nbsp;<span class="op" id="8190368">:=</span>&nbsp;<span class="ident" id="8190371"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8190381">(</span><span class="ident" id="8190382"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8190389">.</span><span class="ident" id="8190390">NewReader</span><span class="op" id="8190399">(</span><span class="ident" id="8190400"><a href="/encoding/xml/xml_test.go.html#8189130">nonStrictInput</a></span><span class="op" id="8190414">)</span><span class="op" id="8190415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190418"><a href="/encoding/xml/xml_test.go.html#8190366">d</a></span><span class="op" id="8190419">.</span><span class="ident" id="8190420">Strict</span>&nbsp;<span class="op" id="8190427">=</span>&nbsp;<span class="builtintype" id="8190429">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190436"><a href="/encoding/xml/xml_test.go.html#8191811">testRawToken</a></span><span class="op" id="8190448">(</span><span class="ident" id="8190449"><a href="/encoding/xml/xml_test.go.html#8190349">t</a></span><span class="op" id="8190450">,</span>&nbsp;<span class="ident" id="8190452"><a href="/encoding/xml/xml_test.go.html#8190366">d</a></span><span class="op" id="8190453">,</span>&nbsp;<span class="ident" id="8190455"><a href="/encoding/xml/xml_test.go.html#8189130">nonStrictInput</a></span><span class="op" id="8190469">,</span>&nbsp;<span class="ident" id="8190471"><a href="/encoding/xml/xml_test.go.html#8189382">nonStrictTokens</a></span><span class="op" id="8190486">)</span><br>
<span class="lineno"></span><span class="op" id="8190488">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="8190491">type</span>&nbsp;<span class="ident" id="8190496">downCaser</span>&nbsp;<span class="keyword" id="8190506">struct</span>&nbsp;<span class="op" id="8190513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190516">t</span>&nbsp;<span class="op" id="8190518">*</span><span class="ident" id="8190519"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8190526">.</span><span class="ident" id="8190527">T</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190530">r</span>&nbsp;<span class="ident" id="8190532"><a href="/encoding/xml/xml_test.go.html#8184696">io</a></span><span class="op" id="8190534">.</span><span class="ident" id="8190535">ByteReader</span><br>
<span class="lineno"></span><span class="op" id="8190546">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="8190549">func</span>&nbsp;<span class="op" id="8190554">(</span><span class="ident" id="8190555">d</span>&nbsp;<span class="op" id="8190557">*</span><span class="ident" id="8190558"><a href="/encoding/xml/xml_test.go.html#8190496">downCaser</a></span><span class="op" id="8190567">)</span>&nbsp;<span class="ident" id="8190569">ReadByte</span><span class="op" id="8190577">(</span><span class="op" id="8190578">)</span>&nbsp;<span class="op" id="8190580">(</span><span class="ident" id="8190581">c</span>&nbsp;<span class="builtintype" id="8190583">byte</span><span class="op" id="8190587">,</span>&nbsp;<span class="ident" id="8190589">err</span>&nbsp;<span class="builtintype" id="8190593">error</span><span class="op" id="8190598">)</span>&nbsp;<span class="op" id="8190600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190603"><a href="/encoding/xml/xml_test.go.html#8190581">c</a></span><span class="op" id="8190604">,</span>&nbsp;<span class="ident" id="8190606"><a href="/encoding/xml/xml_test.go.html#8190589">err</a></span>&nbsp;<span class="op" id="8190610">=</span>&nbsp;<span class="ident" id="8190612"><a href="/encoding/xml/xml_test.go.html#8190555">d</a></span><span class="op" id="8190613">.</span><span class="ident" id="8190614">r</span><span class="op" id="8190615">.</span><span class="ident" id="8190616">ReadByte</span><span class="op" id="8190624">(</span><span class="op" id="8190625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8190628">if</span>&nbsp;<span class="ident" id="8190631"><a href="/encoding/xml/xml_test.go.html#8190581">c</a></span>&nbsp;<span class="op" id="8190633">&gt;=</span>&nbsp;<span class="string" id="8190636">&#39;A&#39;</span>&nbsp;<span class="op" id="8190640">&amp;&amp;</span>&nbsp;<span class="ident" id="8190643"><a href="/encoding/xml/xml_test.go.html#8190581">c</a></span>&nbsp;<span class="op" id="8190645">&lt;=</span>&nbsp;<span class="string" id="8190648">&#39;Z&#39;</span>&nbsp;<span class="op" id="8190652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190656"><a href="/encoding/xml/xml_test.go.html#8190581">c</a></span>&nbsp;<span class="op" id="8190658">+=</span>&nbsp;<span class="string" id="8190661">&#39;a&#39;</span>&nbsp;<span class="op" id="8190665">-</span>&nbsp;<span class="string" id="8190667">&#39;A&#39;</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8190672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8190675">return</span><br>
<span class="lineno"></span><span class="op" id="8190682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8190685">func</span>&nbsp;<span class="op" id="8190690">(</span><span class="ident" id="8190691">d</span>&nbsp;<span class="op" id="8190693">*</span><span class="ident" id="8190694"><a href="/encoding/xml/xml_test.go.html#8190496">downCaser</a></span><span class="op" id="8190703">)</span>&nbsp;<span class="ident" id="8190705">Read</span><span class="op" id="8190709">(</span><span class="ident" id="8190710">p</span>&nbsp;<span class="op" id="8190712">[</span><span class="op" id="8190713">]</span><span class="builtintype" id="8190714">byte</span><span class="op" id="8190718">)</span>&nbsp;<span class="op" id="8190720">(</span><span class="builtintype" id="8190721">int</span><span class="op" id="8190724">,</span>&nbsp;<span class="builtintype" id="8190726">error</span><span class="op" id="8190731">)</span>&nbsp;<span class="op" id="8190733">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190736"><a href="/encoding/xml/xml_test.go.html#8190691">d</a></span><span class="op" id="8190737">.</span><span class="ident" id="8190738">t</span><span class="op" id="8190739">.</span><span class="ident" id="8190740">Fatalf</span><span class="op" id="8190746">(</span><span class="string" id="8190747">&#34;unexpected&nbsp;Read&nbsp;call&nbsp;on&nbsp;downCaser&nbsp;reader&#34;</span><span class="op" id="8190789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8190792">panic</span><span class="op" id="8190797">(</span><span class="string" id="8190798">&#34;unreachable&#34;</span><span class="op" id="8190811">)</span><br>
<span class="lineno"></span><span class="op" id="8190813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8190816">func</span>&nbsp;<span class="ident" id="8190821">TestRawTokenAltEncoding</span><span class="op" id="8190844">(</span><span class="ident" id="8190845">t</span>&nbsp;<span class="op" id="8190847">*</span><span class="ident" id="8190848"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8190855">.</span><span class="ident" id="8190856">T</span><span class="op" id="8190857">)</span>&nbsp;<span class="op" id="8190859">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190862">d</span>&nbsp;<span class="op" id="8190864">:=</span>&nbsp;<span class="ident" id="8190867"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8190877">(</span><span class="ident" id="8190878"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8190885">.</span><span class="ident" id="8190886">NewReader</span><span class="op" id="8190895">(</span><span class="ident" id="8190896"><a href="/encoding/xml/xml_test.go.html#8188021">testInputAltEncoding</a></span><span class="op" id="8190916">)</span><span class="op" id="8190917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190920"><a href="/encoding/xml/xml_test.go.html#8190862">d</a></span><span class="op" id="8190921">.</span><span class="ident" id="8190922">CharsetReader</span>&nbsp;<span class="op" id="8190936">=</span>&nbsp;<span class="keyword" id="8190938">func</span><span class="op" id="8190942">(</span><span class="ident" id="8190943">charset</span>&nbsp;<span class="builtintype" id="8190951">string</span><span class="op" id="8190957">,</span>&nbsp;<span class="ident" id="8190959">input</span>&nbsp;<span class="ident" id="8190965"><a href="/encoding/xml/xml_test.go.html#8184696">io</a></span><span class="op" id="8190967">.</span><span class="ident" id="8190968">Reader</span><span class="op" id="8190974">)</span>&nbsp;<span class="op" id="8190976">(</span><span class="ident" id="8190977"><a href="/encoding/xml/xml_test.go.html#8184696">io</a></span><span class="op" id="8190979">.</span><span class="ident" id="8190980">Reader</span><span class="op" id="8190986">,</span>&nbsp;<span class="builtintype" id="8190988">error</span><span class="op" id="8190993">)</span>&nbsp;<span class="op" id="8190995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8190999">if</span>&nbsp;<span class="ident" id="8191002"><a href="/encoding/xml/xml_test.go.html#8190943">charset</a></span>&nbsp;<span class="op" id="8191010">!=</span>&nbsp;<span class="string" id="8191013">&#34;x-testing-uppercase&#34;</span>&nbsp;<span class="op" id="8191035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191040"><a href="/encoding/xml/xml_test.go.html#8190845">t</a></span><span class="op" id="8191041">.</span><span class="ident" id="8191042">Fatalf</span><span class="op" id="8191048">(</span><span class="string" id="8191049">&#34;unexpected&nbsp;charset&nbsp;%q&#34;</span><span class="op" id="8191072">,</span>&nbsp;<span class="ident" id="8191074"><a href="/encoding/xml/xml_test.go.html#8190943">charset</a></span><span class="op" id="8191081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8191085">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8191089">return</span>&nbsp;<span class="op" id="8191096">&amp;</span><span class="ident" id="8191097"><a href="/encoding/xml/xml_test.go.html#8190496">downCaser</a></span><span class="op" id="8191106">{</span><span class="ident" id="8191107"><a href="/encoding/xml/xml_test.go.html#8190845">t</a></span><span class="op" id="8191108">,</span>&nbsp;<span class="ident" id="8191110"><a href="/encoding/xml/xml_test.go.html#8190959">input</a></span><span class="op" id="8191115">.</span><span class="op" id="8191116">(</span><span class="ident" id="8191117"><a href="/encoding/xml/xml_test.go.html#8184696">io</a></span><span class="op" id="8191119">.</span><span class="ident" id="8191120">ByteReader</span><span class="op" id="8191130">)</span><span class="op" id="8191131">}</span><span class="op" id="8191132">,</span>&nbsp;<span class="ident" id="8191134">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8191139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191142"><a href="/encoding/xml/xml_test.go.html#8191811">testRawToken</a></span><span class="op" id="8191154">(</span><span class="ident" id="8191155"><a href="/encoding/xml/xml_test.go.html#8190845">t</a></span><span class="op" id="8191156">,</span>&nbsp;<span class="ident" id="8191158"><a href="/encoding/xml/xml_test.go.html#8190862">d</a></span><span class="op" id="8191159">,</span>&nbsp;<span class="ident" id="8191161"><a href="/encoding/xml/xml_test.go.html#8188021">testInputAltEncoding</a></span><span class="op" id="8191181">,</span>&nbsp;<span class="ident" id="8191183"><a href="/encoding/xml/xml_test.go.html#8188122">rawTokensAltEncoding</a></span><span class="op" id="8191203">)</span><br>
<span class="lineno"></span><span class="op" id="8191205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="8191208">func</span>&nbsp;<span class="ident" id="8191213">TestRawTokenAltEncodingNoConverter</span><span class="op" id="8191247">(</span><span class="ident" id="8191248">t</span>&nbsp;<span class="op" id="8191250">*</span><span class="ident" id="8191251"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8191258">.</span><span class="ident" id="8191259">T</span><span class="op" id="8191260">)</span>&nbsp;<span class="op" id="8191262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191265">d</span>&nbsp;<span class="op" id="8191267">:=</span>&nbsp;<span class="ident" id="8191270"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8191280">(</span><span class="ident" id="8191281"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8191288">.</span><span class="ident" id="8191289">NewReader</span><span class="op" id="8191298">(</span><span class="ident" id="8191299"><a href="/encoding/xml/xml_test.go.html#8188021">testInputAltEncoding</a></span><span class="op" id="8191319">)</span><span class="op" id="8191320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191323">token</span><span class="op" id="8191328">,</span>&nbsp;<span class="ident" id="8191330">err</span>&nbsp;<span class="op" id="8191334">:=</span>&nbsp;<span class="ident" id="8191337"><a href="/encoding/xml/xml_test.go.html#8191265">d</a></span><span class="op" id="8191338">.</span><span class="ident" id="8191339">RawToken</span><span class="op" id="8191347">(</span><span class="op" id="8191348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8191351">if</span>&nbsp;<span class="ident" id="8191354"><a href="/encoding/xml/xml_test.go.html#8191323">token</a></span>&nbsp;<span class="op" id="8191360">==</span>&nbsp;<span class="ident" id="8191363">nil</span>&nbsp;<span class="op" id="8191367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191371"><a href="/encoding/xml/xml_test.go.html#8191248">t</a></span><span class="op" id="8191372">.</span><span class="ident" id="8191373">Fatalf</span><span class="op" id="8191379">(</span><span class="string" id="8191380">&#34;expected&nbsp;a&nbsp;token&nbsp;on&nbsp;first&nbsp;RawToken&nbsp;call&#34;</span><span class="op" id="8191421">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8191424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8191427">if</span>&nbsp;<span class="ident" id="8191430"><a href="/encoding/xml/xml_test.go.html#8191330">err</a></span>&nbsp;<span class="op" id="8191434">!=</span>&nbsp;<span class="ident" id="8191437">nil</span>&nbsp;<span class="op" id="8191441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191445"><a href="/encoding/xml/xml_test.go.html#8191248">t</a></span><span class="op" id="8191446">.</span><span class="ident" id="8191447">Fatal</span><span class="op" id="8191452">(</span><span class="ident" id="8191453"><a href="/encoding/xml/xml_test.go.html#8191330">err</a></span><span class="op" id="8191456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8191459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191462"><a href="/encoding/xml/xml_test.go.html#8191323">token</a></span><span class="op" id="8191467">,</span>&nbsp;<span class="ident" id="8191469"><a href="/encoding/xml/xml_test.go.html#8191330">err</a></span>&nbsp;<span class="op" id="8191473">=</span>&nbsp;<span class="ident" id="8191475"><a href="/encoding/xml/xml_test.go.html#8191265">d</a></span><span class="op" id="8191476">.</span><span class="ident" id="8191477">RawToken</span><span class="op" id="8191485">(</span><span class="op" id="8191486">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8191489">if</span>&nbsp;<span class="ident" id="8191492"><a href="/encoding/xml/xml_test.go.html#8191323">token</a></span>&nbsp;<span class="op" id="8191498">!=</span>&nbsp;<span class="ident" id="8191501">nil</span>&nbsp;<span class="op" id="8191505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191509"><a href="/encoding/xml/xml_test.go.html#8191248">t</a></span><span class="op" id="8191510">.</span><span class="ident" id="8191511">Errorf</span><span class="op" id="8191517">(</span><span class="string" id="8191518">&#34;expected&nbsp;a&nbsp;nil&nbsp;token;&nbsp;got&nbsp;%#v&#34;</span><span class="op" id="8191549">,</span>&nbsp;<span class="ident" id="8191551"><a href="/encoding/xml/xml_test.go.html#8191323">token</a></span><span class="op" id="8191556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8191559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8191562">if</span>&nbsp;<span class="ident" id="8191565"><a href="/encoding/xml/xml_test.go.html#8191330">err</a></span>&nbsp;<span class="op" id="8191569">==</span>&nbsp;<span class="ident" id="8191572">nil</span>&nbsp;<span class="op" id="8191576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191580"><a href="/encoding/xml/xml_test.go.html#8191248">t</a></span><span class="op" id="8191581">.</span><span class="ident" id="8191582">Fatalf</span><span class="op" id="8191588">(</span><span class="string" id="8191589">&#34;expected&nbsp;an&nbsp;error&nbsp;on&nbsp;second&nbsp;RawToken&nbsp;call&#34;</span><span class="op" id="8191632">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8191635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8191638">const</span>&nbsp;<span class="ident" id="8191644">encoding</span>&nbsp;<span class="op" id="8191653">=</span>&nbsp;<span class="string" id="8191655">&#34;x-testing-uppercase&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8191678">if</span>&nbsp;<span class="op" id="8191681">!</span><span class="ident" id="8191682"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8191689">.</span><span class="ident" id="8191690">Contains</span><span class="op" id="8191698">(</span><span class="ident" id="8191699"><a href="/encoding/xml/xml_test.go.html#8191330">err</a></span><span class="op" id="8191702">.</span><span class="ident" id="8191703">Error</span><span class="op" id="8191708">(</span><span class="op" id="8191709">)</span><span class="op" id="8191710">,</span>&nbsp;<span class="ident" id="8191712"><a href="/encoding/xml/xml_test.go.html#8191644">encoding</a></span><span class="op" id="8191720">)</span>&nbsp;<span class="op" id="8191722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191726"><a href="/encoding/xml/xml_test.go.html#8191248">t</a></span><span class="op" id="8191727">.</span><span class="ident" id="8191728">Errorf</span><span class="op" id="8191734">(</span><span class="string" id="8191735">&#34;expected&nbsp;error&nbsp;to&nbsp;contain&nbsp;%q;&nbsp;got&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8191780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191785"><a href="/encoding/xml/xml_test.go.html#8191644">encoding</a></span><span class="op" id="8191793">,</span>&nbsp;<span class="ident" id="8191795"><a href="/encoding/xml/xml_test.go.html#8191330">err</a></span><span class="op" id="8191798">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8191801">}</span><br>
<span class="lineno"></span><span class="op" id="8191803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8191806">func</span>&nbsp;<span class="ident" id="8191811">testRawToken</span><span class="op" id="8191823">(</span><span class="ident" id="8191824">t</span>&nbsp;<span class="op" id="8191826">*</span><span class="ident" id="8191827"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8191834">.</span><span class="ident" id="8191835">T</span><span class="op" id="8191836">,</span>&nbsp;<span class="ident" id="8191838">d</span>&nbsp;<span class="op" id="8191840">*</span><span class="ident" id="8191841"><a href="/encoding/xml/xml.go.html#4970995">Decoder</a></span><span class="op" id="8191848">,</span>&nbsp;<span class="ident" id="8191850">raw</span>&nbsp;<span class="builtintype" id="8191854">string</span><span class="op" id="8191860">,</span>&nbsp;<span class="ident" id="8191862">rawTokens</span>&nbsp;<span class="op" id="8191872">[</span><span class="op" id="8191873">]</span><span class="ident" id="8191874"><a href="/encoding/xml/xml.go.html#4969150">Token</a></span><span class="op" id="8191879">)</span>&nbsp;<span class="op" id="8191881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191884">lastEnd</span>&nbsp;<span class="op" id="8191892">:=</span>&nbsp;<span class="ident" id="8191895">int64</span><span class="op" id="8191900">(</span><span class="num" id="8191901">0</span><span class="op" id="8191902">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8191905">for</span>&nbsp;<span class="ident" id="8191909">i</span><span class="op" id="8191910">,</span>&nbsp;<span class="ident" id="8191912">want</span>&nbsp;<span class="op" id="8191917">:=</span>&nbsp;<span class="keyword" id="8191920">range</span>&nbsp;<span class="ident" id="8191926"><a href="/encoding/xml/xml_test.go.html#8191862">rawTokens</a></span>&nbsp;<span class="op" id="8191936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191940">start</span>&nbsp;<span class="op" id="8191946">:=</span>&nbsp;<span class="ident" id="8191949"><a href="/encoding/xml/xml_test.go.html#8191838">d</a></span><span class="op" id="8191950">.</span><span class="ident" id="8191951">InputOffset</span><span class="op" id="8191962">(</span><span class="op" id="8191963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191967">have</span><span class="op" id="8191971">,</span>&nbsp;<span class="ident" id="8191973">err</span>&nbsp;<span class="op" id="8191977">:=</span>&nbsp;<span class="ident" id="8191980"><a href="/encoding/xml/xml_test.go.html#8191838">d</a></span><span class="op" id="8191981">.</span><span class="ident" id="8191982">RawToken</span><span class="op" id="8191990">(</span><span class="op" id="8191991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8191995">end</span>&nbsp;<span class="op" id="8191999">:=</span>&nbsp;<span class="ident" id="8192002"><a href="/encoding/xml/xml_test.go.html#8191838">d</a></span><span class="op" id="8192003">.</span><span class="ident" id="8192004">InputOffset</span><span class="op" id="8192015">(</span><span class="op" id="8192016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192020">if</span>&nbsp;<span class="ident" id="8192023"><a href="/encoding/xml/xml_test.go.html#8191973">err</a></span>&nbsp;<span class="op" id="8192027">!=</span>&nbsp;<span class="ident" id="8192030">nil</span>&nbsp;<span class="op" id="8192034">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8192039"><a href="/encoding/xml/xml_test.go.html#8191824">t</a></span><span class="op" id="8192040">.</span><span class="ident" id="8192041">Fatalf</span><span class="op" id="8192047">(</span><span class="string" id="8192048">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8192080">,</span>&nbsp;<span class="ident" id="8192082"><a href="/encoding/xml/xml_test.go.html#8191909">i</a></span><span class="op" id="8192083">,</span>&nbsp;<span class="ident" id="8192085"><a href="/encoding/xml/xml_test.go.html#8191973">err</a></span><span class="op" id="8192088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8192092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192096">if</span>&nbsp;<span class="op" id="8192099">!</span><span class="ident" id="8192100"><a href="/encoding/xml/xml_test.go.html#8184702">reflect</a></span><span class="op" id="8192107">.</span><span class="ident" id="8192108">DeepEqual</span><span class="op" id="8192117">(</span><span class="ident" id="8192118"><a href="/encoding/xml/xml_test.go.html#8191967">have</a></span><span class="op" id="8192122">,</span>&nbsp;<span class="ident" id="8192124"><a href="/encoding/xml/xml_test.go.html#8191912">want</a></span><span class="op" id="8192128">)</span>&nbsp;<span class="op" id="8192130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192135">var</span>&nbsp;<span class="ident" id="8192139">shave</span><span class="op" id="8192144">,</span>&nbsp;<span class="ident" id="8192146">swant</span>&nbsp;<span class="builtintype" id="8192152">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192162">if</span>&nbsp;<span class="ident" id="8192165">_</span><span class="op" id="8192166">,</span>&nbsp;<span class="ident" id="8192168">ok</span>&nbsp;<span class="op" id="8192171">:=</span>&nbsp;<span class="ident" id="8192174"><a href="/encoding/xml/xml_test.go.html#8191967">have</a></span><span class="op" id="8192178">.</span><span class="op" id="8192179">(</span><span class="ident" id="8192180"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8192188">)</span><span class="op" id="8192189">;</span>&nbsp;<span class="ident" id="8192191"><a href="/encoding/xml/xml_test.go.html#8192168">ok</a></span>&nbsp;<span class="op" id="8192194">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8192200"><a href="/encoding/xml/xml_test.go.html#8192139">shave</a></span>&nbsp;<span class="op" id="8192206">=</span>&nbsp;<span class="ident" id="8192208"><a href="/encoding/xml/xml_test.go.html#8184689">fmt</a></span><span class="op" id="8192211">.</span><span class="ident" id="8192212">Sprintf</span><span class="op" id="8192219">(</span><span class="string" id="8192220">&#34;CharData(%q)&#34;</span><span class="op" id="8192234">,</span>&nbsp;<span class="ident" id="8192236"><a href="/encoding/xml/xml_test.go.html#8191967">have</a></span><span class="op" id="8192240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8192245">}</span>&nbsp;<span class="keyword" id="8192247">else</span>&nbsp;<span class="op" id="8192252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8192258"><a href="/encoding/xml/xml_test.go.html#8192139">shave</a></span>&nbsp;<span class="op" id="8192264">=</span>&nbsp;<span class="ident" id="8192266"><a href="/encoding/xml/xml_test.go.html#8184689">fmt</a></span><span class="op" id="8192269">.</span><span class="ident" id="8192270">Sprintf</span><span class="op" id="8192277">(</span><span class="string" id="8192278">&#34;%#v&#34;</span><span class="op" id="8192283">,</span>&nbsp;<span class="ident" id="8192285"><a href="/encoding/xml/xml_test.go.html#8191967">have</a></span><span class="op" id="8192289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8192294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192299">if</span>&nbsp;<span class="ident" id="8192302">_</span><span class="op" id="8192303">,</span>&nbsp;<span class="ident" id="8192305">ok</span>&nbsp;<span class="op" id="8192308">:=</span>&nbsp;<span class="ident" id="8192311"><a href="/encoding/xml/xml_test.go.html#8191912">want</a></span><span class="op" id="8192315">.</span><span class="op" id="8192316">(</span><span class="ident" id="8192317"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8192325">)</span><span class="op" id="8192326">;</span>&nbsp;<span class="ident" id="8192328"><a href="/encoding/xml/xml_test.go.html#8192305">ok</a></span>&nbsp;<span class="op" id="8192331">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8192337"><a href="/encoding/xml/xml_test.go.html#8192146">swant</a></span>&nbsp;<span class="op" id="8192343">=</span>&nbsp;<span class="ident" id="8192345"><a href="/encoding/xml/xml_test.go.html#8184689">fmt</a></span><span class="op" id="8192348">.</span><span class="ident" id="8192349">Sprintf</span><span class="op" id="8192356">(</span><span class="string" id="8192357">&#34;CharData(%q)&#34;</span><span class="op" id="8192371">,</span>&nbsp;<span class="ident" id="8192373"><a href="/encoding/xml/xml_test.go.html#8191912">want</a></span><span class="op" id="8192377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8192382">}</span>&nbsp;<span class="keyword" id="8192384">else</span>&nbsp;<span class="op" id="8192389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8192395"><a href="/encoding/xml/xml_test.go.html#8192146">swant</a></span>&nbsp;<span class="op" id="8192401">=</span>&nbsp;<span class="ident" id="8192403"><a href="/encoding/xml/xml_test.go.html#8184689">fmt</a></span><span class="op" id="8192406">.</span><span class="ident" id="8192407">Sprintf</span><span class="op" id="8192414">(</span><span class="string" id="8192415">&#34;%#v&#34;</span><span class="op" id="8192420">,</span>&nbsp;<span class="ident" id="8192422"><a href="/encoding/xml/xml_test.go.html#8191912">want</a></span><span class="op" id="8192426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8192431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8192436"><a href="/encoding/xml/xml_test.go.html#8191824">t</a></span><span class="op" id="8192437">.</span><span class="ident" id="8192438">Errorf</span><span class="op" id="8192444">(</span><span class="string" id="8192445">&#34;token&nbsp;%d&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8192469">,</span>&nbsp;<span class="ident" id="8192471"><a href="/encoding/xml/xml_test.go.html#8191909">i</a></span><span class="op" id="8192472">,</span>&nbsp;<span class="ident" id="8192474"><a href="/encoding/xml/xml_test.go.html#8192139">shave</a></span><span class="op" id="8192479">,</span>&nbsp;<span class="ident" id="8192481"><a href="/encoding/xml/xml_test.go.html#8192146">swant</a></span><span class="op" id="8192486">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8192490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8192495">//&nbsp;Check&nbsp;that&nbsp;InputOffset&nbsp;returned&nbsp;actual&nbsp;token.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192546">switch</span>&nbsp;<span class="op" id="8192553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192557">case</span>&nbsp;<span class="ident" id="8192562"><a href="/encoding/xml/xml_test.go.html#8191940">start</a></span>&nbsp;<span class="op" id="8192568">&lt;</span>&nbsp;<span class="ident" id="8192570"><a href="/encoding/xml/xml_test.go.html#8191884">lastEnd</a></span><span class="op" id="8192577">:</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8192582"><a href="/encoding/xml/xml_test.go.html#8191824">t</a></span><span class="op" id="8192583">.</span><span class="ident" id="8192584">Errorf</span><span class="op" id="8192590">(</span><span class="string" id="8192591">&#34;token&nbsp;%d:&nbsp;position&nbsp;[%d,%d)&nbsp;for&nbsp;%T&nbsp;is&nbsp;before&nbsp;previous&nbsp;token&#34;</span><span class="op" id="8192651">,</span>&nbsp;<span class="ident" id="8192653"><a href="/encoding/xml/xml_test.go.html#8191909">i</a></span><span class="op" id="8192654">,</span>&nbsp;<span class="ident" id="8192656"><a href="/encoding/xml/xml_test.go.html#8191940">start</a></span><span class="op" id="8192661">,</span>&nbsp;<span class="ident" id="8192663"><a href="/encoding/xml/xml_test.go.html#8191995">end</a></span><span class="op" id="8192666">,</span>&nbsp;<span class="ident" id="8192668"><a href="/encoding/xml/xml_test.go.html#8191967">have</a></span><span class="op" id="8192672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192676">case</span>&nbsp;<span class="ident" id="8192681"><a href="/encoding/xml/xml_test.go.html#8191940">start</a></span>&nbsp;<span class="op" id="8192687">&gt;=</span>&nbsp;<span class="ident" id="8192690"><a href="/encoding/xml/xml_test.go.html#8191995">end</a></span><span class="op" id="8192693">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8192698">//&nbsp;Special&nbsp;case:&nbsp;EndElement&nbsp;can&nbsp;be&nbsp;synthesized.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192749">if</span>&nbsp;<span class="ident" id="8192752"><a href="/encoding/xml/xml_test.go.html#8191940">start</a></span>&nbsp;<span class="op" id="8192758">==</span>&nbsp;<span class="ident" id="8192761"><a href="/encoding/xml/xml_test.go.html#8191995">end</a></span>&nbsp;<span class="op" id="8192765">&amp;&amp;</span>&nbsp;<span class="ident" id="8192768"><a href="/encoding/xml/xml_test.go.html#8191995">end</a></span>&nbsp;<span class="op" id="8192772">==</span>&nbsp;<span class="ident" id="8192775"><a href="/encoding/xml/xml_test.go.html#8191884">lastEnd</a></span>&nbsp;<span class="op" id="8192783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192789">break</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8192798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8192803"><a href="/encoding/xml/xml_test.go.html#8191824">t</a></span><span class="op" id="8192804">.</span><span class="ident" id="8192805">Errorf</span><span class="op" id="8192811">(</span><span class="string" id="8192812">&#34;token&nbsp;%d:&nbsp;position&nbsp;[%d,%d)&nbsp;for&nbsp;%T&nbsp;is&nbsp;empty&#34;</span><span class="op" id="8192856">,</span>&nbsp;<span class="ident" id="8192858"><a href="/encoding/xml/xml_test.go.html#8191909">i</a></span><span class="op" id="8192859">,</span>&nbsp;<span class="ident" id="8192861"><a href="/encoding/xml/xml_test.go.html#8191940">start</a></span><span class="op" id="8192866">,</span>&nbsp;<span class="ident" id="8192868"><a href="/encoding/xml/xml_test.go.html#8191995">end</a></span><span class="op" id="8192871">,</span>&nbsp;<span class="ident" id="8192873"><a href="/encoding/xml/xml_test.go.html#8191967">have</a></span><span class="op" id="8192877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8192881">case</span>&nbsp;<span class="ident" id="8192886"><a href="/encoding/xml/xml_test.go.html#8191995">end</a></span>&nbsp;<span class="op" id="8192890">&gt;</span>&nbsp;<span class="ident" id="8192892">int64</span><span class="op" id="8192897">(</span><span class="builtinfunc" id="8192898">len</span><span class="op" id="8192901">(</span><span class="ident" id="8192902"><a href="/encoding/xml/xml_test.go.html#8191850">raw</a></span><span class="op" id="8192905">)</span><span class="op" id="8192906">)</span><span class="op" id="8192907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8192912"><a href="/encoding/xml/xml_test.go.html#8191824">t</a></span><span class="op" id="8192913">.</span><span class="ident" id="8192914">Errorf</span><span class="op" id="8192920">(</span><span class="string" id="8192921">&#34;token&nbsp;%d:&nbsp;position&nbsp;[%d,%d)&nbsp;for&nbsp;%T&nbsp;extends&nbsp;beyond&nbsp;input&#34;</span><span class="op" id="8192977">,</span>&nbsp;<span class="ident" id="8192979"><a href="/encoding/xml/xml_test.go.html#8191909">i</a></span><span class="op" id="8192980">,</span>&nbsp;<span class="ident" id="8192982"><a href="/encoding/xml/xml_test.go.html#8191940">start</a></span><span class="op" id="8192987">,</span>&nbsp;<span class="ident" id="8192989"><a href="/encoding/xml/xml_test.go.html#8191995">end</a></span><span class="op" id="8192992">,</span>&nbsp;<span class="ident" id="8192994"><a href="/encoding/xml/xml_test.go.html#8191967">have</a></span><span class="op" id="8192998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8193002">default</span><span class="op" id="8193009">:</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8193014">text</span>&nbsp;<span class="op" id="8193019">:=</span>&nbsp;<span class="ident" id="8193022"><a href="/encoding/xml/xml_test.go.html#8191850">raw</a></span><span class="op" id="8193025">[</span><span class="ident" id="8193026"><a href="/encoding/xml/xml_test.go.html#8191940">start</a></span><span class="op" id="8193031">:</span><span class="ident" id="8193032"><a href="/encoding/xml/xml_test.go.html#8191995">end</a></span><span class="op" id="8193035">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8193040">if</span>&nbsp;<span class="ident" id="8193043"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8193050">.</span><span class="ident" id="8193051">ContainsAny</span><span class="op" id="8193062">(</span><span class="ident" id="8193063"><a href="/encoding/xml/xml_test.go.html#8193014">text</a></span><span class="op" id="8193067">,</span>&nbsp;<span class="string" id="8193069">&#34;&lt;&gt;&#34;</span><span class="op" id="8193073">)</span>&nbsp;<span class="op" id="8193075">&amp;&amp;</span>&nbsp;<span class="op" id="8193078">(</span><span class="op" id="8193079">!</span><span class="ident" id="8193080"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8193087">.</span><span class="ident" id="8193088">HasPrefix</span><span class="op" id="8193097">(</span><span class="ident" id="8193098"><a href="/encoding/xml/xml_test.go.html#8193014">text</a></span><span class="op" id="8193102">,</span>&nbsp;<span class="string" id="8193104">&#34;&lt;&#34;</span><span class="op" id="8193107">)</span>&nbsp;<span class="op" id="8193109">||</span>&nbsp;<span class="op" id="8193112">!</span><span class="ident" id="8193113"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8193120">.</span><span class="ident" id="8193121">HasSuffix</span><span class="op" id="8193130">(</span><span class="ident" id="8193131"><a href="/encoding/xml/xml_test.go.html#8193014">text</a></span><span class="op" id="8193135">,</span>&nbsp;<span class="string" id="8193137">&#34;&gt;&#34;</span><span class="op" id="8193140">)</span><span class="op" id="8193141">)</span>&nbsp;<span class="op" id="8193143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8193149"><a href="/encoding/xml/xml_test.go.html#8191824">t</a></span><span class="op" id="8193150">.</span><span class="ident" id="8193151">Errorf</span><span class="op" id="8193157">(</span><span class="string" id="8193158">&#34;token&nbsp;%d:&nbsp;misaligned&nbsp;raw&nbsp;token&nbsp;%#q&nbsp;for&nbsp;%T&#34;</span><span class="op" id="8193201">,</span>&nbsp;<span class="ident" id="8193203"><a href="/encoding/xml/xml_test.go.html#8191909">i</a></span><span class="op" id="8193204">,</span>&nbsp;<span class="ident" id="8193206"><a href="/encoding/xml/xml_test.go.html#8193014">text</a></span><span class="op" id="8193210">,</span>&nbsp;<span class="ident" id="8193212"><a href="/encoding/xml/xml_test.go.html#8191967">have</a></span><span class="op" id="8193216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8193221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8193225">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8193229"><a href="/encoding/xml/xml_test.go.html#8191884">lastEnd</a></span>&nbsp;<span class="op" id="8193237">=</span>&nbsp;<span class="ident" id="8193239"><a href="/encoding/xml/xml_test.go.html#8191995">end</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8193244">}</span><br>
<span class="lineno"></span><span class="op" id="8193246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8193249">//&nbsp;Ensure&nbsp;that&nbsp;directives&nbsp;(specifically&nbsp;!DOCTYPE)&nbsp;include&nbsp;the&nbsp;complete</span><br>
<span class="lineno">330</span><span class="comment" id="8193320">//&nbsp;text&nbsp;of&nbsp;any&nbsp;nested&nbsp;directives,&nbsp;noting&nbsp;that&nbsp;&lt;&nbsp;and&nbsp;&gt;&nbsp;do&nbsp;not&nbsp;change</span><br>
<span class="lineno"></span><span class="comment" id="8193388">//&nbsp;nesting&nbsp;depth&nbsp;if&nbsp;they&nbsp;are&nbsp;in&nbsp;single&nbsp;or&nbsp;double&nbsp;quotes.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8193446">var</span>&nbsp;<span class="ident" id="8193450">nestedDirectivesInput</span>&nbsp;<span class="op" id="8193472">=</span>&nbsp;<span class="string" id="8193474">`<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]&gt;<br>
<span class="lineno">335</span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&gt;&#34;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&lt;&#34;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&gt;&#39;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&lt;&#39;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&#34;&gt;&#39;&gt;]&gt;<br>
<span class="lineno">340</span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&#39;&lt;&#34;&gt;]&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8193740">var</span>&nbsp;<span class="ident" id="8193744">nestedDirectivesTokens</span>&nbsp;<span class="op" id="8193767">=</span>&nbsp;<span class="op" id="8193769">[</span><span class="op" id="8193770">]</span><span class="ident" id="8193771"><a href="/encoding/xml/xml.go.html#4969150">Token</a></span><span class="op" id="8193776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8193779"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8193787">(</span><span class="string" id="8193788">&#34;\n&#34;</span><span class="op" id="8193792">)</span><span class="op" id="8193793">,</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8193796"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8193805">(</span><span class="string" id="8193806">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]`</span><span class="op" id="8193877">)</span><span class="op" id="8193878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8193881"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8193889">(</span><span class="string" id="8193890">&#34;\n&#34;</span><span class="op" id="8193894">)</span><span class="op" id="8193895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8193898"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8193907">(</span><span class="string" id="8193908">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&gt;&#34;&gt;]`</span><span class="op" id="8193937">)</span><span class="op" id="8193938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8193941"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8193949">(</span><span class="string" id="8193950">&#34;\n&#34;</span><span class="op" id="8193954">)</span><span class="op" id="8193955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8193958"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8193967">(</span><span class="string" id="8193968">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&lt;&#34;&gt;]`</span><span class="op" id="8193997">)</span><span class="op" id="8193998">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194001"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8194009">(</span><span class="string" id="8194010">&#34;\n&#34;</span><span class="op" id="8194014">)</span><span class="op" id="8194015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194018"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8194027">(</span><span class="string" id="8194028">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&gt;&#39;&gt;]`</span><span class="op" id="8194057">)</span><span class="op" id="8194058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194061"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8194069">(</span><span class="string" id="8194070">&#34;\n&#34;</span><span class="op" id="8194074">)</span><span class="op" id="8194075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194078"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8194087">(</span><span class="string" id="8194088">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&lt;&#39;&gt;]`</span><span class="op" id="8194117">)</span><span class="op" id="8194118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194121"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8194129">(</span><span class="string" id="8194130">&#34;\n&#34;</span><span class="op" id="8194134">)</span><span class="op" id="8194135">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194138"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8194147">(</span><span class="string" id="8194148">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&#34;&gt;&#39;&gt;]`</span><span class="op" id="8194178">)</span><span class="op" id="8194179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194182"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8194190">(</span><span class="string" id="8194191">&#34;\n&#34;</span><span class="op" id="8194195">)</span><span class="op" id="8194196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194199"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8194208">(</span><span class="string" id="8194209">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&#39;&lt;&#34;&gt;]`</span><span class="op" id="8194239">)</span><span class="op" id="8194240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194243"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8194251">(</span><span class="string" id="8194252">&#34;\n&#34;</span><span class="op" id="8194256">)</span><span class="op" id="8194257">,</span><br>
<span class="lineno"></span><span class="op" id="8194259">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="8194262">func</span>&nbsp;<span class="ident" id="8194267">TestNestedDirectives</span><span class="op" id="8194287">(</span><span class="ident" id="8194288">t</span>&nbsp;<span class="op" id="8194290">*</span><span class="ident" id="8194291"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8194298">.</span><span class="ident" id="8194299">T</span><span class="op" id="8194300">)</span>&nbsp;<span class="op" id="8194302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194305">d</span>&nbsp;<span class="op" id="8194307">:=</span>&nbsp;<span class="ident" id="8194310"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8194320">(</span><span class="ident" id="8194321"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8194328">.</span><span class="ident" id="8194329">NewReader</span><span class="op" id="8194338">(</span><span class="ident" id="8194339"><a href="/encoding/xml/xml_test.go.html#8193450">nestedDirectivesInput</a></span><span class="op" id="8194360">)</span><span class="op" id="8194361">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8194365">for</span>&nbsp;<span class="ident" id="8194369">i</span><span class="op" id="8194370">,</span>&nbsp;<span class="ident" id="8194372">want</span>&nbsp;<span class="op" id="8194377">:=</span>&nbsp;<span class="keyword" id="8194380">range</span>&nbsp;<span class="ident" id="8194386"><a href="/encoding/xml/xml_test.go.html#8193744">nestedDirectivesTokens</a></span>&nbsp;<span class="op" id="8194409">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194413">have</span><span class="op" id="8194417">,</span>&nbsp;<span class="ident" id="8194419">err</span>&nbsp;<span class="op" id="8194423">:=</span>&nbsp;<span class="ident" id="8194426"><a href="/encoding/xml/xml_test.go.html#8194305">d</a></span><span class="op" id="8194427">.</span><span class="ident" id="8194428">Token</span><span class="op" id="8194433">(</span><span class="op" id="8194434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8194438">if</span>&nbsp;<span class="ident" id="8194441"><a href="/encoding/xml/xml_test.go.html#8194419">err</a></span>&nbsp;<span class="op" id="8194445">!=</span>&nbsp;<span class="ident" id="8194448">nil</span>&nbsp;<span class="op" id="8194452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194457"><a href="/encoding/xml/xml_test.go.html#8194288">t</a></span><span class="op" id="8194458">.</span><span class="ident" id="8194459">Fatalf</span><span class="op" id="8194465">(</span><span class="string" id="8194466">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8194498">,</span>&nbsp;<span class="ident" id="8194500"><a href="/encoding/xml/xml_test.go.html#8194369">i</a></span><span class="op" id="8194501">,</span>&nbsp;<span class="ident" id="8194503"><a href="/encoding/xml/xml_test.go.html#8194419">err</a></span><span class="op" id="8194506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8194510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8194514">if</span>&nbsp;<span class="op" id="8194517">!</span><span class="ident" id="8194518"><a href="/encoding/xml/xml_test.go.html#8184702">reflect</a></span><span class="op" id="8194525">.</span><span class="ident" id="8194526">DeepEqual</span><span class="op" id="8194535">(</span><span class="ident" id="8194536"><a href="/encoding/xml/xml_test.go.html#8194413">have</a></span><span class="op" id="8194540">,</span>&nbsp;<span class="ident" id="8194542"><a href="/encoding/xml/xml_test.go.html#8194372">want</a></span><span class="op" id="8194546">)</span>&nbsp;<span class="op" id="8194548">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194553"><a href="/encoding/xml/xml_test.go.html#8194288">t</a></span><span class="op" id="8194554">.</span><span class="ident" id="8194555">Errorf</span><span class="op" id="8194561">(</span><span class="string" id="8194562">&#34;token&nbsp;%d&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8194587">,</span>&nbsp;<span class="ident" id="8194589"><a href="/encoding/xml/xml_test.go.html#8194369">i</a></span><span class="op" id="8194590">,</span>&nbsp;<span class="ident" id="8194592"><a href="/encoding/xml/xml_test.go.html#8194413">have</a></span><span class="op" id="8194596">,</span>&nbsp;<span class="ident" id="8194598"><a href="/encoding/xml/xml_test.go.html#8194372">want</a></span><span class="op" id="8194602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8194606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8194609">}</span><br>
<span class="lineno"></span><span class="op" id="8194611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span><span class="keyword" id="8194614">func</span>&nbsp;<span class="ident" id="8194619">TestToken</span><span class="op" id="8194628">(</span><span class="ident" id="8194629">t</span>&nbsp;<span class="op" id="8194631">*</span><span class="ident" id="8194632"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8194639">.</span><span class="ident" id="8194640">T</span><span class="op" id="8194641">)</span>&nbsp;<span class="op" id="8194643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194646">d</span>&nbsp;<span class="op" id="8194648">:=</span>&nbsp;<span class="ident" id="8194651"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8194661">(</span><span class="ident" id="8194662"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8194669">.</span><span class="ident" id="8194670">NewReader</span><span class="op" id="8194679">(</span><span class="ident" id="8194680"><a href="/encoding/xml/xml_test.go.html#8184759">testInput</a></span><span class="op" id="8194689">)</span><span class="op" id="8194690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194693"><a href="/encoding/xml/xml_test.go.html#8194646">d</a></span><span class="op" id="8194694">.</span><span class="ident" id="8194695">Entity</span>&nbsp;<span class="op" id="8194702">=</span>&nbsp;<span class="ident" id="8194704"><a href="/encoding/xml/xml_test.go.html#8185296">testEntity</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8194717">for</span>&nbsp;<span class="ident" id="8194721">i</span><span class="op" id="8194722">,</span>&nbsp;<span class="ident" id="8194724">want</span>&nbsp;<span class="op" id="8194729">:=</span>&nbsp;<span class="keyword" id="8194732">range</span>&nbsp;<span class="ident" id="8194738"><a href="/encoding/xml/xml_test.go.html#8186673">cookedTokens</a></span>&nbsp;<span class="op" id="8194751">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194755">have</span><span class="op" id="8194759">,</span>&nbsp;<span class="ident" id="8194761">err</span>&nbsp;<span class="op" id="8194765">:=</span>&nbsp;<span class="ident" id="8194768"><a href="/encoding/xml/xml_test.go.html#8194646">d</a></span><span class="op" id="8194769">.</span><span class="ident" id="8194770">Token</span><span class="op" id="8194775">(</span><span class="op" id="8194776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8194780">if</span>&nbsp;<span class="ident" id="8194783"><a href="/encoding/xml/xml_test.go.html#8194761">err</a></span>&nbsp;<span class="op" id="8194787">!=</span>&nbsp;<span class="ident" id="8194790">nil</span>&nbsp;<span class="op" id="8194794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194799"><a href="/encoding/xml/xml_test.go.html#8194629">t</a></span><span class="op" id="8194800">.</span><span class="ident" id="8194801">Fatalf</span><span class="op" id="8194807">(</span><span class="string" id="8194808">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8194840">,</span>&nbsp;<span class="ident" id="8194842"><a href="/encoding/xml/xml_test.go.html#8194721">i</a></span><span class="op" id="8194843">,</span>&nbsp;<span class="ident" id="8194845"><a href="/encoding/xml/xml_test.go.html#8194761">err</a></span><span class="op" id="8194848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8194852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8194856">if</span>&nbsp;<span class="op" id="8194859">!</span><span class="ident" id="8194860"><a href="/encoding/xml/xml_test.go.html#8184702">reflect</a></span><span class="op" id="8194867">.</span><span class="ident" id="8194868">DeepEqual</span><span class="op" id="8194877">(</span><span class="ident" id="8194878"><a href="/encoding/xml/xml_test.go.html#8194755">have</a></span><span class="op" id="8194882">,</span>&nbsp;<span class="ident" id="8194884"><a href="/encoding/xml/xml_test.go.html#8194724">want</a></span><span class="op" id="8194888">)</span>&nbsp;<span class="op" id="8194890">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8194895"><a href="/encoding/xml/xml_test.go.html#8194629">t</a></span><span class="op" id="8194896">.</span><span class="ident" id="8194897">Errorf</span><span class="op" id="8194903">(</span><span class="string" id="8194904">&#34;token&nbsp;%d&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8194929">,</span>&nbsp;<span class="ident" id="8194931"><a href="/encoding/xml/xml_test.go.html#8194721">i</a></span><span class="op" id="8194932">,</span>&nbsp;<span class="ident" id="8194934"><a href="/encoding/xml/xml_test.go.html#8194755">have</a></span><span class="op" id="8194938">,</span>&nbsp;<span class="ident" id="8194940"><a href="/encoding/xml/xml_test.go.html#8194724">want</a></span><span class="op" id="8194944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8194948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8194951">}</span><br>
<span class="lineno"></span><span class="op" id="8194953">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span><span class="keyword" id="8194956">func</span>&nbsp;<span class="ident" id="8194961">TestSyntax</span><span class="op" id="8194971">(</span><span class="ident" id="8194972">t</span>&nbsp;<span class="op" id="8194974">*</span><span class="ident" id="8194975"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8194982">.</span><span class="ident" id="8194983">T</span><span class="op" id="8194984">)</span>&nbsp;<span class="op" id="8194986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8194989">for</span>&nbsp;<span class="ident" id="8194993">i</span>&nbsp;<span class="op" id="8194995">:=</span>&nbsp;<span class="keyword" id="8194998">range</span>&nbsp;<span class="ident" id="8195004"><a href="/encoding/xml/xml_test.go.html#8188361">xmlInput</a></span>&nbsp;<span class="op" id="8195013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195017">d</span>&nbsp;<span class="op" id="8195019">:=</span>&nbsp;<span class="ident" id="8195022"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8195032">(</span><span class="ident" id="8195033"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8195040">.</span><span class="ident" id="8195041">NewReader</span><span class="op" id="8195050">(</span><span class="ident" id="8195051"><a href="/encoding/xml/xml_test.go.html#8188361">xmlInput</a></span><span class="op" id="8195059">[</span><span class="ident" id="8195060"><a href="/encoding/xml/xml_test.go.html#8194993">i</a></span><span class="op" id="8195061">]</span><span class="op" id="8195062">)</span><span class="op" id="8195063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8195067">var</span>&nbsp;<span class="ident" id="8195071">err</span>&nbsp;<span class="builtintype" id="8195075">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8195083">for</span>&nbsp;<span class="ident" id="8195087">_</span><span class="op" id="8195088">,</span>&nbsp;<span class="ident" id="8195090"><a href="/encoding/xml/xml_test.go.html#8195071">err</a></span>&nbsp;<span class="op" id="8195094">=</span>&nbsp;<span class="ident" id="8195096"><a href="/encoding/xml/xml_test.go.html#8195017">d</a></span><span class="op" id="8195097">.</span><span class="ident" id="8195098">Token</span><span class="op" id="8195103">(</span><span class="op" id="8195104">)</span><span class="op" id="8195105">;</span>&nbsp;<span class="ident" id="8195107"><a href="/encoding/xml/xml_test.go.html#8195071">err</a></span>&nbsp;<span class="op" id="8195111">==</span>&nbsp;<span class="ident" id="8195114">nil</span><span class="op" id="8195117">;</span>&nbsp;<span class="ident" id="8195119">_</span><span class="op" id="8195120">,</span>&nbsp;<span class="ident" id="8195122"><a href="/encoding/xml/xml_test.go.html#8195071">err</a></span>&nbsp;<span class="op" id="8195126">=</span>&nbsp;<span class="ident" id="8195128"><a href="/encoding/xml/xml_test.go.html#8195017">d</a></span><span class="op" id="8195129">.</span><span class="ident" id="8195130">Token</span><span class="op" id="8195135">(</span><span class="op" id="8195136">)</span>&nbsp;<span class="op" id="8195138">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8195142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8195146">if</span>&nbsp;<span class="ident" id="8195149">_</span><span class="op" id="8195150">,</span>&nbsp;<span class="ident" id="8195152">ok</span>&nbsp;<span class="op" id="8195155">:=</span>&nbsp;<span class="ident" id="8195158"><a href="/encoding/xml/xml_test.go.html#8195071">err</a></span><span class="op" id="8195161">.</span><span class="op" id="8195162">(</span><span class="op" id="8195163">*</span><span class="ident" id="8195164"><a href="/encoding/xml/xml.go.html#4968449">SyntaxError</a></span><span class="op" id="8195175">)</span><span class="op" id="8195176">;</span>&nbsp;<span class="op" id="8195178">!</span><span class="ident" id="8195179"><a href="/encoding/xml/xml_test.go.html#8195152">ok</a></span>&nbsp;<span class="op" id="8195182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195187"><a href="/encoding/xml/xml_test.go.html#8194972">t</a></span><span class="op" id="8195188">.</span><span class="ident" id="8195189">Fatalf</span><span class="op" id="8195195">(</span><span class="string" id="8195196">`xmlInput&nbsp;&#34;%s&#34;:&nbsp;expected&nbsp;SyntaxError&nbsp;not&nbsp;received`</span><span class="op" id="8195246">,</span>&nbsp;<span class="ident" id="8195248"><a href="/encoding/xml/xml_test.go.html#8188361">xmlInput</a></span><span class="op" id="8195256">[</span><span class="ident" id="8195257"><a href="/encoding/xml/xml_test.go.html#8194993">i</a></span><span class="op" id="8195258">]</span><span class="op" id="8195259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8195263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8195266">}</span><br>
<span class="lineno">400</span><span class="op" id="8195268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8195271">type</span>&nbsp;<span class="ident" id="8195276">allScalars</span>&nbsp;<span class="keyword" id="8195287">struct</span>&nbsp;<span class="op" id="8195294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195297">True1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195307">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195313">True2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195323">bool</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195329">False1</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195339">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195345">False2</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195355">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195361">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195371">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195376">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195386">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195392">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195402">int16</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195409">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195419">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195426">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195436">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195443">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195453">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195458">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195468">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195475">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195485">uint16</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195493">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195503">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195511">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8195521">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195529">Uintptr</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195539">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195548">Float32</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195558">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195567">Float64</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195577">float64</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195586">String</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195596">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195604">PtrString</span>&nbsp;<span class="op" id="8195614">*</span><span class="builtintype" id="8195615">string</span><br>
<span class="lineno"></span><span class="op" id="8195622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8195625">var</span>&nbsp;<span class="ident" id="8195629">all</span>&nbsp;<span class="op" id="8195633">=</span>&nbsp;<span class="ident" id="8195635"><a href="/encoding/xml/xml_test.go.html#8195276">allScalars</a></span><span class="op" id="8195645">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195648">True1</span><span class="op" id="8195653">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195659">true</span><span class="op" id="8195663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195666">True2</span><span class="op" id="8195671">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195677">true</span><span class="op" id="8195681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195684">False1</span><span class="op" id="8195690">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195695">false</span><span class="op" id="8195700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195703">False2</span><span class="op" id="8195709">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8195714">false</span><span class="op" id="8195719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195722">Int</span><span class="op" id="8195725">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8195733">1</span><span class="op" id="8195734">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195737">Int8</span><span class="op" id="8195741">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8195748">-</span><span class="num" id="8195749">2</span><span class="op" id="8195750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195753">Int16</span><span class="op" id="8195758">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8195764">3</span><span class="op" id="8195765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195768">Int32</span><span class="op" id="8195773">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8195779">-</span><span class="num" id="8195780">4</span><span class="op" id="8195781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195784">Int64</span><span class="op" id="8195789">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8195795">5</span><span class="op" id="8195796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195799">Uint</span><span class="op" id="8195803">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8195810">6</span><span class="op" id="8195811">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195814">Uint8</span><span class="op" id="8195819">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8195825">7</span><span class="op" id="8195826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195829">Uint16</span><span class="op" id="8195835">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8195840">8</span><span class="op" id="8195841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195844">Uint32</span><span class="op" id="8195850">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8195855">9</span><span class="op" id="8195856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195859">Uint64</span><span class="op" id="8195865">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8195870">10</span><span class="op" id="8195872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195875">Uintptr</span><span class="op" id="8195882">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8195886">11</span><span class="op" id="8195888">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195891">Float32</span><span class="op" id="8195898">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8195902">13.0</span><span class="op" id="8195906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195909">Float64</span><span class="op" id="8195916">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8195920">14.0</span><span class="op" id="8195924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195927">String</span><span class="op" id="8195933">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8195938">&#34;15&#34;</span><span class="op" id="8195942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8195945">PtrString</span><span class="op" id="8195954">:</span>&nbsp;<span class="op" id="8195956">&amp;</span><span class="ident" id="8195957"><a href="/encoding/xml/xml_test.go.html#8195973">sixteen</a></span><span class="op" id="8195964">,</span><br>
<span class="lineno"></span><span class="op" id="8195966">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span><span class="keyword" id="8195969">var</span>&nbsp;<span class="ident" id="8195973">sixteen</span>&nbsp;<span class="op" id="8195981">=</span>&nbsp;<span class="string" id="8195983">&#34;16&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8195989">const</span>&nbsp;<span class="ident" id="8195995">testScalarsInput</span>&nbsp;<span class="op" id="8196012">=</span>&nbsp;<span class="string" id="8196014">`&lt;allscalars&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;True1&gt;true&lt;/True1&gt;<br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;True2&gt;1&lt;/True2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;False1&gt;false&lt;/False1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;False2&gt;0&lt;/False2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int&gt;1&lt;/Int&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int8&gt;-2&lt;/Int8&gt;<br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int16&gt;3&lt;/Int16&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int32&gt;-4&lt;/Int32&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int64&gt;5&lt;/Int64&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint&gt;6&lt;/Uint&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint8&gt;7&lt;/Uint8&gt;<br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint16&gt;8&lt;/Uint16&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint32&gt;9&lt;/Uint32&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint64&gt;10&lt;/Uint64&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uintptr&gt;11&lt;/Uintptr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Float&gt;12.0&lt;/Float&gt;<br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Float32&gt;13.0&lt;/Float32&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Float64&gt;14.0&lt;/Float64&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;String&gt;15&lt;/String&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;PtrString&gt;16&lt;/PtrString&gt;<br>
<span class="lineno"></span>&lt;/allscalars&gt;`</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="8196450">func</span>&nbsp;<span class="ident" id="8196455">TestAllScalars</span><span class="op" id="8196469">(</span><span class="ident" id="8196470">t</span>&nbsp;<span class="op" id="8196472">*</span><span class="ident" id="8196473"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8196480">.</span><span class="ident" id="8196481">T</span><span class="op" id="8196482">)</span>&nbsp;<span class="op" id="8196484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8196487">var</span>&nbsp;<span class="ident" id="8196491">a</span>&nbsp;<span class="ident" id="8196493"><a href="/encoding/xml/xml_test.go.html#8195276">allScalars</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8196505">err</span>&nbsp;<span class="op" id="8196509">:=</span>&nbsp;<span class="ident" id="8196512"><a href="/encoding/xml/read.go.html#4942913">Unmarshal</a></span><span class="op" id="8196521">(</span><span class="op" id="8196522">[</span><span class="op" id="8196523">]</span><span class="builtintype" id="8196524">byte</span><span class="op" id="8196528">(</span><span class="ident" id="8196529"><a href="/encoding/xml/xml_test.go.html#8195995">testScalarsInput</a></span><span class="op" id="8196545">)</span><span class="op" id="8196546">,</span>&nbsp;<span class="op" id="8196548">&amp;</span><span class="ident" id="8196549"><a href="/encoding/xml/xml_test.go.html#8196491">a</a></span><span class="op" id="8196550">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8196554">if</span>&nbsp;<span class="ident" id="8196557"><a href="/encoding/xml/xml_test.go.html#8196505">err</a></span>&nbsp;<span class="op" id="8196561">!=</span>&nbsp;<span class="ident" id="8196564">nil</span>&nbsp;<span class="op" id="8196568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8196572"><a href="/encoding/xml/xml_test.go.html#8196470">t</a></span><span class="op" id="8196573">.</span><span class="ident" id="8196574">Fatal</span><span class="op" id="8196579">(</span><span class="ident" id="8196580"><a href="/encoding/xml/xml_test.go.html#8196505">err</a></span><span class="op" id="8196583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8196586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8196589">if</span>&nbsp;<span class="op" id="8196592">!</span><span class="ident" id="8196593"><a href="/encoding/xml/xml_test.go.html#8184702">reflect</a></span><span class="op" id="8196600">.</span><span class="ident" id="8196601">DeepEqual</span><span class="op" id="8196610">(</span><span class="ident" id="8196611"><a href="/encoding/xml/xml_test.go.html#8196491">a</a></span><span class="op" id="8196612">,</span>&nbsp;<span class="ident" id="8196614"><a href="/encoding/xml/xml_test.go.html#8195629">all</a></span><span class="op" id="8196617">)</span>&nbsp;<span class="op" id="8196619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8196623"><a href="/encoding/xml/xml_test.go.html#8196470">t</a></span><span class="op" id="8196624">.</span><span class="ident" id="8196625">Errorf</span><span class="op" id="8196631">(</span><span class="string" id="8196632">&#34;have&nbsp;%+v&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8196651">,</span>&nbsp;<span class="ident" id="8196653"><a href="/encoding/xml/xml_test.go.html#8196491">a</a></span><span class="op" id="8196654">,</span>&nbsp;<span class="ident" id="8196656"><a href="/encoding/xml/xml_test.go.html#8195629">all</a></span><span class="op" id="8196659">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8196662">}</span><br>
<span class="lineno"></span><span class="op" id="8196664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8196667">type</span>&nbsp;<span class="ident" id="8196672">item</span>&nbsp;<span class="keyword" id="8196677">struct</span>&nbsp;<span class="op" id="8196684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8196687">Field_a</span>&nbsp;<span class="builtintype" id="8196695">string</span><br>
<span class="lineno">485</span><span class="op" id="8196702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8196705">func</span>&nbsp;<span class="ident" id="8196710">TestIssue569</span><span class="op" id="8196722">(</span><span class="ident" id="8196723">t</span>&nbsp;<span class="op" id="8196725">*</span><span class="ident" id="8196726"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8196733">.</span><span class="ident" id="8196734">T</span><span class="op" id="8196735">)</span>&nbsp;<span class="op" id="8196737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8196740">data</span>&nbsp;<span class="op" id="8196745">:=</span>&nbsp;<span class="string" id="8196748">`&lt;item&gt;&lt;Field_a&gt;abcd&lt;/Field_a&gt;&lt;/item&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8196788">var</span>&nbsp;<span class="ident" id="8196792">i</span>&nbsp;<span class="ident" id="8196794"><a href="/encoding/xml/xml_test.go.html#8196672">item</a></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8196800">err</span>&nbsp;<span class="op" id="8196804">:=</span>&nbsp;<span class="ident" id="8196807"><a href="/encoding/xml/read.go.html#4942913">Unmarshal</a></span><span class="op" id="8196816">(</span><span class="op" id="8196817">[</span><span class="op" id="8196818">]</span><span class="builtintype" id="8196819">byte</span><span class="op" id="8196823">(</span><span class="ident" id="8196824"><a href="/encoding/xml/xml_test.go.html#8196740">data</a></span><span class="op" id="8196828">)</span><span class="op" id="8196829">,</span>&nbsp;<span class="op" id="8196831">&amp;</span><span class="ident" id="8196832"><a href="/encoding/xml/xml_test.go.html#8196792">i</a></span><span class="op" id="8196833">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8196837">if</span>&nbsp;<span class="ident" id="8196840"><a href="/encoding/xml/xml_test.go.html#8196800">err</a></span>&nbsp;<span class="op" id="8196844">!=</span>&nbsp;<span class="ident" id="8196847">nil</span>&nbsp;<span class="op" id="8196851">||</span>&nbsp;<span class="ident" id="8196854"><a href="/encoding/xml/xml_test.go.html#8196792">i</a></span><span class="op" id="8196855">.</span><span class="ident" id="8196856">Field_a</span>&nbsp;<span class="op" id="8196864">!=</span>&nbsp;<span class="string" id="8196867">&#34;abcd&#34;</span>&nbsp;<span class="op" id="8196874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8196878"><a href="/encoding/xml/xml_test.go.html#8196723">t</a></span><span class="op" id="8196879">.</span><span class="ident" id="8196880">Fatal</span><span class="op" id="8196885">(</span><span class="string" id="8196886">&#34;Expecting&nbsp;abcd&#34;</span><span class="op" id="8196902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8196905">}</span><br>
<span class="lineno">495</span><span class="op" id="8196907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8196910">func</span>&nbsp;<span class="ident" id="8196915">TestUnquotedAttrs</span><span class="op" id="8196932">(</span><span class="ident" id="8196933">t</span>&nbsp;<span class="op" id="8196935">*</span><span class="ident" id="8196936"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8196943">.</span><span class="ident" id="8196944">T</span><span class="op" id="8196945">)</span>&nbsp;<span class="op" id="8196947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8196950">data</span>&nbsp;<span class="op" id="8196955">:=</span>&nbsp;<span class="string" id="8196958">&#34;&lt;tag&nbsp;attr=azAZ09:-_\t&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8196984">d</span>&nbsp;<span class="op" id="8196986">:=</span>&nbsp;<span class="ident" id="8196989"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8196999">(</span><span class="ident" id="8197000"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8197007">.</span><span class="ident" id="8197008">NewReader</span><span class="op" id="8197017">(</span><span class="ident" id="8197018"><a href="/encoding/xml/xml_test.go.html#8196950">data</a></span><span class="op" id="8197022">)</span><span class="op" id="8197023">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197026"><a href="/encoding/xml/xml_test.go.html#8196984">d</a></span><span class="op" id="8197027">.</span><span class="ident" id="8197028">Strict</span>&nbsp;<span class="op" id="8197035">=</span>&nbsp;<span class="builtintype" id="8197037">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197044">token</span><span class="op" id="8197049">,</span>&nbsp;<span class="ident" id="8197051">err</span>&nbsp;<span class="op" id="8197055">:=</span>&nbsp;<span class="ident" id="8197058"><a href="/encoding/xml/xml_test.go.html#8196984">d</a></span><span class="op" id="8197059">.</span><span class="ident" id="8197060">Token</span><span class="op" id="8197065">(</span><span class="op" id="8197066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8197069">if</span>&nbsp;<span class="ident" id="8197072">_</span><span class="op" id="8197073">,</span>&nbsp;<span class="ident" id="8197075">ok</span>&nbsp;<span class="op" id="8197078">:=</span>&nbsp;<span class="ident" id="8197081"><a href="/encoding/xml/xml_test.go.html#8197051">err</a></span><span class="op" id="8197084">.</span><span class="op" id="8197085">(</span><span class="op" id="8197086">*</span><span class="ident" id="8197087"><a href="/encoding/xml/xml.go.html#4968449">SyntaxError</a></span><span class="op" id="8197098">)</span><span class="op" id="8197099">;</span>&nbsp;<span class="ident" id="8197101"><a href="/encoding/xml/xml_test.go.html#8197075">ok</a></span>&nbsp;<span class="op" id="8197104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197108"><a href="/encoding/xml/xml_test.go.html#8196933">t</a></span><span class="op" id="8197109">.</span><span class="ident" id="8197110">Errorf</span><span class="op" id="8197116">(</span><span class="string" id="8197117">&#34;Unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8197139">,</span>&nbsp;<span class="ident" id="8197141"><a href="/encoding/xml/xml_test.go.html#8197051">err</a></span><span class="op" id="8197144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197147">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8197150">if</span>&nbsp;<span class="ident" id="8197153"><a href="/encoding/xml/xml_test.go.html#8197044">token</a></span><span class="op" id="8197158">.</span><span class="op" id="8197159">(</span><span class="ident" id="8197160"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8197172">)</span><span class="op" id="8197173">.</span><span class="ident" id="8197174">Name</span><span class="op" id="8197178">.</span><span class="ident" id="8197179">Local</span>&nbsp;<span class="op" id="8197185">!=</span>&nbsp;<span class="string" id="8197188">&#34;tag&#34;</span>&nbsp;<span class="op" id="8197194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197198"><a href="/encoding/xml/xml_test.go.html#8196933">t</a></span><span class="op" id="8197199">.</span><span class="ident" id="8197200">Errorf</span><span class="op" id="8197206">(</span><span class="string" id="8197207">&#34;Unexpected&nbsp;tag&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="8197232">,</span>&nbsp;<span class="ident" id="8197234"><a href="/encoding/xml/xml_test.go.html#8197044">token</a></span><span class="op" id="8197239">.</span><span class="op" id="8197240">(</span><span class="ident" id="8197241"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8197253">)</span><span class="op" id="8197254">.</span><span class="ident" id="8197255">Name</span><span class="op" id="8197259">.</span><span class="ident" id="8197260">Local</span><span class="op" id="8197265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197271">attr</span>&nbsp;<span class="op" id="8197276">:=</span>&nbsp;<span class="ident" id="8197279"><a href="/encoding/xml/xml_test.go.html#8197044">token</a></span><span class="op" id="8197284">.</span><span class="op" id="8197285">(</span><span class="ident" id="8197286"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8197298">)</span><span class="op" id="8197299">.</span><span class="ident" id="8197300">Attr</span><span class="op" id="8197304">[</span><span class="num" id="8197305">0</span><span class="op" id="8197306">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8197309">if</span>&nbsp;<span class="ident" id="8197312"><a href="/encoding/xml/xml_test.go.html#8197271">attr</a></span><span class="op" id="8197316">.</span><span class="ident" id="8197317">Value</span>&nbsp;<span class="op" id="8197323">!=</span>&nbsp;<span class="string" id="8197326">&#34;azAZ09:-_&#34;</span>&nbsp;<span class="op" id="8197338">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197342"><a href="/encoding/xml/xml_test.go.html#8196933">t</a></span><span class="op" id="8197343">.</span><span class="ident" id="8197344">Errorf</span><span class="op" id="8197350">(</span><span class="string" id="8197351">&#34;Unexpected&nbsp;attribute&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="8197383">,</span>&nbsp;<span class="ident" id="8197385"><a href="/encoding/xml/xml_test.go.html#8197271">attr</a></span><span class="op" id="8197389">.</span><span class="ident" id="8197390">Value</span><span class="op" id="8197395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8197401">if</span>&nbsp;<span class="ident" id="8197404"><a href="/encoding/xml/xml_test.go.html#8197271">attr</a></span><span class="op" id="8197408">.</span><span class="ident" id="8197409">Name</span><span class="op" id="8197413">.</span><span class="ident" id="8197414">Local</span>&nbsp;<span class="op" id="8197420">!=</span>&nbsp;<span class="string" id="8197423">&#34;attr&#34;</span>&nbsp;<span class="op" id="8197430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197434"><a href="/encoding/xml/xml_test.go.html#8196933">t</a></span><span class="op" id="8197435">.</span><span class="ident" id="8197436">Errorf</span><span class="op" id="8197442">(</span><span class="string" id="8197443">&#34;Unexpected&nbsp;attribute&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="8197474">,</span>&nbsp;<span class="ident" id="8197476"><a href="/encoding/xml/xml_test.go.html#8197271">attr</a></span><span class="op" id="8197480">.</span><span class="ident" id="8197481">Name</span><span class="op" id="8197485">.</span><span class="ident" id="8197486">Local</span><span class="op" id="8197491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197494">}</span><br>
<span class="lineno">515</span><span class="op" id="8197496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8197499">func</span>&nbsp;<span class="ident" id="8197504">TestValuelessAttrs</span><span class="op" id="8197522">(</span><span class="ident" id="8197523">t</span>&nbsp;<span class="op" id="8197525">*</span><span class="ident" id="8197526"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8197533">.</span><span class="ident" id="8197534">T</span><span class="op" id="8197535">)</span>&nbsp;<span class="op" id="8197537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197540">tests</span>&nbsp;<span class="op" id="8197546">:=</span>&nbsp;<span class="op" id="8197549">[</span><span class="op" id="8197550">]</span><span class="op" id="8197551">[</span><span class="num" id="8197552">3</span><span class="op" id="8197553">]</span><span class="builtintype" id="8197554">string</span><span class="op" id="8197560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197564">{</span><span class="string" id="8197565">&#34;&lt;p&nbsp;nowrap&gt;&#34;</span><span class="op" id="8197577">,</span>&nbsp;<span class="string" id="8197579">&#34;p&#34;</span><span class="op" id="8197582">,</span>&nbsp;<span class="string" id="8197584">&#34;nowrap&#34;</span><span class="op" id="8197592">}</span><span class="op" id="8197593">,</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197597">{</span><span class="string" id="8197598">&#34;&lt;p&nbsp;nowrap&nbsp;&gt;&#34;</span><span class="op" id="8197611">,</span>&nbsp;<span class="string" id="8197613">&#34;p&#34;</span><span class="op" id="8197616">,</span>&nbsp;<span class="string" id="8197618">&#34;nowrap&#34;</span><span class="op" id="8197626">}</span><span class="op" id="8197627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197631">{</span><span class="string" id="8197632">&#34;&lt;input&nbsp;checked/&gt;&#34;</span><span class="op" id="8197650">,</span>&nbsp;<span class="string" id="8197652">&#34;input&#34;</span><span class="op" id="8197659">,</span>&nbsp;<span class="string" id="8197661">&#34;checked&#34;</span><span class="op" id="8197670">}</span><span class="op" id="8197671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197675">{</span><span class="string" id="8197676">&#34;&lt;input&nbsp;checked&nbsp;/&gt;&#34;</span><span class="op" id="8197695">,</span>&nbsp;<span class="string" id="8197697">&#34;input&#34;</span><span class="op" id="8197704">,</span>&nbsp;<span class="string" id="8197706">&#34;checked&#34;</span><span class="op" id="8197715">}</span><span class="op" id="8197716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8197722">for</span>&nbsp;<span class="ident" id="8197726">_</span><span class="op" id="8197727">,</span>&nbsp;<span class="ident" id="8197729">test</span>&nbsp;<span class="op" id="8197734">:=</span>&nbsp;<span class="keyword" id="8197737">range</span>&nbsp;<span class="ident" id="8197743"><a href="/encoding/xml/xml_test.go.html#8197540">tests</a></span>&nbsp;<span class="op" id="8197749">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197753">d</span>&nbsp;<span class="op" id="8197755">:=</span>&nbsp;<span class="ident" id="8197758"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8197768">(</span><span class="ident" id="8197769"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8197776">.</span><span class="ident" id="8197777">NewReader</span><span class="op" id="8197786">(</span><span class="ident" id="8197787"><a href="/encoding/xml/xml_test.go.html#8197729">test</a></span><span class="op" id="8197791">[</span><span class="num" id="8197792">0</span><span class="op" id="8197793">]</span><span class="op" id="8197794">)</span><span class="op" id="8197795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197799"><a href="/encoding/xml/xml_test.go.html#8197753">d</a></span><span class="op" id="8197800">.</span><span class="ident" id="8197801">Strict</span>&nbsp;<span class="op" id="8197808">=</span>&nbsp;<span class="builtintype" id="8197810">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197818">token</span><span class="op" id="8197823">,</span>&nbsp;<span class="ident" id="8197825">err</span>&nbsp;<span class="op" id="8197829">:=</span>&nbsp;<span class="ident" id="8197832"><a href="/encoding/xml/xml_test.go.html#8197753">d</a></span><span class="op" id="8197833">.</span><span class="ident" id="8197834">Token</span><span class="op" id="8197839">(</span><span class="op" id="8197840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8197844">if</span>&nbsp;<span class="ident" id="8197847">_</span><span class="op" id="8197848">,</span>&nbsp;<span class="ident" id="8197850">ok</span>&nbsp;<span class="op" id="8197853">:=</span>&nbsp;<span class="ident" id="8197856"><a href="/encoding/xml/xml_test.go.html#8197825">err</a></span><span class="op" id="8197859">.</span><span class="op" id="8197860">(</span><span class="op" id="8197861">*</span><span class="ident" id="8197862"><a href="/encoding/xml/xml.go.html#4968449">SyntaxError</a></span><span class="op" id="8197873">)</span><span class="op" id="8197874">;</span>&nbsp;<span class="ident" id="8197876"><a href="/encoding/xml/xml_test.go.html#8197850">ok</a></span>&nbsp;<span class="op" id="8197879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197884"><a href="/encoding/xml/xml_test.go.html#8197523">t</a></span><span class="op" id="8197885">.</span><span class="ident" id="8197886">Errorf</span><span class="op" id="8197892">(</span><span class="string" id="8197893">&#34;Unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8197915">,</span>&nbsp;<span class="ident" id="8197917"><a href="/encoding/xml/xml_test.go.html#8197825">err</a></span><span class="op" id="8197920">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8197924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8197928">if</span>&nbsp;<span class="ident" id="8197931"><a href="/encoding/xml/xml_test.go.html#8197818">token</a></span><span class="op" id="8197936">.</span><span class="op" id="8197937">(</span><span class="ident" id="8197938"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8197950">)</span><span class="op" id="8197951">.</span><span class="ident" id="8197952">Name</span><span class="op" id="8197956">.</span><span class="ident" id="8197957">Local</span>&nbsp;<span class="op" id="8197963">!=</span>&nbsp;<span class="ident" id="8197966"><a href="/encoding/xml/xml_test.go.html#8197729">test</a></span><span class="op" id="8197970">[</span><span class="num" id="8197971">1</span><span class="op" id="8197972">]</span>&nbsp;<span class="op" id="8197974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8197979"><a href="/encoding/xml/xml_test.go.html#8197523">t</a></span><span class="op" id="8197980">.</span><span class="ident" id="8197981">Errorf</span><span class="op" id="8197987">(</span><span class="string" id="8197988">&#34;Unexpected&nbsp;tag&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="8198013">,</span>&nbsp;<span class="ident" id="8198015"><a href="/encoding/xml/xml_test.go.html#8197818">token</a></span><span class="op" id="8198020">.</span><span class="op" id="8198021">(</span><span class="ident" id="8198022"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8198034">)</span><span class="op" id="8198035">.</span><span class="ident" id="8198036">Name</span><span class="op" id="8198040">.</span><span class="ident" id="8198041">Local</span><span class="op" id="8198046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198054">attr</span>&nbsp;<span class="op" id="8198059">:=</span>&nbsp;<span class="ident" id="8198062"><a href="/encoding/xml/xml_test.go.html#8197818">token</a></span><span class="op" id="8198067">.</span><span class="op" id="8198068">(</span><span class="ident" id="8198069"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8198081">)</span><span class="op" id="8198082">.</span><span class="ident" id="8198083">Attr</span><span class="op" id="8198087">[</span><span class="num" id="8198088">0</span><span class="op" id="8198089">]</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8198093">if</span>&nbsp;<span class="ident" id="8198096"><a href="/encoding/xml/xml_test.go.html#8198054">attr</a></span><span class="op" id="8198100">.</span><span class="ident" id="8198101">Value</span>&nbsp;<span class="op" id="8198107">!=</span>&nbsp;<span class="ident" id="8198110"><a href="/encoding/xml/xml_test.go.html#8197729">test</a></span><span class="op" id="8198114">[</span><span class="num" id="8198115">2</span><span class="op" id="8198116">]</span>&nbsp;<span class="op" id="8198118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198123"><a href="/encoding/xml/xml_test.go.html#8197523">t</a></span><span class="op" id="8198124">.</span><span class="ident" id="8198125">Errorf</span><span class="op" id="8198131">(</span><span class="string" id="8198132">&#34;Unexpected&nbsp;attribute&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="8198164">,</span>&nbsp;<span class="ident" id="8198166"><a href="/encoding/xml/xml_test.go.html#8198054">attr</a></span><span class="op" id="8198170">.</span><span class="ident" id="8198171">Value</span><span class="op" id="8198176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8198184">if</span>&nbsp;<span class="ident" id="8198187"><a href="/encoding/xml/xml_test.go.html#8198054">attr</a></span><span class="op" id="8198191">.</span><span class="ident" id="8198192">Name</span><span class="op" id="8198196">.</span><span class="ident" id="8198197">Local</span>&nbsp;<span class="op" id="8198203">!=</span>&nbsp;<span class="ident" id="8198206"><a href="/encoding/xml/xml_test.go.html#8197729">test</a></span><span class="op" id="8198210">[</span><span class="num" id="8198211">2</span><span class="op" id="8198212">]</span>&nbsp;<span class="op" id="8198214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198219"><a href="/encoding/xml/xml_test.go.html#8197523">t</a></span><span class="op" id="8198220">.</span><span class="ident" id="8198221">Errorf</span><span class="op" id="8198227">(</span><span class="string" id="8198228">&#34;Unexpected&nbsp;attribute&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="8198259">,</span>&nbsp;<span class="ident" id="8198261"><a href="/encoding/xml/xml_test.go.html#8198054">attr</a></span><span class="op" id="8198265">.</span><span class="ident" id="8198266">Name</span><span class="op" id="8198270">.</span><span class="ident" id="8198271">Local</span><span class="op" id="8198276">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198283">}</span><br>
<span class="lineno"></span><span class="op" id="8198285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8198288">func</span>&nbsp;<span class="ident" id="8198293">TestCopyTokenCharData</span><span class="op" id="8198314">(</span><span class="ident" id="8198315">t</span>&nbsp;<span class="op" id="8198317">*</span><span class="ident" id="8198318"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8198325">.</span><span class="ident" id="8198326">T</span><span class="op" id="8198327">)</span>&nbsp;<span class="op" id="8198329">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198332">data</span>&nbsp;<span class="op" id="8198337">:=</span>&nbsp;<span class="op" id="8198340">[</span><span class="op" id="8198341">]</span><span class="builtintype" id="8198342">byte</span><span class="op" id="8198346">(</span><span class="string" id="8198347">&#34;same&nbsp;data&#34;</span><span class="op" id="8198358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8198361">var</span>&nbsp;<span class="ident" id="8198365">tok1</span>&nbsp;<span class="ident" id="8198370"><a href="/encoding/xml/xml.go.html#4969150">Token</a></span>&nbsp;<span class="op" id="8198376">=</span>&nbsp;<span class="ident" id="8198378"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8198386">(</span><span class="ident" id="8198387"><a href="/encoding/xml/xml_test.go.html#8198332">data</a></span><span class="op" id="8198391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198394">tok2</span>&nbsp;<span class="op" id="8198399">:=</span>&nbsp;<span class="ident" id="8198402"><a href="/encoding/xml/xml.go.html#4970618">CopyToken</a></span><span class="op" id="8198411">(</span><span class="ident" id="8198412"><a href="/encoding/xml/xml_test.go.html#8198365">tok1</a></span><span class="op" id="8198416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8198419">if</span>&nbsp;<span class="op" id="8198422">!</span><span class="ident" id="8198423"><a href="/encoding/xml/xml_test.go.html#8184702">reflect</a></span><span class="op" id="8198430">.</span><span class="ident" id="8198431">DeepEqual</span><span class="op" id="8198440">(</span><span class="ident" id="8198441"><a href="/encoding/xml/xml_test.go.html#8198365">tok1</a></span><span class="op" id="8198445">,</span>&nbsp;<span class="ident" id="8198447"><a href="/encoding/xml/xml_test.go.html#8198394">tok2</a></span><span class="op" id="8198451">)</span>&nbsp;<span class="op" id="8198453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198457"><a href="/encoding/xml/xml_test.go.html#8198315">t</a></span><span class="op" id="8198458">.</span><span class="ident" id="8198459">Error</span><span class="op" id="8198464">(</span><span class="string" id="8198465">&#34;CopyToken(CharData)&nbsp;!=&nbsp;CharData&#34;</span><span class="op" id="8198498">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198504"><a href="/encoding/xml/xml_test.go.html#8198332">data</a></span><span class="op" id="8198508">[</span><span class="num" id="8198509">1</span><span class="op" id="8198510">]</span>&nbsp;<span class="op" id="8198512">=</span>&nbsp;<span class="string" id="8198514">&#39;o&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8198519">if</span>&nbsp;<span class="ident" id="8198522"><a href="/encoding/xml/xml_test.go.html#8184702">reflect</a></span><span class="op" id="8198529">.</span><span class="ident" id="8198530">DeepEqual</span><span class="op" id="8198539">(</span><span class="ident" id="8198540"><a href="/encoding/xml/xml_test.go.html#8198365">tok1</a></span><span class="op" id="8198544">,</span>&nbsp;<span class="ident" id="8198546"><a href="/encoding/xml/xml_test.go.html#8198394">tok2</a></span><span class="op" id="8198550">)</span>&nbsp;<span class="op" id="8198552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198556"><a href="/encoding/xml/xml_test.go.html#8198315">t</a></span><span class="op" id="8198557">.</span><span class="ident" id="8198558">Error</span><span class="op" id="8198563">(</span><span class="string" id="8198564">&#34;CopyToken(CharData)&nbsp;uses&nbsp;same&nbsp;buffer.&#34;</span><span class="op" id="8198603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198606">}</span><br>
<span class="lineno">555</span><span class="op" id="8198608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8198611">func</span>&nbsp;<span class="ident" id="8198616">TestCopyTokenStartElement</span><span class="op" id="8198641">(</span><span class="ident" id="8198642">t</span>&nbsp;<span class="op" id="8198644">*</span><span class="ident" id="8198645"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8198652">.</span><span class="ident" id="8198653">T</span><span class="op" id="8198654">)</span>&nbsp;<span class="op" id="8198656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198659">elt</span>&nbsp;<span class="op" id="8198663">:=</span>&nbsp;<span class="ident" id="8198666"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8198678">{</span><span class="ident" id="8198679"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8198683">{</span><span class="string" id="8198684">&#34;&#34;</span><span class="op" id="8198686">,</span>&nbsp;<span class="string" id="8198688">&#34;hello&#34;</span><span class="op" id="8198695">}</span><span class="op" id="8198696">,</span>&nbsp;<span class="op" id="8198698">[</span><span class="op" id="8198699">]</span><span class="ident" id="8198700"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8198704">{</span><span class="op" id="8198705">{</span><span class="ident" id="8198706"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8198710">{</span><span class="string" id="8198711">&#34;&#34;</span><span class="op" id="8198713">,</span>&nbsp;<span class="string" id="8198715">&#34;lang&#34;</span><span class="op" id="8198721">}</span><span class="op" id="8198722">,</span>&nbsp;<span class="string" id="8198724">&#34;en&#34;</span><span class="op" id="8198728">}</span><span class="op" id="8198729">}</span><span class="op" id="8198730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8198733">var</span>&nbsp;<span class="ident" id="8198737">tok1</span>&nbsp;<span class="ident" id="8198742"><a href="/encoding/xml/xml.go.html#4969150">Token</a></span>&nbsp;<span class="op" id="8198748">=</span>&nbsp;<span class="ident" id="8198750"><a href="/encoding/xml/xml_test.go.html#8198659">elt</a></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198755">tok2</span>&nbsp;<span class="op" id="8198760">:=</span>&nbsp;<span class="ident" id="8198763"><a href="/encoding/xml/xml.go.html#4970618">CopyToken</a></span><span class="op" id="8198772">(</span><span class="ident" id="8198773"><a href="/encoding/xml/xml_test.go.html#8198737">tok1</a></span><span class="op" id="8198777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8198780">if</span>&nbsp;<span class="ident" id="8198783"><a href="/encoding/xml/xml_test.go.html#8198737">tok1</a></span><span class="op" id="8198787">.</span><span class="op" id="8198788">(</span><span class="ident" id="8198789"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8198801">)</span><span class="op" id="8198802">.</span><span class="ident" id="8198803">Attr</span><span class="op" id="8198807">[</span><span class="num" id="8198808">0</span><span class="op" id="8198809">]</span><span class="op" id="8198810">.</span><span class="ident" id="8198811">Value</span>&nbsp;<span class="op" id="8198817">!=</span>&nbsp;<span class="string" id="8198820">&#34;en&#34;</span>&nbsp;<span class="op" id="8198825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198829"><a href="/encoding/xml/xml_test.go.html#8198642">t</a></span><span class="op" id="8198830">.</span><span class="ident" id="8198831">Error</span><span class="op" id="8198836">(</span><span class="string" id="8198837">&#34;CopyToken&nbsp;overwrote&nbsp;Attr[0]&#34;</span><span class="op" id="8198866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8198872">if</span>&nbsp;<span class="op" id="8198875">!</span><span class="ident" id="8198876"><a href="/encoding/xml/xml_test.go.html#8184702">reflect</a></span><span class="op" id="8198883">.</span><span class="ident" id="8198884">DeepEqual</span><span class="op" id="8198893">(</span><span class="ident" id="8198894"><a href="/encoding/xml/xml_test.go.html#8198737">tok1</a></span><span class="op" id="8198898">,</span>&nbsp;<span class="ident" id="8198900"><a href="/encoding/xml/xml_test.go.html#8198755">tok2</a></span><span class="op" id="8198904">)</span>&nbsp;<span class="op" id="8198906">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198910"><a href="/encoding/xml/xml_test.go.html#8198642">t</a></span><span class="op" id="8198911">.</span><span class="ident" id="8198912">Error</span><span class="op" id="8198917">(</span><span class="string" id="8198918">&#34;CopyToken(StartElement)&nbsp;!=&nbsp;StartElement&#34;</span><span class="op" id="8198959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8198962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8198965"><a href="/encoding/xml/xml_test.go.html#8198737">tok1</a></span><span class="op" id="8198969">.</span><span class="op" id="8198970">(</span><span class="ident" id="8198971"><a href="/encoding/xml/xml.go.html#4969225">StartElement</a></span><span class="op" id="8198983">)</span><span class="op" id="8198984">.</span><span class="ident" id="8198985">Attr</span><span class="op" id="8198989">[</span><span class="num" id="8198990">0</span><span class="op" id="8198991">]</span>&nbsp;<span class="op" id="8198993">=</span>&nbsp;<span class="ident" id="8198995"><a href="/encoding/xml/xml.go.html#4968971">Attr</a></span><span class="op" id="8198999">{</span><span class="ident" id="8199000"><a href="/encoding/xml/xml.go.html#4968861">Name</a></span><span class="op" id="8199004">{</span><span class="string" id="8199005">&#34;&#34;</span><span class="op" id="8199007">,</span>&nbsp;<span class="string" id="8199009">&#34;lang&#34;</span><span class="op" id="8199015">}</span><span class="op" id="8199016">,</span>&nbsp;<span class="string" id="8199018">&#34;de&#34;</span><span class="op" id="8199022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199025">if</span>&nbsp;<span class="ident" id="8199028"><a href="/encoding/xml/xml_test.go.html#8184702">reflect</a></span><span class="op" id="8199035">.</span><span class="ident" id="8199036">DeepEqual</span><span class="op" id="8199045">(</span><span class="ident" id="8199046"><a href="/encoding/xml/xml_test.go.html#8198737">tok1</a></span><span class="op" id="8199050">,</span>&nbsp;<span class="ident" id="8199052"><a href="/encoding/xml/xml_test.go.html#8198755">tok2</a></span><span class="op" id="8199056">)</span>&nbsp;<span class="op" id="8199058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199062"><a href="/encoding/xml/xml_test.go.html#8198642">t</a></span><span class="op" id="8199063">.</span><span class="ident" id="8199064">Error</span><span class="op" id="8199069">(</span><span class="string" id="8199070">&#34;CopyToken(CharData)&nbsp;uses&nbsp;same&nbsp;buffer.&#34;</span><span class="op" id="8199109">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199112">}</span><br>
<span class="lineno"></span><span class="op" id="8199114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8199117">func</span>&nbsp;<span class="ident" id="8199122">TestSyntaxErrorLineNum</span><span class="op" id="8199144">(</span><span class="ident" id="8199145">t</span>&nbsp;<span class="op" id="8199147">*</span><span class="ident" id="8199148"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8199155">.</span><span class="ident" id="8199156">T</span><span class="op" id="8199157">)</span>&nbsp;<span class="op" id="8199159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199162">testInput</span>&nbsp;<span class="op" id="8199172">:=</span>&nbsp;<span class="string" id="8199175">&#34;&lt;P&gt;Foo&lt;P&gt;\n\n&lt;P&gt;Bar&lt;/&gt;\n&#34;</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199203">d</span>&nbsp;<span class="op" id="8199205">:=</span>&nbsp;<span class="ident" id="8199208"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8199218">(</span><span class="ident" id="8199219"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8199226">.</span><span class="ident" id="8199227">NewReader</span><span class="op" id="8199236">(</span><span class="ident" id="8199237"><a href="/encoding/xml/xml_test.go.html#8199162">testInput</a></span><span class="op" id="8199246">)</span><span class="op" id="8199247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199250">var</span>&nbsp;<span class="ident" id="8199254">err</span>&nbsp;<span class="builtintype" id="8199258">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199265">for</span>&nbsp;<span class="ident" id="8199269">_</span><span class="op" id="8199270">,</span>&nbsp;<span class="ident" id="8199272"><a href="/encoding/xml/xml_test.go.html#8199254">err</a></span>&nbsp;<span class="op" id="8199276">=</span>&nbsp;<span class="ident" id="8199278"><a href="/encoding/xml/xml_test.go.html#8199203">d</a></span><span class="op" id="8199279">.</span><span class="ident" id="8199280">Token</span><span class="op" id="8199285">(</span><span class="op" id="8199286">)</span><span class="op" id="8199287">;</span>&nbsp;<span class="ident" id="8199289"><a href="/encoding/xml/xml_test.go.html#8199254">err</a></span>&nbsp;<span class="op" id="8199293">==</span>&nbsp;<span class="ident" id="8199296">nil</span><span class="op" id="8199299">;</span>&nbsp;<span class="ident" id="8199301">_</span><span class="op" id="8199302">,</span>&nbsp;<span class="ident" id="8199304"><a href="/encoding/xml/xml_test.go.html#8199254">err</a></span>&nbsp;<span class="op" id="8199308">=</span>&nbsp;<span class="ident" id="8199310"><a href="/encoding/xml/xml_test.go.html#8199203">d</a></span><span class="op" id="8199311">.</span><span class="ident" id="8199312">Token</span><span class="op" id="8199317">(</span><span class="op" id="8199318">)</span>&nbsp;<span class="op" id="8199320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199326">synerr</span><span class="op" id="8199332">,</span>&nbsp;<span class="ident" id="8199334">ok</span>&nbsp;<span class="op" id="8199337">:=</span>&nbsp;<span class="ident" id="8199340"><a href="/encoding/xml/xml_test.go.html#8199254">err</a></span><span class="op" id="8199343">.</span><span class="op" id="8199344">(</span><span class="op" id="8199345">*</span><span class="ident" id="8199346"><a href="/encoding/xml/xml.go.html#4968449">SyntaxError</a></span><span class="op" id="8199357">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199360">if</span>&nbsp;<span class="op" id="8199363">!</span><span class="ident" id="8199364"><a href="/encoding/xml/xml_test.go.html#8199334">ok</a></span>&nbsp;<span class="op" id="8199367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199371"><a href="/encoding/xml/xml_test.go.html#8199145">t</a></span><span class="op" id="8199372">.</span><span class="ident" id="8199373">Error</span><span class="op" id="8199378">(</span><span class="string" id="8199379">&#34;Expected&nbsp;SyntaxError.&#34;</span><span class="op" id="8199402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199408">if</span>&nbsp;<span class="ident" id="8199411"><a href="/encoding/xml/xml_test.go.html#8199326">synerr</a></span><span class="op" id="8199417">.</span><span class="ident" id="8199418">Line</span>&nbsp;<span class="op" id="8199423">!=</span>&nbsp;<span class="num" id="8199426">3</span>&nbsp;<span class="op" id="8199428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199432"><a href="/encoding/xml/xml_test.go.html#8199145">t</a></span><span class="op" id="8199433">.</span><span class="ident" id="8199434">Error</span><span class="op" id="8199439">(</span><span class="string" id="8199440">&#34;SyntaxError&nbsp;didn&#39;t&nbsp;have&nbsp;correct&nbsp;line&nbsp;number.&#34;</span><span class="op" id="8199486">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199489">}</span><br>
<span class="lineno"></span><span class="op" id="8199491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8199494">func</span>&nbsp;<span class="ident" id="8199499">TestTrailingRawToken</span><span class="op" id="8199519">(</span><span class="ident" id="8199520">t</span>&nbsp;<span class="op" id="8199522">*</span><span class="ident" id="8199523"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8199530">.</span><span class="ident" id="8199531">T</span><span class="op" id="8199532">)</span>&nbsp;<span class="op" id="8199534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199537">input</span>&nbsp;<span class="op" id="8199543">:=</span>&nbsp;<span class="string" id="8199546">`&lt;FOO&gt;&lt;/FOO&gt;&nbsp;&nbsp;`</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199563">d</span>&nbsp;<span class="op" id="8199565">:=</span>&nbsp;<span class="ident" id="8199568"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8199578">(</span><span class="ident" id="8199579"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8199586">.</span><span class="ident" id="8199587">NewReader</span><span class="op" id="8199596">(</span><span class="ident" id="8199597"><a href="/encoding/xml/xml_test.go.html#8199537">input</a></span><span class="op" id="8199602">)</span><span class="op" id="8199603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199606">var</span>&nbsp;<span class="ident" id="8199610">err</span>&nbsp;<span class="builtintype" id="8199614">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199621">for</span>&nbsp;<span class="ident" id="8199625">_</span><span class="op" id="8199626">,</span>&nbsp;<span class="ident" id="8199628"><a href="/encoding/xml/xml_test.go.html#8199610">err</a></span>&nbsp;<span class="op" id="8199632">=</span>&nbsp;<span class="ident" id="8199634"><a href="/encoding/xml/xml_test.go.html#8199563">d</a></span><span class="op" id="8199635">.</span><span class="ident" id="8199636">RawToken</span><span class="op" id="8199644">(</span><span class="op" id="8199645">)</span><span class="op" id="8199646">;</span>&nbsp;<span class="ident" id="8199648"><a href="/encoding/xml/xml_test.go.html#8199610">err</a></span>&nbsp;<span class="op" id="8199652">==</span>&nbsp;<span class="ident" id="8199655">nil</span><span class="op" id="8199658">;</span>&nbsp;<span class="ident" id="8199660">_</span><span class="op" id="8199661">,</span>&nbsp;<span class="ident" id="8199663"><a href="/encoding/xml/xml_test.go.html#8199610">err</a></span>&nbsp;<span class="op" id="8199667">=</span>&nbsp;<span class="ident" id="8199669"><a href="/encoding/xml/xml_test.go.html#8199563">d</a></span><span class="op" id="8199670">.</span><span class="ident" id="8199671">RawToken</span><span class="op" id="8199679">(</span><span class="op" id="8199680">)</span>&nbsp;<span class="op" id="8199682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199688">if</span>&nbsp;<span class="ident" id="8199691"><a href="/encoding/xml/xml_test.go.html#8199610">err</a></span>&nbsp;<span class="op" id="8199695">!=</span>&nbsp;<span class="ident" id="8199698"><a href="/encoding/xml/xml_test.go.html#8184696">io</a></span><span class="op" id="8199700">.</span><span class="ident" id="8199701">EOF</span>&nbsp;<span class="op" id="8199705">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199709"><a href="/encoding/xml/xml_test.go.html#8199520">t</a></span><span class="op" id="8199710">.</span><span class="ident" id="8199711">Fatalf</span><span class="op" id="8199717">(</span><span class="string" id="8199718">&#34;d.RawToken()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;io.EOF&#34;</span><span class="op" id="8199756">,</span>&nbsp;<span class="ident" id="8199758"><a href="/encoding/xml/xml_test.go.html#8199610">err</a></span><span class="op" id="8199761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199764">}</span><br>
<span class="lineno"></span><span class="op" id="8199766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8199769">func</span>&nbsp;<span class="ident" id="8199774">TestTrailingToken</span><span class="op" id="8199791">(</span><span class="ident" id="8199792">t</span>&nbsp;<span class="op" id="8199794">*</span><span class="ident" id="8199795"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8199802">.</span><span class="ident" id="8199803">T</span><span class="op" id="8199804">)</span>&nbsp;<span class="op" id="8199806">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199809">input</span>&nbsp;<span class="op" id="8199815">:=</span>&nbsp;<span class="string" id="8199818">`&lt;FOO&gt;&lt;/FOO&gt;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199835">d</span>&nbsp;<span class="op" id="8199837">:=</span>&nbsp;<span class="ident" id="8199840"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8199850">(</span><span class="ident" id="8199851"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8199858">.</span><span class="ident" id="8199859">NewReader</span><span class="op" id="8199868">(</span><span class="ident" id="8199869"><a href="/encoding/xml/xml_test.go.html#8199809">input</a></span><span class="op" id="8199874">)</span><span class="op" id="8199875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199878">var</span>&nbsp;<span class="ident" id="8199882">err</span>&nbsp;<span class="builtintype" id="8199886">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199893">for</span>&nbsp;<span class="ident" id="8199897">_</span><span class="op" id="8199898">,</span>&nbsp;<span class="ident" id="8199900"><a href="/encoding/xml/xml_test.go.html#8199882">err</a></span>&nbsp;<span class="op" id="8199904">=</span>&nbsp;<span class="ident" id="8199906"><a href="/encoding/xml/xml_test.go.html#8199835">d</a></span><span class="op" id="8199907">.</span><span class="ident" id="8199908">Token</span><span class="op" id="8199913">(</span><span class="op" id="8199914">)</span><span class="op" id="8199915">;</span>&nbsp;<span class="ident" id="8199917"><a href="/encoding/xml/xml_test.go.html#8199882">err</a></span>&nbsp;<span class="op" id="8199921">==</span>&nbsp;<span class="ident" id="8199924">nil</span><span class="op" id="8199927">;</span>&nbsp;<span class="ident" id="8199929">_</span><span class="op" id="8199930">,</span>&nbsp;<span class="ident" id="8199932"><a href="/encoding/xml/xml_test.go.html#8199882">err</a></span>&nbsp;<span class="op" id="8199936">=</span>&nbsp;<span class="ident" id="8199938"><a href="/encoding/xml/xml_test.go.html#8199835">d</a></span><span class="op" id="8199939">.</span><span class="ident" id="8199940">Token</span><span class="op" id="8199945">(</span><span class="op" id="8199946">)</span>&nbsp;<span class="op" id="8199948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8199951">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8199954">if</span>&nbsp;<span class="ident" id="8199957"><a href="/encoding/xml/xml_test.go.html#8199882">err</a></span>&nbsp;<span class="op" id="8199961">!=</span>&nbsp;<span class="ident" id="8199964"><a href="/encoding/xml/xml_test.go.html#8184696">io</a></span><span class="op" id="8199966">.</span><span class="ident" id="8199967">EOF</span>&nbsp;<span class="op" id="8199971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8199975"><a href="/encoding/xml/xml_test.go.html#8199792">t</a></span><span class="op" id="8199976">.</span><span class="ident" id="8199977">Fatalf</span><span class="op" id="8199983">(</span><span class="string" id="8199984">&#34;d.Token()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;io.EOF&#34;</span><span class="op" id="8200019">,</span>&nbsp;<span class="ident" id="8200021"><a href="/encoding/xml/xml_test.go.html#8199882">err</a></span><span class="op" id="8200024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200027">}</span><br>
<span class="lineno"></span><span class="op" id="8200029">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span><span class="keyword" id="8200032">func</span>&nbsp;<span class="ident" id="8200037">TestEntityInsideCDATA</span><span class="op" id="8200058">(</span><span class="ident" id="8200059">t</span>&nbsp;<span class="op" id="8200061">*</span><span class="ident" id="8200062"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8200069">.</span><span class="ident" id="8200070">T</span><span class="op" id="8200071">)</span>&nbsp;<span class="op" id="8200073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200076">input</span>&nbsp;<span class="op" id="8200082">:=</span>&nbsp;<span class="string" id="8200085">`&lt;test&gt;&lt;![CDATA[&nbsp;&amp;val=foo&nbsp;]]&gt;&lt;/test&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200124">d</span>&nbsp;<span class="op" id="8200126">:=</span>&nbsp;<span class="ident" id="8200129"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8200139">(</span><span class="ident" id="8200140"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8200147">.</span><span class="ident" id="8200148">NewReader</span><span class="op" id="8200157">(</span><span class="ident" id="8200158"><a href="/encoding/xml/xml_test.go.html#8200076">input</a></span><span class="op" id="8200163">)</span><span class="op" id="8200164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200167">var</span>&nbsp;<span class="ident" id="8200171">err</span>&nbsp;<span class="builtintype" id="8200175">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200182">for</span>&nbsp;<span class="ident" id="8200186">_</span><span class="op" id="8200187">,</span>&nbsp;<span class="ident" id="8200189"><a href="/encoding/xml/xml_test.go.html#8200171">err</a></span>&nbsp;<span class="op" id="8200193">=</span>&nbsp;<span class="ident" id="8200195"><a href="/encoding/xml/xml_test.go.html#8200124">d</a></span><span class="op" id="8200196">.</span><span class="ident" id="8200197">Token</span><span class="op" id="8200202">(</span><span class="op" id="8200203">)</span><span class="op" id="8200204">;</span>&nbsp;<span class="ident" id="8200206"><a href="/encoding/xml/xml_test.go.html#8200171">err</a></span>&nbsp;<span class="op" id="8200210">==</span>&nbsp;<span class="ident" id="8200213">nil</span><span class="op" id="8200216">;</span>&nbsp;<span class="ident" id="8200218">_</span><span class="op" id="8200219">,</span>&nbsp;<span class="ident" id="8200221"><a href="/encoding/xml/xml_test.go.html#8200171">err</a></span>&nbsp;<span class="op" id="8200225">=</span>&nbsp;<span class="ident" id="8200227"><a href="/encoding/xml/xml_test.go.html#8200124">d</a></span><span class="op" id="8200228">.</span><span class="ident" id="8200229">Token</span><span class="op" id="8200234">(</span><span class="op" id="8200235">)</span>&nbsp;<span class="op" id="8200237">{</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8200243">if</span>&nbsp;<span class="ident" id="8200246"><a href="/encoding/xml/xml_test.go.html#8200171">err</a></span>&nbsp;<span class="op" id="8200250">!=</span>&nbsp;<span class="ident" id="8200253"><a href="/encoding/xml/xml_test.go.html#8184696">io</a></span><span class="op" id="8200255">.</span><span class="ident" id="8200256">EOF</span>&nbsp;<span class="op" id="8200260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200264"><a href="/encoding/xml/xml_test.go.html#8200059">t</a></span><span class="op" id="8200265">.</span><span class="ident" id="8200266">Fatalf</span><span class="op" id="8200272">(</span><span class="string" id="8200273">&#34;d.Token()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;io.EOF&#34;</span><span class="op" id="8200308">,</span>&nbsp;<span class="ident" id="8200310"><a href="/encoding/xml/xml_test.go.html#8200171">err</a></span><span class="op" id="8200313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200316">}</span><br>
<span class="lineno"></span><span class="op" id="8200318">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span><span class="keyword" id="8200321">var</span>&nbsp;<span class="ident" id="8200325">characterTests</span>&nbsp;<span class="op" id="8200340">=</span>&nbsp;<span class="op" id="8200342">[</span><span class="op" id="8200343">]</span><span class="keyword" id="8200344">struct</span>&nbsp;<span class="op" id="8200351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200354">in</span>&nbsp;&nbsp;<span class="builtintype" id="8200358">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8200366">err</span>&nbsp;<span class="builtintype" id="8200370">string</span><br>
<span class="lineno"></span><span class="op" id="8200377">}</span><span class="op" id="8200378">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200381">{</span><span class="string" id="8200382">&#34;\x12&lt;doc/&gt;&#34;</span><span class="op" id="8200394">,</span>&nbsp;<span class="string" id="8200396">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+0012&#34;</span><span class="op" id="8200427">}</span><span class="op" id="8200428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200431">{</span><span class="string" id="8200432">&#34;&lt;?xml&nbsp;version=\&#34;1.0\&#34;?&gt;\x0b&lt;doc/&gt;&#34;</span><span class="op" id="8200467">,</span>&nbsp;<span class="string" id="8200469">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+000B&#34;</span><span class="op" id="8200500">}</span><span class="op" id="8200501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200504">{</span><span class="string" id="8200505">&#34;\xef\xbf\xbe&lt;doc/&gt;&#34;</span><span class="op" id="8200525">,</span>&nbsp;<span class="string" id="8200527">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+FFFE&#34;</span><span class="op" id="8200558">}</span><span class="op" id="8200559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200562">{</span><span class="string" id="8200563">&#34;&lt;?xml&nbsp;version=\&#34;1.0\&#34;?&gt;&lt;doc&gt;\r\n&lt;hiya/&gt;\x07&lt;toots/&gt;&lt;/doc&gt;&#34;</span><span class="op" id="8200622">,</span>&nbsp;<span class="string" id="8200624">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+0007&#34;</span><span class="op" id="8200655">}</span><span class="op" id="8200656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200659">{</span><span class="string" id="8200660">&#34;&lt;?xml&nbsp;version=\&#34;1.0\&#34;?&gt;&lt;doc&nbsp;\x12=&#39;value&#39;&gt;what&#39;s&nbsp;up&lt;/doc&gt;&#34;</span><span class="op" id="8200718">,</span>&nbsp;<span class="string" id="8200720">&#34;expected&nbsp;attribute&nbsp;name&nbsp;in&nbsp;element&#34;</span><span class="op" id="8200756">}</span><span class="op" id="8200757">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200760">{</span><span class="string" id="8200761">&#34;&lt;doc&gt;&amp;abc\x01;&lt;/doc&gt;&#34;</span><span class="op" id="8200783">,</span>&nbsp;<span class="string" id="8200785">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;abc&nbsp;(no&nbsp;semicolon)&#34;</span><span class="op" id="8200831">}</span><span class="op" id="8200832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200835">{</span><span class="string" id="8200836">&#34;&lt;doc&gt;&amp;\x01;&lt;/doc&gt;&#34;</span><span class="op" id="8200855">,</span>&nbsp;<span class="string" id="8200857">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;&nbsp;(no&nbsp;semicolon)&#34;</span><span class="op" id="8200900">}</span><span class="op" id="8200901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200904">{</span><span class="string" id="8200905">&#34;&lt;doc&gt;&amp;\xef\xbf\xbe;&lt;/doc&gt;&#34;</span><span class="op" id="8200932">,</span>&nbsp;<span class="string" id="8200934">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;\uFFFE;&#34;</span><span class="op" id="8200969">}</span><span class="op" id="8200970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8200973">{</span><span class="string" id="8200974">&#34;&lt;doc&gt;&amp;hello;&lt;/doc&gt;&#34;</span><span class="op" id="8200994">,</span>&nbsp;<span class="string" id="8200996">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;hello;&#34;</span><span class="op" id="8201030">}</span><span class="op" id="8201031">,</span><br>
<span class="lineno"></span><span class="op" id="8201033">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span><span class="keyword" id="8201036">func</span>&nbsp;<span class="ident" id="8201041">TestDisallowedCharacters</span><span class="op" id="8201065">(</span><span class="ident" id="8201066">t</span>&nbsp;<span class="op" id="8201068">*</span><span class="ident" id="8201069"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8201076">.</span><span class="ident" id="8201077">T</span><span class="op" id="8201078">)</span>&nbsp;<span class="op" id="8201080">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8201084">for</span>&nbsp;<span class="ident" id="8201088">i</span><span class="op" id="8201089">,</span>&nbsp;<span class="ident" id="8201091">tt</span>&nbsp;<span class="op" id="8201094">:=</span>&nbsp;<span class="keyword" id="8201097">range</span>&nbsp;<span class="ident" id="8201103"><a href="/encoding/xml/xml_test.go.html#8200325">characterTests</a></span>&nbsp;<span class="op" id="8201118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8201122">d</span>&nbsp;<span class="op" id="8201124">:=</span>&nbsp;<span class="ident" id="8201127"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8201137">(</span><span class="ident" id="8201138"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8201145">.</span><span class="ident" id="8201146">NewReader</span><span class="op" id="8201155">(</span><span class="ident" id="8201156"><a href="/encoding/xml/xml_test.go.html#8201091">tt</a></span><span class="op" id="8201158">.</span><span class="ident" id="8201159">in</span><span class="op" id="8201161">)</span><span class="op" id="8201162">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8201166">var</span>&nbsp;<span class="ident" id="8201170">err</span>&nbsp;<span class="builtintype" id="8201174">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8201183">for</span>&nbsp;<span class="ident" id="8201187"><a href="/encoding/xml/xml_test.go.html#8201170">err</a></span>&nbsp;<span class="op" id="8201191">==</span>&nbsp;<span class="ident" id="8201194">nil</span>&nbsp;<span class="op" id="8201198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8201203">_</span><span class="op" id="8201204">,</span>&nbsp;<span class="ident" id="8201206"><a href="/encoding/xml/xml_test.go.html#8201170">err</a></span>&nbsp;<span class="op" id="8201210">=</span>&nbsp;<span class="ident" id="8201212"><a href="/encoding/xml/xml_test.go.html#8201122">d</a></span><span class="op" id="8201213">.</span><span class="ident" id="8201214">Token</span><span class="op" id="8201219">(</span><span class="op" id="8201220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8201224">}</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8201228">synerr</span><span class="op" id="8201234">,</span>&nbsp;<span class="ident" id="8201236">ok</span>&nbsp;<span class="op" id="8201239">:=</span>&nbsp;<span class="ident" id="8201242"><a href="/encoding/xml/xml_test.go.html#8201170">err</a></span><span class="op" id="8201245">.</span><span class="op" id="8201246">(</span><span class="op" id="8201247">*</span><span class="ident" id="8201248"><a href="/encoding/xml/xml.go.html#4968449">SyntaxError</a></span><span class="op" id="8201259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8201263">if</span>&nbsp;<span class="op" id="8201266">!</span><span class="ident" id="8201267"><a href="/encoding/xml/xml_test.go.html#8201236">ok</a></span>&nbsp;<span class="op" id="8201270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8201275"><a href="/encoding/xml/xml_test.go.html#8201066">t</a></span><span class="op" id="8201276">.</span><span class="ident" id="8201277">Fatalf</span><span class="op" id="8201283">(</span><span class="string" id="8201284">&#34;input&nbsp;%d&nbsp;d.Token()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;*SyntaxError&#34;</span><span class="op" id="8201334">,</span>&nbsp;<span class="ident" id="8201336"><a href="/encoding/xml/xml_test.go.html#8201088">i</a></span><span class="op" id="8201337">,</span>&nbsp;<span class="ident" id="8201339"><a href="/encoding/xml/xml_test.go.html#8201170">err</a></span><span class="op" id="8201342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8201346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8201350">if</span>&nbsp;<span class="ident" id="8201353"><a href="/encoding/xml/xml_test.go.html#8201228">synerr</a></span><span class="op" id="8201359">.</span><span class="ident" id="8201360">Msg</span>&nbsp;<span class="op" id="8201364">!=</span>&nbsp;<span class="ident" id="8201367"><a href="/encoding/xml/xml_test.go.html#8201091">tt</a></span><span class="op" id="8201369">.</span><span class="ident" id="8201370">err</span>&nbsp;<span class="op" id="8201374">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8201379"><a href="/encoding/xml/xml_test.go.html#8201066">t</a></span><span class="op" id="8201380">.</span><span class="ident" id="8201381">Fatalf</span><span class="op" id="8201387">(</span><span class="string" id="8201388">&#34;input&nbsp;%d&nbsp;synerr.Msg&nbsp;wrong:&nbsp;want&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8201432">,</span>&nbsp;<span class="ident" id="8201434"><a href="/encoding/xml/xml_test.go.html#8201088">i</a></span><span class="op" id="8201435">,</span>&nbsp;<span class="ident" id="8201437"><a href="/encoding/xml/xml_test.go.html#8201091">tt</a></span><span class="op" id="8201439">.</span><span class="ident" id="8201440">err</span><span class="op" id="8201443">,</span>&nbsp;<span class="ident" id="8201445"><a href="/encoding/xml/xml_test.go.html#8201228">synerr</a></span><span class="op" id="8201451">.</span><span class="ident" id="8201452">Msg</span><span class="op" id="8201455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8201459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8201462">}</span><br>
<span class="lineno"></span><span class="op" id="8201464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">655</span><span class="keyword" id="8201467">type</span>&nbsp;<span class="ident" id="8201472">procInstEncodingTest</span>&nbsp;<span class="keyword" id="8201493">struct</span>&nbsp;<span class="op" id="8201500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8201503">expect</span><span class="op" id="8201509">,</span>&nbsp;<span class="ident" id="8201511">got</span>&nbsp;<span class="builtintype" id="8201515">string</span><br>
<span class="lineno"></span><span class="op" id="8201522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8201525">var</span>&nbsp;<span class="ident" id="8201529">procInstTests</span>&nbsp;<span class="op" id="8201543">=</span>&nbsp;<span class="op" id="8201545">[</span><span class="op" id="8201546">]</span><span class="keyword" id="8201547">struct</span>&nbsp;<span class="op" id="8201554">{</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8201557">input</span><span class="op" id="8201562">,</span>&nbsp;<span class="ident" id="8201564">expect</span>&nbsp;<span class="builtintype" id="8201571">string</span><br>
<span class="lineno"></span><span class="op" id="8201578">}</span><span class="op" id="8201579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8201582">{</span><span class="string" id="8201583">`version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;`</span><span class="op" id="8201615">,</span>&nbsp;<span class="string" id="8201617">&#34;utf-8&#34;</span><span class="op" id="8201624">}</span><span class="op" id="8201625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8201628">{</span><span class="string" id="8201629">`version=&#34;1.0&#34;&nbsp;encoding=&#39;utf-8&#39;`</span><span class="op" id="8201661">,</span>&nbsp;<span class="string" id="8201663">&#34;utf-8&#34;</span><span class="op" id="8201670">}</span><span class="op" id="8201671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8201674">{</span><span class="string" id="8201675">`version=&#34;1.0&#34;&nbsp;encoding=&#39;utf-8&#39;&nbsp;`</span><span class="op" id="8201708">,</span>&nbsp;<span class="string" id="8201710">&#34;utf-8&#34;</span><span class="op" id="8201717">}</span><span class="op" id="8201718">,</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8201721">{</span><span class="string" id="8201722">`version=&#34;1.0&#34;&nbsp;encoding=utf-8`</span><span class="op" id="8201752">,</span>&nbsp;<span class="string" id="8201754">&#34;&#34;</span><span class="op" id="8201756">}</span><span class="op" id="8201757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8201760">{</span><span class="string" id="8201761">`encoding=&#34;FOO&#34;&nbsp;`</span><span class="op" id="8201778">,</span>&nbsp;<span class="string" id="8201780">&#34;FOO&#34;</span><span class="op" id="8201785">}</span><span class="op" id="8201786">,</span><br>
<span class="lineno"></span><span class="op" id="8201788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8201791">func</span>&nbsp;<span class="ident" id="8201796">TestProcInstEncoding</span><span class="op" id="8201816">(</span><span class="ident" id="8201817">t</span>&nbsp;<span class="op" id="8201819">*</span><span class="ident" id="8201820"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8201827">.</span><span class="ident" id="8201828">T</span><span class="op" id="8201829">)</span>&nbsp;<span class="op" id="8201831">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8201834">for</span>&nbsp;<span class="ident" id="8201838">_</span><span class="op" id="8201839">,</span>&nbsp;<span class="ident" id="8201841">test</span>&nbsp;<span class="op" id="8201846">:=</span>&nbsp;<span class="keyword" id="8201849">range</span>&nbsp;<span class="ident" id="8201855"><a href="/encoding/xml/xml_test.go.html#8201529">procInstTests</a></span>&nbsp;<span class="op" id="8201869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8201873">got</span>&nbsp;<span class="op" id="8201877">:=</span>&nbsp;<span class="ident" id="8201880"><a href="/encoding/xml/xml.go.html#5011913">procInstEncoding</a></span><span class="op" id="8201896">(</span><span class="ident" id="8201897"><a href="/encoding/xml/xml_test.go.html#8201841">test</a></span><span class="op" id="8201901">.</span><span class="ident" id="8201902">input</span><span class="op" id="8201907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8201911">if</span>&nbsp;<span class="ident" id="8201914"><a href="/encoding/xml/xml_test.go.html#8201873">got</a></span>&nbsp;<span class="op" id="8201918">!=</span>&nbsp;<span class="ident" id="8201921"><a href="/encoding/xml/xml_test.go.html#8201841">test</a></span><span class="op" id="8201925">.</span><span class="ident" id="8201926">expect</span>&nbsp;<span class="op" id="8201933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8201938"><a href="/encoding/xml/xml_test.go.html#8201817">t</a></span><span class="op" id="8201939">.</span><span class="ident" id="8201940">Errorf</span><span class="op" id="8201946">(</span><span class="string" id="8201947">&#34;procInstEncoding(%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8201983">,</span>&nbsp;<span class="ident" id="8201985"><a href="/encoding/xml/xml_test.go.html#8201841">test</a></span><span class="op" id="8201989">.</span><span class="ident" id="8201990">input</span><span class="op" id="8201995">,</span>&nbsp;<span class="ident" id="8201997"><a href="/encoding/xml/xml_test.go.html#8201873">got</a></span><span class="op" id="8202000">,</span>&nbsp;<span class="ident" id="8202002"><a href="/encoding/xml/xml_test.go.html#8201841">test</a></span><span class="op" id="8202006">.</span><span class="ident" id="8202007">expect</span><span class="op" id="8202013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8202017">}</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8202020">}</span><br>
<span class="lineno"></span><span class="op" id="8202022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8202025">//&nbsp;Ensure&nbsp;that&nbsp;directives&nbsp;with&nbsp;comments&nbsp;include&nbsp;the&nbsp;complete</span><br>
<span class="lineno"></span><span class="comment" id="8202086">//&nbsp;text&nbsp;of&nbsp;any&nbsp;nested&nbsp;directives.</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="8202121">var</span>&nbsp;<span class="ident" id="8202125">directivesWithCommentsInput</span>&nbsp;<span class="op" id="8202153">=</span>&nbsp;<span class="string" id="8202155">`<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!--&nbsp;a&nbsp;comment&nbsp;--&gt;&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;&lt;!--&nbsp;a&nbsp;comment--&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;&lt;!-&gt;&nbsp;&lt;!&gt;&nbsp;&lt;!----&gt;&nbsp;&lt;!--&gt;--&gt;&nbsp;&lt;!---&gt;--&gt;&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;&lt;!--&nbsp;a&nbsp;comment--&gt;]&gt;<br>
<span class="lineno">685</span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8202391">var</span>&nbsp;<span class="ident" id="8202395">directivesWithCommentsTokens</span>&nbsp;<span class="op" id="8202424">=</span>&nbsp;<span class="op" id="8202426">[</span><span class="op" id="8202427">]</span><span class="ident" id="8202428"><a href="/encoding/xml/xml.go.html#4969150">Token</a></span><span class="op" id="8202433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202436"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8202444">(</span><span class="string" id="8202445">&#34;\n&#34;</span><span class="op" id="8202449">)</span><span class="op" id="8202450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202453"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8202462">(</span><span class="string" id="8202463">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]`</span><span class="op" id="8202534">)</span><span class="op" id="8202535">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202538"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8202546">(</span><span class="string" id="8202547">&#34;\n&#34;</span><span class="op" id="8202551">)</span><span class="op" id="8202552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202555"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8202564">(</span><span class="string" id="8202565">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;]`</span><span class="op" id="8202598">)</span><span class="op" id="8202599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202602"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8202610">(</span><span class="string" id="8202611">&#34;\n&#34;</span><span class="op" id="8202615">)</span><span class="op" id="8202616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202619"><a href="/encoding/xml/xml.go.html#4970484">Directive</a></span><span class="op" id="8202628">(</span><span class="string" id="8202629">`DOCTYPE&nbsp;&lt;!-&gt;&nbsp;&lt;!&gt;&nbsp;&nbsp;&nbsp;&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;]`</span><span class="op" id="8202674">)</span><span class="op" id="8202675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202678"><a href="/encoding/xml/xml.go.html#4969762">CharData</a></span><span class="op" id="8202686">(</span><span class="string" id="8202687">&#34;\n&#34;</span><span class="op" id="8202691">)</span><span class="op" id="8202692">,</span><br>
<span class="lineno">695</span><span class="op" id="8202694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8202697">func</span>&nbsp;<span class="ident" id="8202702">TestDirectivesWithComments</span><span class="op" id="8202728">(</span><span class="ident" id="8202729">t</span>&nbsp;<span class="op" id="8202731">*</span><span class="ident" id="8202732"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8202739">.</span><span class="ident" id="8202740">T</span><span class="op" id="8202741">)</span>&nbsp;<span class="op" id="8202743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202746">d</span>&nbsp;<span class="op" id="8202748">:=</span>&nbsp;<span class="ident" id="8202751"><a href="/encoding/xml/xml.go.html#4973434">NewDecoder</a></span><span class="op" id="8202761">(</span><span class="ident" id="8202762"><a href="/encoding/xml/xml_test.go.html#8184713">strings</a></span><span class="op" id="8202769">.</span><span class="ident" id="8202770">NewReader</span><span class="op" id="8202779">(</span><span class="ident" id="8202780"><a href="/encoding/xml/xml_test.go.html#8202125">directivesWithCommentsInput</a></span><span class="op" id="8202807">)</span><span class="op" id="8202808">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8202812">for</span>&nbsp;<span class="ident" id="8202816">i</span><span class="op" id="8202817">,</span>&nbsp;<span class="ident" id="8202819">want</span>&nbsp;<span class="op" id="8202824">:=</span>&nbsp;<span class="keyword" id="8202827">range</span>&nbsp;<span class="ident" id="8202833"><a href="/encoding/xml/xml_test.go.html#8202395">directivesWithCommentsTokens</a></span>&nbsp;<span class="op" id="8202862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202866">have</span><span class="op" id="8202870">,</span>&nbsp;<span class="ident" id="8202872">err</span>&nbsp;<span class="op" id="8202876">:=</span>&nbsp;<span class="ident" id="8202879"><a href="/encoding/xml/xml_test.go.html#8202746">d</a></span><span class="op" id="8202880">.</span><span class="ident" id="8202881">Token</span><span class="op" id="8202886">(</span><span class="op" id="8202887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8202891">if</span>&nbsp;<span class="ident" id="8202894"><a href="/encoding/xml/xml_test.go.html#8202872">err</a></span>&nbsp;<span class="op" id="8202898">!=</span>&nbsp;<span class="ident" id="8202901">nil</span>&nbsp;<span class="op" id="8202905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8202910"><a href="/encoding/xml/xml_test.go.html#8202729">t</a></span><span class="op" id="8202911">.</span><span class="ident" id="8202912">Fatalf</span><span class="op" id="8202918">(</span><span class="string" id="8202919">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8202951">,</span>&nbsp;<span class="ident" id="8202953"><a href="/encoding/xml/xml_test.go.html#8202816">i</a></span><span class="op" id="8202954">,</span>&nbsp;<span class="ident" id="8202956"><a href="/encoding/xml/xml_test.go.html#8202872">err</a></span><span class="op" id="8202959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8202963">}</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8202967">if</span>&nbsp;<span class="op" id="8202970">!</span><span class="ident" id="8202971"><a href="/encoding/xml/xml_test.go.html#8184702">reflect</a></span><span class="op" id="8202978">.</span><span class="ident" id="8202979">DeepEqual</span><span class="op" id="8202988">(</span><span class="ident" id="8202989"><a href="/encoding/xml/xml_test.go.html#8202866">have</a></span><span class="op" id="8202993">,</span>&nbsp;<span class="ident" id="8202995"><a href="/encoding/xml/xml_test.go.html#8202819">want</a></span><span class="op" id="8202999">)</span>&nbsp;<span class="op" id="8203001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203006"><a href="/encoding/xml/xml_test.go.html#8202729">t</a></span><span class="op" id="8203007">.</span><span class="ident" id="8203008">Errorf</span><span class="op" id="8203014">(</span><span class="string" id="8203015">&#34;token&nbsp;%d&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8203040">,</span>&nbsp;<span class="ident" id="8203042"><a href="/encoding/xml/xml_test.go.html#8202816">i</a></span><span class="op" id="8203043">,</span>&nbsp;<span class="ident" id="8203045"><a href="/encoding/xml/xml_test.go.html#8202866">have</a></span><span class="op" id="8203049">,</span>&nbsp;<span class="ident" id="8203051"><a href="/encoding/xml/xml_test.go.html#8202819">want</a></span><span class="op" id="8203055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8203059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8203062">}</span><br>
<span class="lineno"></span><span class="op" id="8203064">}</span><br>
<span class="lineno">710</span><br>
<span class="lineno"></span><span class="comment" id="8203067">//&nbsp;Writer&nbsp;whose&nbsp;Write&nbsp;method&nbsp;always&nbsp;returns&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="8203121">type</span>&nbsp;<span class="ident" id="8203126">errWriter</span>&nbsp;<span class="keyword" id="8203136">struct</span><span class="op" id="8203142">{</span><span class="op" id="8203143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8203146">func</span>&nbsp;<span class="op" id="8203151">(</span><span class="ident" id="8203152"><a href="/encoding/xml/xml_test.go.html#8203126">errWriter</a></span><span class="op" id="8203161">)</span>&nbsp;<span class="ident" id="8203163">Write</span><span class="op" id="8203168">(</span><span class="ident" id="8203169">p</span>&nbsp;<span class="op" id="8203171">[</span><span class="op" id="8203172">]</span><span class="builtintype" id="8203173">byte</span><span class="op" id="8203177">)</span>&nbsp;<span class="op" id="8203179">(</span><span class="ident" id="8203180">n</span>&nbsp;<span class="builtintype" id="8203182">int</span><span class="op" id="8203185">,</span>&nbsp;<span class="ident" id="8203187">err</span>&nbsp;<span class="builtintype" id="8203191">error</span><span class="op" id="8203196">)</span>&nbsp;<span class="op" id="8203198">{</span>&nbsp;<span class="keyword" id="8203200">return</span>&nbsp;<span class="num" id="8203207">0</span><span class="op" id="8203208">,</span>&nbsp;<span class="ident" id="8203210"><a href="/encoding/xml/xml_test.go.html#8184689">fmt</a></span><span class="op" id="8203213">.</span><span class="ident" id="8203214">Errorf</span><span class="op" id="8203220">(</span><span class="string" id="8203221">&#34;unwritable&#34;</span><span class="op" id="8203233">)</span>&nbsp;<span class="op" id="8203235">}</span><br>
<span class="lineno">715</span><br>
<span class="lineno"></span><span class="keyword" id="8203238">func</span>&nbsp;<span class="ident" id="8203243">TestEscapeTextIOErrors</span><span class="op" id="8203265">(</span><span class="ident" id="8203266">t</span>&nbsp;<span class="op" id="8203268">*</span><span class="ident" id="8203269"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8203276">.</span><span class="ident" id="8203277">T</span><span class="op" id="8203278">)</span>&nbsp;<span class="op" id="8203280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203283">expectErr</span>&nbsp;<span class="op" id="8203293">:=</span>&nbsp;<span class="string" id="8203296">&#34;unwritable&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203310">err</span>&nbsp;<span class="op" id="8203314">:=</span>&nbsp;<span class="ident" id="8203317"><a href="/encoding/xml/xml.go.html#5010088">EscapeText</a></span><span class="op" id="8203327">(</span><span class="ident" id="8203328"><a href="/encoding/xml/xml_test.go.html#8203126">errWriter</a></span><span class="op" id="8203337">{</span><span class="op" id="8203338">}</span><span class="op" id="8203339">,</span>&nbsp;<span class="op" id="8203341">[</span><span class="op" id="8203342">]</span><span class="builtintype" id="8203343">byte</span><span class="op" id="8203347">{</span><span class="string" id="8203348">&#39;A&#39;</span><span class="op" id="8203351">}</span><span class="op" id="8203352">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8203356">if</span>&nbsp;<span class="ident" id="8203359"><a href="/encoding/xml/xml_test.go.html#8203310">err</a></span>&nbsp;<span class="op" id="8203363">==</span>&nbsp;<span class="ident" id="8203366">nil</span>&nbsp;<span class="op" id="8203370">||</span>&nbsp;<span class="ident" id="8203373"><a href="/encoding/xml/xml_test.go.html#8203310">err</a></span><span class="op" id="8203376">.</span><span class="ident" id="8203377">Error</span><span class="op" id="8203382">(</span><span class="op" id="8203383">)</span>&nbsp;<span class="op" id="8203385">!=</span>&nbsp;<span class="ident" id="8203388"><a href="/encoding/xml/xml_test.go.html#8203283">expectErr</a></span>&nbsp;<span class="op" id="8203398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203402"><a href="/encoding/xml/xml_test.go.html#8203266">t</a></span><span class="op" id="8203403">.</span><span class="ident" id="8203404">Errorf</span><span class="op" id="8203410">(</span><span class="string" id="8203411">&#34;have&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8203429">,</span>&nbsp;<span class="ident" id="8203431"><a href="/encoding/xml/xml_test.go.html#8203310">err</a></span><span class="op" id="8203434">,</span>&nbsp;<span class="ident" id="8203436"><a href="/encoding/xml/xml_test.go.html#8203283">expectErr</a></span><span class="op" id="8203445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8203448">}</span><br>
<span class="lineno"></span><span class="op" id="8203450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">725</span><span class="keyword" id="8203453">func</span>&nbsp;<span class="ident" id="8203458">TestEscapeTextInvalidChar</span><span class="op" id="8203483">(</span><span class="ident" id="8203484">t</span>&nbsp;<span class="op" id="8203486">*</span><span class="ident" id="8203487"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8203494">.</span><span class="ident" id="8203495">T</span><span class="op" id="8203496">)</span>&nbsp;<span class="op" id="8203498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203501">input</span>&nbsp;<span class="op" id="8203507">:=</span>&nbsp;<span class="op" id="8203510">[</span><span class="op" id="8203511">]</span><span class="builtintype" id="8203512">byte</span><span class="op" id="8203516">(</span><span class="string" id="8203517">&#34;A&nbsp;\x00&nbsp;terminated&nbsp;string.&#34;</span><span class="op" id="8203544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203547">expected</span>&nbsp;<span class="op" id="8203556">:=</span>&nbsp;<span class="string" id="8203559">&#34;A&nbsp;\uFFFD&nbsp;terminated&nbsp;string.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203591">buff</span>&nbsp;<span class="op" id="8203596">:=</span>&nbsp;<span class="builtinfunc" id="8203599">new</span><span class="op" id="8203602">(</span><span class="ident" id="8203603"><a href="/encoding/xml/xml_test.go.html#8184680">bytes</a></span><span class="op" id="8203608">.</span><span class="ident" id="8203609">Buffer</span><span class="op" id="8203615">)</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8203618">if</span>&nbsp;<span class="ident" id="8203621">err</span>&nbsp;<span class="op" id="8203625">:=</span>&nbsp;<span class="ident" id="8203628"><a href="/encoding/xml/xml.go.html#5010088">EscapeText</a></span><span class="op" id="8203638">(</span><span class="ident" id="8203639"><a href="/encoding/xml/xml_test.go.html#8203591">buff</a></span><span class="op" id="8203643">,</span>&nbsp;<span class="ident" id="8203645"><a href="/encoding/xml/xml_test.go.html#8203501">input</a></span><span class="op" id="8203650">)</span><span class="op" id="8203651">;</span>&nbsp;<span class="ident" id="8203653"><a href="/encoding/xml/xml_test.go.html#8203621">err</a></span>&nbsp;<span class="op" id="8203657">!=</span>&nbsp;<span class="ident" id="8203660">nil</span>&nbsp;<span class="op" id="8203664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203668"><a href="/encoding/xml/xml_test.go.html#8203484">t</a></span><span class="op" id="8203669">.</span><span class="ident" id="8203670">Fatalf</span><span class="op" id="8203676">(</span><span class="string" id="8203677">&#34;have&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="8203696">,</span>&nbsp;<span class="ident" id="8203698"><a href="/encoding/xml/xml_test.go.html#8203621">err</a></span><span class="op" id="8203701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8203704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203707">text</span>&nbsp;<span class="op" id="8203712">:=</span>&nbsp;<span class="ident" id="8203715"><a href="/encoding/xml/xml_test.go.html#8203591">buff</a></span><span class="op" id="8203719">.</span><span class="ident" id="8203720">String</span><span class="op" id="8203726">(</span><span class="op" id="8203727">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8203731">if</span>&nbsp;<span class="ident" id="8203734"><a href="/encoding/xml/xml_test.go.html#8203707">text</a></span>&nbsp;<span class="op" id="8203739">!=</span>&nbsp;<span class="ident" id="8203742"><a href="/encoding/xml/xml_test.go.html#8203547">expected</a></span>&nbsp;<span class="op" id="8203751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203755"><a href="/encoding/xml/xml_test.go.html#8203484">t</a></span><span class="op" id="8203756">.</span><span class="ident" id="8203757">Errorf</span><span class="op" id="8203763">(</span><span class="string" id="8203764">&#34;have&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8203782">,</span>&nbsp;<span class="ident" id="8203784"><a href="/encoding/xml/xml_test.go.html#8203707">text</a></span><span class="op" id="8203788">,</span>&nbsp;<span class="ident" id="8203790"><a href="/encoding/xml/xml_test.go.html#8203547">expected</a></span><span class="op" id="8203798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8203801">}</span><br>
<span class="lineno"></span><span class="op" id="8203803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">740</span><span class="keyword" id="8203806">func</span>&nbsp;<span class="ident" id="8203811">TestIssue5880</span><span class="op" id="8203824">(</span><span class="ident" id="8203825">t</span>&nbsp;<span class="op" id="8203827">*</span><span class="ident" id="8203828"><a href="/encoding/xml/xml_test.go.html#8184724">testing</a></span><span class="op" id="8203835">.</span><span class="ident" id="8203836">T</span><span class="op" id="8203837">)</span>&nbsp;<span class="op" id="8203839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8203842">type</span>&nbsp;<span class="ident" id="8203847">T</span>&nbsp;<span class="op" id="8203849">[</span><span class="op" id="8203850">]</span><span class="builtintype" id="8203851">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203857">data</span><span class="op" id="8203861">,</span>&nbsp;<span class="ident" id="8203863">err</span>&nbsp;<span class="op" id="8203867">:=</span>&nbsp;<span class="ident" id="8203870"><a href="/encoding/xml/marshal.go.html#4914231">Marshal</a></span><span class="op" id="8203877">(</span><span class="ident" id="8203878"><a href="/encoding/xml/xml_test.go.html#8203847">T</a></span><span class="op" id="8203879">{</span><span class="num" id="8203880">192</span><span class="op" id="8203883">,</span>&nbsp;<span class="num" id="8203885">168</span><span class="op" id="8203888">,</span>&nbsp;<span class="num" id="8203890">0</span><span class="op" id="8203891">,</span>&nbsp;<span class="num" id="8203893">1</span><span class="op" id="8203894">}</span><span class="op" id="8203895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8203898">if</span>&nbsp;<span class="ident" id="8203901"><a href="/encoding/xml/xml_test.go.html#8203863">err</a></span>&nbsp;<span class="op" id="8203905">!=</span>&nbsp;<span class="ident" id="8203908">nil</span>&nbsp;<span class="op" id="8203912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203916"><a href="/encoding/xml/xml_test.go.html#8203825">t</a></span><span class="op" id="8203917">.</span><span class="ident" id="8203918">Errorf</span><span class="op" id="8203924">(</span><span class="string" id="8203925">&#34;Marshal&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8203944">,</span>&nbsp;<span class="ident" id="8203946"><a href="/encoding/xml/xml_test.go.html#8203863">err</a></span><span class="op" id="8203949">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8203952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8203955">if</span>&nbsp;<span class="op" id="8203958">!</span><span class="ident" id="8203959"><a href="/encoding/xml/xml_test.go.html#8184735">utf8</a></span><span class="op" id="8203963">.</span><span class="ident" id="8203964">Valid</span><span class="op" id="8203969">(</span><span class="ident" id="8203970"><a href="/encoding/xml/xml_test.go.html#8203857">data</a></span><span class="op" id="8203974">)</span>&nbsp;<span class="op" id="8203976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8203980"><a href="/encoding/xml/xml_test.go.html#8203825">t</a></span><span class="op" id="8203981">.</span><span class="ident" id="8203982">Errorf</span><span class="op" id="8203988">(</span><span class="string" id="8203989">&#34;Marshal&nbsp;generated&nbsp;invalid&nbsp;UTF-8:&nbsp;%x&#34;</span><span class="op" id="8204026">,</span>&nbsp;<span class="ident" id="8204028"><a href="/encoding/xml/xml_test.go.html#8203857">data</a></span><span class="op" id="8204032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8204035">}</span><br>
<span class="lineno"></span><span class="op" id="8204037">}</span>
</div>
</body>
</html>
