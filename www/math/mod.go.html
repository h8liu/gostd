<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1525832">//&nbsp;Copyright&nbsp;2009-2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1525892">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1525946">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1525997">package</span>&nbsp;<span class="ident" id="1526005">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1526011">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspFloating-point&nbsp;mod&nbsp;function.<br>
<span class="lineno"></span>*/</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="1526048">//&nbsp;Mod&nbsp;returns&nbsp;the&nbsp;floating-point&nbsp;remainder&nbsp;of&nbsp;x/y.</span><br>
<span class="lineno"></span><span class="comment" id="1526100">//&nbsp;The&nbsp;magnitude&nbsp;of&nbsp;the&nbsp;result&nbsp;is&nbsp;less&nbsp;than&nbsp;y&nbsp;and&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="1526154">//&nbsp;sign&nbsp;agrees&nbsp;with&nbsp;that&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="1526185">//</span><br>
<span class="lineno">15</span><span class="comment" id="1526188">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="1526210">//&nbsp;&nbsp;&nbsp;&nbspMod(±Inf,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1526233">//&nbsp;&nbsp;&nbsp;&nbspMod(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1526254">//&nbsp;&nbsp;&nbsp;&nbspMod(x,&nbsp;0)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1526273">//&nbsp;&nbsp;&nbsp;&nbspMod(x,&nbsp;±Inf)&nbsp;=&nbsp;x</span><br>
<span class="lineno">20</span><span class="comment" id="1526294">//&nbsp;&nbsp;&nbsp;&nbspMod(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="1526315">func</span>&nbsp;<span class="ident" id="1526320">Mod</span><span class="op" id="1526323">(</span><span class="ident" id="1526324">x</span><span class="op" id="1526325">,</span>&nbsp;<span class="ident" id="1526327">y</span>&nbsp;<span class="builtintype" id="1526329">float64</span><span class="op" id="1526336">)</span>&nbsp;<span class="builtintype" id="1526338">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1526347">func</span>&nbsp;<span class="ident" id="1526352">mod</span><span class="op" id="1526355">(</span><span class="ident" id="1526356">x</span><span class="op" id="1526357">,</span>&nbsp;<span class="ident" id="1526359">y</span>&nbsp;<span class="builtintype" id="1526361">float64</span><span class="op" id="1526368">)</span>&nbsp;<span class="builtintype" id="1526370">float64</span>&nbsp;<span class="op" id="1526378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1526381">if</span>&nbsp;<span class="ident" id="1526384"><a href="/math/mod.go.html#1526359">y</a></span>&nbsp;<span class="op" id="1526386">==</span>&nbsp;<span class="num" id="1526389">0</span>&nbsp;<span class="op" id="1526391">||</span>&nbsp;<span class="ident" id="1526394"><a href="/math/bits.go.html#1427892">IsInf</a></span><span class="op" id="1526399">(</span><span class="ident" id="1526400"><a href="/math/mod.go.html#1526356">x</a></span><span class="op" id="1526401">,</span>&nbsp;<span class="num" id="1526403">0</span><span class="op" id="1526404">)</span>&nbsp;<span class="op" id="1526406">||</span>&nbsp;<span class="ident" id="1526409"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1526414">(</span><span class="ident" id="1526415"><a href="/math/mod.go.html#1526356">x</a></span><span class="op" id="1526416">)</span>&nbsp;<span class="op" id="1526418">||</span>&nbsp;<span class="ident" id="1526421"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1526426">(</span><span class="ident" id="1526427"><a href="/math/mod.go.html#1526359">y</a></span><span class="op" id="1526428">)</span>&nbsp;<span class="op" id="1526430">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1526434">return</span>&nbsp;<span class="ident" id="1526441"><a href="/math/bits.go.html#1427274">NaN</a></span><span class="op" id="1526444">(</span><span class="op" id="1526445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1526448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1526451">if</span>&nbsp;<span class="ident" id="1526454"><a href="/math/mod.go.html#1526359">y</a></span>&nbsp;<span class="op" id="1526456">&lt;</span>&nbsp;<span class="num" id="1526458">0</span>&nbsp;<span class="op" id="1526460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526464"><a href="/math/mod.go.html#1526359">y</a></span>&nbsp;<span class="op" id="1526466">=</span>&nbsp;<span class="op" id="1526468">-</span><span class="ident" id="1526469"><a href="/math/mod.go.html#1526359">y</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1526472">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526476">yfr</span><span class="op" id="1526479">,</span>&nbsp;<span class="ident" id="1526481">yexp</span>&nbsp;<span class="op" id="1526486">:=</span>&nbsp;<span class="ident" id="1526489"><a href="/math/frexp.go.html#1460543">Frexp</a></span><span class="op" id="1526494">(</span><span class="ident" id="1526495"><a href="/math/mod.go.html#1526359">y</a></span><span class="op" id="1526496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526499">sign</span>&nbsp;<span class="op" id="1526504">:=</span>&nbsp;<span class="ident" id="1526507">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526514">r</span>&nbsp;<span class="op" id="1526516">:=</span>&nbsp;<span class="ident" id="1526519"><a href="/math/mod.go.html#1526356">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1526522">if</span>&nbsp;<span class="ident" id="1526525"><a href="/math/mod.go.html#1526356">x</a></span>&nbsp;<span class="op" id="1526527">&lt;</span>&nbsp;<span class="num" id="1526529">0</span>&nbsp;<span class="op" id="1526531">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526535"><a href="/math/mod.go.html#1526514">r</a></span>&nbsp;<span class="op" id="1526537">=</span>&nbsp;<span class="op" id="1526539">-</span><span class="ident" id="1526540"><a href="/math/mod.go.html#1526356">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526544"><a href="/math/mod.go.html#1526499">sign</a></span>&nbsp;<span class="op" id="1526549">=</span>&nbsp;<span class="ident" id="1526551">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1526557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1526561">for</span>&nbsp;<span class="ident" id="1526565"><a href="/math/mod.go.html#1526514">r</a></span>&nbsp;<span class="op" id="1526567">&gt;=</span>&nbsp;<span class="ident" id="1526570"><a href="/math/mod.go.html#1526359">y</a></span>&nbsp;<span class="op" id="1526572">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526576">rfr</span><span class="op" id="1526579">,</span>&nbsp;<span class="ident" id="1526581">rexp</span>&nbsp;<span class="op" id="1526586">:=</span>&nbsp;<span class="ident" id="1526589"><a href="/math/frexp.go.html#1460543">Frexp</a></span><span class="op" id="1526594">(</span><span class="ident" id="1526595"><a href="/math/mod.go.html#1526514">r</a></span><span class="op" id="1526596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1526600">if</span>&nbsp;<span class="ident" id="1526603"><a href="/math/mod.go.html#1526576">rfr</a></span>&nbsp;<span class="op" id="1526607">&lt;</span>&nbsp;<span class="ident" id="1526609"><a href="/math/mod.go.html#1526476">yfr</a></span>&nbsp;<span class="op" id="1526613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526618"><a href="/math/mod.go.html#1526581">rexp</a></span>&nbsp;<span class="op" id="1526623">=</span>&nbsp;<span class="ident" id="1526625"><a href="/math/mod.go.html#1526581">rexp</a></span>&nbsp;<span class="op" id="1526630">-</span>&nbsp;<span class="num" id="1526632">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1526636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526640"><a href="/math/mod.go.html#1526514">r</a></span>&nbsp;<span class="op" id="1526642">=</span>&nbsp;<span class="ident" id="1526644"><a href="/math/mod.go.html#1526514">r</a></span>&nbsp;<span class="op" id="1526646">-</span>&nbsp;<span class="ident" id="1526648"><a href="/math/ldexp.go.html#1501970">Ldexp</a></span><span class="op" id="1526653">(</span><span class="ident" id="1526654"><a href="/math/mod.go.html#1526359">y</a></span><span class="op" id="1526655">,</span>&nbsp;<span class="ident" id="1526657"><a href="/math/mod.go.html#1526581">rexp</a></span><span class="op" id="1526661">-</span><span class="ident" id="1526662"><a href="/math/mod.go.html#1526481">yexp</a></span><span class="op" id="1526666">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1526669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1526672">if</span>&nbsp;<span class="ident" id="1526675"><a href="/math/mod.go.html#1526499">sign</a></span>&nbsp;<span class="op" id="1526680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1526684"><a href="/math/mod.go.html#1526514">r</a></span>&nbsp;<span class="op" id="1526686">=</span>&nbsp;<span class="op" id="1526688">-</span><span class="ident" id="1526689"><a href="/math/mod.go.html#1526514">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1526692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1526695">return</span>&nbsp;<span class="ident" id="1526702"><a href="/math/mod.go.html#1526514">r</a></span><br>
<span class="lineno">50</span><span class="op" id="1526704">}</span>
</div>
</body>
</html>
