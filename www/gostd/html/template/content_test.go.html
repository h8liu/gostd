<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html" class="current">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8378786">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8378841">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8378895">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8378946">package</span>&nbsp;<span class="ident" id="8378954">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8378964">import</span>&nbsp;<span class="op" id="8378971">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378974">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378983">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378990">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379001">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8379011">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8379014">func</span>&nbsp;<span class="ident" id="8379019">TestTypedContent</span><span class="op" id="8379035">(</span><span class="ident" id="8379036">t</span>&nbsp;<span class="op" id="8379038">*</span><span class="ident" id="8379039">testing</span><span class="op" id="8379046">.</span><span class="ident" id="8379047">T</span><span class="op" id="8379048">)</span>&nbsp;<span class="op" id="8379050">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379053">data</span>&nbsp;<span class="op" id="8379058">:=</span>&nbsp;<span class="op" id="8379061">[</span><span class="op" id="8379062">]</span><span class="keyword" id="8379063">interface</span><span class="op" id="8379072">{</span><span class="op" id="8379073">}</span><span class="op" id="8379074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379078">`&lt;b&gt;&nbsp;&#34;foo%&#34;&nbsp;O&#39;Reilly&nbsp;&amp;bar;`</span><span class="op" id="8379105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379109">CSS</span><span class="op" id="8379112">(</span><span class="string" id="8379113">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="8379145">)</span><span class="op" id="8379146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379150">HTML</span><span class="op" id="8379154">(</span><span class="string" id="8379155">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="8379185">)</span><span class="op" id="8379186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379190">HTMLAttr</span><span class="op" id="8379198">(</span><span class="string" id="8379199">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="8379211">)</span><span class="op" id="8379212">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379216">JS</span><span class="op" id="8379218">(</span><span class="string" id="8379219">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="8379249">)</span><span class="op" id="8379250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379254">JSStr</span><span class="op" id="8379259">(</span><span class="string" id="8379260">`Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21`</span><span class="op" id="8379289">)</span><span class="op" id="8379290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379294">URL</span><span class="op" id="8379297">(</span><span class="string" id="8379298">`greeting=H%69&amp;addressee=(World)`</span><span class="op" id="8379331">)</span><span class="op" id="8379332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8379339">//&nbsp;For&nbsp;each&nbsp;content&nbsp;sensitive&nbsp;escaper,&nbsp;see&nbsp;how&nbsp;it&nbsp;does&nbsp;on</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8379398">//&nbsp;each&nbsp;of&nbsp;the&nbsp;typed&nbsp;strings&nbsp;above.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379435">tests</span>&nbsp;<span class="op" id="8379441">:=</span>&nbsp;<span class="op" id="8379444">[</span><span class="op" id="8379445">]</span><span class="keyword" id="8379446">struct</span>&nbsp;<span class="op" id="8379453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8379457">//&nbsp;A&nbsp;template&nbsp;containing&nbsp;a&nbsp;single&nbsp;{{.}}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379500">input</span>&nbsp;<span class="builtintype" id="8379506">string</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379515">want</span>&nbsp;&nbsp;<span class="op" id="8379521">[</span><span class="op" id="8379522">]</span><span class="builtintype" id="8379523">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379531">}</span><span class="op" id="8379532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379541">`&lt;style&gt;{{.}}&nbsp;{&nbsp;color:&nbsp;blue&nbsp;}&lt;/style&gt;`</span><span class="op" id="8379579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379584">[</span><span class="op" id="8379585">]</span><span class="builtintype" id="8379586">string</span><span class="op" id="8379592">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379598">`ZgotmplZ`</span><span class="op" id="8379608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8379614">//&nbsp;Allowed&nbsp;but&nbsp;not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379646">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="8379678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379684">`ZgotmplZ`</span><span class="op" id="8379694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379700">`ZgotmplZ`</span><span class="op" id="8379710">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379716">`ZgotmplZ`</span><span class="op" id="8379726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379732">`ZgotmplZ`</span><span class="op" id="8379742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379748">`ZgotmplZ`</span><span class="op" id="8379758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379763">}</span><span class="op" id="8379764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379768">}</span><span class="op" id="8379769">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379778">`&lt;div&nbsp;style=&#34;{{.}}&#34;&gt;`</span><span class="op" id="8379799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379804">[</span><span class="op" id="8379805">]</span><span class="builtintype" id="8379806">string</span><span class="op" id="8379812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379818">`ZgotmplZ`</span><span class="op" id="8379828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8379834">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379867">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8379907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379913">`ZgotmplZ`</span><span class="op" id="8379923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379929">`ZgotmplZ`</span><span class="op" id="8379939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379945">`ZgotmplZ`</span><span class="op" id="8379955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379961">`ZgotmplZ`</span><span class="op" id="8379971">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379977">`ZgotmplZ`</span><span class="op" id="8379987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379992">}</span><span class="op" id="8379993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379997">}</span><span class="op" id="8379998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380007">`{{.}}`</span><span class="op" id="8380014">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380019">[</span><span class="op" id="8380020">]</span><span class="builtintype" id="8380021">string</span><span class="op" id="8380027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380033">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="8380082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380088">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8380128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8380134">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380154">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="8380184">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380190">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="8380210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380216">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="8380262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380268">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="8380305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380311">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="8380348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380353">}</span><span class="op" id="8380354">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380358">}</span><span class="op" id="8380359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380368">`&lt;a{{.}}&gt;`</span><span class="op" id="8380378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380383">[</span><span class="op" id="8380384">]</span><span class="builtintype" id="8380385">string</span><span class="op" id="8380391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380397">`ZgotmplZ`</span><span class="op" id="8380407">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380413">`ZgotmplZ`</span><span class="op" id="8380423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380429">`ZgotmplZ`</span><span class="op" id="8380439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8380445">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380478">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="8380490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380496">`ZgotmplZ`</span><span class="op" id="8380506">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380512">`ZgotmplZ`</span><span class="op" id="8380522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380528">`ZgotmplZ`</span><span class="op" id="8380538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380543">}</span><span class="op" id="8380544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380548">}</span><span class="op" id="8380549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380553">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380558">`&lt;a&nbsp;title={{.}}&gt;`</span><span class="op" id="8380575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380580">[</span><span class="op" id="8380581">]</span><span class="builtintype" id="8380582">string</span><span class="op" id="8380588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380594">`&amp;lt;b&amp;gt;&amp;#32;&amp;#34;foo%&amp;#34;&amp;#32;O&amp;#39;Reilly&amp;#32;&amp;amp;bar;`</span><span class="op" id="8380655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380661">`a[href&amp;#32;&amp;#61;~&amp;#32;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8380713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8380719">//&nbsp;Tags&nbsp;stripped,&nbsp;spaces&nbsp;escaped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380780">`Hello,&amp;#32;World&amp;#32;&amp;amp;tc!`</span><span class="op" id="8380811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380817">`&amp;#32;dir&amp;#61;&amp;#34;ltr&amp;#34;`</span><span class="op" id="8380845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380851">`c&amp;#32;&amp;amp;&amp;amp;&amp;#32;alert(&amp;#34;Hello,&amp;#32;World!&amp;#34;);`</span><span class="op" id="8380909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380915">`Hello,&amp;#32;World&amp;#32;&amp;amp;&amp;#32;O&amp;#39;Reilly\x21`</span><span class="op" id="8380964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380970">`greeting&amp;#61;H%69&amp;amp;addressee&amp;#61;(World)`</span><span class="op" id="8381015">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381020">}</span><span class="op" id="8381021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381025">}</span><span class="op" id="8381026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381035">`&lt;a&nbsp;title=&#39;{{.}}&#39;&gt;`</span><span class="op" id="8381054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381059">[</span><span class="op" id="8381060">]</span><span class="builtintype" id="8381061">string</span><span class="op" id="8381067">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381073">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="8381122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381128">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8381168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8381174">//&nbsp;Tags&nbsp;stripped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381219">`Hello,&nbsp;World&nbsp;&amp;amp;tc!`</span><span class="op" id="8381242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381248">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="8381268">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381274">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="8381320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381326">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="8381363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381369">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="8381406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381411">}</span><span class="op" id="8381412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381416">}</span><span class="op" id="8381417">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381426">`&lt;textarea&gt;{{.}}&lt;/textarea&gt;`</span><span class="op" id="8381454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381459">[</span><span class="op" id="8381460">]</span><span class="builtintype" id="8381461">string</span><span class="op" id="8381467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381473">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="8381522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381528">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="8381568">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8381574">//&nbsp;Angle&nbsp;brackets&nbsp;escaped&nbsp;to&nbsp;prevent&nbsp;injection&nbsp;of&nbsp;close&nbsp;tags,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381663">`Hello,&nbsp;&amp;lt;b&amp;gt;World&amp;lt;/b&amp;gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="8381705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381711">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="8381731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381737">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="8381783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381789">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="8381826">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381832">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="8381869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381874">}</span><span class="op" id="8381875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381879">}</span><span class="op" id="8381880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381889">`&lt;script&gt;alert({{.}})&lt;/script&gt;`</span><span class="op" id="8381920">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381925">[</span><span class="op" id="8381926">]</span><span class="builtintype" id="8381927">string</span><span class="op" id="8381933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381939">`&#34;\u003cb\u003e&nbsp;\&#34;foo%\&#34;&nbsp;O&#39;Reilly&nbsp;\u0026bar;&#34;`</span><span class="op" id="8381985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381991">`&#34;a[href&nbsp;=~&nbsp;\&#34;//example.com\&#34;]#foo&#34;`</span><span class="op" id="8382027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382033">`&#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&#34;`</span><span class="op" id="8382090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382096">`&#34;&nbsp;dir=\&#34;ltr\&#34;&#34;`</span><span class="op" id="8382112">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8382118">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382138">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="8382168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8382174">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382215">`&#34;Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21&#34;`</span><span class="op" id="8382246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382252">`&#34;greeting=H%69\u0026addressee=(World)&#34;`</span><span class="op" id="8382292">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382297">}</span><span class="op" id="8382298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382302">}</span><span class="op" id="8382303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382312">`&lt;button&nbsp;onclick=&#34;alert({{.}})&#34;&gt;`</span><span class="op" id="8382345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382350">[</span><span class="op" id="8382351">]</span><span class="builtintype" id="8382352">string</span><span class="op" id="8382358">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382364">`&amp;#34;\u003cb\u003e&nbsp;\&amp;#34;foo%\&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;\u0026bar;&amp;#34;`</span><span class="op" id="8382430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382436">`&amp;#34;a[href&nbsp;=~&nbsp;\&amp;#34;//example.com\&amp;#34;]#foo&amp;#34;`</span><span class="op" id="8382488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382494">`&amp;#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&amp;#34;`</span><span class="op" id="8382559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382565">`&amp;#34;&nbsp;dir=\&amp;#34;ltr\&amp;#34;&amp;#34;`</span><span class="op" id="8382597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8382603">//&nbsp;Not&nbsp;JS&nbsp;escaped&nbsp;but&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382643">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="8382689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8382695">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382736">`&amp;#34;Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21&amp;#34;`</span><span class="op" id="8382783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382789">`&amp;#34;greeting=H%69\u0026addressee=(World)&amp;#34;`</span><span class="op" id="8382837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382842">}</span><span class="op" id="8382843">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382847">}</span><span class="op" id="8382848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382857">`&lt;script&gt;alert(&#34;{{.}}&#34;)&lt;/script&gt;`</span><span class="op" id="8382890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382895">[</span><span class="op" id="8382896">]</span><span class="builtintype" id="8382897">string</span><span class="op" id="8382903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382909">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="8382954">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8382960">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="8383000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383006">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="8383052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383058">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="8383076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383082">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="8383124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8383130">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383171">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="8383206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383212">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="8383248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383253">}</span><span class="op" id="8383254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383258">}</span><span class="op" id="8383259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383263">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383268">`&lt;button&nbsp;onclick=&#39;alert(&#34;{{.}}&#34;)&#39;&gt;`</span><span class="op" id="8383303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383308">[</span><span class="op" id="8383309">]</span><span class="builtintype" id="8383310">string</span><span class="op" id="8383316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383322">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="8383367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383373">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="8383413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383419">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="8383465">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383471">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="8383489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383495">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="8383537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8383543">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383584">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="8383619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383625">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="8383661">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383666">}</span><span class="op" id="8383667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383671">}</span><span class="op" id="8383672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383681">`&lt;a&nbsp;href=&#34;?q={{.}}&#34;&gt;`</span><span class="op" id="8383702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383707">[</span><span class="op" id="8383708">]</span><span class="builtintype" id="8383709">string</span><span class="op" id="8383715">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383721">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="8383770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383776">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="8383828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383834">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="8383886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383892">`%20dir%3d%22ltr%22`</span><span class="op" id="8383912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383918">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="8383972">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8383978">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="8384021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8384027">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8384116">`greeting=H%69&amp;amp;addressee=%28World%29`</span><span class="op" id="8384157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384162">}</span><span class="op" id="8384163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384167">}</span><span class="op" id="8384168">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8384177">`&lt;style&gt;body&nbsp;{&nbsp;background:&nbsp;url(&#39;?img={{.}}&#39;)&nbsp;}&lt;/style&gt;`</span><span class="op" id="8384232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384237">[</span><span class="op" id="8384238">]</span><span class="builtintype" id="8384239">string</span><span class="op" id="8384245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8384251">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="8384300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8384306">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="8384358">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8384364">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="8384416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8384422">`%20dir%3d%22ltr%22`</span><span class="op" id="8384442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8384448">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="8384502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8384508">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="8384551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8384557">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;not&nbsp;done.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8384650">`greeting=H%69&amp;addressee=%28World%29`</span><span class="op" id="8384687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384692">}</span><span class="op" id="8384693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384697">}</span><span class="op" id="8384698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384705">for</span>&nbsp;<span class="ident" id="8384709">_</span><span class="op" id="8384710">,</span>&nbsp;<span class="ident" id="8384712">test</span>&nbsp;<span class="op" id="8384717">:=</span>&nbsp;<span class="keyword" id="8384720">range</span>&nbsp;<span class="ident" id="8384726">tests</span>&nbsp;<span class="op" id="8384732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384736">tmpl</span>&nbsp;<span class="op" id="8384741">:=</span>&nbsp;<span class="ident" id="8384744">Must</span><span class="op" id="8384748">(</span><span class="ident" id="8384749">New</span><span class="op" id="8384752">(</span><span class="string" id="8384753">&#34;x&#34;</span><span class="op" id="8384756">)</span><span class="op" id="8384757">.</span><span class="ident" id="8384758">Parse</span><span class="op" id="8384763">(</span><span class="ident" id="8384764">test</span><span class="op" id="8384768">.</span><span class="ident" id="8384769">input</span><span class="op" id="8384774">)</span><span class="op" id="8384775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384779">pre</span>&nbsp;<span class="op" id="8384783">:=</span>&nbsp;<span class="ident" id="8384786">strings</span><span class="op" id="8384793">.</span><span class="ident" id="8384794">Index</span><span class="op" id="8384799">(</span><span class="ident" id="8384800">test</span><span class="op" id="8384804">.</span><span class="ident" id="8384805">input</span><span class="op" id="8384810">,</span>&nbsp;<span class="string" id="8384812">&#34;{{.}}&#34;</span><span class="op" id="8384819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384823">post</span>&nbsp;<span class="op" id="8384828">:=</span>&nbsp;<span class="builtinfunc" id="8384831">len</span><span class="op" id="8384834">(</span><span class="ident" id="8384835">test</span><span class="op" id="8384839">.</span><span class="ident" id="8384840">input</span><span class="op" id="8384845">)</span>&nbsp;<span class="op" id="8384847">-</span>&nbsp;<span class="op" id="8384849">(</span><span class="ident" id="8384850">pre</span>&nbsp;<span class="op" id="8384854">+</span>&nbsp;<span class="num" id="8384856">5</span><span class="op" id="8384857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384861">var</span>&nbsp;<span class="ident" id="8384865">b</span>&nbsp;<span class="ident" id="8384867">bytes</span><span class="op" id="8384872">.</span><span class="ident" id="8384873">Buffer</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384882">for</span>&nbsp;<span class="ident" id="8384886">i</span><span class="op" id="8384887">,</span>&nbsp;<span class="ident" id="8384889">x</span>&nbsp;<span class="op" id="8384891">:=</span>&nbsp;<span class="keyword" id="8384894">range</span>&nbsp;<span class="ident" id="8384900">data</span>&nbsp;<span class="op" id="8384905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384910">b</span><span class="op" id="8384911">.</span><span class="ident" id="8384912">Reset</span><span class="op" id="8384917">(</span><span class="op" id="8384918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384923">if</span>&nbsp;<span class="ident" id="8384926">err</span>&nbsp;<span class="op" id="8384930">:=</span>&nbsp;<span class="ident" id="8384933">tmpl</span><span class="op" id="8384937">.</span><span class="ident" id="8384938">Execute</span><span class="op" id="8384945">(</span><span class="op" id="8384946">&amp;</span><span class="ident" id="8384947">b</span><span class="op" id="8384948">,</span>&nbsp;<span class="ident" id="8384950">x</span><span class="op" id="8384951">)</span><span class="op" id="8384952">;</span>&nbsp;<span class="ident" id="8384954">err</span>&nbsp;<span class="op" id="8384958">!=</span>&nbsp;<span class="builtintype" id="8384961">nil</span>&nbsp;<span class="op" id="8384965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384971">t</span><span class="op" id="8384972">.</span><span class="ident" id="8384973">Errorf</span><span class="op" id="8384979">(</span><span class="string" id="8384980">&#34;%q&nbsp;with&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="8384996">,</span>&nbsp;<span class="ident" id="8384998">test</span><span class="op" id="8385002">.</span><span class="ident" id="8385003">input</span><span class="op" id="8385008">,</span>&nbsp;<span class="ident" id="8385010">x</span><span class="op" id="8385011">,</span>&nbsp;<span class="ident" id="8385013">err</span><span class="op" id="8385016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385022">continue</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385039">if</span>&nbsp;<span class="ident" id="8385042">want</span><span class="op" id="8385046">,</span>&nbsp;<span class="ident" id="8385048">got</span>&nbsp;<span class="op" id="8385052">:=</span>&nbsp;<span class="ident" id="8385055">test</span><span class="op" id="8385059">.</span><span class="ident" id="8385060">want</span><span class="op" id="8385064">[</span><span class="ident" id="8385065">i</span><span class="op" id="8385066">]</span><span class="op" id="8385067">,</span>&nbsp;<span class="ident" id="8385069">b</span><span class="op" id="8385070">.</span><span class="ident" id="8385071">String</span><span class="op" id="8385077">(</span><span class="op" id="8385078">)</span><span class="op" id="8385079">[</span><span class="ident" id="8385080">pre</span><span class="op" id="8385083">:</span><span class="ident" id="8385084">b</span><span class="op" id="8385085">.</span><span class="ident" id="8385086">Len</span><span class="op" id="8385089">(</span><span class="op" id="8385090">)</span><span class="op" id="8385091">-</span><span class="ident" id="8385092">post</span><span class="op" id="8385096">]</span><span class="op" id="8385097">;</span>&nbsp;<span class="ident" id="8385099">want</span>&nbsp;<span class="op" id="8385104">!=</span>&nbsp;<span class="ident" id="8385107">got</span>&nbsp;<span class="op" id="8385111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385117">t</span><span class="op" id="8385118">.</span><span class="ident" id="8385119">Errorf</span><span class="op" id="8385125">(</span><span class="string" id="8385126">&#34;%q&nbsp;with&nbsp;%v:\nwant\n\t%q,\ngot\n\t%q\n&#34;</span><span class="op" id="8385165">,</span>&nbsp;<span class="ident" id="8385167">test</span><span class="op" id="8385171">.</span><span class="ident" id="8385172">input</span><span class="op" id="8385177">,</span>&nbsp;<span class="ident" id="8385179">x</span><span class="op" id="8385180">,</span>&nbsp;<span class="ident" id="8385182">want</span><span class="op" id="8385186">,</span>&nbsp;<span class="ident" id="8385188">got</span><span class="op" id="8385191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385197">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385209">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385216">}</span><br>
<span class="lineno"></span><span class="op" id="8385218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8385221">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;print&nbsp;using&nbsp;the&nbsp;String&nbsp;method.&nbsp;Was&nbsp;issue&nbsp;3073.</span><br>
<span class="lineno">225</span><span class="keyword" id="8385284">type</span>&nbsp;<span class="ident" id="8385289">stringer</span>&nbsp;<span class="keyword" id="8385298">struct</span>&nbsp;<span class="op" id="8385305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385308">v</span>&nbsp;<span class="builtintype" id="8385310">int</span><br>
<span class="lineno"></span><span class="op" id="8385314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8385317">func</span>&nbsp;<span class="op" id="8385322">(</span><span class="ident" id="8385323">s</span>&nbsp;<span class="op" id="8385325">*</span><span class="ident" id="8385326">stringer</span><span class="op" id="8385334">)</span>&nbsp;<span class="ident" id="8385336">String</span><span class="op" id="8385342">(</span><span class="op" id="8385343">)</span>&nbsp;<span class="builtintype" id="8385345">string</span>&nbsp;<span class="op" id="8385352">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385355">return</span>&nbsp;<span class="ident" id="8385362">fmt</span><span class="op" id="8385365">.</span><span class="ident" id="8385366">Sprintf</span><span class="op" id="8385373">(</span><span class="string" id="8385374">&#34;string=%d&#34;</span><span class="op" id="8385385">,</span>&nbsp;<span class="ident" id="8385387">s</span><span class="op" id="8385388">.</span><span class="ident" id="8385389">v</span><span class="op" id="8385390">)</span><br>
<span class="lineno"></span><span class="op" id="8385392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8385395">type</span>&nbsp;<span class="ident" id="8385400">errorer</span>&nbsp;<span class="keyword" id="8385408">struct</span>&nbsp;<span class="op" id="8385415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385418">v</span>&nbsp;<span class="builtintype" id="8385420">int</span><br>
<span class="lineno">235</span><span class="op" id="8385424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8385427">func</span>&nbsp;<span class="op" id="8385432">(</span><span class="ident" id="8385433">s</span>&nbsp;<span class="op" id="8385435">*</span><span class="ident" id="8385436">errorer</span><span class="op" id="8385443">)</span>&nbsp;<span class="ident" id="8385445">Error</span><span class="op" id="8385450">(</span><span class="op" id="8385451">)</span>&nbsp;<span class="builtintype" id="8385453">string</span>&nbsp;<span class="op" id="8385460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385463">return</span>&nbsp;<span class="ident" id="8385470">fmt</span><span class="op" id="8385473">.</span><span class="ident" id="8385474">Sprintf</span><span class="op" id="8385481">(</span><span class="string" id="8385482">&#34;error=%d&#34;</span><span class="op" id="8385492">,</span>&nbsp;<span class="ident" id="8385494">s</span><span class="op" id="8385495">.</span><span class="ident" id="8385496">v</span><span class="op" id="8385497">)</span><br>
<span class="lineno"></span><span class="op" id="8385499">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span><span class="keyword" id="8385502">func</span>&nbsp;<span class="ident" id="8385507">TestStringer</span><span class="op" id="8385519">(</span><span class="ident" id="8385520">t</span>&nbsp;<span class="op" id="8385522">*</span><span class="ident" id="8385523">testing</span><span class="op" id="8385530">.</span><span class="ident" id="8385531">T</span><span class="op" id="8385532">)</span>&nbsp;<span class="op" id="8385534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385537">s</span>&nbsp;<span class="op" id="8385539">:=</span>&nbsp;<span class="op" id="8385542">&amp;</span><span class="ident" id="8385543">stringer</span><span class="op" id="8385551">{</span><span class="num" id="8385552">3</span><span class="op" id="8385553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385556">b</span>&nbsp;<span class="op" id="8385558">:=</span>&nbsp;<span class="builtinfunc" id="8385561">new</span><span class="op" id="8385564">(</span><span class="ident" id="8385565">bytes</span><span class="op" id="8385570">.</span><span class="ident" id="8385571">Buffer</span><span class="op" id="8385577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385580">tmpl</span>&nbsp;<span class="op" id="8385585">:=</span>&nbsp;<span class="ident" id="8385588">Must</span><span class="op" id="8385592">(</span><span class="ident" id="8385593">New</span><span class="op" id="8385596">(</span><span class="string" id="8385597">&#34;x&#34;</span><span class="op" id="8385600">)</span><span class="op" id="8385601">.</span><span class="ident" id="8385602">Parse</span><span class="op" id="8385607">(</span><span class="string" id="8385608">&#34;{{.}}&#34;</span><span class="op" id="8385615">)</span><span class="op" id="8385616">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385619">if</span>&nbsp;<span class="ident" id="8385622">err</span>&nbsp;<span class="op" id="8385626">:=</span>&nbsp;<span class="ident" id="8385629">tmpl</span><span class="op" id="8385633">.</span><span class="ident" id="8385634">Execute</span><span class="op" id="8385641">(</span><span class="ident" id="8385642">b</span><span class="op" id="8385643">,</span>&nbsp;<span class="ident" id="8385645">s</span><span class="op" id="8385646">)</span><span class="op" id="8385647">;</span>&nbsp;<span class="ident" id="8385649">err</span>&nbsp;<span class="op" id="8385653">!=</span>&nbsp;<span class="builtintype" id="8385656">nil</span>&nbsp;<span class="op" id="8385660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385664">t</span><span class="op" id="8385665">.</span><span class="ident" id="8385666">Fatal</span><span class="op" id="8385671">(</span><span class="ident" id="8385672">err</span><span class="op" id="8385675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385681">var</span>&nbsp;<span class="ident" id="8385685">expect</span>&nbsp;<span class="op" id="8385692">=</span>&nbsp;<span class="string" id="8385694">&#34;string=3&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385706">if</span>&nbsp;<span class="ident" id="8385709">b</span><span class="op" id="8385710">.</span><span class="ident" id="8385711">String</span><span class="op" id="8385717">(</span><span class="op" id="8385718">)</span>&nbsp;<span class="op" id="8385720">!=</span>&nbsp;<span class="ident" id="8385723">expect</span>&nbsp;<span class="op" id="8385730">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385734">t</span><span class="op" id="8385735">.</span><span class="ident" id="8385736">Errorf</span><span class="op" id="8385742">(</span><span class="string" id="8385743">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8385763">,</span>&nbsp;<span class="ident" id="8385765">expect</span><span class="op" id="8385771">,</span>&nbsp;<span class="ident" id="8385773">b</span><span class="op" id="8385774">.</span><span class="ident" id="8385775">String</span><span class="op" id="8385781">(</span><span class="op" id="8385782">)</span><span class="op" id="8385783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385789">e</span>&nbsp;<span class="op" id="8385791">:=</span>&nbsp;<span class="op" id="8385794">&amp;</span><span class="ident" id="8385795">errorer</span><span class="op" id="8385802">{</span><span class="num" id="8385803">7</span><span class="op" id="8385804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385807">b</span><span class="op" id="8385808">.</span><span class="ident" id="8385809">Reset</span><span class="op" id="8385814">(</span><span class="op" id="8385815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385818">if</span>&nbsp;<span class="ident" id="8385821">err</span>&nbsp;<span class="op" id="8385825">:=</span>&nbsp;<span class="ident" id="8385828">tmpl</span><span class="op" id="8385832">.</span><span class="ident" id="8385833">Execute</span><span class="op" id="8385840">(</span><span class="ident" id="8385841">b</span><span class="op" id="8385842">,</span>&nbsp;<span class="ident" id="8385844">e</span><span class="op" id="8385845">)</span><span class="op" id="8385846">;</span>&nbsp;<span class="ident" id="8385848">err</span>&nbsp;<span class="op" id="8385852">!=</span>&nbsp;<span class="builtintype" id="8385855">nil</span>&nbsp;<span class="op" id="8385859">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385863">t</span><span class="op" id="8385864">.</span><span class="ident" id="8385865">Fatal</span><span class="op" id="8385870">(</span><span class="ident" id="8385871">err</span><span class="op" id="8385874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385880">expect</span>&nbsp;<span class="op" id="8385887">=</span>&nbsp;<span class="string" id="8385889">&#34;error=7&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385900">if</span>&nbsp;<span class="ident" id="8385903">b</span><span class="op" id="8385904">.</span><span class="ident" id="8385905">String</span><span class="op" id="8385911">(</span><span class="op" id="8385912">)</span>&nbsp;<span class="op" id="8385914">!=</span>&nbsp;<span class="ident" id="8385917">expect</span>&nbsp;<span class="op" id="8385924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385928">t</span><span class="op" id="8385929">.</span><span class="ident" id="8385930">Errorf</span><span class="op" id="8385936">(</span><span class="string" id="8385937">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8385957">,</span>&nbsp;<span class="ident" id="8385959">expect</span><span class="op" id="8385965">,</span>&nbsp;<span class="ident" id="8385967">b</span><span class="op" id="8385968">.</span><span class="ident" id="8385969">String</span><span class="op" id="8385975">(</span><span class="op" id="8385976">)</span><span class="op" id="8385977">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385980">}</span><br>
<span class="lineno"></span><span class="op" id="8385982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8385985">//&nbsp;https://code.google.com/p/go/issues/detail?id=5982</span><br>
<span class="lineno"></span><span class="keyword" id="8386039">func</span>&nbsp;<span class="ident" id="8386044">TestEscapingNilNonemptyInterfaces</span><span class="op" id="8386077">(</span><span class="ident" id="8386078">t</span>&nbsp;<span class="op" id="8386080">*</span><span class="ident" id="8386081">testing</span><span class="op" id="8386088">.</span><span class="ident" id="8386089">T</span><span class="op" id="8386090">)</span>&nbsp;<span class="op" id="8386092">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386095">tmpl</span>&nbsp;<span class="op" id="8386100">:=</span>&nbsp;<span class="ident" id="8386103">Must</span><span class="op" id="8386107">(</span><span class="ident" id="8386108">New</span><span class="op" id="8386111">(</span><span class="string" id="8386112">&#34;x&#34;</span><span class="op" id="8386115">)</span><span class="op" id="8386116">.</span><span class="ident" id="8386117">Parse</span><span class="op" id="8386122">(</span><span class="string" id="8386123">&#34;{{.E}}&#34;</span><span class="op" id="8386131">)</span><span class="op" id="8386132">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386136">got</span>&nbsp;<span class="op" id="8386140">:=</span>&nbsp;<span class="builtinfunc" id="8386143">new</span><span class="op" id="8386146">(</span><span class="ident" id="8386147">bytes</span><span class="op" id="8386152">.</span><span class="ident" id="8386153">Buffer</span><span class="op" id="8386159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386162">testData</span>&nbsp;<span class="op" id="8386171">:=</span>&nbsp;<span class="keyword" id="8386174">struct</span><span class="op" id="8386180">{</span>&nbsp;<span class="ident" id="8386182">E</span>&nbsp;<span class="builtintype" id="8386184">error</span>&nbsp;<span class="op" id="8386190">}</span><span class="op" id="8386191">{</span><span class="op" id="8386192">}</span>&nbsp;<span class="comment" id="8386194">//&nbsp;any&nbsp;non-empty&nbsp;interface&nbsp;here&nbsp;will&nbsp;do;&nbsp;error&nbsp;is&nbsp;just&nbsp;ready&nbsp;at&nbsp;hand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386264">tmpl</span><span class="op" id="8386268">.</span><span class="ident" id="8386269">Execute</span><span class="op" id="8386276">(</span><span class="ident" id="8386277">got</span><span class="op" id="8386280">,</span>&nbsp;<span class="ident" id="8386282">testData</span><span class="op" id="8386290">)</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8386294">//&nbsp;Use&nbsp;this&nbsp;data&nbsp;instead&nbsp;of&nbsp;just&nbsp;hard-coding&nbsp;&#34;&amp;lt;nil&amp;gt;&#34;&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8386363">//&nbsp;dependencies&nbsp;on&nbsp;the&nbsp;html&nbsp;escaper&nbsp;and&nbsp;the&nbsp;behavior&nbsp;of&nbsp;fmt&nbsp;w.r.t.&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386436">want</span>&nbsp;<span class="op" id="8386441">:=</span>&nbsp;<span class="builtinfunc" id="8386444">new</span><span class="op" id="8386447">(</span><span class="ident" id="8386448">bytes</span><span class="op" id="8386453">.</span><span class="ident" id="8386454">Buffer</span><span class="op" id="8386460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386463">data</span>&nbsp;<span class="op" id="8386468">:=</span>&nbsp;<span class="keyword" id="8386471">struct</span><span class="op" id="8386477">{</span>&nbsp;<span class="ident" id="8386479">E</span>&nbsp;<span class="builtintype" id="8386481">string</span>&nbsp;<span class="op" id="8386488">}</span><span class="op" id="8386489">{</span><span class="ident" id="8386490">E</span><span class="op" id="8386491">:</span>&nbsp;<span class="ident" id="8386493">fmt</span><span class="op" id="8386496">.</span><span class="ident" id="8386497">Sprint</span><span class="op" id="8386503">(</span><span class="builtintype" id="8386504">nil</span><span class="op" id="8386507">)</span><span class="op" id="8386508">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386511">tmpl</span><span class="op" id="8386515">.</span><span class="ident" id="8386516">Execute</span><span class="op" id="8386523">(</span><span class="ident" id="8386524">want</span><span class="op" id="8386528">,</span>&nbsp;<span class="ident" id="8386530">data</span><span class="op" id="8386534">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386538">if</span>&nbsp;<span class="op" id="8386541">!</span><span class="ident" id="8386542">bytes</span><span class="op" id="8386547">.</span><span class="ident" id="8386548">Equal</span><span class="op" id="8386553">(</span><span class="ident" id="8386554">want</span><span class="op" id="8386558">.</span><span class="ident" id="8386559">Bytes</span><span class="op" id="8386564">(</span><span class="op" id="8386565">)</span><span class="op" id="8386566">,</span>&nbsp;<span class="ident" id="8386568">got</span><span class="op" id="8386571">.</span><span class="ident" id="8386572">Bytes</span><span class="op" id="8386577">(</span><span class="op" id="8386578">)</span><span class="op" id="8386579">)</span>&nbsp;<span class="op" id="8386581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386585">t</span><span class="op" id="8386586">.</span><span class="ident" id="8386587">Errorf</span><span class="op" id="8386593">(</span><span class="string" id="8386594">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8386614">,</span>&nbsp;<span class="builtintype" id="8386616">string</span><span class="op" id="8386622">(</span><span class="ident" id="8386623">want</span><span class="op" id="8386627">.</span><span class="ident" id="8386628">Bytes</span><span class="op" id="8386633">(</span><span class="op" id="8386634">)</span><span class="op" id="8386635">)</span><span class="op" id="8386636">,</span>&nbsp;<span class="builtintype" id="8386638">string</span><span class="op" id="8386644">(</span><span class="ident" id="8386645">got</span><span class="op" id="8386648">.</span><span class="ident" id="8386649">Bytes</span><span class="op" id="8386654">(</span><span class="op" id="8386655">)</span><span class="op" id="8386656">)</span><span class="op" id="8386657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8386660">}</span><br>
<span class="lineno">280</span><span class="op" id="8386662">}</span>
</div>
</body>
</html>
