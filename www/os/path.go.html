<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2462948">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2463003">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2463057">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2463108">package</span>&nbsp;<span class="ident" id="2463116">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2463120">import</span>&nbsp;<span class="op" id="2463127">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2463130">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2463136">&#34;syscall&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2463146">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2463149">//&nbsp;MkdirAll&nbsp;creates&nbsp;a&nbsp;directory&nbsp;named&nbsp;path,</span><br>
<span class="lineno"></span><span class="comment" id="2463193">//&nbsp;along&nbsp;with&nbsp;any&nbsp;necessary&nbsp;parents,&nbsp;and&nbsp;returns&nbsp;nil,</span><br>
<span class="lineno"></span><span class="comment" id="2463247">//&nbsp;or&nbsp;else&nbsp;returns&nbsp;an&nbsp;error.</span><br>
<span class="lineno">15</span><span class="comment" id="2463276">//&nbsp;The&nbsp;permission&nbsp;bits&nbsp;perm&nbsp;are&nbsp;used&nbsp;for&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2463321">//&nbsp;directories&nbsp;that&nbsp;MkdirAll&nbsp;creates.</span><br>
<span class="lineno"></span><span class="comment" id="2463359">//&nbsp;If&nbsp;path&nbsp;is&nbsp;already&nbsp;a&nbsp;directory,&nbsp;MkdirAll&nbsp;does&nbsp;nothing</span><br>
<span class="lineno"></span><span class="comment" id="2463416">//&nbsp;and&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2463436">func</span>&nbsp;<span class="ident" id="2463441">MkdirAll</span><span class="op" id="2463449">(</span><span class="ident" id="2463450">path</span>&nbsp;<span class="builtintype" id="2463455">string</span><span class="op" id="2463461">,</span>&nbsp;<span class="ident" id="2463463">perm</span>&nbsp;<span class="ident" id="2463468"><a href="/os/types.go.html#2472066">FileMode</a></span><span class="op" id="2463476">)</span>&nbsp;<span class="builtintype" id="2463478">error</span>&nbsp;<span class="op" id="2463484">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2463487">//&nbsp;Fast&nbsp;path:&nbsp;if&nbsp;we&nbsp;can&nbsp;tell&nbsp;whether&nbsp;path&nbsp;is&nbsp;a&nbsp;directory&nbsp;or&nbsp;file,&nbsp;stop&nbsp;with&nbsp;success&nbsp;or&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2463582">dir</span><span class="op" id="2463585">,</span>&nbsp;<span class="ident" id="2463587">err</span>&nbsp;<span class="op" id="2463591">:=</span>&nbsp;<span class="ident" id="2463594"><a href="/os/file_unix.go.html#2454464">Stat</a></span><span class="op" id="2463598">(</span><span class="ident" id="2463599"><a href="/os/path.go.html#2463450">path</a></span><span class="op" id="2463603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2463606">if</span>&nbsp;<span class="ident" id="2463609"><a href="/os/path.go.html#2463587">err</a></span>&nbsp;<span class="op" id="2463613">==</span>&nbsp;<span class="ident" id="2463616">nil</span>&nbsp;<span class="op" id="2463620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2463624">if</span>&nbsp;<span class="ident" id="2463627"><a href="/os/path.go.html#2463582">dir</a></span><span class="op" id="2463630">.</span><span class="ident" id="2463631">IsDir</span><span class="op" id="2463636">(</span><span class="op" id="2463637">)</span>&nbsp;<span class="op" id="2463639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2463644">return</span>&nbsp;<span class="ident" id="2463651">nil</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2463657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2463661">return</span>&nbsp;<span class="op" id="2463668">&amp;</span><span class="ident" id="2463669"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2463678">{</span><span class="string" id="2463679">&#34;mkdir&#34;</span><span class="op" id="2463686">,</span>&nbsp;<span class="ident" id="2463688"><a href="/os/path.go.html#2463450">path</a></span><span class="op" id="2463692">,</span>&nbsp;<span class="ident" id="2463694"><a href="/os/path.go.html#2463136">syscall</a></span><span class="op" id="2463701">.</span><span class="ident" id="2463702">ENOTDIR</span><span class="op" id="2463709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2463712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2463716">//&nbsp;Slow&nbsp;path:&nbsp;make&nbsp;sure&nbsp;parent&nbsp;exists&nbsp;and&nbsp;then&nbsp;call&nbsp;Mkdir&nbsp;for&nbsp;path.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2463785">i</span>&nbsp;<span class="op" id="2463787">:=</span>&nbsp;<span class="builtinfunc" id="2463790">len</span><span class="op" id="2463793">(</span><span class="ident" id="2463794"><a href="/os/path.go.html#2463450">path</a></span><span class="op" id="2463798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2463801">for</span>&nbsp;<span class="ident" id="2463805"><a href="/os/path.go.html#2463785">i</a></span>&nbsp;<span class="op" id="2463807">&gt;</span>&nbsp;<span class="num" id="2463809">0</span>&nbsp;<span class="op" id="2463811">&amp;&amp;</span>&nbsp;<span class="ident" id="2463814"><a href="/os/path_unix.go.html#2466333">IsPathSeparator</a></span><span class="op" id="2463829">(</span><span class="ident" id="2463830"><a href="/os/path.go.html#2463450">path</a></span><span class="op" id="2463834">[</span><span class="ident" id="2463835"><a href="/os/path.go.html#2463785">i</a></span><span class="op" id="2463836">-</span><span class="num" id="2463837">1</span><span class="op" id="2463838">]</span><span class="op" id="2463839">)</span>&nbsp;<span class="op" id="2463841">{</span>&nbsp;<span class="comment" id="2463843">//&nbsp;Skip&nbsp;trailing&nbsp;path&nbsp;separator.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2463878"><a href="/os/path.go.html#2463785">i</a></span><span class="op" id="2463879">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2463883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2463887">j</span>&nbsp;<span class="op" id="2463889">:=</span>&nbsp;<span class="ident" id="2463892"><a href="/os/path.go.html#2463785">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2463895">for</span>&nbsp;<span class="ident" id="2463899"><a href="/os/path.go.html#2463887">j</a></span>&nbsp;<span class="op" id="2463901">&gt;</span>&nbsp;<span class="num" id="2463903">0</span>&nbsp;<span class="op" id="2463905">&amp;&amp;</span>&nbsp;<span class="op" id="2463908">!</span><span class="ident" id="2463909"><a href="/os/path_unix.go.html#2466333">IsPathSeparator</a></span><span class="op" id="2463924">(</span><span class="ident" id="2463925"><a href="/os/path.go.html#2463450">path</a></span><span class="op" id="2463929">[</span><span class="ident" id="2463930"><a href="/os/path.go.html#2463887">j</a></span><span class="op" id="2463931">-</span><span class="num" id="2463932">1</span><span class="op" id="2463933">]</span><span class="op" id="2463934">)</span>&nbsp;<span class="op" id="2463936">{</span>&nbsp;<span class="comment" id="2463938">//&nbsp;Scan&nbsp;backward&nbsp;over&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2463971"><a href="/os/path.go.html#2463887">j</a></span><span class="op" id="2463972">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2463976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2463980">if</span>&nbsp;<span class="ident" id="2463983"><a href="/os/path.go.html#2463887">j</a></span>&nbsp;<span class="op" id="2463985">&gt;</span>&nbsp;<span class="num" id="2463987">1</span>&nbsp;<span class="op" id="2463989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2463993">//&nbsp;Create&nbsp;parent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464012"><a href="/os/path.go.html#2463587">err</a></span>&nbsp;<span class="op" id="2464016">=</span>&nbsp;<span class="ident" id="2464018"><a href="/os/path.go.html#2463441">MkdirAll</a></span><span class="op" id="2464026">(</span><span class="ident" id="2464027"><a href="/os/path.go.html#2463450">path</a></span><span class="op" id="2464031">[</span><span class="num" id="2464032">0</span><span class="op" id="2464033">:</span><span class="ident" id="2464034"><a href="/os/path.go.html#2463887">j</a></span><span class="op" id="2464035">-</span><span class="num" id="2464036">1</span><span class="op" id="2464037">]</span><span class="op" id="2464038">,</span>&nbsp;<span class="ident" id="2464040"><a href="/os/path.go.html#2463463">perm</a></span><span class="op" id="2464044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464048">if</span>&nbsp;<span class="ident" id="2464051"><a href="/os/path.go.html#2463587">err</a></span>&nbsp;<span class="op" id="2464055">!=</span>&nbsp;<span class="ident" id="2464058">nil</span>&nbsp;<span class="op" id="2464062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464067">return</span>&nbsp;<span class="ident" id="2464074"><a href="/os/path.go.html#2463587">err</a></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2464080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2464083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464087">//&nbsp;Parent&nbsp;now&nbsp;exists;&nbsp;invoke&nbsp;Mkdir&nbsp;and&nbsp;use&nbsp;its&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464143"><a href="/os/path.go.html#2463587">err</a></span>&nbsp;<span class="op" id="2464147">=</span>&nbsp;<span class="ident" id="2464149"><a href="/os/file.go.html#2444861">Mkdir</a></span><span class="op" id="2464154">(</span><span class="ident" id="2464155"><a href="/os/path.go.html#2463450">path</a></span><span class="op" id="2464159">,</span>&nbsp;<span class="ident" id="2464161"><a href="/os/path.go.html#2463463">perm</a></span><span class="op" id="2464165">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464168">if</span>&nbsp;<span class="ident" id="2464171"><a href="/os/path.go.html#2463587">err</a></span>&nbsp;<span class="op" id="2464175">!=</span>&nbsp;<span class="ident" id="2464178">nil</span>&nbsp;<span class="op" id="2464182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464186">//&nbsp;Handle&nbsp;arguments&nbsp;like&nbsp;&#34;foo/.&#34;&nbsp;by</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464224">//&nbsp;double-checking&nbsp;that&nbsp;directory&nbsp;doesn&#39;t&nbsp;exist.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464275">dir</span><span class="op" id="2464278">,</span>&nbsp;<span class="ident" id="2464280">err1</span>&nbsp;<span class="op" id="2464285">:=</span>&nbsp;<span class="ident" id="2464288"><a href="/os/file_unix.go.html#2454926">Lstat</a></span><span class="op" id="2464293">(</span><span class="ident" id="2464294"><a href="/os/path.go.html#2463450">path</a></span><span class="op" id="2464298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464302">if</span>&nbsp;<span class="ident" id="2464305"><a href="/os/path.go.html#2464280">err1</a></span>&nbsp;<span class="op" id="2464310">==</span>&nbsp;<span class="ident" id="2464313">nil</span>&nbsp;<span class="op" id="2464317">&amp;&amp;</span>&nbsp;<span class="ident" id="2464320"><a href="/os/path.go.html#2464275">dir</a></span><span class="op" id="2464323">.</span><span class="ident" id="2464324">IsDir</span><span class="op" id="2464329">(</span><span class="op" id="2464330">)</span>&nbsp;<span class="op" id="2464332">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464337">return</span>&nbsp;<span class="ident" id="2464344">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2464350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464354">return</span>&nbsp;<span class="ident" id="2464361"><a href="/os/path.go.html#2463587">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2464366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464369">return</span>&nbsp;<span class="ident" id="2464376">nil</span><br>
<span class="lineno">60</span><span class="op" id="2464380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2464383">//&nbsp;RemoveAll&nbsp;removes&nbsp;path&nbsp;and&nbsp;any&nbsp;children&nbsp;it&nbsp;contains.</span><br>
<span class="lineno"></span><span class="comment" id="2464439">//&nbsp;It&nbsp;removes&nbsp;everything&nbsp;it&nbsp;can&nbsp;but&nbsp;returns&nbsp;the&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2464499">//&nbsp;it&nbsp;encounters.&nbsp;&nbsp;If&nbsp;the&nbsp;path&nbsp;does&nbsp;not&nbsp;exist,&nbsp;RemoveAll</span><br>
<span class="lineno">65</span><span class="comment" id="2464556">//&nbsp;returns&nbsp;nil&nbsp;(no&nbsp;error).</span><br>
<span class="lineno"></span><span class="keyword" id="2464583">func</span>&nbsp;<span class="ident" id="2464588">RemoveAll</span><span class="op" id="2464597">(</span><span class="ident" id="2464598">path</span>&nbsp;<span class="builtintype" id="2464603">string</span><span class="op" id="2464609">)</span>&nbsp;<span class="builtintype" id="2464611">error</span>&nbsp;<span class="op" id="2464617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464620">//&nbsp;Simple&nbsp;case:&nbsp;if&nbsp;Remove&nbsp;works,&nbsp;we&#39;re&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464666">err</span>&nbsp;<span class="op" id="2464670">:=</span>&nbsp;<span class="ident" id="2464673"><a href="/os/file_unix.go.html#2458347">Remove</a></span><span class="op" id="2464679">(</span><span class="ident" id="2464680"><a href="/os/path.go.html#2464598">path</a></span><span class="op" id="2464684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464687">if</span>&nbsp;<span class="ident" id="2464690"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2464694">==</span>&nbsp;<span class="ident" id="2464697">nil</span>&nbsp;<span class="op" id="2464701">||</span>&nbsp;<span class="ident" id="2464704"><a href="/os/error.go.html#2430982">IsNotExist</a></span><span class="op" id="2464714">(</span><span class="ident" id="2464715"><a href="/os/path.go.html#2464666">err</a></span><span class="op" id="2464718">)</span>&nbsp;<span class="op" id="2464720">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464724">return</span>&nbsp;<span class="ident" id="2464731">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2464736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464740">//&nbsp;Otherwise,&nbsp;is&nbsp;this&nbsp;a&nbsp;directory&nbsp;we&nbsp;need&nbsp;to&nbsp;recurse&nbsp;into?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464800">dir</span><span class="op" id="2464803">,</span>&nbsp;<span class="ident" id="2464805">serr</span>&nbsp;<span class="op" id="2464810">:=</span>&nbsp;<span class="ident" id="2464813"><a href="/os/file_unix.go.html#2454926">Lstat</a></span><span class="op" id="2464818">(</span><span class="ident" id="2464819"><a href="/os/path.go.html#2464598">path</a></span><span class="op" id="2464823">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464826">if</span>&nbsp;<span class="ident" id="2464829"><a href="/os/path.go.html#2464805">serr</a></span>&nbsp;<span class="op" id="2464834">!=</span>&nbsp;<span class="ident" id="2464837">nil</span>&nbsp;<span class="op" id="2464841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464845">if</span>&nbsp;<span class="ident" id="2464848">serr</span><span class="op" id="2464852">,</span>&nbsp;<span class="ident" id="2464854">ok</span>&nbsp;<span class="op" id="2464857">:=</span>&nbsp;<span class="ident" id="2464860"><a href="/os/path.go.html#2464805">serr</a></span><span class="op" id="2464864">.</span><span class="op" id="2464865">(</span><span class="op" id="2464866">*</span><span class="ident" id="2464867"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2464876">)</span><span class="op" id="2464877">;</span>&nbsp;<span class="ident" id="2464879"><a href="/os/path.go.html#2464854">ok</a></span>&nbsp;<span class="op" id="2464882">&amp;&amp;</span>&nbsp;<span class="op" id="2464885">(</span><span class="ident" id="2464886"><a href="/os/error.go.html#2430982">IsNotExist</a></span><span class="op" id="2464896">(</span><span class="ident" id="2464897"><a href="/os/path.go.html#2464848">serr</a></span><span class="op" id="2464901">.</span><span class="ident" id="2464902">Err</span><span class="op" id="2464905">)</span>&nbsp;<span class="op" id="2464907">||</span>&nbsp;<span class="ident" id="2464910"><a href="/os/path.go.html#2464848">serr</a></span><span class="op" id="2464914">.</span><span class="ident" id="2464915">Err</span>&nbsp;<span class="op" id="2464919">==</span>&nbsp;<span class="ident" id="2464922"><a href="/os/path.go.html#2463136">syscall</a></span><span class="op" id="2464929">.</span><span class="ident" id="2464930">ENOTDIR</span><span class="op" id="2464937">)</span>&nbsp;<span class="op" id="2464939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464944">return</span>&nbsp;<span class="ident" id="2464951">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2464957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464961">return</span>&nbsp;<span class="ident" id="2464968"><a href="/os/path.go.html#2464805">serr</a></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2464974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464977">if</span>&nbsp;<span class="op" id="2464980">!</span><span class="ident" id="2464981"><a href="/os/path.go.html#2464800">dir</a></span><span class="op" id="2464984">.</span><span class="ident" id="2464985">IsDir</span><span class="op" id="2464990">(</span><span class="op" id="2464991">)</span>&nbsp;<span class="op" id="2464993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464997">//&nbsp;Not&nbsp;a&nbsp;directory;&nbsp;return&nbsp;the&nbsp;error&nbsp;from&nbsp;Remove.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465049">return</span>&nbsp;<span class="ident" id="2465056"><a href="/os/path.go.html#2464666">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465061">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465065">//&nbsp;Directory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465080">fd</span><span class="op" id="2465082">,</span>&nbsp;<span class="ident" id="2465084"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2465088">:=</span>&nbsp;<span class="ident" id="2465091"><a href="/os/file.go.html#2445816">Open</a></span><span class="op" id="2465095">(</span><span class="ident" id="2465096"><a href="/os/path.go.html#2464598">path</a></span><span class="op" id="2465100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465103">if</span>&nbsp;<span class="ident" id="2465106"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2465110">!=</span>&nbsp;<span class="ident" id="2465113">nil</span>&nbsp;<span class="op" id="2465117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465121">if</span>&nbsp;<span class="ident" id="2465124"><a href="/os/error.go.html#2430982">IsNotExist</a></span><span class="op" id="2465134">(</span><span class="ident" id="2465135"><a href="/os/path.go.html#2464666">err</a></span><span class="op" id="2465138">)</span>&nbsp;<span class="op" id="2465140">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465145">//&nbsp;Race.&nbsp;It&nbsp;was&nbsp;deleted&nbsp;between&nbsp;the&nbsp;Lstat&nbsp;and&nbsp;Open.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465200">//&nbsp;Return&nbsp;nil&nbsp;per&nbsp;RemoveAll&#39;s&nbsp;docs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465239">return</span>&nbsp;<span class="ident" id="2465246">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465256">return</span>&nbsp;<span class="ident" id="2465263"><a href="/os/path.go.html#2464666">err</a></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465272">//&nbsp;Remove&nbsp;contents&nbsp;&amp;&nbsp;return&nbsp;first&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465314"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2465318">=</span>&nbsp;<span class="ident" id="2465320">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465325">for</span>&nbsp;<span class="op" id="2465329">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465333">names</span><span class="op" id="2465338">,</span>&nbsp;<span class="ident" id="2465340">err1</span>&nbsp;<span class="op" id="2465345">:=</span>&nbsp;<span class="ident" id="2465348"><a href="/os/path.go.html#2465080">fd</a></span><span class="op" id="2465350">.</span><span class="ident" id="2465351">Readdirnames</span><span class="op" id="2465363">(</span><span class="num" id="2465364">100</span><span class="op" id="2465367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465371">for</span>&nbsp;<span class="ident" id="2465375">_</span><span class="op" id="2465376">,</span>&nbsp;<span class="ident" id="2465378">name</span>&nbsp;<span class="op" id="2465383">:=</span>&nbsp;<span class="keyword" id="2465386">range</span>&nbsp;<span class="ident" id="2465392"><a href="/os/path.go.html#2465333">names</a></span>&nbsp;<span class="op" id="2465398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465403">err1</span>&nbsp;<span class="op" id="2465408">:=</span>&nbsp;<span class="ident" id="2465411"><a href="/os/path.go.html#2464588">RemoveAll</a></span><span class="op" id="2465420">(</span><span class="ident" id="2465421"><a href="/os/path.go.html#2464598">path</a></span>&nbsp;<span class="op" id="2465426">+</span>&nbsp;<span class="builtintype" id="2465428">string</span><span class="op" id="2465434">(</span><span class="ident" id="2465435"><a href="/os/path_unix.go.html#2466138">PathSeparator</a></span><span class="op" id="2465448">)</span>&nbsp;<span class="op" id="2465450">+</span>&nbsp;<span class="ident" id="2465452"><a href="/os/path.go.html#2465378">name</a></span><span class="op" id="2465456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465461">if</span>&nbsp;<span class="ident" id="2465464"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2465468">==</span>&nbsp;<span class="ident" id="2465471">nil</span>&nbsp;<span class="op" id="2465475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465481"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2465485">=</span>&nbsp;<span class="ident" id="2465487"><a href="/os/path.go.html#2465403">err1</a></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465503">if</span>&nbsp;<span class="ident" id="2465506"><a href="/os/path.go.html#2465340">err1</a></span>&nbsp;<span class="op" id="2465511">==</span>&nbsp;<span class="ident" id="2465514"><a href="/os/path.go.html#2463130">io</a></span><span class="op" id="2465516">.</span><span class="ident" id="2465517">EOF</span>&nbsp;<span class="op" id="2465521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465526">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465534">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465538">//&nbsp;If&nbsp;Readdirnames&nbsp;returned&nbsp;an&nbsp;error,&nbsp;use&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465586">if</span>&nbsp;<span class="ident" id="2465589"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2465593">==</span>&nbsp;<span class="ident" id="2465596">nil</span>&nbsp;<span class="op" id="2465600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465605"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2465609">=</span>&nbsp;<span class="ident" id="2465611"><a href="/os/path.go.html#2465340">err1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465622">if</span>&nbsp;<span class="builtinfunc" id="2465625">len</span><span class="op" id="2465628">(</span><span class="ident" id="2465629"><a href="/os/path.go.html#2465333">names</a></span><span class="op" id="2465634">)</span>&nbsp;<span class="op" id="2465636">==</span>&nbsp;<span class="num" id="2465639">0</span>&nbsp;<span class="op" id="2465641">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465646">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465661">//&nbsp;Close&nbsp;directory,&nbsp;because&nbsp;windows&nbsp;won&#39;t&nbsp;remove&nbsp;opened&nbsp;directory.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465729"><a href="/os/path.go.html#2465080">fd</a></span><span class="op" id="2465731">.</span><span class="ident" id="2465732">Close</span><span class="op" id="2465737">(</span><span class="op" id="2465738">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465742">//&nbsp;Remove&nbsp;directory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465764">err1</span>&nbsp;<span class="op" id="2465769">:=</span>&nbsp;<span class="ident" id="2465772"><a href="/os/file_unix.go.html#2458347">Remove</a></span><span class="op" id="2465778">(</span><span class="ident" id="2465779"><a href="/os/path.go.html#2464598">path</a></span><span class="op" id="2465783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465786">if</span>&nbsp;<span class="ident" id="2465789"><a href="/os/path.go.html#2465764">err1</a></span>&nbsp;<span class="op" id="2465794">==</span>&nbsp;<span class="ident" id="2465797">nil</span>&nbsp;<span class="op" id="2465801">||</span>&nbsp;<span class="ident" id="2465804"><a href="/os/error.go.html#2430982">IsNotExist</a></span><span class="op" id="2465814">(</span><span class="ident" id="2465815"><a href="/os/path.go.html#2465764">err1</a></span><span class="op" id="2465819">)</span>&nbsp;<span class="op" id="2465821">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465825">return</span>&nbsp;<span class="ident" id="2465832">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465840">if</span>&nbsp;<span class="ident" id="2465843"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2465847">==</span>&nbsp;<span class="ident" id="2465850">nil</span>&nbsp;<span class="op" id="2465854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465858"><a href="/os/path.go.html#2464666">err</a></span>&nbsp;<span class="op" id="2465862">=</span>&nbsp;<span class="ident" id="2465864"><a href="/os/path.go.html#2465764">err1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465870">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465873">return</span>&nbsp;<span class="ident" id="2465880"><a href="/os/path.go.html#2464666">err</a></span><br>
<span class="lineno"></span><span class="op" id="2465884">}</span>
</div>
</body>
</html>
