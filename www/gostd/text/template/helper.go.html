<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html" class="current">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3589961">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3590016">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3590070">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3590121">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3590181">package</span>&nbsp;<span class="ident" id="3590189">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3590199">import</span>&nbsp;<span class="op" id="3590206">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3590209">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3590216">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3590229">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="3590245">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3590248">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3590294">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="3590375">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="3590449">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="3590476">//&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="3590537">func</span>&nbsp;<span class="ident" id="3590542">Must</span><span class="op" id="3590546">(</span><span class="ident" id="3590547">t</span>&nbsp;<span class="op" id="3590549">*</span><span class="ident" id="3590550">Template</span><span class="op" id="3590558">,</span>&nbsp;<span class="ident" id="3590560">err</span>&nbsp;<span class="builtintype" id="3590564">error</span><span class="op" id="3590569">)</span>&nbsp;<span class="op" id="3590571">*</span><span class="ident" id="3590572">Template</span>&nbsp;<span class="op" id="3590581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3590584">if</span>&nbsp;<span class="ident" id="3590587">err</span>&nbsp;<span class="op" id="3590591">!=</span>&nbsp;<span class="builtintype" id="3590594">nil</span>&nbsp;<span class="op" id="3590598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3590602">panic</span><span class="op" id="3590607">(</span><span class="ident" id="3590608">err</span><span class="op" id="3590611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3590614">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3590617">return</span>&nbsp;<span class="ident" id="3590624">t</span><br>
<span class="lineno"></span><span class="op" id="3590626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3590629">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="3590707">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="3590786">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="3590859">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="3590931">func</span>&nbsp;<span class="ident" id="3590936">ParseFiles</span><span class="op" id="3590946">(</span><span class="ident" id="3590947">filenames</span>&nbsp;<span class="op" id="3590957">...</span><span class="builtintype" id="3590960">string</span><span class="op" id="3590966">)</span>&nbsp;<span class="op" id="3590968">(</span><span class="op" id="3590969">*</span><span class="ident" id="3590970">Template</span><span class="op" id="3590978">,</span>&nbsp;<span class="builtintype" id="3590980">error</span><span class="op" id="3590985">)</span>&nbsp;<span class="op" id="3590987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3590990">return</span>&nbsp;<span class="ident" id="3590997">parseFiles</span><span class="op" id="3591007">(</span><span class="builtintype" id="3591008">nil</span><span class="op" id="3591011">,</span>&nbsp;<span class="ident" id="3591013">filenames</span><span class="op" id="3591022">...</span><span class="op" id="3591025">)</span><br>
<span class="lineno"></span><span class="op" id="3591027">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3591030">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3591111">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="3591185">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="3591240">func</span>&nbsp;<span class="op" id="3591245">(</span><span class="ident" id="3591246">t</span>&nbsp;<span class="op" id="3591248">*</span><span class="ident" id="3591249">Template</span><span class="op" id="3591257">)</span>&nbsp;<span class="ident" id="3591259">ParseFiles</span><span class="op" id="3591269">(</span><span class="ident" id="3591270">filenames</span>&nbsp;<span class="op" id="3591280">...</span><span class="builtintype" id="3591283">string</span><span class="op" id="3591289">)</span>&nbsp;<span class="op" id="3591291">(</span><span class="op" id="3591292">*</span><span class="ident" id="3591293">Template</span><span class="op" id="3591301">,</span>&nbsp;<span class="builtintype" id="3591303">error</span><span class="op" id="3591308">)</span>&nbsp;<span class="op" id="3591310">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3591313">return</span>&nbsp;<span class="ident" id="3591320">parseFiles</span><span class="op" id="3591330">(</span><span class="ident" id="3591331">t</span><span class="op" id="3591332">,</span>&nbsp;<span class="ident" id="3591334">filenames</span><span class="op" id="3591343">...</span><span class="op" id="3591346">)</span><br>
<span class="lineno"></span><span class="op" id="3591348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3591351">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="3591424">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="3591479">func</span>&nbsp;<span class="ident" id="3591484">parseFiles</span><span class="op" id="3591494">(</span><span class="ident" id="3591495">t</span>&nbsp;<span class="op" id="3591497">*</span><span class="ident" id="3591498">Template</span><span class="op" id="3591506">,</span>&nbsp;<span class="ident" id="3591508">filenames</span>&nbsp;<span class="op" id="3591518">...</span><span class="builtintype" id="3591521">string</span><span class="op" id="3591527">)</span>&nbsp;<span class="op" id="3591529">(</span><span class="op" id="3591530">*</span><span class="ident" id="3591531">Template</span><span class="op" id="3591539">,</span>&nbsp;<span class="builtintype" id="3591541">error</span><span class="op" id="3591546">)</span>&nbsp;<span class="op" id="3591548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3591551">if</span>&nbsp;<span class="builtinfunc" id="3591554">len</span><span class="op" id="3591557">(</span><span class="ident" id="3591558">filenames</span><span class="op" id="3591567">)</span>&nbsp;<span class="op" id="3591569">==</span>&nbsp;<span class="num" id="3591572">0</span>&nbsp;<span class="op" id="3591574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3591578">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3591624">return</span>&nbsp;<span class="builtintype" id="3591631">nil</span><span class="op" id="3591634">,</span>&nbsp;<span class="ident" id="3591636">fmt</span><span class="op" id="3591639">.</span><span class="ident" id="3591640">Errorf</span><span class="op" id="3591646">(</span><span class="string" id="3591647">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="3591695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3591698">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3591701">for</span>&nbsp;<span class="ident" id="3591705">_</span><span class="op" id="3591706">,</span>&nbsp;<span class="ident" id="3591708">filename</span>&nbsp;<span class="op" id="3591717">:=</span>&nbsp;<span class="keyword" id="3591720">range</span>&nbsp;<span class="ident" id="3591726">filenames</span>&nbsp;<span class="op" id="3591736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3591740">b</span><span class="op" id="3591741">,</span>&nbsp;<span class="ident" id="3591743">err</span>&nbsp;<span class="op" id="3591747">:=</span>&nbsp;<span class="ident" id="3591750">ioutil</span><span class="op" id="3591756">.</span><span class="ident" id="3591757">ReadFile</span><span class="op" id="3591765">(</span><span class="ident" id="3591766">filename</span><span class="op" id="3591774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3591778">if</span>&nbsp;<span class="ident" id="3591781">err</span>&nbsp;<span class="op" id="3591785">!=</span>&nbsp;<span class="builtintype" id="3591788">nil</span>&nbsp;<span class="op" id="3591792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3591797">return</span>&nbsp;<span class="builtintype" id="3591804">nil</span><span class="op" id="3591807">,</span>&nbsp;<span class="ident" id="3591809">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3591815">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3591819">s</span>&nbsp;<span class="op" id="3591821">:=</span>&nbsp;<span class="builtintype" id="3591824">string</span><span class="op" id="3591830">(</span><span class="ident" id="3591831">b</span><span class="op" id="3591832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3591836">name</span>&nbsp;<span class="op" id="3591841">:=</span>&nbsp;<span class="ident" id="3591844">filepath</span><span class="op" id="3591852">.</span><span class="ident" id="3591853">Base</span><span class="op" id="3591857">(</span><span class="ident" id="3591858">filename</span><span class="op" id="3591866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3591870">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3591935">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3591998">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3592068">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3592119">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3592173">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3592239">var</span>&nbsp;<span class="ident" id="3592243">tmpl</span>&nbsp;<span class="op" id="3592248">*</span><span class="ident" id="3592249">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3592260">if</span>&nbsp;<span class="ident" id="3592263">t</span>&nbsp;<span class="op" id="3592265">==</span>&nbsp;<span class="builtintype" id="3592268">nil</span>&nbsp;<span class="op" id="3592272">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3592277">t</span>&nbsp;<span class="op" id="3592279">=</span>&nbsp;<span class="ident" id="3592281">New</span><span class="op" id="3592284">(</span><span class="ident" id="3592285">name</span><span class="op" id="3592289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3592293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3592297">if</span>&nbsp;<span class="ident" id="3592300">name</span>&nbsp;<span class="op" id="3592305">==</span>&nbsp;<span class="ident" id="3592308">t</span><span class="op" id="3592309">.</span><span class="ident" id="3592310">Name</span><span class="op" id="3592314">(</span><span class="op" id="3592315">)</span>&nbsp;<span class="op" id="3592317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3592322">tmpl</span>&nbsp;<span class="op" id="3592327">=</span>&nbsp;<span class="ident" id="3592329">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3592333">}</span>&nbsp;<span class="keyword" id="3592335">else</span>&nbsp;<span class="op" id="3592340">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3592345">tmpl</span>&nbsp;<span class="op" id="3592350">=</span>&nbsp;<span class="ident" id="3592352">t</span><span class="op" id="3592353">.</span><span class="ident" id="3592354">New</span><span class="op" id="3592357">(</span><span class="ident" id="3592358">name</span><span class="op" id="3592362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3592366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3592370">_</span><span class="op" id="3592371">,</span>&nbsp;<span class="ident" id="3592373">err</span>&nbsp;<span class="op" id="3592377">=</span>&nbsp;<span class="ident" id="3592379">tmpl</span><span class="op" id="3592383">.</span><span class="ident" id="3592384">Parse</span><span class="op" id="3592389">(</span><span class="ident" id="3592390">s</span><span class="op" id="3592391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3592395">if</span>&nbsp;<span class="ident" id="3592398">err</span>&nbsp;<span class="op" id="3592402">!=</span>&nbsp;<span class="builtintype" id="3592405">nil</span>&nbsp;<span class="op" id="3592409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3592414">return</span>&nbsp;<span class="builtintype" id="3592421">nil</span><span class="op" id="3592424">,</span>&nbsp;<span class="ident" id="3592426">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3592432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3592435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3592438">return</span>&nbsp;<span class="ident" id="3592445">t</span><span class="op" id="3592446">,</span>&nbsp;<span class="builtintype" id="3592448">nil</span><br>
<span class="lineno"></span><span class="op" id="3592452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="3592455">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3592536">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3592612">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3592688">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="3592761">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="3592822">func</span>&nbsp;<span class="ident" id="3592827">ParseGlob</span><span class="op" id="3592836">(</span><span class="ident" id="3592837">pattern</span>&nbsp;<span class="builtintype" id="3592845">string</span><span class="op" id="3592851">)</span>&nbsp;<span class="op" id="3592853">(</span><span class="op" id="3592854">*</span><span class="ident" id="3592855">Template</span><span class="op" id="3592863">,</span>&nbsp;<span class="builtintype" id="3592865">error</span><span class="op" id="3592870">)</span>&nbsp;<span class="op" id="3592872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3592875">return</span>&nbsp;<span class="ident" id="3592882">parseGlob</span><span class="op" id="3592891">(</span><span class="builtintype" id="3592892">nil</span><span class="op" id="3592895">,</span>&nbsp;<span class="ident" id="3592897">pattern</span><span class="op" id="3592904">)</span><br>
<span class="lineno"></span><span class="op" id="3592906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3592909">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="3592985">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3593058">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3593135">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3593211">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="3593223">func</span>&nbsp;<span class="op" id="3593228">(</span><span class="ident" id="3593229">t</span>&nbsp;<span class="op" id="3593231">*</span><span class="ident" id="3593232">Template</span><span class="op" id="3593240">)</span>&nbsp;<span class="ident" id="3593242">ParseGlob</span><span class="op" id="3593251">(</span><span class="ident" id="3593252">pattern</span>&nbsp;<span class="builtintype" id="3593260">string</span><span class="op" id="3593266">)</span>&nbsp;<span class="op" id="3593268">(</span><span class="op" id="3593269">*</span><span class="ident" id="3593270">Template</span><span class="op" id="3593278">,</span>&nbsp;<span class="builtintype" id="3593280">error</span><span class="op" id="3593285">)</span>&nbsp;<span class="op" id="3593287">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3593290">return</span>&nbsp;<span class="ident" id="3593297">parseGlob</span><span class="op" id="3593306">(</span><span class="ident" id="3593307">t</span><span class="op" id="3593308">,</span>&nbsp;<span class="ident" id="3593310">pattern</span><span class="op" id="3593317">)</span><br>
<span class="lineno"></span><span class="op" id="3593319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3593322">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="3593395">func</span>&nbsp;<span class="ident" id="3593400">parseGlob</span><span class="op" id="3593409">(</span><span class="ident" id="3593410">t</span>&nbsp;<span class="op" id="3593412">*</span><span class="ident" id="3593413">Template</span><span class="op" id="3593421">,</span>&nbsp;<span class="ident" id="3593423">pattern</span>&nbsp;<span class="builtintype" id="3593431">string</span><span class="op" id="3593437">)</span>&nbsp;<span class="op" id="3593439">(</span><span class="op" id="3593440">*</span><span class="ident" id="3593441">Template</span><span class="op" id="3593449">,</span>&nbsp;<span class="builtintype" id="3593451">error</span><span class="op" id="3593456">)</span>&nbsp;<span class="op" id="3593458">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3593461">filenames</span><span class="op" id="3593470">,</span>&nbsp;<span class="ident" id="3593472">err</span>&nbsp;<span class="op" id="3593476">:=</span>&nbsp;<span class="ident" id="3593479">filepath</span><span class="op" id="3593487">.</span><span class="ident" id="3593488">Glob</span><span class="op" id="3593492">(</span><span class="ident" id="3593493">pattern</span><span class="op" id="3593500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3593503">if</span>&nbsp;<span class="ident" id="3593506">err</span>&nbsp;<span class="op" id="3593510">!=</span>&nbsp;<span class="builtintype" id="3593513">nil</span>&nbsp;<span class="op" id="3593517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3593521">return</span>&nbsp;<span class="builtintype" id="3593528">nil</span><span class="op" id="3593531">,</span>&nbsp;<span class="ident" id="3593533">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3593538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3593541">if</span>&nbsp;<span class="builtinfunc" id="3593544">len</span><span class="op" id="3593547">(</span><span class="ident" id="3593548">filenames</span><span class="op" id="3593557">)</span>&nbsp;<span class="op" id="3593559">==</span>&nbsp;<span class="num" id="3593562">0</span>&nbsp;<span class="op" id="3593564">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3593568">return</span>&nbsp;<span class="builtintype" id="3593575">nil</span><span class="op" id="3593578">,</span>&nbsp;<span class="ident" id="3593580">fmt</span><span class="op" id="3593583">.</span><span class="ident" id="3593584">Errorf</span><span class="op" id="3593590">(</span><span class="string" id="3593591">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="3593632">,</span>&nbsp;<span class="ident" id="3593634">pattern</span><span class="op" id="3593641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3593644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3593647">return</span>&nbsp;<span class="ident" id="3593654">parseFiles</span><span class="op" id="3593664">(</span><span class="ident" id="3593665">t</span><span class="op" id="3593666">,</span>&nbsp;<span class="ident" id="3593668">filenames</span><span class="op" id="3593677">...</span><span class="op" id="3593680">)</span><br>
<span class="lineno"></span><span class="op" id="3593682">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
