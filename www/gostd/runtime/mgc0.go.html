<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html" class="current">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1616270">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1616325">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1616379">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1616430">package</span>&nbsp;<span class="ident" id="1616438">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1616447">import</span>&nbsp;<span class="string" id="1616454">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1616464">//&nbsp;Called&nbsp;from&nbsp;C.&nbsp;Returns&nbsp;the&nbsp;Go&nbsp;type&nbsp;*m.</span><br>
<span class="lineno">10</span><span class="keyword" id="1616506">func</span>&nbsp;<span class="ident" id="1616511">gc_m_ptr</span><span class="op" id="1616519">(</span><span class="ident" id="1616520">ret</span>&nbsp;<span class="op" id="1616524">*</span><span class="keyword" id="1616525">interface</span><span class="op" id="1616534">{</span><span class="op" id="1616535">}</span><span class="op" id="1616536">)</span>&nbsp;<span class="op" id="1616538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616541">*</span><span class="ident" id="1616542"><a href="/gostd/runtime/mgc0.go.html#1616520">ret</a></span>&nbsp;<span class="op" id="1616546">=</span>&nbsp;<span class="op" id="1616548">(</span><span class="op" id="1616549">*</span><span class="ident" id="1616550"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1787810">m</a></span><span class="op" id="1616551">)</span><span class="op" id="1616552">(</span><span class="builtintype" id="1616553">nil</span><span class="op" id="1616556">)</span><br>
<span class="lineno"></span><span class="op" id="1616558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1616561">//&nbsp;Called&nbsp;from&nbsp;C.&nbsp;Returns&nbsp;the&nbsp;Go&nbsp;type&nbsp;*g.</span><br>
<span class="lineno">15</span><span class="keyword" id="1616603">func</span>&nbsp;<span class="ident" id="1616608">gc_g_ptr</span><span class="op" id="1616616">(</span><span class="ident" id="1616617">ret</span>&nbsp;<span class="op" id="1616621">*</span><span class="keyword" id="1616622">interface</span><span class="op" id="1616631">{</span><span class="op" id="1616632">}</span><span class="op" id="1616633">)</span>&nbsp;<span class="op" id="1616635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616638">*</span><span class="ident" id="1616639"><a href="/gostd/runtime/mgc0.go.html#1616617">ret</a></span>&nbsp;<span class="op" id="1616643">=</span>&nbsp;<span class="op" id="1616645">(</span><span class="op" id="1616646">*</span><span class="ident" id="1616647"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1787271">g</a></span><span class="op" id="1616648">)</span><span class="op" id="1616649">(</span><span class="builtintype" id="1616650">nil</span><span class="op" id="1616653">)</span><br>
<span class="lineno"></span><span class="op" id="1616655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1616658">//&nbsp;Called&nbsp;from&nbsp;C.&nbsp;Returns&nbsp;the&nbsp;Go&nbsp;type&nbsp;*itab.</span><br>
<span class="lineno">20</span><span class="keyword" id="1616703">func</span>&nbsp;<span class="ident" id="1616708">gc_itab_ptr</span><span class="op" id="1616719">(</span><span class="ident" id="1616720">ret</span>&nbsp;<span class="op" id="1616724">*</span><span class="keyword" id="1616725">interface</span><span class="op" id="1616734">{</span><span class="op" id="1616735">}</span><span class="op" id="1616736">)</span>&nbsp;<span class="op" id="1616738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616741">*</span><span class="ident" id="1616742"><a href="/gostd/runtime/mgc0.go.html#1616720">ret</a></span>&nbsp;<span class="op" id="1616746">=</span>&nbsp;<span class="op" id="1616748">(</span><span class="op" id="1616749">*</span><span class="ident" id="1616750"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1789685">itab</a></span><span class="op" id="1616754">)</span><span class="op" id="1616755">(</span><span class="builtintype" id="1616756">nil</span><span class="op" id="1616759">)</span><br>
<span class="lineno"></span><span class="op" id="1616761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1616764">func</span>&nbsp;<span class="ident" id="1616769">gc_unixnanotime</span><span class="op" id="1616784">(</span><span class="ident" id="1616785">now</span>&nbsp;<span class="op" id="1616789">*</span><span class="builtintype" id="1616790">int64</span><span class="op" id="1616795">)</span>&nbsp;<span class="op" id="1616797">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616800">sec</span><span class="op" id="1616803">,</span>&nbsp;<span class="ident" id="1616805">nsec</span>&nbsp;<span class="op" id="1616810">:=</span>&nbsp;<span class="ident" id="1616813"><a href="/gostd/runtime/stubs.go.html#1747075">timenow</a></span><span class="op" id="1616820">(</span><span class="op" id="1616821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616824">*</span><span class="ident" id="1616825"><a href="/gostd/runtime/mgc0.go.html#1616785">now</a></span>&nbsp;<span class="op" id="1616829">=</span>&nbsp;<span class="ident" id="1616831"><a href="/gostd/runtime/mgc0.go.html#1616800">sec</a></span><span class="op" id="1616834">*</span><span class="num" id="1616835">1e9</span>&nbsp;<span class="op" id="1616839">+</span>&nbsp;<span class="builtintype" id="1616841">int64</span><span class="op" id="1616846">(</span><span class="ident" id="1616847"><a href="/gostd/runtime/mgc0.go.html#1616805">nsec</a></span><span class="op" id="1616851">)</span><br>
<span class="lineno"></span><span class="op" id="1616853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1616856">func</span>&nbsp;<span class="ident" id="1616861">freeOSMemory</span><span class="op" id="1616873">(</span><span class="op" id="1616874">)</span>&nbsp;<span class="op" id="1616876">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616879"><a href="/gostd/runtime/malloc.go.html#1600340">gogc</a></span><span class="op" id="1616883">(</span><span class="num" id="1616884">2</span><span class="op" id="1616885">)</span>&nbsp;<span class="comment" id="1616887">//&nbsp;force&nbsp;GC&nbsp;and&nbsp;do&nbsp;eager&nbsp;sweep</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616919"><a href="/gostd/runtime/stubs.go.html#1741035">onM</a></span><span class="op" id="1616922">(</span><span class="ident" id="1616923"><a href="/gostd/runtime/stubs.go.html#1742195">scavenge_m</a></span><span class="op" id="1616933">)</span><br>
<span class="lineno"></span><span class="op" id="1616935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1616938">var</span>&nbsp;<span class="ident" id="1616942">poolcleanup</span>&nbsp;<span class="keyword" id="1616954">func</span><span class="op" id="1616958">(</span><span class="op" id="1616959">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="1616962">func</span>&nbsp;<span class="ident" id="1616967">registerPoolCleanup</span><span class="op" id="1616986">(</span><span class="ident" id="1616987">f</span>&nbsp;<span class="keyword" id="1616989">func</span><span class="op" id="1616993">(</span><span class="op" id="1616994">)</span><span class="op" id="1616995">)</span>&nbsp;<span class="op" id="1616997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617000"><a href="/gostd/runtime/mgc0.go.html#1616942">poolcleanup</a></span>&nbsp;<span class="op" id="1617012">=</span>&nbsp;<span class="ident" id="1617014"><a href="/gostd/runtime/mgc0.go.html#1616987">f</a></span><br>
<span class="lineno"></span><span class="op" id="1617016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="1617019">func</span>&nbsp;<span class="ident" id="1617024">clearpools</span><span class="op" id="1617034">(</span><span class="op" id="1617035">)</span>&nbsp;<span class="op" id="1617037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1617040">//&nbsp;clear&nbsp;sync.Pools</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617061">if</span>&nbsp;<span class="ident" id="1617064"><a href="/gostd/runtime/mgc0.go.html#1616942">poolcleanup</a></span>&nbsp;<span class="op" id="1617076">!=</span>&nbsp;<span class="builtintype" id="1617079">nil</span>&nbsp;<span class="op" id="1617083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617087"><a href="/gostd/runtime/mgc0.go.html#1616942">poolcleanup</a></span><span class="op" id="1617098">(</span><span class="op" id="1617099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1617102">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617106">for</span>&nbsp;<span class="ident" id="1617110">_</span><span class="op" id="1617111">,</span>&nbsp;<span class="ident" id="1617113">p</span>&nbsp;<span class="op" id="1617115">:=</span>&nbsp;<span class="keyword" id="1617118">range</span>&nbsp;<span class="op" id="1617124">&amp;</span><span class="ident" id="1617125"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1791254">allp</a></span>&nbsp;<span class="op" id="1617130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617134">if</span>&nbsp;<span class="ident" id="1617137"><a href="/gostd/runtime/mgc0.go.html#1617113">p</a></span>&nbsp;<span class="op" id="1617139">==</span>&nbsp;<span class="builtintype" id="1617142">nil</span>&nbsp;<span class="op" id="1617146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617151">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1617159">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1617163">//&nbsp;clear&nbsp;tinyalloc&nbsp;pool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617189">if</span>&nbsp;<span class="ident" id="1617192">c</span>&nbsp;<span class="op" id="1617194">:=</span>&nbsp;<span class="ident" id="1617197"><a href="/gostd/runtime/mgc0.go.html#1617113">p</a></span><span class="op" id="1617198">.</span><span class="ident" id="1617199"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1788698">mcache</a></span><span class="op" id="1617205">;</span>&nbsp;<span class="ident" id="1617207"><a href="/gostd/runtime/mgc0.go.html#1617192">c</a></span>&nbsp;<span class="op" id="1617209">!=</span>&nbsp;<span class="builtintype" id="1617212">nil</span>&nbsp;<span class="op" id="1617216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617221"><a href="/gostd/runtime/mgc0.go.html#1617192">c</a></span><span class="op" id="1617222">.</span><span class="ident" id="1617223"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1793388">tiny</a></span>&nbsp;<span class="op" id="1617228">=</span>&nbsp;<span class="builtintype" id="1617230">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617237"><a href="/gostd/runtime/mgc0.go.html#1617192">c</a></span><span class="op" id="1617238">.</span><span class="ident" id="1617239"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1793400">tinysize</a></span>&nbsp;<span class="op" id="1617248">=</span>&nbsp;<span class="num" id="1617250">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1617256">//&nbsp;disconnect&nbsp;cached&nbsp;list&nbsp;before&nbsp;dropping&nbsp;it&nbsp;on&nbsp;the&nbsp;floor,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1617318">//&nbsp;so&nbsp;that&nbsp;a&nbsp;dangling&nbsp;ref&nbsp;to&nbsp;one&nbsp;entry&nbsp;does&nbsp;not&nbsp;pin&nbsp;all&nbsp;of&nbsp;them.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617386">var</span>&nbsp;<span class="ident" id="1617390">sg</span><span class="op" id="1617392">,</span>&nbsp;<span class="ident" id="1617394">sgnext</span>&nbsp;<span class="op" id="1617401">*</span><span class="ident" id="1617402"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1786749">sudog</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617411">for</span>&nbsp;<span class="ident" id="1617415"><a href="/gostd/runtime/mgc0.go.html#1617390">sg</a></span>&nbsp;<span class="op" id="1617418">=</span>&nbsp;<span class="ident" id="1617420"><a href="/gostd/runtime/mgc0.go.html#1617192">c</a></span><span class="op" id="1617421">.</span><span class="ident" id="1617422"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1793491">sudogcache</a></span><span class="op" id="1617432">;</span>&nbsp;<span class="ident" id="1617434"><a href="/gostd/runtime/mgc0.go.html#1617390">sg</a></span>&nbsp;<span class="op" id="1617437">!=</span>&nbsp;<span class="builtintype" id="1617440">nil</span><span class="op" id="1617443">;</span>&nbsp;<span class="ident" id="1617445"><a href="/gostd/runtime/mgc0.go.html#1617390">sg</a></span>&nbsp;<span class="op" id="1617448">=</span>&nbsp;<span class="ident" id="1617450"><a href="/gostd/runtime/mgc0.go.html#1617394">sgnext</a></span>&nbsp;<span class="op" id="1617457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617463"><a href="/gostd/runtime/mgc0.go.html#1617394">sgnext</a></span>&nbsp;<span class="op" id="1617470">=</span>&nbsp;<span class="ident" id="1617472"><a href="/gostd/runtime/mgc0.go.html#1617390">sg</a></span><span class="op" id="1617474">.</span><span class="ident" id="1617475"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1786791">next</a></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617484"><a href="/gostd/runtime/mgc0.go.html#1617390">sg</a></span><span class="op" id="1617486">.</span><span class="ident" id="1617487"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1786791">next</a></span>&nbsp;<span class="op" id="1617492">=</span>&nbsp;<span class="builtintype" id="1617494">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1617501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617506"><a href="/gostd/runtime/mgc0.go.html#1617192">c</a></span><span class="op" id="1617507">.</span><span class="ident" id="1617508"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1793491">sudogcache</a></span>&nbsp;<span class="op" id="1617519">=</span>&nbsp;<span class="builtintype" id="1617521">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1617527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1617532">//&nbsp;clear&nbsp;defer&nbsp;pools</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617555">for</span>&nbsp;<span class="ident" id="1617559">i</span>&nbsp;<span class="op" id="1617561">:=</span>&nbsp;<span class="keyword" id="1617564">range</span>&nbsp;<span class="ident" id="1617570"><a href="/gostd/runtime/mgc0.go.html#1617113">p</a></span><span class="op" id="1617571">.</span><span class="ident" id="1617572"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1788714">deferpool</a></span>&nbsp;<span class="op" id="1617582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1617587">//&nbsp;disconnect&nbsp;cached&nbsp;list&nbsp;before&nbsp;dropping&nbsp;it&nbsp;on&nbsp;the&nbsp;floor,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1617649">//&nbsp;so&nbsp;that&nbsp;a&nbsp;dangling&nbsp;ref&nbsp;to&nbsp;one&nbsp;entry&nbsp;does&nbsp;not&nbsp;pin&nbsp;all&nbsp;of&nbsp;them.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617717">var</span>&nbsp;<span class="ident" id="1617721">d</span><span class="op" id="1617722">,</span>&nbsp;<span class="ident" id="1617724">dlink</span>&nbsp;<span class="op" id="1617730">*</span><span class="ident" id="1617731"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1790701">_defer</a></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617741">for</span>&nbsp;<span class="ident" id="1617745"><a href="/gostd/runtime/mgc0.go.html#1617721">d</a></span>&nbsp;<span class="op" id="1617747">=</span>&nbsp;<span class="ident" id="1617749"><a href="/gostd/runtime/mgc0.go.html#1617113">p</a></span><span class="op" id="1617750">.</span><span class="ident" id="1617751"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1788714">deferpool</a></span><span class="op" id="1617760">[</span><span class="ident" id="1617761"><a href="/gostd/runtime/mgc0.go.html#1617559">i</a></span><span class="op" id="1617762">]</span><span class="op" id="1617763">;</span>&nbsp;<span class="ident" id="1617765"><a href="/gostd/runtime/mgc0.go.html#1617721">d</a></span>&nbsp;<span class="op" id="1617767">!=</span>&nbsp;<span class="builtintype" id="1617770">nil</span><span class="op" id="1617773">;</span>&nbsp;<span class="ident" id="1617775"><a href="/gostd/runtime/mgc0.go.html#1617721">d</a></span>&nbsp;<span class="op" id="1617777">=</span>&nbsp;<span class="ident" id="1617779"><a href="/gostd/runtime/mgc0.go.html#1617724">dlink</a></span>&nbsp;<span class="op" id="1617785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617791"><a href="/gostd/runtime/mgc0.go.html#1617724">dlink</a></span>&nbsp;<span class="op" id="1617797">=</span>&nbsp;<span class="ident" id="1617799"><a href="/gostd/runtime/mgc0.go.html#1617721">d</a></span><span class="op" id="1617800">.</span><span class="ident" id="1617801"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1790798">link</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617810"><a href="/gostd/runtime/mgc0.go.html#1617721">d</a></span><span class="op" id="1617811">.</span><span class="ident" id="1617812"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1790798">link</a></span>&nbsp;<span class="op" id="1617817">=</span>&nbsp;<span class="builtintype" id="1617819">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1617826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617831"><a href="/gostd/runtime/mgc0.go.html#1617113">p</a></span><span class="op" id="1617832">.</span><span class="ident" id="1617833"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1788714">deferpool</a></span><span class="op" id="1617842">[</span><span class="ident" id="1617843"><a href="/gostd/runtime/mgc0.go.html#1617559">i</a></span><span class="op" id="1617844">]</span>&nbsp;<span class="op" id="1617846">=</span>&nbsp;<span class="builtintype" id="1617848">nil</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1617854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1617857">}</span><br>
<span class="lineno"></span><span class="op" id="1617859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1617862">func</span>&nbsp;<span class="ident" id="1617867">gosweepone</span><span class="op" id="1617877">(</span><span class="op" id="1617878">)</span>&nbsp;<span class="builtintype" id="1617880">uintptr</span><br>
<span class="lineno">80</span><span class="keyword" id="1617888">func</span>&nbsp;<span class="ident" id="1617893">gosweepdone</span><span class="op" id="1617904">(</span><span class="op" id="1617905">)</span>&nbsp;<span class="builtintype" id="1617907">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1617913">func</span>&nbsp;<span class="ident" id="1617918">bgsweep</span><span class="op" id="1617925">(</span><span class="op" id="1617926">)</span>&nbsp;<span class="op" id="1617928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617931"><a href="/gostd/runtime/stubs.go.html#1738919">getg</a></span><span class="op" id="1617935">(</span><span class="op" id="1617936">)</span><span class="op" id="1617937">.</span><span class="ident" id="1617938"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1787526">issystem</a></span>&nbsp;<span class="op" id="1617947">=</span>&nbsp;<span class="builtintype" id="1617949">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617955">for</span>&nbsp;<span class="op" id="1617959">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1617963">for</span>&nbsp;<span class="ident" id="1617967"><a href="/gostd/runtime/mgc0.go.html#1617867">gosweepone</a></span><span class="op" id="1617977">(</span><span class="op" id="1617978">)</span>&nbsp;<span class="op" id="1617980">!=</span>&nbsp;<span class="op" id="1617983">^</span><span class="builtintype" id="1617984">uintptr</span><span class="op" id="1617991">(</span><span class="num" id="1617992">0</span><span class="op" id="1617993">)</span>&nbsp;<span class="op" id="1617995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618000"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1803407">sweep</a></span><span class="op" id="1618005">.</span><span class="ident" id="1618006"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1803364">nbgsweep</a></span><span class="op" id="1618014">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618020"><a href="/gostd/runtime/proc.go.html#1673108">Gosched</a></span><span class="op" id="1618027">(</span><span class="op" id="1618028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1618032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618036"><a href="/gostd/runtime/lock_futex.go.html#1585337">lock</a></span><span class="op" id="1618040">(</span><span class="op" id="1618041">&amp;</span><span class="ident" id="1618042"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1802998">gclock</a></span><span class="op" id="1618048">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1618052">if</span>&nbsp;<span class="op" id="1618055">!</span><span class="ident" id="1618056"><a href="/gostd/runtime/mgc0.go.html#1617893">gosweepdone</a></span><span class="op" id="1618067">(</span><span class="op" id="1618068">)</span>&nbsp;<span class="op" id="1618070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1618075">//&nbsp;This&nbsp;can&nbsp;happen&nbsp;if&nbsp;a&nbsp;GC&nbsp;runs&nbsp;between</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1618118">//&nbsp;gosweepone&nbsp;returning&nbsp;^0&nbsp;above</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1618154">//&nbsp;and&nbsp;the&nbsp;lock&nbsp;being&nbsp;acquired.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618189"><a href="/gostd/runtime/lock_futex.go.html#1586629">unlock</a></span><span class="op" id="1618195">(</span><span class="op" id="1618196">&amp;</span><span class="ident" id="1618197"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1802998">gclock</a></span><span class="op" id="1618203">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1618208">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1618219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618223"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1803407">sweep</a></span><span class="op" id="1618228">.</span><span class="ident" id="1618229"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1803335">parked</a></span>&nbsp;<span class="op" id="1618236">=</span>&nbsp;<span class="builtintype" id="1618238">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618245"><a href="/gostd/runtime/proc.go.html#1673799">goparkunlock</a></span><span class="op" id="1618257">(</span><span class="op" id="1618258">&amp;</span><span class="ident" id="1618259"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1802998">gclock</a></span><span class="op" id="1618265">,</span>&nbsp;<span class="string" id="1618267">&#34;GC&nbsp;sweep&nbsp;wait&#34;</span><span class="op" id="1618282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1618285">}</span><br>
<span class="lineno">100</span><span class="op" id="1618287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1618290">//&nbsp;NOTE:&nbsp;Really&nbsp;dst&nbsp;*unsafe.Pointer,&nbsp;src&nbsp;unsafe.Pointer,</span><br>
<span class="lineno"></span><span class="comment" id="1618347">//&nbsp;but&nbsp;if&nbsp;we&nbsp;do&nbsp;that,&nbsp;Go&nbsp;inserts&nbsp;a&nbsp;write&nbsp;barrier&nbsp;on&nbsp;*dst&nbsp;=&nbsp;src.</span><br>
<span class="lineno"></span><span class="comment" id="1618411">//go:nosplit</span><br>
<span class="lineno">105</span><span class="keyword" id="1618424">func</span>&nbsp;<span class="ident" id="1618429">writebarrierptr</span><span class="op" id="1618444">(</span><span class="ident" id="1618445">dst</span>&nbsp;<span class="op" id="1618449">*</span><span class="builtintype" id="1618450">uintptr</span><span class="op" id="1618457">,</span>&nbsp;<span class="ident" id="1618459">src</span>&nbsp;<span class="builtintype" id="1618463">uintptr</span><span class="op" id="1618470">)</span>&nbsp;<span class="op" id="1618472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1618475">*</span><span class="ident" id="1618476"><a href="/gostd/runtime/mgc0.go.html#1618445">dst</a></span>&nbsp;<span class="op" id="1618480">=</span>&nbsp;<span class="ident" id="1618482"><a href="/gostd/runtime/mgc0.go.html#1618459">src</a></span><br>
<span class="lineno"></span><span class="op" id="1618486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1618489">//go:nosplit</span><br>
<span class="lineno">110</span><span class="keyword" id="1618502">func</span>&nbsp;<span class="ident" id="1618507">writebarrierstring</span><span class="op" id="1618525">(</span><span class="ident" id="1618526">dst</span>&nbsp;<span class="op" id="1618530">*</span><span class="op" id="1618531">[</span><span class="num" id="1618532">2</span><span class="op" id="1618533">]</span><span class="builtintype" id="1618534">uintptr</span><span class="op" id="1618541">,</span>&nbsp;<span class="ident" id="1618543">src</span>&nbsp;<span class="op" id="1618547">[</span><span class="num" id="1618548">2</span><span class="op" id="1618549">]</span><span class="builtintype" id="1618550">uintptr</span><span class="op" id="1618557">)</span>&nbsp;<span class="op" id="1618559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618562"><a href="/gostd/runtime/mgc0.go.html#1618526">dst</a></span><span class="op" id="1618565">[</span><span class="num" id="1618566">0</span><span class="op" id="1618567">]</span>&nbsp;<span class="op" id="1618569">=</span>&nbsp;<span class="ident" id="1618571"><a href="/gostd/runtime/mgc0.go.html#1618543">src</a></span><span class="op" id="1618574">[</span><span class="num" id="1618575">0</span><span class="op" id="1618576">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618579"><a href="/gostd/runtime/mgc0.go.html#1618526">dst</a></span><span class="op" id="1618582">[</span><span class="num" id="1618583">1</span><span class="op" id="1618584">]</span>&nbsp;<span class="op" id="1618586">=</span>&nbsp;<span class="ident" id="1618588"><a href="/gostd/runtime/mgc0.go.html#1618543">src</a></span><span class="op" id="1618591">[</span><span class="num" id="1618592">1</span><span class="op" id="1618593">]</span><br>
<span class="lineno"></span><span class="op" id="1618595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="comment" id="1618598">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1618611">func</span>&nbsp;<span class="ident" id="1618616">writebarrierslice</span><span class="op" id="1618633">(</span><span class="ident" id="1618634">dst</span>&nbsp;<span class="op" id="1618638">*</span><span class="op" id="1618639">[</span><span class="num" id="1618640">3</span><span class="op" id="1618641">]</span><span class="builtintype" id="1618642">uintptr</span><span class="op" id="1618649">,</span>&nbsp;<span class="ident" id="1618651">src</span>&nbsp;<span class="op" id="1618655">[</span><span class="num" id="1618656">3</span><span class="op" id="1618657">]</span><span class="builtintype" id="1618658">uintptr</span><span class="op" id="1618665">)</span>&nbsp;<span class="op" id="1618667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618670"><a href="/gostd/runtime/mgc0.go.html#1618634">dst</a></span><span class="op" id="1618673">[</span><span class="num" id="1618674">0</span><span class="op" id="1618675">]</span>&nbsp;<span class="op" id="1618677">=</span>&nbsp;<span class="ident" id="1618679"><a href="/gostd/runtime/mgc0.go.html#1618651">src</a></span><span class="op" id="1618682">[</span><span class="num" id="1618683">0</span><span class="op" id="1618684">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618687"><a href="/gostd/runtime/mgc0.go.html#1618634">dst</a></span><span class="op" id="1618690">[</span><span class="num" id="1618691">1</span><span class="op" id="1618692">]</span>&nbsp;<span class="op" id="1618694">=</span>&nbsp;<span class="ident" id="1618696"><a href="/gostd/runtime/mgc0.go.html#1618651">src</a></span><span class="op" id="1618699">[</span><span class="num" id="1618700">1</span><span class="op" id="1618701">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618704"><a href="/gostd/runtime/mgc0.go.html#1618634">dst</a></span><span class="op" id="1618707">[</span><span class="num" id="1618708">2</span><span class="op" id="1618709">]</span>&nbsp;<span class="op" id="1618711">=</span>&nbsp;<span class="ident" id="1618713"><a href="/gostd/runtime/mgc0.go.html#1618651">src</a></span><span class="op" id="1618716">[</span><span class="num" id="1618717">2</span><span class="op" id="1618718">]</span><br>
<span class="lineno">120</span><span class="op" id="1618720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1618723">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1618736">func</span>&nbsp;<span class="ident" id="1618741">writebarrieriface</span><span class="op" id="1618758">(</span><span class="ident" id="1618759">dst</span>&nbsp;<span class="op" id="1618763">*</span><span class="op" id="1618764">[</span><span class="num" id="1618765">2</span><span class="op" id="1618766">]</span><span class="builtintype" id="1618767">uintptr</span><span class="op" id="1618774">,</span>&nbsp;<span class="ident" id="1618776">src</span>&nbsp;<span class="op" id="1618780">[</span><span class="num" id="1618781">2</span><span class="op" id="1618782">]</span><span class="builtintype" id="1618783">uintptr</span><span class="op" id="1618790">)</span>&nbsp;<span class="op" id="1618792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618795"><a href="/gostd/runtime/mgc0.go.html#1618759">dst</a></span><span class="op" id="1618798">[</span><span class="num" id="1618799">0</span><span class="op" id="1618800">]</span>&nbsp;<span class="op" id="1618802">=</span>&nbsp;<span class="ident" id="1618804"><a href="/gostd/runtime/mgc0.go.html#1618776">src</a></span><span class="op" id="1618807">[</span><span class="num" id="1618808">0</span><span class="op" id="1618809">]</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618812"><a href="/gostd/runtime/mgc0.go.html#1618759">dst</a></span><span class="op" id="1618815">[</span><span class="num" id="1618816">1</span><span class="op" id="1618817">]</span>&nbsp;<span class="op" id="1618819">=</span>&nbsp;<span class="ident" id="1618821"><a href="/gostd/runtime/mgc0.go.html#1618776">src</a></span><span class="op" id="1618824">[</span><span class="num" id="1618825">1</span><span class="op" id="1618826">]</span><br>
<span class="lineno"></span><span class="op" id="1618828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1618831">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1618844">func</span>&nbsp;<span class="ident" id="1618849">writebarrierfat2</span><span class="op" id="1618865">(</span><span class="ident" id="1618866">dst</span>&nbsp;<span class="op" id="1618870">*</span><span class="op" id="1618871">[</span><span class="num" id="1618872">2</span><span class="op" id="1618873">]</span><span class="builtintype" id="1618874">uintptr</span><span class="op" id="1618881">,</span>&nbsp;<span class="ident" id="1618883">_</span>&nbsp;<span class="op" id="1618885">*</span><span class="builtintype" id="1618886">byte</span><span class="op" id="1618890">,</span>&nbsp;<span class="ident" id="1618892">src</span>&nbsp;<span class="op" id="1618896">[</span><span class="num" id="1618897">2</span><span class="op" id="1618898">]</span><span class="builtintype" id="1618899">uintptr</span><span class="op" id="1618906">)</span>&nbsp;<span class="op" id="1618908">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618911"><a href="/gostd/runtime/mgc0.go.html#1618866">dst</a></span><span class="op" id="1618914">[</span><span class="num" id="1618915">0</span><span class="op" id="1618916">]</span>&nbsp;<span class="op" id="1618918">=</span>&nbsp;<span class="ident" id="1618920"><a href="/gostd/runtime/mgc0.go.html#1618892">src</a></span><span class="op" id="1618923">[</span><span class="num" id="1618924">0</span><span class="op" id="1618925">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1618928"><a href="/gostd/runtime/mgc0.go.html#1618866">dst</a></span><span class="op" id="1618931">[</span><span class="num" id="1618932">1</span><span class="op" id="1618933">]</span>&nbsp;<span class="op" id="1618935">=</span>&nbsp;<span class="ident" id="1618937"><a href="/gostd/runtime/mgc0.go.html#1618892">src</a></span><span class="op" id="1618940">[</span><span class="num" id="1618941">1</span><span class="op" id="1618942">]</span><br>
<span class="lineno"></span><span class="op" id="1618944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1618947">//go:nosplit</span><br>
<span class="lineno">135</span><span class="keyword" id="1618960">func</span>&nbsp;<span class="ident" id="1618965">writebarrierfat3</span><span class="op" id="1618981">(</span><span class="ident" id="1618982">dst</span>&nbsp;<span class="op" id="1618986">*</span><span class="op" id="1618987">[</span><span class="num" id="1618988">3</span><span class="op" id="1618989">]</span><span class="builtintype" id="1618990">uintptr</span><span class="op" id="1618997">,</span>&nbsp;<span class="ident" id="1618999">_</span>&nbsp;<span class="op" id="1619001">*</span><span class="builtintype" id="1619002">byte</span><span class="op" id="1619006">,</span>&nbsp;<span class="ident" id="1619008">src</span>&nbsp;<span class="op" id="1619012">[</span><span class="num" id="1619013">3</span><span class="op" id="1619014">]</span><span class="builtintype" id="1619015">uintptr</span><span class="op" id="1619022">)</span>&nbsp;<span class="op" id="1619024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1619027"><a href="/gostd/runtime/mgc0.go.html#1618982">dst</a></span><span class="op" id="1619030">[</span><span class="num" id="1619031">0</span><span class="op" id="1619032">]</span>&nbsp;<span class="op" id="1619034">=</span>&nbsp;<span class="ident" id="1619036"><a href="/gostd/runtime/mgc0.go.html#1619008">src</a></span><span class="op" id="1619039">[</span><span class="num" id="1619040">0</span><span class="op" id="1619041">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1619044"><a href="/gostd/runtime/mgc0.go.html#1618982">dst</a></span><span class="op" id="1619047">[</span><span class="num" id="1619048">1</span><span class="op" id="1619049">]</span>&nbsp;<span class="op" id="1619051">=</span>&nbsp;<span class="ident" id="1619053"><a href="/gostd/runtime/mgc0.go.html#1619008">src</a></span><span class="op" id="1619056">[</span><span class="num" id="1619057">1</span><span class="op" id="1619058">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1619061"><a href="/gostd/runtime/mgc0.go.html#1618982">dst</a></span><span class="op" id="1619064">[</span><span class="num" id="1619065">2</span><span class="op" id="1619066">]</span>&nbsp;<span class="op" id="1619068">=</span>&nbsp;<span class="ident" id="1619070"><a href="/gostd/runtime/mgc0.go.html#1619008">src</a></span><span class="op" id="1619073">[</span><span class="num" id="1619074">2</span><span class="op" id="1619075">]</span><br>
<span class="lineno"></span><span class="op" id="1619077">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="1619080">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1619093">func</span>&nbsp;<span class="ident" id="1619098">writebarrierfat4</span><span class="op" id="1619114">(</span><span class="ident" id="1619115">dst</span>&nbsp;<span class="op" id="1619119">*</span><span class="op" id="1619120">[</span><span class="num" id="1619121">4</span><span class="op" id="1619122">]</span><span class="builtintype" id="1619123">uintptr</span><span class="op" id="1619130">,</span>&nbsp;<span class="ident" id="1619132">_</span>&nbsp;<span class="op" id="1619134">*</span><span class="builtintype" id="1619135">byte</span><span class="op" id="1619139">,</span>&nbsp;<span class="ident" id="1619141">src</span>&nbsp;<span class="op" id="1619145">[</span><span class="num" id="1619146">4</span><span class="op" id="1619147">]</span><span class="builtintype" id="1619148">uintptr</span><span class="op" id="1619155">)</span>&nbsp;<span class="op" id="1619157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1619160"><a href="/gostd/runtime/mgc0.go.html#1619115">dst</a></span><span class="op" id="1619163">[</span><span class="num" id="1619164">0</span><span class="op" id="1619165">]</span>&nbsp;<span class="op" id="1619167">=</span>&nbsp;<span class="ident" id="1619169"><a href="/gostd/runtime/mgc0.go.html#1619141">src</a></span><span class="op" id="1619172">[</span><span class="num" id="1619173">0</span><span class="op" id="1619174">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1619177"><a href="/gostd/runtime/mgc0.go.html#1619115">dst</a></span><span class="op" id="1619180">[</span><span class="num" id="1619181">1</span><span class="op" id="1619182">]</span>&nbsp;<span class="op" id="1619184">=</span>&nbsp;<span class="ident" id="1619186"><a href="/gostd/runtime/mgc0.go.html#1619141">src</a></span><span class="op" id="1619189">[</span><span class="num" id="1619190">1</span><span class="op" id="1619191">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1619194"><a href="/gostd/runtime/mgc0.go.html#1619115">dst</a></span><span class="op" id="1619197">[</span><span class="num" id="1619198">2</span><span class="op" id="1619199">]</span>&nbsp;<span class="op" id="1619201">=</span>&nbsp;<span class="ident" id="1619203"><a href="/gostd/runtime/mgc0.go.html#1619141">src</a></span><span class="op" id="1619206">[</span><span class="num" id="1619207">2</span><span class="op" id="1619208">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1619211"><a href="/gostd/runtime/mgc0.go.html#1619115">dst</a></span><span class="op" id="1619214">[</span><span class="num" id="1619215">3</span><span class="op" id="1619216">]</span>&nbsp;<span class="op" id="1619218">=</span>&nbsp;<span class="ident" id="1619220"><a href="/gostd/runtime/mgc0.go.html#1619141">src</a></span><span class="op" id="1619223">[</span><span class="num" id="1619224">3</span><span class="op" id="1619225">]</span><br>
<span class="lineno"></span><span class="op" id="1619227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1619230">//go:nosplit</span><br>
<span class="lineno">150</span><span class="keyword" id="1619243">func</span>&nbsp;<span class="ident" id="1619248">writebarrierfat</span><span class="op" id="1619263">(</span><span class="ident" id="1619264">typ</span>&nbsp;<span class="op" id="1619268">*</span><span class="ident" id="1619269"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1795605">_type</a></span><span class="op" id="1619274">,</span>&nbsp;<span class="ident" id="1619276">dst</span><span class="op" id="1619279">,</span>&nbsp;<span class="ident" id="1619281">src</span>&nbsp;<span class="ident" id="1619285"><a href="/gostd/runtime/mgc0.go.html#1616454">unsafe</a></span><span class="op" id="1619291">.</span><span class="ident" id="1619292">Pointer</span><span class="op" id="1619299">)</span>&nbsp;<span class="op" id="1619301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1619304"><a href="/gostd/runtime/stubs.go.html#1742708">memmove</a></span><span class="op" id="1619311">(</span><span class="ident" id="1619312"><a href="/gostd/runtime/mgc0.go.html#1619276">dst</a></span><span class="op" id="1619315">,</span>&nbsp;<span class="ident" id="1619317"><a href="/gostd/runtime/mgc0.go.html#1619281">src</a></span><span class="op" id="1619320">,</span>&nbsp;<span class="ident" id="1619322"><a href="/gostd/runtime/mgc0.go.html#1619264">typ</a></span><span class="op" id="1619325">.</span><span class="ident" id="1619326"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1795621">size</a></span><span class="op" id="1619330">)</span><br>
<span class="lineno"></span><span class="op" id="1619332">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
