<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3011660">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3011715">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3011769">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3011820">package</span>&nbsp;<span class="ident" id="3011828">strconv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3011837">//&nbsp;FormatUint&nbsp;returns&nbsp;the&nbsp;string&nbsp;representation&nbsp;of&nbsp;i&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno"></span><span class="comment" id="3011909">//&nbsp;for&nbsp;2&nbsp;&lt;=&nbsp;base&nbsp;&lt;=&nbsp;36.&nbsp;The&nbsp;result&nbsp;uses&nbsp;the&nbsp;lower-case&nbsp;letters&nbsp;&#39;a&#39;&nbsp;to&nbsp;&#39;z&#39;</span><br>
<span class="lineno"></span><span class="comment" id="3011983">//&nbsp;for&nbsp;digit&nbsp;values&nbsp;&gt;=&nbsp;10.</span><br>
<span class="lineno">10</span><span class="keyword" id="3012010">func</span>&nbsp;<span class="ident" id="3012015">FormatUint</span><span class="op" id="3012025">(</span><span class="ident" id="3012026">i</span>&nbsp;<span class="ident" id="3012028">uint64</span><span class="op" id="3012034">,</span>&nbsp;<span class="ident" id="3012036">base</span>&nbsp;<span class="builtintype" id="3012041">int</span><span class="op" id="3012044">)</span>&nbsp;<span class="builtintype" id="3012046">string</span>&nbsp;<span class="op" id="3012053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3012056">_</span><span class="op" id="3012057">,</span>&nbsp;<span class="ident" id="3012059">s</span>&nbsp;<span class="op" id="3012061">:=</span>&nbsp;<span class="ident" id="3012064"><a href="/strconv/itoa.go.html#3013726">formatBits</a></span><span class="op" id="3012074">(</span><span class="ident" id="3012075">nil</span><span class="op" id="3012078">,</span>&nbsp;<span class="ident" id="3012080"><a href="/strconv/itoa.go.html#3012026">i</a></span><span class="op" id="3012081">,</span>&nbsp;<span class="ident" id="3012083"><a href="/strconv/itoa.go.html#3012036">base</a></span><span class="op" id="3012087">,</span>&nbsp;<span class="builtintype" id="3012089">false</span><span class="op" id="3012094">,</span>&nbsp;<span class="builtintype" id="3012096">false</span><span class="op" id="3012101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012104">return</span>&nbsp;<span class="ident" id="3012111"><a href="/strconv/itoa.go.html#3012059">s</a></span><br>
<span class="lineno"></span><span class="op" id="3012113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3012116">//&nbsp;FormatInt&nbsp;returns&nbsp;the&nbsp;string&nbsp;representation&nbsp;of&nbsp;i&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno"></span><span class="comment" id="3012187">//&nbsp;for&nbsp;2&nbsp;&lt;=&nbsp;base&nbsp;&lt;=&nbsp;36.&nbsp;The&nbsp;result&nbsp;uses&nbsp;the&nbsp;lower-case&nbsp;letters&nbsp;&#39;a&#39;&nbsp;to&nbsp;&#39;z&#39;</span><br>
<span class="lineno"></span><span class="comment" id="3012261">//&nbsp;for&nbsp;digit&nbsp;values&nbsp;&gt;=&nbsp;10.</span><br>
<span class="lineno"></span><span class="keyword" id="3012288">func</span>&nbsp;<span class="ident" id="3012293">FormatInt</span><span class="op" id="3012302">(</span><span class="ident" id="3012303">i</span>&nbsp;<span class="ident" id="3012305">int64</span><span class="op" id="3012310">,</span>&nbsp;<span class="ident" id="3012312">base</span>&nbsp;<span class="builtintype" id="3012317">int</span><span class="op" id="3012320">)</span>&nbsp;<span class="builtintype" id="3012322">string</span>&nbsp;<span class="op" id="3012329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3012332">_</span><span class="op" id="3012333">,</span>&nbsp;<span class="ident" id="3012335">s</span>&nbsp;<span class="op" id="3012337">:=</span>&nbsp;<span class="ident" id="3012340"><a href="/strconv/itoa.go.html#3013726">formatBits</a></span><span class="op" id="3012350">(</span><span class="ident" id="3012351">nil</span><span class="op" id="3012354">,</span>&nbsp;<span class="ident" id="3012356">uint64</span><span class="op" id="3012362">(</span><span class="ident" id="3012363"><a href="/strconv/itoa.go.html#3012303">i</a></span><span class="op" id="3012364">)</span><span class="op" id="3012365">,</span>&nbsp;<span class="ident" id="3012367"><a href="/strconv/itoa.go.html#3012312">base</a></span><span class="op" id="3012371">,</span>&nbsp;<span class="ident" id="3012373"><a href="/strconv/itoa.go.html#3012303">i</a></span>&nbsp;<span class="op" id="3012375">&lt;</span>&nbsp;<span class="num" id="3012377">0</span><span class="op" id="3012378">,</span>&nbsp;<span class="builtintype" id="3012380">false</span><span class="op" id="3012385">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012388">return</span>&nbsp;<span class="ident" id="3012395"><a href="/strconv/itoa.go.html#3012335">s</a></span><br>
<span class="lineno"></span><span class="op" id="3012397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3012400">//&nbsp;Itoa&nbsp;is&nbsp;shorthand&nbsp;for&nbsp;FormatInt(i,&nbsp;10).</span><br>
<span class="lineno"></span><span class="keyword" id="3012443">func</span>&nbsp;<span class="ident" id="3012448">Itoa</span><span class="op" id="3012452">(</span><span class="ident" id="3012453">i</span>&nbsp;<span class="builtintype" id="3012455">int</span><span class="op" id="3012458">)</span>&nbsp;<span class="builtintype" id="3012460">string</span>&nbsp;<span class="op" id="3012467">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012470">return</span>&nbsp;<span class="ident" id="3012477"><a href="/strconv/itoa.go.html#3012293">FormatInt</a></span><span class="op" id="3012486">(</span><span class="ident" id="3012487">int64</span><span class="op" id="3012492">(</span><span class="ident" id="3012493"><a href="/strconv/itoa.go.html#3012453">i</a></span><span class="op" id="3012494">)</span><span class="op" id="3012495">,</span>&nbsp;<span class="num" id="3012497">10</span><span class="op" id="3012499">)</span><br>
<span class="lineno"></span><span class="op" id="3012501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3012504">//&nbsp;AppendInt&nbsp;appends&nbsp;the&nbsp;string&nbsp;form&nbsp;of&nbsp;the&nbsp;integer&nbsp;i,</span><br>
<span class="lineno"></span><span class="comment" id="3012559">//&nbsp;as&nbsp;generated&nbsp;by&nbsp;FormatInt,&nbsp;to&nbsp;dst&nbsp;and&nbsp;returns&nbsp;the&nbsp;extended&nbsp;buffer.</span><br>
<span class="lineno">30</span><span class="keyword" id="3012629">func</span>&nbsp;<span class="ident" id="3012634">AppendInt</span><span class="op" id="3012643">(</span><span class="ident" id="3012644">dst</span>&nbsp;<span class="op" id="3012648">[</span><span class="op" id="3012649">]</span><span class="builtintype" id="3012650">byte</span><span class="op" id="3012654">,</span>&nbsp;<span class="ident" id="3012656">i</span>&nbsp;<span class="ident" id="3012658">int64</span><span class="op" id="3012663">,</span>&nbsp;<span class="ident" id="3012665">base</span>&nbsp;<span class="builtintype" id="3012670">int</span><span class="op" id="3012673">)</span>&nbsp;<span class="op" id="3012675">[</span><span class="op" id="3012676">]</span><span class="builtintype" id="3012677">byte</span>&nbsp;<span class="op" id="3012682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3012685"><a href="/strconv/itoa.go.html#3012644">dst</a></span><span class="op" id="3012688">,</span>&nbsp;<span class="ident" id="3012690">_</span>&nbsp;<span class="op" id="3012692">=</span>&nbsp;<span class="ident" id="3012694"><a href="/strconv/itoa.go.html#3013726">formatBits</a></span><span class="op" id="3012704">(</span><span class="ident" id="3012705"><a href="/strconv/itoa.go.html#3012644">dst</a></span><span class="op" id="3012708">,</span>&nbsp;<span class="ident" id="3012710">uint64</span><span class="op" id="3012716">(</span><span class="ident" id="3012717"><a href="/strconv/itoa.go.html#3012656">i</a></span><span class="op" id="3012718">)</span><span class="op" id="3012719">,</span>&nbsp;<span class="ident" id="3012721"><a href="/strconv/itoa.go.html#3012665">base</a></span><span class="op" id="3012725">,</span>&nbsp;<span class="ident" id="3012727"><a href="/strconv/itoa.go.html#3012656">i</a></span>&nbsp;<span class="op" id="3012729">&lt;</span>&nbsp;<span class="num" id="3012731">0</span><span class="op" id="3012732">,</span>&nbsp;<span class="builtintype" id="3012734">true</span><span class="op" id="3012738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012741">return</span>&nbsp;<span class="ident" id="3012748"><a href="/strconv/itoa.go.html#3012644">dst</a></span><br>
<span class="lineno"></span><span class="op" id="3012752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3012755">//&nbsp;AppendUint&nbsp;appends&nbsp;the&nbsp;string&nbsp;form&nbsp;of&nbsp;the&nbsp;unsigned&nbsp;integer&nbsp;i,</span><br>
<span class="lineno"></span><span class="comment" id="3012820">//&nbsp;as&nbsp;generated&nbsp;by&nbsp;FormatUint,&nbsp;to&nbsp;dst&nbsp;and&nbsp;returns&nbsp;the&nbsp;extended&nbsp;buffer.</span><br>
<span class="lineno"></span><span class="keyword" id="3012891">func</span>&nbsp;<span class="ident" id="3012896">AppendUint</span><span class="op" id="3012906">(</span><span class="ident" id="3012907">dst</span>&nbsp;<span class="op" id="3012911">[</span><span class="op" id="3012912">]</span><span class="builtintype" id="3012913">byte</span><span class="op" id="3012917">,</span>&nbsp;<span class="ident" id="3012919">i</span>&nbsp;<span class="ident" id="3012921">uint64</span><span class="op" id="3012927">,</span>&nbsp;<span class="ident" id="3012929">base</span>&nbsp;<span class="builtintype" id="3012934">int</span><span class="op" id="3012937">)</span>&nbsp;<span class="op" id="3012939">[</span><span class="op" id="3012940">]</span><span class="builtintype" id="3012941">byte</span>&nbsp;<span class="op" id="3012946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3012949"><a href="/strconv/itoa.go.html#3012907">dst</a></span><span class="op" id="3012952">,</span>&nbsp;<span class="ident" id="3012954">_</span>&nbsp;<span class="op" id="3012956">=</span>&nbsp;<span class="ident" id="3012958"><a href="/strconv/itoa.go.html#3013726">formatBits</a></span><span class="op" id="3012968">(</span><span class="ident" id="3012969"><a href="/strconv/itoa.go.html#3012907">dst</a></span><span class="op" id="3012972">,</span>&nbsp;<span class="ident" id="3012974"><a href="/strconv/itoa.go.html#3012919">i</a></span><span class="op" id="3012975">,</span>&nbsp;<span class="ident" id="3012977"><a href="/strconv/itoa.go.html#3012929">base</a></span><span class="op" id="3012981">,</span>&nbsp;<span class="builtintype" id="3012983">false</span><span class="op" id="3012988">,</span>&nbsp;<span class="builtintype" id="3012990">true</span><span class="op" id="3012994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012997">return</span>&nbsp;<span class="ident" id="3013004"><a href="/strconv/itoa.go.html#3012907">dst</a></span><br>
<span class="lineno">40</span><span class="op" id="3013008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3013011">const</span>&nbsp;<span class="op" id="3013017">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3013020">digits</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3013029">=</span>&nbsp;<span class="string" id="3013031">&#34;0123456789abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3013071">digits01</span>&nbsp;<span class="op" id="3013080">=</span>&nbsp;<span class="string" id="3013082">&#34;0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789&#34;</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3013186">digits10</span>&nbsp;<span class="op" id="3013195">=</span>&nbsp;<span class="string" id="3013197">&#34;0000000000111111111122222222223333333333444444444455555555556666666666777777777788888888889999999999&#34;</span><br>
<span class="lineno"></span><span class="op" id="3013300">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3013303">var</span>&nbsp;<span class="ident" id="3013307">shifts</span>&nbsp;<span class="op" id="3013314">=</span>&nbsp;<span class="op" id="3013316">[</span><span class="builtinfunc" id="3013317">len</span><span class="op" id="3013320">(</span><span class="ident" id="3013321"><a href="/strconv/itoa.go.html#3013020">digits</a></span><span class="op" id="3013327">)</span>&nbsp;<span class="op" id="3013329">+</span>&nbsp;<span class="num" id="3013331">1</span><span class="op" id="3013332">]</span><span class="builtintype" id="3013333">uint</span><span class="op" id="3013337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="3013340">1</span>&nbsp;<span class="op" id="3013342">&lt;&lt;</span>&nbsp;<span class="num" id="3013345">1</span><span class="op" id="3013346">:</span>&nbsp;<span class="num" id="3013348">1</span><span class="op" id="3013349">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="3013352">1</span>&nbsp;<span class="op" id="3013354">&lt;&lt;</span>&nbsp;<span class="num" id="3013357">2</span><span class="op" id="3013358">:</span>&nbsp;<span class="num" id="3013360">2</span><span class="op" id="3013361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="3013364">1</span>&nbsp;<span class="op" id="3013366">&lt;&lt;</span>&nbsp;<span class="num" id="3013369">3</span><span class="op" id="3013370">:</span>&nbsp;<span class="num" id="3013372">3</span><span class="op" id="3013373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="3013376">1</span>&nbsp;<span class="op" id="3013378">&lt;&lt;</span>&nbsp;<span class="num" id="3013381">4</span><span class="op" id="3013382">:</span>&nbsp;<span class="num" id="3013384">4</span><span class="op" id="3013385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="3013388">1</span>&nbsp;<span class="op" id="3013390">&lt;&lt;</span>&nbsp;<span class="num" id="3013393">5</span><span class="op" id="3013394">:</span>&nbsp;<span class="num" id="3013396">5</span><span class="op" id="3013397">,</span><br>
<span class="lineno"></span><span class="op" id="3013399">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="3013402">//&nbsp;formatBits&nbsp;computes&nbsp;the&nbsp;string&nbsp;representation&nbsp;of&nbsp;u&nbsp;in&nbsp;the&nbsp;given&nbsp;base.</span><br>
<span class="lineno"></span><span class="comment" id="3013475">//&nbsp;If&nbsp;neg&nbsp;is&nbsp;set,&nbsp;u&nbsp;is&nbsp;treated&nbsp;as&nbsp;negative&nbsp;int64&nbsp;value.&nbsp;If&nbsp;append_&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3013545">//&nbsp;set,&nbsp;the&nbsp;string&nbsp;is&nbsp;appended&nbsp;to&nbsp;dst&nbsp;and&nbsp;the&nbsp;resulting&nbsp;byte&nbsp;slice&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3013615">//&nbsp;returned&nbsp;as&nbsp;the&nbsp;first&nbsp;result&nbsp;value;&nbsp;otherwise&nbsp;the&nbsp;string&nbsp;is&nbsp;returned</span><br>
<span class="lineno">60</span><span class="comment" id="3013687">//&nbsp;as&nbsp;the&nbsp;second&nbsp;result&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="3013718">//</span><br>
<span class="lineno"></span><span class="keyword" id="3013721">func</span>&nbsp;<span class="ident" id="3013726">formatBits</span><span class="op" id="3013736">(</span><span class="ident" id="3013737">dst</span>&nbsp;<span class="op" id="3013741">[</span><span class="op" id="3013742">]</span><span class="builtintype" id="3013743">byte</span><span class="op" id="3013747">,</span>&nbsp;<span class="ident" id="3013749">u</span>&nbsp;<span class="ident" id="3013751">uint64</span><span class="op" id="3013757">,</span>&nbsp;<span class="ident" id="3013759">base</span>&nbsp;<span class="builtintype" id="3013764">int</span><span class="op" id="3013767">,</span>&nbsp;<span class="ident" id="3013769">neg</span><span class="op" id="3013772">,</span>&nbsp;<span class="ident" id="3013774">append_</span>&nbsp;<span class="builtintype" id="3013782">bool</span><span class="op" id="3013786">)</span>&nbsp;<span class="op" id="3013788">(</span><span class="ident" id="3013789">d</span>&nbsp;<span class="op" id="3013791">[</span><span class="op" id="3013792">]</span><span class="builtintype" id="3013793">byte</span><span class="op" id="3013797">,</span>&nbsp;<span class="ident" id="3013799">s</span>&nbsp;<span class="builtintype" id="3013801">string</span><span class="op" id="3013807">)</span>&nbsp;<span class="op" id="3013809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013812">if</span>&nbsp;<span class="ident" id="3013815"><a href="/strconv/itoa.go.html#3013759">base</a></span>&nbsp;<span class="op" id="3013820">&lt;</span>&nbsp;<span class="num" id="3013822">2</span>&nbsp;<span class="op" id="3013824">||</span>&nbsp;<span class="ident" id="3013827"><a href="/strconv/itoa.go.html#3013759">base</a></span>&nbsp;<span class="op" id="3013832">&gt;</span>&nbsp;<span class="builtinfunc" id="3013834">len</span><span class="op" id="3013837">(</span><span class="ident" id="3013838"><a href="/strconv/itoa.go.html#3013020">digits</a></span><span class="op" id="3013844">)</span>&nbsp;<span class="op" id="3013846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3013850">panic</span><span class="op" id="3013855">(</span><span class="string" id="3013856">&#34;strconv:&nbsp;illegal&nbsp;AppendInt/FormatInt&nbsp;base&#34;</span><span class="op" id="3013899">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3013902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3013905">//&nbsp;2&nbsp;&lt;=&nbsp;base&nbsp;&amp;&amp;&nbsp;base&nbsp;&lt;=&nbsp;len(digits)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013943">var</span>&nbsp;<span class="ident" id="3013947">a</span>&nbsp;<span class="op" id="3013949">[</span><span class="num" id="3013950">64</span>&nbsp;<span class="op" id="3013953">+</span>&nbsp;<span class="num" id="3013955">1</span><span class="op" id="3013956">]</span><span class="builtintype" id="3013957">byte</span>&nbsp;<span class="comment" id="3013962">//&nbsp;+1&nbsp;for&nbsp;sign&nbsp;of&nbsp;64bit&nbsp;value&nbsp;in&nbsp;base&nbsp;2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014003">i</span>&nbsp;<span class="op" id="3014005">:=</span>&nbsp;<span class="builtinfunc" id="3014008">len</span><span class="op" id="3014011">(</span><span class="ident" id="3014012"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014013">)</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014017">if</span>&nbsp;<span class="ident" id="3014020"><a href="/strconv/itoa.go.html#3013769">neg</a></span>&nbsp;<span class="op" id="3014024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014028"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014030">=</span>&nbsp;<span class="op" id="3014032">-</span><span class="ident" id="3014033"><a href="/strconv/itoa.go.html#3013749">u</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3014040">//&nbsp;convert&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014057">if</span>&nbsp;<span class="ident" id="3014060"><a href="/strconv/itoa.go.html#3013759">base</a></span>&nbsp;<span class="op" id="3014065">==</span>&nbsp;<span class="num" id="3014068">10</span>&nbsp;<span class="op" id="3014071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3014075">//&nbsp;common&nbsp;case:&nbsp;use&nbsp;constants&nbsp;for&nbsp;/&nbsp;and&nbsp;%&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3014127">//&nbsp;the&nbsp;compiler&nbsp;can&nbsp;optimize&nbsp;it&nbsp;into&nbsp;a&nbsp;multiply+shift,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3014184">//&nbsp;and&nbsp;unroll&nbsp;loop</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014205">for</span>&nbsp;<span class="ident" id="3014209"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014211">&gt;=</span>&nbsp;<span class="num" id="3014214">100</span>&nbsp;<span class="op" id="3014218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014223"><a href="/strconv/itoa.go.html#3014003">i</a></span>&nbsp;<span class="op" id="3014225">-=</span>&nbsp;<span class="num" id="3014228">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014233">q</span>&nbsp;<span class="op" id="3014235">:=</span>&nbsp;<span class="ident" id="3014238"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014240">/</span>&nbsp;<span class="num" id="3014242">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014249">j</span>&nbsp;<span class="op" id="3014251">:=</span>&nbsp;<span class="builtintype" id="3014254">uintptr</span><span class="op" id="3014261">(</span><span class="ident" id="3014262"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014264">-</span>&nbsp;<span class="ident" id="3014266"><a href="/strconv/itoa.go.html#3014233">q</a></span><span class="op" id="3014267">*</span><span class="num" id="3014268">100</span><span class="op" id="3014271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014276"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014277">[</span><span class="ident" id="3014278"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014279">+</span><span class="num" id="3014280">1</span><span class="op" id="3014281">]</span>&nbsp;<span class="op" id="3014283">=</span>&nbsp;<span class="ident" id="3014285"><a href="/strconv/itoa.go.html#3013071">digits01</a></span><span class="op" id="3014293">[</span><span class="ident" id="3014294"><a href="/strconv/itoa.go.html#3014249">j</a></span><span class="op" id="3014295">]</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014300"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014301">[</span><span class="ident" id="3014302"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014303">+</span><span class="num" id="3014304">0</span><span class="op" id="3014305">]</span>&nbsp;<span class="op" id="3014307">=</span>&nbsp;<span class="ident" id="3014309"><a href="/strconv/itoa.go.html#3013186">digits10</a></span><span class="op" id="3014317">[</span><span class="ident" id="3014318"><a href="/strconv/itoa.go.html#3014249">j</a></span><span class="op" id="3014319">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014324"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014326">=</span>&nbsp;<span class="ident" id="3014328"><a href="/strconv/itoa.go.html#3014233">q</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014336">if</span>&nbsp;<span class="ident" id="3014339"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014341">&gt;=</span>&nbsp;<span class="num" id="3014344">10</span>&nbsp;<span class="op" id="3014347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014352"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014353">--</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014359">q</span>&nbsp;<span class="op" id="3014361">:=</span>&nbsp;<span class="ident" id="3014364"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014366">/</span>&nbsp;<span class="num" id="3014368">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014374"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014375">[</span><span class="ident" id="3014376"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014377">]</span>&nbsp;<span class="op" id="3014379">=</span>&nbsp;<span class="ident" id="3014381"><a href="/strconv/itoa.go.html#3013020">digits</a></span><span class="op" id="3014387">[</span><span class="builtintype" id="3014388">uintptr</span><span class="op" id="3014395">(</span><span class="ident" id="3014396"><a href="/strconv/itoa.go.html#3013749">u</a></span><span class="op" id="3014397">-</span><span class="ident" id="3014398"><a href="/strconv/itoa.go.html#3014359">q</a></span><span class="op" id="3014399">*</span><span class="num" id="3014400">10</span><span class="op" id="3014402">)</span><span class="op" id="3014403">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014408"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014410">=</span>&nbsp;<span class="ident" id="3014412"><a href="/strconv/itoa.go.html#3014359">q</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014420">}</span>&nbsp;<span class="keyword" id="3014422">else</span>&nbsp;<span class="keyword" id="3014427">if</span>&nbsp;<span class="ident" id="3014430">s</span>&nbsp;<span class="op" id="3014432">:=</span>&nbsp;<span class="ident" id="3014435"><a href="/strconv/itoa.go.html#3013307">shifts</a></span><span class="op" id="3014441">[</span><span class="ident" id="3014442"><a href="/strconv/itoa.go.html#3013759">base</a></span><span class="op" id="3014446">]</span><span class="op" id="3014447">;</span>&nbsp;<span class="ident" id="3014449"><a href="/strconv/itoa.go.html#3014430">s</a></span>&nbsp;<span class="op" id="3014451">&gt;</span>&nbsp;<span class="num" id="3014453">0</span>&nbsp;<span class="op" id="3014455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3014459">//&nbsp;base&nbsp;is&nbsp;power&nbsp;of&nbsp;2:&nbsp;use&nbsp;shifts&nbsp;and&nbsp;masks&nbsp;instead&nbsp;of&nbsp;/&nbsp;and&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014524">b</span>&nbsp;<span class="op" id="3014526">:=</span>&nbsp;<span class="ident" id="3014529">uint64</span><span class="op" id="3014535">(</span><span class="ident" id="3014536"><a href="/strconv/itoa.go.html#3013759">base</a></span><span class="op" id="3014540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014544">m</span>&nbsp;<span class="op" id="3014546">:=</span>&nbsp;<span class="builtintype" id="3014549">uintptr</span><span class="op" id="3014556">(</span><span class="ident" id="3014557"><a href="/strconv/itoa.go.html#3014524">b</a></span><span class="op" id="3014558">)</span>&nbsp;<span class="op" id="3014560">-</span>&nbsp;<span class="num" id="3014562">1</span>&nbsp;<span class="comment" id="3014564">//&nbsp;==&nbsp;1&lt;&lt;s&nbsp;-&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014581">for</span>&nbsp;<span class="ident" id="3014585"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014587">&gt;=</span>&nbsp;<span class="ident" id="3014590"><a href="/strconv/itoa.go.html#3014524">b</a></span>&nbsp;<span class="op" id="3014592">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014597"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014598">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014604"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014605">[</span><span class="ident" id="3014606"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014607">]</span>&nbsp;<span class="op" id="3014609">=</span>&nbsp;<span class="ident" id="3014611"><a href="/strconv/itoa.go.html#3013020">digits</a></span><span class="op" id="3014617">[</span><span class="builtintype" id="3014618">uintptr</span><span class="op" id="3014625">(</span><span class="ident" id="3014626"><a href="/strconv/itoa.go.html#3013749">u</a></span><span class="op" id="3014627">)</span><span class="op" id="3014628">&amp;</span><span class="ident" id="3014629"><a href="/strconv/itoa.go.html#3014544">m</a></span><span class="op" id="3014630">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014635"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014637">&gt;&gt;=</span>&nbsp;<span class="ident" id="3014641"><a href="/strconv/itoa.go.html#3014430">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014649">}</span>&nbsp;<span class="keyword" id="3014651">else</span>&nbsp;<span class="op" id="3014656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3014660">//&nbsp;general&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014678">b</span>&nbsp;<span class="op" id="3014680">:=</span>&nbsp;<span class="ident" id="3014683">uint64</span><span class="op" id="3014689">(</span><span class="ident" id="3014690"><a href="/strconv/itoa.go.html#3013759">base</a></span><span class="op" id="3014694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014698">for</span>&nbsp;<span class="ident" id="3014702"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014704">&gt;=</span>&nbsp;<span class="ident" id="3014707"><a href="/strconv/itoa.go.html#3014678">b</a></span>&nbsp;<span class="op" id="3014709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014714"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014715">--</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014721"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014722">[</span><span class="ident" id="3014723"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014724">]</span>&nbsp;<span class="op" id="3014726">=</span>&nbsp;<span class="ident" id="3014728"><a href="/strconv/itoa.go.html#3013020">digits</a></span><span class="op" id="3014734">[</span><span class="builtintype" id="3014735">uintptr</span><span class="op" id="3014742">(</span><span class="ident" id="3014743"><a href="/strconv/itoa.go.html#3013749">u</a></span><span class="op" id="3014744">%</span><span class="ident" id="3014745"><a href="/strconv/itoa.go.html#3014678">b</a></span><span class="op" id="3014746">)</span><span class="op" id="3014747">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014752"><a href="/strconv/itoa.go.html#3013749">u</a></span>&nbsp;<span class="op" id="3014754">/=</span>&nbsp;<span class="ident" id="3014757"><a href="/strconv/itoa.go.html#3014678">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3014768">//&nbsp;u&nbsp;&lt;&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014781"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014782">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014786"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014787">[</span><span class="ident" id="3014788"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014789">]</span>&nbsp;<span class="op" id="3014791">=</span>&nbsp;<span class="ident" id="3014793"><a href="/strconv/itoa.go.html#3013020">digits</a></span><span class="op" id="3014799">[</span><span class="builtintype" id="3014800">uintptr</span><span class="op" id="3014807">(</span><span class="ident" id="3014808"><a href="/strconv/itoa.go.html#3013749">u</a></span><span class="op" id="3014809">)</span><span class="op" id="3014810">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3014814">//&nbsp;add&nbsp;sign,&nbsp;if&nbsp;any</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014835">if</span>&nbsp;<span class="ident" id="3014838"><a href="/strconv/itoa.go.html#3013769">neg</a></span>&nbsp;<span class="op" id="3014842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014846"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014847">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014852"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014853">[</span><span class="ident" id="3014854"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014855">]</span>&nbsp;<span class="op" id="3014857">=</span>&nbsp;<span class="string" id="3014859">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014868">if</span>&nbsp;<span class="ident" id="3014871"><a href="/strconv/itoa.go.html#3013774">append_</a></span>&nbsp;<span class="op" id="3014879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014883"><a href="/strconv/itoa.go.html#3013789">d</a></span>&nbsp;<span class="op" id="3014885">=</span>&nbsp;<span class="builtinfunc" id="3014887">append</span><span class="op" id="3014893">(</span><span class="ident" id="3014894"><a href="/strconv/itoa.go.html#3013737">dst</a></span><span class="op" id="3014897">,</span>&nbsp;<span class="ident" id="3014899"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014900">[</span><span class="ident" id="3014901"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014902">:</span><span class="op" id="3014903">]</span><span class="op" id="3014904">...</span><span class="op" id="3014907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014911">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3014919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3014922"><a href="/strconv/itoa.go.html#3013799">s</a></span>&nbsp;<span class="op" id="3014924">=</span>&nbsp;<span class="builtintype" id="3014926">string</span><span class="op" id="3014932">(</span><span class="ident" id="3014933"><a href="/strconv/itoa.go.html#3013947">a</a></span><span class="op" id="3014934">[</span><span class="ident" id="3014935"><a href="/strconv/itoa.go.html#3014003">i</a></span><span class="op" id="3014936">:</span><span class="op" id="3014937">]</span><span class="op" id="3014938">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3014941">return</span><br>
<span class="lineno"></span><span class="op" id="3014948">}</span>
</div>
</body>
</html>
