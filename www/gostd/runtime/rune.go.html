<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1635249">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;authors&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;Rob&nbsp;Pike&nbsp;and&nbsp;Ken&nbsp;Thompson.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;by&nbsp;Lucent&nbsp;Technologies.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<span class="lineno">5</span>&nbsp;*&nbsp;Permission&nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute&nbsp;this&nbsp;software&nbsp;for&nbsp;any<br>
<span class="lineno"></span>&nbsp;*&nbsp;purpose&nbsp;without&nbsp;fee&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;provided&nbsp;that&nbsp;this&nbsp;entire&nbsp;notice<br>
<span class="lineno"></span>&nbsp;*&nbsp;is&nbsp;included&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;any&nbsp;software&nbsp;which&nbsp;is&nbsp;or&nbsp;includes&nbsp;a&nbsp;copy<br>
<span class="lineno"></span>&nbsp;*&nbsp;or&nbsp;modification&nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;the&nbsp;supporting<br>
<span class="lineno"></span>&nbsp;*&nbsp;documentation&nbsp;for&nbsp;such&nbsp;software.<br>
<span class="lineno">10</span>&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;BEING&nbsp;PROVIDED&nbsp;&#34;AS&nbsp;IS&#34;,&nbsp;WITHOUT&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED<br>
<span class="lineno"></span>&nbsp;*&nbsp;WARRANTY.&nbsp;&nbsp;IN&nbsp;PARTICULAR,&nbsp;NEITHER&nbsp;THE&nbsp;AUTHORS&nbsp;NOR&nbsp;LUCENT&nbsp;TECHNOLOGIES&nbsp;MAKE&nbsp;ANY<br>
<span class="lineno"></span>&nbsp;*&nbsp;REPRESENTATION&nbsp;OR&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND&nbsp;CONCERNING&nbsp;THE&nbsp;MERCHANTABILITY<br>
<span class="lineno"></span>&nbsp;*&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE&nbsp;OR&nbsp;ITS&nbsp;FITNESS&nbsp;FOR&nbsp;ANY&nbsp;PARTICULAR&nbsp;PURPOSE.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1636078">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;code&nbsp;is&nbsp;copied,&nbsp;with&nbsp;slight&nbsp;editing&nbsp;due&nbsp;to&nbsp;type&nbsp;differences,<br>
<span class="lineno"></span>&nbsp;*&nbsp;from&nbsp;a&nbsp;subset&nbsp;of&nbsp;../lib9/utf/rune.c<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1636194">package</span>&nbsp;<span class="ident" id="1636202">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1636211">const</span>&nbsp;<span class="op" id="1636217">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636220">bit1</span>&nbsp;<span class="op" id="1636225">=</span>&nbsp;<span class="num" id="1636227">7</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636230">bitx</span>&nbsp;<span class="op" id="1636235">=</span>&nbsp;<span class="num" id="1636237">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636240">bit2</span>&nbsp;<span class="op" id="1636245">=</span>&nbsp;<span class="num" id="1636247">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636250">bit3</span>&nbsp;<span class="op" id="1636255">=</span>&nbsp;<span class="num" id="1636257">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636260">bit4</span>&nbsp;<span class="op" id="1636265">=</span>&nbsp;<span class="num" id="1636267">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636270">bit5</span>&nbsp;<span class="op" id="1636275">=</span>&nbsp;<span class="num" id="1636277">2</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636281">t1</span>&nbsp;<span class="op" id="1636284">=</span>&nbsp;<span class="op" id="1636286">(</span><span class="op" id="1636287">(</span><span class="num" id="1636288">1</span>&nbsp;<span class="op" id="1636290">&lt;&lt;</span>&nbsp;<span class="op" id="1636293">(</span><span class="ident" id="1636294">bit1</span>&nbsp;<span class="op" id="1636299">+</span>&nbsp;<span class="num" id="1636301">1</span><span class="op" id="1636302">)</span><span class="op" id="1636303">)</span>&nbsp;<span class="op" id="1636305">-</span>&nbsp;<span class="num" id="1636307">1</span><span class="op" id="1636308">)</span>&nbsp;<span class="op" id="1636310">^</span>&nbsp;<span class="num" id="1636312">0xFF</span>&nbsp;<span class="comment" id="1636317">/*&nbsp;0000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636334">tx</span>&nbsp;<span class="op" id="1636337">=</span>&nbsp;<span class="op" id="1636339">(</span><span class="op" id="1636340">(</span><span class="num" id="1636341">1</span>&nbsp;<span class="op" id="1636343">&lt;&lt;</span>&nbsp;<span class="op" id="1636346">(</span><span class="ident" id="1636347">bitx</span>&nbsp;<span class="op" id="1636352">+</span>&nbsp;<span class="num" id="1636354">1</span><span class="op" id="1636355">)</span><span class="op" id="1636356">)</span>&nbsp;<span class="op" id="1636358">-</span>&nbsp;<span class="num" id="1636360">1</span><span class="op" id="1636361">)</span>&nbsp;<span class="op" id="1636363">^</span>&nbsp;<span class="num" id="1636365">0xFF</span>&nbsp;<span class="comment" id="1636370">/*&nbsp;1000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636387">t2</span>&nbsp;<span class="op" id="1636390">=</span>&nbsp;<span class="op" id="1636392">(</span><span class="op" id="1636393">(</span><span class="num" id="1636394">1</span>&nbsp;<span class="op" id="1636396">&lt;&lt;</span>&nbsp;<span class="op" id="1636399">(</span><span class="ident" id="1636400">bit2</span>&nbsp;<span class="op" id="1636405">+</span>&nbsp;<span class="num" id="1636407">1</span><span class="op" id="1636408">)</span><span class="op" id="1636409">)</span>&nbsp;<span class="op" id="1636411">-</span>&nbsp;<span class="num" id="1636413">1</span><span class="op" id="1636414">)</span>&nbsp;<span class="op" id="1636416">^</span>&nbsp;<span class="num" id="1636418">0xFF</span>&nbsp;<span class="comment" id="1636423">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636440">t3</span>&nbsp;<span class="op" id="1636443">=</span>&nbsp;<span class="op" id="1636445">(</span><span class="op" id="1636446">(</span><span class="num" id="1636447">1</span>&nbsp;<span class="op" id="1636449">&lt;&lt;</span>&nbsp;<span class="op" id="1636452">(</span><span class="ident" id="1636453">bit3</span>&nbsp;<span class="op" id="1636458">+</span>&nbsp;<span class="num" id="1636460">1</span><span class="op" id="1636461">)</span><span class="op" id="1636462">)</span>&nbsp;<span class="op" id="1636464">-</span>&nbsp;<span class="num" id="1636466">1</span><span class="op" id="1636467">)</span>&nbsp;<span class="op" id="1636469">^</span>&nbsp;<span class="num" id="1636471">0xFF</span>&nbsp;<span class="comment" id="1636476">/*&nbsp;1110&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636493">t4</span>&nbsp;<span class="op" id="1636496">=</span>&nbsp;<span class="op" id="1636498">(</span><span class="op" id="1636499">(</span><span class="num" id="1636500">1</span>&nbsp;<span class="op" id="1636502">&lt;&lt;</span>&nbsp;<span class="op" id="1636505">(</span><span class="ident" id="1636506">bit4</span>&nbsp;<span class="op" id="1636511">+</span>&nbsp;<span class="num" id="1636513">1</span><span class="op" id="1636514">)</span><span class="op" id="1636515">)</span>&nbsp;<span class="op" id="1636517">-</span>&nbsp;<span class="num" id="1636519">1</span><span class="op" id="1636520">)</span>&nbsp;<span class="op" id="1636522">^</span>&nbsp;<span class="num" id="1636524">0xFF</span>&nbsp;<span class="comment" id="1636529">/*&nbsp;1111&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636546">t5</span>&nbsp;<span class="op" id="1636549">=</span>&nbsp;<span class="op" id="1636551">(</span><span class="op" id="1636552">(</span><span class="num" id="1636553">1</span>&nbsp;<span class="op" id="1636555">&lt;&lt;</span>&nbsp;<span class="op" id="1636558">(</span><span class="ident" id="1636559">bit5</span>&nbsp;<span class="op" id="1636564">+</span>&nbsp;<span class="num" id="1636566">1</span><span class="op" id="1636567">)</span><span class="op" id="1636568">)</span>&nbsp;<span class="op" id="1636570">-</span>&nbsp;<span class="num" id="1636572">1</span><span class="op" id="1636573">)</span>&nbsp;<span class="op" id="1636575">^</span>&nbsp;<span class="num" id="1636577">0xFF</span>&nbsp;<span class="comment" id="1636582">/*&nbsp;1111&nbsp;1000&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636600">rune1</span>&nbsp;<span class="op" id="1636606">=</span>&nbsp;<span class="op" id="1636608">(</span><span class="num" id="1636609">1</span>&nbsp;<span class="op" id="1636611">&lt;&lt;</span>&nbsp;<span class="op" id="1636614">(</span><span class="ident" id="1636615">bit1</span>&nbsp;<span class="op" id="1636620">+</span>&nbsp;<span class="num" id="1636622">0</span><span class="op" id="1636623">*</span><span class="ident" id="1636624">bitx</span><span class="op" id="1636628">)</span><span class="op" id="1636629">)</span>&nbsp;<span class="op" id="1636631">-</span>&nbsp;<span class="num" id="1636633">1</span>&nbsp;<span class="comment" id="1636635">/*&nbsp;0000&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636662">rune2</span>&nbsp;<span class="op" id="1636668">=</span>&nbsp;<span class="op" id="1636670">(</span><span class="num" id="1636671">1</span>&nbsp;<span class="op" id="1636673">&lt;&lt;</span>&nbsp;<span class="op" id="1636676">(</span><span class="ident" id="1636677">bit2</span>&nbsp;<span class="op" id="1636682">+</span>&nbsp;<span class="num" id="1636684">1</span><span class="op" id="1636685">*</span><span class="ident" id="1636686">bitx</span><span class="op" id="1636690">)</span><span class="op" id="1636691">)</span>&nbsp;<span class="op" id="1636693">-</span>&nbsp;<span class="num" id="1636695">1</span>&nbsp;<span class="comment" id="1636697">/*&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636724">rune3</span>&nbsp;<span class="op" id="1636730">=</span>&nbsp;<span class="op" id="1636732">(</span><span class="num" id="1636733">1</span>&nbsp;<span class="op" id="1636735">&lt;&lt;</span>&nbsp;<span class="op" id="1636738">(</span><span class="ident" id="1636739">bit3</span>&nbsp;<span class="op" id="1636744">+</span>&nbsp;<span class="num" id="1636746">2</span><span class="op" id="1636747">*</span><span class="ident" id="1636748">bitx</span><span class="op" id="1636752">)</span><span class="op" id="1636753">)</span>&nbsp;<span class="op" id="1636755">-</span>&nbsp;<span class="num" id="1636757">1</span>&nbsp;<span class="comment" id="1636759">/*&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636786">rune4</span>&nbsp;<span class="op" id="1636792">=</span>&nbsp;<span class="op" id="1636794">(</span><span class="num" id="1636795">1</span>&nbsp;<span class="op" id="1636797">&lt;&lt;</span>&nbsp;<span class="op" id="1636800">(</span><span class="ident" id="1636801">bit4</span>&nbsp;<span class="op" id="1636806">+</span>&nbsp;<span class="num" id="1636808">3</span><span class="op" id="1636809">*</span><span class="ident" id="1636810">bitx</span><span class="op" id="1636814">)</span><span class="op" id="1636815">)</span>&nbsp;<span class="op" id="1636817">-</span>&nbsp;<span class="num" id="1636819">1</span>&nbsp;<span class="comment" id="1636821">/*&nbsp;0001&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636859">maskx</span>&nbsp;<span class="op" id="1636865">=</span>&nbsp;<span class="op" id="1636867">(</span><span class="num" id="1636868">1</span>&nbsp;<span class="op" id="1636870">&lt;&lt;</span>&nbsp;<span class="ident" id="1636873">bitx</span><span class="op" id="1636877">)</span>&nbsp;<span class="op" id="1636879">-</span>&nbsp;<span class="num" id="1636881">1</span>&nbsp;<span class="comment" id="1636883">/*&nbsp;0011&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636900">testx</span>&nbsp;<span class="op" id="1636906">=</span>&nbsp;<span class="ident" id="1636908">maskx</span>&nbsp;<span class="op" id="1636914">^</span>&nbsp;<span class="num" id="1636916">0xFF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1636924">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636942">runeerror</span>&nbsp;<span class="op" id="1636952">=</span>&nbsp;<span class="num" id="1636954">0xFFFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636962">runeself</span>&nbsp;&nbsp;<span class="op" id="1636972">=</span>&nbsp;<span class="num" id="1636974">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1636981">surrogateMin</span>&nbsp;<span class="op" id="1636994">=</span>&nbsp;<span class="num" id="1636996">0xD800</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1637004">surrogateMax</span>&nbsp;<span class="op" id="1637017">=</span>&nbsp;<span class="num" id="1637019">0xDFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1637028">bad</span>&nbsp;<span class="op" id="1637032">=</span>&nbsp;<span class="ident" id="1637034">runeerror</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1637046">runemax</span>&nbsp;<span class="op" id="1637054">=</span>&nbsp;<span class="num" id="1637056">0x10FFFF</span>&nbsp;<span class="comment" id="1637065">/*&nbsp;maximum&nbsp;rune&nbsp;value&nbsp;*/</span><br>
<span class="lineno">55</span><span class="op" id="1637090">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1637093">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Modified&nbsp;by&nbsp;Wei-Hwa&nbsp;Huang,&nbsp;Google&nbsp;Inc.,&nbsp;on&nbsp;2004-09-24<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;is&nbsp;a&nbsp;slower&nbsp;but&nbsp;&#34;safe&#34;&nbsp;version&nbsp;of&nbsp;the&nbsp;old&nbsp;chartorune<br>
<span class="lineno">60</span>&nbsp;*&nbsp;that&nbsp;works&nbsp;on&nbsp;strings&nbsp;that&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;null-terminated.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;If&nbsp;you&nbsp;know&nbsp;for&nbsp;sure&nbsp;that&nbsp;your&nbsp;string&nbsp;is&nbsp;null-terminated,<br>
<span class="lineno"></span>&nbsp;*&nbsp;chartorune&nbsp;will&nbsp;be&nbsp;a&nbsp;bit&nbsp;faster.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno">65</span>&nbsp;*&nbsp;It&nbsp;is&nbsp;guaranteed&nbsp;not&nbsp;to&nbsp;attempt&nbsp;to&nbsp;access&nbsp;&#34;length&#34;<br>
<span class="lineno"></span>&nbsp;*&nbsp;past&nbsp;the&nbsp;incoming&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid<br>
<span class="lineno"></span>&nbsp;*&nbsp;possible&nbsp;access&nbsp;violations.&nbsp;&nbsp;If&nbsp;the&nbsp;string&nbsp;appears&nbsp;to&nbsp;be<br>
<span class="lineno"></span>&nbsp;*&nbsp;well-formed&nbsp;but&nbsp;incomplete&nbsp;(i.e.,&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;Rune<br>
<span class="lineno"></span>&nbsp;*&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;read&nbsp;past&nbsp;str+length)&nbsp;then&nbsp;we&#39;ll&nbsp;set&nbsp;the&nbsp;Rune<br>
<span class="lineno">70</span>&nbsp;*&nbsp;to&nbsp;Bad&nbsp;and&nbsp;return&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Note&nbsp;that&nbsp;if&nbsp;we&nbsp;have&nbsp;decoding&nbsp;problems&nbsp;for&nbsp;other<br>
<span class="lineno"></span>&nbsp;*&nbsp;reasons,&nbsp;we&nbsp;return&nbsp;1&nbsp;instead&nbsp;of&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">75</span><span class="keyword" id="1637788">func</span>&nbsp;<span class="ident" id="1637793">charntorune</span><span class="op" id="1637804">(</span><span class="ident" id="1637805">s</span>&nbsp;<span class="builtintype" id="1637807">string</span><span class="op" id="1637813">)</span>&nbsp;<span class="op" id="1637815">(</span><span class="builtintype" id="1637816">rune</span><span class="op" id="1637820">,</span>&nbsp;<span class="builtintype" id="1637822">int</span><span class="op" id="1637825">)</span>&nbsp;<span class="op" id="1637827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1637830">/*&nbsp;When&nbsp;we&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;read&nbsp;anything&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1637877">if</span>&nbsp;<span class="builtinfunc" id="1637880">len</span><span class="op" id="1637883">(</span><span class="ident" id="1637884">s</span><span class="op" id="1637885">)</span>&nbsp;<span class="op" id="1637887">&lt;=</span>&nbsp;<span class="num" id="1637890">0</span>&nbsp;<span class="op" id="1637892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1637896">return</span>&nbsp;<span class="ident" id="1637903">bad</span><span class="op" id="1637906">,</span>&nbsp;<span class="num" id="1637908">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1637911">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1637915">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence&nbsp;(7-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp00000-0007F&nbsp;=&gt;&nbsp;T1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1637987">c</span>&nbsp;<span class="op" id="1637989">:=</span>&nbsp;<span class="ident" id="1637992">s</span><span class="op" id="1637993">[</span><span class="num" id="1637994">0</span><span class="op" id="1637995">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1637998">if</span>&nbsp;<span class="ident" id="1638001">c</span>&nbsp;<span class="op" id="1638003">&lt;</span>&nbsp;<span class="ident" id="1638005">tx</span>&nbsp;<span class="op" id="1638008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638012">return</span>&nbsp;<span class="builtintype" id="1638019">rune</span><span class="op" id="1638023">(</span><span class="ident" id="1638024">c</span><span class="op" id="1638025">)</span><span class="op" id="1638026">,</span>&nbsp;<span class="num" id="1638028">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1638035">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;one&nbsp;character&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638093">if</span>&nbsp;<span class="builtinfunc" id="1638096">len</span><span class="op" id="1638099">(</span><span class="ident" id="1638100">s</span><span class="op" id="1638101">)</span>&nbsp;<span class="op" id="1638103">&lt;=</span>&nbsp;<span class="num" id="1638106">1</span>&nbsp;<span class="op" id="1638108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638112">return</span>&nbsp;<span class="ident" id="1638119">bad</span><span class="op" id="1638122">,</span>&nbsp;<span class="num" id="1638124">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1638131">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence&nbsp;(11-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638205">c1</span>&nbsp;<span class="op" id="1638208">:=</span>&nbsp;<span class="ident" id="1638211">s</span><span class="op" id="1638212">[</span><span class="num" id="1638213">1</span><span class="op" id="1638214">]</span>&nbsp;<span class="op" id="1638216">^</span>&nbsp;<span class="ident" id="1638218">tx</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638222">if</span>&nbsp;<span class="op" id="1638225">(</span><span class="ident" id="1638226">c1</span>&nbsp;<span class="op" id="1638229">&amp;</span>&nbsp;<span class="ident" id="1638231">testx</span><span class="op" id="1638236">)</span>&nbsp;<span class="op" id="1638238">!=</span>&nbsp;<span class="num" id="1638241">0</span>&nbsp;<span class="op" id="1638243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638247">return</span>&nbsp;<span class="ident" id="1638254">bad</span><span class="op" id="1638257">,</span>&nbsp;<span class="num" id="1638259">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638265">if</span>&nbsp;<span class="ident" id="1638268">c</span>&nbsp;<span class="op" id="1638270">&lt;</span>&nbsp;<span class="ident" id="1638272">t3</span>&nbsp;<span class="op" id="1638275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638279">if</span>&nbsp;<span class="ident" id="1638282">c</span>&nbsp;<span class="op" id="1638284">&lt;</span>&nbsp;<span class="ident" id="1638286">t2</span>&nbsp;<span class="op" id="1638289">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638294">return</span>&nbsp;<span class="ident" id="1638301">bad</span><span class="op" id="1638304">,</span>&nbsp;<span class="num" id="1638306">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638314">l</span>&nbsp;<span class="op" id="1638316">:=</span>&nbsp;<span class="op" id="1638319">(</span><span class="op" id="1638320">(</span><span class="builtintype" id="1638321">rune</span><span class="op" id="1638325">(</span><span class="ident" id="1638326">c</span><span class="op" id="1638327">)</span>&nbsp;<span class="op" id="1638329">&lt;&lt;</span>&nbsp;<span class="ident" id="1638332">bitx</span><span class="op" id="1638336">)</span>&nbsp;<span class="op" id="1638338">|</span>&nbsp;<span class="builtintype" id="1638340">rune</span><span class="op" id="1638344">(</span><span class="ident" id="1638345">c1</span><span class="op" id="1638347">)</span><span class="op" id="1638348">)</span>&nbsp;<span class="op" id="1638350">&amp;</span>&nbsp;<span class="ident" id="1638352">rune2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638360">if</span>&nbsp;<span class="ident" id="1638363">l</span>&nbsp;<span class="op" id="1638365">&lt;=</span>&nbsp;<span class="ident" id="1638368">rune1</span>&nbsp;<span class="op" id="1638374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638379">return</span>&nbsp;<span class="ident" id="1638386">bad</span><span class="op" id="1638389">,</span>&nbsp;<span class="num" id="1638391">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638399">return</span>&nbsp;<span class="ident" id="1638406">l</span><span class="op" id="1638407">,</span>&nbsp;<span class="num" id="1638409">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1638416">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;two&nbsp;characters&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638475">if</span>&nbsp;<span class="builtinfunc" id="1638478">len</span><span class="op" id="1638481">(</span><span class="ident" id="1638482">s</span><span class="op" id="1638483">)</span>&nbsp;<span class="op" id="1638485">&lt;=</span>&nbsp;<span class="num" id="1638488">2</span>&nbsp;<span class="op" id="1638490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638494">return</span>&nbsp;<span class="ident" id="1638501">bad</span><span class="op" id="1638504">,</span>&nbsp;<span class="num" id="1638506">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1638513">/*<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence&nbsp;(16-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638592">c2</span>&nbsp;<span class="op" id="1638595">:=</span>&nbsp;<span class="ident" id="1638598">s</span><span class="op" id="1638599">[</span><span class="num" id="1638600">2</span><span class="op" id="1638601">]</span>&nbsp;<span class="op" id="1638603">^</span>&nbsp;<span class="ident" id="1638605">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638609">if</span>&nbsp;<span class="op" id="1638612">(</span><span class="ident" id="1638613">c2</span>&nbsp;<span class="op" id="1638616">&amp;</span>&nbsp;<span class="ident" id="1638618">testx</span><span class="op" id="1638623">)</span>&nbsp;<span class="op" id="1638625">!=</span>&nbsp;<span class="num" id="1638628">0</span>&nbsp;<span class="op" id="1638630">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638634">return</span>&nbsp;<span class="ident" id="1638641">bad</span><span class="op" id="1638644">,</span>&nbsp;<span class="num" id="1638646">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638652">if</span>&nbsp;<span class="ident" id="1638655">c</span>&nbsp;<span class="op" id="1638657">&lt;</span>&nbsp;<span class="ident" id="1638659">t4</span>&nbsp;<span class="op" id="1638662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638666">l</span>&nbsp;<span class="op" id="1638668">:=</span>&nbsp;<span class="op" id="1638671">(</span><span class="op" id="1638672">(</span><span class="op" id="1638673">(</span><span class="op" id="1638674">(</span><span class="builtintype" id="1638675">rune</span><span class="op" id="1638679">(</span><span class="ident" id="1638680">c</span><span class="op" id="1638681">)</span>&nbsp;<span class="op" id="1638683">&lt;&lt;</span>&nbsp;<span class="ident" id="1638686">bitx</span><span class="op" id="1638690">)</span>&nbsp;<span class="op" id="1638692">|</span>&nbsp;<span class="builtintype" id="1638694">rune</span><span class="op" id="1638698">(</span><span class="ident" id="1638699">c1</span><span class="op" id="1638701">)</span><span class="op" id="1638702">)</span>&nbsp;<span class="op" id="1638704">&lt;&lt;</span>&nbsp;<span class="ident" id="1638707">bitx</span><span class="op" id="1638711">)</span>&nbsp;<span class="op" id="1638713">|</span>&nbsp;<span class="builtintype" id="1638715">rune</span><span class="op" id="1638719">(</span><span class="ident" id="1638720">c2</span><span class="op" id="1638722">)</span><span class="op" id="1638723">)</span>&nbsp;<span class="op" id="1638725">&amp;</span>&nbsp;<span class="ident" id="1638727">rune3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638735">if</span>&nbsp;<span class="ident" id="1638738">l</span>&nbsp;<span class="op" id="1638740">&lt;=</span>&nbsp;<span class="ident" id="1638743">rune2</span>&nbsp;<span class="op" id="1638749">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638754">return</span>&nbsp;<span class="ident" id="1638761">bad</span><span class="op" id="1638764">,</span>&nbsp;<span class="num" id="1638766">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638774">if</span>&nbsp;<span class="ident" id="1638777">surrogateMin</span>&nbsp;<span class="op" id="1638790">&lt;=</span>&nbsp;<span class="ident" id="1638793">l</span>&nbsp;<span class="op" id="1638795">&amp;&amp;</span>&nbsp;<span class="ident" id="1638798">l</span>&nbsp;<span class="op" id="1638800">&lt;=</span>&nbsp;<span class="ident" id="1638803">surrogateMax</span>&nbsp;<span class="op" id="1638816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638821">return</span>&nbsp;<span class="ident" id="1638828">bad</span><span class="op" id="1638831">,</span>&nbsp;<span class="num" id="1638833">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638837">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638841">return</span>&nbsp;<span class="ident" id="1638848">l</span><span class="op" id="1638849">,</span>&nbsp;<span class="num" id="1638851">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638858">if</span>&nbsp;<span class="builtinfunc" id="1638861">len</span><span class="op" id="1638864">(</span><span class="ident" id="1638865">s</span><span class="op" id="1638866">)</span>&nbsp;<span class="op" id="1638868">&lt;=</span>&nbsp;<span class="num" id="1638871">3</span>&nbsp;<span class="op" id="1638873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638877">return</span>&nbsp;<span class="ident" id="1638884">bad</span><span class="op" id="1638887">,</span>&nbsp;<span class="num" id="1638889">1</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1638892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1638896">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638980">c3</span>&nbsp;<span class="op" id="1638983">:=</span>&nbsp;<span class="ident" id="1638986">s</span><span class="op" id="1638987">[</span><span class="num" id="1638988">3</span><span class="op" id="1638989">]</span>&nbsp;<span class="op" id="1638991">^</span>&nbsp;<span class="ident" id="1638993">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1638997">if</span>&nbsp;<span class="op" id="1639000">(</span><span class="ident" id="1639001">c3</span>&nbsp;<span class="op" id="1639004">&amp;</span>&nbsp;<span class="ident" id="1639006">testx</span><span class="op" id="1639011">)</span>&nbsp;<span class="op" id="1639013">!=</span>&nbsp;<span class="num" id="1639016">0</span>&nbsp;<span class="op" id="1639018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639022">return</span>&nbsp;<span class="ident" id="1639029">bad</span><span class="op" id="1639032">,</span>&nbsp;<span class="num" id="1639034">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1639037">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639040">if</span>&nbsp;<span class="ident" id="1639043">c</span>&nbsp;<span class="op" id="1639045">&lt;</span>&nbsp;<span class="ident" id="1639047">t5</span>&nbsp;<span class="op" id="1639050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639054">l</span>&nbsp;<span class="op" id="1639056">:=</span>&nbsp;<span class="op" id="1639059">(</span><span class="op" id="1639060">(</span><span class="op" id="1639061">(</span><span class="op" id="1639062">(</span><span class="op" id="1639063">(</span><span class="op" id="1639064">(</span><span class="builtintype" id="1639065">rune</span><span class="op" id="1639069">(</span><span class="ident" id="1639070">c</span><span class="op" id="1639071">)</span>&nbsp;<span class="op" id="1639073">&lt;&lt;</span>&nbsp;<span class="ident" id="1639076">bitx</span><span class="op" id="1639080">)</span>&nbsp;<span class="op" id="1639082">|</span>&nbsp;<span class="builtintype" id="1639084">rune</span><span class="op" id="1639088">(</span><span class="ident" id="1639089">c1</span><span class="op" id="1639091">)</span><span class="op" id="1639092">)</span>&nbsp;<span class="op" id="1639094">&lt;&lt;</span>&nbsp;<span class="ident" id="1639097">bitx</span><span class="op" id="1639101">)</span>&nbsp;<span class="op" id="1639103">|</span>&nbsp;<span class="builtintype" id="1639105">rune</span><span class="op" id="1639109">(</span><span class="ident" id="1639110">c2</span><span class="op" id="1639112">)</span><span class="op" id="1639113">)</span>&nbsp;<span class="op" id="1639115">&lt;&lt;</span>&nbsp;<span class="ident" id="1639118">bitx</span><span class="op" id="1639122">)</span>&nbsp;<span class="op" id="1639124">|</span>&nbsp;<span class="builtintype" id="1639126">rune</span><span class="op" id="1639130">(</span><span class="ident" id="1639131">c3</span><span class="op" id="1639133">)</span><span class="op" id="1639134">)</span>&nbsp;<span class="op" id="1639136">&amp;</span>&nbsp;<span class="ident" id="1639138">rune4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639146">if</span>&nbsp;<span class="ident" id="1639149">l</span>&nbsp;<span class="op" id="1639151">&lt;=</span>&nbsp;<span class="ident" id="1639154">rune3</span>&nbsp;<span class="op" id="1639160">||</span>&nbsp;<span class="ident" id="1639163">l</span>&nbsp;<span class="op" id="1639165">&gt;</span>&nbsp;<span class="ident" id="1639167">runemax</span>&nbsp;<span class="op" id="1639175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639180">return</span>&nbsp;<span class="ident" id="1639187">bad</span><span class="op" id="1639190">,</span>&nbsp;<span class="num" id="1639192">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1639196">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639200">return</span>&nbsp;<span class="ident" id="1639207">l</span><span class="op" id="1639208">,</span>&nbsp;<span class="num" id="1639210">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1639213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1639217">//&nbsp;Support&nbsp;for&nbsp;5-byte&nbsp;or&nbsp;longer&nbsp;UTF-8&nbsp;would&nbsp;go&nbsp;here,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1639275">//&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;that,&nbsp;we&#39;ll&nbsp;just&nbsp;return&nbsp;bad.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639328">return</span>&nbsp;<span class="ident" id="1639335">bad</span><span class="op" id="1639338">,</span>&nbsp;<span class="num" id="1639340">1</span><br>
<span class="lineno"></span><span class="op" id="1639342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1639345">//&nbsp;runetochar&nbsp;converts&nbsp;r&nbsp;to&nbsp;bytes&nbsp;and&nbsp;writes&nbsp;the&nbsp;result&nbsp;to&nbsp;str.</span><br>
<span class="lineno"></span><span class="comment" id="1639409">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;generated.</span><br>
<span class="lineno">165</span><span class="keyword" id="1639451">func</span>&nbsp;<span class="ident" id="1639456">runetochar</span><span class="op" id="1639466">(</span><span class="ident" id="1639467">str</span>&nbsp;<span class="op" id="1639471">[</span><span class="op" id="1639472">]</span><span class="builtintype" id="1639473">byte</span><span class="op" id="1639477">,</span>&nbsp;<span class="ident" id="1639479">r</span>&nbsp;<span class="builtintype" id="1639481">rune</span><span class="op" id="1639485">)</span>&nbsp;<span class="builtintype" id="1639487">int</span>&nbsp;<span class="op" id="1639491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1639494">/*&nbsp;runes&nbsp;are&nbsp;signed,&nbsp;so&nbsp;convert&nbsp;to&nbsp;unsigned&nbsp;for&nbsp;range&nbsp;check.&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639559">c</span>&nbsp;<span class="op" id="1639561">:=</span>&nbsp;<span class="builtintype" id="1639564">uint32</span><span class="op" id="1639570">(</span><span class="ident" id="1639571">r</span><span class="op" id="1639572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1639575">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence<br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp00000-0007F&nbsp;=&gt;&nbsp;00-7F<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639636">if</span>&nbsp;<span class="ident" id="1639639">c</span>&nbsp;<span class="op" id="1639641">&lt;=</span>&nbsp;<span class="ident" id="1639644">rune1</span>&nbsp;<span class="op" id="1639650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639654">str</span><span class="op" id="1639657">[</span><span class="num" id="1639658">0</span><span class="op" id="1639659">]</span>&nbsp;<span class="op" id="1639661">=</span>&nbsp;<span class="builtintype" id="1639663">byte</span><span class="op" id="1639667">(</span><span class="ident" id="1639668">c</span><span class="op" id="1639669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639673">return</span>&nbsp;<span class="num" id="1639680">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1639683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1639686">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639745">if</span>&nbsp;<span class="ident" id="1639748">c</span>&nbsp;<span class="op" id="1639750">&lt;=</span>&nbsp;<span class="ident" id="1639753">rune2</span>&nbsp;<span class="op" id="1639759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639763">str</span><span class="op" id="1639766">[</span><span class="num" id="1639767">0</span><span class="op" id="1639768">]</span>&nbsp;<span class="op" id="1639770">=</span>&nbsp;<span class="builtintype" id="1639772">byte</span><span class="op" id="1639776">(</span><span class="ident" id="1639777">t2</span>&nbsp;<span class="op" id="1639780">|</span>&nbsp;<span class="op" id="1639782">(</span><span class="ident" id="1639783">c</span>&nbsp;<span class="op" id="1639785">&gt;&gt;</span>&nbsp;<span class="op" id="1639788">(</span><span class="num" id="1639789">1</span>&nbsp;<span class="op" id="1639791">*</span>&nbsp;<span class="ident" id="1639793">bitx</span><span class="op" id="1639797">)</span><span class="op" id="1639798">)</span><span class="op" id="1639799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639803">str</span><span class="op" id="1639806">[</span><span class="num" id="1639807">1</span><span class="op" id="1639808">]</span>&nbsp;<span class="op" id="1639810">=</span>&nbsp;<span class="builtintype" id="1639812">byte</span><span class="op" id="1639816">(</span><span class="ident" id="1639817">tx</span>&nbsp;<span class="op" id="1639820">|</span>&nbsp;<span class="op" id="1639822">(</span><span class="ident" id="1639823">c</span>&nbsp;<span class="op" id="1639825">&amp;</span>&nbsp;<span class="ident" id="1639827">maskx</span><span class="op" id="1639832">)</span><span class="op" id="1639833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639837">return</span>&nbsp;<span class="num" id="1639844">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1639847">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1639851">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;If&nbsp;the&nbsp;rune&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;a&nbsp;surrogate&nbsp;half,&nbsp;convert&nbsp;it&nbsp;to&nbsp;the&nbsp;error&nbsp;rune.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;Do&nbsp;this&nbsp;test&nbsp;here&nbsp;because&nbsp;the&nbsp;error&nbsp;rune&nbsp;encodes&nbsp;to&nbsp;three&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;Doing&nbsp;it&nbsp;earlier&nbsp;would&nbsp;duplicate&nbsp;work,&nbsp;since&nbsp;an&nbsp;out&nbsp;of&nbsp;range<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;rune&nbsp;wouldn&#39;t&nbsp;have&nbsp;fit&nbsp;in&nbsp;one&nbsp;or&nbsp;two&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640125">if</span>&nbsp;<span class="ident" id="1640128">c</span>&nbsp;<span class="op" id="1640130">&gt;</span>&nbsp;<span class="ident" id="1640132">runemax</span>&nbsp;<span class="op" id="1640140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640144">c</span>&nbsp;<span class="op" id="1640146">=</span>&nbsp;<span class="ident" id="1640148">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640159">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640162">if</span>&nbsp;<span class="ident" id="1640165">surrogateMin</span>&nbsp;<span class="op" id="1640178">&lt;=</span>&nbsp;<span class="ident" id="1640181">c</span>&nbsp;<span class="op" id="1640183">&amp;&amp;</span>&nbsp;<span class="ident" id="1640186">c</span>&nbsp;<span class="op" id="1640188">&lt;=</span>&nbsp;<span class="ident" id="1640191">surrogateMax</span>&nbsp;<span class="op" id="1640204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640208">c</span>&nbsp;<span class="op" id="1640210">=</span>&nbsp;<span class="ident" id="1640212">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1640227">/*<br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640291">if</span>&nbsp;<span class="ident" id="1640294">c</span>&nbsp;<span class="op" id="1640296">&lt;=</span>&nbsp;<span class="ident" id="1640299">rune3</span>&nbsp;<span class="op" id="1640305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640309">str</span><span class="op" id="1640312">[</span><span class="num" id="1640313">0</span><span class="op" id="1640314">]</span>&nbsp;<span class="op" id="1640316">=</span>&nbsp;<span class="builtintype" id="1640318">byte</span><span class="op" id="1640322">(</span><span class="ident" id="1640323">t3</span>&nbsp;<span class="op" id="1640326">|</span>&nbsp;<span class="op" id="1640328">(</span><span class="ident" id="1640329">c</span>&nbsp;<span class="op" id="1640331">&gt;&gt;</span>&nbsp;<span class="op" id="1640334">(</span><span class="num" id="1640335">2</span>&nbsp;<span class="op" id="1640337">*</span>&nbsp;<span class="ident" id="1640339">bitx</span><span class="op" id="1640343">)</span><span class="op" id="1640344">)</span><span class="op" id="1640345">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640349">str</span><span class="op" id="1640352">[</span><span class="num" id="1640353">1</span><span class="op" id="1640354">]</span>&nbsp;<span class="op" id="1640356">=</span>&nbsp;<span class="builtintype" id="1640358">byte</span><span class="op" id="1640362">(</span><span class="ident" id="1640363">tx</span>&nbsp;<span class="op" id="1640366">|</span>&nbsp;<span class="op" id="1640368">(</span><span class="op" id="1640369">(</span><span class="ident" id="1640370">c</span>&nbsp;<span class="op" id="1640372">&gt;&gt;</span>&nbsp;<span class="op" id="1640375">(</span><span class="num" id="1640376">1</span>&nbsp;<span class="op" id="1640378">*</span>&nbsp;<span class="ident" id="1640380">bitx</span><span class="op" id="1640384">)</span><span class="op" id="1640385">)</span>&nbsp;<span class="op" id="1640387">&amp;</span>&nbsp;<span class="ident" id="1640389">maskx</span><span class="op" id="1640394">)</span><span class="op" id="1640395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640399">str</span><span class="op" id="1640402">[</span><span class="num" id="1640403">2</span><span class="op" id="1640404">]</span>&nbsp;<span class="op" id="1640406">=</span>&nbsp;<span class="builtintype" id="1640408">byte</span><span class="op" id="1640412">(</span><span class="ident" id="1640413">tx</span>&nbsp;<span class="op" id="1640416">|</span>&nbsp;<span class="op" id="1640418">(</span><span class="ident" id="1640419">c</span>&nbsp;<span class="op" id="1640421">&amp;</span>&nbsp;<span class="ident" id="1640423">maskx</span><span class="op" id="1640428">)</span><span class="op" id="1640429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640433">return</span>&nbsp;<span class="num" id="1640440">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1640447">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640535">str</span><span class="op" id="1640538">[</span><span class="num" id="1640539">0</span><span class="op" id="1640540">]</span>&nbsp;<span class="op" id="1640542">=</span>&nbsp;<span class="builtintype" id="1640544">byte</span><span class="op" id="1640548">(</span><span class="ident" id="1640549">t4</span>&nbsp;<span class="op" id="1640552">|</span>&nbsp;<span class="op" id="1640554">(</span><span class="ident" id="1640555">c</span>&nbsp;<span class="op" id="1640557">&gt;&gt;</span>&nbsp;<span class="op" id="1640560">(</span><span class="num" id="1640561">3</span>&nbsp;<span class="op" id="1640563">*</span>&nbsp;<span class="ident" id="1640565">bitx</span><span class="op" id="1640569">)</span><span class="op" id="1640570">)</span><span class="op" id="1640571">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640574">str</span><span class="op" id="1640577">[</span><span class="num" id="1640578">1</span><span class="op" id="1640579">]</span>&nbsp;<span class="op" id="1640581">=</span>&nbsp;<span class="builtintype" id="1640583">byte</span><span class="op" id="1640587">(</span><span class="ident" id="1640588">tx</span>&nbsp;<span class="op" id="1640591">|</span>&nbsp;<span class="op" id="1640593">(</span><span class="op" id="1640594">(</span><span class="ident" id="1640595">c</span>&nbsp;<span class="op" id="1640597">&gt;&gt;</span>&nbsp;<span class="op" id="1640600">(</span><span class="num" id="1640601">2</span>&nbsp;<span class="op" id="1640603">*</span>&nbsp;<span class="ident" id="1640605">bitx</span><span class="op" id="1640609">)</span><span class="op" id="1640610">)</span>&nbsp;<span class="op" id="1640612">&amp;</span>&nbsp;<span class="ident" id="1640614">maskx</span><span class="op" id="1640619">)</span><span class="op" id="1640620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640623">str</span><span class="op" id="1640626">[</span><span class="num" id="1640627">2</span><span class="op" id="1640628">]</span>&nbsp;<span class="op" id="1640630">=</span>&nbsp;<span class="builtintype" id="1640632">byte</span><span class="op" id="1640636">(</span><span class="ident" id="1640637">tx</span>&nbsp;<span class="op" id="1640640">|</span>&nbsp;<span class="op" id="1640642">(</span><span class="op" id="1640643">(</span><span class="ident" id="1640644">c</span>&nbsp;<span class="op" id="1640646">&gt;&gt;</span>&nbsp;<span class="op" id="1640649">(</span><span class="num" id="1640650">1</span>&nbsp;<span class="op" id="1640652">*</span>&nbsp;<span class="ident" id="1640654">bitx</span><span class="op" id="1640658">)</span><span class="op" id="1640659">)</span>&nbsp;<span class="op" id="1640661">&amp;</span>&nbsp;<span class="ident" id="1640663">maskx</span><span class="op" id="1640668">)</span><span class="op" id="1640669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640672">str</span><span class="op" id="1640675">[</span><span class="num" id="1640676">3</span><span class="op" id="1640677">]</span>&nbsp;<span class="op" id="1640679">=</span>&nbsp;<span class="builtintype" id="1640681">byte</span><span class="op" id="1640685">(</span><span class="ident" id="1640686">tx</span>&nbsp;<span class="op" id="1640689">|</span>&nbsp;<span class="op" id="1640691">(</span><span class="ident" id="1640692">c</span>&nbsp;<span class="op" id="1640694">&amp;</span>&nbsp;<span class="ident" id="1640696">maskx</span><span class="op" id="1640701">)</span><span class="op" id="1640702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640705">return</span>&nbsp;<span class="num" id="1640712">4</span><br>
<span class="lineno"></span><span class="op" id="1640714">}</span>
</div>
</body>
</html>
