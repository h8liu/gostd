<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html" class="current">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7736329">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7736384">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7736438">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7736489">package</span>&nbsp;<span class="ident" id="7736497">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7736507">import</span>&nbsp;<span class="op" id="7736514">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7736517">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7736526">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7736536">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7736549">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7736560">&#34;text/template/parse&#34;</span><br>
<span class="lineno"></span><span class="op" id="7736582">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7736585">func</span>&nbsp;<span class="ident" id="7736590">TestAddParseTree</span><span class="op" id="7736606">(</span><span class="ident" id="7736607">t</span>&nbsp;<span class="op" id="7736609">*</span><span class="ident" id="7736610">testing</span><span class="op" id="7736617">.</span><span class="ident" id="7736618">T</span><span class="op" id="7736619">)</span>&nbsp;<span class="op" id="7736621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736624">root</span>&nbsp;<span class="op" id="7736629">:=</span>&nbsp;<span class="ident" id="7736632">Must</span><span class="op" id="7736636">(</span><span class="ident" id="7736637">New</span><span class="op" id="7736640">(</span><span class="string" id="7736641">&#34;root&#34;</span><span class="op" id="7736647">)</span><span class="op" id="7736648">.</span><span class="ident" id="7736649">Parse</span><span class="op" id="7736654">(</span><span class="string" id="7736655">`{{define&nbsp;&#34;a&#34;}}&nbsp;{{.}}&nbsp;{{template&nbsp;&#34;b&#34;}}&nbsp;{{.}}&nbsp;&#34;&gt;&lt;/a&gt;{{end}}`</span><span class="op" id="7736714">)</span><span class="op" id="7736715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736718">tree</span><span class="op" id="7736722">,</span>&nbsp;<span class="ident" id="7736724">err</span>&nbsp;<span class="op" id="7736728">:=</span>&nbsp;<span class="ident" id="7736731">parse</span><span class="op" id="7736736">.</span><span class="ident" id="7736737">Parse</span><span class="op" id="7736742">(</span><span class="string" id="7736743">&#34;t&#34;</span><span class="op" id="7736746">,</span>&nbsp;<span class="string" id="7736748">`{{define&nbsp;&#34;b&#34;}}&lt;a&nbsp;href=&#34;{{end}}`</span><span class="op" id="7736780">,</span>&nbsp;<span class="string" id="7736782">&#34;&#34;</span><span class="op" id="7736784">,</span>&nbsp;<span class="string" id="7736786">&#34;&#34;</span><span class="op" id="7736788">,</span>&nbsp;<span class="builtintype" id="7736790">nil</span><span class="op" id="7736793">,</span>&nbsp;<span class="builtintype" id="7736795">nil</span><span class="op" id="7736798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736801">if</span>&nbsp;<span class="ident" id="7736804">err</span>&nbsp;<span class="op" id="7736808">!=</span>&nbsp;<span class="builtintype" id="7736811">nil</span>&nbsp;<span class="op" id="7736815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736819">t</span><span class="op" id="7736820">.</span><span class="ident" id="7736821">Fatal</span><span class="op" id="7736826">(</span><span class="ident" id="7736827">err</span><span class="op" id="7736830">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7736833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736836">added</span>&nbsp;<span class="op" id="7736842">:=</span>&nbsp;<span class="ident" id="7736845">Must</span><span class="op" id="7736849">(</span><span class="ident" id="7736850">root</span><span class="op" id="7736854">.</span><span class="ident" id="7736855">AddParseTree</span><span class="op" id="7736867">(</span><span class="string" id="7736868">&#34;b&#34;</span><span class="op" id="7736871">,</span>&nbsp;<span class="ident" id="7736873">tree</span><span class="op" id="7736877">[</span><span class="string" id="7736878">&#34;b&#34;</span><span class="op" id="7736881">]</span><span class="op" id="7736882">)</span><span class="op" id="7736883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736886">b</span>&nbsp;<span class="op" id="7736888">:=</span>&nbsp;<span class="builtinfunc" id="7736891">new</span><span class="op" id="7736894">(</span><span class="ident" id="7736895">bytes</span><span class="op" id="7736900">.</span><span class="ident" id="7736901">Buffer</span><span class="op" id="7736907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736910">err</span>&nbsp;<span class="op" id="7736914">=</span>&nbsp;<span class="ident" id="7736916">added</span><span class="op" id="7736921">.</span><span class="ident" id="7736922">ExecuteTemplate</span><span class="op" id="7736937">(</span><span class="ident" id="7736938">b</span><span class="op" id="7736939">,</span>&nbsp;<span class="string" id="7736941">&#34;a&#34;</span><span class="op" id="7736944">,</span>&nbsp;<span class="string" id="7736946">&#34;1&gt;0&#34;</span><span class="op" id="7736951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736954">if</span>&nbsp;<span class="ident" id="7736957">err</span>&nbsp;<span class="op" id="7736961">!=</span>&nbsp;<span class="builtintype" id="7736964">nil</span>&nbsp;<span class="op" id="7736968">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736972">t</span><span class="op" id="7736973">.</span><span class="ident" id="7736974">Fatal</span><span class="op" id="7736979">(</span><span class="ident" id="7736980">err</span><span class="op" id="7736983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7736986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736989">if</span>&nbsp;<span class="ident" id="7736992">got</span><span class="op" id="7736995">,</span>&nbsp;<span class="ident" id="7736997">want</span>&nbsp;<span class="op" id="7737002">:=</span>&nbsp;<span class="ident" id="7737005">b</span><span class="op" id="7737006">.</span><span class="ident" id="7737007">String</span><span class="op" id="7737013">(</span><span class="op" id="7737014">)</span><span class="op" id="7737015">,</span>&nbsp;<span class="string" id="7737017">`&nbsp;1&amp;gt;0&nbsp;&lt;a&nbsp;href=&#34;&nbsp;1%3e0&nbsp;&#34;&gt;&lt;/a&gt;`</span><span class="op" id="7737049">;</span>&nbsp;<span class="ident" id="7737051">got</span>&nbsp;<span class="op" id="7737055">!=</span>&nbsp;<span class="ident" id="7737058">want</span>&nbsp;<span class="op" id="7737063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737067">t</span><span class="op" id="7737068">.</span><span class="ident" id="7737069">Errorf</span><span class="op" id="7737075">(</span><span class="string" id="7737076">&#34;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7737092">,</span>&nbsp;<span class="ident" id="7737094">got</span><span class="op" id="7737097">,</span>&nbsp;<span class="ident" id="7737099">want</span><span class="op" id="7737103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7737106">}</span><br>
<span class="lineno">30</span><span class="op" id="7737108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7737111">func</span>&nbsp;<span class="ident" id="7737116">TestClone</span><span class="op" id="7737125">(</span><span class="ident" id="7737126">t</span>&nbsp;<span class="op" id="7737128">*</span><span class="ident" id="7737129">testing</span><span class="op" id="7737136">.</span><span class="ident" id="7737137">T</span><span class="op" id="7737138">)</span>&nbsp;<span class="op" id="7737140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737143">//&nbsp;The&nbsp;{{.}}&nbsp;will&nbsp;be&nbsp;executed&nbsp;with&nbsp;data&nbsp;&#34;&lt;i&gt;*/&#34;&nbsp;in&nbsp;different&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737215">//&nbsp;In&nbsp;the&nbsp;t0&nbsp;template,&nbsp;it&nbsp;will&nbsp;be&nbsp;in&nbsp;a&nbsp;text&nbsp;context.</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737269">//&nbsp;In&nbsp;the&nbsp;t1&nbsp;template,&nbsp;it&nbsp;will&nbsp;be&nbsp;in&nbsp;a&nbsp;URL&nbsp;context.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737322">//&nbsp;In&nbsp;the&nbsp;t2&nbsp;template,&nbsp;it&nbsp;will&nbsp;be&nbsp;in&nbsp;a&nbsp;JavaScript&nbsp;context.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737382">//&nbsp;In&nbsp;the&nbsp;t3&nbsp;template,&nbsp;it&nbsp;will&nbsp;be&nbsp;in&nbsp;a&nbsp;CSS&nbsp;context.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737435">const</span>&nbsp;<span class="ident" id="7737441">tmpl</span>&nbsp;<span class="op" id="7737446">=</span>&nbsp;<span class="string" id="7737448">`{{define&nbsp;&#34;a&#34;}}{{template&nbsp;&#34;lhs&#34;}}{{.}}{{template&nbsp;&#34;rhs&#34;}}{{end}}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737514">b</span>&nbsp;<span class="op" id="7737516">:=</span>&nbsp;<span class="builtinfunc" id="7737519">new</span><span class="op" id="7737522">(</span><span class="ident" id="7737523">bytes</span><span class="op" id="7737528">.</span><span class="ident" id="7737529">Buffer</span><span class="op" id="7737535">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737539">//&nbsp;Create&nbsp;an&nbsp;incomplete&nbsp;template&nbsp;t0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737577">t0</span>&nbsp;<span class="op" id="7737580">:=</span>&nbsp;<span class="ident" id="7737583">Must</span><span class="op" id="7737587">(</span><span class="ident" id="7737588">New</span><span class="op" id="7737591">(</span><span class="string" id="7737592">&#34;t0&#34;</span><span class="op" id="7737596">)</span><span class="op" id="7737597">.</span><span class="ident" id="7737598">Parse</span><span class="op" id="7737603">(</span><span class="ident" id="7737604">tmpl</span><span class="op" id="7737608">)</span><span class="op" id="7737609">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737613">//&nbsp;Clone&nbsp;t0&nbsp;as&nbsp;t1.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737633">t1</span>&nbsp;<span class="op" id="7737636">:=</span>&nbsp;<span class="ident" id="7737639">Must</span><span class="op" id="7737643">(</span><span class="ident" id="7737644">t0</span><span class="op" id="7737646">.</span><span class="ident" id="7737647">Clone</span><span class="op" id="7737652">(</span><span class="op" id="7737653">)</span><span class="op" id="7737654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737657">Must</span><span class="op" id="7737661">(</span><span class="ident" id="7737662">t1</span><span class="op" id="7737664">.</span><span class="ident" id="7737665">Parse</span><span class="op" id="7737670">(</span><span class="string" id="7737671">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;&lt;a&nbsp;href=&#34;&nbsp;{{end}}`</span><span class="op" id="7737707">)</span><span class="op" id="7737708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737711">Must</span><span class="op" id="7737715">(</span><span class="ident" id="7737716">t1</span><span class="op" id="7737718">.</span><span class="ident" id="7737719">Parse</span><span class="op" id="7737724">(</span><span class="string" id="7737725">`{{define&nbsp;&#34;rhs&#34;}}&nbsp;&#34;&gt;&lt;/a&gt;&nbsp;{{end}}`</span><span class="op" id="7737758">)</span><span class="op" id="7737759">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737763">//&nbsp;Execute&nbsp;t1.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737779">b</span><span class="op" id="7737780">.</span><span class="ident" id="7737781">Reset</span><span class="op" id="7737786">(</span><span class="op" id="7737787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737790">if</span>&nbsp;<span class="ident" id="7737793">err</span>&nbsp;<span class="op" id="7737797">:=</span>&nbsp;<span class="ident" id="7737800">t1</span><span class="op" id="7737802">.</span><span class="ident" id="7737803">ExecuteTemplate</span><span class="op" id="7737818">(</span><span class="ident" id="7737819">b</span><span class="op" id="7737820">,</span>&nbsp;<span class="string" id="7737822">&#34;a&#34;</span><span class="op" id="7737825">,</span>&nbsp;<span class="string" id="7737827">&#34;&lt;i&gt;*/&#34;</span><span class="op" id="7737834">)</span><span class="op" id="7737835">;</span>&nbsp;<span class="ident" id="7737837">err</span>&nbsp;<span class="op" id="7737841">!=</span>&nbsp;<span class="builtintype" id="7737844">nil</span>&nbsp;<span class="op" id="7737848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737852">t</span><span class="op" id="7737853">.</span><span class="ident" id="7737854">Fatal</span><span class="op" id="7737859">(</span><span class="ident" id="7737860">err</span><span class="op" id="7737863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7737866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737869">if</span>&nbsp;<span class="ident" id="7737872">got</span><span class="op" id="7737875">,</span>&nbsp;<span class="ident" id="7737877">want</span>&nbsp;<span class="op" id="7737882">:=</span>&nbsp;<span class="ident" id="7737885">b</span><span class="op" id="7737886">.</span><span class="ident" id="7737887">String</span><span class="op" id="7737893">(</span><span class="op" id="7737894">)</span><span class="op" id="7737895">,</span>&nbsp;<span class="string" id="7737897">`&nbsp;&lt;a&nbsp;href=&#34;&nbsp;%3ci%3e*/&nbsp;&#34;&gt;&lt;/a&gt;&nbsp;`</span><span class="op" id="7737927">;</span>&nbsp;<span class="ident" id="7737929">got</span>&nbsp;<span class="op" id="7737933">!=</span>&nbsp;<span class="ident" id="7737936">want</span>&nbsp;<span class="op" id="7737941">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737945">t</span><span class="op" id="7737946">.</span><span class="ident" id="7737947">Errorf</span><span class="op" id="7737953">(</span><span class="string" id="7737954">&#34;t1:&nbsp;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7737974">,</span>&nbsp;<span class="ident" id="7737976">got</span><span class="op" id="7737979">,</span>&nbsp;<span class="ident" id="7737981">want</span><span class="op" id="7737985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7737988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737992">//&nbsp;Clone&nbsp;t0&nbsp;as&nbsp;t2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738012">t2</span>&nbsp;<span class="op" id="7738015">:=</span>&nbsp;<span class="ident" id="7738018">Must</span><span class="op" id="7738022">(</span><span class="ident" id="7738023">t0</span><span class="op" id="7738025">.</span><span class="ident" id="7738026">Clone</span><span class="op" id="7738031">(</span><span class="op" id="7738032">)</span><span class="op" id="7738033">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738036">Must</span><span class="op" id="7738040">(</span><span class="ident" id="7738041">t2</span><span class="op" id="7738043">.</span><span class="ident" id="7738044">Parse</span><span class="op" id="7738049">(</span><span class="string" id="7738050">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;&lt;p&nbsp;onclick=&#34;javascript:&nbsp;{{end}}`</span><span class="op" id="7738100">)</span><span class="op" id="7738101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738104">Must</span><span class="op" id="7738108">(</span><span class="ident" id="7738109">t2</span><span class="op" id="7738111">.</span><span class="ident" id="7738112">Parse</span><span class="op" id="7738117">(</span><span class="string" id="7738118">`{{define&nbsp;&#34;rhs&#34;}}&nbsp;&#34;&gt;&lt;/p&gt;&nbsp;{{end}}`</span><span class="op" id="7738151">)</span><span class="op" id="7738152">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7738156">//&nbsp;Execute&nbsp;t2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738172">b</span><span class="op" id="7738173">.</span><span class="ident" id="7738174">Reset</span><span class="op" id="7738179">(</span><span class="op" id="7738180">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7738183">if</span>&nbsp;<span class="ident" id="7738186">err</span>&nbsp;<span class="op" id="7738190">:=</span>&nbsp;<span class="ident" id="7738193">t2</span><span class="op" id="7738195">.</span><span class="ident" id="7738196">ExecuteTemplate</span><span class="op" id="7738211">(</span><span class="ident" id="7738212">b</span><span class="op" id="7738213">,</span>&nbsp;<span class="string" id="7738215">&#34;a&#34;</span><span class="op" id="7738218">,</span>&nbsp;<span class="string" id="7738220">&#34;&lt;i&gt;*/&#34;</span><span class="op" id="7738227">)</span><span class="op" id="7738228">;</span>&nbsp;<span class="ident" id="7738230">err</span>&nbsp;<span class="op" id="7738234">!=</span>&nbsp;<span class="builtintype" id="7738237">nil</span>&nbsp;<span class="op" id="7738241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738245">t</span><span class="op" id="7738246">.</span><span class="ident" id="7738247">Fatal</span><span class="op" id="7738252">(</span><span class="ident" id="7738253">err</span><span class="op" id="7738256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7738262">if</span>&nbsp;<span class="ident" id="7738265">got</span><span class="op" id="7738268">,</span>&nbsp;<span class="ident" id="7738270">want</span>&nbsp;<span class="op" id="7738275">:=</span>&nbsp;<span class="ident" id="7738278">b</span><span class="op" id="7738279">.</span><span class="ident" id="7738280">String</span><span class="op" id="7738286">(</span><span class="op" id="7738287">)</span><span class="op" id="7738288">,</span>&nbsp;<span class="string" id="7738290">`&nbsp;&lt;p&nbsp;onclick=&#34;javascript:&nbsp;&amp;#34;\u003ci\u003e*/&amp;#34;&nbsp;&#34;&gt;&lt;/p&gt;&nbsp;`</span><span class="op" id="7738350">;</span>&nbsp;<span class="ident" id="7738352">got</span>&nbsp;<span class="op" id="7738356">!=</span>&nbsp;<span class="ident" id="7738359">want</span>&nbsp;<span class="op" id="7738364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738368">t</span><span class="op" id="7738369">.</span><span class="ident" id="7738370">Errorf</span><span class="op" id="7738376">(</span><span class="string" id="7738377">&#34;t2:&nbsp;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7738397">,</span>&nbsp;<span class="ident" id="7738399">got</span><span class="op" id="7738402">,</span>&nbsp;<span class="ident" id="7738404">want</span><span class="op" id="7738408">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738411">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7738415">//&nbsp;Clone&nbsp;t0&nbsp;as&nbsp;t3,&nbsp;but&nbsp;do&nbsp;not&nbsp;execute&nbsp;t3&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738462">t3</span>&nbsp;<span class="op" id="7738465">:=</span>&nbsp;<span class="ident" id="7738468">Must</span><span class="op" id="7738472">(</span><span class="ident" id="7738473">t0</span><span class="op" id="7738475">.</span><span class="ident" id="7738476">Clone</span><span class="op" id="7738481">(</span><span class="op" id="7738482">)</span><span class="op" id="7738483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738486">Must</span><span class="op" id="7738490">(</span><span class="ident" id="7738491">t3</span><span class="op" id="7738493">.</span><span class="ident" id="7738494">Parse</span><span class="op" id="7738499">(</span><span class="string" id="7738500">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;&lt;style&gt;&nbsp;{{end}}`</span><span class="op" id="7738534">)</span><span class="op" id="7738535">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738538">Must</span><span class="op" id="7738542">(</span><span class="ident" id="7738543">t3</span><span class="op" id="7738545">.</span><span class="ident" id="7738546">Parse</span><span class="op" id="7738551">(</span><span class="string" id="7738552">`{{define&nbsp;&#34;rhs&#34;}}&nbsp;&lt;/style&gt;&nbsp;{{end}}`</span><span class="op" id="7738587">)</span><span class="op" id="7738588">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7738592">//&nbsp;Complete&nbsp;t0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738609">Must</span><span class="op" id="7738613">(</span><span class="ident" id="7738614">t0</span><span class="op" id="7738616">.</span><span class="ident" id="7738617">Parse</span><span class="op" id="7738622">(</span><span class="string" id="7738623">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;(&nbsp;{{end}}`</span><span class="op" id="7738651">)</span><span class="op" id="7738652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738655">Must</span><span class="op" id="7738659">(</span><span class="ident" id="7738660">t0</span><span class="op" id="7738662">.</span><span class="ident" id="7738663">Parse</span><span class="op" id="7738668">(</span><span class="string" id="7738669">`{{define&nbsp;&#34;rhs&#34;}}&nbsp;)&nbsp;{{end}}`</span><span class="op" id="7738697">)</span><span class="op" id="7738698">)</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7738702">//&nbsp;Clone&nbsp;t0&nbsp;as&nbsp;t4.&nbsp;Redefining&nbsp;the&nbsp;&#34;lhs&#34;&nbsp;template&nbsp;should&nbsp;fail.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738765">t4</span>&nbsp;<span class="op" id="7738768">:=</span>&nbsp;<span class="ident" id="7738771">Must</span><span class="op" id="7738775">(</span><span class="ident" id="7738776">t0</span><span class="op" id="7738778">.</span><span class="ident" id="7738779">Clone</span><span class="op" id="7738784">(</span><span class="op" id="7738785">)</span><span class="op" id="7738786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7738789">if</span>&nbsp;<span class="ident" id="7738792">_</span><span class="op" id="7738793">,</span>&nbsp;<span class="ident" id="7738795">err</span>&nbsp;<span class="op" id="7738799">:=</span>&nbsp;<span class="ident" id="7738802">t4</span><span class="op" id="7738804">.</span><span class="ident" id="7738805">Parse</span><span class="op" id="7738810">(</span><span class="string" id="7738811">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;FAIL&nbsp;{{end}}`</span><span class="op" id="7738842">)</span><span class="op" id="7738843">;</span>&nbsp;<span class="ident" id="7738845">err</span>&nbsp;<span class="op" id="7738849">==</span>&nbsp;<span class="builtintype" id="7738852">nil</span>&nbsp;<span class="op" id="7738856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738860">t</span><span class="op" id="7738861">.</span><span class="ident" id="7738862">Error</span><span class="op" id="7738867">(</span><span class="string" id="7738868">`redefine&nbsp;&#34;lhs&#34;:&nbsp;got&nbsp;nil&nbsp;err&nbsp;want&nbsp;non-nil`</span><span class="op" id="7738910">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7738917">//&nbsp;Execute&nbsp;t0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738933">b</span><span class="op" id="7738934">.</span><span class="ident" id="7738935">Reset</span><span class="op" id="7738940">(</span><span class="op" id="7738941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7738944">if</span>&nbsp;<span class="ident" id="7738947">err</span>&nbsp;<span class="op" id="7738951">:=</span>&nbsp;<span class="ident" id="7738954">t0</span><span class="op" id="7738956">.</span><span class="ident" id="7738957">ExecuteTemplate</span><span class="op" id="7738972">(</span><span class="ident" id="7738973">b</span><span class="op" id="7738974">,</span>&nbsp;<span class="string" id="7738976">&#34;a&#34;</span><span class="op" id="7738979">,</span>&nbsp;<span class="string" id="7738981">&#34;&lt;i&gt;*/&#34;</span><span class="op" id="7738988">)</span><span class="op" id="7738989">;</span>&nbsp;<span class="ident" id="7738991">err</span>&nbsp;<span class="op" id="7738995">!=</span>&nbsp;<span class="builtintype" id="7738998">nil</span>&nbsp;<span class="op" id="7739002">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7739006">t</span><span class="op" id="7739007">.</span><span class="ident" id="7739008">Fatal</span><span class="op" id="7739013">(</span><span class="ident" id="7739014">err</span><span class="op" id="7739017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7739020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7739023">if</span>&nbsp;<span class="ident" id="7739026">got</span><span class="op" id="7739029">,</span>&nbsp;<span class="ident" id="7739031">want</span>&nbsp;<span class="op" id="7739036">:=</span>&nbsp;<span class="ident" id="7739039">b</span><span class="op" id="7739040">.</span><span class="ident" id="7739041">String</span><span class="op" id="7739047">(</span><span class="op" id="7739048">)</span><span class="op" id="7739049">,</span>&nbsp;<span class="string" id="7739051">`&nbsp;(&nbsp;&amp;lt;i&amp;gt;*/&nbsp;)&nbsp;`</span><span class="op" id="7739070">;</span>&nbsp;<span class="ident" id="7739072">got</span>&nbsp;<span class="op" id="7739076">!=</span>&nbsp;<span class="ident" id="7739079">want</span>&nbsp;<span class="op" id="7739084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7739088">t</span><span class="op" id="7739089">.</span><span class="ident" id="7739090">Errorf</span><span class="op" id="7739096">(</span><span class="string" id="7739097">&#34;t0:&nbsp;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7739117">,</span>&nbsp;<span class="ident" id="7739119">got</span><span class="op" id="7739122">,</span>&nbsp;<span class="ident" id="7739124">want</span><span class="op" id="7739128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7739131">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7739135">//&nbsp;Clone&nbsp;t0.&nbsp;This&nbsp;should&nbsp;fail,&nbsp;as&nbsp;t0&nbsp;has&nbsp;already&nbsp;executed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7739195">if</span>&nbsp;<span class="ident" id="7739198">_</span><span class="op" id="7739199">,</span>&nbsp;<span class="ident" id="7739201">err</span>&nbsp;<span class="op" id="7739205">:=</span>&nbsp;<span class="ident" id="7739208">t0</span><span class="op" id="7739210">.</span><span class="ident" id="7739211">Clone</span><span class="op" id="7739216">(</span><span class="op" id="7739217">)</span><span class="op" id="7739218">;</span>&nbsp;<span class="ident" id="7739220">err</span>&nbsp;<span class="op" id="7739224">==</span>&nbsp;<span class="builtintype" id="7739227">nil</span>&nbsp;<span class="op" id="7739231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7739235">t</span><span class="op" id="7739236">.</span><span class="ident" id="7739237">Error</span><span class="op" id="7739242">(</span><span class="string" id="7739243">`t0.Clone():&nbsp;got&nbsp;nil&nbsp;err&nbsp;want&nbsp;non-nil`</span><span class="op" id="7739281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7739284">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7739288">//&nbsp;Similarly,&nbsp;cloning&nbsp;sub-templates&nbsp;should&nbsp;fail.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7739338">if</span>&nbsp;<span class="ident" id="7739341">_</span><span class="op" id="7739342">,</span>&nbsp;<span class="ident" id="7739344">err</span>&nbsp;<span class="op" id="7739348">:=</span>&nbsp;<span class="ident" id="7739351">t0</span><span class="op" id="7739353">.</span><span class="ident" id="7739354">Lookup</span><span class="op" id="7739360">(</span><span class="string" id="7739361">&#34;a&#34;</span><span class="op" id="7739364">)</span><span class="op" id="7739365">.</span><span class="ident" id="7739366">Clone</span><span class="op" id="7739371">(</span><span class="op" id="7739372">)</span><span class="op" id="7739373">;</span>&nbsp;<span class="ident" id="7739375">err</span>&nbsp;<span class="op" id="7739379">==</span>&nbsp;<span class="builtintype" id="7739382">nil</span>&nbsp;<span class="op" id="7739386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7739390">t</span><span class="op" id="7739391">.</span><span class="ident" id="7739392">Error</span><span class="op" id="7739397">(</span><span class="string" id="7739398">`t0.Lookup(&#34;a&#34;).Clone():&nbsp;got&nbsp;nil&nbsp;err&nbsp;want&nbsp;non-nil`</span><span class="op" id="7739448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7739451">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7739454">if</span>&nbsp;<span class="ident" id="7739457">_</span><span class="op" id="7739458">,</span>&nbsp;<span class="ident" id="7739460">err</span>&nbsp;<span class="op" id="7739464">:=</span>&nbsp;<span class="ident" id="7739467">t0</span><span class="op" id="7739469">.</span><span class="ident" id="7739470">Lookup</span><span class="op" id="7739476">(</span><span class="string" id="7739477">&#34;lhs&#34;</span><span class="op" id="7739482">)</span><span class="op" id="7739483">.</span><span class="ident" id="7739484">Clone</span><span class="op" id="7739489">(</span><span class="op" id="7739490">)</span><span class="op" id="7739491">;</span>&nbsp;<span class="ident" id="7739493">err</span>&nbsp;<span class="op" id="7739497">==</span>&nbsp;<span class="builtintype" id="7739500">nil</span>&nbsp;<span class="op" id="7739504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7739508">t</span><span class="op" id="7739509">.</span><span class="ident" id="7739510">Error</span><span class="op" id="7739515">(</span><span class="string" id="7739516">`t0.Lookup(&#34;lhs&#34;).Clone():&nbsp;got&nbsp;nil&nbsp;err&nbsp;want&nbsp;non-nil`</span><span class="op" id="7739568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7739571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7739575">//&nbsp;Execute&nbsp;t3.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7739591">b</span><span class="op" id="7739592">.</span><span class="ident" id="7739593">Reset</span><span class="op" id="7739598">(</span><span class="op" id="7739599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7739602">if</span>&nbsp;<span class="ident" id="7739605">err</span>&nbsp;<span class="op" id="7739609">:=</span>&nbsp;<span class="ident" id="7739612">t3</span><span class="op" id="7739614">.</span><span class="ident" id="7739615">ExecuteTemplate</span><span class="op" id="7739630">(</span><span class="ident" id="7739631">b</span><span class="op" id="7739632">,</span>&nbsp;<span class="string" id="7739634">&#34;a&#34;</span><span class="op" id="7739637">,</span>&nbsp;<span class="string" id="7739639">&#34;&lt;i&gt;*/&#34;</span><span class="op" id="7739646">)</span><span class="op" id="7739647">;</span>&nbsp;<span class="ident" id="7739649">err</span>&nbsp;<span class="op" id="7739653">!=</span>&nbsp;<span class="builtintype" id="7739656">nil</span>&nbsp;<span class="op" id="7739660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7739664">t</span><span class="op" id="7739665">.</span><span class="ident" id="7739666">Fatal</span><span class="op" id="7739671">(</span><span class="ident" id="7739672">err</span><span class="op" id="7739675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7739678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7739681">if</span>&nbsp;<span class="ident" id="7739684">got</span><span class="op" id="7739687">,</span>&nbsp;<span class="ident" id="7739689">want</span>&nbsp;<span class="op" id="7739694">:=</span>&nbsp;<span class="ident" id="7739697">b</span><span class="op" id="7739698">.</span><span class="ident" id="7739699">String</span><span class="op" id="7739705">(</span><span class="op" id="7739706">)</span><span class="op" id="7739707">,</span>&nbsp;<span class="string" id="7739709">`&nbsp;&lt;style&gt;&nbsp;ZgotmplZ&nbsp;&lt;/style&gt;&nbsp;`</span><span class="op" id="7739738">;</span>&nbsp;<span class="ident" id="7739740">got</span>&nbsp;<span class="op" id="7739744">!=</span>&nbsp;<span class="ident" id="7739747">want</span>&nbsp;<span class="op" id="7739752">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7739756">t</span><span class="op" id="7739757">.</span><span class="ident" id="7739758">Errorf</span><span class="op" id="7739764">(</span><span class="string" id="7739765">&#34;t3:&nbsp;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7739785">,</span>&nbsp;<span class="ident" id="7739787">got</span><span class="op" id="7739790">,</span>&nbsp;<span class="ident" id="7739792">want</span><span class="op" id="7739796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7739799">}</span><br>
<span class="lineno"></span><span class="op" id="7739801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7739804">func</span>&nbsp;<span class="ident" id="7739809">TestTemplates</span><span class="op" id="7739822">(</span><span class="ident" id="7739823">t</span>&nbsp;<span class="op" id="7739825">*</span><span class="ident" id="7739826">testing</span><span class="op" id="7739833">.</span><span class="ident" id="7739834">T</span><span class="op" id="7739835">)</span>&nbsp;<span class="op" id="7739837">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7739840">names</span>&nbsp;<span class="op" id="7739846">:=</span>&nbsp;<span class="op" id="7739849">[</span><span class="op" id="7739850">]</span><span class="builtintype" id="7739851">string</span><span class="op" id="7739857">{</span><span class="string" id="7739858">&#34;t0&#34;</span><span class="op" id="7739862">,</span>&nbsp;<span class="string" id="7739864">&#34;a&#34;</span><span class="op" id="7739867">,</span>&nbsp;<span class="string" id="7739869">&#34;lhs&#34;</span><span class="op" id="7739874">,</span>&nbsp;<span class="string" id="7739876">&#34;rhs&#34;</span><span class="op" id="7739881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7739884">//&nbsp;Some&nbsp;template&nbsp;definitions&nbsp;borrowed&nbsp;from&nbsp;TestClone.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7739939">const</span>&nbsp;<span class="ident" id="7739945">tmpl</span>&nbsp;<span class="op" id="7739950">=</span>&nbsp;<span class="string" id="7739952">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;a&#34;}}{{template&nbsp;&#34;lhs&#34;}}{{.}}{{template&nbsp;&#34;rhs&#34;}}{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;lhs&#34;}}&nbsp;&lt;a&nbsp;href=&#34;&nbsp;{{end}}<br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;rhs&#34;}}&nbsp;&#34;&gt;&lt;/a&gt;&nbsp;{{end}}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740092">t0</span>&nbsp;<span class="op" id="7740095">:=</span>&nbsp;<span class="ident" id="7740098">Must</span><span class="op" id="7740102">(</span><span class="ident" id="7740103">New</span><span class="op" id="7740106">(</span><span class="string" id="7740107">&#34;t0&#34;</span><span class="op" id="7740111">)</span><span class="op" id="7740112">.</span><span class="ident" id="7740113">Parse</span><span class="op" id="7740118">(</span><span class="ident" id="7740119">tmpl</span><span class="op" id="7740123">)</span><span class="op" id="7740124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740127">templates</span>&nbsp;<span class="op" id="7740137">:=</span>&nbsp;<span class="ident" id="7740140">t0</span><span class="op" id="7740142">.</span><span class="ident" id="7740143">Templates</span><span class="op" id="7740152">(</span><span class="op" id="7740153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7740156">if</span>&nbsp;<span class="builtinfunc" id="7740159">len</span><span class="op" id="7740162">(</span><span class="ident" id="7740163">templates</span><span class="op" id="7740172">)</span>&nbsp;<span class="op" id="7740174">!=</span>&nbsp;<span class="builtinfunc" id="7740177">len</span><span class="op" id="7740180">(</span><span class="ident" id="7740181">names</span><span class="op" id="7740186">)</span>&nbsp;<span class="op" id="7740188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740192">t</span><span class="op" id="7740193">.</span><span class="ident" id="7740194">Errorf</span><span class="op" id="7740200">(</span><span class="string" id="7740201">&#34;expected&nbsp;%d&nbsp;templates;&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7740232">,</span>&nbsp;<span class="builtinfunc" id="7740234">len</span><span class="op" id="7740237">(</span><span class="ident" id="7740238">names</span><span class="op" id="7740243">)</span><span class="op" id="7740244">,</span>&nbsp;<span class="builtinfunc" id="7740246">len</span><span class="op" id="7740249">(</span><span class="ident" id="7740250">templates</span><span class="op" id="7740259">)</span><span class="op" id="7740260">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7740263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7740266">for</span>&nbsp;<span class="ident" id="7740270">_</span><span class="op" id="7740271">,</span>&nbsp;<span class="ident" id="7740273">name</span>&nbsp;<span class="op" id="7740278">:=</span>&nbsp;<span class="keyword" id="7740281">range</span>&nbsp;<span class="ident" id="7740287">names</span>&nbsp;<span class="op" id="7740293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740297">found</span>&nbsp;<span class="op" id="7740303">:=</span>&nbsp;<span class="builtintype" id="7740306">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7740314">for</span>&nbsp;<span class="ident" id="7740318">_</span><span class="op" id="7740319">,</span>&nbsp;<span class="ident" id="7740321">tmpl</span>&nbsp;<span class="op" id="7740326">:=</span>&nbsp;<span class="keyword" id="7740329">range</span>&nbsp;<span class="ident" id="7740335">templates</span>&nbsp;<span class="op" id="7740345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7740350">if</span>&nbsp;<span class="ident" id="7740353">name</span>&nbsp;<span class="op" id="7740358">==</span>&nbsp;<span class="ident" id="7740361">tmpl</span><span class="op" id="7740365">.</span><span class="ident" id="7740366">text</span><span class="op" id="7740370">.</span><span class="ident" id="7740371">Name</span><span class="op" id="7740375">(</span><span class="op" id="7740376">)</span>&nbsp;<span class="op" id="7740378">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740384">found</span>&nbsp;<span class="op" id="7740390">=</span>&nbsp;<span class="builtintype" id="7740392">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7740401">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7740410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7740414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7740418">if</span>&nbsp;<span class="op" id="7740421">!</span><span class="ident" id="7740422">found</span>&nbsp;<span class="op" id="7740428">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740433">t</span><span class="op" id="7740434">.</span><span class="ident" id="7740435">Error</span><span class="op" id="7740440">(</span><span class="string" id="7740441">&#34;could&nbsp;not&nbsp;find&nbsp;template&#34;</span><span class="op" id="7740466">,</span>&nbsp;<span class="ident" id="7740468">name</span><span class="op" id="7740472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7740476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7740479">}</span><br>
<span class="lineno"></span><span class="op" id="7740481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="comment" id="7740484">//&nbsp;This&nbsp;used&nbsp;to&nbsp;crash;&nbsp;http://golang.org/issue/3281</span><br>
<span class="lineno"></span><span class="keyword" id="7740536">func</span>&nbsp;<span class="ident" id="7740541">TestCloneCrash</span><span class="op" id="7740555">(</span><span class="ident" id="7740556">t</span>&nbsp;<span class="op" id="7740558">*</span><span class="ident" id="7740559">testing</span><span class="op" id="7740566">.</span><span class="ident" id="7740567">T</span><span class="op" id="7740568">)</span>&nbsp;<span class="op" id="7740570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740573">t1</span>&nbsp;<span class="op" id="7740576">:=</span>&nbsp;<span class="ident" id="7740579">New</span><span class="op" id="7740582">(</span><span class="string" id="7740583">&#34;all&#34;</span><span class="op" id="7740588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740591">Must</span><span class="op" id="7740595">(</span><span class="ident" id="7740596">t1</span><span class="op" id="7740598">.</span><span class="ident" id="7740599">New</span><span class="op" id="7740602">(</span><span class="string" id="7740603">&#34;t1&#34;</span><span class="op" id="7740607">)</span><span class="op" id="7740608">.</span><span class="ident" id="7740609">Parse</span><span class="op" id="7740614">(</span><span class="string" id="7740615">`{{define&nbsp;&#34;foo&#34;}}foo{{end}}`</span><span class="op" id="7740643">)</span><span class="op" id="7740644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740647">t1</span><span class="op" id="7740649">.</span><span class="ident" id="7740650">Clone</span><span class="op" id="7740655">(</span><span class="op" id="7740656">)</span><br>
<span class="lineno">150</span><span class="op" id="7740658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7740661">//&nbsp;Ensure&nbsp;that&nbsp;this&nbsp;guarantee&nbsp;from&nbsp;the&nbsp;docs&nbsp;is&nbsp;upheld:</span><br>
<span class="lineno"></span><span class="comment" id="7740716">//&nbsp;&#34;Further&nbsp;calls&nbsp;to&nbsp;Parse&nbsp;in&nbsp;the&nbsp;copy&nbsp;will&nbsp;add&nbsp;templates</span><br>
<span class="lineno"></span><span class="comment" id="7740774">//&nbsp;to&nbsp;the&nbsp;copy&nbsp;but&nbsp;not&nbsp;to&nbsp;the&nbsp;original.&#34;</span><br>
<span class="lineno">155</span><span class="keyword" id="7740815">func</span>&nbsp;<span class="ident" id="7740820">TestCloneThenParse</span><span class="op" id="7740838">(</span><span class="ident" id="7740839">t</span>&nbsp;<span class="op" id="7740841">*</span><span class="ident" id="7740842">testing</span><span class="op" id="7740849">.</span><span class="ident" id="7740850">T</span><span class="op" id="7740851">)</span>&nbsp;<span class="op" id="7740853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740856">t0</span>&nbsp;<span class="op" id="7740859">:=</span>&nbsp;<span class="ident" id="7740862">Must</span><span class="op" id="7740866">(</span><span class="ident" id="7740867">New</span><span class="op" id="7740870">(</span><span class="string" id="7740871">&#34;t0&#34;</span><span class="op" id="7740875">)</span><span class="op" id="7740876">.</span><span class="ident" id="7740877">Parse</span><span class="op" id="7740882">(</span><span class="string" id="7740883">`{{define&nbsp;&#34;a&#34;}}{{template&nbsp;&#34;embedded&#34;}}{{end}}`</span><span class="op" id="7740929">)</span><span class="op" id="7740930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740933">t1</span>&nbsp;<span class="op" id="7740936">:=</span>&nbsp;<span class="ident" id="7740939">Must</span><span class="op" id="7740943">(</span><span class="ident" id="7740944">t0</span><span class="op" id="7740946">.</span><span class="ident" id="7740947">Clone</span><span class="op" id="7740952">(</span><span class="op" id="7740953">)</span><span class="op" id="7740954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7740957">Must</span><span class="op" id="7740961">(</span><span class="ident" id="7740962">t1</span><span class="op" id="7740964">.</span><span class="ident" id="7740965">Parse</span><span class="op" id="7740970">(</span><span class="string" id="7740971">`{{define&nbsp;&#34;embedded&#34;}}t1{{end}}`</span><span class="op" id="7741003">)</span><span class="op" id="7741004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7741007">if</span>&nbsp;<span class="builtinfunc" id="7741010">len</span><span class="op" id="7741013">(</span><span class="ident" id="7741014">t0</span><span class="op" id="7741016">.</span><span class="ident" id="7741017">Templates</span><span class="op" id="7741026">(</span><span class="op" id="7741027">)</span><span class="op" id="7741028">)</span><span class="op" id="7741029">+</span><span class="num" id="7741030">1</span>&nbsp;<span class="op" id="7741032">!=</span>&nbsp;<span class="builtinfunc" id="7741035">len</span><span class="op" id="7741038">(</span><span class="ident" id="7741039">t1</span><span class="op" id="7741041">.</span><span class="ident" id="7741042">Templates</span><span class="op" id="7741051">(</span><span class="op" id="7741052">)</span><span class="op" id="7741053">)</span>&nbsp;<span class="op" id="7741055">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7741059">t</span><span class="op" id="7741060">.</span><span class="ident" id="7741061">Error</span><span class="op" id="7741066">(</span><span class="string" id="7741067">&#34;adding&nbsp;a&nbsp;template&nbsp;to&nbsp;a&nbsp;clone&nbsp;added&nbsp;it&nbsp;to&nbsp;the&nbsp;original&#34;</span><span class="op" id="7741122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7741125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7741128">//&nbsp;double&nbsp;check&nbsp;that&nbsp;the&nbsp;embedded&nbsp;template&nbsp;isn&#39;t&nbsp;available&nbsp;in&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7741204">err</span>&nbsp;<span class="op" id="7741208">:=</span>&nbsp;<span class="ident" id="7741211">t0</span><span class="op" id="7741213">.</span><span class="ident" id="7741214">ExecuteTemplate</span><span class="op" id="7741229">(</span><span class="ident" id="7741230">ioutil</span><span class="op" id="7741236">.</span><span class="ident" id="7741237">Discard</span><span class="op" id="7741244">,</span>&nbsp;<span class="string" id="7741246">&#34;a&#34;</span><span class="op" id="7741249">,</span>&nbsp;<span class="builtintype" id="7741251">nil</span><span class="op" id="7741254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7741257">if</span>&nbsp;<span class="ident" id="7741260">err</span>&nbsp;<span class="op" id="7741264">==</span>&nbsp;<span class="builtintype" id="7741267">nil</span>&nbsp;<span class="op" id="7741271">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7741275">t</span><span class="op" id="7741276">.</span><span class="ident" id="7741277">Error</span><span class="op" id="7741282">(</span><span class="string" id="7741283">&#34;expected&nbsp;&#39;no&nbsp;such&nbsp;template&#39;&nbsp;error&#34;</span><span class="op" id="7741318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7741321">}</span><br>
<span class="lineno"></span><span class="op" id="7741323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7741326">//&nbsp;https://code.google.com/p/go/issues/detail?id=5980</span><br>
<span class="lineno">170</span><span class="keyword" id="7741380">func</span>&nbsp;<span class="ident" id="7741385">TestFuncMapWorksAfterClone</span><span class="op" id="7741411">(</span><span class="ident" id="7741412">t</span>&nbsp;<span class="op" id="7741414">*</span><span class="ident" id="7741415">testing</span><span class="op" id="7741422">.</span><span class="ident" id="7741423">T</span><span class="op" id="7741424">)</span>&nbsp;<span class="op" id="7741426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7741429">funcs</span>&nbsp;<span class="op" id="7741435">:=</span>&nbsp;<span class="ident" id="7741438">FuncMap</span><span class="op" id="7741445">{</span><span class="string" id="7741446">&#34;customFunc&#34;</span><span class="op" id="7741458">:</span>&nbsp;<span class="keyword" id="7741460">func</span><span class="op" id="7741464">(</span><span class="op" id="7741465">)</span>&nbsp;<span class="op" id="7741467">(</span><span class="builtintype" id="7741468">string</span><span class="op" id="7741474">,</span>&nbsp;<span class="builtintype" id="7741476">error</span><span class="op" id="7741481">)</span>&nbsp;<span class="op" id="7741483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7741487">return</span>&nbsp;<span class="string" id="7741494">&#34;&#34;</span><span class="op" id="7741496">,</span>&nbsp;<span class="ident" id="7741498">errors</span><span class="op" id="7741504">.</span><span class="ident" id="7741505">New</span><span class="op" id="7741508">(</span><span class="string" id="7741509">&#34;issue5980&#34;</span><span class="op" id="7741520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7741523">}</span><span class="op" id="7741524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7741528">//&nbsp;get&nbsp;the&nbsp;expected&nbsp;error&nbsp;output&nbsp;(no&nbsp;clone)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7741573">uncloned</span>&nbsp;<span class="op" id="7741582">:=</span>&nbsp;<span class="ident" id="7741585">Must</span><span class="op" id="7741589">(</span><span class="ident" id="7741590">New</span><span class="op" id="7741593">(</span><span class="string" id="7741594">&#34;&#34;</span><span class="op" id="7741596">)</span><span class="op" id="7741597">.</span><span class="ident" id="7741598">Funcs</span><span class="op" id="7741603">(</span><span class="ident" id="7741604">funcs</span><span class="op" id="7741609">)</span><span class="op" id="7741610">.</span><span class="ident" id="7741611">Parse</span><span class="op" id="7741616">(</span><span class="string" id="7741617">&#34;{{customFunc}}&#34;</span><span class="op" id="7741633">)</span><span class="op" id="7741634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7741637">wantErr</span>&nbsp;<span class="op" id="7741645">:=</span>&nbsp;<span class="ident" id="7741648">uncloned</span><span class="op" id="7741656">.</span><span class="ident" id="7741657">Execute</span><span class="op" id="7741664">(</span><span class="ident" id="7741665">ioutil</span><span class="op" id="7741671">.</span><span class="ident" id="7741672">Discard</span><span class="op" id="7741679">,</span>&nbsp;<span class="builtintype" id="7741681">nil</span><span class="op" id="7741684">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7741688">//&nbsp;toClone&nbsp;must&nbsp;be&nbsp;the&nbsp;same&nbsp;as&nbsp;uncloned.&nbsp;It&nbsp;has&nbsp;to&nbsp;be&nbsp;recreated&nbsp;from&nbsp;scratch,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7741767">//&nbsp;since&nbsp;cloning&nbsp;cannot&nbsp;occur&nbsp;after&nbsp;execution.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7741815">toClone</span>&nbsp;<span class="op" id="7741823">:=</span>&nbsp;<span class="ident" id="7741826">Must</span><span class="op" id="7741830">(</span><span class="ident" id="7741831">New</span><span class="op" id="7741834">(</span><span class="string" id="7741835">&#34;&#34;</span><span class="op" id="7741837">)</span><span class="op" id="7741838">.</span><span class="ident" id="7741839">Funcs</span><span class="op" id="7741844">(</span><span class="ident" id="7741845">funcs</span><span class="op" id="7741850">)</span><span class="op" id="7741851">.</span><span class="ident" id="7741852">Parse</span><span class="op" id="7741857">(</span><span class="string" id="7741858">&#34;{{customFunc}}&#34;</span><span class="op" id="7741874">)</span><span class="op" id="7741875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7741878">cloned</span>&nbsp;<span class="op" id="7741885">:=</span>&nbsp;<span class="ident" id="7741888">Must</span><span class="op" id="7741892">(</span><span class="ident" id="7741893">toClone</span><span class="op" id="7741900">.</span><span class="ident" id="7741901">Clone</span><span class="op" id="7741906">(</span><span class="op" id="7741907">)</span><span class="op" id="7741908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7741911">gotErr</span>&nbsp;<span class="op" id="7741918">:=</span>&nbsp;<span class="ident" id="7741921">cloned</span><span class="op" id="7741927">.</span><span class="ident" id="7741928">Execute</span><span class="op" id="7741935">(</span><span class="ident" id="7741936">ioutil</span><span class="op" id="7741942">.</span><span class="ident" id="7741943">Discard</span><span class="op" id="7741950">,</span>&nbsp;<span class="builtintype" id="7741952">nil</span><span class="op" id="7741955">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7741959">if</span>&nbsp;<span class="ident" id="7741962">wantErr</span><span class="op" id="7741969">.</span><span class="ident" id="7741970">Error</span><span class="op" id="7741975">(</span><span class="op" id="7741976">)</span>&nbsp;<span class="op" id="7741978">!=</span>&nbsp;<span class="ident" id="7741981">gotErr</span><span class="op" id="7741987">.</span><span class="ident" id="7741988">Error</span><span class="op" id="7741993">(</span><span class="op" id="7741994">)</span>&nbsp;<span class="op" id="7741996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7742000">t</span><span class="op" id="7742001">.</span><span class="ident" id="7742002">Errorf</span><span class="op" id="7742008">(</span><span class="string" id="7742009">&#34;clone&nbsp;error&nbsp;message&nbsp;mismatch&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7742054">,</span>&nbsp;<span class="ident" id="7742056">wantErr</span><span class="op" id="7742063">,</span>&nbsp;<span class="ident" id="7742065">gotErr</span><span class="op" id="7742071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7742074">}</span><br>
<span class="lineno"></span><span class="op" id="7742076">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
