<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/asm8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/asm8/bare_func.go.html">bare_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_file.go.html">build_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_func.go.html">build_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_lib.go.html">build_lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_var.go.html">build_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/builder.go.html">builder.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/check_type.go.html">check_type.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_hex.go.html">data_hex.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_nums.go.html">data_nums.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_str.go.html">data_str.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/file.go.html">file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_decl.go.html">func_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_stmt.go.html">func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst.go.html">inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_all.go.html">inst_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_br.go.html">inst_br.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_imm.go.html">inst_imm.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_jmp.go.html">inst_jmp.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_reg.go.html">inst_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_sys.go.html">inst_sys.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all.go.html">lex_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all_test.go.html">lex_all_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_comment.go.html">lex_comment.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_operand.go.html">lex_operand.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_string.go.html">lex_string.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lib.go.html">lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/package.go.html">package.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_arg.go.html">parse_arg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_file.go.html">parse_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func.go.html">parse_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_stmt.go.html">parse_func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_test.go.html">parse_func_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_inst.go.html">parse_inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_label.go.html">parse_label.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_reg.go.html">parse_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_sym.go.html">parse_sym.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var.go.html">parse_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var_stmt.go.html">parse_var_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parser.go.html">parser.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/single_file.go.html">single_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/stmt_lexer.go.html">stmt_lexer.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_scope.go.html">sym_scope.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_table.go.html">sym_table.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/symbol.go.html">symbol.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/token.go.html">token.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_decl.go.html">var_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_stmt.go.html">var_stmt.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="3660734">package</span>&nbsp;<span class="ident" id="3660742">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3660748">import</span>&nbsp;<span class="op" id="3660755">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3660758">&#34;io&#34;</span><br>
<span class="lineno">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3660765">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3660788">&#34;lonnie.io/e8vm/link8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3660811">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="3660814">//&nbsp;BuildSingleFile&nbsp;builds&nbsp;a&nbsp;package&nbsp;named&nbsp;&#34;main&#34;&nbsp;from&nbsp;a&nbsp;single&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="3660883">func</span>&nbsp;<span class="ident" id="3660888">BuildSingleFile</span><span class="op" id="3660903">(</span><span class="ident" id="3660904">f</span>&nbsp;<span class="builtintype" id="3660906">string</span><span class="op" id="3660912">,</span>&nbsp;<span class="ident" id="3660914">rc</span>&nbsp;<span class="ident" id="3660917">io</span><span class="op" id="3660919">.</span><span class="ident" id="3660920">ReadCloser</span><span class="op" id="3660930">)</span>&nbsp;<span class="op" id="3660932">(</span><span class="op" id="3660933">[</span><span class="op" id="3660934">]</span><span class="builtintype" id="3660935">byte</span><span class="op" id="3660939">,</span>&nbsp;<span class="op" id="3660941">[</span><span class="op" id="3660942">]</span><span class="op" id="3660943">*</span><span class="ident" id="3660944">lex8</span><span class="op" id="3660948">.</span><span class="ident" id="3660949">Error</span><span class="op" id="3660954">)</span>&nbsp;<span class="op" id="3660956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660959">p</span>&nbsp;<span class="op" id="3660961">:=</span>&nbsp;<span class="ident" id="3660964">newParser</span><span class="op" id="3660973">(</span><span class="ident" id="3660974">f</span><span class="op" id="3660975">,</span>&nbsp;<span class="ident" id="3660977">rc</span><span class="op" id="3660979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660982">file</span>&nbsp;<span class="op" id="3660987">:=</span>&nbsp;<span class="ident" id="3660990">parseFile</span><span class="op" id="3660999">(</span><span class="ident" id="3661000">p</span><span class="op" id="3661001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661004">if</span>&nbsp;<span class="ident" id="3661007">es</span>&nbsp;<span class="op" id="3661010">:=</span>&nbsp;<span class="ident" id="3661013">p</span><span class="op" id="3661014">.</span><span class="ident" id="3661015">Errs</span><span class="op" id="3661019">(</span><span class="op" id="3661020">)</span><span class="op" id="3661021">;</span>&nbsp;<span class="ident" id="3661023">es</span>&nbsp;<span class="op" id="3661026">!=</span>&nbsp;<span class="ident" id="3661029">nil</span>&nbsp;<span class="op" id="3661033">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661037">return</span>&nbsp;<span class="ident" id="3661044">nil</span><span class="op" id="3661047">,</span>&nbsp;<span class="ident" id="3661049">es</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3661053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661057">pkgName</span>&nbsp;<span class="op" id="3661065">:=</span>&nbsp;<span class="string" id="3661068">&#34;main&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661076">pkg</span>&nbsp;<span class="op" id="3661080">:=</span>&nbsp;<span class="ident" id="3661083">newPkg</span><span class="op" id="3661089">(</span><span class="ident" id="3661090">pkgName</span><span class="op" id="3661097">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661100">pkg</span><span class="op" id="3661103">.</span><span class="ident" id="3661104">AddFile</span><span class="op" id="3661111">(</span><span class="ident" id="3661112">file</span><span class="op" id="3661116">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661120">b</span>&nbsp;<span class="op" id="3661122">:=</span>&nbsp;<span class="ident" id="3661125">newBuilder</span><span class="op" id="3661135">(</span><span class="op" id="3661136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661139">main</span>&nbsp;<span class="op" id="3661144">:=</span>&nbsp;<span class="ident" id="3661147">buildLib</span><span class="op" id="3661155">(</span><span class="ident" id="3661156">b</span><span class="op" id="3661157">,</span>&nbsp;<span class="ident" id="3661159">pkg</span><span class="op" id="3661162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661165">if</span>&nbsp;<span class="ident" id="3661168">es</span>&nbsp;<span class="op" id="3661171">:=</span>&nbsp;<span class="ident" id="3661174">b</span><span class="op" id="3661175">.</span><span class="ident" id="3661176">Errs</span><span class="op" id="3661180">(</span><span class="op" id="3661181">)</span><span class="op" id="3661182">;</span>&nbsp;<span class="ident" id="3661184">es</span>&nbsp;<span class="op" id="3661187">!=</span>&nbsp;<span class="ident" id="3661190">nil</span>&nbsp;<span class="op" id="3661194">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661198">return</span>&nbsp;<span class="ident" id="3661205">nil</span><span class="op" id="3661208">,</span>&nbsp;<span class="ident" id="3661210">es</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3661214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661218">ret</span><span class="op" id="3661221">,</span>&nbsp;<span class="ident" id="3661223">e</span>&nbsp;<span class="op" id="3661225">:=</span>&nbsp;<span class="ident" id="3661228">link8</span><span class="op" id="3661233">.</span><span class="ident" id="3661234">LinkMain</span><span class="op" id="3661242">(</span><span class="ident" id="3661243">main</span><span class="op" id="3661247">.</span><span class="ident" id="3661248">Package</span><span class="op" id="3661255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661258">if</span>&nbsp;<span class="ident" id="3661261">e</span>&nbsp;<span class="op" id="3661263">!=</span>&nbsp;<span class="ident" id="3661266">nil</span>&nbsp;<span class="op" id="3661270">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661274">return</span>&nbsp;<span class="ident" id="3661281">nil</span><span class="op" id="3661284">,</span>&nbsp;<span class="ident" id="3661286">lex8</span><span class="op" id="3661290">.</span><span class="ident" id="3661291">SingleErr</span><span class="op" id="3661300">(</span><span class="ident" id="3661301">e</span><span class="op" id="3661302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3661305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661309">return</span>&nbsp;<span class="ident" id="3661316">ret</span><span class="op" id="3661319">,</span>&nbsp;<span class="ident" id="3661321">nil</span><br>
<span class="lineno"></span><span class="op" id="3661325">}</span>
</div>
</body>
</html>
