<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math</h2>
<ul>
<li><a href="/gostd/math/abs.go.html">abs.go</a></li>
<li><a href="/gostd/math/acosh.go.html">acosh.go</a></li>
<li><a href="/gostd/math/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/math/asin.go.html">asin.go</a></li>
<li><a href="/gostd/math/asinh.go.html">asinh.go</a></li>
<li><a href="/gostd/math/atan.go.html">atan.go</a></li>
<li><a href="/gostd/math/atan2.go.html">atan2.go</a></li>
<li><a href="/gostd/math/atanh.go.html">atanh.go</a></li>
<li><a href="/gostd/math/bits.go.html">bits.go</a></li>
<li><a href="/gostd/math/cbrt.go.html">cbrt.go</a></li>
<li><a href="/gostd/math/const.go.html">const.go</a></li>
<li><a href="/gostd/math/copysign.go.html">copysign.go</a></li>
<li><a href="/gostd/math/dim.go.html">dim.go</a></li>
<li><a href="/gostd/math/erf.go.html">erf.go</a></li>
<li><a href="/gostd/math/exp.go.html">exp.go</a></li>
<li><a href="/gostd/math/expm1.go.html">expm1.go</a></li>
<li><a href="/gostd/math/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/math/floor.go.html">floor.go</a></li>
<li><a href="/gostd/math/frexp.go.html">frexp.go</a></li>
<li><a href="/gostd/math/gamma.go.html">gamma.go</a></li>
<li><a href="/gostd/math/hypot.go.html">hypot.go</a></li>
<li><a href="/gostd/math/j0.go.html">j0.go</a></li>
<li><a href="/gostd/math/j1.go.html">j1.go</a></li>
<li><a href="/gostd/math/jn.go.html">jn.go</a></li>
<li><a href="/gostd/math/ldexp.go.html">ldexp.go</a></li>
<li><a href="/gostd/math/lgamma.go.html">lgamma.go</a></li>
<li><a href="/gostd/math/log.go.html">log.go</a></li>
<li><a href="/gostd/math/log10.go.html">log10.go</a></li>
<li><a href="/gostd/math/log1p.go.html">log1p.go</a></li>
<li><a href="/gostd/math/logb.go.html">logb.go</a></li>
<li><a href="/gostd/math/mod.go.html">mod.go</a></li>
<li><a href="/gostd/math/modf.go.html">modf.go</a></li>
<li><a href="/gostd/math/nextafter.go.html">nextafter.go</a></li>
<li><a href="/gostd/math/pow.go.html" class="current">pow.go</a></li>
<li><a href="/gostd/math/pow10.go.html">pow10.go</a></li>
<li><a href="/gostd/math/remainder.go.html">remainder.go</a></li>
<li><a href="/gostd/math/signbit.go.html">signbit.go</a></li>
<li><a href="/gostd/math/sin.go.html">sin.go</a></li>
<li><a href="/gostd/math/sincos.go.html">sincos.go</a></li>
<li><a href="/gostd/math/sinh.go.html">sinh.go</a></li>
<li><a href="/gostd/math/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/math/tan.go.html">tan.go</a></li>
<li><a href="/gostd/math/tanh.go.html">tanh.go</a></li>
<li><a href="/gostd/math/unsafe.go.html">unsafe.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2280280">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2280335">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2280389">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2280440">package</span>&nbsp;<span class="ident" id="2280448">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2280454">func</span>&nbsp;<span class="ident" id="2280459">isOddInt</span><span class="op" id="2280467">(</span><span class="ident" id="2280468">x</span>&nbsp;<span class="builtintype" id="2280470">float64</span><span class="op" id="2280477">)</span>&nbsp;<span class="builtintype" id="2280479">bool</span>&nbsp;<span class="op" id="2280484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2280487">xi</span><span class="op" id="2280489">,</span>&nbsp;<span class="ident" id="2280491">xf</span>&nbsp;<span class="op" id="2280494">:=</span>&nbsp;<span class="ident" id="2280497">Modf</span><span class="op" id="2280501">(</span><span class="ident" id="2280502">x</span><span class="op" id="2280503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2280506">return</span>&nbsp;<span class="ident" id="2280513">xf</span>&nbsp;<span class="op" id="2280516">==</span>&nbsp;<span class="num" id="2280519">0</span>&nbsp;<span class="op" id="2280521">&amp;&amp;</span>&nbsp;<span class="builtintype" id="2280524">int64</span><span class="op" id="2280529">(</span><span class="ident" id="2280530">xi</span><span class="op" id="2280532">)</span><span class="op" id="2280533">&amp;</span><span class="num" id="2280534">1</span>&nbsp;<span class="op" id="2280536">==</span>&nbsp;<span class="num" id="2280539">1</span><br>
<span class="lineno">10</span><span class="op" id="2280541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2280544">//&nbsp;Special&nbsp;cases&nbsp;taken&nbsp;from&nbsp;FreeBSD&#39;s&nbsp;/usr/src/lib/msun/src/e_pow.c</span><br>
<span class="lineno"></span><span class="comment" id="2280612">//&nbsp;updated&nbsp;by&nbsp;IEEE&nbsp;Std.&nbsp;754-2008&nbsp;&#34;Section&nbsp;9.2.1&nbsp;Special&nbsp;values&#34;.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2280678">//&nbsp;Pow&nbsp;returns&nbsp;x**y,&nbsp;the&nbsp;base-x&nbsp;exponential&nbsp;of&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="2280728">//</span><br>
<span class="lineno"></span><span class="comment" id="2280731">//&nbsp;Special&nbsp;cases&nbsp;are&nbsp;(in&nbsp;order):</span><br>
<span class="lineno"></span><span class="comment" id="2280764">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;±0)&nbsp;=&nbsp;1&nbsp;for&nbsp;any&nbsp;x</span><br>
<span class="lineno"></span><span class="comment" id="2280793">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(1,&nbsp;y)&nbsp;=&nbsp;1&nbsp;for&nbsp;any&nbsp;y</span><br>
<span class="lineno">20</span><span class="comment" id="2280820">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;1)&nbsp;=&nbsp;x&nbsp;for&nbsp;any&nbsp;x</span><br>
<span class="lineno"></span><span class="comment" id="2280847">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2280868">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2280889">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;y)&nbsp;=&nbsp;±Inf&nbsp;for&nbsp;y&nbsp;an&nbsp;odd&nbsp;integer&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="2280937">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;-Inf)&nbsp;=&nbsp;+Inf</span><br>
<span class="lineno">25</span><span class="comment" id="2280962">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;+Inf)&nbsp;=&nbsp;+0</span><br>
<span class="lineno"></span><span class="comment" id="2280985">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;y)&nbsp;=&nbsp;+Inf&nbsp;for&nbsp;finite&nbsp;y&nbsp;&lt;&nbsp;0&nbsp;and&nbsp;not&nbsp;an&nbsp;odd&nbsp;integer</span><br>
<span class="lineno"></span><span class="comment" id="2281047">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;y)&nbsp;=&nbsp;±0&nbsp;for&nbsp;y&nbsp;an&nbsp;odd&nbsp;integer&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="2281093">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;y)&nbsp;=&nbsp;+0&nbsp;for&nbsp;finite&nbsp;y&nbsp;&gt;&nbsp;0&nbsp;and&nbsp;not&nbsp;an&nbsp;odd&nbsp;integer</span><br>
<span class="lineno"></span><span class="comment" id="2281153">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(-1,&nbsp;±Inf)&nbsp;=&nbsp;1</span><br>
<span class="lineno">30</span><span class="comment" id="2281175">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;+Inf)&nbsp;=&nbsp;+Inf&nbsp;for&nbsp;|x|&nbsp;&gt;&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2281210">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;-Inf)&nbsp;=&nbsp;+0&nbsp;for&nbsp;|x|&nbsp;&gt;&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2281243">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;+Inf)&nbsp;=&nbsp;+0&nbsp;for&nbsp;|x|&nbsp;&lt;&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2281276">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;-Inf)&nbsp;=&nbsp;+Inf&nbsp;for&nbsp;|x|&nbsp;&lt;&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2281311">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(+Inf,&nbsp;y)&nbsp;=&nbsp;+Inf&nbsp;for&nbsp;y&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno">35</span><span class="comment" id="2281344">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(+Inf,&nbsp;y)&nbsp;=&nbsp;+0&nbsp;for&nbsp;y&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="2281375">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(-Inf,&nbsp;y)&nbsp;=&nbsp;Pow(-0,&nbsp;-y)</span><br>
<span class="lineno"></span><span class="comment" id="2281405">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;y)&nbsp;=&nbsp;NaN&nbsp;for&nbsp;finite&nbsp;x&nbsp;&lt;&nbsp;0&nbsp;and&nbsp;finite&nbsp;non-integer&nbsp;y</span><br>
<span class="lineno"></span><span class="keyword" id="2281466">func</span>&nbsp;<span class="ident" id="2281471">Pow</span><span class="op" id="2281474">(</span><span class="ident" id="2281475">x</span><span class="op" id="2281476">,</span>&nbsp;<span class="ident" id="2281478">y</span>&nbsp;<span class="builtintype" id="2281480">float64</span><span class="op" id="2281487">)</span>&nbsp;<span class="builtintype" id="2281489">float64</span>&nbsp;<span class="op" id="2281497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281500">switch</span>&nbsp;<span class="op" id="2281507">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281510">case</span>&nbsp;<span class="ident" id="2281515">y</span>&nbsp;<span class="op" id="2281517">==</span>&nbsp;<span class="num" id="2281520">0</span>&nbsp;<span class="op" id="2281522">||</span>&nbsp;<span class="ident" id="2281525">x</span>&nbsp;<span class="op" id="2281527">==</span>&nbsp;<span class="num" id="2281530">1</span><span class="op" id="2281531">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281535">return</span>&nbsp;<span class="num" id="2281542">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281545">case</span>&nbsp;<span class="ident" id="2281550">y</span>&nbsp;<span class="op" id="2281552">==</span>&nbsp;<span class="num" id="2281555">1</span><span class="op" id="2281556">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281560">return</span>&nbsp;<span class="ident" id="2281567">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281570">case</span>&nbsp;<span class="ident" id="2281575">y</span>&nbsp;<span class="op" id="2281577">==</span>&nbsp;<span class="num" id="2281580">0.5</span><span class="op" id="2281583">:</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281587">return</span>&nbsp;<span class="ident" id="2281594">Sqrt</span><span class="op" id="2281598">(</span><span class="ident" id="2281599">x</span><span class="op" id="2281600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281603">case</span>&nbsp;<span class="ident" id="2281608">y</span>&nbsp;<span class="op" id="2281610">==</span>&nbsp;<span class="op" id="2281613">-</span><span class="num" id="2281614">0.5</span><span class="op" id="2281617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281621">return</span>&nbsp;<span class="num" id="2281628">1</span>&nbsp;<span class="op" id="2281630">/</span>&nbsp;<span class="ident" id="2281632">Sqrt</span><span class="op" id="2281636">(</span><span class="ident" id="2281637">x</span><span class="op" id="2281638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281641">case</span>&nbsp;<span class="ident" id="2281646">IsNaN</span><span class="op" id="2281651">(</span><span class="ident" id="2281652">x</span><span class="op" id="2281653">)</span>&nbsp;<span class="op" id="2281655">||</span>&nbsp;<span class="ident" id="2281658">IsNaN</span><span class="op" id="2281663">(</span><span class="ident" id="2281664">y</span><span class="op" id="2281665">)</span><span class="op" id="2281666">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281670">return</span>&nbsp;<span class="ident" id="2281677">NaN</span><span class="op" id="2281680">(</span><span class="op" id="2281681">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281684">case</span>&nbsp;<span class="ident" id="2281689">x</span>&nbsp;<span class="op" id="2281691">==</span>&nbsp;<span class="num" id="2281694">0</span><span class="op" id="2281695">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281699">switch</span>&nbsp;<span class="op" id="2281706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281710">case</span>&nbsp;<span class="ident" id="2281715">y</span>&nbsp;<span class="op" id="2281717">&lt;</span>&nbsp;<span class="num" id="2281719">0</span><span class="op" id="2281720">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281725">if</span>&nbsp;<span class="ident" id="2281728">isOddInt</span><span class="op" id="2281736">(</span><span class="ident" id="2281737">y</span><span class="op" id="2281738">)</span>&nbsp;<span class="op" id="2281740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281746">return</span>&nbsp;<span class="ident" id="2281753">Copysign</span><span class="op" id="2281761">(</span><span class="ident" id="2281762">Inf</span><span class="op" id="2281765">(</span><span class="num" id="2281766">1</span><span class="op" id="2281767">)</span><span class="op" id="2281768">,</span>&nbsp;<span class="ident" id="2281770">x</span><span class="op" id="2281771">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2281776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281781">return</span>&nbsp;<span class="ident" id="2281788">Inf</span><span class="op" id="2281791">(</span><span class="num" id="2281792">1</span><span class="op" id="2281793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281797">case</span>&nbsp;<span class="ident" id="2281802">y</span>&nbsp;<span class="op" id="2281804">&gt;</span>&nbsp;<span class="num" id="2281806">0</span><span class="op" id="2281807">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281812">if</span>&nbsp;<span class="ident" id="2281815">isOddInt</span><span class="op" id="2281823">(</span><span class="ident" id="2281824">y</span><span class="op" id="2281825">)</span>&nbsp;<span class="op" id="2281827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281833">return</span>&nbsp;<span class="ident" id="2281840">x</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2281845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281850">return</span>&nbsp;<span class="num" id="2281857">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2281861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281864">case</span>&nbsp;<span class="ident" id="2281869">IsInf</span><span class="op" id="2281874">(</span><span class="ident" id="2281875">y</span><span class="op" id="2281876">,</span>&nbsp;<span class="num" id="2281878">0</span><span class="op" id="2281879">)</span><span class="op" id="2281880">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281884">switch</span>&nbsp;<span class="op" id="2281891">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281895">case</span>&nbsp;<span class="ident" id="2281900">x</span>&nbsp;<span class="op" id="2281902">==</span>&nbsp;<span class="op" id="2281905">-</span><span class="num" id="2281906">1</span><span class="op" id="2281907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281912">return</span>&nbsp;<span class="num" id="2281919">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281923">case</span>&nbsp;<span class="op" id="2281928">(</span><span class="ident" id="2281929">Abs</span><span class="op" id="2281932">(</span><span class="ident" id="2281933">x</span><span class="op" id="2281934">)</span>&nbsp;<span class="op" id="2281936">&lt;</span>&nbsp;<span class="num" id="2281938">1</span><span class="op" id="2281939">)</span>&nbsp;<span class="op" id="2281941">==</span>&nbsp;<span class="ident" id="2281944">IsInf</span><span class="op" id="2281949">(</span><span class="ident" id="2281950">y</span><span class="op" id="2281951">,</span>&nbsp;<span class="num" id="2281953">1</span><span class="op" id="2281954">)</span><span class="op" id="2281955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281960">return</span>&nbsp;<span class="num" id="2281967">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281971">default</span><span class="op" id="2281978">:</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2281983">return</span>&nbsp;<span class="ident" id="2281990">Inf</span><span class="op" id="2281993">(</span><span class="num" id="2281994">1</span><span class="op" id="2281995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2281999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282002">case</span>&nbsp;<span class="ident" id="2282007">IsInf</span><span class="op" id="2282012">(</span><span class="ident" id="2282013">x</span><span class="op" id="2282014">,</span>&nbsp;<span class="num" id="2282016">0</span><span class="op" id="2282017">)</span><span class="op" id="2282018">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282022">if</span>&nbsp;<span class="ident" id="2282025">IsInf</span><span class="op" id="2282030">(</span><span class="ident" id="2282031">x</span><span class="op" id="2282032">,</span>&nbsp;<span class="op" id="2282034">-</span><span class="num" id="2282035">1</span><span class="op" id="2282036">)</span>&nbsp;<span class="op" id="2282038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282043">return</span>&nbsp;<span class="ident" id="2282050">Pow</span><span class="op" id="2282053">(</span><span class="num" id="2282054">1</span><span class="op" id="2282055">/</span><span class="ident" id="2282056">x</span><span class="op" id="2282057">,</span>&nbsp;<span class="op" id="2282059">-</span><span class="ident" id="2282060">y</span><span class="op" id="2282061">)</span>&nbsp;<span class="comment" id="2282063">//&nbsp;Pow(-0,&nbsp;-y)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282084">switch</span>&nbsp;<span class="op" id="2282091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282095">case</span>&nbsp;<span class="ident" id="2282100">y</span>&nbsp;<span class="op" id="2282102">&lt;</span>&nbsp;<span class="num" id="2282104">0</span><span class="op" id="2282105">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282110">return</span>&nbsp;<span class="num" id="2282117">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282121">case</span>&nbsp;<span class="ident" id="2282126">y</span>&nbsp;<span class="op" id="2282128">&gt;</span>&nbsp;<span class="num" id="2282130">0</span><span class="op" id="2282131">:</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282136">return</span>&nbsp;<span class="ident" id="2282143">Inf</span><span class="op" id="2282146">(</span><span class="num" id="2282147">1</span><span class="op" id="2282148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282159">absy</span>&nbsp;<span class="op" id="2282164">:=</span>&nbsp;<span class="ident" id="2282167">y</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282170">flip</span>&nbsp;<span class="op" id="2282175">:=</span>&nbsp;<span class="builtintype" id="2282178">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282185">if</span>&nbsp;<span class="ident" id="2282188">absy</span>&nbsp;<span class="op" id="2282193">&lt;</span>&nbsp;<span class="num" id="2282195">0</span>&nbsp;<span class="op" id="2282197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282201">absy</span>&nbsp;<span class="op" id="2282206">=</span>&nbsp;<span class="op" id="2282208">-</span><span class="ident" id="2282209">absy</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282216">flip</span>&nbsp;<span class="op" id="2282221">=</span>&nbsp;<span class="builtintype" id="2282223">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282229">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282232">yi</span><span class="op" id="2282234">,</span>&nbsp;<span class="ident" id="2282236">yf</span>&nbsp;<span class="op" id="2282239">:=</span>&nbsp;<span class="ident" id="2282242">Modf</span><span class="op" id="2282246">(</span><span class="ident" id="2282247">absy</span><span class="op" id="2282251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282254">if</span>&nbsp;<span class="ident" id="2282257">yf</span>&nbsp;<span class="op" id="2282260">!=</span>&nbsp;<span class="num" id="2282263">0</span>&nbsp;<span class="op" id="2282265">&amp;&amp;</span>&nbsp;<span class="ident" id="2282268">x</span>&nbsp;<span class="op" id="2282270">&lt;</span>&nbsp;<span class="num" id="2282272">0</span>&nbsp;<span class="op" id="2282274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282278">return</span>&nbsp;<span class="ident" id="2282285">NaN</span><span class="op" id="2282288">(</span><span class="op" id="2282289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282295">if</span>&nbsp;<span class="ident" id="2282298">yi</span>&nbsp;<span class="op" id="2282301">&gt;=</span>&nbsp;<span class="num" id="2282304">1</span><span class="op" id="2282305">&lt;&lt;</span><span class="num" id="2282307">63</span>&nbsp;<span class="op" id="2282310">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282314">return</span>&nbsp;<span class="ident" id="2282321">Exp</span><span class="op" id="2282324">(</span><span class="ident" id="2282325">y</span>&nbsp;<span class="op" id="2282327">*</span>&nbsp;<span class="ident" id="2282329">Log</span><span class="op" id="2282332">(</span><span class="ident" id="2282333">x</span><span class="op" id="2282334">)</span><span class="op" id="2282335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2282342">//&nbsp;ans&nbsp;=&nbsp;a1&nbsp;*&nbsp;2**ae&nbsp;(=&nbsp;1&nbsp;for&nbsp;now).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282378">a1</span>&nbsp;<span class="op" id="2282381">:=</span>&nbsp;<span class="num" id="2282384">1.0</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282389">ae</span>&nbsp;<span class="op" id="2282392">:=</span>&nbsp;<span class="num" id="2282395">0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2282399">//&nbsp;ans&nbsp;*=&nbsp;x**yf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282416">if</span>&nbsp;<span class="ident" id="2282419">yf</span>&nbsp;<span class="op" id="2282422">!=</span>&nbsp;<span class="num" id="2282425">0</span>&nbsp;<span class="op" id="2282427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282431">if</span>&nbsp;<span class="ident" id="2282434">yf</span>&nbsp;<span class="op" id="2282437">&gt;</span>&nbsp;<span class="num" id="2282439">0.5</span>&nbsp;<span class="op" id="2282443">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282448">yf</span><span class="op" id="2282450">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282456">yi</span><span class="op" id="2282458">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282467">a1</span>&nbsp;<span class="op" id="2282470">=</span>&nbsp;<span class="ident" id="2282472">Exp</span><span class="op" id="2282475">(</span><span class="ident" id="2282476">yf</span>&nbsp;<span class="op" id="2282479">*</span>&nbsp;<span class="ident" id="2282481">Log</span><span class="op" id="2282484">(</span><span class="ident" id="2282485">x</span><span class="op" id="2282486">)</span><span class="op" id="2282487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282490">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2282494">//&nbsp;ans&nbsp;*=&nbsp;x**yi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2282511">//&nbsp;by&nbsp;multiplying&nbsp;in&nbsp;successive&nbsp;squarings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2282554">//&nbsp;of&nbsp;x&nbsp;according&nbsp;to&nbsp;bits&nbsp;of&nbsp;yi.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2282588">//&nbsp;accumulate&nbsp;powers&nbsp;of&nbsp;two&nbsp;into&nbsp;exp.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282627">x1</span><span class="op" id="2282629">,</span>&nbsp;<span class="ident" id="2282631">xe</span>&nbsp;<span class="op" id="2282634">:=</span>&nbsp;<span class="ident" id="2282637">Frexp</span><span class="op" id="2282642">(</span><span class="ident" id="2282643">x</span><span class="op" id="2282644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282647">for</span>&nbsp;<span class="ident" id="2282651">i</span>&nbsp;<span class="op" id="2282653">:=</span>&nbsp;<span class="builtintype" id="2282656">int64</span><span class="op" id="2282661">(</span><span class="ident" id="2282662">yi</span><span class="op" id="2282664">)</span><span class="op" id="2282665">;</span>&nbsp;<span class="ident" id="2282667">i</span>&nbsp;<span class="op" id="2282669">!=</span>&nbsp;<span class="num" id="2282672">0</span><span class="op" id="2282673">;</span>&nbsp;<span class="ident" id="2282675">i</span>&nbsp;<span class="op" id="2282677">&gt;&gt;=</span>&nbsp;<span class="num" id="2282681">1</span>&nbsp;<span class="op" id="2282683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282687">if</span>&nbsp;<span class="ident" id="2282690">i</span><span class="op" id="2282691">&amp;</span><span class="num" id="2282692">1</span>&nbsp;<span class="op" id="2282694">==</span>&nbsp;<span class="num" id="2282697">1</span>&nbsp;<span class="op" id="2282699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282704">a1</span>&nbsp;<span class="op" id="2282707">*=</span>&nbsp;<span class="ident" id="2282710">x1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282716">ae</span>&nbsp;<span class="op" id="2282719">+=</span>&nbsp;<span class="ident" id="2282722">xe</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282731">x1</span>&nbsp;<span class="op" id="2282734">*=</span>&nbsp;<span class="ident" id="2282737">x1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282742">xe</span>&nbsp;<span class="op" id="2282745">&lt;&lt;=</span>&nbsp;<span class="num" id="2282749">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282753">if</span>&nbsp;<span class="ident" id="2282756">x1</span>&nbsp;<span class="op" id="2282759">&lt;</span>&nbsp;<span class="num" id="2282761">.5</span>&nbsp;<span class="op" id="2282764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282769">x1</span>&nbsp;<span class="op" id="2282772">+=</span>&nbsp;<span class="ident" id="2282775">x1</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282781">xe</span><span class="op" id="2282783">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2282795">//&nbsp;ans&nbsp;=&nbsp;a1*2**ae</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2282814">//&nbsp;if&nbsp;flip&nbsp;{&nbsp;ans&nbsp;=&nbsp;1&nbsp;/&nbsp;ans&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2282844">//&nbsp;but&nbsp;in&nbsp;the&nbsp;opposite&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282874">if</span>&nbsp;<span class="ident" id="2282877">flip</span>&nbsp;<span class="op" id="2282882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282886">a1</span>&nbsp;<span class="op" id="2282889">=</span>&nbsp;<span class="num" id="2282891">1</span>&nbsp;<span class="op" id="2282893">/</span>&nbsp;<span class="ident" id="2282895">a1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2282900">ae</span>&nbsp;<span class="op" id="2282903">=</span>&nbsp;<span class="op" id="2282905">-</span><span class="ident" id="2282906">ae</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2282910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2282913">return</span>&nbsp;<span class="ident" id="2282920">Ldexp</span><span class="op" id="2282925">(</span><span class="ident" id="2282926">a1</span><span class="op" id="2282928">,</span>&nbsp;<span class="ident" id="2282930">ae</span><span class="op" id="2282932">)</span><br>
<span class="lineno"></span><span class="op" id="2282934">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
