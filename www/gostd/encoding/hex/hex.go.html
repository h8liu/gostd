<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4397970">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4398025">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4398079">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4398130">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4398191">package</span>&nbsp;<span class="ident" id="4398199">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4398204">import</span>&nbsp;<span class="op" id="4398211">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4398214">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4398223">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4398233">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4398240">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4398245">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="4398248">const</span>&nbsp;<span class="ident" id="4398254">hextable</span>&nbsp;<span class="op" id="4398263">=</span>&nbsp;<span class="string" id="4398265">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4398285">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="4398352">func</span>&nbsp;<span class="ident" id="4398357">EncodedLen</span><span class="op" id="4398367">(</span><span class="ident" id="4398368">n</span>&nbsp;<span class="builtintype" id="4398370">int</span><span class="op" id="4398373">)</span>&nbsp;<span class="builtintype" id="4398375">int</span>&nbsp;<span class="op" id="4398379">{</span>&nbsp;<span class="keyword" id="4398381">return</span>&nbsp;<span class="ident" id="4398388">n</span>&nbsp;<span class="op" id="4398390">*</span>&nbsp;<span class="num" id="4398392">2</span>&nbsp;<span class="op" id="4398394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="4398397">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="4398445">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="4398503">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="4398578">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4398621">func</span>&nbsp;<span class="ident" id="4398626">Encode</span><span class="op" id="4398632">(</span><span class="ident" id="4398633">dst</span><span class="op" id="4398636">,</span>&nbsp;<span class="ident" id="4398638">src</span>&nbsp;<span class="op" id="4398642">[</span><span class="op" id="4398643">]</span><span class="builtintype" id="4398644">byte</span><span class="op" id="4398648">)</span>&nbsp;<span class="builtintype" id="4398650">int</span>&nbsp;<span class="op" id="4398654">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398657">for</span>&nbsp;<span class="ident" id="4398661">i</span><span class="op" id="4398662">,</span>&nbsp;<span class="ident" id="4398664">v</span>&nbsp;<span class="op" id="4398666">:=</span>&nbsp;<span class="keyword" id="4398669">range</span>&nbsp;<span class="ident" id="4398675">src</span>&nbsp;<span class="op" id="4398679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398683">dst</span><span class="op" id="4398686">[</span><span class="ident" id="4398687">i</span><span class="op" id="4398688">*</span><span class="num" id="4398689">2</span><span class="op" id="4398690">]</span>&nbsp;<span class="op" id="4398692">=</span>&nbsp;<span class="ident" id="4398694">hextable</span><span class="op" id="4398702">[</span><span class="ident" id="4398703">v</span><span class="op" id="4398704">&gt;&gt;</span><span class="num" id="4398706">4</span><span class="op" id="4398707">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398711">dst</span><span class="op" id="4398714">[</span><span class="ident" id="4398715">i</span><span class="op" id="4398716">*</span><span class="num" id="4398717">2</span><span class="op" id="4398718">+</span><span class="num" id="4398719">1</span><span class="op" id="4398720">]</span>&nbsp;<span class="op" id="4398722">=</span>&nbsp;<span class="ident" id="4398724">hextable</span><span class="op" id="4398732">[</span><span class="ident" id="4398733">v</span><span class="op" id="4398734">&amp;</span><span class="num" id="4398735">0x0f</span><span class="op" id="4398739">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4398742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398746">return</span>&nbsp;<span class="builtinfunc" id="4398753">len</span><span class="op" id="4398756">(</span><span class="ident" id="4398757">src</span><span class="op" id="4398760">)</span>&nbsp;<span class="op" id="4398762">*</span>&nbsp;<span class="num" id="4398764">2</span><br>
<span class="lineno"></span><span class="op" id="4398766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4398769">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="4398825">var</span>&nbsp;<span class="ident" id="4398829">ErrLength</span>&nbsp;<span class="op" id="4398839">=</span>&nbsp;<span class="ident" id="4398841">errors</span><span class="op" id="4398847">.</span><span class="ident" id="4398848">New</span><span class="op" id="4398851">(</span><span class="string" id="4398852">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="4398889">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4398892">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4398983">type</span>&nbsp;<span class="ident" id="4398988">InvalidByteError</span>&nbsp;<span class="builtintype" id="4399005">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4399011">func</span>&nbsp;<span class="op" id="4399016">(</span><span class="ident" id="4399017">e</span>&nbsp;<span class="ident" id="4399019">InvalidByteError</span><span class="op" id="4399035">)</span>&nbsp;<span class="ident" id="4399037">Error</span><span class="op" id="4399042">(</span><span class="op" id="4399043">)</span>&nbsp;<span class="builtintype" id="4399045">string</span>&nbsp;<span class="op" id="4399052">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399055">return</span>&nbsp;<span class="ident" id="4399062">fmt</span><span class="op" id="4399065">.</span><span class="ident" id="4399066">Sprintf</span><span class="op" id="4399073">(</span><span class="string" id="4399074">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="4399107">,</span>&nbsp;<span class="builtintype" id="4399109">rune</span><span class="op" id="4399113">(</span><span class="ident" id="4399114">e</span><span class="op" id="4399115">)</span><span class="op" id="4399116">)</span><br>
<span class="lineno"></span><span class="op" id="4399118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4399121">func</span>&nbsp;<span class="ident" id="4399126">DecodedLen</span><span class="op" id="4399136">(</span><span class="ident" id="4399137">x</span>&nbsp;<span class="builtintype" id="4399139">int</span><span class="op" id="4399142">)</span>&nbsp;<span class="builtintype" id="4399144">int</span>&nbsp;<span class="op" id="4399148">{</span>&nbsp;<span class="keyword" id="4399150">return</span>&nbsp;<span class="ident" id="4399157">x</span>&nbsp;<span class="op" id="4399159">/</span>&nbsp;<span class="num" id="4399161">2</span>&nbsp;<span class="op" id="4399163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="4399166">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="4399242">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="4399277">//</span><br>
<span class="lineno"></span><span class="comment" id="4399280">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="4399363">func</span>&nbsp;<span class="ident" id="4399368">Decode</span><span class="op" id="4399374">(</span><span class="ident" id="4399375">dst</span><span class="op" id="4399378">,</span>&nbsp;<span class="ident" id="4399380">src</span>&nbsp;<span class="op" id="4399384">[</span><span class="op" id="4399385">]</span><span class="builtintype" id="4399386">byte</span><span class="op" id="4399390">)</span>&nbsp;<span class="op" id="4399392">(</span><span class="builtintype" id="4399393">int</span><span class="op" id="4399396">,</span>&nbsp;<span class="builtintype" id="4399398">error</span><span class="op" id="4399403">)</span>&nbsp;<span class="op" id="4399405">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399408">if</span>&nbsp;<span class="builtinfunc" id="4399411">len</span><span class="op" id="4399414">(</span><span class="ident" id="4399415">src</span><span class="op" id="4399418">)</span><span class="op" id="4399419">%</span><span class="num" id="4399420">2</span>&nbsp;<span class="op" id="4399422">==</span>&nbsp;<span class="num" id="4399425">1</span>&nbsp;<span class="op" id="4399427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399431">return</span>&nbsp;<span class="num" id="4399438">0</span><span class="op" id="4399439">,</span>&nbsp;<span class="ident" id="4399441">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399456">for</span>&nbsp;<span class="ident" id="4399460">i</span>&nbsp;<span class="op" id="4399462">:=</span>&nbsp;<span class="num" id="4399465">0</span><span class="op" id="4399466">;</span>&nbsp;<span class="ident" id="4399468">i</span>&nbsp;<span class="op" id="4399470">&lt;</span>&nbsp;<span class="builtinfunc" id="4399472">len</span><span class="op" id="4399475">(</span><span class="ident" id="4399476">src</span><span class="op" id="4399479">)</span><span class="op" id="4399480">/</span><span class="num" id="4399481">2</span><span class="op" id="4399482">;</span>&nbsp;<span class="ident" id="4399484">i</span><span class="op" id="4399485">++</span>&nbsp;<span class="op" id="4399488">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399492">a</span><span class="op" id="4399493">,</span>&nbsp;<span class="ident" id="4399495">ok</span>&nbsp;<span class="op" id="4399498">:=</span>&nbsp;<span class="ident" id="4399501">fromHexChar</span><span class="op" id="4399512">(</span><span class="ident" id="4399513">src</span><span class="op" id="4399516">[</span><span class="ident" id="4399517">i</span><span class="op" id="4399518">*</span><span class="num" id="4399519">2</span><span class="op" id="4399520">]</span><span class="op" id="4399521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399525">if</span>&nbsp;<span class="op" id="4399528">!</span><span class="ident" id="4399529">ok</span>&nbsp;<span class="op" id="4399532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399537">return</span>&nbsp;<span class="num" id="4399544">0</span><span class="op" id="4399545">,</span>&nbsp;<span class="ident" id="4399547">InvalidByteError</span><span class="op" id="4399563">(</span><span class="ident" id="4399564">src</span><span class="op" id="4399567">[</span><span class="ident" id="4399568">i</span><span class="op" id="4399569">*</span><span class="num" id="4399570">2</span><span class="op" id="4399571">]</span><span class="op" id="4399572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399580">b</span><span class="op" id="4399581">,</span>&nbsp;<span class="ident" id="4399583">ok</span>&nbsp;<span class="op" id="4399586">:=</span>&nbsp;<span class="ident" id="4399589">fromHexChar</span><span class="op" id="4399600">(</span><span class="ident" id="4399601">src</span><span class="op" id="4399604">[</span><span class="ident" id="4399605">i</span><span class="op" id="4399606">*</span><span class="num" id="4399607">2</span><span class="op" id="4399608">+</span><span class="num" id="4399609">1</span><span class="op" id="4399610">]</span><span class="op" id="4399611">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399615">if</span>&nbsp;<span class="op" id="4399618">!</span><span class="ident" id="4399619">ok</span>&nbsp;<span class="op" id="4399622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399627">return</span>&nbsp;<span class="num" id="4399634">0</span><span class="op" id="4399635">,</span>&nbsp;<span class="ident" id="4399637">InvalidByteError</span><span class="op" id="4399653">(</span><span class="ident" id="4399654">src</span><span class="op" id="4399657">[</span><span class="ident" id="4399658">i</span><span class="op" id="4399659">*</span><span class="num" id="4399660">2</span><span class="op" id="4399661">+</span><span class="num" id="4399662">1</span><span class="op" id="4399663">]</span><span class="op" id="4399664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399672">dst</span><span class="op" id="4399675">[</span><span class="ident" id="4399676">i</span><span class="op" id="4399677">]</span>&nbsp;<span class="op" id="4399679">=</span>&nbsp;<span class="op" id="4399681">(</span><span class="ident" id="4399682">a</span>&nbsp;<span class="op" id="4399684">&lt;&lt;</span>&nbsp;<span class="num" id="4399687">4</span><span class="op" id="4399688">)</span>&nbsp;<span class="op" id="4399690">|</span>&nbsp;<span class="ident" id="4399692">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399695">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399699">return</span>&nbsp;<span class="builtinfunc" id="4399706">len</span><span class="op" id="4399709">(</span><span class="ident" id="4399710">src</span><span class="op" id="4399713">)</span>&nbsp;<span class="op" id="4399715">/</span>&nbsp;<span class="num" id="4399717">2</span><span class="op" id="4399718">,</span>&nbsp;<span class="ident" id="4399720">nil</span><br>
<span class="lineno"></span><span class="op" id="4399724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4399727">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="4399802">func</span>&nbsp;<span class="ident" id="4399807">fromHexChar</span><span class="op" id="4399818">(</span><span class="ident" id="4399819">c</span>&nbsp;<span class="builtintype" id="4399821">byte</span><span class="op" id="4399825">)</span>&nbsp;<span class="op" id="4399827">(</span><span class="builtintype" id="4399828">byte</span><span class="op" id="4399832">,</span>&nbsp;<span class="builtintype" id="4399834">bool</span><span class="op" id="4399838">)</span>&nbsp;<span class="op" id="4399840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399843">switch</span>&nbsp;<span class="op" id="4399850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399853">case</span>&nbsp;<span class="string" id="4399858">&#39;0&#39;</span>&nbsp;<span class="op" id="4399862">&lt;=</span>&nbsp;<span class="ident" id="4399865">c</span>&nbsp;<span class="op" id="4399867">&amp;&amp;</span>&nbsp;<span class="ident" id="4399870">c</span>&nbsp;<span class="op" id="4399872">&lt;=</span>&nbsp;<span class="string" id="4399875">&#39;9&#39;</span><span class="op" id="4399878">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399882">return</span>&nbsp;<span class="ident" id="4399889">c</span>&nbsp;<span class="op" id="4399891">-</span>&nbsp;<span class="string" id="4399893">&#39;0&#39;</span><span class="op" id="4399896">,</span>&nbsp;<span class="builtintype" id="4399898">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399904">case</span>&nbsp;<span class="string" id="4399909">&#39;a&#39;</span>&nbsp;<span class="op" id="4399913">&lt;=</span>&nbsp;<span class="ident" id="4399916">c</span>&nbsp;<span class="op" id="4399918">&amp;&amp;</span>&nbsp;<span class="ident" id="4399921">c</span>&nbsp;<span class="op" id="4399923">&lt;=</span>&nbsp;<span class="string" id="4399926">&#39;f&#39;</span><span class="op" id="4399929">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399933">return</span>&nbsp;<span class="ident" id="4399940">c</span>&nbsp;<span class="op" id="4399942">-</span>&nbsp;<span class="string" id="4399944">&#39;a&#39;</span>&nbsp;<span class="op" id="4399948">+</span>&nbsp;<span class="num" id="4399950">10</span><span class="op" id="4399952">,</span>&nbsp;<span class="builtintype" id="4399954">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399960">case</span>&nbsp;<span class="string" id="4399965">&#39;A&#39;</span>&nbsp;<span class="op" id="4399969">&lt;=</span>&nbsp;<span class="ident" id="4399972">c</span>&nbsp;<span class="op" id="4399974">&amp;&amp;</span>&nbsp;<span class="ident" id="4399977">c</span>&nbsp;<span class="op" id="4399979">&lt;=</span>&nbsp;<span class="string" id="4399982">&#39;F&#39;</span><span class="op" id="4399985">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399989">return</span>&nbsp;<span class="ident" id="4399996">c</span>&nbsp;<span class="op" id="4399998">-</span>&nbsp;<span class="string" id="4400000">&#39;A&#39;</span>&nbsp;<span class="op" id="4400004">+</span>&nbsp;<span class="num" id="4400006">10</span><span class="op" id="4400008">,</span>&nbsp;<span class="builtintype" id="4400010">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400020">return</span>&nbsp;<span class="num" id="4400027">0</span><span class="op" id="4400028">,</span>&nbsp;<span class="builtintype" id="4400030">false</span><br>
<span class="lineno"></span><span class="op" id="4400036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4400039">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="4400098">func</span>&nbsp;<span class="ident" id="4400103">EncodeToString</span><span class="op" id="4400117">(</span><span class="ident" id="4400118">src</span>&nbsp;<span class="op" id="4400122">[</span><span class="op" id="4400123">]</span><span class="builtintype" id="4400124">byte</span><span class="op" id="4400128">)</span>&nbsp;<span class="builtintype" id="4400130">string</span>&nbsp;<span class="op" id="4400137">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400140">dst</span>&nbsp;<span class="op" id="4400144">:=</span>&nbsp;<span class="builtinfunc" id="4400147">make</span><span class="op" id="4400151">(</span><span class="op" id="4400152">[</span><span class="op" id="4400153">]</span><span class="builtintype" id="4400154">byte</span><span class="op" id="4400158">,</span>&nbsp;<span class="ident" id="4400160">EncodedLen</span><span class="op" id="4400170">(</span><span class="builtinfunc" id="4400171">len</span><span class="op" id="4400174">(</span><span class="ident" id="4400175">src</span><span class="op" id="4400178">)</span><span class="op" id="4400179">)</span><span class="op" id="4400180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400183">Encode</span><span class="op" id="4400189">(</span><span class="ident" id="4400190">dst</span><span class="op" id="4400193">,</span>&nbsp;<span class="ident" id="4400195">src</span><span class="op" id="4400198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400201">return</span>&nbsp;<span class="builtintype" id="4400208">string</span><span class="op" id="4400214">(</span><span class="ident" id="4400215">dst</span><span class="op" id="4400218">)</span><br>
<span class="lineno"></span><span class="op" id="4400220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4400223">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4400298">func</span>&nbsp;<span class="ident" id="4400303">DecodeString</span><span class="op" id="4400315">(</span><span class="ident" id="4400316">s</span>&nbsp;<span class="builtintype" id="4400318">string</span><span class="op" id="4400324">)</span>&nbsp;<span class="op" id="4400326">(</span><span class="op" id="4400327">[</span><span class="op" id="4400328">]</span><span class="builtintype" id="4400329">byte</span><span class="op" id="4400333">,</span>&nbsp;<span class="builtintype" id="4400335">error</span><span class="op" id="4400340">)</span>&nbsp;<span class="op" id="4400342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400345">src</span>&nbsp;<span class="op" id="4400349">:=</span>&nbsp;<span class="op" id="4400352">[</span><span class="op" id="4400353">]</span><span class="builtintype" id="4400354">byte</span><span class="op" id="4400358">(</span><span class="ident" id="4400359">s</span><span class="op" id="4400360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400363">dst</span>&nbsp;<span class="op" id="4400367">:=</span>&nbsp;<span class="builtinfunc" id="4400370">make</span><span class="op" id="4400374">(</span><span class="op" id="4400375">[</span><span class="op" id="4400376">]</span><span class="builtintype" id="4400377">byte</span><span class="op" id="4400381">,</span>&nbsp;<span class="ident" id="4400383">DecodedLen</span><span class="op" id="4400393">(</span><span class="builtinfunc" id="4400394">len</span><span class="op" id="4400397">(</span><span class="ident" id="4400398">src</span><span class="op" id="4400401">)</span><span class="op" id="4400402">)</span><span class="op" id="4400403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400406">_</span><span class="op" id="4400407">,</span>&nbsp;<span class="ident" id="4400409">err</span>&nbsp;<span class="op" id="4400413">:=</span>&nbsp;<span class="ident" id="4400416">Decode</span><span class="op" id="4400422">(</span><span class="ident" id="4400423">dst</span><span class="op" id="4400426">,</span>&nbsp;<span class="ident" id="4400428">src</span><span class="op" id="4400431">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400434">if</span>&nbsp;<span class="ident" id="4400437">err</span>&nbsp;<span class="op" id="4400441">!=</span>&nbsp;<span class="ident" id="4400444">nil</span>&nbsp;<span class="op" id="4400448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400452">return</span>&nbsp;<span class="ident" id="4400459">nil</span><span class="op" id="4400462">,</span>&nbsp;<span class="ident" id="4400464">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400472">return</span>&nbsp;<span class="ident" id="4400479">dst</span><span class="op" id="4400482">,</span>&nbsp;<span class="ident" id="4400484">nil</span><br>
<span class="lineno"></span><span class="op" id="4400488">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4400491">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4400571">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4400646">func</span>&nbsp;<span class="ident" id="4400651">Dump</span><span class="op" id="4400655">(</span><span class="ident" id="4400656">data</span>&nbsp;<span class="op" id="4400661">[</span><span class="op" id="4400662">]</span><span class="builtintype" id="4400663">byte</span><span class="op" id="4400667">)</span>&nbsp;<span class="builtintype" id="4400669">string</span>&nbsp;<span class="op" id="4400676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400679">var</span>&nbsp;<span class="ident" id="4400683">buf</span>&nbsp;<span class="ident" id="4400687">bytes</span><span class="op" id="4400692">.</span><span class="ident" id="4400693">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400701">dumper</span>&nbsp;<span class="op" id="4400708">:=</span>&nbsp;<span class="ident" id="4400711">Dumper</span><span class="op" id="4400717">(</span><span class="op" id="4400718">&amp;</span><span class="ident" id="4400719">buf</span><span class="op" id="4400722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400725">dumper</span><span class="op" id="4400731">.</span><span class="ident" id="4400732">Write</span><span class="op" id="4400737">(</span><span class="ident" id="4400738">data</span><span class="op" id="4400742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400745">dumper</span><span class="op" id="4400751">.</span><span class="ident" id="4400752">Close</span><span class="op" id="4400757">(</span><span class="op" id="4400758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400761">return</span>&nbsp;<span class="builtintype" id="4400768">string</span><span class="op" id="4400774">(</span><span class="ident" id="4400775">buf</span><span class="op" id="4400778">.</span><span class="ident" id="4400779">Bytes</span><span class="op" id="4400784">(</span><span class="op" id="4400785">)</span><span class="op" id="4400786">)</span><br>
<span class="lineno"></span><span class="op" id="4400788">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4400791">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4400869">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="4400948">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4400957">func</span>&nbsp;<span class="ident" id="4400962">Dumper</span><span class="op" id="4400968">(</span><span class="ident" id="4400969">w</span>&nbsp;<span class="ident" id="4400971">io</span><span class="op" id="4400973">.</span><span class="ident" id="4400974">Writer</span><span class="op" id="4400980">)</span>&nbsp;<span class="ident" id="4400982">io</span><span class="op" id="4400984">.</span><span class="ident" id="4400985">WriteCloser</span>&nbsp;<span class="op" id="4400997">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401000">return</span>&nbsp;<span class="op" id="4401007">&amp;</span><span class="ident" id="4401008">dumper</span><span class="op" id="4401014">{</span><span class="ident" id="4401015">w</span><span class="op" id="4401016">:</span>&nbsp;<span class="ident" id="4401018">w</span><span class="op" id="4401019">}</span><br>
<span class="lineno"></span><span class="op" id="4401021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4401024">type</span>&nbsp;<span class="ident" id="4401029">dumper</span>&nbsp;<span class="keyword" id="4401036">struct</span>&nbsp;<span class="op" id="4401043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401046">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4401057">io</span><span class="op" id="4401059">.</span><span class="ident" id="4401060">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401068">rightChars</span>&nbsp;<span class="op" id="4401079">[</span><span class="num" id="4401080">18</span><span class="op" id="4401082">]</span><span class="builtintype" id="4401083">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401089">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4401100">[</span><span class="num" id="4401101">14</span><span class="op" id="4401103">]</span><span class="builtintype" id="4401104">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401110">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4401121">int</span>&nbsp;&nbsp;<span class="comment" id="4401126">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401166">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4401177">uint</span>&nbsp;<span class="comment" id="4401182">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="4401208">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="4401211">func</span>&nbsp;<span class="ident" id="4401216">toChar</span><span class="op" id="4401222">(</span><span class="ident" id="4401223">b</span>&nbsp;<span class="builtintype" id="4401225">byte</span><span class="op" id="4401229">)</span>&nbsp;<span class="builtintype" id="4401231">byte</span>&nbsp;<span class="op" id="4401236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401239">if</span>&nbsp;<span class="ident" id="4401242">b</span>&nbsp;<span class="op" id="4401244">&lt;</span>&nbsp;<span class="num" id="4401246">32</span>&nbsp;<span class="op" id="4401249">||</span>&nbsp;<span class="ident" id="4401252">b</span>&nbsp;<span class="op" id="4401254">&gt;</span>&nbsp;<span class="num" id="4401256">126</span>&nbsp;<span class="op" id="4401260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401264">return</span>&nbsp;<span class="string" id="4401271">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401276">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401279">return</span>&nbsp;<span class="ident" id="4401286">b</span><br>
<span class="lineno"></span><span class="op" id="4401288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4401291">func</span>&nbsp;<span class="op" id="4401296">(</span><span class="ident" id="4401297">h</span>&nbsp;<span class="op" id="4401299">*</span><span class="ident" id="4401300">dumper</span><span class="op" id="4401306">)</span>&nbsp;<span class="ident" id="4401308">Write</span><span class="op" id="4401313">(</span><span class="ident" id="4401314">data</span>&nbsp;<span class="op" id="4401319">[</span><span class="op" id="4401320">]</span><span class="builtintype" id="4401321">byte</span><span class="op" id="4401325">)</span>&nbsp;<span class="op" id="4401327">(</span><span class="ident" id="4401328">n</span>&nbsp;<span class="builtintype" id="4401330">int</span><span class="op" id="4401333">,</span>&nbsp;<span class="ident" id="4401335">err</span>&nbsp;<span class="builtintype" id="4401339">error</span><span class="op" id="4401344">)</span>&nbsp;<span class="op" id="4401346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401349">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401377">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401460">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401542">for</span>&nbsp;<span class="ident" id="4401546">i</span>&nbsp;<span class="op" id="4401548">:=</span>&nbsp;<span class="keyword" id="4401551">range</span>&nbsp;<span class="ident" id="4401557">data</span>&nbsp;<span class="op" id="4401562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401566">if</span>&nbsp;<span class="ident" id="4401569">h</span><span class="op" id="4401570">.</span><span class="ident" id="4401571">used</span>&nbsp;<span class="op" id="4401576">==</span>&nbsp;<span class="num" id="4401579">0</span>&nbsp;<span class="op" id="4401581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401586">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401640">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401661">h</span><span class="op" id="4401662">.</span><span class="ident" id="4401663">buf</span><span class="op" id="4401666">[</span><span class="num" id="4401667">0</span><span class="op" id="4401668">]</span>&nbsp;<span class="op" id="4401670">=</span>&nbsp;<span class="builtintype" id="4401672">byte</span><span class="op" id="4401676">(</span><span class="ident" id="4401677">h</span><span class="op" id="4401678">.</span><span class="ident" id="4401679">n</span>&nbsp;<span class="op" id="4401681">&gt;&gt;</span>&nbsp;<span class="num" id="4401684">24</span><span class="op" id="4401686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401691">h</span><span class="op" id="4401692">.</span><span class="ident" id="4401693">buf</span><span class="op" id="4401696">[</span><span class="num" id="4401697">1</span><span class="op" id="4401698">]</span>&nbsp;<span class="op" id="4401700">=</span>&nbsp;<span class="builtintype" id="4401702">byte</span><span class="op" id="4401706">(</span><span class="ident" id="4401707">h</span><span class="op" id="4401708">.</span><span class="ident" id="4401709">n</span>&nbsp;<span class="op" id="4401711">&gt;&gt;</span>&nbsp;<span class="num" id="4401714">16</span><span class="op" id="4401716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401721">h</span><span class="op" id="4401722">.</span><span class="ident" id="4401723">buf</span><span class="op" id="4401726">[</span><span class="num" id="4401727">2</span><span class="op" id="4401728">]</span>&nbsp;<span class="op" id="4401730">=</span>&nbsp;<span class="builtintype" id="4401732">byte</span><span class="op" id="4401736">(</span><span class="ident" id="4401737">h</span><span class="op" id="4401738">.</span><span class="ident" id="4401739">n</span>&nbsp;<span class="op" id="4401741">&gt;&gt;</span>&nbsp;<span class="num" id="4401744">8</span><span class="op" id="4401745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401750">h</span><span class="op" id="4401751">.</span><span class="ident" id="4401752">buf</span><span class="op" id="4401755">[</span><span class="num" id="4401756">3</span><span class="op" id="4401757">]</span>&nbsp;<span class="op" id="4401759">=</span>&nbsp;<span class="builtintype" id="4401761">byte</span><span class="op" id="4401765">(</span><span class="ident" id="4401766">h</span><span class="op" id="4401767">.</span><span class="ident" id="4401768">n</span><span class="op" id="4401769">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401774">Encode</span><span class="op" id="4401780">(</span><span class="ident" id="4401781">h</span><span class="op" id="4401782">.</span><span class="ident" id="4401783">buf</span><span class="op" id="4401786">[</span><span class="num" id="4401787">4</span><span class="op" id="4401788">:</span><span class="op" id="4401789">]</span><span class="op" id="4401790">,</span>&nbsp;<span class="ident" id="4401792">h</span><span class="op" id="4401793">.</span><span class="ident" id="4401794">buf</span><span class="op" id="4401797">[</span><span class="op" id="4401798">:</span><span class="num" id="4401799">4</span><span class="op" id="4401800">]</span><span class="op" id="4401801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401806">h</span><span class="op" id="4401807">.</span><span class="ident" id="4401808">buf</span><span class="op" id="4401811">[</span><span class="num" id="4401812">12</span><span class="op" id="4401814">]</span>&nbsp;<span class="op" id="4401816">=</span>&nbsp;<span class="string" id="4401818">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401825">h</span><span class="op" id="4401826">.</span><span class="ident" id="4401827">buf</span><span class="op" id="4401830">[</span><span class="num" id="4401831">13</span><span class="op" id="4401833">]</span>&nbsp;<span class="op" id="4401835">=</span>&nbsp;<span class="string" id="4401837">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401844">_</span><span class="op" id="4401845">,</span>&nbsp;<span class="ident" id="4401847">err</span>&nbsp;<span class="op" id="4401851">=</span>&nbsp;<span class="ident" id="4401853">h</span><span class="op" id="4401854">.</span><span class="ident" id="4401855">w</span><span class="op" id="4401856">.</span><span class="ident" id="4401857">Write</span><span class="op" id="4401862">(</span><span class="ident" id="4401863">h</span><span class="op" id="4401864">.</span><span class="ident" id="4401865">buf</span><span class="op" id="4401868">[</span><span class="num" id="4401869">4</span><span class="op" id="4401870">:</span><span class="op" id="4401871">]</span><span class="op" id="4401872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401877">if</span>&nbsp;<span class="ident" id="4401880">err</span>&nbsp;<span class="op" id="4401884">!=</span>&nbsp;<span class="ident" id="4401887">nil</span>&nbsp;<span class="op" id="4401891">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401897">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401915">Encode</span><span class="op" id="4401921">(</span><span class="ident" id="4401922">h</span><span class="op" id="4401923">.</span><span class="ident" id="4401924">buf</span><span class="op" id="4401927">[</span><span class="op" id="4401928">:</span><span class="op" id="4401929">]</span><span class="op" id="4401930">,</span>&nbsp;<span class="ident" id="4401932">data</span><span class="op" id="4401936">[</span><span class="ident" id="4401937">i</span><span class="op" id="4401938">:</span><span class="ident" id="4401939">i</span><span class="op" id="4401940">+</span><span class="num" id="4401941">1</span><span class="op" id="4401942">]</span><span class="op" id="4401943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401947">h</span><span class="op" id="4401948">.</span><span class="ident" id="4401949">buf</span><span class="op" id="4401952">[</span><span class="num" id="4401953">2</span><span class="op" id="4401954">]</span>&nbsp;<span class="op" id="4401956">=</span>&nbsp;<span class="string" id="4401958">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401964">l</span>&nbsp;<span class="op" id="4401966">:=</span>&nbsp;<span class="num" id="4401969">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401973">if</span>&nbsp;<span class="ident" id="4401976">h</span><span class="op" id="4401977">.</span><span class="ident" id="4401978">used</span>&nbsp;<span class="op" id="4401983">==</span>&nbsp;<span class="num" id="4401986">7</span>&nbsp;<span class="op" id="4401988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401993">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402047">h</span><span class="op" id="4402048">.</span><span class="ident" id="4402049">buf</span><span class="op" id="4402052">[</span><span class="num" id="4402053">3</span><span class="op" id="4402054">]</span>&nbsp;<span class="op" id="4402056">=</span>&nbsp;<span class="string" id="4402058">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402065">l</span>&nbsp;<span class="op" id="4402067">=</span>&nbsp;<span class="num" id="4402069">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402073">}</span>&nbsp;<span class="keyword" id="4402075">else</span>&nbsp;<span class="keyword" id="4402080">if</span>&nbsp;<span class="ident" id="4402083">h</span><span class="op" id="4402084">.</span><span class="ident" id="4402085">used</span>&nbsp;<span class="op" id="4402090">==</span>&nbsp;<span class="num" id="4402093">15</span>&nbsp;<span class="op" id="4402096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4402101">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4402157">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402193">h</span><span class="op" id="4402194">.</span><span class="ident" id="4402195">buf</span><span class="op" id="4402198">[</span><span class="num" id="4402199">3</span><span class="op" id="4402200">]</span>&nbsp;<span class="op" id="4402202">=</span>&nbsp;<span class="string" id="4402204">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402211">h</span><span class="op" id="4402212">.</span><span class="ident" id="4402213">buf</span><span class="op" id="4402216">[</span><span class="num" id="4402217">4</span><span class="op" id="4402218">]</span>&nbsp;<span class="op" id="4402220">=</span>&nbsp;<span class="string" id="4402222">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402229">l</span>&nbsp;<span class="op" id="4402231">=</span>&nbsp;<span class="num" id="4402233">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402241">_</span><span class="op" id="4402242">,</span>&nbsp;<span class="ident" id="4402244">err</span>&nbsp;<span class="op" id="4402248">=</span>&nbsp;<span class="ident" id="4402250">h</span><span class="op" id="4402251">.</span><span class="ident" id="4402252">w</span><span class="op" id="4402253">.</span><span class="ident" id="4402254">Write</span><span class="op" id="4402259">(</span><span class="ident" id="4402260">h</span><span class="op" id="4402261">.</span><span class="ident" id="4402262">buf</span><span class="op" id="4402265">[</span><span class="op" id="4402266">:</span><span class="ident" id="4402267">l</span><span class="op" id="4402268">]</span><span class="op" id="4402269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402273">if</span>&nbsp;<span class="ident" id="4402276">err</span>&nbsp;<span class="op" id="4402280">!=</span>&nbsp;<span class="ident" id="4402283">nil</span>&nbsp;<span class="op" id="4402287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402292">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402305">n</span><span class="op" id="4402306">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402311">h</span><span class="op" id="4402312">.</span><span class="ident" id="4402313">rightChars</span><span class="op" id="4402323">[</span><span class="ident" id="4402324">h</span><span class="op" id="4402325">.</span><span class="ident" id="4402326">used</span><span class="op" id="4402330">]</span>&nbsp;<span class="op" id="4402332">=</span>&nbsp;<span class="ident" id="4402334">toChar</span><span class="op" id="4402340">(</span><span class="ident" id="4402341">data</span><span class="op" id="4402345">[</span><span class="ident" id="4402346">i</span><span class="op" id="4402347">]</span><span class="op" id="4402348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402352">h</span><span class="op" id="4402353">.</span><span class="ident" id="4402354">used</span><span class="op" id="4402358">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402363">h</span><span class="op" id="4402364">.</span><span class="ident" id="4402365">n</span><span class="op" id="4402366">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402371">if</span>&nbsp;<span class="ident" id="4402374">h</span><span class="op" id="4402375">.</span><span class="ident" id="4402376">used</span>&nbsp;<span class="op" id="4402381">==</span>&nbsp;<span class="num" id="4402384">16</span>&nbsp;<span class="op" id="4402387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402392">h</span><span class="op" id="4402393">.</span><span class="ident" id="4402394">rightChars</span><span class="op" id="4402404">[</span><span class="num" id="4402405">16</span><span class="op" id="4402407">]</span>&nbsp;<span class="op" id="4402409">=</span>&nbsp;<span class="string" id="4402411">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402418">h</span><span class="op" id="4402419">.</span><span class="ident" id="4402420">rightChars</span><span class="op" id="4402430">[</span><span class="num" id="4402431">17</span><span class="op" id="4402433">]</span>&nbsp;<span class="op" id="4402435">=</span>&nbsp;<span class="string" id="4402437">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402445">_</span><span class="op" id="4402446">,</span>&nbsp;<span class="ident" id="4402448">err</span>&nbsp;<span class="op" id="4402452">=</span>&nbsp;<span class="ident" id="4402454">h</span><span class="op" id="4402455">.</span><span class="ident" id="4402456">w</span><span class="op" id="4402457">.</span><span class="ident" id="4402458">Write</span><span class="op" id="4402463">(</span><span class="ident" id="4402464">h</span><span class="op" id="4402465">.</span><span class="ident" id="4402466">rightChars</span><span class="op" id="4402476">[</span><span class="op" id="4402477">:</span><span class="op" id="4402478">]</span><span class="op" id="4402479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402484">if</span>&nbsp;<span class="ident" id="4402487">err</span>&nbsp;<span class="op" id="4402491">!=</span>&nbsp;<span class="ident" id="4402494">nil</span>&nbsp;<span class="op" id="4402498">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402504">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402519">h</span><span class="op" id="4402520">.</span><span class="ident" id="4402521">used</span>&nbsp;<span class="op" id="4402526">=</span>&nbsp;<span class="num" id="4402528">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402535">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402538">return</span><br>
<span class="lineno"></span><span class="op" id="4402545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4402548">func</span>&nbsp;<span class="op" id="4402553">(</span><span class="ident" id="4402554">h</span>&nbsp;<span class="op" id="4402556">*</span><span class="ident" id="4402557">dumper</span><span class="op" id="4402563">)</span>&nbsp;<span class="ident" id="4402565">Close</span><span class="op" id="4402570">(</span><span class="op" id="4402571">)</span>&nbsp;<span class="op" id="4402573">(</span><span class="ident" id="4402574">err</span>&nbsp;<span class="builtintype" id="4402578">error</span><span class="op" id="4402583">)</span>&nbsp;<span class="op" id="4402585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4402588">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402652">if</span>&nbsp;<span class="ident" id="4402655">h</span><span class="op" id="4402656">.</span><span class="ident" id="4402657">used</span>&nbsp;<span class="op" id="4402662">==</span>&nbsp;<span class="num" id="4402665">0</span>&nbsp;<span class="op" id="4402667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402671">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402682">h</span><span class="op" id="4402683">.</span><span class="ident" id="4402684">buf</span><span class="op" id="4402687">[</span><span class="num" id="4402688">0</span><span class="op" id="4402689">]</span>&nbsp;<span class="op" id="4402691">=</span>&nbsp;<span class="string" id="4402693">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402698">h</span><span class="op" id="4402699">.</span><span class="ident" id="4402700">buf</span><span class="op" id="4402703">[</span><span class="num" id="4402704">1</span><span class="op" id="4402705">]</span>&nbsp;<span class="op" id="4402707">=</span>&nbsp;<span class="string" id="4402709">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402714">h</span><span class="op" id="4402715">.</span><span class="ident" id="4402716">buf</span><span class="op" id="4402719">[</span><span class="num" id="4402720">2</span><span class="op" id="4402721">]</span>&nbsp;<span class="op" id="4402723">=</span>&nbsp;<span class="string" id="4402725">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402730">h</span><span class="op" id="4402731">.</span><span class="ident" id="4402732">buf</span><span class="op" id="4402735">[</span><span class="num" id="4402736">3</span><span class="op" id="4402737">]</span>&nbsp;<span class="op" id="4402739">=</span>&nbsp;<span class="string" id="4402741">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402746">h</span><span class="op" id="4402747">.</span><span class="ident" id="4402748">buf</span><span class="op" id="4402751">[</span><span class="num" id="4402752">4</span><span class="op" id="4402753">]</span>&nbsp;<span class="op" id="4402755">=</span>&nbsp;<span class="string" id="4402757">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402762">nBytes</span>&nbsp;<span class="op" id="4402769">:=</span>&nbsp;<span class="ident" id="4402772">h</span><span class="op" id="4402773">.</span><span class="ident" id="4402774">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402780">for</span>&nbsp;<span class="ident" id="4402784">h</span><span class="op" id="4402785">.</span><span class="ident" id="4402786">used</span>&nbsp;<span class="op" id="4402791">&lt;</span>&nbsp;<span class="num" id="4402793">16</span>&nbsp;<span class="op" id="4402796">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402800">l</span>&nbsp;<span class="op" id="4402802">:=</span>&nbsp;<span class="num" id="4402805">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402809">if</span>&nbsp;<span class="ident" id="4402812">h</span><span class="op" id="4402813">.</span><span class="ident" id="4402814">used</span>&nbsp;<span class="op" id="4402819">==</span>&nbsp;<span class="num" id="4402822">7</span>&nbsp;<span class="op" id="4402824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402829">l</span>&nbsp;<span class="op" id="4402831">=</span>&nbsp;<span class="num" id="4402833">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402837">}</span>&nbsp;<span class="keyword" id="4402839">else</span>&nbsp;<span class="keyword" id="4402844">if</span>&nbsp;<span class="ident" id="4402847">h</span><span class="op" id="4402848">.</span><span class="ident" id="4402849">used</span>&nbsp;<span class="op" id="4402854">==</span>&nbsp;<span class="num" id="4402857">15</span>&nbsp;<span class="op" id="4402860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402865">l</span>&nbsp;<span class="op" id="4402867">=</span>&nbsp;<span class="num" id="4402869">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402877">_</span><span class="op" id="4402878">,</span>&nbsp;<span class="ident" id="4402880">err</span>&nbsp;<span class="op" id="4402884">=</span>&nbsp;<span class="ident" id="4402886">h</span><span class="op" id="4402887">.</span><span class="ident" id="4402888">w</span><span class="op" id="4402889">.</span><span class="ident" id="4402890">Write</span><span class="op" id="4402895">(</span><span class="ident" id="4402896">h</span><span class="op" id="4402897">.</span><span class="ident" id="4402898">buf</span><span class="op" id="4402901">[</span><span class="op" id="4402902">:</span><span class="ident" id="4402903">l</span><span class="op" id="4402904">]</span><span class="op" id="4402905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402909">if</span>&nbsp;<span class="ident" id="4402912">err</span>&nbsp;<span class="op" id="4402916">!=</span>&nbsp;<span class="ident" id="4402919">nil</span>&nbsp;<span class="op" id="4402923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402928">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402937">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402941">h</span><span class="op" id="4402942">.</span><span class="ident" id="4402943">used</span><span class="op" id="4402947">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402954">h</span><span class="op" id="4402955">.</span><span class="ident" id="4402956">rightChars</span><span class="op" id="4402966">[</span><span class="ident" id="4402967">nBytes</span><span class="op" id="4402973">]</span>&nbsp;<span class="op" id="4402975">=</span>&nbsp;<span class="string" id="4402977">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402982">h</span><span class="op" id="4402983">.</span><span class="ident" id="4402984">rightChars</span><span class="op" id="4402994">[</span><span class="ident" id="4402995">nBytes</span><span class="op" id="4403001">+</span><span class="num" id="4403002">1</span><span class="op" id="4403003">]</span>&nbsp;<span class="op" id="4403005">=</span>&nbsp;<span class="string" id="4403007">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403013">_</span><span class="op" id="4403014">,</span>&nbsp;<span class="ident" id="4403016">err</span>&nbsp;<span class="op" id="4403020">=</span>&nbsp;<span class="ident" id="4403022">h</span><span class="op" id="4403023">.</span><span class="ident" id="4403024">w</span><span class="op" id="4403025">.</span><span class="ident" id="4403026">Write</span><span class="op" id="4403031">(</span><span class="ident" id="4403032">h</span><span class="op" id="4403033">.</span><span class="ident" id="4403034">rightChars</span><span class="op" id="4403044">[</span><span class="op" id="4403045">:</span><span class="ident" id="4403046">nBytes</span><span class="op" id="4403052">+</span><span class="num" id="4403053">2</span><span class="op" id="4403054">]</span><span class="op" id="4403055">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4403058">return</span><br>
<span class="lineno"></span><span class="op" id="4403065">}</span>
</div>
</body>
</html>
