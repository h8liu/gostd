<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="7523288">package</span>&nbsp;<span class="ident" id="7523296">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7523303">import</span>&nbsp;<span class="op" id="7523310">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7523313">&#34;testing&#34;</span><br>
<span class="lineno">5</span><span class="op" id="7523323">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7523326">func</span>&nbsp;<span class="ident" id="7523331">TestPageTable</span><span class="op" id="7523344">(</span><span class="ident" id="7523345">t</span>&nbsp;<span class="op" id="7523347">*</span><span class="ident" id="7523348"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523313">testing</a></span><span class="op" id="7523355">.</span><span class="ident" id="7523356">T</span><span class="op" id="7523357">)</span>&nbsp;<span class="op" id="7523359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523362">ne</span>&nbsp;<span class="op" id="7523365">:=</span>&nbsp;<span class="keyword" id="7523368">func</span><span class="op" id="7523372">(</span><span class="ident" id="7523373">e</span>&nbsp;<span class="op" id="7523375">*</span><span class="ident" id="7523376"><a href="/lonnie.io/e8vm/arch8/exception.go.html#5290324">Excep</a></span><span class="op" id="7523381">)</span>&nbsp;<span class="op" id="7523383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7523387">if</span>&nbsp;<span class="ident" id="7523390"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523373">e</a></span>&nbsp;<span class="op" id="7523392">!=</span>&nbsp;<span class="ident" id="7523395">nil</span>&nbsp;<span class="op" id="7523399">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523404"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523345">t</a></span><span class="op" id="7523405">.</span><span class="ident" id="7523406">Fatal</span><span class="op" id="7523411">(</span><span class="ident" id="7523412"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523373">e</a></span><span class="op" id="7523413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7523417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7523420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523424">as</span>&nbsp;<span class="op" id="7523427">:=</span>&nbsp;<span class="keyword" id="7523430">func</span><span class="op" id="7523434">(</span><span class="ident" id="7523435">cond</span>&nbsp;<span class="builtintype" id="7523440">bool</span><span class="op" id="7523444">)</span>&nbsp;<span class="op" id="7523446">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7523450">if</span>&nbsp;<span class="op" id="7523453">!</span><span class="ident" id="7523454"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523435">cond</a></span>&nbsp;<span class="op" id="7523459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523464"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523345">t</a></span><span class="op" id="7523465">.</span><span class="ident" id="7523466">Fail</span><span class="op" id="7523470">(</span><span class="op" id="7523471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7523475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7523478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523482">m</span>&nbsp;<span class="op" id="7523484">:=</span>&nbsp;<span class="ident" id="7523487"><a href="/lonnie.io/e8vm/arch8/phy_memory.go.html#5309431">newPhyMemory</a></span><span class="op" id="7523499">(</span><span class="num" id="7523500">4096</span>&nbsp;<span class="op" id="7523505">*</span>&nbsp;<span class="ident" id="7523507"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span><span class="op" id="7523515">)</span>&nbsp;<span class="comment" id="7523517">//&nbsp;4&nbsp;2nd&nbsp;level&nbsp;entries</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523542">p8</span>&nbsp;<span class="op" id="7523545">:=</span>&nbsp;<span class="ident" id="7523548"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523482">m</a></span><span class="op" id="7523549">.</span><span class="ident" id="7523550">Page</span><span class="op" id="7523554">(</span><span class="num" id="7523555">8</span><span class="op" id="7523556">)</span>&nbsp;<span class="comment" id="7523558">//&nbsp;page&nbsp;eight</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523573">p9</span>&nbsp;<span class="op" id="7523576">:=</span>&nbsp;<span class="ident" id="7523579"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523482">m</a></span><span class="op" id="7523580">.</span><span class="ident" id="7523581">Page</span><span class="op" id="7523585">(</span><span class="num" id="7523586">9</span><span class="op" id="7523587">)</span>&nbsp;<span class="comment" id="7523589">//&nbsp;page&nbsp;nine</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523604">pte1</span>&nbsp;<span class="op" id="7523609">:=</span>&nbsp;<span class="ident" id="7523612"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5306743">ptEntry</a></span><span class="op" id="7523619">(</span><span class="num" id="7523620">0x9000</span><span class="op" id="7523626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523629"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523604">pte1</a></span><span class="op" id="7523633">.</span><span class="ident" id="7523634">setBit</span><span class="op" id="7523640">(</span><span class="ident" id="7523641"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5306768">pteValid</a></span><span class="op" id="7523649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523652"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523542">p8</a></span><span class="op" id="7523654">.</span><span class="ident" id="7523655">WriteWord</span><span class="op" id="7523664">(</span><span class="num" id="7523665">0</span><span class="op" id="7523666">,</span>&nbsp;<span class="builtintype" id="7523668">uint32</span><span class="op" id="7523674">(</span><span class="ident" id="7523675"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523604">pte1</a></span><span class="op" id="7523679">)</span><span class="op" id="7523680">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523684">pte2</span>&nbsp;<span class="op" id="7523689">:=</span>&nbsp;<span class="ident" id="7523692"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5306743">ptEntry</a></span><span class="op" id="7523699">(</span><span class="num" id="7523700">0xa000</span><span class="op" id="7523706">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523709"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523684">pte2</a></span><span class="op" id="7523713">.</span><span class="ident" id="7523714">setBit</span><span class="op" id="7523720">(</span><span class="ident" id="7523721"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5306768">pteValid</a></span><span class="op" id="7523729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7523732">for</span>&nbsp;<span class="ident" id="7523736">i</span>&nbsp;<span class="op" id="7523738">:=</span>&nbsp;<span class="builtintype" id="7523741">uint32</span><span class="op" id="7523747">(</span><span class="num" id="7523748">0</span><span class="op" id="7523749">)</span><span class="op" id="7523750">;</span>&nbsp;<span class="ident" id="7523752"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523736">i</a></span>&nbsp;<span class="op" id="7523754">&lt;</span>&nbsp;<span class="num" id="7523756">512</span><span class="op" id="7523759">;</span>&nbsp;<span class="ident" id="7523761"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523736">i</a></span><span class="op" id="7523762">++</span>&nbsp;<span class="op" id="7523765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7523769">//&nbsp;map&nbsp;all&nbsp;pages&nbsp;from&nbsp;0&nbsp;to&nbsp;1023&nbsp;to&nbsp;page&nbsp;10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523814"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523573">p9</a></span><span class="op" id="7523816">.</span><span class="ident" id="7523817">WriteWord</span><span class="op" id="7523826">(</span><span class="ident" id="7523827"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523736">i</a></span><span class="op" id="7523828">*</span><span class="num" id="7523829">4</span><span class="op" id="7523830">,</span>&nbsp;<span class="builtintype" id="7523832">uint32</span><span class="op" id="7523838">(</span><span class="ident" id="7523839"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523684">pte2</a></span><span class="op" id="7523843">)</span><span class="op" id="7523844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7523847">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523851">pt</span>&nbsp;<span class="op" id="7523854">:=</span>&nbsp;<span class="ident" id="7523857"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5306474">newPageTable</a></span><span class="op" id="7523869">(</span><span class="ident" id="7523870"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523482">m</a></span><span class="op" id="7523871">,</span>&nbsp;<span class="num" id="7523873">0x8000</span><span class="op" id="7523879">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7523883">for</span>&nbsp;<span class="ident" id="7523887">i</span>&nbsp;<span class="op" id="7523889">:=</span>&nbsp;<span class="builtintype" id="7523892">uint32</span><span class="op" id="7523898">(</span><span class="num" id="7523899">0</span><span class="op" id="7523900">)</span><span class="op" id="7523901">;</span>&nbsp;<span class="ident" id="7523903"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523887">i</a></span>&nbsp;<span class="op" id="7523905">&lt;</span>&nbsp;<span class="num" id="7523907">512</span><span class="op" id="7523910">;</span>&nbsp;<span class="ident" id="7523912"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523887">i</a></span><span class="op" id="7523913">++</span>&nbsp;<span class="op" id="7523916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523920">ret</span><span class="op" id="7523923">,</span>&nbsp;<span class="ident" id="7523925">e</span>&nbsp;<span class="op" id="7523927">:=</span>&nbsp;<span class="ident" id="7523930"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523851">pt</a></span><span class="op" id="7523932">.</span><span class="ident" id="7523933">Translate</span><span class="op" id="7523942">(</span><span class="ident" id="7523943"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523887">i</a></span><span class="op" id="7523944">*</span><span class="num" id="7523945">0x1000</span><span class="op" id="7523951">+</span><span class="num" id="7523952">0x341</span><span class="op" id="7523957">,</span>&nbsp;<span class="num" id="7523959">0</span><span class="op" id="7523960">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523964"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523362">ne</a></span><span class="op" id="7523966">(</span><span class="ident" id="7523967"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523925">e</a></span><span class="op" id="7523968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7523972"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7523974">(</span><span class="ident" id="7523975"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523920">ret</a></span>&nbsp;<span class="op" id="7523979">==</span>&nbsp;<span class="num" id="7523982">0xa341</span><span class="op" id="7523988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7523991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7523995">for</span>&nbsp;<span class="ident" id="7523999">i</span>&nbsp;<span class="op" id="7524001">:=</span>&nbsp;<span class="builtintype" id="7524004">uint32</span><span class="op" id="7524010">(</span><span class="num" id="7524011">512</span><span class="op" id="7524014">)</span><span class="op" id="7524015">;</span>&nbsp;<span class="ident" id="7524017"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523999">i</a></span>&nbsp;<span class="op" id="7524019">&lt;</span>&nbsp;<span class="num" id="7524021">2048</span><span class="op" id="7524025">;</span>&nbsp;<span class="ident" id="7524027"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523999">i</a></span><span class="op" id="7524028">++</span>&nbsp;<span class="op" id="7524031">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524035">ret</span><span class="op" id="7524038">,</span>&nbsp;<span class="ident" id="7524040">e</span>&nbsp;<span class="op" id="7524042">:=</span>&nbsp;<span class="ident" id="7524045"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523851">pt</a></span><span class="op" id="7524047">.</span><span class="ident" id="7524048">Translate</span><span class="op" id="7524057">(</span><span class="ident" id="7524058"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523999">i</a></span><span class="op" id="7524059">*</span><span class="num" id="7524060">0x1000</span><span class="op" id="7524066">,</span>&nbsp;<span class="num" id="7524068">0</span><span class="op" id="7524069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524073"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7524075">(</span><span class="ident" id="7524076"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524035">ret</a></span>&nbsp;<span class="op" id="7524080">==</span>&nbsp;<span class="num" id="7524083">0</span><span class="op" id="7524084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524088"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7524090">(</span><span class="ident" id="7524091"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524040">e</a></span><span class="op" id="7524092">.</span><span class="ident" id="7524093">Code</span>&nbsp;<span class="op" id="7524098">==</span>&nbsp;<span class="ident" id="7524101"><a href="/lonnie.io/e8vm/arch8/exception.go.html#5290755">ErrPageFault</a></span><span class="op" id="7524113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7524116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524120">addr</span>&nbsp;<span class="op" id="7524125">:=</span>&nbsp;<span class="builtintype" id="7524128">uint32</span><span class="op" id="7524134">(</span><span class="num" id="7524135">3</span><span class="op" id="7524136">*</span><span class="ident" id="7524137"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7524146">+</span>&nbsp;<span class="num" id="7524148">0x23</span><span class="op" id="7524152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524155">_</span><span class="op" id="7524156">,</span>&nbsp;<span class="ident" id="7524158">e</span>&nbsp;<span class="op" id="7524160">:=</span>&nbsp;<span class="ident" id="7524163"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523851">pt</a></span><span class="op" id="7524165">.</span><span class="ident" id="7524166">TranslateRead</span><span class="op" id="7524179">(</span><span class="ident" id="7524180"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524120">addr</a></span><span class="op" id="7524184">,</span>&nbsp;<span class="num" id="7524186">0</span><span class="op" id="7524187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524190"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7524192">(</span><span class="ident" id="7524193"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524158">e</a></span>&nbsp;<span class="op" id="7524195">==</span>&nbsp;<span class="ident" id="7524198">nil</span><span class="op" id="7524201">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524205"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523684">pte2</a></span><span class="op" id="7524209">.</span><span class="ident" id="7524210">setBit</span><span class="op" id="7524216">(</span><span class="ident" id="7524217"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5306785">pteReadonly</a></span><span class="op" id="7524228">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524231"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523573">p9</a></span><span class="op" id="7524233">.</span><span class="ident" id="7524234">WriteWord</span><span class="op" id="7524243">(</span><span class="num" id="7524244">3</span><span class="op" id="7524245">*</span><span class="num" id="7524246">4</span><span class="op" id="7524247">,</span>&nbsp;<span class="builtintype" id="7524249">uint32</span><span class="op" id="7524255">(</span><span class="ident" id="7524256"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523684">pte2</a></span><span class="op" id="7524260">)</span><span class="op" id="7524261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524264">_</span><span class="op" id="7524265">,</span>&nbsp;<span class="ident" id="7524267"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524158">e</a></span>&nbsp;<span class="op" id="7524269">=</span>&nbsp;<span class="ident" id="7524271"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523851">pt</a></span><span class="op" id="7524273">.</span><span class="ident" id="7524274">TranslateRead</span><span class="op" id="7524287">(</span><span class="ident" id="7524288"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524120">addr</a></span><span class="op" id="7524292">,</span>&nbsp;<span class="num" id="7524294">0</span><span class="op" id="7524295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524298"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7524300">(</span><span class="ident" id="7524301"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524158">e</a></span>&nbsp;<span class="op" id="7524303">==</span>&nbsp;<span class="ident" id="7524306">nil</span><span class="op" id="7524309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524312">_</span><span class="op" id="7524313">,</span>&nbsp;<span class="ident" id="7524315"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524158">e</a></span>&nbsp;<span class="op" id="7524317">=</span>&nbsp;<span class="ident" id="7524319"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523851">pt</a></span><span class="op" id="7524321">.</span><span class="ident" id="7524322">TranslateWrite</span><span class="op" id="7524336">(</span><span class="ident" id="7524337"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524120">addr</a></span><span class="op" id="7524341">,</span>&nbsp;<span class="num" id="7524343">0</span><span class="op" id="7524344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524347"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7524349">(</span><span class="ident" id="7524350"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524158">e</a></span><span class="op" id="7524351">.</span><span class="ident" id="7524352">Code</span>&nbsp;<span class="op" id="7524357">==</span>&nbsp;<span class="ident" id="7524360"><a href="/lonnie.io/e8vm/arch8/exception.go.html#5290776">ErrPageReadonly</a></span><span class="op" id="7524375">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524379">w</span>&nbsp;<span class="op" id="7524381">:=</span>&nbsp;<span class="ident" id="7524384"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523573">p9</a></span><span class="op" id="7524386">.</span><span class="ident" id="7524387">ReadWord</span><span class="op" id="7524395">(</span><span class="num" id="7524396">3</span>&nbsp;<span class="op" id="7524398">*</span>&nbsp;<span class="num" id="7524400">4</span><span class="op" id="7524401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524404"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7524406">(</span><span class="op" id="7524407">(</span><span class="ident" id="7524408"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524379">w</a></span>&nbsp;<span class="op" id="7524410">&amp;</span>&nbsp;<span class="op" id="7524412">(</span><span class="num" id="7524413">0x1</span>&nbsp;<span class="op" id="7524417">&lt;&lt;</span>&nbsp;<span class="ident" id="7524420"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5306802">pteUse</a></span><span class="op" id="7524426">)</span><span class="op" id="7524427">)</span>&nbsp;<span class="op" id="7524429">!=</span>&nbsp;<span class="num" id="7524432">0</span><span class="op" id="7524433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524436"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7524438">(</span><span class="op" id="7524439">(</span><span class="ident" id="7524440"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524379">w</a></span>&nbsp;<span class="op" id="7524442">&amp;</span>&nbsp;<span class="op" id="7524444">(</span><span class="num" id="7524445">0x1</span>&nbsp;<span class="op" id="7524449">&lt;&lt;</span>&nbsp;<span class="ident" id="7524452"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5306819">pteDirty</a></span><span class="op" id="7524460">)</span><span class="op" id="7524461">)</span>&nbsp;<span class="op" id="7524463">==</span>&nbsp;<span class="num" id="7524466">0</span><span class="op" id="7524467">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524471"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524120">addr</a></span>&nbsp;<span class="op" id="7524476">+=</span>&nbsp;<span class="ident" id="7524479"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524489">_</span><span class="op" id="7524490">,</span>&nbsp;<span class="ident" id="7524492"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524158">e</a></span>&nbsp;<span class="op" id="7524494">=</span>&nbsp;<span class="ident" id="7524496"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523851">pt</a></span><span class="op" id="7524498">.</span><span class="ident" id="7524499">TranslateWrite</span><span class="op" id="7524513">(</span><span class="ident" id="7524514"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524120">addr</a></span><span class="op" id="7524518">,</span>&nbsp;<span class="num" id="7524520">0</span><span class="op" id="7524521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524524"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7524526">(</span><span class="ident" id="7524527"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524158">e</a></span>&nbsp;<span class="op" id="7524529">==</span>&nbsp;<span class="ident" id="7524532">nil</span><span class="op" id="7524535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524538"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524379">w</a></span>&nbsp;<span class="op" id="7524540">=</span>&nbsp;<span class="ident" id="7524542"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523573">p9</a></span><span class="op" id="7524544">.</span><span class="ident" id="7524545">ReadWord</span><span class="op" id="7524553">(</span><span class="num" id="7524554">4</span>&nbsp;<span class="op" id="7524556">*</span>&nbsp;<span class="num" id="7524558">4</span><span class="op" id="7524559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7524562"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7523424">as</a></span><span class="op" id="7524564">(</span><span class="op" id="7524565">(</span><span class="ident" id="7524566"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#7524379">w</a></span>&nbsp;<span class="op" id="7524568">&amp;</span>&nbsp;<span class="op" id="7524570">(</span><span class="num" id="7524571">0x1</span>&nbsp;<span class="op" id="7524575">&lt;&lt;</span>&nbsp;<span class="ident" id="7524578"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5306819">pteDirty</a></span><span class="op" id="7524586">)</span><span class="op" id="7524587">)</span>&nbsp;<span class="op" id="7524589">!=</span>&nbsp;<span class="num" id="7524592">0</span><span class="op" id="7524593">)</span><br>
<span class="lineno">70</span><span class="op" id="7524595">}</span>
</div>
</body>
</html>
