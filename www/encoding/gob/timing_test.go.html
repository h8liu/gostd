<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6889704">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6889759">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6889813">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6889864">package</span>&nbsp;<span class="ident" id="6889872">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889877">import</span>&nbsp;<span class="op" id="6889884">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6889887">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6889896">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6889902">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6889908">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6889919">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6889929">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6889932">type</span>&nbsp;<span class="ident" id="6889937">Bench</span>&nbsp;<span class="keyword" id="6889943">struct</span>&nbsp;<span class="op" id="6889950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889953">A</span>&nbsp;<span class="builtintype" id="6889955">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889960">B</span>&nbsp;<span class="builtintype" id="6889962">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889971">C</span>&nbsp;<span class="builtintype" id="6889973">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889981">D</span>&nbsp;<span class="op" id="6889983">[</span><span class="op" id="6889984">]</span><span class="builtintype" id="6889985">byte</span><br>
<span class="lineno">20</span><span class="op" id="6889990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889993">func</span>&nbsp;<span class="ident" id="6889998">benchmarkEndToEnd</span><span class="op" id="6890015">(</span><span class="ident" id="6890016">b</span>&nbsp;<span class="op" id="6890018">*</span><span class="ident" id="6890019"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6890026">.</span><span class="ident" id="6890027">B</span><span class="op" id="6890028">,</span>&nbsp;<span class="ident" id="6890030">ctor</span>&nbsp;<span class="keyword" id="6890035">func</span><span class="op" id="6890039">(</span><span class="op" id="6890040">)</span>&nbsp;<span class="keyword" id="6890042">interface</span><span class="op" id="6890051">{</span><span class="op" id="6890052">}</span><span class="op" id="6890053">,</span>&nbsp;<span class="ident" id="6890055">pipe</span>&nbsp;<span class="keyword" id="6890060">func</span><span class="op" id="6890064">(</span><span class="op" id="6890065">)</span>&nbsp;<span class="op" id="6890067">(</span><span class="ident" id="6890068">r</span>&nbsp;<span class="ident" id="6890070"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6890072">.</span><span class="ident" id="6890073">Reader</span><span class="op" id="6890079">,</span>&nbsp;<span class="ident" id="6890081">w</span>&nbsp;<span class="ident" id="6890083"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6890085">.</span><span class="ident" id="6890086">Writer</span><span class="op" id="6890092">,</span>&nbsp;<span class="ident" id="6890094">err</span>&nbsp;<span class="builtintype" id="6890098">error</span><span class="op" id="6890103">)</span><span class="op" id="6890104">)</span>&nbsp;<span class="op" id="6890106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890109"><a href="/encoding/gob/timing_test.go.html#6890016">b</a></span><span class="op" id="6890110">.</span><span class="ident" id="6890111">RunParallel</span><span class="op" id="6890122">(</span><span class="keyword" id="6890123">func</span><span class="op" id="6890127">(</span><span class="ident" id="6890128">pb</span>&nbsp;<span class="op" id="6890131">*</span><span class="ident" id="6890132"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6890139">.</span><span class="ident" id="6890140">PB</span><span class="op" id="6890142">)</span>&nbsp;<span class="op" id="6890144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890148">r</span><span class="op" id="6890149">,</span>&nbsp;<span class="ident" id="6890151">w</span><span class="op" id="6890152">,</span>&nbsp;<span class="ident" id="6890154">err</span>&nbsp;<span class="op" id="6890158">:=</span>&nbsp;<span class="ident" id="6890161"><a href="/encoding/gob/timing_test.go.html#6890055">pipe</a></span><span class="op" id="6890165">(</span><span class="op" id="6890166">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890170">if</span>&nbsp;<span class="ident" id="6890173"><a href="/encoding/gob/timing_test.go.html#6890154">err</a></span>&nbsp;<span class="op" id="6890177">!=</span>&nbsp;<span class="ident" id="6890180">nil</span>&nbsp;<span class="op" id="6890184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890189"><a href="/encoding/gob/timing_test.go.html#6890016">b</a></span><span class="op" id="6890190">.</span><span class="ident" id="6890191">Fatal</span><span class="op" id="6890196">(</span><span class="string" id="6890197">&#34;can&#39;t&nbsp;get&nbsp;pipe:&#34;</span><span class="op" id="6890214">,</span>&nbsp;<span class="ident" id="6890216"><a href="/encoding/gob/timing_test.go.html#6890154">err</a></span><span class="op" id="6890219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890227">v</span>&nbsp;<span class="op" id="6890229">:=</span>&nbsp;<span class="ident" id="6890232"><a href="/encoding/gob/timing_test.go.html#6890030">ctor</a></span><span class="op" id="6890236">(</span><span class="op" id="6890237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890241">enc</span>&nbsp;<span class="op" id="6890245">:=</span>&nbsp;<span class="ident" id="6890248"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6890258">(</span><span class="ident" id="6890259"><a href="/encoding/gob/timing_test.go.html#6890151">w</a></span><span class="op" id="6890260">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890264">dec</span>&nbsp;<span class="op" id="6890268">:=</span>&nbsp;<span class="ident" id="6890271"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6890281">(</span><span class="ident" id="6890282"><a href="/encoding/gob/timing_test.go.html#6890148">r</a></span><span class="op" id="6890283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890287">for</span>&nbsp;<span class="ident" id="6890291"><a href="/encoding/gob/timing_test.go.html#6890128">pb</a></span><span class="op" id="6890293">.</span><span class="ident" id="6890294">Next</span><span class="op" id="6890298">(</span><span class="op" id="6890299">)</span>&nbsp;<span class="op" id="6890301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890306">if</span>&nbsp;<span class="ident" id="6890309">err</span>&nbsp;<span class="op" id="6890313">:=</span>&nbsp;<span class="ident" id="6890316"><a href="/encoding/gob/timing_test.go.html#6890241">enc</a></span><span class="op" id="6890319">.</span><span class="ident" id="6890320">Encode</span><span class="op" id="6890326">(</span><span class="ident" id="6890327"><a href="/encoding/gob/timing_test.go.html#6890227">v</a></span><span class="op" id="6890328">)</span><span class="op" id="6890329">;</span>&nbsp;<span class="ident" id="6890331"><a href="/encoding/gob/timing_test.go.html#6890309">err</a></span>&nbsp;<span class="op" id="6890335">!=</span>&nbsp;<span class="ident" id="6890338">nil</span>&nbsp;<span class="op" id="6890342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890348"><a href="/encoding/gob/timing_test.go.html#6890016">b</a></span><span class="op" id="6890349">.</span><span class="ident" id="6890350">Fatal</span><span class="op" id="6890355">(</span><span class="string" id="6890356">&#34;encode&nbsp;error:&#34;</span><span class="op" id="6890371">,</span>&nbsp;<span class="ident" id="6890373"><a href="/encoding/gob/timing_test.go.html#6890309">err</a></span><span class="op" id="6890376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890381">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890386">if</span>&nbsp;<span class="ident" id="6890389">err</span>&nbsp;<span class="op" id="6890393">:=</span>&nbsp;<span class="ident" id="6890396"><a href="/encoding/gob/timing_test.go.html#6890264">dec</a></span><span class="op" id="6890399">.</span><span class="ident" id="6890400">Decode</span><span class="op" id="6890406">(</span><span class="ident" id="6890407"><a href="/encoding/gob/timing_test.go.html#6890227">v</a></span><span class="op" id="6890408">)</span><span class="op" id="6890409">;</span>&nbsp;<span class="ident" id="6890411"><a href="/encoding/gob/timing_test.go.html#6890389">err</a></span>&nbsp;<span class="op" id="6890415">!=</span>&nbsp;<span class="ident" id="6890418">nil</span>&nbsp;<span class="op" id="6890422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890428"><a href="/encoding/gob/timing_test.go.html#6890016">b</a></span><span class="op" id="6890429">.</span><span class="ident" id="6890430">Fatal</span><span class="op" id="6890435">(</span><span class="string" id="6890436">&#34;decode&nbsp;error:&#34;</span><span class="op" id="6890451">,</span>&nbsp;<span class="ident" id="6890453"><a href="/encoding/gob/timing_test.go.html#6890389">err</a></span><span class="op" id="6890456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890468">}</span><span class="op" id="6890469">)</span><br>
<span class="lineno">40</span><span class="op" id="6890471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6890474">func</span>&nbsp;<span class="ident" id="6890479">BenchmarkEndToEndPipe</span><span class="op" id="6890500">(</span><span class="ident" id="6890501">b</span>&nbsp;<span class="op" id="6890503">*</span><span class="ident" id="6890504"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6890511">.</span><span class="ident" id="6890512">B</span><span class="op" id="6890513">)</span>&nbsp;<span class="op" id="6890515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890518"><a href="/encoding/gob/timing_test.go.html#6889998">benchmarkEndToEnd</a></span><span class="op" id="6890535">(</span><span class="ident" id="6890536"><a href="/encoding/gob/timing_test.go.html#6890501">b</a></span><span class="op" id="6890537">,</span>&nbsp;<span class="keyword" id="6890539">func</span><span class="op" id="6890543">(</span><span class="op" id="6890544">)</span>&nbsp;<span class="keyword" id="6890546">interface</span><span class="op" id="6890555">{</span><span class="op" id="6890556">}</span>&nbsp;<span class="op" id="6890558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890562">return</span>&nbsp;<span class="op" id="6890569">&amp;</span><span class="ident" id="6890570"><a href="/encoding/gob/timing_test.go.html#6889937">Bench</a></span><span class="op" id="6890575">{</span><span class="num" id="6890576">7</span><span class="op" id="6890577">,</span>&nbsp;<span class="num" id="6890579">3.2</span><span class="op" id="6890582">,</span>&nbsp;<span class="string" id="6890584">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="6890601">,</span>&nbsp;<span class="ident" id="6890603"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6890608">.</span><span class="ident" id="6890609">Repeat</span><span class="op" id="6890615">(</span><span class="op" id="6890616">[</span><span class="op" id="6890617">]</span><span class="builtintype" id="6890618">byte</span><span class="op" id="6890622">(</span><span class="string" id="6890623">&#34;for&nbsp;all&nbsp;good&nbsp;men&#34;</span><span class="op" id="6890641">)</span><span class="op" id="6890642">,</span>&nbsp;<span class="num" id="6890644">100</span><span class="op" id="6890647">)</span><span class="op" id="6890648">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890651">}</span><span class="op" id="6890652">,</span>&nbsp;<span class="keyword" id="6890654">func</span><span class="op" id="6890658">(</span><span class="op" id="6890659">)</span>&nbsp;<span class="op" id="6890661">(</span><span class="ident" id="6890662">r</span>&nbsp;<span class="ident" id="6890664"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6890666">.</span><span class="ident" id="6890667">Reader</span><span class="op" id="6890673">,</span>&nbsp;<span class="ident" id="6890675">w</span>&nbsp;<span class="ident" id="6890677"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6890679">.</span><span class="ident" id="6890680">Writer</span><span class="op" id="6890686">,</span>&nbsp;<span class="ident" id="6890688">err</span>&nbsp;<span class="builtintype" id="6890692">error</span><span class="op" id="6890697">)</span>&nbsp;<span class="op" id="6890699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890703"><a href="/encoding/gob/timing_test.go.html#6890662">r</a></span><span class="op" id="6890704">,</span>&nbsp;<span class="ident" id="6890706"><a href="/encoding/gob/timing_test.go.html#6890675">w</a></span><span class="op" id="6890707">,</span>&nbsp;<span class="ident" id="6890709"><a href="/encoding/gob/timing_test.go.html#6890688">err</a></span>&nbsp;<span class="op" id="6890713">=</span>&nbsp;<span class="ident" id="6890715"><a href="/encoding/gob/timing_test.go.html#6889902">os</a></span><span class="op" id="6890717">.</span><span class="ident" id="6890718">Pipe</span><span class="op" id="6890722">(</span><span class="op" id="6890723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890727">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890735">}</span><span class="op" id="6890736">)</span><br>
<span class="lineno"></span><span class="op" id="6890738">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6890741">func</span>&nbsp;<span class="ident" id="6890746">BenchmarkEndToEndByteBuffer</span><span class="op" id="6890773">(</span><span class="ident" id="6890774">b</span>&nbsp;<span class="op" id="6890776">*</span><span class="ident" id="6890777"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6890784">.</span><span class="ident" id="6890785">B</span><span class="op" id="6890786">)</span>&nbsp;<span class="op" id="6890788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890791"><a href="/encoding/gob/timing_test.go.html#6889998">benchmarkEndToEnd</a></span><span class="op" id="6890808">(</span><span class="ident" id="6890809"><a href="/encoding/gob/timing_test.go.html#6890774">b</a></span><span class="op" id="6890810">,</span>&nbsp;<span class="keyword" id="6890812">func</span><span class="op" id="6890816">(</span><span class="op" id="6890817">)</span>&nbsp;<span class="keyword" id="6890819">interface</span><span class="op" id="6890828">{</span><span class="op" id="6890829">}</span>&nbsp;<span class="op" id="6890831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890835">return</span>&nbsp;<span class="op" id="6890842">&amp;</span><span class="ident" id="6890843"><a href="/encoding/gob/timing_test.go.html#6889937">Bench</a></span><span class="op" id="6890848">{</span><span class="num" id="6890849">7</span><span class="op" id="6890850">,</span>&nbsp;<span class="num" id="6890852">3.2</span><span class="op" id="6890855">,</span>&nbsp;<span class="string" id="6890857">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="6890874">,</span>&nbsp;<span class="ident" id="6890876"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6890881">.</span><span class="ident" id="6890882">Repeat</span><span class="op" id="6890888">(</span><span class="op" id="6890889">[</span><span class="op" id="6890890">]</span><span class="builtintype" id="6890891">byte</span><span class="op" id="6890895">(</span><span class="string" id="6890896">&#34;for&nbsp;all&nbsp;good&nbsp;men&#34;</span><span class="op" id="6890914">)</span><span class="op" id="6890915">,</span>&nbsp;<span class="num" id="6890917">100</span><span class="op" id="6890920">)</span><span class="op" id="6890921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890924">}</span><span class="op" id="6890925">,</span>&nbsp;<span class="keyword" id="6890927">func</span><span class="op" id="6890931">(</span><span class="op" id="6890932">)</span>&nbsp;<span class="op" id="6890934">(</span><span class="ident" id="6890935">r</span>&nbsp;<span class="ident" id="6890937"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6890939">.</span><span class="ident" id="6890940">Reader</span><span class="op" id="6890946">,</span>&nbsp;<span class="ident" id="6890948">w</span>&nbsp;<span class="ident" id="6890950"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6890952">.</span><span class="ident" id="6890953">Writer</span><span class="op" id="6890959">,</span>&nbsp;<span class="ident" id="6890961">err</span>&nbsp;<span class="builtintype" id="6890965">error</span><span class="op" id="6890970">)</span>&nbsp;<span class="op" id="6890972">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890976">var</span>&nbsp;<span class="ident" id="6890980">buf</span>&nbsp;<span class="ident" id="6890984"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6890989">.</span><span class="ident" id="6890990">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890999">return</span>&nbsp;<span class="op" id="6891006">&amp;</span><span class="ident" id="6891007"><a href="/encoding/gob/timing_test.go.html#6890980">buf</a></span><span class="op" id="6891010">,</span>&nbsp;<span class="op" id="6891012">&amp;</span><span class="ident" id="6891013"><a href="/encoding/gob/timing_test.go.html#6890980">buf</a></span><span class="op" id="6891016">,</span>&nbsp;<span class="ident" id="6891018">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891023">}</span><span class="op" id="6891024">)</span><br>
<span class="lineno"></span><span class="op" id="6891026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6891029">func</span>&nbsp;<span class="ident" id="6891034">BenchmarkEndToEndSliceByteBuffer</span><span class="op" id="6891066">(</span><span class="ident" id="6891067">b</span>&nbsp;<span class="op" id="6891069">*</span><span class="ident" id="6891070"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6891077">.</span><span class="ident" id="6891078">B</span><span class="op" id="6891079">)</span>&nbsp;<span class="op" id="6891081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891084"><a href="/encoding/gob/timing_test.go.html#6889998">benchmarkEndToEnd</a></span><span class="op" id="6891101">(</span><span class="ident" id="6891102"><a href="/encoding/gob/timing_test.go.html#6891067">b</a></span><span class="op" id="6891103">,</span>&nbsp;<span class="keyword" id="6891105">func</span><span class="op" id="6891109">(</span><span class="op" id="6891110">)</span>&nbsp;<span class="keyword" id="6891112">interface</span><span class="op" id="6891121">{</span><span class="op" id="6891122">}</span>&nbsp;<span class="op" id="6891124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891128">v</span>&nbsp;<span class="op" id="6891130">:=</span>&nbsp;<span class="op" id="6891133">&amp;</span><span class="ident" id="6891134"><a href="/encoding/gob/timing_test.go.html#6889937">Bench</a></span><span class="op" id="6891139">{</span><span class="num" id="6891140">7</span><span class="op" id="6891141">,</span>&nbsp;<span class="num" id="6891143">3.2</span><span class="op" id="6891146">,</span>&nbsp;<span class="string" id="6891148">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="6891165">,</span>&nbsp;<span class="ident" id="6891167">nil</span><span class="op" id="6891170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891174"><a href="/encoding/gob/type.go.html#5950046">Register</a></span><span class="op" id="6891182">(</span><span class="ident" id="6891183"><a href="/encoding/gob/timing_test.go.html#6891128">v</a></span><span class="op" id="6891184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891188">arr</span>&nbsp;<span class="op" id="6891192">:=</span>&nbsp;<span class="builtinfunc" id="6891195">make</span><span class="op" id="6891199">(</span><span class="op" id="6891200">[</span><span class="op" id="6891201">]</span><span class="keyword" id="6891202">interface</span><span class="op" id="6891211">{</span><span class="op" id="6891212">}</span><span class="op" id="6891213">,</span>&nbsp;<span class="num" id="6891215">100</span><span class="op" id="6891218">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891222">for</span>&nbsp;<span class="ident" id="6891226">i</span>&nbsp;<span class="op" id="6891228">:=</span>&nbsp;<span class="keyword" id="6891231">range</span>&nbsp;<span class="ident" id="6891237"><a href="/encoding/gob/timing_test.go.html#6891188">arr</a></span>&nbsp;<span class="op" id="6891241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891246"><a href="/encoding/gob/timing_test.go.html#6891188">arr</a></span><span class="op" id="6891249">[</span><span class="ident" id="6891250"><a href="/encoding/gob/timing_test.go.html#6891226">i</a></span><span class="op" id="6891251">]</span>&nbsp;<span class="op" id="6891253">=</span>&nbsp;<span class="ident" id="6891255"><a href="/encoding/gob/timing_test.go.html#6891128">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891263">return</span>&nbsp;<span class="op" id="6891270">&amp;</span><span class="ident" id="6891271"><a href="/encoding/gob/timing_test.go.html#6891188">arr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891276">}</span><span class="op" id="6891277">,</span>&nbsp;<span class="keyword" id="6891279">func</span><span class="op" id="6891283">(</span><span class="op" id="6891284">)</span>&nbsp;<span class="op" id="6891286">(</span><span class="ident" id="6891287">r</span>&nbsp;<span class="ident" id="6891289"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6891291">.</span><span class="ident" id="6891292">Reader</span><span class="op" id="6891298">,</span>&nbsp;<span class="ident" id="6891300">w</span>&nbsp;<span class="ident" id="6891302"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6891304">.</span><span class="ident" id="6891305">Writer</span><span class="op" id="6891311">,</span>&nbsp;<span class="ident" id="6891313">err</span>&nbsp;<span class="builtintype" id="6891317">error</span><span class="op" id="6891322">)</span>&nbsp;<span class="op" id="6891324">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891328">var</span>&nbsp;<span class="ident" id="6891332">buf</span>&nbsp;<span class="ident" id="6891336"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6891341">.</span><span class="ident" id="6891342">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891351">return</span>&nbsp;<span class="op" id="6891358">&amp;</span><span class="ident" id="6891359"><a href="/encoding/gob/timing_test.go.html#6891332">buf</a></span><span class="op" id="6891362">,</span>&nbsp;<span class="op" id="6891364">&amp;</span><span class="ident" id="6891365"><a href="/encoding/gob/timing_test.go.html#6891332">buf</a></span><span class="op" id="6891368">,</span>&nbsp;<span class="ident" id="6891370">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891375">}</span><span class="op" id="6891376">)</span><br>
<span class="lineno"></span><span class="op" id="6891378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="6891381">func</span>&nbsp;<span class="ident" id="6891386">TestCountEncodeMallocs</span><span class="op" id="6891408">(</span><span class="ident" id="6891409">t</span>&nbsp;<span class="op" id="6891411">*</span><span class="ident" id="6891412"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6891419">.</span><span class="ident" id="6891420">T</span><span class="op" id="6891421">)</span>&nbsp;<span class="op" id="6891423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891426">if</span>&nbsp;<span class="ident" id="6891429"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6891436">.</span><span class="ident" id="6891437">Short</span><span class="op" id="6891442">(</span><span class="op" id="6891443">)</span>&nbsp;<span class="op" id="6891445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891449"><a href="/encoding/gob/timing_test.go.html#6891409">t</a></span><span class="op" id="6891450">.</span><span class="ident" id="6891451">Skip</span><span class="op" id="6891455">(</span><span class="string" id="6891456">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6891493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891499">if</span>&nbsp;<span class="ident" id="6891502"><a href="/encoding/gob/timing_test.go.html#6889908">runtime</a></span><span class="op" id="6891509">.</span><span class="ident" id="6891510">GOMAXPROCS</span><span class="op" id="6891520">(</span><span class="num" id="6891521">0</span><span class="op" id="6891522">)</span>&nbsp;<span class="op" id="6891524">&gt;</span>&nbsp;<span class="num" id="6891526">1</span>&nbsp;<span class="op" id="6891528">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891532"><a href="/encoding/gob/timing_test.go.html#6891409">t</a></span><span class="op" id="6891533">.</span><span class="ident" id="6891534">Skip</span><span class="op" id="6891538">(</span><span class="string" id="6891539">&#34;skipping;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="6891563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891570">const</span>&nbsp;<span class="ident" id="6891576">N</span>&nbsp;<span class="op" id="6891578">=</span>&nbsp;<span class="num" id="6891580">1000</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891587">var</span>&nbsp;<span class="ident" id="6891591">buf</span>&nbsp;<span class="ident" id="6891595"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6891600">.</span><span class="ident" id="6891601">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891609">enc</span>&nbsp;<span class="op" id="6891613">:=</span>&nbsp;<span class="ident" id="6891616"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6891626">(</span><span class="op" id="6891627">&amp;</span><span class="ident" id="6891628"><a href="/encoding/gob/timing_test.go.html#6891591">buf</a></span><span class="op" id="6891631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891634">bench</span>&nbsp;<span class="op" id="6891640">:=</span>&nbsp;<span class="op" id="6891643">&amp;</span><span class="ident" id="6891644"><a href="/encoding/gob/timing_test.go.html#6889937">Bench</a></span><span class="op" id="6891649">{</span><span class="num" id="6891650">7</span><span class="op" id="6891651">,</span>&nbsp;<span class="num" id="6891653">3.2</span><span class="op" id="6891656">,</span>&nbsp;<span class="string" id="6891658">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="6891675">,</span>&nbsp;<span class="op" id="6891677">[</span><span class="op" id="6891678">]</span><span class="builtintype" id="6891679">byte</span><span class="op" id="6891683">(</span><span class="string" id="6891684">&#34;for&nbsp;all&nbsp;good&nbsp;men&#34;</span><span class="op" id="6891702">)</span><span class="op" id="6891703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891707">allocs</span>&nbsp;<span class="op" id="6891714">:=</span>&nbsp;<span class="ident" id="6891717"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6891724">.</span><span class="ident" id="6891725">AllocsPerRun</span><span class="op" id="6891737">(</span><span class="ident" id="6891738"><a href="/encoding/gob/timing_test.go.html#6891576">N</a></span><span class="op" id="6891739">,</span>&nbsp;<span class="keyword" id="6891741">func</span><span class="op" id="6891745">(</span><span class="op" id="6891746">)</span>&nbsp;<span class="op" id="6891748">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891752">err</span>&nbsp;<span class="op" id="6891756">:=</span>&nbsp;<span class="ident" id="6891759"><a href="/encoding/gob/timing_test.go.html#6891609">enc</a></span><span class="op" id="6891762">.</span><span class="ident" id="6891763">Encode</span><span class="op" id="6891769">(</span><span class="ident" id="6891770"><a href="/encoding/gob/timing_test.go.html#6891634">bench</a></span><span class="op" id="6891775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891779">if</span>&nbsp;<span class="ident" id="6891782"><a href="/encoding/gob/timing_test.go.html#6891752">err</a></span>&nbsp;<span class="op" id="6891786">!=</span>&nbsp;<span class="ident" id="6891789">nil</span>&nbsp;<span class="op" id="6891793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891798"><a href="/encoding/gob/timing_test.go.html#6891409">t</a></span><span class="op" id="6891799">.</span><span class="ident" id="6891800">Fatal</span><span class="op" id="6891805">(</span><span class="string" id="6891806">&#34;encode:&#34;</span><span class="op" id="6891815">,</span>&nbsp;<span class="ident" id="6891817"><a href="/encoding/gob/timing_test.go.html#6891752">err</a></span><span class="op" id="6891820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891827">}</span><span class="op" id="6891828">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891831">if</span>&nbsp;<span class="ident" id="6891834"><a href="/encoding/gob/timing_test.go.html#6891707">allocs</a></span>&nbsp;<span class="op" id="6891841">!=</span>&nbsp;<span class="num" id="6891844">0</span>&nbsp;<span class="op" id="6891846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891850"><a href="/encoding/gob/timing_test.go.html#6891409">t</a></span><span class="op" id="6891851">.</span><span class="ident" id="6891852">Fatalf</span><span class="op" id="6891858">(</span><span class="string" id="6891859">&#34;mallocs&nbsp;per&nbsp;encode&nbsp;of&nbsp;type&nbsp;Bench:&nbsp;%v;&nbsp;wanted&nbsp;0\n&#34;</span><span class="op" id="6891909">,</span>&nbsp;<span class="ident" id="6891911"><a href="/encoding/gob/timing_test.go.html#6891707">allocs</a></span><span class="op" id="6891917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891920">}</span><br>
<span class="lineno"></span><span class="op" id="6891922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6891925">func</span>&nbsp;<span class="ident" id="6891930">TestCountDecodeMallocs</span><span class="op" id="6891952">(</span><span class="ident" id="6891953">t</span>&nbsp;<span class="op" id="6891955">*</span><span class="ident" id="6891956"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6891963">.</span><span class="ident" id="6891964">T</span><span class="op" id="6891965">)</span>&nbsp;<span class="op" id="6891967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891970">if</span>&nbsp;<span class="ident" id="6891973"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6891980">.</span><span class="ident" id="6891981">Short</span><span class="op" id="6891986">(</span><span class="op" id="6891987">)</span>&nbsp;<span class="op" id="6891989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891993"><a href="/encoding/gob/timing_test.go.html#6891953">t</a></span><span class="op" id="6891994">.</span><span class="ident" id="6891995">Skip</span><span class="op" id="6891999">(</span><span class="string" id="6892000">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6892037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892043">if</span>&nbsp;<span class="ident" id="6892046"><a href="/encoding/gob/timing_test.go.html#6889908">runtime</a></span><span class="op" id="6892053">.</span><span class="ident" id="6892054">GOMAXPROCS</span><span class="op" id="6892064">(</span><span class="num" id="6892065">0</span><span class="op" id="6892066">)</span>&nbsp;<span class="op" id="6892068">&gt;</span>&nbsp;<span class="num" id="6892070">1</span>&nbsp;<span class="op" id="6892072">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892076"><a href="/encoding/gob/timing_test.go.html#6891953">t</a></span><span class="op" id="6892077">.</span><span class="ident" id="6892078">Skip</span><span class="op" id="6892082">(</span><span class="string" id="6892083">&#34;skipping;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="6892107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892114">const</span>&nbsp;<span class="ident" id="6892120">N</span>&nbsp;<span class="op" id="6892122">=</span>&nbsp;<span class="num" id="6892124">1000</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892131">var</span>&nbsp;<span class="ident" id="6892135">buf</span>&nbsp;<span class="ident" id="6892139"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6892144">.</span><span class="ident" id="6892145">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892153">enc</span>&nbsp;<span class="op" id="6892157">:=</span>&nbsp;<span class="ident" id="6892160"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6892170">(</span><span class="op" id="6892171">&amp;</span><span class="ident" id="6892172"><a href="/encoding/gob/timing_test.go.html#6892135">buf</a></span><span class="op" id="6892175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892178">bench</span>&nbsp;<span class="op" id="6892184">:=</span>&nbsp;<span class="op" id="6892187">&amp;</span><span class="ident" id="6892188"><a href="/encoding/gob/timing_test.go.html#6889937">Bench</a></span><span class="op" id="6892193">{</span><span class="num" id="6892194">7</span><span class="op" id="6892195">,</span>&nbsp;<span class="num" id="6892197">3.2</span><span class="op" id="6892200">,</span>&nbsp;<span class="string" id="6892202">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="6892219">,</span>&nbsp;<span class="op" id="6892221">[</span><span class="op" id="6892222">]</span><span class="builtintype" id="6892223">byte</span><span class="op" id="6892227">(</span><span class="string" id="6892228">&#34;for&nbsp;all&nbsp;good&nbsp;men&#34;</span><span class="op" id="6892246">)</span><span class="op" id="6892247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6892251">//&nbsp;Fill&nbsp;the&nbsp;buffer&nbsp;with&nbsp;enough&nbsp;to&nbsp;decode</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892293"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6892300">.</span><span class="ident" id="6892301">AllocsPerRun</span><span class="op" id="6892313">(</span><span class="ident" id="6892314"><a href="/encoding/gob/timing_test.go.html#6892120">N</a></span><span class="op" id="6892315">,</span>&nbsp;<span class="keyword" id="6892317">func</span><span class="op" id="6892321">(</span><span class="op" id="6892322">)</span>&nbsp;<span class="op" id="6892324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892328">err</span>&nbsp;<span class="op" id="6892332">:=</span>&nbsp;<span class="ident" id="6892335"><a href="/encoding/gob/timing_test.go.html#6892153">enc</a></span><span class="op" id="6892338">.</span><span class="ident" id="6892339">Encode</span><span class="op" id="6892345">(</span><span class="ident" id="6892346"><a href="/encoding/gob/timing_test.go.html#6892178">bench</a></span><span class="op" id="6892351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892355">if</span>&nbsp;<span class="ident" id="6892358"><a href="/encoding/gob/timing_test.go.html#6892328">err</a></span>&nbsp;<span class="op" id="6892362">!=</span>&nbsp;<span class="ident" id="6892365">nil</span>&nbsp;<span class="op" id="6892369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892374"><a href="/encoding/gob/timing_test.go.html#6891953">t</a></span><span class="op" id="6892375">.</span><span class="ident" id="6892376">Fatal</span><span class="op" id="6892381">(</span><span class="string" id="6892382">&#34;encode:&#34;</span><span class="op" id="6892391">,</span>&nbsp;<span class="ident" id="6892393"><a href="/encoding/gob/timing_test.go.html#6892328">err</a></span><span class="op" id="6892396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892400">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892403">}</span><span class="op" id="6892404">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892408">dec</span>&nbsp;<span class="op" id="6892412">:=</span>&nbsp;<span class="ident" id="6892415"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6892425">(</span><span class="op" id="6892426">&amp;</span><span class="ident" id="6892427"><a href="/encoding/gob/timing_test.go.html#6892135">buf</a></span><span class="op" id="6892430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892433">allocs</span>&nbsp;<span class="op" id="6892440">:=</span>&nbsp;<span class="ident" id="6892443"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6892450">.</span><span class="ident" id="6892451">AllocsPerRun</span><span class="op" id="6892463">(</span><span class="ident" id="6892464"><a href="/encoding/gob/timing_test.go.html#6892120">N</a></span><span class="op" id="6892465">,</span>&nbsp;<span class="keyword" id="6892467">func</span><span class="op" id="6892471">(</span><span class="op" id="6892472">)</span>&nbsp;<span class="op" id="6892474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892478">*</span><span class="ident" id="6892479"><a href="/encoding/gob/timing_test.go.html#6892178">bench</a></span>&nbsp;<span class="op" id="6892485">=</span>&nbsp;<span class="ident" id="6892487"><a href="/encoding/gob/timing_test.go.html#6889937">Bench</a></span><span class="op" id="6892492">{</span><span class="op" id="6892493">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892497">err</span>&nbsp;<span class="op" id="6892501">:=</span>&nbsp;<span class="ident" id="6892504"><a href="/encoding/gob/timing_test.go.html#6892408">dec</a></span><span class="op" id="6892507">.</span><span class="ident" id="6892508">Decode</span><span class="op" id="6892514">(</span><span class="op" id="6892515">&amp;</span><span class="ident" id="6892516"><a href="/encoding/gob/timing_test.go.html#6892178">bench</a></span><span class="op" id="6892521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892525">if</span>&nbsp;<span class="ident" id="6892528"><a href="/encoding/gob/timing_test.go.html#6892497">err</a></span>&nbsp;<span class="op" id="6892532">!=</span>&nbsp;<span class="ident" id="6892535">nil</span>&nbsp;<span class="op" id="6892539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892544"><a href="/encoding/gob/timing_test.go.html#6891953">t</a></span><span class="op" id="6892545">.</span><span class="ident" id="6892546">Fatal</span><span class="op" id="6892551">(</span><span class="string" id="6892552">&#34;decode:&#34;</span><span class="op" id="6892561">,</span>&nbsp;<span class="ident" id="6892563"><a href="/encoding/gob/timing_test.go.html#6892497">err</a></span><span class="op" id="6892566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892573">}</span><span class="op" id="6892574">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892577">if</span>&nbsp;<span class="ident" id="6892580"><a href="/encoding/gob/timing_test.go.html#6892433">allocs</a></span>&nbsp;<span class="op" id="6892587">!=</span>&nbsp;<span class="num" id="6892590">4</span>&nbsp;<span class="op" id="6892592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892596"><a href="/encoding/gob/timing_test.go.html#6891953">t</a></span><span class="op" id="6892597">.</span><span class="ident" id="6892598">Fatalf</span><span class="op" id="6892604">(</span><span class="string" id="6892605">&#34;mallocs&nbsp;per&nbsp;decode&nbsp;of&nbsp;type&nbsp;Bench:&nbsp;%v;&nbsp;wanted&nbsp;4\n&#34;</span><span class="op" id="6892655">,</span>&nbsp;<span class="ident" id="6892657"><a href="/encoding/gob/timing_test.go.html#6892433">allocs</a></span><span class="op" id="6892663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892666">}</span><br>
<span class="lineno"></span><span class="op" id="6892668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="6892671">func</span>&nbsp;<span class="ident" id="6892676">BenchmarkEncodeComplex128Slice</span><span class="op" id="6892706">(</span><span class="ident" id="6892707">b</span>&nbsp;<span class="op" id="6892709">*</span><span class="ident" id="6892710"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6892717">.</span><span class="ident" id="6892718">B</span><span class="op" id="6892719">)</span>&nbsp;<span class="op" id="6892721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892724">var</span>&nbsp;<span class="ident" id="6892728">buf</span>&nbsp;<span class="ident" id="6892732"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6892737">.</span><span class="ident" id="6892738">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892746">enc</span>&nbsp;<span class="op" id="6892750">:=</span>&nbsp;<span class="ident" id="6892753"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6892763">(</span><span class="op" id="6892764">&amp;</span><span class="ident" id="6892765"><a href="/encoding/gob/timing_test.go.html#6892728">buf</a></span><span class="op" id="6892768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892771">a</span>&nbsp;<span class="op" id="6892773">:=</span>&nbsp;<span class="builtinfunc" id="6892776">make</span><span class="op" id="6892780">(</span><span class="op" id="6892781">[</span><span class="op" id="6892782">]</span><span class="builtintype" id="6892783">complex128</span><span class="op" id="6892793">,</span>&nbsp;<span class="num" id="6892795">1000</span><span class="op" id="6892799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892802">for</span>&nbsp;<span class="ident" id="6892806">i</span>&nbsp;<span class="op" id="6892808">:=</span>&nbsp;<span class="keyword" id="6892811">range</span>&nbsp;<span class="ident" id="6892817"><a href="/encoding/gob/timing_test.go.html#6892771">a</a></span>&nbsp;<span class="op" id="6892819">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892823"><a href="/encoding/gob/timing_test.go.html#6892771">a</a></span><span class="op" id="6892824">[</span><span class="ident" id="6892825"><a href="/encoding/gob/timing_test.go.html#6892806">i</a></span><span class="op" id="6892826">]</span>&nbsp;<span class="op" id="6892828">=</span>&nbsp;<span class="num" id="6892830">1.2</span>&nbsp;<span class="op" id="6892834">+</span>&nbsp;<span class="num" id="6892836">3.4i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892845"><a href="/encoding/gob/timing_test.go.html#6892707">b</a></span><span class="op" id="6892846">.</span><span class="ident" id="6892847">ResetTimer</span><span class="op" id="6892857">(</span><span class="op" id="6892858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892861">for</span>&nbsp;<span class="ident" id="6892865">i</span>&nbsp;<span class="op" id="6892867">:=</span>&nbsp;<span class="num" id="6892870">0</span><span class="op" id="6892871">;</span>&nbsp;<span class="ident" id="6892873"><a href="/encoding/gob/timing_test.go.html#6892865">i</a></span>&nbsp;<span class="op" id="6892875">&lt;</span>&nbsp;<span class="ident" id="6892877"><a href="/encoding/gob/timing_test.go.html#6892707">b</a></span><span class="op" id="6892878">.</span><span class="ident" id="6892879">N</span><span class="op" id="6892880">;</span>&nbsp;<span class="ident" id="6892882"><a href="/encoding/gob/timing_test.go.html#6892865">i</a></span><span class="op" id="6892883">++</span>&nbsp;<span class="op" id="6892886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892890"><a href="/encoding/gob/timing_test.go.html#6892728">buf</a></span><span class="op" id="6892893">.</span><span class="ident" id="6892894">Reset</span><span class="op" id="6892899">(</span><span class="op" id="6892900">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892904">err</span>&nbsp;<span class="op" id="6892908">:=</span>&nbsp;<span class="ident" id="6892911"><a href="/encoding/gob/timing_test.go.html#6892746">enc</a></span><span class="op" id="6892914">.</span><span class="ident" id="6892915">Encode</span><span class="op" id="6892921">(</span><span class="ident" id="6892922"><a href="/encoding/gob/timing_test.go.html#6892771">a</a></span><span class="op" id="6892923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6892927">if</span>&nbsp;<span class="ident" id="6892930"><a href="/encoding/gob/timing_test.go.html#6892904">err</a></span>&nbsp;<span class="op" id="6892934">!=</span>&nbsp;<span class="ident" id="6892937">nil</span>&nbsp;<span class="op" id="6892941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6892946"><a href="/encoding/gob/timing_test.go.html#6892707">b</a></span><span class="op" id="6892947">.</span><span class="ident" id="6892948">Fatal</span><span class="op" id="6892953">(</span><span class="ident" id="6892954"><a href="/encoding/gob/timing_test.go.html#6892904">err</a></span><span class="op" id="6892957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6892964">}</span><br>
<span class="lineno">150</span><span class="op" id="6892966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6892969">func</span>&nbsp;<span class="ident" id="6892974">BenchmarkEncodeFloat64Slice</span><span class="op" id="6893001">(</span><span class="ident" id="6893002">b</span>&nbsp;<span class="op" id="6893004">*</span><span class="ident" id="6893005"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6893012">.</span><span class="ident" id="6893013">B</span><span class="op" id="6893014">)</span>&nbsp;<span class="op" id="6893016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893019">var</span>&nbsp;<span class="ident" id="6893023">buf</span>&nbsp;<span class="ident" id="6893027"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6893032">.</span><span class="ident" id="6893033">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893041">enc</span>&nbsp;<span class="op" id="6893045">:=</span>&nbsp;<span class="ident" id="6893048"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6893058">(</span><span class="op" id="6893059">&amp;</span><span class="ident" id="6893060"><a href="/encoding/gob/timing_test.go.html#6893023">buf</a></span><span class="op" id="6893063">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893066">a</span>&nbsp;<span class="op" id="6893068">:=</span>&nbsp;<span class="builtinfunc" id="6893071">make</span><span class="op" id="6893075">(</span><span class="op" id="6893076">[</span><span class="op" id="6893077">]</span><span class="builtintype" id="6893078">float64</span><span class="op" id="6893085">,</span>&nbsp;<span class="num" id="6893087">1000</span><span class="op" id="6893091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893094">for</span>&nbsp;<span class="ident" id="6893098">i</span>&nbsp;<span class="op" id="6893100">:=</span>&nbsp;<span class="keyword" id="6893103">range</span>&nbsp;<span class="ident" id="6893109"><a href="/encoding/gob/timing_test.go.html#6893066">a</a></span>&nbsp;<span class="op" id="6893111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893115"><a href="/encoding/gob/timing_test.go.html#6893066">a</a></span><span class="op" id="6893116">[</span><span class="ident" id="6893117"><a href="/encoding/gob/timing_test.go.html#6893098">i</a></span><span class="op" id="6893118">]</span>&nbsp;<span class="op" id="6893120">=</span>&nbsp;<span class="num" id="6893122">1.23e4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6893130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893133"><a href="/encoding/gob/timing_test.go.html#6893002">b</a></span><span class="op" id="6893134">.</span><span class="ident" id="6893135">ResetTimer</span><span class="op" id="6893145">(</span><span class="op" id="6893146">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893149">for</span>&nbsp;<span class="ident" id="6893153">i</span>&nbsp;<span class="op" id="6893155">:=</span>&nbsp;<span class="num" id="6893158">0</span><span class="op" id="6893159">;</span>&nbsp;<span class="ident" id="6893161"><a href="/encoding/gob/timing_test.go.html#6893153">i</a></span>&nbsp;<span class="op" id="6893163">&lt;</span>&nbsp;<span class="ident" id="6893165"><a href="/encoding/gob/timing_test.go.html#6893002">b</a></span><span class="op" id="6893166">.</span><span class="ident" id="6893167">N</span><span class="op" id="6893168">;</span>&nbsp;<span class="ident" id="6893170"><a href="/encoding/gob/timing_test.go.html#6893153">i</a></span><span class="op" id="6893171">++</span>&nbsp;<span class="op" id="6893174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893178"><a href="/encoding/gob/timing_test.go.html#6893023">buf</a></span><span class="op" id="6893181">.</span><span class="ident" id="6893182">Reset</span><span class="op" id="6893187">(</span><span class="op" id="6893188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893192">err</span>&nbsp;<span class="op" id="6893196">:=</span>&nbsp;<span class="ident" id="6893199"><a href="/encoding/gob/timing_test.go.html#6893041">enc</a></span><span class="op" id="6893202">.</span><span class="ident" id="6893203">Encode</span><span class="op" id="6893209">(</span><span class="ident" id="6893210"><a href="/encoding/gob/timing_test.go.html#6893066">a</a></span><span class="op" id="6893211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893215">if</span>&nbsp;<span class="ident" id="6893218"><a href="/encoding/gob/timing_test.go.html#6893192">err</a></span>&nbsp;<span class="op" id="6893222">!=</span>&nbsp;<span class="ident" id="6893225">nil</span>&nbsp;<span class="op" id="6893229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893234"><a href="/encoding/gob/timing_test.go.html#6893002">b</a></span><span class="op" id="6893235">.</span><span class="ident" id="6893236">Fatal</span><span class="op" id="6893241">(</span><span class="ident" id="6893242"><a href="/encoding/gob/timing_test.go.html#6893192">err</a></span><span class="op" id="6893245">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6893249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6893252">}</span><br>
<span class="lineno"></span><span class="op" id="6893254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6893257">func</span>&nbsp;<span class="ident" id="6893262">BenchmarkEncodeInt32Slice</span><span class="op" id="6893287">(</span><span class="ident" id="6893288">b</span>&nbsp;<span class="op" id="6893290">*</span><span class="ident" id="6893291"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6893298">.</span><span class="ident" id="6893299">B</span><span class="op" id="6893300">)</span>&nbsp;<span class="op" id="6893302">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893305">var</span>&nbsp;<span class="ident" id="6893309">buf</span>&nbsp;<span class="ident" id="6893313"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6893318">.</span><span class="ident" id="6893319">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893327">enc</span>&nbsp;<span class="op" id="6893331">:=</span>&nbsp;<span class="ident" id="6893334"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6893344">(</span><span class="op" id="6893345">&amp;</span><span class="ident" id="6893346"><a href="/encoding/gob/timing_test.go.html#6893309">buf</a></span><span class="op" id="6893349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893352">a</span>&nbsp;<span class="op" id="6893354">:=</span>&nbsp;<span class="builtinfunc" id="6893357">make</span><span class="op" id="6893361">(</span><span class="op" id="6893362">[</span><span class="op" id="6893363">]</span><span class="builtintype" id="6893364">int32</span><span class="op" id="6893369">,</span>&nbsp;<span class="num" id="6893371">1000</span><span class="op" id="6893375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893378">for</span>&nbsp;<span class="ident" id="6893382">i</span>&nbsp;<span class="op" id="6893384">:=</span>&nbsp;<span class="keyword" id="6893387">range</span>&nbsp;<span class="ident" id="6893393"><a href="/encoding/gob/timing_test.go.html#6893352">a</a></span>&nbsp;<span class="op" id="6893395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893399"><a href="/encoding/gob/timing_test.go.html#6893352">a</a></span><span class="op" id="6893400">[</span><span class="ident" id="6893401"><a href="/encoding/gob/timing_test.go.html#6893382">i</a></span><span class="op" id="6893402">]</span>&nbsp;<span class="op" id="6893404">=</span>&nbsp;<span class="num" id="6893406">1234</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6893412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893415"><a href="/encoding/gob/timing_test.go.html#6893288">b</a></span><span class="op" id="6893416">.</span><span class="ident" id="6893417">ResetTimer</span><span class="op" id="6893427">(</span><span class="op" id="6893428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893431">for</span>&nbsp;<span class="ident" id="6893435">i</span>&nbsp;<span class="op" id="6893437">:=</span>&nbsp;<span class="num" id="6893440">0</span><span class="op" id="6893441">;</span>&nbsp;<span class="ident" id="6893443"><a href="/encoding/gob/timing_test.go.html#6893435">i</a></span>&nbsp;<span class="op" id="6893445">&lt;</span>&nbsp;<span class="ident" id="6893447"><a href="/encoding/gob/timing_test.go.html#6893288">b</a></span><span class="op" id="6893448">.</span><span class="ident" id="6893449">N</span><span class="op" id="6893450">;</span>&nbsp;<span class="ident" id="6893452"><a href="/encoding/gob/timing_test.go.html#6893435">i</a></span><span class="op" id="6893453">++</span>&nbsp;<span class="op" id="6893456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893460"><a href="/encoding/gob/timing_test.go.html#6893309">buf</a></span><span class="op" id="6893463">.</span><span class="ident" id="6893464">Reset</span><span class="op" id="6893469">(</span><span class="op" id="6893470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893474">err</span>&nbsp;<span class="op" id="6893478">:=</span>&nbsp;<span class="ident" id="6893481"><a href="/encoding/gob/timing_test.go.html#6893327">enc</a></span><span class="op" id="6893484">.</span><span class="ident" id="6893485">Encode</span><span class="op" id="6893491">(</span><span class="ident" id="6893492"><a href="/encoding/gob/timing_test.go.html#6893352">a</a></span><span class="op" id="6893493">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893497">if</span>&nbsp;<span class="ident" id="6893500"><a href="/encoding/gob/timing_test.go.html#6893474">err</a></span>&nbsp;<span class="op" id="6893504">!=</span>&nbsp;<span class="ident" id="6893507">nil</span>&nbsp;<span class="op" id="6893511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893516"><a href="/encoding/gob/timing_test.go.html#6893288">b</a></span><span class="op" id="6893517">.</span><span class="ident" id="6893518">Fatal</span><span class="op" id="6893523">(</span><span class="ident" id="6893524"><a href="/encoding/gob/timing_test.go.html#6893474">err</a></span><span class="op" id="6893527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6893531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6893534">}</span><br>
<span class="lineno"></span><span class="op" id="6893536">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="6893539">func</span>&nbsp;<span class="ident" id="6893544">BenchmarkEncodeStringSlice</span><span class="op" id="6893570">(</span><span class="ident" id="6893571">b</span>&nbsp;<span class="op" id="6893573">*</span><span class="ident" id="6893574"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6893581">.</span><span class="ident" id="6893582">B</span><span class="op" id="6893583">)</span>&nbsp;<span class="op" id="6893585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893588">var</span>&nbsp;<span class="ident" id="6893592">buf</span>&nbsp;<span class="ident" id="6893596"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6893601">.</span><span class="ident" id="6893602">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893610">enc</span>&nbsp;<span class="op" id="6893614">:=</span>&nbsp;<span class="ident" id="6893617"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6893627">(</span><span class="op" id="6893628">&amp;</span><span class="ident" id="6893629"><a href="/encoding/gob/timing_test.go.html#6893592">buf</a></span><span class="op" id="6893632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893635">a</span>&nbsp;<span class="op" id="6893637">:=</span>&nbsp;<span class="builtinfunc" id="6893640">make</span><span class="op" id="6893644">(</span><span class="op" id="6893645">[</span><span class="op" id="6893646">]</span><span class="builtintype" id="6893647">string</span><span class="op" id="6893653">,</span>&nbsp;<span class="num" id="6893655">1000</span><span class="op" id="6893659">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893662">for</span>&nbsp;<span class="ident" id="6893666">i</span>&nbsp;<span class="op" id="6893668">:=</span>&nbsp;<span class="keyword" id="6893671">range</span>&nbsp;<span class="ident" id="6893677"><a href="/encoding/gob/timing_test.go.html#6893635">a</a></span>&nbsp;<span class="op" id="6893679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893683"><a href="/encoding/gob/timing_test.go.html#6893635">a</a></span><span class="op" id="6893684">[</span><span class="ident" id="6893685"><a href="/encoding/gob/timing_test.go.html#6893666">i</a></span><span class="op" id="6893686">]</span>&nbsp;<span class="op" id="6893688">=</span>&nbsp;<span class="string" id="6893690">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6893709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893712"><a href="/encoding/gob/timing_test.go.html#6893571">b</a></span><span class="op" id="6893713">.</span><span class="ident" id="6893714">ResetTimer</span><span class="op" id="6893724">(</span><span class="op" id="6893725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893728">for</span>&nbsp;<span class="ident" id="6893732">i</span>&nbsp;<span class="op" id="6893734">:=</span>&nbsp;<span class="num" id="6893737">0</span><span class="op" id="6893738">;</span>&nbsp;<span class="ident" id="6893740"><a href="/encoding/gob/timing_test.go.html#6893732">i</a></span>&nbsp;<span class="op" id="6893742">&lt;</span>&nbsp;<span class="ident" id="6893744"><a href="/encoding/gob/timing_test.go.html#6893571">b</a></span><span class="op" id="6893745">.</span><span class="ident" id="6893746">N</span><span class="op" id="6893747">;</span>&nbsp;<span class="ident" id="6893749"><a href="/encoding/gob/timing_test.go.html#6893732">i</a></span><span class="op" id="6893750">++</span>&nbsp;<span class="op" id="6893753">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893757"><a href="/encoding/gob/timing_test.go.html#6893592">buf</a></span><span class="op" id="6893760">.</span><span class="ident" id="6893761">Reset</span><span class="op" id="6893766">(</span><span class="op" id="6893767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893771">err</span>&nbsp;<span class="op" id="6893775">:=</span>&nbsp;<span class="ident" id="6893778"><a href="/encoding/gob/timing_test.go.html#6893610">enc</a></span><span class="op" id="6893781">.</span><span class="ident" id="6893782">Encode</span><span class="op" id="6893788">(</span><span class="ident" id="6893789"><a href="/encoding/gob/timing_test.go.html#6893635">a</a></span><span class="op" id="6893790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6893794">if</span>&nbsp;<span class="ident" id="6893797"><a href="/encoding/gob/timing_test.go.html#6893771">err</a></span>&nbsp;<span class="op" id="6893801">!=</span>&nbsp;<span class="ident" id="6893804">nil</span>&nbsp;<span class="op" id="6893808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893813"><a href="/encoding/gob/timing_test.go.html#6893571">b</a></span><span class="op" id="6893814">.</span><span class="ident" id="6893815">Fatal</span><span class="op" id="6893820">(</span><span class="ident" id="6893821"><a href="/encoding/gob/timing_test.go.html#6893771">err</a></span><span class="op" id="6893824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6893828">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6893831">}</span><br>
<span class="lineno"></span><span class="op" id="6893833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6893836">//&nbsp;benchmarkBuf&nbsp;is&nbsp;a&nbsp;read&nbsp;buffer&nbsp;we&nbsp;can&nbsp;reset</span><br>
<span class="lineno"></span><span class="keyword" id="6893882">type</span>&nbsp;<span class="ident" id="6893887">benchmarkBuf</span>&nbsp;<span class="keyword" id="6893900">struct</span>&nbsp;<span class="op" id="6893907">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893910">offset</span>&nbsp;<span class="builtintype" id="6893917">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893922">data</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6893929">[</span><span class="op" id="6893930">]</span><span class="builtintype" id="6893931">byte</span><br>
<span class="lineno"></span><span class="op" id="6893936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6893939">func</span>&nbsp;<span class="op" id="6893944">(</span><span class="ident" id="6893945">b</span>&nbsp;<span class="op" id="6893947">*</span><span class="ident" id="6893948"><a href="/encoding/gob/timing_test.go.html#6893887">benchmarkBuf</a></span><span class="op" id="6893960">)</span>&nbsp;<span class="ident" id="6893962">Read</span><span class="op" id="6893966">(</span><span class="ident" id="6893967">p</span>&nbsp;<span class="op" id="6893969">[</span><span class="op" id="6893970">]</span><span class="builtintype" id="6893971">byte</span><span class="op" id="6893975">)</span>&nbsp;<span class="op" id="6893977">(</span><span class="ident" id="6893978">n</span>&nbsp;<span class="builtintype" id="6893980">int</span><span class="op" id="6893983">,</span>&nbsp;<span class="ident" id="6893985">err</span>&nbsp;<span class="builtintype" id="6893989">error</span><span class="op" id="6893994">)</span>&nbsp;<span class="op" id="6893996">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6893999"><a href="/encoding/gob/timing_test.go.html#6893978">n</a></span>&nbsp;<span class="op" id="6894001">=</span>&nbsp;<span class="builtinfunc" id="6894003">copy</span><span class="op" id="6894007">(</span><span class="ident" id="6894008"><a href="/encoding/gob/timing_test.go.html#6893967">p</a></span><span class="op" id="6894009">,</span>&nbsp;<span class="ident" id="6894011"><a href="/encoding/gob/timing_test.go.html#6893945">b</a></span><span class="op" id="6894012">.</span><span class="ident" id="6894013">data</span><span class="op" id="6894017">[</span><span class="ident" id="6894018"><a href="/encoding/gob/timing_test.go.html#6893945">b</a></span><span class="op" id="6894019">.</span><span class="ident" id="6894020">offset</span><span class="op" id="6894026">:</span><span class="op" id="6894027">]</span><span class="op" id="6894028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894031">if</span>&nbsp;<span class="ident" id="6894034"><a href="/encoding/gob/timing_test.go.html#6893978">n</a></span>&nbsp;<span class="op" id="6894036">==</span>&nbsp;<span class="num" id="6894039">0</span>&nbsp;<span class="op" id="6894041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894045">return</span>&nbsp;<span class="num" id="6894052">0</span><span class="op" id="6894053">,</span>&nbsp;<span class="ident" id="6894055"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6894057">.</span><span class="ident" id="6894058">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6894063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894066"><a href="/encoding/gob/timing_test.go.html#6893945">b</a></span><span class="op" id="6894067">.</span><span class="ident" id="6894068">offset</span>&nbsp;<span class="op" id="6894075">+=</span>&nbsp;<span class="ident" id="6894078"><a href="/encoding/gob/timing_test.go.html#6893978">n</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894081">return</span><br>
<span class="lineno"></span><span class="op" id="6894088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6894091">func</span>&nbsp;<span class="op" id="6894096">(</span><span class="ident" id="6894097">b</span>&nbsp;<span class="op" id="6894099">*</span><span class="ident" id="6894100"><a href="/encoding/gob/timing_test.go.html#6893887">benchmarkBuf</a></span><span class="op" id="6894112">)</span>&nbsp;<span class="ident" id="6894114">ReadByte</span><span class="op" id="6894122">(</span><span class="op" id="6894123">)</span>&nbsp;<span class="op" id="6894125">(</span><span class="ident" id="6894126">c</span>&nbsp;<span class="builtintype" id="6894128">byte</span><span class="op" id="6894132">,</span>&nbsp;<span class="ident" id="6894134">err</span>&nbsp;<span class="builtintype" id="6894138">error</span><span class="op" id="6894143">)</span>&nbsp;<span class="op" id="6894145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894148">if</span>&nbsp;<span class="ident" id="6894151"><a href="/encoding/gob/timing_test.go.html#6894097">b</a></span><span class="op" id="6894152">.</span><span class="ident" id="6894153">offset</span>&nbsp;<span class="op" id="6894160">&gt;=</span>&nbsp;<span class="builtinfunc" id="6894163">len</span><span class="op" id="6894166">(</span><span class="ident" id="6894167"><a href="/encoding/gob/timing_test.go.html#6894097">b</a></span><span class="op" id="6894168">.</span><span class="ident" id="6894169">data</span><span class="op" id="6894173">)</span>&nbsp;<span class="op" id="6894175">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894179">return</span>&nbsp;<span class="num" id="6894186">0</span><span class="op" id="6894187">,</span>&nbsp;<span class="ident" id="6894189"><a href="/encoding/gob/timing_test.go.html#6889896">io</a></span><span class="op" id="6894191">.</span><span class="ident" id="6894192">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6894197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894200"><a href="/encoding/gob/timing_test.go.html#6894126">c</a></span>&nbsp;<span class="op" id="6894202">=</span>&nbsp;<span class="ident" id="6894204"><a href="/encoding/gob/timing_test.go.html#6894097">b</a></span><span class="op" id="6894205">.</span><span class="ident" id="6894206">data</span><span class="op" id="6894210">[</span><span class="ident" id="6894211"><a href="/encoding/gob/timing_test.go.html#6894097">b</a></span><span class="op" id="6894212">.</span><span class="ident" id="6894213">offset</span><span class="op" id="6894219">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894222"><a href="/encoding/gob/timing_test.go.html#6894097">b</a></span><span class="op" id="6894223">.</span><span class="ident" id="6894224">offset</span><span class="op" id="6894230">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894234">return</span><br>
<span class="lineno">225</span><span class="op" id="6894241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6894244">func</span>&nbsp;<span class="op" id="6894249">(</span><span class="ident" id="6894250">b</span>&nbsp;<span class="op" id="6894252">*</span><span class="ident" id="6894253"><a href="/encoding/gob/timing_test.go.html#6893887">benchmarkBuf</a></span><span class="op" id="6894265">)</span>&nbsp;<span class="ident" id="6894267">reset</span><span class="op" id="6894272">(</span><span class="op" id="6894273">)</span>&nbsp;<span class="op" id="6894275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894278"><a href="/encoding/gob/timing_test.go.html#6894250">b</a></span><span class="op" id="6894279">.</span><span class="ident" id="6894280">offset</span>&nbsp;<span class="op" id="6894287">=</span>&nbsp;<span class="num" id="6894289">0</span><br>
<span class="lineno"></span><span class="op" id="6894291">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="6894294">func</span>&nbsp;<span class="ident" id="6894299">BenchmarkDecodeComplex128Slice</span><span class="op" id="6894329">(</span><span class="ident" id="6894330">b</span>&nbsp;<span class="op" id="6894332">*</span><span class="ident" id="6894333"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6894340">.</span><span class="ident" id="6894341">B</span><span class="op" id="6894342">)</span>&nbsp;<span class="op" id="6894344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894347">var</span>&nbsp;<span class="ident" id="6894351">buf</span>&nbsp;<span class="ident" id="6894355"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6894360">.</span><span class="ident" id="6894361">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894369">enc</span>&nbsp;<span class="op" id="6894373">:=</span>&nbsp;<span class="ident" id="6894376"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6894386">(</span><span class="op" id="6894387">&amp;</span><span class="ident" id="6894388"><a href="/encoding/gob/timing_test.go.html#6894351">buf</a></span><span class="op" id="6894391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894394">a</span>&nbsp;<span class="op" id="6894396">:=</span>&nbsp;<span class="builtinfunc" id="6894399">make</span><span class="op" id="6894403">(</span><span class="op" id="6894404">[</span><span class="op" id="6894405">]</span><span class="builtintype" id="6894406">complex128</span><span class="op" id="6894416">,</span>&nbsp;<span class="num" id="6894418">1000</span><span class="op" id="6894422">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894425">for</span>&nbsp;<span class="ident" id="6894429">i</span>&nbsp;<span class="op" id="6894431">:=</span>&nbsp;<span class="keyword" id="6894434">range</span>&nbsp;<span class="ident" id="6894440"><a href="/encoding/gob/timing_test.go.html#6894394">a</a></span>&nbsp;<span class="op" id="6894442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894446"><a href="/encoding/gob/timing_test.go.html#6894394">a</a></span><span class="op" id="6894447">[</span><span class="ident" id="6894448"><a href="/encoding/gob/timing_test.go.html#6894429">i</a></span><span class="op" id="6894449">]</span>&nbsp;<span class="op" id="6894451">=</span>&nbsp;<span class="num" id="6894453">1.2</span>&nbsp;<span class="op" id="6894457">+</span>&nbsp;<span class="num" id="6894459">3.4i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6894465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894468">err</span>&nbsp;<span class="op" id="6894472">:=</span>&nbsp;<span class="ident" id="6894475"><a href="/encoding/gob/timing_test.go.html#6894369">enc</a></span><span class="op" id="6894478">.</span><span class="ident" id="6894479">Encode</span><span class="op" id="6894485">(</span><span class="ident" id="6894486"><a href="/encoding/gob/timing_test.go.html#6894394">a</a></span><span class="op" id="6894487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894490">if</span>&nbsp;<span class="ident" id="6894493"><a href="/encoding/gob/timing_test.go.html#6894468">err</a></span>&nbsp;<span class="op" id="6894497">!=</span>&nbsp;<span class="ident" id="6894500">nil</span>&nbsp;<span class="op" id="6894504">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894508"><a href="/encoding/gob/timing_test.go.html#6894330">b</a></span><span class="op" id="6894509">.</span><span class="ident" id="6894510">Fatal</span><span class="op" id="6894515">(</span><span class="ident" id="6894516"><a href="/encoding/gob/timing_test.go.html#6894468">err</a></span><span class="op" id="6894519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6894522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894525">x</span>&nbsp;<span class="op" id="6894527">:=</span>&nbsp;<span class="builtinfunc" id="6894530">make</span><span class="op" id="6894534">(</span><span class="op" id="6894535">[</span><span class="op" id="6894536">]</span><span class="builtintype" id="6894537">complex128</span><span class="op" id="6894547">,</span>&nbsp;<span class="num" id="6894549">1000</span><span class="op" id="6894553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894556">bbuf</span>&nbsp;<span class="op" id="6894561">:=</span>&nbsp;<span class="ident" id="6894564"><a href="/encoding/gob/timing_test.go.html#6893887">benchmarkBuf</a></span><span class="op" id="6894576">{</span><span class="ident" id="6894577">data</span><span class="op" id="6894581">:</span>&nbsp;<span class="ident" id="6894583"><a href="/encoding/gob/timing_test.go.html#6894351">buf</a></span><span class="op" id="6894586">.</span><span class="ident" id="6894587">Bytes</span><span class="op" id="6894592">(</span><span class="op" id="6894593">)</span><span class="op" id="6894594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894597"><a href="/encoding/gob/timing_test.go.html#6894330">b</a></span><span class="op" id="6894598">.</span><span class="ident" id="6894599">ResetTimer</span><span class="op" id="6894609">(</span><span class="op" id="6894610">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894613">for</span>&nbsp;<span class="ident" id="6894617">i</span>&nbsp;<span class="op" id="6894619">:=</span>&nbsp;<span class="num" id="6894622">0</span><span class="op" id="6894623">;</span>&nbsp;<span class="ident" id="6894625"><a href="/encoding/gob/timing_test.go.html#6894617">i</a></span>&nbsp;<span class="op" id="6894627">&lt;</span>&nbsp;<span class="ident" id="6894629"><a href="/encoding/gob/timing_test.go.html#6894330">b</a></span><span class="op" id="6894630">.</span><span class="ident" id="6894631">N</span><span class="op" id="6894632">;</span>&nbsp;<span class="ident" id="6894634"><a href="/encoding/gob/timing_test.go.html#6894617">i</a></span><span class="op" id="6894635">++</span>&nbsp;<span class="op" id="6894638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894642"><a href="/encoding/gob/timing_test.go.html#6894556">bbuf</a></span><span class="op" id="6894646">.</span><span class="ident" id="6894647">reset</span><span class="op" id="6894652">(</span><span class="op" id="6894653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894657">dec</span>&nbsp;<span class="op" id="6894661">:=</span>&nbsp;<span class="ident" id="6894664"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6894674">(</span><span class="op" id="6894675">&amp;</span><span class="ident" id="6894676"><a href="/encoding/gob/timing_test.go.html#6894556">bbuf</a></span><span class="op" id="6894680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894684">err</span>&nbsp;<span class="op" id="6894688">:=</span>&nbsp;<span class="ident" id="6894691"><a href="/encoding/gob/timing_test.go.html#6894657">dec</a></span><span class="op" id="6894694">.</span><span class="ident" id="6894695">Decode</span><span class="op" id="6894701">(</span><span class="op" id="6894702">&amp;</span><span class="ident" id="6894703"><a href="/encoding/gob/timing_test.go.html#6894525">x</a></span><span class="op" id="6894704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894708">if</span>&nbsp;<span class="ident" id="6894711"><a href="/encoding/gob/timing_test.go.html#6894684">err</a></span>&nbsp;<span class="op" id="6894715">!=</span>&nbsp;<span class="ident" id="6894718">nil</span>&nbsp;<span class="op" id="6894722">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894727"><a href="/encoding/gob/timing_test.go.html#6894330">b</a></span><span class="op" id="6894728">.</span><span class="ident" id="6894729">Fatal</span><span class="op" id="6894734">(</span><span class="ident" id="6894735"><a href="/encoding/gob/timing_test.go.html#6894617">i</a></span><span class="op" id="6894736">,</span>&nbsp;<span class="ident" id="6894738"><a href="/encoding/gob/timing_test.go.html#6894684">err</a></span><span class="op" id="6894741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6894745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6894748">}</span><br>
<span class="lineno"></span><span class="op" id="6894750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="6894753">func</span>&nbsp;<span class="ident" id="6894758">BenchmarkDecodeFloat64Slice</span><span class="op" id="6894785">(</span><span class="ident" id="6894786">b</span>&nbsp;<span class="op" id="6894788">*</span><span class="ident" id="6894789"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6894796">.</span><span class="ident" id="6894797">B</span><span class="op" id="6894798">)</span>&nbsp;<span class="op" id="6894800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894803">var</span>&nbsp;<span class="ident" id="6894807">buf</span>&nbsp;<span class="ident" id="6894811"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6894816">.</span><span class="ident" id="6894817">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894825">enc</span>&nbsp;<span class="op" id="6894829">:=</span>&nbsp;<span class="ident" id="6894832"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6894842">(</span><span class="op" id="6894843">&amp;</span><span class="ident" id="6894844"><a href="/encoding/gob/timing_test.go.html#6894807">buf</a></span><span class="op" id="6894847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894850">a</span>&nbsp;<span class="op" id="6894852">:=</span>&nbsp;<span class="builtinfunc" id="6894855">make</span><span class="op" id="6894859">(</span><span class="op" id="6894860">[</span><span class="op" id="6894861">]</span><span class="builtintype" id="6894862">float64</span><span class="op" id="6894869">,</span>&nbsp;<span class="num" id="6894871">1000</span><span class="op" id="6894875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894878">for</span>&nbsp;<span class="ident" id="6894882">i</span>&nbsp;<span class="op" id="6894884">:=</span>&nbsp;<span class="keyword" id="6894887">range</span>&nbsp;<span class="ident" id="6894893"><a href="/encoding/gob/timing_test.go.html#6894850">a</a></span>&nbsp;<span class="op" id="6894895">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894899"><a href="/encoding/gob/timing_test.go.html#6894850">a</a></span><span class="op" id="6894900">[</span><span class="ident" id="6894901"><a href="/encoding/gob/timing_test.go.html#6894882">i</a></span><span class="op" id="6894902">]</span>&nbsp;<span class="op" id="6894904">=</span>&nbsp;<span class="num" id="6894906">1.23e4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6894914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894917">err</span>&nbsp;<span class="op" id="6894921">:=</span>&nbsp;<span class="ident" id="6894924"><a href="/encoding/gob/timing_test.go.html#6894825">enc</a></span><span class="op" id="6894927">.</span><span class="ident" id="6894928">Encode</span><span class="op" id="6894934">(</span><span class="ident" id="6894935"><a href="/encoding/gob/timing_test.go.html#6894850">a</a></span><span class="op" id="6894936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6894939">if</span>&nbsp;<span class="ident" id="6894942"><a href="/encoding/gob/timing_test.go.html#6894917">err</a></span>&nbsp;<span class="op" id="6894946">!=</span>&nbsp;<span class="ident" id="6894949">nil</span>&nbsp;<span class="op" id="6894953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894957"><a href="/encoding/gob/timing_test.go.html#6894786">b</a></span><span class="op" id="6894958">.</span><span class="ident" id="6894959">Fatal</span><span class="op" id="6894964">(</span><span class="ident" id="6894965"><a href="/encoding/gob/timing_test.go.html#6894917">err</a></span><span class="op" id="6894968">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6894971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6894974">x</span>&nbsp;<span class="op" id="6894976">:=</span>&nbsp;<span class="builtinfunc" id="6894979">make</span><span class="op" id="6894983">(</span><span class="op" id="6894984">[</span><span class="op" id="6894985">]</span><span class="builtintype" id="6894986">float64</span><span class="op" id="6894993">,</span>&nbsp;<span class="num" id="6894995">1000</span><span class="op" id="6894999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895002">bbuf</span>&nbsp;<span class="op" id="6895007">:=</span>&nbsp;<span class="ident" id="6895010"><a href="/encoding/gob/timing_test.go.html#6893887">benchmarkBuf</a></span><span class="op" id="6895022">{</span><span class="ident" id="6895023">data</span><span class="op" id="6895027">:</span>&nbsp;<span class="ident" id="6895029"><a href="/encoding/gob/timing_test.go.html#6894807">buf</a></span><span class="op" id="6895032">.</span><span class="ident" id="6895033">Bytes</span><span class="op" id="6895038">(</span><span class="op" id="6895039">)</span><span class="op" id="6895040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895043"><a href="/encoding/gob/timing_test.go.html#6894786">b</a></span><span class="op" id="6895044">.</span><span class="ident" id="6895045">ResetTimer</span><span class="op" id="6895055">(</span><span class="op" id="6895056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895059">for</span>&nbsp;<span class="ident" id="6895063">i</span>&nbsp;<span class="op" id="6895065">:=</span>&nbsp;<span class="num" id="6895068">0</span><span class="op" id="6895069">;</span>&nbsp;<span class="ident" id="6895071"><a href="/encoding/gob/timing_test.go.html#6895063">i</a></span>&nbsp;<span class="op" id="6895073">&lt;</span>&nbsp;<span class="ident" id="6895075"><a href="/encoding/gob/timing_test.go.html#6894786">b</a></span><span class="op" id="6895076">.</span><span class="ident" id="6895077">N</span><span class="op" id="6895078">;</span>&nbsp;<span class="ident" id="6895080"><a href="/encoding/gob/timing_test.go.html#6895063">i</a></span><span class="op" id="6895081">++</span>&nbsp;<span class="op" id="6895084">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895088"><a href="/encoding/gob/timing_test.go.html#6895002">bbuf</a></span><span class="op" id="6895092">.</span><span class="ident" id="6895093">reset</span><span class="op" id="6895098">(</span><span class="op" id="6895099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895103">dec</span>&nbsp;<span class="op" id="6895107">:=</span>&nbsp;<span class="ident" id="6895110"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6895120">(</span><span class="op" id="6895121">&amp;</span><span class="ident" id="6895122"><a href="/encoding/gob/timing_test.go.html#6895002">bbuf</a></span><span class="op" id="6895126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895130">err</span>&nbsp;<span class="op" id="6895134">:=</span>&nbsp;<span class="ident" id="6895137"><a href="/encoding/gob/timing_test.go.html#6895103">dec</a></span><span class="op" id="6895140">.</span><span class="ident" id="6895141">Decode</span><span class="op" id="6895147">(</span><span class="op" id="6895148">&amp;</span><span class="ident" id="6895149"><a href="/encoding/gob/timing_test.go.html#6894974">x</a></span><span class="op" id="6895150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895154">if</span>&nbsp;<span class="ident" id="6895157"><a href="/encoding/gob/timing_test.go.html#6895130">err</a></span>&nbsp;<span class="op" id="6895161">!=</span>&nbsp;<span class="ident" id="6895164">nil</span>&nbsp;<span class="op" id="6895168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895173"><a href="/encoding/gob/timing_test.go.html#6894786">b</a></span><span class="op" id="6895174">.</span><span class="ident" id="6895175">Fatal</span><span class="op" id="6895180">(</span><span class="ident" id="6895181"><a href="/encoding/gob/timing_test.go.html#6895063">i</a></span><span class="op" id="6895182">,</span>&nbsp;<span class="ident" id="6895184"><a href="/encoding/gob/timing_test.go.html#6895130">err</a></span><span class="op" id="6895187">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6895191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6895194">}</span><br>
<span class="lineno"></span><span class="op" id="6895196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6895199">func</span>&nbsp;<span class="ident" id="6895204">BenchmarkDecodeInt32Slice</span><span class="op" id="6895229">(</span><span class="ident" id="6895230">b</span>&nbsp;<span class="op" id="6895232">*</span><span class="ident" id="6895233"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6895240">.</span><span class="ident" id="6895241">B</span><span class="op" id="6895242">)</span>&nbsp;<span class="op" id="6895244">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895247">var</span>&nbsp;<span class="ident" id="6895251">buf</span>&nbsp;<span class="ident" id="6895255"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6895260">.</span><span class="ident" id="6895261">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895269">enc</span>&nbsp;<span class="op" id="6895273">:=</span>&nbsp;<span class="ident" id="6895276"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6895286">(</span><span class="op" id="6895287">&amp;</span><span class="ident" id="6895288"><a href="/encoding/gob/timing_test.go.html#6895251">buf</a></span><span class="op" id="6895291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895294">a</span>&nbsp;<span class="op" id="6895296">:=</span>&nbsp;<span class="builtinfunc" id="6895299">make</span><span class="op" id="6895303">(</span><span class="op" id="6895304">[</span><span class="op" id="6895305">]</span><span class="builtintype" id="6895306">int32</span><span class="op" id="6895311">,</span>&nbsp;<span class="num" id="6895313">1000</span><span class="op" id="6895317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895320">for</span>&nbsp;<span class="ident" id="6895324">i</span>&nbsp;<span class="op" id="6895326">:=</span>&nbsp;<span class="keyword" id="6895329">range</span>&nbsp;<span class="ident" id="6895335"><a href="/encoding/gob/timing_test.go.html#6895294">a</a></span>&nbsp;<span class="op" id="6895337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895341"><a href="/encoding/gob/timing_test.go.html#6895294">a</a></span><span class="op" id="6895342">[</span><span class="ident" id="6895343"><a href="/encoding/gob/timing_test.go.html#6895324">i</a></span><span class="op" id="6895344">]</span>&nbsp;<span class="op" id="6895346">=</span>&nbsp;<span class="num" id="6895348">1234</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6895354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895357">err</span>&nbsp;<span class="op" id="6895361">:=</span>&nbsp;<span class="ident" id="6895364"><a href="/encoding/gob/timing_test.go.html#6895269">enc</a></span><span class="op" id="6895367">.</span><span class="ident" id="6895368">Encode</span><span class="op" id="6895374">(</span><span class="ident" id="6895375"><a href="/encoding/gob/timing_test.go.html#6895294">a</a></span><span class="op" id="6895376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895379">if</span>&nbsp;<span class="ident" id="6895382"><a href="/encoding/gob/timing_test.go.html#6895357">err</a></span>&nbsp;<span class="op" id="6895386">!=</span>&nbsp;<span class="ident" id="6895389">nil</span>&nbsp;<span class="op" id="6895393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895397"><a href="/encoding/gob/timing_test.go.html#6895230">b</a></span><span class="op" id="6895398">.</span><span class="ident" id="6895399">Fatal</span><span class="op" id="6895404">(</span><span class="ident" id="6895405"><a href="/encoding/gob/timing_test.go.html#6895357">err</a></span><span class="op" id="6895408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6895411">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895414">x</span>&nbsp;<span class="op" id="6895416">:=</span>&nbsp;<span class="builtinfunc" id="6895419">make</span><span class="op" id="6895423">(</span><span class="op" id="6895424">[</span><span class="op" id="6895425">]</span><span class="builtintype" id="6895426">int32</span><span class="op" id="6895431">,</span>&nbsp;<span class="num" id="6895433">1000</span><span class="op" id="6895437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895440">bbuf</span>&nbsp;<span class="op" id="6895445">:=</span>&nbsp;<span class="ident" id="6895448"><a href="/encoding/gob/timing_test.go.html#6893887">benchmarkBuf</a></span><span class="op" id="6895460">{</span><span class="ident" id="6895461">data</span><span class="op" id="6895465">:</span>&nbsp;<span class="ident" id="6895467"><a href="/encoding/gob/timing_test.go.html#6895251">buf</a></span><span class="op" id="6895470">.</span><span class="ident" id="6895471">Bytes</span><span class="op" id="6895476">(</span><span class="op" id="6895477">)</span><span class="op" id="6895478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895481"><a href="/encoding/gob/timing_test.go.html#6895230">b</a></span><span class="op" id="6895482">.</span><span class="ident" id="6895483">ResetTimer</span><span class="op" id="6895493">(</span><span class="op" id="6895494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895497">for</span>&nbsp;<span class="ident" id="6895501">i</span>&nbsp;<span class="op" id="6895503">:=</span>&nbsp;<span class="num" id="6895506">0</span><span class="op" id="6895507">;</span>&nbsp;<span class="ident" id="6895509"><a href="/encoding/gob/timing_test.go.html#6895501">i</a></span>&nbsp;<span class="op" id="6895511">&lt;</span>&nbsp;<span class="ident" id="6895513"><a href="/encoding/gob/timing_test.go.html#6895230">b</a></span><span class="op" id="6895514">.</span><span class="ident" id="6895515">N</span><span class="op" id="6895516">;</span>&nbsp;<span class="ident" id="6895518"><a href="/encoding/gob/timing_test.go.html#6895501">i</a></span><span class="op" id="6895519">++</span>&nbsp;<span class="op" id="6895522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895526"><a href="/encoding/gob/timing_test.go.html#6895440">bbuf</a></span><span class="op" id="6895530">.</span><span class="ident" id="6895531">reset</span><span class="op" id="6895536">(</span><span class="op" id="6895537">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895541">dec</span>&nbsp;<span class="op" id="6895545">:=</span>&nbsp;<span class="ident" id="6895548"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6895558">(</span><span class="op" id="6895559">&amp;</span><span class="ident" id="6895560"><a href="/encoding/gob/timing_test.go.html#6895440">bbuf</a></span><span class="op" id="6895564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895568">err</span>&nbsp;<span class="op" id="6895572">:=</span>&nbsp;<span class="ident" id="6895575"><a href="/encoding/gob/timing_test.go.html#6895541">dec</a></span><span class="op" id="6895578">.</span><span class="ident" id="6895579">Decode</span><span class="op" id="6895585">(</span><span class="op" id="6895586">&amp;</span><span class="ident" id="6895587"><a href="/encoding/gob/timing_test.go.html#6895414">x</a></span><span class="op" id="6895588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895592">if</span>&nbsp;<span class="ident" id="6895595"><a href="/encoding/gob/timing_test.go.html#6895568">err</a></span>&nbsp;<span class="op" id="6895599">!=</span>&nbsp;<span class="ident" id="6895602">nil</span>&nbsp;<span class="op" id="6895606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895611"><a href="/encoding/gob/timing_test.go.html#6895230">b</a></span><span class="op" id="6895612">.</span><span class="ident" id="6895613">Fatal</span><span class="op" id="6895618">(</span><span class="ident" id="6895619"><a href="/encoding/gob/timing_test.go.html#6895501">i</a></span><span class="op" id="6895620">,</span>&nbsp;<span class="ident" id="6895622"><a href="/encoding/gob/timing_test.go.html#6895568">err</a></span><span class="op" id="6895625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6895629">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6895632">}</span><br>
<span class="lineno"></span><span class="op" id="6895634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6895637">func</span>&nbsp;<span class="ident" id="6895642">BenchmarkDecodeStringSlice</span><span class="op" id="6895668">(</span><span class="ident" id="6895669">b</span>&nbsp;<span class="op" id="6895671">*</span><span class="ident" id="6895672"><a href="/encoding/gob/timing_test.go.html#6889919">testing</a></span><span class="op" id="6895679">.</span><span class="ident" id="6895680">B</span><span class="op" id="6895681">)</span>&nbsp;<span class="op" id="6895683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895686">var</span>&nbsp;<span class="ident" id="6895690">buf</span>&nbsp;<span class="ident" id="6895694"><a href="/encoding/gob/timing_test.go.html#6889887">bytes</a></span><span class="op" id="6895699">.</span><span class="ident" id="6895700">Buffer</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895708">enc</span>&nbsp;<span class="op" id="6895712">:=</span>&nbsp;<span class="ident" id="6895715"><a href="/encoding/gob/encoder.go.html#5916795">NewEncoder</a></span><span class="op" id="6895725">(</span><span class="op" id="6895726">&amp;</span><span class="ident" id="6895727"><a href="/encoding/gob/timing_test.go.html#6895690">buf</a></span><span class="op" id="6895730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895733">a</span>&nbsp;<span class="op" id="6895735">:=</span>&nbsp;<span class="builtinfunc" id="6895738">make</span><span class="op" id="6895742">(</span><span class="op" id="6895743">[</span><span class="op" id="6895744">]</span><span class="builtintype" id="6895745">string</span><span class="op" id="6895751">,</span>&nbsp;<span class="num" id="6895753">1000</span><span class="op" id="6895757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895760">for</span>&nbsp;<span class="ident" id="6895764">i</span>&nbsp;<span class="op" id="6895766">:=</span>&nbsp;<span class="keyword" id="6895769">range</span>&nbsp;<span class="ident" id="6895775"><a href="/encoding/gob/timing_test.go.html#6895733">a</a></span>&nbsp;<span class="op" id="6895777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895781"><a href="/encoding/gob/timing_test.go.html#6895733">a</a></span><span class="op" id="6895782">[</span><span class="ident" id="6895783"><a href="/encoding/gob/timing_test.go.html#6895764">i</a></span><span class="op" id="6895784">]</span>&nbsp;<span class="op" id="6895786">=</span>&nbsp;<span class="string" id="6895788">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6895807">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895810">err</span>&nbsp;<span class="op" id="6895814">:=</span>&nbsp;<span class="ident" id="6895817"><a href="/encoding/gob/timing_test.go.html#6895708">enc</a></span><span class="op" id="6895820">.</span><span class="ident" id="6895821">Encode</span><span class="op" id="6895827">(</span><span class="ident" id="6895828"><a href="/encoding/gob/timing_test.go.html#6895733">a</a></span><span class="op" id="6895829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895832">if</span>&nbsp;<span class="ident" id="6895835"><a href="/encoding/gob/timing_test.go.html#6895810">err</a></span>&nbsp;<span class="op" id="6895839">!=</span>&nbsp;<span class="ident" id="6895842">nil</span>&nbsp;<span class="op" id="6895846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895850"><a href="/encoding/gob/timing_test.go.html#6895669">b</a></span><span class="op" id="6895851">.</span><span class="ident" id="6895852">Fatal</span><span class="op" id="6895857">(</span><span class="ident" id="6895858"><a href="/encoding/gob/timing_test.go.html#6895810">err</a></span><span class="op" id="6895861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6895864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895867">x</span>&nbsp;<span class="op" id="6895869">:=</span>&nbsp;<span class="builtinfunc" id="6895872">make</span><span class="op" id="6895876">(</span><span class="op" id="6895877">[</span><span class="op" id="6895878">]</span><span class="builtintype" id="6895879">string</span><span class="op" id="6895885">,</span>&nbsp;<span class="num" id="6895887">1000</span><span class="op" id="6895891">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895894">bbuf</span>&nbsp;<span class="op" id="6895899">:=</span>&nbsp;<span class="ident" id="6895902"><a href="/encoding/gob/timing_test.go.html#6893887">benchmarkBuf</a></span><span class="op" id="6895914">{</span><span class="ident" id="6895915">data</span><span class="op" id="6895919">:</span>&nbsp;<span class="ident" id="6895921"><a href="/encoding/gob/timing_test.go.html#6895690">buf</a></span><span class="op" id="6895924">.</span><span class="ident" id="6895925">Bytes</span><span class="op" id="6895930">(</span><span class="op" id="6895931">)</span><span class="op" id="6895932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895935"><a href="/encoding/gob/timing_test.go.html#6895669">b</a></span><span class="op" id="6895936">.</span><span class="ident" id="6895937">ResetTimer</span><span class="op" id="6895947">(</span><span class="op" id="6895948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6895951">for</span>&nbsp;<span class="ident" id="6895955">i</span>&nbsp;<span class="op" id="6895957">:=</span>&nbsp;<span class="num" id="6895960">0</span><span class="op" id="6895961">;</span>&nbsp;<span class="ident" id="6895963"><a href="/encoding/gob/timing_test.go.html#6895955">i</a></span>&nbsp;<span class="op" id="6895965">&lt;</span>&nbsp;<span class="ident" id="6895967"><a href="/encoding/gob/timing_test.go.html#6895669">b</a></span><span class="op" id="6895968">.</span><span class="ident" id="6895969">N</span><span class="op" id="6895970">;</span>&nbsp;<span class="ident" id="6895972"><a href="/encoding/gob/timing_test.go.html#6895955">i</a></span><span class="op" id="6895973">++</span>&nbsp;<span class="op" id="6895976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895980"><a href="/encoding/gob/timing_test.go.html#6895894">bbuf</a></span><span class="op" id="6895984">.</span><span class="ident" id="6895985">reset</span><span class="op" id="6895990">(</span><span class="op" id="6895991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6895995">dec</span>&nbsp;<span class="op" id="6895999">:=</span>&nbsp;<span class="ident" id="6896002"><a href="/encoding/gob/decoder.go.html#5864380">NewDecoder</a></span><span class="op" id="6896012">(</span><span class="op" id="6896013">&amp;</span><span class="ident" id="6896014"><a href="/encoding/gob/timing_test.go.html#6895894">bbuf</a></span><span class="op" id="6896018">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6896022">err</span>&nbsp;<span class="op" id="6896026">:=</span>&nbsp;<span class="ident" id="6896029"><a href="/encoding/gob/timing_test.go.html#6895995">dec</a></span><span class="op" id="6896032">.</span><span class="ident" id="6896033">Decode</span><span class="op" id="6896039">(</span><span class="op" id="6896040">&amp;</span><span class="ident" id="6896041"><a href="/encoding/gob/timing_test.go.html#6895867">x</a></span><span class="op" id="6896042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6896046">if</span>&nbsp;<span class="ident" id="6896049"><a href="/encoding/gob/timing_test.go.html#6896022">err</a></span>&nbsp;<span class="op" id="6896053">!=</span>&nbsp;<span class="ident" id="6896056">nil</span>&nbsp;<span class="op" id="6896060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6896065"><a href="/encoding/gob/timing_test.go.html#6895669">b</a></span><span class="op" id="6896066">.</span><span class="ident" id="6896067">Fatal</span><span class="op" id="6896072">(</span><span class="ident" id="6896073"><a href="/encoding/gob/timing_test.go.html#6895955">i</a></span><span class="op" id="6896074">,</span>&nbsp;<span class="ident" id="6896076"><a href="/encoding/gob/timing_test.go.html#6896022">err</a></span><span class="op" id="6896079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6896083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6896086">}</span><br>
<span class="lineno">325</span><span class="op" id="6896088">}</span>
</div>
</body>
</html>
