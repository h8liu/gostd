<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html" class="current">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1591773">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;authors&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;Rob&nbsp;Pike&nbsp;and&nbsp;Ken&nbsp;Thompson.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;by&nbsp;Lucent&nbsp;Technologies.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<span class="lineno">5</span>&nbsp;*&nbsp;Permission&nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute&nbsp;this&nbsp;software&nbsp;for&nbsp;any<br>
<span class="lineno"></span>&nbsp;*&nbsp;purpose&nbsp;without&nbsp;fee&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;provided&nbsp;that&nbsp;this&nbsp;entire&nbsp;notice<br>
<span class="lineno"></span>&nbsp;*&nbsp;is&nbsp;included&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;any&nbsp;software&nbsp;which&nbsp;is&nbsp;or&nbsp;includes&nbsp;a&nbsp;copy<br>
<span class="lineno"></span>&nbsp;*&nbsp;or&nbsp;modification&nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;the&nbsp;supporting<br>
<span class="lineno"></span>&nbsp;*&nbsp;documentation&nbsp;for&nbsp;such&nbsp;software.<br>
<span class="lineno">10</span>&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;BEING&nbsp;PROVIDED&nbsp;&#34;AS&nbsp;IS&#34;,&nbsp;WITHOUT&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED<br>
<span class="lineno"></span>&nbsp;*&nbsp;WARRANTY.&nbsp;&nbsp;IN&nbsp;PARTICULAR,&nbsp;NEITHER&nbsp;THE&nbsp;AUTHORS&nbsp;NOR&nbsp;LUCENT&nbsp;TECHNOLOGIES&nbsp;MAKE&nbsp;ANY<br>
<span class="lineno"></span>&nbsp;*&nbsp;REPRESENTATION&nbsp;OR&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND&nbsp;CONCERNING&nbsp;THE&nbsp;MERCHANTABILITY<br>
<span class="lineno"></span>&nbsp;*&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE&nbsp;OR&nbsp;ITS&nbsp;FITNESS&nbsp;FOR&nbsp;ANY&nbsp;PARTICULAR&nbsp;PURPOSE.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1592602">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;code&nbsp;is&nbsp;copied,&nbsp;with&nbsp;slight&nbsp;editing&nbsp;due&nbsp;to&nbsp;type&nbsp;differences,<br>
<span class="lineno"></span>&nbsp;*&nbsp;from&nbsp;a&nbsp;subset&nbsp;of&nbsp;../lib9/utf/rune.c<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1592718">package</span>&nbsp;<span class="ident" id="1592726">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1592735">const</span>&nbsp;<span class="op" id="1592741">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592744">bit1</span>&nbsp;<span class="op" id="1592749">=</span>&nbsp;<span class="num" id="1592751">7</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592754">bitx</span>&nbsp;<span class="op" id="1592759">=</span>&nbsp;<span class="num" id="1592761">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592764">bit2</span>&nbsp;<span class="op" id="1592769">=</span>&nbsp;<span class="num" id="1592771">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592774">bit3</span>&nbsp;<span class="op" id="1592779">=</span>&nbsp;<span class="num" id="1592781">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592784">bit4</span>&nbsp;<span class="op" id="1592789">=</span>&nbsp;<span class="num" id="1592791">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592794">bit5</span>&nbsp;<span class="op" id="1592799">=</span>&nbsp;<span class="num" id="1592801">2</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592805">t1</span>&nbsp;<span class="op" id="1592808">=</span>&nbsp;<span class="op" id="1592810">(</span><span class="op" id="1592811">(</span><span class="num" id="1592812">1</span>&nbsp;<span class="op" id="1592814">&lt;&lt;</span>&nbsp;<span class="op" id="1592817">(</span><span class="ident" id="1592818">bit1</span>&nbsp;<span class="op" id="1592823">+</span>&nbsp;<span class="num" id="1592825">1</span><span class="op" id="1592826">)</span><span class="op" id="1592827">)</span>&nbsp;<span class="op" id="1592829">-</span>&nbsp;<span class="num" id="1592831">1</span><span class="op" id="1592832">)</span>&nbsp;<span class="op" id="1592834">^</span>&nbsp;<span class="num" id="1592836">0xFF</span>&nbsp;<span class="comment" id="1592841">/*&nbsp;0000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592858">tx</span>&nbsp;<span class="op" id="1592861">=</span>&nbsp;<span class="op" id="1592863">(</span><span class="op" id="1592864">(</span><span class="num" id="1592865">1</span>&nbsp;<span class="op" id="1592867">&lt;&lt;</span>&nbsp;<span class="op" id="1592870">(</span><span class="ident" id="1592871">bitx</span>&nbsp;<span class="op" id="1592876">+</span>&nbsp;<span class="num" id="1592878">1</span><span class="op" id="1592879">)</span><span class="op" id="1592880">)</span>&nbsp;<span class="op" id="1592882">-</span>&nbsp;<span class="num" id="1592884">1</span><span class="op" id="1592885">)</span>&nbsp;<span class="op" id="1592887">^</span>&nbsp;<span class="num" id="1592889">0xFF</span>&nbsp;<span class="comment" id="1592894">/*&nbsp;1000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592911">t2</span>&nbsp;<span class="op" id="1592914">=</span>&nbsp;<span class="op" id="1592916">(</span><span class="op" id="1592917">(</span><span class="num" id="1592918">1</span>&nbsp;<span class="op" id="1592920">&lt;&lt;</span>&nbsp;<span class="op" id="1592923">(</span><span class="ident" id="1592924">bit2</span>&nbsp;<span class="op" id="1592929">+</span>&nbsp;<span class="num" id="1592931">1</span><span class="op" id="1592932">)</span><span class="op" id="1592933">)</span>&nbsp;<span class="op" id="1592935">-</span>&nbsp;<span class="num" id="1592937">1</span><span class="op" id="1592938">)</span>&nbsp;<span class="op" id="1592940">^</span>&nbsp;<span class="num" id="1592942">0xFF</span>&nbsp;<span class="comment" id="1592947">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1592964">t3</span>&nbsp;<span class="op" id="1592967">=</span>&nbsp;<span class="op" id="1592969">(</span><span class="op" id="1592970">(</span><span class="num" id="1592971">1</span>&nbsp;<span class="op" id="1592973">&lt;&lt;</span>&nbsp;<span class="op" id="1592976">(</span><span class="ident" id="1592977">bit3</span>&nbsp;<span class="op" id="1592982">+</span>&nbsp;<span class="num" id="1592984">1</span><span class="op" id="1592985">)</span><span class="op" id="1592986">)</span>&nbsp;<span class="op" id="1592988">-</span>&nbsp;<span class="num" id="1592990">1</span><span class="op" id="1592991">)</span>&nbsp;<span class="op" id="1592993">^</span>&nbsp;<span class="num" id="1592995">0xFF</span>&nbsp;<span class="comment" id="1593000">/*&nbsp;1110&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593017">t4</span>&nbsp;<span class="op" id="1593020">=</span>&nbsp;<span class="op" id="1593022">(</span><span class="op" id="1593023">(</span><span class="num" id="1593024">1</span>&nbsp;<span class="op" id="1593026">&lt;&lt;</span>&nbsp;<span class="op" id="1593029">(</span><span class="ident" id="1593030">bit4</span>&nbsp;<span class="op" id="1593035">+</span>&nbsp;<span class="num" id="1593037">1</span><span class="op" id="1593038">)</span><span class="op" id="1593039">)</span>&nbsp;<span class="op" id="1593041">-</span>&nbsp;<span class="num" id="1593043">1</span><span class="op" id="1593044">)</span>&nbsp;<span class="op" id="1593046">^</span>&nbsp;<span class="num" id="1593048">0xFF</span>&nbsp;<span class="comment" id="1593053">/*&nbsp;1111&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593070">t5</span>&nbsp;<span class="op" id="1593073">=</span>&nbsp;<span class="op" id="1593075">(</span><span class="op" id="1593076">(</span><span class="num" id="1593077">1</span>&nbsp;<span class="op" id="1593079">&lt;&lt;</span>&nbsp;<span class="op" id="1593082">(</span><span class="ident" id="1593083">bit5</span>&nbsp;<span class="op" id="1593088">+</span>&nbsp;<span class="num" id="1593090">1</span><span class="op" id="1593091">)</span><span class="op" id="1593092">)</span>&nbsp;<span class="op" id="1593094">-</span>&nbsp;<span class="num" id="1593096">1</span><span class="op" id="1593097">)</span>&nbsp;<span class="op" id="1593099">^</span>&nbsp;<span class="num" id="1593101">0xFF</span>&nbsp;<span class="comment" id="1593106">/*&nbsp;1111&nbsp;1000&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593124">rune1</span>&nbsp;<span class="op" id="1593130">=</span>&nbsp;<span class="op" id="1593132">(</span><span class="num" id="1593133">1</span>&nbsp;<span class="op" id="1593135">&lt;&lt;</span>&nbsp;<span class="op" id="1593138">(</span><span class="ident" id="1593139">bit1</span>&nbsp;<span class="op" id="1593144">+</span>&nbsp;<span class="num" id="1593146">0</span><span class="op" id="1593147">*</span><span class="ident" id="1593148">bitx</span><span class="op" id="1593152">)</span><span class="op" id="1593153">)</span>&nbsp;<span class="op" id="1593155">-</span>&nbsp;<span class="num" id="1593157">1</span>&nbsp;<span class="comment" id="1593159">/*&nbsp;0000&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593186">rune2</span>&nbsp;<span class="op" id="1593192">=</span>&nbsp;<span class="op" id="1593194">(</span><span class="num" id="1593195">1</span>&nbsp;<span class="op" id="1593197">&lt;&lt;</span>&nbsp;<span class="op" id="1593200">(</span><span class="ident" id="1593201">bit2</span>&nbsp;<span class="op" id="1593206">+</span>&nbsp;<span class="num" id="1593208">1</span><span class="op" id="1593209">*</span><span class="ident" id="1593210">bitx</span><span class="op" id="1593214">)</span><span class="op" id="1593215">)</span>&nbsp;<span class="op" id="1593217">-</span>&nbsp;<span class="num" id="1593219">1</span>&nbsp;<span class="comment" id="1593221">/*&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593248">rune3</span>&nbsp;<span class="op" id="1593254">=</span>&nbsp;<span class="op" id="1593256">(</span><span class="num" id="1593257">1</span>&nbsp;<span class="op" id="1593259">&lt;&lt;</span>&nbsp;<span class="op" id="1593262">(</span><span class="ident" id="1593263">bit3</span>&nbsp;<span class="op" id="1593268">+</span>&nbsp;<span class="num" id="1593270">2</span><span class="op" id="1593271">*</span><span class="ident" id="1593272">bitx</span><span class="op" id="1593276">)</span><span class="op" id="1593277">)</span>&nbsp;<span class="op" id="1593279">-</span>&nbsp;<span class="num" id="1593281">1</span>&nbsp;<span class="comment" id="1593283">/*&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593310">rune4</span>&nbsp;<span class="op" id="1593316">=</span>&nbsp;<span class="op" id="1593318">(</span><span class="num" id="1593319">1</span>&nbsp;<span class="op" id="1593321">&lt;&lt;</span>&nbsp;<span class="op" id="1593324">(</span><span class="ident" id="1593325">bit4</span>&nbsp;<span class="op" id="1593330">+</span>&nbsp;<span class="num" id="1593332">3</span><span class="op" id="1593333">*</span><span class="ident" id="1593334">bitx</span><span class="op" id="1593338">)</span><span class="op" id="1593339">)</span>&nbsp;<span class="op" id="1593341">-</span>&nbsp;<span class="num" id="1593343">1</span>&nbsp;<span class="comment" id="1593345">/*&nbsp;0001&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593383">maskx</span>&nbsp;<span class="op" id="1593389">=</span>&nbsp;<span class="op" id="1593391">(</span><span class="num" id="1593392">1</span>&nbsp;<span class="op" id="1593394">&lt;&lt;</span>&nbsp;<span class="ident" id="1593397">bitx</span><span class="op" id="1593401">)</span>&nbsp;<span class="op" id="1593403">-</span>&nbsp;<span class="num" id="1593405">1</span>&nbsp;<span class="comment" id="1593407">/*&nbsp;0011&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593424">testx</span>&nbsp;<span class="op" id="1593430">=</span>&nbsp;<span class="ident" id="1593432">maskx</span>&nbsp;<span class="op" id="1593438">^</span>&nbsp;<span class="num" id="1593440">0xFF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1593448">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593466">runeerror</span>&nbsp;<span class="op" id="1593476">=</span>&nbsp;<span class="num" id="1593478">0xFFFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593486">runeself</span>&nbsp;&nbsp;<span class="op" id="1593496">=</span>&nbsp;<span class="num" id="1593498">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593505">surrogateMin</span>&nbsp;<span class="op" id="1593518">=</span>&nbsp;<span class="num" id="1593520">0xD800</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593528">surrogateMax</span>&nbsp;<span class="op" id="1593541">=</span>&nbsp;<span class="num" id="1593543">0xDFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593552">bad</span>&nbsp;<span class="op" id="1593556">=</span>&nbsp;<span class="ident" id="1593558">runeerror</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1593570">runemax</span>&nbsp;<span class="op" id="1593578">=</span>&nbsp;<span class="num" id="1593580">0x10FFFF</span>&nbsp;<span class="comment" id="1593589">/*&nbsp;maximum&nbsp;rune&nbsp;value&nbsp;*/</span><br>
<span class="lineno">55</span><span class="op" id="1593614">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1593617">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Modified&nbsp;by&nbsp;Wei-Hwa&nbsp;Huang,&nbsp;Google&nbsp;Inc.,&nbsp;on&nbsp;2004-09-24<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;is&nbsp;a&nbsp;slower&nbsp;but&nbsp;&#34;safe&#34;&nbsp;version&nbsp;of&nbsp;the&nbsp;old&nbsp;chartorune<br>
<span class="lineno">60</span>&nbsp;*&nbsp;that&nbsp;works&nbsp;on&nbsp;strings&nbsp;that&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;null-terminated.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;If&nbsp;you&nbsp;know&nbsp;for&nbsp;sure&nbsp;that&nbsp;your&nbsp;string&nbsp;is&nbsp;null-terminated,<br>
<span class="lineno"></span>&nbsp;*&nbsp;chartorune&nbsp;will&nbsp;be&nbsp;a&nbsp;bit&nbsp;faster.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno">65</span>&nbsp;*&nbsp;It&nbsp;is&nbsp;guaranteed&nbsp;not&nbsp;to&nbsp;attempt&nbsp;to&nbsp;access&nbsp;&#34;length&#34;<br>
<span class="lineno"></span>&nbsp;*&nbsp;past&nbsp;the&nbsp;incoming&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid<br>
<span class="lineno"></span>&nbsp;*&nbsp;possible&nbsp;access&nbsp;violations.&nbsp;&nbsp;If&nbsp;the&nbsp;string&nbsp;appears&nbsp;to&nbsp;be<br>
<span class="lineno"></span>&nbsp;*&nbsp;well-formed&nbsp;but&nbsp;incomplete&nbsp;(i.e.,&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;Rune<br>
<span class="lineno"></span>&nbsp;*&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;read&nbsp;past&nbsp;str+length)&nbsp;then&nbsp;we&#39;ll&nbsp;set&nbsp;the&nbsp;Rune<br>
<span class="lineno">70</span>&nbsp;*&nbsp;to&nbsp;Bad&nbsp;and&nbsp;return&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Note&nbsp;that&nbsp;if&nbsp;we&nbsp;have&nbsp;decoding&nbsp;problems&nbsp;for&nbsp;other<br>
<span class="lineno"></span>&nbsp;*&nbsp;reasons,&nbsp;we&nbsp;return&nbsp;1&nbsp;instead&nbsp;of&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">75</span><span class="keyword" id="1594312">func</span>&nbsp;<span class="ident" id="1594317">charntorune</span><span class="op" id="1594328">(</span><span class="ident" id="1594329">s</span>&nbsp;<span class="builtintype" id="1594331">string</span><span class="op" id="1594337">)</span>&nbsp;<span class="op" id="1594339">(</span><span class="builtintype" id="1594340">rune</span><span class="op" id="1594344">,</span>&nbsp;<span class="builtintype" id="1594346">int</span><span class="op" id="1594349">)</span>&nbsp;<span class="op" id="1594351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1594354">/*&nbsp;When&nbsp;we&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;read&nbsp;anything&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594401">if</span>&nbsp;<span class="builtinfunc" id="1594404">len</span><span class="op" id="1594407">(</span><span class="ident" id="1594408">s</span><span class="op" id="1594409">)</span>&nbsp;<span class="op" id="1594411">&lt;=</span>&nbsp;<span class="num" id="1594414">0</span>&nbsp;<span class="op" id="1594416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594420">return</span>&nbsp;<span class="ident" id="1594427">bad</span><span class="op" id="1594430">,</span>&nbsp;<span class="num" id="1594432">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594435">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1594439">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence&nbsp;(7-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;T1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1594511">c</span>&nbsp;<span class="op" id="1594513">:=</span>&nbsp;<span class="ident" id="1594516">s</span><span class="op" id="1594517">[</span><span class="num" id="1594518">0</span><span class="op" id="1594519">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594522">if</span>&nbsp;<span class="ident" id="1594525">c</span>&nbsp;<span class="op" id="1594527">&lt;</span>&nbsp;<span class="ident" id="1594529">tx</span>&nbsp;<span class="op" id="1594532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594536">return</span>&nbsp;<span class="builtintype" id="1594543">rune</span><span class="op" id="1594547">(</span><span class="ident" id="1594548">c</span><span class="op" id="1594549">)</span><span class="op" id="1594550">,</span>&nbsp;<span class="num" id="1594552">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1594559">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;one&nbsp;character&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594617">if</span>&nbsp;<span class="builtinfunc" id="1594620">len</span><span class="op" id="1594623">(</span><span class="ident" id="1594624">s</span><span class="op" id="1594625">)</span>&nbsp;<span class="op" id="1594627">&lt;=</span>&nbsp;<span class="num" id="1594630">1</span>&nbsp;<span class="op" id="1594632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594636">return</span>&nbsp;<span class="ident" id="1594643">bad</span><span class="op" id="1594646">,</span>&nbsp;<span class="num" id="1594648">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1594655">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence&nbsp;(11-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1594729">c1</span>&nbsp;<span class="op" id="1594732">:=</span>&nbsp;<span class="ident" id="1594735">s</span><span class="op" id="1594736">[</span><span class="num" id="1594737">1</span><span class="op" id="1594738">]</span>&nbsp;<span class="op" id="1594740">^</span>&nbsp;<span class="ident" id="1594742">tx</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594746">if</span>&nbsp;<span class="op" id="1594749">(</span><span class="ident" id="1594750">c1</span>&nbsp;<span class="op" id="1594753">&amp;</span>&nbsp;<span class="ident" id="1594755">testx</span><span class="op" id="1594760">)</span>&nbsp;<span class="op" id="1594762">!=</span>&nbsp;<span class="num" id="1594765">0</span>&nbsp;<span class="op" id="1594767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594771">return</span>&nbsp;<span class="ident" id="1594778">bad</span><span class="op" id="1594781">,</span>&nbsp;<span class="num" id="1594783">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594789">if</span>&nbsp;<span class="ident" id="1594792">c</span>&nbsp;<span class="op" id="1594794">&lt;</span>&nbsp;<span class="ident" id="1594796">t3</span>&nbsp;<span class="op" id="1594799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594803">if</span>&nbsp;<span class="ident" id="1594806">c</span>&nbsp;<span class="op" id="1594808">&lt;</span>&nbsp;<span class="ident" id="1594810">t2</span>&nbsp;<span class="op" id="1594813">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594818">return</span>&nbsp;<span class="ident" id="1594825">bad</span><span class="op" id="1594828">,</span>&nbsp;<span class="num" id="1594830">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1594838">l</span>&nbsp;<span class="op" id="1594840">:=</span>&nbsp;<span class="op" id="1594843">(</span><span class="op" id="1594844">(</span><span class="builtintype" id="1594845">rune</span><span class="op" id="1594849">(</span><span class="ident" id="1594850">c</span><span class="op" id="1594851">)</span>&nbsp;<span class="op" id="1594853">&lt;&lt;</span>&nbsp;<span class="ident" id="1594856">bitx</span><span class="op" id="1594860">)</span>&nbsp;<span class="op" id="1594862">|</span>&nbsp;<span class="builtintype" id="1594864">rune</span><span class="op" id="1594868">(</span><span class="ident" id="1594869">c1</span><span class="op" id="1594871">)</span><span class="op" id="1594872">)</span>&nbsp;<span class="op" id="1594874">&amp;</span>&nbsp;<span class="ident" id="1594876">rune2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594884">if</span>&nbsp;<span class="ident" id="1594887">l</span>&nbsp;<span class="op" id="1594889">&lt;=</span>&nbsp;<span class="ident" id="1594892">rune1</span>&nbsp;<span class="op" id="1594898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594903">return</span>&nbsp;<span class="ident" id="1594910">bad</span><span class="op" id="1594913">,</span>&nbsp;<span class="num" id="1594915">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594923">return</span>&nbsp;<span class="ident" id="1594930">l</span><span class="op" id="1594931">,</span>&nbsp;<span class="num" id="1594933">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1594940">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;two&nbsp;characters&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1594999">if</span>&nbsp;<span class="builtinfunc" id="1595002">len</span><span class="op" id="1595005">(</span><span class="ident" id="1595006">s</span><span class="op" id="1595007">)</span>&nbsp;<span class="op" id="1595009">&lt;=</span>&nbsp;<span class="num" id="1595012">2</span>&nbsp;<span class="op" id="1595014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595018">return</span>&nbsp;<span class="ident" id="1595025">bad</span><span class="op" id="1595028">,</span>&nbsp;<span class="num" id="1595030">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1595033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1595037">/*<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence&nbsp;(16-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1595116">c2</span>&nbsp;<span class="op" id="1595119">:=</span>&nbsp;<span class="ident" id="1595122">s</span><span class="op" id="1595123">[</span><span class="num" id="1595124">2</span><span class="op" id="1595125">]</span>&nbsp;<span class="op" id="1595127">^</span>&nbsp;<span class="ident" id="1595129">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595133">if</span>&nbsp;<span class="op" id="1595136">(</span><span class="ident" id="1595137">c2</span>&nbsp;<span class="op" id="1595140">&amp;</span>&nbsp;<span class="ident" id="1595142">testx</span><span class="op" id="1595147">)</span>&nbsp;<span class="op" id="1595149">!=</span>&nbsp;<span class="num" id="1595152">0</span>&nbsp;<span class="op" id="1595154">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595158">return</span>&nbsp;<span class="ident" id="1595165">bad</span><span class="op" id="1595168">,</span>&nbsp;<span class="num" id="1595170">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1595173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595176">if</span>&nbsp;<span class="ident" id="1595179">c</span>&nbsp;<span class="op" id="1595181">&lt;</span>&nbsp;<span class="ident" id="1595183">t4</span>&nbsp;<span class="op" id="1595186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1595190">l</span>&nbsp;<span class="op" id="1595192">:=</span>&nbsp;<span class="op" id="1595195">(</span><span class="op" id="1595196">(</span><span class="op" id="1595197">(</span><span class="op" id="1595198">(</span><span class="builtintype" id="1595199">rune</span><span class="op" id="1595203">(</span><span class="ident" id="1595204">c</span><span class="op" id="1595205">)</span>&nbsp;<span class="op" id="1595207">&lt;&lt;</span>&nbsp;<span class="ident" id="1595210">bitx</span><span class="op" id="1595214">)</span>&nbsp;<span class="op" id="1595216">|</span>&nbsp;<span class="builtintype" id="1595218">rune</span><span class="op" id="1595222">(</span><span class="ident" id="1595223">c1</span><span class="op" id="1595225">)</span><span class="op" id="1595226">)</span>&nbsp;<span class="op" id="1595228">&lt;&lt;</span>&nbsp;<span class="ident" id="1595231">bitx</span><span class="op" id="1595235">)</span>&nbsp;<span class="op" id="1595237">|</span>&nbsp;<span class="builtintype" id="1595239">rune</span><span class="op" id="1595243">(</span><span class="ident" id="1595244">c2</span><span class="op" id="1595246">)</span><span class="op" id="1595247">)</span>&nbsp;<span class="op" id="1595249">&amp;</span>&nbsp;<span class="ident" id="1595251">rune3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595259">if</span>&nbsp;<span class="ident" id="1595262">l</span>&nbsp;<span class="op" id="1595264">&lt;=</span>&nbsp;<span class="ident" id="1595267">rune2</span>&nbsp;<span class="op" id="1595273">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595278">return</span>&nbsp;<span class="ident" id="1595285">bad</span><span class="op" id="1595288">,</span>&nbsp;<span class="num" id="1595290">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1595294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595298">if</span>&nbsp;<span class="ident" id="1595301">surrogateMin</span>&nbsp;<span class="op" id="1595314">&lt;=</span>&nbsp;<span class="ident" id="1595317">l</span>&nbsp;<span class="op" id="1595319">&amp;&amp;</span>&nbsp;<span class="ident" id="1595322">l</span>&nbsp;<span class="op" id="1595324">&lt;=</span>&nbsp;<span class="ident" id="1595327">surrogateMax</span>&nbsp;<span class="op" id="1595340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595345">return</span>&nbsp;<span class="ident" id="1595352">bad</span><span class="op" id="1595355">,</span>&nbsp;<span class="num" id="1595357">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1595361">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595365">return</span>&nbsp;<span class="ident" id="1595372">l</span><span class="op" id="1595373">,</span>&nbsp;<span class="num" id="1595375">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1595378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595382">if</span>&nbsp;<span class="builtinfunc" id="1595385">len</span><span class="op" id="1595388">(</span><span class="ident" id="1595389">s</span><span class="op" id="1595390">)</span>&nbsp;<span class="op" id="1595392">&lt;=</span>&nbsp;<span class="num" id="1595395">3</span>&nbsp;<span class="op" id="1595397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595401">return</span>&nbsp;<span class="ident" id="1595408">bad</span><span class="op" id="1595411">,</span>&nbsp;<span class="num" id="1595413">1</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1595416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1595420">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1595504">c3</span>&nbsp;<span class="op" id="1595507">:=</span>&nbsp;<span class="ident" id="1595510">s</span><span class="op" id="1595511">[</span><span class="num" id="1595512">3</span><span class="op" id="1595513">]</span>&nbsp;<span class="op" id="1595515">^</span>&nbsp;<span class="ident" id="1595517">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595521">if</span>&nbsp;<span class="op" id="1595524">(</span><span class="ident" id="1595525">c3</span>&nbsp;<span class="op" id="1595528">&amp;</span>&nbsp;<span class="ident" id="1595530">testx</span><span class="op" id="1595535">)</span>&nbsp;<span class="op" id="1595537">!=</span>&nbsp;<span class="num" id="1595540">0</span>&nbsp;<span class="op" id="1595542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595546">return</span>&nbsp;<span class="ident" id="1595553">bad</span><span class="op" id="1595556">,</span>&nbsp;<span class="num" id="1595558">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1595561">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595564">if</span>&nbsp;<span class="ident" id="1595567">c</span>&nbsp;<span class="op" id="1595569">&lt;</span>&nbsp;<span class="ident" id="1595571">t5</span>&nbsp;<span class="op" id="1595574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1595578">l</span>&nbsp;<span class="op" id="1595580">:=</span>&nbsp;<span class="op" id="1595583">(</span><span class="op" id="1595584">(</span><span class="op" id="1595585">(</span><span class="op" id="1595586">(</span><span class="op" id="1595587">(</span><span class="op" id="1595588">(</span><span class="builtintype" id="1595589">rune</span><span class="op" id="1595593">(</span><span class="ident" id="1595594">c</span><span class="op" id="1595595">)</span>&nbsp;<span class="op" id="1595597">&lt;&lt;</span>&nbsp;<span class="ident" id="1595600">bitx</span><span class="op" id="1595604">)</span>&nbsp;<span class="op" id="1595606">|</span>&nbsp;<span class="builtintype" id="1595608">rune</span><span class="op" id="1595612">(</span><span class="ident" id="1595613">c1</span><span class="op" id="1595615">)</span><span class="op" id="1595616">)</span>&nbsp;<span class="op" id="1595618">&lt;&lt;</span>&nbsp;<span class="ident" id="1595621">bitx</span><span class="op" id="1595625">)</span>&nbsp;<span class="op" id="1595627">|</span>&nbsp;<span class="builtintype" id="1595629">rune</span><span class="op" id="1595633">(</span><span class="ident" id="1595634">c2</span><span class="op" id="1595636">)</span><span class="op" id="1595637">)</span>&nbsp;<span class="op" id="1595639">&lt;&lt;</span>&nbsp;<span class="ident" id="1595642">bitx</span><span class="op" id="1595646">)</span>&nbsp;<span class="op" id="1595648">|</span>&nbsp;<span class="builtintype" id="1595650">rune</span><span class="op" id="1595654">(</span><span class="ident" id="1595655">c3</span><span class="op" id="1595657">)</span><span class="op" id="1595658">)</span>&nbsp;<span class="op" id="1595660">&amp;</span>&nbsp;<span class="ident" id="1595662">rune4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595670">if</span>&nbsp;<span class="ident" id="1595673">l</span>&nbsp;<span class="op" id="1595675">&lt;=</span>&nbsp;<span class="ident" id="1595678">rune3</span>&nbsp;<span class="op" id="1595684">||</span>&nbsp;<span class="ident" id="1595687">l</span>&nbsp;<span class="op" id="1595689">&gt;</span>&nbsp;<span class="ident" id="1595691">runemax</span>&nbsp;<span class="op" id="1595699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595704">return</span>&nbsp;<span class="ident" id="1595711">bad</span><span class="op" id="1595714">,</span>&nbsp;<span class="num" id="1595716">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1595720">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595724">return</span>&nbsp;<span class="ident" id="1595731">l</span><span class="op" id="1595732">,</span>&nbsp;<span class="num" id="1595734">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1595737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1595741">//&nbsp;Support&nbsp;for&nbsp;5-byte&nbsp;or&nbsp;longer&nbsp;UTF-8&nbsp;would&nbsp;go&nbsp;here,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1595799">//&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;that,&nbsp;we&#39;ll&nbsp;just&nbsp;return&nbsp;bad.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1595852">return</span>&nbsp;<span class="ident" id="1595859">bad</span><span class="op" id="1595862">,</span>&nbsp;<span class="num" id="1595864">1</span><br>
<span class="lineno"></span><span class="op" id="1595866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1595869">//&nbsp;runetochar&nbsp;converts&nbsp;r&nbsp;to&nbsp;bytes&nbsp;and&nbsp;writes&nbsp;the&nbsp;result&nbsp;to&nbsp;str.</span><br>
<span class="lineno"></span><span class="comment" id="1595933">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;generated.</span><br>
<span class="lineno">165</span><span class="keyword" id="1595975">func</span>&nbsp;<span class="ident" id="1595980">runetochar</span><span class="op" id="1595990">(</span><span class="ident" id="1595991">str</span>&nbsp;<span class="op" id="1595995">[</span><span class="op" id="1595996">]</span><span class="builtintype" id="1595997">byte</span><span class="op" id="1596001">,</span>&nbsp;<span class="ident" id="1596003">r</span>&nbsp;<span class="builtintype" id="1596005">rune</span><span class="op" id="1596009">)</span>&nbsp;<span class="builtintype" id="1596011">int</span>&nbsp;<span class="op" id="1596015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1596018">/*&nbsp;runes&nbsp;are&nbsp;signed,&nbsp;so&nbsp;convert&nbsp;to&nbsp;unsigned&nbsp;for&nbsp;range&nbsp;check.&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1596083">c</span>&nbsp;<span class="op" id="1596085">:=</span>&nbsp;<span class="builtintype" id="1596088">uint32</span><span class="op" id="1596094">(</span><span class="ident" id="1596095">r</span><span class="op" id="1596096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1596099">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence<br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;00-7F<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1596160">if</span>&nbsp;<span class="ident" id="1596163">c</span>&nbsp;<span class="op" id="1596165">&lt;=</span>&nbsp;<span class="ident" id="1596168">rune1</span>&nbsp;<span class="op" id="1596174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1596178">str</span><span class="op" id="1596181">[</span><span class="num" id="1596182">0</span><span class="op" id="1596183">]</span>&nbsp;<span class="op" id="1596185">=</span>&nbsp;<span class="builtintype" id="1596187">byte</span><span class="op" id="1596191">(</span><span class="ident" id="1596192">c</span><span class="op" id="1596193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1596197">return</span>&nbsp;<span class="num" id="1596204">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1596207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1596210">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1596269">if</span>&nbsp;<span class="ident" id="1596272">c</span>&nbsp;<span class="op" id="1596274">&lt;=</span>&nbsp;<span class="ident" id="1596277">rune2</span>&nbsp;<span class="op" id="1596283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1596287">str</span><span class="op" id="1596290">[</span><span class="num" id="1596291">0</span><span class="op" id="1596292">]</span>&nbsp;<span class="op" id="1596294">=</span>&nbsp;<span class="builtintype" id="1596296">byte</span><span class="op" id="1596300">(</span><span class="ident" id="1596301">t2</span>&nbsp;<span class="op" id="1596304">|</span>&nbsp;<span class="op" id="1596306">(</span><span class="ident" id="1596307">c</span>&nbsp;<span class="op" id="1596309">&gt;&gt;</span>&nbsp;<span class="op" id="1596312">(</span><span class="num" id="1596313">1</span>&nbsp;<span class="op" id="1596315">*</span>&nbsp;<span class="ident" id="1596317">bitx</span><span class="op" id="1596321">)</span><span class="op" id="1596322">)</span><span class="op" id="1596323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1596327">str</span><span class="op" id="1596330">[</span><span class="num" id="1596331">1</span><span class="op" id="1596332">]</span>&nbsp;<span class="op" id="1596334">=</span>&nbsp;<span class="builtintype" id="1596336">byte</span><span class="op" id="1596340">(</span><span class="ident" id="1596341">tx</span>&nbsp;<span class="op" id="1596344">|</span>&nbsp;<span class="op" id="1596346">(</span><span class="ident" id="1596347">c</span>&nbsp;<span class="op" id="1596349">&amp;</span>&nbsp;<span class="ident" id="1596351">maskx</span><span class="op" id="1596356">)</span><span class="op" id="1596357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1596361">return</span>&nbsp;<span class="num" id="1596368">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1596371">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1596375">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;rune&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;a&nbsp;surrogate&nbsp;half,&nbsp;convert&nbsp;it&nbsp;to&nbsp;the&nbsp;error&nbsp;rune.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Do&nbsp;this&nbsp;test&nbsp;here&nbsp;because&nbsp;the&nbsp;error&nbsp;rune&nbsp;encodes&nbsp;to&nbsp;three&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Doing&nbsp;it&nbsp;earlier&nbsp;would&nbsp;duplicate&nbsp;work,&nbsp;since&nbsp;an&nbsp;out&nbsp;of&nbsp;range<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;rune&nbsp;wouldn&#39;t&nbsp;have&nbsp;fit&nbsp;in&nbsp;one&nbsp;or&nbsp;two&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1596649">if</span>&nbsp;<span class="ident" id="1596652">c</span>&nbsp;<span class="op" id="1596654">&gt;</span>&nbsp;<span class="ident" id="1596656">runemax</span>&nbsp;<span class="op" id="1596664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1596668">c</span>&nbsp;<span class="op" id="1596670">=</span>&nbsp;<span class="ident" id="1596672">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1596683">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1596686">if</span>&nbsp;<span class="ident" id="1596689">surrogateMin</span>&nbsp;<span class="op" id="1596702">&lt;=</span>&nbsp;<span class="ident" id="1596705">c</span>&nbsp;<span class="op" id="1596707">&amp;&amp;</span>&nbsp;<span class="ident" id="1596710">c</span>&nbsp;<span class="op" id="1596712">&lt;=</span>&nbsp;<span class="ident" id="1596715">surrogateMax</span>&nbsp;<span class="op" id="1596728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1596732">c</span>&nbsp;<span class="op" id="1596734">=</span>&nbsp;<span class="ident" id="1596736">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1596747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1596751">/*<br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1596815">if</span>&nbsp;<span class="ident" id="1596818">c</span>&nbsp;<span class="op" id="1596820">&lt;=</span>&nbsp;<span class="ident" id="1596823">rune3</span>&nbsp;<span class="op" id="1596829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1596833">str</span><span class="op" id="1596836">[</span><span class="num" id="1596837">0</span><span class="op" id="1596838">]</span>&nbsp;<span class="op" id="1596840">=</span>&nbsp;<span class="builtintype" id="1596842">byte</span><span class="op" id="1596846">(</span><span class="ident" id="1596847">t3</span>&nbsp;<span class="op" id="1596850">|</span>&nbsp;<span class="op" id="1596852">(</span><span class="ident" id="1596853">c</span>&nbsp;<span class="op" id="1596855">&gt;&gt;</span>&nbsp;<span class="op" id="1596858">(</span><span class="num" id="1596859">2</span>&nbsp;<span class="op" id="1596861">*</span>&nbsp;<span class="ident" id="1596863">bitx</span><span class="op" id="1596867">)</span><span class="op" id="1596868">)</span><span class="op" id="1596869">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1596873">str</span><span class="op" id="1596876">[</span><span class="num" id="1596877">1</span><span class="op" id="1596878">]</span>&nbsp;<span class="op" id="1596880">=</span>&nbsp;<span class="builtintype" id="1596882">byte</span><span class="op" id="1596886">(</span><span class="ident" id="1596887">tx</span>&nbsp;<span class="op" id="1596890">|</span>&nbsp;<span class="op" id="1596892">(</span><span class="op" id="1596893">(</span><span class="ident" id="1596894">c</span>&nbsp;<span class="op" id="1596896">&gt;&gt;</span>&nbsp;<span class="op" id="1596899">(</span><span class="num" id="1596900">1</span>&nbsp;<span class="op" id="1596902">*</span>&nbsp;<span class="ident" id="1596904">bitx</span><span class="op" id="1596908">)</span><span class="op" id="1596909">)</span>&nbsp;<span class="op" id="1596911">&amp;</span>&nbsp;<span class="ident" id="1596913">maskx</span><span class="op" id="1596918">)</span><span class="op" id="1596919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1596923">str</span><span class="op" id="1596926">[</span><span class="num" id="1596927">2</span><span class="op" id="1596928">]</span>&nbsp;<span class="op" id="1596930">=</span>&nbsp;<span class="builtintype" id="1596932">byte</span><span class="op" id="1596936">(</span><span class="ident" id="1596937">tx</span>&nbsp;<span class="op" id="1596940">|</span>&nbsp;<span class="op" id="1596942">(</span><span class="ident" id="1596943">c</span>&nbsp;<span class="op" id="1596945">&amp;</span>&nbsp;<span class="ident" id="1596947">maskx</span><span class="op" id="1596952">)</span><span class="op" id="1596953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1596957">return</span>&nbsp;<span class="num" id="1596964">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1596967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1596971">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1597059">str</span><span class="op" id="1597062">[</span><span class="num" id="1597063">0</span><span class="op" id="1597064">]</span>&nbsp;<span class="op" id="1597066">=</span>&nbsp;<span class="builtintype" id="1597068">byte</span><span class="op" id="1597072">(</span><span class="ident" id="1597073">t4</span>&nbsp;<span class="op" id="1597076">|</span>&nbsp;<span class="op" id="1597078">(</span><span class="ident" id="1597079">c</span>&nbsp;<span class="op" id="1597081">&gt;&gt;</span>&nbsp;<span class="op" id="1597084">(</span><span class="num" id="1597085">3</span>&nbsp;<span class="op" id="1597087">*</span>&nbsp;<span class="ident" id="1597089">bitx</span><span class="op" id="1597093">)</span><span class="op" id="1597094">)</span><span class="op" id="1597095">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1597098">str</span><span class="op" id="1597101">[</span><span class="num" id="1597102">1</span><span class="op" id="1597103">]</span>&nbsp;<span class="op" id="1597105">=</span>&nbsp;<span class="builtintype" id="1597107">byte</span><span class="op" id="1597111">(</span><span class="ident" id="1597112">tx</span>&nbsp;<span class="op" id="1597115">|</span>&nbsp;<span class="op" id="1597117">(</span><span class="op" id="1597118">(</span><span class="ident" id="1597119">c</span>&nbsp;<span class="op" id="1597121">&gt;&gt;</span>&nbsp;<span class="op" id="1597124">(</span><span class="num" id="1597125">2</span>&nbsp;<span class="op" id="1597127">*</span>&nbsp;<span class="ident" id="1597129">bitx</span><span class="op" id="1597133">)</span><span class="op" id="1597134">)</span>&nbsp;<span class="op" id="1597136">&amp;</span>&nbsp;<span class="ident" id="1597138">maskx</span><span class="op" id="1597143">)</span><span class="op" id="1597144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1597147">str</span><span class="op" id="1597150">[</span><span class="num" id="1597151">2</span><span class="op" id="1597152">]</span>&nbsp;<span class="op" id="1597154">=</span>&nbsp;<span class="builtintype" id="1597156">byte</span><span class="op" id="1597160">(</span><span class="ident" id="1597161">tx</span>&nbsp;<span class="op" id="1597164">|</span>&nbsp;<span class="op" id="1597166">(</span><span class="op" id="1597167">(</span><span class="ident" id="1597168">c</span>&nbsp;<span class="op" id="1597170">&gt;&gt;</span>&nbsp;<span class="op" id="1597173">(</span><span class="num" id="1597174">1</span>&nbsp;<span class="op" id="1597176">*</span>&nbsp;<span class="ident" id="1597178">bitx</span><span class="op" id="1597182">)</span><span class="op" id="1597183">)</span>&nbsp;<span class="op" id="1597185">&amp;</span>&nbsp;<span class="ident" id="1597187">maskx</span><span class="op" id="1597192">)</span><span class="op" id="1597193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1597196">str</span><span class="op" id="1597199">[</span><span class="num" id="1597200">3</span><span class="op" id="1597201">]</span>&nbsp;<span class="op" id="1597203">=</span>&nbsp;<span class="builtintype" id="1597205">byte</span><span class="op" id="1597209">(</span><span class="ident" id="1597210">tx</span>&nbsp;<span class="op" id="1597213">|</span>&nbsp;<span class="op" id="1597215">(</span><span class="ident" id="1597216">c</span>&nbsp;<span class="op" id="1597218">&amp;</span>&nbsp;<span class="ident" id="1597220">maskx</span><span class="op" id="1597225">)</span><span class="op" id="1597226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1597229">return</span>&nbsp;<span class="num" id="1597236">4</span><br>
<span class="lineno"></span><span class="op" id="1597238">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
