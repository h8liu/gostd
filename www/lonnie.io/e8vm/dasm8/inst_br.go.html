<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="4959483">package</span>&nbsp;<span class="ident" id="4959491">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4959498">import</span>&nbsp;<span class="op" id="4959505">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4959508">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4959514">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4959517">var</span>&nbsp;<span class="op" id="4959521">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959524">opBrMap</span>&nbsp;<span class="op" id="4959532">=</span>&nbsp;<span class="keyword" id="4959534">map</span><span class="op" id="4959537">[</span><span class="builtintype" id="4959538">uint32</span><span class="op" id="4959544">]</span><span class="builtintype" id="4959545">string</span><span class="op" id="4959551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4959555">32</span><span class="op" id="4959557">:</span>&nbsp;<span class="string" id="4959559">&#34;bne&#34;</span><span class="op" id="4959564">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4959568">33</span><span class="op" id="4959570">:</span>&nbsp;<span class="string" id="4959572">&#34;beq&#34;</span><span class="op" id="4959577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4959580">}</span><br>
<span class="lineno"></span><span class="op" id="4959582">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4959585">func</span>&nbsp;<span class="ident" id="4959590">instBr</span><span class="op" id="4959596">(</span><span class="ident" id="4959597">addr</span>&nbsp;<span class="builtintype" id="4959602">uint32</span><span class="op" id="4959608">,</span>&nbsp;<span class="ident" id="4959610">in</span>&nbsp;<span class="builtintype" id="4959613">uint32</span><span class="op" id="4959619">)</span>&nbsp;<span class="op" id="4959621">*</span><span class="ident" id="4959622">Line</span>&nbsp;<span class="op" id="4959627">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959630">op</span>&nbsp;<span class="op" id="4959633">:=</span>&nbsp;<span class="op" id="4959636">(</span><span class="ident" id="4959637">in</span>&nbsp;<span class="op" id="4959640">&gt;&gt;</span>&nbsp;<span class="num" id="4959643">24</span><span class="op" id="4959645">)</span>&nbsp;<span class="op" id="4959647">&amp;</span>&nbsp;<span class="num" id="4959649">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959655">src1</span>&nbsp;<span class="op" id="4959660">:=</span>&nbsp;<span class="ident" id="4959663">regStr</span><span class="op" id="4959669">(</span><span class="op" id="4959670">(</span><span class="ident" id="4959671">in</span>&nbsp;<span class="op" id="4959674">&gt;&gt;</span>&nbsp;<span class="num" id="4959677">21</span><span class="op" id="4959679">)</span>&nbsp;<span class="op" id="4959681">&amp;</span>&nbsp;<span class="num" id="4959683">0x7</span><span class="op" id="4959686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959689">src2</span>&nbsp;<span class="op" id="4959694">:=</span>&nbsp;<span class="ident" id="4959697">regStr</span><span class="op" id="4959703">(</span><span class="op" id="4959704">(</span><span class="ident" id="4959705">in</span>&nbsp;<span class="op" id="4959708">&gt;&gt;</span>&nbsp;<span class="num" id="4959711">18</span><span class="op" id="4959713">)</span>&nbsp;<span class="op" id="4959715">&amp;</span>&nbsp;<span class="num" id="4959717">0x7</span><span class="op" id="4959720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959723">im</span>&nbsp;<span class="op" id="4959726">:=</span>&nbsp;<span class="ident" id="4959729">in</span>&nbsp;<span class="op" id="4959732">&amp;</span>&nbsp;<span class="num" id="4959734">0x3ffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959743">off</span>&nbsp;<span class="op" id="4959747">:=</span>&nbsp;<span class="builtintype" id="4959750">int32</span><span class="op" id="4959755">(</span><span class="ident" id="4959756">im</span><span class="op" id="4959758">&lt;&lt;</span><span class="num" id="4959760">14</span><span class="op" id="4959762">)</span>&nbsp;<span class="op" id="4959764">&gt;&gt;</span>&nbsp;<span class="num" id="4959767">12</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959772">ret</span>&nbsp;<span class="op" id="4959776">:=</span>&nbsp;<span class="ident" id="4959779">newLine</span><span class="op" id="4959786">(</span><span class="ident" id="4959787">addr</span><span class="op" id="4959791">,</span>&nbsp;<span class="ident" id="4959793">in</span><span class="op" id="4959795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4959798">if</span>&nbsp;<span class="ident" id="4959801">opStr</span><span class="op" id="4959806">,</span>&nbsp;<span class="ident" id="4959808">found</span>&nbsp;<span class="op" id="4959814">:=</span>&nbsp;<span class="ident" id="4959817">opBrMap</span><span class="op" id="4959824">[</span><span class="ident" id="4959825">op</span><span class="op" id="4959827">]</span><span class="op" id="4959828">;</span>&nbsp;<span class="ident" id="4959830">found</span>&nbsp;<span class="op" id="4959836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959840">s</span>&nbsp;<span class="op" id="4959842">:=</span>&nbsp;<span class="ident" id="4959845">fmt</span><span class="op" id="4959848">.</span><span class="ident" id="4959849">Sprintf</span><span class="op" id="4959856">(</span><span class="string" id="4959857">&#34;%s&nbsp;%s&nbsp;%s&nbsp;%d&#34;</span><span class="op" id="4959870">,</span>&nbsp;<span class="ident" id="4959872">opStr</span><span class="op" id="4959877">,</span>&nbsp;<span class="ident" id="4959879">src1</span><span class="op" id="4959883">,</span>&nbsp;<span class="ident" id="4959885">src2</span><span class="op" id="4959889">,</span>&nbsp;<span class="ident" id="4959891">off</span><span class="op" id="4959894">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959899">ret</span><span class="op" id="4959902">.</span><span class="ident" id="4959903">Str</span>&nbsp;<span class="op" id="4959907">=</span>&nbsp;<span class="ident" id="4959909">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959913">ret</span><span class="op" id="4959916">.</span><span class="ident" id="4959917">IsJump</span>&nbsp;<span class="op" id="4959924">=</span>&nbsp;<span class="ident" id="4959926">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4959933">ret</span><span class="op" id="4959936">.</span><span class="ident" id="4959937">To</span>&nbsp;<span class="op" id="4959940">=</span>&nbsp;<span class="ident" id="4959942">addr</span>&nbsp;<span class="op" id="4959947">+</span>&nbsp;<span class="num" id="4959949">4</span>&nbsp;<span class="op" id="4959951">+</span>&nbsp;<span class="builtintype" id="4959953">uint32</span><span class="op" id="4959959">(</span><span class="ident" id="4959960">off</span><span class="op" id="4959963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4959966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4959970">return</span>&nbsp;<span class="ident" id="4959977">ret</span><br>
<span class="lineno"></span><span class="op" id="4959981">}</span>
</div>
</body>
</html>
