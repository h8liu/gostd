<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3360936">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3360991">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3361045">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3361096">package</span>&nbsp;<span class="ident" id="3361104">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3361111">import</span>&nbsp;<span class="op" id="3361118">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3361121">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3361128">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3361139">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3361150">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3361165">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3361168">//&nbsp;item&nbsp;represents&nbsp;a&nbsp;token&nbsp;or&nbsp;text&nbsp;string&nbsp;returned&nbsp;from&nbsp;the&nbsp;scanner.</span><br>
<span class="lineno">15</span><span class="keyword" id="3361237">type</span>&nbsp;<span class="ident" id="3361242">item</span>&nbsp;<span class="keyword" id="3361247">struct</span>&nbsp;<span class="op" id="3361254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3361257">typ</span>&nbsp;<span class="ident" id="3361261"><a href="/text/template/parse/lex.go.html#3361762">itemType</a></span>&nbsp;<span class="comment" id="3361270">//&nbsp;The&nbsp;type&nbsp;of&nbsp;this&nbsp;item.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3361297">pos</span>&nbsp;<span class="ident" id="3361301"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361310">//&nbsp;The&nbsp;starting&nbsp;position,&nbsp;in&nbsp;bytes,&nbsp;of&nbsp;this&nbsp;item&nbsp;in&nbsp;the&nbsp;input&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3361381">val</span>&nbsp;<span class="builtintype" id="3361385">string</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3361394">//&nbsp;The&nbsp;value&nbsp;of&nbsp;this&nbsp;item.</span><br>
<span class="lineno"></span><span class="op" id="3361421">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="3361424">func</span>&nbsp;<span class="op" id="3361429">(</span><span class="ident" id="3361430">i</span>&nbsp;<span class="ident" id="3361432"><a href="/text/template/parse/lex.go.html#3361242">item</a></span><span class="op" id="3361436">)</span>&nbsp;<span class="ident" id="3361438">String</span><span class="op" id="3361444">(</span><span class="op" id="3361445">)</span>&nbsp;<span class="builtintype" id="3361447">string</span>&nbsp;<span class="op" id="3361454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361457">switch</span>&nbsp;<span class="op" id="3361464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361467">case</span>&nbsp;<span class="ident" id="3361472"><a href="/text/template/parse/lex.go.html#3361430">i</a></span><span class="op" id="3361473">.</span><span class="ident" id="3361474">typ</span>&nbsp;<span class="op" id="3361478">==</span>&nbsp;<span class="ident" id="3361481"><a href="/text/template/parse/lex.go.html#3362231">itemEOF</a></span><span class="op" id="3361488">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361492">return</span>&nbsp;<span class="string" id="3361499">&#34;EOF&#34;</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361506">case</span>&nbsp;<span class="ident" id="3361511"><a href="/text/template/parse/lex.go.html#3361430">i</a></span><span class="op" id="3361512">.</span><span class="ident" id="3361513">typ</span>&nbsp;<span class="op" id="3361517">==</span>&nbsp;<span class="ident" id="3361520"><a href="/text/template/parse/lex.go.html#3361785">itemError</a></span><span class="op" id="3361529">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361533">return</span>&nbsp;<span class="ident" id="3361540"><a href="/text/template/parse/lex.go.html#3361430">i</a></span><span class="op" id="3361541">.</span><span class="ident" id="3361542">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361547">case</span>&nbsp;<span class="ident" id="3361552"><a href="/text/template/parse/lex.go.html#3361430">i</a></span><span class="op" id="3361553">.</span><span class="ident" id="3361554">typ</span>&nbsp;<span class="op" id="3361558">&gt;</span>&nbsp;<span class="ident" id="3361560"><a href="/text/template/parse/lex.go.html#3362918">itemKeyword</a></span><span class="op" id="3361571">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361575">return</span>&nbsp;<span class="ident" id="3361582"><a href="/text/template/parse/lex.go.html#3361121">fmt</a></span><span class="op" id="3361585">.</span><span class="ident" id="3361586">Sprintf</span><span class="op" id="3361593">(</span><span class="string" id="3361594">&#34;&lt;%s&gt;&#34;</span><span class="op" id="3361600">,</span>&nbsp;<span class="ident" id="3361602"><a href="/text/template/parse/lex.go.html#3361430">i</a></span><span class="op" id="3361603">.</span><span class="ident" id="3361604">val</span><span class="op" id="3361607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361610">case</span>&nbsp;<span class="builtinfunc" id="3361615">len</span><span class="op" id="3361618">(</span><span class="ident" id="3361619"><a href="/text/template/parse/lex.go.html#3361430">i</a></span><span class="op" id="3361620">.</span><span class="ident" id="3361621">val</span><span class="op" id="3361624">)</span>&nbsp;<span class="op" id="3361626">&gt;</span>&nbsp;<span class="num" id="3361628">10</span><span class="op" id="3361630">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361634">return</span>&nbsp;<span class="ident" id="3361641"><a href="/text/template/parse/lex.go.html#3361121">fmt</a></span><span class="op" id="3361644">.</span><span class="ident" id="3361645">Sprintf</span><span class="op" id="3361652">(</span><span class="string" id="3361653">&#34;%.10q...&#34;</span><span class="op" id="3361663">,</span>&nbsp;<span class="ident" id="3361665"><a href="/text/template/parse/lex.go.html#3361430">i</a></span><span class="op" id="3361666">.</span><span class="ident" id="3361667">val</span><span class="op" id="3361670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3361673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3361676">return</span>&nbsp;<span class="ident" id="3361683"><a href="/text/template/parse/lex.go.html#3361121">fmt</a></span><span class="op" id="3361686">.</span><span class="ident" id="3361687">Sprintf</span><span class="op" id="3361694">(</span><span class="string" id="3361695">&#34;%q&#34;</span><span class="op" id="3361699">,</span>&nbsp;<span class="ident" id="3361701"><a href="/text/template/parse/lex.go.html#3361430">i</a></span><span class="op" id="3361702">.</span><span class="ident" id="3361703">val</span><span class="op" id="3361706">)</span><br>
<span class="lineno"></span><span class="op" id="3361708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3361711">//&nbsp;itemType&nbsp;identifies&nbsp;the&nbsp;type&nbsp;of&nbsp;lex&nbsp;items.</span><br>
<span class="lineno"></span><span class="keyword" id="3361757">type</span>&nbsp;<span class="ident" id="3361762">itemType</span>&nbsp;<span class="builtintype" id="3361771">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3361776">const</span>&nbsp;<span class="op" id="3361782">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3361785">itemError</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3361802"><a href="/text/template/parse/lex.go.html#3361762">itemType</a></span>&nbsp;<span class="op" id="3361811">=</span>&nbsp;<span class="ident" id="3361813">iota</span>&nbsp;<span class="comment" id="3361818">//&nbsp;error&nbsp;occurred;&nbsp;value&nbsp;is&nbsp;text&nbsp;of&nbsp;error</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3361861">itemBool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361894">//&nbsp;boolean&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3361915">itemChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3361948">//&nbsp;printable&nbsp;ASCII&nbsp;character;&nbsp;grab&nbsp;bag&nbsp;for&nbsp;comma&nbsp;etc.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362003">itemCharConstant</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362036">//&nbsp;character&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362059">itemComplex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362092">//&nbsp;complex&nbsp;constant&nbsp;(1+2i);&nbsp;imaginary&nbsp;is&nbsp;just&nbsp;a&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362148">itemColonEquals</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362181">//&nbsp;colon-equals&nbsp;(&#39;:=&#39;)&nbsp;introducing&nbsp;a&nbsp;declaration</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362231">itemEOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362240">itemField</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362255">//&nbsp;alphanumeric&nbsp;identifier&nbsp;starting&nbsp;with&nbsp;&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362301">itemIdentifier</span>&nbsp;<span class="comment" id="3362316">//&nbsp;alphanumeric&nbsp;identifier&nbsp;not&nbsp;starting&nbsp;with&nbsp;&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362366">itemLeftDelim</span>&nbsp;&nbsp;<span class="comment" id="3362381">//&nbsp;left&nbsp;action&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362407">itemLeftParen</span>&nbsp;&nbsp;<span class="comment" id="3362422">//&nbsp;&#39;(&#39;&nbsp;inside&nbsp;action</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362444">itemNumber</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362459">//&nbsp;simple&nbsp;number,&nbsp;including&nbsp;imaginary</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362498">itemPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362513">//&nbsp;pipe&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362529">itemRawString</span>&nbsp;&nbsp;<span class="comment" id="3362544">//&nbsp;raw&nbsp;quoted&nbsp;string&nbsp;(includes&nbsp;quotes)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362584">itemRightDelim</span>&nbsp;<span class="comment" id="3362599">//&nbsp;right&nbsp;action&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362626">itemRightParen</span>&nbsp;<span class="comment" id="3362641">//&nbsp;&#39;)&#39;&nbsp;inside&nbsp;action</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362663">itemSpace</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362678">//&nbsp;run&nbsp;of&nbsp;spaces&nbsp;separating&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362717">itemString</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362732">//&nbsp;quoted&nbsp;string&nbsp;(includes&nbsp;quotes)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362768">itemText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362783">//&nbsp;plain&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362798">itemVariable</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3362813">//&nbsp;variable&nbsp;starting&nbsp;with&nbsp;&#39;$&#39;,&nbsp;such&nbsp;as&nbsp;&#39;$&#39;&nbsp;or&nbsp;&nbsp;&#39;$1&#39;&nbsp;or&nbsp;&#39;$hello&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3362878">//&nbsp;Keywords&nbsp;appear&nbsp;after&nbsp;all&nbsp;the&nbsp;rest.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362918">itemKeyword</span>&nbsp;&nbsp;<span class="comment" id="3362931">//&nbsp;used&nbsp;only&nbsp;to&nbsp;delimit&nbsp;the&nbsp;keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3362969">itemDot</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3362982">//&nbsp;the&nbsp;cursor,&nbsp;spelled&nbsp;&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363010">itemDefine</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3363023">//&nbsp;define&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363042">itemElse</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363055">//&nbsp;else&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363072">itemEnd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363085">//&nbsp;end&nbsp;keyword</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363101">itemIf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363114">//&nbsp;if&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363129">itemNil</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363142">//&nbsp;the&nbsp;untyped&nbsp;nil&nbsp;constant,&nbsp;easiest&nbsp;to&nbsp;treat&nbsp;as&nbsp;a&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363202">itemRange</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363215">//&nbsp;range&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363233">itemTemplate</span>&nbsp;<span class="comment" id="3363246">//&nbsp;template&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363267">itemWith</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363280">//&nbsp;with&nbsp;keyword</span><br>
<span class="lineno">70</span><span class="op" id="3363296">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3363299">var</span>&nbsp;<span class="ident" id="3363303">key</span>&nbsp;<span class="op" id="3363307">=</span>&nbsp;<span class="keyword" id="3363309">map</span><span class="op" id="3363312">[</span><span class="builtintype" id="3363313">string</span><span class="op" id="3363319">]</span><span class="ident" id="3363320"><a href="/text/template/parse/lex.go.html#3361762">itemType</a></span><span class="op" id="3363328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3363331">&#34;.&#34;</span><span class="op" id="3363334">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363343"><a href="/text/template/parse/lex.go.html#3362969">itemDot</a></span><span class="op" id="3363350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3363353">&#34;define&#34;</span><span class="op" id="3363361">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3363365"><a href="/text/template/parse/lex.go.html#3363010">itemDefine</a></span><span class="op" id="3363375">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3363378">&#34;else&#34;</span><span class="op" id="3363384">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363390"><a href="/text/template/parse/lex.go.html#3363042">itemElse</a></span><span class="op" id="3363398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3363401">&#34;end&#34;</span><span class="op" id="3363406">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363413"><a href="/text/template/parse/lex.go.html#3363072">itemEnd</a></span><span class="op" id="3363420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3363423">&#34;if&#34;</span><span class="op" id="3363427">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363435"><a href="/text/template/parse/lex.go.html#3363101">itemIf</a></span><span class="op" id="3363441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3363444">&#34;range&#34;</span><span class="op" id="3363451">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363456"><a href="/text/template/parse/lex.go.html#3363202">itemRange</a></span><span class="op" id="3363465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3363468">&#34;nil&#34;</span><span class="op" id="3363473">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363480"><a href="/text/template/parse/lex.go.html#3363129">itemNil</a></span><span class="op" id="3363487">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3363490">&#34;template&#34;</span><span class="op" id="3363500">:</span>&nbsp;<span class="ident" id="3363502"><a href="/text/template/parse/lex.go.html#3363233">itemTemplate</a></span><span class="op" id="3363514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3363517">&#34;with&#34;</span><span class="op" id="3363523">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363529"><a href="/text/template/parse/lex.go.html#3363267">itemWith</a></span><span class="op" id="3363537">,</span><br>
<span class="lineno"></span><span class="op" id="3363539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3363542">const</span>&nbsp;<span class="ident" id="3363548">eof</span>&nbsp;<span class="op" id="3363552">=</span>&nbsp;<span class="op" id="3363554">-</span><span class="num" id="3363555">1</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="3363558">//&nbsp;stateFn&nbsp;represents&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;scanner&nbsp;as&nbsp;a&nbsp;function&nbsp;that&nbsp;returns&nbsp;the&nbsp;next&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="3363648">type</span>&nbsp;<span class="ident" id="3363653">stateFn</span>&nbsp;<span class="keyword" id="3363661">func</span><span class="op" id="3363665">(</span><span class="op" id="3363666">*</span><span class="ident" id="3363667"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3363672">)</span>&nbsp;<span class="ident" id="3363674"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3363683">//&nbsp;lexer&nbsp;holds&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;scanner.</span><br>
<span class="lineno">90</span><span class="keyword" id="3363724">type</span>&nbsp;<span class="ident" id="3363729">lexer</span>&nbsp;<span class="keyword" id="3363735">struct</span>&nbsp;<span class="op" id="3363742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363745">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3363756">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363766">//&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;input;&nbsp;used&nbsp;only&nbsp;for&nbsp;error&nbsp;reports</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363821">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3363832">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363842">//&nbsp;the&nbsp;string&nbsp;being&nbsp;scanned</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363871">leftDelim</span>&nbsp;&nbsp;<span class="builtintype" id="3363882">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363892">//&nbsp;start&nbsp;of&nbsp;action</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363912">rightDelim</span>&nbsp;<span class="builtintype" id="3363923">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3363933">//&nbsp;end&nbsp;of&nbsp;action</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3363951">state</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3363962"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3363972">//&nbsp;the&nbsp;next&nbsp;lexing&nbsp;function&nbsp;to&nbsp;enter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364010">pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364021"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3364031">//&nbsp;current&nbsp;position&nbsp;in&nbsp;the&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364065">start</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364076"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3364086">//&nbsp;start&nbsp;position&nbsp;of&nbsp;this&nbsp;item</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364118">width</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364129"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3364139">//&nbsp;width&nbsp;of&nbsp;last&nbsp;rune&nbsp;read&nbsp;from&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364178">lastPos</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3364189"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3364199">//&nbsp;position&nbsp;of&nbsp;most&nbsp;recent&nbsp;item&nbsp;returned&nbsp;by&nbsp;nextItem</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364253">items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3364264">chan</span>&nbsp;<span class="ident" id="3364269"><a href="/text/template/parse/lex.go.html#3361242">item</a></span>&nbsp;<span class="comment" id="3364274">//&nbsp;channel&nbsp;of&nbsp;scanned&nbsp;items</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364303">parenDepth</span>&nbsp;<span class="builtintype" id="3364314">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3364324">//&nbsp;nesting&nbsp;depth&nbsp;of&nbsp;(&nbsp;)&nbsp;exprs</span><br>
<span class="lineno"></span><span class="op" id="3364354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3364357">//&nbsp;next&nbsp;returns&nbsp;the&nbsp;next&nbsp;rune&nbsp;in&nbsp;the&nbsp;input.</span><br>
<span class="lineno">105</span><span class="keyword" id="3364401">func</span>&nbsp;<span class="op" id="3364406">(</span><span class="ident" id="3364407">l</span>&nbsp;<span class="op" id="3364409">*</span><span class="ident" id="3364410"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3364415">)</span>&nbsp;<span class="ident" id="3364417">next</span><span class="op" id="3364421">(</span><span class="op" id="3364422">)</span>&nbsp;<span class="builtintype" id="3364424">rune</span>&nbsp;<span class="op" id="3364429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3364432">if</span>&nbsp;<span class="builtintype" id="3364435">int</span><span class="op" id="3364438">(</span><span class="ident" id="3364439"><a href="/text/template/parse/lex.go.html#3364407">l</a></span><span class="op" id="3364440">.</span><span class="ident" id="3364441">pos</span><span class="op" id="3364444">)</span>&nbsp;<span class="op" id="3364446">&gt;=</span>&nbsp;<span class="builtinfunc" id="3364449">len</span><span class="op" id="3364452">(</span><span class="ident" id="3364453"><a href="/text/template/parse/lex.go.html#3364407">l</a></span><span class="op" id="3364454">.</span><span class="ident" id="3364455">input</span><span class="op" id="3364460">)</span>&nbsp;<span class="op" id="3364462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364466"><a href="/text/template/parse/lex.go.html#3364407">l</a></span><span class="op" id="3364467">.</span><span class="ident" id="3364468">width</span>&nbsp;<span class="op" id="3364474">=</span>&nbsp;<span class="num" id="3364476">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3364480">return</span>&nbsp;<span class="ident" id="3364487"><a href="/text/template/parse/lex.go.html#3363548">eof</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3364492">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364495">r</span><span class="op" id="3364496">,</span>&nbsp;<span class="ident" id="3364498">w</span>&nbsp;<span class="op" id="3364500">:=</span>&nbsp;<span class="ident" id="3364503"><a href="/text/template/parse/lex.go.html#3361150">utf8</a></span><span class="op" id="3364507">.</span><span class="ident" id="3364508">DecodeRuneInString</span><span class="op" id="3364526">(</span><span class="ident" id="3364527"><a href="/text/template/parse/lex.go.html#3364407">l</a></span><span class="op" id="3364528">.</span><span class="ident" id="3364529">input</span><span class="op" id="3364534">[</span><span class="ident" id="3364535"><a href="/text/template/parse/lex.go.html#3364407">l</a></span><span class="op" id="3364536">.</span><span class="ident" id="3364537">pos</span><span class="op" id="3364540">:</span><span class="op" id="3364541">]</span><span class="op" id="3364542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364545"><a href="/text/template/parse/lex.go.html#3364407">l</a></span><span class="op" id="3364546">.</span><span class="ident" id="3364547">width</span>&nbsp;<span class="op" id="3364553">=</span>&nbsp;<span class="ident" id="3364555"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span><span class="op" id="3364558">(</span><span class="ident" id="3364559"><a href="/text/template/parse/lex.go.html#3364498">w</a></span><span class="op" id="3364560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364563"><a href="/text/template/parse/lex.go.html#3364407">l</a></span><span class="op" id="3364564">.</span><span class="ident" id="3364565">pos</span>&nbsp;<span class="op" id="3364569">+=</span>&nbsp;<span class="ident" id="3364572"><a href="/text/template/parse/lex.go.html#3364407">l</a></span><span class="op" id="3364573">.</span><span class="ident" id="3364574">width</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3364581">return</span>&nbsp;<span class="ident" id="3364588"><a href="/text/template/parse/lex.go.html#3364495">r</a></span><br>
<span class="lineno"></span><span class="op" id="3364590">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="3364593">//&nbsp;peek&nbsp;returns&nbsp;but&nbsp;does&nbsp;not&nbsp;consume&nbsp;the&nbsp;next&nbsp;rune&nbsp;in&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span><span class="keyword" id="3364658">func</span>&nbsp;<span class="op" id="3364663">(</span><span class="ident" id="3364664">l</span>&nbsp;<span class="op" id="3364666">*</span><span class="ident" id="3364667"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3364672">)</span>&nbsp;<span class="ident" id="3364674">peek</span><span class="op" id="3364678">(</span><span class="op" id="3364679">)</span>&nbsp;<span class="builtintype" id="3364681">rune</span>&nbsp;<span class="op" id="3364686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364689">r</span>&nbsp;<span class="op" id="3364691">:=</span>&nbsp;<span class="ident" id="3364694"><a href="/text/template/parse/lex.go.html#3364664">l</a></span><span class="op" id="3364695">.</span><span class="ident" id="3364696">next</span><span class="op" id="3364700">(</span><span class="op" id="3364701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364704"><a href="/text/template/parse/lex.go.html#3364664">l</a></span><span class="op" id="3364705">.</span><span class="ident" id="3364706">backup</span><span class="op" id="3364712">(</span><span class="op" id="3364713">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3364716">return</span>&nbsp;<span class="ident" id="3364723"><a href="/text/template/parse/lex.go.html#3364689">r</a></span><br>
<span class="lineno"></span><span class="op" id="3364725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3364728">//&nbsp;backup&nbsp;steps&nbsp;back&nbsp;one&nbsp;rune.&nbsp;Can&nbsp;only&nbsp;be&nbsp;called&nbsp;once&nbsp;per&nbsp;call&nbsp;of&nbsp;next.</span><br>
<span class="lineno"></span><span class="keyword" id="3364801">func</span>&nbsp;<span class="op" id="3364806">(</span><span class="ident" id="3364807">l</span>&nbsp;<span class="op" id="3364809">*</span><span class="ident" id="3364810"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3364815">)</span>&nbsp;<span class="ident" id="3364817">backup</span><span class="op" id="3364823">(</span><span class="op" id="3364824">)</span>&nbsp;<span class="op" id="3364826">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364829"><a href="/text/template/parse/lex.go.html#3364807">l</a></span><span class="op" id="3364830">.</span><span class="ident" id="3364831">pos</span>&nbsp;<span class="op" id="3364835">-=</span>&nbsp;<span class="ident" id="3364838"><a href="/text/template/parse/lex.go.html#3364807">l</a></span><span class="op" id="3364839">.</span><span class="ident" id="3364840">width</span><br>
<span class="lineno"></span><span class="op" id="3364846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3364849">//&nbsp;emit&nbsp;passes&nbsp;an&nbsp;item&nbsp;back&nbsp;to&nbsp;the&nbsp;client.</span><br>
<span class="lineno"></span><span class="keyword" id="3364892">func</span>&nbsp;<span class="op" id="3364897">(</span><span class="ident" id="3364898">l</span>&nbsp;<span class="op" id="3364900">*</span><span class="ident" id="3364901"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3364906">)</span>&nbsp;<span class="ident" id="3364908">emit</span><span class="op" id="3364912">(</span><span class="ident" id="3364913">t</span>&nbsp;<span class="ident" id="3364915"><a href="/text/template/parse/lex.go.html#3361762">itemType</a></span><span class="op" id="3364923">)</span>&nbsp;<span class="op" id="3364925">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364928"><a href="/text/template/parse/lex.go.html#3364898">l</a></span><span class="op" id="3364929">.</span><span class="ident" id="3364930">items</span>&nbsp;<span class="op" id="3364936">&lt;-</span>&nbsp;<span class="ident" id="3364939"><a href="/text/template/parse/lex.go.html#3361242">item</a></span><span class="op" id="3364943">{</span><span class="ident" id="3364944"><a href="/text/template/parse/lex.go.html#3364913">t</a></span><span class="op" id="3364945">,</span>&nbsp;<span class="ident" id="3364947"><a href="/text/template/parse/lex.go.html#3364898">l</a></span><span class="op" id="3364948">.</span><span class="ident" id="3364949">start</span><span class="op" id="3364954">,</span>&nbsp;<span class="ident" id="3364956"><a href="/text/template/parse/lex.go.html#3364898">l</a></span><span class="op" id="3364957">.</span><span class="ident" id="3364958">input</span><span class="op" id="3364963">[</span><span class="ident" id="3364964"><a href="/text/template/parse/lex.go.html#3364898">l</a></span><span class="op" id="3364965">.</span><span class="ident" id="3364966">start</span><span class="op" id="3364971">:</span><span class="ident" id="3364972"><a href="/text/template/parse/lex.go.html#3364898">l</a></span><span class="op" id="3364973">.</span><span class="ident" id="3364974">pos</span><span class="op" id="3364977">]</span><span class="op" id="3364978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3364981"><a href="/text/template/parse/lex.go.html#3364898">l</a></span><span class="op" id="3364982">.</span><span class="ident" id="3364983">start</span>&nbsp;<span class="op" id="3364989">=</span>&nbsp;<span class="ident" id="3364991"><a href="/text/template/parse/lex.go.html#3364898">l</a></span><span class="op" id="3364992">.</span><span class="ident" id="3364993">pos</span><br>
<span class="lineno"></span><span class="op" id="3364997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3365000">//&nbsp;ignore&nbsp;skips&nbsp;over&nbsp;the&nbsp;pending&nbsp;input&nbsp;before&nbsp;this&nbsp;point.</span><br>
<span class="lineno">135</span><span class="keyword" id="3365058">func</span>&nbsp;<span class="op" id="3365063">(</span><span class="ident" id="3365064">l</span>&nbsp;<span class="op" id="3365066">*</span><span class="ident" id="3365067"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3365072">)</span>&nbsp;<span class="ident" id="3365074">ignore</span><span class="op" id="3365080">(</span><span class="op" id="3365081">)</span>&nbsp;<span class="op" id="3365083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3365086"><a href="/text/template/parse/lex.go.html#3365064">l</a></span><span class="op" id="3365087">.</span><span class="ident" id="3365088">start</span>&nbsp;<span class="op" id="3365094">=</span>&nbsp;<span class="ident" id="3365096"><a href="/text/template/parse/lex.go.html#3365064">l</a></span><span class="op" id="3365097">.</span><span class="ident" id="3365098">pos</span><br>
<span class="lineno"></span><span class="op" id="3365102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3365105">//&nbsp;accept&nbsp;consumes&nbsp;the&nbsp;next&nbsp;rune&nbsp;if&nbsp;it&#39;s&nbsp;from&nbsp;the&nbsp;valid&nbsp;set.</span><br>
<span class="lineno">140</span><span class="keyword" id="3365166">func</span>&nbsp;<span class="op" id="3365171">(</span><span class="ident" id="3365172">l</span>&nbsp;<span class="op" id="3365174">*</span><span class="ident" id="3365175"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3365180">)</span>&nbsp;<span class="ident" id="3365182">accept</span><span class="op" id="3365188">(</span><span class="ident" id="3365189">valid</span>&nbsp;<span class="builtintype" id="3365195">string</span><span class="op" id="3365201">)</span>&nbsp;<span class="builtintype" id="3365203">bool</span>&nbsp;<span class="op" id="3365208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3365211">if</span>&nbsp;<span class="ident" id="3365214"><a href="/text/template/parse/lex.go.html#3361128">strings</a></span><span class="op" id="3365221">.</span><span class="ident" id="3365222">IndexRune</span><span class="op" id="3365231">(</span><span class="ident" id="3365232"><a href="/text/template/parse/lex.go.html#3365189">valid</a></span><span class="op" id="3365237">,</span>&nbsp;<span class="ident" id="3365239"><a href="/text/template/parse/lex.go.html#3365172">l</a></span><span class="op" id="3365240">.</span><span class="ident" id="3365241">next</span><span class="op" id="3365245">(</span><span class="op" id="3365246">)</span><span class="op" id="3365247">)</span>&nbsp;<span class="op" id="3365249">&gt;=</span>&nbsp;<span class="num" id="3365252">0</span>&nbsp;<span class="op" id="3365254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3365258">return</span>&nbsp;<span class="ident" id="3365265">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3365271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3365274"><a href="/text/template/parse/lex.go.html#3365172">l</a></span><span class="op" id="3365275">.</span><span class="ident" id="3365276">backup</span><span class="op" id="3365282">(</span><span class="op" id="3365283">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3365286">return</span>&nbsp;<span class="ident" id="3365293">false</span><br>
<span class="lineno"></span><span class="op" id="3365299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3365302">//&nbsp;acceptRun&nbsp;consumes&nbsp;a&nbsp;run&nbsp;of&nbsp;runes&nbsp;from&nbsp;the&nbsp;valid&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="3365359">func</span>&nbsp;<span class="op" id="3365364">(</span><span class="ident" id="3365365">l</span>&nbsp;<span class="op" id="3365367">*</span><span class="ident" id="3365368"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3365373">)</span>&nbsp;<span class="ident" id="3365375">acceptRun</span><span class="op" id="3365384">(</span><span class="ident" id="3365385">valid</span>&nbsp;<span class="builtintype" id="3365391">string</span><span class="op" id="3365397">)</span>&nbsp;<span class="op" id="3365399">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3365402">for</span>&nbsp;<span class="ident" id="3365406"><a href="/text/template/parse/lex.go.html#3361128">strings</a></span><span class="op" id="3365413">.</span><span class="ident" id="3365414">IndexRune</span><span class="op" id="3365423">(</span><span class="ident" id="3365424"><a href="/text/template/parse/lex.go.html#3365385">valid</a></span><span class="op" id="3365429">,</span>&nbsp;<span class="ident" id="3365431"><a href="/text/template/parse/lex.go.html#3365365">l</a></span><span class="op" id="3365432">.</span><span class="ident" id="3365433">next</span><span class="op" id="3365437">(</span><span class="op" id="3365438">)</span><span class="op" id="3365439">)</span>&nbsp;<span class="op" id="3365441">&gt;=</span>&nbsp;<span class="num" id="3365444">0</span>&nbsp;<span class="op" id="3365446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3365449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3365452"><a href="/text/template/parse/lex.go.html#3365365">l</a></span><span class="op" id="3365453">.</span><span class="ident" id="3365454">backup</span><span class="op" id="3365460">(</span><span class="op" id="3365461">)</span><br>
<span class="lineno"></span><span class="op" id="3365463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="3365466">//&nbsp;lineNumber&nbsp;reports&nbsp;which&nbsp;line&nbsp;we&#39;re&nbsp;on,&nbsp;based&nbsp;on&nbsp;the&nbsp;position&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3365534">//&nbsp;the&nbsp;previous&nbsp;item&nbsp;returned&nbsp;by&nbsp;nextItem.&nbsp;Doing&nbsp;it&nbsp;this&nbsp;way</span><br>
<span class="lineno"></span><span class="comment" id="3365595">//&nbsp;means&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;to&nbsp;worry&nbsp;about&nbsp;peek&nbsp;double&nbsp;counting.</span><br>
<span class="lineno"></span><span class="keyword" id="3365655">func</span>&nbsp;<span class="op" id="3365660">(</span><span class="ident" id="3365661">l</span>&nbsp;<span class="op" id="3365663">*</span><span class="ident" id="3365664"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3365669">)</span>&nbsp;<span class="ident" id="3365671">lineNumber</span><span class="op" id="3365681">(</span><span class="op" id="3365682">)</span>&nbsp;<span class="builtintype" id="3365684">int</span>&nbsp;<span class="op" id="3365688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3365691">return</span>&nbsp;<span class="num" id="3365698">1</span>&nbsp;<span class="op" id="3365700">+</span>&nbsp;<span class="ident" id="3365702"><a href="/text/template/parse/lex.go.html#3361128">strings</a></span><span class="op" id="3365709">.</span><span class="ident" id="3365710">Count</span><span class="op" id="3365715">(</span><span class="ident" id="3365716"><a href="/text/template/parse/lex.go.html#3365661">l</a></span><span class="op" id="3365717">.</span><span class="ident" id="3365718">input</span><span class="op" id="3365723">[</span><span class="op" id="3365724">:</span><span class="ident" id="3365725"><a href="/text/template/parse/lex.go.html#3365661">l</a></span><span class="op" id="3365726">.</span><span class="ident" id="3365727">lastPos</span><span class="op" id="3365734">]</span><span class="op" id="3365735">,</span>&nbsp;<span class="string" id="3365737">&#34;\n&#34;</span><span class="op" id="3365741">)</span><br>
<span class="lineno">160</span><span class="op" id="3365743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3365746">//&nbsp;errorf&nbsp;returns&nbsp;an&nbsp;error&nbsp;token&nbsp;and&nbsp;terminates&nbsp;the&nbsp;scan&nbsp;by&nbsp;passing</span><br>
<span class="lineno"></span><span class="comment" id="3365814">//&nbsp;back&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;that&nbsp;will&nbsp;be&nbsp;the&nbsp;next&nbsp;state,&nbsp;terminating&nbsp;l.nextItem.</span><br>
<span class="lineno"></span><span class="keyword" id="3365889">func</span>&nbsp;<span class="op" id="3365894">(</span><span class="ident" id="3365895">l</span>&nbsp;<span class="op" id="3365897">*</span><span class="ident" id="3365898"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3365903">)</span>&nbsp;<span class="ident" id="3365905">errorf</span><span class="op" id="3365911">(</span><span class="ident" id="3365912">format</span>&nbsp;<span class="builtintype" id="3365919">string</span><span class="op" id="3365925">,</span>&nbsp;<span class="ident" id="3365927">args</span>&nbsp;<span class="op" id="3365932">...</span><span class="keyword" id="3365935">interface</span><span class="op" id="3365944">{</span><span class="op" id="3365945">}</span><span class="op" id="3365946">)</span>&nbsp;<span class="ident" id="3365948"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3365956">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3365959"><a href="/text/template/parse/lex.go.html#3365895">l</a></span><span class="op" id="3365960">.</span><span class="ident" id="3365961">items</span>&nbsp;<span class="op" id="3365967">&lt;-</span>&nbsp;<span class="ident" id="3365970"><a href="/text/template/parse/lex.go.html#3361242">item</a></span><span class="op" id="3365974">{</span><span class="ident" id="3365975"><a href="/text/template/parse/lex.go.html#3361785">itemError</a></span><span class="op" id="3365984">,</span>&nbsp;<span class="ident" id="3365986"><a href="/text/template/parse/lex.go.html#3365895">l</a></span><span class="op" id="3365987">.</span><span class="ident" id="3365988">start</span><span class="op" id="3365993">,</span>&nbsp;<span class="ident" id="3365995"><a href="/text/template/parse/lex.go.html#3361121">fmt</a></span><span class="op" id="3365998">.</span><span class="ident" id="3365999">Sprintf</span><span class="op" id="3366006">(</span><span class="ident" id="3366007"><a href="/text/template/parse/lex.go.html#3365912">format</a></span><span class="op" id="3366013">,</span>&nbsp;<span class="ident" id="3366015"><a href="/text/template/parse/lex.go.html#3365927">args</a></span><span class="op" id="3366019">...</span><span class="op" id="3366022">)</span><span class="op" id="3366023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366026">return</span>&nbsp;<span class="ident" id="3366033">nil</span><br>
<span class="lineno"></span><span class="op" id="3366037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3366040">//&nbsp;nextItem&nbsp;returns&nbsp;the&nbsp;next&nbsp;item&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno">170</span><span class="keyword" id="3366090">func</span>&nbsp;<span class="op" id="3366095">(</span><span class="ident" id="3366096">l</span>&nbsp;<span class="op" id="3366098">*</span><span class="ident" id="3366099"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3366104">)</span>&nbsp;<span class="ident" id="3366106">nextItem</span><span class="op" id="3366114">(</span><span class="op" id="3366115">)</span>&nbsp;<span class="ident" id="3366117"><a href="/text/template/parse/lex.go.html#3361242">item</a></span>&nbsp;<span class="op" id="3366122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366125">item</span>&nbsp;<span class="op" id="3366130">:=</span>&nbsp;<span class="op" id="3366133">&lt;-</span><span class="ident" id="3366135"><a href="/text/template/parse/lex.go.html#3366096">l</a></span><span class="op" id="3366136">.</span><span class="ident" id="3366137">items</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366144"><a href="/text/template/parse/lex.go.html#3366096">l</a></span><span class="op" id="3366145">.</span><span class="ident" id="3366146">lastPos</span>&nbsp;<span class="op" id="3366154">=</span>&nbsp;<span class="ident" id="3366156"><a href="/text/template/parse/lex.go.html#3366125">item</a></span><span class="op" id="3366160">.</span><span class="ident" id="3366161">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366166">return</span>&nbsp;<span class="ident" id="3366173"><a href="/text/template/parse/lex.go.html#3366125">item</a></span><br>
<span class="lineno"></span><span class="op" id="3366178">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="3366181">//&nbsp;lex&nbsp;creates&nbsp;a&nbsp;new&nbsp;scanner&nbsp;for&nbsp;the&nbsp;input&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3366232">func</span>&nbsp;<span class="ident" id="3366237">lex</span><span class="op" id="3366240">(</span><span class="ident" id="3366241">name</span><span class="op" id="3366245">,</span>&nbsp;<span class="ident" id="3366247">input</span><span class="op" id="3366252">,</span>&nbsp;<span class="ident" id="3366254">left</span><span class="op" id="3366258">,</span>&nbsp;<span class="ident" id="3366260">right</span>&nbsp;<span class="builtintype" id="3366266">string</span><span class="op" id="3366272">)</span>&nbsp;<span class="op" id="3366274">*</span><span class="ident" id="3366275"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span>&nbsp;<span class="op" id="3366281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366284">if</span>&nbsp;<span class="ident" id="3366287"><a href="/text/template/parse/lex.go.html#3366254">left</a></span>&nbsp;<span class="op" id="3366292">==</span>&nbsp;<span class="string" id="3366295">&#34;&#34;</span>&nbsp;<span class="op" id="3366298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366302"><a href="/text/template/parse/lex.go.html#3366254">left</a></span>&nbsp;<span class="op" id="3366307">=</span>&nbsp;<span class="ident" id="3366309"><a href="/text/template/parse/lex.go.html#3366688">leftDelim</a></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3366320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366323">if</span>&nbsp;<span class="ident" id="3366326"><a href="/text/template/parse/lex.go.html#3366260">right</a></span>&nbsp;<span class="op" id="3366332">==</span>&nbsp;<span class="string" id="3366335">&#34;&#34;</span>&nbsp;<span class="op" id="3366338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366342"><a href="/text/template/parse/lex.go.html#3366260">right</a></span>&nbsp;<span class="op" id="3366348">=</span>&nbsp;<span class="ident" id="3366350"><a href="/text/template/parse/lex.go.html#3366709">rightDelim</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3366362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366365">l</span>&nbsp;<span class="op" id="3366367">:=</span>&nbsp;<span class="op" id="3366370">&amp;</span><span class="ident" id="3366371"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3366376">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366380">name</span><span class="op" id="3366384">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3366392"><a href="/text/template/parse/lex.go.html#3366241">name</a></span><span class="op" id="3366396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366400">input</span><span class="op" id="3366405">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3366412"><a href="/text/template/parse/lex.go.html#3366247">input</a></span><span class="op" id="3366417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366421">leftDelim</span><span class="op" id="3366430">:</span>&nbsp;&nbsp;<span class="ident" id="3366433"><a href="/text/template/parse/lex.go.html#3366254">left</a></span><span class="op" id="3366437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366441">rightDelim</span><span class="op" id="3366451">:</span>&nbsp;<span class="ident" id="3366453"><a href="/text/template/parse/lex.go.html#3366260">right</a></span><span class="op" id="3366458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366462">items</span><span class="op" id="3366467">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3366474">make</span><span class="op" id="3366478">(</span><span class="keyword" id="3366479">chan</span>&nbsp;<span class="ident" id="3366484"><a href="/text/template/parse/lex.go.html#3361242">item</a></span><span class="op" id="3366488">)</span><span class="op" id="3366489">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3366492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366495">go</span>&nbsp;<span class="ident" id="3366498"><a href="/text/template/parse/lex.go.html#3366365">l</a></span><span class="op" id="3366499">.</span><span class="ident" id="3366500">run</span><span class="op" id="3366503">(</span><span class="op" id="3366504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366507">return</span>&nbsp;<span class="ident" id="3366514"><a href="/text/template/parse/lex.go.html#3366365">l</a></span><br>
<span class="lineno"></span><span class="op" id="3366516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="3366519">//&nbsp;run&nbsp;runs&nbsp;the&nbsp;state&nbsp;machine&nbsp;for&nbsp;the&nbsp;lexer.</span><br>
<span class="lineno"></span><span class="keyword" id="3366564">func</span>&nbsp;<span class="op" id="3366569">(</span><span class="ident" id="3366570">l</span>&nbsp;<span class="op" id="3366572">*</span><span class="ident" id="3366573"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3366578">)</span>&nbsp;<span class="ident" id="3366580">run</span><span class="op" id="3366583">(</span><span class="op" id="3366584">)</span>&nbsp;<span class="op" id="3366586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366589">for</span>&nbsp;<span class="ident" id="3366593"><a href="/text/template/parse/lex.go.html#3366570">l</a></span><span class="op" id="3366594">.</span><span class="ident" id="3366595">state</span>&nbsp;<span class="op" id="3366601">=</span>&nbsp;<span class="ident" id="3366603"><a href="/text/template/parse/lex.go.html#3366837">lexText</a></span><span class="op" id="3366610">;</span>&nbsp;<span class="ident" id="3366612"><a href="/text/template/parse/lex.go.html#3366570">l</a></span><span class="op" id="3366613">.</span><span class="ident" id="3366614">state</span>&nbsp;<span class="op" id="3366620">!=</span>&nbsp;<span class="ident" id="3366623">nil</span><span class="op" id="3366626">;</span>&nbsp;<span class="op" id="3366628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366632"><a href="/text/template/parse/lex.go.html#3366570">l</a></span><span class="op" id="3366633">.</span><span class="ident" id="3366634">state</span>&nbsp;<span class="op" id="3366640">=</span>&nbsp;<span class="ident" id="3366642"><a href="/text/template/parse/lex.go.html#3366570">l</a></span><span class="op" id="3366643">.</span><span class="ident" id="3366644">state</span><span class="op" id="3366649">(</span><span class="ident" id="3366650"><a href="/text/template/parse/lex.go.html#3366570">l</a></span><span class="op" id="3366651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3366654">}</span><br>
<span class="lineno">200</span><span class="op" id="3366656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3366659">//&nbsp;state&nbsp;functions</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3366679">const</span>&nbsp;<span class="op" id="3366685">(</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366688">leftDelim</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3366701">=</span>&nbsp;<span class="string" id="3366703">&#34;{{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366709">rightDelim</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3366722">=</span>&nbsp;<span class="string" id="3366724">&#34;}}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366730">leftComment</span>&nbsp;&nbsp;<span class="op" id="3366743">=</span>&nbsp;<span class="string" id="3366745">&#34;/*&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366751">rightComment</span>&nbsp;<span class="op" id="3366764">=</span>&nbsp;<span class="string" id="3366766">&#34;*/&#34;</span><br>
<span class="lineno"></span><span class="op" id="3366771">)</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="3366774">//&nbsp;lexText&nbsp;scans&nbsp;until&nbsp;an&nbsp;opening&nbsp;action&nbsp;delimiter,&nbsp;&#34;{{&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3366832">func</span>&nbsp;<span class="ident" id="3366837">lexText</span><span class="op" id="3366844">(</span><span class="ident" id="3366845">l</span>&nbsp;<span class="op" id="3366847">*</span><span class="ident" id="3366848"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3366853">)</span>&nbsp;<span class="ident" id="3366855"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3366863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366866">for</span>&nbsp;<span class="op" id="3366870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366874">if</span>&nbsp;<span class="ident" id="3366877"><a href="/text/template/parse/lex.go.html#3361128">strings</a></span><span class="op" id="3366884">.</span><span class="ident" id="3366885">HasPrefix</span><span class="op" id="3366894">(</span><span class="ident" id="3366895"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3366896">.</span><span class="ident" id="3366897">input</span><span class="op" id="3366902">[</span><span class="ident" id="3366903"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3366904">.</span><span class="ident" id="3366905">pos</span><span class="op" id="3366908">:</span><span class="op" id="3366909">]</span><span class="op" id="3366910">,</span>&nbsp;<span class="ident" id="3366912"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3366913">.</span><span class="ident" id="3366914">leftDelim</span><span class="op" id="3366923">)</span>&nbsp;<span class="op" id="3366925">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366930">if</span>&nbsp;<span class="ident" id="3366933"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3366934">.</span><span class="ident" id="3366935">pos</span>&nbsp;<span class="op" id="3366939">&gt;</span>&nbsp;<span class="ident" id="3366941"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3366942">.</span><span class="ident" id="3366943">start</span>&nbsp;<span class="op" id="3366949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3366955"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3366956">.</span><span class="ident" id="3366957">emit</span><span class="op" id="3366961">(</span><span class="ident" id="3366962"><a href="/text/template/parse/lex.go.html#3362768">itemText</a></span><span class="op" id="3366970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3366975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3366980">return</span>&nbsp;<span class="ident" id="3366987"><a href="/text/template/parse/lex.go.html#3367223">lexLeftDelim</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3367002">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367006">if</span>&nbsp;<span class="ident" id="3367009"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3367010">.</span><span class="ident" id="3367011">next</span><span class="op" id="3367015">(</span><span class="op" id="3367016">)</span>&nbsp;<span class="op" id="3367018">==</span>&nbsp;<span class="ident" id="3367021"><a href="/text/template/parse/lex.go.html#3363548">eof</a></span>&nbsp;<span class="op" id="3367025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367030">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3367038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3367041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3367044">//&nbsp;Correctly&nbsp;reached&nbsp;EOF.</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367071">if</span>&nbsp;<span class="ident" id="3367074"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3367075">.</span><span class="ident" id="3367076">pos</span>&nbsp;<span class="op" id="3367080">&gt;</span>&nbsp;<span class="ident" id="3367082"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3367083">.</span><span class="ident" id="3367084">start</span>&nbsp;<span class="op" id="3367090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367094"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3367095">.</span><span class="ident" id="3367096">emit</span><span class="op" id="3367100">(</span><span class="ident" id="3367101"><a href="/text/template/parse/lex.go.html#3362768">itemText</a></span><span class="op" id="3367109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3367112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367115"><a href="/text/template/parse/lex.go.html#3366845">l</a></span><span class="op" id="3367116">.</span><span class="ident" id="3367117">emit</span><span class="op" id="3367121">(</span><span class="ident" id="3367122"><a href="/text/template/parse/lex.go.html#3362231">itemEOF</a></span><span class="op" id="3367129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367132">return</span>&nbsp;<span class="ident" id="3367139">nil</span><br>
<span class="lineno">230</span><span class="op" id="3367143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3367146">//&nbsp;lexLeftDelim&nbsp;scans&nbsp;the&nbsp;left&nbsp;delimiter,&nbsp;which&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="3367218">func</span>&nbsp;<span class="ident" id="3367223">lexLeftDelim</span><span class="op" id="3367235">(</span><span class="ident" id="3367236">l</span>&nbsp;<span class="op" id="3367238">*</span><span class="ident" id="3367239"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3367244">)</span>&nbsp;<span class="ident" id="3367246"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3367254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367257"><a href="/text/template/parse/lex.go.html#3367236">l</a></span><span class="op" id="3367258">.</span><span class="ident" id="3367259">pos</span>&nbsp;<span class="op" id="3367263">+=</span>&nbsp;<span class="ident" id="3367266"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span><span class="op" id="3367269">(</span><span class="builtinfunc" id="3367270">len</span><span class="op" id="3367273">(</span><span class="ident" id="3367274"><a href="/text/template/parse/lex.go.html#3367236">l</a></span><span class="op" id="3367275">.</span><span class="ident" id="3367276">leftDelim</span><span class="op" id="3367285">)</span><span class="op" id="3367286">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367289">if</span>&nbsp;<span class="ident" id="3367292"><a href="/text/template/parse/lex.go.html#3361128">strings</a></span><span class="op" id="3367299">.</span><span class="ident" id="3367300">HasPrefix</span><span class="op" id="3367309">(</span><span class="ident" id="3367310"><a href="/text/template/parse/lex.go.html#3367236">l</a></span><span class="op" id="3367311">.</span><span class="ident" id="3367312">input</span><span class="op" id="3367317">[</span><span class="ident" id="3367318"><a href="/text/template/parse/lex.go.html#3367236">l</a></span><span class="op" id="3367319">.</span><span class="ident" id="3367320">pos</span><span class="op" id="3367323">:</span><span class="op" id="3367324">]</span><span class="op" id="3367325">,</span>&nbsp;<span class="ident" id="3367327"><a href="/text/template/parse/lex.go.html#3366730">leftComment</a></span><span class="op" id="3367338">)</span>&nbsp;<span class="op" id="3367340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367344">return</span>&nbsp;<span class="ident" id="3367351"><a href="/text/template/parse/lex.go.html#3367517">lexComment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3367363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367366"><a href="/text/template/parse/lex.go.html#3367236">l</a></span><span class="op" id="3367367">.</span><span class="ident" id="3367368">emit</span><span class="op" id="3367372">(</span><span class="ident" id="3367373"><a href="/text/template/parse/lex.go.html#3362366">itemLeftDelim</a></span><span class="op" id="3367386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367389"><a href="/text/template/parse/lex.go.html#3367236">l</a></span><span class="op" id="3367390">.</span><span class="ident" id="3367391">parenDepth</span>&nbsp;<span class="op" id="3367402">=</span>&nbsp;<span class="num" id="3367404">0</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367407">return</span>&nbsp;<span class="ident" id="3367414"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3367430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3367433">//&nbsp;lexComment&nbsp;scans&nbsp;a&nbsp;comment.&nbsp;The&nbsp;left&nbsp;comment&nbsp;marker&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="3367512">func</span>&nbsp;<span class="ident" id="3367517">lexComment</span><span class="op" id="3367527">(</span><span class="ident" id="3367528">l</span>&nbsp;<span class="op" id="3367530">*</span><span class="ident" id="3367531"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3367536">)</span>&nbsp;<span class="ident" id="3367538"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3367546">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367549"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367550">.</span><span class="ident" id="3367551">pos</span>&nbsp;<span class="op" id="3367555">+=</span>&nbsp;<span class="ident" id="3367558"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span><span class="op" id="3367561">(</span><span class="builtinfunc" id="3367562">len</span><span class="op" id="3367565">(</span><span class="ident" id="3367566"><a href="/text/template/parse/lex.go.html#3366730">leftComment</a></span><span class="op" id="3367577">)</span><span class="op" id="3367578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367581">i</span>&nbsp;<span class="op" id="3367583">:=</span>&nbsp;<span class="ident" id="3367586"><a href="/text/template/parse/lex.go.html#3361128">strings</a></span><span class="op" id="3367593">.</span><span class="ident" id="3367594">Index</span><span class="op" id="3367599">(</span><span class="ident" id="3367600"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367601">.</span><span class="ident" id="3367602">input</span><span class="op" id="3367607">[</span><span class="ident" id="3367608"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367609">.</span><span class="ident" id="3367610">pos</span><span class="op" id="3367613">:</span><span class="op" id="3367614">]</span><span class="op" id="3367615">,</span>&nbsp;<span class="ident" id="3367617"><a href="/text/template/parse/lex.go.html#3366751">rightComment</a></span><span class="op" id="3367629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367632">if</span>&nbsp;<span class="ident" id="3367635"><a href="/text/template/parse/lex.go.html#3367581">i</a></span>&nbsp;<span class="op" id="3367637">&lt;</span>&nbsp;<span class="num" id="3367639">0</span>&nbsp;<span class="op" id="3367641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367645">return</span>&nbsp;<span class="ident" id="3367652"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367653">.</span><span class="ident" id="3367654">errorf</span><span class="op" id="3367660">(</span><span class="string" id="3367661">&#34;unclosed&nbsp;comment&#34;</span><span class="op" id="3367679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3367682">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367685"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367686">.</span><span class="ident" id="3367687">pos</span>&nbsp;<span class="op" id="3367691">+=</span>&nbsp;<span class="ident" id="3367694"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span><span class="op" id="3367697">(</span><span class="ident" id="3367698"><a href="/text/template/parse/lex.go.html#3367581">i</a></span>&nbsp;<span class="op" id="3367700">+</span>&nbsp;<span class="builtinfunc" id="3367702">len</span><span class="op" id="3367705">(</span><span class="ident" id="3367706"><a href="/text/template/parse/lex.go.html#3366751">rightComment</a></span><span class="op" id="3367718">)</span><span class="op" id="3367719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367722">if</span>&nbsp;<span class="op" id="3367725">!</span><span class="ident" id="3367726"><a href="/text/template/parse/lex.go.html#3361128">strings</a></span><span class="op" id="3367733">.</span><span class="ident" id="3367734">HasPrefix</span><span class="op" id="3367743">(</span><span class="ident" id="3367744"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367745">.</span><span class="ident" id="3367746">input</span><span class="op" id="3367751">[</span><span class="ident" id="3367752"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367753">.</span><span class="ident" id="3367754">pos</span><span class="op" id="3367757">:</span><span class="op" id="3367758">]</span><span class="op" id="3367759">,</span>&nbsp;<span class="ident" id="3367761"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367762">.</span><span class="ident" id="3367763">rightDelim</span><span class="op" id="3367773">)</span>&nbsp;<span class="op" id="3367775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367779">return</span>&nbsp;<span class="ident" id="3367786"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367787">.</span><span class="ident" id="3367788">errorf</span><span class="op" id="3367794">(</span><span class="string" id="3367795">&#34;comment&nbsp;ends&nbsp;before&nbsp;closing&nbsp;delimiter&#34;</span><span class="op" id="3367834">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3367838">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367841"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367842">.</span><span class="ident" id="3367843">pos</span>&nbsp;<span class="op" id="3367847">+=</span>&nbsp;<span class="ident" id="3367850"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span><span class="op" id="3367853">(</span><span class="builtinfunc" id="3367854">len</span><span class="op" id="3367857">(</span><span class="ident" id="3367858"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367859">.</span><span class="ident" id="3367860">rightDelim</span><span class="op" id="3367870">)</span><span class="op" id="3367871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3367874"><a href="/text/template/parse/lex.go.html#3367528">l</a></span><span class="op" id="3367875">.</span><span class="ident" id="3367876">ignore</span><span class="op" id="3367882">(</span><span class="op" id="3367883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3367886">return</span>&nbsp;<span class="ident" id="3367893"><a href="/text/template/parse/lex.go.html#3366837">lexText</a></span><br>
<span class="lineno"></span><span class="op" id="3367901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="3367904">//&nbsp;lexRightDelim&nbsp;scans&nbsp;the&nbsp;right&nbsp;delimiter,&nbsp;which&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="3367978">func</span>&nbsp;<span class="ident" id="3367983">lexRightDelim</span><span class="op" id="3367996">(</span><span class="ident" id="3367997">l</span>&nbsp;<span class="op" id="3367999">*</span><span class="ident" id="3368000"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3368005">)</span>&nbsp;<span class="ident" id="3368007"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3368015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3368018"><a href="/text/template/parse/lex.go.html#3367997">l</a></span><span class="op" id="3368019">.</span><span class="ident" id="3368020">pos</span>&nbsp;<span class="op" id="3368024">+=</span>&nbsp;<span class="ident" id="3368027"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span><span class="op" id="3368030">(</span><span class="builtinfunc" id="3368031">len</span><span class="op" id="3368034">(</span><span class="ident" id="3368035"><a href="/text/template/parse/lex.go.html#3367997">l</a></span><span class="op" id="3368036">.</span><span class="ident" id="3368037">rightDelim</span><span class="op" id="3368047">)</span><span class="op" id="3368048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3368051"><a href="/text/template/parse/lex.go.html#3367997">l</a></span><span class="op" id="3368052">.</span><span class="ident" id="3368053">emit</span><span class="op" id="3368057">(</span><span class="ident" id="3368058"><a href="/text/template/parse/lex.go.html#3362584">itemRightDelim</a></span><span class="op" id="3368072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368075">return</span>&nbsp;<span class="ident" id="3368082"><a href="/text/template/parse/lex.go.html#3366837">lexText</a></span><br>
<span class="lineno">265</span><span class="op" id="3368090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3368093">//&nbsp;lexInsideAction&nbsp;scans&nbsp;the&nbsp;elements&nbsp;inside&nbsp;action&nbsp;delimiters.</span><br>
<span class="lineno"></span><span class="keyword" id="3368157">func</span>&nbsp;<span class="ident" id="3368162">lexInsideAction</span><span class="op" id="3368177">(</span><span class="ident" id="3368178">l</span>&nbsp;<span class="op" id="3368180">*</span><span class="ident" id="3368181"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3368186">)</span>&nbsp;<span class="ident" id="3368188"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3368196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3368199">//&nbsp;Either&nbsp;number,&nbsp;quoted&nbsp;string,&nbsp;or&nbsp;identifier.</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3368248">//&nbsp;Spaces&nbsp;separate&nbsp;arguments;&nbsp;runs&nbsp;of&nbsp;spaces&nbsp;turn&nbsp;into&nbsp;itemSpace.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3368315">//&nbsp;Pipe&nbsp;symbols&nbsp;separate&nbsp;and&nbsp;are&nbsp;emitted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368358">if</span>&nbsp;<span class="ident" id="3368361"><a href="/text/template/parse/lex.go.html#3361128">strings</a></span><span class="op" id="3368368">.</span><span class="ident" id="3368369">HasPrefix</span><span class="op" id="3368378">(</span><span class="ident" id="3368379"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368380">.</span><span class="ident" id="3368381">input</span><span class="op" id="3368386">[</span><span class="ident" id="3368387"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368388">.</span><span class="ident" id="3368389">pos</span><span class="op" id="3368392">:</span><span class="op" id="3368393">]</span><span class="op" id="3368394">,</span>&nbsp;<span class="ident" id="3368396"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368397">.</span><span class="ident" id="3368398">rightDelim</span><span class="op" id="3368408">)</span>&nbsp;<span class="op" id="3368410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368414">if</span>&nbsp;<span class="ident" id="3368417"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368418">.</span><span class="ident" id="3368419">parenDepth</span>&nbsp;<span class="op" id="3368430">==</span>&nbsp;<span class="num" id="3368433">0</span>&nbsp;<span class="op" id="3368435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368440">return</span>&nbsp;<span class="ident" id="3368447"><a href="/text/template/parse/lex.go.html#3367983">lexRightDelim</a></span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3368463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368467">return</span>&nbsp;<span class="ident" id="3368474"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368475">.</span><span class="ident" id="3368476">errorf</span><span class="op" id="3368482">(</span><span class="string" id="3368483">&#34;unclosed&nbsp;left&nbsp;paren&#34;</span><span class="op" id="3368504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3368507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368510">switch</span>&nbsp;<span class="ident" id="3368517">r</span>&nbsp;<span class="op" id="3368519">:=</span>&nbsp;<span class="ident" id="3368522"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368523">.</span><span class="ident" id="3368524">next</span><span class="op" id="3368528">(</span><span class="op" id="3368529">)</span><span class="op" id="3368530">;</span>&nbsp;<span class="op" id="3368532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368535">case</span>&nbsp;<span class="ident" id="3368540"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3368542">==</span>&nbsp;<span class="ident" id="3368545"><a href="/text/template/parse/lex.go.html#3363548">eof</a></span>&nbsp;<span class="op" id="3368549">||</span>&nbsp;<span class="ident" id="3368552"><a href="/text/template/parse/lex.go.html#3374565">isEndOfLine</a></span><span class="op" id="3368563">(</span><span class="ident" id="3368564"><a href="/text/template/parse/lex.go.html#3368517">r</a></span><span class="op" id="3368565">)</span><span class="op" id="3368566">:</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368570">return</span>&nbsp;<span class="ident" id="3368577"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368578">.</span><span class="ident" id="3368579">errorf</span><span class="op" id="3368585">(</span><span class="string" id="3368586">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="3368603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368606">case</span>&nbsp;<span class="ident" id="3368611"><a href="/text/template/parse/lex.go.html#3374442">isSpace</a></span><span class="op" id="3368618">(</span><span class="ident" id="3368619"><a href="/text/template/parse/lex.go.html#3368517">r</a></span><span class="op" id="3368620">)</span><span class="op" id="3368621">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368625">return</span>&nbsp;<span class="ident" id="3368632"><a href="/text/template/parse/lex.go.html#3369832">lexSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368642">case</span>&nbsp;<span class="ident" id="3368647"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3368649">==</span>&nbsp;<span class="string" id="3368652">&#39;:&#39;</span><span class="op" id="3368655">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368659">if</span>&nbsp;<span class="ident" id="3368662"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368663">.</span><span class="ident" id="3368664">next</span><span class="op" id="3368668">(</span><span class="op" id="3368669">)</span>&nbsp;<span class="op" id="3368671">!=</span>&nbsp;<span class="string" id="3368674">&#39;=&#39;</span>&nbsp;<span class="op" id="3368678">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368683">return</span>&nbsp;<span class="ident" id="3368690"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368691">.</span><span class="ident" id="3368692">errorf</span><span class="op" id="3368698">(</span><span class="string" id="3368699">&#34;expected&nbsp;:=&#34;</span><span class="op" id="3368712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3368716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3368720"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368721">.</span><span class="ident" id="3368722">emit</span><span class="op" id="3368726">(</span><span class="ident" id="3368727"><a href="/text/template/parse/lex.go.html#3362148">itemColonEquals</a></span><span class="op" id="3368742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368745">case</span>&nbsp;<span class="ident" id="3368750"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3368752">==</span>&nbsp;<span class="string" id="3368755">&#39;|&#39;</span><span class="op" id="3368758">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3368762"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3368763">.</span><span class="ident" id="3368764">emit</span><span class="op" id="3368768">(</span><span class="ident" id="3368769"><a href="/text/template/parse/lex.go.html#3362498">itemPipe</a></span><span class="op" id="3368777">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368780">case</span>&nbsp;<span class="ident" id="3368785"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3368787">==</span>&nbsp;<span class="string" id="3368790">&#39;&#34;&#39;</span><span class="op" id="3368793">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368797">return</span>&nbsp;<span class="ident" id="3368804"><a href="/text/template/parse/lex.go.html#3373823">lexQuote</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368814">case</span>&nbsp;<span class="ident" id="3368819"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3368821">==</span>&nbsp;<span class="string" id="3368824">&#39;`&#39;</span><span class="op" id="3368827">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368831">return</span>&nbsp;<span class="ident" id="3368838"><a href="/text/template/parse/lex.go.html#3374167">lexRawQuote</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368851">case</span>&nbsp;<span class="ident" id="3368856"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3368858">==</span>&nbsp;<span class="string" id="3368861">&#39;$&#39;</span><span class="op" id="3368864">:</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368868">return</span>&nbsp;<span class="ident" id="3368875"><a href="/text/template/parse/lex.go.html#3370732">lexVariable</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368888">case</span>&nbsp;<span class="ident" id="3368893"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3368895">==</span>&nbsp;<span class="string" id="3368898">&#39;\&#39;&#39;</span><span class="op" id="3368902">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368906">return</span>&nbsp;<span class="ident" id="3368913"><a href="/text/template/parse/lex.go.html#3372309">lexChar</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3368922">case</span>&nbsp;<span class="ident" id="3368927"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3368929">==</span>&nbsp;<span class="string" id="3368932">&#39;.&#39;</span><span class="op" id="3368935">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3368939">//&nbsp;special&nbsp;look-ahead&nbsp;for&nbsp;&#34;.field&#34;&nbsp;so&nbsp;we&nbsp;don&#39;t&nbsp;break&nbsp;l.backup().</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369006">if</span>&nbsp;<span class="ident" id="3369009"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369010">.</span><span class="ident" id="3369011">pos</span>&nbsp;<span class="op" id="3369015">&lt;</span>&nbsp;<span class="ident" id="3369017"><a href="/text/template/parse/node.go.html#3375925">Pos</a></span><span class="op" id="3369020">(</span><span class="builtinfunc" id="3369021">len</span><span class="op" id="3369024">(</span><span class="ident" id="3369025"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369026">.</span><span class="ident" id="3369027">input</span><span class="op" id="3369032">)</span><span class="op" id="3369033">)</span>&nbsp;<span class="op" id="3369035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369040">r</span>&nbsp;<span class="op" id="3369042">:=</span>&nbsp;<span class="ident" id="3369045"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369046">.</span><span class="ident" id="3369047">input</span><span class="op" id="3369052">[</span><span class="ident" id="3369053"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369054">.</span><span class="ident" id="3369055">pos</span><span class="op" id="3369058">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369063">if</span>&nbsp;<span class="ident" id="3369066"><a href="/text/template/parse/lex.go.html#3369040">r</a></span>&nbsp;<span class="op" id="3369068">&lt;</span>&nbsp;<span class="string" id="3369070">&#39;0&#39;</span>&nbsp;<span class="op" id="3369074">||</span>&nbsp;<span class="string" id="3369077">&#39;9&#39;</span>&nbsp;<span class="op" id="3369081">&lt;</span>&nbsp;<span class="ident" id="3369083"><a href="/text/template/parse/lex.go.html#3369040">r</a></span>&nbsp;<span class="op" id="3369085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369091">return</span>&nbsp;<span class="ident" id="3369098"><a href="/text/template/parse/lex.go.html#3370579">lexField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3369110">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3369114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369118">fallthrough</span>&nbsp;<span class="comment" id="3369130">//&nbsp;&#39;.&#39;&nbsp;can&nbsp;start&nbsp;a&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369158">case</span>&nbsp;<span class="ident" id="3369163"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3369165">==</span>&nbsp;<span class="string" id="3369168">&#39;+&#39;</span>&nbsp;<span class="op" id="3369172">||</span>&nbsp;<span class="ident" id="3369175"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3369177">==</span>&nbsp;<span class="string" id="3369180">&#39;-&#39;</span>&nbsp;<span class="op" id="3369184">||</span>&nbsp;<span class="op" id="3369187">(</span><span class="string" id="3369188">&#39;0&#39;</span>&nbsp;<span class="op" id="3369192">&lt;=</span>&nbsp;<span class="ident" id="3369195"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3369197">&amp;&amp;</span>&nbsp;<span class="ident" id="3369200"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3369202">&lt;=</span>&nbsp;<span class="string" id="3369205">&#39;9&#39;</span><span class="op" id="3369208">)</span><span class="op" id="3369209">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369213"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369214">.</span><span class="ident" id="3369215">backup</span><span class="op" id="3369221">(</span><span class="op" id="3369222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369226">return</span>&nbsp;<span class="ident" id="3369233"><a href="/text/template/parse/lex.go.html#3372875">lexNumber</a></span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369244">case</span>&nbsp;<span class="ident" id="3369249"><a href="/text/template/parse/lex.go.html#3374707">isAlphaNumeric</a></span><span class="op" id="3369263">(</span><span class="ident" id="3369264"><a href="/text/template/parse/lex.go.html#3368517">r</a></span><span class="op" id="3369265">)</span><span class="op" id="3369266">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369270"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369271">.</span><span class="ident" id="3369272">backup</span><span class="op" id="3369278">(</span><span class="op" id="3369279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369283">return</span>&nbsp;<span class="ident" id="3369290"><a href="/text/template/parse/lex.go.html#3369991">lexIdentifier</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369305">case</span>&nbsp;<span class="ident" id="3369310"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3369312">==</span>&nbsp;<span class="string" id="3369315">&#39;(&#39;</span><span class="op" id="3369318">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369322"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369323">.</span><span class="ident" id="3369324">emit</span><span class="op" id="3369328">(</span><span class="ident" id="3369329"><a href="/text/template/parse/lex.go.html#3362407">itemLeftParen</a></span><span class="op" id="3369342">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369346"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369347">.</span><span class="ident" id="3369348">parenDepth</span><span class="op" id="3369358">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369363">return</span>&nbsp;<span class="ident" id="3369370"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369387">case</span>&nbsp;<span class="ident" id="3369392"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3369394">==</span>&nbsp;<span class="string" id="3369397">&#39;)&#39;</span><span class="op" id="3369400">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369404"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369405">.</span><span class="ident" id="3369406">emit</span><span class="op" id="3369410">(</span><span class="ident" id="3369411"><a href="/text/template/parse/lex.go.html#3362626">itemRightParen</a></span><span class="op" id="3369425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369429"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369430">.</span><span class="ident" id="3369431">parenDepth</span><span class="op" id="3369441">--</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369446">if</span>&nbsp;<span class="ident" id="3369449"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369450">.</span><span class="ident" id="3369451">parenDepth</span>&nbsp;<span class="op" id="3369462">&lt;</span>&nbsp;<span class="num" id="3369464">0</span>&nbsp;<span class="op" id="3369466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369471">return</span>&nbsp;<span class="ident" id="3369478"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369479">.</span><span class="ident" id="3369480">errorf</span><span class="op" id="3369486">(</span><span class="string" id="3369487">&#34;unexpected&nbsp;right&nbsp;paren&nbsp;%#U&#34;</span><span class="op" id="3369515">,</span>&nbsp;<span class="ident" id="3369517"><a href="/text/template/parse/lex.go.html#3368517">r</a></span><span class="op" id="3369518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3369522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369526">return</span>&nbsp;<span class="ident" id="3369533"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369550">case</span>&nbsp;<span class="ident" id="3369555"><a href="/text/template/parse/lex.go.html#3368517">r</a></span>&nbsp;<span class="op" id="3369557">&lt;=</span>&nbsp;<span class="ident" id="3369560"><a href="/text/template/parse/lex.go.html#3361139">unicode</a></span><span class="op" id="3369567">.</span><span class="ident" id="3369568">MaxASCII</span>&nbsp;<span class="op" id="3369577">&amp;&amp;</span>&nbsp;<span class="ident" id="3369580"><a href="/text/template/parse/lex.go.html#3361139">unicode</a></span><span class="op" id="3369587">.</span><span class="ident" id="3369588">IsPrint</span><span class="op" id="3369595">(</span><span class="ident" id="3369596"><a href="/text/template/parse/lex.go.html#3368517">r</a></span><span class="op" id="3369597">)</span><span class="op" id="3369598">:</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369602"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369603">.</span><span class="ident" id="3369604">emit</span><span class="op" id="3369608">(</span><span class="ident" id="3369609"><a href="/text/template/parse/lex.go.html#3361915">itemChar</a></span><span class="op" id="3369617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369621">return</span>&nbsp;<span class="ident" id="3369628"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369645">default</span><span class="op" id="3369652">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369656">return</span>&nbsp;<span class="ident" id="3369663"><a href="/text/template/parse/lex.go.html#3368178">l</a></span><span class="op" id="3369664">.</span><span class="ident" id="3369665">errorf</span><span class="op" id="3369671">(</span><span class="string" id="3369672">&#34;unrecognized&nbsp;character&nbsp;in&nbsp;action:&nbsp;%#U&#34;</span><span class="op" id="3369711">,</span>&nbsp;<span class="ident" id="3369713"><a href="/text/template/parse/lex.go.html#3368517">r</a></span><span class="op" id="3369714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3369717">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369720">return</span>&nbsp;<span class="ident" id="3369727"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3369743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3369746">//&nbsp;lexSpace&nbsp;scans&nbsp;a&nbsp;run&nbsp;of&nbsp;space&nbsp;characters.</span><br>
<span class="lineno"></span><span class="comment" id="3369791">//&nbsp;One&nbsp;space&nbsp;has&nbsp;already&nbsp;been&nbsp;seen.</span><br>
<span class="lineno">335</span><span class="keyword" id="3369827">func</span>&nbsp;<span class="ident" id="3369832">lexSpace</span><span class="op" id="3369840">(</span><span class="ident" id="3369841">l</span>&nbsp;<span class="op" id="3369843">*</span><span class="ident" id="3369844"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3369849">)</span>&nbsp;<span class="ident" id="3369851"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3369859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369862">for</span>&nbsp;<span class="ident" id="3369866"><a href="/text/template/parse/lex.go.html#3374442">isSpace</a></span><span class="op" id="3369873">(</span><span class="ident" id="3369874"><a href="/text/template/parse/lex.go.html#3369841">l</a></span><span class="op" id="3369875">.</span><span class="ident" id="3369876">peek</span><span class="op" id="3369880">(</span><span class="op" id="3369881">)</span><span class="op" id="3369882">)</span>&nbsp;<span class="op" id="3369884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369888"><a href="/text/template/parse/lex.go.html#3369841">l</a></span><span class="op" id="3369889">.</span><span class="ident" id="3369890">next</span><span class="op" id="3369894">(</span><span class="op" id="3369895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3369898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3369901"><a href="/text/template/parse/lex.go.html#3369841">l</a></span><span class="op" id="3369902">.</span><span class="ident" id="3369903">emit</span><span class="op" id="3369907">(</span><span class="ident" id="3369908"><a href="/text/template/parse/lex.go.html#3362663">itemSpace</a></span><span class="op" id="3369917">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3369920">return</span>&nbsp;<span class="ident" id="3369927"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3369943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3369946">//&nbsp;lexIdentifier&nbsp;scans&nbsp;an&nbsp;alphanumeric.</span><br>
<span class="lineno"></span><span class="keyword" id="3369986">func</span>&nbsp;<span class="ident" id="3369991">lexIdentifier</span><span class="op" id="3370004">(</span><span class="ident" id="3370005">l</span>&nbsp;<span class="op" id="3370007">*</span><span class="ident" id="3370008"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3370013">)</span>&nbsp;<span class="ident" id="3370015"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3370023">{</span><br>
<span class="lineno">345</span><span class="ident" id="3370025">Loop</span><span class="op" id="3370029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370032">for</span>&nbsp;<span class="op" id="3370036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370040">switch</span>&nbsp;<span class="ident" id="3370047">r</span>&nbsp;<span class="op" id="3370049">:=</span>&nbsp;<span class="ident" id="3370052"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370053">.</span><span class="ident" id="3370054">next</span><span class="op" id="3370058">(</span><span class="op" id="3370059">)</span><span class="op" id="3370060">;</span>&nbsp;<span class="op" id="3370062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370066">case</span>&nbsp;<span class="ident" id="3370071"><a href="/text/template/parse/lex.go.html#3374707">isAlphaNumeric</a></span><span class="op" id="3370085">(</span><span class="ident" id="3370086"><a href="/text/template/parse/lex.go.html#3370047">r</a></span><span class="op" id="3370087">)</span><span class="op" id="3370088">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3370093">//&nbsp;absorb.</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370106">default</span><span class="op" id="3370113">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3370118"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370119">.</span><span class="ident" id="3370120">backup</span><span class="op" id="3370126">(</span><span class="op" id="3370127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3370132">word</span>&nbsp;<span class="op" id="3370137">:=</span>&nbsp;<span class="ident" id="3370140"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370141">.</span><span class="ident" id="3370142">input</span><span class="op" id="3370147">[</span><span class="ident" id="3370148"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370149">.</span><span class="ident" id="3370150">start</span><span class="op" id="3370155">:</span><span class="ident" id="3370156"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370157">.</span><span class="ident" id="3370158">pos</span><span class="op" id="3370161">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370166">if</span>&nbsp;<span class="op" id="3370169">!</span><span class="ident" id="3370170"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370171">.</span><span class="ident" id="3370172">atTerminator</span><span class="op" id="3370184">(</span><span class="op" id="3370185">)</span>&nbsp;<span class="op" id="3370187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370193">return</span>&nbsp;<span class="ident" id="3370200"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370201">.</span><span class="ident" id="3370202">errorf</span><span class="op" id="3370208">(</span><span class="string" id="3370209">&#34;bad&nbsp;character&nbsp;%#U&#34;</span><span class="op" id="3370228">,</span>&nbsp;<span class="ident" id="3370230"><a href="/text/template/parse/lex.go.html#3370047">r</a></span><span class="op" id="3370231">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3370236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370241">switch</span>&nbsp;<span class="op" id="3370248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370253">case</span>&nbsp;<span class="ident" id="3370258"><a href="/text/template/parse/lex.go.html#3363303">key</a></span><span class="op" id="3370261">[</span><span class="ident" id="3370262"><a href="/text/template/parse/lex.go.html#3370132">word</a></span><span class="op" id="3370266">]</span>&nbsp;<span class="op" id="3370268">&gt;</span>&nbsp;<span class="ident" id="3370270"><a href="/text/template/parse/lex.go.html#3362918">itemKeyword</a></span><span class="op" id="3370281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3370287"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370288">.</span><span class="ident" id="3370289">emit</span><span class="op" id="3370293">(</span><span class="ident" id="3370294"><a href="/text/template/parse/lex.go.html#3363303">key</a></span><span class="op" id="3370297">[</span><span class="ident" id="3370298"><a href="/text/template/parse/lex.go.html#3370132">word</a></span><span class="op" id="3370302">]</span><span class="op" id="3370303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370308">case</span>&nbsp;<span class="ident" id="3370313"><a href="/text/template/parse/lex.go.html#3370132">word</a></span><span class="op" id="3370317">[</span><span class="num" id="3370318">0</span><span class="op" id="3370319">]</span>&nbsp;<span class="op" id="3370321">==</span>&nbsp;<span class="string" id="3370324">&#39;.&#39;</span><span class="op" id="3370327">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3370333"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370334">.</span><span class="ident" id="3370335">emit</span><span class="op" id="3370339">(</span><span class="ident" id="3370340"><a href="/text/template/parse/lex.go.html#3362240">itemField</a></span><span class="op" id="3370349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370354">case</span>&nbsp;<span class="ident" id="3370359"><a href="/text/template/parse/lex.go.html#3370132">word</a></span>&nbsp;<span class="op" id="3370364">==</span>&nbsp;<span class="string" id="3370367">&#34;true&#34;</span><span class="op" id="3370373">,</span>&nbsp;<span class="ident" id="3370375"><a href="/text/template/parse/lex.go.html#3370132">word</a></span>&nbsp;<span class="op" id="3370380">==</span>&nbsp;<span class="string" id="3370383">&#34;false&#34;</span><span class="op" id="3370390">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3370396"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370397">.</span><span class="ident" id="3370398">emit</span><span class="op" id="3370402">(</span><span class="ident" id="3370403"><a href="/text/template/parse/lex.go.html#3361861">itemBool</a></span><span class="op" id="3370411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370416">default</span><span class="op" id="3370423">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3370429"><a href="/text/template/parse/lex.go.html#3370005">l</a></span><span class="op" id="3370430">.</span><span class="ident" id="3370431">emit</span><span class="op" id="3370435">(</span><span class="ident" id="3370436"><a href="/text/template/parse/lex.go.html#3362301">itemIdentifier</a></span><span class="op" id="3370450">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3370455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370460">break</span>&nbsp;<span class="ident" id="3370466">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3370473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3370476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370479">return</span>&nbsp;<span class="ident" id="3370486"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno">370</span><span class="op" id="3370502">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3370505">//&nbsp;lexField&nbsp;scans&nbsp;a&nbsp;field:&nbsp;.Alphanumeric.</span><br>
<span class="lineno"></span><span class="comment" id="3370547">//&nbsp;The&nbsp;.&nbsp;has&nbsp;been&nbsp;scanned.</span><br>
<span class="lineno"></span><span class="keyword" id="3370574">func</span>&nbsp;<span class="ident" id="3370579">lexField</span><span class="op" id="3370587">(</span><span class="ident" id="3370588">l</span>&nbsp;<span class="op" id="3370590">*</span><span class="ident" id="3370591"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3370596">)</span>&nbsp;<span class="ident" id="3370598"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3370606">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370609">return</span>&nbsp;<span class="ident" id="3370616"><a href="/text/template/parse/lex.go.html#3371021">lexFieldOrVariable</a></span><span class="op" id="3370634">(</span><span class="ident" id="3370635"><a href="/text/template/parse/lex.go.html#3370588">l</a></span><span class="op" id="3370636">,</span>&nbsp;<span class="ident" id="3370638"><a href="/text/template/parse/lex.go.html#3362240">itemField</a></span><span class="op" id="3370647">)</span><br>
<span class="lineno"></span><span class="op" id="3370649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3370652">//&nbsp;lexVariable&nbsp;scans&nbsp;a&nbsp;Variable:&nbsp;$Alphanumeric.</span><br>
<span class="lineno"></span><span class="comment" id="3370700">//&nbsp;The&nbsp;$&nbsp;has&nbsp;been&nbsp;scanned.</span><br>
<span class="lineno">380</span><span class="keyword" id="3370727">func</span>&nbsp;<span class="ident" id="3370732">lexVariable</span><span class="op" id="3370743">(</span><span class="ident" id="3370744">l</span>&nbsp;<span class="op" id="3370746">*</span><span class="ident" id="3370747"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3370752">)</span>&nbsp;<span class="ident" id="3370754"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3370762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370765">if</span>&nbsp;<span class="ident" id="3370768"><a href="/text/template/parse/lex.go.html#3370744">l</a></span><span class="op" id="3370769">.</span><span class="ident" id="3370770">atTerminator</span><span class="op" id="3370782">(</span><span class="op" id="3370783">)</span>&nbsp;<span class="op" id="3370785">{</span>&nbsp;<span class="comment" id="3370787">//&nbsp;Nothing&nbsp;interesting&nbsp;follows&nbsp;-&gt;&nbsp;&#34;$&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3370828"><a href="/text/template/parse/lex.go.html#3370744">l</a></span><span class="op" id="3370829">.</span><span class="ident" id="3370830">emit</span><span class="op" id="3370834">(</span><span class="ident" id="3370835"><a href="/text/template/parse/lex.go.html#3362798">itemVariable</a></span><span class="op" id="3370847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370851">return</span>&nbsp;<span class="ident" id="3370858"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3370875">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3370878">return</span>&nbsp;<span class="ident" id="3370885"><a href="/text/template/parse/lex.go.html#3371021">lexFieldOrVariable</a></span><span class="op" id="3370903">(</span><span class="ident" id="3370904"><a href="/text/template/parse/lex.go.html#3370744">l</a></span><span class="op" id="3370905">,</span>&nbsp;<span class="ident" id="3370907"><a href="/text/template/parse/lex.go.html#3362798">itemVariable</a></span><span class="op" id="3370919">)</span><br>
<span class="lineno"></span><span class="op" id="3370921">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3370924">//&nbsp;lexVariable&nbsp;scans&nbsp;a&nbsp;field&nbsp;or&nbsp;variable:&nbsp;[.$]Alphanumeric.</span><br>
<span class="lineno"></span><span class="comment" id="3370984">//&nbsp;The&nbsp;.&nbsp;or&nbsp;$&nbsp;has&nbsp;been&nbsp;scanned.</span><br>
<span class="lineno">390</span><span class="keyword" id="3371016">func</span>&nbsp;<span class="ident" id="3371021">lexFieldOrVariable</span><span class="op" id="3371039">(</span><span class="ident" id="3371040">l</span>&nbsp;<span class="op" id="3371042">*</span><span class="ident" id="3371043"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3371048">,</span>&nbsp;<span class="ident" id="3371050">typ</span>&nbsp;<span class="ident" id="3371054"><a href="/text/template/parse/lex.go.html#3361762">itemType</a></span><span class="op" id="3371062">)</span>&nbsp;<span class="ident" id="3371064"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3371072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371075">if</span>&nbsp;<span class="ident" id="3371078"><a href="/text/template/parse/lex.go.html#3371040">l</a></span><span class="op" id="3371079">.</span><span class="ident" id="3371080">atTerminator</span><span class="op" id="3371092">(</span><span class="op" id="3371093">)</span>&nbsp;<span class="op" id="3371095">{</span>&nbsp;<span class="comment" id="3371097">//&nbsp;Nothing&nbsp;interesting&nbsp;follows&nbsp;-&gt;&nbsp;&#34;.&#34;&nbsp;or&nbsp;&#34;$&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371145">if</span>&nbsp;<span class="ident" id="3371148"><a href="/text/template/parse/lex.go.html#3371050">typ</a></span>&nbsp;<span class="op" id="3371152">==</span>&nbsp;<span class="ident" id="3371155"><a href="/text/template/parse/lex.go.html#3362798">itemVariable</a></span>&nbsp;<span class="op" id="3371168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3371173"><a href="/text/template/parse/lex.go.html#3371040">l</a></span><span class="op" id="3371174">.</span><span class="ident" id="3371175">emit</span><span class="op" id="3371179">(</span><span class="ident" id="3371180"><a href="/text/template/parse/lex.go.html#3362798">itemVariable</a></span><span class="op" id="3371192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3371196">}</span>&nbsp;<span class="keyword" id="3371198">else</span>&nbsp;<span class="op" id="3371203">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3371208"><a href="/text/template/parse/lex.go.html#3371040">l</a></span><span class="op" id="3371209">.</span><span class="ident" id="3371210">emit</span><span class="op" id="3371214">(</span><span class="ident" id="3371215"><a href="/text/template/parse/lex.go.html#3362969">itemDot</a></span><span class="op" id="3371222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3371226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371230">return</span>&nbsp;<span class="ident" id="3371237"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3371254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371257">var</span>&nbsp;<span class="ident" id="3371261">r</span>&nbsp;<span class="builtintype" id="3371263">rune</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371269">for</span>&nbsp;<span class="op" id="3371273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3371277"><a href="/text/template/parse/lex.go.html#3371261">r</a></span>&nbsp;<span class="op" id="3371279">=</span>&nbsp;<span class="ident" id="3371281"><a href="/text/template/parse/lex.go.html#3371040">l</a></span><span class="op" id="3371282">.</span><span class="ident" id="3371283">next</span><span class="op" id="3371287">(</span><span class="op" id="3371288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371292">if</span>&nbsp;<span class="op" id="3371295">!</span><span class="ident" id="3371296"><a href="/text/template/parse/lex.go.html#3374707">isAlphaNumeric</a></span><span class="op" id="3371310">(</span><span class="ident" id="3371311"><a href="/text/template/parse/lex.go.html#3371261">r</a></span><span class="op" id="3371312">)</span>&nbsp;<span class="op" id="3371314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3371319"><a href="/text/template/parse/lex.go.html#3371040">l</a></span><span class="op" id="3371320">.</span><span class="ident" id="3371321">backup</span><span class="op" id="3371327">(</span><span class="op" id="3371328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371333">break</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3371341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3371344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371347">if</span>&nbsp;<span class="op" id="3371350">!</span><span class="ident" id="3371351"><a href="/text/template/parse/lex.go.html#3371040">l</a></span><span class="op" id="3371352">.</span><span class="ident" id="3371353">atTerminator</span><span class="op" id="3371365">(</span><span class="op" id="3371366">)</span>&nbsp;<span class="op" id="3371368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371372">return</span>&nbsp;<span class="ident" id="3371379"><a href="/text/template/parse/lex.go.html#3371040">l</a></span><span class="op" id="3371380">.</span><span class="ident" id="3371381">errorf</span><span class="op" id="3371387">(</span><span class="string" id="3371388">&#34;bad&nbsp;character&nbsp;%#U&#34;</span><span class="op" id="3371407">,</span>&nbsp;<span class="ident" id="3371409"><a href="/text/template/parse/lex.go.html#3371261">r</a></span><span class="op" id="3371410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3371413">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3371416"><a href="/text/template/parse/lex.go.html#3371040">l</a></span><span class="op" id="3371417">.</span><span class="ident" id="3371418">emit</span><span class="op" id="3371422">(</span><span class="ident" id="3371423"><a href="/text/template/parse/lex.go.html#3371050">typ</a></span><span class="op" id="3371426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371429">return</span>&nbsp;<span class="ident" id="3371436"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3371452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3371455">//&nbsp;atTerminator&nbsp;reports&nbsp;whether&nbsp;the&nbsp;input&nbsp;is&nbsp;at&nbsp;valid&nbsp;termination&nbsp;character&nbsp;to</span><br>
<span class="lineno">415</span><span class="comment" id="3371534">//&nbsp;appear&nbsp;after&nbsp;an&nbsp;identifier.&nbsp;Breaks&nbsp;.X.Y&nbsp;into&nbsp;two&nbsp;pieces.&nbsp;Also&nbsp;catches&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="3371613">//&nbsp;like&nbsp;&#34;$x+2&#34;&nbsp;not&nbsp;being&nbsp;acceptable&nbsp;without&nbsp;a&nbsp;space,&nbsp;in&nbsp;case&nbsp;we&nbsp;decide&nbsp;one</span><br>
<span class="lineno"></span><span class="comment" id="3371688">//&nbsp;day&nbsp;to&nbsp;implement&nbsp;arithmetic.</span><br>
<span class="lineno"></span><span class="keyword" id="3371720">func</span>&nbsp;<span class="op" id="3371725">(</span><span class="ident" id="3371726">l</span>&nbsp;<span class="op" id="3371728">*</span><span class="ident" id="3371729"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3371734">)</span>&nbsp;<span class="ident" id="3371736">atTerminator</span><span class="op" id="3371748">(</span><span class="op" id="3371749">)</span>&nbsp;<span class="builtintype" id="3371751">bool</span>&nbsp;<span class="op" id="3371756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3371759">r</span>&nbsp;<span class="op" id="3371761">:=</span>&nbsp;<span class="ident" id="3371764"><a href="/text/template/parse/lex.go.html#3371726">l</a></span><span class="op" id="3371765">.</span><span class="ident" id="3371766">peek</span><span class="op" id="3371770">(</span><span class="op" id="3371771">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371774">if</span>&nbsp;<span class="ident" id="3371777"><a href="/text/template/parse/lex.go.html#3374442">isSpace</a></span><span class="op" id="3371784">(</span><span class="ident" id="3371785"><a href="/text/template/parse/lex.go.html#3371759">r</a></span><span class="op" id="3371786">)</span>&nbsp;<span class="op" id="3371788">||</span>&nbsp;<span class="ident" id="3371791"><a href="/text/template/parse/lex.go.html#3374565">isEndOfLine</a></span><span class="op" id="3371802">(</span><span class="ident" id="3371803"><a href="/text/template/parse/lex.go.html#3371759">r</a></span><span class="op" id="3371804">)</span>&nbsp;<span class="op" id="3371806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371810">return</span>&nbsp;<span class="ident" id="3371817">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3371823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371826">switch</span>&nbsp;<span class="ident" id="3371833"><a href="/text/template/parse/lex.go.html#3371759">r</a></span>&nbsp;<span class="op" id="3371835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371838">case</span>&nbsp;<span class="ident" id="3371843"><a href="/text/template/parse/lex.go.html#3363548">eof</a></span><span class="op" id="3371846">,</span>&nbsp;<span class="string" id="3371848">&#39;.&#39;</span><span class="op" id="3371851">,</span>&nbsp;<span class="string" id="3371853">&#39;,&#39;</span><span class="op" id="3371856">,</span>&nbsp;<span class="string" id="3371858">&#39;|&#39;</span><span class="op" id="3371861">,</span>&nbsp;<span class="string" id="3371863">&#39;:&#39;</span><span class="op" id="3371866">,</span>&nbsp;<span class="string" id="3371868">&#39;)&#39;</span><span class="op" id="3371871">,</span>&nbsp;<span class="string" id="3371873">&#39;(&#39;</span><span class="op" id="3371876">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3371880">return</span>&nbsp;<span class="ident" id="3371887">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3371893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3371896">//&nbsp;Does&nbsp;r&nbsp;start&nbsp;the&nbsp;delimiter?&nbsp;This&nbsp;can&nbsp;be&nbsp;ambiguous&nbsp;(with&nbsp;delim==&#34;//&#34;,&nbsp;$x/2&nbsp;will</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3371979">//&nbsp;succeed&nbsp;but&nbsp;should&nbsp;fail)&nbsp;but&nbsp;only&nbsp;in&nbsp;extremely&nbsp;rare&nbsp;cases&nbsp;caused&nbsp;by&nbsp;willfully</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3372061">//&nbsp;bad&nbsp;choice&nbsp;of&nbsp;delimiter.</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372090">if</span>&nbsp;<span class="ident" id="3372093">rd</span><span class="op" id="3372095">,</span>&nbsp;<span class="ident" id="3372097">_</span>&nbsp;<span class="op" id="3372099">:=</span>&nbsp;<span class="ident" id="3372102"><a href="/text/template/parse/lex.go.html#3361150">utf8</a></span><span class="op" id="3372106">.</span><span class="ident" id="3372107">DecodeRuneInString</span><span class="op" id="3372125">(</span><span class="ident" id="3372126"><a href="/text/template/parse/lex.go.html#3371726">l</a></span><span class="op" id="3372127">.</span><span class="ident" id="3372128">rightDelim</span><span class="op" id="3372138">)</span><span class="op" id="3372139">;</span>&nbsp;<span class="ident" id="3372141"><a href="/text/template/parse/lex.go.html#3372093">rd</a></span>&nbsp;<span class="op" id="3372144">==</span>&nbsp;<span class="ident" id="3372147"><a href="/text/template/parse/lex.go.html#3371759">r</a></span>&nbsp;<span class="op" id="3372149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372153">return</span>&nbsp;<span class="ident" id="3372160">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3372166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372169">return</span>&nbsp;<span class="ident" id="3372176">false</span><br>
<span class="lineno"></span><span class="op" id="3372182">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="comment" id="3372185">//&nbsp;lexChar&nbsp;scans&nbsp;a&nbsp;character&nbsp;constant.&nbsp;The&nbsp;initial&nbsp;quote&nbsp;is&nbsp;already</span><br>
<span class="lineno"></span><span class="comment" id="3372253">//&nbsp;scanned.&nbsp;Syntax&nbsp;checking&nbsp;is&nbsp;done&nbsp;by&nbsp;the&nbsp;parser.</span><br>
<span class="lineno"></span><span class="keyword" id="3372304">func</span>&nbsp;<span class="ident" id="3372309">lexChar</span><span class="op" id="3372316">(</span><span class="ident" id="3372317">l</span>&nbsp;<span class="op" id="3372319">*</span><span class="ident" id="3372320"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3372325">)</span>&nbsp;<span class="ident" id="3372327"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3372335">{</span><br>
<span class="lineno"></span><span class="ident" id="3372337">Loop</span><span class="op" id="3372341">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372344">for</span>&nbsp;<span class="op" id="3372348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372352">switch</span>&nbsp;<span class="ident" id="3372359"><a href="/text/template/parse/lex.go.html#3372317">l</a></span><span class="op" id="3372360">.</span><span class="ident" id="3372361">next</span><span class="op" id="3372365">(</span><span class="op" id="3372366">)</span>&nbsp;<span class="op" id="3372368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372372">case</span>&nbsp;<span class="string" id="3372377">&#39;\\&#39;</span><span class="op" id="3372381">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372386">if</span>&nbsp;<span class="ident" id="3372389">r</span>&nbsp;<span class="op" id="3372391">:=</span>&nbsp;<span class="ident" id="3372394"><a href="/text/template/parse/lex.go.html#3372317">l</a></span><span class="op" id="3372395">.</span><span class="ident" id="3372396">next</span><span class="op" id="3372400">(</span><span class="op" id="3372401">)</span><span class="op" id="3372402">;</span>&nbsp;<span class="ident" id="3372404"><a href="/text/template/parse/lex.go.html#3372389">r</a></span>&nbsp;<span class="op" id="3372406">!=</span>&nbsp;<span class="ident" id="3372409"><a href="/text/template/parse/lex.go.html#3363548">eof</a></span>&nbsp;<span class="op" id="3372413">&amp;&amp;</span>&nbsp;<span class="ident" id="3372416"><a href="/text/template/parse/lex.go.html#3372389">r</a></span>&nbsp;<span class="op" id="3372418">!=</span>&nbsp;<span class="string" id="3372421">&#39;\n&#39;</span>&nbsp;<span class="op" id="3372426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372432">break</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3372441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372446">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372460">case</span>&nbsp;<span class="ident" id="3372465"><a href="/text/template/parse/lex.go.html#3363548">eof</a></span><span class="op" id="3372468">,</span>&nbsp;<span class="string" id="3372470">&#39;\n&#39;</span><span class="op" id="3372474">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372479">return</span>&nbsp;<span class="ident" id="3372486"><a href="/text/template/parse/lex.go.html#3372317">l</a></span><span class="op" id="3372487">.</span><span class="ident" id="3372488">errorf</span><span class="op" id="3372494">(</span><span class="string" id="3372495">&#34;unterminated&nbsp;character&nbsp;constant&#34;</span><span class="op" id="3372528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372532">case</span>&nbsp;<span class="string" id="3372537">&#39;\&#39;&#39;</span><span class="op" id="3372541">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372546">break</span>&nbsp;<span class="ident" id="3372552">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3372559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3372562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3372565"><a href="/text/template/parse/lex.go.html#3372317">l</a></span><span class="op" id="3372566">.</span><span class="ident" id="3372567">emit</span><span class="op" id="3372571">(</span><span class="ident" id="3372572"><a href="/text/template/parse/lex.go.html#3362003">itemCharConstant</a></span><span class="op" id="3372588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372591">return</span>&nbsp;<span class="ident" id="3372598"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno">455</span><span class="op" id="3372614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3372617">//&nbsp;lexNumber&nbsp;scans&nbsp;a&nbsp;number:&nbsp;decimal,&nbsp;octal,&nbsp;hex,&nbsp;float,&nbsp;or&nbsp;imaginary.&nbsp;This</span><br>
<span class="lineno"></span><span class="comment" id="3372693">//&nbsp;isn&#39;t&nbsp;a&nbsp;perfect&nbsp;number&nbsp;scanner&nbsp;-&nbsp;for&nbsp;instance&nbsp;it&nbsp;accepts&nbsp;&#34;.&#34;&nbsp;and&nbsp;&#34;0x0.2&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3372769">//&nbsp;and&nbsp;&#34;089&#34;&nbsp;-&nbsp;but&nbsp;when&nbsp;it&#39;s&nbsp;wrong&nbsp;the&nbsp;input&nbsp;is&nbsp;invalid&nbsp;and&nbsp;the&nbsp;parser&nbsp;(via</span><br>
<span class="lineno">460</span><span class="comment" id="3372845">//&nbsp;strconv)&nbsp;will&nbsp;notice.</span><br>
<span class="lineno"></span><span class="keyword" id="3372870">func</span>&nbsp;<span class="ident" id="3372875">lexNumber</span><span class="op" id="3372884">(</span><span class="ident" id="3372885">l</span>&nbsp;<span class="op" id="3372887">*</span><span class="ident" id="3372888"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3372893">)</span>&nbsp;<span class="ident" id="3372895"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3372903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372906">if</span>&nbsp;<span class="op" id="3372909">!</span><span class="ident" id="3372910"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3372911">.</span><span class="ident" id="3372912">scanNumber</span><span class="op" id="3372922">(</span><span class="op" id="3372923">)</span>&nbsp;<span class="op" id="3372925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372929">return</span>&nbsp;<span class="ident" id="3372936"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3372937">.</span><span class="ident" id="3372938">errorf</span><span class="op" id="3372944">(</span><span class="string" id="3372945">&#34;bad&nbsp;number&nbsp;syntax:&nbsp;%q&#34;</span><span class="op" id="3372968">,</span>&nbsp;<span class="ident" id="3372970"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3372971">.</span><span class="ident" id="3372972">input</span><span class="op" id="3372977">[</span><span class="ident" id="3372978"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3372979">.</span><span class="ident" id="3372980">start</span><span class="op" id="3372985">:</span><span class="ident" id="3372986"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3372987">.</span><span class="ident" id="3372988">pos</span><span class="op" id="3372991">]</span><span class="op" id="3372992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3372995">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3372998">if</span>&nbsp;<span class="ident" id="3373001">sign</span>&nbsp;<span class="op" id="3373006">:=</span>&nbsp;<span class="ident" id="3373009"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373010">.</span><span class="ident" id="3373011">peek</span><span class="op" id="3373015">(</span><span class="op" id="3373016">)</span><span class="op" id="3373017">;</span>&nbsp;<span class="ident" id="3373019"><a href="/text/template/parse/lex.go.html#3373001">sign</a></span>&nbsp;<span class="op" id="3373024">==</span>&nbsp;<span class="string" id="3373027">&#39;+&#39;</span>&nbsp;<span class="op" id="3373031">||</span>&nbsp;<span class="ident" id="3373034"><a href="/text/template/parse/lex.go.html#3373001">sign</a></span>&nbsp;<span class="op" id="3373039">==</span>&nbsp;<span class="string" id="3373042">&#39;-&#39;</span>&nbsp;<span class="op" id="3373046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3373050">//&nbsp;Complex:&nbsp;1+2i.&nbsp;No&nbsp;spaces,&nbsp;must&nbsp;end&nbsp;in&nbsp;&#39;i&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373098">if</span>&nbsp;<span class="op" id="3373101">!</span><span class="ident" id="3373102"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373103">.</span><span class="ident" id="3373104">scanNumber</span><span class="op" id="3373114">(</span><span class="op" id="3373115">)</span>&nbsp;<span class="op" id="3373117">||</span>&nbsp;<span class="ident" id="3373120"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373121">.</span><span class="ident" id="3373122">input</span><span class="op" id="3373127">[</span><span class="ident" id="3373128"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373129">.</span><span class="ident" id="3373130">pos</span><span class="op" id="3373133">-</span><span class="num" id="3373134">1</span><span class="op" id="3373135">]</span>&nbsp;<span class="op" id="3373137">!=</span>&nbsp;<span class="string" id="3373140">&#39;i&#39;</span>&nbsp;<span class="op" id="3373144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373149">return</span>&nbsp;<span class="ident" id="3373156"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373157">.</span><span class="ident" id="3373158">errorf</span><span class="op" id="3373164">(</span><span class="string" id="3373165">&#34;bad&nbsp;number&nbsp;syntax:&nbsp;%q&#34;</span><span class="op" id="3373188">,</span>&nbsp;<span class="ident" id="3373190"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373191">.</span><span class="ident" id="3373192">input</span><span class="op" id="3373197">[</span><span class="ident" id="3373198"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373199">.</span><span class="ident" id="3373200">start</span><span class="op" id="3373205">:</span><span class="ident" id="3373206"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373207">.</span><span class="ident" id="3373208">pos</span><span class="op" id="3373211">]</span><span class="op" id="3373212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3373216">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373220"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373221">.</span><span class="ident" id="3373222">emit</span><span class="op" id="3373226">(</span><span class="ident" id="3373227"><a href="/text/template/parse/lex.go.html#3362059">itemComplex</a></span><span class="op" id="3373238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3373241">}</span>&nbsp;<span class="keyword" id="3373243">else</span>&nbsp;<span class="op" id="3373248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373252"><a href="/text/template/parse/lex.go.html#3372885">l</a></span><span class="op" id="3373253">.</span><span class="ident" id="3373254">emit</span><span class="op" id="3373258">(</span><span class="ident" id="3373259"><a href="/text/template/parse/lex.go.html#3362444">itemNumber</a></span><span class="op" id="3373269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3373272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373275">return</span>&nbsp;<span class="ident" id="3373282"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno">475</span><span class="op" id="3373298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3373301">func</span>&nbsp;<span class="op" id="3373306">(</span><span class="ident" id="3373307">l</span>&nbsp;<span class="op" id="3373309">*</span><span class="ident" id="3373310"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3373315">)</span>&nbsp;<span class="ident" id="3373317">scanNumber</span><span class="op" id="3373327">(</span><span class="op" id="3373328">)</span>&nbsp;<span class="builtintype" id="3373330">bool</span>&nbsp;<span class="op" id="3373335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3373338">//&nbsp;Optional&nbsp;leading&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373365"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373366">.</span><span class="ident" id="3373367">accept</span><span class="op" id="3373373">(</span><span class="string" id="3373374">&#34;+-&#34;</span><span class="op" id="3373378">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3373381">//&nbsp;Is&nbsp;it&nbsp;hex?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373396">digits</span>&nbsp;<span class="op" id="3373403">:=</span>&nbsp;<span class="string" id="3373406">&#34;0123456789&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373420">if</span>&nbsp;<span class="ident" id="3373423"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373424">.</span><span class="ident" id="3373425">accept</span><span class="op" id="3373431">(</span><span class="string" id="3373432">&#34;0&#34;</span><span class="op" id="3373435">)</span>&nbsp;<span class="op" id="3373437">&amp;&amp;</span>&nbsp;<span class="ident" id="3373440"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373441">.</span><span class="ident" id="3373442">accept</span><span class="op" id="3373448">(</span><span class="string" id="3373449">&#34;xX&#34;</span><span class="op" id="3373453">)</span>&nbsp;<span class="op" id="3373455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373459"><a href="/text/template/parse/lex.go.html#3373396">digits</a></span>&nbsp;<span class="op" id="3373466">=</span>&nbsp;<span class="string" id="3373468">&#34;0123456789abcdefABCDEF&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3373494">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373497"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373498">.</span><span class="ident" id="3373499">acceptRun</span><span class="op" id="3373508">(</span><span class="ident" id="3373509"><a href="/text/template/parse/lex.go.html#3373396">digits</a></span><span class="op" id="3373515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373518">if</span>&nbsp;<span class="ident" id="3373521"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373522">.</span><span class="ident" id="3373523">accept</span><span class="op" id="3373529">(</span><span class="string" id="3373530">&#34;.&#34;</span><span class="op" id="3373533">)</span>&nbsp;<span class="op" id="3373535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373539"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373540">.</span><span class="ident" id="3373541">acceptRun</span><span class="op" id="3373550">(</span><span class="ident" id="3373551"><a href="/text/template/parse/lex.go.html#3373396">digits</a></span><span class="op" id="3373557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3373560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373563">if</span>&nbsp;<span class="ident" id="3373566"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373567">.</span><span class="ident" id="3373568">accept</span><span class="op" id="3373574">(</span><span class="string" id="3373575">&#34;eE&#34;</span><span class="op" id="3373579">)</span>&nbsp;<span class="op" id="3373581">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373585"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373586">.</span><span class="ident" id="3373587">accept</span><span class="op" id="3373593">(</span><span class="string" id="3373594">&#34;+-&#34;</span><span class="op" id="3373598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373602"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373603">.</span><span class="ident" id="3373604">acceptRun</span><span class="op" id="3373613">(</span><span class="string" id="3373614">&#34;0123456789&#34;</span><span class="op" id="3373626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3373629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3373632">//&nbsp;Is&nbsp;it&nbsp;imaginary?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373653"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373654">.</span><span class="ident" id="3373655">accept</span><span class="op" id="3373661">(</span><span class="string" id="3373662">&#34;i&#34;</span><span class="op" id="3373665">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3373668">//&nbsp;Next&nbsp;thing&nbsp;mustn&#39;t&nbsp;be&nbsp;alphanumeric.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373708">if</span>&nbsp;<span class="ident" id="3373711"><a href="/text/template/parse/lex.go.html#3374707">isAlphaNumeric</a></span><span class="op" id="3373725">(</span><span class="ident" id="3373726"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373727">.</span><span class="ident" id="3373728">peek</span><span class="op" id="3373732">(</span><span class="op" id="3373733">)</span><span class="op" id="3373734">)</span>&nbsp;<span class="op" id="3373736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3373740"><a href="/text/template/parse/lex.go.html#3373307">l</a></span><span class="op" id="3373741">.</span><span class="ident" id="3373742">next</span><span class="op" id="3373746">(</span><span class="op" id="3373747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373751">return</span>&nbsp;<span class="ident" id="3373758">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3373765">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373768">return</span>&nbsp;<span class="ident" id="3373775">true</span><br>
<span class="lineno"></span><span class="op" id="3373780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3373783">//&nbsp;lexQuote&nbsp;scans&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3373818">func</span>&nbsp;<span class="ident" id="3373823">lexQuote</span><span class="op" id="3373831">(</span><span class="ident" id="3373832">l</span>&nbsp;<span class="op" id="3373834">*</span><span class="ident" id="3373835"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3373840">)</span>&nbsp;<span class="ident" id="3373842"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3373850">{</span><br>
<span class="lineno">505</span><span class="ident" id="3373852">Loop</span><span class="op" id="3373856">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373859">for</span>&nbsp;<span class="op" id="3373863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373867">switch</span>&nbsp;<span class="ident" id="3373874"><a href="/text/template/parse/lex.go.html#3373832">l</a></span><span class="op" id="3373875">.</span><span class="ident" id="3373876">next</span><span class="op" id="3373880">(</span><span class="op" id="3373881">)</span>&nbsp;<span class="op" id="3373883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373887">case</span>&nbsp;<span class="string" id="3373892">&#39;\\&#39;</span><span class="op" id="3373896">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373901">if</span>&nbsp;<span class="ident" id="3373904">r</span>&nbsp;<span class="op" id="3373906">:=</span>&nbsp;<span class="ident" id="3373909"><a href="/text/template/parse/lex.go.html#3373832">l</a></span><span class="op" id="3373910">.</span><span class="ident" id="3373911">next</span><span class="op" id="3373915">(</span><span class="op" id="3373916">)</span><span class="op" id="3373917">;</span>&nbsp;<span class="ident" id="3373919"><a href="/text/template/parse/lex.go.html#3373904">r</a></span>&nbsp;<span class="op" id="3373921">!=</span>&nbsp;<span class="ident" id="3373924"><a href="/text/template/parse/lex.go.html#3363548">eof</a></span>&nbsp;<span class="op" id="3373928">&amp;&amp;</span>&nbsp;<span class="ident" id="3373931"><a href="/text/template/parse/lex.go.html#3373904">r</a></span>&nbsp;<span class="op" id="3373933">!=</span>&nbsp;<span class="string" id="3373936">&#39;\n&#39;</span>&nbsp;<span class="op" id="3373941">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373947">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3373956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373961">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373975">case</span>&nbsp;<span class="ident" id="3373980"><a href="/text/template/parse/lex.go.html#3363548">eof</a></span><span class="op" id="3373983">,</span>&nbsp;<span class="string" id="3373985">&#39;\n&#39;</span><span class="op" id="3373989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3373994">return</span>&nbsp;<span class="ident" id="3374001"><a href="/text/template/parse/lex.go.html#3373832">l</a></span><span class="op" id="3374002">.</span><span class="ident" id="3374003">errorf</span><span class="op" id="3374009">(</span><span class="string" id="3374010">&#34;unterminated&nbsp;quoted&nbsp;string&#34;</span><span class="op" id="3374038">)</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374042">case</span>&nbsp;<span class="string" id="3374047">&#39;&#34;&#39;</span><span class="op" id="3374050">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374055">break</span>&nbsp;<span class="ident" id="3374061">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3374068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3374071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3374074"><a href="/text/template/parse/lex.go.html#3373832">l</a></span><span class="op" id="3374075">.</span><span class="ident" id="3374076">emit</span><span class="op" id="3374080">(</span><span class="ident" id="3374081"><a href="/text/template/parse/lex.go.html#3362717">itemString</a></span><span class="op" id="3374091">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374094">return</span>&nbsp;<span class="ident" id="3374101"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3374117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3374120">//&nbsp;lexRawQuote&nbsp;scans&nbsp;a&nbsp;raw&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3374162">func</span>&nbsp;<span class="ident" id="3374167">lexRawQuote</span><span class="op" id="3374178">(</span><span class="ident" id="3374179">l</span>&nbsp;<span class="op" id="3374181">*</span><span class="ident" id="3374182"><a href="/text/template/parse/lex.go.html#3363729">lexer</a></span><span class="op" id="3374187">)</span>&nbsp;<span class="ident" id="3374189"><a href="/text/template/parse/lex.go.html#3363653">stateFn</a></span>&nbsp;<span class="op" id="3374197">{</span><br>
<span class="lineno">525</span><span class="ident" id="3374199">Loop</span><span class="op" id="3374203">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374206">for</span>&nbsp;<span class="op" id="3374210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374214">switch</span>&nbsp;<span class="ident" id="3374221"><a href="/text/template/parse/lex.go.html#3374179">l</a></span><span class="op" id="3374222">.</span><span class="ident" id="3374223">next</span><span class="op" id="3374227">(</span><span class="op" id="3374228">)</span>&nbsp;<span class="op" id="3374230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374234">case</span>&nbsp;<span class="ident" id="3374239"><a href="/text/template/parse/lex.go.html#3363548">eof</a></span><span class="op" id="3374242">,</span>&nbsp;<span class="string" id="3374244">&#39;\n&#39;</span><span class="op" id="3374248">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374253">return</span>&nbsp;<span class="ident" id="3374260"><a href="/text/template/parse/lex.go.html#3374179">l</a></span><span class="op" id="3374261">.</span><span class="ident" id="3374262">errorf</span><span class="op" id="3374268">(</span><span class="string" id="3374269">&#34;unterminated&nbsp;raw&nbsp;quoted&nbsp;string&#34;</span><span class="op" id="3374301">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374305">case</span>&nbsp;<span class="string" id="3374310">&#39;`&#39;</span><span class="op" id="3374313">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374318">break</span>&nbsp;<span class="ident" id="3374324">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3374331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3374334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3374337"><a href="/text/template/parse/lex.go.html#3374179">l</a></span><span class="op" id="3374338">.</span><span class="ident" id="3374339">emit</span><span class="op" id="3374343">(</span><span class="ident" id="3374344"><a href="/text/template/parse/lex.go.html#3362529">itemRawString</a></span><span class="op" id="3374357">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374360">return</span>&nbsp;<span class="ident" id="3374367"><a href="/text/template/parse/lex.go.html#3368162">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3374383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3374386">//&nbsp;isSpace&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;a&nbsp;space&nbsp;character.</span><br>
<span class="lineno"></span><span class="keyword" id="3374437">func</span>&nbsp;<span class="ident" id="3374442">isSpace</span><span class="op" id="3374449">(</span><span class="ident" id="3374450">r</span>&nbsp;<span class="builtintype" id="3374452">rune</span><span class="op" id="3374456">)</span>&nbsp;<span class="builtintype" id="3374458">bool</span>&nbsp;<span class="op" id="3374463">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374466">return</span>&nbsp;<span class="ident" id="3374473"><a href="/text/template/parse/lex.go.html#3374450">r</a></span>&nbsp;<span class="op" id="3374475">==</span>&nbsp;<span class="string" id="3374478">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3374482">||</span>&nbsp;<span class="ident" id="3374485"><a href="/text/template/parse/lex.go.html#3374450">r</a></span>&nbsp;<span class="op" id="3374487">==</span>&nbsp;<span class="string" id="3374490">&#39;\t&#39;</span><br>
<span class="lineno"></span><span class="op" id="3374495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3374498">//&nbsp;isEndOfLine&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;an&nbsp;end-of-line&nbsp;character.</span><br>
<span class="lineno"></span><span class="keyword" id="3374560">func</span>&nbsp;<span class="ident" id="3374565">isEndOfLine</span><span class="op" id="3374576">(</span><span class="ident" id="3374577">r</span>&nbsp;<span class="builtintype" id="3374579">rune</span><span class="op" id="3374583">)</span>&nbsp;<span class="builtintype" id="3374585">bool</span>&nbsp;<span class="op" id="3374590">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374593">return</span>&nbsp;<span class="ident" id="3374600"><a href="/text/template/parse/lex.go.html#3374577">r</a></span>&nbsp;<span class="op" id="3374602">==</span>&nbsp;<span class="string" id="3374605">&#39;\r&#39;</span>&nbsp;<span class="op" id="3374610">||</span>&nbsp;<span class="ident" id="3374613"><a href="/text/template/parse/lex.go.html#3374577">r</a></span>&nbsp;<span class="op" id="3374615">==</span>&nbsp;<span class="string" id="3374618">&#39;\n&#39;</span><br>
<span class="lineno"></span><span class="op" id="3374623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3374626">//&nbsp;isAlphaNumeric&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;an&nbsp;alphabetic,&nbsp;digit,&nbsp;or&nbsp;underscore.</span><br>
<span class="lineno"></span><span class="keyword" id="3374702">func</span>&nbsp;<span class="ident" id="3374707">isAlphaNumeric</span><span class="op" id="3374721">(</span><span class="ident" id="3374722">r</span>&nbsp;<span class="builtintype" id="3374724">rune</span><span class="op" id="3374728">)</span>&nbsp;<span class="builtintype" id="3374730">bool</span>&nbsp;<span class="op" id="3374735">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3374738">return</span>&nbsp;<span class="ident" id="3374745"><a href="/text/template/parse/lex.go.html#3374722">r</a></span>&nbsp;<span class="op" id="3374747">==</span>&nbsp;<span class="string" id="3374750">&#39;_&#39;</span>&nbsp;<span class="op" id="3374754">||</span>&nbsp;<span class="ident" id="3374757"><a href="/text/template/parse/lex.go.html#3361139">unicode</a></span><span class="op" id="3374764">.</span><span class="ident" id="3374765">IsLetter</span><span class="op" id="3374773">(</span><span class="ident" id="3374774"><a href="/text/template/parse/lex.go.html#3374722">r</a></span><span class="op" id="3374775">)</span>&nbsp;<span class="op" id="3374777">||</span>&nbsp;<span class="ident" id="3374780"><a href="/text/template/parse/lex.go.html#3361139">unicode</a></span><span class="op" id="3374787">.</span><span class="ident" id="3374788">IsDigit</span><span class="op" id="3374795">(</span><span class="ident" id="3374796"><a href="/text/template/parse/lex.go.html#3374722">r</a></span><span class="op" id="3374797">)</span><br>
<span class="lineno"></span><span class="op" id="3374799">}</span>
</div>
</body>
</html>
