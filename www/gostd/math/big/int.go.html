<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html" class="current">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4392901">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4392956">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4393010">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4393061">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4393119">package</span>&nbsp;<span class="ident" id="4393127">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4393132">import</span>&nbsp;<span class="op" id="4393139">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4393142">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4393152">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4393159">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4393165">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4393178">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="4393188">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4393191">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="4393246">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4393299">type</span>&nbsp;<span class="ident" id="4393304">Int</span>&nbsp;<span class="keyword" id="4393308">struct</span>&nbsp;<span class="op" id="4393315">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393318">neg</span>&nbsp;<span class="builtintype" id="4393322">bool</span>&nbsp;<span class="comment" id="4393327">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393336">abs</span>&nbsp;<span class="ident" id="4393340">nat</span>&nbsp;&nbsp;<span class="comment" id="4393345">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="4393378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4393381">var</span>&nbsp;<span class="ident" id="4393385">intOne</span>&nbsp;<span class="op" id="4393392">=</span>&nbsp;<span class="op" id="4393394">&amp;</span><span class="ident" id="4393395">Int</span><span class="op" id="4393398">{</span><span class="builtintype" id="4393399">false</span><span class="op" id="4393404">,</span>&nbsp;<span class="ident" id="4393406">natOne</span><span class="op" id="4393412">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="4393415">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="4393432">//</span><br>
<span class="lineno"></span><span class="comment" id="4393435">//&nbsp;&nbsp;&nbsp;&nbsp-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="4393451">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="4393467">//&nbsp;&nbsp;&nbsp;&nbsp+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="4393483">//</span><br>
<span class="lineno"></span><span class="keyword" id="4393486">func</span>&nbsp;<span class="op" id="4393491">(</span><span class="ident" id="4393492">x</span>&nbsp;<span class="op" id="4393494">*</span><span class="ident" id="4393495">Int</span><span class="op" id="4393498">)</span>&nbsp;<span class="ident" id="4393500">Sign</span><span class="op" id="4393504">(</span><span class="op" id="4393505">)</span>&nbsp;<span class="builtintype" id="4393507">int</span>&nbsp;<span class="op" id="4393511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393514">if</span>&nbsp;<span class="builtinfunc" id="4393517">len</span><span class="op" id="4393520">(</span><span class="ident" id="4393521">x</span><span class="op" id="4393522">.</span><span class="ident" id="4393523">abs</span><span class="op" id="4393526">)</span>&nbsp;<span class="op" id="4393528">==</span>&nbsp;<span class="num" id="4393531">0</span>&nbsp;<span class="op" id="4393533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393537">return</span>&nbsp;<span class="num" id="4393544">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393550">if</span>&nbsp;<span class="ident" id="4393553">x</span><span class="op" id="4393554">.</span><span class="ident" id="4393555">neg</span>&nbsp;<span class="op" id="4393559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393563">return</span>&nbsp;<span class="op" id="4393570">-</span><span class="num" id="4393571">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393577">return</span>&nbsp;<span class="num" id="4393584">1</span><br>
<span class="lineno">40</span><span class="op" id="4393586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4393589">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4393628">func</span>&nbsp;<span class="op" id="4393633">(</span><span class="ident" id="4393634">z</span>&nbsp;<span class="op" id="4393636">*</span><span class="ident" id="4393637">Int</span><span class="op" id="4393640">)</span>&nbsp;<span class="ident" id="4393642">SetInt64</span><span class="op" id="4393650">(</span><span class="ident" id="4393651">x</span>&nbsp;<span class="ident" id="4393653">int64</span><span class="op" id="4393658">)</span>&nbsp;<span class="op" id="4393660">*</span><span class="ident" id="4393661">Int</span>&nbsp;<span class="op" id="4393665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393668">neg</span>&nbsp;<span class="op" id="4393672">:=</span>&nbsp;<span class="builtintype" id="4393675">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393682">if</span>&nbsp;<span class="ident" id="4393685">x</span>&nbsp;<span class="op" id="4393687">&lt;</span>&nbsp;<span class="num" id="4393689">0</span>&nbsp;<span class="op" id="4393691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393695">neg</span>&nbsp;<span class="op" id="4393699">=</span>&nbsp;<span class="builtintype" id="4393701">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393708">x</span>&nbsp;<span class="op" id="4393710">=</span>&nbsp;<span class="op" id="4393712">-</span><span class="ident" id="4393713">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393719">z</span><span class="op" id="4393720">.</span><span class="ident" id="4393721">abs</span>&nbsp;<span class="op" id="4393725">=</span>&nbsp;<span class="ident" id="4393727">z</span><span class="op" id="4393728">.</span><span class="ident" id="4393729">abs</span><span class="op" id="4393732">.</span><span class="ident" id="4393733">setUint64</span><span class="op" id="4393742">(</span><span class="ident" id="4393743">uint64</span><span class="op" id="4393749">(</span><span class="ident" id="4393750">x</span><span class="op" id="4393751">)</span><span class="op" id="4393752">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393755">z</span><span class="op" id="4393756">.</span><span class="ident" id="4393757">neg</span>&nbsp;<span class="op" id="4393761">=</span>&nbsp;<span class="ident" id="4393763">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393768">return</span>&nbsp;<span class="ident" id="4393775">z</span><br>
<span class="lineno"></span><span class="op" id="4393777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4393780">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="4393820">func</span>&nbsp;<span class="op" id="4393825">(</span><span class="ident" id="4393826">z</span>&nbsp;<span class="op" id="4393828">*</span><span class="ident" id="4393829">Int</span><span class="op" id="4393832">)</span>&nbsp;<span class="ident" id="4393834">SetUint64</span><span class="op" id="4393843">(</span><span class="ident" id="4393844">x</span>&nbsp;<span class="ident" id="4393846">uint64</span><span class="op" id="4393852">)</span>&nbsp;<span class="op" id="4393854">*</span><span class="ident" id="4393855">Int</span>&nbsp;<span class="op" id="4393859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393862">z</span><span class="op" id="4393863">.</span><span class="ident" id="4393864">abs</span>&nbsp;<span class="op" id="4393868">=</span>&nbsp;<span class="ident" id="4393870">z</span><span class="op" id="4393871">.</span><span class="ident" id="4393872">abs</span><span class="op" id="4393875">.</span><span class="ident" id="4393876">setUint64</span><span class="op" id="4393885">(</span><span class="ident" id="4393886">x</span><span class="op" id="4393887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393890">z</span><span class="op" id="4393891">.</span><span class="ident" id="4393892">neg</span>&nbsp;<span class="op" id="4393896">=</span>&nbsp;<span class="builtintype" id="4393898">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393905">return</span>&nbsp;<span class="ident" id="4393912">z</span><br>
<span class="lineno"></span><span class="op" id="4393914">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4393917">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="4393969">func</span>&nbsp;<span class="ident" id="4393974">NewInt</span><span class="op" id="4393980">(</span><span class="ident" id="4393981">x</span>&nbsp;<span class="ident" id="4393983">int64</span><span class="op" id="4393988">)</span>&nbsp;<span class="op" id="4393990">*</span><span class="ident" id="4393991">Int</span>&nbsp;<span class="op" id="4393995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393998">return</span>&nbsp;<span class="builtinfunc" id="4394005">new</span><span class="op" id="4394008">(</span><span class="ident" id="4394009">Int</span><span class="op" id="4394012">)</span><span class="op" id="4394013">.</span><span class="ident" id="4394014">SetInt64</span><span class="op" id="4394022">(</span><span class="ident" id="4394023">x</span><span class="op" id="4394024">)</span><br>
<span class="lineno"></span><span class="op" id="4394026">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="4394029">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4394063">func</span>&nbsp;<span class="op" id="4394068">(</span><span class="ident" id="4394069">z</span>&nbsp;<span class="op" id="4394071">*</span><span class="ident" id="4394072">Int</span><span class="op" id="4394075">)</span>&nbsp;<span class="ident" id="4394077">Set</span><span class="op" id="4394080">(</span><span class="ident" id="4394081">x</span>&nbsp;<span class="op" id="4394083">*</span><span class="ident" id="4394084">Int</span><span class="op" id="4394087">)</span>&nbsp;<span class="op" id="4394089">*</span><span class="ident" id="4394090">Int</span>&nbsp;<span class="op" id="4394094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394097">if</span>&nbsp;<span class="ident" id="4394100">z</span>&nbsp;<span class="op" id="4394102">!=</span>&nbsp;<span class="ident" id="4394105">x</span>&nbsp;<span class="op" id="4394107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394111">z</span><span class="op" id="4394112">.</span><span class="ident" id="4394113">abs</span>&nbsp;<span class="op" id="4394117">=</span>&nbsp;<span class="ident" id="4394119">z</span><span class="op" id="4394120">.</span><span class="ident" id="4394121">abs</span><span class="op" id="4394124">.</span><span class="ident" id="4394125">set</span><span class="op" id="4394128">(</span><span class="ident" id="4394129">x</span><span class="op" id="4394130">.</span><span class="ident" id="4394131">abs</span><span class="op" id="4394134">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394138">z</span><span class="op" id="4394139">.</span><span class="ident" id="4394140">neg</span>&nbsp;<span class="op" id="4394144">=</span>&nbsp;<span class="ident" id="4394146">x</span><span class="op" id="4394147">.</span><span class="ident" id="4394148">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4394153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394156">return</span>&nbsp;<span class="ident" id="4394163">z</span><br>
<span class="lineno"></span><span class="op" id="4394165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="4394168">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="4394239">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="4394311">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="4394341">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="4394412">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="4394483">func</span>&nbsp;<span class="op" id="4394488">(</span><span class="ident" id="4394489">x</span>&nbsp;<span class="op" id="4394491">*</span><span class="ident" id="4394492">Int</span><span class="op" id="4394495">)</span>&nbsp;<span class="ident" id="4394497">Bits</span><span class="op" id="4394501">(</span><span class="op" id="4394502">)</span>&nbsp;<span class="op" id="4394504">[</span><span class="op" id="4394505">]</span><span class="ident" id="4394506">Word</span>&nbsp;<span class="op" id="4394511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394514">return</span>&nbsp;<span class="ident" id="4394521">x</span><span class="op" id="4394522">.</span><span class="ident" id="4394523">abs</span><br>
<span class="lineno"></span><span class="op" id="4394527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4394530">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="4394602">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="4394676">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="4394734">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="4394808">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="4394879">func</span>&nbsp;<span class="op" id="4394884">(</span><span class="ident" id="4394885">z</span>&nbsp;<span class="op" id="4394887">*</span><span class="ident" id="4394888">Int</span><span class="op" id="4394891">)</span>&nbsp;<span class="ident" id="4394893">SetBits</span><span class="op" id="4394900">(</span><span class="ident" id="4394901">abs</span>&nbsp;<span class="op" id="4394905">[</span><span class="op" id="4394906">]</span><span class="ident" id="4394907">Word</span><span class="op" id="4394911">)</span>&nbsp;<span class="op" id="4394913">*</span><span class="ident" id="4394914">Int</span>&nbsp;<span class="op" id="4394918">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394921">z</span><span class="op" id="4394922">.</span><span class="ident" id="4394923">abs</span>&nbsp;<span class="op" id="4394927">=</span>&nbsp;<span class="ident" id="4394929">nat</span><span class="op" id="4394932">(</span><span class="ident" id="4394933">abs</span><span class="op" id="4394936">)</span><span class="op" id="4394937">.</span><span class="ident" id="4394938">norm</span><span class="op" id="4394942">(</span><span class="op" id="4394943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394946">z</span><span class="op" id="4394947">.</span><span class="ident" id="4394948">neg</span>&nbsp;<span class="op" id="4394952">=</span>&nbsp;<span class="builtintype" id="4394954">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394961">return</span>&nbsp;<span class="ident" id="4394968">z</span><br>
<span class="lineno"></span><span class="op" id="4394970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4394973">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4395035">func</span>&nbsp;<span class="op" id="4395040">(</span><span class="ident" id="4395041">z</span>&nbsp;<span class="op" id="4395043">*</span><span class="ident" id="4395044">Int</span><span class="op" id="4395047">)</span>&nbsp;<span class="ident" id="4395049">Abs</span><span class="op" id="4395052">(</span><span class="ident" id="4395053">x</span>&nbsp;<span class="op" id="4395055">*</span><span class="ident" id="4395056">Int</span><span class="op" id="4395059">)</span>&nbsp;<span class="op" id="4395061">*</span><span class="ident" id="4395062">Int</span>&nbsp;<span class="op" id="4395066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395069">z</span><span class="op" id="4395070">.</span><span class="ident" id="4395071">Set</span><span class="op" id="4395074">(</span><span class="ident" id="4395075">x</span><span class="op" id="4395076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395079">z</span><span class="op" id="4395080">.</span><span class="ident" id="4395081">neg</span>&nbsp;<span class="op" id="4395085">=</span>&nbsp;<span class="builtintype" id="4395087">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395094">return</span>&nbsp;<span class="ident" id="4395101">z</span><br>
<span class="lineno">100</span><span class="op" id="4395103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4395106">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4395141">func</span>&nbsp;<span class="op" id="4395146">(</span><span class="ident" id="4395147">z</span>&nbsp;<span class="op" id="4395149">*</span><span class="ident" id="4395150">Int</span><span class="op" id="4395153">)</span>&nbsp;<span class="ident" id="4395155">Neg</span><span class="op" id="4395158">(</span><span class="ident" id="4395159">x</span>&nbsp;<span class="op" id="4395161">*</span><span class="ident" id="4395162">Int</span><span class="op" id="4395165">)</span>&nbsp;<span class="op" id="4395167">*</span><span class="ident" id="4395168">Int</span>&nbsp;<span class="op" id="4395172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395175">z</span><span class="op" id="4395176">.</span><span class="ident" id="4395177">Set</span><span class="op" id="4395180">(</span><span class="ident" id="4395181">x</span><span class="op" id="4395182">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395185">z</span><span class="op" id="4395186">.</span><span class="ident" id="4395187">neg</span>&nbsp;<span class="op" id="4395191">=</span>&nbsp;<span class="builtinfunc" id="4395193">len</span><span class="op" id="4395196">(</span><span class="ident" id="4395197">z</span><span class="op" id="4395198">.</span><span class="ident" id="4395199">abs</span><span class="op" id="4395202">)</span>&nbsp;<span class="op" id="4395204">&gt;</span>&nbsp;<span class="num" id="4395206">0</span>&nbsp;<span class="op" id="4395208">&amp;&amp;</span>&nbsp;<span class="op" id="4395211">!</span><span class="ident" id="4395212">z</span><span class="op" id="4395213">.</span><span class="ident" id="4395214">neg</span>&nbsp;<span class="comment" id="4395218">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395236">return</span>&nbsp;<span class="ident" id="4395243">z</span><br>
<span class="lineno"></span><span class="op" id="4395245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4395248">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="4395292">func</span>&nbsp;<span class="op" id="4395297">(</span><span class="ident" id="4395298">z</span>&nbsp;<span class="op" id="4395300">*</span><span class="ident" id="4395301">Int</span><span class="op" id="4395304">)</span>&nbsp;<span class="ident" id="4395306">Add</span><span class="op" id="4395309">(</span><span class="ident" id="4395310">x</span><span class="op" id="4395311">,</span>&nbsp;<span class="ident" id="4395313">y</span>&nbsp;<span class="op" id="4395315">*</span><span class="ident" id="4395316">Int</span><span class="op" id="4395319">)</span>&nbsp;<span class="op" id="4395321">*</span><span class="ident" id="4395322">Int</span>&nbsp;<span class="op" id="4395326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395329">neg</span>&nbsp;<span class="op" id="4395333">:=</span>&nbsp;<span class="ident" id="4395336">x</span><span class="op" id="4395337">.</span><span class="ident" id="4395338">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395343">if</span>&nbsp;<span class="ident" id="4395346">x</span><span class="op" id="4395347">.</span><span class="ident" id="4395348">neg</span>&nbsp;<span class="op" id="4395352">==</span>&nbsp;<span class="ident" id="4395355">y</span><span class="op" id="4395356">.</span><span class="ident" id="4395357">neg</span>&nbsp;<span class="op" id="4395361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395365">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395385">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395414">z</span><span class="op" id="4395415">.</span><span class="ident" id="4395416">abs</span>&nbsp;<span class="op" id="4395420">=</span>&nbsp;<span class="ident" id="4395422">z</span><span class="op" id="4395423">.</span><span class="ident" id="4395424">abs</span><span class="op" id="4395427">.</span><span class="ident" id="4395428">add</span><span class="op" id="4395431">(</span><span class="ident" id="4395432">x</span><span class="op" id="4395433">.</span><span class="ident" id="4395434">abs</span><span class="op" id="4395437">,</span>&nbsp;<span class="ident" id="4395439">y</span><span class="op" id="4395440">.</span><span class="ident" id="4395441">abs</span><span class="op" id="4395444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395447">}</span>&nbsp;<span class="keyword" id="4395449">else</span>&nbsp;<span class="op" id="4395454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395458">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395493">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395528">if</span>&nbsp;<span class="ident" id="4395531">x</span><span class="op" id="4395532">.</span><span class="ident" id="4395533">abs</span><span class="op" id="4395536">.</span><span class="ident" id="4395537">cmp</span><span class="op" id="4395540">(</span><span class="ident" id="4395541">y</span><span class="op" id="4395542">.</span><span class="ident" id="4395543">abs</span><span class="op" id="4395546">)</span>&nbsp;<span class="op" id="4395548">&gt;=</span>&nbsp;<span class="num" id="4395551">0</span>&nbsp;<span class="op" id="4395553">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395558">z</span><span class="op" id="4395559">.</span><span class="ident" id="4395560">abs</span>&nbsp;<span class="op" id="4395564">=</span>&nbsp;<span class="ident" id="4395566">z</span><span class="op" id="4395567">.</span><span class="ident" id="4395568">abs</span><span class="op" id="4395571">.</span><span class="ident" id="4395572">sub</span><span class="op" id="4395575">(</span><span class="ident" id="4395576">x</span><span class="op" id="4395577">.</span><span class="ident" id="4395578">abs</span><span class="op" id="4395581">,</span>&nbsp;<span class="ident" id="4395583">y</span><span class="op" id="4395584">.</span><span class="ident" id="4395585">abs</span><span class="op" id="4395588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395592">}</span>&nbsp;<span class="keyword" id="4395594">else</span>&nbsp;<span class="op" id="4395599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395604">neg</span>&nbsp;<span class="op" id="4395608">=</span>&nbsp;<span class="op" id="4395610">!</span><span class="ident" id="4395611">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395618">z</span><span class="op" id="4395619">.</span><span class="ident" id="4395620">abs</span>&nbsp;<span class="op" id="4395624">=</span>&nbsp;<span class="ident" id="4395626">z</span><span class="op" id="4395627">.</span><span class="ident" id="4395628">abs</span><span class="op" id="4395631">.</span><span class="ident" id="4395632">sub</span><span class="op" id="4395635">(</span><span class="ident" id="4395636">y</span><span class="op" id="4395637">.</span><span class="ident" id="4395638">abs</span><span class="op" id="4395641">,</span>&nbsp;<span class="ident" id="4395643">x</span><span class="op" id="4395644">.</span><span class="ident" id="4395645">abs</span><span class="op" id="4395648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395652">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395658">z</span><span class="op" id="4395659">.</span><span class="ident" id="4395660">neg</span>&nbsp;<span class="op" id="4395664">=</span>&nbsp;<span class="builtinfunc" id="4395666">len</span><span class="op" id="4395669">(</span><span class="ident" id="4395670">z</span><span class="op" id="4395671">.</span><span class="ident" id="4395672">abs</span><span class="op" id="4395675">)</span>&nbsp;<span class="op" id="4395677">&gt;</span>&nbsp;<span class="num" id="4395679">0</span>&nbsp;<span class="op" id="4395681">&amp;&amp;</span>&nbsp;<span class="ident" id="4395684">neg</span>&nbsp;<span class="comment" id="4395688">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395706">return</span>&nbsp;<span class="ident" id="4395713">z</span><br>
<span class="lineno"></span><span class="op" id="4395715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4395718">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4395769">func</span>&nbsp;<span class="op" id="4395774">(</span><span class="ident" id="4395775">z</span>&nbsp;<span class="op" id="4395777">*</span><span class="ident" id="4395778">Int</span><span class="op" id="4395781">)</span>&nbsp;<span class="ident" id="4395783">Sub</span><span class="op" id="4395786">(</span><span class="ident" id="4395787">x</span><span class="op" id="4395788">,</span>&nbsp;<span class="ident" id="4395790">y</span>&nbsp;<span class="op" id="4395792">*</span><span class="ident" id="4395793">Int</span><span class="op" id="4395796">)</span>&nbsp;<span class="op" id="4395798">*</span><span class="ident" id="4395799">Int</span>&nbsp;<span class="op" id="4395803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395806">neg</span>&nbsp;<span class="op" id="4395810">:=</span>&nbsp;<span class="ident" id="4395813">x</span><span class="op" id="4395814">.</span><span class="ident" id="4395815">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395820">if</span>&nbsp;<span class="ident" id="4395823">x</span><span class="op" id="4395824">.</span><span class="ident" id="4395825">neg</span>&nbsp;<span class="op" id="4395829">!=</span>&nbsp;<span class="ident" id="4395832">y</span><span class="op" id="4395833">.</span><span class="ident" id="4395834">neg</span>&nbsp;<span class="op" id="4395838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395842">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395865">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395891">z</span><span class="op" id="4395892">.</span><span class="ident" id="4395893">abs</span>&nbsp;<span class="op" id="4395897">=</span>&nbsp;<span class="ident" id="4395899">z</span><span class="op" id="4395900">.</span><span class="ident" id="4395901">abs</span><span class="op" id="4395904">.</span><span class="ident" id="4395905">add</span><span class="op" id="4395908">(</span><span class="ident" id="4395909">x</span><span class="op" id="4395910">.</span><span class="ident" id="4395911">abs</span><span class="op" id="4395914">,</span>&nbsp;<span class="ident" id="4395916">y</span><span class="op" id="4395917">.</span><span class="ident" id="4395918">abs</span><span class="op" id="4395921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395924">}</span>&nbsp;<span class="keyword" id="4395926">else</span>&nbsp;<span class="op" id="4395931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395935">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395967">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396005">if</span>&nbsp;<span class="ident" id="4396008">x</span><span class="op" id="4396009">.</span><span class="ident" id="4396010">abs</span><span class="op" id="4396013">.</span><span class="ident" id="4396014">cmp</span><span class="op" id="4396017">(</span><span class="ident" id="4396018">y</span><span class="op" id="4396019">.</span><span class="ident" id="4396020">abs</span><span class="op" id="4396023">)</span>&nbsp;<span class="op" id="4396025">&gt;=</span>&nbsp;<span class="num" id="4396028">0</span>&nbsp;<span class="op" id="4396030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396035">z</span><span class="op" id="4396036">.</span><span class="ident" id="4396037">abs</span>&nbsp;<span class="op" id="4396041">=</span>&nbsp;<span class="ident" id="4396043">z</span><span class="op" id="4396044">.</span><span class="ident" id="4396045">abs</span><span class="op" id="4396048">.</span><span class="ident" id="4396049">sub</span><span class="op" id="4396052">(</span><span class="ident" id="4396053">x</span><span class="op" id="4396054">.</span><span class="ident" id="4396055">abs</span><span class="op" id="4396058">,</span>&nbsp;<span class="ident" id="4396060">y</span><span class="op" id="4396061">.</span><span class="ident" id="4396062">abs</span><span class="op" id="4396065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396069">}</span>&nbsp;<span class="keyword" id="4396071">else</span>&nbsp;<span class="op" id="4396076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396081">neg</span>&nbsp;<span class="op" id="4396085">=</span>&nbsp;<span class="op" id="4396087">!</span><span class="ident" id="4396088">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396095">z</span><span class="op" id="4396096">.</span><span class="ident" id="4396097">abs</span>&nbsp;<span class="op" id="4396101">=</span>&nbsp;<span class="ident" id="4396103">z</span><span class="op" id="4396104">.</span><span class="ident" id="4396105">abs</span><span class="op" id="4396108">.</span><span class="ident" id="4396109">sub</span><span class="op" id="4396112">(</span><span class="ident" id="4396113">y</span><span class="op" id="4396114">.</span><span class="ident" id="4396115">abs</span><span class="op" id="4396118">,</span>&nbsp;<span class="ident" id="4396120">x</span><span class="op" id="4396121">.</span><span class="ident" id="4396122">abs</span><span class="op" id="4396125">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396135">z</span><span class="op" id="4396136">.</span><span class="ident" id="4396137">neg</span>&nbsp;<span class="op" id="4396141">=</span>&nbsp;<span class="builtinfunc" id="4396143">len</span><span class="op" id="4396146">(</span><span class="ident" id="4396147">z</span><span class="op" id="4396148">.</span><span class="ident" id="4396149">abs</span><span class="op" id="4396152">)</span>&nbsp;<span class="op" id="4396154">&gt;</span>&nbsp;<span class="num" id="4396156">0</span>&nbsp;<span class="op" id="4396158">&amp;&amp;</span>&nbsp;<span class="ident" id="4396161">neg</span>&nbsp;<span class="comment" id="4396165">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396183">return</span>&nbsp;<span class="ident" id="4396190">z</span><br>
<span class="lineno"></span><span class="op" id="4396192">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="4396195">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4396243">func</span>&nbsp;<span class="op" id="4396248">(</span><span class="ident" id="4396249">z</span>&nbsp;<span class="op" id="4396251">*</span><span class="ident" id="4396252">Int</span><span class="op" id="4396255">)</span>&nbsp;<span class="ident" id="4396257">Mul</span><span class="op" id="4396260">(</span><span class="ident" id="4396261">x</span><span class="op" id="4396262">,</span>&nbsp;<span class="ident" id="4396264">y</span>&nbsp;<span class="op" id="4396266">*</span><span class="ident" id="4396267">Int</span><span class="op" id="4396270">)</span>&nbsp;<span class="op" id="4396272">*</span><span class="ident" id="4396273">Int</span>&nbsp;<span class="op" id="4396277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4396280">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4396299">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4396324">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4396349">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396374">z</span><span class="op" id="4396375">.</span><span class="ident" id="4396376">abs</span>&nbsp;<span class="op" id="4396380">=</span>&nbsp;<span class="ident" id="4396382">z</span><span class="op" id="4396383">.</span><span class="ident" id="4396384">abs</span><span class="op" id="4396387">.</span><span class="ident" id="4396388">mul</span><span class="op" id="4396391">(</span><span class="ident" id="4396392">x</span><span class="op" id="4396393">.</span><span class="ident" id="4396394">abs</span><span class="op" id="4396397">,</span>&nbsp;<span class="ident" id="4396399">y</span><span class="op" id="4396400">.</span><span class="ident" id="4396401">abs</span><span class="op" id="4396404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396407">z</span><span class="op" id="4396408">.</span><span class="ident" id="4396409">neg</span>&nbsp;<span class="op" id="4396413">=</span>&nbsp;<span class="builtinfunc" id="4396415">len</span><span class="op" id="4396418">(</span><span class="ident" id="4396419">z</span><span class="op" id="4396420">.</span><span class="ident" id="4396421">abs</span><span class="op" id="4396424">)</span>&nbsp;<span class="op" id="4396426">&gt;</span>&nbsp;<span class="num" id="4396428">0</span>&nbsp;<span class="op" id="4396430">&amp;&amp;</span>&nbsp;<span class="ident" id="4396433">x</span><span class="op" id="4396434">.</span><span class="ident" id="4396435">neg</span>&nbsp;<span class="op" id="4396439">!=</span>&nbsp;<span class="ident" id="4396442">y</span><span class="op" id="4396443">.</span><span class="ident" id="4396444">neg</span>&nbsp;<span class="comment" id="4396448">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396466">return</span>&nbsp;<span class="ident" id="4396473">z</span><br>
<span class="lineno">160</span><span class="op" id="4396475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4396478">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="4396528">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4396578">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="4396622">func</span>&nbsp;<span class="op" id="4396627">(</span><span class="ident" id="4396628">z</span>&nbsp;<span class="op" id="4396630">*</span><span class="ident" id="4396631">Int</span><span class="op" id="4396634">)</span>&nbsp;<span class="ident" id="4396636">MulRange</span><span class="op" id="4396644">(</span><span class="ident" id="4396645">a</span><span class="op" id="4396646">,</span>&nbsp;<span class="ident" id="4396648">b</span>&nbsp;<span class="ident" id="4396650">int64</span><span class="op" id="4396655">)</span>&nbsp;<span class="op" id="4396657">*</span><span class="ident" id="4396658">Int</span>&nbsp;<span class="op" id="4396662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396665">switch</span>&nbsp;<span class="op" id="4396672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396675">case</span>&nbsp;<span class="ident" id="4396680">a</span>&nbsp;<span class="op" id="4396682">&gt;</span>&nbsp;<span class="ident" id="4396684">b</span><span class="op" id="4396685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396689">return</span>&nbsp;<span class="ident" id="4396696">z</span><span class="op" id="4396697">.</span><span class="ident" id="4396698">SetInt64</span><span class="op" id="4396706">(</span><span class="num" id="4396707">1</span><span class="op" id="4396708">)</span>&nbsp;<span class="comment" id="4396710">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396726">case</span>&nbsp;<span class="ident" id="4396731">a</span>&nbsp;<span class="op" id="4396733">&lt;=</span>&nbsp;<span class="num" id="4396736">0</span>&nbsp;<span class="op" id="4396738">&amp;&amp;</span>&nbsp;<span class="ident" id="4396741">b</span>&nbsp;<span class="op" id="4396743">&gt;=</span>&nbsp;<span class="num" id="4396746">0</span><span class="op" id="4396747">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396751">return</span>&nbsp;<span class="ident" id="4396758">z</span><span class="op" id="4396759">.</span><span class="ident" id="4396760">SetInt64</span><span class="op" id="4396768">(</span><span class="num" id="4396769">0</span><span class="op" id="4396770">)</span>&nbsp;<span class="comment" id="4396772">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4396796">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396828">neg</span>&nbsp;<span class="op" id="4396832">:=</span>&nbsp;<span class="builtintype" id="4396835">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396842">if</span>&nbsp;<span class="ident" id="4396845">a</span>&nbsp;<span class="op" id="4396847">&lt;</span>&nbsp;<span class="num" id="4396849">0</span>&nbsp;<span class="op" id="4396851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396855">neg</span>&nbsp;<span class="op" id="4396859">=</span>&nbsp;<span class="op" id="4396861">(</span><span class="ident" id="4396862">b</span><span class="op" id="4396863">-</span><span class="ident" id="4396864">a</span><span class="op" id="4396865">)</span><span class="op" id="4396866">&amp;</span><span class="num" id="4396867">1</span>&nbsp;<span class="op" id="4396869">==</span>&nbsp;<span class="num" id="4396872">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396876">a</span><span class="op" id="4396877">,</span>&nbsp;<span class="ident" id="4396879">b</span>&nbsp;<span class="op" id="4396881">=</span>&nbsp;<span class="op" id="4396883">-</span><span class="ident" id="4396884">b</span><span class="op" id="4396885">,</span>&nbsp;<span class="op" id="4396887">-</span><span class="ident" id="4396888">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396895">z</span><span class="op" id="4396896">.</span><span class="ident" id="4396897">abs</span>&nbsp;<span class="op" id="4396901">=</span>&nbsp;<span class="ident" id="4396903">z</span><span class="op" id="4396904">.</span><span class="ident" id="4396905">abs</span><span class="op" id="4396908">.</span><span class="ident" id="4396909">mulRange</span><span class="op" id="4396917">(</span><span class="ident" id="4396918">uint64</span><span class="op" id="4396924">(</span><span class="ident" id="4396925">a</span><span class="op" id="4396926">)</span><span class="op" id="4396927">,</span>&nbsp;<span class="ident" id="4396929">uint64</span><span class="op" id="4396935">(</span><span class="ident" id="4396936">b</span><span class="op" id="4396937">)</span><span class="op" id="4396938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396941">z</span><span class="op" id="4396942">.</span><span class="ident" id="4396943">neg</span>&nbsp;<span class="op" id="4396947">=</span>&nbsp;<span class="ident" id="4396949">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396954">return</span>&nbsp;<span class="ident" id="4396961">z</span><br>
<span class="lineno"></span><span class="op" id="4396963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="4396966">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4397038">func</span>&nbsp;<span class="op" id="4397043">(</span><span class="ident" id="4397044">z</span>&nbsp;<span class="op" id="4397046">*</span><span class="ident" id="4397047">Int</span><span class="op" id="4397050">)</span>&nbsp;<span class="ident" id="4397052">Binomial</span><span class="op" id="4397060">(</span><span class="ident" id="4397061">n</span><span class="op" id="4397062">,</span>&nbsp;<span class="ident" id="4397064">k</span>&nbsp;<span class="ident" id="4397066">int64</span><span class="op" id="4397071">)</span>&nbsp;<span class="op" id="4397073">*</span><span class="ident" id="4397074">Int</span>&nbsp;<span class="op" id="4397078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397081">var</span>&nbsp;<span class="ident" id="4397085">a</span><span class="op" id="4397086">,</span>&nbsp;<span class="ident" id="4397088">b</span>&nbsp;<span class="ident" id="4397090">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397095">a</span><span class="op" id="4397096">.</span><span class="ident" id="4397097">MulRange</span><span class="op" id="4397105">(</span><span class="ident" id="4397106">n</span><span class="op" id="4397107">-</span><span class="ident" id="4397108">k</span><span class="op" id="4397109">+</span><span class="num" id="4397110">1</span><span class="op" id="4397111">,</span>&nbsp;<span class="ident" id="4397113">n</span><span class="op" id="4397114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397117">b</span><span class="op" id="4397118">.</span><span class="ident" id="4397119">MulRange</span><span class="op" id="4397127">(</span><span class="num" id="4397128">1</span><span class="op" id="4397129">,</span>&nbsp;<span class="ident" id="4397131">k</span><span class="op" id="4397132">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397135">return</span>&nbsp;<span class="ident" id="4397142">z</span><span class="op" id="4397143">.</span><span class="ident" id="4397144">Quo</span><span class="op" id="4397147">(</span><span class="op" id="4397148">&amp;</span><span class="ident" id="4397149">a</span><span class="op" id="4397150">,</span>&nbsp;<span class="op" id="4397152">&amp;</span><span class="ident" id="4397153">b</span><span class="op" id="4397154">)</span><br>
<span class="lineno"></span><span class="op" id="4397156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4397159">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4397219">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="4397275">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="4397352">func</span>&nbsp;<span class="op" id="4397357">(</span><span class="ident" id="4397358">z</span>&nbsp;<span class="op" id="4397360">*</span><span class="ident" id="4397361">Int</span><span class="op" id="4397364">)</span>&nbsp;<span class="ident" id="4397366">Quo</span><span class="op" id="4397369">(</span><span class="ident" id="4397370">x</span><span class="op" id="4397371">,</span>&nbsp;<span class="ident" id="4397373">y</span>&nbsp;<span class="op" id="4397375">*</span><span class="ident" id="4397376">Int</span><span class="op" id="4397379">)</span>&nbsp;<span class="op" id="4397381">*</span><span class="ident" id="4397382">Int</span>&nbsp;<span class="op" id="4397386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397389">z</span><span class="op" id="4397390">.</span><span class="ident" id="4397391">abs</span><span class="op" id="4397394">,</span>&nbsp;<span class="ident" id="4397396">_</span>&nbsp;<span class="op" id="4397398">=</span>&nbsp;<span class="ident" id="4397400">z</span><span class="op" id="4397401">.</span><span class="ident" id="4397402">abs</span><span class="op" id="4397405">.</span><span class="ident" id="4397406">div</span><span class="op" id="4397409">(</span><span class="ident" id="4397410">nil</span><span class="op" id="4397413">,</span>&nbsp;<span class="ident" id="4397415">x</span><span class="op" id="4397416">.</span><span class="ident" id="4397417">abs</span><span class="op" id="4397420">,</span>&nbsp;<span class="ident" id="4397422">y</span><span class="op" id="4397423">.</span><span class="ident" id="4397424">abs</span><span class="op" id="4397427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397430">z</span><span class="op" id="4397431">.</span><span class="ident" id="4397432">neg</span>&nbsp;<span class="op" id="4397436">=</span>&nbsp;<span class="builtinfunc" id="4397438">len</span><span class="op" id="4397441">(</span><span class="ident" id="4397442">z</span><span class="op" id="4397443">.</span><span class="ident" id="4397444">abs</span><span class="op" id="4397447">)</span>&nbsp;<span class="op" id="4397449">&gt;</span>&nbsp;<span class="num" id="4397451">0</span>&nbsp;<span class="op" id="4397453">&amp;&amp;</span>&nbsp;<span class="ident" id="4397456">x</span><span class="op" id="4397457">.</span><span class="ident" id="4397458">neg</span>&nbsp;<span class="op" id="4397462">!=</span>&nbsp;<span class="ident" id="4397465">y</span><span class="op" id="4397466">.</span><span class="ident" id="4397467">neg</span>&nbsp;<span class="comment" id="4397471">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397489">return</span>&nbsp;<span class="ident" id="4397496">z</span><br>
<span class="lineno">200</span><span class="op" id="4397498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4397501">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4397562">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4397618">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="4397694">func</span>&nbsp;<span class="op" id="4397699">(</span><span class="ident" id="4397700">z</span>&nbsp;<span class="op" id="4397702">*</span><span class="ident" id="4397703">Int</span><span class="op" id="4397706">)</span>&nbsp;<span class="ident" id="4397708">Rem</span><span class="op" id="4397711">(</span><span class="ident" id="4397712">x</span><span class="op" id="4397713">,</span>&nbsp;<span class="ident" id="4397715">y</span>&nbsp;<span class="op" id="4397717">*</span><span class="ident" id="4397718">Int</span><span class="op" id="4397721">)</span>&nbsp;<span class="op" id="4397723">*</span><span class="ident" id="4397724">Int</span>&nbsp;<span class="op" id="4397728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397731">_</span><span class="op" id="4397732">,</span>&nbsp;<span class="ident" id="4397734">z</span><span class="op" id="4397735">.</span><span class="ident" id="4397736">abs</span>&nbsp;<span class="op" id="4397740">=</span>&nbsp;<span class="ident" id="4397742">nat</span><span class="op" id="4397745">(</span><span class="ident" id="4397746">nil</span><span class="op" id="4397749">)</span><span class="op" id="4397750">.</span><span class="ident" id="4397751">div</span><span class="op" id="4397754">(</span><span class="ident" id="4397755">z</span><span class="op" id="4397756">.</span><span class="ident" id="4397757">abs</span><span class="op" id="4397760">,</span>&nbsp;<span class="ident" id="4397762">x</span><span class="op" id="4397763">.</span><span class="ident" id="4397764">abs</span><span class="op" id="4397767">,</span>&nbsp;<span class="ident" id="4397769">y</span><span class="op" id="4397770">.</span><span class="ident" id="4397771">abs</span><span class="op" id="4397774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397777">z</span><span class="op" id="4397778">.</span><span class="ident" id="4397779">neg</span>&nbsp;<span class="op" id="4397783">=</span>&nbsp;<span class="builtinfunc" id="4397785">len</span><span class="op" id="4397788">(</span><span class="ident" id="4397789">z</span><span class="op" id="4397790">.</span><span class="ident" id="4397791">abs</span><span class="op" id="4397794">)</span>&nbsp;<span class="op" id="4397796">&gt;</span>&nbsp;<span class="num" id="4397798">0</span>&nbsp;<span class="op" id="4397800">&amp;&amp;</span>&nbsp;<span class="ident" id="4397803">x</span><span class="op" id="4397804">.</span><span class="ident" id="4397805">neg</span>&nbsp;<span class="comment" id="4397809">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397827">return</span>&nbsp;<span class="ident" id="4397834">z</span><br>
<span class="lineno"></span><span class="op" id="4397836">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="4397839">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="4397903">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="4397946">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4398002">//</span><br>
<span class="lineno">215</span><span class="comment" id="4398005">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="4398060">//</span><br>
<span class="lineno"></span><span class="comment" id="4398063">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="4398113">//&nbsp;&nbsp;&nbsp;&nbspr&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="4398128">//</span><br>
<span class="lineno">220</span><span class="comment" id="4398131">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="4398203">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="4398265">//</span><br>
<span class="lineno"></span><span class="keyword" id="4398268">func</span>&nbsp;<span class="op" id="4398273">(</span><span class="ident" id="4398274">z</span>&nbsp;<span class="op" id="4398276">*</span><span class="ident" id="4398277">Int</span><span class="op" id="4398280">)</span>&nbsp;<span class="ident" id="4398282">QuoRem</span><span class="op" id="4398288">(</span><span class="ident" id="4398289">x</span><span class="op" id="4398290">,</span>&nbsp;<span class="ident" id="4398292">y</span><span class="op" id="4398293">,</span>&nbsp;<span class="ident" id="4398295">r</span>&nbsp;<span class="op" id="4398297">*</span><span class="ident" id="4398298">Int</span><span class="op" id="4398301">)</span>&nbsp;<span class="op" id="4398303">(</span><span class="op" id="4398304">*</span><span class="ident" id="4398305">Int</span><span class="op" id="4398308">,</span>&nbsp;<span class="op" id="4398310">*</span><span class="ident" id="4398311">Int</span><span class="op" id="4398314">)</span>&nbsp;<span class="op" id="4398316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398319">z</span><span class="op" id="4398320">.</span><span class="ident" id="4398321">abs</span><span class="op" id="4398324">,</span>&nbsp;<span class="ident" id="4398326">r</span><span class="op" id="4398327">.</span><span class="ident" id="4398328">abs</span>&nbsp;<span class="op" id="4398332">=</span>&nbsp;<span class="ident" id="4398334">z</span><span class="op" id="4398335">.</span><span class="ident" id="4398336">abs</span><span class="op" id="4398339">.</span><span class="ident" id="4398340">div</span><span class="op" id="4398343">(</span><span class="ident" id="4398344">r</span><span class="op" id="4398345">.</span><span class="ident" id="4398346">abs</span><span class="op" id="4398349">,</span>&nbsp;<span class="ident" id="4398351">x</span><span class="op" id="4398352">.</span><span class="ident" id="4398353">abs</span><span class="op" id="4398356">,</span>&nbsp;<span class="ident" id="4398358">y</span><span class="op" id="4398359">.</span><span class="ident" id="4398360">abs</span><span class="op" id="4398363">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398366">z</span><span class="op" id="4398367">.</span><span class="ident" id="4398368">neg</span><span class="op" id="4398371">,</span>&nbsp;<span class="ident" id="4398373">r</span><span class="op" id="4398374">.</span><span class="ident" id="4398375">neg</span>&nbsp;<span class="op" id="4398379">=</span>&nbsp;<span class="builtinfunc" id="4398381">len</span><span class="op" id="4398384">(</span><span class="ident" id="4398385">z</span><span class="op" id="4398386">.</span><span class="ident" id="4398387">abs</span><span class="op" id="4398390">)</span>&nbsp;<span class="op" id="4398392">&gt;</span>&nbsp;<span class="num" id="4398394">0</span>&nbsp;<span class="op" id="4398396">&amp;&amp;</span>&nbsp;<span class="ident" id="4398399">x</span><span class="op" id="4398400">.</span><span class="ident" id="4398401">neg</span>&nbsp;<span class="op" id="4398405">!=</span>&nbsp;<span class="ident" id="4398408">y</span><span class="op" id="4398409">.</span><span class="ident" id="4398410">neg</span><span class="op" id="4398413">,</span>&nbsp;<span class="builtinfunc" id="4398415">len</span><span class="op" id="4398418">(</span><span class="ident" id="4398419">r</span><span class="op" id="4398420">.</span><span class="ident" id="4398421">abs</span><span class="op" id="4398424">)</span>&nbsp;<span class="op" id="4398426">&gt;</span>&nbsp;<span class="num" id="4398428">0</span>&nbsp;<span class="op" id="4398430">&amp;&amp;</span>&nbsp;<span class="ident" id="4398433">x</span><span class="op" id="4398434">.</span><span class="ident" id="4398435">neg</span>&nbsp;<span class="comment" id="4398439">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398457">return</span>&nbsp;<span class="ident" id="4398464">z</span><span class="op" id="4398465">,</span>&nbsp;<span class="ident" id="4398467">r</span><br>
<span class="lineno"></span><span class="op" id="4398469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4398472">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="4398532">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4398588">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="4398667">func</span>&nbsp;<span class="op" id="4398672">(</span><span class="ident" id="4398673">z</span>&nbsp;<span class="op" id="4398675">*</span><span class="ident" id="4398676">Int</span><span class="op" id="4398679">)</span>&nbsp;<span class="ident" id="4398681">Div</span><span class="op" id="4398684">(</span><span class="ident" id="4398685">x</span><span class="op" id="4398686">,</span>&nbsp;<span class="ident" id="4398688">y</span>&nbsp;<span class="op" id="4398690">*</span><span class="ident" id="4398691">Int</span><span class="op" id="4398694">)</span>&nbsp;<span class="op" id="4398696">*</span><span class="ident" id="4398697">Int</span>&nbsp;<span class="op" id="4398701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398704">y_neg</span>&nbsp;<span class="op" id="4398710">:=</span>&nbsp;<span class="ident" id="4398713">y</span><span class="op" id="4398714">.</span><span class="ident" id="4398715">neg</span>&nbsp;<span class="comment" id="4398719">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398747">var</span>&nbsp;<span class="ident" id="4398751">r</span>&nbsp;<span class="ident" id="4398753">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398758">z</span><span class="op" id="4398759">.</span><span class="ident" id="4398760">QuoRem</span><span class="op" id="4398766">(</span><span class="ident" id="4398767">x</span><span class="op" id="4398768">,</span>&nbsp;<span class="ident" id="4398770">y</span><span class="op" id="4398771">,</span>&nbsp;<span class="op" id="4398773">&amp;</span><span class="ident" id="4398774">r</span><span class="op" id="4398775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398778">if</span>&nbsp;<span class="ident" id="4398781">r</span><span class="op" id="4398782">.</span><span class="ident" id="4398783">neg</span>&nbsp;<span class="op" id="4398787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398791">if</span>&nbsp;<span class="ident" id="4398794">y_neg</span>&nbsp;<span class="op" id="4398800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398805">z</span><span class="op" id="4398806">.</span><span class="ident" id="4398807">Add</span><span class="op" id="4398810">(</span><span class="ident" id="4398811">z</span><span class="op" id="4398812">,</span>&nbsp;<span class="ident" id="4398814">intOne</span><span class="op" id="4398820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4398824">}</span>&nbsp;<span class="keyword" id="4398826">else</span>&nbsp;<span class="op" id="4398831">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398836">z</span><span class="op" id="4398837">.</span><span class="ident" id="4398838">Sub</span><span class="op" id="4398841">(</span><span class="ident" id="4398842">z</span><span class="op" id="4398843">,</span>&nbsp;<span class="ident" id="4398845">intOne</span><span class="op" id="4398851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4398855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4398858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398861">return</span>&nbsp;<span class="ident" id="4398868">z</span><br>
<span class="lineno"></span><span class="op" id="4398870">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="4398873">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4398932">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4398988">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="4399066">func</span>&nbsp;<span class="op" id="4399071">(</span><span class="ident" id="4399072">z</span>&nbsp;<span class="op" id="4399074">*</span><span class="ident" id="4399075">Int</span><span class="op" id="4399078">)</span>&nbsp;<span class="ident" id="4399080">Mod</span><span class="op" id="4399083">(</span><span class="ident" id="4399084">x</span><span class="op" id="4399085">,</span>&nbsp;<span class="ident" id="4399087">y</span>&nbsp;<span class="op" id="4399089">*</span><span class="ident" id="4399090">Int</span><span class="op" id="4399093">)</span>&nbsp;<span class="op" id="4399095">*</span><span class="ident" id="4399096">Int</span>&nbsp;<span class="op" id="4399100">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399103">y0</span>&nbsp;<span class="op" id="4399106">:=</span>&nbsp;<span class="ident" id="4399109">y</span>&nbsp;<span class="comment" id="4399111">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399122">if</span>&nbsp;<span class="ident" id="4399125">z</span>&nbsp;<span class="op" id="4399127">==</span>&nbsp;<span class="ident" id="4399130">y</span>&nbsp;<span class="op" id="4399132">||</span>&nbsp;<span class="ident" id="4399135">alias</span><span class="op" id="4399140">(</span><span class="ident" id="4399141">z</span><span class="op" id="4399142">.</span><span class="ident" id="4399143">abs</span><span class="op" id="4399146">,</span>&nbsp;<span class="ident" id="4399148">y</span><span class="op" id="4399149">.</span><span class="ident" id="4399150">abs</span><span class="op" id="4399153">)</span>&nbsp;<span class="op" id="4399155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399159">y0</span>&nbsp;<span class="op" id="4399162">=</span>&nbsp;<span class="builtinfunc" id="4399164">new</span><span class="op" id="4399167">(</span><span class="ident" id="4399168">Int</span><span class="op" id="4399171">)</span><span class="op" id="4399172">.</span><span class="ident" id="4399173">Set</span><span class="op" id="4399176">(</span><span class="ident" id="4399177">y</span><span class="op" id="4399178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399184">var</span>&nbsp;<span class="ident" id="4399188">q</span>&nbsp;<span class="ident" id="4399190">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399195">q</span><span class="op" id="4399196">.</span><span class="ident" id="4399197">QuoRem</span><span class="op" id="4399203">(</span><span class="ident" id="4399204">x</span><span class="op" id="4399205">,</span>&nbsp;<span class="ident" id="4399207">y</span><span class="op" id="4399208">,</span>&nbsp;<span class="ident" id="4399210">z</span><span class="op" id="4399211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399214">if</span>&nbsp;<span class="ident" id="4399217">z</span><span class="op" id="4399218">.</span><span class="ident" id="4399219">neg</span>&nbsp;<span class="op" id="4399223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399227">if</span>&nbsp;<span class="ident" id="4399230">y0</span><span class="op" id="4399232">.</span><span class="ident" id="4399233">neg</span>&nbsp;<span class="op" id="4399237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399242">z</span><span class="op" id="4399243">.</span><span class="ident" id="4399244">Sub</span><span class="op" id="4399247">(</span><span class="ident" id="4399248">z</span><span class="op" id="4399249">,</span>&nbsp;<span class="ident" id="4399251">y0</span><span class="op" id="4399253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399257">}</span>&nbsp;<span class="keyword" id="4399259">else</span>&nbsp;<span class="op" id="4399264">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399269">z</span><span class="op" id="4399270">.</span><span class="ident" id="4399271">Add</span><span class="op" id="4399274">(</span><span class="ident" id="4399275">z</span><span class="op" id="4399276">,</span>&nbsp;<span class="ident" id="4399278">y0</span><span class="op" id="4399280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399290">return</span>&nbsp;<span class="ident" id="4399297">z</span><br>
<span class="lineno"></span><span class="op" id="4399299">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="4399302">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4399372">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="4399415">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4399471">//</span><br>
<span class="lineno">270</span><span class="comment" id="4399474">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="4399539">//</span><br>
<span class="lineno"></span><span class="comment" id="4399542">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="4399568">//&nbsp;&nbsp;&nbsp;&nbspm&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="4399602">//</span><br>
<span class="lineno">275</span><span class="comment" id="4399605">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="4399675">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4399739">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="4399802">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="4399817">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="4399869">//</span><br>
<span class="lineno"></span><span class="keyword" id="4399872">func</span>&nbsp;<span class="op" id="4399877">(</span><span class="ident" id="4399878">z</span>&nbsp;<span class="op" id="4399880">*</span><span class="ident" id="4399881">Int</span><span class="op" id="4399884">)</span>&nbsp;<span class="ident" id="4399886">DivMod</span><span class="op" id="4399892">(</span><span class="ident" id="4399893">x</span><span class="op" id="4399894">,</span>&nbsp;<span class="ident" id="4399896">y</span><span class="op" id="4399897">,</span>&nbsp;<span class="ident" id="4399899">m</span>&nbsp;<span class="op" id="4399901">*</span><span class="ident" id="4399902">Int</span><span class="op" id="4399905">)</span>&nbsp;<span class="op" id="4399907">(</span><span class="op" id="4399908">*</span><span class="ident" id="4399909">Int</span><span class="op" id="4399912">,</span>&nbsp;<span class="op" id="4399914">*</span><span class="ident" id="4399915">Int</span><span class="op" id="4399918">)</span>&nbsp;<span class="op" id="4399920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399923">y0</span>&nbsp;<span class="op" id="4399926">:=</span>&nbsp;<span class="ident" id="4399929">y</span>&nbsp;<span class="comment" id="4399931">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399942">if</span>&nbsp;<span class="ident" id="4399945">z</span>&nbsp;<span class="op" id="4399947">==</span>&nbsp;<span class="ident" id="4399950">y</span>&nbsp;<span class="op" id="4399952">||</span>&nbsp;<span class="ident" id="4399955">alias</span><span class="op" id="4399960">(</span><span class="ident" id="4399961">z</span><span class="op" id="4399962">.</span><span class="ident" id="4399963">abs</span><span class="op" id="4399966">,</span>&nbsp;<span class="ident" id="4399968">y</span><span class="op" id="4399969">.</span><span class="ident" id="4399970">abs</span><span class="op" id="4399973">)</span>&nbsp;<span class="op" id="4399975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399979">y0</span>&nbsp;<span class="op" id="4399982">=</span>&nbsp;<span class="builtinfunc" id="4399984">new</span><span class="op" id="4399987">(</span><span class="ident" id="4399988">Int</span><span class="op" id="4399991">)</span><span class="op" id="4399992">.</span><span class="ident" id="4399993">Set</span><span class="op" id="4399996">(</span><span class="ident" id="4399997">y</span><span class="op" id="4399998">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400004">z</span><span class="op" id="4400005">.</span><span class="ident" id="4400006">QuoRem</span><span class="op" id="4400012">(</span><span class="ident" id="4400013">x</span><span class="op" id="4400014">,</span>&nbsp;<span class="ident" id="4400016">y</span><span class="op" id="4400017">,</span>&nbsp;<span class="ident" id="4400019">m</span><span class="op" id="4400020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400023">if</span>&nbsp;<span class="ident" id="4400026">m</span><span class="op" id="4400027">.</span><span class="ident" id="4400028">neg</span>&nbsp;<span class="op" id="4400032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400036">if</span>&nbsp;<span class="ident" id="4400039">y0</span><span class="op" id="4400041">.</span><span class="ident" id="4400042">neg</span>&nbsp;<span class="op" id="4400046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400051">z</span><span class="op" id="4400052">.</span><span class="ident" id="4400053">Add</span><span class="op" id="4400056">(</span><span class="ident" id="4400057">z</span><span class="op" id="4400058">,</span>&nbsp;<span class="ident" id="4400060">intOne</span><span class="op" id="4400066">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400071">m</span><span class="op" id="4400072">.</span><span class="ident" id="4400073">Sub</span><span class="op" id="4400076">(</span><span class="ident" id="4400077">m</span><span class="op" id="4400078">,</span>&nbsp;<span class="ident" id="4400080">y0</span><span class="op" id="4400082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400086">}</span>&nbsp;<span class="keyword" id="4400088">else</span>&nbsp;<span class="op" id="4400093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400098">z</span><span class="op" id="4400099">.</span><span class="ident" id="4400100">Sub</span><span class="op" id="4400103">(</span><span class="ident" id="4400104">z</span><span class="op" id="4400105">,</span>&nbsp;<span class="ident" id="4400107">intOne</span><span class="op" id="4400113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400118">m</span><span class="op" id="4400119">.</span><span class="ident" id="4400120">Add</span><span class="op" id="4400123">(</span><span class="ident" id="4400124">m</span><span class="op" id="4400125">,</span>&nbsp;<span class="ident" id="4400127">y0</span><span class="op" id="4400129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400133">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400139">return</span>&nbsp;<span class="ident" id="4400146">z</span><span class="op" id="4400147">,</span>&nbsp;<span class="ident" id="4400149">m</span><br>
<span class="lineno"></span><span class="op" id="4400151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4400154">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="4400191">//</span><br>
<span class="lineno"></span><span class="comment" id="4400194">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4400212">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4400230">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4400248">//</span><br>
<span class="lineno">305</span><span class="keyword" id="4400251">func</span>&nbsp;<span class="op" id="4400256">(</span><span class="ident" id="4400257">x</span>&nbsp;<span class="op" id="4400259">*</span><span class="ident" id="4400260">Int</span><span class="op" id="4400263">)</span>&nbsp;<span class="ident" id="4400265">Cmp</span><span class="op" id="4400268">(</span><span class="ident" id="4400269">y</span>&nbsp;<span class="op" id="4400271">*</span><span class="ident" id="4400272">Int</span><span class="op" id="4400275">)</span>&nbsp;<span class="op" id="4400277">(</span><span class="ident" id="4400278">r</span>&nbsp;<span class="builtintype" id="4400280">int</span><span class="op" id="4400283">)</span>&nbsp;<span class="op" id="4400285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4400288">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4400311">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4400331">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4400351">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400383">switch</span>&nbsp;<span class="op" id="4400390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400393">case</span>&nbsp;<span class="ident" id="4400398">x</span><span class="op" id="4400399">.</span><span class="ident" id="4400400">neg</span>&nbsp;<span class="op" id="4400404">==</span>&nbsp;<span class="ident" id="4400407">y</span><span class="op" id="4400408">.</span><span class="ident" id="4400409">neg</span><span class="op" id="4400412">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400416">r</span>&nbsp;<span class="op" id="4400418">=</span>&nbsp;<span class="ident" id="4400420">x</span><span class="op" id="4400421">.</span><span class="ident" id="4400422">abs</span><span class="op" id="4400425">.</span><span class="ident" id="4400426">cmp</span><span class="op" id="4400429">(</span><span class="ident" id="4400430">y</span><span class="op" id="4400431">.</span><span class="ident" id="4400432">abs</span><span class="op" id="4400435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400439">if</span>&nbsp;<span class="ident" id="4400442">x</span><span class="op" id="4400443">.</span><span class="ident" id="4400444">neg</span>&nbsp;<span class="op" id="4400448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400453">r</span>&nbsp;<span class="op" id="4400455">=</span>&nbsp;<span class="op" id="4400457">-</span><span class="ident" id="4400458">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400465">case</span>&nbsp;<span class="ident" id="4400470">x</span><span class="op" id="4400471">.</span><span class="ident" id="4400472">neg</span><span class="op" id="4400475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400479">r</span>&nbsp;<span class="op" id="4400481">=</span>&nbsp;<span class="op" id="4400483">-</span><span class="num" id="4400484">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400487">default</span><span class="op" id="4400494">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400498">r</span>&nbsp;<span class="op" id="4400500">=</span>&nbsp;<span class="num" id="4400502">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400508">return</span><br>
<span class="lineno"></span><span class="op" id="4400515">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4400518">func</span>&nbsp;<span class="op" id="4400523">(</span><span class="ident" id="4400524">x</span>&nbsp;<span class="op" id="4400526">*</span><span class="ident" id="4400527">Int</span><span class="op" id="4400530">)</span>&nbsp;<span class="ident" id="4400532">String</span><span class="op" id="4400538">(</span><span class="op" id="4400539">)</span>&nbsp;<span class="builtintype" id="4400541">string</span>&nbsp;<span class="op" id="4400548">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400551">switch</span>&nbsp;<span class="op" id="4400558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400561">case</span>&nbsp;<span class="ident" id="4400566">x</span>&nbsp;<span class="op" id="4400568">==</span>&nbsp;<span class="ident" id="4400571">nil</span><span class="op" id="4400574">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400578">return</span>&nbsp;<span class="string" id="4400585">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400594">case</span>&nbsp;<span class="ident" id="4400599">x</span><span class="op" id="4400600">.</span><span class="ident" id="4400601">neg</span><span class="op" id="4400604">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400608">return</span>&nbsp;<span class="string" id="4400615">&#34;-&#34;</span>&nbsp;<span class="op" id="4400619">+</span>&nbsp;<span class="ident" id="4400621">x</span><span class="op" id="4400622">.</span><span class="ident" id="4400623">abs</span><span class="op" id="4400626">.</span><span class="ident" id="4400627">decimalString</span><span class="op" id="4400640">(</span><span class="op" id="4400641">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400647">return</span>&nbsp;<span class="ident" id="4400654">x</span><span class="op" id="4400655">.</span><span class="ident" id="4400656">abs</span><span class="op" id="4400659">.</span><span class="ident" id="4400660">decimalString</span><span class="op" id="4400673">(</span><span class="op" id="4400674">)</span><br>
<span class="lineno"></span><span class="op" id="4400676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4400679">func</span>&nbsp;<span class="ident" id="4400684">charset</span><span class="op" id="4400691">(</span><span class="ident" id="4400692">ch</span>&nbsp;<span class="builtintype" id="4400695">rune</span><span class="op" id="4400699">)</span>&nbsp;<span class="builtintype" id="4400701">string</span>&nbsp;<span class="op" id="4400708">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400711">switch</span>&nbsp;<span class="ident" id="4400718">ch</span>&nbsp;<span class="op" id="4400721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400724">case</span>&nbsp;<span class="string" id="4400729">&#39;b&#39;</span><span class="op" id="4400732">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400736">return</span>&nbsp;<span class="ident" id="4400743">lowercaseDigits</span><span class="op" id="4400758">[</span><span class="num" id="4400759">0</span><span class="op" id="4400760">:</span><span class="num" id="4400761">2</span><span class="op" id="4400762">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400765">case</span>&nbsp;<span class="string" id="4400770">&#39;o&#39;</span><span class="op" id="4400773">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400777">return</span>&nbsp;<span class="ident" id="4400784">lowercaseDigits</span><span class="op" id="4400799">[</span><span class="num" id="4400800">0</span><span class="op" id="4400801">:</span><span class="num" id="4400802">8</span><span class="op" id="4400803">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400806">case</span>&nbsp;<span class="string" id="4400811">&#39;d&#39;</span><span class="op" id="4400814">,</span>&nbsp;<span class="string" id="4400816">&#39;s&#39;</span><span class="op" id="4400819">,</span>&nbsp;<span class="string" id="4400821">&#39;v&#39;</span><span class="op" id="4400824">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400828">return</span>&nbsp;<span class="ident" id="4400835">lowercaseDigits</span><span class="op" id="4400850">[</span><span class="num" id="4400851">0</span><span class="op" id="4400852">:</span><span class="num" id="4400853">10</span><span class="op" id="4400855">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400858">case</span>&nbsp;<span class="string" id="4400863">&#39;x&#39;</span><span class="op" id="4400866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400870">return</span>&nbsp;<span class="ident" id="4400877">lowercaseDigits</span><span class="op" id="4400892">[</span><span class="num" id="4400893">0</span><span class="op" id="4400894">:</span><span class="num" id="4400895">16</span><span class="op" id="4400897">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400900">case</span>&nbsp;<span class="string" id="4400905">&#39;X&#39;</span><span class="op" id="4400908">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400912">return</span>&nbsp;<span class="ident" id="4400919">uppercaseDigits</span><span class="op" id="4400934">[</span><span class="num" id="4400935">0</span><span class="op" id="4400936">:</span><span class="num" id="4400937">16</span><span class="op" id="4400939">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400945">return</span>&nbsp;<span class="string" id="4400952">&#34;&#34;</span>&nbsp;<span class="comment" id="4400955">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="4400973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="4400976">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="4401011">func</span>&nbsp;<span class="ident" id="4401016">writeMultiple</span><span class="op" id="4401029">(</span><span class="ident" id="4401030">s</span>&nbsp;<span class="ident" id="4401032">fmt</span><span class="op" id="4401035">.</span><span class="ident" id="4401036">State</span><span class="op" id="4401041">,</span>&nbsp;<span class="ident" id="4401043">text</span>&nbsp;<span class="builtintype" id="4401048">string</span><span class="op" id="4401054">,</span>&nbsp;<span class="ident" id="4401056">count</span>&nbsp;<span class="builtintype" id="4401062">int</span><span class="op" id="4401065">)</span>&nbsp;<span class="op" id="4401067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401070">if</span>&nbsp;<span class="builtinfunc" id="4401073">len</span><span class="op" id="4401076">(</span><span class="ident" id="4401077">text</span><span class="op" id="4401081">)</span>&nbsp;<span class="op" id="4401083">&gt;</span>&nbsp;<span class="num" id="4401085">0</span>&nbsp;<span class="op" id="4401087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401091">b</span>&nbsp;<span class="op" id="4401093">:=</span>&nbsp;<span class="op" id="4401096">[</span><span class="op" id="4401097">]</span><span class="builtintype" id="4401098">byte</span><span class="op" id="4401102">(</span><span class="ident" id="4401103">text</span><span class="op" id="4401107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401111">for</span>&nbsp;<span class="op" id="4401115">;</span>&nbsp;<span class="ident" id="4401117">count</span>&nbsp;<span class="op" id="4401123">&gt;</span>&nbsp;<span class="num" id="4401125">0</span><span class="op" id="4401126">;</span>&nbsp;<span class="ident" id="4401128">count</span><span class="op" id="4401133">--</span>&nbsp;<span class="op" id="4401136">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401141">s</span><span class="op" id="4401142">.</span><span class="ident" id="4401143">Write</span><span class="op" id="4401148">(</span><span class="ident" id="4401149">b</span><span class="op" id="4401150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401157">}</span><br>
<span class="lineno"></span><span class="op" id="4401159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="4401162">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="4401223">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="4401284">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="4401345">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4401406">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="4401463">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="4401522">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="4401581">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="4401641">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="4401699">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="4401723">//</span><br>
<span class="lineno"></span><span class="keyword" id="4401726">func</span>&nbsp;<span class="op" id="4401731">(</span><span class="ident" id="4401732">x</span>&nbsp;<span class="op" id="4401734">*</span><span class="ident" id="4401735">Int</span><span class="op" id="4401738">)</span>&nbsp;<span class="ident" id="4401740">Format</span><span class="op" id="4401746">(</span><span class="ident" id="4401747">s</span>&nbsp;<span class="ident" id="4401749">fmt</span><span class="op" id="4401752">.</span><span class="ident" id="4401753">State</span><span class="op" id="4401758">,</span>&nbsp;<span class="ident" id="4401760">ch</span>&nbsp;<span class="builtintype" id="4401763">rune</span><span class="op" id="4401767">)</span>&nbsp;<span class="op" id="4401769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401772">cs</span>&nbsp;<span class="op" id="4401775">:=</span>&nbsp;<span class="ident" id="4401778">charset</span><span class="op" id="4401785">(</span><span class="ident" id="4401786">ch</span><span class="op" id="4401788">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401792">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401810">switch</span>&nbsp;<span class="op" id="4401817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401820">case</span>&nbsp;<span class="ident" id="4401825">cs</span>&nbsp;<span class="op" id="4401828">==</span>&nbsp;<span class="string" id="4401831">&#34;&#34;</span><span class="op" id="4401833">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401837">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401857">fmt</span><span class="op" id="4401860">.</span><span class="ident" id="4401861">Fprintf</span><span class="op" id="4401868">(</span><span class="ident" id="4401869">s</span><span class="op" id="4401870">,</span>&nbsp;<span class="string" id="4401872">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="4401891">,</span>&nbsp;<span class="ident" id="4401893">ch</span><span class="op" id="4401895">,</span>&nbsp;<span class="ident" id="4401897">x</span><span class="op" id="4401898">.</span><span class="ident" id="4401899">String</span><span class="op" id="4401905">(</span><span class="op" id="4401906">)</span><span class="op" id="4401907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401911">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401919">case</span>&nbsp;<span class="ident" id="4401924">x</span>&nbsp;<span class="op" id="4401926">==</span>&nbsp;<span class="ident" id="4401929">nil</span><span class="op" id="4401932">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401936">fmt</span><span class="op" id="4401939">.</span><span class="ident" id="4401940">Fprint</span><span class="op" id="4401946">(</span><span class="ident" id="4401947">s</span><span class="op" id="4401948">,</span>&nbsp;<span class="string" id="4401950">&#34;&lt;nil&gt;&#34;</span><span class="op" id="4401957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401961">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401973">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402002">sign</span>&nbsp;<span class="op" id="4402007">:=</span>&nbsp;<span class="string" id="4402010">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402014">switch</span>&nbsp;<span class="op" id="4402021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402024">case</span>&nbsp;<span class="ident" id="4402029">x</span><span class="op" id="4402030">.</span><span class="ident" id="4402031">neg</span><span class="op" id="4402034">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402038">sign</span>&nbsp;<span class="op" id="4402043">=</span>&nbsp;<span class="string" id="4402045">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402050">case</span>&nbsp;<span class="ident" id="4402055">s</span><span class="op" id="4402056">.</span><span class="ident" id="4402057">Flag</span><span class="op" id="4402061">(</span><span class="string" id="4402062">&#39;+&#39;</span><span class="op" id="4402065">)</span><span class="op" id="4402066">:</span>&nbsp;<span class="comment" id="4402068">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402108">sign</span>&nbsp;<span class="op" id="4402113">=</span>&nbsp;<span class="string" id="4402115">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402120">case</span>&nbsp;<span class="ident" id="4402125">s</span><span class="op" id="4402126">.</span><span class="ident" id="4402127">Flag</span><span class="op" id="4402131">(</span><span class="string" id="4402132">&#39;&nbsp;&#39;</span><span class="op" id="4402135">)</span><span class="op" id="4402136">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402140">sign</span>&nbsp;<span class="op" id="4402145">=</span>&nbsp;<span class="string" id="4402147">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402152">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4402156">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402215">prefix</span>&nbsp;<span class="op" id="4402222">:=</span>&nbsp;<span class="string" id="4402225">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402229">if</span>&nbsp;<span class="ident" id="4402232">s</span><span class="op" id="4402233">.</span><span class="ident" id="4402234">Flag</span><span class="op" id="4402238">(</span><span class="string" id="4402239">&#39;#&#39;</span><span class="op" id="4402242">)</span>&nbsp;<span class="op" id="4402244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402248">switch</span>&nbsp;<span class="ident" id="4402255">ch</span>&nbsp;<span class="op" id="4402258">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402262">case</span>&nbsp;<span class="string" id="4402267">&#39;o&#39;</span><span class="op" id="4402270">:</span>&nbsp;<span class="comment" id="4402272">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402284">prefix</span>&nbsp;<span class="op" id="4402291">=</span>&nbsp;<span class="string" id="4402293">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402299">case</span>&nbsp;<span class="string" id="4402304">&#39;x&#39;</span><span class="op" id="4402307">:</span>&nbsp;<span class="comment" id="4402309">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402327">prefix</span>&nbsp;<span class="op" id="4402334">=</span>&nbsp;<span class="string" id="4402336">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402343">case</span>&nbsp;<span class="string" id="4402348">&#39;X&#39;</span><span class="op" id="4402351">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402356">prefix</span>&nbsp;<span class="op" id="4402363">=</span>&nbsp;<span class="string" id="4402365">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4402375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4402379">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402454">digits</span>&nbsp;<span class="op" id="4402461">:=</span>&nbsp;<span class="ident" id="4402464">x</span><span class="op" id="4402465">.</span><span class="ident" id="4402466">abs</span><span class="op" id="4402469">.</span><span class="builtintype" id="4402470">string</span><span class="op" id="4402476">(</span><span class="ident" id="4402477">cs</span><span class="op" id="4402479">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4402483">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402548">var</span>&nbsp;<span class="ident" id="4402552">left</span>&nbsp;<span class="builtintype" id="4402557">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4402563">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402634">var</span>&nbsp;<span class="ident" id="4402638">zeroes</span>&nbsp;<span class="builtintype" id="4402645">int</span>&nbsp;<span class="comment" id="4402649">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402715">var</span>&nbsp;<span class="ident" id="4402719">right</span>&nbsp;<span class="builtintype" id="4402725">int</span>&nbsp;&nbsp;<span class="comment" id="4402730">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4402803">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402885">precision</span><span class="op" id="4402894">,</span>&nbsp;<span class="ident" id="4402896">precisionSet</span>&nbsp;<span class="op" id="4402909">:=</span>&nbsp;<span class="ident" id="4402912">s</span><span class="op" id="4402913">.</span><span class="ident" id="4402914">Precision</span><span class="op" id="4402923">(</span><span class="op" id="4402924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402927">if</span>&nbsp;<span class="ident" id="4402930">precisionSet</span>&nbsp;<span class="op" id="4402943">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402947">switch</span>&nbsp;<span class="op" id="4402954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4402958">case</span>&nbsp;<span class="builtinfunc" id="4402963">len</span><span class="op" id="4402966">(</span><span class="ident" id="4402967">digits</span><span class="op" id="4402973">)</span>&nbsp;<span class="op" id="4402975">&lt;</span>&nbsp;<span class="ident" id="4402977">precision</span><span class="op" id="4402986">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4402991">zeroes</span>&nbsp;<span class="op" id="4402998">=</span>&nbsp;<span class="ident" id="4403000">precision</span>&nbsp;<span class="op" id="4403010">-</span>&nbsp;<span class="builtinfunc" id="4403012">len</span><span class="op" id="4403015">(</span><span class="ident" id="4403016">digits</span><span class="op" id="4403022">)</span>&nbsp;<span class="comment" id="4403024">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4403051">case</span>&nbsp;<span class="ident" id="4403056">digits</span>&nbsp;<span class="op" id="4403063">==</span>&nbsp;<span class="string" id="4403066">&#34;0&#34;</span>&nbsp;<span class="op" id="4403070">&amp;&amp;</span>&nbsp;<span class="ident" id="4403073">precision</span>&nbsp;<span class="op" id="4403083">==</span>&nbsp;<span class="num" id="4403086">0</span><span class="op" id="4403087">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4403092">return</span>&nbsp;<span class="comment" id="4403099">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4403174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4403177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4403181">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403258">length</span>&nbsp;<span class="op" id="4403265">:=</span>&nbsp;<span class="builtinfunc" id="4403268">len</span><span class="op" id="4403271">(</span><span class="ident" id="4403272">sign</span><span class="op" id="4403276">)</span>&nbsp;<span class="op" id="4403278">+</span>&nbsp;<span class="builtinfunc" id="4403280">len</span><span class="op" id="4403283">(</span><span class="ident" id="4403284">prefix</span><span class="op" id="4403290">)</span>&nbsp;<span class="op" id="4403292">+</span>&nbsp;<span class="ident" id="4403294">zeroes</span>&nbsp;<span class="op" id="4403301">+</span>&nbsp;<span class="builtinfunc" id="4403303">len</span><span class="op" id="4403306">(</span><span class="ident" id="4403307">digits</span><span class="op" id="4403313">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4403316">if</span>&nbsp;<span class="ident" id="4403319">width</span><span class="op" id="4403324">,</span>&nbsp;<span class="ident" id="4403326">widthSet</span>&nbsp;<span class="op" id="4403335">:=</span>&nbsp;<span class="ident" id="4403338">s</span><span class="op" id="4403339">.</span><span class="ident" id="4403340">Width</span><span class="op" id="4403345">(</span><span class="op" id="4403346">)</span><span class="op" id="4403347">;</span>&nbsp;<span class="ident" id="4403349">widthSet</span>&nbsp;<span class="op" id="4403358">&amp;&amp;</span>&nbsp;<span class="ident" id="4403361">length</span>&nbsp;<span class="op" id="4403368">&lt;</span>&nbsp;<span class="ident" id="4403370">width</span>&nbsp;<span class="op" id="4403376">{</span>&nbsp;<span class="comment" id="4403378">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4403400">switch</span>&nbsp;<span class="ident" id="4403407">d</span>&nbsp;<span class="op" id="4403409">:=</span>&nbsp;<span class="ident" id="4403412">width</span>&nbsp;<span class="op" id="4403418">-</span>&nbsp;<span class="ident" id="4403420">length</span><span class="op" id="4403426">;</span>&nbsp;<span class="op" id="4403428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4403432">case</span>&nbsp;<span class="ident" id="4403437">s</span><span class="op" id="4403438">.</span><span class="ident" id="4403439">Flag</span><span class="op" id="4403443">(</span><span class="string" id="4403444">&#39;-&#39;</span><span class="op" id="4403447">)</span><span class="op" id="4403448">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4403453">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403524">right</span>&nbsp;<span class="op" id="4403530">=</span>&nbsp;<span class="ident" id="4403532">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4403536">case</span>&nbsp;<span class="ident" id="4403541">s</span><span class="op" id="4403542">.</span><span class="ident" id="4403543">Flag</span><span class="op" id="4403547">(</span><span class="string" id="4403548">&#39;0&#39;</span><span class="op" id="4403551">)</span>&nbsp;<span class="op" id="4403553">&amp;&amp;</span>&nbsp;<span class="op" id="4403556">!</span><span class="ident" id="4403557">precisionSet</span><span class="op" id="4403569">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4403574">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403628">zeroes</span>&nbsp;<span class="op" id="4403635">=</span>&nbsp;<span class="ident" id="4403637">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4403641">default</span><span class="op" id="4403648">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4403653">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403687">left</span>&nbsp;<span class="op" id="4403692">=</span>&nbsp;<span class="ident" id="4403694">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4403698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4403701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4403705">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403779">writeMultiple</span><span class="op" id="4403792">(</span><span class="ident" id="4403793">s</span><span class="op" id="4403794">,</span>&nbsp;<span class="string" id="4403796">&#34;&nbsp;&#34;</span><span class="op" id="4403799">,</span>&nbsp;<span class="ident" id="4403801">left</span><span class="op" id="4403805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403808">writeMultiple</span><span class="op" id="4403821">(</span><span class="ident" id="4403822">s</span><span class="op" id="4403823">,</span>&nbsp;<span class="ident" id="4403825">sign</span><span class="op" id="4403829">,</span>&nbsp;<span class="num" id="4403831">1</span><span class="op" id="4403832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403835">writeMultiple</span><span class="op" id="4403848">(</span><span class="ident" id="4403849">s</span><span class="op" id="4403850">,</span>&nbsp;<span class="ident" id="4403852">prefix</span><span class="op" id="4403858">,</span>&nbsp;<span class="num" id="4403860">1</span><span class="op" id="4403861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403864">writeMultiple</span><span class="op" id="4403877">(</span><span class="ident" id="4403878">s</span><span class="op" id="4403879">,</span>&nbsp;<span class="string" id="4403881">&#34;0&#34;</span><span class="op" id="4403884">,</span>&nbsp;<span class="ident" id="4403886">zeroes</span><span class="op" id="4403892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403895">writeMultiple</span><span class="op" id="4403908">(</span><span class="ident" id="4403909">s</span><span class="op" id="4403910">,</span>&nbsp;<span class="ident" id="4403912">digits</span><span class="op" id="4403918">,</span>&nbsp;<span class="num" id="4403920">1</span><span class="op" id="4403921">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4403924">writeMultiple</span><span class="op" id="4403937">(</span><span class="ident" id="4403938">s</span><span class="op" id="4403939">,</span>&nbsp;<span class="string" id="4403941">&#34;&nbsp;&#34;</span><span class="op" id="4403944">,</span>&nbsp;<span class="ident" id="4403946">right</span><span class="op" id="4403951">)</span><br>
<span class="lineno"></span><span class="op" id="4403953">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4403956">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="4404037">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="4404117">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4404196">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="4404274">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="4404330">//</span><br>
<span class="lineno"></span><span class="comment" id="4404333">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="4404411">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4404489">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4404565">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="4404643">//</span><br>
<span class="lineno"></span><span class="keyword" id="4404646">func</span>&nbsp;<span class="op" id="4404651">(</span><span class="ident" id="4404652">z</span>&nbsp;<span class="op" id="4404654">*</span><span class="ident" id="4404655">Int</span><span class="op" id="4404658">)</span>&nbsp;<span class="ident" id="4404660">scan</span><span class="op" id="4404664">(</span><span class="ident" id="4404665">r</span>&nbsp;<span class="ident" id="4404667">io</span><span class="op" id="4404669">.</span><span class="ident" id="4404670">RuneScanner</span><span class="op" id="4404681">,</span>&nbsp;<span class="ident" id="4404683">base</span>&nbsp;<span class="builtintype" id="4404688">int</span><span class="op" id="4404691">)</span>&nbsp;<span class="op" id="4404693">(</span><span class="op" id="4404694">*</span><span class="ident" id="4404695">Int</span><span class="op" id="4404698">,</span>&nbsp;<span class="builtintype" id="4404700">int</span><span class="op" id="4404703">,</span>&nbsp;<span class="builtintype" id="4404705">error</span><span class="op" id="4404710">)</span>&nbsp;<span class="op" id="4404712">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4404715">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4404734">ch</span><span class="op" id="4404736">,</span>&nbsp;<span class="ident" id="4404738">_</span><span class="op" id="4404739">,</span>&nbsp;<span class="ident" id="4404741">err</span>&nbsp;<span class="op" id="4404745">:=</span>&nbsp;<span class="ident" id="4404748">r</span><span class="op" id="4404749">.</span><span class="ident" id="4404750">ReadRune</span><span class="op" id="4404758">(</span><span class="op" id="4404759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4404762">if</span>&nbsp;<span class="ident" id="4404765">err</span>&nbsp;<span class="op" id="4404769">!=</span>&nbsp;<span class="ident" id="4404772">nil</span>&nbsp;<span class="op" id="4404776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4404780">return</span>&nbsp;<span class="ident" id="4404787">nil</span><span class="op" id="4404790">,</span>&nbsp;<span class="num" id="4404792">0</span><span class="op" id="4404793">,</span>&nbsp;<span class="ident" id="4404795">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4404800">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4404803">neg</span>&nbsp;<span class="op" id="4404807">:=</span>&nbsp;<span class="builtintype" id="4404810">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4404817">switch</span>&nbsp;<span class="ident" id="4404824">ch</span>&nbsp;<span class="op" id="4404827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4404830">case</span>&nbsp;<span class="string" id="4404835">&#39;-&#39;</span><span class="op" id="4404838">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4404842">neg</span>&nbsp;<span class="op" id="4404846">=</span>&nbsp;<span class="builtintype" id="4404848">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4404854">case</span>&nbsp;<span class="string" id="4404859">&#39;+&#39;</span><span class="op" id="4404862">:</span>&nbsp;<span class="comment" id="4404864">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4404882">default</span><span class="op" id="4404889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4404893">r</span><span class="op" id="4404894">.</span><span class="ident" id="4404895">UnreadRune</span><span class="op" id="4404905">(</span><span class="op" id="4404906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4404909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4404913">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4404936">z</span><span class="op" id="4404937">.</span><span class="ident" id="4404938">abs</span><span class="op" id="4404941">,</span>&nbsp;<span class="ident" id="4404943">base</span><span class="op" id="4404947">,</span>&nbsp;<span class="ident" id="4404949">err</span>&nbsp;<span class="op" id="4404953">=</span>&nbsp;<span class="ident" id="4404955">z</span><span class="op" id="4404956">.</span><span class="ident" id="4404957">abs</span><span class="op" id="4404960">.</span><span class="ident" id="4404961">scan</span><span class="op" id="4404965">(</span><span class="ident" id="4404966">r</span><span class="op" id="4404967">,</span>&nbsp;<span class="ident" id="4404969">base</span><span class="op" id="4404973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4404976">if</span>&nbsp;<span class="ident" id="4404979">err</span>&nbsp;<span class="op" id="4404983">!=</span>&nbsp;<span class="ident" id="4404986">nil</span>&nbsp;<span class="op" id="4404990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4404994">return</span>&nbsp;<span class="ident" id="4405001">nil</span><span class="op" id="4405004">,</span>&nbsp;<span class="ident" id="4405006">base</span><span class="op" id="4405010">,</span>&nbsp;<span class="ident" id="4405012">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4405017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405020">z</span><span class="op" id="4405021">.</span><span class="ident" id="4405022">neg</span>&nbsp;<span class="op" id="4405026">=</span>&nbsp;<span class="builtinfunc" id="4405028">len</span><span class="op" id="4405031">(</span><span class="ident" id="4405032">z</span><span class="op" id="4405033">.</span><span class="ident" id="4405034">abs</span><span class="op" id="4405037">)</span>&nbsp;<span class="op" id="4405039">&gt;</span>&nbsp;<span class="num" id="4405041">0</span>&nbsp;<span class="op" id="4405043">&amp;&amp;</span>&nbsp;<span class="ident" id="4405046">neg</span>&nbsp;<span class="comment" id="4405050">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405069">return</span>&nbsp;<span class="ident" id="4405076">z</span><span class="op" id="4405077">,</span>&nbsp;<span class="ident" id="4405079">base</span><span class="op" id="4405083">,</span>&nbsp;<span class="ident" id="4405085">nil</span><br>
<span class="lineno"></span><span class="op" id="4405089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4405092">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="4405164">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="4405237">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="4405317">func</span>&nbsp;<span class="op" id="4405322">(</span><span class="ident" id="4405323">z</span>&nbsp;<span class="op" id="4405325">*</span><span class="ident" id="4405326">Int</span><span class="op" id="4405329">)</span>&nbsp;<span class="ident" id="4405331">Scan</span><span class="op" id="4405335">(</span><span class="ident" id="4405336">s</span>&nbsp;<span class="ident" id="4405338">fmt</span><span class="op" id="4405341">.</span><span class="ident" id="4405342">ScanState</span><span class="op" id="4405351">,</span>&nbsp;<span class="ident" id="4405353">ch</span>&nbsp;<span class="builtintype" id="4405356">rune</span><span class="op" id="4405360">)</span>&nbsp;<span class="builtintype" id="4405362">error</span>&nbsp;<span class="op" id="4405368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405371">s</span><span class="op" id="4405372">.</span><span class="ident" id="4405373">SkipSpace</span><span class="op" id="4405382">(</span><span class="op" id="4405383">)</span>&nbsp;<span class="comment" id="4405385">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405419">base</span>&nbsp;<span class="op" id="4405424">:=</span>&nbsp;<span class="num" id="4405427">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405430">switch</span>&nbsp;<span class="ident" id="4405437">ch</span>&nbsp;<span class="op" id="4405440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405443">case</span>&nbsp;<span class="string" id="4405448">&#39;b&#39;</span><span class="op" id="4405451">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405455">base</span>&nbsp;<span class="op" id="4405460">=</span>&nbsp;<span class="num" id="4405462">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405465">case</span>&nbsp;<span class="string" id="4405470">&#39;o&#39;</span><span class="op" id="4405473">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405477">base</span>&nbsp;<span class="op" id="4405482">=</span>&nbsp;<span class="num" id="4405484">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405487">case</span>&nbsp;<span class="string" id="4405492">&#39;d&#39;</span><span class="op" id="4405495">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405499">base</span>&nbsp;<span class="op" id="4405504">=</span>&nbsp;<span class="num" id="4405506">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405510">case</span>&nbsp;<span class="string" id="4405515">&#39;x&#39;</span><span class="op" id="4405518">,</span>&nbsp;<span class="string" id="4405520">&#39;X&#39;</span><span class="op" id="4405523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405527">base</span>&nbsp;<span class="op" id="4405532">=</span>&nbsp;<span class="num" id="4405534">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405538">case</span>&nbsp;<span class="string" id="4405543">&#39;s&#39;</span><span class="op" id="4405546">,</span>&nbsp;<span class="string" id="4405548">&#39;v&#39;</span><span class="op" id="4405551">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4405555">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405587">default</span><span class="op" id="4405594">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405598">return</span>&nbsp;<span class="ident" id="4405605">errors</span><span class="op" id="4405611">.</span><span class="ident" id="4405612">New</span><span class="op" id="4405615">(</span><span class="string" id="4405616">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="4405640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4405643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405646">_</span><span class="op" id="4405647">,</span>&nbsp;<span class="ident" id="4405649">_</span><span class="op" id="4405650">,</span>&nbsp;<span class="ident" id="4405652">err</span>&nbsp;<span class="op" id="4405656">:=</span>&nbsp;<span class="ident" id="4405659">z</span><span class="op" id="4405660">.</span><span class="ident" id="4405661">scan</span><span class="op" id="4405665">(</span><span class="ident" id="4405666">s</span><span class="op" id="4405667">,</span>&nbsp;<span class="ident" id="4405669">base</span><span class="op" id="4405673">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405676">return</span>&nbsp;<span class="ident" id="4405683">err</span><br>
<span class="lineno"></span><span class="op" id="4405687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4405690">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4405743">func</span>&nbsp;<span class="ident" id="4405748">low32</span><span class="op" id="4405753">(</span><span class="ident" id="4405754">z</span>&nbsp;<span class="ident" id="4405756">nat</span><span class="op" id="4405759">)</span>&nbsp;<span class="builtintype" id="4405761">uint32</span>&nbsp;<span class="op" id="4405768">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405771">if</span>&nbsp;<span class="builtinfunc" id="4405774">len</span><span class="op" id="4405777">(</span><span class="ident" id="4405778">z</span><span class="op" id="4405779">)</span>&nbsp;<span class="op" id="4405781">==</span>&nbsp;<span class="num" id="4405784">0</span>&nbsp;<span class="op" id="4405786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405790">return</span>&nbsp;<span class="num" id="4405797">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4405800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405803">return</span>&nbsp;<span class="builtintype" id="4405810">uint32</span><span class="op" id="4405816">(</span><span class="ident" id="4405817">z</span><span class="op" id="4405818">[</span><span class="num" id="4405819">0</span><span class="op" id="4405820">]</span><span class="op" id="4405821">)</span><br>
<span class="lineno"></span><span class="op" id="4405823">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="4405826">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4405879">func</span>&nbsp;<span class="ident" id="4405884">low64</span><span class="op" id="4405889">(</span><span class="ident" id="4405890">z</span>&nbsp;<span class="ident" id="4405892">nat</span><span class="op" id="4405895">)</span>&nbsp;<span class="ident" id="4405897">uint64</span>&nbsp;<span class="op" id="4405904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405907">if</span>&nbsp;<span class="builtinfunc" id="4405910">len</span><span class="op" id="4405913">(</span><span class="ident" id="4405914">z</span><span class="op" id="4405915">)</span>&nbsp;<span class="op" id="4405917">==</span>&nbsp;<span class="num" id="4405920">0</span>&nbsp;<span class="op" id="4405922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405926">return</span>&nbsp;<span class="num" id="4405933">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4405936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405939">v</span>&nbsp;<span class="op" id="4405941">:=</span>&nbsp;<span class="ident" id="4405944">uint64</span><span class="op" id="4405950">(</span><span class="ident" id="4405951">z</span><span class="op" id="4405952">[</span><span class="num" id="4405953">0</span><span class="op" id="4405954">]</span><span class="op" id="4405955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4405958">if</span>&nbsp;<span class="ident" id="4405961">_W</span>&nbsp;<span class="op" id="4405964">==</span>&nbsp;<span class="num" id="4405967">32</span>&nbsp;<span class="op" id="4405970">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4405973">len</span><span class="op" id="4405976">(</span><span class="ident" id="4405977">z</span><span class="op" id="4405978">)</span>&nbsp;<span class="op" id="4405980">&gt;</span>&nbsp;<span class="num" id="4405982">1</span>&nbsp;<span class="op" id="4405984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4405988">v</span>&nbsp;<span class="op" id="4405990">|=</span>&nbsp;<span class="ident" id="4405993">uint64</span><span class="op" id="4405999">(</span><span class="ident" id="4406000">z</span><span class="op" id="4406001">[</span><span class="num" id="4406002">1</span><span class="op" id="4406003">]</span><span class="op" id="4406004">)</span>&nbsp;<span class="op" id="4406006">&lt;&lt;</span>&nbsp;<span class="num" id="4406009">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4406013">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4406016">return</span>&nbsp;<span class="ident" id="4406023">v</span><br>
<span class="lineno"></span><span class="op" id="4406025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4406028">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="4406076">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="4406144">func</span>&nbsp;<span class="op" id="4406149">(</span><span class="ident" id="4406150">x</span>&nbsp;<span class="op" id="4406152">*</span><span class="ident" id="4406153">Int</span><span class="op" id="4406156">)</span>&nbsp;<span class="ident" id="4406158">Int64</span><span class="op" id="4406163">(</span><span class="op" id="4406164">)</span>&nbsp;<span class="ident" id="4406166">int64</span>&nbsp;<span class="op" id="4406172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4406175">v</span>&nbsp;<span class="op" id="4406177">:=</span>&nbsp;<span class="ident" id="4406180">int64</span><span class="op" id="4406185">(</span><span class="ident" id="4406186">low64</span><span class="op" id="4406191">(</span><span class="ident" id="4406192">x</span><span class="op" id="4406193">.</span><span class="ident" id="4406194">abs</span><span class="op" id="4406197">)</span><span class="op" id="4406198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4406201">if</span>&nbsp;<span class="ident" id="4406204">x</span><span class="op" id="4406205">.</span><span class="ident" id="4406206">neg</span>&nbsp;<span class="op" id="4406210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4406214">v</span>&nbsp;<span class="op" id="4406216">=</span>&nbsp;<span class="op" id="4406218">-</span><span class="ident" id="4406219">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4406222">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4406225">return</span>&nbsp;<span class="ident" id="4406232">v</span><br>
<span class="lineno"></span><span class="op" id="4406234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4406237">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="4406287">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="4406355">func</span>&nbsp;<span class="op" id="4406360">(</span><span class="ident" id="4406361">x</span>&nbsp;<span class="op" id="4406363">*</span><span class="ident" id="4406364">Int</span><span class="op" id="4406367">)</span>&nbsp;<span class="ident" id="4406369">Uint64</span><span class="op" id="4406375">(</span><span class="op" id="4406376">)</span>&nbsp;<span class="ident" id="4406378">uint64</span>&nbsp;<span class="op" id="4406385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4406388">return</span>&nbsp;<span class="ident" id="4406395">low64</span><span class="op" id="4406400">(</span><span class="ident" id="4406401">x</span><span class="op" id="4406402">.</span><span class="ident" id="4406403">abs</span><span class="op" id="4406406">)</span><br>
<span class="lineno"></span><span class="op" id="4406408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4406411">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="4406481">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="4406552">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="4406614">//</span><br>
<span class="lineno"></span><span class="comment" id="4406617">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="4406695">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="4406773">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4406849">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="4406927">//</span><br>
<span class="lineno"></span><span class="keyword" id="4406930">func</span>&nbsp;<span class="op" id="4406935">(</span><span class="ident" id="4406936">z</span>&nbsp;<span class="op" id="4406938">*</span><span class="ident" id="4406939">Int</span><span class="op" id="4406942">)</span>&nbsp;<span class="ident" id="4406944">SetString</span><span class="op" id="4406953">(</span><span class="ident" id="4406954">s</span>&nbsp;<span class="builtintype" id="4406956">string</span><span class="op" id="4406962">,</span>&nbsp;<span class="ident" id="4406964">base</span>&nbsp;<span class="builtintype" id="4406969">int</span><span class="op" id="4406972">)</span>&nbsp;<span class="op" id="4406974">(</span><span class="op" id="4406975">*</span><span class="ident" id="4406976">Int</span><span class="op" id="4406979">,</span>&nbsp;<span class="builtintype" id="4406981">bool</span><span class="op" id="4406985">)</span>&nbsp;<span class="op" id="4406987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4406990">r</span>&nbsp;<span class="op" id="4406992">:=</span>&nbsp;<span class="ident" id="4406995">strings</span><span class="op" id="4407002">.</span><span class="ident" id="4407003">NewReader</span><span class="op" id="4407012">(</span><span class="ident" id="4407013">s</span><span class="op" id="4407014">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4407017">_</span><span class="op" id="4407018">,</span>&nbsp;<span class="ident" id="4407020">_</span><span class="op" id="4407021">,</span>&nbsp;<span class="ident" id="4407023">err</span>&nbsp;<span class="op" id="4407027">:=</span>&nbsp;<span class="ident" id="4407030">z</span><span class="op" id="4407031">.</span><span class="ident" id="4407032">scan</span><span class="op" id="4407036">(</span><span class="ident" id="4407037">r</span><span class="op" id="4407038">,</span>&nbsp;<span class="ident" id="4407040">base</span><span class="op" id="4407044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407047">if</span>&nbsp;<span class="ident" id="4407050">err</span>&nbsp;<span class="op" id="4407054">!=</span>&nbsp;<span class="ident" id="4407057">nil</span>&nbsp;<span class="op" id="4407061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407065">return</span>&nbsp;<span class="ident" id="4407072">nil</span><span class="op" id="4407075">,</span>&nbsp;<span class="builtintype" id="4407077">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4407084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4407087">_</span><span class="op" id="4407088">,</span>&nbsp;<span class="ident" id="4407090">_</span><span class="op" id="4407091">,</span>&nbsp;<span class="ident" id="4407093">err</span>&nbsp;<span class="op" id="4407097">=</span>&nbsp;<span class="ident" id="4407099">r</span><span class="op" id="4407100">.</span><span class="ident" id="4407101">ReadRune</span><span class="op" id="4407109">(</span><span class="op" id="4407110">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407113">if</span>&nbsp;<span class="ident" id="4407116">err</span>&nbsp;<span class="op" id="4407120">!=</span>&nbsp;<span class="ident" id="4407123">io</span><span class="op" id="4407125">.</span><span class="ident" id="4407126">EOF</span>&nbsp;<span class="op" id="4407130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407134">return</span>&nbsp;<span class="ident" id="4407141">nil</span><span class="op" id="4407144">,</span>&nbsp;<span class="builtintype" id="4407146">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4407153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407156">return</span>&nbsp;<span class="ident" id="4407163">z</span><span class="op" id="4407164">,</span>&nbsp;<span class="builtintype" id="4407166">true</span>&nbsp;<span class="comment" id="4407171">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="4407214">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="4407217">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="4407282">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4407331">func</span>&nbsp;<span class="op" id="4407336">(</span><span class="ident" id="4407337">z</span>&nbsp;<span class="op" id="4407339">*</span><span class="ident" id="4407340">Int</span><span class="op" id="4407343">)</span>&nbsp;<span class="ident" id="4407345">SetBytes</span><span class="op" id="4407353">(</span><span class="ident" id="4407354">buf</span>&nbsp;<span class="op" id="4407358">[</span><span class="op" id="4407359">]</span><span class="builtintype" id="4407360">byte</span><span class="op" id="4407364">)</span>&nbsp;<span class="op" id="4407366">*</span><span class="ident" id="4407367">Int</span>&nbsp;<span class="op" id="4407371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4407374">z</span><span class="op" id="4407375">.</span><span class="ident" id="4407376">abs</span>&nbsp;<span class="op" id="4407380">=</span>&nbsp;<span class="ident" id="4407382">z</span><span class="op" id="4407383">.</span><span class="ident" id="4407384">abs</span><span class="op" id="4407387">.</span><span class="ident" id="4407388">setBytes</span><span class="op" id="4407396">(</span><span class="ident" id="4407397">buf</span><span class="op" id="4407400">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4407403">z</span><span class="op" id="4407404">.</span><span class="ident" id="4407405">neg</span>&nbsp;<span class="op" id="4407409">=</span>&nbsp;<span class="builtintype" id="4407411">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407418">return</span>&nbsp;<span class="ident" id="4407425">z</span><br>
<span class="lineno"></span><span class="op" id="4407427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4407430">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="4407499">func</span>&nbsp;<span class="op" id="4407504">(</span><span class="ident" id="4407505">x</span>&nbsp;<span class="op" id="4407507">*</span><span class="ident" id="4407508">Int</span><span class="op" id="4407511">)</span>&nbsp;<span class="ident" id="4407513">Bytes</span><span class="op" id="4407518">(</span><span class="op" id="4407519">)</span>&nbsp;<span class="op" id="4407521">[</span><span class="op" id="4407522">]</span><span class="builtintype" id="4407523">byte</span>&nbsp;<span class="op" id="4407528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4407531">buf</span>&nbsp;<span class="op" id="4407535">:=</span>&nbsp;<span class="builtinfunc" id="4407538">make</span><span class="op" id="4407542">(</span><span class="op" id="4407543">[</span><span class="op" id="4407544">]</span><span class="builtintype" id="4407545">byte</span><span class="op" id="4407549">,</span>&nbsp;<span class="builtinfunc" id="4407551">len</span><span class="op" id="4407554">(</span><span class="ident" id="4407555">x</span><span class="op" id="4407556">.</span><span class="ident" id="4407557">abs</span><span class="op" id="4407560">)</span><span class="op" id="4407561">*</span><span class="ident" id="4407562">_S</span><span class="op" id="4407564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407567">return</span>&nbsp;<span class="ident" id="4407574">buf</span><span class="op" id="4407577">[</span><span class="ident" id="4407578">x</span><span class="op" id="4407579">.</span><span class="ident" id="4407580">abs</span><span class="op" id="4407583">.</span><span class="ident" id="4407584">bytes</span><span class="op" id="4407589">(</span><span class="ident" id="4407590">buf</span><span class="op" id="4407593">)</span><span class="op" id="4407594">:</span><span class="op" id="4407595">]</span><br>
<span class="lineno"></span><span class="op" id="4407597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="4407600">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="4407665">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4407694">func</span>&nbsp;<span class="op" id="4407699">(</span><span class="ident" id="4407700">x</span>&nbsp;<span class="op" id="4407702">*</span><span class="ident" id="4407703">Int</span><span class="op" id="4407706">)</span>&nbsp;<span class="ident" id="4407708">BitLen</span><span class="op" id="4407714">(</span><span class="op" id="4407715">)</span>&nbsp;<span class="builtintype" id="4407717">int</span>&nbsp;<span class="op" id="4407721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407724">return</span>&nbsp;<span class="ident" id="4407731">x</span><span class="op" id="4407732">.</span><span class="ident" id="4407733">abs</span><span class="op" id="4407736">.</span><span class="ident" id="4407737">bitLen</span><span class="op" id="4407743">(</span><span class="op" id="4407744">)</span><br>
<span class="lineno"></span><span class="op" id="4407746">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="4407749">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4407826">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="4407898">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="4407937">func</span>&nbsp;<span class="op" id="4407942">(</span><span class="ident" id="4407943">z</span>&nbsp;<span class="op" id="4407945">*</span><span class="ident" id="4407946">Int</span><span class="op" id="4407949">)</span>&nbsp;<span class="ident" id="4407951">Exp</span><span class="op" id="4407954">(</span><span class="ident" id="4407955">x</span><span class="op" id="4407956">,</span>&nbsp;<span class="ident" id="4407958">y</span><span class="op" id="4407959">,</span>&nbsp;<span class="ident" id="4407961">m</span>&nbsp;<span class="op" id="4407963">*</span><span class="ident" id="4407964">Int</span><span class="op" id="4407967">)</span>&nbsp;<span class="op" id="4407969">*</span><span class="ident" id="4407970">Int</span>&nbsp;<span class="op" id="4407974">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407977">var</span>&nbsp;<span class="ident" id="4407981">yWords</span>&nbsp;<span class="ident" id="4407988">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4407993">if</span>&nbsp;<span class="op" id="4407996">!</span><span class="ident" id="4407997">y</span><span class="op" id="4407998">.</span><span class="ident" id="4407999">neg</span>&nbsp;<span class="op" id="4408003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408007">yWords</span>&nbsp;<span class="op" id="4408014">=</span>&nbsp;<span class="ident" id="4408016">y</span><span class="op" id="4408017">.</span><span class="ident" id="4408018">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4408023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4408026">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408038">var</span>&nbsp;<span class="ident" id="4408042">mWords</span>&nbsp;<span class="ident" id="4408049">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408054">if</span>&nbsp;<span class="ident" id="4408057">m</span>&nbsp;<span class="op" id="4408059">!=</span>&nbsp;<span class="ident" id="4408062">nil</span>&nbsp;<span class="op" id="4408066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408070">mWords</span>&nbsp;<span class="op" id="4408077">=</span>&nbsp;<span class="ident" id="4408079">m</span><span class="op" id="4408080">.</span><span class="ident" id="4408081">abs</span>&nbsp;<span class="comment" id="4408085">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4408117">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408121">z</span><span class="op" id="4408122">.</span><span class="ident" id="4408123">abs</span>&nbsp;<span class="op" id="4408127">=</span>&nbsp;<span class="ident" id="4408129">z</span><span class="op" id="4408130">.</span><span class="ident" id="4408131">abs</span><span class="op" id="4408134">.</span><span class="ident" id="4408135">expNN</span><span class="op" id="4408140">(</span><span class="ident" id="4408141">x</span><span class="op" id="4408142">.</span><span class="ident" id="4408143">abs</span><span class="op" id="4408146">,</span>&nbsp;<span class="ident" id="4408148">yWords</span><span class="op" id="4408154">,</span>&nbsp;<span class="ident" id="4408156">mWords</span><span class="op" id="4408162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408165">z</span><span class="op" id="4408166">.</span><span class="ident" id="4408167">neg</span>&nbsp;<span class="op" id="4408171">=</span>&nbsp;<span class="builtinfunc" id="4408173">len</span><span class="op" id="4408176">(</span><span class="ident" id="4408177">z</span><span class="op" id="4408178">.</span><span class="ident" id="4408179">abs</span><span class="op" id="4408182">)</span>&nbsp;<span class="op" id="4408184">&gt;</span>&nbsp;<span class="num" id="4408186">0</span>&nbsp;<span class="op" id="4408188">&amp;&amp;</span>&nbsp;<span class="ident" id="4408191">x</span><span class="op" id="4408192">.</span><span class="ident" id="4408193">neg</span>&nbsp;<span class="op" id="4408197">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4408200">len</span><span class="op" id="4408203">(</span><span class="ident" id="4408204">yWords</span><span class="op" id="4408210">)</span>&nbsp;<span class="op" id="4408212">&gt;</span>&nbsp;<span class="num" id="4408214">0</span>&nbsp;<span class="op" id="4408216">&amp;&amp;</span>&nbsp;<span class="ident" id="4408219">yWords</span><span class="op" id="4408225">[</span><span class="num" id="4408226">0</span><span class="op" id="4408227">]</span><span class="op" id="4408228">&amp;</span><span class="num" id="4408229">1</span>&nbsp;<span class="op" id="4408231">==</span>&nbsp;<span class="num" id="4408234">1</span>&nbsp;<span class="comment" id="4408236">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408254">if</span>&nbsp;<span class="ident" id="4408257">z</span><span class="op" id="4408258">.</span><span class="ident" id="4408259">neg</span>&nbsp;<span class="op" id="4408263">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4408266">len</span><span class="op" id="4408269">(</span><span class="ident" id="4408270">mWords</span><span class="op" id="4408276">)</span>&nbsp;<span class="op" id="4408278">&gt;</span>&nbsp;<span class="num" id="4408280">0</span>&nbsp;<span class="op" id="4408282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4408286">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408320">z</span><span class="op" id="4408321">.</span><span class="ident" id="4408322">abs</span>&nbsp;<span class="op" id="4408326">=</span>&nbsp;<span class="ident" id="4408328">z</span><span class="op" id="4408329">.</span><span class="ident" id="4408330">abs</span><span class="op" id="4408333">.</span><span class="ident" id="4408334">sub</span><span class="op" id="4408337">(</span><span class="ident" id="4408338">mWords</span><span class="op" id="4408344">,</span>&nbsp;<span class="ident" id="4408346">z</span><span class="op" id="4408347">.</span><span class="ident" id="4408348">abs</span><span class="op" id="4408351">)</span>&nbsp;<span class="comment" id="4408353">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408392">z</span><span class="op" id="4408393">.</span><span class="ident" id="4408394">neg</span>&nbsp;<span class="op" id="4408398">=</span>&nbsp;<span class="builtintype" id="4408400">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4408407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408411">return</span>&nbsp;<span class="ident" id="4408418">z</span><br>
<span class="lineno">615</span><span class="op" id="4408420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4408423">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="4408496">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4408522">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="4408591">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4408644">func</span>&nbsp;<span class="op" id="4408649">(</span><span class="ident" id="4408650">z</span>&nbsp;<span class="op" id="4408652">*</span><span class="ident" id="4408653">Int</span><span class="op" id="4408656">)</span>&nbsp;<span class="ident" id="4408658">GCD</span><span class="op" id="4408661">(</span><span class="ident" id="4408662">x</span><span class="op" id="4408663">,</span>&nbsp;<span class="ident" id="4408665">y</span><span class="op" id="4408666">,</span>&nbsp;<span class="ident" id="4408668">a</span><span class="op" id="4408669">,</span>&nbsp;<span class="ident" id="4408671">b</span>&nbsp;<span class="op" id="4408673">*</span><span class="ident" id="4408674">Int</span><span class="op" id="4408677">)</span>&nbsp;<span class="op" id="4408679">*</span><span class="ident" id="4408680">Int</span>&nbsp;<span class="op" id="4408684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408687">if</span>&nbsp;<span class="ident" id="4408690">a</span><span class="op" id="4408691">.</span><span class="ident" id="4408692">Sign</span><span class="op" id="4408696">(</span><span class="op" id="4408697">)</span>&nbsp;<span class="op" id="4408699">&lt;=</span>&nbsp;<span class="num" id="4408702">0</span>&nbsp;<span class="op" id="4408704">||</span>&nbsp;<span class="ident" id="4408707">b</span><span class="op" id="4408708">.</span><span class="ident" id="4408709">Sign</span><span class="op" id="4408713">(</span><span class="op" id="4408714">)</span>&nbsp;<span class="op" id="4408716">&lt;=</span>&nbsp;<span class="num" id="4408719">0</span>&nbsp;<span class="op" id="4408721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408725">z</span><span class="op" id="4408726">.</span><span class="ident" id="4408727">SetInt64</span><span class="op" id="4408735">(</span><span class="num" id="4408736">0</span><span class="op" id="4408737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408741">if</span>&nbsp;<span class="ident" id="4408744">x</span>&nbsp;<span class="op" id="4408746">!=</span>&nbsp;<span class="ident" id="4408749">nil</span>&nbsp;<span class="op" id="4408753">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408758">x</span><span class="op" id="4408759">.</span><span class="ident" id="4408760">SetInt64</span><span class="op" id="4408768">(</span><span class="num" id="4408769">0</span><span class="op" id="4408770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4408774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408778">if</span>&nbsp;<span class="ident" id="4408781">y</span>&nbsp;<span class="op" id="4408783">!=</span>&nbsp;<span class="ident" id="4408786">nil</span>&nbsp;<span class="op" id="4408790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408795">y</span><span class="op" id="4408796">.</span><span class="ident" id="4408797">SetInt64</span><span class="op" id="4408805">(</span><span class="num" id="4408806">0</span><span class="op" id="4408807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4408811">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408815">return</span>&nbsp;<span class="ident" id="4408822">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4408825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408828">if</span>&nbsp;<span class="ident" id="4408831">x</span>&nbsp;<span class="op" id="4408833">==</span>&nbsp;<span class="ident" id="4408836">nil</span>&nbsp;<span class="op" id="4408840">&amp;&amp;</span>&nbsp;<span class="ident" id="4408843">y</span>&nbsp;<span class="op" id="4408845">==</span>&nbsp;<span class="ident" id="4408848">nil</span>&nbsp;<span class="op" id="4408852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4408856">return</span>&nbsp;<span class="ident" id="4408863">z</span><span class="op" id="4408864">.</span><span class="ident" id="4408865">binaryGCD</span><span class="op" id="4408874">(</span><span class="ident" id="4408875">a</span><span class="op" id="4408876">,</span>&nbsp;<span class="ident" id="4408878">b</span><span class="op" id="4408879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4408882">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408886">A</span>&nbsp;<span class="op" id="4408888">:=</span>&nbsp;<span class="builtinfunc" id="4408891">new</span><span class="op" id="4408894">(</span><span class="ident" id="4408895">Int</span><span class="op" id="4408898">)</span><span class="op" id="4408899">.</span><span class="ident" id="4408900">Set</span><span class="op" id="4408903">(</span><span class="ident" id="4408904">a</span><span class="op" id="4408905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408908">B</span>&nbsp;<span class="op" id="4408910">:=</span>&nbsp;<span class="builtinfunc" id="4408913">new</span><span class="op" id="4408916">(</span><span class="ident" id="4408917">Int</span><span class="op" id="4408920">)</span><span class="op" id="4408921">.</span><span class="ident" id="4408922">Set</span><span class="op" id="4408925">(</span><span class="ident" id="4408926">b</span><span class="op" id="4408927">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408931">X</span>&nbsp;<span class="op" id="4408933">:=</span>&nbsp;<span class="builtinfunc" id="4408936">new</span><span class="op" id="4408939">(</span><span class="ident" id="4408940">Int</span><span class="op" id="4408943">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408946">Y</span>&nbsp;<span class="op" id="4408948">:=</span>&nbsp;<span class="builtinfunc" id="4408951">new</span><span class="op" id="4408954">(</span><span class="ident" id="4408955">Int</span><span class="op" id="4408958">)</span><span class="op" id="4408959">.</span><span class="ident" id="4408960">SetInt64</span><span class="op" id="4408968">(</span><span class="num" id="4408969">1</span><span class="op" id="4408970">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4408974">lastX</span>&nbsp;<span class="op" id="4408980">:=</span>&nbsp;<span class="builtinfunc" id="4408983">new</span><span class="op" id="4408986">(</span><span class="ident" id="4408987">Int</span><span class="op" id="4408990">)</span><span class="op" id="4408991">.</span><span class="ident" id="4408992">SetInt64</span><span class="op" id="4409000">(</span><span class="num" id="4409001">1</span><span class="op" id="4409002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409005">lastY</span>&nbsp;<span class="op" id="4409011">:=</span>&nbsp;<span class="builtinfunc" id="4409014">new</span><span class="op" id="4409017">(</span><span class="ident" id="4409018">Int</span><span class="op" id="4409021">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409025">q</span>&nbsp;<span class="op" id="4409027">:=</span>&nbsp;<span class="builtinfunc" id="4409030">new</span><span class="op" id="4409033">(</span><span class="ident" id="4409034">Int</span><span class="op" id="4409037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409040">temp</span>&nbsp;<span class="op" id="4409045">:=</span>&nbsp;<span class="builtinfunc" id="4409048">new</span><span class="op" id="4409051">(</span><span class="ident" id="4409052">Int</span><span class="op" id="4409055">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409059">for</span>&nbsp;<span class="builtinfunc" id="4409063">len</span><span class="op" id="4409066">(</span><span class="ident" id="4409067">B</span><span class="op" id="4409068">.</span><span class="ident" id="4409069">abs</span><span class="op" id="4409072">)</span>&nbsp;<span class="op" id="4409074">&gt;</span>&nbsp;<span class="num" id="4409076">0</span>&nbsp;<span class="op" id="4409078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409082">r</span>&nbsp;<span class="op" id="4409084">:=</span>&nbsp;<span class="builtinfunc" id="4409087">new</span><span class="op" id="4409090">(</span><span class="ident" id="4409091">Int</span><span class="op" id="4409094">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409098">q</span><span class="op" id="4409099">,</span>&nbsp;<span class="ident" id="4409101">r</span>&nbsp;<span class="op" id="4409103">=</span>&nbsp;<span class="ident" id="4409105">q</span><span class="op" id="4409106">.</span><span class="ident" id="4409107">QuoRem</span><span class="op" id="4409113">(</span><span class="ident" id="4409114">A</span><span class="op" id="4409115">,</span>&nbsp;<span class="ident" id="4409117">B</span><span class="op" id="4409118">,</span>&nbsp;<span class="ident" id="4409120">r</span><span class="op" id="4409121">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409126">A</span><span class="op" id="4409127">,</span>&nbsp;<span class="ident" id="4409129">B</span>&nbsp;<span class="op" id="4409131">=</span>&nbsp;<span class="ident" id="4409133">B</span><span class="op" id="4409134">,</span>&nbsp;<span class="ident" id="4409136">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409141">temp</span><span class="op" id="4409145">.</span><span class="ident" id="4409146">Set</span><span class="op" id="4409149">(</span><span class="ident" id="4409150">X</span><span class="op" id="4409151">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409155">X</span><span class="op" id="4409156">.</span><span class="ident" id="4409157">Mul</span><span class="op" id="4409160">(</span><span class="ident" id="4409161">X</span><span class="op" id="4409162">,</span>&nbsp;<span class="ident" id="4409164">q</span><span class="op" id="4409165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409169">X</span><span class="op" id="4409170">.</span><span class="ident" id="4409171">neg</span>&nbsp;<span class="op" id="4409175">=</span>&nbsp;<span class="op" id="4409177">!</span><span class="ident" id="4409178">X</span><span class="op" id="4409179">.</span><span class="ident" id="4409180">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409186">X</span><span class="op" id="4409187">.</span><span class="ident" id="4409188">Add</span><span class="op" id="4409191">(</span><span class="ident" id="4409192">X</span><span class="op" id="4409193">,</span>&nbsp;<span class="ident" id="4409195">lastX</span><span class="op" id="4409200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409204">lastX</span><span class="op" id="4409209">.</span><span class="ident" id="4409210">Set</span><span class="op" id="4409213">(</span><span class="ident" id="4409214">temp</span><span class="op" id="4409218">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409223">temp</span><span class="op" id="4409227">.</span><span class="ident" id="4409228">Set</span><span class="op" id="4409231">(</span><span class="ident" id="4409232">Y</span><span class="op" id="4409233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409237">Y</span><span class="op" id="4409238">.</span><span class="ident" id="4409239">Mul</span><span class="op" id="4409242">(</span><span class="ident" id="4409243">Y</span><span class="op" id="4409244">,</span>&nbsp;<span class="ident" id="4409246">q</span><span class="op" id="4409247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409251">Y</span><span class="op" id="4409252">.</span><span class="ident" id="4409253">neg</span>&nbsp;<span class="op" id="4409257">=</span>&nbsp;<span class="op" id="4409259">!</span><span class="ident" id="4409260">Y</span><span class="op" id="4409261">.</span><span class="ident" id="4409262">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409268">Y</span><span class="op" id="4409269">.</span><span class="ident" id="4409270">Add</span><span class="op" id="4409273">(</span><span class="ident" id="4409274">Y</span><span class="op" id="4409275">,</span>&nbsp;<span class="ident" id="4409277">lastY</span><span class="op" id="4409282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409286">lastY</span><span class="op" id="4409291">.</span><span class="ident" id="4409292">Set</span><span class="op" id="4409295">(</span><span class="ident" id="4409296">temp</span><span class="op" id="4409300">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4409303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409307">if</span>&nbsp;<span class="ident" id="4409310">x</span>&nbsp;<span class="op" id="4409312">!=</span>&nbsp;<span class="ident" id="4409315">nil</span>&nbsp;<span class="op" id="4409319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4409323">*</span><span class="ident" id="4409324">x</span>&nbsp;<span class="op" id="4409326">=</span>&nbsp;<span class="op" id="4409328">*</span><span class="ident" id="4409329">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4409336">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409340">if</span>&nbsp;<span class="ident" id="4409343">y</span>&nbsp;<span class="op" id="4409345">!=</span>&nbsp;<span class="ident" id="4409348">nil</span>&nbsp;<span class="op" id="4409352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4409356">*</span><span class="ident" id="4409357">y</span>&nbsp;<span class="op" id="4409359">=</span>&nbsp;<span class="op" id="4409361">*</span><span class="ident" id="4409362">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4409369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4409373">*</span><span class="ident" id="4409374">z</span>&nbsp;<span class="op" id="4409376">=</span>&nbsp;<span class="op" id="4409378">*</span><span class="ident" id="4409379">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409382">return</span>&nbsp;<span class="ident" id="4409389">z</span><br>
<span class="lineno"></span><span class="op" id="4409391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4409394">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="4409473">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4409499">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="4409582">func</span>&nbsp;<span class="op" id="4409587">(</span><span class="ident" id="4409588">z</span>&nbsp;<span class="op" id="4409590">*</span><span class="ident" id="4409591">Int</span><span class="op" id="4409594">)</span>&nbsp;<span class="ident" id="4409596">binaryGCD</span><span class="op" id="4409605">(</span><span class="ident" id="4409606">a</span><span class="op" id="4409607">,</span>&nbsp;<span class="ident" id="4409609">b</span>&nbsp;<span class="op" id="4409611">*</span><span class="ident" id="4409612">Int</span><span class="op" id="4409615">)</span>&nbsp;<span class="op" id="4409617">*</span><span class="ident" id="4409618">Int</span>&nbsp;<span class="op" id="4409622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409625">u</span>&nbsp;<span class="op" id="4409627">:=</span>&nbsp;<span class="ident" id="4409630">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409633">v</span>&nbsp;<span class="op" id="4409635">:=</span>&nbsp;<span class="builtinfunc" id="4409638">new</span><span class="op" id="4409641">(</span><span class="ident" id="4409642">Int</span><span class="op" id="4409645">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4409649">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409730">switch</span>&nbsp;<span class="op" id="4409737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409740">case</span>&nbsp;<span class="builtinfunc" id="4409745">len</span><span class="op" id="4409748">(</span><span class="ident" id="4409749">a</span><span class="op" id="4409750">.</span><span class="ident" id="4409751">abs</span><span class="op" id="4409754">)</span>&nbsp;<span class="op" id="4409756">&gt;</span>&nbsp;<span class="builtinfunc" id="4409758">len</span><span class="op" id="4409761">(</span><span class="ident" id="4409762">b</span><span class="op" id="4409763">.</span><span class="ident" id="4409764">abs</span><span class="op" id="4409767">)</span><span class="op" id="4409768">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409772">u</span><span class="op" id="4409773">.</span><span class="ident" id="4409774">Set</span><span class="op" id="4409777">(</span><span class="ident" id="4409778">b</span><span class="op" id="4409779">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409783">v</span><span class="op" id="4409784">.</span><span class="ident" id="4409785">Rem</span><span class="op" id="4409788">(</span><span class="ident" id="4409789">a</span><span class="op" id="4409790">,</span>&nbsp;<span class="ident" id="4409792">b</span><span class="op" id="4409793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409796">case</span>&nbsp;<span class="builtinfunc" id="4409801">len</span><span class="op" id="4409804">(</span><span class="ident" id="4409805">a</span><span class="op" id="4409806">.</span><span class="ident" id="4409807">abs</span><span class="op" id="4409810">)</span>&nbsp;<span class="op" id="4409812">&lt;</span>&nbsp;<span class="builtinfunc" id="4409814">len</span><span class="op" id="4409817">(</span><span class="ident" id="4409818">b</span><span class="op" id="4409819">.</span><span class="ident" id="4409820">abs</span><span class="op" id="4409823">)</span><span class="op" id="4409824">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409828">u</span><span class="op" id="4409829">.</span><span class="ident" id="4409830">Set</span><span class="op" id="4409833">(</span><span class="ident" id="4409834">a</span><span class="op" id="4409835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409839">v</span><span class="op" id="4409840">.</span><span class="ident" id="4409841">Rem</span><span class="op" id="4409844">(</span><span class="ident" id="4409845">b</span><span class="op" id="4409846">,</span>&nbsp;<span class="ident" id="4409848">a</span><span class="op" id="4409849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409852">default</span><span class="op" id="4409859">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409863">u</span><span class="op" id="4409864">.</span><span class="ident" id="4409865">Set</span><span class="op" id="4409868">(</span><span class="ident" id="4409869">a</span><span class="op" id="4409870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4409874">v</span><span class="op" id="4409875">.</span><span class="ident" id="4409876">Set</span><span class="op" id="4409879">(</span><span class="ident" id="4409880">b</span><span class="op" id="4409881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4409884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4409888">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409909">if</span>&nbsp;<span class="builtinfunc" id="4409912">len</span><span class="op" id="4409915">(</span><span class="ident" id="4409916">v</span><span class="op" id="4409917">.</span><span class="ident" id="4409918">abs</span><span class="op" id="4409921">)</span>&nbsp;<span class="op" id="4409923">==</span>&nbsp;<span class="num" id="4409926">0</span>&nbsp;<span class="op" id="4409928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4409932">return</span>&nbsp;<span class="ident" id="4409939">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4409942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4409945">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4409965">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410024">k</span>&nbsp;<span class="op" id="4410026">:=</span>&nbsp;<span class="ident" id="4410029">u</span><span class="op" id="4410030">.</span><span class="ident" id="4410031">abs</span><span class="op" id="4410034">.</span><span class="ident" id="4410035">trailingZeroBits</span><span class="op" id="4410051">(</span><span class="op" id="4410052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4410055">if</span>&nbsp;<span class="ident" id="4410058">vk</span>&nbsp;<span class="op" id="4410061">:=</span>&nbsp;<span class="ident" id="4410064">v</span><span class="op" id="4410065">.</span><span class="ident" id="4410066">abs</span><span class="op" id="4410069">.</span><span class="ident" id="4410070">trailingZeroBits</span><span class="op" id="4410086">(</span><span class="op" id="4410087">)</span><span class="op" id="4410088">;</span>&nbsp;<span class="ident" id="4410090">vk</span>&nbsp;<span class="op" id="4410093">&lt;</span>&nbsp;<span class="ident" id="4410095">k</span>&nbsp;<span class="op" id="4410097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410101">k</span>&nbsp;<span class="op" id="4410103">=</span>&nbsp;<span class="ident" id="4410105">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4410109">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410112">u</span><span class="op" id="4410113">.</span><span class="ident" id="4410114">Rsh</span><span class="op" id="4410117">(</span><span class="ident" id="4410118">u</span><span class="op" id="4410119">,</span>&nbsp;<span class="ident" id="4410121">k</span><span class="op" id="4410122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410125">v</span><span class="op" id="4410126">.</span><span class="ident" id="4410127">Rsh</span><span class="op" id="4410130">(</span><span class="ident" id="4410131">v</span><span class="op" id="4410132">,</span>&nbsp;<span class="ident" id="4410134">k</span><span class="op" id="4410135">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4410139">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410176">t</span>&nbsp;<span class="op" id="4410178">:=</span>&nbsp;<span class="builtinfunc" id="4410181">new</span><span class="op" id="4410184">(</span><span class="ident" id="4410185">Int</span><span class="op" id="4410188">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4410191">if</span>&nbsp;<span class="ident" id="4410194">u</span><span class="op" id="4410195">.</span><span class="ident" id="4410196">abs</span><span class="op" id="4410199">[</span><span class="num" id="4410200">0</span><span class="op" id="4410201">]</span><span class="op" id="4410202">&amp;</span><span class="num" id="4410203">1</span>&nbsp;<span class="op" id="4410205">!=</span>&nbsp;<span class="num" id="4410208">0</span>&nbsp;<span class="op" id="4410210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4410214">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410228">t</span><span class="op" id="4410229">.</span><span class="ident" id="4410230">Neg</span><span class="op" id="4410233">(</span><span class="ident" id="4410234">v</span><span class="op" id="4410235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4410238">}</span>&nbsp;<span class="keyword" id="4410240">else</span>&nbsp;<span class="op" id="4410245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410249">t</span><span class="op" id="4410250">.</span><span class="ident" id="4410251">Set</span><span class="op" id="4410254">(</span><span class="ident" id="4410255">u</span><span class="op" id="4410256">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4410259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4410263">for</span>&nbsp;<span class="builtinfunc" id="4410267">len</span><span class="op" id="4410270">(</span><span class="ident" id="4410271">t</span><span class="op" id="4410272">.</span><span class="ident" id="4410273">abs</span><span class="op" id="4410276">)</span>&nbsp;<span class="op" id="4410278">&gt;</span>&nbsp;<span class="num" id="4410280">0</span>&nbsp;<span class="op" id="4410282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4410286">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410300">t</span><span class="op" id="4410301">.</span><span class="ident" id="4410302">Rsh</span><span class="op" id="4410305">(</span><span class="ident" id="4410306">t</span><span class="op" id="4410307">,</span>&nbsp;<span class="ident" id="4410309">t</span><span class="op" id="4410310">.</span><span class="ident" id="4410311">abs</span><span class="op" id="4410314">.</span><span class="ident" id="4410315">trailingZeroBits</span><span class="op" id="4410331">(</span><span class="op" id="4410332">)</span><span class="op" id="4410333">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4410337">if</span>&nbsp;<span class="ident" id="4410340">t</span><span class="op" id="4410341">.</span><span class="ident" id="4410342">neg</span>&nbsp;<span class="op" id="4410346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410351">v</span><span class="op" id="4410352">,</span>&nbsp;<span class="ident" id="4410354">t</span>&nbsp;<span class="op" id="4410356">=</span>&nbsp;<span class="ident" id="4410358">t</span><span class="op" id="4410359">,</span>&nbsp;<span class="ident" id="4410361">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410366">v</span><span class="op" id="4410367">.</span><span class="ident" id="4410368">neg</span>&nbsp;<span class="op" id="4410372">=</span>&nbsp;<span class="builtinfunc" id="4410374">len</span><span class="op" id="4410377">(</span><span class="ident" id="4410378">v</span><span class="op" id="4410379">.</span><span class="ident" id="4410380">abs</span><span class="op" id="4410383">)</span>&nbsp;<span class="op" id="4410385">&gt;</span>&nbsp;<span class="num" id="4410387">0</span>&nbsp;<span class="op" id="4410389">&amp;&amp;</span>&nbsp;<span class="op" id="4410392">!</span><span class="ident" id="4410393">v</span><span class="op" id="4410394">.</span><span class="ident" id="4410395">neg</span>&nbsp;<span class="comment" id="4410399">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4410418">}</span>&nbsp;<span class="keyword" id="4410420">else</span>&nbsp;<span class="op" id="4410425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410430">u</span><span class="op" id="4410431">,</span>&nbsp;<span class="ident" id="4410433">t</span>&nbsp;<span class="op" id="4410435">=</span>&nbsp;<span class="ident" id="4410437">t</span><span class="op" id="4410438">,</span>&nbsp;<span class="ident" id="4410440">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4410444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410448">t</span><span class="op" id="4410449">.</span><span class="ident" id="4410450">Sub</span><span class="op" id="4410453">(</span><span class="ident" id="4410454">u</span><span class="op" id="4410455">,</span>&nbsp;<span class="ident" id="4410457">v</span><span class="op" id="4410458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4410461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4410465">return</span>&nbsp;<span class="ident" id="4410472">z</span><span class="op" id="4410473">.</span><span class="ident" id="4410474">Lsh</span><span class="op" id="4410477">(</span><span class="ident" id="4410478">u</span><span class="op" id="4410479">,</span>&nbsp;<span class="ident" id="4410481">k</span><span class="op" id="4410482">)</span><br>
<span class="lineno">735</span><span class="op" id="4410484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4410487">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="4410563">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="4410625">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="4410665">func</span>&nbsp;<span class="op" id="4410670">(</span><span class="ident" id="4410671">x</span>&nbsp;<span class="op" id="4410673">*</span><span class="ident" id="4410674">Int</span><span class="op" id="4410677">)</span>&nbsp;<span class="ident" id="4410679">ProbablyPrime</span><span class="op" id="4410692">(</span><span class="ident" id="4410693">n</span>&nbsp;<span class="builtintype" id="4410695">int</span><span class="op" id="4410698">)</span>&nbsp;<span class="builtintype" id="4410700">bool</span>&nbsp;<span class="op" id="4410705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4410708">return</span>&nbsp;<span class="op" id="4410715">!</span><span class="ident" id="4410716">x</span><span class="op" id="4410717">.</span><span class="ident" id="4410718">neg</span>&nbsp;<span class="op" id="4410722">&amp;&amp;</span>&nbsp;<span class="ident" id="4410725">x</span><span class="op" id="4410726">.</span><span class="ident" id="4410727">abs</span><span class="op" id="4410730">.</span><span class="ident" id="4410731">probablyPrime</span><span class="op" id="4410744">(</span><span class="ident" id="4410745">n</span><span class="op" id="4410746">)</span><br>
<span class="lineno"></span><span class="op" id="4410748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4410751">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="4410817">func</span>&nbsp;<span class="op" id="4410822">(</span><span class="ident" id="4410823">z</span>&nbsp;<span class="op" id="4410825">*</span><span class="ident" id="4410826">Int</span><span class="op" id="4410829">)</span>&nbsp;<span class="ident" id="4410831">Rand</span><span class="op" id="4410835">(</span><span class="ident" id="4410836">rnd</span>&nbsp;<span class="op" id="4410840">*</span><span class="ident" id="4410841">rand</span><span class="op" id="4410845">.</span><span class="ident" id="4410846">Rand</span><span class="op" id="4410850">,</span>&nbsp;<span class="ident" id="4410852">n</span>&nbsp;<span class="op" id="4410854">*</span><span class="ident" id="4410855">Int</span><span class="op" id="4410858">)</span>&nbsp;<span class="op" id="4410860">*</span><span class="ident" id="4410861">Int</span>&nbsp;<span class="op" id="4410865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410868">z</span><span class="op" id="4410869">.</span><span class="ident" id="4410870">neg</span>&nbsp;<span class="op" id="4410874">=</span>&nbsp;<span class="builtintype" id="4410876">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4410883">if</span>&nbsp;<span class="ident" id="4410886">n</span><span class="op" id="4410887">.</span><span class="ident" id="4410888">neg</span>&nbsp;<span class="op" id="4410892">==</span>&nbsp;<span class="builtintype" id="4410895">true</span>&nbsp;<span class="op" id="4410900">||</span>&nbsp;<span class="builtinfunc" id="4410903">len</span><span class="op" id="4410906">(</span><span class="ident" id="4410907">n</span><span class="op" id="4410908">.</span><span class="ident" id="4410909">abs</span><span class="op" id="4410912">)</span>&nbsp;<span class="op" id="4410914">==</span>&nbsp;<span class="num" id="4410917">0</span>&nbsp;<span class="op" id="4410919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410923">z</span><span class="op" id="4410924">.</span><span class="ident" id="4410925">abs</span>&nbsp;<span class="op" id="4410929">=</span>&nbsp;<span class="ident" id="4410931">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4410937">return</span>&nbsp;<span class="ident" id="4410944">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4410947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4410950">z</span><span class="op" id="4410951">.</span><span class="ident" id="4410952">abs</span>&nbsp;<span class="op" id="4410956">=</span>&nbsp;<span class="ident" id="4410958">z</span><span class="op" id="4410959">.</span><span class="ident" id="4410960">abs</span><span class="op" id="4410963">.</span><span class="ident" id="4410964">random</span><span class="op" id="4410970">(</span><span class="ident" id="4410971">rnd</span><span class="op" id="4410974">,</span>&nbsp;<span class="ident" id="4410976">n</span><span class="op" id="4410977">.</span><span class="ident" id="4410978">abs</span><span class="op" id="4410981">,</span>&nbsp;<span class="ident" id="4410983">n</span><span class="op" id="4410984">.</span><span class="ident" id="4410985">abs</span><span class="op" id="4410988">.</span><span class="ident" id="4410989">bitLen</span><span class="op" id="4410995">(</span><span class="op" id="4410996">)</span><span class="op" id="4410997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4411000">return</span>&nbsp;<span class="ident" id="4411007">z</span><br>
<span class="lineno"></span><span class="op" id="4411009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="4411012">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;/n</span><br>
<span class="lineno"></span><span class="comment" id="4411089">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="4411169">func</span>&nbsp;<span class="op" id="4411174">(</span><span class="ident" id="4411175">z</span>&nbsp;<span class="op" id="4411177">*</span><span class="ident" id="4411178">Int</span><span class="op" id="4411181">)</span>&nbsp;<span class="ident" id="4411183">ModInverse</span><span class="op" id="4411193">(</span><span class="ident" id="4411194">g</span><span class="op" id="4411195">,</span>&nbsp;<span class="ident" id="4411197">n</span>&nbsp;<span class="op" id="4411199">*</span><span class="ident" id="4411200">Int</span><span class="op" id="4411203">)</span>&nbsp;<span class="op" id="4411205">*</span><span class="ident" id="4411206">Int</span>&nbsp;<span class="op" id="4411210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4411213">var</span>&nbsp;<span class="ident" id="4411217">d</span>&nbsp;<span class="ident" id="4411219">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411224">d</span><span class="op" id="4411225">.</span><span class="ident" id="4411226">GCD</span><span class="op" id="4411229">(</span><span class="ident" id="4411230">z</span><span class="op" id="4411231">,</span>&nbsp;<span class="ident" id="4411233">nil</span><span class="op" id="4411236">,</span>&nbsp;<span class="ident" id="4411238">g</span><span class="op" id="4411239">,</span>&nbsp;<span class="ident" id="4411241">n</span><span class="op" id="4411242">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4411245">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4411304">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4411365">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4411414">if</span>&nbsp;<span class="ident" id="4411417">z</span><span class="op" id="4411418">.</span><span class="ident" id="4411419">neg</span>&nbsp;<span class="op" id="4411423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411427">z</span><span class="op" id="4411428">.</span><span class="ident" id="4411429">Add</span><span class="op" id="4411432">(</span><span class="ident" id="4411433">z</span><span class="op" id="4411434">,</span>&nbsp;<span class="ident" id="4411436">n</span><span class="op" id="4411437">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4411440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4411443">return</span>&nbsp;<span class="ident" id="4411450">z</span><br>
<span class="lineno"></span><span class="op" id="4411452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4411455">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="4411493">func</span>&nbsp;<span class="op" id="4411498">(</span><span class="ident" id="4411499">z</span>&nbsp;<span class="op" id="4411501">*</span><span class="ident" id="4411502">Int</span><span class="op" id="4411505">)</span>&nbsp;<span class="ident" id="4411507">Lsh</span><span class="op" id="4411510">(</span><span class="ident" id="4411511">x</span>&nbsp;<span class="op" id="4411513">*</span><span class="ident" id="4411514">Int</span><span class="op" id="4411517">,</span>&nbsp;<span class="ident" id="4411519">n</span>&nbsp;<span class="builtintype" id="4411521">uint</span><span class="op" id="4411525">)</span>&nbsp;<span class="op" id="4411527">*</span><span class="ident" id="4411528">Int</span>&nbsp;<span class="op" id="4411532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411535">z</span><span class="op" id="4411536">.</span><span class="ident" id="4411537">abs</span>&nbsp;<span class="op" id="4411541">=</span>&nbsp;<span class="ident" id="4411543">z</span><span class="op" id="4411544">.</span><span class="ident" id="4411545">abs</span><span class="op" id="4411548">.</span><span class="ident" id="4411549">shl</span><span class="op" id="4411552">(</span><span class="ident" id="4411553">x</span><span class="op" id="4411554">.</span><span class="ident" id="4411555">abs</span><span class="op" id="4411558">,</span>&nbsp;<span class="ident" id="4411560">n</span><span class="op" id="4411561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411564">z</span><span class="op" id="4411565">.</span><span class="ident" id="4411566">neg</span>&nbsp;<span class="op" id="4411570">=</span>&nbsp;<span class="ident" id="4411572">x</span><span class="op" id="4411573">.</span><span class="ident" id="4411574">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4411579">return</span>&nbsp;<span class="ident" id="4411586">z</span><br>
<span class="lineno"></span><span class="op" id="4411588">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="4411591">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4411629">func</span>&nbsp;<span class="op" id="4411634">(</span><span class="ident" id="4411635">z</span>&nbsp;<span class="op" id="4411637">*</span><span class="ident" id="4411638">Int</span><span class="op" id="4411641">)</span>&nbsp;<span class="ident" id="4411643">Rsh</span><span class="op" id="4411646">(</span><span class="ident" id="4411647">x</span>&nbsp;<span class="op" id="4411649">*</span><span class="ident" id="4411650">Int</span><span class="op" id="4411653">,</span>&nbsp;<span class="ident" id="4411655">n</span>&nbsp;<span class="builtintype" id="4411657">uint</span><span class="op" id="4411661">)</span>&nbsp;<span class="op" id="4411663">*</span><span class="ident" id="4411664">Int</span>&nbsp;<span class="op" id="4411668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4411671">if</span>&nbsp;<span class="ident" id="4411674">x</span><span class="op" id="4411675">.</span><span class="ident" id="4411676">neg</span>&nbsp;<span class="op" id="4411680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4411684">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411754">t</span>&nbsp;<span class="op" id="4411756">:=</span>&nbsp;<span class="ident" id="4411759">z</span><span class="op" id="4411760">.</span><span class="ident" id="4411761">abs</span><span class="op" id="4411764">.</span><span class="ident" id="4411765">sub</span><span class="op" id="4411768">(</span><span class="ident" id="4411769">x</span><span class="op" id="4411770">.</span><span class="ident" id="4411771">abs</span><span class="op" id="4411774">,</span>&nbsp;<span class="ident" id="4411776">natOne</span><span class="op" id="4411782">)</span>&nbsp;<span class="comment" id="4411784">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411818">t</span>&nbsp;<span class="op" id="4411820">=</span>&nbsp;<span class="ident" id="4411822">t</span><span class="op" id="4411823">.</span><span class="ident" id="4411824">shr</span><span class="op" id="4411827">(</span><span class="ident" id="4411828">t</span><span class="op" id="4411829">,</span>&nbsp;<span class="ident" id="4411831">n</span><span class="op" id="4411832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411836">z</span><span class="op" id="4411837">.</span><span class="ident" id="4411838">abs</span>&nbsp;<span class="op" id="4411842">=</span>&nbsp;<span class="ident" id="4411844">t</span><span class="op" id="4411845">.</span><span class="ident" id="4411846">add</span><span class="op" id="4411849">(</span><span class="ident" id="4411850">t</span><span class="op" id="4411851">,</span>&nbsp;<span class="ident" id="4411853">natOne</span><span class="op" id="4411859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411863">z</span><span class="op" id="4411864">.</span><span class="ident" id="4411865">neg</span>&nbsp;<span class="op" id="4411869">=</span>&nbsp;<span class="builtintype" id="4411871">true</span>&nbsp;<span class="comment" id="4411876">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4411915">return</span>&nbsp;<span class="ident" id="4411922">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4411925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411929">z</span><span class="op" id="4411930">.</span><span class="ident" id="4411931">abs</span>&nbsp;<span class="op" id="4411935">=</span>&nbsp;<span class="ident" id="4411937">z</span><span class="op" id="4411938">.</span><span class="ident" id="4411939">abs</span><span class="op" id="4411942">.</span><span class="ident" id="4411943">shr</span><span class="op" id="4411946">(</span><span class="ident" id="4411947">x</span><span class="op" id="4411948">.</span><span class="ident" id="4411949">abs</span><span class="op" id="4411952">,</span>&nbsp;<span class="ident" id="4411954">n</span><span class="op" id="4411955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4411958">z</span><span class="op" id="4411959">.</span><span class="ident" id="4411960">neg</span>&nbsp;<span class="op" id="4411964">=</span>&nbsp;<span class="builtintype" id="4411966">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4411973">return</span>&nbsp;<span class="ident" id="4411980">z</span><br>
<span class="lineno">790</span><span class="op" id="4411982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4411985">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="4412044">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4412095">func</span>&nbsp;<span class="op" id="4412100">(</span><span class="ident" id="4412101">x</span>&nbsp;<span class="op" id="4412103">*</span><span class="ident" id="4412104">Int</span><span class="op" id="4412107">)</span>&nbsp;<span class="ident" id="4412109">Bit</span><span class="op" id="4412112">(</span><span class="ident" id="4412113">i</span>&nbsp;<span class="builtintype" id="4412115">int</span><span class="op" id="4412118">)</span>&nbsp;<span class="builtintype" id="4412120">uint</span>&nbsp;<span class="op" id="4412125">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412128">if</span>&nbsp;<span class="ident" id="4412131">i</span>&nbsp;<span class="op" id="4412133">==</span>&nbsp;<span class="num" id="4412136">0</span>&nbsp;<span class="op" id="4412138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4412142">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412196">if</span>&nbsp;<span class="builtinfunc" id="4412199">len</span><span class="op" id="4412202">(</span><span class="ident" id="4412203">x</span><span class="op" id="4412204">.</span><span class="ident" id="4412205">abs</span><span class="op" id="4412208">)</span>&nbsp;<span class="op" id="4412210">&gt;</span>&nbsp;<span class="num" id="4412212">0</span>&nbsp;<span class="op" id="4412214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412219">return</span>&nbsp;<span class="builtintype" id="4412226">uint</span><span class="op" id="4412230">(</span><span class="ident" id="4412231">x</span><span class="op" id="4412232">.</span><span class="ident" id="4412233">abs</span><span class="op" id="4412236">[</span><span class="num" id="4412237">0</span><span class="op" id="4412238">]</span>&nbsp;<span class="op" id="4412240">&amp;</span>&nbsp;<span class="num" id="4412242">1</span><span class="op" id="4412243">)</span>&nbsp;<span class="comment" id="4412245">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4412271">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412275">return</span>&nbsp;<span class="num" id="4412282">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4412285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412288">if</span>&nbsp;<span class="ident" id="4412291">i</span>&nbsp;<span class="op" id="4412293">&lt;</span>&nbsp;<span class="num" id="4412295">0</span>&nbsp;<span class="op" id="4412297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4412301">panic</span><span class="op" id="4412306">(</span><span class="string" id="4412307">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="4412327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4412330">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412333">if</span>&nbsp;<span class="ident" id="4412336">x</span><span class="op" id="4412337">.</span><span class="ident" id="4412338">neg</span>&nbsp;<span class="op" id="4412342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4412346">t</span>&nbsp;<span class="op" id="4412348">:=</span>&nbsp;<span class="ident" id="4412351">nat</span><span class="op" id="4412354">(</span><span class="ident" id="4412355">nil</span><span class="op" id="4412358">)</span><span class="op" id="4412359">.</span><span class="ident" id="4412360">sub</span><span class="op" id="4412363">(</span><span class="ident" id="4412364">x</span><span class="op" id="4412365">.</span><span class="ident" id="4412366">abs</span><span class="op" id="4412369">,</span>&nbsp;<span class="ident" id="4412371">natOne</span><span class="op" id="4412377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412381">return</span>&nbsp;<span class="ident" id="4412388">t</span><span class="op" id="4412389">.</span><span class="ident" id="4412390">bit</span><span class="op" id="4412393">(</span><span class="builtintype" id="4412394">uint</span><span class="op" id="4412398">(</span><span class="ident" id="4412399">i</span><span class="op" id="4412400">)</span><span class="op" id="4412401">)</span>&nbsp;<span class="op" id="4412403">^</span>&nbsp;<span class="num" id="4412405">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4412408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412412">return</span>&nbsp;<span class="ident" id="4412419">x</span><span class="op" id="4412420">.</span><span class="ident" id="4412421">abs</span><span class="op" id="4412424">.</span><span class="ident" id="4412425">bit</span><span class="op" id="4412428">(</span><span class="builtintype" id="4412429">uint</span><span class="op" id="4412433">(</span><span class="ident" id="4412434">i</span><span class="op" id="4412435">)</span><span class="op" id="4412436">)</span><br>
<span class="lineno"></span><span class="op" id="4412438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4412441">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="4412501">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="4412553">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="4412617">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="4412639">func</span>&nbsp;<span class="op" id="4412644">(</span><span class="ident" id="4412645">z</span>&nbsp;<span class="op" id="4412647">*</span><span class="ident" id="4412648">Int</span><span class="op" id="4412651">)</span>&nbsp;<span class="ident" id="4412653">SetBit</span><span class="op" id="4412659">(</span><span class="ident" id="4412660">x</span>&nbsp;<span class="op" id="4412662">*</span><span class="ident" id="4412663">Int</span><span class="op" id="4412666">,</span>&nbsp;<span class="ident" id="4412668">i</span>&nbsp;<span class="builtintype" id="4412670">int</span><span class="op" id="4412673">,</span>&nbsp;<span class="ident" id="4412675">b</span>&nbsp;<span class="builtintype" id="4412677">uint</span><span class="op" id="4412681">)</span>&nbsp;<span class="op" id="4412683">*</span><span class="ident" id="4412684">Int</span>&nbsp;<span class="op" id="4412688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412691">if</span>&nbsp;<span class="ident" id="4412694">i</span>&nbsp;<span class="op" id="4412696">&lt;</span>&nbsp;<span class="num" id="4412698">0</span>&nbsp;<span class="op" id="4412700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4412704">panic</span><span class="op" id="4412709">(</span><span class="string" id="4412710">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="4412730">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4412733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412736">if</span>&nbsp;<span class="ident" id="4412739">x</span><span class="op" id="4412740">.</span><span class="ident" id="4412741">neg</span>&nbsp;<span class="op" id="4412745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4412749">t</span>&nbsp;<span class="op" id="4412751">:=</span>&nbsp;<span class="ident" id="4412754">z</span><span class="op" id="4412755">.</span><span class="ident" id="4412756">abs</span><span class="op" id="4412759">.</span><span class="ident" id="4412760">sub</span><span class="op" id="4412763">(</span><span class="ident" id="4412764">x</span><span class="op" id="4412765">.</span><span class="ident" id="4412766">abs</span><span class="op" id="4412769">,</span>&nbsp;<span class="ident" id="4412771">natOne</span><span class="op" id="4412777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4412781">t</span>&nbsp;<span class="op" id="4412783">=</span>&nbsp;<span class="ident" id="4412785">t</span><span class="op" id="4412786">.</span><span class="ident" id="4412787">setBit</span><span class="op" id="4412793">(</span><span class="ident" id="4412794">t</span><span class="op" id="4412795">,</span>&nbsp;<span class="builtintype" id="4412797">uint</span><span class="op" id="4412801">(</span><span class="ident" id="4412802">i</span><span class="op" id="4412803">)</span><span class="op" id="4412804">,</span>&nbsp;<span class="ident" id="4412806">b</span><span class="op" id="4412807">^</span><span class="num" id="4412808">1</span><span class="op" id="4412809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4412813">z</span><span class="op" id="4412814">.</span><span class="ident" id="4412815">abs</span>&nbsp;<span class="op" id="4412819">=</span>&nbsp;<span class="ident" id="4412821">t</span><span class="op" id="4412822">.</span><span class="ident" id="4412823">add</span><span class="op" id="4412826">(</span><span class="ident" id="4412827">t</span><span class="op" id="4412828">,</span>&nbsp;<span class="ident" id="4412830">natOne</span><span class="op" id="4412836">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4412840">z</span><span class="op" id="4412841">.</span><span class="ident" id="4412842">neg</span>&nbsp;<span class="op" id="4412846">=</span>&nbsp;<span class="builtinfunc" id="4412848">len</span><span class="op" id="4412851">(</span><span class="ident" id="4412852">z</span><span class="op" id="4412853">.</span><span class="ident" id="4412854">abs</span><span class="op" id="4412857">)</span>&nbsp;<span class="op" id="4412859">&gt;</span>&nbsp;<span class="num" id="4412861">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412865">return</span>&nbsp;<span class="ident" id="4412872">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4412875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4412878">z</span><span class="op" id="4412879">.</span><span class="ident" id="4412880">abs</span>&nbsp;<span class="op" id="4412884">=</span>&nbsp;<span class="ident" id="4412886">z</span><span class="op" id="4412887">.</span><span class="ident" id="4412888">abs</span><span class="op" id="4412891">.</span><span class="ident" id="4412892">setBit</span><span class="op" id="4412898">(</span><span class="ident" id="4412899">x</span><span class="op" id="4412900">.</span><span class="ident" id="4412901">abs</span><span class="op" id="4412904">,</span>&nbsp;<span class="builtintype" id="4412906">uint</span><span class="op" id="4412910">(</span><span class="ident" id="4412911">i</span><span class="op" id="4412912">)</span><span class="op" id="4412913">,</span>&nbsp;<span class="ident" id="4412915">b</span><span class="op" id="4412916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4412919">z</span><span class="op" id="4412920">.</span><span class="ident" id="4412921">neg</span>&nbsp;<span class="op" id="4412925">=</span>&nbsp;<span class="builtintype" id="4412927">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4412934">return</span>&nbsp;<span class="ident" id="4412941">z</span><br>
<span class="lineno"></span><span class="op" id="4412943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4412946">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4412983">func</span>&nbsp;<span class="op" id="4412988">(</span><span class="ident" id="4412989">z</span>&nbsp;<span class="op" id="4412991">*</span><span class="ident" id="4412992">Int</span><span class="op" id="4412995">)</span>&nbsp;<span class="ident" id="4412997">And</span><span class="op" id="4413000">(</span><span class="ident" id="4413001">x</span><span class="op" id="4413002">,</span>&nbsp;<span class="ident" id="4413004">y</span>&nbsp;<span class="op" id="4413006">*</span><span class="ident" id="4413007">Int</span><span class="op" id="4413010">)</span>&nbsp;<span class="op" id="4413012">*</span><span class="ident" id="4413013">Int</span>&nbsp;<span class="op" id="4413017">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4413020">if</span>&nbsp;<span class="ident" id="4413023">x</span><span class="op" id="4413024">.</span><span class="ident" id="4413025">neg</span>&nbsp;<span class="op" id="4413029">==</span>&nbsp;<span class="ident" id="4413032">y</span><span class="op" id="4413033">.</span><span class="ident" id="4413034">neg</span>&nbsp;<span class="op" id="4413038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4413042">if</span>&nbsp;<span class="ident" id="4413045">x</span><span class="op" id="4413046">.</span><span class="ident" id="4413047">neg</span>&nbsp;<span class="op" id="4413051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4413056">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413139">x1</span>&nbsp;<span class="op" id="4413142">:=</span>&nbsp;<span class="ident" id="4413145">nat</span><span class="op" id="4413148">(</span><span class="ident" id="4413149">nil</span><span class="op" id="4413152">)</span><span class="op" id="4413153">.</span><span class="ident" id="4413154">sub</span><span class="op" id="4413157">(</span><span class="ident" id="4413158">x</span><span class="op" id="4413159">.</span><span class="ident" id="4413160">abs</span><span class="op" id="4413163">,</span>&nbsp;<span class="ident" id="4413165">natOne</span><span class="op" id="4413171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413176">y1</span>&nbsp;<span class="op" id="4413179">:=</span>&nbsp;<span class="ident" id="4413182">nat</span><span class="op" id="4413185">(</span><span class="ident" id="4413186">nil</span><span class="op" id="4413189">)</span><span class="op" id="4413190">.</span><span class="ident" id="4413191">sub</span><span class="op" id="4413194">(</span><span class="ident" id="4413195">y</span><span class="op" id="4413196">.</span><span class="ident" id="4413197">abs</span><span class="op" id="4413200">,</span>&nbsp;<span class="ident" id="4413202">natOne</span><span class="op" id="4413208">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413213">z</span><span class="op" id="4413214">.</span><span class="ident" id="4413215">abs</span>&nbsp;<span class="op" id="4413219">=</span>&nbsp;<span class="ident" id="4413221">z</span><span class="op" id="4413222">.</span><span class="ident" id="4413223">abs</span><span class="op" id="4413226">.</span><span class="ident" id="4413227">add</span><span class="op" id="4413230">(</span><span class="ident" id="4413231">z</span><span class="op" id="4413232">.</span><span class="ident" id="4413233">abs</span><span class="op" id="4413236">.</span><span class="ident" id="4413237">or</span><span class="op" id="4413239">(</span><span class="ident" id="4413240">x1</span><span class="op" id="4413242">,</span>&nbsp;<span class="ident" id="4413244">y1</span><span class="op" id="4413246">)</span><span class="op" id="4413247">,</span>&nbsp;<span class="ident" id="4413249">natOne</span><span class="op" id="4413255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413260">z</span><span class="op" id="4413261">.</span><span class="ident" id="4413262">neg</span>&nbsp;<span class="op" id="4413266">=</span>&nbsp;<span class="builtintype" id="4413268">true</span>&nbsp;<span class="comment" id="4413273">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4413320">return</span>&nbsp;<span class="ident" id="4413327">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4413331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4413336">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413356">z</span><span class="op" id="4413357">.</span><span class="ident" id="4413358">abs</span>&nbsp;<span class="op" id="4413362">=</span>&nbsp;<span class="ident" id="4413364">z</span><span class="op" id="4413365">.</span><span class="ident" id="4413366">abs</span><span class="op" id="4413369">.</span><span class="ident" id="4413370">and</span><span class="op" id="4413373">(</span><span class="ident" id="4413374">x</span><span class="op" id="4413375">.</span><span class="ident" id="4413376">abs</span><span class="op" id="4413379">,</span>&nbsp;<span class="ident" id="4413381">y</span><span class="op" id="4413382">.</span><span class="ident" id="4413383">abs</span><span class="op" id="4413386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413390">z</span><span class="op" id="4413391">.</span><span class="ident" id="4413392">neg</span>&nbsp;<span class="op" id="4413396">=</span>&nbsp;<span class="builtintype" id="4413398">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4413406">return</span>&nbsp;<span class="ident" id="4413413">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4413416">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4413420">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4413439">if</span>&nbsp;<span class="ident" id="4413442">x</span><span class="op" id="4413443">.</span><span class="ident" id="4413444">neg</span>&nbsp;<span class="op" id="4413448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413452">x</span><span class="op" id="4413453">,</span>&nbsp;<span class="ident" id="4413455">y</span>&nbsp;<span class="op" id="4413457">=</span>&nbsp;<span class="ident" id="4413459">y</span><span class="op" id="4413460">,</span>&nbsp;<span class="ident" id="4413462">x</span>&nbsp;<span class="comment" id="4413464">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4413483">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4413487">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413528">y1</span>&nbsp;<span class="op" id="4413531">:=</span>&nbsp;<span class="ident" id="4413534">nat</span><span class="op" id="4413537">(</span><span class="ident" id="4413538">nil</span><span class="op" id="4413541">)</span><span class="op" id="4413542">.</span><span class="ident" id="4413543">sub</span><span class="op" id="4413546">(</span><span class="ident" id="4413547">y</span><span class="op" id="4413548">.</span><span class="ident" id="4413549">abs</span><span class="op" id="4413552">,</span>&nbsp;<span class="ident" id="4413554">natOne</span><span class="op" id="4413560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413563">z</span><span class="op" id="4413564">.</span><span class="ident" id="4413565">abs</span>&nbsp;<span class="op" id="4413569">=</span>&nbsp;<span class="ident" id="4413571">z</span><span class="op" id="4413572">.</span><span class="ident" id="4413573">abs</span><span class="op" id="4413576">.</span><span class="ident" id="4413577">andNot</span><span class="op" id="4413583">(</span><span class="ident" id="4413584">x</span><span class="op" id="4413585">.</span><span class="ident" id="4413586">abs</span><span class="op" id="4413589">,</span>&nbsp;<span class="ident" id="4413591">y1</span><span class="op" id="4413593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413596">z</span><span class="op" id="4413597">.</span><span class="ident" id="4413598">neg</span>&nbsp;<span class="op" id="4413602">=</span>&nbsp;<span class="builtintype" id="4413604">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4413611">return</span>&nbsp;<span class="ident" id="4413618">z</span><br>
<span class="lineno"></span><span class="op" id="4413620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4413623">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4413664">func</span>&nbsp;<span class="op" id="4413669">(</span><span class="ident" id="4413670">z</span>&nbsp;<span class="op" id="4413672">*</span><span class="ident" id="4413673">Int</span><span class="op" id="4413676">)</span>&nbsp;<span class="ident" id="4413678">AndNot</span><span class="op" id="4413684">(</span><span class="ident" id="4413685">x</span><span class="op" id="4413686">,</span>&nbsp;<span class="ident" id="4413688">y</span>&nbsp;<span class="op" id="4413690">*</span><span class="ident" id="4413691">Int</span><span class="op" id="4413694">)</span>&nbsp;<span class="op" id="4413696">*</span><span class="ident" id="4413697">Int</span>&nbsp;<span class="op" id="4413701">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4413704">if</span>&nbsp;<span class="ident" id="4413707">x</span><span class="op" id="4413708">.</span><span class="ident" id="4413709">neg</span>&nbsp;<span class="op" id="4413713">==</span>&nbsp;<span class="ident" id="4413716">y</span><span class="op" id="4413717">.</span><span class="ident" id="4413718">neg</span>&nbsp;<span class="op" id="4413722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4413726">if</span>&nbsp;<span class="ident" id="4413729">x</span><span class="op" id="4413730">.</span><span class="ident" id="4413731">neg</span>&nbsp;<span class="op" id="4413735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4413740">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413815">x1</span>&nbsp;<span class="op" id="4413818">:=</span>&nbsp;<span class="ident" id="4413821">nat</span><span class="op" id="4413824">(</span><span class="ident" id="4413825">nil</span><span class="op" id="4413828">)</span><span class="op" id="4413829">.</span><span class="ident" id="4413830">sub</span><span class="op" id="4413833">(</span><span class="ident" id="4413834">x</span><span class="op" id="4413835">.</span><span class="ident" id="4413836">abs</span><span class="op" id="4413839">,</span>&nbsp;<span class="ident" id="4413841">natOne</span><span class="op" id="4413847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413852">y1</span>&nbsp;<span class="op" id="4413855">:=</span>&nbsp;<span class="ident" id="4413858">nat</span><span class="op" id="4413861">(</span><span class="ident" id="4413862">nil</span><span class="op" id="4413865">)</span><span class="op" id="4413866">.</span><span class="ident" id="4413867">sub</span><span class="op" id="4413870">(</span><span class="ident" id="4413871">y</span><span class="op" id="4413872">.</span><span class="ident" id="4413873">abs</span><span class="op" id="4413876">,</span>&nbsp;<span class="ident" id="4413878">natOne</span><span class="op" id="4413884">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413889">z</span><span class="op" id="4413890">.</span><span class="ident" id="4413891">abs</span>&nbsp;<span class="op" id="4413895">=</span>&nbsp;<span class="ident" id="4413897">z</span><span class="op" id="4413898">.</span><span class="ident" id="4413899">abs</span><span class="op" id="4413902">.</span><span class="ident" id="4413903">andNot</span><span class="op" id="4413909">(</span><span class="ident" id="4413910">y1</span><span class="op" id="4413912">,</span>&nbsp;<span class="ident" id="4413914">x1</span><span class="op" id="4413916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413921">z</span><span class="op" id="4413922">.</span><span class="ident" id="4413923">neg</span>&nbsp;<span class="op" id="4413927">=</span>&nbsp;<span class="builtintype" id="4413929">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4413938">return</span>&nbsp;<span class="ident" id="4413945">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4413949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4413954">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4413976">z</span><span class="op" id="4413977">.</span><span class="ident" id="4413978">abs</span>&nbsp;<span class="op" id="4413982">=</span>&nbsp;<span class="ident" id="4413984">z</span><span class="op" id="4413985">.</span><span class="ident" id="4413986">abs</span><span class="op" id="4413989">.</span><span class="ident" id="4413990">andNot</span><span class="op" id="4413996">(</span><span class="ident" id="4413997">x</span><span class="op" id="4413998">.</span><span class="ident" id="4413999">abs</span><span class="op" id="4414002">,</span>&nbsp;<span class="ident" id="4414004">y</span><span class="op" id="4414005">.</span><span class="ident" id="4414006">abs</span><span class="op" id="4414009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414013">z</span><span class="op" id="4414014">.</span><span class="ident" id="4414015">neg</span>&nbsp;<span class="op" id="4414019">=</span>&nbsp;<span class="builtintype" id="4414021">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4414029">return</span>&nbsp;<span class="ident" id="4414036">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4414039">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4414043">if</span>&nbsp;<span class="ident" id="4414046">x</span><span class="op" id="4414047">.</span><span class="ident" id="4414048">neg</span>&nbsp;<span class="op" id="4414052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4414056">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414139">x1</span>&nbsp;<span class="op" id="4414142">:=</span>&nbsp;<span class="ident" id="4414145">nat</span><span class="op" id="4414148">(</span><span class="ident" id="4414149">nil</span><span class="op" id="4414152">)</span><span class="op" id="4414153">.</span><span class="ident" id="4414154">sub</span><span class="op" id="4414157">(</span><span class="ident" id="4414158">x</span><span class="op" id="4414159">.</span><span class="ident" id="4414160">abs</span><span class="op" id="4414163">,</span>&nbsp;<span class="ident" id="4414165">natOne</span><span class="op" id="4414171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414175">z</span><span class="op" id="4414176">.</span><span class="ident" id="4414177">abs</span>&nbsp;<span class="op" id="4414181">=</span>&nbsp;<span class="ident" id="4414183">z</span><span class="op" id="4414184">.</span><span class="ident" id="4414185">abs</span><span class="op" id="4414188">.</span><span class="ident" id="4414189">add</span><span class="op" id="4414192">(</span><span class="ident" id="4414193">z</span><span class="op" id="4414194">.</span><span class="ident" id="4414195">abs</span><span class="op" id="4414198">.</span><span class="ident" id="4414199">or</span><span class="op" id="4414201">(</span><span class="ident" id="4414202">x1</span><span class="op" id="4414204">,</span>&nbsp;<span class="ident" id="4414206">y</span><span class="op" id="4414207">.</span><span class="ident" id="4414208">abs</span><span class="op" id="4414211">)</span><span class="op" id="4414212">,</span>&nbsp;<span class="ident" id="4414214">natOne</span><span class="op" id="4414220">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414224">z</span><span class="op" id="4414225">.</span><span class="ident" id="4414226">neg</span>&nbsp;<span class="op" id="4414230">=</span>&nbsp;<span class="builtintype" id="4414232">true</span>&nbsp;<span class="comment" id="4414237">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4414294">return</span>&nbsp;<span class="ident" id="4414301">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4414304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4414308">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414350">y1</span>&nbsp;<span class="op" id="4414353">:=</span>&nbsp;<span class="ident" id="4414356">nat</span><span class="op" id="4414359">(</span><span class="ident" id="4414360">nil</span><span class="op" id="4414363">)</span><span class="op" id="4414364">.</span><span class="ident" id="4414365">add</span><span class="op" id="4414368">(</span><span class="ident" id="4414369">y</span><span class="op" id="4414370">.</span><span class="ident" id="4414371">abs</span><span class="op" id="4414374">,</span>&nbsp;<span class="ident" id="4414376">natOne</span><span class="op" id="4414382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414385">z</span><span class="op" id="4414386">.</span><span class="ident" id="4414387">abs</span>&nbsp;<span class="op" id="4414391">=</span>&nbsp;<span class="ident" id="4414393">z</span><span class="op" id="4414394">.</span><span class="ident" id="4414395">abs</span><span class="op" id="4414398">.</span><span class="ident" id="4414399">and</span><span class="op" id="4414402">(</span><span class="ident" id="4414403">x</span><span class="op" id="4414404">.</span><span class="ident" id="4414405">abs</span><span class="op" id="4414408">,</span>&nbsp;<span class="ident" id="4414410">y1</span><span class="op" id="4414412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414415">z</span><span class="op" id="4414416">.</span><span class="ident" id="4414417">neg</span>&nbsp;<span class="op" id="4414421">=</span>&nbsp;<span class="builtintype" id="4414423">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4414430">return</span>&nbsp;<span class="ident" id="4414437">z</span><br>
<span class="lineno"></span><span class="op" id="4414439">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="4414442">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4414478">func</span>&nbsp;<span class="op" id="4414483">(</span><span class="ident" id="4414484">z</span>&nbsp;<span class="op" id="4414486">*</span><span class="ident" id="4414487">Int</span><span class="op" id="4414490">)</span>&nbsp;<span class="ident" id="4414492">Or</span><span class="op" id="4414494">(</span><span class="ident" id="4414495">x</span><span class="op" id="4414496">,</span>&nbsp;<span class="ident" id="4414498">y</span>&nbsp;<span class="op" id="4414500">*</span><span class="ident" id="4414501">Int</span><span class="op" id="4414504">)</span>&nbsp;<span class="op" id="4414506">*</span><span class="ident" id="4414507">Int</span>&nbsp;<span class="op" id="4414511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4414514">if</span>&nbsp;<span class="ident" id="4414517">x</span><span class="op" id="4414518">.</span><span class="ident" id="4414519">neg</span>&nbsp;<span class="op" id="4414523">==</span>&nbsp;<span class="ident" id="4414526">y</span><span class="op" id="4414527">.</span><span class="ident" id="4414528">neg</span>&nbsp;<span class="op" id="4414532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4414536">if</span>&nbsp;<span class="ident" id="4414539">x</span><span class="op" id="4414540">.</span><span class="ident" id="4414541">neg</span>&nbsp;<span class="op" id="4414545">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4414550">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414633">x1</span>&nbsp;<span class="op" id="4414636">:=</span>&nbsp;<span class="ident" id="4414639">nat</span><span class="op" id="4414642">(</span><span class="ident" id="4414643">nil</span><span class="op" id="4414646">)</span><span class="op" id="4414647">.</span><span class="ident" id="4414648">sub</span><span class="op" id="4414651">(</span><span class="ident" id="4414652">x</span><span class="op" id="4414653">.</span><span class="ident" id="4414654">abs</span><span class="op" id="4414657">,</span>&nbsp;<span class="ident" id="4414659">natOne</span><span class="op" id="4414665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414670">y1</span>&nbsp;<span class="op" id="4414673">:=</span>&nbsp;<span class="ident" id="4414676">nat</span><span class="op" id="4414679">(</span><span class="ident" id="4414680">nil</span><span class="op" id="4414683">)</span><span class="op" id="4414684">.</span><span class="ident" id="4414685">sub</span><span class="op" id="4414688">(</span><span class="ident" id="4414689">y</span><span class="op" id="4414690">.</span><span class="ident" id="4414691">abs</span><span class="op" id="4414694">,</span>&nbsp;<span class="ident" id="4414696">natOne</span><span class="op" id="4414702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414707">z</span><span class="op" id="4414708">.</span><span class="ident" id="4414709">abs</span>&nbsp;<span class="op" id="4414713">=</span>&nbsp;<span class="ident" id="4414715">z</span><span class="op" id="4414716">.</span><span class="ident" id="4414717">abs</span><span class="op" id="4414720">.</span><span class="ident" id="4414721">add</span><span class="op" id="4414724">(</span><span class="ident" id="4414725">z</span><span class="op" id="4414726">.</span><span class="ident" id="4414727">abs</span><span class="op" id="4414730">.</span><span class="ident" id="4414731">and</span><span class="op" id="4414734">(</span><span class="ident" id="4414735">x1</span><span class="op" id="4414737">,</span>&nbsp;<span class="ident" id="4414739">y1</span><span class="op" id="4414741">)</span><span class="op" id="4414742">,</span>&nbsp;<span class="ident" id="4414744">natOne</span><span class="op" id="4414750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414755">z</span><span class="op" id="4414756">.</span><span class="ident" id="4414757">neg</span>&nbsp;<span class="op" id="4414761">=</span>&nbsp;<span class="builtintype" id="4414763">true</span>&nbsp;<span class="comment" id="4414768">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4414815">return</span>&nbsp;<span class="ident" id="4414822">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4414826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4414831">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414851">z</span><span class="op" id="4414852">.</span><span class="ident" id="4414853">abs</span>&nbsp;<span class="op" id="4414857">=</span>&nbsp;<span class="ident" id="4414859">z</span><span class="op" id="4414860">.</span><span class="ident" id="4414861">abs</span><span class="op" id="4414864">.</span><span class="ident" id="4414865">or</span><span class="op" id="4414867">(</span><span class="ident" id="4414868">x</span><span class="op" id="4414869">.</span><span class="ident" id="4414870">abs</span><span class="op" id="4414873">,</span>&nbsp;<span class="ident" id="4414875">y</span><span class="op" id="4414876">.</span><span class="ident" id="4414877">abs</span><span class="op" id="4414880">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414884">z</span><span class="op" id="4414885">.</span><span class="ident" id="4414886">neg</span>&nbsp;<span class="op" id="4414890">=</span>&nbsp;<span class="builtintype" id="4414892">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4414900">return</span>&nbsp;<span class="ident" id="4414907">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4414910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4414914">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4414933">if</span>&nbsp;<span class="ident" id="4414936">x</span><span class="op" id="4414937">.</span><span class="ident" id="4414938">neg</span>&nbsp;<span class="op" id="4414942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4414946">x</span><span class="op" id="4414947">,</span>&nbsp;<span class="ident" id="4414949">y</span>&nbsp;<span class="op" id="4414951">=</span>&nbsp;<span class="ident" id="4414953">y</span><span class="op" id="4414954">,</span>&nbsp;<span class="ident" id="4414956">x</span>&nbsp;<span class="comment" id="4414958">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4414977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4414981">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415049">y1</span>&nbsp;<span class="op" id="4415052">:=</span>&nbsp;<span class="ident" id="4415055">nat</span><span class="op" id="4415058">(</span><span class="ident" id="4415059">nil</span><span class="op" id="4415062">)</span><span class="op" id="4415063">.</span><span class="ident" id="4415064">sub</span><span class="op" id="4415067">(</span><span class="ident" id="4415068">y</span><span class="op" id="4415069">.</span><span class="ident" id="4415070">abs</span><span class="op" id="4415073">,</span>&nbsp;<span class="ident" id="4415075">natOne</span><span class="op" id="4415081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415084">z</span><span class="op" id="4415085">.</span><span class="ident" id="4415086">abs</span>&nbsp;<span class="op" id="4415090">=</span>&nbsp;<span class="ident" id="4415092">z</span><span class="op" id="4415093">.</span><span class="ident" id="4415094">abs</span><span class="op" id="4415097">.</span><span class="ident" id="4415098">add</span><span class="op" id="4415101">(</span><span class="ident" id="4415102">z</span><span class="op" id="4415103">.</span><span class="ident" id="4415104">abs</span><span class="op" id="4415107">.</span><span class="ident" id="4415108">andNot</span><span class="op" id="4415114">(</span><span class="ident" id="4415115">y1</span><span class="op" id="4415117">,</span>&nbsp;<span class="ident" id="4415119">x</span><span class="op" id="4415120">.</span><span class="ident" id="4415121">abs</span><span class="op" id="4415124">)</span><span class="op" id="4415125">,</span>&nbsp;<span class="ident" id="4415127">natOne</span><span class="op" id="4415133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415136">z</span><span class="op" id="4415137">.</span><span class="ident" id="4415138">neg</span>&nbsp;<span class="op" id="4415142">=</span>&nbsp;<span class="builtintype" id="4415144">true</span>&nbsp;<span class="comment" id="4415149">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4415199">return</span>&nbsp;<span class="ident" id="4415206">z</span><br>
<span class="lineno"></span><span class="op" id="4415208">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="4415211">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4415248">func</span>&nbsp;<span class="op" id="4415253">(</span><span class="ident" id="4415254">z</span>&nbsp;<span class="op" id="4415256">*</span><span class="ident" id="4415257">Int</span><span class="op" id="4415260">)</span>&nbsp;<span class="ident" id="4415262">Xor</span><span class="op" id="4415265">(</span><span class="ident" id="4415266">x</span><span class="op" id="4415267">,</span>&nbsp;<span class="ident" id="4415269">y</span>&nbsp;<span class="op" id="4415271">*</span><span class="ident" id="4415272">Int</span><span class="op" id="4415275">)</span>&nbsp;<span class="op" id="4415277">*</span><span class="ident" id="4415278">Int</span>&nbsp;<span class="op" id="4415282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4415285">if</span>&nbsp;<span class="ident" id="4415288">x</span><span class="op" id="4415289">.</span><span class="ident" id="4415290">neg</span>&nbsp;<span class="op" id="4415294">==</span>&nbsp;<span class="ident" id="4415297">y</span><span class="op" id="4415298">.</span><span class="ident" id="4415299">neg</span>&nbsp;<span class="op" id="4415303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4415307">if</span>&nbsp;<span class="ident" id="4415310">x</span><span class="op" id="4415311">.</span><span class="ident" id="4415312">neg</span>&nbsp;<span class="op" id="4415316">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4415321">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415375">x1</span>&nbsp;<span class="op" id="4415378">:=</span>&nbsp;<span class="ident" id="4415381">nat</span><span class="op" id="4415384">(</span><span class="ident" id="4415385">nil</span><span class="op" id="4415388">)</span><span class="op" id="4415389">.</span><span class="ident" id="4415390">sub</span><span class="op" id="4415393">(</span><span class="ident" id="4415394">x</span><span class="op" id="4415395">.</span><span class="ident" id="4415396">abs</span><span class="op" id="4415399">,</span>&nbsp;<span class="ident" id="4415401">natOne</span><span class="op" id="4415407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415412">y1</span>&nbsp;<span class="op" id="4415415">:=</span>&nbsp;<span class="ident" id="4415418">nat</span><span class="op" id="4415421">(</span><span class="ident" id="4415422">nil</span><span class="op" id="4415425">)</span><span class="op" id="4415426">.</span><span class="ident" id="4415427">sub</span><span class="op" id="4415430">(</span><span class="ident" id="4415431">y</span><span class="op" id="4415432">.</span><span class="ident" id="4415433">abs</span><span class="op" id="4415436">,</span>&nbsp;<span class="ident" id="4415438">natOne</span><span class="op" id="4415444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415449">z</span><span class="op" id="4415450">.</span><span class="ident" id="4415451">abs</span>&nbsp;<span class="op" id="4415455">=</span>&nbsp;<span class="ident" id="4415457">z</span><span class="op" id="4415458">.</span><span class="ident" id="4415459">abs</span><span class="op" id="4415462">.</span><span class="ident" id="4415463">xor</span><span class="op" id="4415466">(</span><span class="ident" id="4415467">x1</span><span class="op" id="4415469">,</span>&nbsp;<span class="ident" id="4415471">y1</span><span class="op" id="4415473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415478">z</span><span class="op" id="4415479">.</span><span class="ident" id="4415480">neg</span>&nbsp;<span class="op" id="4415484">=</span>&nbsp;<span class="builtintype" id="4415486">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4415495">return</span>&nbsp;<span class="ident" id="4415502">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4415506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4415511">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415531">z</span><span class="op" id="4415532">.</span><span class="ident" id="4415533">abs</span>&nbsp;<span class="op" id="4415537">=</span>&nbsp;<span class="ident" id="4415539">z</span><span class="op" id="4415540">.</span><span class="ident" id="4415541">abs</span><span class="op" id="4415544">.</span><span class="ident" id="4415545">xor</span><span class="op" id="4415548">(</span><span class="ident" id="4415549">x</span><span class="op" id="4415550">.</span><span class="ident" id="4415551">abs</span><span class="op" id="4415554">,</span>&nbsp;<span class="ident" id="4415556">y</span><span class="op" id="4415557">.</span><span class="ident" id="4415558">abs</span><span class="op" id="4415561">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415565">z</span><span class="op" id="4415566">.</span><span class="ident" id="4415567">neg</span>&nbsp;<span class="op" id="4415571">=</span>&nbsp;<span class="builtintype" id="4415573">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4415581">return</span>&nbsp;<span class="ident" id="4415588">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4415591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4415595">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4415614">if</span>&nbsp;<span class="ident" id="4415617">x</span><span class="op" id="4415618">.</span><span class="ident" id="4415619">neg</span>&nbsp;<span class="op" id="4415623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415627">x</span><span class="op" id="4415628">,</span>&nbsp;<span class="ident" id="4415630">y</span>&nbsp;<span class="op" id="4415632">=</span>&nbsp;<span class="ident" id="4415634">y</span><span class="op" id="4415635">,</span>&nbsp;<span class="ident" id="4415637">x</span>&nbsp;<span class="comment" id="4415639">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4415658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4415662">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415727">y1</span>&nbsp;<span class="op" id="4415730">:=</span>&nbsp;<span class="ident" id="4415733">nat</span><span class="op" id="4415736">(</span><span class="ident" id="4415737">nil</span><span class="op" id="4415740">)</span><span class="op" id="4415741">.</span><span class="ident" id="4415742">sub</span><span class="op" id="4415745">(</span><span class="ident" id="4415746">y</span><span class="op" id="4415747">.</span><span class="ident" id="4415748">abs</span><span class="op" id="4415751">,</span>&nbsp;<span class="ident" id="4415753">natOne</span><span class="op" id="4415759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415762">z</span><span class="op" id="4415763">.</span><span class="ident" id="4415764">abs</span>&nbsp;<span class="op" id="4415768">=</span>&nbsp;<span class="ident" id="4415770">z</span><span class="op" id="4415771">.</span><span class="ident" id="4415772">abs</span><span class="op" id="4415775">.</span><span class="ident" id="4415776">add</span><span class="op" id="4415779">(</span><span class="ident" id="4415780">z</span><span class="op" id="4415781">.</span><span class="ident" id="4415782">abs</span><span class="op" id="4415785">.</span><span class="ident" id="4415786">xor</span><span class="op" id="4415789">(</span><span class="ident" id="4415790">x</span><span class="op" id="4415791">.</span><span class="ident" id="4415792">abs</span><span class="op" id="4415795">,</span>&nbsp;<span class="ident" id="4415797">y1</span><span class="op" id="4415799">)</span><span class="op" id="4415800">,</span>&nbsp;<span class="ident" id="4415802">natOne</span><span class="op" id="4415808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4415811">z</span><span class="op" id="4415812">.</span><span class="ident" id="4415813">neg</span>&nbsp;<span class="op" id="4415817">=</span>&nbsp;<span class="builtintype" id="4415819">true</span>&nbsp;<span class="comment" id="4415824">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4415879">return</span>&nbsp;<span class="ident" id="4415886">z</span><br>
<span class="lineno"></span><span class="op" id="4415888">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="4415891">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4415925">func</span>&nbsp;<span class="op" id="4415930">(</span><span class="ident" id="4415931">z</span>&nbsp;<span class="op" id="4415933">*</span><span class="ident" id="4415934">Int</span><span class="op" id="4415937">)</span>&nbsp;<span class="ident" id="4415939">Not</span><span class="op" id="4415942">(</span><span class="ident" id="4415943">x</span>&nbsp;<span class="op" id="4415945">*</span><span class="ident" id="4415946">Int</span><span class="op" id="4415949">)</span>&nbsp;<span class="op" id="4415951">*</span><span class="ident" id="4415952">Int</span>&nbsp;<span class="op" id="4415956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4415959">if</span>&nbsp;<span class="ident" id="4415962">x</span><span class="op" id="4415963">.</span><span class="ident" id="4415964">neg</span>&nbsp;<span class="op" id="4415968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4415972">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416003">z</span><span class="op" id="4416004">.</span><span class="ident" id="4416005">abs</span>&nbsp;<span class="op" id="4416009">=</span>&nbsp;<span class="ident" id="4416011">z</span><span class="op" id="4416012">.</span><span class="ident" id="4416013">abs</span><span class="op" id="4416016">.</span><span class="ident" id="4416017">sub</span><span class="op" id="4416020">(</span><span class="ident" id="4416021">x</span><span class="op" id="4416022">.</span><span class="ident" id="4416023">abs</span><span class="op" id="4416026">,</span>&nbsp;<span class="ident" id="4416028">natOne</span><span class="op" id="4416034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416038">z</span><span class="op" id="4416039">.</span><span class="ident" id="4416040">neg</span>&nbsp;<span class="op" id="4416044">=</span>&nbsp;<span class="builtintype" id="4416046">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416054">return</span>&nbsp;<span class="ident" id="4416061">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4416064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4416068">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416093">z</span><span class="op" id="4416094">.</span><span class="ident" id="4416095">abs</span>&nbsp;<span class="op" id="4416099">=</span>&nbsp;<span class="ident" id="4416101">z</span><span class="op" id="4416102">.</span><span class="ident" id="4416103">abs</span><span class="op" id="4416106">.</span><span class="ident" id="4416107">add</span><span class="op" id="4416110">(</span><span class="ident" id="4416111">x</span><span class="op" id="4416112">.</span><span class="ident" id="4416113">abs</span><span class="op" id="4416116">,</span>&nbsp;<span class="ident" id="4416118">natOne</span><span class="op" id="4416124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416127">z</span><span class="op" id="4416128">.</span><span class="ident" id="4416129">neg</span>&nbsp;<span class="op" id="4416133">=</span>&nbsp;<span class="builtintype" id="4416135">true</span>&nbsp;<span class="comment" id="4416140">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416178">return</span>&nbsp;<span class="ident" id="4416185">z</span><br>
<span class="lineno"></span><span class="op" id="4416187">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="4416190">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4416265">const</span>&nbsp;<span class="ident" id="4416271">intGobVersion</span>&nbsp;<span class="builtintype" id="4416285">byte</span>&nbsp;<span class="op" id="4416290">=</span>&nbsp;<span class="num" id="4416292">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4416295">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="4416349">func</span>&nbsp;<span class="op" id="4416354">(</span><span class="ident" id="4416355">x</span>&nbsp;<span class="op" id="4416357">*</span><span class="ident" id="4416358">Int</span><span class="op" id="4416361">)</span>&nbsp;<span class="ident" id="4416363">GobEncode</span><span class="op" id="4416372">(</span><span class="op" id="4416373">)</span>&nbsp;<span class="op" id="4416375">(</span><span class="op" id="4416376">[</span><span class="op" id="4416377">]</span><span class="builtintype" id="4416378">byte</span><span class="op" id="4416382">,</span>&nbsp;<span class="builtintype" id="4416384">error</span><span class="op" id="4416389">)</span>&nbsp;<span class="op" id="4416391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416394">if</span>&nbsp;<span class="ident" id="4416397">x</span>&nbsp;<span class="op" id="4416399">==</span>&nbsp;<span class="ident" id="4416402">nil</span>&nbsp;<span class="op" id="4416406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416410">return</span>&nbsp;<span class="ident" id="4416417">nil</span><span class="op" id="4416420">,</span>&nbsp;<span class="ident" id="4416422">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4416427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416430">buf</span>&nbsp;<span class="op" id="4416434">:=</span>&nbsp;<span class="builtinfunc" id="4416437">make</span><span class="op" id="4416441">(</span><span class="op" id="4416442">[</span><span class="op" id="4416443">]</span><span class="builtintype" id="4416444">byte</span><span class="op" id="4416448">,</span>&nbsp;<span class="num" id="4416450">1</span><span class="op" id="4416451">+</span><span class="builtinfunc" id="4416452">len</span><span class="op" id="4416455">(</span><span class="ident" id="4416456">x</span><span class="op" id="4416457">.</span><span class="ident" id="4416458">abs</span><span class="op" id="4416461">)</span><span class="op" id="4416462">*</span><span class="ident" id="4416463">_S</span><span class="op" id="4416465">)</span>&nbsp;<span class="comment" id="4416467">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416507">i</span>&nbsp;<span class="op" id="4416509">:=</span>&nbsp;<span class="ident" id="4416512">x</span><span class="op" id="4416513">.</span><span class="ident" id="4416514">abs</span><span class="op" id="4416517">.</span><span class="ident" id="4416518">bytes</span><span class="op" id="4416523">(</span><span class="ident" id="4416524">buf</span><span class="op" id="4416527">)</span>&nbsp;<span class="op" id="4416529">-</span>&nbsp;<span class="num" id="4416531">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4416544">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416555">b</span>&nbsp;<span class="op" id="4416557">:=</span>&nbsp;<span class="ident" id="4416560">intGobVersion</span>&nbsp;<span class="op" id="4416574">&lt;&lt;</span>&nbsp;<span class="num" id="4416577">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4416592">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416620">if</span>&nbsp;<span class="ident" id="4416623">x</span><span class="op" id="4416624">.</span><span class="ident" id="4416625">neg</span>&nbsp;<span class="op" id="4416629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416633">b</span>&nbsp;<span class="op" id="4416635">|=</span>&nbsp;<span class="num" id="4416638">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4416641">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416644">buf</span><span class="op" id="4416647">[</span><span class="ident" id="4416648">i</span><span class="op" id="4416649">]</span>&nbsp;<span class="op" id="4416651">=</span>&nbsp;<span class="ident" id="4416653">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416656">return</span>&nbsp;<span class="ident" id="4416663">buf</span><span class="op" id="4416666">[</span><span class="ident" id="4416667">i</span><span class="op" id="4416668">:</span><span class="op" id="4416669">]</span><span class="op" id="4416670">,</span>&nbsp;<span class="ident" id="4416672">nil</span><br>
<span class="lineno"></span><span class="op" id="4416676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4416679">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="4416733">func</span>&nbsp;<span class="op" id="4416738">(</span><span class="ident" id="4416739">z</span>&nbsp;<span class="op" id="4416741">*</span><span class="ident" id="4416742">Int</span><span class="op" id="4416745">)</span>&nbsp;<span class="ident" id="4416747">GobDecode</span><span class="op" id="4416756">(</span><span class="ident" id="4416757">buf</span>&nbsp;<span class="op" id="4416761">[</span><span class="op" id="4416762">]</span><span class="builtintype" id="4416763">byte</span><span class="op" id="4416767">)</span>&nbsp;<span class="builtintype" id="4416769">error</span>&nbsp;<span class="op" id="4416775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416778">if</span>&nbsp;<span class="builtinfunc" id="4416781">len</span><span class="op" id="4416784">(</span><span class="ident" id="4416785">buf</span><span class="op" id="4416788">)</span>&nbsp;<span class="op" id="4416790">==</span>&nbsp;<span class="num" id="4416793">0</span>&nbsp;<span class="op" id="4416795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4416799">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4416844">*</span><span class="ident" id="4416845">z</span>&nbsp;<span class="op" id="4416847">=</span>&nbsp;<span class="ident" id="4416849">Int</span><span class="op" id="4416852">{</span><span class="op" id="4416853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416857">return</span>&nbsp;<span class="ident" id="4416864">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4416869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4416872">b</span>&nbsp;<span class="op" id="4416874">:=</span>&nbsp;<span class="ident" id="4416877">buf</span><span class="op" id="4416880">[</span><span class="num" id="4416881">0</span><span class="op" id="4416882">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416885">if</span>&nbsp;<span class="ident" id="4416888">b</span><span class="op" id="4416889">&gt;&gt;</span><span class="num" id="4416891">1</span>&nbsp;<span class="op" id="4416893">!=</span>&nbsp;<span class="ident" id="4416896">intGobVersion</span>&nbsp;<span class="op" id="4416910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4416914">return</span>&nbsp;<span class="ident" id="4416921">errors</span><span class="op" id="4416927">.</span><span class="ident" id="4416928">New</span><span class="op" id="4416931">(</span><span class="ident" id="4416932">fmt</span><span class="op" id="4416935">.</span><span class="ident" id="4416936">Sprintf</span><span class="op" id="4416943">(</span><span class="string" id="4416944">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="4416994">,</span>&nbsp;<span class="ident" id="4416996">b</span><span class="op" id="4416997">&gt;&gt;</span><span class="num" id="4416999">1</span><span class="op" id="4417000">)</span><span class="op" id="4417001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4417004">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4417007">z</span><span class="op" id="4417008">.</span><span class="ident" id="4417009">neg</span>&nbsp;<span class="op" id="4417013">=</span>&nbsp;<span class="ident" id="4417015">b</span><span class="op" id="4417016">&amp;</span><span class="num" id="4417017">1</span>&nbsp;<span class="op" id="4417019">!=</span>&nbsp;<span class="num" id="4417022">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4417025">z</span><span class="op" id="4417026">.</span><span class="ident" id="4417027">abs</span>&nbsp;<span class="op" id="4417031">=</span>&nbsp;<span class="ident" id="4417033">z</span><span class="op" id="4417034">.</span><span class="ident" id="4417035">abs</span><span class="op" id="4417038">.</span><span class="ident" id="4417039">setBytes</span><span class="op" id="4417047">(</span><span class="ident" id="4417048">buf</span><span class="op" id="4417051">[</span><span class="num" id="4417052">1</span><span class="op" id="4417053">:</span><span class="op" id="4417054">]</span><span class="op" id="4417055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4417058">return</span>&nbsp;<span class="ident" id="4417065">nil</span><br>
<span class="lineno"></span><span class="op" id="4417069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="4417072">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4417128">func</span>&nbsp;<span class="op" id="4417133">(</span><span class="ident" id="4417134">z</span>&nbsp;<span class="op" id="4417136">*</span><span class="ident" id="4417137">Int</span><span class="op" id="4417140">)</span>&nbsp;<span class="ident" id="4417142">MarshalJSON</span><span class="op" id="4417153">(</span><span class="op" id="4417154">)</span>&nbsp;<span class="op" id="4417156">(</span><span class="op" id="4417157">[</span><span class="op" id="4417158">]</span><span class="builtintype" id="4417159">byte</span><span class="op" id="4417163">,</span>&nbsp;<span class="builtintype" id="4417165">error</span><span class="op" id="4417170">)</span>&nbsp;<span class="op" id="4417172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4417175">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4417231">return</span>&nbsp;<span class="op" id="4417238">[</span><span class="op" id="4417239">]</span><span class="builtintype" id="4417240">byte</span><span class="op" id="4417244">(</span><span class="ident" id="4417245">z</span><span class="op" id="4417246">.</span><span class="ident" id="4417247">String</span><span class="op" id="4417253">(</span><span class="op" id="4417254">)</span><span class="op" id="4417255">)</span><span class="op" id="4417256">,</span>&nbsp;<span class="ident" id="4417258">nil</span><br>
<span class="lineno"></span><span class="op" id="4417262">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="4417265">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4417325">func</span>&nbsp;<span class="op" id="4417330">(</span><span class="ident" id="4417331">z</span>&nbsp;<span class="op" id="4417333">*</span><span class="ident" id="4417334">Int</span><span class="op" id="4417337">)</span>&nbsp;<span class="ident" id="4417339">UnmarshalJSON</span><span class="op" id="4417352">(</span><span class="ident" id="4417353">text</span>&nbsp;<span class="op" id="4417358">[</span><span class="op" id="4417359">]</span><span class="builtintype" id="4417360">byte</span><span class="op" id="4417364">)</span>&nbsp;<span class="builtintype" id="4417366">error</span>&nbsp;<span class="op" id="4417372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4417375">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4417431">if</span>&nbsp;<span class="ident" id="4417434">_</span><span class="op" id="4417435">,</span>&nbsp;<span class="ident" id="4417437">ok</span>&nbsp;<span class="op" id="4417440">:=</span>&nbsp;<span class="ident" id="4417443">z</span><span class="op" id="4417444">.</span><span class="ident" id="4417445">SetString</span><span class="op" id="4417454">(</span><span class="builtintype" id="4417455">string</span><span class="op" id="4417461">(</span><span class="ident" id="4417462">text</span><span class="op" id="4417466">)</span><span class="op" id="4417467">,</span>&nbsp;<span class="num" id="4417469">0</span><span class="op" id="4417470">)</span><span class="op" id="4417471">;</span>&nbsp;<span class="op" id="4417473">!</span><span class="ident" id="4417474">ok</span>&nbsp;<span class="op" id="4417477">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4417481">return</span>&nbsp;<span class="ident" id="4417488">fmt</span><span class="op" id="4417491">.</span><span class="ident" id="4417492">Errorf</span><span class="op" id="4417498">(</span><span class="string" id="4417499">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="4417546">,</span>&nbsp;<span class="ident" id="4417548">text</span><span class="op" id="4417552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4417555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4417558">return</span>&nbsp;<span class="ident" id="4417565">nil</span><br>
<span class="lineno"></span><span class="op" id="4417569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="4417572">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4417636">func</span>&nbsp;<span class="op" id="4417641">(</span><span class="ident" id="4417642">z</span>&nbsp;<span class="op" id="4417644">*</span><span class="ident" id="4417645">Int</span><span class="op" id="4417648">)</span>&nbsp;<span class="ident" id="4417650">MarshalText</span><span class="op" id="4417661">(</span><span class="op" id="4417662">)</span>&nbsp;<span class="op" id="4417664">(</span><span class="ident" id="4417665">text</span>&nbsp;<span class="op" id="4417670">[</span><span class="op" id="4417671">]</span><span class="builtintype" id="4417672">byte</span><span class="op" id="4417676">,</span>&nbsp;<span class="ident" id="4417678">err</span>&nbsp;<span class="builtintype" id="4417682">error</span><span class="op" id="4417687">)</span>&nbsp;<span class="op" id="4417689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4417692">return</span>&nbsp;<span class="op" id="4417699">[</span><span class="op" id="4417700">]</span><span class="builtintype" id="4417701">byte</span><span class="op" id="4417705">(</span><span class="ident" id="4417706">z</span><span class="op" id="4417707">.</span><span class="ident" id="4417708">String</span><span class="op" id="4417714">(</span><span class="op" id="4417715">)</span><span class="op" id="4417716">)</span><span class="op" id="4417717">,</span>&nbsp;<span class="ident" id="4417719">nil</span><br>
<span class="lineno"></span><span class="op" id="4417723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="4417726">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4417794">func</span>&nbsp;<span class="op" id="4417799">(</span><span class="ident" id="4417800">z</span>&nbsp;<span class="op" id="4417802">*</span><span class="ident" id="4417803">Int</span><span class="op" id="4417806">)</span>&nbsp;<span class="ident" id="4417808">UnmarshalText</span><span class="op" id="4417821">(</span><span class="ident" id="4417822">text</span>&nbsp;<span class="op" id="4417827">[</span><span class="op" id="4417828">]</span><span class="builtintype" id="4417829">byte</span><span class="op" id="4417833">)</span>&nbsp;<span class="builtintype" id="4417835">error</span>&nbsp;<span class="op" id="4417841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4417844">if</span>&nbsp;<span class="ident" id="4417847">_</span><span class="op" id="4417848">,</span>&nbsp;<span class="ident" id="4417850">ok</span>&nbsp;<span class="op" id="4417853">:=</span>&nbsp;<span class="ident" id="4417856">z</span><span class="op" id="4417857">.</span><span class="ident" id="4417858">SetString</span><span class="op" id="4417867">(</span><span class="builtintype" id="4417868">string</span><span class="op" id="4417874">(</span><span class="ident" id="4417875">text</span><span class="op" id="4417879">)</span><span class="op" id="4417880">,</span>&nbsp;<span class="num" id="4417882">0</span><span class="op" id="4417883">)</span><span class="op" id="4417884">;</span>&nbsp;<span class="op" id="4417886">!</span><span class="ident" id="4417887">ok</span>&nbsp;<span class="op" id="4417890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4417894">return</span>&nbsp;<span class="ident" id="4417901">fmt</span><span class="op" id="4417904">.</span><span class="ident" id="4417905">Errorf</span><span class="op" id="4417911">(</span><span class="string" id="4417912">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="4417959">,</span>&nbsp;<span class="ident" id="4417961">text</span><span class="op" id="4417965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4417968">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4417971">return</span>&nbsp;<span class="ident" id="4417978">nil</span><br>
<span class="lineno"></span><span class="op" id="4417982">}</span>
</div>
</body>
</html>
