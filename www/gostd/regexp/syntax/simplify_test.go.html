<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7023770">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7023826">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7023880">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7023931">package</span>&nbsp;<span class="ident" id="7023939">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7023947">import</span>&nbsp;<span class="string" id="7023954">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7023965">var</span>&nbsp;<span class="ident" id="7023969">simplifyTests</span>&nbsp;<span class="op" id="7023983">=</span>&nbsp;<span class="op" id="7023985">[</span><span class="op" id="7023986">]</span><span class="keyword" id="7023987">struct</span>&nbsp;<span class="op" id="7023994">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7023997">Regexp</span>&nbsp;<span class="builtintype" id="7024004">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7024012">Simple</span>&nbsp;<span class="builtintype" id="7024019">string</span><br>
<span class="lineno"></span><span class="op" id="7024026">}</span><span class="op" id="7024027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7024030">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024060">{</span><span class="string" id="7024061">`a`</span><span class="op" id="7024064">,</span>&nbsp;<span class="string" id="7024066">`a`</span><span class="op" id="7024069">}</span><span class="op" id="7024070">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024073">{</span><span class="string" id="7024074">`ab`</span><span class="op" id="7024078">,</span>&nbsp;<span class="string" id="7024080">`ab`</span><span class="op" id="7024084">}</span><span class="op" id="7024085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024088">{</span><span class="string" id="7024089">`a|b`</span><span class="op" id="7024094">,</span>&nbsp;<span class="string" id="7024096">`[a-b]`</span><span class="op" id="7024103">}</span><span class="op" id="7024104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024107">{</span><span class="string" id="7024108">`ab|cd`</span><span class="op" id="7024115">,</span>&nbsp;<span class="string" id="7024117">`ab|cd`</span><span class="op" id="7024124">}</span><span class="op" id="7024125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024128">{</span><span class="string" id="7024129">`(ab)*`</span><span class="op" id="7024136">,</span>&nbsp;<span class="string" id="7024138">`(ab)*`</span><span class="op" id="7024145">}</span><span class="op" id="7024146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024149">{</span><span class="string" id="7024150">`(ab)+`</span><span class="op" id="7024157">,</span>&nbsp;<span class="string" id="7024159">`(ab)+`</span><span class="op" id="7024166">}</span><span class="op" id="7024167">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024170">{</span><span class="string" id="7024171">`(ab)?`</span><span class="op" id="7024178">,</span>&nbsp;<span class="string" id="7024180">`(ab)?`</span><span class="op" id="7024187">}</span><span class="op" id="7024188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024191">{</span><span class="string" id="7024192">`.`</span><span class="op" id="7024195">,</span>&nbsp;<span class="string" id="7024197">`(?s:.)`</span><span class="op" id="7024205">}</span><span class="op" id="7024206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024209">{</span><span class="string" id="7024210">`^`</span><span class="op" id="7024213">,</span>&nbsp;<span class="string" id="7024215">`^`</span><span class="op" id="7024218">}</span><span class="op" id="7024219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024222">{</span><span class="string" id="7024223">`$`</span><span class="op" id="7024226">,</span>&nbsp;<span class="string" id="7024228">`$`</span><span class="op" id="7024231">}</span><span class="op" id="7024232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024235">{</span><span class="string" id="7024236">`[ac]`</span><span class="op" id="7024242">,</span>&nbsp;<span class="string" id="7024244">`[ac]`</span><span class="op" id="7024250">}</span><span class="op" id="7024251">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024254">{</span><span class="string" id="7024255">`[^ac]`</span><span class="op" id="7024262">,</span>&nbsp;<span class="string" id="7024264">`[^ac]`</span><span class="op" id="7024271">}</span><span class="op" id="7024272">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7024276">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024304">{</span><span class="string" id="7024305">`[[:alnum:]]`</span><span class="op" id="7024318">,</span>&nbsp;<span class="string" id="7024320">`[0-9A-Za-z]`</span><span class="op" id="7024333">}</span><span class="op" id="7024334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024337">{</span><span class="string" id="7024338">`[[:alpha:]]`</span><span class="op" id="7024351">,</span>&nbsp;<span class="string" id="7024353">`[A-Za-z]`</span><span class="op" id="7024363">}</span><span class="op" id="7024364">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024367">{</span><span class="string" id="7024368">`[[:blank:]]`</span><span class="op" id="7024381">,</span>&nbsp;<span class="string" id="7024383">`[\t&nbsp;]`</span><span class="op" id="7024390">}</span><span class="op" id="7024391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024394">{</span><span class="string" id="7024395">`[[:cntrl:]]`</span><span class="op" id="7024408">,</span>&nbsp;<span class="string" id="7024410">`[\x00-\x1f\x7f]`</span><span class="op" id="7024427">}</span><span class="op" id="7024428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024431">{</span><span class="string" id="7024432">`[[:digit:]]`</span><span class="op" id="7024445">,</span>&nbsp;<span class="string" id="7024447">`[0-9]`</span><span class="op" id="7024454">}</span><span class="op" id="7024455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024458">{</span><span class="string" id="7024459">`[[:graph:]]`</span><span class="op" id="7024472">,</span>&nbsp;<span class="string" id="7024474">`[!-~]`</span><span class="op" id="7024481">}</span><span class="op" id="7024482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024485">{</span><span class="string" id="7024486">`[[:lower:]]`</span><span class="op" id="7024499">,</span>&nbsp;<span class="string" id="7024501">`[a-z]`</span><span class="op" id="7024508">}</span><span class="op" id="7024509">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024512">{</span><span class="string" id="7024513">`[[:print:]]`</span><span class="op" id="7024526">,</span>&nbsp;<span class="string" id="7024528">`[&nbsp;-~]`</span><span class="op" id="7024535">}</span><span class="op" id="7024536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024539">{</span><span class="string" id="7024540">`[[:punct:]]`</span><span class="op" id="7024553">,</span>&nbsp;<span class="string" id="7024555">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="7024575">}</span><span class="op" id="7024576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024579">{</span><span class="string" id="7024580">`[[:space:]]`</span><span class="op" id="7024593">,</span>&nbsp;<span class="string" id="7024595">`[\t-\r&nbsp;]`</span><span class="op" id="7024605">}</span><span class="op" id="7024606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024609">{</span><span class="string" id="7024610">`[[:upper:]]`</span><span class="op" id="7024623">,</span>&nbsp;<span class="string" id="7024625">`[A-Z]`</span><span class="op" id="7024632">}</span><span class="op" id="7024633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024636">{</span><span class="string" id="7024637">`[[:xdigit:]]`</span><span class="op" id="7024651">,</span>&nbsp;<span class="string" id="7024653">`[0-9A-Fa-f]`</span><span class="op" id="7024666">}</span><span class="op" id="7024667">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7024671">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024698">{</span><span class="string" id="7024699">`\d`</span><span class="op" id="7024703">,</span>&nbsp;<span class="string" id="7024705">`[0-9]`</span><span class="op" id="7024712">}</span><span class="op" id="7024713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024716">{</span><span class="string" id="7024717">`\s`</span><span class="op" id="7024721">,</span>&nbsp;<span class="string" id="7024723">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7024738">}</span><span class="op" id="7024739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024742">{</span><span class="string" id="7024743">`\w`</span><span class="op" id="7024747">,</span>&nbsp;<span class="string" id="7024749">`[0-9A-Z_a-z]`</span><span class="op" id="7024763">}</span><span class="op" id="7024764">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024767">{</span><span class="string" id="7024768">`\D`</span><span class="op" id="7024772">,</span>&nbsp;<span class="string" id="7024774">`[^0-9]`</span><span class="op" id="7024782">}</span><span class="op" id="7024783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024786">{</span><span class="string" id="7024787">`\S`</span><span class="op" id="7024791">,</span>&nbsp;<span class="string" id="7024793">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7024809">}</span><span class="op" id="7024810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024813">{</span><span class="string" id="7024814">`\W`</span><span class="op" id="7024818">,</span>&nbsp;<span class="string" id="7024820">`[^0-9A-Z_a-z]`</span><span class="op" id="7024835">}</span><span class="op" id="7024836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024839">{</span><span class="string" id="7024840">`[\d]`</span><span class="op" id="7024846">,</span>&nbsp;<span class="string" id="7024848">`[0-9]`</span><span class="op" id="7024855">}</span><span class="op" id="7024856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024859">{</span><span class="string" id="7024860">`[\s]`</span><span class="op" id="7024866">,</span>&nbsp;<span class="string" id="7024868">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7024883">}</span><span class="op" id="7024884">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024887">{</span><span class="string" id="7024888">`[\w]`</span><span class="op" id="7024894">,</span>&nbsp;<span class="string" id="7024896">`[0-9A-Z_a-z]`</span><span class="op" id="7024910">}</span><span class="op" id="7024911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024914">{</span><span class="string" id="7024915">`[\D]`</span><span class="op" id="7024921">,</span>&nbsp;<span class="string" id="7024923">`[^0-9]`</span><span class="op" id="7024931">}</span><span class="op" id="7024932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024935">{</span><span class="string" id="7024936">`[\S]`</span><span class="op" id="7024942">,</span>&nbsp;<span class="string" id="7024944">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7024960">}</span><span class="op" id="7024961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7024964">{</span><span class="string" id="7024965">`[\W]`</span><span class="op" id="7024971">,</span>&nbsp;<span class="string" id="7024973">`[^0-9A-Z_a-z]`</span><span class="op" id="7024988">}</span><span class="op" id="7024989">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7024993">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025015">{</span><span class="string" id="7025016">`a{1}`</span><span class="op" id="7025022">,</span>&nbsp;<span class="string" id="7025024">`a`</span><span class="op" id="7025027">}</span><span class="op" id="7025028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025031">{</span><span class="string" id="7025032">`a{2}`</span><span class="op" id="7025038">,</span>&nbsp;<span class="string" id="7025040">`aa`</span><span class="op" id="7025044">}</span><span class="op" id="7025045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025048">{</span><span class="string" id="7025049">`a{5}`</span><span class="op" id="7025055">,</span>&nbsp;<span class="string" id="7025057">`aaaaa`</span><span class="op" id="7025064">}</span><span class="op" id="7025065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025068">{</span><span class="string" id="7025069">`a{0,1}`</span><span class="op" id="7025077">,</span>&nbsp;<span class="string" id="7025079">`a?`</span><span class="op" id="7025083">}</span><span class="op" id="7025084">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7025087">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7025150">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7025206">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025283">{</span><span class="string" id="7025284">`(a){0,2}`</span><span class="op" id="7025294">,</span>&nbsp;<span class="string" id="7025296">`(?:(a)(a)?)?`</span><span class="op" id="7025310">}</span><span class="op" id="7025311">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7025335">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025352">{</span><span class="string" id="7025353">`(a){0,4}`</span><span class="op" id="7025363">,</span>&nbsp;<span class="string" id="7025365">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7025395">}</span><span class="op" id="7025396">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7025404">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025425">{</span><span class="string" id="7025426">`(a){2,6}`</span><span class="op" id="7025436">,</span>&nbsp;<span class="string" id="7025438">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7025474">}</span><span class="op" id="7025475">,</span>&nbsp;<span class="comment" id="7025477">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025498">{</span><span class="string" id="7025499">`a{0,2}`</span><span class="op" id="7025507">,</span>&nbsp;<span class="string" id="7025509">`(?:aa?)?`</span><span class="op" id="7025519">}</span><span class="op" id="7025520">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7025550">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025567">{</span><span class="string" id="7025568">`a{0,4}`</span><span class="op" id="7025576">,</span>&nbsp;<span class="string" id="7025578">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7025600">}</span><span class="op" id="7025601">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7025619">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025640">{</span><span class="string" id="7025641">`a{2,6}`</span><span class="op" id="7025649">,</span>&nbsp;<span class="string" id="7025651">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7025675">}</span><span class="op" id="7025676">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7025692">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025713">{</span><span class="string" id="7025714">`a{0,}`</span><span class="op" id="7025721">,</span>&nbsp;<span class="string" id="7025723">`a*`</span><span class="op" id="7025727">}</span><span class="op" id="7025728">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025731">{</span><span class="string" id="7025732">`a{1,}`</span><span class="op" id="7025739">,</span>&nbsp;<span class="string" id="7025741">`a+`</span><span class="op" id="7025745">}</span><span class="op" id="7025746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025749">{</span><span class="string" id="7025750">`a{2,}`</span><span class="op" id="7025757">,</span>&nbsp;<span class="string" id="7025759">`aa+`</span><span class="op" id="7025764">}</span><span class="op" id="7025765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025768">{</span><span class="string" id="7025769">`a{5,}`</span><span class="op" id="7025776">,</span>&nbsp;<span class="string" id="7025778">`aaaaa+`</span><span class="op" id="7025786">}</span><span class="op" id="7025787">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7025791">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025841">{</span><span class="string" id="7025842">`(?:a{1,}){1,}`</span><span class="op" id="7025857">,</span>&nbsp;<span class="string" id="7025859">`a+`</span><span class="op" id="7025863">}</span><span class="op" id="7025864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025867">{</span><span class="string" id="7025868">`(a{1,}b{1,})`</span><span class="op" id="7025882">,</span>&nbsp;<span class="string" id="7025884">`(a+b+)`</span><span class="op" id="7025892">}</span><span class="op" id="7025893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025896">{</span><span class="string" id="7025897">`a{1,}|b{1,}`</span><span class="op" id="7025910">,</span>&nbsp;<span class="string" id="7025912">`a+|b+`</span><span class="op" id="7025919">}</span><span class="op" id="7025920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025923">{</span><span class="string" id="7025924">`(?:a{1,})*`</span><span class="op" id="7025936">,</span>&nbsp;<span class="string" id="7025938">`(?:a+)*`</span><span class="op" id="7025947">}</span><span class="op" id="7025948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025951">{</span><span class="string" id="7025952">`(?:a{1,})+`</span><span class="op" id="7025964">,</span>&nbsp;<span class="string" id="7025966">`a+`</span><span class="op" id="7025970">}</span><span class="op" id="7025971">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7025974">{</span><span class="string" id="7025975">`(?:a{1,})?`</span><span class="op" id="7025987">,</span>&nbsp;<span class="string" id="7025989">`(?:a+)?`</span><span class="op" id="7025998">}</span><span class="op" id="7025999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026002">{</span><span class="string" id="7026003">``</span><span class="op" id="7026005">,</span>&nbsp;<span class="string" id="7026007">`(?:)`</span><span class="op" id="7026013">}</span><span class="op" id="7026014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026017">{</span><span class="string" id="7026018">`a{0}`</span><span class="op" id="7026024">,</span>&nbsp;<span class="string" id="7026026">`(?:)`</span><span class="op" id="7026032">}</span><span class="op" id="7026033">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026037">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026072">{</span><span class="string" id="7026073">`[ab]`</span><span class="op" id="7026079">,</span>&nbsp;<span class="string" id="7026081">`[a-b]`</span><span class="op" id="7026088">}</span><span class="op" id="7026089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026092">{</span><span class="string" id="7026093">`[a-za-za-z]`</span><span class="op" id="7026106">,</span>&nbsp;<span class="string" id="7026108">`[a-z]`</span><span class="op" id="7026115">}</span><span class="op" id="7026116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026119">{</span><span class="string" id="7026120">`[A-Za-zA-Za-z]`</span><span class="op" id="7026136">,</span>&nbsp;<span class="string" id="7026138">`[A-Za-z]`</span><span class="op" id="7026148">}</span><span class="op" id="7026149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026152">{</span><span class="string" id="7026153">`[ABCDEFGH]`</span><span class="op" id="7026165">,</span>&nbsp;<span class="string" id="7026167">`[A-H]`</span><span class="op" id="7026174">}</span><span class="op" id="7026175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026178">{</span><span class="string" id="7026179">`[AB-CD-EF-GH]`</span><span class="op" id="7026194">,</span>&nbsp;<span class="string" id="7026196">`[A-H]`</span><span class="op" id="7026203">}</span><span class="op" id="7026204">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026207">{</span><span class="string" id="7026208">`[W-ZP-XE-R]`</span><span class="op" id="7026221">,</span>&nbsp;<span class="string" id="7026223">`[E-Z]`</span><span class="op" id="7026230">}</span><span class="op" id="7026231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026234">{</span><span class="string" id="7026235">`[a-ee-gg-m]`</span><span class="op" id="7026248">,</span>&nbsp;<span class="string" id="7026250">`[a-m]`</span><span class="op" id="7026257">}</span><span class="op" id="7026258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026261">{</span><span class="string" id="7026262">`[a-ea-ha-m]`</span><span class="op" id="7026275">,</span>&nbsp;<span class="string" id="7026277">`[a-m]`</span><span class="op" id="7026284">}</span><span class="op" id="7026285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026288">{</span><span class="string" id="7026289">`[a-ma-ha-e]`</span><span class="op" id="7026302">,</span>&nbsp;<span class="string" id="7026304">`[a-m]`</span><span class="op" id="7026311">}</span><span class="op" id="7026312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026315">{</span><span class="string" id="7026316">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="7026332">,</span>&nbsp;<span class="string" id="7026334">`[&nbsp;-~]`</span><span class="op" id="7026341">}</span><span class="op" id="7026342">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026346">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026374">{</span><span class="string" id="7026375">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="7026399">,</span>&nbsp;<span class="string" id="7026401">`[^\x00-\x{10FFFF}]`</span><span class="op" id="7026421">}</span><span class="op" id="7026422">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026426">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026453">{</span><span class="string" id="7026454">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="7026477">,</span>&nbsp;<span class="string" id="7026479">`(?s:.)`</span><span class="op" id="7026487">}</span><span class="op" id="7026488">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026492">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026518">{</span><span class="string" id="7026519">`(?i)A`</span><span class="op" id="7026526">,</span>&nbsp;<span class="string" id="7026528">`(?i:A)`</span><span class="op" id="7026536">}</span><span class="op" id="7026537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026540">{</span><span class="string" id="7026541">`(?i)a`</span><span class="op" id="7026548">,</span>&nbsp;<span class="string" id="7026550">`(?i:A)`</span><span class="op" id="7026558">}</span><span class="op" id="7026559">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026562">{</span><span class="string" id="7026563">`(?i)[A]`</span><span class="op" id="7026572">,</span>&nbsp;<span class="string" id="7026574">`(?i:A)`</span><span class="op" id="7026582">}</span><span class="op" id="7026583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026586">{</span><span class="string" id="7026587">`(?i)[a]`</span><span class="op" id="7026596">,</span>&nbsp;<span class="string" id="7026598">`(?i:A)`</span><span class="op" id="7026606">}</span><span class="op" id="7026607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026610">{</span><span class="string" id="7026611">`(?i)K`</span><span class="op" id="7026618">,</span>&nbsp;<span class="string" id="7026620">`(?i:K)`</span><span class="op" id="7026628">}</span><span class="op" id="7026629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026632">{</span><span class="string" id="7026633">`(?i)k`</span><span class="op" id="7026640">,</span>&nbsp;<span class="string" id="7026642">`(?i:K)`</span><span class="op" id="7026650">}</span><span class="op" id="7026651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026654">{</span><span class="string" id="7026655">`(?i)\x{212a}`</span><span class="op" id="7026669">,</span>&nbsp;<span class="string" id="7026671">&#34;(?i:K)&#34;</span><span class="op" id="7026679">}</span><span class="op" id="7026680">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026683">{</span><span class="string" id="7026684">`(?i)[K]`</span><span class="op" id="7026693">,</span>&nbsp;<span class="string" id="7026695">&#34;[Kk\u212A]&#34;</span><span class="op" id="7026707">}</span><span class="op" id="7026708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026711">{</span><span class="string" id="7026712">`(?i)[k]`</span><span class="op" id="7026721">,</span>&nbsp;<span class="string" id="7026723">&#34;[Kk\u212A]&#34;</span><span class="op" id="7026735">}</span><span class="op" id="7026736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026739">{</span><span class="string" id="7026740">`(?i)[\x{212a}]`</span><span class="op" id="7026756">,</span>&nbsp;<span class="string" id="7026758">&#34;[Kk\u212A]&#34;</span><span class="op" id="7026770">}</span><span class="op" id="7026771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026774">{</span><span class="string" id="7026775">`(?i)[a-z]`</span><span class="op" id="7026786">,</span>&nbsp;<span class="string" id="7026788">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="7026810">}</span><span class="op" id="7026811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026814">{</span><span class="string" id="7026815">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="7026836">,</span>&nbsp;<span class="string" id="7026838">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="7026854">}</span><span class="op" id="7026855">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7026858">{</span><span class="string" id="7026859">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="7026882">,</span>&nbsp;<span class="string" id="7026884">`(?s:.)`</span><span class="op" id="7026892">}</span><span class="op" id="7026893">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026897">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7026939">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7027001">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7027060">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7027122">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7027185">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027236">{</span><span class="string" id="7027237">`(a|b|)`</span><span class="op" id="7027245">,</span>&nbsp;<span class="string" id="7027247">`([a-b]|(?:))`</span><span class="op" id="7027261">}</span><span class="op" id="7027262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027265">{</span><span class="string" id="7027266">`(|)`</span><span class="op" id="7027271">,</span>&nbsp;<span class="string" id="7027273">`()`</span><span class="op" id="7027277">}</span><span class="op" id="7027278">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027281">{</span><span class="string" id="7027282">`a()`</span><span class="op" id="7027287">,</span>&nbsp;<span class="string" id="7027289">`a()`</span><span class="op" id="7027294">}</span><span class="op" id="7027295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027298">{</span><span class="string" id="7027299">`(()|())`</span><span class="op" id="7027308">,</span>&nbsp;<span class="string" id="7027310">`(()|())`</span><span class="op" id="7027319">}</span><span class="op" id="7027320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027323">{</span><span class="string" id="7027324">`(a|)`</span><span class="op" id="7027330">,</span>&nbsp;<span class="string" id="7027332">`(a|(?:))`</span><span class="op" id="7027342">}</span><span class="op" id="7027343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027346">{</span><span class="string" id="7027347">`ab()cd()`</span><span class="op" id="7027357">,</span>&nbsp;<span class="string" id="7027359">`ab()cd()`</span><span class="op" id="7027369">}</span><span class="op" id="7027370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027373">{</span><span class="string" id="7027374">`()`</span><span class="op" id="7027378">,</span>&nbsp;<span class="string" id="7027380">`()`</span><span class="op" id="7027384">}</span><span class="op" id="7027385">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027388">{</span><span class="string" id="7027389">`()*`</span><span class="op" id="7027394">,</span>&nbsp;<span class="string" id="7027396">`()*`</span><span class="op" id="7027401">}</span><span class="op" id="7027402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027405">{</span><span class="string" id="7027406">`()+`</span><span class="op" id="7027411">,</span>&nbsp;<span class="string" id="7027413">`()+`</span><span class="op" id="7027418">}</span><span class="op" id="7027419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027422">{</span><span class="string" id="7027423">`()?`</span><span class="op" id="7027428">,</span>&nbsp;<span class="string" id="7027430">`()?`</span><span class="op" id="7027435">}</span><span class="op" id="7027436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027439">{</span><span class="string" id="7027440">`(){0}`</span><span class="op" id="7027447">,</span>&nbsp;<span class="string" id="7027449">`(?:)`</span><span class="op" id="7027455">}</span><span class="op" id="7027456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027459">{</span><span class="string" id="7027460">`(){1}`</span><span class="op" id="7027467">,</span>&nbsp;<span class="string" id="7027469">`()`</span><span class="op" id="7027473">}</span><span class="op" id="7027474">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027477">{</span><span class="string" id="7027478">`(){1,}`</span><span class="op" id="7027486">,</span>&nbsp;<span class="string" id="7027488">`()+`</span><span class="op" id="7027493">}</span><span class="op" id="7027494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027497">{</span><span class="string" id="7027498">`(){0,2}`</span><span class="op" id="7027507">,</span>&nbsp;<span class="string" id="7027509">`(?:()()?)?`</span><span class="op" id="7027521">}</span><span class="op" id="7027522">,</span><br>
<span class="lineno"></span><span class="op" id="7027524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7027527">func</span>&nbsp;<span class="ident" id="7027532">TestSimplify</span><span class="op" id="7027544">(</span><span class="ident" id="7027545">t</span>&nbsp;<span class="op" id="7027547">*</span><span class="ident" id="7027548">testing</span><span class="op" id="7027555">.</span><span class="ident" id="7027556">T</span><span class="op" id="7027557">)</span>&nbsp;<span class="op" id="7027559">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027562">for</span>&nbsp;<span class="ident" id="7027566">_</span><span class="op" id="7027567">,</span>&nbsp;<span class="ident" id="7027569">tt</span>&nbsp;<span class="op" id="7027572">:=</span>&nbsp;<span class="keyword" id="7027575">range</span>&nbsp;<span class="ident" id="7027581">simplifyTests</span>&nbsp;<span class="op" id="7027595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027599">re</span><span class="op" id="7027601">,</span>&nbsp;<span class="ident" id="7027603">err</span>&nbsp;<span class="op" id="7027607">:=</span>&nbsp;<span class="ident" id="7027610">Parse</span><span class="op" id="7027615">(</span><span class="ident" id="7027616">tt</span><span class="op" id="7027618">.</span><span class="ident" id="7027619">Regexp</span><span class="op" id="7027625">,</span>&nbsp;<span class="ident" id="7027627">MatchNL</span><span class="op" id="7027634">|</span><span class="ident" id="7027635">Perl</span><span class="op" id="7027639">&amp;^</span><span class="ident" id="7027641">OneLine</span><span class="op" id="7027648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027652">if</span>&nbsp;<span class="ident" id="7027655">err</span>&nbsp;<span class="op" id="7027659">!=</span>&nbsp;<span class="ident" id="7027662">nil</span>&nbsp;<span class="op" id="7027666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027671">t</span><span class="op" id="7027672">.</span><span class="ident" id="7027673">Errorf</span><span class="op" id="7027679">(</span><span class="string" id="7027680">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="7027703">,</span>&nbsp;<span class="ident" id="7027705">tt</span><span class="op" id="7027707">.</span><span class="ident" id="7027708">Regexp</span><span class="op" id="7027714">,</span>&nbsp;<span class="ident" id="7027716">err</span><span class="op" id="7027719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027724">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027739">s</span>&nbsp;<span class="op" id="7027741">:=</span>&nbsp;<span class="ident" id="7027744">re</span><span class="op" id="7027746">.</span><span class="ident" id="7027747">Simplify</span><span class="op" id="7027755">(</span><span class="op" id="7027756">)</span><span class="op" id="7027757">.</span><span class="ident" id="7027758">String</span><span class="op" id="7027764">(</span><span class="op" id="7027765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7027769">if</span>&nbsp;<span class="ident" id="7027772">s</span>&nbsp;<span class="op" id="7027774">!=</span>&nbsp;<span class="ident" id="7027777">tt</span><span class="op" id="7027779">.</span><span class="ident" id="7027780">Simple</span>&nbsp;<span class="op" id="7027787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7027792">t</span><span class="op" id="7027793">.</span><span class="ident" id="7027794">Errorf</span><span class="op" id="7027800">(</span><span class="string" id="7027801">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7027832">,</span>&nbsp;<span class="ident" id="7027834">tt</span><span class="op" id="7027836">.</span><span class="ident" id="7027837">Regexp</span><span class="op" id="7027843">,</span>&nbsp;<span class="ident" id="7027845">s</span><span class="op" id="7027846">,</span>&nbsp;<span class="ident" id="7027848">tt</span><span class="op" id="7027850">.</span><span class="ident" id="7027851">Simple</span><span class="op" id="7027857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027861">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7027864">}</span><br>
<span class="lineno"></span><span class="op" id="7027866">}</span>
</div>
</body>
</html>
