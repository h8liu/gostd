<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5057911">package</span>&nbsp;<span class="ident" id="5057919">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5057926">//&nbsp;IntBus&nbsp;is&nbsp;an&nbsp;interrupt&nbsp;bus&nbsp;for&nbsp;device</span><br>
<span class="lineno"></span><span class="keyword" id="5057967">type</span>&nbsp;<span class="ident" id="5057972">intBus</span>&nbsp;<span class="keyword" id="5057979">interface</span>&nbsp;<span class="op" id="5057989">{</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5057992">Ncore</span><span class="op" id="5057997">(</span><span class="op" id="5057998">)</span>&nbsp;<span class="builtintype" id="5058000">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058006">Interrupt</span><span class="op" id="5058015">(</span><span class="ident" id="5058016">code</span>&nbsp;<span class="builtintype" id="5058021">byte</span><span class="op" id="5058025">,</span>&nbsp;<span class="ident" id="5058027">core</span>&nbsp;<span class="builtintype" id="5058032">byte</span><span class="op" id="5058036">)</span><br>
<span class="lineno"></span><span class="op" id="5058038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5058041">//&nbsp;IntAllCores&nbsp;generates&nbsp;a&nbsp;interrupt&nbsp;to&nbsp;all&nbsp;cores&nbsp;on&nbsp;the&nbsp;bus.</span><br>
<span class="lineno">10</span><span class="keyword" id="5058103">func</span>&nbsp;<span class="ident" id="5058108">intAllCores</span><span class="op" id="5058119">(</span><span class="ident" id="5058120">bus</span>&nbsp;<span class="ident" id="5058124">intBus</span><span class="op" id="5058130">,</span>&nbsp;<span class="ident" id="5058132">code</span>&nbsp;<span class="builtintype" id="5058137">byte</span><span class="op" id="5058141">)</span>&nbsp;<span class="op" id="5058143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058146">ncore</span>&nbsp;<span class="op" id="5058152">:=</span>&nbsp;<span class="ident" id="5058155">bus</span><span class="op" id="5058158">.</span><span class="ident" id="5058159">Ncore</span><span class="op" id="5058164">(</span><span class="op" id="5058165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5058168">for</span>&nbsp;<span class="ident" id="5058172">i</span>&nbsp;<span class="op" id="5058174">:=</span>&nbsp;<span class="builtintype" id="5058177">byte</span><span class="op" id="5058181">(</span><span class="num" id="5058182">0</span><span class="op" id="5058183">)</span><span class="op" id="5058184">;</span>&nbsp;<span class="ident" id="5058186">i</span>&nbsp;<span class="op" id="5058188">&lt;</span>&nbsp;<span class="ident" id="5058190">ncore</span><span class="op" id="5058195">;</span>&nbsp;<span class="ident" id="5058197">i</span><span class="op" id="5058198">++</span>&nbsp;<span class="op" id="5058201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5058205">bus</span><span class="op" id="5058208">.</span><span class="ident" id="5058209">Interrupt</span><span class="op" id="5058218">(</span><span class="ident" id="5058219">code</span><span class="op" id="5058223">,</span>&nbsp;<span class="ident" id="5058225">i</span><span class="op" id="5058226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5058229">}</span><br>
<span class="lineno">15</span><span class="op" id="5058231">}</span>
</div>
</body>
</html>
