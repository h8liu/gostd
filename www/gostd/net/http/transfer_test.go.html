<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html" class="current">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7906673">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7906728">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7906782">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7906833">package</span>&nbsp;<span class="ident" id="7906841">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7906847">import</span>&nbsp;<span class="op" id="7906854">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7906857">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7906866">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7906872">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7906883">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7906893">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7906896">func</span>&nbsp;<span class="ident" id="7906901">TestBodyReadBadTrailer</span><span class="op" id="7906923">(</span><span class="ident" id="7906924">t</span>&nbsp;<span class="op" id="7906926">*</span><span class="ident" id="7906927">testing</span><span class="op" id="7906934">.</span><span class="ident" id="7906935">T</span><span class="op" id="7906936">)</span>&nbsp;<span class="op" id="7906938">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906941">b</span>&nbsp;<span class="op" id="7906943">:=</span>&nbsp;<span class="op" id="7906946">&amp;</span><span class="ident" id="7906947">body</span><span class="op" id="7906951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906955">src</span><span class="op" id="7906958">:</span>&nbsp;<span class="ident" id="7906960">strings</span><span class="op" id="7906967">.</span><span class="ident" id="7906968">NewReader</span><span class="op" id="7906977">(</span><span class="string" id="7906978">&#34;foobar&#34;</span><span class="op" id="7906986">)</span><span class="op" id="7906987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906991">hdr</span><span class="op" id="7906994">:</span>&nbsp;<span class="builtintype" id="7906996">true</span><span class="op" id="7907000">,</span>&nbsp;<span class="comment" id="7907002">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907033">r</span><span class="op" id="7907034">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7907038">bufio</span><span class="op" id="7907043">.</span><span class="ident" id="7907044">NewReader</span><span class="op" id="7907053">(</span><span class="ident" id="7907054">strings</span><span class="op" id="7907061">.</span><span class="ident" id="7907062">NewReader</span><span class="op" id="7907071">(</span><span class="string" id="7907072">&#34;&#34;</span><span class="op" id="7907074">)</span><span class="op" id="7907075">)</span><span class="op" id="7907076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7907079">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907082">buf</span>&nbsp;<span class="op" id="7907086">:=</span>&nbsp;<span class="builtinfunc" id="7907089">make</span><span class="op" id="7907093">(</span><span class="op" id="7907094">[</span><span class="op" id="7907095">]</span><span class="builtintype" id="7907096">byte</span><span class="op" id="7907100">,</span>&nbsp;<span class="num" id="7907102">7</span><span class="op" id="7907103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907106">n</span><span class="op" id="7907107">,</span>&nbsp;<span class="ident" id="7907109">err</span>&nbsp;<span class="op" id="7907113">:=</span>&nbsp;<span class="ident" id="7907116">b</span><span class="op" id="7907117">.</span><span class="ident" id="7907118">Read</span><span class="op" id="7907122">(</span><span class="ident" id="7907123">buf</span><span class="op" id="7907126">[</span><span class="op" id="7907127">:</span><span class="num" id="7907128">3</span><span class="op" id="7907129">]</span><span class="op" id="7907130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907133">got</span>&nbsp;<span class="op" id="7907137">:=</span>&nbsp;<span class="builtintype" id="7907140">string</span><span class="op" id="7907146">(</span><span class="ident" id="7907147">buf</span><span class="op" id="7907150">[</span><span class="op" id="7907151">:</span><span class="ident" id="7907152">n</span><span class="op" id="7907153">]</span><span class="op" id="7907154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7907157">if</span>&nbsp;<span class="ident" id="7907160">got</span>&nbsp;<span class="op" id="7907164">!=</span>&nbsp;<span class="string" id="7907167">&#34;foo&#34;</span>&nbsp;<span class="op" id="7907173">||</span>&nbsp;<span class="ident" id="7907176">err</span>&nbsp;<span class="op" id="7907180">!=</span>&nbsp;<span class="builtintype" id="7907183">nil</span>&nbsp;<span class="op" id="7907187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907191">t</span><span class="op" id="7907192">.</span><span class="ident" id="7907193">Fatalf</span><span class="op" id="7907199">(</span><span class="string" id="7907200">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="7907242">,</span>&nbsp;<span class="ident" id="7907244">n</span><span class="op" id="7907245">,</span>&nbsp;<span class="ident" id="7907247">got</span><span class="op" id="7907250">,</span>&nbsp;<span class="ident" id="7907252">err</span><span class="op" id="7907255">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7907258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907262">n</span><span class="op" id="7907263">,</span>&nbsp;<span class="ident" id="7907265">err</span>&nbsp;<span class="op" id="7907269">=</span>&nbsp;<span class="ident" id="7907271">b</span><span class="op" id="7907272">.</span><span class="ident" id="7907273">Read</span><span class="op" id="7907277">(</span><span class="ident" id="7907278">buf</span><span class="op" id="7907281">[</span><span class="op" id="7907282">:</span><span class="op" id="7907283">]</span><span class="op" id="7907284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907287">got</span>&nbsp;<span class="op" id="7907291">=</span>&nbsp;<span class="builtintype" id="7907293">string</span><span class="op" id="7907299">(</span><span class="ident" id="7907300">buf</span><span class="op" id="7907303">[</span><span class="op" id="7907304">:</span><span class="ident" id="7907305">n</span><span class="op" id="7907306">]</span><span class="op" id="7907307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7907310">if</span>&nbsp;<span class="ident" id="7907313">got</span>&nbsp;<span class="op" id="7907317">!=</span>&nbsp;<span class="string" id="7907320">&#34;bar&#34;</span>&nbsp;<span class="op" id="7907326">||</span>&nbsp;<span class="ident" id="7907329">err</span>&nbsp;<span class="op" id="7907333">!=</span>&nbsp;<span class="builtintype" id="7907336">nil</span>&nbsp;<span class="op" id="7907340">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907344">t</span><span class="op" id="7907345">.</span><span class="ident" id="7907346">Fatalf</span><span class="op" id="7907352">(</span><span class="string" id="7907353">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="7907396">,</span>&nbsp;<span class="ident" id="7907398">n</span><span class="op" id="7907399">,</span>&nbsp;<span class="ident" id="7907401">got</span><span class="op" id="7907404">,</span>&nbsp;<span class="ident" id="7907406">err</span><span class="op" id="7907409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7907412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907416">n</span><span class="op" id="7907417">,</span>&nbsp;<span class="ident" id="7907419">err</span>&nbsp;<span class="op" id="7907423">=</span>&nbsp;<span class="ident" id="7907425">b</span><span class="op" id="7907426">.</span><span class="ident" id="7907427">Read</span><span class="op" id="7907431">(</span><span class="ident" id="7907432">buf</span><span class="op" id="7907435">[</span><span class="op" id="7907436">:</span><span class="op" id="7907437">]</span><span class="op" id="7907438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907441">got</span>&nbsp;<span class="op" id="7907445">=</span>&nbsp;<span class="builtintype" id="7907447">string</span><span class="op" id="7907453">(</span><span class="ident" id="7907454">buf</span><span class="op" id="7907457">[</span><span class="op" id="7907458">:</span><span class="ident" id="7907459">n</span><span class="op" id="7907460">]</span><span class="op" id="7907461">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7907464">if</span>&nbsp;<span class="ident" id="7907467">err</span>&nbsp;<span class="op" id="7907471">==</span>&nbsp;<span class="builtintype" id="7907474">nil</span>&nbsp;<span class="op" id="7907478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907482">t</span><span class="op" id="7907483">.</span><span class="ident" id="7907484">Errorf</span><span class="op" id="7907490">(</span><span class="string" id="7907491">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="7907557">,</span>&nbsp;<span class="ident" id="7907559">got</span><span class="op" id="7907562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7907565">}</span><br>
<span class="lineno"></span><span class="op" id="7907567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7907570">func</span>&nbsp;<span class="ident" id="7907575">TestFinalChunkedBodyReadEOF</span><span class="op" id="7907602">(</span><span class="ident" id="7907603">t</span>&nbsp;<span class="op" id="7907605">*</span><span class="ident" id="7907606">testing</span><span class="op" id="7907613">.</span><span class="ident" id="7907614">T</span><span class="op" id="7907615">)</span>&nbsp;<span class="op" id="7907617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907620">res</span><span class="op" id="7907623">,</span>&nbsp;<span class="ident" id="7907625">err</span>&nbsp;<span class="op" id="7907629">:=</span>&nbsp;<span class="ident" id="7907632">ReadResponse</span><span class="op" id="7907644">(</span><span class="ident" id="7907645">bufio</span><span class="op" id="7907650">.</span><span class="ident" id="7907651">NewReader</span><span class="op" id="7907660">(</span><span class="ident" id="7907661">strings</span><span class="op" id="7907668">.</span><span class="ident" id="7907669">NewReader</span><span class="op" id="7907678">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7907682">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="7907703">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7907708">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="7907740">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7907745">&#34;\r\n&#34;</span><span class="op" id="7907751">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7907756">&#34;0a\r\n&#34;</span><span class="op" id="7907764">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7907769">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="7907786">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7907791">&#34;09\r\n&#34;</span><span class="op" id="7907799">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7907804">&#34;continued\r\n&#34;</span><span class="op" id="7907819">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7907824">&#34;0\r\n&#34;</span><span class="op" id="7907831">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7907836">&#34;\r\n&#34;</span><span class="op" id="7907842">)</span><span class="op" id="7907843">)</span><span class="op" id="7907844">,</span>&nbsp;<span class="builtintype" id="7907846">nil</span><span class="op" id="7907849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7907852">if</span>&nbsp;<span class="ident" id="7907855">err</span>&nbsp;<span class="op" id="7907859">!=</span>&nbsp;<span class="builtintype" id="7907862">nil</span>&nbsp;<span class="op" id="7907866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907870">t</span><span class="op" id="7907871">.</span><span class="ident" id="7907872">Fatal</span><span class="op" id="7907877">(</span><span class="ident" id="7907878">err</span><span class="op" id="7907881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7907884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907887">want</span>&nbsp;<span class="op" id="7907892">:=</span>&nbsp;<span class="string" id="7907895">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907919">buf</span>&nbsp;<span class="op" id="7907923">:=</span>&nbsp;<span class="builtinfunc" id="7907926">make</span><span class="op" id="7907930">(</span><span class="op" id="7907931">[</span><span class="op" id="7907932">]</span><span class="builtintype" id="7907933">byte</span><span class="op" id="7907937">,</span>&nbsp;<span class="builtinfunc" id="7907939">len</span><span class="op" id="7907942">(</span><span class="ident" id="7907943">want</span><span class="op" id="7907947">)</span><span class="op" id="7907948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7907951">n</span><span class="op" id="7907952">,</span>&nbsp;<span class="ident" id="7907954">err</span>&nbsp;<span class="op" id="7907958">:=</span>&nbsp;<span class="ident" id="7907961">res</span><span class="op" id="7907964">.</span><span class="ident" id="7907965">Body</span><span class="op" id="7907969">.</span><span class="ident" id="7907970">Read</span><span class="op" id="7907974">(</span><span class="ident" id="7907975">buf</span><span class="op" id="7907978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7907981">if</span>&nbsp;<span class="ident" id="7907984">n</span>&nbsp;<span class="op" id="7907986">!=</span>&nbsp;<span class="builtinfunc" id="7907989">len</span><span class="op" id="7907992">(</span><span class="ident" id="7907993">want</span><span class="op" id="7907997">)</span>&nbsp;<span class="op" id="7907999">||</span>&nbsp;<span class="ident" id="7908002">err</span>&nbsp;<span class="op" id="7908006">!=</span>&nbsp;<span class="ident" id="7908009">io</span><span class="op" id="7908011">.</span><span class="ident" id="7908012">EOF</span>&nbsp;<span class="op" id="7908016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7908020">t</span><span class="op" id="7908021">.</span><span class="ident" id="7908022">Logf</span><span class="op" id="7908026">(</span><span class="string" id="7908027">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="7908039">,</span>&nbsp;<span class="ident" id="7908041">res</span><span class="op" id="7908044">.</span><span class="ident" id="7908045">Body</span><span class="op" id="7908049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7908053">t</span><span class="op" id="7908054">.</span><span class="ident" id="7908055">Errorf</span><span class="op" id="7908061">(</span><span class="string" id="7908062">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="7908091">,</span>&nbsp;<span class="ident" id="7908093">n</span><span class="op" id="7908094">,</span>&nbsp;<span class="ident" id="7908096">err</span><span class="op" id="7908099">,</span>&nbsp;<span class="builtinfunc" id="7908101">len</span><span class="op" id="7908104">(</span><span class="ident" id="7908105">want</span><span class="op" id="7908109">)</span><span class="op" id="7908110">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7908113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7908116">if</span>&nbsp;<span class="builtintype" id="7908119">string</span><span class="op" id="7908125">(</span><span class="ident" id="7908126">buf</span><span class="op" id="7908129">)</span>&nbsp;<span class="op" id="7908131">!=</span>&nbsp;<span class="ident" id="7908134">want</span>&nbsp;<span class="op" id="7908139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7908143">t</span><span class="op" id="7908144">.</span><span class="ident" id="7908145">Errorf</span><span class="op" id="7908151">(</span><span class="string" id="7908152">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7908171">,</span>&nbsp;<span class="ident" id="7908173">buf</span><span class="op" id="7908176">,</span>&nbsp;<span class="ident" id="7908178">want</span><span class="op" id="7908182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7908185">}</span><br>
<span class="lineno"></span><span class="op" id="7908187">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
