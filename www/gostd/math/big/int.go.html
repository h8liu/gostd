<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html" class="current">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2969326">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2969381">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2969435">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2969486">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2969544">package</span>&nbsp;<span class="ident" id="2969552">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2969557">import</span>&nbsp;<span class="op" id="2969564">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2969567">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2969577">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2969584">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2969590">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2969603">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="2969613">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2969616">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="2969671">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="2969724">type</span>&nbsp;<span class="ident" id="2969729">Int</span>&nbsp;<span class="keyword" id="2969733">struct</span>&nbsp;<span class="op" id="2969740">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969743">neg</span>&nbsp;<span class="builtintype" id="2969747">bool</span>&nbsp;<span class="comment" id="2969752">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969761">abs</span>&nbsp;<span class="ident" id="2969765">nat</span>&nbsp;&nbsp;<span class="comment" id="2969770">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="2969803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2969806">var</span>&nbsp;<span class="ident" id="2969810">intOne</span>&nbsp;<span class="op" id="2969817">=</span>&nbsp;<span class="op" id="2969819">&amp;</span><span class="ident" id="2969820">Int</span><span class="op" id="2969823">{</span><span class="builtintype" id="2969824">false</span><span class="op" id="2969829">,</span>&nbsp;<span class="ident" id="2969831">natOne</span><span class="op" id="2969837">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="2969840">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="2969857">//</span><br>
<span class="lineno"></span><span class="comment" id="2969860">//&nbsp;&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="2969876">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="2969892">//&nbsp;&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="2969908">//</span><br>
<span class="lineno"></span><span class="keyword" id="2969911">func</span>&nbsp;<span class="op" id="2969916">(</span><span class="ident" id="2969917">x</span>&nbsp;<span class="op" id="2969919">*</span><span class="ident" id="2969920">Int</span><span class="op" id="2969923">)</span>&nbsp;<span class="ident" id="2969925">Sign</span><span class="op" id="2969929">(</span><span class="op" id="2969930">)</span>&nbsp;<span class="builtintype" id="2969932">int</span>&nbsp;<span class="op" id="2969936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969939">if</span>&nbsp;<span class="builtinfunc" id="2969942">len</span><span class="op" id="2969945">(</span><span class="ident" id="2969946">x</span><span class="op" id="2969947">.</span><span class="ident" id="2969948">abs</span><span class="op" id="2969951">)</span>&nbsp;<span class="op" id="2969953">==</span>&nbsp;<span class="num" id="2969956">0</span>&nbsp;<span class="op" id="2969958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969962">return</span>&nbsp;<span class="num" id="2969969">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969975">if</span>&nbsp;<span class="ident" id="2969978">x</span><span class="op" id="2969979">.</span><span class="ident" id="2969980">neg</span>&nbsp;<span class="op" id="2969984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969988">return</span>&nbsp;<span class="op" id="2969995">-</span><span class="num" id="2969996">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970002">return</span>&nbsp;<span class="num" id="2970009">1</span><br>
<span class="lineno">40</span><span class="op" id="2970011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2970014">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2970053">func</span>&nbsp;<span class="op" id="2970058">(</span><span class="ident" id="2970059">z</span>&nbsp;<span class="op" id="2970061">*</span><span class="ident" id="2970062">Int</span><span class="op" id="2970065">)</span>&nbsp;<span class="ident" id="2970067">SetInt64</span><span class="op" id="2970075">(</span><span class="ident" id="2970076">x</span>&nbsp;<span class="ident" id="2970078">int64</span><span class="op" id="2970083">)</span>&nbsp;<span class="op" id="2970085">*</span><span class="ident" id="2970086">Int</span>&nbsp;<span class="op" id="2970090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970093">neg</span>&nbsp;<span class="op" id="2970097">:=</span>&nbsp;<span class="builtintype" id="2970100">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970107">if</span>&nbsp;<span class="ident" id="2970110">x</span>&nbsp;<span class="op" id="2970112">&lt;</span>&nbsp;<span class="num" id="2970114">0</span>&nbsp;<span class="op" id="2970116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970120">neg</span>&nbsp;<span class="op" id="2970124">=</span>&nbsp;<span class="builtintype" id="2970126">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970133">x</span>&nbsp;<span class="op" id="2970135">=</span>&nbsp;<span class="op" id="2970137">-</span><span class="ident" id="2970138">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970144">z</span><span class="op" id="2970145">.</span><span class="ident" id="2970146">abs</span>&nbsp;<span class="op" id="2970150">=</span>&nbsp;<span class="ident" id="2970152">z</span><span class="op" id="2970153">.</span><span class="ident" id="2970154">abs</span><span class="op" id="2970157">.</span><span class="ident" id="2970158">setUint64</span><span class="op" id="2970167">(</span><span class="ident" id="2970168">uint64</span><span class="op" id="2970174">(</span><span class="ident" id="2970175">x</span><span class="op" id="2970176">)</span><span class="op" id="2970177">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970180">z</span><span class="op" id="2970181">.</span><span class="ident" id="2970182">neg</span>&nbsp;<span class="op" id="2970186">=</span>&nbsp;<span class="ident" id="2970188">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970193">return</span>&nbsp;<span class="ident" id="2970200">z</span><br>
<span class="lineno"></span><span class="op" id="2970202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2970205">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="2970245">func</span>&nbsp;<span class="op" id="2970250">(</span><span class="ident" id="2970251">z</span>&nbsp;<span class="op" id="2970253">*</span><span class="ident" id="2970254">Int</span><span class="op" id="2970257">)</span>&nbsp;<span class="ident" id="2970259">SetUint64</span><span class="op" id="2970268">(</span><span class="ident" id="2970269">x</span>&nbsp;<span class="ident" id="2970271">uint64</span><span class="op" id="2970277">)</span>&nbsp;<span class="op" id="2970279">*</span><span class="ident" id="2970280">Int</span>&nbsp;<span class="op" id="2970284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970287">z</span><span class="op" id="2970288">.</span><span class="ident" id="2970289">abs</span>&nbsp;<span class="op" id="2970293">=</span>&nbsp;<span class="ident" id="2970295">z</span><span class="op" id="2970296">.</span><span class="ident" id="2970297">abs</span><span class="op" id="2970300">.</span><span class="ident" id="2970301">setUint64</span><span class="op" id="2970310">(</span><span class="ident" id="2970311">x</span><span class="op" id="2970312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970315">z</span><span class="op" id="2970316">.</span><span class="ident" id="2970317">neg</span>&nbsp;<span class="op" id="2970321">=</span>&nbsp;<span class="builtintype" id="2970323">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970330">return</span>&nbsp;<span class="ident" id="2970337">z</span><br>
<span class="lineno"></span><span class="op" id="2970339">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="2970342">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="2970394">func</span>&nbsp;<span class="ident" id="2970399">NewInt</span><span class="op" id="2970405">(</span><span class="ident" id="2970406">x</span>&nbsp;<span class="ident" id="2970408">int64</span><span class="op" id="2970413">)</span>&nbsp;<span class="op" id="2970415">*</span><span class="ident" id="2970416">Int</span>&nbsp;<span class="op" id="2970420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970423">return</span>&nbsp;<span class="builtinfunc" id="2970430">new</span><span class="op" id="2970433">(</span><span class="ident" id="2970434">Int</span><span class="op" id="2970437">)</span><span class="op" id="2970438">.</span><span class="ident" id="2970439">SetInt64</span><span class="op" id="2970447">(</span><span class="ident" id="2970448">x</span><span class="op" id="2970449">)</span><br>
<span class="lineno"></span><span class="op" id="2970451">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="2970454">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2970488">func</span>&nbsp;<span class="op" id="2970493">(</span><span class="ident" id="2970494">z</span>&nbsp;<span class="op" id="2970496">*</span><span class="ident" id="2970497">Int</span><span class="op" id="2970500">)</span>&nbsp;<span class="ident" id="2970502">Set</span><span class="op" id="2970505">(</span><span class="ident" id="2970506">x</span>&nbsp;<span class="op" id="2970508">*</span><span class="ident" id="2970509">Int</span><span class="op" id="2970512">)</span>&nbsp;<span class="op" id="2970514">*</span><span class="ident" id="2970515">Int</span>&nbsp;<span class="op" id="2970519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970522">if</span>&nbsp;<span class="ident" id="2970525">z</span>&nbsp;<span class="op" id="2970527">!=</span>&nbsp;<span class="ident" id="2970530">x</span>&nbsp;<span class="op" id="2970532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970536">z</span><span class="op" id="2970537">.</span><span class="ident" id="2970538">abs</span>&nbsp;<span class="op" id="2970542">=</span>&nbsp;<span class="ident" id="2970544">z</span><span class="op" id="2970545">.</span><span class="ident" id="2970546">abs</span><span class="op" id="2970549">.</span><span class="ident" id="2970550">set</span><span class="op" id="2970553">(</span><span class="ident" id="2970554">x</span><span class="op" id="2970555">.</span><span class="ident" id="2970556">abs</span><span class="op" id="2970559">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970563">z</span><span class="op" id="2970564">.</span><span class="ident" id="2970565">neg</span>&nbsp;<span class="op" id="2970569">=</span>&nbsp;<span class="ident" id="2970571">x</span><span class="op" id="2970572">.</span><span class="ident" id="2970573">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970581">return</span>&nbsp;<span class="ident" id="2970588">z</span><br>
<span class="lineno"></span><span class="op" id="2970590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2970593">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="2970664">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="2970736">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="2970766">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="2970837">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="2970908">func</span>&nbsp;<span class="op" id="2970913">(</span><span class="ident" id="2970914">x</span>&nbsp;<span class="op" id="2970916">*</span><span class="ident" id="2970917">Int</span><span class="op" id="2970920">)</span>&nbsp;<span class="ident" id="2970922">Bits</span><span class="op" id="2970926">(</span><span class="op" id="2970927">)</span>&nbsp;<span class="op" id="2970929">[</span><span class="op" id="2970930">]</span><span class="ident" id="2970931">Word</span>&nbsp;<span class="op" id="2970936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970939">return</span>&nbsp;<span class="ident" id="2970946">x</span><span class="op" id="2970947">.</span><span class="ident" id="2970948">abs</span><br>
<span class="lineno"></span><span class="op" id="2970952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2970955">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="2971027">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="2971101">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="2971159">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="2971233">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="2971304">func</span>&nbsp;<span class="op" id="2971309">(</span><span class="ident" id="2971310">z</span>&nbsp;<span class="op" id="2971312">*</span><span class="ident" id="2971313">Int</span><span class="op" id="2971316">)</span>&nbsp;<span class="ident" id="2971318">SetBits</span><span class="op" id="2971325">(</span><span class="ident" id="2971326">abs</span>&nbsp;<span class="op" id="2971330">[</span><span class="op" id="2971331">]</span><span class="ident" id="2971332">Word</span><span class="op" id="2971336">)</span>&nbsp;<span class="op" id="2971338">*</span><span class="ident" id="2971339">Int</span>&nbsp;<span class="op" id="2971343">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971346">z</span><span class="op" id="2971347">.</span><span class="ident" id="2971348">abs</span>&nbsp;<span class="op" id="2971352">=</span>&nbsp;<span class="ident" id="2971354">nat</span><span class="op" id="2971357">(</span><span class="ident" id="2971358">abs</span><span class="op" id="2971361">)</span><span class="op" id="2971362">.</span><span class="ident" id="2971363">norm</span><span class="op" id="2971367">(</span><span class="op" id="2971368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971371">z</span><span class="op" id="2971372">.</span><span class="ident" id="2971373">neg</span>&nbsp;<span class="op" id="2971377">=</span>&nbsp;<span class="builtintype" id="2971379">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971386">return</span>&nbsp;<span class="ident" id="2971393">z</span><br>
<span class="lineno"></span><span class="op" id="2971395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="2971398">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2971460">func</span>&nbsp;<span class="op" id="2971465">(</span><span class="ident" id="2971466">z</span>&nbsp;<span class="op" id="2971468">*</span><span class="ident" id="2971469">Int</span><span class="op" id="2971472">)</span>&nbsp;<span class="ident" id="2971474">Abs</span><span class="op" id="2971477">(</span><span class="ident" id="2971478">x</span>&nbsp;<span class="op" id="2971480">*</span><span class="ident" id="2971481">Int</span><span class="op" id="2971484">)</span>&nbsp;<span class="op" id="2971486">*</span><span class="ident" id="2971487">Int</span>&nbsp;<span class="op" id="2971491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971494">z</span><span class="op" id="2971495">.</span><span class="ident" id="2971496">Set</span><span class="op" id="2971499">(</span><span class="ident" id="2971500">x</span><span class="op" id="2971501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971504">z</span><span class="op" id="2971505">.</span><span class="ident" id="2971506">neg</span>&nbsp;<span class="op" id="2971510">=</span>&nbsp;<span class="builtintype" id="2971512">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971519">return</span>&nbsp;<span class="ident" id="2971526">z</span><br>
<span class="lineno">100</span><span class="op" id="2971528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2971531">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2971566">func</span>&nbsp;<span class="op" id="2971571">(</span><span class="ident" id="2971572">z</span>&nbsp;<span class="op" id="2971574">*</span><span class="ident" id="2971575">Int</span><span class="op" id="2971578">)</span>&nbsp;<span class="ident" id="2971580">Neg</span><span class="op" id="2971583">(</span><span class="ident" id="2971584">x</span>&nbsp;<span class="op" id="2971586">*</span><span class="ident" id="2971587">Int</span><span class="op" id="2971590">)</span>&nbsp;<span class="op" id="2971592">*</span><span class="ident" id="2971593">Int</span>&nbsp;<span class="op" id="2971597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971600">z</span><span class="op" id="2971601">.</span><span class="ident" id="2971602">Set</span><span class="op" id="2971605">(</span><span class="ident" id="2971606">x</span><span class="op" id="2971607">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971610">z</span><span class="op" id="2971611">.</span><span class="ident" id="2971612">neg</span>&nbsp;<span class="op" id="2971616">=</span>&nbsp;<span class="builtinfunc" id="2971618">len</span><span class="op" id="2971621">(</span><span class="ident" id="2971622">z</span><span class="op" id="2971623">.</span><span class="ident" id="2971624">abs</span><span class="op" id="2971627">)</span>&nbsp;<span class="op" id="2971629">&gt;</span>&nbsp;<span class="num" id="2971631">0</span>&nbsp;<span class="op" id="2971633">&amp;&amp;</span>&nbsp;<span class="op" id="2971636">!</span><span class="ident" id="2971637">z</span><span class="op" id="2971638">.</span><span class="ident" id="2971639">neg</span>&nbsp;<span class="comment" id="2971643">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971661">return</span>&nbsp;<span class="ident" id="2971668">z</span><br>
<span class="lineno"></span><span class="op" id="2971670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2971673">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="2971717">func</span>&nbsp;<span class="op" id="2971722">(</span><span class="ident" id="2971723">z</span>&nbsp;<span class="op" id="2971725">*</span><span class="ident" id="2971726">Int</span><span class="op" id="2971729">)</span>&nbsp;<span class="ident" id="2971731">Add</span><span class="op" id="2971734">(</span><span class="ident" id="2971735">x</span><span class="op" id="2971736">,</span>&nbsp;<span class="ident" id="2971738">y</span>&nbsp;<span class="op" id="2971740">*</span><span class="ident" id="2971741">Int</span><span class="op" id="2971744">)</span>&nbsp;<span class="op" id="2971746">*</span><span class="ident" id="2971747">Int</span>&nbsp;<span class="op" id="2971751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971754">neg</span>&nbsp;<span class="op" id="2971758">:=</span>&nbsp;<span class="ident" id="2971761">x</span><span class="op" id="2971762">.</span><span class="ident" id="2971763">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971768">if</span>&nbsp;<span class="ident" id="2971771">x</span><span class="op" id="2971772">.</span><span class="ident" id="2971773">neg</span>&nbsp;<span class="op" id="2971777">==</span>&nbsp;<span class="ident" id="2971780">y</span><span class="op" id="2971781">.</span><span class="ident" id="2971782">neg</span>&nbsp;<span class="op" id="2971786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2971790">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2971810">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971839">z</span><span class="op" id="2971840">.</span><span class="ident" id="2971841">abs</span>&nbsp;<span class="op" id="2971845">=</span>&nbsp;<span class="ident" id="2971847">z</span><span class="op" id="2971848">.</span><span class="ident" id="2971849">abs</span><span class="op" id="2971852">.</span><span class="ident" id="2971853">add</span><span class="op" id="2971856">(</span><span class="ident" id="2971857">x</span><span class="op" id="2971858">.</span><span class="ident" id="2971859">abs</span><span class="op" id="2971862">,</span>&nbsp;<span class="ident" id="2971864">y</span><span class="op" id="2971865">.</span><span class="ident" id="2971866">abs</span><span class="op" id="2971869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971872">}</span>&nbsp;<span class="keyword" id="2971874">else</span>&nbsp;<span class="op" id="2971879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2971883">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2971918">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971953">if</span>&nbsp;<span class="ident" id="2971956">x</span><span class="op" id="2971957">.</span><span class="ident" id="2971958">abs</span><span class="op" id="2971961">.</span><span class="ident" id="2971962">cmp</span><span class="op" id="2971965">(</span><span class="ident" id="2971966">y</span><span class="op" id="2971967">.</span><span class="ident" id="2971968">abs</span><span class="op" id="2971971">)</span>&nbsp;<span class="op" id="2971973">&gt;=</span>&nbsp;<span class="num" id="2971976">0</span>&nbsp;<span class="op" id="2971978">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971983">z</span><span class="op" id="2971984">.</span><span class="ident" id="2971985">abs</span>&nbsp;<span class="op" id="2971989">=</span>&nbsp;<span class="ident" id="2971991">z</span><span class="op" id="2971992">.</span><span class="ident" id="2971993">abs</span><span class="op" id="2971996">.</span><span class="ident" id="2971997">sub</span><span class="op" id="2972000">(</span><span class="ident" id="2972001">x</span><span class="op" id="2972002">.</span><span class="ident" id="2972003">abs</span><span class="op" id="2972006">,</span>&nbsp;<span class="ident" id="2972008">y</span><span class="op" id="2972009">.</span><span class="ident" id="2972010">abs</span><span class="op" id="2972013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2972017">}</span>&nbsp;<span class="keyword" id="2972019">else</span>&nbsp;<span class="op" id="2972024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972029">neg</span>&nbsp;<span class="op" id="2972033">=</span>&nbsp;<span class="op" id="2972035">!</span><span class="ident" id="2972036">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972043">z</span><span class="op" id="2972044">.</span><span class="ident" id="2972045">abs</span>&nbsp;<span class="op" id="2972049">=</span>&nbsp;<span class="ident" id="2972051">z</span><span class="op" id="2972052">.</span><span class="ident" id="2972053">abs</span><span class="op" id="2972056">.</span><span class="ident" id="2972057">sub</span><span class="op" id="2972060">(</span><span class="ident" id="2972061">y</span><span class="op" id="2972062">.</span><span class="ident" id="2972063">abs</span><span class="op" id="2972066">,</span>&nbsp;<span class="ident" id="2972068">x</span><span class="op" id="2972069">.</span><span class="ident" id="2972070">abs</span><span class="op" id="2972073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2972077">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2972080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972083">z</span><span class="op" id="2972084">.</span><span class="ident" id="2972085">neg</span>&nbsp;<span class="op" id="2972089">=</span>&nbsp;<span class="builtinfunc" id="2972091">len</span><span class="op" id="2972094">(</span><span class="ident" id="2972095">z</span><span class="op" id="2972096">.</span><span class="ident" id="2972097">abs</span><span class="op" id="2972100">)</span>&nbsp;<span class="op" id="2972102">&gt;</span>&nbsp;<span class="num" id="2972104">0</span>&nbsp;<span class="op" id="2972106">&amp;&amp;</span>&nbsp;<span class="ident" id="2972109">neg</span>&nbsp;<span class="comment" id="2972113">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2972131">return</span>&nbsp;<span class="ident" id="2972138">z</span><br>
<span class="lineno"></span><span class="op" id="2972140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="2972143">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2972194">func</span>&nbsp;<span class="op" id="2972199">(</span><span class="ident" id="2972200">z</span>&nbsp;<span class="op" id="2972202">*</span><span class="ident" id="2972203">Int</span><span class="op" id="2972206">)</span>&nbsp;<span class="ident" id="2972208">Sub</span><span class="op" id="2972211">(</span><span class="ident" id="2972212">x</span><span class="op" id="2972213">,</span>&nbsp;<span class="ident" id="2972215">y</span>&nbsp;<span class="op" id="2972217">*</span><span class="ident" id="2972218">Int</span><span class="op" id="2972221">)</span>&nbsp;<span class="op" id="2972223">*</span><span class="ident" id="2972224">Int</span>&nbsp;<span class="op" id="2972228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972231">neg</span>&nbsp;<span class="op" id="2972235">:=</span>&nbsp;<span class="ident" id="2972238">x</span><span class="op" id="2972239">.</span><span class="ident" id="2972240">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2972245">if</span>&nbsp;<span class="ident" id="2972248">x</span><span class="op" id="2972249">.</span><span class="ident" id="2972250">neg</span>&nbsp;<span class="op" id="2972254">!=</span>&nbsp;<span class="ident" id="2972257">y</span><span class="op" id="2972258">.</span><span class="ident" id="2972259">neg</span>&nbsp;<span class="op" id="2972263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2972267">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2972290">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972316">z</span><span class="op" id="2972317">.</span><span class="ident" id="2972318">abs</span>&nbsp;<span class="op" id="2972322">=</span>&nbsp;<span class="ident" id="2972324">z</span><span class="op" id="2972325">.</span><span class="ident" id="2972326">abs</span><span class="op" id="2972329">.</span><span class="ident" id="2972330">add</span><span class="op" id="2972333">(</span><span class="ident" id="2972334">x</span><span class="op" id="2972335">.</span><span class="ident" id="2972336">abs</span><span class="op" id="2972339">,</span>&nbsp;<span class="ident" id="2972341">y</span><span class="op" id="2972342">.</span><span class="ident" id="2972343">abs</span><span class="op" id="2972346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2972349">}</span>&nbsp;<span class="keyword" id="2972351">else</span>&nbsp;<span class="op" id="2972356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2972360">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2972392">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2972430">if</span>&nbsp;<span class="ident" id="2972433">x</span><span class="op" id="2972434">.</span><span class="ident" id="2972435">abs</span><span class="op" id="2972438">.</span><span class="ident" id="2972439">cmp</span><span class="op" id="2972442">(</span><span class="ident" id="2972443">y</span><span class="op" id="2972444">.</span><span class="ident" id="2972445">abs</span><span class="op" id="2972448">)</span>&nbsp;<span class="op" id="2972450">&gt;=</span>&nbsp;<span class="num" id="2972453">0</span>&nbsp;<span class="op" id="2972455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972460">z</span><span class="op" id="2972461">.</span><span class="ident" id="2972462">abs</span>&nbsp;<span class="op" id="2972466">=</span>&nbsp;<span class="ident" id="2972468">z</span><span class="op" id="2972469">.</span><span class="ident" id="2972470">abs</span><span class="op" id="2972473">.</span><span class="ident" id="2972474">sub</span><span class="op" id="2972477">(</span><span class="ident" id="2972478">x</span><span class="op" id="2972479">.</span><span class="ident" id="2972480">abs</span><span class="op" id="2972483">,</span>&nbsp;<span class="ident" id="2972485">y</span><span class="op" id="2972486">.</span><span class="ident" id="2972487">abs</span><span class="op" id="2972490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2972494">}</span>&nbsp;<span class="keyword" id="2972496">else</span>&nbsp;<span class="op" id="2972501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972506">neg</span>&nbsp;<span class="op" id="2972510">=</span>&nbsp;<span class="op" id="2972512">!</span><span class="ident" id="2972513">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972520">z</span><span class="op" id="2972521">.</span><span class="ident" id="2972522">abs</span>&nbsp;<span class="op" id="2972526">=</span>&nbsp;<span class="ident" id="2972528">z</span><span class="op" id="2972529">.</span><span class="ident" id="2972530">abs</span><span class="op" id="2972533">.</span><span class="ident" id="2972534">sub</span><span class="op" id="2972537">(</span><span class="ident" id="2972538">y</span><span class="op" id="2972539">.</span><span class="ident" id="2972540">abs</span><span class="op" id="2972543">,</span>&nbsp;<span class="ident" id="2972545">x</span><span class="op" id="2972546">.</span><span class="ident" id="2972547">abs</span><span class="op" id="2972550">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2972554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2972557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972560">z</span><span class="op" id="2972561">.</span><span class="ident" id="2972562">neg</span>&nbsp;<span class="op" id="2972566">=</span>&nbsp;<span class="builtinfunc" id="2972568">len</span><span class="op" id="2972571">(</span><span class="ident" id="2972572">z</span><span class="op" id="2972573">.</span><span class="ident" id="2972574">abs</span><span class="op" id="2972577">)</span>&nbsp;<span class="op" id="2972579">&gt;</span>&nbsp;<span class="num" id="2972581">0</span>&nbsp;<span class="op" id="2972583">&amp;&amp;</span>&nbsp;<span class="ident" id="2972586">neg</span>&nbsp;<span class="comment" id="2972590">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2972608">return</span>&nbsp;<span class="ident" id="2972615">z</span><br>
<span class="lineno"></span><span class="op" id="2972617">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="2972620">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2972668">func</span>&nbsp;<span class="op" id="2972673">(</span><span class="ident" id="2972674">z</span>&nbsp;<span class="op" id="2972676">*</span><span class="ident" id="2972677">Int</span><span class="op" id="2972680">)</span>&nbsp;<span class="ident" id="2972682">Mul</span><span class="op" id="2972685">(</span><span class="ident" id="2972686">x</span><span class="op" id="2972687">,</span>&nbsp;<span class="ident" id="2972689">y</span>&nbsp;<span class="op" id="2972691">*</span><span class="ident" id="2972692">Int</span><span class="op" id="2972695">)</span>&nbsp;<span class="op" id="2972697">*</span><span class="ident" id="2972698">Int</span>&nbsp;<span class="op" id="2972702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2972705">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2972724">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2972749">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2972774">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972799">z</span><span class="op" id="2972800">.</span><span class="ident" id="2972801">abs</span>&nbsp;<span class="op" id="2972805">=</span>&nbsp;<span class="ident" id="2972807">z</span><span class="op" id="2972808">.</span><span class="ident" id="2972809">abs</span><span class="op" id="2972812">.</span><span class="ident" id="2972813">mul</span><span class="op" id="2972816">(</span><span class="ident" id="2972817">x</span><span class="op" id="2972818">.</span><span class="ident" id="2972819">abs</span><span class="op" id="2972822">,</span>&nbsp;<span class="ident" id="2972824">y</span><span class="op" id="2972825">.</span><span class="ident" id="2972826">abs</span><span class="op" id="2972829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2972832">z</span><span class="op" id="2972833">.</span><span class="ident" id="2972834">neg</span>&nbsp;<span class="op" id="2972838">=</span>&nbsp;<span class="builtinfunc" id="2972840">len</span><span class="op" id="2972843">(</span><span class="ident" id="2972844">z</span><span class="op" id="2972845">.</span><span class="ident" id="2972846">abs</span><span class="op" id="2972849">)</span>&nbsp;<span class="op" id="2972851">&gt;</span>&nbsp;<span class="num" id="2972853">0</span>&nbsp;<span class="op" id="2972855">&amp;&amp;</span>&nbsp;<span class="ident" id="2972858">x</span><span class="op" id="2972859">.</span><span class="ident" id="2972860">neg</span>&nbsp;<span class="op" id="2972864">!=</span>&nbsp;<span class="ident" id="2972867">y</span><span class="op" id="2972868">.</span><span class="ident" id="2972869">neg</span>&nbsp;<span class="comment" id="2972873">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2972891">return</span>&nbsp;<span class="ident" id="2972898">z</span><br>
<span class="lineno">160</span><span class="op" id="2972900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2972903">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="2972953">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="2973003">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="2973047">func</span>&nbsp;<span class="op" id="2973052">(</span><span class="ident" id="2973053">z</span>&nbsp;<span class="op" id="2973055">*</span><span class="ident" id="2973056">Int</span><span class="op" id="2973059">)</span>&nbsp;<span class="ident" id="2973061">MulRange</span><span class="op" id="2973069">(</span><span class="ident" id="2973070">a</span><span class="op" id="2973071">,</span>&nbsp;<span class="ident" id="2973073">b</span>&nbsp;<span class="ident" id="2973075">int64</span><span class="op" id="2973080">)</span>&nbsp;<span class="op" id="2973082">*</span><span class="ident" id="2973083">Int</span>&nbsp;<span class="op" id="2973087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973090">switch</span>&nbsp;<span class="op" id="2973097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973100">case</span>&nbsp;<span class="ident" id="2973105">a</span>&nbsp;<span class="op" id="2973107">&gt;</span>&nbsp;<span class="ident" id="2973109">b</span><span class="op" id="2973110">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973114">return</span>&nbsp;<span class="ident" id="2973121">z</span><span class="op" id="2973122">.</span><span class="ident" id="2973123">SetInt64</span><span class="op" id="2973131">(</span><span class="num" id="2973132">1</span><span class="op" id="2973133">)</span>&nbsp;<span class="comment" id="2973135">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973151">case</span>&nbsp;<span class="ident" id="2973156">a</span>&nbsp;<span class="op" id="2973158">&lt;=</span>&nbsp;<span class="num" id="2973161">0</span>&nbsp;<span class="op" id="2973163">&amp;&amp;</span>&nbsp;<span class="ident" id="2973166">b</span>&nbsp;<span class="op" id="2973168">&gt;=</span>&nbsp;<span class="num" id="2973171">0</span><span class="op" id="2973172">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973176">return</span>&nbsp;<span class="ident" id="2973183">z</span><span class="op" id="2973184">.</span><span class="ident" id="2973185">SetInt64</span><span class="op" id="2973193">(</span><span class="num" id="2973194">0</span><span class="op" id="2973195">)</span>&nbsp;<span class="comment" id="2973197">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2973218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2973221">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2973253">neg</span>&nbsp;<span class="op" id="2973257">:=</span>&nbsp;<span class="builtintype" id="2973260">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973267">if</span>&nbsp;<span class="ident" id="2973270">a</span>&nbsp;<span class="op" id="2973272">&lt;</span>&nbsp;<span class="num" id="2973274">0</span>&nbsp;<span class="op" id="2973276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2973280">neg</span>&nbsp;<span class="op" id="2973284">=</span>&nbsp;<span class="op" id="2973286">(</span><span class="ident" id="2973287">b</span><span class="op" id="2973288">-</span><span class="ident" id="2973289">a</span><span class="op" id="2973290">)</span><span class="op" id="2973291">&amp;</span><span class="num" id="2973292">1</span>&nbsp;<span class="op" id="2973294">==</span>&nbsp;<span class="num" id="2973297">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2973301">a</span><span class="op" id="2973302">,</span>&nbsp;<span class="ident" id="2973304">b</span>&nbsp;<span class="op" id="2973306">=</span>&nbsp;<span class="op" id="2973308">-</span><span class="ident" id="2973309">b</span><span class="op" id="2973310">,</span>&nbsp;<span class="op" id="2973312">-</span><span class="ident" id="2973313">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2973316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2973320">z</span><span class="op" id="2973321">.</span><span class="ident" id="2973322">abs</span>&nbsp;<span class="op" id="2973326">=</span>&nbsp;<span class="ident" id="2973328">z</span><span class="op" id="2973329">.</span><span class="ident" id="2973330">abs</span><span class="op" id="2973333">.</span><span class="ident" id="2973334">mulRange</span><span class="op" id="2973342">(</span><span class="ident" id="2973343">uint64</span><span class="op" id="2973349">(</span><span class="ident" id="2973350">a</span><span class="op" id="2973351">)</span><span class="op" id="2973352">,</span>&nbsp;<span class="ident" id="2973354">uint64</span><span class="op" id="2973360">(</span><span class="ident" id="2973361">b</span><span class="op" id="2973362">)</span><span class="op" id="2973363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2973366">z</span><span class="op" id="2973367">.</span><span class="ident" id="2973368">neg</span>&nbsp;<span class="op" id="2973372">=</span>&nbsp;<span class="ident" id="2973374">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973379">return</span>&nbsp;<span class="ident" id="2973386">z</span><br>
<span class="lineno"></span><span class="op" id="2973388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="2973391">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2973463">func</span>&nbsp;<span class="op" id="2973468">(</span><span class="ident" id="2973469">z</span>&nbsp;<span class="op" id="2973471">*</span><span class="ident" id="2973472">Int</span><span class="op" id="2973475">)</span>&nbsp;<span class="ident" id="2973477">Binomial</span><span class="op" id="2973485">(</span><span class="ident" id="2973486">n</span><span class="op" id="2973487">,</span>&nbsp;<span class="ident" id="2973489">k</span>&nbsp;<span class="ident" id="2973491">int64</span><span class="op" id="2973496">)</span>&nbsp;<span class="op" id="2973498">*</span><span class="ident" id="2973499">Int</span>&nbsp;<span class="op" id="2973503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973506">var</span>&nbsp;<span class="ident" id="2973510">a</span><span class="op" id="2973511">,</span>&nbsp;<span class="ident" id="2973513">b</span>&nbsp;<span class="ident" id="2973515">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2973520">a</span><span class="op" id="2973521">.</span><span class="ident" id="2973522">MulRange</span><span class="op" id="2973530">(</span><span class="ident" id="2973531">n</span><span class="op" id="2973532">-</span><span class="ident" id="2973533">k</span><span class="op" id="2973534">+</span><span class="num" id="2973535">1</span><span class="op" id="2973536">,</span>&nbsp;<span class="ident" id="2973538">n</span><span class="op" id="2973539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2973542">b</span><span class="op" id="2973543">.</span><span class="ident" id="2973544">MulRange</span><span class="op" id="2973552">(</span><span class="num" id="2973553">1</span><span class="op" id="2973554">,</span>&nbsp;<span class="ident" id="2973556">k</span><span class="op" id="2973557">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973560">return</span>&nbsp;<span class="ident" id="2973567">z</span><span class="op" id="2973568">.</span><span class="ident" id="2973569">Quo</span><span class="op" id="2973572">(</span><span class="op" id="2973573">&amp;</span><span class="ident" id="2973574">a</span><span class="op" id="2973575">,</span>&nbsp;<span class="op" id="2973577">&amp;</span><span class="ident" id="2973578">b</span><span class="op" id="2973579">)</span><br>
<span class="lineno"></span><span class="op" id="2973581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2973584">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="2973644">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="2973700">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="2973777">func</span>&nbsp;<span class="op" id="2973782">(</span><span class="ident" id="2973783">z</span>&nbsp;<span class="op" id="2973785">*</span><span class="ident" id="2973786">Int</span><span class="op" id="2973789">)</span>&nbsp;<span class="ident" id="2973791">Quo</span><span class="op" id="2973794">(</span><span class="ident" id="2973795">x</span><span class="op" id="2973796">,</span>&nbsp;<span class="ident" id="2973798">y</span>&nbsp;<span class="op" id="2973800">*</span><span class="ident" id="2973801">Int</span><span class="op" id="2973804">)</span>&nbsp;<span class="op" id="2973806">*</span><span class="ident" id="2973807">Int</span>&nbsp;<span class="op" id="2973811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2973814">z</span><span class="op" id="2973815">.</span><span class="ident" id="2973816">abs</span><span class="op" id="2973819">,</span>&nbsp;<span class="ident" id="2973821">_</span>&nbsp;<span class="op" id="2973823">=</span>&nbsp;<span class="ident" id="2973825">z</span><span class="op" id="2973826">.</span><span class="ident" id="2973827">abs</span><span class="op" id="2973830">.</span><span class="ident" id="2973831">div</span><span class="op" id="2973834">(</span><span class="builtintype" id="2973835">nil</span><span class="op" id="2973838">,</span>&nbsp;<span class="ident" id="2973840">x</span><span class="op" id="2973841">.</span><span class="ident" id="2973842">abs</span><span class="op" id="2973845">,</span>&nbsp;<span class="ident" id="2973847">y</span><span class="op" id="2973848">.</span><span class="ident" id="2973849">abs</span><span class="op" id="2973852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2973855">z</span><span class="op" id="2973856">.</span><span class="ident" id="2973857">neg</span>&nbsp;<span class="op" id="2973861">=</span>&nbsp;<span class="builtinfunc" id="2973863">len</span><span class="op" id="2973866">(</span><span class="ident" id="2973867">z</span><span class="op" id="2973868">.</span><span class="ident" id="2973869">abs</span><span class="op" id="2973872">)</span>&nbsp;<span class="op" id="2973874">&gt;</span>&nbsp;<span class="num" id="2973876">0</span>&nbsp;<span class="op" id="2973878">&amp;&amp;</span>&nbsp;<span class="ident" id="2973881">x</span><span class="op" id="2973882">.</span><span class="ident" id="2973883">neg</span>&nbsp;<span class="op" id="2973887">!=</span>&nbsp;<span class="ident" id="2973890">y</span><span class="op" id="2973891">.</span><span class="ident" id="2973892">neg</span>&nbsp;<span class="comment" id="2973896">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973914">return</span>&nbsp;<span class="ident" id="2973921">z</span><br>
<span class="lineno">200</span><span class="op" id="2973923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2973926">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="2973987">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="2974043">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="2974119">func</span>&nbsp;<span class="op" id="2974124">(</span><span class="ident" id="2974125">z</span>&nbsp;<span class="op" id="2974127">*</span><span class="ident" id="2974128">Int</span><span class="op" id="2974131">)</span>&nbsp;<span class="ident" id="2974133">Rem</span><span class="op" id="2974136">(</span><span class="ident" id="2974137">x</span><span class="op" id="2974138">,</span>&nbsp;<span class="ident" id="2974140">y</span>&nbsp;<span class="op" id="2974142">*</span><span class="ident" id="2974143">Int</span><span class="op" id="2974146">)</span>&nbsp;<span class="op" id="2974148">*</span><span class="ident" id="2974149">Int</span>&nbsp;<span class="op" id="2974153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974156">_</span><span class="op" id="2974157">,</span>&nbsp;<span class="ident" id="2974159">z</span><span class="op" id="2974160">.</span><span class="ident" id="2974161">abs</span>&nbsp;<span class="op" id="2974165">=</span>&nbsp;<span class="ident" id="2974167">nat</span><span class="op" id="2974170">(</span><span class="builtintype" id="2974171">nil</span><span class="op" id="2974174">)</span><span class="op" id="2974175">.</span><span class="ident" id="2974176">div</span><span class="op" id="2974179">(</span><span class="ident" id="2974180">z</span><span class="op" id="2974181">.</span><span class="ident" id="2974182">abs</span><span class="op" id="2974185">,</span>&nbsp;<span class="ident" id="2974187">x</span><span class="op" id="2974188">.</span><span class="ident" id="2974189">abs</span><span class="op" id="2974192">,</span>&nbsp;<span class="ident" id="2974194">y</span><span class="op" id="2974195">.</span><span class="ident" id="2974196">abs</span><span class="op" id="2974199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974202">z</span><span class="op" id="2974203">.</span><span class="ident" id="2974204">neg</span>&nbsp;<span class="op" id="2974208">=</span>&nbsp;<span class="builtinfunc" id="2974210">len</span><span class="op" id="2974213">(</span><span class="ident" id="2974214">z</span><span class="op" id="2974215">.</span><span class="ident" id="2974216">abs</span><span class="op" id="2974219">)</span>&nbsp;<span class="op" id="2974221">&gt;</span>&nbsp;<span class="num" id="2974223">0</span>&nbsp;<span class="op" id="2974225">&amp;&amp;</span>&nbsp;<span class="ident" id="2974228">x</span><span class="op" id="2974229">.</span><span class="ident" id="2974230">neg</span>&nbsp;<span class="comment" id="2974234">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2974252">return</span>&nbsp;<span class="ident" id="2974259">z</span><br>
<span class="lineno"></span><span class="op" id="2974261">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="2974264">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="2974328">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="2974371">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="2974427">//</span><br>
<span class="lineno">215</span><span class="comment" id="2974430">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="2974485">//</span><br>
<span class="lineno"></span><span class="comment" id="2974488">//&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="2974538">//&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="2974553">//</span><br>
<span class="lineno">220</span><span class="comment" id="2974556">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="2974628">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="2974690">//</span><br>
<span class="lineno"></span><span class="keyword" id="2974693">func</span>&nbsp;<span class="op" id="2974698">(</span><span class="ident" id="2974699">z</span>&nbsp;<span class="op" id="2974701">*</span><span class="ident" id="2974702">Int</span><span class="op" id="2974705">)</span>&nbsp;<span class="ident" id="2974707">QuoRem</span><span class="op" id="2974713">(</span><span class="ident" id="2974714">x</span><span class="op" id="2974715">,</span>&nbsp;<span class="ident" id="2974717">y</span><span class="op" id="2974718">,</span>&nbsp;<span class="ident" id="2974720">r</span>&nbsp;<span class="op" id="2974722">*</span><span class="ident" id="2974723">Int</span><span class="op" id="2974726">)</span>&nbsp;<span class="op" id="2974728">(</span><span class="op" id="2974729">*</span><span class="ident" id="2974730">Int</span><span class="op" id="2974733">,</span>&nbsp;<span class="op" id="2974735">*</span><span class="ident" id="2974736">Int</span><span class="op" id="2974739">)</span>&nbsp;<span class="op" id="2974741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974744">z</span><span class="op" id="2974745">.</span><span class="ident" id="2974746">abs</span><span class="op" id="2974749">,</span>&nbsp;<span class="ident" id="2974751">r</span><span class="op" id="2974752">.</span><span class="ident" id="2974753">abs</span>&nbsp;<span class="op" id="2974757">=</span>&nbsp;<span class="ident" id="2974759">z</span><span class="op" id="2974760">.</span><span class="ident" id="2974761">abs</span><span class="op" id="2974764">.</span><span class="ident" id="2974765">div</span><span class="op" id="2974768">(</span><span class="ident" id="2974769">r</span><span class="op" id="2974770">.</span><span class="ident" id="2974771">abs</span><span class="op" id="2974774">,</span>&nbsp;<span class="ident" id="2974776">x</span><span class="op" id="2974777">.</span><span class="ident" id="2974778">abs</span><span class="op" id="2974781">,</span>&nbsp;<span class="ident" id="2974783">y</span><span class="op" id="2974784">.</span><span class="ident" id="2974785">abs</span><span class="op" id="2974788">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974791">z</span><span class="op" id="2974792">.</span><span class="ident" id="2974793">neg</span><span class="op" id="2974796">,</span>&nbsp;<span class="ident" id="2974798">r</span><span class="op" id="2974799">.</span><span class="ident" id="2974800">neg</span>&nbsp;<span class="op" id="2974804">=</span>&nbsp;<span class="builtinfunc" id="2974806">len</span><span class="op" id="2974809">(</span><span class="ident" id="2974810">z</span><span class="op" id="2974811">.</span><span class="ident" id="2974812">abs</span><span class="op" id="2974815">)</span>&nbsp;<span class="op" id="2974817">&gt;</span>&nbsp;<span class="num" id="2974819">0</span>&nbsp;<span class="op" id="2974821">&amp;&amp;</span>&nbsp;<span class="ident" id="2974824">x</span><span class="op" id="2974825">.</span><span class="ident" id="2974826">neg</span>&nbsp;<span class="op" id="2974830">!=</span>&nbsp;<span class="ident" id="2974833">y</span><span class="op" id="2974834">.</span><span class="ident" id="2974835">neg</span><span class="op" id="2974838">,</span>&nbsp;<span class="builtinfunc" id="2974840">len</span><span class="op" id="2974843">(</span><span class="ident" id="2974844">r</span><span class="op" id="2974845">.</span><span class="ident" id="2974846">abs</span><span class="op" id="2974849">)</span>&nbsp;<span class="op" id="2974851">&gt;</span>&nbsp;<span class="num" id="2974853">0</span>&nbsp;<span class="op" id="2974855">&amp;&amp;</span>&nbsp;<span class="ident" id="2974858">x</span><span class="op" id="2974859">.</span><span class="ident" id="2974860">neg</span>&nbsp;<span class="comment" id="2974864">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2974882">return</span>&nbsp;<span class="ident" id="2974889">z</span><span class="op" id="2974890">,</span>&nbsp;<span class="ident" id="2974892">r</span><br>
<span class="lineno"></span><span class="op" id="2974894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2974897">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="2974957">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="2975013">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="2975092">func</span>&nbsp;<span class="op" id="2975097">(</span><span class="ident" id="2975098">z</span>&nbsp;<span class="op" id="2975100">*</span><span class="ident" id="2975101">Int</span><span class="op" id="2975104">)</span>&nbsp;<span class="ident" id="2975106">Div</span><span class="op" id="2975109">(</span><span class="ident" id="2975110">x</span><span class="op" id="2975111">,</span>&nbsp;<span class="ident" id="2975113">y</span>&nbsp;<span class="op" id="2975115">*</span><span class="ident" id="2975116">Int</span><span class="op" id="2975119">)</span>&nbsp;<span class="op" id="2975121">*</span><span class="ident" id="2975122">Int</span>&nbsp;<span class="op" id="2975126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975129">y_neg</span>&nbsp;<span class="op" id="2975135">:=</span>&nbsp;<span class="ident" id="2975138">y</span><span class="op" id="2975139">.</span><span class="ident" id="2975140">neg</span>&nbsp;<span class="comment" id="2975144">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975172">var</span>&nbsp;<span class="ident" id="2975176">r</span>&nbsp;<span class="ident" id="2975178">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975183">z</span><span class="op" id="2975184">.</span><span class="ident" id="2975185">QuoRem</span><span class="op" id="2975191">(</span><span class="ident" id="2975192">x</span><span class="op" id="2975193">,</span>&nbsp;<span class="ident" id="2975195">y</span><span class="op" id="2975196">,</span>&nbsp;<span class="op" id="2975198">&amp;</span><span class="ident" id="2975199">r</span><span class="op" id="2975200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975203">if</span>&nbsp;<span class="ident" id="2975206">r</span><span class="op" id="2975207">.</span><span class="ident" id="2975208">neg</span>&nbsp;<span class="op" id="2975212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975216">if</span>&nbsp;<span class="ident" id="2975219">y_neg</span>&nbsp;<span class="op" id="2975225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975230">z</span><span class="op" id="2975231">.</span><span class="ident" id="2975232">Add</span><span class="op" id="2975235">(</span><span class="ident" id="2975236">z</span><span class="op" id="2975237">,</span>&nbsp;<span class="ident" id="2975239">intOne</span><span class="op" id="2975245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975249">}</span>&nbsp;<span class="keyword" id="2975251">else</span>&nbsp;<span class="op" id="2975256">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975261">z</span><span class="op" id="2975262">.</span><span class="ident" id="2975263">Sub</span><span class="op" id="2975266">(</span><span class="ident" id="2975267">z</span><span class="op" id="2975268">,</span>&nbsp;<span class="ident" id="2975270">intOne</span><span class="op" id="2975276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975286">return</span>&nbsp;<span class="ident" id="2975293">z</span><br>
<span class="lineno"></span><span class="op" id="2975295">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="2975298">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="2975357">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="2975413">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="2975491">func</span>&nbsp;<span class="op" id="2975496">(</span><span class="ident" id="2975497">z</span>&nbsp;<span class="op" id="2975499">*</span><span class="ident" id="2975500">Int</span><span class="op" id="2975503">)</span>&nbsp;<span class="ident" id="2975505">Mod</span><span class="op" id="2975508">(</span><span class="ident" id="2975509">x</span><span class="op" id="2975510">,</span>&nbsp;<span class="ident" id="2975512">y</span>&nbsp;<span class="op" id="2975514">*</span><span class="ident" id="2975515">Int</span><span class="op" id="2975518">)</span>&nbsp;<span class="op" id="2975520">*</span><span class="ident" id="2975521">Int</span>&nbsp;<span class="op" id="2975525">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975528">y0</span>&nbsp;<span class="op" id="2975531">:=</span>&nbsp;<span class="ident" id="2975534">y</span>&nbsp;<span class="comment" id="2975536">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975547">if</span>&nbsp;<span class="ident" id="2975550">z</span>&nbsp;<span class="op" id="2975552">==</span>&nbsp;<span class="ident" id="2975555">y</span>&nbsp;<span class="op" id="2975557">||</span>&nbsp;<span class="ident" id="2975560">alias</span><span class="op" id="2975565">(</span><span class="ident" id="2975566">z</span><span class="op" id="2975567">.</span><span class="ident" id="2975568">abs</span><span class="op" id="2975571">,</span>&nbsp;<span class="ident" id="2975573">y</span><span class="op" id="2975574">.</span><span class="ident" id="2975575">abs</span><span class="op" id="2975578">)</span>&nbsp;<span class="op" id="2975580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975584">y0</span>&nbsp;<span class="op" id="2975587">=</span>&nbsp;<span class="builtinfunc" id="2975589">new</span><span class="op" id="2975592">(</span><span class="ident" id="2975593">Int</span><span class="op" id="2975596">)</span><span class="op" id="2975597">.</span><span class="ident" id="2975598">Set</span><span class="op" id="2975601">(</span><span class="ident" id="2975602">y</span><span class="op" id="2975603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975609">var</span>&nbsp;<span class="ident" id="2975613">q</span>&nbsp;<span class="ident" id="2975615">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975620">q</span><span class="op" id="2975621">.</span><span class="ident" id="2975622">QuoRem</span><span class="op" id="2975628">(</span><span class="ident" id="2975629">x</span><span class="op" id="2975630">,</span>&nbsp;<span class="ident" id="2975632">y</span><span class="op" id="2975633">,</span>&nbsp;<span class="ident" id="2975635">z</span><span class="op" id="2975636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975639">if</span>&nbsp;<span class="ident" id="2975642">z</span><span class="op" id="2975643">.</span><span class="ident" id="2975644">neg</span>&nbsp;<span class="op" id="2975648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975652">if</span>&nbsp;<span class="ident" id="2975655">y0</span><span class="op" id="2975657">.</span><span class="ident" id="2975658">neg</span>&nbsp;<span class="op" id="2975662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975667">z</span><span class="op" id="2975668">.</span><span class="ident" id="2975669">Sub</span><span class="op" id="2975672">(</span><span class="ident" id="2975673">z</span><span class="op" id="2975674">,</span>&nbsp;<span class="ident" id="2975676">y0</span><span class="op" id="2975678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975682">}</span>&nbsp;<span class="keyword" id="2975684">else</span>&nbsp;<span class="op" id="2975689">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975694">z</span><span class="op" id="2975695">.</span><span class="ident" id="2975696">Add</span><span class="op" id="2975699">(</span><span class="ident" id="2975700">z</span><span class="op" id="2975701">,</span>&nbsp;<span class="ident" id="2975703">y0</span><span class="op" id="2975705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975715">return</span>&nbsp;<span class="ident" id="2975722">z</span><br>
<span class="lineno"></span><span class="op" id="2975724">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="2975727">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="2975797">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="2975840">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="2975896">//</span><br>
<span class="lineno">270</span><span class="comment" id="2975899">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="2975964">//</span><br>
<span class="lineno"></span><span class="comment" id="2975967">//&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2975993">//&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="2976027">//</span><br>
<span class="lineno">275</span><span class="comment" id="2976030">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="2976100">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2976164">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="2976227">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="2976242">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="2976294">//</span><br>
<span class="lineno"></span><span class="keyword" id="2976297">func</span>&nbsp;<span class="op" id="2976302">(</span><span class="ident" id="2976303">z</span>&nbsp;<span class="op" id="2976305">*</span><span class="ident" id="2976306">Int</span><span class="op" id="2976309">)</span>&nbsp;<span class="ident" id="2976311">DivMod</span><span class="op" id="2976317">(</span><span class="ident" id="2976318">x</span><span class="op" id="2976319">,</span>&nbsp;<span class="ident" id="2976321">y</span><span class="op" id="2976322">,</span>&nbsp;<span class="ident" id="2976324">m</span>&nbsp;<span class="op" id="2976326">*</span><span class="ident" id="2976327">Int</span><span class="op" id="2976330">)</span>&nbsp;<span class="op" id="2976332">(</span><span class="op" id="2976333">*</span><span class="ident" id="2976334">Int</span><span class="op" id="2976337">,</span>&nbsp;<span class="op" id="2976339">*</span><span class="ident" id="2976340">Int</span><span class="op" id="2976343">)</span>&nbsp;<span class="op" id="2976345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976348">y0</span>&nbsp;<span class="op" id="2976351">:=</span>&nbsp;<span class="ident" id="2976354">y</span>&nbsp;<span class="comment" id="2976356">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976367">if</span>&nbsp;<span class="ident" id="2976370">z</span>&nbsp;<span class="op" id="2976372">==</span>&nbsp;<span class="ident" id="2976375">y</span>&nbsp;<span class="op" id="2976377">||</span>&nbsp;<span class="ident" id="2976380">alias</span><span class="op" id="2976385">(</span><span class="ident" id="2976386">z</span><span class="op" id="2976387">.</span><span class="ident" id="2976388">abs</span><span class="op" id="2976391">,</span>&nbsp;<span class="ident" id="2976393">y</span><span class="op" id="2976394">.</span><span class="ident" id="2976395">abs</span><span class="op" id="2976398">)</span>&nbsp;<span class="op" id="2976400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976404">y0</span>&nbsp;<span class="op" id="2976407">=</span>&nbsp;<span class="builtinfunc" id="2976409">new</span><span class="op" id="2976412">(</span><span class="ident" id="2976413">Int</span><span class="op" id="2976416">)</span><span class="op" id="2976417">.</span><span class="ident" id="2976418">Set</span><span class="op" id="2976421">(</span><span class="ident" id="2976422">y</span><span class="op" id="2976423">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976429">z</span><span class="op" id="2976430">.</span><span class="ident" id="2976431">QuoRem</span><span class="op" id="2976437">(</span><span class="ident" id="2976438">x</span><span class="op" id="2976439">,</span>&nbsp;<span class="ident" id="2976441">y</span><span class="op" id="2976442">,</span>&nbsp;<span class="ident" id="2976444">m</span><span class="op" id="2976445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976448">if</span>&nbsp;<span class="ident" id="2976451">m</span><span class="op" id="2976452">.</span><span class="ident" id="2976453">neg</span>&nbsp;<span class="op" id="2976457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976461">if</span>&nbsp;<span class="ident" id="2976464">y0</span><span class="op" id="2976466">.</span><span class="ident" id="2976467">neg</span>&nbsp;<span class="op" id="2976471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976476">z</span><span class="op" id="2976477">.</span><span class="ident" id="2976478">Add</span><span class="op" id="2976481">(</span><span class="ident" id="2976482">z</span><span class="op" id="2976483">,</span>&nbsp;<span class="ident" id="2976485">intOne</span><span class="op" id="2976491">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976496">m</span><span class="op" id="2976497">.</span><span class="ident" id="2976498">Sub</span><span class="op" id="2976501">(</span><span class="ident" id="2976502">m</span><span class="op" id="2976503">,</span>&nbsp;<span class="ident" id="2976505">y0</span><span class="op" id="2976507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976511">}</span>&nbsp;<span class="keyword" id="2976513">else</span>&nbsp;<span class="op" id="2976518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976523">z</span><span class="op" id="2976524">.</span><span class="ident" id="2976525">Sub</span><span class="op" id="2976528">(</span><span class="ident" id="2976529">z</span><span class="op" id="2976530">,</span>&nbsp;<span class="ident" id="2976532">intOne</span><span class="op" id="2976538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976543">m</span><span class="op" id="2976544">.</span><span class="ident" id="2976545">Add</span><span class="op" id="2976548">(</span><span class="ident" id="2976549">m</span><span class="op" id="2976550">,</span>&nbsp;<span class="ident" id="2976552">y0</span><span class="op" id="2976554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976558">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976564">return</span>&nbsp;<span class="ident" id="2976571">z</span><span class="op" id="2976572">,</span>&nbsp;<span class="ident" id="2976574">m</span><br>
<span class="lineno"></span><span class="op" id="2976576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2976579">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="2976616">//</span><br>
<span class="lineno"></span><span class="comment" id="2976619">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="2976637">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="2976655">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="2976673">//</span><br>
<span class="lineno">305</span><span class="keyword" id="2976676">func</span>&nbsp;<span class="op" id="2976681">(</span><span class="ident" id="2976682">x</span>&nbsp;<span class="op" id="2976684">*</span><span class="ident" id="2976685">Int</span><span class="op" id="2976688">)</span>&nbsp;<span class="ident" id="2976690">Cmp</span><span class="op" id="2976693">(</span><span class="ident" id="2976694">y</span>&nbsp;<span class="op" id="2976696">*</span><span class="ident" id="2976697">Int</span><span class="op" id="2976700">)</span>&nbsp;<span class="op" id="2976702">(</span><span class="ident" id="2976703">r</span>&nbsp;<span class="builtintype" id="2976705">int</span><span class="op" id="2976708">)</span>&nbsp;<span class="op" id="2976710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2976713">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2976736">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2976756">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2976776">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976808">switch</span>&nbsp;<span class="op" id="2976815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976818">case</span>&nbsp;<span class="ident" id="2976823">x</span><span class="op" id="2976824">.</span><span class="ident" id="2976825">neg</span>&nbsp;<span class="op" id="2976829">==</span>&nbsp;<span class="ident" id="2976832">y</span><span class="op" id="2976833">.</span><span class="ident" id="2976834">neg</span><span class="op" id="2976837">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976841">r</span>&nbsp;<span class="op" id="2976843">=</span>&nbsp;<span class="ident" id="2976845">x</span><span class="op" id="2976846">.</span><span class="ident" id="2976847">abs</span><span class="op" id="2976850">.</span><span class="ident" id="2976851">cmp</span><span class="op" id="2976854">(</span><span class="ident" id="2976855">y</span><span class="op" id="2976856">.</span><span class="ident" id="2976857">abs</span><span class="op" id="2976860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976864">if</span>&nbsp;<span class="ident" id="2976867">x</span><span class="op" id="2976868">.</span><span class="ident" id="2976869">neg</span>&nbsp;<span class="op" id="2976873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976878">r</span>&nbsp;<span class="op" id="2976880">=</span>&nbsp;<span class="op" id="2976882">-</span><span class="ident" id="2976883">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976890">case</span>&nbsp;<span class="ident" id="2976895">x</span><span class="op" id="2976896">.</span><span class="ident" id="2976897">neg</span><span class="op" id="2976900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976904">r</span>&nbsp;<span class="op" id="2976906">=</span>&nbsp;<span class="op" id="2976908">-</span><span class="num" id="2976909">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976912">default</span><span class="op" id="2976919">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976923">r</span>&nbsp;<span class="op" id="2976925">=</span>&nbsp;<span class="num" id="2976927">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976933">return</span><br>
<span class="lineno"></span><span class="op" id="2976940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2976943">func</span>&nbsp;<span class="op" id="2976948">(</span><span class="ident" id="2976949">x</span>&nbsp;<span class="op" id="2976951">*</span><span class="ident" id="2976952">Int</span><span class="op" id="2976955">)</span>&nbsp;<span class="ident" id="2976957">String</span><span class="op" id="2976963">(</span><span class="op" id="2976964">)</span>&nbsp;<span class="builtintype" id="2976966">string</span>&nbsp;<span class="op" id="2976973">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976976">switch</span>&nbsp;<span class="op" id="2976983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976986">case</span>&nbsp;<span class="ident" id="2976991">x</span>&nbsp;<span class="op" id="2976993">==</span>&nbsp;<span class="builtintype" id="2976996">nil</span><span class="op" id="2976999">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977003">return</span>&nbsp;<span class="string" id="2977010">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977019">case</span>&nbsp;<span class="ident" id="2977024">x</span><span class="op" id="2977025">.</span><span class="ident" id="2977026">neg</span><span class="op" id="2977029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977033">return</span>&nbsp;<span class="string" id="2977040">&#34;-&#34;</span>&nbsp;<span class="op" id="2977044">+</span>&nbsp;<span class="ident" id="2977046">x</span><span class="op" id="2977047">.</span><span class="ident" id="2977048">abs</span><span class="op" id="2977051">.</span><span class="ident" id="2977052">decimalString</span><span class="op" id="2977065">(</span><span class="op" id="2977066">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2977069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977072">return</span>&nbsp;<span class="ident" id="2977079">x</span><span class="op" id="2977080">.</span><span class="ident" id="2977081">abs</span><span class="op" id="2977084">.</span><span class="ident" id="2977085">decimalString</span><span class="op" id="2977098">(</span><span class="op" id="2977099">)</span><br>
<span class="lineno"></span><span class="op" id="2977101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2977104">func</span>&nbsp;<span class="ident" id="2977109">charset</span><span class="op" id="2977116">(</span><span class="ident" id="2977117">ch</span>&nbsp;<span class="builtintype" id="2977120">rune</span><span class="op" id="2977124">)</span>&nbsp;<span class="builtintype" id="2977126">string</span>&nbsp;<span class="op" id="2977133">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977136">switch</span>&nbsp;<span class="ident" id="2977143">ch</span>&nbsp;<span class="op" id="2977146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977149">case</span>&nbsp;<span class="string" id="2977154">&#39;b&#39;</span><span class="op" id="2977157">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977161">return</span>&nbsp;<span class="ident" id="2977168">lowercaseDigits</span><span class="op" id="2977183">[</span><span class="num" id="2977184">0</span><span class="op" id="2977185">:</span><span class="num" id="2977186">2</span><span class="op" id="2977187">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977190">case</span>&nbsp;<span class="string" id="2977195">&#39;o&#39;</span><span class="op" id="2977198">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977202">return</span>&nbsp;<span class="ident" id="2977209">lowercaseDigits</span><span class="op" id="2977224">[</span><span class="num" id="2977225">0</span><span class="op" id="2977226">:</span><span class="num" id="2977227">8</span><span class="op" id="2977228">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977231">case</span>&nbsp;<span class="string" id="2977236">&#39;d&#39;</span><span class="op" id="2977239">,</span>&nbsp;<span class="string" id="2977241">&#39;s&#39;</span><span class="op" id="2977244">,</span>&nbsp;<span class="string" id="2977246">&#39;v&#39;</span><span class="op" id="2977249">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977253">return</span>&nbsp;<span class="ident" id="2977260">lowercaseDigits</span><span class="op" id="2977275">[</span><span class="num" id="2977276">0</span><span class="op" id="2977277">:</span><span class="num" id="2977278">10</span><span class="op" id="2977280">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977283">case</span>&nbsp;<span class="string" id="2977288">&#39;x&#39;</span><span class="op" id="2977291">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977295">return</span>&nbsp;<span class="ident" id="2977302">lowercaseDigits</span><span class="op" id="2977317">[</span><span class="num" id="2977318">0</span><span class="op" id="2977319">:</span><span class="num" id="2977320">16</span><span class="op" id="2977322">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977325">case</span>&nbsp;<span class="string" id="2977330">&#39;X&#39;</span><span class="op" id="2977333">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977337">return</span>&nbsp;<span class="ident" id="2977344">uppercaseDigits</span><span class="op" id="2977359">[</span><span class="num" id="2977360">0</span><span class="op" id="2977361">:</span><span class="num" id="2977362">16</span><span class="op" id="2977364">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2977367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977370">return</span>&nbsp;<span class="string" id="2977377">&#34;&#34;</span>&nbsp;<span class="comment" id="2977380">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="2977398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="2977401">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="2977436">func</span>&nbsp;<span class="ident" id="2977441">writeMultiple</span><span class="op" id="2977454">(</span><span class="ident" id="2977455">s</span>&nbsp;<span class="ident" id="2977457">fmt</span><span class="op" id="2977460">.</span><span class="ident" id="2977461">State</span><span class="op" id="2977466">,</span>&nbsp;<span class="ident" id="2977468">text</span>&nbsp;<span class="builtintype" id="2977473">string</span><span class="op" id="2977479">,</span>&nbsp;<span class="ident" id="2977481">count</span>&nbsp;<span class="builtintype" id="2977487">int</span><span class="op" id="2977490">)</span>&nbsp;<span class="op" id="2977492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977495">if</span>&nbsp;<span class="builtinfunc" id="2977498">len</span><span class="op" id="2977501">(</span><span class="ident" id="2977502">text</span><span class="op" id="2977506">)</span>&nbsp;<span class="op" id="2977508">&gt;</span>&nbsp;<span class="num" id="2977510">0</span>&nbsp;<span class="op" id="2977512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2977516">b</span>&nbsp;<span class="op" id="2977518">:=</span>&nbsp;<span class="op" id="2977521">[</span><span class="op" id="2977522">]</span><span class="builtintype" id="2977523">byte</span><span class="op" id="2977527">(</span><span class="ident" id="2977528">text</span><span class="op" id="2977532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977536">for</span>&nbsp;<span class="op" id="2977540">;</span>&nbsp;<span class="ident" id="2977542">count</span>&nbsp;<span class="op" id="2977548">&gt;</span>&nbsp;<span class="num" id="2977550">0</span><span class="op" id="2977551">;</span>&nbsp;<span class="ident" id="2977553">count</span><span class="op" id="2977558">--</span>&nbsp;<span class="op" id="2977561">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2977566">s</span><span class="op" id="2977567">.</span><span class="ident" id="2977568">Write</span><span class="op" id="2977573">(</span><span class="ident" id="2977574">b</span><span class="op" id="2977575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2977579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2977582">}</span><br>
<span class="lineno"></span><span class="op" id="2977584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="2977587">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="2977648">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="2977709">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="2977770">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="2977831">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="2977888">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2977947">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="2978006">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="2978066">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2978124">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="2978148">//</span><br>
<span class="lineno"></span><span class="keyword" id="2978151">func</span>&nbsp;<span class="op" id="2978156">(</span><span class="ident" id="2978157">x</span>&nbsp;<span class="op" id="2978159">*</span><span class="ident" id="2978160">Int</span><span class="op" id="2978163">)</span>&nbsp;<span class="ident" id="2978165">Format</span><span class="op" id="2978171">(</span><span class="ident" id="2978172">s</span>&nbsp;<span class="ident" id="2978174">fmt</span><span class="op" id="2978177">.</span><span class="ident" id="2978178">State</span><span class="op" id="2978183">,</span>&nbsp;<span class="ident" id="2978185">ch</span>&nbsp;<span class="builtintype" id="2978188">rune</span><span class="op" id="2978192">)</span>&nbsp;<span class="op" id="2978194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978197">cs</span>&nbsp;<span class="op" id="2978200">:=</span>&nbsp;<span class="ident" id="2978203">charset</span><span class="op" id="2978210">(</span><span class="ident" id="2978211">ch</span><span class="op" id="2978213">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2978217">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978235">switch</span>&nbsp;<span class="op" id="2978242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978245">case</span>&nbsp;<span class="ident" id="2978250">cs</span>&nbsp;<span class="op" id="2978253">==</span>&nbsp;<span class="string" id="2978256">&#34;&#34;</span><span class="op" id="2978258">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2978262">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978282">fmt</span><span class="op" id="2978285">.</span><span class="ident" id="2978286">Fprintf</span><span class="op" id="2978293">(</span><span class="ident" id="2978294">s</span><span class="op" id="2978295">,</span>&nbsp;<span class="string" id="2978297">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="2978316">,</span>&nbsp;<span class="ident" id="2978318">ch</span><span class="op" id="2978320">,</span>&nbsp;<span class="ident" id="2978322">x</span><span class="op" id="2978323">.</span><span class="ident" id="2978324">String</span><span class="op" id="2978330">(</span><span class="op" id="2978331">)</span><span class="op" id="2978332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978336">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978344">case</span>&nbsp;<span class="ident" id="2978349">x</span>&nbsp;<span class="op" id="2978351">==</span>&nbsp;<span class="builtintype" id="2978354">nil</span><span class="op" id="2978357">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978361">fmt</span><span class="op" id="2978364">.</span><span class="ident" id="2978365">Fprint</span><span class="op" id="2978371">(</span><span class="ident" id="2978372">s</span><span class="op" id="2978373">,</span>&nbsp;<span class="string" id="2978375">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2978382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978386">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2978394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2978398">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978427">sign</span>&nbsp;<span class="op" id="2978432">:=</span>&nbsp;<span class="string" id="2978435">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978439">switch</span>&nbsp;<span class="op" id="2978446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978449">case</span>&nbsp;<span class="ident" id="2978454">x</span><span class="op" id="2978455">.</span><span class="ident" id="2978456">neg</span><span class="op" id="2978459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978463">sign</span>&nbsp;<span class="op" id="2978468">=</span>&nbsp;<span class="string" id="2978470">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978475">case</span>&nbsp;<span class="ident" id="2978480">s</span><span class="op" id="2978481">.</span><span class="ident" id="2978482">Flag</span><span class="op" id="2978486">(</span><span class="string" id="2978487">&#39;+&#39;</span><span class="op" id="2978490">)</span><span class="op" id="2978491">:</span>&nbsp;<span class="comment" id="2978493">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978533">sign</span>&nbsp;<span class="op" id="2978538">=</span>&nbsp;<span class="string" id="2978540">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978545">case</span>&nbsp;<span class="ident" id="2978550">s</span><span class="op" id="2978551">.</span><span class="ident" id="2978552">Flag</span><span class="op" id="2978556">(</span><span class="string" id="2978557">&#39;&nbsp;&#39;</span><span class="op" id="2978560">)</span><span class="op" id="2978561">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978565">sign</span>&nbsp;<span class="op" id="2978570">=</span>&nbsp;<span class="string" id="2978572">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2978577">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2978581">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978640">prefix</span>&nbsp;<span class="op" id="2978647">:=</span>&nbsp;<span class="string" id="2978650">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978654">if</span>&nbsp;<span class="ident" id="2978657">s</span><span class="op" id="2978658">.</span><span class="ident" id="2978659">Flag</span><span class="op" id="2978663">(</span><span class="string" id="2978664">&#39;#&#39;</span><span class="op" id="2978667">)</span>&nbsp;<span class="op" id="2978669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978673">switch</span>&nbsp;<span class="ident" id="2978680">ch</span>&nbsp;<span class="op" id="2978683">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978687">case</span>&nbsp;<span class="string" id="2978692">&#39;o&#39;</span><span class="op" id="2978695">:</span>&nbsp;<span class="comment" id="2978697">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978709">prefix</span>&nbsp;<span class="op" id="2978716">=</span>&nbsp;<span class="string" id="2978718">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978724">case</span>&nbsp;<span class="string" id="2978729">&#39;x&#39;</span><span class="op" id="2978732">:</span>&nbsp;<span class="comment" id="2978734">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978752">prefix</span>&nbsp;<span class="op" id="2978759">=</span>&nbsp;<span class="string" id="2978761">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978768">case</span>&nbsp;<span class="string" id="2978773">&#39;X&#39;</span><span class="op" id="2978776">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978781">prefix</span>&nbsp;<span class="op" id="2978788">=</span>&nbsp;<span class="string" id="2978790">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2978797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2978800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2978804">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2978879">digits</span>&nbsp;<span class="op" id="2978886">:=</span>&nbsp;<span class="ident" id="2978889">x</span><span class="op" id="2978890">.</span><span class="ident" id="2978891">abs</span><span class="op" id="2978894">.</span><span class="builtintype" id="2978895">string</span><span class="op" id="2978901">(</span><span class="ident" id="2978902">cs</span><span class="op" id="2978904">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2978908">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978973">var</span>&nbsp;<span class="ident" id="2978977">left</span>&nbsp;<span class="builtintype" id="2978982">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2978988">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979059">var</span>&nbsp;<span class="ident" id="2979063">zeroes</span>&nbsp;<span class="builtintype" id="2979070">int</span>&nbsp;<span class="comment" id="2979074">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979140">var</span>&nbsp;<span class="ident" id="2979144">right</span>&nbsp;<span class="builtintype" id="2979150">int</span>&nbsp;&nbsp;<span class="comment" id="2979155">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2979228">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979310">precision</span><span class="op" id="2979319">,</span>&nbsp;<span class="ident" id="2979321">precisionSet</span>&nbsp;<span class="op" id="2979334">:=</span>&nbsp;<span class="ident" id="2979337">s</span><span class="op" id="2979338">.</span><span class="ident" id="2979339">Precision</span><span class="op" id="2979348">(</span><span class="op" id="2979349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979352">if</span>&nbsp;<span class="ident" id="2979355">precisionSet</span>&nbsp;<span class="op" id="2979368">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979372">switch</span>&nbsp;<span class="op" id="2979379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979383">case</span>&nbsp;<span class="builtinfunc" id="2979388">len</span><span class="op" id="2979391">(</span><span class="ident" id="2979392">digits</span><span class="op" id="2979398">)</span>&nbsp;<span class="op" id="2979400">&lt;</span>&nbsp;<span class="ident" id="2979402">precision</span><span class="op" id="2979411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979416">zeroes</span>&nbsp;<span class="op" id="2979423">=</span>&nbsp;<span class="ident" id="2979425">precision</span>&nbsp;<span class="op" id="2979435">-</span>&nbsp;<span class="builtinfunc" id="2979437">len</span><span class="op" id="2979440">(</span><span class="ident" id="2979441">digits</span><span class="op" id="2979447">)</span>&nbsp;<span class="comment" id="2979449">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979476">case</span>&nbsp;<span class="ident" id="2979481">digits</span>&nbsp;<span class="op" id="2979488">==</span>&nbsp;<span class="string" id="2979491">&#34;0&#34;</span>&nbsp;<span class="op" id="2979495">&amp;&amp;</span>&nbsp;<span class="ident" id="2979498">precision</span>&nbsp;<span class="op" id="2979508">==</span>&nbsp;<span class="num" id="2979511">0</span><span class="op" id="2979512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979517">return</span>&nbsp;<span class="comment" id="2979524">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2979599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2979602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2979606">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979683">length</span>&nbsp;<span class="op" id="2979690">:=</span>&nbsp;<span class="builtinfunc" id="2979693">len</span><span class="op" id="2979696">(</span><span class="ident" id="2979697">sign</span><span class="op" id="2979701">)</span>&nbsp;<span class="op" id="2979703">+</span>&nbsp;<span class="builtinfunc" id="2979705">len</span><span class="op" id="2979708">(</span><span class="ident" id="2979709">prefix</span><span class="op" id="2979715">)</span>&nbsp;<span class="op" id="2979717">+</span>&nbsp;<span class="ident" id="2979719">zeroes</span>&nbsp;<span class="op" id="2979726">+</span>&nbsp;<span class="builtinfunc" id="2979728">len</span><span class="op" id="2979731">(</span><span class="ident" id="2979732">digits</span><span class="op" id="2979738">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979741">if</span>&nbsp;<span class="ident" id="2979744">width</span><span class="op" id="2979749">,</span>&nbsp;<span class="ident" id="2979751">widthSet</span>&nbsp;<span class="op" id="2979760">:=</span>&nbsp;<span class="ident" id="2979763">s</span><span class="op" id="2979764">.</span><span class="ident" id="2979765">Width</span><span class="op" id="2979770">(</span><span class="op" id="2979771">)</span><span class="op" id="2979772">;</span>&nbsp;<span class="ident" id="2979774">widthSet</span>&nbsp;<span class="op" id="2979783">&amp;&amp;</span>&nbsp;<span class="ident" id="2979786">length</span>&nbsp;<span class="op" id="2979793">&lt;</span>&nbsp;<span class="ident" id="2979795">width</span>&nbsp;<span class="op" id="2979801">{</span>&nbsp;<span class="comment" id="2979803">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979825">switch</span>&nbsp;<span class="ident" id="2979832">d</span>&nbsp;<span class="op" id="2979834">:=</span>&nbsp;<span class="ident" id="2979837">width</span>&nbsp;<span class="op" id="2979843">-</span>&nbsp;<span class="ident" id="2979845">length</span><span class="op" id="2979851">;</span>&nbsp;<span class="op" id="2979853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979857">case</span>&nbsp;<span class="ident" id="2979862">s</span><span class="op" id="2979863">.</span><span class="ident" id="2979864">Flag</span><span class="op" id="2979868">(</span><span class="string" id="2979869">&#39;-&#39;</span><span class="op" id="2979872">)</span><span class="op" id="2979873">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2979878">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979949">right</span>&nbsp;<span class="op" id="2979955">=</span>&nbsp;<span class="ident" id="2979957">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979961">case</span>&nbsp;<span class="ident" id="2979966">s</span><span class="op" id="2979967">.</span><span class="ident" id="2979968">Flag</span><span class="op" id="2979972">(</span><span class="string" id="2979973">&#39;0&#39;</span><span class="op" id="2979976">)</span>&nbsp;<span class="op" id="2979978">&amp;&amp;</span>&nbsp;<span class="op" id="2979981">!</span><span class="ident" id="2979982">precisionSet</span><span class="op" id="2979994">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2979999">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980053">zeroes</span>&nbsp;<span class="op" id="2980060">=</span>&nbsp;<span class="ident" id="2980062">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2980066">default</span><span class="op" id="2980073">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2980078">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980112">left</span>&nbsp;<span class="op" id="2980117">=</span>&nbsp;<span class="ident" id="2980119">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2980123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2980126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2980130">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980204">writeMultiple</span><span class="op" id="2980217">(</span><span class="ident" id="2980218">s</span><span class="op" id="2980219">,</span>&nbsp;<span class="string" id="2980221">&#34;&nbsp;&#34;</span><span class="op" id="2980224">,</span>&nbsp;<span class="ident" id="2980226">left</span><span class="op" id="2980230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980233">writeMultiple</span><span class="op" id="2980246">(</span><span class="ident" id="2980247">s</span><span class="op" id="2980248">,</span>&nbsp;<span class="ident" id="2980250">sign</span><span class="op" id="2980254">,</span>&nbsp;<span class="num" id="2980256">1</span><span class="op" id="2980257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980260">writeMultiple</span><span class="op" id="2980273">(</span><span class="ident" id="2980274">s</span><span class="op" id="2980275">,</span>&nbsp;<span class="ident" id="2980277">prefix</span><span class="op" id="2980283">,</span>&nbsp;<span class="num" id="2980285">1</span><span class="op" id="2980286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980289">writeMultiple</span><span class="op" id="2980302">(</span><span class="ident" id="2980303">s</span><span class="op" id="2980304">,</span>&nbsp;<span class="string" id="2980306">&#34;0&#34;</span><span class="op" id="2980309">,</span>&nbsp;<span class="ident" id="2980311">zeroes</span><span class="op" id="2980317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980320">writeMultiple</span><span class="op" id="2980333">(</span><span class="ident" id="2980334">s</span><span class="op" id="2980335">,</span>&nbsp;<span class="ident" id="2980337">digits</span><span class="op" id="2980343">,</span>&nbsp;<span class="num" id="2980345">1</span><span class="op" id="2980346">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980349">writeMultiple</span><span class="op" id="2980362">(</span><span class="ident" id="2980363">s</span><span class="op" id="2980364">,</span>&nbsp;<span class="string" id="2980366">&#34;&nbsp;&#34;</span><span class="op" id="2980369">,</span>&nbsp;<span class="ident" id="2980371">right</span><span class="op" id="2980376">)</span><br>
<span class="lineno"></span><span class="op" id="2980378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2980381">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="2980462">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="2980542">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2980621">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="2980699">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="2980755">//</span><br>
<span class="lineno"></span><span class="comment" id="2980758">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="2980836">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2980914">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2980990">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="2981068">//</span><br>
<span class="lineno"></span><span class="keyword" id="2981071">func</span>&nbsp;<span class="op" id="2981076">(</span><span class="ident" id="2981077">z</span>&nbsp;<span class="op" id="2981079">*</span><span class="ident" id="2981080">Int</span><span class="op" id="2981083">)</span>&nbsp;<span class="ident" id="2981085">scan</span><span class="op" id="2981089">(</span><span class="ident" id="2981090">r</span>&nbsp;<span class="ident" id="2981092">io</span><span class="op" id="2981094">.</span><span class="ident" id="2981095">RuneScanner</span><span class="op" id="2981106">,</span>&nbsp;<span class="ident" id="2981108">base</span>&nbsp;<span class="builtintype" id="2981113">int</span><span class="op" id="2981116">)</span>&nbsp;<span class="op" id="2981118">(</span><span class="op" id="2981119">*</span><span class="ident" id="2981120">Int</span><span class="op" id="2981123">,</span>&nbsp;<span class="builtintype" id="2981125">int</span><span class="op" id="2981128">,</span>&nbsp;<span class="builtintype" id="2981130">error</span><span class="op" id="2981135">)</span>&nbsp;<span class="op" id="2981137">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2981140">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981159">ch</span><span class="op" id="2981161">,</span>&nbsp;<span class="ident" id="2981163">_</span><span class="op" id="2981164">,</span>&nbsp;<span class="ident" id="2981166">err</span>&nbsp;<span class="op" id="2981170">:=</span>&nbsp;<span class="ident" id="2981173">r</span><span class="op" id="2981174">.</span><span class="ident" id="2981175">ReadRune</span><span class="op" id="2981183">(</span><span class="op" id="2981184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981187">if</span>&nbsp;<span class="ident" id="2981190">err</span>&nbsp;<span class="op" id="2981194">!=</span>&nbsp;<span class="builtintype" id="2981197">nil</span>&nbsp;<span class="op" id="2981201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981205">return</span>&nbsp;<span class="builtintype" id="2981212">nil</span><span class="op" id="2981215">,</span>&nbsp;<span class="num" id="2981217">0</span><span class="op" id="2981218">,</span>&nbsp;<span class="ident" id="2981220">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2981225">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981228">neg</span>&nbsp;<span class="op" id="2981232">:=</span>&nbsp;<span class="builtintype" id="2981235">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981242">switch</span>&nbsp;<span class="ident" id="2981249">ch</span>&nbsp;<span class="op" id="2981252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981255">case</span>&nbsp;<span class="string" id="2981260">&#39;-&#39;</span><span class="op" id="2981263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981267">neg</span>&nbsp;<span class="op" id="2981271">=</span>&nbsp;<span class="builtintype" id="2981273">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981279">case</span>&nbsp;<span class="string" id="2981284">&#39;+&#39;</span><span class="op" id="2981287">:</span>&nbsp;<span class="comment" id="2981289">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981307">default</span><span class="op" id="2981314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981318">r</span><span class="op" id="2981319">.</span><span class="ident" id="2981320">UnreadRune</span><span class="op" id="2981330">(</span><span class="op" id="2981331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2981334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2981338">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981361">z</span><span class="op" id="2981362">.</span><span class="ident" id="2981363">abs</span><span class="op" id="2981366">,</span>&nbsp;<span class="ident" id="2981368">base</span><span class="op" id="2981372">,</span>&nbsp;<span class="ident" id="2981374">err</span>&nbsp;<span class="op" id="2981378">=</span>&nbsp;<span class="ident" id="2981380">z</span><span class="op" id="2981381">.</span><span class="ident" id="2981382">abs</span><span class="op" id="2981385">.</span><span class="ident" id="2981386">scan</span><span class="op" id="2981390">(</span><span class="ident" id="2981391">r</span><span class="op" id="2981392">,</span>&nbsp;<span class="ident" id="2981394">base</span><span class="op" id="2981398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981401">if</span>&nbsp;<span class="ident" id="2981404">err</span>&nbsp;<span class="op" id="2981408">!=</span>&nbsp;<span class="builtintype" id="2981411">nil</span>&nbsp;<span class="op" id="2981415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981419">return</span>&nbsp;<span class="builtintype" id="2981426">nil</span><span class="op" id="2981429">,</span>&nbsp;<span class="ident" id="2981431">base</span><span class="op" id="2981435">,</span>&nbsp;<span class="ident" id="2981437">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2981442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981445">z</span><span class="op" id="2981446">.</span><span class="ident" id="2981447">neg</span>&nbsp;<span class="op" id="2981451">=</span>&nbsp;<span class="builtinfunc" id="2981453">len</span><span class="op" id="2981456">(</span><span class="ident" id="2981457">z</span><span class="op" id="2981458">.</span><span class="ident" id="2981459">abs</span><span class="op" id="2981462">)</span>&nbsp;<span class="op" id="2981464">&gt;</span>&nbsp;<span class="num" id="2981466">0</span>&nbsp;<span class="op" id="2981468">&amp;&amp;</span>&nbsp;<span class="ident" id="2981471">neg</span>&nbsp;<span class="comment" id="2981475">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981494">return</span>&nbsp;<span class="ident" id="2981501">z</span><span class="op" id="2981502">,</span>&nbsp;<span class="ident" id="2981504">base</span><span class="op" id="2981508">,</span>&nbsp;<span class="builtintype" id="2981510">nil</span><br>
<span class="lineno"></span><span class="op" id="2981514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2981517">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="2981589">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="2981662">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="2981742">func</span>&nbsp;<span class="op" id="2981747">(</span><span class="ident" id="2981748">z</span>&nbsp;<span class="op" id="2981750">*</span><span class="ident" id="2981751">Int</span><span class="op" id="2981754">)</span>&nbsp;<span class="ident" id="2981756">Scan</span><span class="op" id="2981760">(</span><span class="ident" id="2981761">s</span>&nbsp;<span class="ident" id="2981763">fmt</span><span class="op" id="2981766">.</span><span class="ident" id="2981767">ScanState</span><span class="op" id="2981776">,</span>&nbsp;<span class="ident" id="2981778">ch</span>&nbsp;<span class="builtintype" id="2981781">rune</span><span class="op" id="2981785">)</span>&nbsp;<span class="builtintype" id="2981787">error</span>&nbsp;<span class="op" id="2981793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981796">s</span><span class="op" id="2981797">.</span><span class="ident" id="2981798">SkipSpace</span><span class="op" id="2981807">(</span><span class="op" id="2981808">)</span>&nbsp;<span class="comment" id="2981810">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981844">base</span>&nbsp;<span class="op" id="2981849">:=</span>&nbsp;<span class="num" id="2981852">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981855">switch</span>&nbsp;<span class="ident" id="2981862">ch</span>&nbsp;<span class="op" id="2981865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981868">case</span>&nbsp;<span class="string" id="2981873">&#39;b&#39;</span><span class="op" id="2981876">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981880">base</span>&nbsp;<span class="op" id="2981885">=</span>&nbsp;<span class="num" id="2981887">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981890">case</span>&nbsp;<span class="string" id="2981895">&#39;o&#39;</span><span class="op" id="2981898">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981902">base</span>&nbsp;<span class="op" id="2981907">=</span>&nbsp;<span class="num" id="2981909">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981912">case</span>&nbsp;<span class="string" id="2981917">&#39;d&#39;</span><span class="op" id="2981920">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981924">base</span>&nbsp;<span class="op" id="2981929">=</span>&nbsp;<span class="num" id="2981931">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981935">case</span>&nbsp;<span class="string" id="2981940">&#39;x&#39;</span><span class="op" id="2981943">,</span>&nbsp;<span class="string" id="2981945">&#39;X&#39;</span><span class="op" id="2981948">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981952">base</span>&nbsp;<span class="op" id="2981957">=</span>&nbsp;<span class="num" id="2981959">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981963">case</span>&nbsp;<span class="string" id="2981968">&#39;s&#39;</span><span class="op" id="2981971">,</span>&nbsp;<span class="string" id="2981973">&#39;v&#39;</span><span class="op" id="2981976">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2981980">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982012">default</span><span class="op" id="2982019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982023">return</span>&nbsp;<span class="ident" id="2982030">errors</span><span class="op" id="2982036">.</span><span class="ident" id="2982037">New</span><span class="op" id="2982040">(</span><span class="string" id="2982041">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="2982065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2982068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2982071">_</span><span class="op" id="2982072">,</span>&nbsp;<span class="ident" id="2982074">_</span><span class="op" id="2982075">,</span>&nbsp;<span class="ident" id="2982077">err</span>&nbsp;<span class="op" id="2982081">:=</span>&nbsp;<span class="ident" id="2982084">z</span><span class="op" id="2982085">.</span><span class="ident" id="2982086">scan</span><span class="op" id="2982090">(</span><span class="ident" id="2982091">s</span><span class="op" id="2982092">,</span>&nbsp;<span class="ident" id="2982094">base</span><span class="op" id="2982098">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982101">return</span>&nbsp;<span class="ident" id="2982108">err</span><br>
<span class="lineno"></span><span class="op" id="2982112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2982115">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2982168">func</span>&nbsp;<span class="ident" id="2982173">low32</span><span class="op" id="2982178">(</span><span class="ident" id="2982179">z</span>&nbsp;<span class="ident" id="2982181">nat</span><span class="op" id="2982184">)</span>&nbsp;<span class="builtintype" id="2982186">uint32</span>&nbsp;<span class="op" id="2982193">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982196">if</span>&nbsp;<span class="builtinfunc" id="2982199">len</span><span class="op" id="2982202">(</span><span class="ident" id="2982203">z</span><span class="op" id="2982204">)</span>&nbsp;<span class="op" id="2982206">==</span>&nbsp;<span class="num" id="2982209">0</span>&nbsp;<span class="op" id="2982211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982215">return</span>&nbsp;<span class="num" id="2982222">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2982225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982228">return</span>&nbsp;<span class="builtintype" id="2982235">uint32</span><span class="op" id="2982241">(</span><span class="ident" id="2982242">z</span><span class="op" id="2982243">[</span><span class="num" id="2982244">0</span><span class="op" id="2982245">]</span><span class="op" id="2982246">)</span><br>
<span class="lineno"></span><span class="op" id="2982248">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="2982251">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2982304">func</span>&nbsp;<span class="ident" id="2982309">low64</span><span class="op" id="2982314">(</span><span class="ident" id="2982315">z</span>&nbsp;<span class="ident" id="2982317">nat</span><span class="op" id="2982320">)</span>&nbsp;<span class="ident" id="2982322">uint64</span>&nbsp;<span class="op" id="2982329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982332">if</span>&nbsp;<span class="builtinfunc" id="2982335">len</span><span class="op" id="2982338">(</span><span class="ident" id="2982339">z</span><span class="op" id="2982340">)</span>&nbsp;<span class="op" id="2982342">==</span>&nbsp;<span class="num" id="2982345">0</span>&nbsp;<span class="op" id="2982347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982351">return</span>&nbsp;<span class="num" id="2982358">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2982361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2982364">v</span>&nbsp;<span class="op" id="2982366">:=</span>&nbsp;<span class="ident" id="2982369">uint64</span><span class="op" id="2982375">(</span><span class="ident" id="2982376">z</span><span class="op" id="2982377">[</span><span class="num" id="2982378">0</span><span class="op" id="2982379">]</span><span class="op" id="2982380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982383">if</span>&nbsp;<span class="ident" id="2982386">_W</span>&nbsp;<span class="op" id="2982389">==</span>&nbsp;<span class="num" id="2982392">32</span>&nbsp;<span class="op" id="2982395">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2982398">len</span><span class="op" id="2982401">(</span><span class="ident" id="2982402">z</span><span class="op" id="2982403">)</span>&nbsp;<span class="op" id="2982405">&gt;</span>&nbsp;<span class="num" id="2982407">1</span>&nbsp;<span class="op" id="2982409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2982413">v</span>&nbsp;<span class="op" id="2982415">|=</span>&nbsp;<span class="ident" id="2982418">uint64</span><span class="op" id="2982424">(</span><span class="ident" id="2982425">z</span><span class="op" id="2982426">[</span><span class="num" id="2982427">1</span><span class="op" id="2982428">]</span><span class="op" id="2982429">)</span>&nbsp;<span class="op" id="2982431">&lt;&lt;</span>&nbsp;<span class="num" id="2982434">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2982438">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982441">return</span>&nbsp;<span class="ident" id="2982448">v</span><br>
<span class="lineno"></span><span class="op" id="2982450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2982453">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="2982501">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="2982569">func</span>&nbsp;<span class="op" id="2982574">(</span><span class="ident" id="2982575">x</span>&nbsp;<span class="op" id="2982577">*</span><span class="ident" id="2982578">Int</span><span class="op" id="2982581">)</span>&nbsp;<span class="ident" id="2982583">Int64</span><span class="op" id="2982588">(</span><span class="op" id="2982589">)</span>&nbsp;<span class="ident" id="2982591">int64</span>&nbsp;<span class="op" id="2982597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2982600">v</span>&nbsp;<span class="op" id="2982602">:=</span>&nbsp;<span class="ident" id="2982605">int64</span><span class="op" id="2982610">(</span><span class="ident" id="2982611">low64</span><span class="op" id="2982616">(</span><span class="ident" id="2982617">x</span><span class="op" id="2982618">.</span><span class="ident" id="2982619">abs</span><span class="op" id="2982622">)</span><span class="op" id="2982623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982626">if</span>&nbsp;<span class="ident" id="2982629">x</span><span class="op" id="2982630">.</span><span class="ident" id="2982631">neg</span>&nbsp;<span class="op" id="2982635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2982639">v</span>&nbsp;<span class="op" id="2982641">=</span>&nbsp;<span class="op" id="2982643">-</span><span class="ident" id="2982644">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2982647">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982650">return</span>&nbsp;<span class="ident" id="2982657">v</span><br>
<span class="lineno"></span><span class="op" id="2982659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2982662">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="2982712">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="2982780">func</span>&nbsp;<span class="op" id="2982785">(</span><span class="ident" id="2982786">x</span>&nbsp;<span class="op" id="2982788">*</span><span class="ident" id="2982789">Int</span><span class="op" id="2982792">)</span>&nbsp;<span class="ident" id="2982794">Uint64</span><span class="op" id="2982800">(</span><span class="op" id="2982801">)</span>&nbsp;<span class="ident" id="2982803">uint64</span>&nbsp;<span class="op" id="2982810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982813">return</span>&nbsp;<span class="ident" id="2982820">low64</span><span class="op" id="2982825">(</span><span class="ident" id="2982826">x</span><span class="op" id="2982827">.</span><span class="ident" id="2982828">abs</span><span class="op" id="2982831">)</span><br>
<span class="lineno"></span><span class="op" id="2982833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2982836">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="2982906">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="2982977">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2983039">//</span><br>
<span class="lineno"></span><span class="comment" id="2983042">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="2983120">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="2983198">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2983274">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="2983352">//</span><br>
<span class="lineno"></span><span class="keyword" id="2983355">func</span>&nbsp;<span class="op" id="2983360">(</span><span class="ident" id="2983361">z</span>&nbsp;<span class="op" id="2983363">*</span><span class="ident" id="2983364">Int</span><span class="op" id="2983367">)</span>&nbsp;<span class="ident" id="2983369">SetString</span><span class="op" id="2983378">(</span><span class="ident" id="2983379">s</span>&nbsp;<span class="builtintype" id="2983381">string</span><span class="op" id="2983387">,</span>&nbsp;<span class="ident" id="2983389">base</span>&nbsp;<span class="builtintype" id="2983394">int</span><span class="op" id="2983397">)</span>&nbsp;<span class="op" id="2983399">(</span><span class="op" id="2983400">*</span><span class="ident" id="2983401">Int</span><span class="op" id="2983404">,</span>&nbsp;<span class="builtintype" id="2983406">bool</span><span class="op" id="2983410">)</span>&nbsp;<span class="op" id="2983412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983415">r</span>&nbsp;<span class="op" id="2983417">:=</span>&nbsp;<span class="ident" id="2983420">strings</span><span class="op" id="2983427">.</span><span class="ident" id="2983428">NewReader</span><span class="op" id="2983437">(</span><span class="ident" id="2983438">s</span><span class="op" id="2983439">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983442">_</span><span class="op" id="2983443">,</span>&nbsp;<span class="ident" id="2983445">_</span><span class="op" id="2983446">,</span>&nbsp;<span class="ident" id="2983448">err</span>&nbsp;<span class="op" id="2983452">:=</span>&nbsp;<span class="ident" id="2983455">z</span><span class="op" id="2983456">.</span><span class="ident" id="2983457">scan</span><span class="op" id="2983461">(</span><span class="ident" id="2983462">r</span><span class="op" id="2983463">,</span>&nbsp;<span class="ident" id="2983465">base</span><span class="op" id="2983469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983472">if</span>&nbsp;<span class="ident" id="2983475">err</span>&nbsp;<span class="op" id="2983479">!=</span>&nbsp;<span class="builtintype" id="2983482">nil</span>&nbsp;<span class="op" id="2983486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983490">return</span>&nbsp;<span class="builtintype" id="2983497">nil</span><span class="op" id="2983500">,</span>&nbsp;<span class="builtintype" id="2983502">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2983509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983512">_</span><span class="op" id="2983513">,</span>&nbsp;<span class="ident" id="2983515">_</span><span class="op" id="2983516">,</span>&nbsp;<span class="ident" id="2983518">err</span>&nbsp;<span class="op" id="2983522">=</span>&nbsp;<span class="ident" id="2983524">r</span><span class="op" id="2983525">.</span><span class="ident" id="2983526">ReadRune</span><span class="op" id="2983534">(</span><span class="op" id="2983535">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983538">if</span>&nbsp;<span class="ident" id="2983541">err</span>&nbsp;<span class="op" id="2983545">!=</span>&nbsp;<span class="ident" id="2983548">io</span><span class="op" id="2983550">.</span><span class="ident" id="2983551">EOF</span>&nbsp;<span class="op" id="2983555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983559">return</span>&nbsp;<span class="builtintype" id="2983566">nil</span><span class="op" id="2983569">,</span>&nbsp;<span class="builtintype" id="2983571">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2983578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983581">return</span>&nbsp;<span class="ident" id="2983588">z</span><span class="op" id="2983589">,</span>&nbsp;<span class="builtintype" id="2983591">true</span>&nbsp;<span class="comment" id="2983596">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="2983639">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="2983642">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="2983707">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2983756">func</span>&nbsp;<span class="op" id="2983761">(</span><span class="ident" id="2983762">z</span>&nbsp;<span class="op" id="2983764">*</span><span class="ident" id="2983765">Int</span><span class="op" id="2983768">)</span>&nbsp;<span class="ident" id="2983770">SetBytes</span><span class="op" id="2983778">(</span><span class="ident" id="2983779">buf</span>&nbsp;<span class="op" id="2983783">[</span><span class="op" id="2983784">]</span><span class="builtintype" id="2983785">byte</span><span class="op" id="2983789">)</span>&nbsp;<span class="op" id="2983791">*</span><span class="ident" id="2983792">Int</span>&nbsp;<span class="op" id="2983796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983799">z</span><span class="op" id="2983800">.</span><span class="ident" id="2983801">abs</span>&nbsp;<span class="op" id="2983805">=</span>&nbsp;<span class="ident" id="2983807">z</span><span class="op" id="2983808">.</span><span class="ident" id="2983809">abs</span><span class="op" id="2983812">.</span><span class="ident" id="2983813">setBytes</span><span class="op" id="2983821">(</span><span class="ident" id="2983822">buf</span><span class="op" id="2983825">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983828">z</span><span class="op" id="2983829">.</span><span class="ident" id="2983830">neg</span>&nbsp;<span class="op" id="2983834">=</span>&nbsp;<span class="builtintype" id="2983836">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983843">return</span>&nbsp;<span class="ident" id="2983850">z</span><br>
<span class="lineno"></span><span class="op" id="2983852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2983855">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="2983924">func</span>&nbsp;<span class="op" id="2983929">(</span><span class="ident" id="2983930">x</span>&nbsp;<span class="op" id="2983932">*</span><span class="ident" id="2983933">Int</span><span class="op" id="2983936">)</span>&nbsp;<span class="ident" id="2983938">Bytes</span><span class="op" id="2983943">(</span><span class="op" id="2983944">)</span>&nbsp;<span class="op" id="2983946">[</span><span class="op" id="2983947">]</span><span class="builtintype" id="2983948">byte</span>&nbsp;<span class="op" id="2983953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983956">buf</span>&nbsp;<span class="op" id="2983960">:=</span>&nbsp;<span class="builtinfunc" id="2983963">make</span><span class="op" id="2983967">(</span><span class="op" id="2983968">[</span><span class="op" id="2983969">]</span><span class="builtintype" id="2983970">byte</span><span class="op" id="2983974">,</span>&nbsp;<span class="builtinfunc" id="2983976">len</span><span class="op" id="2983979">(</span><span class="ident" id="2983980">x</span><span class="op" id="2983981">.</span><span class="ident" id="2983982">abs</span><span class="op" id="2983985">)</span><span class="op" id="2983986">*</span><span class="ident" id="2983987">_S</span><span class="op" id="2983989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983992">return</span>&nbsp;<span class="ident" id="2983999">buf</span><span class="op" id="2984002">[</span><span class="ident" id="2984003">x</span><span class="op" id="2984004">.</span><span class="ident" id="2984005">abs</span><span class="op" id="2984008">.</span><span class="ident" id="2984009">bytes</span><span class="op" id="2984014">(</span><span class="ident" id="2984015">buf</span><span class="op" id="2984018">)</span><span class="op" id="2984019">:</span><span class="op" id="2984020">]</span><br>
<span class="lineno"></span><span class="op" id="2984022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="2984025">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2984090">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="2984119">func</span>&nbsp;<span class="op" id="2984124">(</span><span class="ident" id="2984125">x</span>&nbsp;<span class="op" id="2984127">*</span><span class="ident" id="2984128">Int</span><span class="op" id="2984131">)</span>&nbsp;<span class="ident" id="2984133">BitLen</span><span class="op" id="2984139">(</span><span class="op" id="2984140">)</span>&nbsp;<span class="builtintype" id="2984142">int</span>&nbsp;<span class="op" id="2984146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984149">return</span>&nbsp;<span class="ident" id="2984156">x</span><span class="op" id="2984157">.</span><span class="ident" id="2984158">abs</span><span class="op" id="2984161">.</span><span class="ident" id="2984162">bitLen</span><span class="op" id="2984168">(</span><span class="op" id="2984169">)</span><br>
<span class="lineno"></span><span class="op" id="2984171">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="2984174">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="2984251">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="2984323">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="2984362">func</span>&nbsp;<span class="op" id="2984367">(</span><span class="ident" id="2984368">z</span>&nbsp;<span class="op" id="2984370">*</span><span class="ident" id="2984371">Int</span><span class="op" id="2984374">)</span>&nbsp;<span class="ident" id="2984376">Exp</span><span class="op" id="2984379">(</span><span class="ident" id="2984380">x</span><span class="op" id="2984381">,</span>&nbsp;<span class="ident" id="2984383">y</span><span class="op" id="2984384">,</span>&nbsp;<span class="ident" id="2984386">m</span>&nbsp;<span class="op" id="2984388">*</span><span class="ident" id="2984389">Int</span><span class="op" id="2984392">)</span>&nbsp;<span class="op" id="2984394">*</span><span class="ident" id="2984395">Int</span>&nbsp;<span class="op" id="2984399">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984402">var</span>&nbsp;<span class="ident" id="2984406">yWords</span>&nbsp;<span class="ident" id="2984413">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984418">if</span>&nbsp;<span class="op" id="2984421">!</span><span class="ident" id="2984422">y</span><span class="op" id="2984423">.</span><span class="ident" id="2984424">neg</span>&nbsp;<span class="op" id="2984428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984432">yWords</span>&nbsp;<span class="op" id="2984439">=</span>&nbsp;<span class="ident" id="2984441">y</span><span class="op" id="2984442">.</span><span class="ident" id="2984443">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2984451">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984463">var</span>&nbsp;<span class="ident" id="2984467">mWords</span>&nbsp;<span class="ident" id="2984474">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984479">if</span>&nbsp;<span class="ident" id="2984482">m</span>&nbsp;<span class="op" id="2984484">!=</span>&nbsp;<span class="builtintype" id="2984487">nil</span>&nbsp;<span class="op" id="2984491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984495">mWords</span>&nbsp;<span class="op" id="2984502">=</span>&nbsp;<span class="ident" id="2984504">m</span><span class="op" id="2984505">.</span><span class="ident" id="2984506">abs</span>&nbsp;<span class="comment" id="2984510">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984542">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984546">z</span><span class="op" id="2984547">.</span><span class="ident" id="2984548">abs</span>&nbsp;<span class="op" id="2984552">=</span>&nbsp;<span class="ident" id="2984554">z</span><span class="op" id="2984555">.</span><span class="ident" id="2984556">abs</span><span class="op" id="2984559">.</span><span class="ident" id="2984560">expNN</span><span class="op" id="2984565">(</span><span class="ident" id="2984566">x</span><span class="op" id="2984567">.</span><span class="ident" id="2984568">abs</span><span class="op" id="2984571">,</span>&nbsp;<span class="ident" id="2984573">yWords</span><span class="op" id="2984579">,</span>&nbsp;<span class="ident" id="2984581">mWords</span><span class="op" id="2984587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984590">z</span><span class="op" id="2984591">.</span><span class="ident" id="2984592">neg</span>&nbsp;<span class="op" id="2984596">=</span>&nbsp;<span class="builtinfunc" id="2984598">len</span><span class="op" id="2984601">(</span><span class="ident" id="2984602">z</span><span class="op" id="2984603">.</span><span class="ident" id="2984604">abs</span><span class="op" id="2984607">)</span>&nbsp;<span class="op" id="2984609">&gt;</span>&nbsp;<span class="num" id="2984611">0</span>&nbsp;<span class="op" id="2984613">&amp;&amp;</span>&nbsp;<span class="ident" id="2984616">x</span><span class="op" id="2984617">.</span><span class="ident" id="2984618">neg</span>&nbsp;<span class="op" id="2984622">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2984625">len</span><span class="op" id="2984628">(</span><span class="ident" id="2984629">yWords</span><span class="op" id="2984635">)</span>&nbsp;<span class="op" id="2984637">&gt;</span>&nbsp;<span class="num" id="2984639">0</span>&nbsp;<span class="op" id="2984641">&amp;&amp;</span>&nbsp;<span class="ident" id="2984644">yWords</span><span class="op" id="2984650">[</span><span class="num" id="2984651">0</span><span class="op" id="2984652">]</span><span class="op" id="2984653">&amp;</span><span class="num" id="2984654">1</span>&nbsp;<span class="op" id="2984656">==</span>&nbsp;<span class="num" id="2984659">1</span>&nbsp;<span class="comment" id="2984661">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984679">if</span>&nbsp;<span class="ident" id="2984682">z</span><span class="op" id="2984683">.</span><span class="ident" id="2984684">neg</span>&nbsp;<span class="op" id="2984688">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2984691">len</span><span class="op" id="2984694">(</span><span class="ident" id="2984695">mWords</span><span class="op" id="2984701">)</span>&nbsp;<span class="op" id="2984703">&gt;</span>&nbsp;<span class="num" id="2984705">0</span>&nbsp;<span class="op" id="2984707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2984711">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984745">z</span><span class="op" id="2984746">.</span><span class="ident" id="2984747">abs</span>&nbsp;<span class="op" id="2984751">=</span>&nbsp;<span class="ident" id="2984753">z</span><span class="op" id="2984754">.</span><span class="ident" id="2984755">abs</span><span class="op" id="2984758">.</span><span class="ident" id="2984759">sub</span><span class="op" id="2984762">(</span><span class="ident" id="2984763">mWords</span><span class="op" id="2984769">,</span>&nbsp;<span class="ident" id="2984771">z</span><span class="op" id="2984772">.</span><span class="ident" id="2984773">abs</span><span class="op" id="2984776">)</span>&nbsp;<span class="comment" id="2984778">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984817">z</span><span class="op" id="2984818">.</span><span class="ident" id="2984819">neg</span>&nbsp;<span class="op" id="2984823">=</span>&nbsp;<span class="builtintype" id="2984825">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984836">return</span>&nbsp;<span class="ident" id="2984843">z</span><br>
<span class="lineno">615</span><span class="op" id="2984845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2984848">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="2984921">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="2984947">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="2985016">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="2985069">func</span>&nbsp;<span class="op" id="2985074">(</span><span class="ident" id="2985075">z</span>&nbsp;<span class="op" id="2985077">*</span><span class="ident" id="2985078">Int</span><span class="op" id="2985081">)</span>&nbsp;<span class="ident" id="2985083">GCD</span><span class="op" id="2985086">(</span><span class="ident" id="2985087">x</span><span class="op" id="2985088">,</span>&nbsp;<span class="ident" id="2985090">y</span><span class="op" id="2985091">,</span>&nbsp;<span class="ident" id="2985093">a</span><span class="op" id="2985094">,</span>&nbsp;<span class="ident" id="2985096">b</span>&nbsp;<span class="op" id="2985098">*</span><span class="ident" id="2985099">Int</span><span class="op" id="2985102">)</span>&nbsp;<span class="op" id="2985104">*</span><span class="ident" id="2985105">Int</span>&nbsp;<span class="op" id="2985109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985112">if</span>&nbsp;<span class="ident" id="2985115">a</span><span class="op" id="2985116">.</span><span class="ident" id="2985117">Sign</span><span class="op" id="2985121">(</span><span class="op" id="2985122">)</span>&nbsp;<span class="op" id="2985124">&lt;=</span>&nbsp;<span class="num" id="2985127">0</span>&nbsp;<span class="op" id="2985129">||</span>&nbsp;<span class="ident" id="2985132">b</span><span class="op" id="2985133">.</span><span class="ident" id="2985134">Sign</span><span class="op" id="2985138">(</span><span class="op" id="2985139">)</span>&nbsp;<span class="op" id="2985141">&lt;=</span>&nbsp;<span class="num" id="2985144">0</span>&nbsp;<span class="op" id="2985146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985150">z</span><span class="op" id="2985151">.</span><span class="ident" id="2985152">SetInt64</span><span class="op" id="2985160">(</span><span class="num" id="2985161">0</span><span class="op" id="2985162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985166">if</span>&nbsp;<span class="ident" id="2985169">x</span>&nbsp;<span class="op" id="2985171">!=</span>&nbsp;<span class="builtintype" id="2985174">nil</span>&nbsp;<span class="op" id="2985178">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985183">x</span><span class="op" id="2985184">.</span><span class="ident" id="2985185">SetInt64</span><span class="op" id="2985193">(</span><span class="num" id="2985194">0</span><span class="op" id="2985195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985203">if</span>&nbsp;<span class="ident" id="2985206">y</span>&nbsp;<span class="op" id="2985208">!=</span>&nbsp;<span class="builtintype" id="2985211">nil</span>&nbsp;<span class="op" id="2985215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985220">y</span><span class="op" id="2985221">.</span><span class="ident" id="2985222">SetInt64</span><span class="op" id="2985230">(</span><span class="num" id="2985231">0</span><span class="op" id="2985232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985236">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985240">return</span>&nbsp;<span class="ident" id="2985247">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985253">if</span>&nbsp;<span class="ident" id="2985256">x</span>&nbsp;<span class="op" id="2985258">==</span>&nbsp;<span class="builtintype" id="2985261">nil</span>&nbsp;<span class="op" id="2985265">&amp;&amp;</span>&nbsp;<span class="ident" id="2985268">y</span>&nbsp;<span class="op" id="2985270">==</span>&nbsp;<span class="builtintype" id="2985273">nil</span>&nbsp;<span class="op" id="2985277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985281">return</span>&nbsp;<span class="ident" id="2985288">z</span><span class="op" id="2985289">.</span><span class="ident" id="2985290">binaryGCD</span><span class="op" id="2985299">(</span><span class="ident" id="2985300">a</span><span class="op" id="2985301">,</span>&nbsp;<span class="ident" id="2985303">b</span><span class="op" id="2985304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985307">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985311">A</span>&nbsp;<span class="op" id="2985313">:=</span>&nbsp;<span class="builtinfunc" id="2985316">new</span><span class="op" id="2985319">(</span><span class="ident" id="2985320">Int</span><span class="op" id="2985323">)</span><span class="op" id="2985324">.</span><span class="ident" id="2985325">Set</span><span class="op" id="2985328">(</span><span class="ident" id="2985329">a</span><span class="op" id="2985330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985333">B</span>&nbsp;<span class="op" id="2985335">:=</span>&nbsp;<span class="builtinfunc" id="2985338">new</span><span class="op" id="2985341">(</span><span class="ident" id="2985342">Int</span><span class="op" id="2985345">)</span><span class="op" id="2985346">.</span><span class="ident" id="2985347">Set</span><span class="op" id="2985350">(</span><span class="ident" id="2985351">b</span><span class="op" id="2985352">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985356">X</span>&nbsp;<span class="op" id="2985358">:=</span>&nbsp;<span class="builtinfunc" id="2985361">new</span><span class="op" id="2985364">(</span><span class="ident" id="2985365">Int</span><span class="op" id="2985368">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985371">Y</span>&nbsp;<span class="op" id="2985373">:=</span>&nbsp;<span class="builtinfunc" id="2985376">new</span><span class="op" id="2985379">(</span><span class="ident" id="2985380">Int</span><span class="op" id="2985383">)</span><span class="op" id="2985384">.</span><span class="ident" id="2985385">SetInt64</span><span class="op" id="2985393">(</span><span class="num" id="2985394">1</span><span class="op" id="2985395">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985399">lastX</span>&nbsp;<span class="op" id="2985405">:=</span>&nbsp;<span class="builtinfunc" id="2985408">new</span><span class="op" id="2985411">(</span><span class="ident" id="2985412">Int</span><span class="op" id="2985415">)</span><span class="op" id="2985416">.</span><span class="ident" id="2985417">SetInt64</span><span class="op" id="2985425">(</span><span class="num" id="2985426">1</span><span class="op" id="2985427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985430">lastY</span>&nbsp;<span class="op" id="2985436">:=</span>&nbsp;<span class="builtinfunc" id="2985439">new</span><span class="op" id="2985442">(</span><span class="ident" id="2985443">Int</span><span class="op" id="2985446">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985450">q</span>&nbsp;<span class="op" id="2985452">:=</span>&nbsp;<span class="builtinfunc" id="2985455">new</span><span class="op" id="2985458">(</span><span class="ident" id="2985459">Int</span><span class="op" id="2985462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985465">temp</span>&nbsp;<span class="op" id="2985470">:=</span>&nbsp;<span class="builtinfunc" id="2985473">new</span><span class="op" id="2985476">(</span><span class="ident" id="2985477">Int</span><span class="op" id="2985480">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985484">for</span>&nbsp;<span class="builtinfunc" id="2985488">len</span><span class="op" id="2985491">(</span><span class="ident" id="2985492">B</span><span class="op" id="2985493">.</span><span class="ident" id="2985494">abs</span><span class="op" id="2985497">)</span>&nbsp;<span class="op" id="2985499">&gt;</span>&nbsp;<span class="num" id="2985501">0</span>&nbsp;<span class="op" id="2985503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985507">r</span>&nbsp;<span class="op" id="2985509">:=</span>&nbsp;<span class="builtinfunc" id="2985512">new</span><span class="op" id="2985515">(</span><span class="ident" id="2985516">Int</span><span class="op" id="2985519">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985523">q</span><span class="op" id="2985524">,</span>&nbsp;<span class="ident" id="2985526">r</span>&nbsp;<span class="op" id="2985528">=</span>&nbsp;<span class="ident" id="2985530">q</span><span class="op" id="2985531">.</span><span class="ident" id="2985532">QuoRem</span><span class="op" id="2985538">(</span><span class="ident" id="2985539">A</span><span class="op" id="2985540">,</span>&nbsp;<span class="ident" id="2985542">B</span><span class="op" id="2985543">,</span>&nbsp;<span class="ident" id="2985545">r</span><span class="op" id="2985546">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985551">A</span><span class="op" id="2985552">,</span>&nbsp;<span class="ident" id="2985554">B</span>&nbsp;<span class="op" id="2985556">=</span>&nbsp;<span class="ident" id="2985558">B</span><span class="op" id="2985559">,</span>&nbsp;<span class="ident" id="2985561">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985566">temp</span><span class="op" id="2985570">.</span><span class="ident" id="2985571">Set</span><span class="op" id="2985574">(</span><span class="ident" id="2985575">X</span><span class="op" id="2985576">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985580">X</span><span class="op" id="2985581">.</span><span class="ident" id="2985582">Mul</span><span class="op" id="2985585">(</span><span class="ident" id="2985586">X</span><span class="op" id="2985587">,</span>&nbsp;<span class="ident" id="2985589">q</span><span class="op" id="2985590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985594">X</span><span class="op" id="2985595">.</span><span class="ident" id="2985596">neg</span>&nbsp;<span class="op" id="2985600">=</span>&nbsp;<span class="op" id="2985602">!</span><span class="ident" id="2985603">X</span><span class="op" id="2985604">.</span><span class="ident" id="2985605">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985611">X</span><span class="op" id="2985612">.</span><span class="ident" id="2985613">Add</span><span class="op" id="2985616">(</span><span class="ident" id="2985617">X</span><span class="op" id="2985618">,</span>&nbsp;<span class="ident" id="2985620">lastX</span><span class="op" id="2985625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985629">lastX</span><span class="op" id="2985634">.</span><span class="ident" id="2985635">Set</span><span class="op" id="2985638">(</span><span class="ident" id="2985639">temp</span><span class="op" id="2985643">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985648">temp</span><span class="op" id="2985652">.</span><span class="ident" id="2985653">Set</span><span class="op" id="2985656">(</span><span class="ident" id="2985657">Y</span><span class="op" id="2985658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985662">Y</span><span class="op" id="2985663">.</span><span class="ident" id="2985664">Mul</span><span class="op" id="2985667">(</span><span class="ident" id="2985668">Y</span><span class="op" id="2985669">,</span>&nbsp;<span class="ident" id="2985671">q</span><span class="op" id="2985672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985676">Y</span><span class="op" id="2985677">.</span><span class="ident" id="2985678">neg</span>&nbsp;<span class="op" id="2985682">=</span>&nbsp;<span class="op" id="2985684">!</span><span class="ident" id="2985685">Y</span><span class="op" id="2985686">.</span><span class="ident" id="2985687">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985693">Y</span><span class="op" id="2985694">.</span><span class="ident" id="2985695">Add</span><span class="op" id="2985698">(</span><span class="ident" id="2985699">Y</span><span class="op" id="2985700">,</span>&nbsp;<span class="ident" id="2985702">lastY</span><span class="op" id="2985707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985711">lastY</span><span class="op" id="2985716">.</span><span class="ident" id="2985717">Set</span><span class="op" id="2985720">(</span><span class="ident" id="2985721">temp</span><span class="op" id="2985725">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985732">if</span>&nbsp;<span class="ident" id="2985735">x</span>&nbsp;<span class="op" id="2985737">!=</span>&nbsp;<span class="builtintype" id="2985740">nil</span>&nbsp;<span class="op" id="2985744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985748">*</span><span class="ident" id="2985749">x</span>&nbsp;<span class="op" id="2985751">=</span>&nbsp;<span class="op" id="2985753">*</span><span class="ident" id="2985754">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985761">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985765">if</span>&nbsp;<span class="ident" id="2985768">y</span>&nbsp;<span class="op" id="2985770">!=</span>&nbsp;<span class="builtintype" id="2985773">nil</span>&nbsp;<span class="op" id="2985777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985781">*</span><span class="ident" id="2985782">y</span>&nbsp;<span class="op" id="2985784">=</span>&nbsp;<span class="op" id="2985786">*</span><span class="ident" id="2985787">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985798">*</span><span class="ident" id="2985799">z</span>&nbsp;<span class="op" id="2985801">=</span>&nbsp;<span class="op" id="2985803">*</span><span class="ident" id="2985804">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985807">return</span>&nbsp;<span class="ident" id="2985814">z</span><br>
<span class="lineno"></span><span class="op" id="2985816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2985819">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="2985898">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="2985924">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="2986007">func</span>&nbsp;<span class="op" id="2986012">(</span><span class="ident" id="2986013">z</span>&nbsp;<span class="op" id="2986015">*</span><span class="ident" id="2986016">Int</span><span class="op" id="2986019">)</span>&nbsp;<span class="ident" id="2986021">binaryGCD</span><span class="op" id="2986030">(</span><span class="ident" id="2986031">a</span><span class="op" id="2986032">,</span>&nbsp;<span class="ident" id="2986034">b</span>&nbsp;<span class="op" id="2986036">*</span><span class="ident" id="2986037">Int</span><span class="op" id="2986040">)</span>&nbsp;<span class="op" id="2986042">*</span><span class="ident" id="2986043">Int</span>&nbsp;<span class="op" id="2986047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986050">u</span>&nbsp;<span class="op" id="2986052">:=</span>&nbsp;<span class="ident" id="2986055">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986058">v</span>&nbsp;<span class="op" id="2986060">:=</span>&nbsp;<span class="builtinfunc" id="2986063">new</span><span class="op" id="2986066">(</span><span class="ident" id="2986067">Int</span><span class="op" id="2986070">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2986074">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986155">switch</span>&nbsp;<span class="op" id="2986162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986165">case</span>&nbsp;<span class="builtinfunc" id="2986170">len</span><span class="op" id="2986173">(</span><span class="ident" id="2986174">a</span><span class="op" id="2986175">.</span><span class="ident" id="2986176">abs</span><span class="op" id="2986179">)</span>&nbsp;<span class="op" id="2986181">&gt;</span>&nbsp;<span class="builtinfunc" id="2986183">len</span><span class="op" id="2986186">(</span><span class="ident" id="2986187">b</span><span class="op" id="2986188">.</span><span class="ident" id="2986189">abs</span><span class="op" id="2986192">)</span><span class="op" id="2986193">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986197">u</span><span class="op" id="2986198">.</span><span class="ident" id="2986199">Set</span><span class="op" id="2986202">(</span><span class="ident" id="2986203">b</span><span class="op" id="2986204">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986208">v</span><span class="op" id="2986209">.</span><span class="ident" id="2986210">Rem</span><span class="op" id="2986213">(</span><span class="ident" id="2986214">a</span><span class="op" id="2986215">,</span>&nbsp;<span class="ident" id="2986217">b</span><span class="op" id="2986218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986221">case</span>&nbsp;<span class="builtinfunc" id="2986226">len</span><span class="op" id="2986229">(</span><span class="ident" id="2986230">a</span><span class="op" id="2986231">.</span><span class="ident" id="2986232">abs</span><span class="op" id="2986235">)</span>&nbsp;<span class="op" id="2986237">&lt;</span>&nbsp;<span class="builtinfunc" id="2986239">len</span><span class="op" id="2986242">(</span><span class="ident" id="2986243">b</span><span class="op" id="2986244">.</span><span class="ident" id="2986245">abs</span><span class="op" id="2986248">)</span><span class="op" id="2986249">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986253">u</span><span class="op" id="2986254">.</span><span class="ident" id="2986255">Set</span><span class="op" id="2986258">(</span><span class="ident" id="2986259">a</span><span class="op" id="2986260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986264">v</span><span class="op" id="2986265">.</span><span class="ident" id="2986266">Rem</span><span class="op" id="2986269">(</span><span class="ident" id="2986270">b</span><span class="op" id="2986271">,</span>&nbsp;<span class="ident" id="2986273">a</span><span class="op" id="2986274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986277">default</span><span class="op" id="2986284">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986288">u</span><span class="op" id="2986289">.</span><span class="ident" id="2986290">Set</span><span class="op" id="2986293">(</span><span class="ident" id="2986294">a</span><span class="op" id="2986295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986299">v</span><span class="op" id="2986300">.</span><span class="ident" id="2986301">Set</span><span class="op" id="2986304">(</span><span class="ident" id="2986305">b</span><span class="op" id="2986306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2986309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2986313">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986334">if</span>&nbsp;<span class="builtinfunc" id="2986337">len</span><span class="op" id="2986340">(</span><span class="ident" id="2986341">v</span><span class="op" id="2986342">.</span><span class="ident" id="2986343">abs</span><span class="op" id="2986346">)</span>&nbsp;<span class="op" id="2986348">==</span>&nbsp;<span class="num" id="2986351">0</span>&nbsp;<span class="op" id="2986353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986357">return</span>&nbsp;<span class="ident" id="2986364">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2986367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2986370">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2986390">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986449">k</span>&nbsp;<span class="op" id="2986451">:=</span>&nbsp;<span class="ident" id="2986454">u</span><span class="op" id="2986455">.</span><span class="ident" id="2986456">abs</span><span class="op" id="2986459">.</span><span class="ident" id="2986460">trailingZeroBits</span><span class="op" id="2986476">(</span><span class="op" id="2986477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986480">if</span>&nbsp;<span class="ident" id="2986483">vk</span>&nbsp;<span class="op" id="2986486">:=</span>&nbsp;<span class="ident" id="2986489">v</span><span class="op" id="2986490">.</span><span class="ident" id="2986491">abs</span><span class="op" id="2986494">.</span><span class="ident" id="2986495">trailingZeroBits</span><span class="op" id="2986511">(</span><span class="op" id="2986512">)</span><span class="op" id="2986513">;</span>&nbsp;<span class="ident" id="2986515">vk</span>&nbsp;<span class="op" id="2986518">&lt;</span>&nbsp;<span class="ident" id="2986520">k</span>&nbsp;<span class="op" id="2986522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986526">k</span>&nbsp;<span class="op" id="2986528">=</span>&nbsp;<span class="ident" id="2986530">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2986534">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986537">u</span><span class="op" id="2986538">.</span><span class="ident" id="2986539">Rsh</span><span class="op" id="2986542">(</span><span class="ident" id="2986543">u</span><span class="op" id="2986544">,</span>&nbsp;<span class="ident" id="2986546">k</span><span class="op" id="2986547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986550">v</span><span class="op" id="2986551">.</span><span class="ident" id="2986552">Rsh</span><span class="op" id="2986555">(</span><span class="ident" id="2986556">v</span><span class="op" id="2986557">,</span>&nbsp;<span class="ident" id="2986559">k</span><span class="op" id="2986560">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2986564">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986601">t</span>&nbsp;<span class="op" id="2986603">:=</span>&nbsp;<span class="builtinfunc" id="2986606">new</span><span class="op" id="2986609">(</span><span class="ident" id="2986610">Int</span><span class="op" id="2986613">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986616">if</span>&nbsp;<span class="ident" id="2986619">u</span><span class="op" id="2986620">.</span><span class="ident" id="2986621">abs</span><span class="op" id="2986624">[</span><span class="num" id="2986625">0</span><span class="op" id="2986626">]</span><span class="op" id="2986627">&amp;</span><span class="num" id="2986628">1</span>&nbsp;<span class="op" id="2986630">!=</span>&nbsp;<span class="num" id="2986633">0</span>&nbsp;<span class="op" id="2986635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2986639">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986653">t</span><span class="op" id="2986654">.</span><span class="ident" id="2986655">Neg</span><span class="op" id="2986658">(</span><span class="ident" id="2986659">v</span><span class="op" id="2986660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2986663">}</span>&nbsp;<span class="keyword" id="2986665">else</span>&nbsp;<span class="op" id="2986670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986674">t</span><span class="op" id="2986675">.</span><span class="ident" id="2986676">Set</span><span class="op" id="2986679">(</span><span class="ident" id="2986680">u</span><span class="op" id="2986681">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2986684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986688">for</span>&nbsp;<span class="builtinfunc" id="2986692">len</span><span class="op" id="2986695">(</span><span class="ident" id="2986696">t</span><span class="op" id="2986697">.</span><span class="ident" id="2986698">abs</span><span class="op" id="2986701">)</span>&nbsp;<span class="op" id="2986703">&gt;</span>&nbsp;<span class="num" id="2986705">0</span>&nbsp;<span class="op" id="2986707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2986711">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986725">t</span><span class="op" id="2986726">.</span><span class="ident" id="2986727">Rsh</span><span class="op" id="2986730">(</span><span class="ident" id="2986731">t</span><span class="op" id="2986732">,</span>&nbsp;<span class="ident" id="2986734">t</span><span class="op" id="2986735">.</span><span class="ident" id="2986736">abs</span><span class="op" id="2986739">.</span><span class="ident" id="2986740">trailingZeroBits</span><span class="op" id="2986756">(</span><span class="op" id="2986757">)</span><span class="op" id="2986758">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986762">if</span>&nbsp;<span class="ident" id="2986765">t</span><span class="op" id="2986766">.</span><span class="ident" id="2986767">neg</span>&nbsp;<span class="op" id="2986771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986776">v</span><span class="op" id="2986777">,</span>&nbsp;<span class="ident" id="2986779">t</span>&nbsp;<span class="op" id="2986781">=</span>&nbsp;<span class="ident" id="2986783">t</span><span class="op" id="2986784">,</span>&nbsp;<span class="ident" id="2986786">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986791">v</span><span class="op" id="2986792">.</span><span class="ident" id="2986793">neg</span>&nbsp;<span class="op" id="2986797">=</span>&nbsp;<span class="builtinfunc" id="2986799">len</span><span class="op" id="2986802">(</span><span class="ident" id="2986803">v</span><span class="op" id="2986804">.</span><span class="ident" id="2986805">abs</span><span class="op" id="2986808">)</span>&nbsp;<span class="op" id="2986810">&gt;</span>&nbsp;<span class="num" id="2986812">0</span>&nbsp;<span class="op" id="2986814">&amp;&amp;</span>&nbsp;<span class="op" id="2986817">!</span><span class="ident" id="2986818">v</span><span class="op" id="2986819">.</span><span class="ident" id="2986820">neg</span>&nbsp;<span class="comment" id="2986824">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2986843">}</span>&nbsp;<span class="keyword" id="2986845">else</span>&nbsp;<span class="op" id="2986850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986855">u</span><span class="op" id="2986856">,</span>&nbsp;<span class="ident" id="2986858">t</span>&nbsp;<span class="op" id="2986860">=</span>&nbsp;<span class="ident" id="2986862">t</span><span class="op" id="2986863">,</span>&nbsp;<span class="ident" id="2986865">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2986869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2986873">t</span><span class="op" id="2986874">.</span><span class="ident" id="2986875">Sub</span><span class="op" id="2986878">(</span><span class="ident" id="2986879">u</span><span class="op" id="2986880">,</span>&nbsp;<span class="ident" id="2986882">v</span><span class="op" id="2986883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2986886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2986890">return</span>&nbsp;<span class="ident" id="2986897">z</span><span class="op" id="2986898">.</span><span class="ident" id="2986899">Lsh</span><span class="op" id="2986902">(</span><span class="ident" id="2986903">u</span><span class="op" id="2986904">,</span>&nbsp;<span class="ident" id="2986906">k</span><span class="op" id="2986907">)</span><br>
<span class="lineno">735</span><span class="op" id="2986909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2986912">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="2986988">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="2987050">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="2987090">func</span>&nbsp;<span class="op" id="2987095">(</span><span class="ident" id="2987096">x</span>&nbsp;<span class="op" id="2987098">*</span><span class="ident" id="2987099">Int</span><span class="op" id="2987102">)</span>&nbsp;<span class="ident" id="2987104">ProbablyPrime</span><span class="op" id="2987117">(</span><span class="ident" id="2987118">n</span>&nbsp;<span class="builtintype" id="2987120">int</span><span class="op" id="2987123">)</span>&nbsp;<span class="builtintype" id="2987125">bool</span>&nbsp;<span class="op" id="2987130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2987133">return</span>&nbsp;<span class="op" id="2987140">!</span><span class="ident" id="2987141">x</span><span class="op" id="2987142">.</span><span class="ident" id="2987143">neg</span>&nbsp;<span class="op" id="2987147">&amp;&amp;</span>&nbsp;<span class="ident" id="2987150">x</span><span class="op" id="2987151">.</span><span class="ident" id="2987152">abs</span><span class="op" id="2987155">.</span><span class="ident" id="2987156">probablyPrime</span><span class="op" id="2987169">(</span><span class="ident" id="2987170">n</span><span class="op" id="2987171">)</span><br>
<span class="lineno"></span><span class="op" id="2987173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2987176">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="2987242">func</span>&nbsp;<span class="op" id="2987247">(</span><span class="ident" id="2987248">z</span>&nbsp;<span class="op" id="2987250">*</span><span class="ident" id="2987251">Int</span><span class="op" id="2987254">)</span>&nbsp;<span class="ident" id="2987256">Rand</span><span class="op" id="2987260">(</span><span class="ident" id="2987261">rnd</span>&nbsp;<span class="op" id="2987265">*</span><span class="ident" id="2987266">rand</span><span class="op" id="2987270">.</span><span class="ident" id="2987271">Rand</span><span class="op" id="2987275">,</span>&nbsp;<span class="ident" id="2987277">n</span>&nbsp;<span class="op" id="2987279">*</span><span class="ident" id="2987280">Int</span><span class="op" id="2987283">)</span>&nbsp;<span class="op" id="2987285">*</span><span class="ident" id="2987286">Int</span>&nbsp;<span class="op" id="2987290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2987293">z</span><span class="op" id="2987294">.</span><span class="ident" id="2987295">neg</span>&nbsp;<span class="op" id="2987299">=</span>&nbsp;<span class="builtintype" id="2987301">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2987308">if</span>&nbsp;<span class="ident" id="2987311">n</span><span class="op" id="2987312">.</span><span class="ident" id="2987313">neg</span>&nbsp;<span class="op" id="2987317">==</span>&nbsp;<span class="builtintype" id="2987320">true</span>&nbsp;<span class="op" id="2987325">||</span>&nbsp;<span class="builtinfunc" id="2987328">len</span><span class="op" id="2987331">(</span><span class="ident" id="2987332">n</span><span class="op" id="2987333">.</span><span class="ident" id="2987334">abs</span><span class="op" id="2987337">)</span>&nbsp;<span class="op" id="2987339">==</span>&nbsp;<span class="num" id="2987342">0</span>&nbsp;<span class="op" id="2987344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2987348">z</span><span class="op" id="2987349">.</span><span class="ident" id="2987350">abs</span>&nbsp;<span class="op" id="2987354">=</span>&nbsp;<span class="builtintype" id="2987356">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2987362">return</span>&nbsp;<span class="ident" id="2987369">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2987372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2987375">z</span><span class="op" id="2987376">.</span><span class="ident" id="2987377">abs</span>&nbsp;<span class="op" id="2987381">=</span>&nbsp;<span class="ident" id="2987383">z</span><span class="op" id="2987384">.</span><span class="ident" id="2987385">abs</span><span class="op" id="2987388">.</span><span class="ident" id="2987389">random</span><span class="op" id="2987395">(</span><span class="ident" id="2987396">rnd</span><span class="op" id="2987399">,</span>&nbsp;<span class="ident" id="2987401">n</span><span class="op" id="2987402">.</span><span class="ident" id="2987403">abs</span><span class="op" id="2987406">,</span>&nbsp;<span class="ident" id="2987408">n</span><span class="op" id="2987409">.</span><span class="ident" id="2987410">abs</span><span class="op" id="2987413">.</span><span class="ident" id="2987414">bitLen</span><span class="op" id="2987420">(</span><span class="op" id="2987421">)</span><span class="op" id="2987422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2987425">return</span>&nbsp;<span class="ident" id="2987432">z</span><br>
<span class="lineno"></span><span class="op" id="2987434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="2987437">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;/n</span><br>
<span class="lineno"></span><span class="comment" id="2987514">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="2987594">func</span>&nbsp;<span class="op" id="2987599">(</span><span class="ident" id="2987600">z</span>&nbsp;<span class="op" id="2987602">*</span><span class="ident" id="2987603">Int</span><span class="op" id="2987606">)</span>&nbsp;<span class="ident" id="2987608">ModInverse</span><span class="op" id="2987618">(</span><span class="ident" id="2987619">g</span><span class="op" id="2987620">,</span>&nbsp;<span class="ident" id="2987622">n</span>&nbsp;<span class="op" id="2987624">*</span><span class="ident" id="2987625">Int</span><span class="op" id="2987628">)</span>&nbsp;<span class="op" id="2987630">*</span><span class="ident" id="2987631">Int</span>&nbsp;<span class="op" id="2987635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2987638">var</span>&nbsp;<span class="ident" id="2987642">d</span>&nbsp;<span class="ident" id="2987644">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2987649">d</span><span class="op" id="2987650">.</span><span class="ident" id="2987651">GCD</span><span class="op" id="2987654">(</span><span class="ident" id="2987655">z</span><span class="op" id="2987656">,</span>&nbsp;<span class="builtintype" id="2987658">nil</span><span class="op" id="2987661">,</span>&nbsp;<span class="ident" id="2987663">g</span><span class="op" id="2987664">,</span>&nbsp;<span class="ident" id="2987666">n</span><span class="op" id="2987667">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2987670">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2987729">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2987790">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2987839">if</span>&nbsp;<span class="ident" id="2987842">z</span><span class="op" id="2987843">.</span><span class="ident" id="2987844">neg</span>&nbsp;<span class="op" id="2987848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2987852">z</span><span class="op" id="2987853">.</span><span class="ident" id="2987854">Add</span><span class="op" id="2987857">(</span><span class="ident" id="2987858">z</span><span class="op" id="2987859">,</span>&nbsp;<span class="ident" id="2987861">n</span><span class="op" id="2987862">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2987865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2987868">return</span>&nbsp;<span class="ident" id="2987875">z</span><br>
<span class="lineno"></span><span class="op" id="2987877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2987880">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="2987918">func</span>&nbsp;<span class="op" id="2987923">(</span><span class="ident" id="2987924">z</span>&nbsp;<span class="op" id="2987926">*</span><span class="ident" id="2987927">Int</span><span class="op" id="2987930">)</span>&nbsp;<span class="ident" id="2987932">Lsh</span><span class="op" id="2987935">(</span><span class="ident" id="2987936">x</span>&nbsp;<span class="op" id="2987938">*</span><span class="ident" id="2987939">Int</span><span class="op" id="2987942">,</span>&nbsp;<span class="ident" id="2987944">n</span>&nbsp;<span class="builtintype" id="2987946">uint</span><span class="op" id="2987950">)</span>&nbsp;<span class="op" id="2987952">*</span><span class="ident" id="2987953">Int</span>&nbsp;<span class="op" id="2987957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2987960">z</span><span class="op" id="2987961">.</span><span class="ident" id="2987962">abs</span>&nbsp;<span class="op" id="2987966">=</span>&nbsp;<span class="ident" id="2987968">z</span><span class="op" id="2987969">.</span><span class="ident" id="2987970">abs</span><span class="op" id="2987973">.</span><span class="ident" id="2987974">shl</span><span class="op" id="2987977">(</span><span class="ident" id="2987978">x</span><span class="op" id="2987979">.</span><span class="ident" id="2987980">abs</span><span class="op" id="2987983">,</span>&nbsp;<span class="ident" id="2987985">n</span><span class="op" id="2987986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2987989">z</span><span class="op" id="2987990">.</span><span class="ident" id="2987991">neg</span>&nbsp;<span class="op" id="2987995">=</span>&nbsp;<span class="ident" id="2987997">x</span><span class="op" id="2987998">.</span><span class="ident" id="2987999">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988004">return</span>&nbsp;<span class="ident" id="2988011">z</span><br>
<span class="lineno"></span><span class="op" id="2988013">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="2988016">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2988054">func</span>&nbsp;<span class="op" id="2988059">(</span><span class="ident" id="2988060">z</span>&nbsp;<span class="op" id="2988062">*</span><span class="ident" id="2988063">Int</span><span class="op" id="2988066">)</span>&nbsp;<span class="ident" id="2988068">Rsh</span><span class="op" id="2988071">(</span><span class="ident" id="2988072">x</span>&nbsp;<span class="op" id="2988074">*</span><span class="ident" id="2988075">Int</span><span class="op" id="2988078">,</span>&nbsp;<span class="ident" id="2988080">n</span>&nbsp;<span class="builtintype" id="2988082">uint</span><span class="op" id="2988086">)</span>&nbsp;<span class="op" id="2988088">*</span><span class="ident" id="2988089">Int</span>&nbsp;<span class="op" id="2988093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988096">if</span>&nbsp;<span class="ident" id="2988099">x</span><span class="op" id="2988100">.</span><span class="ident" id="2988101">neg</span>&nbsp;<span class="op" id="2988105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2988109">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2988179">t</span>&nbsp;<span class="op" id="2988181">:=</span>&nbsp;<span class="ident" id="2988184">z</span><span class="op" id="2988185">.</span><span class="ident" id="2988186">abs</span><span class="op" id="2988189">.</span><span class="ident" id="2988190">sub</span><span class="op" id="2988193">(</span><span class="ident" id="2988194">x</span><span class="op" id="2988195">.</span><span class="ident" id="2988196">abs</span><span class="op" id="2988199">,</span>&nbsp;<span class="ident" id="2988201">natOne</span><span class="op" id="2988207">)</span>&nbsp;<span class="comment" id="2988209">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2988243">t</span>&nbsp;<span class="op" id="2988245">=</span>&nbsp;<span class="ident" id="2988247">t</span><span class="op" id="2988248">.</span><span class="ident" id="2988249">shr</span><span class="op" id="2988252">(</span><span class="ident" id="2988253">t</span><span class="op" id="2988254">,</span>&nbsp;<span class="ident" id="2988256">n</span><span class="op" id="2988257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2988261">z</span><span class="op" id="2988262">.</span><span class="ident" id="2988263">abs</span>&nbsp;<span class="op" id="2988267">=</span>&nbsp;<span class="ident" id="2988269">t</span><span class="op" id="2988270">.</span><span class="ident" id="2988271">add</span><span class="op" id="2988274">(</span><span class="ident" id="2988275">t</span><span class="op" id="2988276">,</span>&nbsp;<span class="ident" id="2988278">natOne</span><span class="op" id="2988284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2988288">z</span><span class="op" id="2988289">.</span><span class="ident" id="2988290">neg</span>&nbsp;<span class="op" id="2988294">=</span>&nbsp;<span class="builtintype" id="2988296">true</span>&nbsp;<span class="comment" id="2988301">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988340">return</span>&nbsp;<span class="ident" id="2988347">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2988350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2988354">z</span><span class="op" id="2988355">.</span><span class="ident" id="2988356">abs</span>&nbsp;<span class="op" id="2988360">=</span>&nbsp;<span class="ident" id="2988362">z</span><span class="op" id="2988363">.</span><span class="ident" id="2988364">abs</span><span class="op" id="2988367">.</span><span class="ident" id="2988368">shr</span><span class="op" id="2988371">(</span><span class="ident" id="2988372">x</span><span class="op" id="2988373">.</span><span class="ident" id="2988374">abs</span><span class="op" id="2988377">,</span>&nbsp;<span class="ident" id="2988379">n</span><span class="op" id="2988380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2988383">z</span><span class="op" id="2988384">.</span><span class="ident" id="2988385">neg</span>&nbsp;<span class="op" id="2988389">=</span>&nbsp;<span class="builtintype" id="2988391">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988398">return</span>&nbsp;<span class="ident" id="2988405">z</span><br>
<span class="lineno">790</span><span class="op" id="2988407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2988410">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="2988469">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="2988520">func</span>&nbsp;<span class="op" id="2988525">(</span><span class="ident" id="2988526">x</span>&nbsp;<span class="op" id="2988528">*</span><span class="ident" id="2988529">Int</span><span class="op" id="2988532">)</span>&nbsp;<span class="ident" id="2988534">Bit</span><span class="op" id="2988537">(</span><span class="ident" id="2988538">i</span>&nbsp;<span class="builtintype" id="2988540">int</span><span class="op" id="2988543">)</span>&nbsp;<span class="builtintype" id="2988545">uint</span>&nbsp;<span class="op" id="2988550">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988553">if</span>&nbsp;<span class="ident" id="2988556">i</span>&nbsp;<span class="op" id="2988558">==</span>&nbsp;<span class="num" id="2988561">0</span>&nbsp;<span class="op" id="2988563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2988567">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988621">if</span>&nbsp;<span class="builtinfunc" id="2988624">len</span><span class="op" id="2988627">(</span><span class="ident" id="2988628">x</span><span class="op" id="2988629">.</span><span class="ident" id="2988630">abs</span><span class="op" id="2988633">)</span>&nbsp;<span class="op" id="2988635">&gt;</span>&nbsp;<span class="num" id="2988637">0</span>&nbsp;<span class="op" id="2988639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988644">return</span>&nbsp;<span class="builtintype" id="2988651">uint</span><span class="op" id="2988655">(</span><span class="ident" id="2988656">x</span><span class="op" id="2988657">.</span><span class="ident" id="2988658">abs</span><span class="op" id="2988661">[</span><span class="num" id="2988662">0</span><span class="op" id="2988663">]</span>&nbsp;<span class="op" id="2988665">&amp;</span>&nbsp;<span class="num" id="2988667">1</span><span class="op" id="2988668">)</span>&nbsp;<span class="comment" id="2988670">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2988696">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988700">return</span>&nbsp;<span class="num" id="2988707">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2988710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988713">if</span>&nbsp;<span class="ident" id="2988716">i</span>&nbsp;<span class="op" id="2988718">&lt;</span>&nbsp;<span class="num" id="2988720">0</span>&nbsp;<span class="op" id="2988722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2988726">panic</span><span class="op" id="2988731">(</span><span class="string" id="2988732">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="2988752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2988755">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988758">if</span>&nbsp;<span class="ident" id="2988761">x</span><span class="op" id="2988762">.</span><span class="ident" id="2988763">neg</span>&nbsp;<span class="op" id="2988767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2988771">t</span>&nbsp;<span class="op" id="2988773">:=</span>&nbsp;<span class="ident" id="2988776">nat</span><span class="op" id="2988779">(</span><span class="builtintype" id="2988780">nil</span><span class="op" id="2988783">)</span><span class="op" id="2988784">.</span><span class="ident" id="2988785">sub</span><span class="op" id="2988788">(</span><span class="ident" id="2988789">x</span><span class="op" id="2988790">.</span><span class="ident" id="2988791">abs</span><span class="op" id="2988794">,</span>&nbsp;<span class="ident" id="2988796">natOne</span><span class="op" id="2988802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988806">return</span>&nbsp;<span class="ident" id="2988813">t</span><span class="op" id="2988814">.</span><span class="ident" id="2988815">bit</span><span class="op" id="2988818">(</span><span class="builtintype" id="2988819">uint</span><span class="op" id="2988823">(</span><span class="ident" id="2988824">i</span><span class="op" id="2988825">)</span><span class="op" id="2988826">)</span>&nbsp;<span class="op" id="2988828">^</span>&nbsp;<span class="num" id="2988830">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2988833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2988837">return</span>&nbsp;<span class="ident" id="2988844">x</span><span class="op" id="2988845">.</span><span class="ident" id="2988846">abs</span><span class="op" id="2988849">.</span><span class="ident" id="2988850">bit</span><span class="op" id="2988853">(</span><span class="builtintype" id="2988854">uint</span><span class="op" id="2988858">(</span><span class="ident" id="2988859">i</span><span class="op" id="2988860">)</span><span class="op" id="2988861">)</span><br>
<span class="lineno"></span><span class="op" id="2988863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2988866">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="2988926">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="2988978">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="2989042">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="2989064">func</span>&nbsp;<span class="op" id="2989069">(</span><span class="ident" id="2989070">z</span>&nbsp;<span class="op" id="2989072">*</span><span class="ident" id="2989073">Int</span><span class="op" id="2989076">)</span>&nbsp;<span class="ident" id="2989078">SetBit</span><span class="op" id="2989084">(</span><span class="ident" id="2989085">x</span>&nbsp;<span class="op" id="2989087">*</span><span class="ident" id="2989088">Int</span><span class="op" id="2989091">,</span>&nbsp;<span class="ident" id="2989093">i</span>&nbsp;<span class="builtintype" id="2989095">int</span><span class="op" id="2989098">,</span>&nbsp;<span class="ident" id="2989100">b</span>&nbsp;<span class="builtintype" id="2989102">uint</span><span class="op" id="2989106">)</span>&nbsp;<span class="op" id="2989108">*</span><span class="ident" id="2989109">Int</span>&nbsp;<span class="op" id="2989113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2989116">if</span>&nbsp;<span class="ident" id="2989119">i</span>&nbsp;<span class="op" id="2989121">&lt;</span>&nbsp;<span class="num" id="2989123">0</span>&nbsp;<span class="op" id="2989125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2989129">panic</span><span class="op" id="2989134">(</span><span class="string" id="2989135">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="2989155">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2989158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2989161">if</span>&nbsp;<span class="ident" id="2989164">x</span><span class="op" id="2989165">.</span><span class="ident" id="2989166">neg</span>&nbsp;<span class="op" id="2989170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989174">t</span>&nbsp;<span class="op" id="2989176">:=</span>&nbsp;<span class="ident" id="2989179">z</span><span class="op" id="2989180">.</span><span class="ident" id="2989181">abs</span><span class="op" id="2989184">.</span><span class="ident" id="2989185">sub</span><span class="op" id="2989188">(</span><span class="ident" id="2989189">x</span><span class="op" id="2989190">.</span><span class="ident" id="2989191">abs</span><span class="op" id="2989194">,</span>&nbsp;<span class="ident" id="2989196">natOne</span><span class="op" id="2989202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989206">t</span>&nbsp;<span class="op" id="2989208">=</span>&nbsp;<span class="ident" id="2989210">t</span><span class="op" id="2989211">.</span><span class="ident" id="2989212">setBit</span><span class="op" id="2989218">(</span><span class="ident" id="2989219">t</span><span class="op" id="2989220">,</span>&nbsp;<span class="builtintype" id="2989222">uint</span><span class="op" id="2989226">(</span><span class="ident" id="2989227">i</span><span class="op" id="2989228">)</span><span class="op" id="2989229">,</span>&nbsp;<span class="ident" id="2989231">b</span><span class="op" id="2989232">^</span><span class="num" id="2989233">1</span><span class="op" id="2989234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989238">z</span><span class="op" id="2989239">.</span><span class="ident" id="2989240">abs</span>&nbsp;<span class="op" id="2989244">=</span>&nbsp;<span class="ident" id="2989246">t</span><span class="op" id="2989247">.</span><span class="ident" id="2989248">add</span><span class="op" id="2989251">(</span><span class="ident" id="2989252">t</span><span class="op" id="2989253">,</span>&nbsp;<span class="ident" id="2989255">natOne</span><span class="op" id="2989261">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989265">z</span><span class="op" id="2989266">.</span><span class="ident" id="2989267">neg</span>&nbsp;<span class="op" id="2989271">=</span>&nbsp;<span class="builtinfunc" id="2989273">len</span><span class="op" id="2989276">(</span><span class="ident" id="2989277">z</span><span class="op" id="2989278">.</span><span class="ident" id="2989279">abs</span><span class="op" id="2989282">)</span>&nbsp;<span class="op" id="2989284">&gt;</span>&nbsp;<span class="num" id="2989286">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2989290">return</span>&nbsp;<span class="ident" id="2989297">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2989300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989303">z</span><span class="op" id="2989304">.</span><span class="ident" id="2989305">abs</span>&nbsp;<span class="op" id="2989309">=</span>&nbsp;<span class="ident" id="2989311">z</span><span class="op" id="2989312">.</span><span class="ident" id="2989313">abs</span><span class="op" id="2989316">.</span><span class="ident" id="2989317">setBit</span><span class="op" id="2989323">(</span><span class="ident" id="2989324">x</span><span class="op" id="2989325">.</span><span class="ident" id="2989326">abs</span><span class="op" id="2989329">,</span>&nbsp;<span class="builtintype" id="2989331">uint</span><span class="op" id="2989335">(</span><span class="ident" id="2989336">i</span><span class="op" id="2989337">)</span><span class="op" id="2989338">,</span>&nbsp;<span class="ident" id="2989340">b</span><span class="op" id="2989341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989344">z</span><span class="op" id="2989345">.</span><span class="ident" id="2989346">neg</span>&nbsp;<span class="op" id="2989350">=</span>&nbsp;<span class="builtintype" id="2989352">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2989359">return</span>&nbsp;<span class="ident" id="2989366">z</span><br>
<span class="lineno"></span><span class="op" id="2989368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2989371">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2989408">func</span>&nbsp;<span class="op" id="2989413">(</span><span class="ident" id="2989414">z</span>&nbsp;<span class="op" id="2989416">*</span><span class="ident" id="2989417">Int</span><span class="op" id="2989420">)</span>&nbsp;<span class="ident" id="2989422">And</span><span class="op" id="2989425">(</span><span class="ident" id="2989426">x</span><span class="op" id="2989427">,</span>&nbsp;<span class="ident" id="2989429">y</span>&nbsp;<span class="op" id="2989431">*</span><span class="ident" id="2989432">Int</span><span class="op" id="2989435">)</span>&nbsp;<span class="op" id="2989437">*</span><span class="ident" id="2989438">Int</span>&nbsp;<span class="op" id="2989442">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2989445">if</span>&nbsp;<span class="ident" id="2989448">x</span><span class="op" id="2989449">.</span><span class="ident" id="2989450">neg</span>&nbsp;<span class="op" id="2989454">==</span>&nbsp;<span class="ident" id="2989457">y</span><span class="op" id="2989458">.</span><span class="ident" id="2989459">neg</span>&nbsp;<span class="op" id="2989463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2989467">if</span>&nbsp;<span class="ident" id="2989470">x</span><span class="op" id="2989471">.</span><span class="ident" id="2989472">neg</span>&nbsp;<span class="op" id="2989476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2989481">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989564">x1</span>&nbsp;<span class="op" id="2989567">:=</span>&nbsp;<span class="ident" id="2989570">nat</span><span class="op" id="2989573">(</span><span class="builtintype" id="2989574">nil</span><span class="op" id="2989577">)</span><span class="op" id="2989578">.</span><span class="ident" id="2989579">sub</span><span class="op" id="2989582">(</span><span class="ident" id="2989583">x</span><span class="op" id="2989584">.</span><span class="ident" id="2989585">abs</span><span class="op" id="2989588">,</span>&nbsp;<span class="ident" id="2989590">natOne</span><span class="op" id="2989596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989601">y1</span>&nbsp;<span class="op" id="2989604">:=</span>&nbsp;<span class="ident" id="2989607">nat</span><span class="op" id="2989610">(</span><span class="builtintype" id="2989611">nil</span><span class="op" id="2989614">)</span><span class="op" id="2989615">.</span><span class="ident" id="2989616">sub</span><span class="op" id="2989619">(</span><span class="ident" id="2989620">y</span><span class="op" id="2989621">.</span><span class="ident" id="2989622">abs</span><span class="op" id="2989625">,</span>&nbsp;<span class="ident" id="2989627">natOne</span><span class="op" id="2989633">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989638">z</span><span class="op" id="2989639">.</span><span class="ident" id="2989640">abs</span>&nbsp;<span class="op" id="2989644">=</span>&nbsp;<span class="ident" id="2989646">z</span><span class="op" id="2989647">.</span><span class="ident" id="2989648">abs</span><span class="op" id="2989651">.</span><span class="ident" id="2989652">add</span><span class="op" id="2989655">(</span><span class="ident" id="2989656">z</span><span class="op" id="2989657">.</span><span class="ident" id="2989658">abs</span><span class="op" id="2989661">.</span><span class="ident" id="2989662">or</span><span class="op" id="2989664">(</span><span class="ident" id="2989665">x1</span><span class="op" id="2989667">,</span>&nbsp;<span class="ident" id="2989669">y1</span><span class="op" id="2989671">)</span><span class="op" id="2989672">,</span>&nbsp;<span class="ident" id="2989674">natOne</span><span class="op" id="2989680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989685">z</span><span class="op" id="2989686">.</span><span class="ident" id="2989687">neg</span>&nbsp;<span class="op" id="2989691">=</span>&nbsp;<span class="builtintype" id="2989693">true</span>&nbsp;<span class="comment" id="2989698">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2989745">return</span>&nbsp;<span class="ident" id="2989752">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2989756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2989761">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989781">z</span><span class="op" id="2989782">.</span><span class="ident" id="2989783">abs</span>&nbsp;<span class="op" id="2989787">=</span>&nbsp;<span class="ident" id="2989789">z</span><span class="op" id="2989790">.</span><span class="ident" id="2989791">abs</span><span class="op" id="2989794">.</span><span class="ident" id="2989795">and</span><span class="op" id="2989798">(</span><span class="ident" id="2989799">x</span><span class="op" id="2989800">.</span><span class="ident" id="2989801">abs</span><span class="op" id="2989804">,</span>&nbsp;<span class="ident" id="2989806">y</span><span class="op" id="2989807">.</span><span class="ident" id="2989808">abs</span><span class="op" id="2989811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989815">z</span><span class="op" id="2989816">.</span><span class="ident" id="2989817">neg</span>&nbsp;<span class="op" id="2989821">=</span>&nbsp;<span class="builtintype" id="2989823">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2989831">return</span>&nbsp;<span class="ident" id="2989838">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2989841">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2989845">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2989864">if</span>&nbsp;<span class="ident" id="2989867">x</span><span class="op" id="2989868">.</span><span class="ident" id="2989869">neg</span>&nbsp;<span class="op" id="2989873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989877">x</span><span class="op" id="2989878">,</span>&nbsp;<span class="ident" id="2989880">y</span>&nbsp;<span class="op" id="2989882">=</span>&nbsp;<span class="ident" id="2989884">y</span><span class="op" id="2989885">,</span>&nbsp;<span class="ident" id="2989887">x</span>&nbsp;<span class="comment" id="2989889">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2989908">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2989912">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989953">y1</span>&nbsp;<span class="op" id="2989956">:=</span>&nbsp;<span class="ident" id="2989959">nat</span><span class="op" id="2989962">(</span><span class="builtintype" id="2989963">nil</span><span class="op" id="2989966">)</span><span class="op" id="2989967">.</span><span class="ident" id="2989968">sub</span><span class="op" id="2989971">(</span><span class="ident" id="2989972">y</span><span class="op" id="2989973">.</span><span class="ident" id="2989974">abs</span><span class="op" id="2989977">,</span>&nbsp;<span class="ident" id="2989979">natOne</span><span class="op" id="2989985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2989988">z</span><span class="op" id="2989989">.</span><span class="ident" id="2989990">abs</span>&nbsp;<span class="op" id="2989994">=</span>&nbsp;<span class="ident" id="2989996">z</span><span class="op" id="2989997">.</span><span class="ident" id="2989998">abs</span><span class="op" id="2990001">.</span><span class="ident" id="2990002">andNot</span><span class="op" id="2990008">(</span><span class="ident" id="2990009">x</span><span class="op" id="2990010">.</span><span class="ident" id="2990011">abs</span><span class="op" id="2990014">,</span>&nbsp;<span class="ident" id="2990016">y1</span><span class="op" id="2990018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990021">z</span><span class="op" id="2990022">.</span><span class="ident" id="2990023">neg</span>&nbsp;<span class="op" id="2990027">=</span>&nbsp;<span class="builtintype" id="2990029">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990036">return</span>&nbsp;<span class="ident" id="2990043">z</span><br>
<span class="lineno"></span><span class="op" id="2990045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2990048">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2990089">func</span>&nbsp;<span class="op" id="2990094">(</span><span class="ident" id="2990095">z</span>&nbsp;<span class="op" id="2990097">*</span><span class="ident" id="2990098">Int</span><span class="op" id="2990101">)</span>&nbsp;<span class="ident" id="2990103">AndNot</span><span class="op" id="2990109">(</span><span class="ident" id="2990110">x</span><span class="op" id="2990111">,</span>&nbsp;<span class="ident" id="2990113">y</span>&nbsp;<span class="op" id="2990115">*</span><span class="ident" id="2990116">Int</span><span class="op" id="2990119">)</span>&nbsp;<span class="op" id="2990121">*</span><span class="ident" id="2990122">Int</span>&nbsp;<span class="op" id="2990126">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990129">if</span>&nbsp;<span class="ident" id="2990132">x</span><span class="op" id="2990133">.</span><span class="ident" id="2990134">neg</span>&nbsp;<span class="op" id="2990138">==</span>&nbsp;<span class="ident" id="2990141">y</span><span class="op" id="2990142">.</span><span class="ident" id="2990143">neg</span>&nbsp;<span class="op" id="2990147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990151">if</span>&nbsp;<span class="ident" id="2990154">x</span><span class="op" id="2990155">.</span><span class="ident" id="2990156">neg</span>&nbsp;<span class="op" id="2990160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2990165">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990240">x1</span>&nbsp;<span class="op" id="2990243">:=</span>&nbsp;<span class="ident" id="2990246">nat</span><span class="op" id="2990249">(</span><span class="builtintype" id="2990250">nil</span><span class="op" id="2990253">)</span><span class="op" id="2990254">.</span><span class="ident" id="2990255">sub</span><span class="op" id="2990258">(</span><span class="ident" id="2990259">x</span><span class="op" id="2990260">.</span><span class="ident" id="2990261">abs</span><span class="op" id="2990264">,</span>&nbsp;<span class="ident" id="2990266">natOne</span><span class="op" id="2990272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990277">y1</span>&nbsp;<span class="op" id="2990280">:=</span>&nbsp;<span class="ident" id="2990283">nat</span><span class="op" id="2990286">(</span><span class="builtintype" id="2990287">nil</span><span class="op" id="2990290">)</span><span class="op" id="2990291">.</span><span class="ident" id="2990292">sub</span><span class="op" id="2990295">(</span><span class="ident" id="2990296">y</span><span class="op" id="2990297">.</span><span class="ident" id="2990298">abs</span><span class="op" id="2990301">,</span>&nbsp;<span class="ident" id="2990303">natOne</span><span class="op" id="2990309">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990314">z</span><span class="op" id="2990315">.</span><span class="ident" id="2990316">abs</span>&nbsp;<span class="op" id="2990320">=</span>&nbsp;<span class="ident" id="2990322">z</span><span class="op" id="2990323">.</span><span class="ident" id="2990324">abs</span><span class="op" id="2990327">.</span><span class="ident" id="2990328">andNot</span><span class="op" id="2990334">(</span><span class="ident" id="2990335">y1</span><span class="op" id="2990337">,</span>&nbsp;<span class="ident" id="2990339">x1</span><span class="op" id="2990341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990346">z</span><span class="op" id="2990347">.</span><span class="ident" id="2990348">neg</span>&nbsp;<span class="op" id="2990352">=</span>&nbsp;<span class="builtintype" id="2990354">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990363">return</span>&nbsp;<span class="ident" id="2990370">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2990374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2990379">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990401">z</span><span class="op" id="2990402">.</span><span class="ident" id="2990403">abs</span>&nbsp;<span class="op" id="2990407">=</span>&nbsp;<span class="ident" id="2990409">z</span><span class="op" id="2990410">.</span><span class="ident" id="2990411">abs</span><span class="op" id="2990414">.</span><span class="ident" id="2990415">andNot</span><span class="op" id="2990421">(</span><span class="ident" id="2990422">x</span><span class="op" id="2990423">.</span><span class="ident" id="2990424">abs</span><span class="op" id="2990427">,</span>&nbsp;<span class="ident" id="2990429">y</span><span class="op" id="2990430">.</span><span class="ident" id="2990431">abs</span><span class="op" id="2990434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990438">z</span><span class="op" id="2990439">.</span><span class="ident" id="2990440">neg</span>&nbsp;<span class="op" id="2990444">=</span>&nbsp;<span class="builtintype" id="2990446">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990454">return</span>&nbsp;<span class="ident" id="2990461">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2990464">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990468">if</span>&nbsp;<span class="ident" id="2990471">x</span><span class="op" id="2990472">.</span><span class="ident" id="2990473">neg</span>&nbsp;<span class="op" id="2990477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2990481">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990564">x1</span>&nbsp;<span class="op" id="2990567">:=</span>&nbsp;<span class="ident" id="2990570">nat</span><span class="op" id="2990573">(</span><span class="builtintype" id="2990574">nil</span><span class="op" id="2990577">)</span><span class="op" id="2990578">.</span><span class="ident" id="2990579">sub</span><span class="op" id="2990582">(</span><span class="ident" id="2990583">x</span><span class="op" id="2990584">.</span><span class="ident" id="2990585">abs</span><span class="op" id="2990588">,</span>&nbsp;<span class="ident" id="2990590">natOne</span><span class="op" id="2990596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990600">z</span><span class="op" id="2990601">.</span><span class="ident" id="2990602">abs</span>&nbsp;<span class="op" id="2990606">=</span>&nbsp;<span class="ident" id="2990608">z</span><span class="op" id="2990609">.</span><span class="ident" id="2990610">abs</span><span class="op" id="2990613">.</span><span class="ident" id="2990614">add</span><span class="op" id="2990617">(</span><span class="ident" id="2990618">z</span><span class="op" id="2990619">.</span><span class="ident" id="2990620">abs</span><span class="op" id="2990623">.</span><span class="ident" id="2990624">or</span><span class="op" id="2990626">(</span><span class="ident" id="2990627">x1</span><span class="op" id="2990629">,</span>&nbsp;<span class="ident" id="2990631">y</span><span class="op" id="2990632">.</span><span class="ident" id="2990633">abs</span><span class="op" id="2990636">)</span><span class="op" id="2990637">,</span>&nbsp;<span class="ident" id="2990639">natOne</span><span class="op" id="2990645">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990649">z</span><span class="op" id="2990650">.</span><span class="ident" id="2990651">neg</span>&nbsp;<span class="op" id="2990655">=</span>&nbsp;<span class="builtintype" id="2990657">true</span>&nbsp;<span class="comment" id="2990662">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990719">return</span>&nbsp;<span class="ident" id="2990726">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2990729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2990733">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990775">y1</span>&nbsp;<span class="op" id="2990778">:=</span>&nbsp;<span class="ident" id="2990781">nat</span><span class="op" id="2990784">(</span><span class="builtintype" id="2990785">nil</span><span class="op" id="2990788">)</span><span class="op" id="2990789">.</span><span class="ident" id="2990790">add</span><span class="op" id="2990793">(</span><span class="ident" id="2990794">y</span><span class="op" id="2990795">.</span><span class="ident" id="2990796">abs</span><span class="op" id="2990799">,</span>&nbsp;<span class="ident" id="2990801">natOne</span><span class="op" id="2990807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990810">z</span><span class="op" id="2990811">.</span><span class="ident" id="2990812">abs</span>&nbsp;<span class="op" id="2990816">=</span>&nbsp;<span class="ident" id="2990818">z</span><span class="op" id="2990819">.</span><span class="ident" id="2990820">abs</span><span class="op" id="2990823">.</span><span class="ident" id="2990824">and</span><span class="op" id="2990827">(</span><span class="ident" id="2990828">x</span><span class="op" id="2990829">.</span><span class="ident" id="2990830">abs</span><span class="op" id="2990833">,</span>&nbsp;<span class="ident" id="2990835">y1</span><span class="op" id="2990837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2990840">z</span><span class="op" id="2990841">.</span><span class="ident" id="2990842">neg</span>&nbsp;<span class="op" id="2990846">=</span>&nbsp;<span class="builtintype" id="2990848">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990855">return</span>&nbsp;<span class="ident" id="2990862">z</span><br>
<span class="lineno"></span><span class="op" id="2990864">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="2990867">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2990903">func</span>&nbsp;<span class="op" id="2990908">(</span><span class="ident" id="2990909">z</span>&nbsp;<span class="op" id="2990911">*</span><span class="ident" id="2990912">Int</span><span class="op" id="2990915">)</span>&nbsp;<span class="ident" id="2990917">Or</span><span class="op" id="2990919">(</span><span class="ident" id="2990920">x</span><span class="op" id="2990921">,</span>&nbsp;<span class="ident" id="2990923">y</span>&nbsp;<span class="op" id="2990925">*</span><span class="ident" id="2990926">Int</span><span class="op" id="2990929">)</span>&nbsp;<span class="op" id="2990931">*</span><span class="ident" id="2990932">Int</span>&nbsp;<span class="op" id="2990936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990939">if</span>&nbsp;<span class="ident" id="2990942">x</span><span class="op" id="2990943">.</span><span class="ident" id="2990944">neg</span>&nbsp;<span class="op" id="2990948">==</span>&nbsp;<span class="ident" id="2990951">y</span><span class="op" id="2990952">.</span><span class="ident" id="2990953">neg</span>&nbsp;<span class="op" id="2990957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2990961">if</span>&nbsp;<span class="ident" id="2990964">x</span><span class="op" id="2990965">.</span><span class="ident" id="2990966">neg</span>&nbsp;<span class="op" id="2990970">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2990975">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991058">x1</span>&nbsp;<span class="op" id="2991061">:=</span>&nbsp;<span class="ident" id="2991064">nat</span><span class="op" id="2991067">(</span><span class="builtintype" id="2991068">nil</span><span class="op" id="2991071">)</span><span class="op" id="2991072">.</span><span class="ident" id="2991073">sub</span><span class="op" id="2991076">(</span><span class="ident" id="2991077">x</span><span class="op" id="2991078">.</span><span class="ident" id="2991079">abs</span><span class="op" id="2991082">,</span>&nbsp;<span class="ident" id="2991084">natOne</span><span class="op" id="2991090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991095">y1</span>&nbsp;<span class="op" id="2991098">:=</span>&nbsp;<span class="ident" id="2991101">nat</span><span class="op" id="2991104">(</span><span class="builtintype" id="2991105">nil</span><span class="op" id="2991108">)</span><span class="op" id="2991109">.</span><span class="ident" id="2991110">sub</span><span class="op" id="2991113">(</span><span class="ident" id="2991114">y</span><span class="op" id="2991115">.</span><span class="ident" id="2991116">abs</span><span class="op" id="2991119">,</span>&nbsp;<span class="ident" id="2991121">natOne</span><span class="op" id="2991127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991132">z</span><span class="op" id="2991133">.</span><span class="ident" id="2991134">abs</span>&nbsp;<span class="op" id="2991138">=</span>&nbsp;<span class="ident" id="2991140">z</span><span class="op" id="2991141">.</span><span class="ident" id="2991142">abs</span><span class="op" id="2991145">.</span><span class="ident" id="2991146">add</span><span class="op" id="2991149">(</span><span class="ident" id="2991150">z</span><span class="op" id="2991151">.</span><span class="ident" id="2991152">abs</span><span class="op" id="2991155">.</span><span class="ident" id="2991156">and</span><span class="op" id="2991159">(</span><span class="ident" id="2991160">x1</span><span class="op" id="2991162">,</span>&nbsp;<span class="ident" id="2991164">y1</span><span class="op" id="2991166">)</span><span class="op" id="2991167">,</span>&nbsp;<span class="ident" id="2991169">natOne</span><span class="op" id="2991175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991180">z</span><span class="op" id="2991181">.</span><span class="ident" id="2991182">neg</span>&nbsp;<span class="op" id="2991186">=</span>&nbsp;<span class="builtintype" id="2991188">true</span>&nbsp;<span class="comment" id="2991193">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2991240">return</span>&nbsp;<span class="ident" id="2991247">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2991251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2991256">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991276">z</span><span class="op" id="2991277">.</span><span class="ident" id="2991278">abs</span>&nbsp;<span class="op" id="2991282">=</span>&nbsp;<span class="ident" id="2991284">z</span><span class="op" id="2991285">.</span><span class="ident" id="2991286">abs</span><span class="op" id="2991289">.</span><span class="ident" id="2991290">or</span><span class="op" id="2991292">(</span><span class="ident" id="2991293">x</span><span class="op" id="2991294">.</span><span class="ident" id="2991295">abs</span><span class="op" id="2991298">,</span>&nbsp;<span class="ident" id="2991300">y</span><span class="op" id="2991301">.</span><span class="ident" id="2991302">abs</span><span class="op" id="2991305">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991309">z</span><span class="op" id="2991310">.</span><span class="ident" id="2991311">neg</span>&nbsp;<span class="op" id="2991315">=</span>&nbsp;<span class="builtintype" id="2991317">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2991325">return</span>&nbsp;<span class="ident" id="2991332">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2991335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2991339">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2991358">if</span>&nbsp;<span class="ident" id="2991361">x</span><span class="op" id="2991362">.</span><span class="ident" id="2991363">neg</span>&nbsp;<span class="op" id="2991367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991371">x</span><span class="op" id="2991372">,</span>&nbsp;<span class="ident" id="2991374">y</span>&nbsp;<span class="op" id="2991376">=</span>&nbsp;<span class="ident" id="2991378">y</span><span class="op" id="2991379">,</span>&nbsp;<span class="ident" id="2991381">x</span>&nbsp;<span class="comment" id="2991383">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2991402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2991406">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991474">y1</span>&nbsp;<span class="op" id="2991477">:=</span>&nbsp;<span class="ident" id="2991480">nat</span><span class="op" id="2991483">(</span><span class="builtintype" id="2991484">nil</span><span class="op" id="2991487">)</span><span class="op" id="2991488">.</span><span class="ident" id="2991489">sub</span><span class="op" id="2991492">(</span><span class="ident" id="2991493">y</span><span class="op" id="2991494">.</span><span class="ident" id="2991495">abs</span><span class="op" id="2991498">,</span>&nbsp;<span class="ident" id="2991500">natOne</span><span class="op" id="2991506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991509">z</span><span class="op" id="2991510">.</span><span class="ident" id="2991511">abs</span>&nbsp;<span class="op" id="2991515">=</span>&nbsp;<span class="ident" id="2991517">z</span><span class="op" id="2991518">.</span><span class="ident" id="2991519">abs</span><span class="op" id="2991522">.</span><span class="ident" id="2991523">add</span><span class="op" id="2991526">(</span><span class="ident" id="2991527">z</span><span class="op" id="2991528">.</span><span class="ident" id="2991529">abs</span><span class="op" id="2991532">.</span><span class="ident" id="2991533">andNot</span><span class="op" id="2991539">(</span><span class="ident" id="2991540">y1</span><span class="op" id="2991542">,</span>&nbsp;<span class="ident" id="2991544">x</span><span class="op" id="2991545">.</span><span class="ident" id="2991546">abs</span><span class="op" id="2991549">)</span><span class="op" id="2991550">,</span>&nbsp;<span class="ident" id="2991552">natOne</span><span class="op" id="2991558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991561">z</span><span class="op" id="2991562">.</span><span class="ident" id="2991563">neg</span>&nbsp;<span class="op" id="2991567">=</span>&nbsp;<span class="builtintype" id="2991569">true</span>&nbsp;<span class="comment" id="2991574">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2991624">return</span>&nbsp;<span class="ident" id="2991631">z</span><br>
<span class="lineno"></span><span class="op" id="2991633">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="2991636">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2991673">func</span>&nbsp;<span class="op" id="2991678">(</span><span class="ident" id="2991679">z</span>&nbsp;<span class="op" id="2991681">*</span><span class="ident" id="2991682">Int</span><span class="op" id="2991685">)</span>&nbsp;<span class="ident" id="2991687">Xor</span><span class="op" id="2991690">(</span><span class="ident" id="2991691">x</span><span class="op" id="2991692">,</span>&nbsp;<span class="ident" id="2991694">y</span>&nbsp;<span class="op" id="2991696">*</span><span class="ident" id="2991697">Int</span><span class="op" id="2991700">)</span>&nbsp;<span class="op" id="2991702">*</span><span class="ident" id="2991703">Int</span>&nbsp;<span class="op" id="2991707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2991710">if</span>&nbsp;<span class="ident" id="2991713">x</span><span class="op" id="2991714">.</span><span class="ident" id="2991715">neg</span>&nbsp;<span class="op" id="2991719">==</span>&nbsp;<span class="ident" id="2991722">y</span><span class="op" id="2991723">.</span><span class="ident" id="2991724">neg</span>&nbsp;<span class="op" id="2991728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2991732">if</span>&nbsp;<span class="ident" id="2991735">x</span><span class="op" id="2991736">.</span><span class="ident" id="2991737">neg</span>&nbsp;<span class="op" id="2991741">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2991746">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991800">x1</span>&nbsp;<span class="op" id="2991803">:=</span>&nbsp;<span class="ident" id="2991806">nat</span><span class="op" id="2991809">(</span><span class="builtintype" id="2991810">nil</span><span class="op" id="2991813">)</span><span class="op" id="2991814">.</span><span class="ident" id="2991815">sub</span><span class="op" id="2991818">(</span><span class="ident" id="2991819">x</span><span class="op" id="2991820">.</span><span class="ident" id="2991821">abs</span><span class="op" id="2991824">,</span>&nbsp;<span class="ident" id="2991826">natOne</span><span class="op" id="2991832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991837">y1</span>&nbsp;<span class="op" id="2991840">:=</span>&nbsp;<span class="ident" id="2991843">nat</span><span class="op" id="2991846">(</span><span class="builtintype" id="2991847">nil</span><span class="op" id="2991850">)</span><span class="op" id="2991851">.</span><span class="ident" id="2991852">sub</span><span class="op" id="2991855">(</span><span class="ident" id="2991856">y</span><span class="op" id="2991857">.</span><span class="ident" id="2991858">abs</span><span class="op" id="2991861">,</span>&nbsp;<span class="ident" id="2991863">natOne</span><span class="op" id="2991869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991874">z</span><span class="op" id="2991875">.</span><span class="ident" id="2991876">abs</span>&nbsp;<span class="op" id="2991880">=</span>&nbsp;<span class="ident" id="2991882">z</span><span class="op" id="2991883">.</span><span class="ident" id="2991884">abs</span><span class="op" id="2991887">.</span><span class="ident" id="2991888">xor</span><span class="op" id="2991891">(</span><span class="ident" id="2991892">x1</span><span class="op" id="2991894">,</span>&nbsp;<span class="ident" id="2991896">y1</span><span class="op" id="2991898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991903">z</span><span class="op" id="2991904">.</span><span class="ident" id="2991905">neg</span>&nbsp;<span class="op" id="2991909">=</span>&nbsp;<span class="builtintype" id="2991911">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2991920">return</span>&nbsp;<span class="ident" id="2991927">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2991931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2991936">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991956">z</span><span class="op" id="2991957">.</span><span class="ident" id="2991958">abs</span>&nbsp;<span class="op" id="2991962">=</span>&nbsp;<span class="ident" id="2991964">z</span><span class="op" id="2991965">.</span><span class="ident" id="2991966">abs</span><span class="op" id="2991969">.</span><span class="ident" id="2991970">xor</span><span class="op" id="2991973">(</span><span class="ident" id="2991974">x</span><span class="op" id="2991975">.</span><span class="ident" id="2991976">abs</span><span class="op" id="2991979">,</span>&nbsp;<span class="ident" id="2991981">y</span><span class="op" id="2991982">.</span><span class="ident" id="2991983">abs</span><span class="op" id="2991986">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2991990">z</span><span class="op" id="2991991">.</span><span class="ident" id="2991992">neg</span>&nbsp;<span class="op" id="2991996">=</span>&nbsp;<span class="builtintype" id="2991998">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2992006">return</span>&nbsp;<span class="ident" id="2992013">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2992016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2992020">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2992039">if</span>&nbsp;<span class="ident" id="2992042">x</span><span class="op" id="2992043">.</span><span class="ident" id="2992044">neg</span>&nbsp;<span class="op" id="2992048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992052">x</span><span class="op" id="2992053">,</span>&nbsp;<span class="ident" id="2992055">y</span>&nbsp;<span class="op" id="2992057">=</span>&nbsp;<span class="ident" id="2992059">y</span><span class="op" id="2992060">,</span>&nbsp;<span class="ident" id="2992062">x</span>&nbsp;<span class="comment" id="2992064">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2992083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2992087">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992152">y1</span>&nbsp;<span class="op" id="2992155">:=</span>&nbsp;<span class="ident" id="2992158">nat</span><span class="op" id="2992161">(</span><span class="builtintype" id="2992162">nil</span><span class="op" id="2992165">)</span><span class="op" id="2992166">.</span><span class="ident" id="2992167">sub</span><span class="op" id="2992170">(</span><span class="ident" id="2992171">y</span><span class="op" id="2992172">.</span><span class="ident" id="2992173">abs</span><span class="op" id="2992176">,</span>&nbsp;<span class="ident" id="2992178">natOne</span><span class="op" id="2992184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992187">z</span><span class="op" id="2992188">.</span><span class="ident" id="2992189">abs</span>&nbsp;<span class="op" id="2992193">=</span>&nbsp;<span class="ident" id="2992195">z</span><span class="op" id="2992196">.</span><span class="ident" id="2992197">abs</span><span class="op" id="2992200">.</span><span class="ident" id="2992201">add</span><span class="op" id="2992204">(</span><span class="ident" id="2992205">z</span><span class="op" id="2992206">.</span><span class="ident" id="2992207">abs</span><span class="op" id="2992210">.</span><span class="ident" id="2992211">xor</span><span class="op" id="2992214">(</span><span class="ident" id="2992215">x</span><span class="op" id="2992216">.</span><span class="ident" id="2992217">abs</span><span class="op" id="2992220">,</span>&nbsp;<span class="ident" id="2992222">y1</span><span class="op" id="2992224">)</span><span class="op" id="2992225">,</span>&nbsp;<span class="ident" id="2992227">natOne</span><span class="op" id="2992233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992236">z</span><span class="op" id="2992237">.</span><span class="ident" id="2992238">neg</span>&nbsp;<span class="op" id="2992242">=</span>&nbsp;<span class="builtintype" id="2992244">true</span>&nbsp;<span class="comment" id="2992249">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2992304">return</span>&nbsp;<span class="ident" id="2992311">z</span><br>
<span class="lineno"></span><span class="op" id="2992313">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="2992316">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="2992350">func</span>&nbsp;<span class="op" id="2992355">(</span><span class="ident" id="2992356">z</span>&nbsp;<span class="op" id="2992358">*</span><span class="ident" id="2992359">Int</span><span class="op" id="2992362">)</span>&nbsp;<span class="ident" id="2992364">Not</span><span class="op" id="2992367">(</span><span class="ident" id="2992368">x</span>&nbsp;<span class="op" id="2992370">*</span><span class="ident" id="2992371">Int</span><span class="op" id="2992374">)</span>&nbsp;<span class="op" id="2992376">*</span><span class="ident" id="2992377">Int</span>&nbsp;<span class="op" id="2992381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2992384">if</span>&nbsp;<span class="ident" id="2992387">x</span><span class="op" id="2992388">.</span><span class="ident" id="2992389">neg</span>&nbsp;<span class="op" id="2992393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2992397">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992428">z</span><span class="op" id="2992429">.</span><span class="ident" id="2992430">abs</span>&nbsp;<span class="op" id="2992434">=</span>&nbsp;<span class="ident" id="2992436">z</span><span class="op" id="2992437">.</span><span class="ident" id="2992438">abs</span><span class="op" id="2992441">.</span><span class="ident" id="2992442">sub</span><span class="op" id="2992445">(</span><span class="ident" id="2992446">x</span><span class="op" id="2992447">.</span><span class="ident" id="2992448">abs</span><span class="op" id="2992451">,</span>&nbsp;<span class="ident" id="2992453">natOne</span><span class="op" id="2992459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992463">z</span><span class="op" id="2992464">.</span><span class="ident" id="2992465">neg</span>&nbsp;<span class="op" id="2992469">=</span>&nbsp;<span class="builtintype" id="2992471">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2992479">return</span>&nbsp;<span class="ident" id="2992486">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2992489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2992493">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992518">z</span><span class="op" id="2992519">.</span><span class="ident" id="2992520">abs</span>&nbsp;<span class="op" id="2992524">=</span>&nbsp;<span class="ident" id="2992526">z</span><span class="op" id="2992527">.</span><span class="ident" id="2992528">abs</span><span class="op" id="2992531">.</span><span class="ident" id="2992532">add</span><span class="op" id="2992535">(</span><span class="ident" id="2992536">x</span><span class="op" id="2992537">.</span><span class="ident" id="2992538">abs</span><span class="op" id="2992541">,</span>&nbsp;<span class="ident" id="2992543">natOne</span><span class="op" id="2992549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992552">z</span><span class="op" id="2992553">.</span><span class="ident" id="2992554">neg</span>&nbsp;<span class="op" id="2992558">=</span>&nbsp;<span class="builtintype" id="2992560">true</span>&nbsp;<span class="comment" id="2992565">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2992603">return</span>&nbsp;<span class="ident" id="2992610">z</span><br>
<span class="lineno"></span><span class="op" id="2992612">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="2992615">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="2992690">const</span>&nbsp;<span class="ident" id="2992696">intGobVersion</span>&nbsp;<span class="builtintype" id="2992710">byte</span>&nbsp;<span class="op" id="2992715">=</span>&nbsp;<span class="num" id="2992717">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2992720">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="2992774">func</span>&nbsp;<span class="op" id="2992779">(</span><span class="ident" id="2992780">x</span>&nbsp;<span class="op" id="2992782">*</span><span class="ident" id="2992783">Int</span><span class="op" id="2992786">)</span>&nbsp;<span class="ident" id="2992788">GobEncode</span><span class="op" id="2992797">(</span><span class="op" id="2992798">)</span>&nbsp;<span class="op" id="2992800">(</span><span class="op" id="2992801">[</span><span class="op" id="2992802">]</span><span class="builtintype" id="2992803">byte</span><span class="op" id="2992807">,</span>&nbsp;<span class="builtintype" id="2992809">error</span><span class="op" id="2992814">)</span>&nbsp;<span class="op" id="2992816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2992819">if</span>&nbsp;<span class="ident" id="2992822">x</span>&nbsp;<span class="op" id="2992824">==</span>&nbsp;<span class="builtintype" id="2992827">nil</span>&nbsp;<span class="op" id="2992831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2992835">return</span>&nbsp;<span class="builtintype" id="2992842">nil</span><span class="op" id="2992845">,</span>&nbsp;<span class="builtintype" id="2992847">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2992852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992855">buf</span>&nbsp;<span class="op" id="2992859">:=</span>&nbsp;<span class="builtinfunc" id="2992862">make</span><span class="op" id="2992866">(</span><span class="op" id="2992867">[</span><span class="op" id="2992868">]</span><span class="builtintype" id="2992869">byte</span><span class="op" id="2992873">,</span>&nbsp;<span class="num" id="2992875">1</span><span class="op" id="2992876">+</span><span class="builtinfunc" id="2992877">len</span><span class="op" id="2992880">(</span><span class="ident" id="2992881">x</span><span class="op" id="2992882">.</span><span class="ident" id="2992883">abs</span><span class="op" id="2992886">)</span><span class="op" id="2992887">*</span><span class="ident" id="2992888">_S</span><span class="op" id="2992890">)</span>&nbsp;<span class="comment" id="2992892">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992932">i</span>&nbsp;<span class="op" id="2992934">:=</span>&nbsp;<span class="ident" id="2992937">x</span><span class="op" id="2992938">.</span><span class="ident" id="2992939">abs</span><span class="op" id="2992942">.</span><span class="ident" id="2992943">bytes</span><span class="op" id="2992948">(</span><span class="ident" id="2992949">buf</span><span class="op" id="2992952">)</span>&nbsp;<span class="op" id="2992954">-</span>&nbsp;<span class="num" id="2992956">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2992969">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2992980">b</span>&nbsp;<span class="op" id="2992982">:=</span>&nbsp;<span class="ident" id="2992985">intGobVersion</span>&nbsp;<span class="op" id="2992999">&lt;&lt;</span>&nbsp;<span class="num" id="2993002">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2993017">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993045">if</span>&nbsp;<span class="ident" id="2993048">x</span><span class="op" id="2993049">.</span><span class="ident" id="2993050">neg</span>&nbsp;<span class="op" id="2993054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2993058">b</span>&nbsp;<span class="op" id="2993060">|=</span>&nbsp;<span class="num" id="2993063">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2993066">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2993069">buf</span><span class="op" id="2993072">[</span><span class="ident" id="2993073">i</span><span class="op" id="2993074">]</span>&nbsp;<span class="op" id="2993076">=</span>&nbsp;<span class="ident" id="2993078">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993081">return</span>&nbsp;<span class="ident" id="2993088">buf</span><span class="op" id="2993091">[</span><span class="ident" id="2993092">i</span><span class="op" id="2993093">:</span><span class="op" id="2993094">]</span><span class="op" id="2993095">,</span>&nbsp;<span class="builtintype" id="2993097">nil</span><br>
<span class="lineno"></span><span class="op" id="2993101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2993104">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="2993158">func</span>&nbsp;<span class="op" id="2993163">(</span><span class="ident" id="2993164">z</span>&nbsp;<span class="op" id="2993166">*</span><span class="ident" id="2993167">Int</span><span class="op" id="2993170">)</span>&nbsp;<span class="ident" id="2993172">GobDecode</span><span class="op" id="2993181">(</span><span class="ident" id="2993182">buf</span>&nbsp;<span class="op" id="2993186">[</span><span class="op" id="2993187">]</span><span class="builtintype" id="2993188">byte</span><span class="op" id="2993192">)</span>&nbsp;<span class="builtintype" id="2993194">error</span>&nbsp;<span class="op" id="2993200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993203">if</span>&nbsp;<span class="builtinfunc" id="2993206">len</span><span class="op" id="2993209">(</span><span class="ident" id="2993210">buf</span><span class="op" id="2993213">)</span>&nbsp;<span class="op" id="2993215">==</span>&nbsp;<span class="num" id="2993218">0</span>&nbsp;<span class="op" id="2993220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2993224">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2993269">*</span><span class="ident" id="2993270">z</span>&nbsp;<span class="op" id="2993272">=</span>&nbsp;<span class="ident" id="2993274">Int</span><span class="op" id="2993277">{</span><span class="op" id="2993278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993282">return</span>&nbsp;<span class="builtintype" id="2993289">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2993294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2993297">b</span>&nbsp;<span class="op" id="2993299">:=</span>&nbsp;<span class="ident" id="2993302">buf</span><span class="op" id="2993305">[</span><span class="num" id="2993306">0</span><span class="op" id="2993307">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993310">if</span>&nbsp;<span class="ident" id="2993313">b</span><span class="op" id="2993314">&gt;&gt;</span><span class="num" id="2993316">1</span>&nbsp;<span class="op" id="2993318">!=</span>&nbsp;<span class="ident" id="2993321">intGobVersion</span>&nbsp;<span class="op" id="2993335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993339">return</span>&nbsp;<span class="ident" id="2993346">errors</span><span class="op" id="2993352">.</span><span class="ident" id="2993353">New</span><span class="op" id="2993356">(</span><span class="ident" id="2993357">fmt</span><span class="op" id="2993360">.</span><span class="ident" id="2993361">Sprintf</span><span class="op" id="2993368">(</span><span class="string" id="2993369">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="2993419">,</span>&nbsp;<span class="ident" id="2993421">b</span><span class="op" id="2993422">&gt;&gt;</span><span class="num" id="2993424">1</span><span class="op" id="2993425">)</span><span class="op" id="2993426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2993429">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2993432">z</span><span class="op" id="2993433">.</span><span class="ident" id="2993434">neg</span>&nbsp;<span class="op" id="2993438">=</span>&nbsp;<span class="ident" id="2993440">b</span><span class="op" id="2993441">&amp;</span><span class="num" id="2993442">1</span>&nbsp;<span class="op" id="2993444">!=</span>&nbsp;<span class="num" id="2993447">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2993450">z</span><span class="op" id="2993451">.</span><span class="ident" id="2993452">abs</span>&nbsp;<span class="op" id="2993456">=</span>&nbsp;<span class="ident" id="2993458">z</span><span class="op" id="2993459">.</span><span class="ident" id="2993460">abs</span><span class="op" id="2993463">.</span><span class="ident" id="2993464">setBytes</span><span class="op" id="2993472">(</span><span class="ident" id="2993473">buf</span><span class="op" id="2993476">[</span><span class="num" id="2993477">1</span><span class="op" id="2993478">:</span><span class="op" id="2993479">]</span><span class="op" id="2993480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993483">return</span>&nbsp;<span class="builtintype" id="2993490">nil</span><br>
<span class="lineno"></span><span class="op" id="2993494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="2993497">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2993553">func</span>&nbsp;<span class="op" id="2993558">(</span><span class="ident" id="2993559">z</span>&nbsp;<span class="op" id="2993561">*</span><span class="ident" id="2993562">Int</span><span class="op" id="2993565">)</span>&nbsp;<span class="ident" id="2993567">MarshalJSON</span><span class="op" id="2993578">(</span><span class="op" id="2993579">)</span>&nbsp;<span class="op" id="2993581">(</span><span class="op" id="2993582">[</span><span class="op" id="2993583">]</span><span class="builtintype" id="2993584">byte</span><span class="op" id="2993588">,</span>&nbsp;<span class="builtintype" id="2993590">error</span><span class="op" id="2993595">)</span>&nbsp;<span class="op" id="2993597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2993600">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993656">return</span>&nbsp;<span class="op" id="2993663">[</span><span class="op" id="2993664">]</span><span class="builtintype" id="2993665">byte</span><span class="op" id="2993669">(</span><span class="ident" id="2993670">z</span><span class="op" id="2993671">.</span><span class="ident" id="2993672">String</span><span class="op" id="2993678">(</span><span class="op" id="2993679">)</span><span class="op" id="2993680">)</span><span class="op" id="2993681">,</span>&nbsp;<span class="builtintype" id="2993683">nil</span><br>
<span class="lineno"></span><span class="op" id="2993687">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="2993690">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2993750">func</span>&nbsp;<span class="op" id="2993755">(</span><span class="ident" id="2993756">z</span>&nbsp;<span class="op" id="2993758">*</span><span class="ident" id="2993759">Int</span><span class="op" id="2993762">)</span>&nbsp;<span class="ident" id="2993764">UnmarshalJSON</span><span class="op" id="2993777">(</span><span class="ident" id="2993778">text</span>&nbsp;<span class="op" id="2993783">[</span><span class="op" id="2993784">]</span><span class="builtintype" id="2993785">byte</span><span class="op" id="2993789">)</span>&nbsp;<span class="builtintype" id="2993791">error</span>&nbsp;<span class="op" id="2993797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2993800">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993856">if</span>&nbsp;<span class="ident" id="2993859">_</span><span class="op" id="2993860">,</span>&nbsp;<span class="ident" id="2993862">ok</span>&nbsp;<span class="op" id="2993865">:=</span>&nbsp;<span class="ident" id="2993868">z</span><span class="op" id="2993869">.</span><span class="ident" id="2993870">SetString</span><span class="op" id="2993879">(</span><span class="builtintype" id="2993880">string</span><span class="op" id="2993886">(</span><span class="ident" id="2993887">text</span><span class="op" id="2993891">)</span><span class="op" id="2993892">,</span>&nbsp;<span class="num" id="2993894">0</span><span class="op" id="2993895">)</span><span class="op" id="2993896">;</span>&nbsp;<span class="op" id="2993898">!</span><span class="ident" id="2993899">ok</span>&nbsp;<span class="op" id="2993902">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993906">return</span>&nbsp;<span class="ident" id="2993913">fmt</span><span class="op" id="2993916">.</span><span class="ident" id="2993917">Errorf</span><span class="op" id="2993923">(</span><span class="string" id="2993924">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="2993971">,</span>&nbsp;<span class="ident" id="2993973">text</span><span class="op" id="2993977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2993980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2993983">return</span>&nbsp;<span class="builtintype" id="2993990">nil</span><br>
<span class="lineno"></span><span class="op" id="2993994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="2993997">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2994061">func</span>&nbsp;<span class="op" id="2994066">(</span><span class="ident" id="2994067">z</span>&nbsp;<span class="op" id="2994069">*</span><span class="ident" id="2994070">Int</span><span class="op" id="2994073">)</span>&nbsp;<span class="ident" id="2994075">MarshalText</span><span class="op" id="2994086">(</span><span class="op" id="2994087">)</span>&nbsp;<span class="op" id="2994089">(</span><span class="ident" id="2994090">text</span>&nbsp;<span class="op" id="2994095">[</span><span class="op" id="2994096">]</span><span class="builtintype" id="2994097">byte</span><span class="op" id="2994101">,</span>&nbsp;<span class="ident" id="2994103">err</span>&nbsp;<span class="builtintype" id="2994107">error</span><span class="op" id="2994112">)</span>&nbsp;<span class="op" id="2994114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2994117">return</span>&nbsp;<span class="op" id="2994124">[</span><span class="op" id="2994125">]</span><span class="builtintype" id="2994126">byte</span><span class="op" id="2994130">(</span><span class="ident" id="2994131">z</span><span class="op" id="2994132">.</span><span class="ident" id="2994133">String</span><span class="op" id="2994139">(</span><span class="op" id="2994140">)</span><span class="op" id="2994141">)</span><span class="op" id="2994142">,</span>&nbsp;<span class="builtintype" id="2994144">nil</span><br>
<span class="lineno"></span><span class="op" id="2994148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="2994151">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2994219">func</span>&nbsp;<span class="op" id="2994224">(</span><span class="ident" id="2994225">z</span>&nbsp;<span class="op" id="2994227">*</span><span class="ident" id="2994228">Int</span><span class="op" id="2994231">)</span>&nbsp;<span class="ident" id="2994233">UnmarshalText</span><span class="op" id="2994246">(</span><span class="ident" id="2994247">text</span>&nbsp;<span class="op" id="2994252">[</span><span class="op" id="2994253">]</span><span class="builtintype" id="2994254">byte</span><span class="op" id="2994258">)</span>&nbsp;<span class="builtintype" id="2994260">error</span>&nbsp;<span class="op" id="2994266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2994269">if</span>&nbsp;<span class="ident" id="2994272">_</span><span class="op" id="2994273">,</span>&nbsp;<span class="ident" id="2994275">ok</span>&nbsp;<span class="op" id="2994278">:=</span>&nbsp;<span class="ident" id="2994281">z</span><span class="op" id="2994282">.</span><span class="ident" id="2994283">SetString</span><span class="op" id="2994292">(</span><span class="builtintype" id="2994293">string</span><span class="op" id="2994299">(</span><span class="ident" id="2994300">text</span><span class="op" id="2994304">)</span><span class="op" id="2994305">,</span>&nbsp;<span class="num" id="2994307">0</span><span class="op" id="2994308">)</span><span class="op" id="2994309">;</span>&nbsp;<span class="op" id="2994311">!</span><span class="ident" id="2994312">ok</span>&nbsp;<span class="op" id="2994315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2994319">return</span>&nbsp;<span class="ident" id="2994326">fmt</span><span class="op" id="2994329">.</span><span class="ident" id="2994330">Errorf</span><span class="op" id="2994336">(</span><span class="string" id="2994337">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="2994384">,</span>&nbsp;<span class="ident" id="2994386">text</span><span class="op" id="2994390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2994393">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2994396">return</span>&nbsp;<span class="builtintype" id="2994403">nil</span><br>
<span class="lineno"></span><span class="op" id="2994407">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
