<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>database/sql/driver</h2>
<ul>
<li><a href="/gostd/database/sql/driver/driver.go.html">driver.go</a></li>
<li><a href="/gostd/database/sql/driver/types.go.html" class="current">types.go</a></li>
<li><a href="/gostd/database/sql/driver/types_test.go.html">types_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6259273">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6259328">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6259382">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6259433">package</span>&nbsp;<span class="ident" id="6259441">driver</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6259449">import</span>&nbsp;<span class="op" id="6259456">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6259459">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6259466">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6259477">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6259488">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6259495">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6259498">//&nbsp;ValueConverter&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;ConvertValue&nbsp;method.</span><br>
<span class="lineno">15</span><span class="comment" id="6259568">//</span><br>
<span class="lineno"></span><span class="comment" id="6259571">//&nbsp;Various&nbsp;implementations&nbsp;of&nbsp;ValueConverter&nbsp;are&nbsp;provided&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6259636">//&nbsp;driver&nbsp;package&nbsp;to&nbsp;provide&nbsp;consistent&nbsp;implementations&nbsp;of&nbsp;conversions</span><br>
<span class="lineno"></span><span class="comment" id="6259707">//&nbsp;between&nbsp;drivers.&nbsp;&nbsp;The&nbsp;ValueConverters&nbsp;have&nbsp;several&nbsp;uses:</span><br>
<span class="lineno"></span><span class="comment" id="6259767">//</span><br>
<span class="lineno">20</span><span class="comment" id="6259770">//&nbsp;&nbsp;*&nbsp;converting&nbsp;from&nbsp;the&nbsp;Value&nbsp;types&nbsp;as&nbsp;provided&nbsp;by&nbsp;the&nbsp;sql&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="6259839">//&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;a&nbsp;database&nbsp;table&#39;s&nbsp;specific&nbsp;column&nbsp;type&nbsp;and&nbsp;making&nbsp;sure&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="6259909">//&nbsp;&nbsp;&nbsp;&nbsp;fits,&nbsp;such&nbsp;as&nbsp;making&nbsp;sure&nbsp;a&nbsp;particular&nbsp;int64&nbsp;fits&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6259970">//&nbsp;&nbsp;&nbsp;&nbsp;table&#39;s&nbsp;uint16&nbsp;column.</span><br>
<span class="lineno"></span><span class="comment" id="6259999">//</span><br>
<span class="lineno">25</span><span class="comment" id="6260002">//&nbsp;&nbsp;*&nbsp;converting&nbsp;a&nbsp;value&nbsp;as&nbsp;given&nbsp;from&nbsp;the&nbsp;database&nbsp;into&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6260070">//&nbsp;&nbsp;&nbsp;&nbsp;driver&nbsp;Value&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="6260096">//</span><br>
<span class="lineno"></span><span class="comment" id="6260099">//&nbsp;&nbsp;*&nbsp;by&nbsp;the&nbsp;sql&nbsp;package,&nbsp;for&nbsp;converting&nbsp;from&nbsp;a&nbsp;driver&#39;s&nbsp;Value&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="6260167">//&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;user&#39;s&nbsp;type&nbsp;in&nbsp;a&nbsp;scan.</span><br>
<span class="lineno">30</span><span class="keyword" id="6260201">type</span>&nbsp;<span class="ident" id="6260206">ValueConverter</span>&nbsp;<span class="keyword" id="6260221">interface</span>&nbsp;<span class="op" id="6260231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6260234">//&nbsp;ConvertValue&nbsp;converts&nbsp;a&nbsp;value&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6260287">ConvertValue</span><span class="op" id="6260299">(</span><span class="ident" id="6260300">v</span>&nbsp;<span class="keyword" id="6260302">interface</span><span class="op" id="6260311">{</span><span class="op" id="6260312">}</span><span class="op" id="6260313">)</span>&nbsp;<span class="op" id="6260315">(</span><span class="ident" id="6260316">Value</span><span class="op" id="6260321">,</span>&nbsp;<span class="builtintype" id="6260323">error</span><span class="op" id="6260328">)</span><br>
<span class="lineno"></span><span class="op" id="6260330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="6260333">//&nbsp;Valuer&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;Value&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="6260388">//</span><br>
<span class="lineno"></span><span class="comment" id="6260391">//&nbsp;Types&nbsp;implementing&nbsp;Valuer&nbsp;interface&nbsp;are&nbsp;able&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span><span class="comment" id="6260450">//&nbsp;themselves&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="6260483">type</span>&nbsp;<span class="ident" id="6260488">Valuer</span>&nbsp;<span class="keyword" id="6260495">interface</span>&nbsp;<span class="op" id="6260505">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6260508">//&nbsp;Value&nbsp;returns&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6260542">Value</span><span class="op" id="6260547">(</span><span class="op" id="6260548">)</span>&nbsp;<span class="op" id="6260550">(</span><span class="ident" id="6260551">Value</span><span class="op" id="6260556">,</span>&nbsp;<span class="builtintype" id="6260558">error</span><span class="op" id="6260563">)</span><br>
<span class="lineno"></span><span class="op" id="6260565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6260568">//&nbsp;Bool&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;bools.</span><br>
<span class="lineno">45</span><span class="comment" id="6260633">//</span><br>
<span class="lineno"></span><span class="comment" id="6260636">//&nbsp;The&nbsp;conversion&nbsp;rules&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="6260665">//&nbsp;&nbsp;-&nbsp;booleans&nbsp;are&nbsp;returned&nbsp;unchanged</span><br>
<span class="lineno"></span><span class="comment" id="6260703">//&nbsp;&nbsp;-&nbsp;for&nbsp;integer&nbsp;types,</span><br>
<span class="lineno"></span><span class="comment" id="6260728">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;is&nbsp;true</span><br>
<span class="lineno">50</span><span class="comment" id="6260747">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;is&nbsp;false,</span><br>
<span class="lineno"></span><span class="comment" id="6260768">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;integers&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="6260805">//&nbsp;&nbsp;-&nbsp;for&nbsp;strings&nbsp;and&nbsp;[]byte,&nbsp;same&nbsp;rules&nbsp;as&nbsp;strconv.ParseBool</span><br>
<span class="lineno"></span><span class="comment" id="6260867">//&nbsp;&nbsp;-&nbsp;all&nbsp;other&nbsp;types&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="6260902">var</span>&nbsp;<span class="ident" id="6260906">Bool</span>&nbsp;<span class="ident" id="6260911">boolType</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="6260921">type</span>&nbsp;<span class="ident" id="6260926">boolType</span>&nbsp;<span class="keyword" id="6260935">struct</span><span class="op" id="6260941">{</span><span class="op" id="6260942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6260945">var</span>&nbsp;<span class="ident" id="6260949">_</span>&nbsp;<span class="ident" id="6260951">ValueConverter</span>&nbsp;<span class="op" id="6260966">=</span>&nbsp;<span class="ident" id="6260968">boolType</span><span class="op" id="6260976">{</span><span class="op" id="6260977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6260980">func</span>&nbsp;<span class="op" id="6260985">(</span><span class="ident" id="6260986">boolType</span><span class="op" id="6260994">)</span>&nbsp;<span class="ident" id="6260996">String</span><span class="op" id="6261002">(</span><span class="op" id="6261003">)</span>&nbsp;<span class="builtintype" id="6261005">string</span>&nbsp;<span class="op" id="6261012">{</span>&nbsp;<span class="keyword" id="6261014">return</span>&nbsp;<span class="string" id="6261021">&#34;Bool&#34;</span>&nbsp;<span class="op" id="6261028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6261031">func</span>&nbsp;<span class="op" id="6261036">(</span><span class="ident" id="6261037">boolType</span><span class="op" id="6261045">)</span>&nbsp;<span class="ident" id="6261047">ConvertValue</span><span class="op" id="6261059">(</span><span class="ident" id="6261060">src</span>&nbsp;<span class="keyword" id="6261064">interface</span><span class="op" id="6261073">{</span><span class="op" id="6261074">}</span><span class="op" id="6261075">)</span>&nbsp;<span class="op" id="6261077">(</span><span class="ident" id="6261078">Value</span><span class="op" id="6261083">,</span>&nbsp;<span class="builtintype" id="6261085">error</span><span class="op" id="6261090">)</span>&nbsp;<span class="op" id="6261092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261095">switch</span>&nbsp;<span class="ident" id="6261102">s</span>&nbsp;<span class="op" id="6261104">:=</span>&nbsp;<span class="ident" id="6261107">src</span><span class="op" id="6261110">.</span><span class="op" id="6261111">(</span><span class="keyword" id="6261112">type</span><span class="op" id="6261116">)</span>&nbsp;<span class="op" id="6261118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261121">case</span>&nbsp;<span class="builtintype" id="6261126">bool</span><span class="op" id="6261130">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261134">return</span>&nbsp;<span class="ident" id="6261141">s</span><span class="op" id="6261142">,</span>&nbsp;<span class="ident" id="6261144">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261149">case</span>&nbsp;<span class="builtintype" id="6261154">string</span><span class="op" id="6261160">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6261164">b</span><span class="op" id="6261165">,</span>&nbsp;<span class="ident" id="6261167">err</span>&nbsp;<span class="op" id="6261171">:=</span>&nbsp;<span class="ident" id="6261174">strconv</span><span class="op" id="6261181">.</span><span class="ident" id="6261182">ParseBool</span><span class="op" id="6261191">(</span><span class="ident" id="6261192">s</span><span class="op" id="6261193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261197">if</span>&nbsp;<span class="ident" id="6261200">err</span>&nbsp;<span class="op" id="6261204">!=</span>&nbsp;<span class="ident" id="6261207">nil</span>&nbsp;<span class="op" id="6261211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261216">return</span>&nbsp;<span class="ident" id="6261223">nil</span><span class="op" id="6261226">,</span>&nbsp;<span class="ident" id="6261228">fmt</span><span class="op" id="6261231">.</span><span class="ident" id="6261232">Errorf</span><span class="op" id="6261238">(</span><span class="string" id="6261239">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6261287">,</span>&nbsp;<span class="ident" id="6261289">s</span><span class="op" id="6261290">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6261294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261298">return</span>&nbsp;<span class="ident" id="6261305">b</span><span class="op" id="6261306">,</span>&nbsp;<span class="ident" id="6261308">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261313">case</span>&nbsp;<span class="op" id="6261318">[</span><span class="op" id="6261319">]</span><span class="builtintype" id="6261320">byte</span><span class="op" id="6261324">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6261328">b</span><span class="op" id="6261329">,</span>&nbsp;<span class="ident" id="6261331">err</span>&nbsp;<span class="op" id="6261335">:=</span>&nbsp;<span class="ident" id="6261338">strconv</span><span class="op" id="6261345">.</span><span class="ident" id="6261346">ParseBool</span><span class="op" id="6261355">(</span><span class="builtintype" id="6261356">string</span><span class="op" id="6261362">(</span><span class="ident" id="6261363">s</span><span class="op" id="6261364">)</span><span class="op" id="6261365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261369">if</span>&nbsp;<span class="ident" id="6261372">err</span>&nbsp;<span class="op" id="6261376">!=</span>&nbsp;<span class="ident" id="6261379">nil</span>&nbsp;<span class="op" id="6261383">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261388">return</span>&nbsp;<span class="ident" id="6261395">nil</span><span class="op" id="6261398">,</span>&nbsp;<span class="ident" id="6261400">fmt</span><span class="op" id="6261403">.</span><span class="ident" id="6261404">Errorf</span><span class="op" id="6261410">(</span><span class="string" id="6261411">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6261459">,</span>&nbsp;<span class="ident" id="6261461">s</span><span class="op" id="6261462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6261466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261470">return</span>&nbsp;<span class="ident" id="6261477">b</span><span class="op" id="6261478">,</span>&nbsp;<span class="ident" id="6261480">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6261485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6261489">sv</span>&nbsp;<span class="op" id="6261492">:=</span>&nbsp;<span class="ident" id="6261495">reflect</span><span class="op" id="6261502">.</span><span class="ident" id="6261503">ValueOf</span><span class="op" id="6261510">(</span><span class="ident" id="6261511">src</span><span class="op" id="6261514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261517">switch</span>&nbsp;<span class="ident" id="6261524">sv</span><span class="op" id="6261526">.</span><span class="ident" id="6261527">Kind</span><span class="op" id="6261531">(</span><span class="op" id="6261532">)</span>&nbsp;<span class="op" id="6261534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261537">case</span>&nbsp;<span class="ident" id="6261542">reflect</span><span class="op" id="6261549">.</span><span class="ident" id="6261550">Int</span><span class="op" id="6261553">,</span>&nbsp;<span class="ident" id="6261555">reflect</span><span class="op" id="6261562">.</span><span class="ident" id="6261563">Int8</span><span class="op" id="6261567">,</span>&nbsp;<span class="ident" id="6261569">reflect</span><span class="op" id="6261576">.</span><span class="ident" id="6261577">Int16</span><span class="op" id="6261582">,</span>&nbsp;<span class="ident" id="6261584">reflect</span><span class="op" id="6261591">.</span><span class="ident" id="6261592">Int32</span><span class="op" id="6261597">,</span>&nbsp;<span class="ident" id="6261599">reflect</span><span class="op" id="6261606">.</span><span class="ident" id="6261607">Int64</span><span class="op" id="6261612">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6261616">iv</span>&nbsp;<span class="op" id="6261619">:=</span>&nbsp;<span class="ident" id="6261622">sv</span><span class="op" id="6261624">.</span><span class="ident" id="6261625">Int</span><span class="op" id="6261628">(</span><span class="op" id="6261629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261633">if</span>&nbsp;<span class="ident" id="6261636">iv</span>&nbsp;<span class="op" id="6261639">==</span>&nbsp;<span class="num" id="6261642">1</span>&nbsp;<span class="op" id="6261644">||</span>&nbsp;<span class="ident" id="6261647">iv</span>&nbsp;<span class="op" id="6261650">==</span>&nbsp;<span class="num" id="6261653">0</span>&nbsp;<span class="op" id="6261655">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261660">return</span>&nbsp;<span class="ident" id="6261667">iv</span>&nbsp;<span class="op" id="6261670">==</span>&nbsp;<span class="num" id="6261673">1</span><span class="op" id="6261674">,</span>&nbsp;<span class="ident" id="6261676">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6261682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261686">return</span>&nbsp;<span class="ident" id="6261693">nil</span><span class="op" id="6261696">,</span>&nbsp;<span class="ident" id="6261698">fmt</span><span class="op" id="6261701">.</span><span class="ident" id="6261702">Errorf</span><span class="op" id="6261708">(</span><span class="string" id="6261709">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6261757">,</span>&nbsp;<span class="ident" id="6261759">iv</span><span class="op" id="6261761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261764">case</span>&nbsp;<span class="ident" id="6261769">reflect</span><span class="op" id="6261776">.</span><span class="ident" id="6261777">Uint</span><span class="op" id="6261781">,</span>&nbsp;<span class="ident" id="6261783">reflect</span><span class="op" id="6261790">.</span><span class="ident" id="6261791">Uint8</span><span class="op" id="6261796">,</span>&nbsp;<span class="ident" id="6261798">reflect</span><span class="op" id="6261805">.</span><span class="ident" id="6261806">Uint16</span><span class="op" id="6261812">,</span>&nbsp;<span class="ident" id="6261814">reflect</span><span class="op" id="6261821">.</span><span class="ident" id="6261822">Uint32</span><span class="op" id="6261828">,</span>&nbsp;<span class="ident" id="6261830">reflect</span><span class="op" id="6261837">.</span><span class="ident" id="6261838">Uint64</span><span class="op" id="6261844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6261848">uv</span>&nbsp;<span class="op" id="6261851">:=</span>&nbsp;<span class="ident" id="6261854">sv</span><span class="op" id="6261856">.</span><span class="ident" id="6261857">Uint</span><span class="op" id="6261861">(</span><span class="op" id="6261862">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261866">if</span>&nbsp;<span class="ident" id="6261869">uv</span>&nbsp;<span class="op" id="6261872">==</span>&nbsp;<span class="num" id="6261875">1</span>&nbsp;<span class="op" id="6261877">||</span>&nbsp;<span class="ident" id="6261880">uv</span>&nbsp;<span class="op" id="6261883">==</span>&nbsp;<span class="num" id="6261886">0</span>&nbsp;<span class="op" id="6261888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261893">return</span>&nbsp;<span class="ident" id="6261900">uv</span>&nbsp;<span class="op" id="6261903">==</span>&nbsp;<span class="num" id="6261906">1</span><span class="op" id="6261907">,</span>&nbsp;<span class="ident" id="6261909">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6261915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6261919">return</span>&nbsp;<span class="ident" id="6261926">nil</span><span class="op" id="6261929">,</span>&nbsp;<span class="ident" id="6261931">fmt</span><span class="op" id="6261934">.</span><span class="ident" id="6261935">Errorf</span><span class="op" id="6261941">(</span><span class="string" id="6261942">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6261990">,</span>&nbsp;<span class="ident" id="6261992">uv</span><span class="op" id="6261994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6261997">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262001">return</span>&nbsp;<span class="ident" id="6262008">nil</span><span class="op" id="6262011">,</span>&nbsp;<span class="ident" id="6262013">fmt</span><span class="op" id="6262016">.</span><span class="ident" id="6262017">Errorf</span><span class="op" id="6262023">(</span><span class="string" id="6262024">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%v&nbsp;(%T)&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="6262077">,</span>&nbsp;<span class="ident" id="6262079">src</span><span class="op" id="6262082">,</span>&nbsp;<span class="ident" id="6262084">src</span><span class="op" id="6262087">)</span><br>
<span class="lineno"></span><span class="op" id="6262089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6262092">//&nbsp;Int32&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;int64,</span><br>
<span class="lineno">100</span><span class="comment" id="6262158">//&nbsp;respecting&nbsp;the&nbsp;limits&nbsp;of&nbsp;an&nbsp;int32&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="6262202">var</span>&nbsp;<span class="ident" id="6262206">Int32</span>&nbsp;<span class="ident" id="6262212">int32Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6262223">type</span>&nbsp;<span class="ident" id="6262228">int32Type</span>&nbsp;<span class="keyword" id="6262238">struct</span><span class="op" id="6262244">{</span><span class="op" id="6262245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="6262248">var</span>&nbsp;<span class="ident" id="6262252">_</span>&nbsp;<span class="ident" id="6262254">ValueConverter</span>&nbsp;<span class="op" id="6262269">=</span>&nbsp;<span class="ident" id="6262271">int32Type</span><span class="op" id="6262280">{</span><span class="op" id="6262281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6262284">func</span>&nbsp;<span class="op" id="6262289">(</span><span class="ident" id="6262290">int32Type</span><span class="op" id="6262299">)</span>&nbsp;<span class="ident" id="6262301">ConvertValue</span><span class="op" id="6262313">(</span><span class="ident" id="6262314">v</span>&nbsp;<span class="keyword" id="6262316">interface</span><span class="op" id="6262325">{</span><span class="op" id="6262326">}</span><span class="op" id="6262327">)</span>&nbsp;<span class="op" id="6262329">(</span><span class="ident" id="6262330">Value</span><span class="op" id="6262335">,</span>&nbsp;<span class="builtintype" id="6262337">error</span><span class="op" id="6262342">)</span>&nbsp;<span class="op" id="6262344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6262347">rv</span>&nbsp;<span class="op" id="6262350">:=</span>&nbsp;<span class="ident" id="6262353">reflect</span><span class="op" id="6262360">.</span><span class="ident" id="6262361">ValueOf</span><span class="op" id="6262368">(</span><span class="ident" id="6262369">v</span><span class="op" id="6262370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262373">switch</span>&nbsp;<span class="ident" id="6262380">rv</span><span class="op" id="6262382">.</span><span class="ident" id="6262383">Kind</span><span class="op" id="6262387">(</span><span class="op" id="6262388">)</span>&nbsp;<span class="op" id="6262390">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262393">case</span>&nbsp;<span class="ident" id="6262398">reflect</span><span class="op" id="6262405">.</span><span class="ident" id="6262406">Int</span><span class="op" id="6262409">,</span>&nbsp;<span class="ident" id="6262411">reflect</span><span class="op" id="6262418">.</span><span class="ident" id="6262419">Int8</span><span class="op" id="6262423">,</span>&nbsp;<span class="ident" id="6262425">reflect</span><span class="op" id="6262432">.</span><span class="ident" id="6262433">Int16</span><span class="op" id="6262438">,</span>&nbsp;<span class="ident" id="6262440">reflect</span><span class="op" id="6262447">.</span><span class="ident" id="6262448">Int32</span><span class="op" id="6262453">,</span>&nbsp;<span class="ident" id="6262455">reflect</span><span class="op" id="6262462">.</span><span class="ident" id="6262463">Int64</span><span class="op" id="6262468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6262472">i64</span>&nbsp;<span class="op" id="6262476">:=</span>&nbsp;<span class="ident" id="6262479">rv</span><span class="op" id="6262481">.</span><span class="ident" id="6262482">Int</span><span class="op" id="6262485">(</span><span class="op" id="6262486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262490">if</span>&nbsp;<span class="ident" id="6262493">i64</span>&nbsp;<span class="op" id="6262497">&gt;</span>&nbsp;<span class="op" id="6262499">(</span><span class="num" id="6262500">1</span><span class="op" id="6262501">&lt;&lt;</span><span class="num" id="6262503">31</span><span class="op" id="6262505">)</span><span class="op" id="6262506">-</span><span class="num" id="6262507">1</span>&nbsp;<span class="op" id="6262509">||</span>&nbsp;<span class="ident" id="6262512">i64</span>&nbsp;<span class="op" id="6262516">&lt;</span>&nbsp;<span class="op" id="6262518">-</span><span class="op" id="6262519">(</span><span class="num" id="6262520">1</span><span class="op" id="6262521">&lt;&lt;</span><span class="num" id="6262523">31</span><span class="op" id="6262525">)</span>&nbsp;<span class="op" id="6262527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262532">return</span>&nbsp;<span class="ident" id="6262539">nil</span><span class="op" id="6262542">,</span>&nbsp;<span class="ident" id="6262544">fmt</span><span class="op" id="6262547">.</span><span class="ident" id="6262548">Errorf</span><span class="op" id="6262554">(</span><span class="string" id="6262555">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="6262593">,</span>&nbsp;<span class="ident" id="6262595">v</span><span class="op" id="6262596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6262600">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262604">return</span>&nbsp;<span class="ident" id="6262611">i64</span><span class="op" id="6262614">,</span>&nbsp;<span class="ident" id="6262616">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262621">case</span>&nbsp;<span class="ident" id="6262626">reflect</span><span class="op" id="6262633">.</span><span class="ident" id="6262634">Uint</span><span class="op" id="6262638">,</span>&nbsp;<span class="ident" id="6262640">reflect</span><span class="op" id="6262647">.</span><span class="ident" id="6262648">Uint8</span><span class="op" id="6262653">,</span>&nbsp;<span class="ident" id="6262655">reflect</span><span class="op" id="6262662">.</span><span class="ident" id="6262663">Uint16</span><span class="op" id="6262669">,</span>&nbsp;<span class="ident" id="6262671">reflect</span><span class="op" id="6262678">.</span><span class="ident" id="6262679">Uint32</span><span class="op" id="6262685">,</span>&nbsp;<span class="ident" id="6262687">reflect</span><span class="op" id="6262694">.</span><span class="ident" id="6262695">Uint64</span><span class="op" id="6262701">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6262705">u64</span>&nbsp;<span class="op" id="6262709">:=</span>&nbsp;<span class="ident" id="6262712">rv</span><span class="op" id="6262714">.</span><span class="ident" id="6262715">Uint</span><span class="op" id="6262719">(</span><span class="op" id="6262720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262724">if</span>&nbsp;<span class="ident" id="6262727">u64</span>&nbsp;<span class="op" id="6262731">&gt;</span>&nbsp;<span class="op" id="6262733">(</span><span class="num" id="6262734">1</span><span class="op" id="6262735">&lt;&lt;</span><span class="num" id="6262737">31</span><span class="op" id="6262739">)</span><span class="op" id="6262740">-</span><span class="num" id="6262741">1</span>&nbsp;<span class="op" id="6262743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262748">return</span>&nbsp;<span class="ident" id="6262755">nil</span><span class="op" id="6262758">,</span>&nbsp;<span class="ident" id="6262760">fmt</span><span class="op" id="6262763">.</span><span class="ident" id="6262764">Errorf</span><span class="op" id="6262770">(</span><span class="string" id="6262771">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="6262809">,</span>&nbsp;<span class="ident" id="6262811">v</span><span class="op" id="6262812">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6262816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262820">return</span>&nbsp;<span class="ident" id="6262827">int64</span><span class="op" id="6262832">(</span><span class="ident" id="6262833">u64</span><span class="op" id="6262836">)</span><span class="op" id="6262837">,</span>&nbsp;<span class="ident" id="6262839">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262844">case</span>&nbsp;<span class="ident" id="6262849">reflect</span><span class="op" id="6262856">.</span><span class="ident" id="6262857">String</span><span class="op" id="6262863">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6262867">i</span><span class="op" id="6262868">,</span>&nbsp;<span class="ident" id="6262870">err</span>&nbsp;<span class="op" id="6262874">:=</span>&nbsp;<span class="ident" id="6262877">strconv</span><span class="op" id="6262884">.</span><span class="ident" id="6262885">Atoi</span><span class="op" id="6262889">(</span><span class="ident" id="6262890">rv</span><span class="op" id="6262892">.</span><span class="ident" id="6262893">String</span><span class="op" id="6262899">(</span><span class="op" id="6262900">)</span><span class="op" id="6262901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262905">if</span>&nbsp;<span class="ident" id="6262908">err</span>&nbsp;<span class="op" id="6262912">!=</span>&nbsp;<span class="ident" id="6262915">nil</span>&nbsp;<span class="op" id="6262919">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6262924">return</span>&nbsp;<span class="ident" id="6262931">nil</span><span class="op" id="6262934">,</span>&nbsp;<span class="ident" id="6262936">fmt</span><span class="op" id="6262939">.</span><span class="ident" id="6262940">Errorf</span><span class="op" id="6262946">(</span><span class="string" id="6262947">&#34;sql/driver:&nbsp;value&nbsp;%q&nbsp;can&#39;t&nbsp;be&nbsp;converted&nbsp;to&nbsp;int32&#34;</span><span class="op" id="6262997">,</span>&nbsp;<span class="ident" id="6262999">v</span><span class="op" id="6263000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6263004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6263008">return</span>&nbsp;<span class="ident" id="6263015">int64</span><span class="op" id="6263020">(</span><span class="ident" id="6263021">i</span><span class="op" id="6263022">)</span><span class="op" id="6263023">,</span>&nbsp;<span class="ident" id="6263025">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6263030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6263033">return</span>&nbsp;<span class="ident" id="6263040">nil</span><span class="op" id="6263043">,</span>&nbsp;<span class="ident" id="6263045">fmt</span><span class="op" id="6263048">.</span><span class="ident" id="6263049">Errorf</span><span class="op" id="6263055">(</span><span class="string" id="6263056">&#34;sql/driver:&nbsp;unsupported&nbsp;value&nbsp;%v&nbsp;(type&nbsp;%T)&nbsp;converting&nbsp;to&nbsp;int32&#34;</span><span class="op" id="6263120">,</span>&nbsp;<span class="ident" id="6263122">v</span><span class="op" id="6263123">,</span>&nbsp;<span class="ident" id="6263125">v</span><span class="op" id="6263126">)</span><br>
<span class="lineno">130</span><span class="op" id="6263128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6263131">//&nbsp;String&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;its&nbsp;input&nbsp;to&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6263198">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;already&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte,&nbsp;it&#39;s&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="comment" id="6263261">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;of&nbsp;another&nbsp;type,&nbsp;conversion&nbsp;to&nbsp;string&nbsp;is&nbsp;done</span><br>
<span class="lineno">135</span><span class="comment" id="6263326">//&nbsp;with&nbsp;fmt.Sprintf(&#34;%v&#34;,&nbsp;v).</span><br>
<span class="lineno"></span><span class="keyword" id="6263356">var</span>&nbsp;<span class="ident" id="6263360">String</span>&nbsp;<span class="ident" id="6263367">stringType</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6263379">type</span>&nbsp;<span class="ident" id="6263384">stringType</span>&nbsp;<span class="keyword" id="6263395">struct</span><span class="op" id="6263401">{</span><span class="op" id="6263402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="6263405">func</span>&nbsp;<span class="op" id="6263410">(</span><span class="ident" id="6263411">stringType</span><span class="op" id="6263421">)</span>&nbsp;<span class="ident" id="6263423">ConvertValue</span><span class="op" id="6263435">(</span><span class="ident" id="6263436">v</span>&nbsp;<span class="keyword" id="6263438">interface</span><span class="op" id="6263447">{</span><span class="op" id="6263448">}</span><span class="op" id="6263449">)</span>&nbsp;<span class="op" id="6263451">(</span><span class="ident" id="6263452">Value</span><span class="op" id="6263457">,</span>&nbsp;<span class="builtintype" id="6263459">error</span><span class="op" id="6263464">)</span>&nbsp;<span class="op" id="6263466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6263469">switch</span>&nbsp;<span class="ident" id="6263476">v</span><span class="op" id="6263477">.</span><span class="op" id="6263478">(</span><span class="keyword" id="6263479">type</span><span class="op" id="6263483">)</span>&nbsp;<span class="op" id="6263485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6263488">case</span>&nbsp;<span class="builtintype" id="6263493">string</span><span class="op" id="6263499">,</span>&nbsp;<span class="op" id="6263501">[</span><span class="op" id="6263502">]</span><span class="builtintype" id="6263503">byte</span><span class="op" id="6263507">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6263511">return</span>&nbsp;<span class="ident" id="6263518">v</span><span class="op" id="6263519">,</span>&nbsp;<span class="ident" id="6263521">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6263526">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6263529">return</span>&nbsp;<span class="ident" id="6263536">fmt</span><span class="op" id="6263539">.</span><span class="ident" id="6263540">Sprintf</span><span class="op" id="6263547">(</span><span class="string" id="6263548">&#34;%v&#34;</span><span class="op" id="6263552">,</span>&nbsp;<span class="ident" id="6263554">v</span><span class="op" id="6263555">)</span><span class="op" id="6263556">,</span>&nbsp;<span class="ident" id="6263558">nil</span><br>
<span class="lineno"></span><span class="op" id="6263562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6263565">//&nbsp;Null&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;allowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="6263630">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno">150</span><span class="keyword" id="6263692">type</span>&nbsp;<span class="ident" id="6263697">Null</span>&nbsp;<span class="keyword" id="6263702">struct</span>&nbsp;<span class="op" id="6263709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6263712">Converter</span>&nbsp;<span class="ident" id="6263722">ValueConverter</span><br>
<span class="lineno"></span><span class="op" id="6263737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6263740">func</span>&nbsp;<span class="op" id="6263745">(</span><span class="ident" id="6263746">n</span>&nbsp;<span class="ident" id="6263748">Null</span><span class="op" id="6263752">)</span>&nbsp;<span class="ident" id="6263754">ConvertValue</span><span class="op" id="6263766">(</span><span class="ident" id="6263767">v</span>&nbsp;<span class="keyword" id="6263769">interface</span><span class="op" id="6263778">{</span><span class="op" id="6263779">}</span><span class="op" id="6263780">)</span>&nbsp;<span class="op" id="6263782">(</span><span class="ident" id="6263783">Value</span><span class="op" id="6263788">,</span>&nbsp;<span class="builtintype" id="6263790">error</span><span class="op" id="6263795">)</span>&nbsp;<span class="op" id="6263797">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6263800">if</span>&nbsp;<span class="ident" id="6263803">v</span>&nbsp;<span class="op" id="6263805">==</span>&nbsp;<span class="ident" id="6263808">nil</span>&nbsp;<span class="op" id="6263812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6263816">return</span>&nbsp;<span class="ident" id="6263823">nil</span><span class="op" id="6263826">,</span>&nbsp;<span class="ident" id="6263828">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6263833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6263836">return</span>&nbsp;<span class="ident" id="6263843">n</span><span class="op" id="6263844">.</span><span class="ident" id="6263845">Converter</span><span class="op" id="6263854">.</span><span class="ident" id="6263855">ConvertValue</span><span class="op" id="6263867">(</span><span class="ident" id="6263868">v</span><span class="op" id="6263869">)</span><br>
<span class="lineno"></span><span class="op" id="6263871">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="comment" id="6263874">//&nbsp;NotNull&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;disallowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="6263945">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno"></span><span class="keyword" id="6264007">type</span>&nbsp;<span class="ident" id="6264012">NotNull</span>&nbsp;<span class="keyword" id="6264020">struct</span>&nbsp;<span class="op" id="6264027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6264030">Converter</span>&nbsp;<span class="ident" id="6264040">ValueConverter</span><br>
<span class="lineno">165</span><span class="op" id="6264055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6264058">func</span>&nbsp;<span class="op" id="6264063">(</span><span class="ident" id="6264064">n</span>&nbsp;<span class="ident" id="6264066">NotNull</span><span class="op" id="6264073">)</span>&nbsp;<span class="ident" id="6264075">ConvertValue</span><span class="op" id="6264087">(</span><span class="ident" id="6264088">v</span>&nbsp;<span class="keyword" id="6264090">interface</span><span class="op" id="6264099">{</span><span class="op" id="6264100">}</span><span class="op" id="6264101">)</span>&nbsp;<span class="op" id="6264103">(</span><span class="ident" id="6264104">Value</span><span class="op" id="6264109">,</span>&nbsp;<span class="builtintype" id="6264111">error</span><span class="op" id="6264116">)</span>&nbsp;<span class="op" id="6264118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264121">if</span>&nbsp;<span class="ident" id="6264124">v</span>&nbsp;<span class="op" id="6264126">==</span>&nbsp;<span class="ident" id="6264129">nil</span>&nbsp;<span class="op" id="6264133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264137">return</span>&nbsp;<span class="ident" id="6264144">nil</span><span class="op" id="6264147">,</span>&nbsp;<span class="ident" id="6264149">fmt</span><span class="op" id="6264152">.</span><span class="ident" id="6264153">Errorf</span><span class="op" id="6264159">(</span><span class="string" id="6264160">&#34;nil&nbsp;value&nbsp;not&nbsp;allowed&#34;</span><span class="op" id="6264183">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6264186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264189">return</span>&nbsp;<span class="ident" id="6264196">n</span><span class="op" id="6264197">.</span><span class="ident" id="6264198">Converter</span><span class="op" id="6264207">.</span><span class="ident" id="6264208">ConvertValue</span><span class="op" id="6264220">(</span><span class="ident" id="6264221">v</span><span class="op" id="6264222">)</span><br>
<span class="lineno"></span><span class="op" id="6264224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6264227">//&nbsp;IsValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;parameter&nbsp;type.</span><br>
<span class="lineno">175</span><span class="comment" id="6264289">//&nbsp;Unlike&nbsp;IsScanValue,&nbsp;IsValue&nbsp;permits&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6264345">func</span>&nbsp;<span class="ident" id="6264350">IsValue</span><span class="op" id="6264357">(</span><span class="ident" id="6264358">v</span>&nbsp;<span class="keyword" id="6264360">interface</span><span class="op" id="6264369">{</span><span class="op" id="6264370">}</span><span class="op" id="6264371">)</span>&nbsp;<span class="builtintype" id="6264373">bool</span>&nbsp;<span class="op" id="6264378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264381">if</span>&nbsp;<span class="ident" id="6264384">IsScanValue</span><span class="op" id="6264395">(</span><span class="ident" id="6264396">v</span><span class="op" id="6264397">)</span>&nbsp;<span class="op" id="6264399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264403">return</span>&nbsp;<span class="builtintype" id="6264410">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6264416">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264419">if</span>&nbsp;<span class="ident" id="6264422">_</span><span class="op" id="6264423">,</span>&nbsp;<span class="ident" id="6264425">ok</span>&nbsp;<span class="op" id="6264428">:=</span>&nbsp;<span class="ident" id="6264431">v</span><span class="op" id="6264432">.</span><span class="op" id="6264433">(</span><span class="builtintype" id="6264434">string</span><span class="op" id="6264440">)</span><span class="op" id="6264441">;</span>&nbsp;<span class="ident" id="6264443">ok</span>&nbsp;<span class="op" id="6264446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264450">return</span>&nbsp;<span class="builtintype" id="6264457">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6264463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264466">return</span>&nbsp;<span class="builtintype" id="6264473">false</span><br>
<span class="lineno"></span><span class="op" id="6264479">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="comment" id="6264482">//&nbsp;IsScanValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;scan&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="6264543">//&nbsp;Unlike&nbsp;IsValue,&nbsp;IsScanValue&nbsp;does&nbsp;not&nbsp;permit&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="6264607">func</span>&nbsp;<span class="ident" id="6264612">IsScanValue</span><span class="op" id="6264623">(</span><span class="ident" id="6264624">v</span>&nbsp;<span class="keyword" id="6264626">interface</span><span class="op" id="6264635">{</span><span class="op" id="6264636">}</span><span class="op" id="6264637">)</span>&nbsp;<span class="builtintype" id="6264639">bool</span>&nbsp;<span class="op" id="6264644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264647">if</span>&nbsp;<span class="ident" id="6264650">v</span>&nbsp;<span class="op" id="6264652">==</span>&nbsp;<span class="ident" id="6264655">nil</span>&nbsp;<span class="op" id="6264659">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264663">return</span>&nbsp;<span class="builtintype" id="6264670">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6264676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264679">switch</span>&nbsp;<span class="ident" id="6264686">v</span><span class="op" id="6264687">.</span><span class="op" id="6264688">(</span><span class="keyword" id="6264689">type</span><span class="op" id="6264693">)</span>&nbsp;<span class="op" id="6264695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264698">case</span>&nbsp;<span class="ident" id="6264703">int64</span><span class="op" id="6264708">,</span>&nbsp;<span class="builtintype" id="6264710">float64</span><span class="op" id="6264717">,</span>&nbsp;<span class="op" id="6264719">[</span><span class="op" id="6264720">]</span><span class="builtintype" id="6264721">byte</span><span class="op" id="6264725">,</span>&nbsp;<span class="builtintype" id="6264727">bool</span><span class="op" id="6264731">,</span>&nbsp;<span class="ident" id="6264733">time</span><span class="op" id="6264737">.</span><span class="ident" id="6264738">Time</span><span class="op" id="6264742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264746">return</span>&nbsp;<span class="builtintype" id="6264753">true</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6264759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6264762">return</span>&nbsp;<span class="builtintype" id="6264769">false</span><br>
<span class="lineno"></span><span class="op" id="6264775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6264778">//&nbsp;DefaultParameterConverter&nbsp;is&nbsp;the&nbsp;default&nbsp;implementation&nbsp;of</span><br>
<span class="lineno">200</span><span class="comment" id="6264840">//&nbsp;ValueConverter&nbsp;that&#39;s&nbsp;used&nbsp;when&nbsp;a&nbsp;Stmt&nbsp;doesn&#39;t&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="6264900">//&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span><span class="comment" id="6264920">//</span><br>
<span class="lineno"></span><span class="comment" id="6264923">//&nbsp;DefaultParameterConverter&nbsp;returns&nbsp;the&nbsp;given&nbsp;value&nbsp;directly&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="6264988">//&nbsp;IsValue(value).&nbsp;&nbsp;Otherwise&nbsp;integer&nbsp;type&nbsp;are&nbsp;converted&nbsp;to</span><br>
<span class="lineno">205</span><span class="comment" id="6265048">//&nbsp;int64,&nbsp;floats&nbsp;to&nbsp;float64,&nbsp;and&nbsp;strings&nbsp;to&nbsp;[]byte.&nbsp;&nbsp;Other&nbsp;types&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="6265117">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="6265130">var</span>&nbsp;<span class="ident" id="6265134">DefaultParameterConverter</span>&nbsp;<span class="ident" id="6265160">defaultConverter</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6265178">type</span>&nbsp;<span class="ident" id="6265183">defaultConverter</span>&nbsp;<span class="keyword" id="6265200">struct</span><span class="op" id="6265206">{</span><span class="op" id="6265207">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="6265210">var</span>&nbsp;<span class="ident" id="6265214">_</span>&nbsp;<span class="ident" id="6265216">ValueConverter</span>&nbsp;<span class="op" id="6265231">=</span>&nbsp;<span class="ident" id="6265233">defaultConverter</span><span class="op" id="6265249">{</span><span class="op" id="6265250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6265253">func</span>&nbsp;<span class="op" id="6265258">(</span><span class="ident" id="6265259">defaultConverter</span><span class="op" id="6265275">)</span>&nbsp;<span class="ident" id="6265277">ConvertValue</span><span class="op" id="6265289">(</span><span class="ident" id="6265290">v</span>&nbsp;<span class="keyword" id="6265292">interface</span><span class="op" id="6265301">{</span><span class="op" id="6265302">}</span><span class="op" id="6265303">)</span>&nbsp;<span class="op" id="6265305">(</span><span class="ident" id="6265306">Value</span><span class="op" id="6265311">,</span>&nbsp;<span class="builtintype" id="6265313">error</span><span class="op" id="6265318">)</span>&nbsp;<span class="op" id="6265320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265323">if</span>&nbsp;<span class="ident" id="6265326">IsValue</span><span class="op" id="6265333">(</span><span class="ident" id="6265334">v</span><span class="op" id="6265335">)</span>&nbsp;<span class="op" id="6265337">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265341">return</span>&nbsp;<span class="ident" id="6265348">v</span><span class="op" id="6265349">,</span>&nbsp;<span class="ident" id="6265351">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6265356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265360">if</span>&nbsp;<span class="ident" id="6265363">svi</span><span class="op" id="6265366">,</span>&nbsp;<span class="ident" id="6265368">ok</span>&nbsp;<span class="op" id="6265371">:=</span>&nbsp;<span class="ident" id="6265374">v</span><span class="op" id="6265375">.</span><span class="op" id="6265376">(</span><span class="ident" id="6265377">Valuer</span><span class="op" id="6265383">)</span><span class="op" id="6265384">;</span>&nbsp;<span class="ident" id="6265386">ok</span>&nbsp;<span class="op" id="6265389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6265393">sv</span><span class="op" id="6265395">,</span>&nbsp;<span class="ident" id="6265397">err</span>&nbsp;<span class="op" id="6265401">:=</span>&nbsp;<span class="ident" id="6265404">svi</span><span class="op" id="6265407">.</span><span class="ident" id="6265408">Value</span><span class="op" id="6265413">(</span><span class="op" id="6265414">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265418">if</span>&nbsp;<span class="ident" id="6265421">err</span>&nbsp;<span class="op" id="6265425">!=</span>&nbsp;<span class="ident" id="6265428">nil</span>&nbsp;<span class="op" id="6265432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265437">return</span>&nbsp;<span class="ident" id="6265444">nil</span><span class="op" id="6265447">,</span>&nbsp;<span class="ident" id="6265449">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6265455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265459">if</span>&nbsp;<span class="op" id="6265462">!</span><span class="ident" id="6265463">IsValue</span><span class="op" id="6265470">(</span><span class="ident" id="6265471">sv</span><span class="op" id="6265473">)</span>&nbsp;<span class="op" id="6265475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265480">return</span>&nbsp;<span class="ident" id="6265487">nil</span><span class="op" id="6265490">,</span>&nbsp;<span class="ident" id="6265492">fmt</span><span class="op" id="6265495">.</span><span class="ident" id="6265496">Errorf</span><span class="op" id="6265502">(</span><span class="string" id="6265503">&#34;non-Value&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="6265542">,</span>&nbsp;<span class="ident" id="6265544">sv</span><span class="op" id="6265546">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6265550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265554">return</span>&nbsp;<span class="ident" id="6265561">sv</span><span class="op" id="6265563">,</span>&nbsp;<span class="ident" id="6265565">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6265570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6265574">rv</span>&nbsp;<span class="op" id="6265577">:=</span>&nbsp;<span class="ident" id="6265580">reflect</span><span class="op" id="6265587">.</span><span class="ident" id="6265588">ValueOf</span><span class="op" id="6265595">(</span><span class="ident" id="6265596">v</span><span class="op" id="6265597">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265600">switch</span>&nbsp;<span class="ident" id="6265607">rv</span><span class="op" id="6265609">.</span><span class="ident" id="6265610">Kind</span><span class="op" id="6265614">(</span><span class="op" id="6265615">)</span>&nbsp;<span class="op" id="6265617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265620">case</span>&nbsp;<span class="ident" id="6265625">reflect</span><span class="op" id="6265632">.</span><span class="ident" id="6265633">Ptr</span><span class="op" id="6265636">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6265640">//&nbsp;indirect&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265663">if</span>&nbsp;<span class="ident" id="6265666">rv</span><span class="op" id="6265668">.</span><span class="ident" id="6265669">IsNil</span><span class="op" id="6265674">(</span><span class="op" id="6265675">)</span>&nbsp;<span class="op" id="6265677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265682">return</span>&nbsp;<span class="ident" id="6265689">nil</span><span class="op" id="6265692">,</span>&nbsp;<span class="ident" id="6265694">nil</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6265700">}</span>&nbsp;<span class="keyword" id="6265702">else</span>&nbsp;<span class="op" id="6265707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265712">return</span>&nbsp;<span class="ident" id="6265719">defaultConverter</span><span class="op" id="6265735">{</span><span class="op" id="6265736">}</span><span class="op" id="6265737">.</span><span class="ident" id="6265738">ConvertValue</span><span class="op" id="6265750">(</span><span class="ident" id="6265751">rv</span><span class="op" id="6265753">.</span><span class="ident" id="6265754">Elem</span><span class="op" id="6265758">(</span><span class="op" id="6265759">)</span><span class="op" id="6265760">.</span><span class="ident" id="6265761">Interface</span><span class="op" id="6265770">(</span><span class="op" id="6265771">)</span><span class="op" id="6265772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6265776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265779">case</span>&nbsp;<span class="ident" id="6265784">reflect</span><span class="op" id="6265791">.</span><span class="ident" id="6265792">Int</span><span class="op" id="6265795">,</span>&nbsp;<span class="ident" id="6265797">reflect</span><span class="op" id="6265804">.</span><span class="ident" id="6265805">Int8</span><span class="op" id="6265809">,</span>&nbsp;<span class="ident" id="6265811">reflect</span><span class="op" id="6265818">.</span><span class="ident" id="6265819">Int16</span><span class="op" id="6265824">,</span>&nbsp;<span class="ident" id="6265826">reflect</span><span class="op" id="6265833">.</span><span class="ident" id="6265834">Int32</span><span class="op" id="6265839">,</span>&nbsp;<span class="ident" id="6265841">reflect</span><span class="op" id="6265848">.</span><span class="ident" id="6265849">Int64</span><span class="op" id="6265854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265858">return</span>&nbsp;<span class="ident" id="6265865">rv</span><span class="op" id="6265867">.</span><span class="ident" id="6265868">Int</span><span class="op" id="6265871">(</span><span class="op" id="6265872">)</span><span class="op" id="6265873">,</span>&nbsp;<span class="ident" id="6265875">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265880">case</span>&nbsp;<span class="ident" id="6265885">reflect</span><span class="op" id="6265892">.</span><span class="ident" id="6265893">Uint</span><span class="op" id="6265897">,</span>&nbsp;<span class="ident" id="6265899">reflect</span><span class="op" id="6265906">.</span><span class="ident" id="6265907">Uint8</span><span class="op" id="6265912">,</span>&nbsp;<span class="ident" id="6265914">reflect</span><span class="op" id="6265921">.</span><span class="ident" id="6265922">Uint16</span><span class="op" id="6265928">,</span>&nbsp;<span class="ident" id="6265930">reflect</span><span class="op" id="6265937">.</span><span class="ident" id="6265938">Uint32</span><span class="op" id="6265944">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265948">return</span>&nbsp;<span class="ident" id="6265955">int64</span><span class="op" id="6265960">(</span><span class="ident" id="6265961">rv</span><span class="op" id="6265963">.</span><span class="ident" id="6265964">Uint</span><span class="op" id="6265968">(</span><span class="op" id="6265969">)</span><span class="op" id="6265970">)</span><span class="op" id="6265971">,</span>&nbsp;<span class="ident" id="6265973">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6265978">case</span>&nbsp;<span class="ident" id="6265983">reflect</span><span class="op" id="6265990">.</span><span class="ident" id="6265991">Uint64</span><span class="op" id="6265997">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6266001">u64</span>&nbsp;<span class="op" id="6266005">:=</span>&nbsp;<span class="ident" id="6266008">rv</span><span class="op" id="6266010">.</span><span class="ident" id="6266011">Uint</span><span class="op" id="6266015">(</span><span class="op" id="6266016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6266020">if</span>&nbsp;<span class="ident" id="6266023">u64</span>&nbsp;<span class="op" id="6266027">&gt;=</span>&nbsp;<span class="num" id="6266030">1</span><span class="op" id="6266031">&lt;&lt;</span><span class="num" id="6266033">63</span>&nbsp;<span class="op" id="6266036">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6266041">return</span>&nbsp;<span class="ident" id="6266048">nil</span><span class="op" id="6266051">,</span>&nbsp;<span class="ident" id="6266053">fmt</span><span class="op" id="6266056">.</span><span class="ident" id="6266057">Errorf</span><span class="op" id="6266063">(</span><span class="string" id="6266064">&#34;uint64&nbsp;values&nbsp;with&nbsp;high&nbsp;bit&nbsp;set&nbsp;are&nbsp;not&nbsp;supported&#34;</span><span class="op" id="6266115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6266119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6266123">return</span>&nbsp;<span class="ident" id="6266130">int64</span><span class="op" id="6266135">(</span><span class="ident" id="6266136">u64</span><span class="op" id="6266139">)</span><span class="op" id="6266140">,</span>&nbsp;<span class="ident" id="6266142">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6266147">case</span>&nbsp;<span class="ident" id="6266152">reflect</span><span class="op" id="6266159">.</span><span class="ident" id="6266160">Float32</span><span class="op" id="6266167">,</span>&nbsp;<span class="ident" id="6266169">reflect</span><span class="op" id="6266176">.</span><span class="ident" id="6266177">Float64</span><span class="op" id="6266184">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6266188">return</span>&nbsp;<span class="ident" id="6266195">rv</span><span class="op" id="6266197">.</span><span class="ident" id="6266198">Float</span><span class="op" id="6266203">(</span><span class="op" id="6266204">)</span><span class="op" id="6266205">,</span>&nbsp;<span class="ident" id="6266207">nil</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6266212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6266215">return</span>&nbsp;<span class="ident" id="6266222">nil</span><span class="op" id="6266225">,</span>&nbsp;<span class="ident" id="6266227">fmt</span><span class="op" id="6266230">.</span><span class="ident" id="6266231">Errorf</span><span class="op" id="6266237">(</span><span class="string" id="6266238">&#34;unsupported&nbsp;type&nbsp;%T,&nbsp;a&nbsp;%s&#34;</span><span class="op" id="6266265">,</span>&nbsp;<span class="ident" id="6266267">v</span><span class="op" id="6266268">,</span>&nbsp;<span class="ident" id="6266270">rv</span><span class="op" id="6266272">.</span><span class="ident" id="6266273">Kind</span><span class="op" id="6266277">(</span><span class="op" id="6266278">)</span><span class="op" id="6266279">)</span><br>
<span class="lineno"></span><span class="op" id="6266281">}</span>
</div>
</body>
</html>
