<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5830990">package</span>&nbsp;<span class="ident" id="5830998">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5831004">import</span>&nbsp;<span class="op" id="5831011">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5831014">&#34;io&#34;</span><br>
<span class="lineno">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5831021">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno"></span><span class="op" id="5831043">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5831046">//&nbsp;Parser&nbsp;parses&nbsp;a&nbsp;file&nbsp;input&nbsp;stream&nbsp;into&nbsp;top-level&nbsp;syntax&nbsp;blocks.</span><br>
<span class="lineno">10</span><span class="keyword" id="5831113">type</span>&nbsp;<span class="ident" id="5831118">parser</span>&nbsp;<span class="keyword" id="5831125">struct</span>&nbsp;<span class="op" id="5831132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831135">x</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831140">*</span><span class="ident" id="5831141">stmtLexer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831152">errs</span>&nbsp;<span class="op" id="5831157">*</span><span class="ident" id="5831158">lex8</span><span class="op" id="5831162">.</span><span class="ident" id="5831163">ErrorList</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831175">t</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831181">*</span><span class="ident" id="5831182">lex8</span><span class="op" id="5831186">.</span><span class="ident" id="5831187">Token</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831194">inErr</span>&nbsp;<span class="builtintype" id="5831200">bool</span><br>
<span class="lineno"></span><span class="op" id="5831205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5831208">func</span>&nbsp;<span class="ident" id="5831213">newParser</span><span class="op" id="5831222">(</span><span class="ident" id="5831223">file</span>&nbsp;<span class="builtintype" id="5831228">string</span><span class="op" id="5831234">,</span>&nbsp;<span class="ident" id="5831236">r</span>&nbsp;<span class="ident" id="5831238">io</span><span class="op" id="5831240">.</span><span class="ident" id="5831241">ReadCloser</span><span class="op" id="5831251">)</span>&nbsp;<span class="op" id="5831253">*</span><span class="ident" id="5831254">parser</span>&nbsp;<span class="op" id="5831261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831264">ret</span>&nbsp;<span class="op" id="5831268">:=</span>&nbsp;<span class="builtinfunc" id="5831271">new</span><span class="op" id="5831274">(</span><span class="ident" id="5831275">parser</span><span class="op" id="5831281">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831284">ret</span><span class="op" id="5831287">.</span><span class="ident" id="5831288">x</span>&nbsp;<span class="op" id="5831290">=</span>&nbsp;<span class="ident" id="5831292">newStmtLexer</span><span class="op" id="5831304">(</span><span class="ident" id="5831305">file</span><span class="op" id="5831309">,</span>&nbsp;<span class="ident" id="5831311">r</span><span class="op" id="5831312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831315">ret</span><span class="op" id="5831318">.</span><span class="ident" id="5831319">errs</span>&nbsp;<span class="op" id="5831324">=</span>&nbsp;<span class="ident" id="5831326">lex8</span><span class="op" id="5831330">.</span><span class="ident" id="5831331">NewErrList</span><span class="op" id="5831341">(</span><span class="op" id="5831342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831345">ret</span><span class="op" id="5831348">.</span><span class="ident" id="5831349">next</span><span class="op" id="5831353">(</span><span class="op" id="5831354">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831358">return</span>&nbsp;<span class="ident" id="5831365">ret</span><br>
<span class="lineno">25</span><span class="op" id="5831369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5831372">func</span>&nbsp;<span class="op" id="5831377">(</span><span class="ident" id="5831378">p</span>&nbsp;<span class="op" id="5831380">*</span><span class="ident" id="5831381">parser</span><span class="op" id="5831387">)</span>&nbsp;<span class="ident" id="5831389">err</span><span class="op" id="5831392">(</span><span class="ident" id="5831393">pos</span>&nbsp;<span class="op" id="5831397">*</span><span class="ident" id="5831398">lex8</span><span class="op" id="5831402">.</span><span class="ident" id="5831403">Pos</span><span class="op" id="5831406">,</span>&nbsp;<span class="ident" id="5831408">f</span>&nbsp;<span class="builtintype" id="5831410">string</span><span class="op" id="5831416">,</span>&nbsp;<span class="ident" id="5831418">args</span>&nbsp;<span class="op" id="5831423">...</span><span class="keyword" id="5831426">interface</span><span class="op" id="5831435">{</span><span class="op" id="5831436">}</span><span class="op" id="5831437">)</span>&nbsp;<span class="op" id="5831439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831442">p</span><span class="op" id="5831443">.</span><span class="ident" id="5831444">inErr</span>&nbsp;<span class="op" id="5831450">=</span>&nbsp;<span class="ident" id="5831452">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831458">p</span><span class="op" id="5831459">.</span><span class="ident" id="5831460">errs</span><span class="op" id="5831464">.</span><span class="ident" id="5831465">Addf</span><span class="op" id="5831469">(</span><span class="ident" id="5831470">pos</span><span class="op" id="5831473">,</span>&nbsp;<span class="ident" id="5831475">f</span><span class="op" id="5831476">,</span>&nbsp;<span class="ident" id="5831478">args</span><span class="op" id="5831482">...</span><span class="op" id="5831485">)</span><br>
<span class="lineno">30</span><span class="op" id="5831487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5831490">func</span>&nbsp;<span class="op" id="5831495">(</span><span class="ident" id="5831496">p</span>&nbsp;<span class="op" id="5831498">*</span><span class="ident" id="5831499">parser</span><span class="op" id="5831505">)</span>&nbsp;<span class="ident" id="5831507">see</span><span class="op" id="5831510">(</span><span class="ident" id="5831511">t</span>&nbsp;<span class="builtintype" id="5831513">int</span><span class="op" id="5831516">)</span>&nbsp;<span class="builtintype" id="5831518">bool</span>&nbsp;<span class="op" id="5831523">{</span>&nbsp;<span class="keyword" id="5831525">return</span>&nbsp;<span class="ident" id="5831532">p</span><span class="op" id="5831533">.</span><span class="ident" id="5831534">t</span><span class="op" id="5831535">.</span><span class="ident" id="5831536">Type</span>&nbsp;<span class="op" id="5831541">==</span>&nbsp;<span class="ident" id="5831544">t</span>&nbsp;<span class="op" id="5831546">}</span><br>
<span class="lineno"></span><span class="keyword" id="5831548">func</span>&nbsp;<span class="op" id="5831553">(</span><span class="ident" id="5831554">p</span>&nbsp;<span class="op" id="5831556">*</span><span class="ident" id="5831557">parser</span><span class="op" id="5831563">)</span>&nbsp;<span class="ident" id="5831565">seeKeyword</span><span class="op" id="5831575">(</span><span class="ident" id="5831576">kw</span>&nbsp;<span class="builtintype" id="5831579">string</span><span class="op" id="5831585">)</span>&nbsp;<span class="builtintype" id="5831587">bool</span>&nbsp;<span class="op" id="5831592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831595">return</span>&nbsp;<span class="ident" id="5831602">p</span><span class="op" id="5831603">.</span><span class="ident" id="5831604">see</span><span class="op" id="5831607">(</span><span class="ident" id="5831608">Keyword</span><span class="op" id="5831615">)</span>&nbsp;<span class="op" id="5831617">&amp;&amp;</span>&nbsp;<span class="ident" id="5831620">p</span><span class="op" id="5831621">.</span><span class="ident" id="5831622">t</span><span class="op" id="5831623">.</span><span class="ident" id="5831624">Lit</span>&nbsp;<span class="op" id="5831628">==</span>&nbsp;<span class="ident" id="5831631">kw</span><br>
<span class="lineno">35</span><span class="op" id="5831634">}</span><br>
<span class="lineno"></span><span class="keyword" id="5831636">func</span>&nbsp;<span class="op" id="5831641">(</span><span class="ident" id="5831642">p</span>&nbsp;<span class="op" id="5831644">*</span><span class="ident" id="5831645">parser</span><span class="op" id="5831651">)</span>&nbsp;<span class="ident" id="5831653">clearErr</span><span class="op" id="5831661">(</span><span class="op" id="5831662">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831673">{</span>&nbsp;<span class="ident" id="5831675">p</span><span class="op" id="5831676">.</span><span class="ident" id="5831677">inErr</span>&nbsp;<span class="op" id="5831683">=</span>&nbsp;<span class="ident" id="5831685">false</span>&nbsp;<span class="op" id="5831691">}</span><br>
<span class="lineno"></span><span class="keyword" id="5831693">func</span>&nbsp;<span class="op" id="5831698">(</span><span class="ident" id="5831699">p</span>&nbsp;<span class="op" id="5831701">*</span><span class="ident" id="5831702">parser</span><span class="op" id="5831708">)</span>&nbsp;<span class="ident" id="5831710">hasErr</span><span class="op" id="5831716">(</span><span class="op" id="5831717">)</span>&nbsp;<span class="builtintype" id="5831719">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831730">{</span>&nbsp;<span class="keyword" id="5831732">return</span>&nbsp;<span class="ident" id="5831739">p</span><span class="op" id="5831740">.</span><span class="ident" id="5831741">inErr</span>&nbsp;<span class="op" id="5831747">}</span><br>
<span class="lineno"></span><span class="keyword" id="5831749">func</span>&nbsp;<span class="op" id="5831754">(</span><span class="ident" id="5831755">p</span>&nbsp;<span class="op" id="5831757">*</span><span class="ident" id="5831758">parser</span><span class="op" id="5831764">)</span>&nbsp;<span class="ident" id="5831766">token</span><span class="op" id="5831771">(</span><span class="op" id="5831772">)</span>&nbsp;<span class="op" id="5831774">*</span><span class="ident" id="5831775">lex8</span><span class="op" id="5831779">.</span><span class="ident" id="5831780">Token</span>&nbsp;<span class="op" id="5831786">{</span>&nbsp;<span class="keyword" id="5831788">return</span>&nbsp;<span class="ident" id="5831795">p</span><span class="op" id="5831796">.</span><span class="ident" id="5831797">t</span>&nbsp;<span class="op" id="5831799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="5831802">func</span>&nbsp;<span class="op" id="5831807">(</span><span class="ident" id="5831808">p</span>&nbsp;<span class="op" id="5831810">*</span><span class="ident" id="5831811">parser</span><span class="op" id="5831817">)</span>&nbsp;<span class="ident" id="5831819">next</span><span class="op" id="5831823">(</span><span class="op" id="5831824">)</span>&nbsp;<span class="op" id="5831826">*</span><span class="ident" id="5831827">lex8</span><span class="op" id="5831831">.</span><span class="ident" id="5831832">Token</span>&nbsp;<span class="op" id="5831838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831841">p</span><span class="op" id="5831842">.</span><span class="ident" id="5831843">t</span>&nbsp;<span class="op" id="5831845">=</span>&nbsp;<span class="ident" id="5831847">p</span><span class="op" id="5831848">.</span><span class="ident" id="5831849">x</span><span class="op" id="5831850">.</span><span class="ident" id="5831851">Token</span><span class="op" id="5831856">(</span><span class="op" id="5831857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831860">return</span>&nbsp;<span class="ident" id="5831867">p</span><span class="op" id="5831868">.</span><span class="ident" id="5831869">t</span><br>
<span class="lineno"></span><span class="op" id="5831871">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="5831874">func</span>&nbsp;<span class="ident" id="5831879">typeStr</span><span class="op" id="5831886">(</span><span class="ident" id="5831887">t</span>&nbsp;<span class="builtintype" id="5831889">int</span><span class="op" id="5831892">)</span>&nbsp;<span class="builtintype" id="5831894">string</span>&nbsp;<span class="op" id="5831901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831904">switch</span>&nbsp;<span class="ident" id="5831911">t</span>&nbsp;<span class="op" id="5831913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831916">case</span>&nbsp;<span class="ident" id="5831921">lex8</span><span class="op" id="5831925">.</span><span class="ident" id="5831926">EOF</span><span class="op" id="5831929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831933">return</span>&nbsp;<span class="string" id="5831940">&#34;eof&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831947">case</span>&nbsp;<span class="ident" id="5831952">Comment</span><span class="op" id="5831959">:</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831963">return</span>&nbsp;<span class="string" id="5831970">&#34;comment&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831981">case</span>&nbsp;<span class="ident" id="5831986">Keyword</span><span class="op" id="5831993">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831997">return</span>&nbsp;<span class="string" id="5832004">&#34;keyword&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832015">case</span>&nbsp;<span class="ident" id="5832020">Operand</span><span class="op" id="5832027">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832031">return</span>&nbsp;<span class="string" id="5832038">&#34;operand&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832049">case</span>&nbsp;<span class="ident" id="5832054">String</span><span class="op" id="5832060">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832064">return</span>&nbsp;<span class="string" id="5832071">&#34;string&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832081">case</span>&nbsp;<span class="ident" id="5832086">Lbrace</span><span class="op" id="5832092">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832096">return</span>&nbsp;<span class="string" id="5832103">&#34;&#39;{&#39;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832110">case</span>&nbsp;<span class="ident" id="5832115">Rbrace</span><span class="op" id="5832121">:</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832125">return</span>&nbsp;<span class="string" id="5832132">&#34;&#39;}&#39;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832139">case</span>&nbsp;<span class="ident" id="5832144">Semi</span><span class="op" id="5832148">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832152">return</span>&nbsp;<span class="string" id="5832159">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832164">case</span>&nbsp;<span class="ident" id="5832169">Endl</span><span class="op" id="5832173">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832177">return</span>&nbsp;<span class="string" id="5832184">&#34;end-line&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832196">case</span>&nbsp;<span class="ident" id="5832201">lex8</span><span class="op" id="5832205">.</span><span class="ident" id="5832206">Illegal</span><span class="op" id="5832213">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832217">return</span>&nbsp;<span class="string" id="5832224">&#34;illegal&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832239">return</span>&nbsp;<span class="string" id="5832246">&#34;unknown&#34;</span><br>
<span class="lineno">70</span><span class="op" id="5832256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5832259">func</span>&nbsp;<span class="op" id="5832264">(</span><span class="ident" id="5832265">p</span>&nbsp;<span class="op" id="5832267">*</span><span class="ident" id="5832268">parser</span><span class="op" id="5832274">)</span>&nbsp;<span class="ident" id="5832276">expectKeyword</span><span class="op" id="5832289">(</span><span class="ident" id="5832290">lit</span>&nbsp;<span class="builtintype" id="5832294">string</span><span class="op" id="5832300">)</span>&nbsp;<span class="op" id="5832302">*</span><span class="ident" id="5832303">lex8</span><span class="op" id="5832307">.</span><span class="ident" id="5832308">Token</span>&nbsp;<span class="op" id="5832314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832317">if</span>&nbsp;<span class="ident" id="5832320">p</span><span class="op" id="5832321">.</span><span class="ident" id="5832322">inErr</span>&nbsp;<span class="op" id="5832328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832332">return</span>&nbsp;<span class="ident" id="5832339">nil</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832348">if</span>&nbsp;<span class="ident" id="5832351">p</span><span class="op" id="5832352">.</span><span class="ident" id="5832353">t</span><span class="op" id="5832354">.</span><span class="ident" id="5832355">Type</span>&nbsp;<span class="op" id="5832360">!=</span>&nbsp;<span class="ident" id="5832363">Keyword</span>&nbsp;<span class="op" id="5832371">||</span>&nbsp;<span class="ident" id="5832374">p</span><span class="op" id="5832375">.</span><span class="ident" id="5832376">t</span><span class="op" id="5832377">.</span><span class="ident" id="5832378">Lit</span>&nbsp;<span class="op" id="5832382">!=</span>&nbsp;<span class="ident" id="5832385">lit</span>&nbsp;<span class="op" id="5832389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832393">p</span><span class="op" id="5832394">.</span><span class="ident" id="5832395">err</span><span class="op" id="5832398">(</span><span class="ident" id="5832399">p</span><span class="op" id="5832400">.</span><span class="ident" id="5832401">t</span><span class="op" id="5832402">.</span><span class="ident" id="5832403">Pos</span><span class="op" id="5832406">,</span>&nbsp;<span class="string" id="5832408">&#34;expect&nbsp;keyword&nbsp;%s,&nbsp;got&nbsp;%s&#34;</span><span class="op" id="5832435">,</span>&nbsp;<span class="ident" id="5832437">lit</span><span class="op" id="5832440">,</span>&nbsp;<span class="ident" id="5832442">typeStr</span><span class="op" id="5832449">(</span><span class="ident" id="5832450">p</span><span class="op" id="5832451">.</span><span class="ident" id="5832452">t</span><span class="op" id="5832453">.</span><span class="ident" id="5832454">Type</span><span class="op" id="5832458">)</span><span class="op" id="5832459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832463">return</span>&nbsp;<span class="ident" id="5832470">nil</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832479">ret</span>&nbsp;<span class="op" id="5832483">:=</span>&nbsp;<span class="ident" id="5832486">p</span><span class="op" id="5832487">.</span><span class="ident" id="5832488">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832491">p</span><span class="op" id="5832492">.</span><span class="ident" id="5832493">next</span><span class="op" id="5832497">(</span><span class="op" id="5832498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832501">return</span>&nbsp;<span class="ident" id="5832508">ret</span><br>
<span class="lineno">85</span><span class="op" id="5832512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5832515">func</span>&nbsp;<span class="op" id="5832520">(</span><span class="ident" id="5832521">p</span>&nbsp;<span class="op" id="5832523">*</span><span class="ident" id="5832524">parser</span><span class="op" id="5832530">)</span>&nbsp;<span class="ident" id="5832532">expect</span><span class="op" id="5832538">(</span><span class="ident" id="5832539">t</span>&nbsp;<span class="builtintype" id="5832541">int</span><span class="op" id="5832544">)</span>&nbsp;<span class="op" id="5832546">*</span><span class="ident" id="5832547">lex8</span><span class="op" id="5832551">.</span><span class="ident" id="5832552">Token</span>&nbsp;<span class="op" id="5832558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832561">if</span>&nbsp;<span class="ident" id="5832564">p</span><span class="op" id="5832565">.</span><span class="ident" id="5832566">inErr</span>&nbsp;<span class="op" id="5832572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832576">return</span>&nbsp;<span class="ident" id="5832583">nil</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832592">if</span>&nbsp;<span class="ident" id="5832595">p</span><span class="op" id="5832596">.</span><span class="ident" id="5832597">t</span><span class="op" id="5832598">.</span><span class="ident" id="5832599">Type</span>&nbsp;<span class="op" id="5832604">!=</span>&nbsp;<span class="ident" id="5832607">t</span>&nbsp;<span class="op" id="5832609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832613">p</span><span class="op" id="5832614">.</span><span class="ident" id="5832615">err</span><span class="op" id="5832618">(</span><span class="ident" id="5832619">p</span><span class="op" id="5832620">.</span><span class="ident" id="5832621">t</span><span class="op" id="5832622">.</span><span class="ident" id="5832623">Pos</span><span class="op" id="5832626">,</span>&nbsp;<span class="string" id="5832628">&#34;expect&nbsp;%s,&nbsp;got&nbsp;%s&#34;</span><span class="op" id="5832647">,</span>&nbsp;<span class="ident" id="5832649">typeStr</span><span class="op" id="5832656">(</span><span class="ident" id="5832657">t</span><span class="op" id="5832658">)</span><span class="op" id="5832659">,</span>&nbsp;<span class="ident" id="5832661">typeStr</span><span class="op" id="5832668">(</span><span class="ident" id="5832669">p</span><span class="op" id="5832670">.</span><span class="ident" id="5832671">t</span><span class="op" id="5832672">.</span><span class="ident" id="5832673">Type</span><span class="op" id="5832677">)</span><span class="op" id="5832678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832682">return</span>&nbsp;<span class="ident" id="5832689">nil</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832698">ret</span>&nbsp;<span class="op" id="5832702">:=</span>&nbsp;<span class="ident" id="5832705">p</span><span class="op" id="5832706">.</span><span class="ident" id="5832707">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832710">p</span><span class="op" id="5832711">.</span><span class="ident" id="5832712">next</span><span class="op" id="5832716">(</span><span class="op" id="5832717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832720">return</span>&nbsp;<span class="ident" id="5832727">ret</span><br>
<span class="lineno">100</span><span class="op" id="5832731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5832734">func</span>&nbsp;<span class="op" id="5832739">(</span><span class="ident" id="5832740">p</span>&nbsp;<span class="op" id="5832742">*</span><span class="ident" id="5832743">parser</span><span class="op" id="5832749">)</span>&nbsp;<span class="ident" id="5832751">acceptType</span><span class="op" id="5832761">(</span><span class="ident" id="5832762">t</span>&nbsp;<span class="builtintype" id="5832764">int</span><span class="op" id="5832767">)</span>&nbsp;<span class="builtintype" id="5832769">bool</span>&nbsp;<span class="op" id="5832774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832777">if</span>&nbsp;<span class="ident" id="5832780">p</span><span class="op" id="5832781">.</span><span class="ident" id="5832782">t</span><span class="op" id="5832783">.</span><span class="ident" id="5832784">Type</span>&nbsp;<span class="op" id="5832789">!=</span>&nbsp;<span class="ident" id="5832792">t</span>&nbsp;<span class="op" id="5832794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832798">return</span>&nbsp;<span class="ident" id="5832805">false</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832815">p</span><span class="op" id="5832816">.</span><span class="ident" id="5832817">next</span><span class="op" id="5832821">(</span><span class="op" id="5832822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832825">return</span>&nbsp;<span class="ident" id="5832832">true</span><br>
<span class="lineno"></span><span class="op" id="5832837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="5832840">func</span>&nbsp;<span class="op" id="5832845">(</span><span class="ident" id="5832846">p</span>&nbsp;<span class="op" id="5832848">*</span><span class="ident" id="5832849">parser</span><span class="op" id="5832855">)</span>&nbsp;<span class="ident" id="5832857">skipStmt</span><span class="op" id="5832865">(</span><span class="op" id="5832866">)</span>&nbsp;<span class="op" id="5832868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832871">for</span>&nbsp;<span class="op" id="5832875">!</span><span class="op" id="5832876">(</span><span class="ident" id="5832877">p</span><span class="op" id="5832878">.</span><span class="ident" id="5832879">see</span><span class="op" id="5832882">(</span><span class="ident" id="5832883">Semi</span><span class="op" id="5832887">)</span>&nbsp;<span class="op" id="5832889">||</span>&nbsp;<span class="ident" id="5832892">p</span><span class="op" id="5832893">.</span><span class="ident" id="5832894">see</span><span class="op" id="5832897">(</span><span class="ident" id="5832898">lex8</span><span class="op" id="5832902">.</span><span class="ident" id="5832903">EOF</span><span class="op" id="5832906">)</span><span class="op" id="5832907">)</span>&nbsp;<span class="op" id="5832909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832913">p</span><span class="op" id="5832914">.</span><span class="ident" id="5832915">next</span><span class="op" id="5832919">(</span><span class="op" id="5832920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832927">if</span>&nbsp;<span class="ident" id="5832930">p</span><span class="op" id="5832931">.</span><span class="ident" id="5832932">see</span><span class="op" id="5832935">(</span><span class="ident" id="5832936">Semi</span><span class="op" id="5832940">)</span>&nbsp;<span class="op" id="5832942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832946">p</span><span class="op" id="5832947">.</span><span class="ident" id="5832948">next</span><span class="op" id="5832952">(</span><span class="op" id="5832953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832956">}</span><br>
<span class="lineno"></span><span class="op" id="5832958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="5832961">func</span>&nbsp;<span class="op" id="5832966">(</span><span class="ident" id="5832967">p</span>&nbsp;<span class="op" id="5832969">*</span><span class="ident" id="5832970">parser</span><span class="op" id="5832976">)</span>&nbsp;<span class="ident" id="5832978">skipErrStmt</span><span class="op" id="5832989">(</span><span class="op" id="5832990">)</span>&nbsp;<span class="builtintype" id="5832992">bool</span>&nbsp;<span class="op" id="5832997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833000">if</span>&nbsp;<span class="op" id="5833003">!</span><span class="ident" id="5833004">p</span><span class="op" id="5833005">.</span><span class="ident" id="5833006">inErr</span>&nbsp;<span class="op" id="5833012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833016">return</span>&nbsp;<span class="ident" id="5833023">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833034">p</span><span class="op" id="5833035">.</span><span class="ident" id="5833036">skipStmt</span><span class="op" id="5833044">(</span><span class="op" id="5833045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833048">p</span><span class="op" id="5833049">.</span><span class="ident" id="5833050">clearErr</span><span class="op" id="5833058">(</span><span class="op" id="5833059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833062">return</span>&nbsp;<span class="ident" id="5833069">true</span><br>
<span class="lineno"></span><span class="op" id="5833074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="5833077">//&nbsp;Errs&nbsp;returns&nbsp;the&nbsp;parsing&nbsp;errors</span><br>
<span class="lineno"></span><span class="keyword" id="5833112">func</span>&nbsp;<span class="op" id="5833117">(</span><span class="ident" id="5833118">p</span>&nbsp;<span class="op" id="5833120">*</span><span class="ident" id="5833121">parser</span><span class="op" id="5833127">)</span>&nbsp;<span class="ident" id="5833129">Errs</span><span class="op" id="5833133">(</span><span class="op" id="5833134">)</span>&nbsp;<span class="op" id="5833136">[</span><span class="op" id="5833137">]</span><span class="op" id="5833138">*</span><span class="ident" id="5833139">lex8</span><span class="op" id="5833143">.</span><span class="ident" id="5833144">Error</span>&nbsp;<span class="op" id="5833150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833153">ret</span>&nbsp;<span class="op" id="5833157">:=</span>&nbsp;<span class="ident" id="5833160">p</span><span class="op" id="5833161">.</span><span class="ident" id="5833162">x</span><span class="op" id="5833163">.</span><span class="ident" id="5833164">Errs</span><span class="op" id="5833168">(</span><span class="op" id="5833169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833172">if</span>&nbsp;<span class="ident" id="5833175">ret</span>&nbsp;<span class="op" id="5833179">!=</span>&nbsp;<span class="ident" id="5833182">nil</span>&nbsp;<span class="op" id="5833186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833190">return</span>&nbsp;<span class="ident" id="5833197">ret</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833205">return</span>&nbsp;<span class="ident" id="5833212">p</span><span class="op" id="5833213">.</span><span class="ident" id="5833214">errs</span><span class="op" id="5833218">.</span><span class="ident" id="5833219">Errs</span><br>
<span class="lineno"></span><span class="op" id="5833224">}</span>
</div>
</body>
</html>
