<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7224953">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7225008">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7225062">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7225113">package</span>&nbsp;<span class="ident" id="7225121">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7225128">import</span>&nbsp;<span class="op" id="7225135">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7225138">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7225153">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7225163">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7225166">type</span>&nbsp;<span class="ident" id="7225171">image</span>&nbsp;<span class="keyword" id="7225177">interface</span>&nbsp;<span class="op" id="7225187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225190">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225197">Opaque</span><span class="op" id="7225203">(</span><span class="op" id="7225204">)</span>&nbsp;<span class="builtintype" id="7225206">bool</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225212">Set</span><span class="op" id="7225215">(</span><span class="builtintype" id="7225216">int</span><span class="op" id="7225219">,</span>&nbsp;<span class="builtintype" id="7225221">int</span><span class="op" id="7225224">,</span>&nbsp;<span class="ident" id="7225226">color</span><span class="op" id="7225231">.</span><span class="ident" id="7225232">Color</span><span class="op" id="7225237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225240">SubImage</span><span class="op" id="7225248">(</span><span class="ident" id="7225249">Rectangle</span><span class="op" id="7225258">)</span>&nbsp;<span class="ident" id="7225260">Image</span><br>
<span class="lineno"></span><span class="op" id="7225266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7225269">func</span>&nbsp;<span class="ident" id="7225274">cmp</span><span class="op" id="7225277">(</span><span class="ident" id="7225278">t</span>&nbsp;<span class="op" id="7225280">*</span><span class="ident" id="7225281">testing</span><span class="op" id="7225288">.</span><span class="ident" id="7225289">T</span><span class="op" id="7225290">,</span>&nbsp;<span class="ident" id="7225292">cm</span>&nbsp;<span class="ident" id="7225295">color</span><span class="op" id="7225300">.</span><span class="ident" id="7225301">Model</span><span class="op" id="7225306">,</span>&nbsp;<span class="ident" id="7225308">c0</span><span class="op" id="7225310">,</span>&nbsp;<span class="ident" id="7225312">c1</span>&nbsp;<span class="ident" id="7225315">color</span><span class="op" id="7225320">.</span><span class="ident" id="7225321">Color</span><span class="op" id="7225326">)</span>&nbsp;<span class="builtintype" id="7225328">bool</span>&nbsp;<span class="op" id="7225333">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225336">r0</span><span class="op" id="7225338">,</span>&nbsp;<span class="ident" id="7225340">g0</span><span class="op" id="7225342">,</span>&nbsp;<span class="ident" id="7225344">b0</span><span class="op" id="7225346">,</span>&nbsp;<span class="ident" id="7225348">a0</span>&nbsp;<span class="op" id="7225351">:=</span>&nbsp;<span class="ident" id="7225354">cm</span><span class="op" id="7225356">.</span><span class="ident" id="7225357">Convert</span><span class="op" id="7225364">(</span><span class="ident" id="7225365">c0</span><span class="op" id="7225367">)</span><span class="op" id="7225368">.</span><span class="ident" id="7225369">RGBA</span><span class="op" id="7225373">(</span><span class="op" id="7225374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225377">r1</span><span class="op" id="7225379">,</span>&nbsp;<span class="ident" id="7225381">g1</span><span class="op" id="7225383">,</span>&nbsp;<span class="ident" id="7225385">b1</span><span class="op" id="7225387">,</span>&nbsp;<span class="ident" id="7225389">a1</span>&nbsp;<span class="op" id="7225392">:=</span>&nbsp;<span class="ident" id="7225395">cm</span><span class="op" id="7225397">.</span><span class="ident" id="7225398">Convert</span><span class="op" id="7225405">(</span><span class="ident" id="7225406">c1</span><span class="op" id="7225408">)</span><span class="op" id="7225409">.</span><span class="ident" id="7225410">RGBA</span><span class="op" id="7225414">(</span><span class="op" id="7225415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225418">return</span>&nbsp;<span class="ident" id="7225425">r0</span>&nbsp;<span class="op" id="7225428">==</span>&nbsp;<span class="ident" id="7225431">r1</span>&nbsp;<span class="op" id="7225434">&amp;&amp;</span>&nbsp;<span class="ident" id="7225437">g0</span>&nbsp;<span class="op" id="7225440">==</span>&nbsp;<span class="ident" id="7225443">g1</span>&nbsp;<span class="op" id="7225446">&amp;&amp;</span>&nbsp;<span class="ident" id="7225449">b0</span>&nbsp;<span class="op" id="7225452">==</span>&nbsp;<span class="ident" id="7225455">b1</span>&nbsp;<span class="op" id="7225458">&amp;&amp;</span>&nbsp;<span class="ident" id="7225461">a0</span>&nbsp;<span class="op" id="7225464">==</span>&nbsp;<span class="ident" id="7225467">a1</span><br>
<span class="lineno"></span><span class="op" id="7225470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7225473">func</span>&nbsp;<span class="ident" id="7225478">TestImage</span><span class="op" id="7225487">(</span><span class="ident" id="7225488">t</span>&nbsp;<span class="op" id="7225490">*</span><span class="ident" id="7225491">testing</span><span class="op" id="7225498">.</span><span class="ident" id="7225499">T</span><span class="op" id="7225500">)</span>&nbsp;<span class="op" id="7225502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225505">testImage</span>&nbsp;<span class="op" id="7225515">:=</span>&nbsp;<span class="op" id="7225518">[</span><span class="op" id="7225519">]</span><span class="ident" id="7225520">image</span><span class="op" id="7225525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225529">NewRGBA</span><span class="op" id="7225536">(</span><span class="ident" id="7225537">Rect</span><span class="op" id="7225541">(</span><span class="num" id="7225542">0</span><span class="op" id="7225543">,</span>&nbsp;<span class="num" id="7225545">0</span><span class="op" id="7225546">,</span>&nbsp;<span class="num" id="7225548">10</span><span class="op" id="7225550">,</span>&nbsp;<span class="num" id="7225552">10</span><span class="op" id="7225554">)</span><span class="op" id="7225555">)</span><span class="op" id="7225556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225560">NewRGBA64</span><span class="op" id="7225569">(</span><span class="ident" id="7225570">Rect</span><span class="op" id="7225574">(</span><span class="num" id="7225575">0</span><span class="op" id="7225576">,</span>&nbsp;<span class="num" id="7225578">0</span><span class="op" id="7225579">,</span>&nbsp;<span class="num" id="7225581">10</span><span class="op" id="7225583">,</span>&nbsp;<span class="num" id="7225585">10</span><span class="op" id="7225587">)</span><span class="op" id="7225588">)</span><span class="op" id="7225589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225593">NewNRGBA</span><span class="op" id="7225601">(</span><span class="ident" id="7225602">Rect</span><span class="op" id="7225606">(</span><span class="num" id="7225607">0</span><span class="op" id="7225608">,</span>&nbsp;<span class="num" id="7225610">0</span><span class="op" id="7225611">,</span>&nbsp;<span class="num" id="7225613">10</span><span class="op" id="7225615">,</span>&nbsp;<span class="num" id="7225617">10</span><span class="op" id="7225619">)</span><span class="op" id="7225620">)</span><span class="op" id="7225621">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225625">NewNRGBA64</span><span class="op" id="7225635">(</span><span class="ident" id="7225636">Rect</span><span class="op" id="7225640">(</span><span class="num" id="7225641">0</span><span class="op" id="7225642">,</span>&nbsp;<span class="num" id="7225644">0</span><span class="op" id="7225645">,</span>&nbsp;<span class="num" id="7225647">10</span><span class="op" id="7225649">,</span>&nbsp;<span class="num" id="7225651">10</span><span class="op" id="7225653">)</span><span class="op" id="7225654">)</span><span class="op" id="7225655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225659">NewAlpha</span><span class="op" id="7225667">(</span><span class="ident" id="7225668">Rect</span><span class="op" id="7225672">(</span><span class="num" id="7225673">0</span><span class="op" id="7225674">,</span>&nbsp;<span class="num" id="7225676">0</span><span class="op" id="7225677">,</span>&nbsp;<span class="num" id="7225679">10</span><span class="op" id="7225681">,</span>&nbsp;<span class="num" id="7225683">10</span><span class="op" id="7225685">)</span><span class="op" id="7225686">)</span><span class="op" id="7225687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225691">NewAlpha16</span><span class="op" id="7225701">(</span><span class="ident" id="7225702">Rect</span><span class="op" id="7225706">(</span><span class="num" id="7225707">0</span><span class="op" id="7225708">,</span>&nbsp;<span class="num" id="7225710">0</span><span class="op" id="7225711">,</span>&nbsp;<span class="num" id="7225713">10</span><span class="op" id="7225715">,</span>&nbsp;<span class="num" id="7225717">10</span><span class="op" id="7225719">)</span><span class="op" id="7225720">)</span><span class="op" id="7225721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225725">NewGray</span><span class="op" id="7225732">(</span><span class="ident" id="7225733">Rect</span><span class="op" id="7225737">(</span><span class="num" id="7225738">0</span><span class="op" id="7225739">,</span>&nbsp;<span class="num" id="7225741">0</span><span class="op" id="7225742">,</span>&nbsp;<span class="num" id="7225744">10</span><span class="op" id="7225746">,</span>&nbsp;<span class="num" id="7225748">10</span><span class="op" id="7225750">)</span><span class="op" id="7225751">)</span><span class="op" id="7225752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225756">NewGray16</span><span class="op" id="7225765">(</span><span class="ident" id="7225766">Rect</span><span class="op" id="7225770">(</span><span class="num" id="7225771">0</span><span class="op" id="7225772">,</span>&nbsp;<span class="num" id="7225774">0</span><span class="op" id="7225775">,</span>&nbsp;<span class="num" id="7225777">10</span><span class="op" id="7225779">,</span>&nbsp;<span class="num" id="7225781">10</span><span class="op" id="7225783">)</span><span class="op" id="7225784">)</span><span class="op" id="7225785">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225789">NewPaletted</span><span class="op" id="7225800">(</span><span class="ident" id="7225801">Rect</span><span class="op" id="7225805">(</span><span class="num" id="7225806">0</span><span class="op" id="7225807">,</span>&nbsp;<span class="num" id="7225809">0</span><span class="op" id="7225810">,</span>&nbsp;<span class="num" id="7225812">10</span><span class="op" id="7225814">,</span>&nbsp;<span class="num" id="7225816">10</span><span class="op" id="7225818">)</span><span class="op" id="7225819">,</span>&nbsp;<span class="ident" id="7225821">color</span><span class="op" id="7225826">.</span><span class="ident" id="7225827">Palette</span><span class="op" id="7225834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225839">Transparent</span><span class="op" id="7225850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225855">Opaque</span><span class="op" id="7225861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7225865">}</span><span class="op" id="7225866">)</span><span class="op" id="7225867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7225870">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225873">for</span>&nbsp;<span class="ident" id="7225877">_</span><span class="op" id="7225878">,</span>&nbsp;<span class="ident" id="7225880">m</span>&nbsp;<span class="op" id="7225882">:=</span>&nbsp;<span class="keyword" id="7225885">range</span>&nbsp;<span class="ident" id="7225891">testImage</span>&nbsp;<span class="op" id="7225901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225905">if</span>&nbsp;<span class="op" id="7225908">!</span><span class="ident" id="7225909">Rect</span><span class="op" id="7225913">(</span><span class="num" id="7225914">0</span><span class="op" id="7225915">,</span>&nbsp;<span class="num" id="7225917">0</span><span class="op" id="7225918">,</span>&nbsp;<span class="num" id="7225920">10</span><span class="op" id="7225922">,</span>&nbsp;<span class="num" id="7225924">10</span><span class="op" id="7225926">)</span><span class="op" id="7225927">.</span><span class="ident" id="7225928">Eq</span><span class="op" id="7225930">(</span><span class="ident" id="7225931">m</span><span class="op" id="7225932">.</span><span class="ident" id="7225933">Bounds</span><span class="op" id="7225939">(</span><span class="op" id="7225940">)</span><span class="op" id="7225941">)</span>&nbsp;<span class="op" id="7225943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225948">t</span><span class="op" id="7225949">.</span><span class="ident" id="7225950">Errorf</span><span class="op" id="7225956">(</span><span class="string" id="7225957">&#34;%T:&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7225985">,</span>&nbsp;<span class="ident" id="7225987">m</span><span class="op" id="7225988">,</span>&nbsp;<span class="ident" id="7225990">Rect</span><span class="op" id="7225994">(</span><span class="num" id="7225995">0</span><span class="op" id="7225996">,</span>&nbsp;<span class="num" id="7225998">0</span><span class="op" id="7225999">,</span>&nbsp;<span class="num" id="7226001">10</span><span class="op" id="7226003">,</span>&nbsp;<span class="num" id="7226005">10</span><span class="op" id="7226007">)</span><span class="op" id="7226008">,</span>&nbsp;<span class="ident" id="7226010">m</span><span class="op" id="7226011">.</span><span class="ident" id="7226012">Bounds</span><span class="op" id="7226018">(</span><span class="op" id="7226019">)</span><span class="op" id="7226020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226025">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7226036">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226040">if</span>&nbsp;<span class="op" id="7226043">!</span><span class="ident" id="7226044">cmp</span><span class="op" id="7226047">(</span><span class="ident" id="7226048">t</span><span class="op" id="7226049">,</span>&nbsp;<span class="ident" id="7226051">m</span><span class="op" id="7226052">.</span><span class="ident" id="7226053">ColorModel</span><span class="op" id="7226063">(</span><span class="op" id="7226064">)</span><span class="op" id="7226065">,</span>&nbsp;<span class="ident" id="7226067">Transparent</span><span class="op" id="7226078">,</span>&nbsp;<span class="ident" id="7226080">m</span><span class="op" id="7226081">.</span><span class="ident" id="7226082">At</span><span class="op" id="7226084">(</span><span class="num" id="7226085">6</span><span class="op" id="7226086">,</span>&nbsp;<span class="num" id="7226088">3</span><span class="op" id="7226089">)</span><span class="op" id="7226090">)</span>&nbsp;<span class="op" id="7226092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7226097">t</span><span class="op" id="7226098">.</span><span class="ident" id="7226099">Errorf</span><span class="op" id="7226105">(</span><span class="string" id="7226106">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7226148">,</span>&nbsp;<span class="ident" id="7226150">m</span><span class="op" id="7226151">,</span>&nbsp;<span class="ident" id="7226153">m</span><span class="op" id="7226154">.</span><span class="ident" id="7226155">At</span><span class="op" id="7226157">(</span><span class="num" id="7226158">6</span><span class="op" id="7226159">,</span>&nbsp;<span class="num" id="7226161">3</span><span class="op" id="7226162">)</span><span class="op" id="7226163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226168">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7226179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7226183">m</span><span class="op" id="7226184">.</span><span class="ident" id="7226185">Set</span><span class="op" id="7226188">(</span><span class="num" id="7226189">6</span><span class="op" id="7226190">,</span>&nbsp;<span class="num" id="7226192">3</span><span class="op" id="7226193">,</span>&nbsp;<span class="ident" id="7226195">Opaque</span><span class="op" id="7226201">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226205">if</span>&nbsp;<span class="op" id="7226208">!</span><span class="ident" id="7226209">cmp</span><span class="op" id="7226212">(</span><span class="ident" id="7226213">t</span><span class="op" id="7226214">,</span>&nbsp;<span class="ident" id="7226216">m</span><span class="op" id="7226217">.</span><span class="ident" id="7226218">ColorModel</span><span class="op" id="7226228">(</span><span class="op" id="7226229">)</span><span class="op" id="7226230">,</span>&nbsp;<span class="ident" id="7226232">Opaque</span><span class="op" id="7226238">,</span>&nbsp;<span class="ident" id="7226240">m</span><span class="op" id="7226241">.</span><span class="ident" id="7226242">At</span><span class="op" id="7226244">(</span><span class="num" id="7226245">6</span><span class="op" id="7226246">,</span>&nbsp;<span class="num" id="7226248">3</span><span class="op" id="7226249">)</span><span class="op" id="7226250">)</span>&nbsp;<span class="op" id="7226252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7226257">t</span><span class="op" id="7226258">.</span><span class="ident" id="7226259">Errorf</span><span class="op" id="7226265">(</span><span class="string" id="7226266">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7226312">,</span>&nbsp;<span class="ident" id="7226314">m</span><span class="op" id="7226315">,</span>&nbsp;<span class="ident" id="7226317">m</span><span class="op" id="7226318">.</span><span class="ident" id="7226319">At</span><span class="op" id="7226321">(</span><span class="num" id="7226322">6</span><span class="op" id="7226323">,</span>&nbsp;<span class="num" id="7226325">3</span><span class="op" id="7226326">)</span><span class="op" id="7226327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226332">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7226343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226347">if</span>&nbsp;<span class="op" id="7226350">!</span><span class="ident" id="7226351">m</span><span class="op" id="7226352">.</span><span class="ident" id="7226353">SubImage</span><span class="op" id="7226361">(</span><span class="ident" id="7226362">Rect</span><span class="op" id="7226366">(</span><span class="num" id="7226367">6</span><span class="op" id="7226368">,</span>&nbsp;<span class="num" id="7226370">3</span><span class="op" id="7226371">,</span>&nbsp;<span class="num" id="7226373">7</span><span class="op" id="7226374">,</span>&nbsp;<span class="num" id="7226376">4</span><span class="op" id="7226377">)</span><span class="op" id="7226378">)</span><span class="op" id="7226379">.</span><span class="op" id="7226380">(</span><span class="ident" id="7226381">image</span><span class="op" id="7226386">)</span><span class="op" id="7226387">.</span><span class="ident" id="7226388">Opaque</span><span class="op" id="7226394">(</span><span class="op" id="7226395">)</span>&nbsp;<span class="op" id="7226397">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7226402">t</span><span class="op" id="7226403">.</span><span class="ident" id="7226404">Errorf</span><span class="op" id="7226410">(</span><span class="string" id="7226411">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3)&nbsp;was&nbsp;not&nbsp;opaque&#34;</span><span class="op" id="7226441">,</span>&nbsp;<span class="ident" id="7226443">m</span><span class="op" id="7226444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226449">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7226460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7226464">m</span>&nbsp;<span class="op" id="7226466">=</span>&nbsp;<span class="ident" id="7226468">m</span><span class="op" id="7226469">.</span><span class="ident" id="7226470">SubImage</span><span class="op" id="7226478">(</span><span class="ident" id="7226479">Rect</span><span class="op" id="7226483">(</span><span class="num" id="7226484">3</span><span class="op" id="7226485">,</span>&nbsp;<span class="num" id="7226487">2</span><span class="op" id="7226488">,</span>&nbsp;<span class="num" id="7226490">9</span><span class="op" id="7226491">,</span>&nbsp;<span class="num" id="7226493">8</span><span class="op" id="7226494">)</span><span class="op" id="7226495">)</span><span class="op" id="7226496">.</span><span class="op" id="7226497">(</span><span class="ident" id="7226498">image</span><span class="op" id="7226503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226507">if</span>&nbsp;<span class="op" id="7226510">!</span><span class="ident" id="7226511">Rect</span><span class="op" id="7226515">(</span><span class="num" id="7226516">3</span><span class="op" id="7226517">,</span>&nbsp;<span class="num" id="7226519">2</span><span class="op" id="7226520">,</span>&nbsp;<span class="num" id="7226522">9</span><span class="op" id="7226523">,</span>&nbsp;<span class="num" id="7226525">8</span><span class="op" id="7226526">)</span><span class="op" id="7226527">.</span><span class="ident" id="7226528">Eq</span><span class="op" id="7226530">(</span><span class="ident" id="7226531">m</span><span class="op" id="7226532">.</span><span class="ident" id="7226533">Bounds</span><span class="op" id="7226539">(</span><span class="op" id="7226540">)</span><span class="op" id="7226541">)</span>&nbsp;<span class="op" id="7226543">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7226548">t</span><span class="op" id="7226549">.</span><span class="ident" id="7226550">Errorf</span><span class="op" id="7226556">(</span><span class="string" id="7226557">&#34;%T:&nbsp;sub-image&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7226595">,</span>&nbsp;<span class="ident" id="7226597">m</span><span class="op" id="7226598">,</span>&nbsp;<span class="ident" id="7226600">Rect</span><span class="op" id="7226604">(</span><span class="num" id="7226605">3</span><span class="op" id="7226606">,</span>&nbsp;<span class="num" id="7226608">2</span><span class="op" id="7226609">,</span>&nbsp;<span class="num" id="7226611">9</span><span class="op" id="7226612">,</span>&nbsp;<span class="num" id="7226614">8</span><span class="op" id="7226615">)</span><span class="op" id="7226616">,</span>&nbsp;<span class="ident" id="7226618">m</span><span class="op" id="7226619">.</span><span class="ident" id="7226620">Bounds</span><span class="op" id="7226626">(</span><span class="op" id="7226627">)</span><span class="op" id="7226628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226633">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7226644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226648">if</span>&nbsp;<span class="op" id="7226651">!</span><span class="ident" id="7226652">cmp</span><span class="op" id="7226655">(</span><span class="ident" id="7226656">t</span><span class="op" id="7226657">,</span>&nbsp;<span class="ident" id="7226659">m</span><span class="op" id="7226660">.</span><span class="ident" id="7226661">ColorModel</span><span class="op" id="7226671">(</span><span class="op" id="7226672">)</span><span class="op" id="7226673">,</span>&nbsp;<span class="ident" id="7226675">Opaque</span><span class="op" id="7226681">,</span>&nbsp;<span class="ident" id="7226683">m</span><span class="op" id="7226684">.</span><span class="ident" id="7226685">At</span><span class="op" id="7226687">(</span><span class="num" id="7226688">6</span><span class="op" id="7226689">,</span>&nbsp;<span class="num" id="7226691">3</span><span class="op" id="7226692">)</span><span class="op" id="7226693">)</span>&nbsp;<span class="op" id="7226695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7226700">t</span><span class="op" id="7226701">.</span><span class="ident" id="7226702">Errorf</span><span class="op" id="7226708">(</span><span class="string" id="7226709">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7226765">,</span>&nbsp;<span class="ident" id="7226767">m</span><span class="op" id="7226768">,</span>&nbsp;<span class="ident" id="7226770">m</span><span class="op" id="7226771">.</span><span class="ident" id="7226772">At</span><span class="op" id="7226774">(</span><span class="num" id="7226775">6</span><span class="op" id="7226776">,</span>&nbsp;<span class="num" id="7226778">3</span><span class="op" id="7226779">)</span><span class="op" id="7226780">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226785">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7226796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226800">if</span>&nbsp;<span class="op" id="7226803">!</span><span class="ident" id="7226804">cmp</span><span class="op" id="7226807">(</span><span class="ident" id="7226808">t</span><span class="op" id="7226809">,</span>&nbsp;<span class="ident" id="7226811">m</span><span class="op" id="7226812">.</span><span class="ident" id="7226813">ColorModel</span><span class="op" id="7226823">(</span><span class="op" id="7226824">)</span><span class="op" id="7226825">,</span>&nbsp;<span class="ident" id="7226827">Transparent</span><span class="op" id="7226838">,</span>&nbsp;<span class="ident" id="7226840">m</span><span class="op" id="7226841">.</span><span class="ident" id="7226842">At</span><span class="op" id="7226844">(</span><span class="num" id="7226845">3</span><span class="op" id="7226846">,</span>&nbsp;<span class="num" id="7226848">3</span><span class="op" id="7226849">)</span><span class="op" id="7226850">)</span>&nbsp;<span class="op" id="7226852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7226857">t</span><span class="op" id="7226858">.</span><span class="ident" id="7226859">Errorf</span><span class="op" id="7226865">(</span><span class="string" id="7226866">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7226918">,</span>&nbsp;<span class="ident" id="7226920">m</span><span class="op" id="7226921">,</span>&nbsp;<span class="ident" id="7226923">m</span><span class="op" id="7226924">.</span><span class="ident" id="7226925">At</span><span class="op" id="7226927">(</span><span class="num" id="7226928">3</span><span class="op" id="7226929">,</span>&nbsp;<span class="num" id="7226931">3</span><span class="op" id="7226932">)</span><span class="op" id="7226933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226938">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7226949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7226953">m</span><span class="op" id="7226954">.</span><span class="ident" id="7226955">Set</span><span class="op" id="7226958">(</span><span class="num" id="7226959">3</span><span class="op" id="7226960">,</span>&nbsp;<span class="num" id="7226962">3</span><span class="op" id="7226963">,</span>&nbsp;<span class="ident" id="7226965">Opaque</span><span class="op" id="7226971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7226975">if</span>&nbsp;<span class="op" id="7226978">!</span><span class="ident" id="7226979">cmp</span><span class="op" id="7226982">(</span><span class="ident" id="7226983">t</span><span class="op" id="7226984">,</span>&nbsp;<span class="ident" id="7226986">m</span><span class="op" id="7226987">.</span><span class="ident" id="7226988">ColorModel</span><span class="op" id="7226998">(</span><span class="op" id="7226999">)</span><span class="op" id="7227000">,</span>&nbsp;<span class="ident" id="7227002">Opaque</span><span class="op" id="7227008">,</span>&nbsp;<span class="ident" id="7227010">m</span><span class="op" id="7227011">.</span><span class="ident" id="7227012">At</span><span class="op" id="7227014">(</span><span class="num" id="7227015">3</span><span class="op" id="7227016">,</span>&nbsp;<span class="num" id="7227018">3</span><span class="op" id="7227019">)</span><span class="op" id="7227020">)</span>&nbsp;<span class="op" id="7227022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227027">t</span><span class="op" id="7227028">.</span><span class="ident" id="7227029">Errorf</span><span class="op" id="7227035">(</span><span class="string" id="7227036">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7227092">,</span>&nbsp;<span class="ident" id="7227094">m</span><span class="op" id="7227095">,</span>&nbsp;<span class="ident" id="7227097">m</span><span class="op" id="7227098">.</span><span class="ident" id="7227099">At</span><span class="op" id="7227101">(</span><span class="num" id="7227102">3</span><span class="op" id="7227103">,</span>&nbsp;<span class="num" id="7227105">3</span><span class="op" id="7227106">)</span><span class="op" id="7227107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7227112">continue</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7227127">//&nbsp;Test&nbsp;that&nbsp;taking&nbsp;an&nbsp;empty&nbsp;sub-image&nbsp;starting&nbsp;at&nbsp;a&nbsp;corner&nbsp;does&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227205">m</span><span class="op" id="7227206">.</span><span class="ident" id="7227207">SubImage</span><span class="op" id="7227215">(</span><span class="ident" id="7227216">Rect</span><span class="op" id="7227220">(</span><span class="num" id="7227221">0</span><span class="op" id="7227222">,</span>&nbsp;<span class="num" id="7227224">0</span><span class="op" id="7227225">,</span>&nbsp;<span class="num" id="7227227">0</span><span class="op" id="7227228">,</span>&nbsp;<span class="num" id="7227230">0</span><span class="op" id="7227231">)</span><span class="op" id="7227232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227236">m</span><span class="op" id="7227237">.</span><span class="ident" id="7227238">SubImage</span><span class="op" id="7227246">(</span><span class="ident" id="7227247">Rect</span><span class="op" id="7227251">(</span><span class="num" id="7227252">10</span><span class="op" id="7227254">,</span>&nbsp;<span class="num" id="7227256">0</span><span class="op" id="7227257">,</span>&nbsp;<span class="num" id="7227259">10</span><span class="op" id="7227261">,</span>&nbsp;<span class="num" id="7227263">0</span><span class="op" id="7227264">)</span><span class="op" id="7227265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227269">m</span><span class="op" id="7227270">.</span><span class="ident" id="7227271">SubImage</span><span class="op" id="7227279">(</span><span class="ident" id="7227280">Rect</span><span class="op" id="7227284">(</span><span class="num" id="7227285">0</span><span class="op" id="7227286">,</span>&nbsp;<span class="num" id="7227288">10</span><span class="op" id="7227290">,</span>&nbsp;<span class="num" id="7227292">0</span><span class="op" id="7227293">,</span>&nbsp;<span class="num" id="7227295">10</span><span class="op" id="7227297">)</span><span class="op" id="7227298">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227302">m</span><span class="op" id="7227303">.</span><span class="ident" id="7227304">SubImage</span><span class="op" id="7227312">(</span><span class="ident" id="7227313">Rect</span><span class="op" id="7227317">(</span><span class="num" id="7227318">10</span><span class="op" id="7227320">,</span>&nbsp;<span class="num" id="7227322">10</span><span class="op" id="7227324">,</span>&nbsp;<span class="num" id="7227326">10</span><span class="op" id="7227328">,</span>&nbsp;<span class="num" id="7227330">10</span><span class="op" id="7227332">)</span><span class="op" id="7227333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227336">}</span><br>
<span class="lineno"></span><span class="op" id="7227338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7227341">func</span>&nbsp;<span class="ident" id="7227346">Test16BitsPerColorChannel</span><span class="op" id="7227371">(</span><span class="ident" id="7227372">t</span>&nbsp;<span class="op" id="7227374">*</span><span class="ident" id="7227375">testing</span><span class="op" id="7227382">.</span><span class="ident" id="7227383">T</span><span class="op" id="7227384">)</span>&nbsp;<span class="op" id="7227386">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227389">testColorModel</span>&nbsp;<span class="op" id="7227404">:=</span>&nbsp;<span class="op" id="7227407">[</span><span class="op" id="7227408">]</span><span class="ident" id="7227409">color</span><span class="op" id="7227414">.</span><span class="ident" id="7227415">Model</span><span class="op" id="7227420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227424">color</span><span class="op" id="7227429">.</span><span class="ident" id="7227430">RGBA64Model</span><span class="op" id="7227441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227445">color</span><span class="op" id="7227450">.</span><span class="ident" id="7227451">NRGBA64Model</span><span class="op" id="7227463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227467">color</span><span class="op" id="7227472">.</span><span class="ident" id="7227473">Alpha16Model</span><span class="op" id="7227485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227489">color</span><span class="op" id="7227494">.</span><span class="ident" id="7227495">Gray16Model</span><span class="op" id="7227506">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7227512">for</span>&nbsp;<span class="ident" id="7227516">_</span><span class="op" id="7227517">,</span>&nbsp;<span class="ident" id="7227519">cm</span>&nbsp;<span class="op" id="7227522">:=</span>&nbsp;<span class="keyword" id="7227525">range</span>&nbsp;<span class="ident" id="7227531">testColorModel</span>&nbsp;<span class="op" id="7227546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227550">c</span>&nbsp;<span class="op" id="7227552">:=</span>&nbsp;<span class="ident" id="7227555">cm</span><span class="op" id="7227557">.</span><span class="ident" id="7227558">Convert</span><span class="op" id="7227565">(</span><span class="ident" id="7227566">color</span><span class="op" id="7227571">.</span><span class="ident" id="7227572">RGBA64</span><span class="op" id="7227578">{</span><span class="num" id="7227579">0x1234</span><span class="op" id="7227585">,</span>&nbsp;<span class="num" id="7227587">0x1234</span><span class="op" id="7227593">,</span>&nbsp;<span class="num" id="7227595">0x1234</span><span class="op" id="7227601">,</span>&nbsp;<span class="num" id="7227603">0x1234</span><span class="op" id="7227609">}</span><span class="op" id="7227610">)</span>&nbsp;<span class="comment" id="7227612">//&nbsp;Premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227638">r</span><span class="op" id="7227639">,</span>&nbsp;<span class="ident" id="7227641">_</span><span class="op" id="7227642">,</span>&nbsp;<span class="ident" id="7227644">_</span><span class="op" id="7227645">,</span>&nbsp;<span class="ident" id="7227647">_</span>&nbsp;<span class="op" id="7227649">:=</span>&nbsp;<span class="ident" id="7227652">c</span><span class="op" id="7227653">.</span><span class="ident" id="7227654">RGBA</span><span class="op" id="7227658">(</span><span class="op" id="7227659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7227663">if</span>&nbsp;<span class="ident" id="7227666">r</span>&nbsp;<span class="op" id="7227668">!=</span>&nbsp;<span class="num" id="7227671">0x1234</span>&nbsp;<span class="op" id="7227678">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227683">t</span><span class="op" id="7227684">.</span><span class="ident" id="7227685">Errorf</span><span class="op" id="7227691">(</span><span class="string" id="7227692">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7227730">,</span>&nbsp;<span class="ident" id="7227732">c</span><span class="op" id="7227733">,</span>&nbsp;<span class="num" id="7227735">0x1234</span><span class="op" id="7227741">,</span>&nbsp;<span class="ident" id="7227743">r</span><span class="op" id="7227744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7227749">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227766">testImage</span>&nbsp;<span class="op" id="7227776">:=</span>&nbsp;<span class="op" id="7227779">[</span><span class="op" id="7227780">]</span><span class="ident" id="7227781">image</span><span class="op" id="7227786">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227790">NewRGBA64</span><span class="op" id="7227799">(</span><span class="ident" id="7227800">Rect</span><span class="op" id="7227804">(</span><span class="num" id="7227805">0</span><span class="op" id="7227806">,</span>&nbsp;<span class="num" id="7227808">0</span><span class="op" id="7227809">,</span>&nbsp;<span class="num" id="7227811">10</span><span class="op" id="7227813">,</span>&nbsp;<span class="num" id="7227815">10</span><span class="op" id="7227817">)</span><span class="op" id="7227818">)</span><span class="op" id="7227819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227823">NewNRGBA64</span><span class="op" id="7227833">(</span><span class="ident" id="7227834">Rect</span><span class="op" id="7227838">(</span><span class="num" id="7227839">0</span><span class="op" id="7227840">,</span>&nbsp;<span class="num" id="7227842">0</span><span class="op" id="7227843">,</span>&nbsp;<span class="num" id="7227845">10</span><span class="op" id="7227847">,</span>&nbsp;<span class="num" id="7227849">10</span><span class="op" id="7227851">)</span><span class="op" id="7227852">)</span><span class="op" id="7227853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227857">NewAlpha16</span><span class="op" id="7227867">(</span><span class="ident" id="7227868">Rect</span><span class="op" id="7227872">(</span><span class="num" id="7227873">0</span><span class="op" id="7227874">,</span>&nbsp;<span class="num" id="7227876">0</span><span class="op" id="7227877">,</span>&nbsp;<span class="num" id="7227879">10</span><span class="op" id="7227881">,</span>&nbsp;<span class="num" id="7227883">10</span><span class="op" id="7227885">)</span><span class="op" id="7227886">)</span><span class="op" id="7227887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227891">NewGray16</span><span class="op" id="7227900">(</span><span class="ident" id="7227901">Rect</span><span class="op" id="7227905">(</span><span class="num" id="7227906">0</span><span class="op" id="7227907">,</span>&nbsp;<span class="num" id="7227909">0</span><span class="op" id="7227910">,</span>&nbsp;<span class="num" id="7227912">10</span><span class="op" id="7227914">,</span>&nbsp;<span class="num" id="7227916">10</span><span class="op" id="7227918">)</span><span class="op" id="7227919">)</span><span class="op" id="7227920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227923">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7227926">for</span>&nbsp;<span class="ident" id="7227930">_</span><span class="op" id="7227931">,</span>&nbsp;<span class="ident" id="7227933">m</span>&nbsp;<span class="op" id="7227935">:=</span>&nbsp;<span class="keyword" id="7227938">range</span>&nbsp;<span class="ident" id="7227944">testImage</span>&nbsp;<span class="op" id="7227954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227958">m</span><span class="op" id="7227959">.</span><span class="ident" id="7227960">Set</span><span class="op" id="7227963">(</span><span class="num" id="7227964">1</span><span class="op" id="7227965">,</span>&nbsp;<span class="num" id="7227967">2</span><span class="op" id="7227968">,</span>&nbsp;<span class="ident" id="7227970">color</span><span class="op" id="7227975">.</span><span class="ident" id="7227976">NRGBA64</span><span class="op" id="7227983">{</span><span class="num" id="7227984">0xffff</span><span class="op" id="7227990">,</span>&nbsp;<span class="num" id="7227992">0xffff</span><span class="op" id="7227998">,</span>&nbsp;<span class="num" id="7228000">0xffff</span><span class="op" id="7228006">,</span>&nbsp;<span class="num" id="7228008">0x1357</span><span class="op" id="7228014">}</span><span class="op" id="7228015">)</span>&nbsp;<span class="comment" id="7228017">//&nbsp;Non-premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228047">r</span><span class="op" id="7228048">,</span>&nbsp;<span class="ident" id="7228050">_</span><span class="op" id="7228051">,</span>&nbsp;<span class="ident" id="7228053">_</span><span class="op" id="7228054">,</span>&nbsp;<span class="ident" id="7228056">_</span>&nbsp;<span class="op" id="7228058">:=</span>&nbsp;<span class="ident" id="7228061">m</span><span class="op" id="7228062">.</span><span class="ident" id="7228063">At</span><span class="op" id="7228065">(</span><span class="num" id="7228066">1</span><span class="op" id="7228067">,</span>&nbsp;<span class="num" id="7228069">2</span><span class="op" id="7228070">)</span><span class="op" id="7228071">.</span><span class="ident" id="7228072">RGBA</span><span class="op" id="7228076">(</span><span class="op" id="7228077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7228081">if</span>&nbsp;<span class="ident" id="7228084">r</span>&nbsp;<span class="op" id="7228086">!=</span>&nbsp;<span class="num" id="7228089">0x1357</span>&nbsp;<span class="op" id="7228096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228101">t</span><span class="op" id="7228102">.</span><span class="ident" id="7228103">Errorf</span><span class="op" id="7228109">(</span><span class="string" id="7228110">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7228148">,</span>&nbsp;<span class="ident" id="7228150">m</span><span class="op" id="7228151">,</span>&nbsp;<span class="num" id="7228153">0x1357</span><span class="op" id="7228159">,</span>&nbsp;<span class="ident" id="7228161">r</span><span class="op" id="7228162">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7228167">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228181">}</span><br>
<span class="lineno"></span><span class="op" id="7228183">}</span>
</div>
</body>
</html>
