<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path/filepath</h2>
<ul>
<li><a href="/gostd/path/filepath/example_unix_test.go.html">example_unix_test.go</a></li>
<li><a href="/gostd/path/filepath/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/path/filepath/match.go.html">match.go</a></li>
<li><a href="/gostd/path/filepath/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/filepath/path.go.html">path.go</a></li>
<li><a href="/gostd/path/filepath/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/path/filepath/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/path/filepath/symlink.go.html" class="current">symlink.go</a></li>
<li><a href="/gostd/path/filepath/symlink_unix.go.html">symlink_unix.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3792182">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3792237">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3792291">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3792342">package</span>&nbsp;<span class="ident" id="3792350">filepath</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3792360">import</span>&nbsp;<span class="op" id="3792367">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3792370">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3792379">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3792389">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3792394">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3792397">const</span>&nbsp;<span class="ident" id="3792403">utf8RuneSelf</span>&nbsp;<span class="op" id="3792416">=</span>&nbsp;<span class="num" id="3792418">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3792424">func</span>&nbsp;<span class="ident" id="3792429">walkSymlinks</span><span class="op" id="3792441">(</span><span class="ident" id="3792442">path</span>&nbsp;<span class="builtintype" id="3792447">string</span><span class="op" id="3792453">)</span>&nbsp;<span class="op" id="3792455">(</span><span class="builtintype" id="3792456">string</span><span class="op" id="3792462">,</span>&nbsp;<span class="builtintype" id="3792464">error</span><span class="op" id="3792469">)</span>&nbsp;<span class="op" id="3792471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792474">const</span>&nbsp;<span class="ident" id="3792480">maxIter</span>&nbsp;<span class="op" id="3792488">=</span>&nbsp;<span class="num" id="3792490">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3792495">originalPath</span>&nbsp;<span class="op" id="3792508">:=</span>&nbsp;<span class="ident" id="3792511"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3792517">//&nbsp;consume&nbsp;path&nbsp;by&nbsp;taking&nbsp;each&nbsp;frontmost&nbsp;path&nbsp;element,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3792573">//&nbsp;expanding&nbsp;it&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;and&nbsp;appending&nbsp;it&nbsp;to&nbsp;b</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792631">var</span>&nbsp;<span class="ident" id="3792635">b</span>&nbsp;<span class="ident" id="3792637"><a href="/gostd/path/filepath/symlink.go.html#3792370">bytes</a></span><span class="op" id="3792642">.</span><span class="ident" id="3792643"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792651">for</span>&nbsp;<span class="ident" id="3792655">n</span>&nbsp;<span class="op" id="3792657">:=</span>&nbsp;<span class="num" id="3792660">0</span><span class="op" id="3792661">;</span>&nbsp;<span class="ident" id="3792663"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span>&nbsp;<span class="op" id="3792668">!=</span>&nbsp;<span class="string" id="3792671">&#34;&#34;</span><span class="op" id="3792673">;</span>&nbsp;<span class="ident" id="3792675"><a href="/gostd/path/filepath/symlink.go.html#3792655">n</a></span><span class="op" id="3792676">++</span>&nbsp;<span class="op" id="3792679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792683">if</span>&nbsp;<span class="ident" id="3792686"><a href="/gostd/path/filepath/symlink.go.html#3792655">n</a></span>&nbsp;<span class="op" id="3792688">&gt;</span>&nbsp;<span class="ident" id="3792690"><a href="/gostd/path/filepath/symlink.go.html#3792480">maxIter</a></span>&nbsp;<span class="op" id="3792698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792703">return</span>&nbsp;<span class="string" id="3792710">&#34;&#34;</span><span class="op" id="3792712">,</span>&nbsp;<span class="ident" id="3792714"><a href="/gostd/path/filepath/symlink.go.html#3792379">errors</a></span><span class="op" id="3792720">.</span><span class="ident" id="3792721"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3792724">(</span><span class="string" id="3792725">&#34;EvalSymlinks:&nbsp;too&nbsp;many&nbsp;links&nbsp;in&nbsp;&#34;</span>&nbsp;<span class="op" id="3792760">+</span>&nbsp;<span class="ident" id="3792762"><a href="/gostd/path/filepath/symlink.go.html#3792495">originalPath</a></span><span class="op" id="3792774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3792778">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3792783">//&nbsp;find&nbsp;next&nbsp;path&nbsp;component,&nbsp;p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792816">var</span>&nbsp;<span class="ident" id="3792820">i</span>&nbsp;<span class="op" id="3792822">=</span>&nbsp;<span class="op" id="3792824">-</span><span class="num" id="3792825">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792829">for</span>&nbsp;<span class="ident" id="3792833">j</span><span class="op" id="3792834">,</span>&nbsp;<span class="ident" id="3792836">c</span>&nbsp;<span class="op" id="3792838">:=</span>&nbsp;<span class="keyword" id="3792841">range</span>&nbsp;<span class="ident" id="3792847"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span>&nbsp;<span class="op" id="3792852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792857">if</span>&nbsp;<span class="ident" id="3792860"><a href="/gostd/path/filepath/symlink.go.html#3792836">c</a></span>&nbsp;<span class="op" id="3792862">&lt;</span>&nbsp;<span class="ident" id="3792864"><a href="/gostd/path/filepath/symlink.go.html#3792403">utf8RuneSelf</a></span>&nbsp;<span class="op" id="3792877">&amp;&amp;</span>&nbsp;<span class="ident" id="3792880"><a href="/gostd/path/filepath/symlink.go.html#3792389">os</a></span><span class="op" id="3792882">.</span><span class="ident" id="3792883"><a href="/gostd/os/path_unix.go.html#2467380">IsPathSeparator</a></span><span class="op" id="3792898">(</span><span class="builtintype" id="3792899">uint8</span><span class="op" id="3792904">(</span><span class="ident" id="3792905"><a href="/gostd/path/filepath/symlink.go.html#3792836">c</a></span><span class="op" id="3792906">)</span><span class="op" id="3792907">)</span>&nbsp;<span class="op" id="3792909">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3792915"><a href="/gostd/path/filepath/symlink.go.html#3792820">i</a></span>&nbsp;<span class="op" id="3792917">=</span>&nbsp;<span class="ident" id="3792919"><a href="/gostd/path/filepath/symlink.go.html#3792833">j</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792925">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3792934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3792938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792942">var</span>&nbsp;<span class="ident" id="3792946">p</span>&nbsp;<span class="builtintype" id="3792948">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3792957">if</span>&nbsp;<span class="ident" id="3792960"><a href="/gostd/path/filepath/symlink.go.html#3792820">i</a></span>&nbsp;<span class="op" id="3792962">==</span>&nbsp;<span class="op" id="3792965">-</span><span class="num" id="3792966">1</span>&nbsp;<span class="op" id="3792968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3792973"><a href="/gostd/path/filepath/symlink.go.html#3792946">p</a></span><span class="op" id="3792974">,</span>&nbsp;<span class="ident" id="3792976"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span>&nbsp;<span class="op" id="3792981">=</span>&nbsp;<span class="ident" id="3792983"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span><span class="op" id="3792987">,</span>&nbsp;<span class="string" id="3792989">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3792994">}</span>&nbsp;<span class="keyword" id="3792996">else</span>&nbsp;<span class="op" id="3793001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3793006"><a href="/gostd/path/filepath/symlink.go.html#3792946">p</a></span><span class="op" id="3793007">,</span>&nbsp;<span class="ident" id="3793009"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span>&nbsp;<span class="op" id="3793014">=</span>&nbsp;<span class="ident" id="3793016"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span><span class="op" id="3793020">[</span><span class="op" id="3793021">:</span><span class="ident" id="3793022"><a href="/gostd/path/filepath/symlink.go.html#3792820">i</a></span><span class="op" id="3793023">]</span><span class="op" id="3793024">,</span>&nbsp;<span class="ident" id="3793026"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span><span class="op" id="3793030">[</span><span class="ident" id="3793031"><a href="/gostd/path/filepath/symlink.go.html#3792820">i</a></span><span class="op" id="3793032">+</span><span class="num" id="3793033">1</span><span class="op" id="3793034">:</span><span class="op" id="3793035">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3793039">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793044">if</span>&nbsp;<span class="ident" id="3793047"><a href="/gostd/path/filepath/symlink.go.html#3792946">p</a></span>&nbsp;<span class="op" id="3793049">==</span>&nbsp;<span class="string" id="3793052">&#34;&#34;</span>&nbsp;<span class="op" id="3793055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793060">if</span>&nbsp;<span class="ident" id="3793063"><a href="/gostd/path/filepath/symlink.go.html#3792635">b</a></span><span class="op" id="3793064">.</span><span class="ident" id="3793065"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="3793068">(</span><span class="op" id="3793069">)</span>&nbsp;<span class="op" id="3793071">==</span>&nbsp;<span class="num" id="3793074">0</span>&nbsp;<span class="op" id="3793076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3793082">//&nbsp;must&nbsp;be&nbsp;absolute&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3793111"><a href="/gostd/path/filepath/symlink.go.html#3792635">b</a></span><span class="op" id="3793112">.</span><span class="ident" id="3793113"><a href="/gostd/bytes/buffer.go.html#1390522">WriteRune</a></span><span class="op" id="3793122">(</span><span class="ident" id="3793123"><a href="/gostd/path/filepath/path.go.html#3779295">Separator</a></span><span class="op" id="3793132">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3793137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793142">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3793153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3793158">fi</span><span class="op" id="3793160">,</span>&nbsp;<span class="ident" id="3793162">err</span>&nbsp;<span class="op" id="3793166">:=</span>&nbsp;<span class="ident" id="3793169"><a href="/gostd/path/filepath/symlink.go.html#3792389">os</a></span><span class="op" id="3793171">.</span><span class="ident" id="3793172"><a href="/gostd/os/file_unix.go.html#2455973">Lstat</a></span><span class="op" id="3793177">(</span><span class="ident" id="3793178"><a href="/gostd/path/filepath/symlink.go.html#3792635">b</a></span><span class="op" id="3793179">.</span><span class="ident" id="3793180"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3793186">(</span><span class="op" id="3793187">)</span>&nbsp;<span class="op" id="3793189">+</span>&nbsp;<span class="ident" id="3793191"><a href="/gostd/path/filepath/symlink.go.html#3792946">p</a></span><span class="op" id="3793192">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793196">if</span>&nbsp;<span class="ident" id="3793199"><a href="/gostd/path/filepath/symlink.go.html#3793162">err</a></span>&nbsp;<span class="op" id="3793203">!=</span>&nbsp;<span class="builtintype" id="3793206">nil</span>&nbsp;<span class="op" id="3793210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793215">return</span>&nbsp;<span class="string" id="3793222">&#34;&#34;</span><span class="op" id="3793224">,</span>&nbsp;<span class="ident" id="3793226"><a href="/gostd/path/filepath/symlink.go.html#3793162">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3793232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793236">if</span>&nbsp;<span class="ident" id="3793239"><a href="/gostd/path/filepath/symlink.go.html#3793158">fi</a></span><span class="op" id="3793241">.</span><span class="ident" id="3793242"><a href="/gostd/os/types.go.html#2472615">Mode</a></span><span class="op" id="3793246">(</span><span class="op" id="3793247">)</span><span class="op" id="3793248">&amp;</span><span class="ident" id="3793249"><a href="/gostd/path/filepath/symlink.go.html#3792389">os</a></span><span class="op" id="3793251">.</span><span class="ident" id="3793252"><a href="/gostd/os/types.go.html#2473870">ModeSymlink</a></span>&nbsp;<span class="op" id="3793264">==</span>&nbsp;<span class="num" id="3793267">0</span>&nbsp;<span class="op" id="3793269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3793274"><a href="/gostd/path/filepath/symlink.go.html#3792635">b</a></span><span class="op" id="3793275">.</span><span class="ident" id="3793276"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="3793287">(</span><span class="ident" id="3793288"><a href="/gostd/path/filepath/symlink.go.html#3792946">p</a></span><span class="op" id="3793289">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793294">if</span>&nbsp;<span class="ident" id="3793297"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span>&nbsp;<span class="op" id="3793302">!=</span>&nbsp;<span class="string" id="3793305">&#34;&#34;</span>&nbsp;<span class="op" id="3793308">||</span>&nbsp;<span class="op" id="3793311">(</span><span class="ident" id="3793312"><a href="/gostd/path/filepath/symlink.go.html#3792635">b</a></span><span class="op" id="3793313">.</span><span class="ident" id="3793314"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="3793317">(</span><span class="op" id="3793318">)</span>&nbsp;<span class="op" id="3793320">==</span>&nbsp;<span class="num" id="3793323">2</span>&nbsp;<span class="op" id="3793325">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3793328">len</span><span class="op" id="3793331">(</span><span class="ident" id="3793332"><a href="/gostd/path/filepath/symlink.go.html#3792946">p</a></span><span class="op" id="3793333">)</span>&nbsp;<span class="op" id="3793335">==</span>&nbsp;<span class="num" id="3793338">2</span>&nbsp;<span class="op" id="3793340">&amp;&amp;</span>&nbsp;<span class="ident" id="3793343"><a href="/gostd/path/filepath/symlink.go.html#3792946">p</a></span><span class="op" id="3793344">[</span><span class="num" id="3793345">1</span><span class="op" id="3793346">]</span>&nbsp;<span class="op" id="3793348">==</span>&nbsp;<span class="string" id="3793351">&#39;:&#39;</span><span class="op" id="3793354">)</span>&nbsp;<span class="op" id="3793356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3793362"><a href="/gostd/path/filepath/symlink.go.html#3792635">b</a></span><span class="op" id="3793363">.</span><span class="ident" id="3793364"><a href="/gostd/bytes/buffer.go.html#1390522">WriteRune</a></span><span class="op" id="3793373">(</span><span class="ident" id="3793374"><a href="/gostd/path/filepath/path.go.html#3779295">Separator</a></span><span class="op" id="3793383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3793388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793393">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3793404">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3793409">//&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;put&nbsp;it&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3793458">dest</span><span class="op" id="3793462">,</span>&nbsp;<span class="ident" id="3793464"><a href="/gostd/path/filepath/symlink.go.html#3793162">err</a></span>&nbsp;<span class="op" id="3793468">:=</span>&nbsp;<span class="ident" id="3793471"><a href="/gostd/path/filepath/symlink.go.html#3792389">os</a></span><span class="op" id="3793473">.</span><span class="ident" id="3793474"><a href="/gostd/os/file_posix.go.html#2448213">Readlink</a></span><span class="op" id="3793482">(</span><span class="ident" id="3793483"><a href="/gostd/path/filepath/symlink.go.html#3792635">b</a></span><span class="op" id="3793484">.</span><span class="ident" id="3793485"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3793491">(</span><span class="op" id="3793492">)</span>&nbsp;<span class="op" id="3793494">+</span>&nbsp;<span class="ident" id="3793496"><a href="/gostd/path/filepath/symlink.go.html#3792946">p</a></span><span class="op" id="3793497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793501">if</span>&nbsp;<span class="ident" id="3793504"><a href="/gostd/path/filepath/symlink.go.html#3793162">err</a></span>&nbsp;<span class="op" id="3793508">!=</span>&nbsp;<span class="builtintype" id="3793511">nil</span>&nbsp;<span class="op" id="3793515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793520">return</span>&nbsp;<span class="string" id="3793527">&#34;&#34;</span><span class="op" id="3793529">,</span>&nbsp;<span class="ident" id="3793531"><a href="/gostd/path/filepath/symlink.go.html#3793162">err</a></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3793537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793541">if</span>&nbsp;<span class="ident" id="3793544"><a href="/gostd/path/filepath/path_unix.go.html#3791616">IsAbs</a></span><span class="op" id="3793549">(</span><span class="ident" id="3793550"><a href="/gostd/path/filepath/symlink.go.html#3793458">dest</a></span><span class="op" id="3793554">)</span>&nbsp;<span class="op" id="3793556">||</span>&nbsp;<span class="ident" id="3793559"><a href="/gostd/path/filepath/symlink.go.html#3792389">os</a></span><span class="op" id="3793561">.</span><span class="ident" id="3793562"><a href="/gostd/os/path_unix.go.html#2467380">IsPathSeparator</a></span><span class="op" id="3793577">(</span><span class="ident" id="3793578"><a href="/gostd/path/filepath/symlink.go.html#3793458">dest</a></span><span class="op" id="3793582">[</span><span class="num" id="3793583">0</span><span class="op" id="3793584">]</span><span class="op" id="3793585">)</span>&nbsp;<span class="op" id="3793587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3793592"><a href="/gostd/path/filepath/symlink.go.html#3792635">b</a></span><span class="op" id="3793593">.</span><span class="ident" id="3793594"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="3793599">(</span><span class="op" id="3793600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3793604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3793608"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span>&nbsp;<span class="op" id="3793613">=</span>&nbsp;<span class="ident" id="3793615"><a href="/gostd/path/filepath/symlink.go.html#3793458">dest</a></span>&nbsp;<span class="op" id="3793620">+</span>&nbsp;<span class="builtintype" id="3793622">string</span><span class="op" id="3793628">(</span><span class="ident" id="3793629"><a href="/gostd/path/filepath/path.go.html#3779295">Separator</a></span><span class="op" id="3793638">)</span>&nbsp;<span class="op" id="3793640">+</span>&nbsp;<span class="ident" id="3793642"><a href="/gostd/path/filepath/symlink.go.html#3792442">path</a></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3793648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3793651">return</span>&nbsp;<span class="ident" id="3793658"><a href="/gostd/path/filepath/path.go.html#3780312">Clean</a></span><span class="op" id="3793663">(</span><span class="ident" id="3793664"><a href="/gostd/path/filepath/symlink.go.html#3792635">b</a></span><span class="op" id="3793665">.</span><span class="ident" id="3793666"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3793672">(</span><span class="op" id="3793673">)</span><span class="op" id="3793674">)</span><span class="op" id="3793675">,</span>&nbsp;<span class="builtintype" id="3793677">nil</span><br>
<span class="lineno"></span><span class="op" id="3793681">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
