<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5347325">package</span>&nbsp;<span class="ident" id="5347333">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5347339">import</span>&nbsp;<span class="op" id="5347346">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5347349">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5347371">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5347374">func</span>&nbsp;<span class="ident" id="5347379">parseOps</span><span class="op" id="5347387">(</span><span class="ident" id="5347388">p</span>&nbsp;<span class="op" id="5347390">*</span><span class="ident" id="5347391"><a href="/lonnie.io/e8vm/asm8/parser.go.html#5352831">parser</a></span><span class="op" id="5347397">)</span>&nbsp;<span class="op" id="5347399">(</span><span class="ident" id="5347400">ops</span>&nbsp;<span class="op" id="5347404">[</span><span class="op" id="5347405">]</span><span class="op" id="5347406">*</span><span class="ident" id="5347407"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347349">lex8</a></span><span class="op" id="5347411">.</span><span class="ident" id="5347412">Token</span><span class="op" id="5347417">)</span>&nbsp;<span class="op" id="5347419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347422">for</span>&nbsp;<span class="op" id="5347426">!</span><span class="ident" id="5347427"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347388">p</a></span><span class="op" id="5347428">.</span><span class="ident" id="5347429">acceptType</span><span class="op" id="5347439">(</span><span class="ident" id="5347440"><a href="/lonnie.io/e8vm/asm8/token.go.html#5359873">Semi</a></span><span class="op" id="5347444">)</span>&nbsp;<span class="op" id="5347446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5347450">t</span>&nbsp;<span class="op" id="5347452">:=</span>&nbsp;<span class="ident" id="5347455"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347388">p</a></span><span class="op" id="5347456">.</span><span class="ident" id="5347457">expect</span><span class="op" id="5347463">(</span><span class="ident" id="5347464"><a href="/lonnie.io/e8vm/asm8/token.go.html#5359834">Operand</a></span><span class="op" id="5347471">)</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347475">if</span>&nbsp;<span class="ident" id="5347478"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347450">t</a></span>&nbsp;<span class="op" id="5347480">!=</span>&nbsp;<span class="ident" id="5347483">nil</span>&nbsp;<span class="op" id="5347487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5347492"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347400">ops</a></span>&nbsp;<span class="op" id="5347496">=</span>&nbsp;<span class="builtinfunc" id="5347498">append</span><span class="op" id="5347504">(</span><span class="ident" id="5347505"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347400">ops</a></span><span class="op" id="5347508">,</span>&nbsp;<span class="ident" id="5347510"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347450">t</a></span><span class="op" id="5347511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5347515">}</span>&nbsp;<span class="keyword" id="5347517">else</span>&nbsp;<span class="op" id="5347522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5347527"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347400">ops</a></span>&nbsp;<span class="op" id="5347531">=</span>&nbsp;<span class="ident" id="5347533">nil</span>&nbsp;<span class="comment" id="5347537">//&nbsp;error&nbsp;now</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347553">if</span>&nbsp;<span class="ident" id="5347556"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347388">p</a></span><span class="op" id="5347557">.</span><span class="ident" id="5347558">see</span><span class="op" id="5347561">(</span><span class="ident" id="5347562"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347349">lex8</a></span><span class="op" id="5347566">.</span><span class="ident" id="5347567">EOF</span><span class="op" id="5347570">)</span>&nbsp;<span class="op" id="5347572">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347578">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5347587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5347592"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347388">p</a></span><span class="op" id="5347593">.</span><span class="ident" id="5347594">next</span><span class="op" id="5347598">(</span><span class="op" id="5347599">)</span>&nbsp;<span class="comment" id="5347601">//&nbsp;proceed&nbsp;anyway&nbsp;for&nbsp;other&nbsp;stuff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5347637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5347640">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5347644"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347388">p</a></span><span class="op" id="5347645">.</span><span class="ident" id="5347646">clearErr</span><span class="op" id="5347654">(</span><span class="op" id="5347655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347658">return</span>&nbsp;<span class="ident" id="5347665"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347400">ops</a></span><br>
<span class="lineno"></span><span class="op" id="5347669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="5347672">func</span>&nbsp;<span class="ident" id="5347677">parseFuncStmt</span><span class="op" id="5347690">(</span><span class="ident" id="5347691">p</span>&nbsp;<span class="op" id="5347693">*</span><span class="ident" id="5347694"><a href="/lonnie.io/e8vm/asm8/parser.go.html#5352831">parser</a></span><span class="op" id="5347700">)</span>&nbsp;<span class="op" id="5347702">*</span><span class="ident" id="5347703"><a href="/lonnie.io/e8vm/asm8/func_stmt.go.html#5330101">funcStmt</a></span>&nbsp;<span class="op" id="5347712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5347715">ops</span>&nbsp;<span class="op" id="5347719">:=</span>&nbsp;<span class="ident" id="5347722"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347379">parseOps</a></span><span class="op" id="5347730">(</span><span class="ident" id="5347731"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347691">p</a></span><span class="op" id="5347732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347735">if</span>&nbsp;<span class="builtinfunc" id="5347738">len</span><span class="op" id="5347741">(</span><span class="ident" id="5347742"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347715">ops</a></span><span class="op" id="5347745">)</span>&nbsp;<span class="op" id="5347747">==</span>&nbsp;<span class="num" id="5347750">0</span>&nbsp;<span class="op" id="5347752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347756">return</span>&nbsp;<span class="ident" id="5347763">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5347768">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5347772">op0</span>&nbsp;<span class="op" id="5347776">:=</span>&nbsp;<span class="ident" id="5347779"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347715">ops</a></span><span class="op" id="5347782">[</span><span class="num" id="5347783">0</span><span class="op" id="5347784">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5347787">lead</span>&nbsp;<span class="op" id="5347792">:=</span>&nbsp;<span class="ident" id="5347795"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347772">op0</a></span><span class="op" id="5347798">.</span><span class="ident" id="5347799">Lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347804">if</span>&nbsp;<span class="ident" id="5347807"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347787">lead</a></span>&nbsp;<span class="op" id="5347812">==</span>&nbsp;<span class="string" id="5347815">&#34;&#34;</span>&nbsp;<span class="op" id="5347818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5347822">panic</span><span class="op" id="5347827">(</span><span class="string" id="5347828">&#34;empty&nbsp;operand&#34;</span><span class="op" id="5347843">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5347846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347850">if</span>&nbsp;<span class="ident" id="5347853"><a href="/lonnie.io/e8vm/asm8/parse_label.go.html#5348879">parseLabel</a></span><span class="op" id="5347863">(</span><span class="ident" id="5347864"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347691">p</a></span><span class="op" id="5347865">,</span>&nbsp;<span class="ident" id="5347867"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347772">op0</a></span><span class="op" id="5347870">)</span>&nbsp;<span class="op" id="5347872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347876">if</span>&nbsp;<span class="builtinfunc" id="5347879">len</span><span class="op" id="5347882">(</span><span class="ident" id="5347883"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347715">ops</a></span><span class="op" id="5347886">)</span>&nbsp;<span class="op" id="5347888">&gt;</span>&nbsp;<span class="num" id="5347890">1</span>&nbsp;<span class="op" id="5347892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5347897"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347691">p</a></span><span class="op" id="5347898">.</span><span class="ident" id="5347899">err</span><span class="op" id="5347902">(</span><span class="ident" id="5347903"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347772">op0</a></span><span class="op" id="5347906">.</span><span class="ident" id="5347907">Pos</span><span class="op" id="5347910">,</span>&nbsp;<span class="string" id="5347912">&#34;label&nbsp;should&nbsp;take&nbsp;the&nbsp;entire&nbsp;line&#34;</span><span class="op" id="5347947">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347952">return</span>&nbsp;<span class="ident" id="5347959">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5347965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5347969">return</span>&nbsp;<span class="op" id="5347976">&amp;</span><span class="ident" id="5347977"><a href="/lonnie.io/e8vm/asm8/func_stmt.go.html#5330101">funcStmt</a></span><span class="op" id="5347985">{</span><span class="ident" id="5347986">label</span><span class="op" id="5347991">:</span>&nbsp;<span class="ident" id="5347993"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347787">lead</a></span><span class="op" id="5347997">,</span>&nbsp;<span class="ident" id="5347999">ops</span><span class="op" id="5348002">:</span>&nbsp;<span class="ident" id="5348004"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347715">ops</a></span><span class="op" id="5348007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5348010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5348014">return</span>&nbsp;<span class="op" id="5348021">&amp;</span><span class="ident" id="5348022"><a href="/lonnie.io/e8vm/asm8/func_stmt.go.html#5330101">funcStmt</a></span><span class="op" id="5348030">{</span><span class="ident" id="5348031">inst</span><span class="op" id="5348035">:</span>&nbsp;<span class="ident" id="5348037"><a href="/lonnie.io/e8vm/asm8/inst_all.go.html#5330841">parseInst</a></span><span class="op" id="5348046">(</span><span class="ident" id="5348047"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347691">p</a></span><span class="op" id="5348048">,</span>&nbsp;<span class="ident" id="5348050"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347715">ops</a></span><span class="op" id="5348053">)</span><span class="op" id="5348054">,</span>&nbsp;<span class="ident" id="5348056">ops</span><span class="op" id="5348059">:</span>&nbsp;<span class="ident" id="5348061"><a href="/lonnie.io/e8vm/asm8/parse_func_stmt.go.html#5347715">ops</a></span><span class="op" id="5348064">}</span><br>
<span class="lineno"></span><span class="op" id="5348066">}</span>
</div>
</body>
</html>
