<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1797017">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1797072">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1797126">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1797177">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1797235">package</span>&nbsp;<span class="ident" id="1797243">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1797248">import</span>&nbsp;<span class="op" id="1797255">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1797258">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1797268">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1797275">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1797281">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1797294">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="1797304">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1797307">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="1797362">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="1797415">type</span>&nbsp;<span class="ident" id="1797420">Int</span>&nbsp;<span class="keyword" id="1797424">struct</span>&nbsp;<span class="op" id="1797431">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1797434">neg</span>&nbsp;<span class="builtintype" id="1797438">bool</span>&nbsp;<span class="comment" id="1797443">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1797452">abs</span>&nbsp;<span class="ident" id="1797456">nat</span>&nbsp;&nbsp;<span class="comment" id="1797461">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="1797494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1797497">var</span>&nbsp;<span class="ident" id="1797501">intOne</span>&nbsp;<span class="op" id="1797508">=</span>&nbsp;<span class="op" id="1797510">&amp;</span><span class="ident" id="1797511">Int</span><span class="op" id="1797514">{</span><span class="ident" id="1797515">false</span><span class="op" id="1797520">,</span>&nbsp;<span class="ident" id="1797522">natOne</span><span class="op" id="1797528">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="1797531">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="1797548">//</span><br>
<span class="lineno"></span><span class="comment" id="1797551">//&nbsp;&nbsp;&nbsp;&nbsp-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="1797567">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="1797583">//&nbsp;&nbsp;&nbsp;&nbsp+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="1797599">//</span><br>
<span class="lineno"></span><span class="keyword" id="1797602">func</span>&nbsp;<span class="op" id="1797607">(</span><span class="ident" id="1797608">x</span>&nbsp;<span class="op" id="1797610">*</span><span class="ident" id="1797611">Int</span><span class="op" id="1797614">)</span>&nbsp;<span class="ident" id="1797616">Sign</span><span class="op" id="1797620">(</span><span class="op" id="1797621">)</span>&nbsp;<span class="builtintype" id="1797623">int</span>&nbsp;<span class="op" id="1797627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1797630">if</span>&nbsp;<span class="builtinfunc" id="1797633">len</span><span class="op" id="1797636">(</span><span class="ident" id="1797637">x</span><span class="op" id="1797638">.</span><span class="ident" id="1797639">abs</span><span class="op" id="1797642">)</span>&nbsp;<span class="op" id="1797644">==</span>&nbsp;<span class="num" id="1797647">0</span>&nbsp;<span class="op" id="1797649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1797653">return</span>&nbsp;<span class="num" id="1797660">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1797663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1797666">if</span>&nbsp;<span class="ident" id="1797669">x</span><span class="op" id="1797670">.</span><span class="ident" id="1797671">neg</span>&nbsp;<span class="op" id="1797675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1797679">return</span>&nbsp;<span class="op" id="1797686">-</span><span class="num" id="1797687">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1797690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1797693">return</span>&nbsp;<span class="num" id="1797700">1</span><br>
<span class="lineno">40</span><span class="op" id="1797702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1797705">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1797744">func</span>&nbsp;<span class="op" id="1797749">(</span><span class="ident" id="1797750">z</span>&nbsp;<span class="op" id="1797752">*</span><span class="ident" id="1797753">Int</span><span class="op" id="1797756">)</span>&nbsp;<span class="ident" id="1797758">SetInt64</span><span class="op" id="1797766">(</span><span class="ident" id="1797767">x</span>&nbsp;<span class="ident" id="1797769">int64</span><span class="op" id="1797774">)</span>&nbsp;<span class="op" id="1797776">*</span><span class="ident" id="1797777">Int</span>&nbsp;<span class="op" id="1797781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1797784">neg</span>&nbsp;<span class="op" id="1797788">:=</span>&nbsp;<span class="ident" id="1797791">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1797798">if</span>&nbsp;<span class="ident" id="1797801">x</span>&nbsp;<span class="op" id="1797803">&lt;</span>&nbsp;<span class="num" id="1797805">0</span>&nbsp;<span class="op" id="1797807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1797811">neg</span>&nbsp;<span class="op" id="1797815">=</span>&nbsp;<span class="ident" id="1797817">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1797824">x</span>&nbsp;<span class="op" id="1797826">=</span>&nbsp;<span class="op" id="1797828">-</span><span class="ident" id="1797829">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1797832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1797835">z</span><span class="op" id="1797836">.</span><span class="ident" id="1797837">abs</span>&nbsp;<span class="op" id="1797841">=</span>&nbsp;<span class="ident" id="1797843">z</span><span class="op" id="1797844">.</span><span class="ident" id="1797845">abs</span><span class="op" id="1797848">.</span><span class="ident" id="1797849">setUint64</span><span class="op" id="1797858">(</span><span class="ident" id="1797859">uint64</span><span class="op" id="1797865">(</span><span class="ident" id="1797866">x</span><span class="op" id="1797867">)</span><span class="op" id="1797868">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1797871">z</span><span class="op" id="1797872">.</span><span class="ident" id="1797873">neg</span>&nbsp;<span class="op" id="1797877">=</span>&nbsp;<span class="ident" id="1797879">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1797884">return</span>&nbsp;<span class="ident" id="1797891">z</span><br>
<span class="lineno"></span><span class="op" id="1797893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1797896">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="1797936">func</span>&nbsp;<span class="op" id="1797941">(</span><span class="ident" id="1797942">z</span>&nbsp;<span class="op" id="1797944">*</span><span class="ident" id="1797945">Int</span><span class="op" id="1797948">)</span>&nbsp;<span class="ident" id="1797950">SetUint64</span><span class="op" id="1797959">(</span><span class="ident" id="1797960">x</span>&nbsp;<span class="ident" id="1797962">uint64</span><span class="op" id="1797968">)</span>&nbsp;<span class="op" id="1797970">*</span><span class="ident" id="1797971">Int</span>&nbsp;<span class="op" id="1797975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1797978">z</span><span class="op" id="1797979">.</span><span class="ident" id="1797980">abs</span>&nbsp;<span class="op" id="1797984">=</span>&nbsp;<span class="ident" id="1797986">z</span><span class="op" id="1797987">.</span><span class="ident" id="1797988">abs</span><span class="op" id="1797991">.</span><span class="ident" id="1797992">setUint64</span><span class="op" id="1798001">(</span><span class="ident" id="1798002">x</span><span class="op" id="1798003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1798006">z</span><span class="op" id="1798007">.</span><span class="ident" id="1798008">neg</span>&nbsp;<span class="op" id="1798012">=</span>&nbsp;<span class="ident" id="1798014">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1798021">return</span>&nbsp;<span class="ident" id="1798028">z</span><br>
<span class="lineno"></span><span class="op" id="1798030">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="1798033">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="1798085">func</span>&nbsp;<span class="ident" id="1798090">NewInt</span><span class="op" id="1798096">(</span><span class="ident" id="1798097">x</span>&nbsp;<span class="ident" id="1798099">int64</span><span class="op" id="1798104">)</span>&nbsp;<span class="op" id="1798106">*</span><span class="ident" id="1798107">Int</span>&nbsp;<span class="op" id="1798111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1798114">return</span>&nbsp;<span class="builtinfunc" id="1798121">new</span><span class="op" id="1798124">(</span><span class="ident" id="1798125">Int</span><span class="op" id="1798128">)</span><span class="op" id="1798129">.</span><span class="ident" id="1798130">SetInt64</span><span class="op" id="1798138">(</span><span class="ident" id="1798139">x</span><span class="op" id="1798140">)</span><br>
<span class="lineno"></span><span class="op" id="1798142">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="1798145">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1798179">func</span>&nbsp;<span class="op" id="1798184">(</span><span class="ident" id="1798185">z</span>&nbsp;<span class="op" id="1798187">*</span><span class="ident" id="1798188">Int</span><span class="op" id="1798191">)</span>&nbsp;<span class="ident" id="1798193">Set</span><span class="op" id="1798196">(</span><span class="ident" id="1798197">x</span>&nbsp;<span class="op" id="1798199">*</span><span class="ident" id="1798200">Int</span><span class="op" id="1798203">)</span>&nbsp;<span class="op" id="1798205">*</span><span class="ident" id="1798206">Int</span>&nbsp;<span class="op" id="1798210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1798213">if</span>&nbsp;<span class="ident" id="1798216">z</span>&nbsp;<span class="op" id="1798218">!=</span>&nbsp;<span class="ident" id="1798221">x</span>&nbsp;<span class="op" id="1798223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1798227">z</span><span class="op" id="1798228">.</span><span class="ident" id="1798229">abs</span>&nbsp;<span class="op" id="1798233">=</span>&nbsp;<span class="ident" id="1798235">z</span><span class="op" id="1798236">.</span><span class="ident" id="1798237">abs</span><span class="op" id="1798240">.</span><span class="ident" id="1798241">set</span><span class="op" id="1798244">(</span><span class="ident" id="1798245">x</span><span class="op" id="1798246">.</span><span class="ident" id="1798247">abs</span><span class="op" id="1798250">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1798254">z</span><span class="op" id="1798255">.</span><span class="ident" id="1798256">neg</span>&nbsp;<span class="op" id="1798260">=</span>&nbsp;<span class="ident" id="1798262">x</span><span class="op" id="1798263">.</span><span class="ident" id="1798264">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1798269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1798272">return</span>&nbsp;<span class="ident" id="1798279">z</span><br>
<span class="lineno"></span><span class="op" id="1798281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="1798284">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="1798355">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="1798427">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="1798457">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="1798528">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="1798599">func</span>&nbsp;<span class="op" id="1798604">(</span><span class="ident" id="1798605">x</span>&nbsp;<span class="op" id="1798607">*</span><span class="ident" id="1798608">Int</span><span class="op" id="1798611">)</span>&nbsp;<span class="ident" id="1798613">Bits</span><span class="op" id="1798617">(</span><span class="op" id="1798618">)</span>&nbsp;<span class="op" id="1798620">[</span><span class="op" id="1798621">]</span><span class="ident" id="1798622">Word</span>&nbsp;<span class="op" id="1798627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1798630">return</span>&nbsp;<span class="ident" id="1798637">x</span><span class="op" id="1798638">.</span><span class="ident" id="1798639">abs</span><br>
<span class="lineno"></span><span class="op" id="1798643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1798646">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="1798718">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="1798792">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="1798850">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="1798924">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="1798995">func</span>&nbsp;<span class="op" id="1799000">(</span><span class="ident" id="1799001">z</span>&nbsp;<span class="op" id="1799003">*</span><span class="ident" id="1799004">Int</span><span class="op" id="1799007">)</span>&nbsp;<span class="ident" id="1799009">SetBits</span><span class="op" id="1799016">(</span><span class="ident" id="1799017">abs</span>&nbsp;<span class="op" id="1799021">[</span><span class="op" id="1799022">]</span><span class="ident" id="1799023">Word</span><span class="op" id="1799027">)</span>&nbsp;<span class="op" id="1799029">*</span><span class="ident" id="1799030">Int</span>&nbsp;<span class="op" id="1799034">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799037">z</span><span class="op" id="1799038">.</span><span class="ident" id="1799039">abs</span>&nbsp;<span class="op" id="1799043">=</span>&nbsp;<span class="ident" id="1799045">nat</span><span class="op" id="1799048">(</span><span class="ident" id="1799049">abs</span><span class="op" id="1799052">)</span><span class="op" id="1799053">.</span><span class="ident" id="1799054">norm</span><span class="op" id="1799058">(</span><span class="op" id="1799059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799062">z</span><span class="op" id="1799063">.</span><span class="ident" id="1799064">neg</span>&nbsp;<span class="op" id="1799068">=</span>&nbsp;<span class="ident" id="1799070">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1799077">return</span>&nbsp;<span class="ident" id="1799084">z</span><br>
<span class="lineno"></span><span class="op" id="1799086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="1799089">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1799151">func</span>&nbsp;<span class="op" id="1799156">(</span><span class="ident" id="1799157">z</span>&nbsp;<span class="op" id="1799159">*</span><span class="ident" id="1799160">Int</span><span class="op" id="1799163">)</span>&nbsp;<span class="ident" id="1799165">Abs</span><span class="op" id="1799168">(</span><span class="ident" id="1799169">x</span>&nbsp;<span class="op" id="1799171">*</span><span class="ident" id="1799172">Int</span><span class="op" id="1799175">)</span>&nbsp;<span class="op" id="1799177">*</span><span class="ident" id="1799178">Int</span>&nbsp;<span class="op" id="1799182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799185">z</span><span class="op" id="1799186">.</span><span class="ident" id="1799187">Set</span><span class="op" id="1799190">(</span><span class="ident" id="1799191">x</span><span class="op" id="1799192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799195">z</span><span class="op" id="1799196">.</span><span class="ident" id="1799197">neg</span>&nbsp;<span class="op" id="1799201">=</span>&nbsp;<span class="ident" id="1799203">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1799210">return</span>&nbsp;<span class="ident" id="1799217">z</span><br>
<span class="lineno">100</span><span class="op" id="1799219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1799222">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1799257">func</span>&nbsp;<span class="op" id="1799262">(</span><span class="ident" id="1799263">z</span>&nbsp;<span class="op" id="1799265">*</span><span class="ident" id="1799266">Int</span><span class="op" id="1799269">)</span>&nbsp;<span class="ident" id="1799271">Neg</span><span class="op" id="1799274">(</span><span class="ident" id="1799275">x</span>&nbsp;<span class="op" id="1799277">*</span><span class="ident" id="1799278">Int</span><span class="op" id="1799281">)</span>&nbsp;<span class="op" id="1799283">*</span><span class="ident" id="1799284">Int</span>&nbsp;<span class="op" id="1799288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799291">z</span><span class="op" id="1799292">.</span><span class="ident" id="1799293">Set</span><span class="op" id="1799296">(</span><span class="ident" id="1799297">x</span><span class="op" id="1799298">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799301">z</span><span class="op" id="1799302">.</span><span class="ident" id="1799303">neg</span>&nbsp;<span class="op" id="1799307">=</span>&nbsp;<span class="builtinfunc" id="1799309">len</span><span class="op" id="1799312">(</span><span class="ident" id="1799313">z</span><span class="op" id="1799314">.</span><span class="ident" id="1799315">abs</span><span class="op" id="1799318">)</span>&nbsp;<span class="op" id="1799320">&gt;</span>&nbsp;<span class="num" id="1799322">0</span>&nbsp;<span class="op" id="1799324">&amp;&amp;</span>&nbsp;<span class="op" id="1799327">!</span><span class="ident" id="1799328">z</span><span class="op" id="1799329">.</span><span class="ident" id="1799330">neg</span>&nbsp;<span class="comment" id="1799334">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1799352">return</span>&nbsp;<span class="ident" id="1799359">z</span><br>
<span class="lineno"></span><span class="op" id="1799361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1799364">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="1799408">func</span>&nbsp;<span class="op" id="1799413">(</span><span class="ident" id="1799414">z</span>&nbsp;<span class="op" id="1799416">*</span><span class="ident" id="1799417">Int</span><span class="op" id="1799420">)</span>&nbsp;<span class="ident" id="1799422">Add</span><span class="op" id="1799425">(</span><span class="ident" id="1799426">x</span><span class="op" id="1799427">,</span>&nbsp;<span class="ident" id="1799429">y</span>&nbsp;<span class="op" id="1799431">*</span><span class="ident" id="1799432">Int</span><span class="op" id="1799435">)</span>&nbsp;<span class="op" id="1799437">*</span><span class="ident" id="1799438">Int</span>&nbsp;<span class="op" id="1799442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799445">neg</span>&nbsp;<span class="op" id="1799449">:=</span>&nbsp;<span class="ident" id="1799452">x</span><span class="op" id="1799453">.</span><span class="ident" id="1799454">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1799459">if</span>&nbsp;<span class="ident" id="1799462">x</span><span class="op" id="1799463">.</span><span class="ident" id="1799464">neg</span>&nbsp;<span class="op" id="1799468">==</span>&nbsp;<span class="ident" id="1799471">y</span><span class="op" id="1799472">.</span><span class="ident" id="1799473">neg</span>&nbsp;<span class="op" id="1799477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1799481">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1799501">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799530">z</span><span class="op" id="1799531">.</span><span class="ident" id="1799532">abs</span>&nbsp;<span class="op" id="1799536">=</span>&nbsp;<span class="ident" id="1799538">z</span><span class="op" id="1799539">.</span><span class="ident" id="1799540">abs</span><span class="op" id="1799543">.</span><span class="ident" id="1799544">add</span><span class="op" id="1799547">(</span><span class="ident" id="1799548">x</span><span class="op" id="1799549">.</span><span class="ident" id="1799550">abs</span><span class="op" id="1799553">,</span>&nbsp;<span class="ident" id="1799555">y</span><span class="op" id="1799556">.</span><span class="ident" id="1799557">abs</span><span class="op" id="1799560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1799563">}</span>&nbsp;<span class="keyword" id="1799565">else</span>&nbsp;<span class="op" id="1799570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1799574">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1799609">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1799644">if</span>&nbsp;<span class="ident" id="1799647">x</span><span class="op" id="1799648">.</span><span class="ident" id="1799649">abs</span><span class="op" id="1799652">.</span><span class="ident" id="1799653">cmp</span><span class="op" id="1799656">(</span><span class="ident" id="1799657">y</span><span class="op" id="1799658">.</span><span class="ident" id="1799659">abs</span><span class="op" id="1799662">)</span>&nbsp;<span class="op" id="1799664">&gt;=</span>&nbsp;<span class="num" id="1799667">0</span>&nbsp;<span class="op" id="1799669">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799674">z</span><span class="op" id="1799675">.</span><span class="ident" id="1799676">abs</span>&nbsp;<span class="op" id="1799680">=</span>&nbsp;<span class="ident" id="1799682">z</span><span class="op" id="1799683">.</span><span class="ident" id="1799684">abs</span><span class="op" id="1799687">.</span><span class="ident" id="1799688">sub</span><span class="op" id="1799691">(</span><span class="ident" id="1799692">x</span><span class="op" id="1799693">.</span><span class="ident" id="1799694">abs</span><span class="op" id="1799697">,</span>&nbsp;<span class="ident" id="1799699">y</span><span class="op" id="1799700">.</span><span class="ident" id="1799701">abs</span><span class="op" id="1799704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1799708">}</span>&nbsp;<span class="keyword" id="1799710">else</span>&nbsp;<span class="op" id="1799715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799720">neg</span>&nbsp;<span class="op" id="1799724">=</span>&nbsp;<span class="op" id="1799726">!</span><span class="ident" id="1799727">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799734">z</span><span class="op" id="1799735">.</span><span class="ident" id="1799736">abs</span>&nbsp;<span class="op" id="1799740">=</span>&nbsp;<span class="ident" id="1799742">z</span><span class="op" id="1799743">.</span><span class="ident" id="1799744">abs</span><span class="op" id="1799747">.</span><span class="ident" id="1799748">sub</span><span class="op" id="1799751">(</span><span class="ident" id="1799752">y</span><span class="op" id="1799753">.</span><span class="ident" id="1799754">abs</span><span class="op" id="1799757">,</span>&nbsp;<span class="ident" id="1799759">x</span><span class="op" id="1799760">.</span><span class="ident" id="1799761">abs</span><span class="op" id="1799764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1799768">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1799771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799774">z</span><span class="op" id="1799775">.</span><span class="ident" id="1799776">neg</span>&nbsp;<span class="op" id="1799780">=</span>&nbsp;<span class="builtinfunc" id="1799782">len</span><span class="op" id="1799785">(</span><span class="ident" id="1799786">z</span><span class="op" id="1799787">.</span><span class="ident" id="1799788">abs</span><span class="op" id="1799791">)</span>&nbsp;<span class="op" id="1799793">&gt;</span>&nbsp;<span class="num" id="1799795">0</span>&nbsp;<span class="op" id="1799797">&amp;&amp;</span>&nbsp;<span class="ident" id="1799800">neg</span>&nbsp;<span class="comment" id="1799804">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1799822">return</span>&nbsp;<span class="ident" id="1799829">z</span><br>
<span class="lineno"></span><span class="op" id="1799831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="1799834">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1799885">func</span>&nbsp;<span class="op" id="1799890">(</span><span class="ident" id="1799891">z</span>&nbsp;<span class="op" id="1799893">*</span><span class="ident" id="1799894">Int</span><span class="op" id="1799897">)</span>&nbsp;<span class="ident" id="1799899">Sub</span><span class="op" id="1799902">(</span><span class="ident" id="1799903">x</span><span class="op" id="1799904">,</span>&nbsp;<span class="ident" id="1799906">y</span>&nbsp;<span class="op" id="1799908">*</span><span class="ident" id="1799909">Int</span><span class="op" id="1799912">)</span>&nbsp;<span class="op" id="1799914">*</span><span class="ident" id="1799915">Int</span>&nbsp;<span class="op" id="1799919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1799922">neg</span>&nbsp;<span class="op" id="1799926">:=</span>&nbsp;<span class="ident" id="1799929">x</span><span class="op" id="1799930">.</span><span class="ident" id="1799931">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1799936">if</span>&nbsp;<span class="ident" id="1799939">x</span><span class="op" id="1799940">.</span><span class="ident" id="1799941">neg</span>&nbsp;<span class="op" id="1799945">!=</span>&nbsp;<span class="ident" id="1799948">y</span><span class="op" id="1799949">.</span><span class="ident" id="1799950">neg</span>&nbsp;<span class="op" id="1799954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1799958">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1799981">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800007">z</span><span class="op" id="1800008">.</span><span class="ident" id="1800009">abs</span>&nbsp;<span class="op" id="1800013">=</span>&nbsp;<span class="ident" id="1800015">z</span><span class="op" id="1800016">.</span><span class="ident" id="1800017">abs</span><span class="op" id="1800020">.</span><span class="ident" id="1800021">add</span><span class="op" id="1800024">(</span><span class="ident" id="1800025">x</span><span class="op" id="1800026">.</span><span class="ident" id="1800027">abs</span><span class="op" id="1800030">,</span>&nbsp;<span class="ident" id="1800032">y</span><span class="op" id="1800033">.</span><span class="ident" id="1800034">abs</span><span class="op" id="1800037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1800040">}</span>&nbsp;<span class="keyword" id="1800042">else</span>&nbsp;<span class="op" id="1800047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1800051">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1800083">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1800121">if</span>&nbsp;<span class="ident" id="1800124">x</span><span class="op" id="1800125">.</span><span class="ident" id="1800126">abs</span><span class="op" id="1800129">.</span><span class="ident" id="1800130">cmp</span><span class="op" id="1800133">(</span><span class="ident" id="1800134">y</span><span class="op" id="1800135">.</span><span class="ident" id="1800136">abs</span><span class="op" id="1800139">)</span>&nbsp;<span class="op" id="1800141">&gt;=</span>&nbsp;<span class="num" id="1800144">0</span>&nbsp;<span class="op" id="1800146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800151">z</span><span class="op" id="1800152">.</span><span class="ident" id="1800153">abs</span>&nbsp;<span class="op" id="1800157">=</span>&nbsp;<span class="ident" id="1800159">z</span><span class="op" id="1800160">.</span><span class="ident" id="1800161">abs</span><span class="op" id="1800164">.</span><span class="ident" id="1800165">sub</span><span class="op" id="1800168">(</span><span class="ident" id="1800169">x</span><span class="op" id="1800170">.</span><span class="ident" id="1800171">abs</span><span class="op" id="1800174">,</span>&nbsp;<span class="ident" id="1800176">y</span><span class="op" id="1800177">.</span><span class="ident" id="1800178">abs</span><span class="op" id="1800181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1800185">}</span>&nbsp;<span class="keyword" id="1800187">else</span>&nbsp;<span class="op" id="1800192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800197">neg</span>&nbsp;<span class="op" id="1800201">=</span>&nbsp;<span class="op" id="1800203">!</span><span class="ident" id="1800204">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800211">z</span><span class="op" id="1800212">.</span><span class="ident" id="1800213">abs</span>&nbsp;<span class="op" id="1800217">=</span>&nbsp;<span class="ident" id="1800219">z</span><span class="op" id="1800220">.</span><span class="ident" id="1800221">abs</span><span class="op" id="1800224">.</span><span class="ident" id="1800225">sub</span><span class="op" id="1800228">(</span><span class="ident" id="1800229">y</span><span class="op" id="1800230">.</span><span class="ident" id="1800231">abs</span><span class="op" id="1800234">,</span>&nbsp;<span class="ident" id="1800236">x</span><span class="op" id="1800237">.</span><span class="ident" id="1800238">abs</span><span class="op" id="1800241">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1800245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1800248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800251">z</span><span class="op" id="1800252">.</span><span class="ident" id="1800253">neg</span>&nbsp;<span class="op" id="1800257">=</span>&nbsp;<span class="builtinfunc" id="1800259">len</span><span class="op" id="1800262">(</span><span class="ident" id="1800263">z</span><span class="op" id="1800264">.</span><span class="ident" id="1800265">abs</span><span class="op" id="1800268">)</span>&nbsp;<span class="op" id="1800270">&gt;</span>&nbsp;<span class="num" id="1800272">0</span>&nbsp;<span class="op" id="1800274">&amp;&amp;</span>&nbsp;<span class="ident" id="1800277">neg</span>&nbsp;<span class="comment" id="1800281">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1800299">return</span>&nbsp;<span class="ident" id="1800306">z</span><br>
<span class="lineno"></span><span class="op" id="1800308">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="1800311">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1800359">func</span>&nbsp;<span class="op" id="1800364">(</span><span class="ident" id="1800365">z</span>&nbsp;<span class="op" id="1800367">*</span><span class="ident" id="1800368">Int</span><span class="op" id="1800371">)</span>&nbsp;<span class="ident" id="1800373">Mul</span><span class="op" id="1800376">(</span><span class="ident" id="1800377">x</span><span class="op" id="1800378">,</span>&nbsp;<span class="ident" id="1800380">y</span>&nbsp;<span class="op" id="1800382">*</span><span class="ident" id="1800383">Int</span><span class="op" id="1800386">)</span>&nbsp;<span class="op" id="1800388">*</span><span class="ident" id="1800389">Int</span>&nbsp;<span class="op" id="1800393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1800396">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1800415">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1800440">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1800465">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800490">z</span><span class="op" id="1800491">.</span><span class="ident" id="1800492">abs</span>&nbsp;<span class="op" id="1800496">=</span>&nbsp;<span class="ident" id="1800498">z</span><span class="op" id="1800499">.</span><span class="ident" id="1800500">abs</span><span class="op" id="1800503">.</span><span class="ident" id="1800504">mul</span><span class="op" id="1800507">(</span><span class="ident" id="1800508">x</span><span class="op" id="1800509">.</span><span class="ident" id="1800510">abs</span><span class="op" id="1800513">,</span>&nbsp;<span class="ident" id="1800515">y</span><span class="op" id="1800516">.</span><span class="ident" id="1800517">abs</span><span class="op" id="1800520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800523">z</span><span class="op" id="1800524">.</span><span class="ident" id="1800525">neg</span>&nbsp;<span class="op" id="1800529">=</span>&nbsp;<span class="builtinfunc" id="1800531">len</span><span class="op" id="1800534">(</span><span class="ident" id="1800535">z</span><span class="op" id="1800536">.</span><span class="ident" id="1800537">abs</span><span class="op" id="1800540">)</span>&nbsp;<span class="op" id="1800542">&gt;</span>&nbsp;<span class="num" id="1800544">0</span>&nbsp;<span class="op" id="1800546">&amp;&amp;</span>&nbsp;<span class="ident" id="1800549">x</span><span class="op" id="1800550">.</span><span class="ident" id="1800551">neg</span>&nbsp;<span class="op" id="1800555">!=</span>&nbsp;<span class="ident" id="1800558">y</span><span class="op" id="1800559">.</span><span class="ident" id="1800560">neg</span>&nbsp;<span class="comment" id="1800564">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1800582">return</span>&nbsp;<span class="ident" id="1800589">z</span><br>
<span class="lineno">160</span><span class="op" id="1800591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1800594">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="1800644">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="1800694">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="1800738">func</span>&nbsp;<span class="op" id="1800743">(</span><span class="ident" id="1800744">z</span>&nbsp;<span class="op" id="1800746">*</span><span class="ident" id="1800747">Int</span><span class="op" id="1800750">)</span>&nbsp;<span class="ident" id="1800752">MulRange</span><span class="op" id="1800760">(</span><span class="ident" id="1800761">a</span><span class="op" id="1800762">,</span>&nbsp;<span class="ident" id="1800764">b</span>&nbsp;<span class="ident" id="1800766">int64</span><span class="op" id="1800771">)</span>&nbsp;<span class="op" id="1800773">*</span><span class="ident" id="1800774">Int</span>&nbsp;<span class="op" id="1800778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1800781">switch</span>&nbsp;<span class="op" id="1800788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1800791">case</span>&nbsp;<span class="ident" id="1800796">a</span>&nbsp;<span class="op" id="1800798">&gt;</span>&nbsp;<span class="ident" id="1800800">b</span><span class="op" id="1800801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1800805">return</span>&nbsp;<span class="ident" id="1800812">z</span><span class="op" id="1800813">.</span><span class="ident" id="1800814">SetInt64</span><span class="op" id="1800822">(</span><span class="num" id="1800823">1</span><span class="op" id="1800824">)</span>&nbsp;<span class="comment" id="1800826">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1800842">case</span>&nbsp;<span class="ident" id="1800847">a</span>&nbsp;<span class="op" id="1800849">&lt;=</span>&nbsp;<span class="num" id="1800852">0</span>&nbsp;<span class="op" id="1800854">&amp;&amp;</span>&nbsp;<span class="ident" id="1800857">b</span>&nbsp;<span class="op" id="1800859">&gt;=</span>&nbsp;<span class="num" id="1800862">0</span><span class="op" id="1800863">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1800867">return</span>&nbsp;<span class="ident" id="1800874">z</span><span class="op" id="1800875">.</span><span class="ident" id="1800876">SetInt64</span><span class="op" id="1800884">(</span><span class="num" id="1800885">0</span><span class="op" id="1800886">)</span>&nbsp;<span class="comment" id="1800888">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1800909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1800912">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800944">neg</span>&nbsp;<span class="op" id="1800948">:=</span>&nbsp;<span class="ident" id="1800951">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1800958">if</span>&nbsp;<span class="ident" id="1800961">a</span>&nbsp;<span class="op" id="1800963">&lt;</span>&nbsp;<span class="num" id="1800965">0</span>&nbsp;<span class="op" id="1800967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800971">neg</span>&nbsp;<span class="op" id="1800975">=</span>&nbsp;<span class="op" id="1800977">(</span><span class="ident" id="1800978">b</span><span class="op" id="1800979">-</span><span class="ident" id="1800980">a</span><span class="op" id="1800981">)</span><span class="op" id="1800982">&amp;</span><span class="num" id="1800983">1</span>&nbsp;<span class="op" id="1800985">==</span>&nbsp;<span class="num" id="1800988">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1800992">a</span><span class="op" id="1800993">,</span>&nbsp;<span class="ident" id="1800995">b</span>&nbsp;<span class="op" id="1800997">=</span>&nbsp;<span class="op" id="1800999">-</span><span class="ident" id="1801000">b</span><span class="op" id="1801001">,</span>&nbsp;<span class="op" id="1801003">-</span><span class="ident" id="1801004">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1801007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1801011">z</span><span class="op" id="1801012">.</span><span class="ident" id="1801013">abs</span>&nbsp;<span class="op" id="1801017">=</span>&nbsp;<span class="ident" id="1801019">z</span><span class="op" id="1801020">.</span><span class="ident" id="1801021">abs</span><span class="op" id="1801024">.</span><span class="ident" id="1801025">mulRange</span><span class="op" id="1801033">(</span><span class="ident" id="1801034">uint64</span><span class="op" id="1801040">(</span><span class="ident" id="1801041">a</span><span class="op" id="1801042">)</span><span class="op" id="1801043">,</span>&nbsp;<span class="ident" id="1801045">uint64</span><span class="op" id="1801051">(</span><span class="ident" id="1801052">b</span><span class="op" id="1801053">)</span><span class="op" id="1801054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1801057">z</span><span class="op" id="1801058">.</span><span class="ident" id="1801059">neg</span>&nbsp;<span class="op" id="1801063">=</span>&nbsp;<span class="ident" id="1801065">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1801070">return</span>&nbsp;<span class="ident" id="1801077">z</span><br>
<span class="lineno"></span><span class="op" id="1801079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="1801082">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1801154">func</span>&nbsp;<span class="op" id="1801159">(</span><span class="ident" id="1801160">z</span>&nbsp;<span class="op" id="1801162">*</span><span class="ident" id="1801163">Int</span><span class="op" id="1801166">)</span>&nbsp;<span class="ident" id="1801168">Binomial</span><span class="op" id="1801176">(</span><span class="ident" id="1801177">n</span><span class="op" id="1801178">,</span>&nbsp;<span class="ident" id="1801180">k</span>&nbsp;<span class="ident" id="1801182">int64</span><span class="op" id="1801187">)</span>&nbsp;<span class="op" id="1801189">*</span><span class="ident" id="1801190">Int</span>&nbsp;<span class="op" id="1801194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1801197">var</span>&nbsp;<span class="ident" id="1801201">a</span><span class="op" id="1801202">,</span>&nbsp;<span class="ident" id="1801204">b</span>&nbsp;<span class="ident" id="1801206">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1801211">a</span><span class="op" id="1801212">.</span><span class="ident" id="1801213">MulRange</span><span class="op" id="1801221">(</span><span class="ident" id="1801222">n</span><span class="op" id="1801223">-</span><span class="ident" id="1801224">k</span><span class="op" id="1801225">+</span><span class="num" id="1801226">1</span><span class="op" id="1801227">,</span>&nbsp;<span class="ident" id="1801229">n</span><span class="op" id="1801230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1801233">b</span><span class="op" id="1801234">.</span><span class="ident" id="1801235">MulRange</span><span class="op" id="1801243">(</span><span class="num" id="1801244">1</span><span class="op" id="1801245">,</span>&nbsp;<span class="ident" id="1801247">k</span><span class="op" id="1801248">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1801251">return</span>&nbsp;<span class="ident" id="1801258">z</span><span class="op" id="1801259">.</span><span class="ident" id="1801260">Quo</span><span class="op" id="1801263">(</span><span class="op" id="1801264">&amp;</span><span class="ident" id="1801265">a</span><span class="op" id="1801266">,</span>&nbsp;<span class="op" id="1801268">&amp;</span><span class="ident" id="1801269">b</span><span class="op" id="1801270">)</span><br>
<span class="lineno"></span><span class="op" id="1801272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1801275">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="1801335">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="1801391">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="1801468">func</span>&nbsp;<span class="op" id="1801473">(</span><span class="ident" id="1801474">z</span>&nbsp;<span class="op" id="1801476">*</span><span class="ident" id="1801477">Int</span><span class="op" id="1801480">)</span>&nbsp;<span class="ident" id="1801482">Quo</span><span class="op" id="1801485">(</span><span class="ident" id="1801486">x</span><span class="op" id="1801487">,</span>&nbsp;<span class="ident" id="1801489">y</span>&nbsp;<span class="op" id="1801491">*</span><span class="ident" id="1801492">Int</span><span class="op" id="1801495">)</span>&nbsp;<span class="op" id="1801497">*</span><span class="ident" id="1801498">Int</span>&nbsp;<span class="op" id="1801502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1801505">z</span><span class="op" id="1801506">.</span><span class="ident" id="1801507">abs</span><span class="op" id="1801510">,</span>&nbsp;<span class="ident" id="1801512">_</span>&nbsp;<span class="op" id="1801514">=</span>&nbsp;<span class="ident" id="1801516">z</span><span class="op" id="1801517">.</span><span class="ident" id="1801518">abs</span><span class="op" id="1801521">.</span><span class="ident" id="1801522">div</span><span class="op" id="1801525">(</span><span class="ident" id="1801526">nil</span><span class="op" id="1801529">,</span>&nbsp;<span class="ident" id="1801531">x</span><span class="op" id="1801532">.</span><span class="ident" id="1801533">abs</span><span class="op" id="1801536">,</span>&nbsp;<span class="ident" id="1801538">y</span><span class="op" id="1801539">.</span><span class="ident" id="1801540">abs</span><span class="op" id="1801543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1801546">z</span><span class="op" id="1801547">.</span><span class="ident" id="1801548">neg</span>&nbsp;<span class="op" id="1801552">=</span>&nbsp;<span class="builtinfunc" id="1801554">len</span><span class="op" id="1801557">(</span><span class="ident" id="1801558">z</span><span class="op" id="1801559">.</span><span class="ident" id="1801560">abs</span><span class="op" id="1801563">)</span>&nbsp;<span class="op" id="1801565">&gt;</span>&nbsp;<span class="num" id="1801567">0</span>&nbsp;<span class="op" id="1801569">&amp;&amp;</span>&nbsp;<span class="ident" id="1801572">x</span><span class="op" id="1801573">.</span><span class="ident" id="1801574">neg</span>&nbsp;<span class="op" id="1801578">!=</span>&nbsp;<span class="ident" id="1801581">y</span><span class="op" id="1801582">.</span><span class="ident" id="1801583">neg</span>&nbsp;<span class="comment" id="1801587">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1801605">return</span>&nbsp;<span class="ident" id="1801612">z</span><br>
<span class="lineno">200</span><span class="op" id="1801614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1801617">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="1801678">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="1801734">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="1801810">func</span>&nbsp;<span class="op" id="1801815">(</span><span class="ident" id="1801816">z</span>&nbsp;<span class="op" id="1801818">*</span><span class="ident" id="1801819">Int</span><span class="op" id="1801822">)</span>&nbsp;<span class="ident" id="1801824">Rem</span><span class="op" id="1801827">(</span><span class="ident" id="1801828">x</span><span class="op" id="1801829">,</span>&nbsp;<span class="ident" id="1801831">y</span>&nbsp;<span class="op" id="1801833">*</span><span class="ident" id="1801834">Int</span><span class="op" id="1801837">)</span>&nbsp;<span class="op" id="1801839">*</span><span class="ident" id="1801840">Int</span>&nbsp;<span class="op" id="1801844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1801847">_</span><span class="op" id="1801848">,</span>&nbsp;<span class="ident" id="1801850">z</span><span class="op" id="1801851">.</span><span class="ident" id="1801852">abs</span>&nbsp;<span class="op" id="1801856">=</span>&nbsp;<span class="ident" id="1801858">nat</span><span class="op" id="1801861">(</span><span class="ident" id="1801862">nil</span><span class="op" id="1801865">)</span><span class="op" id="1801866">.</span><span class="ident" id="1801867">div</span><span class="op" id="1801870">(</span><span class="ident" id="1801871">z</span><span class="op" id="1801872">.</span><span class="ident" id="1801873">abs</span><span class="op" id="1801876">,</span>&nbsp;<span class="ident" id="1801878">x</span><span class="op" id="1801879">.</span><span class="ident" id="1801880">abs</span><span class="op" id="1801883">,</span>&nbsp;<span class="ident" id="1801885">y</span><span class="op" id="1801886">.</span><span class="ident" id="1801887">abs</span><span class="op" id="1801890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1801893">z</span><span class="op" id="1801894">.</span><span class="ident" id="1801895">neg</span>&nbsp;<span class="op" id="1801899">=</span>&nbsp;<span class="builtinfunc" id="1801901">len</span><span class="op" id="1801904">(</span><span class="ident" id="1801905">z</span><span class="op" id="1801906">.</span><span class="ident" id="1801907">abs</span><span class="op" id="1801910">)</span>&nbsp;<span class="op" id="1801912">&gt;</span>&nbsp;<span class="num" id="1801914">0</span>&nbsp;<span class="op" id="1801916">&amp;&amp;</span>&nbsp;<span class="ident" id="1801919">x</span><span class="op" id="1801920">.</span><span class="ident" id="1801921">neg</span>&nbsp;<span class="comment" id="1801925">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1801943">return</span>&nbsp;<span class="ident" id="1801950">z</span><br>
<span class="lineno"></span><span class="op" id="1801952">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="1801955">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="1802019">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="1802062">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="1802118">//</span><br>
<span class="lineno">215</span><span class="comment" id="1802121">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="1802176">//</span><br>
<span class="lineno"></span><span class="comment" id="1802179">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="1802229">//&nbsp;&nbsp;&nbsp;&nbspr&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="1802244">//</span><br>
<span class="lineno">220</span><span class="comment" id="1802247">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="1802319">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="1802381">//</span><br>
<span class="lineno"></span><span class="keyword" id="1802384">func</span>&nbsp;<span class="op" id="1802389">(</span><span class="ident" id="1802390">z</span>&nbsp;<span class="op" id="1802392">*</span><span class="ident" id="1802393">Int</span><span class="op" id="1802396">)</span>&nbsp;<span class="ident" id="1802398">QuoRem</span><span class="op" id="1802404">(</span><span class="ident" id="1802405">x</span><span class="op" id="1802406">,</span>&nbsp;<span class="ident" id="1802408">y</span><span class="op" id="1802409">,</span>&nbsp;<span class="ident" id="1802411">r</span>&nbsp;<span class="op" id="1802413">*</span><span class="ident" id="1802414">Int</span><span class="op" id="1802417">)</span>&nbsp;<span class="op" id="1802419">(</span><span class="op" id="1802420">*</span><span class="ident" id="1802421">Int</span><span class="op" id="1802424">,</span>&nbsp;<span class="op" id="1802426">*</span><span class="ident" id="1802427">Int</span><span class="op" id="1802430">)</span>&nbsp;<span class="op" id="1802432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1802435">z</span><span class="op" id="1802436">.</span><span class="ident" id="1802437">abs</span><span class="op" id="1802440">,</span>&nbsp;<span class="ident" id="1802442">r</span><span class="op" id="1802443">.</span><span class="ident" id="1802444">abs</span>&nbsp;<span class="op" id="1802448">=</span>&nbsp;<span class="ident" id="1802450">z</span><span class="op" id="1802451">.</span><span class="ident" id="1802452">abs</span><span class="op" id="1802455">.</span><span class="ident" id="1802456">div</span><span class="op" id="1802459">(</span><span class="ident" id="1802460">r</span><span class="op" id="1802461">.</span><span class="ident" id="1802462">abs</span><span class="op" id="1802465">,</span>&nbsp;<span class="ident" id="1802467">x</span><span class="op" id="1802468">.</span><span class="ident" id="1802469">abs</span><span class="op" id="1802472">,</span>&nbsp;<span class="ident" id="1802474">y</span><span class="op" id="1802475">.</span><span class="ident" id="1802476">abs</span><span class="op" id="1802479">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1802482">z</span><span class="op" id="1802483">.</span><span class="ident" id="1802484">neg</span><span class="op" id="1802487">,</span>&nbsp;<span class="ident" id="1802489">r</span><span class="op" id="1802490">.</span><span class="ident" id="1802491">neg</span>&nbsp;<span class="op" id="1802495">=</span>&nbsp;<span class="builtinfunc" id="1802497">len</span><span class="op" id="1802500">(</span><span class="ident" id="1802501">z</span><span class="op" id="1802502">.</span><span class="ident" id="1802503">abs</span><span class="op" id="1802506">)</span>&nbsp;<span class="op" id="1802508">&gt;</span>&nbsp;<span class="num" id="1802510">0</span>&nbsp;<span class="op" id="1802512">&amp;&amp;</span>&nbsp;<span class="ident" id="1802515">x</span><span class="op" id="1802516">.</span><span class="ident" id="1802517">neg</span>&nbsp;<span class="op" id="1802521">!=</span>&nbsp;<span class="ident" id="1802524">y</span><span class="op" id="1802525">.</span><span class="ident" id="1802526">neg</span><span class="op" id="1802529">,</span>&nbsp;<span class="builtinfunc" id="1802531">len</span><span class="op" id="1802534">(</span><span class="ident" id="1802535">r</span><span class="op" id="1802536">.</span><span class="ident" id="1802537">abs</span><span class="op" id="1802540">)</span>&nbsp;<span class="op" id="1802542">&gt;</span>&nbsp;<span class="num" id="1802544">0</span>&nbsp;<span class="op" id="1802546">&amp;&amp;</span>&nbsp;<span class="ident" id="1802549">x</span><span class="op" id="1802550">.</span><span class="ident" id="1802551">neg</span>&nbsp;<span class="comment" id="1802555">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1802573">return</span>&nbsp;<span class="ident" id="1802580">z</span><span class="op" id="1802581">,</span>&nbsp;<span class="ident" id="1802583">r</span><br>
<span class="lineno"></span><span class="op" id="1802585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1802588">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="1802648">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="1802704">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="1802783">func</span>&nbsp;<span class="op" id="1802788">(</span><span class="ident" id="1802789">z</span>&nbsp;<span class="op" id="1802791">*</span><span class="ident" id="1802792">Int</span><span class="op" id="1802795">)</span>&nbsp;<span class="ident" id="1802797">Div</span><span class="op" id="1802800">(</span><span class="ident" id="1802801">x</span><span class="op" id="1802802">,</span>&nbsp;<span class="ident" id="1802804">y</span>&nbsp;<span class="op" id="1802806">*</span><span class="ident" id="1802807">Int</span><span class="op" id="1802810">)</span>&nbsp;<span class="op" id="1802812">*</span><span class="ident" id="1802813">Int</span>&nbsp;<span class="op" id="1802817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1802820">y_neg</span>&nbsp;<span class="op" id="1802826">:=</span>&nbsp;<span class="ident" id="1802829">y</span><span class="op" id="1802830">.</span><span class="ident" id="1802831">neg</span>&nbsp;<span class="comment" id="1802835">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1802863">var</span>&nbsp;<span class="ident" id="1802867">r</span>&nbsp;<span class="ident" id="1802869">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1802874">z</span><span class="op" id="1802875">.</span><span class="ident" id="1802876">QuoRem</span><span class="op" id="1802882">(</span><span class="ident" id="1802883">x</span><span class="op" id="1802884">,</span>&nbsp;<span class="ident" id="1802886">y</span><span class="op" id="1802887">,</span>&nbsp;<span class="op" id="1802889">&amp;</span><span class="ident" id="1802890">r</span><span class="op" id="1802891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1802894">if</span>&nbsp;<span class="ident" id="1802897">r</span><span class="op" id="1802898">.</span><span class="ident" id="1802899">neg</span>&nbsp;<span class="op" id="1802903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1802907">if</span>&nbsp;<span class="ident" id="1802910">y_neg</span>&nbsp;<span class="op" id="1802916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1802921">z</span><span class="op" id="1802922">.</span><span class="ident" id="1802923">Add</span><span class="op" id="1802926">(</span><span class="ident" id="1802927">z</span><span class="op" id="1802928">,</span>&nbsp;<span class="ident" id="1802930">intOne</span><span class="op" id="1802936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1802940">}</span>&nbsp;<span class="keyword" id="1802942">else</span>&nbsp;<span class="op" id="1802947">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1802952">z</span><span class="op" id="1802953">.</span><span class="ident" id="1802954">Sub</span><span class="op" id="1802957">(</span><span class="ident" id="1802958">z</span><span class="op" id="1802959">,</span>&nbsp;<span class="ident" id="1802961">intOne</span><span class="op" id="1802967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1802971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1802974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1802977">return</span>&nbsp;<span class="ident" id="1802984">z</span><br>
<span class="lineno"></span><span class="op" id="1802986">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="1802989">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="1803048">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="1803104">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="1803182">func</span>&nbsp;<span class="op" id="1803187">(</span><span class="ident" id="1803188">z</span>&nbsp;<span class="op" id="1803190">*</span><span class="ident" id="1803191">Int</span><span class="op" id="1803194">)</span>&nbsp;<span class="ident" id="1803196">Mod</span><span class="op" id="1803199">(</span><span class="ident" id="1803200">x</span><span class="op" id="1803201">,</span>&nbsp;<span class="ident" id="1803203">y</span>&nbsp;<span class="op" id="1803205">*</span><span class="ident" id="1803206">Int</span><span class="op" id="1803209">)</span>&nbsp;<span class="op" id="1803211">*</span><span class="ident" id="1803212">Int</span>&nbsp;<span class="op" id="1803216">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1803219">y0</span>&nbsp;<span class="op" id="1803222">:=</span>&nbsp;<span class="ident" id="1803225">y</span>&nbsp;<span class="comment" id="1803227">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1803238">if</span>&nbsp;<span class="ident" id="1803241">z</span>&nbsp;<span class="op" id="1803243">==</span>&nbsp;<span class="ident" id="1803246">y</span>&nbsp;<span class="op" id="1803248">||</span>&nbsp;<span class="ident" id="1803251">alias</span><span class="op" id="1803256">(</span><span class="ident" id="1803257">z</span><span class="op" id="1803258">.</span><span class="ident" id="1803259">abs</span><span class="op" id="1803262">,</span>&nbsp;<span class="ident" id="1803264">y</span><span class="op" id="1803265">.</span><span class="ident" id="1803266">abs</span><span class="op" id="1803269">)</span>&nbsp;<span class="op" id="1803271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1803275">y0</span>&nbsp;<span class="op" id="1803278">=</span>&nbsp;<span class="builtinfunc" id="1803280">new</span><span class="op" id="1803283">(</span><span class="ident" id="1803284">Int</span><span class="op" id="1803287">)</span><span class="op" id="1803288">.</span><span class="ident" id="1803289">Set</span><span class="op" id="1803292">(</span><span class="ident" id="1803293">y</span><span class="op" id="1803294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1803297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1803300">var</span>&nbsp;<span class="ident" id="1803304">q</span>&nbsp;<span class="ident" id="1803306">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1803311">q</span><span class="op" id="1803312">.</span><span class="ident" id="1803313">QuoRem</span><span class="op" id="1803319">(</span><span class="ident" id="1803320">x</span><span class="op" id="1803321">,</span>&nbsp;<span class="ident" id="1803323">y</span><span class="op" id="1803324">,</span>&nbsp;<span class="ident" id="1803326">z</span><span class="op" id="1803327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1803330">if</span>&nbsp;<span class="ident" id="1803333">z</span><span class="op" id="1803334">.</span><span class="ident" id="1803335">neg</span>&nbsp;<span class="op" id="1803339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1803343">if</span>&nbsp;<span class="ident" id="1803346">y0</span><span class="op" id="1803348">.</span><span class="ident" id="1803349">neg</span>&nbsp;<span class="op" id="1803353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1803358">z</span><span class="op" id="1803359">.</span><span class="ident" id="1803360">Sub</span><span class="op" id="1803363">(</span><span class="ident" id="1803364">z</span><span class="op" id="1803365">,</span>&nbsp;<span class="ident" id="1803367">y0</span><span class="op" id="1803369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1803373">}</span>&nbsp;<span class="keyword" id="1803375">else</span>&nbsp;<span class="op" id="1803380">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1803385">z</span><span class="op" id="1803386">.</span><span class="ident" id="1803387">Add</span><span class="op" id="1803390">(</span><span class="ident" id="1803391">z</span><span class="op" id="1803392">,</span>&nbsp;<span class="ident" id="1803394">y0</span><span class="op" id="1803396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1803400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1803403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1803406">return</span>&nbsp;<span class="ident" id="1803413">z</span><br>
<span class="lineno"></span><span class="op" id="1803415">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="1803418">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="1803488">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="1803531">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="1803587">//</span><br>
<span class="lineno">270</span><span class="comment" id="1803590">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="1803655">//</span><br>
<span class="lineno"></span><span class="comment" id="1803658">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1803684">//&nbsp;&nbsp;&nbsp;&nbspm&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="1803718">//</span><br>
<span class="lineno">275</span><span class="comment" id="1803721">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="1803791">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="1803855">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="1803918">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="1803933">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="1803985">//</span><br>
<span class="lineno"></span><span class="keyword" id="1803988">func</span>&nbsp;<span class="op" id="1803993">(</span><span class="ident" id="1803994">z</span>&nbsp;<span class="op" id="1803996">*</span><span class="ident" id="1803997">Int</span><span class="op" id="1804000">)</span>&nbsp;<span class="ident" id="1804002">DivMod</span><span class="op" id="1804008">(</span><span class="ident" id="1804009">x</span><span class="op" id="1804010">,</span>&nbsp;<span class="ident" id="1804012">y</span><span class="op" id="1804013">,</span>&nbsp;<span class="ident" id="1804015">m</span>&nbsp;<span class="op" id="1804017">*</span><span class="ident" id="1804018">Int</span><span class="op" id="1804021">)</span>&nbsp;<span class="op" id="1804023">(</span><span class="op" id="1804024">*</span><span class="ident" id="1804025">Int</span><span class="op" id="1804028">,</span>&nbsp;<span class="op" id="1804030">*</span><span class="ident" id="1804031">Int</span><span class="op" id="1804034">)</span>&nbsp;<span class="op" id="1804036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804039">y0</span>&nbsp;<span class="op" id="1804042">:=</span>&nbsp;<span class="ident" id="1804045">y</span>&nbsp;<span class="comment" id="1804047">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804058">if</span>&nbsp;<span class="ident" id="1804061">z</span>&nbsp;<span class="op" id="1804063">==</span>&nbsp;<span class="ident" id="1804066">y</span>&nbsp;<span class="op" id="1804068">||</span>&nbsp;<span class="ident" id="1804071">alias</span><span class="op" id="1804076">(</span><span class="ident" id="1804077">z</span><span class="op" id="1804078">.</span><span class="ident" id="1804079">abs</span><span class="op" id="1804082">,</span>&nbsp;<span class="ident" id="1804084">y</span><span class="op" id="1804085">.</span><span class="ident" id="1804086">abs</span><span class="op" id="1804089">)</span>&nbsp;<span class="op" id="1804091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804095">y0</span>&nbsp;<span class="op" id="1804098">=</span>&nbsp;<span class="builtinfunc" id="1804100">new</span><span class="op" id="1804103">(</span><span class="ident" id="1804104">Int</span><span class="op" id="1804107">)</span><span class="op" id="1804108">.</span><span class="ident" id="1804109">Set</span><span class="op" id="1804112">(</span><span class="ident" id="1804113">y</span><span class="op" id="1804114">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1804117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804120">z</span><span class="op" id="1804121">.</span><span class="ident" id="1804122">QuoRem</span><span class="op" id="1804128">(</span><span class="ident" id="1804129">x</span><span class="op" id="1804130">,</span>&nbsp;<span class="ident" id="1804132">y</span><span class="op" id="1804133">,</span>&nbsp;<span class="ident" id="1804135">m</span><span class="op" id="1804136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804139">if</span>&nbsp;<span class="ident" id="1804142">m</span><span class="op" id="1804143">.</span><span class="ident" id="1804144">neg</span>&nbsp;<span class="op" id="1804148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804152">if</span>&nbsp;<span class="ident" id="1804155">y0</span><span class="op" id="1804157">.</span><span class="ident" id="1804158">neg</span>&nbsp;<span class="op" id="1804162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804167">z</span><span class="op" id="1804168">.</span><span class="ident" id="1804169">Add</span><span class="op" id="1804172">(</span><span class="ident" id="1804173">z</span><span class="op" id="1804174">,</span>&nbsp;<span class="ident" id="1804176">intOne</span><span class="op" id="1804182">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804187">m</span><span class="op" id="1804188">.</span><span class="ident" id="1804189">Sub</span><span class="op" id="1804192">(</span><span class="ident" id="1804193">m</span><span class="op" id="1804194">,</span>&nbsp;<span class="ident" id="1804196">y0</span><span class="op" id="1804198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1804202">}</span>&nbsp;<span class="keyword" id="1804204">else</span>&nbsp;<span class="op" id="1804209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804214">z</span><span class="op" id="1804215">.</span><span class="ident" id="1804216">Sub</span><span class="op" id="1804219">(</span><span class="ident" id="1804220">z</span><span class="op" id="1804221">,</span>&nbsp;<span class="ident" id="1804223">intOne</span><span class="op" id="1804229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804234">m</span><span class="op" id="1804235">.</span><span class="ident" id="1804236">Add</span><span class="op" id="1804239">(</span><span class="ident" id="1804240">m</span><span class="op" id="1804241">,</span>&nbsp;<span class="ident" id="1804243">y0</span><span class="op" id="1804245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1804249">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1804252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804255">return</span>&nbsp;<span class="ident" id="1804262">z</span><span class="op" id="1804263">,</span>&nbsp;<span class="ident" id="1804265">m</span><br>
<span class="lineno"></span><span class="op" id="1804267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1804270">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="1804307">//</span><br>
<span class="lineno"></span><span class="comment" id="1804310">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="1804328">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="1804346">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="1804364">//</span><br>
<span class="lineno">305</span><span class="keyword" id="1804367">func</span>&nbsp;<span class="op" id="1804372">(</span><span class="ident" id="1804373">x</span>&nbsp;<span class="op" id="1804375">*</span><span class="ident" id="1804376">Int</span><span class="op" id="1804379">)</span>&nbsp;<span class="ident" id="1804381">Cmp</span><span class="op" id="1804384">(</span><span class="ident" id="1804385">y</span>&nbsp;<span class="op" id="1804387">*</span><span class="ident" id="1804388">Int</span><span class="op" id="1804391">)</span>&nbsp;<span class="op" id="1804393">(</span><span class="ident" id="1804394">r</span>&nbsp;<span class="builtintype" id="1804396">int</span><span class="op" id="1804399">)</span>&nbsp;<span class="op" id="1804401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1804404">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1804427">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1804447">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1804467">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804499">switch</span>&nbsp;<span class="op" id="1804506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804509">case</span>&nbsp;<span class="ident" id="1804514">x</span><span class="op" id="1804515">.</span><span class="ident" id="1804516">neg</span>&nbsp;<span class="op" id="1804520">==</span>&nbsp;<span class="ident" id="1804523">y</span><span class="op" id="1804524">.</span><span class="ident" id="1804525">neg</span><span class="op" id="1804528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804532">r</span>&nbsp;<span class="op" id="1804534">=</span>&nbsp;<span class="ident" id="1804536">x</span><span class="op" id="1804537">.</span><span class="ident" id="1804538">abs</span><span class="op" id="1804541">.</span><span class="ident" id="1804542">cmp</span><span class="op" id="1804545">(</span><span class="ident" id="1804546">y</span><span class="op" id="1804547">.</span><span class="ident" id="1804548">abs</span><span class="op" id="1804551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804555">if</span>&nbsp;<span class="ident" id="1804558">x</span><span class="op" id="1804559">.</span><span class="ident" id="1804560">neg</span>&nbsp;<span class="op" id="1804564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804569">r</span>&nbsp;<span class="op" id="1804571">=</span>&nbsp;<span class="op" id="1804573">-</span><span class="ident" id="1804574">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1804578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804581">case</span>&nbsp;<span class="ident" id="1804586">x</span><span class="op" id="1804587">.</span><span class="ident" id="1804588">neg</span><span class="op" id="1804591">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804595">r</span>&nbsp;<span class="op" id="1804597">=</span>&nbsp;<span class="op" id="1804599">-</span><span class="num" id="1804600">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804603">default</span><span class="op" id="1804610">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1804614">r</span>&nbsp;<span class="op" id="1804616">=</span>&nbsp;<span class="num" id="1804618">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1804621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804624">return</span><br>
<span class="lineno"></span><span class="op" id="1804631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1804634">func</span>&nbsp;<span class="op" id="1804639">(</span><span class="ident" id="1804640">x</span>&nbsp;<span class="op" id="1804642">*</span><span class="ident" id="1804643">Int</span><span class="op" id="1804646">)</span>&nbsp;<span class="ident" id="1804648">String</span><span class="op" id="1804654">(</span><span class="op" id="1804655">)</span>&nbsp;<span class="builtintype" id="1804657">string</span>&nbsp;<span class="op" id="1804664">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804667">switch</span>&nbsp;<span class="op" id="1804674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804677">case</span>&nbsp;<span class="ident" id="1804682">x</span>&nbsp;<span class="op" id="1804684">==</span>&nbsp;<span class="ident" id="1804687">nil</span><span class="op" id="1804690">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804694">return</span>&nbsp;<span class="string" id="1804701">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804710">case</span>&nbsp;<span class="ident" id="1804715">x</span><span class="op" id="1804716">.</span><span class="ident" id="1804717">neg</span><span class="op" id="1804720">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804724">return</span>&nbsp;<span class="string" id="1804731">&#34;-&#34;</span>&nbsp;<span class="op" id="1804735">+</span>&nbsp;<span class="ident" id="1804737">x</span><span class="op" id="1804738">.</span><span class="ident" id="1804739">abs</span><span class="op" id="1804742">.</span><span class="ident" id="1804743">decimalString</span><span class="op" id="1804756">(</span><span class="op" id="1804757">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1804760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804763">return</span>&nbsp;<span class="ident" id="1804770">x</span><span class="op" id="1804771">.</span><span class="ident" id="1804772">abs</span><span class="op" id="1804775">.</span><span class="ident" id="1804776">decimalString</span><span class="op" id="1804789">(</span><span class="op" id="1804790">)</span><br>
<span class="lineno"></span><span class="op" id="1804792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1804795">func</span>&nbsp;<span class="ident" id="1804800">charset</span><span class="op" id="1804807">(</span><span class="ident" id="1804808">ch</span>&nbsp;<span class="builtintype" id="1804811">rune</span><span class="op" id="1804815">)</span>&nbsp;<span class="builtintype" id="1804817">string</span>&nbsp;<span class="op" id="1804824">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804827">switch</span>&nbsp;<span class="ident" id="1804834">ch</span>&nbsp;<span class="op" id="1804837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804840">case</span>&nbsp;<span class="string" id="1804845">&#39;b&#39;</span><span class="op" id="1804848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804852">return</span>&nbsp;<span class="ident" id="1804859">lowercaseDigits</span><span class="op" id="1804874">[</span><span class="num" id="1804875">0</span><span class="op" id="1804876">:</span><span class="num" id="1804877">2</span><span class="op" id="1804878">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804881">case</span>&nbsp;<span class="string" id="1804886">&#39;o&#39;</span><span class="op" id="1804889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804893">return</span>&nbsp;<span class="ident" id="1804900">lowercaseDigits</span><span class="op" id="1804915">[</span><span class="num" id="1804916">0</span><span class="op" id="1804917">:</span><span class="num" id="1804918">8</span><span class="op" id="1804919">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804922">case</span>&nbsp;<span class="string" id="1804927">&#39;d&#39;</span><span class="op" id="1804930">,</span>&nbsp;<span class="string" id="1804932">&#39;s&#39;</span><span class="op" id="1804935">,</span>&nbsp;<span class="string" id="1804937">&#39;v&#39;</span><span class="op" id="1804940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804944">return</span>&nbsp;<span class="ident" id="1804951">lowercaseDigits</span><span class="op" id="1804966">[</span><span class="num" id="1804967">0</span><span class="op" id="1804968">:</span><span class="num" id="1804969">10</span><span class="op" id="1804971">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804974">case</span>&nbsp;<span class="string" id="1804979">&#39;x&#39;</span><span class="op" id="1804982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1804986">return</span>&nbsp;<span class="ident" id="1804993">lowercaseDigits</span><span class="op" id="1805008">[</span><span class="num" id="1805009">0</span><span class="op" id="1805010">:</span><span class="num" id="1805011">16</span><span class="op" id="1805013">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1805016">case</span>&nbsp;<span class="string" id="1805021">&#39;X&#39;</span><span class="op" id="1805024">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1805028">return</span>&nbsp;<span class="ident" id="1805035">uppercaseDigits</span><span class="op" id="1805050">[</span><span class="num" id="1805051">0</span><span class="op" id="1805052">:</span><span class="num" id="1805053">16</span><span class="op" id="1805055">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1805058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1805061">return</span>&nbsp;<span class="string" id="1805068">&#34;&#34;</span>&nbsp;<span class="comment" id="1805071">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="1805089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="1805092">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="1805127">func</span>&nbsp;<span class="ident" id="1805132">writeMultiple</span><span class="op" id="1805145">(</span><span class="ident" id="1805146">s</span>&nbsp;<span class="ident" id="1805148">fmt</span><span class="op" id="1805151">.</span><span class="ident" id="1805152">State</span><span class="op" id="1805157">,</span>&nbsp;<span class="ident" id="1805159">text</span>&nbsp;<span class="builtintype" id="1805164">string</span><span class="op" id="1805170">,</span>&nbsp;<span class="ident" id="1805172">count</span>&nbsp;<span class="builtintype" id="1805178">int</span><span class="op" id="1805181">)</span>&nbsp;<span class="op" id="1805183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1805186">if</span>&nbsp;<span class="builtinfunc" id="1805189">len</span><span class="op" id="1805192">(</span><span class="ident" id="1805193">text</span><span class="op" id="1805197">)</span>&nbsp;<span class="op" id="1805199">&gt;</span>&nbsp;<span class="num" id="1805201">0</span>&nbsp;<span class="op" id="1805203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805207">b</span>&nbsp;<span class="op" id="1805209">:=</span>&nbsp;<span class="op" id="1805212">[</span><span class="op" id="1805213">]</span><span class="builtintype" id="1805214">byte</span><span class="op" id="1805218">(</span><span class="ident" id="1805219">text</span><span class="op" id="1805223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1805227">for</span>&nbsp;<span class="op" id="1805231">;</span>&nbsp;<span class="ident" id="1805233">count</span>&nbsp;<span class="op" id="1805239">&gt;</span>&nbsp;<span class="num" id="1805241">0</span><span class="op" id="1805242">;</span>&nbsp;<span class="ident" id="1805244">count</span><span class="op" id="1805249">--</span>&nbsp;<span class="op" id="1805252">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805257">s</span><span class="op" id="1805258">.</span><span class="ident" id="1805259">Write</span><span class="op" id="1805264">(</span><span class="ident" id="1805265">b</span><span class="op" id="1805266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1805270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1805273">}</span><br>
<span class="lineno"></span><span class="op" id="1805275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="1805278">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="1805339">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="1805400">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="1805461">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="1805522">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="1805579">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1805638">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="1805697">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="1805757">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1805815">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="1805839">//</span><br>
<span class="lineno"></span><span class="keyword" id="1805842">func</span>&nbsp;<span class="op" id="1805847">(</span><span class="ident" id="1805848">x</span>&nbsp;<span class="op" id="1805850">*</span><span class="ident" id="1805851">Int</span><span class="op" id="1805854">)</span>&nbsp;<span class="ident" id="1805856">Format</span><span class="op" id="1805862">(</span><span class="ident" id="1805863">s</span>&nbsp;<span class="ident" id="1805865">fmt</span><span class="op" id="1805868">.</span><span class="ident" id="1805869">State</span><span class="op" id="1805874">,</span>&nbsp;<span class="ident" id="1805876">ch</span>&nbsp;<span class="builtintype" id="1805879">rune</span><span class="op" id="1805883">)</span>&nbsp;<span class="op" id="1805885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805888">cs</span>&nbsp;<span class="op" id="1805891">:=</span>&nbsp;<span class="ident" id="1805894">charset</span><span class="op" id="1805901">(</span><span class="ident" id="1805902">ch</span><span class="op" id="1805904">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1805908">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1805926">switch</span>&nbsp;<span class="op" id="1805933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1805936">case</span>&nbsp;<span class="ident" id="1805941">cs</span>&nbsp;<span class="op" id="1805944">==</span>&nbsp;<span class="string" id="1805947">&#34;&#34;</span><span class="op" id="1805949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1805953">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1805973">fmt</span><span class="op" id="1805976">.</span><span class="ident" id="1805977">Fprintf</span><span class="op" id="1805984">(</span><span class="ident" id="1805985">s</span><span class="op" id="1805986">,</span>&nbsp;<span class="string" id="1805988">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="1806007">,</span>&nbsp;<span class="ident" id="1806009">ch</span><span class="op" id="1806011">,</span>&nbsp;<span class="ident" id="1806013">x</span><span class="op" id="1806014">.</span><span class="ident" id="1806015">String</span><span class="op" id="1806021">(</span><span class="op" id="1806022">)</span><span class="op" id="1806023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806027">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806035">case</span>&nbsp;<span class="ident" id="1806040">x</span>&nbsp;<span class="op" id="1806042">==</span>&nbsp;<span class="ident" id="1806045">nil</span><span class="op" id="1806048">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806052">fmt</span><span class="op" id="1806055">.</span><span class="ident" id="1806056">Fprint</span><span class="op" id="1806062">(</span><span class="ident" id="1806063">s</span><span class="op" id="1806064">,</span>&nbsp;<span class="string" id="1806066">&#34;&lt;nil&gt;&#34;</span><span class="op" id="1806073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806077">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1806085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1806089">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806118">sign</span>&nbsp;<span class="op" id="1806123">:=</span>&nbsp;<span class="string" id="1806126">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806130">switch</span>&nbsp;<span class="op" id="1806137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806140">case</span>&nbsp;<span class="ident" id="1806145">x</span><span class="op" id="1806146">.</span><span class="ident" id="1806147">neg</span><span class="op" id="1806150">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806154">sign</span>&nbsp;<span class="op" id="1806159">=</span>&nbsp;<span class="string" id="1806161">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806166">case</span>&nbsp;<span class="ident" id="1806171">s</span><span class="op" id="1806172">.</span><span class="ident" id="1806173">Flag</span><span class="op" id="1806177">(</span><span class="string" id="1806178">&#39;+&#39;</span><span class="op" id="1806181">)</span><span class="op" id="1806182">:</span>&nbsp;<span class="comment" id="1806184">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806224">sign</span>&nbsp;<span class="op" id="1806229">=</span>&nbsp;<span class="string" id="1806231">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806236">case</span>&nbsp;<span class="ident" id="1806241">s</span><span class="op" id="1806242">.</span><span class="ident" id="1806243">Flag</span><span class="op" id="1806247">(</span><span class="string" id="1806248">&#39;&nbsp;&#39;</span><span class="op" id="1806251">)</span><span class="op" id="1806252">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806256">sign</span>&nbsp;<span class="op" id="1806261">=</span>&nbsp;<span class="string" id="1806263">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1806268">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1806272">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806331">prefix</span>&nbsp;<span class="op" id="1806338">:=</span>&nbsp;<span class="string" id="1806341">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806345">if</span>&nbsp;<span class="ident" id="1806348">s</span><span class="op" id="1806349">.</span><span class="ident" id="1806350">Flag</span><span class="op" id="1806354">(</span><span class="string" id="1806355">&#39;#&#39;</span><span class="op" id="1806358">)</span>&nbsp;<span class="op" id="1806360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806364">switch</span>&nbsp;<span class="ident" id="1806371">ch</span>&nbsp;<span class="op" id="1806374">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806378">case</span>&nbsp;<span class="string" id="1806383">&#39;o&#39;</span><span class="op" id="1806386">:</span>&nbsp;<span class="comment" id="1806388">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806400">prefix</span>&nbsp;<span class="op" id="1806407">=</span>&nbsp;<span class="string" id="1806409">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806415">case</span>&nbsp;<span class="string" id="1806420">&#39;x&#39;</span><span class="op" id="1806423">:</span>&nbsp;<span class="comment" id="1806425">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806443">prefix</span>&nbsp;<span class="op" id="1806450">=</span>&nbsp;<span class="string" id="1806452">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806459">case</span>&nbsp;<span class="string" id="1806464">&#39;X&#39;</span><span class="op" id="1806467">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806472">prefix</span>&nbsp;<span class="op" id="1806479">=</span>&nbsp;<span class="string" id="1806481">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1806488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1806491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1806495">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1806570">digits</span>&nbsp;<span class="op" id="1806577">:=</span>&nbsp;<span class="ident" id="1806580">x</span><span class="op" id="1806581">.</span><span class="ident" id="1806582">abs</span><span class="op" id="1806585">.</span><span class="builtintype" id="1806586">string</span><span class="op" id="1806592">(</span><span class="ident" id="1806593">cs</span><span class="op" id="1806595">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1806599">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806664">var</span>&nbsp;<span class="ident" id="1806668">left</span>&nbsp;<span class="builtintype" id="1806673">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="1806679">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806750">var</span>&nbsp;<span class="ident" id="1806754">zeroes</span>&nbsp;<span class="builtintype" id="1806761">int</span>&nbsp;<span class="comment" id="1806765">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1806831">var</span>&nbsp;<span class="ident" id="1806835">right</span>&nbsp;<span class="builtintype" id="1806841">int</span>&nbsp;&nbsp;<span class="comment" id="1806846">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1806919">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807001">precision</span><span class="op" id="1807010">,</span>&nbsp;<span class="ident" id="1807012">precisionSet</span>&nbsp;<span class="op" id="1807025">:=</span>&nbsp;<span class="ident" id="1807028">s</span><span class="op" id="1807029">.</span><span class="ident" id="1807030">Precision</span><span class="op" id="1807039">(</span><span class="op" id="1807040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807043">if</span>&nbsp;<span class="ident" id="1807046">precisionSet</span>&nbsp;<span class="op" id="1807059">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807063">switch</span>&nbsp;<span class="op" id="1807070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807074">case</span>&nbsp;<span class="builtinfunc" id="1807079">len</span><span class="op" id="1807082">(</span><span class="ident" id="1807083">digits</span><span class="op" id="1807089">)</span>&nbsp;<span class="op" id="1807091">&lt;</span>&nbsp;<span class="ident" id="1807093">precision</span><span class="op" id="1807102">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807107">zeroes</span>&nbsp;<span class="op" id="1807114">=</span>&nbsp;<span class="ident" id="1807116">precision</span>&nbsp;<span class="op" id="1807126">-</span>&nbsp;<span class="builtinfunc" id="1807128">len</span><span class="op" id="1807131">(</span><span class="ident" id="1807132">digits</span><span class="op" id="1807138">)</span>&nbsp;<span class="comment" id="1807140">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807167">case</span>&nbsp;<span class="ident" id="1807172">digits</span>&nbsp;<span class="op" id="1807179">==</span>&nbsp;<span class="string" id="1807182">&#34;0&#34;</span>&nbsp;<span class="op" id="1807186">&amp;&amp;</span>&nbsp;<span class="ident" id="1807189">precision</span>&nbsp;<span class="op" id="1807199">==</span>&nbsp;<span class="num" id="1807202">0</span><span class="op" id="1807203">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807208">return</span>&nbsp;<span class="comment" id="1807215">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1807290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1807293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1807297">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807374">length</span>&nbsp;<span class="op" id="1807381">:=</span>&nbsp;<span class="builtinfunc" id="1807384">len</span><span class="op" id="1807387">(</span><span class="ident" id="1807388">sign</span><span class="op" id="1807392">)</span>&nbsp;<span class="op" id="1807394">+</span>&nbsp;<span class="builtinfunc" id="1807396">len</span><span class="op" id="1807399">(</span><span class="ident" id="1807400">prefix</span><span class="op" id="1807406">)</span>&nbsp;<span class="op" id="1807408">+</span>&nbsp;<span class="ident" id="1807410">zeroes</span>&nbsp;<span class="op" id="1807417">+</span>&nbsp;<span class="builtinfunc" id="1807419">len</span><span class="op" id="1807422">(</span><span class="ident" id="1807423">digits</span><span class="op" id="1807429">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807432">if</span>&nbsp;<span class="ident" id="1807435">width</span><span class="op" id="1807440">,</span>&nbsp;<span class="ident" id="1807442">widthSet</span>&nbsp;<span class="op" id="1807451">:=</span>&nbsp;<span class="ident" id="1807454">s</span><span class="op" id="1807455">.</span><span class="ident" id="1807456">Width</span><span class="op" id="1807461">(</span><span class="op" id="1807462">)</span><span class="op" id="1807463">;</span>&nbsp;<span class="ident" id="1807465">widthSet</span>&nbsp;<span class="op" id="1807474">&amp;&amp;</span>&nbsp;<span class="ident" id="1807477">length</span>&nbsp;<span class="op" id="1807484">&lt;</span>&nbsp;<span class="ident" id="1807486">width</span>&nbsp;<span class="op" id="1807492">{</span>&nbsp;<span class="comment" id="1807494">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807516">switch</span>&nbsp;<span class="ident" id="1807523">d</span>&nbsp;<span class="op" id="1807525">:=</span>&nbsp;<span class="ident" id="1807528">width</span>&nbsp;<span class="op" id="1807534">-</span>&nbsp;<span class="ident" id="1807536">length</span><span class="op" id="1807542">;</span>&nbsp;<span class="op" id="1807544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807548">case</span>&nbsp;<span class="ident" id="1807553">s</span><span class="op" id="1807554">.</span><span class="ident" id="1807555">Flag</span><span class="op" id="1807559">(</span><span class="string" id="1807560">&#39;-&#39;</span><span class="op" id="1807563">)</span><span class="op" id="1807564">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1807569">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807640">right</span>&nbsp;<span class="op" id="1807646">=</span>&nbsp;<span class="ident" id="1807648">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807652">case</span>&nbsp;<span class="ident" id="1807657">s</span><span class="op" id="1807658">.</span><span class="ident" id="1807659">Flag</span><span class="op" id="1807663">(</span><span class="string" id="1807664">&#39;0&#39;</span><span class="op" id="1807667">)</span>&nbsp;<span class="op" id="1807669">&amp;&amp;</span>&nbsp;<span class="op" id="1807672">!</span><span class="ident" id="1807673">precisionSet</span><span class="op" id="1807685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1807690">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807744">zeroes</span>&nbsp;<span class="op" id="1807751">=</span>&nbsp;<span class="ident" id="1807753">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1807757">default</span><span class="op" id="1807764">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1807769">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807803">left</span>&nbsp;<span class="op" id="1807808">=</span>&nbsp;<span class="ident" id="1807810">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1807814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1807817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1807821">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807895">writeMultiple</span><span class="op" id="1807908">(</span><span class="ident" id="1807909">s</span><span class="op" id="1807910">,</span>&nbsp;<span class="string" id="1807912">&#34;&nbsp;&#34;</span><span class="op" id="1807915">,</span>&nbsp;<span class="ident" id="1807917">left</span><span class="op" id="1807921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807924">writeMultiple</span><span class="op" id="1807937">(</span><span class="ident" id="1807938">s</span><span class="op" id="1807939">,</span>&nbsp;<span class="ident" id="1807941">sign</span><span class="op" id="1807945">,</span>&nbsp;<span class="num" id="1807947">1</span><span class="op" id="1807948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807951">writeMultiple</span><span class="op" id="1807964">(</span><span class="ident" id="1807965">s</span><span class="op" id="1807966">,</span>&nbsp;<span class="ident" id="1807968">prefix</span><span class="op" id="1807974">,</span>&nbsp;<span class="num" id="1807976">1</span><span class="op" id="1807977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1807980">writeMultiple</span><span class="op" id="1807993">(</span><span class="ident" id="1807994">s</span><span class="op" id="1807995">,</span>&nbsp;<span class="string" id="1807997">&#34;0&#34;</span><span class="op" id="1808000">,</span>&nbsp;<span class="ident" id="1808002">zeroes</span><span class="op" id="1808008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1808011">writeMultiple</span><span class="op" id="1808024">(</span><span class="ident" id="1808025">s</span><span class="op" id="1808026">,</span>&nbsp;<span class="ident" id="1808028">digits</span><span class="op" id="1808034">,</span>&nbsp;<span class="num" id="1808036">1</span><span class="op" id="1808037">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1808040">writeMultiple</span><span class="op" id="1808053">(</span><span class="ident" id="1808054">s</span><span class="op" id="1808055">,</span>&nbsp;<span class="string" id="1808057">&#34;&nbsp;&#34;</span><span class="op" id="1808060">,</span>&nbsp;<span class="ident" id="1808062">right</span><span class="op" id="1808067">)</span><br>
<span class="lineno"></span><span class="op" id="1808069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1808072">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="1808153">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="1808233">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1808312">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="1808390">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="1808446">//</span><br>
<span class="lineno"></span><span class="comment" id="1808449">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="1808527">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="1808605">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="1808681">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="1808759">//</span><br>
<span class="lineno"></span><span class="keyword" id="1808762">func</span>&nbsp;<span class="op" id="1808767">(</span><span class="ident" id="1808768">z</span>&nbsp;<span class="op" id="1808770">*</span><span class="ident" id="1808771">Int</span><span class="op" id="1808774">)</span>&nbsp;<span class="ident" id="1808776">scan</span><span class="op" id="1808780">(</span><span class="ident" id="1808781">r</span>&nbsp;<span class="ident" id="1808783">io</span><span class="op" id="1808785">.</span><span class="ident" id="1808786">RuneScanner</span><span class="op" id="1808797">,</span>&nbsp;<span class="ident" id="1808799">base</span>&nbsp;<span class="builtintype" id="1808804">int</span><span class="op" id="1808807">)</span>&nbsp;<span class="op" id="1808809">(</span><span class="op" id="1808810">*</span><span class="ident" id="1808811">Int</span><span class="op" id="1808814">,</span>&nbsp;<span class="builtintype" id="1808816">int</span><span class="op" id="1808819">,</span>&nbsp;<span class="builtintype" id="1808821">error</span><span class="op" id="1808826">)</span>&nbsp;<span class="op" id="1808828">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1808831">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1808850">ch</span><span class="op" id="1808852">,</span>&nbsp;<span class="ident" id="1808854">_</span><span class="op" id="1808855">,</span>&nbsp;<span class="ident" id="1808857">err</span>&nbsp;<span class="op" id="1808861">:=</span>&nbsp;<span class="ident" id="1808864">r</span><span class="op" id="1808865">.</span><span class="ident" id="1808866">ReadRune</span><span class="op" id="1808874">(</span><span class="op" id="1808875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808878">if</span>&nbsp;<span class="ident" id="1808881">err</span>&nbsp;<span class="op" id="1808885">!=</span>&nbsp;<span class="ident" id="1808888">nil</span>&nbsp;<span class="op" id="1808892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808896">return</span>&nbsp;<span class="ident" id="1808903">nil</span><span class="op" id="1808906">,</span>&nbsp;<span class="num" id="1808908">0</span><span class="op" id="1808909">,</span>&nbsp;<span class="ident" id="1808911">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1808916">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1808919">neg</span>&nbsp;<span class="op" id="1808923">:=</span>&nbsp;<span class="ident" id="1808926">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808933">switch</span>&nbsp;<span class="ident" id="1808940">ch</span>&nbsp;<span class="op" id="1808943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808946">case</span>&nbsp;<span class="string" id="1808951">&#39;-&#39;</span><span class="op" id="1808954">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1808958">neg</span>&nbsp;<span class="op" id="1808962">=</span>&nbsp;<span class="ident" id="1808964">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808970">case</span>&nbsp;<span class="string" id="1808975">&#39;+&#39;</span><span class="op" id="1808978">:</span>&nbsp;<span class="comment" id="1808980">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1808998">default</span><span class="op" id="1809005">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809009">r</span><span class="op" id="1809010">.</span><span class="ident" id="1809011">UnreadRune</span><span class="op" id="1809021">(</span><span class="op" id="1809022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1809025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1809029">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809052">z</span><span class="op" id="1809053">.</span><span class="ident" id="1809054">abs</span><span class="op" id="1809057">,</span>&nbsp;<span class="ident" id="1809059">base</span><span class="op" id="1809063">,</span>&nbsp;<span class="ident" id="1809065">err</span>&nbsp;<span class="op" id="1809069">=</span>&nbsp;<span class="ident" id="1809071">z</span><span class="op" id="1809072">.</span><span class="ident" id="1809073">abs</span><span class="op" id="1809076">.</span><span class="ident" id="1809077">scan</span><span class="op" id="1809081">(</span><span class="ident" id="1809082">r</span><span class="op" id="1809083">,</span>&nbsp;<span class="ident" id="1809085">base</span><span class="op" id="1809089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809092">if</span>&nbsp;<span class="ident" id="1809095">err</span>&nbsp;<span class="op" id="1809099">!=</span>&nbsp;<span class="ident" id="1809102">nil</span>&nbsp;<span class="op" id="1809106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809110">return</span>&nbsp;<span class="ident" id="1809117">nil</span><span class="op" id="1809120">,</span>&nbsp;<span class="ident" id="1809122">base</span><span class="op" id="1809126">,</span>&nbsp;<span class="ident" id="1809128">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1809133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809136">z</span><span class="op" id="1809137">.</span><span class="ident" id="1809138">neg</span>&nbsp;<span class="op" id="1809142">=</span>&nbsp;<span class="builtinfunc" id="1809144">len</span><span class="op" id="1809147">(</span><span class="ident" id="1809148">z</span><span class="op" id="1809149">.</span><span class="ident" id="1809150">abs</span><span class="op" id="1809153">)</span>&nbsp;<span class="op" id="1809155">&gt;</span>&nbsp;<span class="num" id="1809157">0</span>&nbsp;<span class="op" id="1809159">&amp;&amp;</span>&nbsp;<span class="ident" id="1809162">neg</span>&nbsp;<span class="comment" id="1809166">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809185">return</span>&nbsp;<span class="ident" id="1809192">z</span><span class="op" id="1809193">,</span>&nbsp;<span class="ident" id="1809195">base</span><span class="op" id="1809199">,</span>&nbsp;<span class="ident" id="1809201">nil</span><br>
<span class="lineno"></span><span class="op" id="1809205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1809208">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="1809280">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="1809353">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="1809433">func</span>&nbsp;<span class="op" id="1809438">(</span><span class="ident" id="1809439">z</span>&nbsp;<span class="op" id="1809441">*</span><span class="ident" id="1809442">Int</span><span class="op" id="1809445">)</span>&nbsp;<span class="ident" id="1809447">Scan</span><span class="op" id="1809451">(</span><span class="ident" id="1809452">s</span>&nbsp;<span class="ident" id="1809454">fmt</span><span class="op" id="1809457">.</span><span class="ident" id="1809458">ScanState</span><span class="op" id="1809467">,</span>&nbsp;<span class="ident" id="1809469">ch</span>&nbsp;<span class="builtintype" id="1809472">rune</span><span class="op" id="1809476">)</span>&nbsp;<span class="builtintype" id="1809478">error</span>&nbsp;<span class="op" id="1809484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809487">s</span><span class="op" id="1809488">.</span><span class="ident" id="1809489">SkipSpace</span><span class="op" id="1809498">(</span><span class="op" id="1809499">)</span>&nbsp;<span class="comment" id="1809501">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809535">base</span>&nbsp;<span class="op" id="1809540">:=</span>&nbsp;<span class="num" id="1809543">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809546">switch</span>&nbsp;<span class="ident" id="1809553">ch</span>&nbsp;<span class="op" id="1809556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809559">case</span>&nbsp;<span class="string" id="1809564">&#39;b&#39;</span><span class="op" id="1809567">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809571">base</span>&nbsp;<span class="op" id="1809576">=</span>&nbsp;<span class="num" id="1809578">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809581">case</span>&nbsp;<span class="string" id="1809586">&#39;o&#39;</span><span class="op" id="1809589">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809593">base</span>&nbsp;<span class="op" id="1809598">=</span>&nbsp;<span class="num" id="1809600">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809603">case</span>&nbsp;<span class="string" id="1809608">&#39;d&#39;</span><span class="op" id="1809611">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809615">base</span>&nbsp;<span class="op" id="1809620">=</span>&nbsp;<span class="num" id="1809622">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809626">case</span>&nbsp;<span class="string" id="1809631">&#39;x&#39;</span><span class="op" id="1809634">,</span>&nbsp;<span class="string" id="1809636">&#39;X&#39;</span><span class="op" id="1809639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809643">base</span>&nbsp;<span class="op" id="1809648">=</span>&nbsp;<span class="num" id="1809650">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809654">case</span>&nbsp;<span class="string" id="1809659">&#39;s&#39;</span><span class="op" id="1809662">,</span>&nbsp;<span class="string" id="1809664">&#39;v&#39;</span><span class="op" id="1809667">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1809671">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809703">default</span><span class="op" id="1809710">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809714">return</span>&nbsp;<span class="ident" id="1809721">errors</span><span class="op" id="1809727">.</span><span class="ident" id="1809728">New</span><span class="op" id="1809731">(</span><span class="string" id="1809732">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="1809756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1809759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1809762">_</span><span class="op" id="1809763">,</span>&nbsp;<span class="ident" id="1809765">_</span><span class="op" id="1809766">,</span>&nbsp;<span class="ident" id="1809768">err</span>&nbsp;<span class="op" id="1809772">:=</span>&nbsp;<span class="ident" id="1809775">z</span><span class="op" id="1809776">.</span><span class="ident" id="1809777">scan</span><span class="op" id="1809781">(</span><span class="ident" id="1809782">s</span><span class="op" id="1809783">,</span>&nbsp;<span class="ident" id="1809785">base</span><span class="op" id="1809789">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809792">return</span>&nbsp;<span class="ident" id="1809799">err</span><br>
<span class="lineno"></span><span class="op" id="1809803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1809806">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1809859">func</span>&nbsp;<span class="ident" id="1809864">low32</span><span class="op" id="1809869">(</span><span class="ident" id="1809870">z</span>&nbsp;<span class="ident" id="1809872">nat</span><span class="op" id="1809875">)</span>&nbsp;<span class="builtintype" id="1809877">uint32</span>&nbsp;<span class="op" id="1809884">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809887">if</span>&nbsp;<span class="builtinfunc" id="1809890">len</span><span class="op" id="1809893">(</span><span class="ident" id="1809894">z</span><span class="op" id="1809895">)</span>&nbsp;<span class="op" id="1809897">==</span>&nbsp;<span class="num" id="1809900">0</span>&nbsp;<span class="op" id="1809902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809906">return</span>&nbsp;<span class="num" id="1809913">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1809916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1809919">return</span>&nbsp;<span class="builtintype" id="1809926">uint32</span><span class="op" id="1809932">(</span><span class="ident" id="1809933">z</span><span class="op" id="1809934">[</span><span class="num" id="1809935">0</span><span class="op" id="1809936">]</span><span class="op" id="1809937">)</span><br>
<span class="lineno"></span><span class="op" id="1809939">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="1809942">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1809995">func</span>&nbsp;<span class="ident" id="1810000">low64</span><span class="op" id="1810005">(</span><span class="ident" id="1810006">z</span>&nbsp;<span class="ident" id="1810008">nat</span><span class="op" id="1810011">)</span>&nbsp;<span class="ident" id="1810013">uint64</span>&nbsp;<span class="op" id="1810020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810023">if</span>&nbsp;<span class="builtinfunc" id="1810026">len</span><span class="op" id="1810029">(</span><span class="ident" id="1810030">z</span><span class="op" id="1810031">)</span>&nbsp;<span class="op" id="1810033">==</span>&nbsp;<span class="num" id="1810036">0</span>&nbsp;<span class="op" id="1810038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810042">return</span>&nbsp;<span class="num" id="1810049">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810055">v</span>&nbsp;<span class="op" id="1810057">:=</span>&nbsp;<span class="ident" id="1810060">uint64</span><span class="op" id="1810066">(</span><span class="ident" id="1810067">z</span><span class="op" id="1810068">[</span><span class="num" id="1810069">0</span><span class="op" id="1810070">]</span><span class="op" id="1810071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810074">if</span>&nbsp;<span class="ident" id="1810077">_W</span>&nbsp;<span class="op" id="1810080">==</span>&nbsp;<span class="num" id="1810083">32</span>&nbsp;<span class="op" id="1810086">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1810089">len</span><span class="op" id="1810092">(</span><span class="ident" id="1810093">z</span><span class="op" id="1810094">)</span>&nbsp;<span class="op" id="1810096">&gt;</span>&nbsp;<span class="num" id="1810098">1</span>&nbsp;<span class="op" id="1810100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810104">v</span>&nbsp;<span class="op" id="1810106">|=</span>&nbsp;<span class="ident" id="1810109">uint64</span><span class="op" id="1810115">(</span><span class="ident" id="1810116">z</span><span class="op" id="1810117">[</span><span class="num" id="1810118">1</span><span class="op" id="1810119">]</span><span class="op" id="1810120">)</span>&nbsp;<span class="op" id="1810122">&lt;&lt;</span>&nbsp;<span class="num" id="1810125">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810129">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810132">return</span>&nbsp;<span class="ident" id="1810139">v</span><br>
<span class="lineno"></span><span class="op" id="1810141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1810144">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="1810192">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="1810260">func</span>&nbsp;<span class="op" id="1810265">(</span><span class="ident" id="1810266">x</span>&nbsp;<span class="op" id="1810268">*</span><span class="ident" id="1810269">Int</span><span class="op" id="1810272">)</span>&nbsp;<span class="ident" id="1810274">Int64</span><span class="op" id="1810279">(</span><span class="op" id="1810280">)</span>&nbsp;<span class="ident" id="1810282">int64</span>&nbsp;<span class="op" id="1810288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810291">v</span>&nbsp;<span class="op" id="1810293">:=</span>&nbsp;<span class="ident" id="1810296">int64</span><span class="op" id="1810301">(</span><span class="ident" id="1810302">low64</span><span class="op" id="1810307">(</span><span class="ident" id="1810308">x</span><span class="op" id="1810309">.</span><span class="ident" id="1810310">abs</span><span class="op" id="1810313">)</span><span class="op" id="1810314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810317">if</span>&nbsp;<span class="ident" id="1810320">x</span><span class="op" id="1810321">.</span><span class="ident" id="1810322">neg</span>&nbsp;<span class="op" id="1810326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1810330">v</span>&nbsp;<span class="op" id="1810332">=</span>&nbsp;<span class="op" id="1810334">-</span><span class="ident" id="1810335">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1810338">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810341">return</span>&nbsp;<span class="ident" id="1810348">v</span><br>
<span class="lineno"></span><span class="op" id="1810350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1810353">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="1810403">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="1810471">func</span>&nbsp;<span class="op" id="1810476">(</span><span class="ident" id="1810477">x</span>&nbsp;<span class="op" id="1810479">*</span><span class="ident" id="1810480">Int</span><span class="op" id="1810483">)</span>&nbsp;<span class="ident" id="1810485">Uint64</span><span class="op" id="1810491">(</span><span class="op" id="1810492">)</span>&nbsp;<span class="ident" id="1810494">uint64</span>&nbsp;<span class="op" id="1810501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1810504">return</span>&nbsp;<span class="ident" id="1810511">low64</span><span class="op" id="1810516">(</span><span class="ident" id="1810517">x</span><span class="op" id="1810518">.</span><span class="ident" id="1810519">abs</span><span class="op" id="1810522">)</span><br>
<span class="lineno"></span><span class="op" id="1810524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1810527">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="1810597">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="1810668">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="1810730">//</span><br>
<span class="lineno"></span><span class="comment" id="1810733">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="1810811">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="1810889">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="1810965">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="1811043">//</span><br>
<span class="lineno"></span><span class="keyword" id="1811046">func</span>&nbsp;<span class="op" id="1811051">(</span><span class="ident" id="1811052">z</span>&nbsp;<span class="op" id="1811054">*</span><span class="ident" id="1811055">Int</span><span class="op" id="1811058">)</span>&nbsp;<span class="ident" id="1811060">SetString</span><span class="op" id="1811069">(</span><span class="ident" id="1811070">s</span>&nbsp;<span class="builtintype" id="1811072">string</span><span class="op" id="1811078">,</span>&nbsp;<span class="ident" id="1811080">base</span>&nbsp;<span class="builtintype" id="1811085">int</span><span class="op" id="1811088">)</span>&nbsp;<span class="op" id="1811090">(</span><span class="op" id="1811091">*</span><span class="ident" id="1811092">Int</span><span class="op" id="1811095">,</span>&nbsp;<span class="builtintype" id="1811097">bool</span><span class="op" id="1811101">)</span>&nbsp;<span class="op" id="1811103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811106">r</span>&nbsp;<span class="op" id="1811108">:=</span>&nbsp;<span class="ident" id="1811111">strings</span><span class="op" id="1811118">.</span><span class="ident" id="1811119">NewReader</span><span class="op" id="1811128">(</span><span class="ident" id="1811129">s</span><span class="op" id="1811130">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811133">_</span><span class="op" id="1811134">,</span>&nbsp;<span class="ident" id="1811136">_</span><span class="op" id="1811137">,</span>&nbsp;<span class="ident" id="1811139">err</span>&nbsp;<span class="op" id="1811143">:=</span>&nbsp;<span class="ident" id="1811146">z</span><span class="op" id="1811147">.</span><span class="ident" id="1811148">scan</span><span class="op" id="1811152">(</span><span class="ident" id="1811153">r</span><span class="op" id="1811154">,</span>&nbsp;<span class="ident" id="1811156">base</span><span class="op" id="1811160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811163">if</span>&nbsp;<span class="ident" id="1811166">err</span>&nbsp;<span class="op" id="1811170">!=</span>&nbsp;<span class="ident" id="1811173">nil</span>&nbsp;<span class="op" id="1811177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811181">return</span>&nbsp;<span class="ident" id="1811188">nil</span><span class="op" id="1811191">,</span>&nbsp;<span class="ident" id="1811193">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1811200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811203">_</span><span class="op" id="1811204">,</span>&nbsp;<span class="ident" id="1811206">_</span><span class="op" id="1811207">,</span>&nbsp;<span class="ident" id="1811209">err</span>&nbsp;<span class="op" id="1811213">=</span>&nbsp;<span class="ident" id="1811215">r</span><span class="op" id="1811216">.</span><span class="ident" id="1811217">ReadRune</span><span class="op" id="1811225">(</span><span class="op" id="1811226">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811229">if</span>&nbsp;<span class="ident" id="1811232">err</span>&nbsp;<span class="op" id="1811236">!=</span>&nbsp;<span class="ident" id="1811239">io</span><span class="op" id="1811241">.</span><span class="ident" id="1811242">EOF</span>&nbsp;<span class="op" id="1811246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811250">return</span>&nbsp;<span class="ident" id="1811257">nil</span><span class="op" id="1811260">,</span>&nbsp;<span class="ident" id="1811262">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1811269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811272">return</span>&nbsp;<span class="ident" id="1811279">z</span><span class="op" id="1811280">,</span>&nbsp;<span class="ident" id="1811282">true</span>&nbsp;<span class="comment" id="1811287">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="1811330">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="1811333">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="1811398">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1811447">func</span>&nbsp;<span class="op" id="1811452">(</span><span class="ident" id="1811453">z</span>&nbsp;<span class="op" id="1811455">*</span><span class="ident" id="1811456">Int</span><span class="op" id="1811459">)</span>&nbsp;<span class="ident" id="1811461">SetBytes</span><span class="op" id="1811469">(</span><span class="ident" id="1811470">buf</span>&nbsp;<span class="op" id="1811474">[</span><span class="op" id="1811475">]</span><span class="builtintype" id="1811476">byte</span><span class="op" id="1811480">)</span>&nbsp;<span class="op" id="1811482">*</span><span class="ident" id="1811483">Int</span>&nbsp;<span class="op" id="1811487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811490">z</span><span class="op" id="1811491">.</span><span class="ident" id="1811492">abs</span>&nbsp;<span class="op" id="1811496">=</span>&nbsp;<span class="ident" id="1811498">z</span><span class="op" id="1811499">.</span><span class="ident" id="1811500">abs</span><span class="op" id="1811503">.</span><span class="ident" id="1811504">setBytes</span><span class="op" id="1811512">(</span><span class="ident" id="1811513">buf</span><span class="op" id="1811516">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811519">z</span><span class="op" id="1811520">.</span><span class="ident" id="1811521">neg</span>&nbsp;<span class="op" id="1811525">=</span>&nbsp;<span class="ident" id="1811527">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811534">return</span>&nbsp;<span class="ident" id="1811541">z</span><br>
<span class="lineno"></span><span class="op" id="1811543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1811546">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="1811615">func</span>&nbsp;<span class="op" id="1811620">(</span><span class="ident" id="1811621">x</span>&nbsp;<span class="op" id="1811623">*</span><span class="ident" id="1811624">Int</span><span class="op" id="1811627">)</span>&nbsp;<span class="ident" id="1811629">Bytes</span><span class="op" id="1811634">(</span><span class="op" id="1811635">)</span>&nbsp;<span class="op" id="1811637">[</span><span class="op" id="1811638">]</span><span class="builtintype" id="1811639">byte</span>&nbsp;<span class="op" id="1811644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1811647">buf</span>&nbsp;<span class="op" id="1811651">:=</span>&nbsp;<span class="builtinfunc" id="1811654">make</span><span class="op" id="1811658">(</span><span class="op" id="1811659">[</span><span class="op" id="1811660">]</span><span class="builtintype" id="1811661">byte</span><span class="op" id="1811665">,</span>&nbsp;<span class="builtinfunc" id="1811667">len</span><span class="op" id="1811670">(</span><span class="ident" id="1811671">x</span><span class="op" id="1811672">.</span><span class="ident" id="1811673">abs</span><span class="op" id="1811676">)</span><span class="op" id="1811677">*</span><span class="ident" id="1811678">_S</span><span class="op" id="1811680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811683">return</span>&nbsp;<span class="ident" id="1811690">buf</span><span class="op" id="1811693">[</span><span class="ident" id="1811694">x</span><span class="op" id="1811695">.</span><span class="ident" id="1811696">abs</span><span class="op" id="1811699">.</span><span class="ident" id="1811700">bytes</span><span class="op" id="1811705">(</span><span class="ident" id="1811706">buf</span><span class="op" id="1811709">)</span><span class="op" id="1811710">:</span><span class="op" id="1811711">]</span><br>
<span class="lineno"></span><span class="op" id="1811713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="1811716">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="1811781">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="1811810">func</span>&nbsp;<span class="op" id="1811815">(</span><span class="ident" id="1811816">x</span>&nbsp;<span class="op" id="1811818">*</span><span class="ident" id="1811819">Int</span><span class="op" id="1811822">)</span>&nbsp;<span class="ident" id="1811824">BitLen</span><span class="op" id="1811830">(</span><span class="op" id="1811831">)</span>&nbsp;<span class="builtintype" id="1811833">int</span>&nbsp;<span class="op" id="1811837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1811840">return</span>&nbsp;<span class="ident" id="1811847">x</span><span class="op" id="1811848">.</span><span class="ident" id="1811849">abs</span><span class="op" id="1811852">.</span><span class="ident" id="1811853">bitLen</span><span class="op" id="1811859">(</span><span class="op" id="1811860">)</span><br>
<span class="lineno"></span><span class="op" id="1811862">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="1811865">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="1811942">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="1812014">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="1812053">func</span>&nbsp;<span class="op" id="1812058">(</span><span class="ident" id="1812059">z</span>&nbsp;<span class="op" id="1812061">*</span><span class="ident" id="1812062">Int</span><span class="op" id="1812065">)</span>&nbsp;<span class="ident" id="1812067">Exp</span><span class="op" id="1812070">(</span><span class="ident" id="1812071">x</span><span class="op" id="1812072">,</span>&nbsp;<span class="ident" id="1812074">y</span><span class="op" id="1812075">,</span>&nbsp;<span class="ident" id="1812077">m</span>&nbsp;<span class="op" id="1812079">*</span><span class="ident" id="1812080">Int</span><span class="op" id="1812083">)</span>&nbsp;<span class="op" id="1812085">*</span><span class="ident" id="1812086">Int</span>&nbsp;<span class="op" id="1812090">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812093">var</span>&nbsp;<span class="ident" id="1812097">yWords</span>&nbsp;<span class="ident" id="1812104">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812109">if</span>&nbsp;<span class="op" id="1812112">!</span><span class="ident" id="1812113">y</span><span class="op" id="1812114">.</span><span class="ident" id="1812115">neg</span>&nbsp;<span class="op" id="1812119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812123">yWords</span>&nbsp;<span class="op" id="1812130">=</span>&nbsp;<span class="ident" id="1812132">y</span><span class="op" id="1812133">.</span><span class="ident" id="1812134">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1812142">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812154">var</span>&nbsp;<span class="ident" id="1812158">mWords</span>&nbsp;<span class="ident" id="1812165">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812170">if</span>&nbsp;<span class="ident" id="1812173">m</span>&nbsp;<span class="op" id="1812175">!=</span>&nbsp;<span class="ident" id="1812178">nil</span>&nbsp;<span class="op" id="1812182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812186">mWords</span>&nbsp;<span class="op" id="1812193">=</span>&nbsp;<span class="ident" id="1812195">m</span><span class="op" id="1812196">.</span><span class="ident" id="1812197">abs</span>&nbsp;<span class="comment" id="1812201">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812233">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812237">z</span><span class="op" id="1812238">.</span><span class="ident" id="1812239">abs</span>&nbsp;<span class="op" id="1812243">=</span>&nbsp;<span class="ident" id="1812245">z</span><span class="op" id="1812246">.</span><span class="ident" id="1812247">abs</span><span class="op" id="1812250">.</span><span class="ident" id="1812251">expNN</span><span class="op" id="1812256">(</span><span class="ident" id="1812257">x</span><span class="op" id="1812258">.</span><span class="ident" id="1812259">abs</span><span class="op" id="1812262">,</span>&nbsp;<span class="ident" id="1812264">yWords</span><span class="op" id="1812270">,</span>&nbsp;<span class="ident" id="1812272">mWords</span><span class="op" id="1812278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812281">z</span><span class="op" id="1812282">.</span><span class="ident" id="1812283">neg</span>&nbsp;<span class="op" id="1812287">=</span>&nbsp;<span class="builtinfunc" id="1812289">len</span><span class="op" id="1812292">(</span><span class="ident" id="1812293">z</span><span class="op" id="1812294">.</span><span class="ident" id="1812295">abs</span><span class="op" id="1812298">)</span>&nbsp;<span class="op" id="1812300">&gt;</span>&nbsp;<span class="num" id="1812302">0</span>&nbsp;<span class="op" id="1812304">&amp;&amp;</span>&nbsp;<span class="ident" id="1812307">x</span><span class="op" id="1812308">.</span><span class="ident" id="1812309">neg</span>&nbsp;<span class="op" id="1812313">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1812316">len</span><span class="op" id="1812319">(</span><span class="ident" id="1812320">yWords</span><span class="op" id="1812326">)</span>&nbsp;<span class="op" id="1812328">&gt;</span>&nbsp;<span class="num" id="1812330">0</span>&nbsp;<span class="op" id="1812332">&amp;&amp;</span>&nbsp;<span class="ident" id="1812335">yWords</span><span class="op" id="1812341">[</span><span class="num" id="1812342">0</span><span class="op" id="1812343">]</span><span class="op" id="1812344">&amp;</span><span class="num" id="1812345">1</span>&nbsp;<span class="op" id="1812347">==</span>&nbsp;<span class="num" id="1812350">1</span>&nbsp;<span class="comment" id="1812352">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812370">if</span>&nbsp;<span class="ident" id="1812373">z</span><span class="op" id="1812374">.</span><span class="ident" id="1812375">neg</span>&nbsp;<span class="op" id="1812379">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1812382">len</span><span class="op" id="1812385">(</span><span class="ident" id="1812386">mWords</span><span class="op" id="1812392">)</span>&nbsp;<span class="op" id="1812394">&gt;</span>&nbsp;<span class="num" id="1812396">0</span>&nbsp;<span class="op" id="1812398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1812402">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812436">z</span><span class="op" id="1812437">.</span><span class="ident" id="1812438">abs</span>&nbsp;<span class="op" id="1812442">=</span>&nbsp;<span class="ident" id="1812444">z</span><span class="op" id="1812445">.</span><span class="ident" id="1812446">abs</span><span class="op" id="1812449">.</span><span class="ident" id="1812450">sub</span><span class="op" id="1812453">(</span><span class="ident" id="1812454">mWords</span><span class="op" id="1812460">,</span>&nbsp;<span class="ident" id="1812462">z</span><span class="op" id="1812463">.</span><span class="ident" id="1812464">abs</span><span class="op" id="1812467">)</span>&nbsp;<span class="comment" id="1812469">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812508">z</span><span class="op" id="1812509">.</span><span class="ident" id="1812510">neg</span>&nbsp;<span class="op" id="1812514">=</span>&nbsp;<span class="ident" id="1812516">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812527">return</span>&nbsp;<span class="ident" id="1812534">z</span><br>
<span class="lineno">615</span><span class="op" id="1812536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1812539">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="1812612">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="1812638">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="1812707">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="1812760">func</span>&nbsp;<span class="op" id="1812765">(</span><span class="ident" id="1812766">z</span>&nbsp;<span class="op" id="1812768">*</span><span class="ident" id="1812769">Int</span><span class="op" id="1812772">)</span>&nbsp;<span class="ident" id="1812774">GCD</span><span class="op" id="1812777">(</span><span class="ident" id="1812778">x</span><span class="op" id="1812779">,</span>&nbsp;<span class="ident" id="1812781">y</span><span class="op" id="1812782">,</span>&nbsp;<span class="ident" id="1812784">a</span><span class="op" id="1812785">,</span>&nbsp;<span class="ident" id="1812787">b</span>&nbsp;<span class="op" id="1812789">*</span><span class="ident" id="1812790">Int</span><span class="op" id="1812793">)</span>&nbsp;<span class="op" id="1812795">*</span><span class="ident" id="1812796">Int</span>&nbsp;<span class="op" id="1812800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812803">if</span>&nbsp;<span class="ident" id="1812806">a</span><span class="op" id="1812807">.</span><span class="ident" id="1812808">Sign</span><span class="op" id="1812812">(</span><span class="op" id="1812813">)</span>&nbsp;<span class="op" id="1812815">&lt;=</span>&nbsp;<span class="num" id="1812818">0</span>&nbsp;<span class="op" id="1812820">||</span>&nbsp;<span class="ident" id="1812823">b</span><span class="op" id="1812824">.</span><span class="ident" id="1812825">Sign</span><span class="op" id="1812829">(</span><span class="op" id="1812830">)</span>&nbsp;<span class="op" id="1812832">&lt;=</span>&nbsp;<span class="num" id="1812835">0</span>&nbsp;<span class="op" id="1812837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812841">z</span><span class="op" id="1812842">.</span><span class="ident" id="1812843">SetInt64</span><span class="op" id="1812851">(</span><span class="num" id="1812852">0</span><span class="op" id="1812853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812857">if</span>&nbsp;<span class="ident" id="1812860">x</span>&nbsp;<span class="op" id="1812862">!=</span>&nbsp;<span class="ident" id="1812865">nil</span>&nbsp;<span class="op" id="1812869">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812874">x</span><span class="op" id="1812875">.</span><span class="ident" id="1812876">SetInt64</span><span class="op" id="1812884">(</span><span class="num" id="1812885">0</span><span class="op" id="1812886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812894">if</span>&nbsp;<span class="ident" id="1812897">y</span>&nbsp;<span class="op" id="1812899">!=</span>&nbsp;<span class="ident" id="1812902">nil</span>&nbsp;<span class="op" id="1812906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1812911">y</span><span class="op" id="1812912">.</span><span class="ident" id="1812913">SetInt64</span><span class="op" id="1812921">(</span><span class="num" id="1812922">0</span><span class="op" id="1812923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812927">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812931">return</span>&nbsp;<span class="ident" id="1812938">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812944">if</span>&nbsp;<span class="ident" id="1812947">x</span>&nbsp;<span class="op" id="1812949">==</span>&nbsp;<span class="ident" id="1812952">nil</span>&nbsp;<span class="op" id="1812956">&amp;&amp;</span>&nbsp;<span class="ident" id="1812959">y</span>&nbsp;<span class="op" id="1812961">==</span>&nbsp;<span class="ident" id="1812964">nil</span>&nbsp;<span class="op" id="1812968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1812972">return</span>&nbsp;<span class="ident" id="1812979">z</span><span class="op" id="1812980">.</span><span class="ident" id="1812981">binaryGCD</span><span class="op" id="1812990">(</span><span class="ident" id="1812991">a</span><span class="op" id="1812992">,</span>&nbsp;<span class="ident" id="1812994">b</span><span class="op" id="1812995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1812998">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813002">A</span>&nbsp;<span class="op" id="1813004">:=</span>&nbsp;<span class="builtinfunc" id="1813007">new</span><span class="op" id="1813010">(</span><span class="ident" id="1813011">Int</span><span class="op" id="1813014">)</span><span class="op" id="1813015">.</span><span class="ident" id="1813016">Set</span><span class="op" id="1813019">(</span><span class="ident" id="1813020">a</span><span class="op" id="1813021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813024">B</span>&nbsp;<span class="op" id="1813026">:=</span>&nbsp;<span class="builtinfunc" id="1813029">new</span><span class="op" id="1813032">(</span><span class="ident" id="1813033">Int</span><span class="op" id="1813036">)</span><span class="op" id="1813037">.</span><span class="ident" id="1813038">Set</span><span class="op" id="1813041">(</span><span class="ident" id="1813042">b</span><span class="op" id="1813043">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813047">X</span>&nbsp;<span class="op" id="1813049">:=</span>&nbsp;<span class="builtinfunc" id="1813052">new</span><span class="op" id="1813055">(</span><span class="ident" id="1813056">Int</span><span class="op" id="1813059">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813062">Y</span>&nbsp;<span class="op" id="1813064">:=</span>&nbsp;<span class="builtinfunc" id="1813067">new</span><span class="op" id="1813070">(</span><span class="ident" id="1813071">Int</span><span class="op" id="1813074">)</span><span class="op" id="1813075">.</span><span class="ident" id="1813076">SetInt64</span><span class="op" id="1813084">(</span><span class="num" id="1813085">1</span><span class="op" id="1813086">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813090">lastX</span>&nbsp;<span class="op" id="1813096">:=</span>&nbsp;<span class="builtinfunc" id="1813099">new</span><span class="op" id="1813102">(</span><span class="ident" id="1813103">Int</span><span class="op" id="1813106">)</span><span class="op" id="1813107">.</span><span class="ident" id="1813108">SetInt64</span><span class="op" id="1813116">(</span><span class="num" id="1813117">1</span><span class="op" id="1813118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813121">lastY</span>&nbsp;<span class="op" id="1813127">:=</span>&nbsp;<span class="builtinfunc" id="1813130">new</span><span class="op" id="1813133">(</span><span class="ident" id="1813134">Int</span><span class="op" id="1813137">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813141">q</span>&nbsp;<span class="op" id="1813143">:=</span>&nbsp;<span class="builtinfunc" id="1813146">new</span><span class="op" id="1813149">(</span><span class="ident" id="1813150">Int</span><span class="op" id="1813153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813156">temp</span>&nbsp;<span class="op" id="1813161">:=</span>&nbsp;<span class="builtinfunc" id="1813164">new</span><span class="op" id="1813167">(</span><span class="ident" id="1813168">Int</span><span class="op" id="1813171">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813175">for</span>&nbsp;<span class="builtinfunc" id="1813179">len</span><span class="op" id="1813182">(</span><span class="ident" id="1813183">B</span><span class="op" id="1813184">.</span><span class="ident" id="1813185">abs</span><span class="op" id="1813188">)</span>&nbsp;<span class="op" id="1813190">&gt;</span>&nbsp;<span class="num" id="1813192">0</span>&nbsp;<span class="op" id="1813194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813198">r</span>&nbsp;<span class="op" id="1813200">:=</span>&nbsp;<span class="builtinfunc" id="1813203">new</span><span class="op" id="1813206">(</span><span class="ident" id="1813207">Int</span><span class="op" id="1813210">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813214">q</span><span class="op" id="1813215">,</span>&nbsp;<span class="ident" id="1813217">r</span>&nbsp;<span class="op" id="1813219">=</span>&nbsp;<span class="ident" id="1813221">q</span><span class="op" id="1813222">.</span><span class="ident" id="1813223">QuoRem</span><span class="op" id="1813229">(</span><span class="ident" id="1813230">A</span><span class="op" id="1813231">,</span>&nbsp;<span class="ident" id="1813233">B</span><span class="op" id="1813234">,</span>&nbsp;<span class="ident" id="1813236">r</span><span class="op" id="1813237">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813242">A</span><span class="op" id="1813243">,</span>&nbsp;<span class="ident" id="1813245">B</span>&nbsp;<span class="op" id="1813247">=</span>&nbsp;<span class="ident" id="1813249">B</span><span class="op" id="1813250">,</span>&nbsp;<span class="ident" id="1813252">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813257">temp</span><span class="op" id="1813261">.</span><span class="ident" id="1813262">Set</span><span class="op" id="1813265">(</span><span class="ident" id="1813266">X</span><span class="op" id="1813267">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813271">X</span><span class="op" id="1813272">.</span><span class="ident" id="1813273">Mul</span><span class="op" id="1813276">(</span><span class="ident" id="1813277">X</span><span class="op" id="1813278">,</span>&nbsp;<span class="ident" id="1813280">q</span><span class="op" id="1813281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813285">X</span><span class="op" id="1813286">.</span><span class="ident" id="1813287">neg</span>&nbsp;<span class="op" id="1813291">=</span>&nbsp;<span class="op" id="1813293">!</span><span class="ident" id="1813294">X</span><span class="op" id="1813295">.</span><span class="ident" id="1813296">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813302">X</span><span class="op" id="1813303">.</span><span class="ident" id="1813304">Add</span><span class="op" id="1813307">(</span><span class="ident" id="1813308">X</span><span class="op" id="1813309">,</span>&nbsp;<span class="ident" id="1813311">lastX</span><span class="op" id="1813316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813320">lastX</span><span class="op" id="1813325">.</span><span class="ident" id="1813326">Set</span><span class="op" id="1813329">(</span><span class="ident" id="1813330">temp</span><span class="op" id="1813334">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813339">temp</span><span class="op" id="1813343">.</span><span class="ident" id="1813344">Set</span><span class="op" id="1813347">(</span><span class="ident" id="1813348">Y</span><span class="op" id="1813349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813353">Y</span><span class="op" id="1813354">.</span><span class="ident" id="1813355">Mul</span><span class="op" id="1813358">(</span><span class="ident" id="1813359">Y</span><span class="op" id="1813360">,</span>&nbsp;<span class="ident" id="1813362">q</span><span class="op" id="1813363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813367">Y</span><span class="op" id="1813368">.</span><span class="ident" id="1813369">neg</span>&nbsp;<span class="op" id="1813373">=</span>&nbsp;<span class="op" id="1813375">!</span><span class="ident" id="1813376">Y</span><span class="op" id="1813377">.</span><span class="ident" id="1813378">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813384">Y</span><span class="op" id="1813385">.</span><span class="ident" id="1813386">Add</span><span class="op" id="1813389">(</span><span class="ident" id="1813390">Y</span><span class="op" id="1813391">,</span>&nbsp;<span class="ident" id="1813393">lastY</span><span class="op" id="1813398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813402">lastY</span><span class="op" id="1813407">.</span><span class="ident" id="1813408">Set</span><span class="op" id="1813411">(</span><span class="ident" id="1813412">temp</span><span class="op" id="1813416">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813423">if</span>&nbsp;<span class="ident" id="1813426">x</span>&nbsp;<span class="op" id="1813428">!=</span>&nbsp;<span class="ident" id="1813431">nil</span>&nbsp;<span class="op" id="1813435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813439">*</span><span class="ident" id="1813440">x</span>&nbsp;<span class="op" id="1813442">=</span>&nbsp;<span class="op" id="1813444">*</span><span class="ident" id="1813445">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813452">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813456">if</span>&nbsp;<span class="ident" id="1813459">y</span>&nbsp;<span class="op" id="1813461">!=</span>&nbsp;<span class="ident" id="1813464">nil</span>&nbsp;<span class="op" id="1813468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813472">*</span><span class="ident" id="1813473">y</span>&nbsp;<span class="op" id="1813475">=</span>&nbsp;<span class="op" id="1813477">*</span><span class="ident" id="1813478">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1813489">*</span><span class="ident" id="1813490">z</span>&nbsp;<span class="op" id="1813492">=</span>&nbsp;<span class="op" id="1813494">*</span><span class="ident" id="1813495">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813498">return</span>&nbsp;<span class="ident" id="1813505">z</span><br>
<span class="lineno"></span><span class="op" id="1813507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1813510">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="1813589">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="1813615">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="1813698">func</span>&nbsp;<span class="op" id="1813703">(</span><span class="ident" id="1813704">z</span>&nbsp;<span class="op" id="1813706">*</span><span class="ident" id="1813707">Int</span><span class="op" id="1813710">)</span>&nbsp;<span class="ident" id="1813712">binaryGCD</span><span class="op" id="1813721">(</span><span class="ident" id="1813722">a</span><span class="op" id="1813723">,</span>&nbsp;<span class="ident" id="1813725">b</span>&nbsp;<span class="op" id="1813727">*</span><span class="ident" id="1813728">Int</span><span class="op" id="1813731">)</span>&nbsp;<span class="op" id="1813733">*</span><span class="ident" id="1813734">Int</span>&nbsp;<span class="op" id="1813738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813741">u</span>&nbsp;<span class="op" id="1813743">:=</span>&nbsp;<span class="ident" id="1813746">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813749">v</span>&nbsp;<span class="op" id="1813751">:=</span>&nbsp;<span class="builtinfunc" id="1813754">new</span><span class="op" id="1813757">(</span><span class="ident" id="1813758">Int</span><span class="op" id="1813761">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1813765">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813846">switch</span>&nbsp;<span class="op" id="1813853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813856">case</span>&nbsp;<span class="builtinfunc" id="1813861">len</span><span class="op" id="1813864">(</span><span class="ident" id="1813865">a</span><span class="op" id="1813866">.</span><span class="ident" id="1813867">abs</span><span class="op" id="1813870">)</span>&nbsp;<span class="op" id="1813872">&gt;</span>&nbsp;<span class="builtinfunc" id="1813874">len</span><span class="op" id="1813877">(</span><span class="ident" id="1813878">b</span><span class="op" id="1813879">.</span><span class="ident" id="1813880">abs</span><span class="op" id="1813883">)</span><span class="op" id="1813884">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813888">u</span><span class="op" id="1813889">.</span><span class="ident" id="1813890">Set</span><span class="op" id="1813893">(</span><span class="ident" id="1813894">b</span><span class="op" id="1813895">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813899">v</span><span class="op" id="1813900">.</span><span class="ident" id="1813901">Rem</span><span class="op" id="1813904">(</span><span class="ident" id="1813905">a</span><span class="op" id="1813906">,</span>&nbsp;<span class="ident" id="1813908">b</span><span class="op" id="1813909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813912">case</span>&nbsp;<span class="builtinfunc" id="1813917">len</span><span class="op" id="1813920">(</span><span class="ident" id="1813921">a</span><span class="op" id="1813922">.</span><span class="ident" id="1813923">abs</span><span class="op" id="1813926">)</span>&nbsp;<span class="op" id="1813928">&lt;</span>&nbsp;<span class="builtinfunc" id="1813930">len</span><span class="op" id="1813933">(</span><span class="ident" id="1813934">b</span><span class="op" id="1813935">.</span><span class="ident" id="1813936">abs</span><span class="op" id="1813939">)</span><span class="op" id="1813940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813944">u</span><span class="op" id="1813945">.</span><span class="ident" id="1813946">Set</span><span class="op" id="1813949">(</span><span class="ident" id="1813950">a</span><span class="op" id="1813951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813955">v</span><span class="op" id="1813956">.</span><span class="ident" id="1813957">Rem</span><span class="op" id="1813960">(</span><span class="ident" id="1813961">b</span><span class="op" id="1813962">,</span>&nbsp;<span class="ident" id="1813964">a</span><span class="op" id="1813965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1813968">default</span><span class="op" id="1813975">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813979">u</span><span class="op" id="1813980">.</span><span class="ident" id="1813981">Set</span><span class="op" id="1813984">(</span><span class="ident" id="1813985">a</span><span class="op" id="1813986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1813990">v</span><span class="op" id="1813991">.</span><span class="ident" id="1813992">Set</span><span class="op" id="1813995">(</span><span class="ident" id="1813996">b</span><span class="op" id="1813997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1814000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1814004">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1814025">if</span>&nbsp;<span class="builtinfunc" id="1814028">len</span><span class="op" id="1814031">(</span><span class="ident" id="1814032">v</span><span class="op" id="1814033">.</span><span class="ident" id="1814034">abs</span><span class="op" id="1814037">)</span>&nbsp;<span class="op" id="1814039">==</span>&nbsp;<span class="num" id="1814042">0</span>&nbsp;<span class="op" id="1814044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1814048">return</span>&nbsp;<span class="ident" id="1814055">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1814058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1814061">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1814081">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814140">k</span>&nbsp;<span class="op" id="1814142">:=</span>&nbsp;<span class="ident" id="1814145">u</span><span class="op" id="1814146">.</span><span class="ident" id="1814147">abs</span><span class="op" id="1814150">.</span><span class="ident" id="1814151">trailingZeroBits</span><span class="op" id="1814167">(</span><span class="op" id="1814168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1814171">if</span>&nbsp;<span class="ident" id="1814174">vk</span>&nbsp;<span class="op" id="1814177">:=</span>&nbsp;<span class="ident" id="1814180">v</span><span class="op" id="1814181">.</span><span class="ident" id="1814182">abs</span><span class="op" id="1814185">.</span><span class="ident" id="1814186">trailingZeroBits</span><span class="op" id="1814202">(</span><span class="op" id="1814203">)</span><span class="op" id="1814204">;</span>&nbsp;<span class="ident" id="1814206">vk</span>&nbsp;<span class="op" id="1814209">&lt;</span>&nbsp;<span class="ident" id="1814211">k</span>&nbsp;<span class="op" id="1814213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814217">k</span>&nbsp;<span class="op" id="1814219">=</span>&nbsp;<span class="ident" id="1814221">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1814225">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814228">u</span><span class="op" id="1814229">.</span><span class="ident" id="1814230">Rsh</span><span class="op" id="1814233">(</span><span class="ident" id="1814234">u</span><span class="op" id="1814235">,</span>&nbsp;<span class="ident" id="1814237">k</span><span class="op" id="1814238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814241">v</span><span class="op" id="1814242">.</span><span class="ident" id="1814243">Rsh</span><span class="op" id="1814246">(</span><span class="ident" id="1814247">v</span><span class="op" id="1814248">,</span>&nbsp;<span class="ident" id="1814250">k</span><span class="op" id="1814251">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1814255">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814292">t</span>&nbsp;<span class="op" id="1814294">:=</span>&nbsp;<span class="builtinfunc" id="1814297">new</span><span class="op" id="1814300">(</span><span class="ident" id="1814301">Int</span><span class="op" id="1814304">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1814307">if</span>&nbsp;<span class="ident" id="1814310">u</span><span class="op" id="1814311">.</span><span class="ident" id="1814312">abs</span><span class="op" id="1814315">[</span><span class="num" id="1814316">0</span><span class="op" id="1814317">]</span><span class="op" id="1814318">&amp;</span><span class="num" id="1814319">1</span>&nbsp;<span class="op" id="1814321">!=</span>&nbsp;<span class="num" id="1814324">0</span>&nbsp;<span class="op" id="1814326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1814330">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814344">t</span><span class="op" id="1814345">.</span><span class="ident" id="1814346">Neg</span><span class="op" id="1814349">(</span><span class="ident" id="1814350">v</span><span class="op" id="1814351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1814354">}</span>&nbsp;<span class="keyword" id="1814356">else</span>&nbsp;<span class="op" id="1814361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814365">t</span><span class="op" id="1814366">.</span><span class="ident" id="1814367">Set</span><span class="op" id="1814370">(</span><span class="ident" id="1814371">u</span><span class="op" id="1814372">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1814375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1814379">for</span>&nbsp;<span class="builtinfunc" id="1814383">len</span><span class="op" id="1814386">(</span><span class="ident" id="1814387">t</span><span class="op" id="1814388">.</span><span class="ident" id="1814389">abs</span><span class="op" id="1814392">)</span>&nbsp;<span class="op" id="1814394">&gt;</span>&nbsp;<span class="num" id="1814396">0</span>&nbsp;<span class="op" id="1814398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1814402">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814416">t</span><span class="op" id="1814417">.</span><span class="ident" id="1814418">Rsh</span><span class="op" id="1814421">(</span><span class="ident" id="1814422">t</span><span class="op" id="1814423">,</span>&nbsp;<span class="ident" id="1814425">t</span><span class="op" id="1814426">.</span><span class="ident" id="1814427">abs</span><span class="op" id="1814430">.</span><span class="ident" id="1814431">trailingZeroBits</span><span class="op" id="1814447">(</span><span class="op" id="1814448">)</span><span class="op" id="1814449">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1814453">if</span>&nbsp;<span class="ident" id="1814456">t</span><span class="op" id="1814457">.</span><span class="ident" id="1814458">neg</span>&nbsp;<span class="op" id="1814462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814467">v</span><span class="op" id="1814468">,</span>&nbsp;<span class="ident" id="1814470">t</span>&nbsp;<span class="op" id="1814472">=</span>&nbsp;<span class="ident" id="1814474">t</span><span class="op" id="1814475">,</span>&nbsp;<span class="ident" id="1814477">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814482">v</span><span class="op" id="1814483">.</span><span class="ident" id="1814484">neg</span>&nbsp;<span class="op" id="1814488">=</span>&nbsp;<span class="builtinfunc" id="1814490">len</span><span class="op" id="1814493">(</span><span class="ident" id="1814494">v</span><span class="op" id="1814495">.</span><span class="ident" id="1814496">abs</span><span class="op" id="1814499">)</span>&nbsp;<span class="op" id="1814501">&gt;</span>&nbsp;<span class="num" id="1814503">0</span>&nbsp;<span class="op" id="1814505">&amp;&amp;</span>&nbsp;<span class="op" id="1814508">!</span><span class="ident" id="1814509">v</span><span class="op" id="1814510">.</span><span class="ident" id="1814511">neg</span>&nbsp;<span class="comment" id="1814515">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1814534">}</span>&nbsp;<span class="keyword" id="1814536">else</span>&nbsp;<span class="op" id="1814541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814546">u</span><span class="op" id="1814547">,</span>&nbsp;<span class="ident" id="1814549">t</span>&nbsp;<span class="op" id="1814551">=</span>&nbsp;<span class="ident" id="1814553">t</span><span class="op" id="1814554">,</span>&nbsp;<span class="ident" id="1814556">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1814560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814564">t</span><span class="op" id="1814565">.</span><span class="ident" id="1814566">Sub</span><span class="op" id="1814569">(</span><span class="ident" id="1814570">u</span><span class="op" id="1814571">,</span>&nbsp;<span class="ident" id="1814573">v</span><span class="op" id="1814574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1814577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1814581">return</span>&nbsp;<span class="ident" id="1814588">z</span><span class="op" id="1814589">.</span><span class="ident" id="1814590">Lsh</span><span class="op" id="1814593">(</span><span class="ident" id="1814594">u</span><span class="op" id="1814595">,</span>&nbsp;<span class="ident" id="1814597">k</span><span class="op" id="1814598">)</span><br>
<span class="lineno">735</span><span class="op" id="1814600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1814603">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="1814679">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="1814741">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="1814781">func</span>&nbsp;<span class="op" id="1814786">(</span><span class="ident" id="1814787">x</span>&nbsp;<span class="op" id="1814789">*</span><span class="ident" id="1814790">Int</span><span class="op" id="1814793">)</span>&nbsp;<span class="ident" id="1814795">ProbablyPrime</span><span class="op" id="1814808">(</span><span class="ident" id="1814809">n</span>&nbsp;<span class="builtintype" id="1814811">int</span><span class="op" id="1814814">)</span>&nbsp;<span class="builtintype" id="1814816">bool</span>&nbsp;<span class="op" id="1814821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1814824">return</span>&nbsp;<span class="op" id="1814831">!</span><span class="ident" id="1814832">x</span><span class="op" id="1814833">.</span><span class="ident" id="1814834">neg</span>&nbsp;<span class="op" id="1814838">&amp;&amp;</span>&nbsp;<span class="ident" id="1814841">x</span><span class="op" id="1814842">.</span><span class="ident" id="1814843">abs</span><span class="op" id="1814846">.</span><span class="ident" id="1814847">probablyPrime</span><span class="op" id="1814860">(</span><span class="ident" id="1814861">n</span><span class="op" id="1814862">)</span><br>
<span class="lineno"></span><span class="op" id="1814864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1814867">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="1814933">func</span>&nbsp;<span class="op" id="1814938">(</span><span class="ident" id="1814939">z</span>&nbsp;<span class="op" id="1814941">*</span><span class="ident" id="1814942">Int</span><span class="op" id="1814945">)</span>&nbsp;<span class="ident" id="1814947">Rand</span><span class="op" id="1814951">(</span><span class="ident" id="1814952">rnd</span>&nbsp;<span class="op" id="1814956">*</span><span class="ident" id="1814957">rand</span><span class="op" id="1814961">.</span><span class="ident" id="1814962">Rand</span><span class="op" id="1814966">,</span>&nbsp;<span class="ident" id="1814968">n</span>&nbsp;<span class="op" id="1814970">*</span><span class="ident" id="1814971">Int</span><span class="op" id="1814974">)</span>&nbsp;<span class="op" id="1814976">*</span><span class="ident" id="1814977">Int</span>&nbsp;<span class="op" id="1814981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1814984">z</span><span class="op" id="1814985">.</span><span class="ident" id="1814986">neg</span>&nbsp;<span class="op" id="1814990">=</span>&nbsp;<span class="ident" id="1814992">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1814999">if</span>&nbsp;<span class="ident" id="1815002">n</span><span class="op" id="1815003">.</span><span class="ident" id="1815004">neg</span>&nbsp;<span class="op" id="1815008">==</span>&nbsp;<span class="ident" id="1815011">true</span>&nbsp;<span class="op" id="1815016">||</span>&nbsp;<span class="builtinfunc" id="1815019">len</span><span class="op" id="1815022">(</span><span class="ident" id="1815023">n</span><span class="op" id="1815024">.</span><span class="ident" id="1815025">abs</span><span class="op" id="1815028">)</span>&nbsp;<span class="op" id="1815030">==</span>&nbsp;<span class="num" id="1815033">0</span>&nbsp;<span class="op" id="1815035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815039">z</span><span class="op" id="1815040">.</span><span class="ident" id="1815041">abs</span>&nbsp;<span class="op" id="1815045">=</span>&nbsp;<span class="ident" id="1815047">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1815053">return</span>&nbsp;<span class="ident" id="1815060">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1815063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815066">z</span><span class="op" id="1815067">.</span><span class="ident" id="1815068">abs</span>&nbsp;<span class="op" id="1815072">=</span>&nbsp;<span class="ident" id="1815074">z</span><span class="op" id="1815075">.</span><span class="ident" id="1815076">abs</span><span class="op" id="1815079">.</span><span class="ident" id="1815080">random</span><span class="op" id="1815086">(</span><span class="ident" id="1815087">rnd</span><span class="op" id="1815090">,</span>&nbsp;<span class="ident" id="1815092">n</span><span class="op" id="1815093">.</span><span class="ident" id="1815094">abs</span><span class="op" id="1815097">,</span>&nbsp;<span class="ident" id="1815099">n</span><span class="op" id="1815100">.</span><span class="ident" id="1815101">abs</span><span class="op" id="1815104">.</span><span class="ident" id="1815105">bitLen</span><span class="op" id="1815111">(</span><span class="op" id="1815112">)</span><span class="op" id="1815113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1815116">return</span>&nbsp;<span class="ident" id="1815123">z</span><br>
<span class="lineno"></span><span class="op" id="1815125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="1815128">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;/n</span><br>
<span class="lineno"></span><span class="comment" id="1815205">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="1815285">func</span>&nbsp;<span class="op" id="1815290">(</span><span class="ident" id="1815291">z</span>&nbsp;<span class="op" id="1815293">*</span><span class="ident" id="1815294">Int</span><span class="op" id="1815297">)</span>&nbsp;<span class="ident" id="1815299">ModInverse</span><span class="op" id="1815309">(</span><span class="ident" id="1815310">g</span><span class="op" id="1815311">,</span>&nbsp;<span class="ident" id="1815313">n</span>&nbsp;<span class="op" id="1815315">*</span><span class="ident" id="1815316">Int</span><span class="op" id="1815319">)</span>&nbsp;<span class="op" id="1815321">*</span><span class="ident" id="1815322">Int</span>&nbsp;<span class="op" id="1815326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1815329">var</span>&nbsp;<span class="ident" id="1815333">d</span>&nbsp;<span class="ident" id="1815335">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815340">d</span><span class="op" id="1815341">.</span><span class="ident" id="1815342">GCD</span><span class="op" id="1815345">(</span><span class="ident" id="1815346">z</span><span class="op" id="1815347">,</span>&nbsp;<span class="ident" id="1815349">nil</span><span class="op" id="1815352">,</span>&nbsp;<span class="ident" id="1815354">g</span><span class="op" id="1815355">,</span>&nbsp;<span class="ident" id="1815357">n</span><span class="op" id="1815358">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1815361">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1815420">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1815481">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1815530">if</span>&nbsp;<span class="ident" id="1815533">z</span><span class="op" id="1815534">.</span><span class="ident" id="1815535">neg</span>&nbsp;<span class="op" id="1815539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815543">z</span><span class="op" id="1815544">.</span><span class="ident" id="1815545">Add</span><span class="op" id="1815548">(</span><span class="ident" id="1815549">z</span><span class="op" id="1815550">,</span>&nbsp;<span class="ident" id="1815552">n</span><span class="op" id="1815553">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1815556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1815559">return</span>&nbsp;<span class="ident" id="1815566">z</span><br>
<span class="lineno"></span><span class="op" id="1815568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1815571">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="1815609">func</span>&nbsp;<span class="op" id="1815614">(</span><span class="ident" id="1815615">z</span>&nbsp;<span class="op" id="1815617">*</span><span class="ident" id="1815618">Int</span><span class="op" id="1815621">)</span>&nbsp;<span class="ident" id="1815623">Lsh</span><span class="op" id="1815626">(</span><span class="ident" id="1815627">x</span>&nbsp;<span class="op" id="1815629">*</span><span class="ident" id="1815630">Int</span><span class="op" id="1815633">,</span>&nbsp;<span class="ident" id="1815635">n</span>&nbsp;<span class="builtintype" id="1815637">uint</span><span class="op" id="1815641">)</span>&nbsp;<span class="op" id="1815643">*</span><span class="ident" id="1815644">Int</span>&nbsp;<span class="op" id="1815648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815651">z</span><span class="op" id="1815652">.</span><span class="ident" id="1815653">abs</span>&nbsp;<span class="op" id="1815657">=</span>&nbsp;<span class="ident" id="1815659">z</span><span class="op" id="1815660">.</span><span class="ident" id="1815661">abs</span><span class="op" id="1815664">.</span><span class="ident" id="1815665">shl</span><span class="op" id="1815668">(</span><span class="ident" id="1815669">x</span><span class="op" id="1815670">.</span><span class="ident" id="1815671">abs</span><span class="op" id="1815674">,</span>&nbsp;<span class="ident" id="1815676">n</span><span class="op" id="1815677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815680">z</span><span class="op" id="1815681">.</span><span class="ident" id="1815682">neg</span>&nbsp;<span class="op" id="1815686">=</span>&nbsp;<span class="ident" id="1815688">x</span><span class="op" id="1815689">.</span><span class="ident" id="1815690">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1815695">return</span>&nbsp;<span class="ident" id="1815702">z</span><br>
<span class="lineno"></span><span class="op" id="1815704">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="1815707">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1815745">func</span>&nbsp;<span class="op" id="1815750">(</span><span class="ident" id="1815751">z</span>&nbsp;<span class="op" id="1815753">*</span><span class="ident" id="1815754">Int</span><span class="op" id="1815757">)</span>&nbsp;<span class="ident" id="1815759">Rsh</span><span class="op" id="1815762">(</span><span class="ident" id="1815763">x</span>&nbsp;<span class="op" id="1815765">*</span><span class="ident" id="1815766">Int</span><span class="op" id="1815769">,</span>&nbsp;<span class="ident" id="1815771">n</span>&nbsp;<span class="builtintype" id="1815773">uint</span><span class="op" id="1815777">)</span>&nbsp;<span class="op" id="1815779">*</span><span class="ident" id="1815780">Int</span>&nbsp;<span class="op" id="1815784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1815787">if</span>&nbsp;<span class="ident" id="1815790">x</span><span class="op" id="1815791">.</span><span class="ident" id="1815792">neg</span>&nbsp;<span class="op" id="1815796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1815800">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815870">t</span>&nbsp;<span class="op" id="1815872">:=</span>&nbsp;<span class="ident" id="1815875">z</span><span class="op" id="1815876">.</span><span class="ident" id="1815877">abs</span><span class="op" id="1815880">.</span><span class="ident" id="1815881">sub</span><span class="op" id="1815884">(</span><span class="ident" id="1815885">x</span><span class="op" id="1815886">.</span><span class="ident" id="1815887">abs</span><span class="op" id="1815890">,</span>&nbsp;<span class="ident" id="1815892">natOne</span><span class="op" id="1815898">)</span>&nbsp;<span class="comment" id="1815900">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815934">t</span>&nbsp;<span class="op" id="1815936">=</span>&nbsp;<span class="ident" id="1815938">t</span><span class="op" id="1815939">.</span><span class="ident" id="1815940">shr</span><span class="op" id="1815943">(</span><span class="ident" id="1815944">t</span><span class="op" id="1815945">,</span>&nbsp;<span class="ident" id="1815947">n</span><span class="op" id="1815948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815952">z</span><span class="op" id="1815953">.</span><span class="ident" id="1815954">abs</span>&nbsp;<span class="op" id="1815958">=</span>&nbsp;<span class="ident" id="1815960">t</span><span class="op" id="1815961">.</span><span class="ident" id="1815962">add</span><span class="op" id="1815965">(</span><span class="ident" id="1815966">t</span><span class="op" id="1815967">,</span>&nbsp;<span class="ident" id="1815969">natOne</span><span class="op" id="1815975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1815979">z</span><span class="op" id="1815980">.</span><span class="ident" id="1815981">neg</span>&nbsp;<span class="op" id="1815985">=</span>&nbsp;<span class="ident" id="1815987">true</span>&nbsp;<span class="comment" id="1815992">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816031">return</span>&nbsp;<span class="ident" id="1816038">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1816045">z</span><span class="op" id="1816046">.</span><span class="ident" id="1816047">abs</span>&nbsp;<span class="op" id="1816051">=</span>&nbsp;<span class="ident" id="1816053">z</span><span class="op" id="1816054">.</span><span class="ident" id="1816055">abs</span><span class="op" id="1816058">.</span><span class="ident" id="1816059">shr</span><span class="op" id="1816062">(</span><span class="ident" id="1816063">x</span><span class="op" id="1816064">.</span><span class="ident" id="1816065">abs</span><span class="op" id="1816068">,</span>&nbsp;<span class="ident" id="1816070">n</span><span class="op" id="1816071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1816074">z</span><span class="op" id="1816075">.</span><span class="ident" id="1816076">neg</span>&nbsp;<span class="op" id="1816080">=</span>&nbsp;<span class="ident" id="1816082">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816089">return</span>&nbsp;<span class="ident" id="1816096">z</span><br>
<span class="lineno">790</span><span class="op" id="1816098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1816101">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="1816160">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="1816211">func</span>&nbsp;<span class="op" id="1816216">(</span><span class="ident" id="1816217">x</span>&nbsp;<span class="op" id="1816219">*</span><span class="ident" id="1816220">Int</span><span class="op" id="1816223">)</span>&nbsp;<span class="ident" id="1816225">Bit</span><span class="op" id="1816228">(</span><span class="ident" id="1816229">i</span>&nbsp;<span class="builtintype" id="1816231">int</span><span class="op" id="1816234">)</span>&nbsp;<span class="builtintype" id="1816236">uint</span>&nbsp;<span class="op" id="1816241">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816244">if</span>&nbsp;<span class="ident" id="1816247">i</span>&nbsp;<span class="op" id="1816249">==</span>&nbsp;<span class="num" id="1816252">0</span>&nbsp;<span class="op" id="1816254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1816258">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816312">if</span>&nbsp;<span class="builtinfunc" id="1816315">len</span><span class="op" id="1816318">(</span><span class="ident" id="1816319">x</span><span class="op" id="1816320">.</span><span class="ident" id="1816321">abs</span><span class="op" id="1816324">)</span>&nbsp;<span class="op" id="1816326">&gt;</span>&nbsp;<span class="num" id="1816328">0</span>&nbsp;<span class="op" id="1816330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816335">return</span>&nbsp;<span class="builtintype" id="1816342">uint</span><span class="op" id="1816346">(</span><span class="ident" id="1816347">x</span><span class="op" id="1816348">.</span><span class="ident" id="1816349">abs</span><span class="op" id="1816352">[</span><span class="num" id="1816353">0</span><span class="op" id="1816354">]</span>&nbsp;<span class="op" id="1816356">&amp;</span>&nbsp;<span class="num" id="1816358">1</span><span class="op" id="1816359">)</span>&nbsp;<span class="comment" id="1816361">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816387">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816391">return</span>&nbsp;<span class="num" id="1816398">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816404">if</span>&nbsp;<span class="ident" id="1816407">i</span>&nbsp;<span class="op" id="1816409">&lt;</span>&nbsp;<span class="num" id="1816411">0</span>&nbsp;<span class="op" id="1816413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1816417">panic</span><span class="op" id="1816422">(</span><span class="string" id="1816423">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="1816443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816446">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816449">if</span>&nbsp;<span class="ident" id="1816452">x</span><span class="op" id="1816453">.</span><span class="ident" id="1816454">neg</span>&nbsp;<span class="op" id="1816458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1816462">t</span>&nbsp;<span class="op" id="1816464">:=</span>&nbsp;<span class="ident" id="1816467">nat</span><span class="op" id="1816470">(</span><span class="ident" id="1816471">nil</span><span class="op" id="1816474">)</span><span class="op" id="1816475">.</span><span class="ident" id="1816476">sub</span><span class="op" id="1816479">(</span><span class="ident" id="1816480">x</span><span class="op" id="1816481">.</span><span class="ident" id="1816482">abs</span><span class="op" id="1816485">,</span>&nbsp;<span class="ident" id="1816487">natOne</span><span class="op" id="1816493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816497">return</span>&nbsp;<span class="ident" id="1816504">t</span><span class="op" id="1816505">.</span><span class="ident" id="1816506">bit</span><span class="op" id="1816509">(</span><span class="builtintype" id="1816510">uint</span><span class="op" id="1816514">(</span><span class="ident" id="1816515">i</span><span class="op" id="1816516">)</span><span class="op" id="1816517">)</span>&nbsp;<span class="op" id="1816519">^</span>&nbsp;<span class="num" id="1816521">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816528">return</span>&nbsp;<span class="ident" id="1816535">x</span><span class="op" id="1816536">.</span><span class="ident" id="1816537">abs</span><span class="op" id="1816540">.</span><span class="ident" id="1816541">bit</span><span class="op" id="1816544">(</span><span class="builtintype" id="1816545">uint</span><span class="op" id="1816549">(</span><span class="ident" id="1816550">i</span><span class="op" id="1816551">)</span><span class="op" id="1816552">)</span><br>
<span class="lineno"></span><span class="op" id="1816554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1816557">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="1816617">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="1816669">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="1816733">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="1816755">func</span>&nbsp;<span class="op" id="1816760">(</span><span class="ident" id="1816761">z</span>&nbsp;<span class="op" id="1816763">*</span><span class="ident" id="1816764">Int</span><span class="op" id="1816767">)</span>&nbsp;<span class="ident" id="1816769">SetBit</span><span class="op" id="1816775">(</span><span class="ident" id="1816776">x</span>&nbsp;<span class="op" id="1816778">*</span><span class="ident" id="1816779">Int</span><span class="op" id="1816782">,</span>&nbsp;<span class="ident" id="1816784">i</span>&nbsp;<span class="builtintype" id="1816786">int</span><span class="op" id="1816789">,</span>&nbsp;<span class="ident" id="1816791">b</span>&nbsp;<span class="builtintype" id="1816793">uint</span><span class="op" id="1816797">)</span>&nbsp;<span class="op" id="1816799">*</span><span class="ident" id="1816800">Int</span>&nbsp;<span class="op" id="1816804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816807">if</span>&nbsp;<span class="ident" id="1816810">i</span>&nbsp;<span class="op" id="1816812">&lt;</span>&nbsp;<span class="num" id="1816814">0</span>&nbsp;<span class="op" id="1816816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1816820">panic</span><span class="op" id="1816825">(</span><span class="string" id="1816826">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="1816846">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816852">if</span>&nbsp;<span class="ident" id="1816855">x</span><span class="op" id="1816856">.</span><span class="ident" id="1816857">neg</span>&nbsp;<span class="op" id="1816861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1816865">t</span>&nbsp;<span class="op" id="1816867">:=</span>&nbsp;<span class="ident" id="1816870">z</span><span class="op" id="1816871">.</span><span class="ident" id="1816872">abs</span><span class="op" id="1816875">.</span><span class="ident" id="1816876">sub</span><span class="op" id="1816879">(</span><span class="ident" id="1816880">x</span><span class="op" id="1816881">.</span><span class="ident" id="1816882">abs</span><span class="op" id="1816885">,</span>&nbsp;<span class="ident" id="1816887">natOne</span><span class="op" id="1816893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1816897">t</span>&nbsp;<span class="op" id="1816899">=</span>&nbsp;<span class="ident" id="1816901">t</span><span class="op" id="1816902">.</span><span class="ident" id="1816903">setBit</span><span class="op" id="1816909">(</span><span class="ident" id="1816910">t</span><span class="op" id="1816911">,</span>&nbsp;<span class="builtintype" id="1816913">uint</span><span class="op" id="1816917">(</span><span class="ident" id="1816918">i</span><span class="op" id="1816919">)</span><span class="op" id="1816920">,</span>&nbsp;<span class="ident" id="1816922">b</span><span class="op" id="1816923">^</span><span class="num" id="1816924">1</span><span class="op" id="1816925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1816929">z</span><span class="op" id="1816930">.</span><span class="ident" id="1816931">abs</span>&nbsp;<span class="op" id="1816935">=</span>&nbsp;<span class="ident" id="1816937">t</span><span class="op" id="1816938">.</span><span class="ident" id="1816939">add</span><span class="op" id="1816942">(</span><span class="ident" id="1816943">t</span><span class="op" id="1816944">,</span>&nbsp;<span class="ident" id="1816946">natOne</span><span class="op" id="1816952">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1816956">z</span><span class="op" id="1816957">.</span><span class="ident" id="1816958">neg</span>&nbsp;<span class="op" id="1816962">=</span>&nbsp;<span class="builtinfunc" id="1816964">len</span><span class="op" id="1816967">(</span><span class="ident" id="1816968">z</span><span class="op" id="1816969">.</span><span class="ident" id="1816970">abs</span><span class="op" id="1816973">)</span>&nbsp;<span class="op" id="1816975">&gt;</span>&nbsp;<span class="num" id="1816977">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1816981">return</span>&nbsp;<span class="ident" id="1816988">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1816991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1816994">z</span><span class="op" id="1816995">.</span><span class="ident" id="1816996">abs</span>&nbsp;<span class="op" id="1817000">=</span>&nbsp;<span class="ident" id="1817002">z</span><span class="op" id="1817003">.</span><span class="ident" id="1817004">abs</span><span class="op" id="1817007">.</span><span class="ident" id="1817008">setBit</span><span class="op" id="1817014">(</span><span class="ident" id="1817015">x</span><span class="op" id="1817016">.</span><span class="ident" id="1817017">abs</span><span class="op" id="1817020">,</span>&nbsp;<span class="builtintype" id="1817022">uint</span><span class="op" id="1817026">(</span><span class="ident" id="1817027">i</span><span class="op" id="1817028">)</span><span class="op" id="1817029">,</span>&nbsp;<span class="ident" id="1817031">b</span><span class="op" id="1817032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817035">z</span><span class="op" id="1817036">.</span><span class="ident" id="1817037">neg</span>&nbsp;<span class="op" id="1817041">=</span>&nbsp;<span class="ident" id="1817043">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817050">return</span>&nbsp;<span class="ident" id="1817057">z</span><br>
<span class="lineno"></span><span class="op" id="1817059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1817062">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1817099">func</span>&nbsp;<span class="op" id="1817104">(</span><span class="ident" id="1817105">z</span>&nbsp;<span class="op" id="1817107">*</span><span class="ident" id="1817108">Int</span><span class="op" id="1817111">)</span>&nbsp;<span class="ident" id="1817113">And</span><span class="op" id="1817116">(</span><span class="ident" id="1817117">x</span><span class="op" id="1817118">,</span>&nbsp;<span class="ident" id="1817120">y</span>&nbsp;<span class="op" id="1817122">*</span><span class="ident" id="1817123">Int</span><span class="op" id="1817126">)</span>&nbsp;<span class="op" id="1817128">*</span><span class="ident" id="1817129">Int</span>&nbsp;<span class="op" id="1817133">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817136">if</span>&nbsp;<span class="ident" id="1817139">x</span><span class="op" id="1817140">.</span><span class="ident" id="1817141">neg</span>&nbsp;<span class="op" id="1817145">==</span>&nbsp;<span class="ident" id="1817148">y</span><span class="op" id="1817149">.</span><span class="ident" id="1817150">neg</span>&nbsp;<span class="op" id="1817154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817158">if</span>&nbsp;<span class="ident" id="1817161">x</span><span class="op" id="1817162">.</span><span class="ident" id="1817163">neg</span>&nbsp;<span class="op" id="1817167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1817172">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817255">x1</span>&nbsp;<span class="op" id="1817258">:=</span>&nbsp;<span class="ident" id="1817261">nat</span><span class="op" id="1817264">(</span><span class="ident" id="1817265">nil</span><span class="op" id="1817268">)</span><span class="op" id="1817269">.</span><span class="ident" id="1817270">sub</span><span class="op" id="1817273">(</span><span class="ident" id="1817274">x</span><span class="op" id="1817275">.</span><span class="ident" id="1817276">abs</span><span class="op" id="1817279">,</span>&nbsp;<span class="ident" id="1817281">natOne</span><span class="op" id="1817287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817292">y1</span>&nbsp;<span class="op" id="1817295">:=</span>&nbsp;<span class="ident" id="1817298">nat</span><span class="op" id="1817301">(</span><span class="ident" id="1817302">nil</span><span class="op" id="1817305">)</span><span class="op" id="1817306">.</span><span class="ident" id="1817307">sub</span><span class="op" id="1817310">(</span><span class="ident" id="1817311">y</span><span class="op" id="1817312">.</span><span class="ident" id="1817313">abs</span><span class="op" id="1817316">,</span>&nbsp;<span class="ident" id="1817318">natOne</span><span class="op" id="1817324">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817329">z</span><span class="op" id="1817330">.</span><span class="ident" id="1817331">abs</span>&nbsp;<span class="op" id="1817335">=</span>&nbsp;<span class="ident" id="1817337">z</span><span class="op" id="1817338">.</span><span class="ident" id="1817339">abs</span><span class="op" id="1817342">.</span><span class="ident" id="1817343">add</span><span class="op" id="1817346">(</span><span class="ident" id="1817347">z</span><span class="op" id="1817348">.</span><span class="ident" id="1817349">abs</span><span class="op" id="1817352">.</span><span class="ident" id="1817353">or</span><span class="op" id="1817355">(</span><span class="ident" id="1817356">x1</span><span class="op" id="1817358">,</span>&nbsp;<span class="ident" id="1817360">y1</span><span class="op" id="1817362">)</span><span class="op" id="1817363">,</span>&nbsp;<span class="ident" id="1817365">natOne</span><span class="op" id="1817371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817376">z</span><span class="op" id="1817377">.</span><span class="ident" id="1817378">neg</span>&nbsp;<span class="op" id="1817382">=</span>&nbsp;<span class="ident" id="1817384">true</span>&nbsp;<span class="comment" id="1817389">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817436">return</span>&nbsp;<span class="ident" id="1817443">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1817447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1817452">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817472">z</span><span class="op" id="1817473">.</span><span class="ident" id="1817474">abs</span>&nbsp;<span class="op" id="1817478">=</span>&nbsp;<span class="ident" id="1817480">z</span><span class="op" id="1817481">.</span><span class="ident" id="1817482">abs</span><span class="op" id="1817485">.</span><span class="ident" id="1817486">and</span><span class="op" id="1817489">(</span><span class="ident" id="1817490">x</span><span class="op" id="1817491">.</span><span class="ident" id="1817492">abs</span><span class="op" id="1817495">,</span>&nbsp;<span class="ident" id="1817497">y</span><span class="op" id="1817498">.</span><span class="ident" id="1817499">abs</span><span class="op" id="1817502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817506">z</span><span class="op" id="1817507">.</span><span class="ident" id="1817508">neg</span>&nbsp;<span class="op" id="1817512">=</span>&nbsp;<span class="ident" id="1817514">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817522">return</span>&nbsp;<span class="ident" id="1817529">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1817532">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1817536">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817555">if</span>&nbsp;<span class="ident" id="1817558">x</span><span class="op" id="1817559">.</span><span class="ident" id="1817560">neg</span>&nbsp;<span class="op" id="1817564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817568">x</span><span class="op" id="1817569">,</span>&nbsp;<span class="ident" id="1817571">y</span>&nbsp;<span class="op" id="1817573">=</span>&nbsp;<span class="ident" id="1817575">y</span><span class="op" id="1817576">,</span>&nbsp;<span class="ident" id="1817578">x</span>&nbsp;<span class="comment" id="1817580">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1817599">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1817603">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817644">y1</span>&nbsp;<span class="op" id="1817647">:=</span>&nbsp;<span class="ident" id="1817650">nat</span><span class="op" id="1817653">(</span><span class="ident" id="1817654">nil</span><span class="op" id="1817657">)</span><span class="op" id="1817658">.</span><span class="ident" id="1817659">sub</span><span class="op" id="1817662">(</span><span class="ident" id="1817663">y</span><span class="op" id="1817664">.</span><span class="ident" id="1817665">abs</span><span class="op" id="1817668">,</span>&nbsp;<span class="ident" id="1817670">natOne</span><span class="op" id="1817676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817679">z</span><span class="op" id="1817680">.</span><span class="ident" id="1817681">abs</span>&nbsp;<span class="op" id="1817685">=</span>&nbsp;<span class="ident" id="1817687">z</span><span class="op" id="1817688">.</span><span class="ident" id="1817689">abs</span><span class="op" id="1817692">.</span><span class="ident" id="1817693">andNot</span><span class="op" id="1817699">(</span><span class="ident" id="1817700">x</span><span class="op" id="1817701">.</span><span class="ident" id="1817702">abs</span><span class="op" id="1817705">,</span>&nbsp;<span class="ident" id="1817707">y1</span><span class="op" id="1817709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817712">z</span><span class="op" id="1817713">.</span><span class="ident" id="1817714">neg</span>&nbsp;<span class="op" id="1817718">=</span>&nbsp;<span class="ident" id="1817720">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817727">return</span>&nbsp;<span class="ident" id="1817734">z</span><br>
<span class="lineno"></span><span class="op" id="1817736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1817739">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1817780">func</span>&nbsp;<span class="op" id="1817785">(</span><span class="ident" id="1817786">z</span>&nbsp;<span class="op" id="1817788">*</span><span class="ident" id="1817789">Int</span><span class="op" id="1817792">)</span>&nbsp;<span class="ident" id="1817794">AndNot</span><span class="op" id="1817800">(</span><span class="ident" id="1817801">x</span><span class="op" id="1817802">,</span>&nbsp;<span class="ident" id="1817804">y</span>&nbsp;<span class="op" id="1817806">*</span><span class="ident" id="1817807">Int</span><span class="op" id="1817810">)</span>&nbsp;<span class="op" id="1817812">*</span><span class="ident" id="1817813">Int</span>&nbsp;<span class="op" id="1817817">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817820">if</span>&nbsp;<span class="ident" id="1817823">x</span><span class="op" id="1817824">.</span><span class="ident" id="1817825">neg</span>&nbsp;<span class="op" id="1817829">==</span>&nbsp;<span class="ident" id="1817832">y</span><span class="op" id="1817833">.</span><span class="ident" id="1817834">neg</span>&nbsp;<span class="op" id="1817838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1817842">if</span>&nbsp;<span class="ident" id="1817845">x</span><span class="op" id="1817846">.</span><span class="ident" id="1817847">neg</span>&nbsp;<span class="op" id="1817851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1817856">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817931">x1</span>&nbsp;<span class="op" id="1817934">:=</span>&nbsp;<span class="ident" id="1817937">nat</span><span class="op" id="1817940">(</span><span class="ident" id="1817941">nil</span><span class="op" id="1817944">)</span><span class="op" id="1817945">.</span><span class="ident" id="1817946">sub</span><span class="op" id="1817949">(</span><span class="ident" id="1817950">x</span><span class="op" id="1817951">.</span><span class="ident" id="1817952">abs</span><span class="op" id="1817955">,</span>&nbsp;<span class="ident" id="1817957">natOne</span><span class="op" id="1817963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1817968">y1</span>&nbsp;<span class="op" id="1817971">:=</span>&nbsp;<span class="ident" id="1817974">nat</span><span class="op" id="1817977">(</span><span class="ident" id="1817978">nil</span><span class="op" id="1817981">)</span><span class="op" id="1817982">.</span><span class="ident" id="1817983">sub</span><span class="op" id="1817986">(</span><span class="ident" id="1817987">y</span><span class="op" id="1817988">.</span><span class="ident" id="1817989">abs</span><span class="op" id="1817992">,</span>&nbsp;<span class="ident" id="1817994">natOne</span><span class="op" id="1818000">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818005">z</span><span class="op" id="1818006">.</span><span class="ident" id="1818007">abs</span>&nbsp;<span class="op" id="1818011">=</span>&nbsp;<span class="ident" id="1818013">z</span><span class="op" id="1818014">.</span><span class="ident" id="1818015">abs</span><span class="op" id="1818018">.</span><span class="ident" id="1818019">andNot</span><span class="op" id="1818025">(</span><span class="ident" id="1818026">y1</span><span class="op" id="1818028">,</span>&nbsp;<span class="ident" id="1818030">x1</span><span class="op" id="1818032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818037">z</span><span class="op" id="1818038">.</span><span class="ident" id="1818039">neg</span>&nbsp;<span class="op" id="1818043">=</span>&nbsp;<span class="ident" id="1818045">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1818054">return</span>&nbsp;<span class="ident" id="1818061">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1818065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1818070">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818092">z</span><span class="op" id="1818093">.</span><span class="ident" id="1818094">abs</span>&nbsp;<span class="op" id="1818098">=</span>&nbsp;<span class="ident" id="1818100">z</span><span class="op" id="1818101">.</span><span class="ident" id="1818102">abs</span><span class="op" id="1818105">.</span><span class="ident" id="1818106">andNot</span><span class="op" id="1818112">(</span><span class="ident" id="1818113">x</span><span class="op" id="1818114">.</span><span class="ident" id="1818115">abs</span><span class="op" id="1818118">,</span>&nbsp;<span class="ident" id="1818120">y</span><span class="op" id="1818121">.</span><span class="ident" id="1818122">abs</span><span class="op" id="1818125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818129">z</span><span class="op" id="1818130">.</span><span class="ident" id="1818131">neg</span>&nbsp;<span class="op" id="1818135">=</span>&nbsp;<span class="ident" id="1818137">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1818145">return</span>&nbsp;<span class="ident" id="1818152">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1818155">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1818159">if</span>&nbsp;<span class="ident" id="1818162">x</span><span class="op" id="1818163">.</span><span class="ident" id="1818164">neg</span>&nbsp;<span class="op" id="1818168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1818172">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818255">x1</span>&nbsp;<span class="op" id="1818258">:=</span>&nbsp;<span class="ident" id="1818261">nat</span><span class="op" id="1818264">(</span><span class="ident" id="1818265">nil</span><span class="op" id="1818268">)</span><span class="op" id="1818269">.</span><span class="ident" id="1818270">sub</span><span class="op" id="1818273">(</span><span class="ident" id="1818274">x</span><span class="op" id="1818275">.</span><span class="ident" id="1818276">abs</span><span class="op" id="1818279">,</span>&nbsp;<span class="ident" id="1818281">natOne</span><span class="op" id="1818287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818291">z</span><span class="op" id="1818292">.</span><span class="ident" id="1818293">abs</span>&nbsp;<span class="op" id="1818297">=</span>&nbsp;<span class="ident" id="1818299">z</span><span class="op" id="1818300">.</span><span class="ident" id="1818301">abs</span><span class="op" id="1818304">.</span><span class="ident" id="1818305">add</span><span class="op" id="1818308">(</span><span class="ident" id="1818309">z</span><span class="op" id="1818310">.</span><span class="ident" id="1818311">abs</span><span class="op" id="1818314">.</span><span class="ident" id="1818315">or</span><span class="op" id="1818317">(</span><span class="ident" id="1818318">x1</span><span class="op" id="1818320">,</span>&nbsp;<span class="ident" id="1818322">y</span><span class="op" id="1818323">.</span><span class="ident" id="1818324">abs</span><span class="op" id="1818327">)</span><span class="op" id="1818328">,</span>&nbsp;<span class="ident" id="1818330">natOne</span><span class="op" id="1818336">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818340">z</span><span class="op" id="1818341">.</span><span class="ident" id="1818342">neg</span>&nbsp;<span class="op" id="1818346">=</span>&nbsp;<span class="ident" id="1818348">true</span>&nbsp;<span class="comment" id="1818353">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1818410">return</span>&nbsp;<span class="ident" id="1818417">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1818420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1818424">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818466">y1</span>&nbsp;<span class="op" id="1818469">:=</span>&nbsp;<span class="ident" id="1818472">nat</span><span class="op" id="1818475">(</span><span class="ident" id="1818476">nil</span><span class="op" id="1818479">)</span><span class="op" id="1818480">.</span><span class="ident" id="1818481">add</span><span class="op" id="1818484">(</span><span class="ident" id="1818485">y</span><span class="op" id="1818486">.</span><span class="ident" id="1818487">abs</span><span class="op" id="1818490">,</span>&nbsp;<span class="ident" id="1818492">natOne</span><span class="op" id="1818498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818501">z</span><span class="op" id="1818502">.</span><span class="ident" id="1818503">abs</span>&nbsp;<span class="op" id="1818507">=</span>&nbsp;<span class="ident" id="1818509">z</span><span class="op" id="1818510">.</span><span class="ident" id="1818511">abs</span><span class="op" id="1818514">.</span><span class="ident" id="1818515">and</span><span class="op" id="1818518">(</span><span class="ident" id="1818519">x</span><span class="op" id="1818520">.</span><span class="ident" id="1818521">abs</span><span class="op" id="1818524">,</span>&nbsp;<span class="ident" id="1818526">y1</span><span class="op" id="1818528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818531">z</span><span class="op" id="1818532">.</span><span class="ident" id="1818533">neg</span>&nbsp;<span class="op" id="1818537">=</span>&nbsp;<span class="ident" id="1818539">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1818546">return</span>&nbsp;<span class="ident" id="1818553">z</span><br>
<span class="lineno"></span><span class="op" id="1818555">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="1818558">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1818594">func</span>&nbsp;<span class="op" id="1818599">(</span><span class="ident" id="1818600">z</span>&nbsp;<span class="op" id="1818602">*</span><span class="ident" id="1818603">Int</span><span class="op" id="1818606">)</span>&nbsp;<span class="ident" id="1818608">Or</span><span class="op" id="1818610">(</span><span class="ident" id="1818611">x</span><span class="op" id="1818612">,</span>&nbsp;<span class="ident" id="1818614">y</span>&nbsp;<span class="op" id="1818616">*</span><span class="ident" id="1818617">Int</span><span class="op" id="1818620">)</span>&nbsp;<span class="op" id="1818622">*</span><span class="ident" id="1818623">Int</span>&nbsp;<span class="op" id="1818627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1818630">if</span>&nbsp;<span class="ident" id="1818633">x</span><span class="op" id="1818634">.</span><span class="ident" id="1818635">neg</span>&nbsp;<span class="op" id="1818639">==</span>&nbsp;<span class="ident" id="1818642">y</span><span class="op" id="1818643">.</span><span class="ident" id="1818644">neg</span>&nbsp;<span class="op" id="1818648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1818652">if</span>&nbsp;<span class="ident" id="1818655">x</span><span class="op" id="1818656">.</span><span class="ident" id="1818657">neg</span>&nbsp;<span class="op" id="1818661">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1818666">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818749">x1</span>&nbsp;<span class="op" id="1818752">:=</span>&nbsp;<span class="ident" id="1818755">nat</span><span class="op" id="1818758">(</span><span class="ident" id="1818759">nil</span><span class="op" id="1818762">)</span><span class="op" id="1818763">.</span><span class="ident" id="1818764">sub</span><span class="op" id="1818767">(</span><span class="ident" id="1818768">x</span><span class="op" id="1818769">.</span><span class="ident" id="1818770">abs</span><span class="op" id="1818773">,</span>&nbsp;<span class="ident" id="1818775">natOne</span><span class="op" id="1818781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818786">y1</span>&nbsp;<span class="op" id="1818789">:=</span>&nbsp;<span class="ident" id="1818792">nat</span><span class="op" id="1818795">(</span><span class="ident" id="1818796">nil</span><span class="op" id="1818799">)</span><span class="op" id="1818800">.</span><span class="ident" id="1818801">sub</span><span class="op" id="1818804">(</span><span class="ident" id="1818805">y</span><span class="op" id="1818806">.</span><span class="ident" id="1818807">abs</span><span class="op" id="1818810">,</span>&nbsp;<span class="ident" id="1818812">natOne</span><span class="op" id="1818818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818823">z</span><span class="op" id="1818824">.</span><span class="ident" id="1818825">abs</span>&nbsp;<span class="op" id="1818829">=</span>&nbsp;<span class="ident" id="1818831">z</span><span class="op" id="1818832">.</span><span class="ident" id="1818833">abs</span><span class="op" id="1818836">.</span><span class="ident" id="1818837">add</span><span class="op" id="1818840">(</span><span class="ident" id="1818841">z</span><span class="op" id="1818842">.</span><span class="ident" id="1818843">abs</span><span class="op" id="1818846">.</span><span class="ident" id="1818847">and</span><span class="op" id="1818850">(</span><span class="ident" id="1818851">x1</span><span class="op" id="1818853">,</span>&nbsp;<span class="ident" id="1818855">y1</span><span class="op" id="1818857">)</span><span class="op" id="1818858">,</span>&nbsp;<span class="ident" id="1818860">natOne</span><span class="op" id="1818866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818871">z</span><span class="op" id="1818872">.</span><span class="ident" id="1818873">neg</span>&nbsp;<span class="op" id="1818877">=</span>&nbsp;<span class="ident" id="1818879">true</span>&nbsp;<span class="comment" id="1818884">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1818931">return</span>&nbsp;<span class="ident" id="1818938">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1818942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1818947">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1818967">z</span><span class="op" id="1818968">.</span><span class="ident" id="1818969">abs</span>&nbsp;<span class="op" id="1818973">=</span>&nbsp;<span class="ident" id="1818975">z</span><span class="op" id="1818976">.</span><span class="ident" id="1818977">abs</span><span class="op" id="1818980">.</span><span class="ident" id="1818981">or</span><span class="op" id="1818983">(</span><span class="ident" id="1818984">x</span><span class="op" id="1818985">.</span><span class="ident" id="1818986">abs</span><span class="op" id="1818989">,</span>&nbsp;<span class="ident" id="1818991">y</span><span class="op" id="1818992">.</span><span class="ident" id="1818993">abs</span><span class="op" id="1818996">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819000">z</span><span class="op" id="1819001">.</span><span class="ident" id="1819002">neg</span>&nbsp;<span class="op" id="1819006">=</span>&nbsp;<span class="ident" id="1819008">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1819016">return</span>&nbsp;<span class="ident" id="1819023">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1819026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1819030">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1819049">if</span>&nbsp;<span class="ident" id="1819052">x</span><span class="op" id="1819053">.</span><span class="ident" id="1819054">neg</span>&nbsp;<span class="op" id="1819058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819062">x</span><span class="op" id="1819063">,</span>&nbsp;<span class="ident" id="1819065">y</span>&nbsp;<span class="op" id="1819067">=</span>&nbsp;<span class="ident" id="1819069">y</span><span class="op" id="1819070">,</span>&nbsp;<span class="ident" id="1819072">x</span>&nbsp;<span class="comment" id="1819074">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1819093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1819097">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819165">y1</span>&nbsp;<span class="op" id="1819168">:=</span>&nbsp;<span class="ident" id="1819171">nat</span><span class="op" id="1819174">(</span><span class="ident" id="1819175">nil</span><span class="op" id="1819178">)</span><span class="op" id="1819179">.</span><span class="ident" id="1819180">sub</span><span class="op" id="1819183">(</span><span class="ident" id="1819184">y</span><span class="op" id="1819185">.</span><span class="ident" id="1819186">abs</span><span class="op" id="1819189">,</span>&nbsp;<span class="ident" id="1819191">natOne</span><span class="op" id="1819197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819200">z</span><span class="op" id="1819201">.</span><span class="ident" id="1819202">abs</span>&nbsp;<span class="op" id="1819206">=</span>&nbsp;<span class="ident" id="1819208">z</span><span class="op" id="1819209">.</span><span class="ident" id="1819210">abs</span><span class="op" id="1819213">.</span><span class="ident" id="1819214">add</span><span class="op" id="1819217">(</span><span class="ident" id="1819218">z</span><span class="op" id="1819219">.</span><span class="ident" id="1819220">abs</span><span class="op" id="1819223">.</span><span class="ident" id="1819224">andNot</span><span class="op" id="1819230">(</span><span class="ident" id="1819231">y1</span><span class="op" id="1819233">,</span>&nbsp;<span class="ident" id="1819235">x</span><span class="op" id="1819236">.</span><span class="ident" id="1819237">abs</span><span class="op" id="1819240">)</span><span class="op" id="1819241">,</span>&nbsp;<span class="ident" id="1819243">natOne</span><span class="op" id="1819249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819252">z</span><span class="op" id="1819253">.</span><span class="ident" id="1819254">neg</span>&nbsp;<span class="op" id="1819258">=</span>&nbsp;<span class="ident" id="1819260">true</span>&nbsp;<span class="comment" id="1819265">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1819315">return</span>&nbsp;<span class="ident" id="1819322">z</span><br>
<span class="lineno"></span><span class="op" id="1819324">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="1819327">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1819364">func</span>&nbsp;<span class="op" id="1819369">(</span><span class="ident" id="1819370">z</span>&nbsp;<span class="op" id="1819372">*</span><span class="ident" id="1819373">Int</span><span class="op" id="1819376">)</span>&nbsp;<span class="ident" id="1819378">Xor</span><span class="op" id="1819381">(</span><span class="ident" id="1819382">x</span><span class="op" id="1819383">,</span>&nbsp;<span class="ident" id="1819385">y</span>&nbsp;<span class="op" id="1819387">*</span><span class="ident" id="1819388">Int</span><span class="op" id="1819391">)</span>&nbsp;<span class="op" id="1819393">*</span><span class="ident" id="1819394">Int</span>&nbsp;<span class="op" id="1819398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1819401">if</span>&nbsp;<span class="ident" id="1819404">x</span><span class="op" id="1819405">.</span><span class="ident" id="1819406">neg</span>&nbsp;<span class="op" id="1819410">==</span>&nbsp;<span class="ident" id="1819413">y</span><span class="op" id="1819414">.</span><span class="ident" id="1819415">neg</span>&nbsp;<span class="op" id="1819419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1819423">if</span>&nbsp;<span class="ident" id="1819426">x</span><span class="op" id="1819427">.</span><span class="ident" id="1819428">neg</span>&nbsp;<span class="op" id="1819432">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1819437">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819491">x1</span>&nbsp;<span class="op" id="1819494">:=</span>&nbsp;<span class="ident" id="1819497">nat</span><span class="op" id="1819500">(</span><span class="ident" id="1819501">nil</span><span class="op" id="1819504">)</span><span class="op" id="1819505">.</span><span class="ident" id="1819506">sub</span><span class="op" id="1819509">(</span><span class="ident" id="1819510">x</span><span class="op" id="1819511">.</span><span class="ident" id="1819512">abs</span><span class="op" id="1819515">,</span>&nbsp;<span class="ident" id="1819517">natOne</span><span class="op" id="1819523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819528">y1</span>&nbsp;<span class="op" id="1819531">:=</span>&nbsp;<span class="ident" id="1819534">nat</span><span class="op" id="1819537">(</span><span class="ident" id="1819538">nil</span><span class="op" id="1819541">)</span><span class="op" id="1819542">.</span><span class="ident" id="1819543">sub</span><span class="op" id="1819546">(</span><span class="ident" id="1819547">y</span><span class="op" id="1819548">.</span><span class="ident" id="1819549">abs</span><span class="op" id="1819552">,</span>&nbsp;<span class="ident" id="1819554">natOne</span><span class="op" id="1819560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819565">z</span><span class="op" id="1819566">.</span><span class="ident" id="1819567">abs</span>&nbsp;<span class="op" id="1819571">=</span>&nbsp;<span class="ident" id="1819573">z</span><span class="op" id="1819574">.</span><span class="ident" id="1819575">abs</span><span class="op" id="1819578">.</span><span class="ident" id="1819579">xor</span><span class="op" id="1819582">(</span><span class="ident" id="1819583">x1</span><span class="op" id="1819585">,</span>&nbsp;<span class="ident" id="1819587">y1</span><span class="op" id="1819589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819594">z</span><span class="op" id="1819595">.</span><span class="ident" id="1819596">neg</span>&nbsp;<span class="op" id="1819600">=</span>&nbsp;<span class="ident" id="1819602">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1819611">return</span>&nbsp;<span class="ident" id="1819618">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1819622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1819627">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819647">z</span><span class="op" id="1819648">.</span><span class="ident" id="1819649">abs</span>&nbsp;<span class="op" id="1819653">=</span>&nbsp;<span class="ident" id="1819655">z</span><span class="op" id="1819656">.</span><span class="ident" id="1819657">abs</span><span class="op" id="1819660">.</span><span class="ident" id="1819661">xor</span><span class="op" id="1819664">(</span><span class="ident" id="1819665">x</span><span class="op" id="1819666">.</span><span class="ident" id="1819667">abs</span><span class="op" id="1819670">,</span>&nbsp;<span class="ident" id="1819672">y</span><span class="op" id="1819673">.</span><span class="ident" id="1819674">abs</span><span class="op" id="1819677">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819681">z</span><span class="op" id="1819682">.</span><span class="ident" id="1819683">neg</span>&nbsp;<span class="op" id="1819687">=</span>&nbsp;<span class="ident" id="1819689">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1819697">return</span>&nbsp;<span class="ident" id="1819704">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1819707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1819711">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1819730">if</span>&nbsp;<span class="ident" id="1819733">x</span><span class="op" id="1819734">.</span><span class="ident" id="1819735">neg</span>&nbsp;<span class="op" id="1819739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819743">x</span><span class="op" id="1819744">,</span>&nbsp;<span class="ident" id="1819746">y</span>&nbsp;<span class="op" id="1819748">=</span>&nbsp;<span class="ident" id="1819750">y</span><span class="op" id="1819751">,</span>&nbsp;<span class="ident" id="1819753">x</span>&nbsp;<span class="comment" id="1819755">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1819774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1819778">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819843">y1</span>&nbsp;<span class="op" id="1819846">:=</span>&nbsp;<span class="ident" id="1819849">nat</span><span class="op" id="1819852">(</span><span class="ident" id="1819853">nil</span><span class="op" id="1819856">)</span><span class="op" id="1819857">.</span><span class="ident" id="1819858">sub</span><span class="op" id="1819861">(</span><span class="ident" id="1819862">y</span><span class="op" id="1819863">.</span><span class="ident" id="1819864">abs</span><span class="op" id="1819867">,</span>&nbsp;<span class="ident" id="1819869">natOne</span><span class="op" id="1819875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819878">z</span><span class="op" id="1819879">.</span><span class="ident" id="1819880">abs</span>&nbsp;<span class="op" id="1819884">=</span>&nbsp;<span class="ident" id="1819886">z</span><span class="op" id="1819887">.</span><span class="ident" id="1819888">abs</span><span class="op" id="1819891">.</span><span class="ident" id="1819892">add</span><span class="op" id="1819895">(</span><span class="ident" id="1819896">z</span><span class="op" id="1819897">.</span><span class="ident" id="1819898">abs</span><span class="op" id="1819901">.</span><span class="ident" id="1819902">xor</span><span class="op" id="1819905">(</span><span class="ident" id="1819906">x</span><span class="op" id="1819907">.</span><span class="ident" id="1819908">abs</span><span class="op" id="1819911">,</span>&nbsp;<span class="ident" id="1819913">y1</span><span class="op" id="1819915">)</span><span class="op" id="1819916">,</span>&nbsp;<span class="ident" id="1819918">natOne</span><span class="op" id="1819924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1819927">z</span><span class="op" id="1819928">.</span><span class="ident" id="1819929">neg</span>&nbsp;<span class="op" id="1819933">=</span>&nbsp;<span class="ident" id="1819935">true</span>&nbsp;<span class="comment" id="1819940">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1819995">return</span>&nbsp;<span class="ident" id="1820002">z</span><br>
<span class="lineno"></span><span class="op" id="1820004">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="1820007">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="1820041">func</span>&nbsp;<span class="op" id="1820046">(</span><span class="ident" id="1820047">z</span>&nbsp;<span class="op" id="1820049">*</span><span class="ident" id="1820050">Int</span><span class="op" id="1820053">)</span>&nbsp;<span class="ident" id="1820055">Not</span><span class="op" id="1820058">(</span><span class="ident" id="1820059">x</span>&nbsp;<span class="op" id="1820061">*</span><span class="ident" id="1820062">Int</span><span class="op" id="1820065">)</span>&nbsp;<span class="op" id="1820067">*</span><span class="ident" id="1820068">Int</span>&nbsp;<span class="op" id="1820072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1820075">if</span>&nbsp;<span class="ident" id="1820078">x</span><span class="op" id="1820079">.</span><span class="ident" id="1820080">neg</span>&nbsp;<span class="op" id="1820084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1820088">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820119">z</span><span class="op" id="1820120">.</span><span class="ident" id="1820121">abs</span>&nbsp;<span class="op" id="1820125">=</span>&nbsp;<span class="ident" id="1820127">z</span><span class="op" id="1820128">.</span><span class="ident" id="1820129">abs</span><span class="op" id="1820132">.</span><span class="ident" id="1820133">sub</span><span class="op" id="1820136">(</span><span class="ident" id="1820137">x</span><span class="op" id="1820138">.</span><span class="ident" id="1820139">abs</span><span class="op" id="1820142">,</span>&nbsp;<span class="ident" id="1820144">natOne</span><span class="op" id="1820150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820154">z</span><span class="op" id="1820155">.</span><span class="ident" id="1820156">neg</span>&nbsp;<span class="op" id="1820160">=</span>&nbsp;<span class="ident" id="1820162">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1820170">return</span>&nbsp;<span class="ident" id="1820177">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1820180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1820184">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820209">z</span><span class="op" id="1820210">.</span><span class="ident" id="1820211">abs</span>&nbsp;<span class="op" id="1820215">=</span>&nbsp;<span class="ident" id="1820217">z</span><span class="op" id="1820218">.</span><span class="ident" id="1820219">abs</span><span class="op" id="1820222">.</span><span class="ident" id="1820223">add</span><span class="op" id="1820226">(</span><span class="ident" id="1820227">x</span><span class="op" id="1820228">.</span><span class="ident" id="1820229">abs</span><span class="op" id="1820232">,</span>&nbsp;<span class="ident" id="1820234">natOne</span><span class="op" id="1820240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820243">z</span><span class="op" id="1820244">.</span><span class="ident" id="1820245">neg</span>&nbsp;<span class="op" id="1820249">=</span>&nbsp;<span class="ident" id="1820251">true</span>&nbsp;<span class="comment" id="1820256">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1820294">return</span>&nbsp;<span class="ident" id="1820301">z</span><br>
<span class="lineno"></span><span class="op" id="1820303">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="1820306">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="1820381">const</span>&nbsp;<span class="ident" id="1820387">intGobVersion</span>&nbsp;<span class="builtintype" id="1820401">byte</span>&nbsp;<span class="op" id="1820406">=</span>&nbsp;<span class="num" id="1820408">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1820411">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="1820465">func</span>&nbsp;<span class="op" id="1820470">(</span><span class="ident" id="1820471">x</span>&nbsp;<span class="op" id="1820473">*</span><span class="ident" id="1820474">Int</span><span class="op" id="1820477">)</span>&nbsp;<span class="ident" id="1820479">GobEncode</span><span class="op" id="1820488">(</span><span class="op" id="1820489">)</span>&nbsp;<span class="op" id="1820491">(</span><span class="op" id="1820492">[</span><span class="op" id="1820493">]</span><span class="builtintype" id="1820494">byte</span><span class="op" id="1820498">,</span>&nbsp;<span class="builtintype" id="1820500">error</span><span class="op" id="1820505">)</span>&nbsp;<span class="op" id="1820507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1820510">if</span>&nbsp;<span class="ident" id="1820513">x</span>&nbsp;<span class="op" id="1820515">==</span>&nbsp;<span class="ident" id="1820518">nil</span>&nbsp;<span class="op" id="1820522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1820526">return</span>&nbsp;<span class="ident" id="1820533">nil</span><span class="op" id="1820536">,</span>&nbsp;<span class="ident" id="1820538">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1820543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820546">buf</span>&nbsp;<span class="op" id="1820550">:=</span>&nbsp;<span class="builtinfunc" id="1820553">make</span><span class="op" id="1820557">(</span><span class="op" id="1820558">[</span><span class="op" id="1820559">]</span><span class="builtintype" id="1820560">byte</span><span class="op" id="1820564">,</span>&nbsp;<span class="num" id="1820566">1</span><span class="op" id="1820567">+</span><span class="builtinfunc" id="1820568">len</span><span class="op" id="1820571">(</span><span class="ident" id="1820572">x</span><span class="op" id="1820573">.</span><span class="ident" id="1820574">abs</span><span class="op" id="1820577">)</span><span class="op" id="1820578">*</span><span class="ident" id="1820579">_S</span><span class="op" id="1820581">)</span>&nbsp;<span class="comment" id="1820583">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820623">i</span>&nbsp;<span class="op" id="1820625">:=</span>&nbsp;<span class="ident" id="1820628">x</span><span class="op" id="1820629">.</span><span class="ident" id="1820630">abs</span><span class="op" id="1820633">.</span><span class="ident" id="1820634">bytes</span><span class="op" id="1820639">(</span><span class="ident" id="1820640">buf</span><span class="op" id="1820643">)</span>&nbsp;<span class="op" id="1820645">-</span>&nbsp;<span class="num" id="1820647">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1820660">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820671">b</span>&nbsp;<span class="op" id="1820673">:=</span>&nbsp;<span class="ident" id="1820676">intGobVersion</span>&nbsp;<span class="op" id="1820690">&lt;&lt;</span>&nbsp;<span class="num" id="1820693">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1820708">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1820736">if</span>&nbsp;<span class="ident" id="1820739">x</span><span class="op" id="1820740">.</span><span class="ident" id="1820741">neg</span>&nbsp;<span class="op" id="1820745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820749">b</span>&nbsp;<span class="op" id="1820751">|=</span>&nbsp;<span class="num" id="1820754">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1820757">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820760">buf</span><span class="op" id="1820763">[</span><span class="ident" id="1820764">i</span><span class="op" id="1820765">]</span>&nbsp;<span class="op" id="1820767">=</span>&nbsp;<span class="ident" id="1820769">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1820772">return</span>&nbsp;<span class="ident" id="1820779">buf</span><span class="op" id="1820782">[</span><span class="ident" id="1820783">i</span><span class="op" id="1820784">:</span><span class="op" id="1820785">]</span><span class="op" id="1820786">,</span>&nbsp;<span class="ident" id="1820788">nil</span><br>
<span class="lineno"></span><span class="op" id="1820792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1820795">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="1820849">func</span>&nbsp;<span class="op" id="1820854">(</span><span class="ident" id="1820855">z</span>&nbsp;<span class="op" id="1820857">*</span><span class="ident" id="1820858">Int</span><span class="op" id="1820861">)</span>&nbsp;<span class="ident" id="1820863">GobDecode</span><span class="op" id="1820872">(</span><span class="ident" id="1820873">buf</span>&nbsp;<span class="op" id="1820877">[</span><span class="op" id="1820878">]</span><span class="builtintype" id="1820879">byte</span><span class="op" id="1820883">)</span>&nbsp;<span class="builtintype" id="1820885">error</span>&nbsp;<span class="op" id="1820891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1820894">if</span>&nbsp;<span class="builtinfunc" id="1820897">len</span><span class="op" id="1820900">(</span><span class="ident" id="1820901">buf</span><span class="op" id="1820904">)</span>&nbsp;<span class="op" id="1820906">==</span>&nbsp;<span class="num" id="1820909">0</span>&nbsp;<span class="op" id="1820911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1820915">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1820960">*</span><span class="ident" id="1820961">z</span>&nbsp;<span class="op" id="1820963">=</span>&nbsp;<span class="ident" id="1820965">Int</span><span class="op" id="1820968">{</span><span class="op" id="1820969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1820973">return</span>&nbsp;<span class="ident" id="1820980">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1820985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1820988">b</span>&nbsp;<span class="op" id="1820990">:=</span>&nbsp;<span class="ident" id="1820993">buf</span><span class="op" id="1820996">[</span><span class="num" id="1820997">0</span><span class="op" id="1820998">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1821001">if</span>&nbsp;<span class="ident" id="1821004">b</span><span class="op" id="1821005">&gt;&gt;</span><span class="num" id="1821007">1</span>&nbsp;<span class="op" id="1821009">!=</span>&nbsp;<span class="ident" id="1821012">intGobVersion</span>&nbsp;<span class="op" id="1821026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1821030">return</span>&nbsp;<span class="ident" id="1821037">errors</span><span class="op" id="1821043">.</span><span class="ident" id="1821044">New</span><span class="op" id="1821047">(</span><span class="ident" id="1821048">fmt</span><span class="op" id="1821051">.</span><span class="ident" id="1821052">Sprintf</span><span class="op" id="1821059">(</span><span class="string" id="1821060">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="1821110">,</span>&nbsp;<span class="ident" id="1821112">b</span><span class="op" id="1821113">&gt;&gt;</span><span class="num" id="1821115">1</span><span class="op" id="1821116">)</span><span class="op" id="1821117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1821120">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1821123">z</span><span class="op" id="1821124">.</span><span class="ident" id="1821125">neg</span>&nbsp;<span class="op" id="1821129">=</span>&nbsp;<span class="ident" id="1821131">b</span><span class="op" id="1821132">&amp;</span><span class="num" id="1821133">1</span>&nbsp;<span class="op" id="1821135">!=</span>&nbsp;<span class="num" id="1821138">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1821141">z</span><span class="op" id="1821142">.</span><span class="ident" id="1821143">abs</span>&nbsp;<span class="op" id="1821147">=</span>&nbsp;<span class="ident" id="1821149">z</span><span class="op" id="1821150">.</span><span class="ident" id="1821151">abs</span><span class="op" id="1821154">.</span><span class="ident" id="1821155">setBytes</span><span class="op" id="1821163">(</span><span class="ident" id="1821164">buf</span><span class="op" id="1821167">[</span><span class="num" id="1821168">1</span><span class="op" id="1821169">:</span><span class="op" id="1821170">]</span><span class="op" id="1821171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1821174">return</span>&nbsp;<span class="ident" id="1821181">nil</span><br>
<span class="lineno"></span><span class="op" id="1821185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="1821188">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1821244">func</span>&nbsp;<span class="op" id="1821249">(</span><span class="ident" id="1821250">z</span>&nbsp;<span class="op" id="1821252">*</span><span class="ident" id="1821253">Int</span><span class="op" id="1821256">)</span>&nbsp;<span class="ident" id="1821258">MarshalJSON</span><span class="op" id="1821269">(</span><span class="op" id="1821270">)</span>&nbsp;<span class="op" id="1821272">(</span><span class="op" id="1821273">[</span><span class="op" id="1821274">]</span><span class="builtintype" id="1821275">byte</span><span class="op" id="1821279">,</span>&nbsp;<span class="builtintype" id="1821281">error</span><span class="op" id="1821286">)</span>&nbsp;<span class="op" id="1821288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1821291">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1821347">return</span>&nbsp;<span class="op" id="1821354">[</span><span class="op" id="1821355">]</span><span class="builtintype" id="1821356">byte</span><span class="op" id="1821360">(</span><span class="ident" id="1821361">z</span><span class="op" id="1821362">.</span><span class="ident" id="1821363">String</span><span class="op" id="1821369">(</span><span class="op" id="1821370">)</span><span class="op" id="1821371">)</span><span class="op" id="1821372">,</span>&nbsp;<span class="ident" id="1821374">nil</span><br>
<span class="lineno"></span><span class="op" id="1821378">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="1821381">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1821441">func</span>&nbsp;<span class="op" id="1821446">(</span><span class="ident" id="1821447">z</span>&nbsp;<span class="op" id="1821449">*</span><span class="ident" id="1821450">Int</span><span class="op" id="1821453">)</span>&nbsp;<span class="ident" id="1821455">UnmarshalJSON</span><span class="op" id="1821468">(</span><span class="ident" id="1821469">text</span>&nbsp;<span class="op" id="1821474">[</span><span class="op" id="1821475">]</span><span class="builtintype" id="1821476">byte</span><span class="op" id="1821480">)</span>&nbsp;<span class="builtintype" id="1821482">error</span>&nbsp;<span class="op" id="1821488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1821491">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1821547">if</span>&nbsp;<span class="ident" id="1821550">_</span><span class="op" id="1821551">,</span>&nbsp;<span class="ident" id="1821553">ok</span>&nbsp;<span class="op" id="1821556">:=</span>&nbsp;<span class="ident" id="1821559">z</span><span class="op" id="1821560">.</span><span class="ident" id="1821561">SetString</span><span class="op" id="1821570">(</span><span class="builtintype" id="1821571">string</span><span class="op" id="1821577">(</span><span class="ident" id="1821578">text</span><span class="op" id="1821582">)</span><span class="op" id="1821583">,</span>&nbsp;<span class="num" id="1821585">0</span><span class="op" id="1821586">)</span><span class="op" id="1821587">;</span>&nbsp;<span class="op" id="1821589">!</span><span class="ident" id="1821590">ok</span>&nbsp;<span class="op" id="1821593">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1821597">return</span>&nbsp;<span class="ident" id="1821604">fmt</span><span class="op" id="1821607">.</span><span class="ident" id="1821608">Errorf</span><span class="op" id="1821614">(</span><span class="string" id="1821615">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="1821662">,</span>&nbsp;<span class="ident" id="1821664">text</span><span class="op" id="1821668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1821671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1821674">return</span>&nbsp;<span class="ident" id="1821681">nil</span><br>
<span class="lineno"></span><span class="op" id="1821685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="1821688">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1821752">func</span>&nbsp;<span class="op" id="1821757">(</span><span class="ident" id="1821758">z</span>&nbsp;<span class="op" id="1821760">*</span><span class="ident" id="1821761">Int</span><span class="op" id="1821764">)</span>&nbsp;<span class="ident" id="1821766">MarshalText</span><span class="op" id="1821777">(</span><span class="op" id="1821778">)</span>&nbsp;<span class="op" id="1821780">(</span><span class="ident" id="1821781">text</span>&nbsp;<span class="op" id="1821786">[</span><span class="op" id="1821787">]</span><span class="builtintype" id="1821788">byte</span><span class="op" id="1821792">,</span>&nbsp;<span class="ident" id="1821794">err</span>&nbsp;<span class="builtintype" id="1821798">error</span><span class="op" id="1821803">)</span>&nbsp;<span class="op" id="1821805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1821808">return</span>&nbsp;<span class="op" id="1821815">[</span><span class="op" id="1821816">]</span><span class="builtintype" id="1821817">byte</span><span class="op" id="1821821">(</span><span class="ident" id="1821822">z</span><span class="op" id="1821823">.</span><span class="ident" id="1821824">String</span><span class="op" id="1821830">(</span><span class="op" id="1821831">)</span><span class="op" id="1821832">)</span><span class="op" id="1821833">,</span>&nbsp;<span class="ident" id="1821835">nil</span><br>
<span class="lineno"></span><span class="op" id="1821839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="1821842">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1821910">func</span>&nbsp;<span class="op" id="1821915">(</span><span class="ident" id="1821916">z</span>&nbsp;<span class="op" id="1821918">*</span><span class="ident" id="1821919">Int</span><span class="op" id="1821922">)</span>&nbsp;<span class="ident" id="1821924">UnmarshalText</span><span class="op" id="1821937">(</span><span class="ident" id="1821938">text</span>&nbsp;<span class="op" id="1821943">[</span><span class="op" id="1821944">]</span><span class="builtintype" id="1821945">byte</span><span class="op" id="1821949">)</span>&nbsp;<span class="builtintype" id="1821951">error</span>&nbsp;<span class="op" id="1821957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1821960">if</span>&nbsp;<span class="ident" id="1821963">_</span><span class="op" id="1821964">,</span>&nbsp;<span class="ident" id="1821966">ok</span>&nbsp;<span class="op" id="1821969">:=</span>&nbsp;<span class="ident" id="1821972">z</span><span class="op" id="1821973">.</span><span class="ident" id="1821974">SetString</span><span class="op" id="1821983">(</span><span class="builtintype" id="1821984">string</span><span class="op" id="1821990">(</span><span class="ident" id="1821991">text</span><span class="op" id="1821995">)</span><span class="op" id="1821996">,</span>&nbsp;<span class="num" id="1821998">0</span><span class="op" id="1821999">)</span><span class="op" id="1822000">;</span>&nbsp;<span class="op" id="1822002">!</span><span class="ident" id="1822003">ok</span>&nbsp;<span class="op" id="1822006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1822010">return</span>&nbsp;<span class="ident" id="1822017">fmt</span><span class="op" id="1822020">.</span><span class="ident" id="1822021">Errorf</span><span class="op" id="1822027">(</span><span class="string" id="1822028">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="1822075">,</span>&nbsp;<span class="ident" id="1822077">text</span><span class="op" id="1822081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1822084">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1822087">return</span>&nbsp;<span class="ident" id="1822094">nil</span><br>
<span class="lineno"></span><span class="op" id="1822098">}</span>
</div>
</body>
</html>
