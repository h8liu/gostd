<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2434361">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2434416">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2434470">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2434521">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;nacl&nbsp;netbsd&nbsp;openbsd&nbsp;solaris&nbsp;windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2434599">package</span>&nbsp;<span class="ident" id="2434607">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2434611">import</span>&nbsp;<span class="op" id="2434618">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2434621">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="2434631">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2434634">//&nbsp;The&nbsp;only&nbsp;signal&nbsp;values&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;present&nbsp;on&nbsp;all&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2434700">//&nbsp;are&nbsp;Interrupt&nbsp;(send&nbsp;the&nbsp;process&nbsp;an&nbsp;interrupt)&nbsp;and&nbsp;Kill&nbsp;(force</span><br>
<span class="lineno">15</span><span class="comment" id="2434765">//&nbsp;the&nbsp;process&nbsp;to&nbsp;exit).</span><br>
<span class="lineno"></span><span class="keyword" id="2434790">var</span>&nbsp;<span class="op" id="2434794">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434797">Interrupt</span>&nbsp;<span class="ident" id="2434807"><a href="/os/exec.go.html#2434071">Signal</a></span>&nbsp;<span class="op" id="2434814">=</span>&nbsp;<span class="ident" id="2434816"><a href="/os/exec_posix.go.html#2434621">syscall</a></span><span class="op" id="2434823">.</span><span class="ident" id="2434824">SIGINT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434832">Kill</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2434842"><a href="/os/exec.go.html#2434071">Signal</a></span>&nbsp;<span class="op" id="2434849">=</span>&nbsp;<span class="ident" id="2434851"><a href="/os/exec_posix.go.html#2434621">syscall</a></span><span class="op" id="2434858">.</span><span class="ident" id="2434859">SIGKILL</span><br>
<span class="lineno"></span><span class="op" id="2434867">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="2434870">func</span>&nbsp;<span class="ident" id="2434875">startProcess</span><span class="op" id="2434887">(</span><span class="ident" id="2434888">name</span>&nbsp;<span class="builtintype" id="2434893">string</span><span class="op" id="2434899">,</span>&nbsp;<span class="ident" id="2434901">argv</span>&nbsp;<span class="op" id="2434906">[</span><span class="op" id="2434907">]</span><span class="builtintype" id="2434908">string</span><span class="op" id="2434914">,</span>&nbsp;<span class="ident" id="2434916">attr</span>&nbsp;<span class="op" id="2434921">*</span><span class="ident" id="2434922"><a href="/os/exec.go.html#2433021">ProcAttr</a></span><span class="op" id="2434930">)</span>&nbsp;<span class="op" id="2434932">(</span><span class="ident" id="2434933">p</span>&nbsp;<span class="op" id="2434935">*</span><span class="ident" id="2434936"><a href="/os/exec.go.html#2432499">Process</a></span><span class="op" id="2434943">,</span>&nbsp;<span class="ident" id="2434945">err</span>&nbsp;<span class="builtintype" id="2434949">error</span><span class="op" id="2434954">)</span>&nbsp;<span class="op" id="2434956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2434959">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;SysProcAttr&nbsp;(ie.&nbsp;no&nbsp;Chroot&nbsp;or&nbsp;changed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2435016">//&nbsp;UID/GID),&nbsp;double-check&nbsp;existence&nbsp;of&nbsp;the&nbsp;directory&nbsp;we&nbsp;want</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2435078">//&nbsp;to&nbsp;chdir&nbsp;into.&nbsp;&nbsp;We&nbsp;can&nbsp;make&nbsp;the&nbsp;error&nbsp;clearer&nbsp;this&nbsp;way.</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435138">if</span>&nbsp;<span class="ident" id="2435141"><a href="/os/exec_posix.go.html#2434916">attr</a></span>&nbsp;<span class="op" id="2435146">!=</span>&nbsp;<span class="ident" id="2435149">nil</span>&nbsp;<span class="op" id="2435153">&amp;&amp;</span>&nbsp;<span class="ident" id="2435156"><a href="/os/exec_posix.go.html#2434916">attr</a></span><span class="op" id="2435160">.</span><span class="ident" id="2435161">Sys</span>&nbsp;<span class="op" id="2435165">==</span>&nbsp;<span class="ident" id="2435168">nil</span>&nbsp;<span class="op" id="2435172">&amp;&amp;</span>&nbsp;<span class="ident" id="2435175"><a href="/os/exec_posix.go.html#2434916">attr</a></span><span class="op" id="2435179">.</span><span class="ident" id="2435180">Dir</span>&nbsp;<span class="op" id="2435184">!=</span>&nbsp;<span class="string" id="2435187">&#34;&#34;</span>&nbsp;<span class="op" id="2435190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435194">if</span>&nbsp;<span class="ident" id="2435197">_</span><span class="op" id="2435198">,</span>&nbsp;<span class="ident" id="2435200">err</span>&nbsp;<span class="op" id="2435204">:=</span>&nbsp;<span class="ident" id="2435207"><a href="/os/file_unix.go.html#2454464">Stat</a></span><span class="op" id="2435211">(</span><span class="ident" id="2435212"><a href="/os/exec_posix.go.html#2434916">attr</a></span><span class="op" id="2435216">.</span><span class="ident" id="2435217">Dir</span><span class="op" id="2435220">)</span><span class="op" id="2435221">;</span>&nbsp;<span class="ident" id="2435223"><a href="/os/exec_posix.go.html#2435200">err</a></span>&nbsp;<span class="op" id="2435227">!=</span>&nbsp;<span class="ident" id="2435230">nil</span>&nbsp;<span class="op" id="2435234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435239">pe</span>&nbsp;<span class="op" id="2435242">:=</span>&nbsp;<span class="ident" id="2435245"><a href="/os/exec_posix.go.html#2435200">err</a></span><span class="op" id="2435248">.</span><span class="op" id="2435249">(</span><span class="op" id="2435250">*</span><span class="ident" id="2435251"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2435260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435265"><a href="/os/exec_posix.go.html#2435239">pe</a></span><span class="op" id="2435267">.</span><span class="ident" id="2435268">Op</span>&nbsp;<span class="op" id="2435271">=</span>&nbsp;<span class="string" id="2435273">&#34;chdir&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435284">return</span>&nbsp;<span class="ident" id="2435291">nil</span><span class="op" id="2435294">,</span>&nbsp;<span class="ident" id="2435296"><a href="/os/exec_posix.go.html#2435239">pe</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435308">sysattr</span>&nbsp;<span class="op" id="2435316">:=</span>&nbsp;<span class="op" id="2435319">&amp;</span><span class="ident" id="2435320"><a href="/os/exec_posix.go.html#2434621">syscall</a></span><span class="op" id="2435327">.</span><span class="ident" id="2435328">ProcAttr</span><span class="op" id="2435336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435340">Dir</span><span class="op" id="2435343">:</span>&nbsp;<span class="ident" id="2435345"><a href="/os/exec_posix.go.html#2434916">attr</a></span><span class="op" id="2435349">.</span><span class="ident" id="2435350">Dir</span><span class="op" id="2435353">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435357">Env</span><span class="op" id="2435360">:</span>&nbsp;<span class="ident" id="2435362"><a href="/os/exec_posix.go.html#2434916">attr</a></span><span class="op" id="2435366">.</span><span class="ident" id="2435367">Env</span><span class="op" id="2435370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435374">Sys</span><span class="op" id="2435377">:</span>&nbsp;<span class="ident" id="2435379"><a href="/os/exec_posix.go.html#2434916">attr</a></span><span class="op" id="2435383">.</span><span class="ident" id="2435384">Sys</span><span class="op" id="2435387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435393">if</span>&nbsp;<span class="ident" id="2435396"><a href="/os/exec_posix.go.html#2435308">sysattr</a></span><span class="op" id="2435403">.</span><span class="ident" id="2435404">Env</span>&nbsp;<span class="op" id="2435408">==</span>&nbsp;<span class="ident" id="2435411">nil</span>&nbsp;<span class="op" id="2435415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435419"><a href="/os/exec_posix.go.html#2435308">sysattr</a></span><span class="op" id="2435426">.</span><span class="ident" id="2435427">Env</span>&nbsp;<span class="op" id="2435431">=</span>&nbsp;<span class="ident" id="2435433"><a href="/os/env.go.html#2429295">Environ</a></span><span class="op" id="2435440">(</span><span class="op" id="2435441">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435447">for</span>&nbsp;<span class="ident" id="2435451">_</span><span class="op" id="2435452">,</span>&nbsp;<span class="ident" id="2435454">f</span>&nbsp;<span class="op" id="2435456">:=</span>&nbsp;<span class="keyword" id="2435459">range</span>&nbsp;<span class="ident" id="2435465"><a href="/os/exec_posix.go.html#2434916">attr</a></span><span class="op" id="2435469">.</span><span class="ident" id="2435470">Files</span>&nbsp;<span class="op" id="2435476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435480"><a href="/os/exec_posix.go.html#2435308">sysattr</a></span><span class="op" id="2435487">.</span><span class="ident" id="2435488">Files</span>&nbsp;<span class="op" id="2435494">=</span>&nbsp;<span class="builtinfunc" id="2435496">append</span><span class="op" id="2435502">(</span><span class="ident" id="2435503"><a href="/os/exec_posix.go.html#2435308">sysattr</a></span><span class="op" id="2435510">.</span><span class="ident" id="2435511">Files</span><span class="op" id="2435516">,</span>&nbsp;<span class="ident" id="2435518"><a href="/os/exec_posix.go.html#2435454">f</a></span><span class="op" id="2435519">.</span><span class="ident" id="2435520">Fd</span><span class="op" id="2435522">(</span><span class="op" id="2435523">)</span><span class="op" id="2435524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435531">pid</span><span class="op" id="2435534">,</span>&nbsp;<span class="ident" id="2435536">h</span><span class="op" id="2435537">,</span>&nbsp;<span class="ident" id="2435539">e</span>&nbsp;<span class="op" id="2435541">:=</span>&nbsp;<span class="ident" id="2435544"><a href="/os/exec_posix.go.html#2434621">syscall</a></span><span class="op" id="2435551">.</span><span class="ident" id="2435552">StartProcess</span><span class="op" id="2435564">(</span><span class="ident" id="2435565"><a href="/os/exec_posix.go.html#2434888">name</a></span><span class="op" id="2435569">,</span>&nbsp;<span class="ident" id="2435571"><a href="/os/exec_posix.go.html#2434901">argv</a></span><span class="op" id="2435575">,</span>&nbsp;<span class="ident" id="2435577"><a href="/os/exec_posix.go.html#2435308">sysattr</a></span><span class="op" id="2435584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435587">if</span>&nbsp;<span class="ident" id="2435590"><a href="/os/exec_posix.go.html#2435539">e</a></span>&nbsp;<span class="op" id="2435592">!=</span>&nbsp;<span class="ident" id="2435595">nil</span>&nbsp;<span class="op" id="2435599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435603">return</span>&nbsp;<span class="ident" id="2435610">nil</span><span class="op" id="2435613">,</span>&nbsp;<span class="op" id="2435615">&amp;</span><span class="ident" id="2435616"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2435625">{</span><span class="string" id="2435626">&#34;fork/exec&#34;</span><span class="op" id="2435637">,</span>&nbsp;<span class="ident" id="2435639"><a href="/os/exec_posix.go.html#2434888">name</a></span><span class="op" id="2435643">,</span>&nbsp;<span class="ident" id="2435645"><a href="/os/exec_posix.go.html#2435539">e</a></span><span class="op" id="2435646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435652">return</span>&nbsp;<span class="ident" id="2435659"><a href="/os/exec.go.html#2432628">newProcess</a></span><span class="op" id="2435669">(</span><span class="ident" id="2435670"><a href="/os/exec_posix.go.html#2435531">pid</a></span><span class="op" id="2435673">,</span>&nbsp;<span class="ident" id="2435675"><a href="/os/exec_posix.go.html#2435536">h</a></span><span class="op" id="2435676">)</span><span class="op" id="2435677">,</span>&nbsp;<span class="ident" id="2435679">nil</span><br>
<span class="lineno">50</span><span class="op" id="2435683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2435686">func</span>&nbsp;<span class="op" id="2435691">(</span><span class="ident" id="2435692">p</span>&nbsp;<span class="op" id="2435694">*</span><span class="ident" id="2435695"><a href="/os/exec.go.html#2432499">Process</a></span><span class="op" id="2435702">)</span>&nbsp;<span class="ident" id="2435704">kill</span><span class="op" id="2435708">(</span><span class="op" id="2435709">)</span>&nbsp;<span class="builtintype" id="2435711">error</span>&nbsp;<span class="op" id="2435717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435720">return</span>&nbsp;<span class="ident" id="2435727"><a href="/os/exec_posix.go.html#2435692">p</a></span><span class="op" id="2435728">.</span><span class="ident" id="2435729">Signal</span><span class="op" id="2435735">(</span><span class="ident" id="2435736"><a href="/os/exec_posix.go.html#2434832">Kill</a></span><span class="op" id="2435740">)</span><br>
<span class="lineno"></span><span class="op" id="2435742">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="2435745">//&nbsp;ProcessState&nbsp;stores&nbsp;information&nbsp;about&nbsp;a&nbsp;process,&nbsp;as&nbsp;reported&nbsp;by&nbsp;Wait.</span><br>
<span class="lineno"></span><span class="keyword" id="2435818">type</span>&nbsp;<span class="ident" id="2435823">ProcessState</span>&nbsp;<span class="keyword" id="2435836">struct</span>&nbsp;<span class="op" id="2435843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435846">pid</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2435853">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2435872">//&nbsp;The&nbsp;process&#39;s&nbsp;id.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435894">status</span>&nbsp;<span class="ident" id="2435901"><a href="/os/exec_posix.go.html#2434621">syscall</a></span><span class="op" id="2435908">.</span><span class="ident" id="2435909">WaitStatus</span>&nbsp;<span class="comment" id="2435920">//&nbsp;System-dependent&nbsp;status&nbsp;info.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435954">rusage</span>&nbsp;<span class="op" id="2435961">*</span><span class="ident" id="2435962"><a href="/os/exec_posix.go.html#2434621">syscall</a></span><span class="op" id="2435969">.</span><span class="ident" id="2435970">Rusage</span><br>
<span class="lineno"></span><span class="op" id="2435977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2435980">//&nbsp;Pid&nbsp;returns&nbsp;the&nbsp;process&nbsp;id&nbsp;of&nbsp;the&nbsp;exited&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2436033">func</span>&nbsp;<span class="op" id="2436038">(</span><span class="ident" id="2436039">p</span>&nbsp;<span class="op" id="2436041">*</span><span class="ident" id="2436042"><a href="/os/exec_posix.go.html#2435823">ProcessState</a></span><span class="op" id="2436054">)</span>&nbsp;<span class="ident" id="2436056">Pid</span><span class="op" id="2436059">(</span><span class="op" id="2436060">)</span>&nbsp;<span class="builtintype" id="2436062">int</span>&nbsp;<span class="op" id="2436066">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436069">return</span>&nbsp;<span class="ident" id="2436076"><a href="/os/exec_posix.go.html#2436039">p</a></span><span class="op" id="2436077">.</span><span class="ident" id="2436078">pid</span><br>
<span class="lineno"></span><span class="op" id="2436082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2436085">func</span>&nbsp;<span class="op" id="2436090">(</span><span class="ident" id="2436091">p</span>&nbsp;<span class="op" id="2436093">*</span><span class="ident" id="2436094"><a href="/os/exec_posix.go.html#2435823">ProcessState</a></span><span class="op" id="2436106">)</span>&nbsp;<span class="ident" id="2436108">exited</span><span class="op" id="2436114">(</span><span class="op" id="2436115">)</span>&nbsp;<span class="builtintype" id="2436117">bool</span>&nbsp;<span class="op" id="2436122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436125">return</span>&nbsp;<span class="ident" id="2436132"><a href="/os/exec_posix.go.html#2436091">p</a></span><span class="op" id="2436133">.</span><span class="ident" id="2436134">status</span><span class="op" id="2436140">.</span><span class="ident" id="2436141">Exited</span><span class="op" id="2436147">(</span><span class="op" id="2436148">)</span><br>
<span class="lineno">70</span><span class="op" id="2436150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2436153">func</span>&nbsp;<span class="op" id="2436158">(</span><span class="ident" id="2436159">p</span>&nbsp;<span class="op" id="2436161">*</span><span class="ident" id="2436162"><a href="/os/exec_posix.go.html#2435823">ProcessState</a></span><span class="op" id="2436174">)</span>&nbsp;<span class="ident" id="2436176">success</span><span class="op" id="2436183">(</span><span class="op" id="2436184">)</span>&nbsp;<span class="builtintype" id="2436186">bool</span>&nbsp;<span class="op" id="2436191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436194">return</span>&nbsp;<span class="ident" id="2436201"><a href="/os/exec_posix.go.html#2436159">p</a></span><span class="op" id="2436202">.</span><span class="ident" id="2436203">status</span><span class="op" id="2436209">.</span><span class="ident" id="2436210">ExitStatus</span><span class="op" id="2436220">(</span><span class="op" id="2436221">)</span>&nbsp;<span class="op" id="2436223">==</span>&nbsp;<span class="num" id="2436226">0</span><br>
<span class="lineno"></span><span class="op" id="2436228">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="2436231">func</span>&nbsp;<span class="op" id="2436236">(</span><span class="ident" id="2436237">p</span>&nbsp;<span class="op" id="2436239">*</span><span class="ident" id="2436240"><a href="/os/exec_posix.go.html#2435823">ProcessState</a></span><span class="op" id="2436252">)</span>&nbsp;<span class="ident" id="2436254">sys</span><span class="op" id="2436257">(</span><span class="op" id="2436258">)</span>&nbsp;<span class="keyword" id="2436260">interface</span><span class="op" id="2436269">{</span><span class="op" id="2436270">}</span>&nbsp;<span class="op" id="2436272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436275">return</span>&nbsp;<span class="ident" id="2436282"><a href="/os/exec_posix.go.html#2436237">p</a></span><span class="op" id="2436283">.</span><span class="ident" id="2436284">status</span><br>
<span class="lineno"></span><span class="op" id="2436291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="2436294">func</span>&nbsp;<span class="op" id="2436299">(</span><span class="ident" id="2436300">p</span>&nbsp;<span class="op" id="2436302">*</span><span class="ident" id="2436303"><a href="/os/exec_posix.go.html#2435823">ProcessState</a></span><span class="op" id="2436315">)</span>&nbsp;<span class="ident" id="2436317">sysUsage</span><span class="op" id="2436325">(</span><span class="op" id="2436326">)</span>&nbsp;<span class="keyword" id="2436328">interface</span><span class="op" id="2436337">{</span><span class="op" id="2436338">}</span>&nbsp;<span class="op" id="2436340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436343">return</span>&nbsp;<span class="ident" id="2436350"><a href="/os/exec_posix.go.html#2436300">p</a></span><span class="op" id="2436351">.</span><span class="ident" id="2436352">rusage</span><br>
<span class="lineno"></span><span class="op" id="2436359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2436362">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;decimal&nbsp;string.</span><br>
<span class="lineno">85</span><span class="keyword" id="2436394">func</span>&nbsp;<span class="ident" id="2436399">itod</span><span class="op" id="2436403">(</span><span class="ident" id="2436404">i</span>&nbsp;<span class="builtintype" id="2436406">int</span><span class="op" id="2436409">)</span>&nbsp;<span class="builtintype" id="2436411">string</span>&nbsp;<span class="op" id="2436418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436421">if</span>&nbsp;<span class="ident" id="2436424"><a href="/os/exec_posix.go.html#2436404">i</a></span>&nbsp;<span class="op" id="2436426">==</span>&nbsp;<span class="num" id="2436429">0</span>&nbsp;<span class="op" id="2436431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436435">return</span>&nbsp;<span class="string" id="2436442">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436451">u</span>&nbsp;<span class="op" id="2436453">:=</span>&nbsp;<span class="ident" id="2436456">uint64</span><span class="op" id="2436462">(</span><span class="ident" id="2436463"><a href="/os/exec_posix.go.html#2436404">i</a></span><span class="op" id="2436464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436467">if</span>&nbsp;<span class="ident" id="2436470"><a href="/os/exec_posix.go.html#2436404">i</a></span>&nbsp;<span class="op" id="2436472">&lt;</span>&nbsp;<span class="num" id="2436474">0</span>&nbsp;<span class="op" id="2436476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436480"><a href="/os/exec_posix.go.html#2436451">u</a></span>&nbsp;<span class="op" id="2436482">=</span>&nbsp;<span class="op" id="2436484">-</span><span class="ident" id="2436485"><a href="/os/exec_posix.go.html#2436451">u</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2436492">//&nbsp;Assemble&nbsp;decimal&nbsp;in&nbsp;reverse&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436531">var</span>&nbsp;<span class="ident" id="2436535">b</span>&nbsp;<span class="op" id="2436537">[</span><span class="num" id="2436538">32</span><span class="op" id="2436540">]</span><span class="builtintype" id="2436541">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436547">bp</span>&nbsp;<span class="op" id="2436550">:=</span>&nbsp;<span class="builtinfunc" id="2436553">len</span><span class="op" id="2436556">(</span><span class="ident" id="2436557"><a href="/os/exec_posix.go.html#2436535">b</a></span><span class="op" id="2436558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436561">for</span>&nbsp;<span class="op" id="2436565">;</span>&nbsp;<span class="ident" id="2436567"><a href="/os/exec_posix.go.html#2436451">u</a></span>&nbsp;<span class="op" id="2436569">&gt;</span>&nbsp;<span class="num" id="2436571">0</span><span class="op" id="2436572">;</span>&nbsp;<span class="ident" id="2436574"><a href="/os/exec_posix.go.html#2436451">u</a></span>&nbsp;<span class="op" id="2436576">/=</span>&nbsp;<span class="num" id="2436579">10</span>&nbsp;<span class="op" id="2436582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436586"><a href="/os/exec_posix.go.html#2436547">bp</a></span><span class="op" id="2436588">--</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436593"><a href="/os/exec_posix.go.html#2436535">b</a></span><span class="op" id="2436594">[</span><span class="ident" id="2436595"><a href="/os/exec_posix.go.html#2436547">bp</a></span><span class="op" id="2436597">]</span>&nbsp;<span class="op" id="2436599">=</span>&nbsp;<span class="builtintype" id="2436601">byte</span><span class="op" id="2436605">(</span><span class="ident" id="2436606"><a href="/os/exec_posix.go.html#2436451">u</a></span><span class="op" id="2436607">%</span><span class="num" id="2436608">10</span><span class="op" id="2436610">)</span>&nbsp;<span class="op" id="2436612">+</span>&nbsp;<span class="string" id="2436614">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436623">if</span>&nbsp;<span class="ident" id="2436626"><a href="/os/exec_posix.go.html#2436404">i</a></span>&nbsp;<span class="op" id="2436628">&lt;</span>&nbsp;<span class="num" id="2436630">0</span>&nbsp;<span class="op" id="2436632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436636"><a href="/os/exec_posix.go.html#2436547">bp</a></span><span class="op" id="2436638">--</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436643"><a href="/os/exec_posix.go.html#2436535">b</a></span><span class="op" id="2436644">[</span><span class="ident" id="2436645"><a href="/os/exec_posix.go.html#2436547">bp</a></span><span class="op" id="2436647">]</span>&nbsp;<span class="op" id="2436649">=</span>&nbsp;<span class="string" id="2436651">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436660">return</span>&nbsp;<span class="builtintype" id="2436667">string</span><span class="op" id="2436673">(</span><span class="ident" id="2436674"><a href="/os/exec_posix.go.html#2436535">b</a></span><span class="op" id="2436675">[</span><span class="ident" id="2436676"><a href="/os/exec_posix.go.html#2436547">bp</a></span><span class="op" id="2436678">:</span><span class="op" id="2436679">]</span><span class="op" id="2436680">)</span><br>
<span class="lineno"></span><span class="op" id="2436682">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="2436685">func</span>&nbsp;<span class="op" id="2436690">(</span><span class="ident" id="2436691">p</span>&nbsp;<span class="op" id="2436693">*</span><span class="ident" id="2436694"><a href="/os/exec_posix.go.html#2435823">ProcessState</a></span><span class="op" id="2436706">)</span>&nbsp;<span class="ident" id="2436708">String</span><span class="op" id="2436714">(</span><span class="op" id="2436715">)</span>&nbsp;<span class="builtintype" id="2436717">string</span>&nbsp;<span class="op" id="2436724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436727">if</span>&nbsp;<span class="ident" id="2436730"><a href="/os/exec_posix.go.html#2436691">p</a></span>&nbsp;<span class="op" id="2436732">==</span>&nbsp;<span class="ident" id="2436735">nil</span>&nbsp;<span class="op" id="2436739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436743">return</span>&nbsp;<span class="string" id="2436750">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436759">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436762">status</span>&nbsp;<span class="op" id="2436769">:=</span>&nbsp;<span class="ident" id="2436772"><a href="/os/exec_posix.go.html#2436691">p</a></span><span class="op" id="2436773">.</span><span class="ident" id="2436774">Sys</span><span class="op" id="2436777">(</span><span class="op" id="2436778">)</span><span class="op" id="2436779">.</span><span class="op" id="2436780">(</span><span class="ident" id="2436781"><a href="/os/exec_posix.go.html#2434621">syscall</a></span><span class="op" id="2436788">.</span><span class="ident" id="2436789">WaitStatus</span><span class="op" id="2436799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436802">res</span>&nbsp;<span class="op" id="2436806">:=</span>&nbsp;<span class="string" id="2436809">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436813">switch</span>&nbsp;<span class="op" id="2436820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436823">case</span>&nbsp;<span class="ident" id="2436828"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2436834">.</span><span class="ident" id="2436835">Exited</span><span class="op" id="2436841">(</span><span class="op" id="2436842">)</span><span class="op" id="2436843">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436847"><a href="/os/exec_posix.go.html#2436802">res</a></span>&nbsp;<span class="op" id="2436851">=</span>&nbsp;<span class="string" id="2436853">&#34;exit&nbsp;status&nbsp;&#34;</span>&nbsp;<span class="op" id="2436868">+</span>&nbsp;<span class="ident" id="2436870"><a href="/os/exec_posix.go.html#2436399">itod</a></span><span class="op" id="2436874">(</span><span class="ident" id="2436875"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2436881">.</span><span class="ident" id="2436882">ExitStatus</span><span class="op" id="2436892">(</span><span class="op" id="2436893">)</span><span class="op" id="2436894">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436897">case</span>&nbsp;<span class="ident" id="2436902"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2436908">.</span><span class="ident" id="2436909">Signaled</span><span class="op" id="2436917">(</span><span class="op" id="2436918">)</span><span class="op" id="2436919">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436923"><a href="/os/exec_posix.go.html#2436802">res</a></span>&nbsp;<span class="op" id="2436927">=</span>&nbsp;<span class="string" id="2436929">&#34;signal:&nbsp;&#34;</span>&nbsp;<span class="op" id="2436940">+</span>&nbsp;<span class="ident" id="2436942"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2436948">.</span><span class="ident" id="2436949">Signal</span><span class="op" id="2436955">(</span><span class="op" id="2436956">)</span><span class="op" id="2436957">.</span><span class="ident" id="2436958">String</span><span class="op" id="2436964">(</span><span class="op" id="2436965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436968">case</span>&nbsp;<span class="ident" id="2436973"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2436979">.</span><span class="ident" id="2436980">Stopped</span><span class="op" id="2436987">(</span><span class="op" id="2436988">)</span><span class="op" id="2436989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436993"><a href="/os/exec_posix.go.html#2436802">res</a></span>&nbsp;<span class="op" id="2436997">=</span>&nbsp;<span class="string" id="2436999">&#34;stop&nbsp;signal:&nbsp;&#34;</span>&nbsp;<span class="op" id="2437015">+</span>&nbsp;<span class="ident" id="2437017"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2437023">.</span><span class="ident" id="2437024">StopSignal</span><span class="op" id="2437034">(</span><span class="op" id="2437035">)</span><span class="op" id="2437036">.</span><span class="ident" id="2437037">String</span><span class="op" id="2437043">(</span><span class="op" id="2437044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437048">if</span>&nbsp;<span class="ident" id="2437051"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2437057">.</span><span class="ident" id="2437058">StopSignal</span><span class="op" id="2437068">(</span><span class="op" id="2437069">)</span>&nbsp;<span class="op" id="2437071">==</span>&nbsp;<span class="ident" id="2437074"><a href="/os/exec_posix.go.html#2434621">syscall</a></span><span class="op" id="2437081">.</span><span class="ident" id="2437082">SIGTRAP</span>&nbsp;<span class="op" id="2437090">&amp;&amp;</span>&nbsp;<span class="ident" id="2437093"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2437099">.</span><span class="ident" id="2437100">TrapCause</span><span class="op" id="2437109">(</span><span class="op" id="2437110">)</span>&nbsp;<span class="op" id="2437112">!=</span>&nbsp;<span class="num" id="2437115">0</span>&nbsp;<span class="op" id="2437117">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437122"><a href="/os/exec_posix.go.html#2436802">res</a></span>&nbsp;<span class="op" id="2437126">+=</span>&nbsp;<span class="string" id="2437129">&#34;&nbsp;(trap&nbsp;&#34;</span>&nbsp;<span class="op" id="2437139">+</span>&nbsp;<span class="ident" id="2437141"><a href="/os/exec_posix.go.html#2436399">itod</a></span><span class="op" id="2437145">(</span><span class="ident" id="2437146"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2437152">.</span><span class="ident" id="2437153">TrapCause</span><span class="op" id="2437162">(</span><span class="op" id="2437163">)</span><span class="op" id="2437164">)</span>&nbsp;<span class="op" id="2437166">+</span>&nbsp;<span class="string" id="2437168">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2437174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437177">case</span>&nbsp;<span class="ident" id="2437182"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2437188">.</span><span class="ident" id="2437189">Continued</span><span class="op" id="2437198">(</span><span class="op" id="2437199">)</span><span class="op" id="2437200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437204"><a href="/os/exec_posix.go.html#2436802">res</a></span>&nbsp;<span class="op" id="2437208">=</span>&nbsp;<span class="string" id="2437210">&#34;continued&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2437223">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437226">if</span>&nbsp;<span class="ident" id="2437229"><a href="/os/exec_posix.go.html#2436762">status</a></span><span class="op" id="2437235">.</span><span class="ident" id="2437236">CoreDump</span><span class="op" id="2437244">(</span><span class="op" id="2437245">)</span>&nbsp;<span class="op" id="2437247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437251"><a href="/os/exec_posix.go.html#2436802">res</a></span>&nbsp;<span class="op" id="2437255">+=</span>&nbsp;<span class="string" id="2437258">&#34;&nbsp;(core&nbsp;dumped)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2437276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437279">return</span>&nbsp;<span class="ident" id="2437286"><a href="/os/exec_posix.go.html#2436802">res</a></span><br>
<span class="lineno"></span><span class="op" id="2437290">}</span>
</div>
</body>
</html>
