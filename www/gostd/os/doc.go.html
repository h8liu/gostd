<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html" class="current">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2316298">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2316353">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2316407">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2316458">package</span>&nbsp;<span class="ident" id="2316466">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2316470">import</span>&nbsp;<span class="string" id="2316477">&#34;time&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2316485">//&nbsp;FindProcess&nbsp;looks&nbsp;for&nbsp;a&nbsp;running&nbsp;process&nbsp;by&nbsp;its&nbsp;pid.</span><br>
<span class="lineno">10</span><span class="comment" id="2316540">//&nbsp;The&nbsp;Process&nbsp;it&nbsp;returns&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;obtain&nbsp;information</span><br>
<span class="lineno"></span><span class="comment" id="2316600">//&nbsp;about&nbsp;the&nbsp;underlying&nbsp;operating&nbsp;system&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2316650">func</span>&nbsp;<span class="ident" id="2316655">FindProcess</span><span class="op" id="2316666">(</span><span class="ident" id="2316667">pid</span>&nbsp;<span class="builtintype" id="2316671">int</span><span class="op" id="2316674">)</span>&nbsp;<span class="op" id="2316676">(</span><span class="ident" id="2316677">p</span>&nbsp;<span class="op" id="2316679">*</span><span class="ident" id="2316680">Process</span><span class="op" id="2316687">,</span>&nbsp;<span class="ident" id="2316689">err</span>&nbsp;<span class="builtintype" id="2316693">error</span><span class="op" id="2316698">)</span>&nbsp;<span class="op" id="2316700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2316703">return</span>&nbsp;<span class="ident" id="2316710">findProcess</span><span class="op" id="2316721">(</span><span class="ident" id="2316722">pid</span><span class="op" id="2316725">)</span><br>
<span class="lineno"></span><span class="op" id="2316727">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2316730">//&nbsp;StartProcess&nbsp;starts&nbsp;a&nbsp;new&nbsp;process&nbsp;with&nbsp;the&nbsp;program,&nbsp;arguments&nbsp;and&nbsp;attributes</span><br>
<span class="lineno"></span><span class="comment" id="2316810">//&nbsp;specified&nbsp;by&nbsp;name,&nbsp;argv&nbsp;and&nbsp;attr.</span><br>
<span class="lineno"></span><span class="comment" id="2316847">//</span><br>
<span class="lineno"></span><span class="comment" id="2316850">//&nbsp;StartProcess&nbsp;is&nbsp;a&nbsp;low-level&nbsp;interface.&nbsp;The&nbsp;os/exec&nbsp;package&nbsp;provides</span><br>
<span class="lineno">20</span><span class="comment" id="2316921">//&nbsp;higher-level&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="comment" id="2316949">//</span><br>
<span class="lineno"></span><span class="comment" id="2316952">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2317008">func</span>&nbsp;<span class="ident" id="2317013">StartProcess</span><span class="op" id="2317025">(</span><span class="ident" id="2317026">name</span>&nbsp;<span class="builtintype" id="2317031">string</span><span class="op" id="2317037">,</span>&nbsp;<span class="ident" id="2317039">argv</span>&nbsp;<span class="op" id="2317044">[</span><span class="op" id="2317045">]</span><span class="builtintype" id="2317046">string</span><span class="op" id="2317052">,</span>&nbsp;<span class="ident" id="2317054">attr</span>&nbsp;<span class="op" id="2317059">*</span><span class="ident" id="2317060">ProcAttr</span><span class="op" id="2317068">)</span>&nbsp;<span class="op" id="2317070">(</span><span class="op" id="2317071">*</span><span class="ident" id="2317072">Process</span><span class="op" id="2317079">,</span>&nbsp;<span class="builtintype" id="2317081">error</span><span class="op" id="2317086">)</span>&nbsp;<span class="op" id="2317088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2317091">return</span>&nbsp;<span class="ident" id="2317098">startProcess</span><span class="op" id="2317110">(</span><span class="ident" id="2317111">name</span><span class="op" id="2317115">,</span>&nbsp;<span class="ident" id="2317117">argv</span><span class="op" id="2317121">,</span>&nbsp;<span class="ident" id="2317123">attr</span><span class="op" id="2317127">)</span><br>
<span class="lineno">25</span><span class="op" id="2317129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2317132">//&nbsp;Release&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process&nbsp;p,</span><br>
<span class="lineno"></span><span class="comment" id="2317197">//&nbsp;rendering&nbsp;it&nbsp;unusable&nbsp;in&nbsp;the&nbsp;future.</span><br>
<span class="lineno"></span><span class="comment" id="2317237">//&nbsp;Release&nbsp;only&nbsp;needs&nbsp;to&nbsp;be&nbsp;called&nbsp;if&nbsp;Wait&nbsp;is&nbsp;not.</span><br>
<span class="lineno">30</span><span class="keyword" id="2317288">func</span>&nbsp;<span class="op" id="2317293">(</span><span class="ident" id="2317294">p</span>&nbsp;<span class="op" id="2317296">*</span><span class="ident" id="2317297">Process</span><span class="op" id="2317304">)</span>&nbsp;<span class="ident" id="2317306">Release</span><span class="op" id="2317313">(</span><span class="op" id="2317314">)</span>&nbsp;<span class="builtintype" id="2317316">error</span>&nbsp;<span class="op" id="2317322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2317325">return</span>&nbsp;<span class="ident" id="2317332">p</span><span class="op" id="2317333">.</span><span class="ident" id="2317334">release</span><span class="op" id="2317341">(</span><span class="op" id="2317342">)</span><br>
<span class="lineno"></span><span class="op" id="2317344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2317347">//&nbsp;Kill&nbsp;causes&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit&nbsp;immediately.</span><br>
<span class="lineno">35</span><span class="keyword" id="2317395">func</span>&nbsp;<span class="op" id="2317400">(</span><span class="ident" id="2317401">p</span>&nbsp;<span class="op" id="2317403">*</span><span class="ident" id="2317404">Process</span><span class="op" id="2317411">)</span>&nbsp;<span class="ident" id="2317413">Kill</span><span class="op" id="2317417">(</span><span class="op" id="2317418">)</span>&nbsp;<span class="builtintype" id="2317420">error</span>&nbsp;<span class="op" id="2317426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2317429">return</span>&nbsp;<span class="ident" id="2317436">p</span><span class="op" id="2317437">.</span><span class="ident" id="2317438">kill</span><span class="op" id="2317442">(</span><span class="op" id="2317443">)</span><br>
<span class="lineno"></span><span class="op" id="2317445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2317448">//&nbsp;Wait&nbsp;waits&nbsp;for&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit,&nbsp;and&nbsp;then&nbsp;returns&nbsp;a</span><br>
<span class="lineno">40</span><span class="comment" id="2317506">//&nbsp;ProcessState&nbsp;describing&nbsp;its&nbsp;status&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2317566">//&nbsp;Wait&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2317626">//&nbsp;On&nbsp;most&nbsp;operating&nbsp;systems,&nbsp;the&nbsp;Process&nbsp;must&nbsp;be&nbsp;a&nbsp;child</span><br>
<span class="lineno"></span><span class="comment" id="2317684">//&nbsp;of&nbsp;the&nbsp;current&nbsp;process&nbsp;or&nbsp;an&nbsp;error&nbsp;will&nbsp;be&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="2317740">func</span>&nbsp;<span class="op" id="2317745">(</span><span class="ident" id="2317746">p</span>&nbsp;<span class="op" id="2317748">*</span><span class="ident" id="2317749">Process</span><span class="op" id="2317756">)</span>&nbsp;<span class="ident" id="2317758">Wait</span><span class="op" id="2317762">(</span><span class="op" id="2317763">)</span>&nbsp;<span class="op" id="2317765">(</span><span class="op" id="2317766">*</span><span class="ident" id="2317767">ProcessState</span><span class="op" id="2317779">,</span>&nbsp;<span class="builtintype" id="2317781">error</span><span class="op" id="2317786">)</span>&nbsp;<span class="op" id="2317788">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2317791">return</span>&nbsp;<span class="ident" id="2317798">p</span><span class="op" id="2317799">.</span><span class="ident" id="2317800">wait</span><span class="op" id="2317804">(</span><span class="op" id="2317805">)</span><br>
<span class="lineno"></span><span class="op" id="2317807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2317810">//&nbsp;Signal&nbsp;sends&nbsp;a&nbsp;signal&nbsp;to&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2317851">//&nbsp;Sending&nbsp;Interrupt&nbsp;on&nbsp;Windows&nbsp;is&nbsp;not&nbsp;implemented.</span><br>
<span class="lineno">50</span><span class="keyword" id="2317903">func</span>&nbsp;<span class="op" id="2317908">(</span><span class="ident" id="2317909">p</span>&nbsp;<span class="op" id="2317911">*</span><span class="ident" id="2317912">Process</span><span class="op" id="2317919">)</span>&nbsp;<span class="ident" id="2317921">Signal</span><span class="op" id="2317927">(</span><span class="ident" id="2317928">sig</span>&nbsp;<span class="ident" id="2317932">Signal</span><span class="op" id="2317938">)</span>&nbsp;<span class="builtintype" id="2317940">error</span>&nbsp;<span class="op" id="2317946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2317949">return</span>&nbsp;<span class="ident" id="2317956">p</span><span class="op" id="2317957">.</span><span class="ident" id="2317958">signal</span><span class="op" id="2317964">(</span><span class="ident" id="2317965">sig</span><span class="op" id="2317968">)</span><br>
<span class="lineno"></span><span class="op" id="2317970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2317973">//&nbsp;UserTime&nbsp;returns&nbsp;the&nbsp;user&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">55</span><span class="keyword" id="2318051">func</span>&nbsp;<span class="op" id="2318056">(</span><span class="ident" id="2318057">p</span>&nbsp;<span class="op" id="2318059">*</span><span class="ident" id="2318060">ProcessState</span><span class="op" id="2318072">)</span>&nbsp;<span class="ident" id="2318074">UserTime</span><span class="op" id="2318082">(</span><span class="op" id="2318083">)</span>&nbsp;<span class="ident" id="2318085">time</span><span class="op" id="2318089">.</span><span class="ident" id="2318090">Duration</span>&nbsp;<span class="op" id="2318099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2318102">return</span>&nbsp;<span class="ident" id="2318109">p</span><span class="op" id="2318110">.</span><span class="ident" id="2318111">userTime</span><span class="op" id="2318119">(</span><span class="op" id="2318120">)</span><br>
<span class="lineno"></span><span class="op" id="2318122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2318125">//&nbsp;SystemTime&nbsp;returns&nbsp;the&nbsp;system&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">60</span><span class="keyword" id="2318207">func</span>&nbsp;<span class="op" id="2318212">(</span><span class="ident" id="2318213">p</span>&nbsp;<span class="op" id="2318215">*</span><span class="ident" id="2318216">ProcessState</span><span class="op" id="2318228">)</span>&nbsp;<span class="ident" id="2318230">SystemTime</span><span class="op" id="2318240">(</span><span class="op" id="2318241">)</span>&nbsp;<span class="ident" id="2318243">time</span><span class="op" id="2318247">.</span><span class="ident" id="2318248">Duration</span>&nbsp;<span class="op" id="2318257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2318260">return</span>&nbsp;<span class="ident" id="2318267">p</span><span class="op" id="2318268">.</span><span class="ident" id="2318269">systemTime</span><span class="op" id="2318279">(</span><span class="op" id="2318280">)</span><br>
<span class="lineno"></span><span class="op" id="2318282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2318285">//&nbsp;Exited&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;has&nbsp;exited.</span><br>
<span class="lineno">65</span><span class="keyword" id="2318335">func</span>&nbsp;<span class="op" id="2318340">(</span><span class="ident" id="2318341">p</span>&nbsp;<span class="op" id="2318343">*</span><span class="ident" id="2318344">ProcessState</span><span class="op" id="2318356">)</span>&nbsp;<span class="ident" id="2318358">Exited</span><span class="op" id="2318364">(</span><span class="op" id="2318365">)</span>&nbsp;<span class="builtintype" id="2318367">bool</span>&nbsp;<span class="op" id="2318372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2318375">return</span>&nbsp;<span class="ident" id="2318382">p</span><span class="op" id="2318383">.</span><span class="ident" id="2318384">exited</span><span class="op" id="2318390">(</span><span class="op" id="2318391">)</span><br>
<span class="lineno"></span><span class="op" id="2318393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2318396">//&nbsp;Success&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;exited&nbsp;successfully,</span><br>
<span class="lineno">70</span><span class="comment" id="2318456">//&nbsp;such&nbsp;as&nbsp;with&nbsp;exit&nbsp;status&nbsp;0&nbsp;on&nbsp;Unix.</span><br>
<span class="lineno"></span><span class="keyword" id="2318495">func</span>&nbsp;<span class="op" id="2318500">(</span><span class="ident" id="2318501">p</span>&nbsp;<span class="op" id="2318503">*</span><span class="ident" id="2318504">ProcessState</span><span class="op" id="2318516">)</span>&nbsp;<span class="ident" id="2318518">Success</span><span class="op" id="2318525">(</span><span class="op" id="2318526">)</span>&nbsp;<span class="builtintype" id="2318528">bool</span>&nbsp;<span class="op" id="2318533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2318536">return</span>&nbsp;<span class="ident" id="2318543">p</span><span class="op" id="2318544">.</span><span class="ident" id="2318545">success</span><span class="op" id="2318552">(</span><span class="op" id="2318553">)</span><br>
<span class="lineno"></span><span class="op" id="2318555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2318558">//&nbsp;Sys&nbsp;returns&nbsp;system-dependent&nbsp;exit&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2318613">//&nbsp;the&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2318671">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;syscall.WaitStatus&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno"></span><span class="keyword" id="2318740">func</span>&nbsp;<span class="op" id="2318745">(</span><span class="ident" id="2318746">p</span>&nbsp;<span class="op" id="2318748">*</span><span class="ident" id="2318749">ProcessState</span><span class="op" id="2318761">)</span>&nbsp;<span class="ident" id="2318763">Sys</span><span class="op" id="2318766">(</span><span class="op" id="2318767">)</span>&nbsp;<span class="keyword" id="2318769">interface</span><span class="op" id="2318778">{</span><span class="op" id="2318779">}</span>&nbsp;<span class="op" id="2318781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2318784">return</span>&nbsp;<span class="ident" id="2318791">p</span><span class="op" id="2318792">.</span><span class="ident" id="2318793">sys</span><span class="op" id="2318796">(</span><span class="op" id="2318797">)</span><br>
<span class="lineno">80</span><span class="op" id="2318799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2318802">//&nbsp;SysUsage&nbsp;returns&nbsp;system-dependent&nbsp;resource&nbsp;usage&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2318872">//&nbsp;the&nbsp;exited&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2318937">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;*syscall.Rusage&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno">85</span><span class="comment" id="2319003">//&nbsp;(On&nbsp;Unix,&nbsp;*syscall.Rusage&nbsp;matches&nbsp;struct&nbsp;rusage&nbsp;as&nbsp;defined&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2319072">//&nbsp;getrusage(2)&nbsp;manual&nbsp;page.)</span><br>
<span class="lineno"></span><span class="keyword" id="2319102">func</span>&nbsp;<span class="op" id="2319107">(</span><span class="ident" id="2319108">p</span>&nbsp;<span class="op" id="2319110">*</span><span class="ident" id="2319111">ProcessState</span><span class="op" id="2319123">)</span>&nbsp;<span class="ident" id="2319125">SysUsage</span><span class="op" id="2319133">(</span><span class="op" id="2319134">)</span>&nbsp;<span class="keyword" id="2319136">interface</span><span class="op" id="2319145">{</span><span class="op" id="2319146">}</span>&nbsp;<span class="op" id="2319148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2319151">return</span>&nbsp;<span class="ident" id="2319158">p</span><span class="op" id="2319159">.</span><span class="ident" id="2319160">sysUsage</span><span class="op" id="2319168">(</span><span class="op" id="2319169">)</span><br>
<span class="lineno"></span><span class="op" id="2319171">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2319174">//&nbsp;Hostname&nbsp;returns&nbsp;the&nbsp;host&nbsp;name&nbsp;reported&nbsp;by&nbsp;the&nbsp;kernel.</span><br>
<span class="lineno"></span><span class="keyword" id="2319232">func</span>&nbsp;<span class="ident" id="2319237">Hostname</span><span class="op" id="2319245">(</span><span class="op" id="2319246">)</span>&nbsp;<span class="op" id="2319248">(</span><span class="ident" id="2319249">name</span>&nbsp;<span class="builtintype" id="2319254">string</span><span class="op" id="2319260">,</span>&nbsp;<span class="ident" id="2319262">err</span>&nbsp;<span class="builtintype" id="2319266">error</span><span class="op" id="2319271">)</span>&nbsp;<span class="op" id="2319273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2319276">return</span>&nbsp;<span class="ident" id="2319283">hostname</span><span class="op" id="2319291">(</span><span class="op" id="2319292">)</span><br>
<span class="lineno"></span><span class="op" id="2319294">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="2319297">//&nbsp;Readdir&nbsp;reads&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;directory&nbsp;associated&nbsp;with&nbsp;file&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2319369">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;up&nbsp;to&nbsp;n&nbsp;FileInfo&nbsp;values,&nbsp;as&nbsp;would&nbsp;be&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="2319437">//&nbsp;by&nbsp;Lstat,&nbsp;in&nbsp;directory&nbsp;order.&nbsp;Subsequent&nbsp;calls&nbsp;on&nbsp;the&nbsp;same&nbsp;file&nbsp;will&nbsp;yield</span><br>
<span class="lineno"></span><span class="comment" id="2319515">//&nbsp;further&nbsp;FileInfos.</span><br>
<span class="lineno">100</span><span class="comment" id="2319537">//</span><br>
<span class="lineno"></span><span class="comment" id="2319540">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;FileInfo&nbsp;structures.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2319617">//&nbsp;Readdir&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2319683">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2319750">//</span><br>
<span class="lineno">105</span><span class="comment" id="2319753">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;all&nbsp;the&nbsp;FileInfo&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2319822">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdir&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2319886">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2319954">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2320016">//&nbsp;directory,&nbsp;Readdir&nbsp;returns&nbsp;the&nbsp;FileInfo&nbsp;read&nbsp;until&nbsp;that&nbsp;point</span><br>
<span class="lineno">110</span><span class="comment" id="2320081">//&nbsp;and&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2320105">func</span>&nbsp;<span class="op" id="2320110">(</span><span class="ident" id="2320111">f</span>&nbsp;<span class="op" id="2320113">*</span><span class="ident" id="2320114">File</span><span class="op" id="2320118">)</span>&nbsp;<span class="ident" id="2320120">Readdir</span><span class="op" id="2320127">(</span><span class="ident" id="2320128">n</span>&nbsp;<span class="builtintype" id="2320130">int</span><span class="op" id="2320133">)</span>&nbsp;<span class="op" id="2320135">(</span><span class="ident" id="2320136">fi</span>&nbsp;<span class="op" id="2320139">[</span><span class="op" id="2320140">]</span><span class="ident" id="2320141">FileInfo</span><span class="op" id="2320149">,</span>&nbsp;<span class="ident" id="2320151">err</span>&nbsp;<span class="builtintype" id="2320155">error</span><span class="op" id="2320160">)</span>&nbsp;<span class="op" id="2320162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2320165">if</span>&nbsp;<span class="ident" id="2320168">f</span>&nbsp;<span class="op" id="2320170">==</span>&nbsp;<span class="builtintype" id="2320173">nil</span>&nbsp;<span class="op" id="2320177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2320181">return</span>&nbsp;<span class="builtintype" id="2320188">nil</span><span class="op" id="2320191">,</span>&nbsp;<span class="ident" id="2320193">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2320205">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2320208">return</span>&nbsp;<span class="ident" id="2320215">f</span><span class="op" id="2320216">.</span><span class="ident" id="2320217">readdir</span><span class="op" id="2320224">(</span><span class="ident" id="2320225">n</span><span class="op" id="2320226">)</span><br>
<span class="lineno"></span><span class="op" id="2320228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2320231">//&nbsp;Readdirnames&nbsp;reads&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="2320304">//</span><br>
<span class="lineno">120</span><span class="comment" id="2320307">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;names.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2320375">//&nbsp;Readdirnames&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2320446">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2320513">//</span><br>
<span class="lineno"></span><span class="comment" id="2320516">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;all&nbsp;the&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno">125</span><span class="comment" id="2320587">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdirnames&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2320656">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2320724">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2320786">//&nbsp;directory,&nbsp;Readdirnames&nbsp;returns&nbsp;the&nbsp;names&nbsp;read&nbsp;until&nbsp;that&nbsp;point&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2320857">//&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno">130</span><span class="keyword" id="2320877">func</span>&nbsp;<span class="op" id="2320882">(</span><span class="ident" id="2320883">f</span>&nbsp;<span class="op" id="2320885">*</span><span class="ident" id="2320886">File</span><span class="op" id="2320890">)</span>&nbsp;<span class="ident" id="2320892">Readdirnames</span><span class="op" id="2320904">(</span><span class="ident" id="2320905">n</span>&nbsp;<span class="builtintype" id="2320907">int</span><span class="op" id="2320910">)</span>&nbsp;<span class="op" id="2320912">(</span><span class="ident" id="2320913">names</span>&nbsp;<span class="op" id="2320919">[</span><span class="op" id="2320920">]</span><span class="builtintype" id="2320921">string</span><span class="op" id="2320927">,</span>&nbsp;<span class="ident" id="2320929">err</span>&nbsp;<span class="builtintype" id="2320933">error</span><span class="op" id="2320938">)</span>&nbsp;<span class="op" id="2320940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2320943">if</span>&nbsp;<span class="ident" id="2320946">f</span>&nbsp;<span class="op" id="2320948">==</span>&nbsp;<span class="builtintype" id="2320951">nil</span>&nbsp;<span class="op" id="2320955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2320959">return</span>&nbsp;<span class="builtintype" id="2320966">nil</span><span class="op" id="2320969">,</span>&nbsp;<span class="ident" id="2320971">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2320983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2320986">return</span>&nbsp;<span class="ident" id="2320993">f</span><span class="op" id="2320994">.</span><span class="ident" id="2320995">readdirnames</span><span class="op" id="2321007">(</span><span class="ident" id="2321008">n</span><span class="op" id="2321009">)</span><br>
<span class="lineno">135</span><span class="op" id="2321011">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
